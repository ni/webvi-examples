!function(){"use strict";NationalInstruments.HtmlVI.Elements.GraphLegend=class extends window.JQX.BaseElement{static get properties(){return Object.assign({},super.properties,{graphRef:{value:"",type:"string"},isInEditMode:{value:!1,type:"boolean"}})}findGraph(){return document.querySelector("ni-cartesian-graph[graph-ref='"+this.graphRef+"']")||document.querySelector("ni-chart[graph-ref='"+this.graphRef+"']")||document.querySelector("ni-intensity-graph[graph-ref='"+this.graphRef+"']")||document.querySelector("ni-cartesian-graph[ni-control-id='"+this.graphRef+"']")||document.querySelector("ni-chart[ni-control-id='"+this.graphRef+"']")||document.querySelector("ni-intensity-graph[ni-control-id='"+this.graphRef+"']")}template(){return""}}}(),function(){"use strict";var e=NationalInstruments.HtmlVI.NISupport,t=NationalInstruments.Globals.jQuery;NationalInstruments.HtmlVI.Elements.LegendHelpers=function(e,t){this.helpers=e,this.legendItemDisplay=t};var i=NationalInstruments.HtmlVI.Elements.LegendHelpers.prototype;i.addButtons=function(e,i,n){var s,a,l=this;e.children.forEach(function(e){(s=document.createElement("button")).type="button",s.className="ni-button",t(s).jqxToggleButton({toggled:!1}),""!==e.cssClass&&s.classList.add(e.cssClass),t(s).on("click",function(){t(a).jqxToggleButton("toggle"),a=this,l.helpers.handleClick(e.name,null,n),l.legendItemDisplay.updateShape(n)});var r=l.helpers.getState(e.name,n);void 0!==r&&(t(s).jqxToggleButton({toggled:r}),!0===r&&(a=s)),i.appendChild(s)})},i.addComboBox=function(i,n,s,a){var l,r=this,o=0,d=!0;for(t(n).jqxDropDownList({width:"100%",dropDownHeight:26*i.children.length}),l=0;l<i.children.length;l++){var c=e.i18n(i.children[l].tag);"[msg_"===c.substring(0,5)&&(c=i.name),t(n).jqxDropDownList("addItem",{id:i.children[l].name,html:'<div style="width: 100%"><span class="ni-selector-title">'+c+'</span><div class="ni-selector-icon '+i.children[l].cssClass+'" style="background-size: '+a+"px 16px; width: "+(a+4)+'px; "></div></div>'}),!0===this.helpers.getState(i.children[l].name,s)&&(o=l)}t(n).on("select",function(e){var t=e.args;!0!==d&&(r.helpers.handleClick(t.item.label.id,null,s),r.legendItemDisplay.updateShape(s))}),t(n).jqxDropDownList({selectedIndex:o}),d=!1},i.getTextElementByColor=function(e){if("transparent"===e||""===e.hex)return t('<div class="ni-colorbox-content">transparent</div>');var i=t('<div class="ni-colorbox-content">#'+e.hex+"</div>"),n=255-(.299*e.r+.587*e.g+.114*e.b)<105?"Black":"White";return i.css("color",n),i.css("background","#"+e.hex),i.addClass("jqx-rc-all"),i},i.addColorBox=function(e,i,n){var s=this,a=document.createElement("div");t(i).append(a);var l=document.createElement("div");l.className="legend-colorbox-colorbox",a.appendChild(l),t(l).jqxColorPicker({width:"200px",height:"220px",colorMode:"hue"}),t(l).on("colorchange",function(a){t(i).jqxDropDownButton("setContent",s.getTextElementByColor(a.args.color)),s.helpers.handleClick(e.name,a.args.color,n),s.legendItemDisplay.updateShape(n)}),t(i).jqxDropDownButton({width:"inherit"});var r=this.helpers.getState(e.name,n),o=t.color.parse(r);t(i).jqxDropDownButton("setContent",this.getTextElementByColor(new t.jqx.color({rgb:o})))},i.addCheckBox=function(e,i,n){var s=this,a=t(i).jqxCheckBox();a.className="legend-checkbox",t(a).on("change",function(t){s.helpers.handleClick(e.name,t.args.checked,n)});var l=s.helpers.getState(e.name,n);void 0!==l&&t(a).jqxCheckBox({checked:l})}}(),function(){"use strict";JQX("ni-light-plot-legend",class extends window.JQX.BaseElement{static get properties(){return Object.assign({},super.properties,{show:{value:!1,type:"boolean"},graphRef:{value:"",type:"string"},position:{value:"container",type:"string"}})}findGraph(){return document.querySelector("ni-cartesian-graph[graph-ref='"+this.graphRef+"']")||document.querySelector("ni-chart[graph-ref='"+this.graphRef+"']")}propertyChangedHandler(e,t,i){super.propertyChangedHandler(e,t,i);var n=this.findGraph();switch(e){case"position":case"show":for(;this.hasChildNodes();)this.removeChild(this.firstChild)}n&&n.updateGraphConfig()}})}(),JQX.Elements.whenRegistered("ni-cartesian-graph",function(e){e.addModule(NILightLegendModule)}),JQX.Elements.whenRegistered("ni-chart",function(e){e.addModule(NILightLegendModule)});class NILightLegendModule{static get moduleName(){return"NILightLegendModule"}getSettings(){var e=this.ownerElement.getSettingsWorkaround(),t=this.findLegend(this.ownerElement.graphRef);if(!t)return e;var i={show:t.show,container:function(e){var t=null;return"nw"!==e.position&&"ne"!==e.position&&"sw"!==e.position&&"se"!==e.position&&(e.hasChildNodes()?t=e.lastChild:(t=document.createElement("div"),e.appendChild(t))),t}(t),position:t.position,margin:5};return e.legend=i,e}findLegend(e){return document.querySelector("ni-light-plot-legend[graph-ref='"+e+"']")}}!function(){"use strict";var e=NationalInstruments.HtmlVI.NISupport,t=NationalInstruments.Globals.jQuery,i=function(e){e.createRow(e.tbl,e.nPlots),e.helpers.addRenderer(e.nPlots),e.nPlots++},n=function(e,t){e.removeRow(e.tbl,t),e.helpers.clearRenderer(t),e.nPlots--};JQX("ni-plot-legend",class extends NationalInstruments.HtmlVI.Elements.GraphLegend{static get properties(){return Object.assign({},super.properties,{mode:{value:"full",type:"string"}})}created(){super.created(),this.tbl=void 0,this.nPlots=0,this.currentExpander=null,this.helpers=new NationalInstruments.HtmlVI.Elements.PlotLegendHelpers,this.plotLegendItemDisplay=new NationalInstruments.HtmlVI.Elements.PlotLegendItemDisplay(this.helpers),this.uihelpers=new NationalInstruments.HtmlVI.Elements.LegendHelpers(this.helpers,this.plotLegendItemDisplay),this.deferLegendUpdates=!1}plotAdded(){this.deferLegendUpdates||i(this)}plotRemoved(e){this.deferLegendUpdates||n(this,e)}syncPlotLegendWithGraph(){if(this.deferLegendUpdates){var e=this.findGraph();if(!e)return;for(var t=e.plots.length;t<this.nPlots;){var s=this.nPlots-1;n(this,s)}for(;t>this.nPlots;)i(this)}}createRows(){var e;for(e=0;e<this.nPlots;e++)this.createRow(this.tbl,e)}removeRows(){var e;for(e=this.nPlots-1;e>=0;e--)this.removeRow(this.tbl,e)}throttlePlotUpdates(e){var t=this.findGraph();null!==t&&(t.throttlePlotUpdates(e),this.deferLegendUpdates=e)}attachToGraph(e){this.detachFromGraph(),e&&e.isReady&&(this.helpers.graph=e,this.nPlots=e.plots.length,this.createRows(),e.registerPlotLegend(this))}detachFromGraph(){this.helpers.clearCache(),this.helpers.graph=null,this.removeRows(),this.nPlots=0}attached(){var e,t=this;super.attached(),this.helpers.graph=this.findGraph(),this.helpers.isInEditMode=this.isInEditMode,(e=document.createElement("div")).style.width="100%",e.style.height="100%",e.style.overflowX="auto",e.style.overflowY="hidden",this.appendChild(e),this.tbl=document.createElement("table"),this.tbl.style.width="100%",this.tbl.style.height="100%",e.appendChild(this.tbl),this.addEventListener("ni-cartesian-plot-attached",function(){t.plotAdded(),t.helpers.clearCache()}),this.addEventListener("ni-cartesian-plot-detached",function(e){var i,n=e.detail.originalSource;i=t.helpers.getIndex(n),t.plotRemoved(i),t.helpers.clearCache()}),this.addEventListener("ni-cartesian-plot-changed",function(e){var i,n=e.detail.originalSource;i=t.helpers.getIndex(n),t.updatePlotName(i,t.helpers.getPlotName(i))}),this.addEventListener("ni-cartesian-plot-renderer-changed",function(e){var i,n=e.detail.originalSource;i=t.helpers.rendererToIndex(n),t.plotLegendItemDisplay.updateShape(i)}),this.addEventListener("ni-cartesian-plot-renderer-attached",function(e){var i,n=e.detail.originalSource;t.helpers.clearCache(),i=t.helpers.rendererToIndex(n),t.plotLegendItemDisplay.updateShape(i)}),this.addEventListener("ni-cartesian-plot-renderer-detached",function(e){var i,n=e.detail.originalSource;t.helpers.clearCache(),i=t.helpers.rendererToIndex(n),t.plotLegendItemDisplay.updateShape(i)}),this.addEventListener("ni-plot-count-changed",function(e){var s=e.detail.originalSource;if("compact"===t.mode){for(;s.plotCount<t.nPlots;){var a=t.nPlots-1;n(t,a)}for(;s.plotCount>t.nPlots;)i(t)}});var s=this.findGraph();null!==s&&this.attachToGraph(s)}createRow(e,i){var n,s,a,l,r,o,d,c,h=this;n=document.createElement("tr"),e.appendChild(n),(s=document.createElement("div")).id="expander"+i,s.className="ni-plot-legend-box",n.appendChild(s),(a=document.createElement("div")).id="header"+i,a.className="ni-master-row",s.appendChild(a),(r=document.createElement("div")).className="ni-plot-display",a.appendChild(r),this.plotLegendItemDisplay.createHeaderDisplay(r,i),this.plotLegendItemDisplay.updateShape(i),(c=document.createElement("span")).className="ni-plot-title",o=this.helpers.getPlotName(i),"compact"===this.mode&&(this.helpers.getPlot(i)||(o="Plot "+(i+1))),d=document.createTextNode(o),c.appendChild(d),a.appendChild(c),(l=document.createElement("div")).id="content"+i,l.className="ni-details-box",s.appendChild(l),"full"===this.mode&&(t(s).jqxExpander({expanded:!1,disabled:this.isInEditMode,expandAnimationDuration:50,collapseAnimationDuration:50,initContent:function(){h.loadContent(l,i)}}),t(s).on("expanded",function(){if(this!==h.currentExpander){var e=h.currentExpander;h.currentExpander=this,null!==e&&t(e).jqxExpander({expanded:!1})}})),this.applyFont()}updatePlotName(e,i){var n=t(this.tbl).find(".ni-plot-title");t(n[e]).text(i)}loadContent(t,i){var n,s,a,l,r,o,d,c;for(t.style.height=30*(this.helpers.menu.length+1)+10+"px",(n=document.createElement("table")).className="ni-details",t.appendChild(n),a=0;a<this.helpers.menu.length;a++){var h=this.helpers.menu[a];(s=document.createElement("tr")).className="ni-details-row "+(h.cssClass||""),n.appendChild(s),(o=document.createElement("td")).className="ni-detail-row-title-box",s.appendChild(o),(l=document.createElement("span")).className="ni-detail-row-title",o.appendChild(l);var p=e.i18n(h.tag);switch("[msg_"===p.substring(0,5)&&(p=h.name+"!"),r=document.createTextNode(p),l.appendChild(r),(d=document.createElement("td")).className="ni-details-row-operations-box",s.appendChild(d),h.type){case"buttons":this.uihelpers.addButtons(h,d,i);break;case"combobox":(c=document.createElement("div")).className="ni-selector",d.appendChild(c),this.uihelpers.addComboBox(h,c,i,60);break;case"colorbox":(c=document.createElement("div")).className="ni-colorbox-selector ni-selector",d.appendChild(c),this.uihelpers.addColorBox(h,c,i);break;case"checkbox":(c=document.createElement("div")).className="ni-hover-box",d.appendChild(c),this.uihelpers.addCheckBox(h,c,i)}}}removeRow(e,t){var i=e.children[t];this.plotLegendItemDisplay.removeHeaderDisplay(null,t),null!==i&&void 0!==i&&e.removeChild(i)}setFont(e,i,n,s,a){var l=this.firstElementChild,r=t(this),o=t(l).find(" .jqx-widget-content"),d=t(l).find(" .ni-plot-title"),c=t(l).find(" .ni-detail-row-title");r.css({"font-size":e,"font-family":i,"font-weight":n,"font-style":s}),o.css({"font-size":e,"font-family":i,"font-weight":n,"font-style":s}),d.css({"font-size":e,"font-family":i,"font-weight":n,"font-style":s}),c.css({"font-size":e,"font-family":i,"font-weight":n,"font-style":s})}applyFont(){var e=this.firstElementChild,i=t(e).find(" .jqx-widget-content"),n=t(e).find(" .ni-plot-title"),s=t(e).find(" .ni-detail-row-title"),a=t(this).css("font-size"),l=t(this).css("font-family"),r=t(this).css("font-weight"),o=t(this).css("font-style");i.css({"font-size":a,"font-family":l,"font-weight":r,"font-style":o}),n.css({"font-size":a,"font-family":l,"font-weight":r,"font-style":o}),s.css({"font-size":a,"font-family":l,"font-weight":r,"font-style":o})}propertyChangedHandler(e,i,n){switch(super.propertyChangedHandler(e,i,n),e){case"graphRef":this.helpers.graph.plotLegend=null;var s=this.findGraph();this.attachToGraph(s);break;case"isInEditMode":this.helpers.isInEditMode=this.isInEditMode,t(this.tbl).find(".ni-plot-legend-box").each(function(){t(this).jqxExpander({disabled:this.isInEditMode})})}}})}(),function(){"use strict";var e=NationalInstruments.HtmlVI.NISupport;NationalInstruments.HtmlVI.Elements.PlotLegendHelpers=function(){this.graph=null,this.isInEditMode=!1,this.defaultPlotColors=window.JQX.CartesianGraph.defaultPlotColors,this.lineStyleValues={dot:"1, 2",dashdot:"3, 3, 1, 3",mediumdash:"3, 3",largedash:"5, 4",solid:"0"},this.renderers=[]};var t=NationalInstruments.HtmlVI.Elements.PlotLegendHelpers,i=t.prototype;i.menu=[{name:"Plot Style",tag:"msg_plotstyle",type:"buttons",children:[{name:"Line",tag:"msg_line",cssClass:"ni-line-style-icon"},{name:"Point",tag:"msg_point",cssClass:"ni-point-style-icon"},{name:"Line & Point",tag:"msg_lineandpoint",cssClass:"ni-line-and-point-style-icon"},{name:"Bar",tag:"msg_bar",cssClass:"ni-bar-style-icon"},{name:"Fill",tag:"msg_fill",cssClass:"ni-fill-style-icon"}]},{name:"Point Style",tag:"msg_pointstyle",type:"buttons",children:[{name:"Ellipse",tag:"msg_ellipse",cssClass:"ni-ellipse-point-style-icon"},{name:"Rectangle",tag:"msg_rectangle",cssClass:"ni-rect-point-style-icon"},{name:"Diamond",tag:"msg_diamond",cssClass:"ni-diamond-point-style-icon"},{name:"Cross",tag:"msg_cross",cssClass:"ni-cross-point-style-icon"},{name:"Plus",tag:"msg_plus",cssClass:"ni-plus-point-style-icon"}]},{name:"Line Width",tag:"msg_linewidth",cssClass:"line_width",type:"combobox",children:[{name:"No line",tag:"msg_noline",cssClass:""},{name:"1-pixel",tag:"msg_1pixel",cssClass:"ni-1-pixel-line-width-icon"},{name:"2-pixels",tag:"msg_2pixels",cssClass:"ni-2-pixels-line-width-icon"},{name:"3-pixels",tag:"msg_3pixels",cssClass:"ni-3-pixels-line-width-icon"},{name:"4-pixels",tag:"msg_4pixels",cssClass:"ni-4-pixels-line-width-icon"},{name:"5-pixels",tag:"msg_5pixels",cssClass:"ni-5-pixels-line-width-icon"}]},{name:"Line Style",tag:"msg_linestyle",cssClass:"line_style",type:"combobox",children:[{name:"No style",tag:"msg_nostyle",cssClass:""},{name:"Solid",tag:"msg_solid",cssClass:"ni-solid-line-style-icon"},{name:"Dot",tag:"msg_dot",cssClass:"ni-dot-line-style-icon"},{name:"Dot-dash",tag:"msg_dashdot",cssClass:"ni-dot-dash-line-style-icon"},{name:"Medium dash",tag:"msg_mediumdash",cssClass:"ni-medium-dash-line-style-icon"},{name:"Large dash",tag:"msg_largedash",cssClass:"ni-large-dash-line-style-icon"}]},{name:"Fill Baseline",tag:"msg_fillbaseline",type:"buttons",children:[{name:"Zero",tag:"msg_zero",cssClass:"ni-fill-to-zero-style-icon"},{name:"-Inf",tag:"msg_neginf",cssClass:"ni-fill-base-line-negative-infinity-icon"},{name:"Inf",tag:"msg_inf",cssClass:"ni-fill-base-line-positive-infinity-icon"}]},{name:"Color",tag:"msg_color",type:"colorbox",children:[]},{name:"Hover",tag:"msg_hover",cssClass:"hover",type:"checkbox",children:[]}],i.addRenderer=function(){},i.clearRenderer=function(e){this.renderers[e]=null},i.clearCache=function(){for(var e=0;e<this.renderers.length;e++)this.renderers[e]=null},i.getPlot=function(e){var i=0,n=null,s=this.graph;if(null!==s)for(t in s.childNodes)if("ni-cartesian-plot"===s.childNodes[t].localName){if(i===e){n=s.childNodes[t];break}i++}return n},i.getIndex=function(e){var t,i;return null!==(i=e._parentGraph)&&(t=i.plots.indexOf(e)),t},i.getPlotName=function(t){var i=this.getPlot(t);return i&&"string"==typeof i.label?i.label:e.i18n("msg_defaultplotname")},i.getRenderer=function(e){var t=null,i=null;if(null===this.renderers[e]||void 0===this.renderers[e]){if(null!==(t=this.getPlot(e))&&(i=t.lastElementChild),null===i)return null;this.renderers[e]=i}return this.renderers[e]},i.rendererToIndex=function(e){var t,i,n,s=0;if(null!==(i=this.graph))for(n in i.childNodes)if("ni-cartesian-plot"===i.childNodes[n].localName){if(i.childNodes[n].lastElementChild===e){t=s;break}s++}return t},i.handleClick=function(e,t,i){if(!0!==this.isInEditMode){var n="",s=this.getRenderer(i);if(null===s)return;switch(""!==s.lineStroke&&(n=s.lineStroke),""!==s.pointColor&&(n=s.pointColor),""!==s.barFill&&(n=s.barFill),""!==s.areaFill&&(n=s.areaFill),e){case"No line":s.lineWidth=0;break;case"1-pixel":s.lineWidth=1;break;case"2-pixels":s.lineWidth=2;break;case"3-pixels":s.lineWidth=3;break;case"4-pixels":s.lineWidth=4;break;case"5-pixels":s.lineWidth=5;break;case"Line":s.lineStroke=n,s.pointColor="",s.barFill="",s.areaFill="";break;case"Point":s.lineStroke="",s.pointColor=n,s.barFill="",s.areaFill="";break;case"Line & Point":s.lineStroke=n,s.pointColor=n,s.barFill="",s.areaFill="";break;case"Bar":s.lineStroke="",s.pointColor="",s.barFill=n,s.areaFill="";break;case"Fill":s.lineStroke="",s.pointColor="",s.barFill="",s.areaFill=n;break;case"Ellipse":s.pointShape="ellipse";break;case"Rectangle":s.pointShape="rectangle";break;case"Diamond":s.pointShape="diamond";break;case"Cross":s.pointShape="cross";break;case"Plus":s.pointShape="plus";break;case"No style":s.lineStyle="";break;case"Solid":s.lineStyle="solid";break;case"Dot":s.lineStyle="dot";break;case"Dot-dash":s.lineStyle="dashdot";break;case"Medium dash":s.lineStyle="mediumdash";break;case"Large dash":s.lineStyle="largedash";break;case"Zero":s.areaBaseLine="zero",s.barBaseLine="zero";break;case"-Inf":s.areaBaseLine="negativeinfinity",s.barBaseLine="negativeinfinity";break;case"Inf":s.areaBaseLine="positiveinfinity",s.barBaseLine="positiveinfinity";break;case"Color":""!==s.lineStroke?s.lineStroke="#"+t.hex:""!==s.pointColor?s.pointColor="#"+t.hex:""!==s.barFill?s.barFill="#"+t.hex:""!==s.areaFill&&(s.areaFill="#"+t.hex);break;case"Hover":this.getPlot(i).enableHover=t}}},i.getState=function(e,t){var i=this.getRenderer(t);if(null!==i){var n;switch(e){case"No line":n=0===i.lineWidth;break;case"1-pixel":n=1===i.lineWidth;break;case"2-pixels":n=2===i.lineWidth;break;case"3-pixels":n=3===i.lineWidth;break;case"4-pixels":n=4===i.lineWidth;break;case"5-pixels":n=5===i.lineWidth;break;case"Line":n=""!==i.lineStroke&&""===i.pointColor;break;case"Point":n=""===i.lineStroke&&""!==i.pointColor;break;case"Line & Point":n=""!==i.lineStroke&&""!==i.pointColor;break;case"Bar":n=""!==i.barFill;break;case"Fill":n=""!==i.areaFill;break;case"Ellipse":n="ellipse"===i.pointShape;break;case"Rectangle":n="rectangle"===i.pointShape;break;case"Diamond":n="diamond"===i.pointShape;break;case"Cross":n="cross"===i.pointShape;break;case"Plus":n="plus"===i.pointShape;break;case"No style":n=""===i.lineStyle;break;case"Solid":n="solid"===i.lineStyle;break;case"Dot":n="dot"===i.lineStyle;break;case"Dot-dash":n="dashdot"===i.lineStyle;break;case"Medium dash":n="mediumdash"===i.lineStyle;break;case"Large dash":n="largedash"===i.lineStyle;break;case"Zero":n=""!==i.barFill?"zero"===i.barBaseLine||""===i.barBaseLine:"zero"===i.areaBaseLine||""===i.areaBaseLine;break;case"-Inf":n=""!==i.barFill?"negativeinfinity"===i.barBaseLine:"negativeinfinity"===i.areaBaseLine;break;case"Inf":n=""!==i.barFill?"positiveinfinity"===i.barBaseLine:"positiveinfinity"===i.areaBaseLine;break;case"Color":n=this.getPlotColorFromRenderer(i);break;case"Hover":n=this.getPlot(t).enableHover}return n}},i.getPlotColor=function(e){var t=this.getRenderer(e);return null!==t?this.getPlotColorFromRenderer(t):this.defaultPlotColors[e%this.defaultPlotColors.length]},i.getPlotColorFromRenderer=function(e){var t="rgba(0, 0, 0, 1)";return""!==e.lineStroke?t=e.lineStroke:""!==e.pointColor?t=e.pointColor:""!==e.barFill?t=e.barFill:""!==e.areaFill&&(t=e.areaFill),t},i.getLineWidth=function(e){var t=this.getRenderer(e);return null!==t?t.lineWidth:1},i.getLineShape=function(e){var t="line",i=this.getRenderer(e);return null!==i&&(""!==i.lineStroke&&""===i.pointColor?t="line":""===i.lineStroke&&""!==i.pointColor?t="points":""!==i.lineStroke&&""!==i.pointColor?t="line & point":""!==i.barFill?t="bar":""!==i.areaFill&&(t="fill")),t},i.getLineStyle=function(e){var t=this.getRenderer(e);if(null!==t)switch(t.lineStyle){case"dot":return this.lineStyleValues.dot;case"dashdot":return this.lineStyleValues.dashdot;case"mediumdash":return this.lineStyleValues.mediumdash;case"largedash":return this.lineStyleValues.largedash;default:return this.lineStyleValues.solid}return"0"},i.getPointShape=function(e){var t=this.getRenderer(e);return null!==t?t.pointShape:"ellipse"}}(),function(){"use strict";NationalInstruments.HtmlVI.Elements.PlotLegendItemDisplay=function(e){this.pointTypes=[{name:"ellipse",creator:l},{name:"rectangle",creator:r},{name:"diamond",creator:o},{name:"cross",creator:d},{name:"plus",creator:c}],this.lineTypes=[{name:"line",creator:i},{name:"fill",creator:n},{name:"bar",creator:s},{name:"points",creator:a}],this.shapes=[],this.helpers=e};var e=NationalInstruments.HtmlVI.Elements.PlotLegendItemDisplay.prototype;e.createHeaderDisplay=function(e,i){var n,s;n="http://www.w3.org/2000/svg",(s=document.createElementNS(n,"svg")).setAttribute("width","16"),s.setAttribute("height","16"),s.setAttribute("viewBox","0,0,16,16"),s.setAttributeNS("http://www.w3.org/2000/xmlns/","xmlns:xlink","http://www.w3.org/1999/xlink"),e.appendChild(s);var a=document.createElementNS(n,"g");s.appendChild(a),this.shapes[i]={},this.shapes[i].shapesGroup=a,t(i,a,n,this),a.setAttribute("stroke","rgba(255, 0, 0, 1)")},e.removeHeaderDisplay=function(e,t){this.shapes.splice(t,1)};var t=function(e,t,i,n){var s;for(s=0;s<n.lineTypes.length;s++)n.lineTypes[s].creator(e,t,i,n)},i=function(e,t,i,n){var s=document.createElementNS(i,"polyline");s.setAttribute("points","0,15 5,5 10,10 15,0"),s.setAttribute("fill","none"),s.setAttribute("stroke-width",n.helpers.getLineWidth(e)),s.setAttribute("stroke-dasharray",n.helpers.getLineStyle(e)),t.appendChild(s),n.shapes[e].shapesGroup.line=s},n=function(e,t,i,n){var s=document.createElementNS(i,"polyline");s.setAttribute("points","0,15 5,5 10,10 15,0, 15,15, 0,15"),s.setAttribute("fill",n.helpers.getPlotColor(e)),s.setAttribute("stroke-width",n.helpers.getLineWidth(e)),s.setAttribute("visibility","hidden"),t.appendChild(s),n.shapes[e].shapesGroup.fill=s},s=function(e,t,i,n){var s=document.createElementNS(i,"polyline");s.setAttribute("points","1.5,15.5 1.5,12.5, 4.5,12.5 4.5,15.5 6.5,15.5 6.5,3.5, 9.5,3.5 9.5,15.5 11.5,15.5 11.5,7.5 14.5,7.5 14.5,15.5 1.5,15.5"),s.setAttribute("fill",n.helpers.getPlotColor(e)),s.setAttribute("stroke-width",1),s.setAttribute("visibility","hidden"),t.appendChild(s),n.shapes[e].shapesGroup.bar=s},a=function(e,t,i,n){var s,a,l,r,o=[{x:.5,y:15.5},{x:10.5,y:10.5},{x:5.5,y:5.5},{x:15.5,y:.5}],d=document.createElementNS(i,"g");for(n.shapes[e].shapesGroup.points=d,a=0;a<n.pointTypes.length;a++){for(l=document.createElementNS(i,"g"),s=0;s<4;s++)r=n.pointTypes[a].creator(i,o[s],4),l.appendChild(r);l.setAttribute("fill",n.helpers.getPlotColor(e)),l.setAttribute("stroke-width",1),l.setAttribute("visibility","hidden"),d.appendChild(l),n.shapes[e].shapesGroup.points[n.pointTypes[a].name]=l}t.appendChild(d)},l=function(e,t,i){var n=document.createElementNS(e,"circle");return n.setAttribute("cx",t.x),n.setAttribute("cy",t.y),n.setAttribute("r",i/2),n},r=function(e,t,i){var n=document.createElementNS(e,"rect");return n.setAttribute("x",t.x-i/2),n.setAttribute("y",t.y-i/2),n.setAttribute("width",i),n.setAttribute("height",i),n},o=function(e,t,i){var n=document.createElementNS(e,"path"),s="M"+(t.x-i/2)+","+t.y;return s+=" L"+t.x+","+(t.y-i/2),s+=" L"+(t.x+i/2)+","+t.y,s+=" L"+t.x+","+(t.y+i/2),s+=" Z",n.setAttribute("d",s),n},d=function(e,t,i){var n=document.createElementNS(e,"path"),s="M"+(t.x-i/2)+","+(t.y-i/2);return s+=" L"+(t.x+i/2)+","+(t.y+i/2),s+="M"+(t.x+i/2)+","+(t.y-i/2),s+=" L"+(t.x-i/2)+","+(t.y+i/2),n.setAttribute("d",s),n},c=function(e,t,i){var n=document.createElementNS(e,"path"),s="M"+t.x+","+(t.y-i/2);return s+=" L"+t.x+","+(t.y+i/2),s+="M"+(t.x-i/2)+","+t.y,s+=" L"+(t.x+i/2)+","+t.y,n.setAttribute("d",s),n};e.updateLinesAttributes=function(e,t,i){var n=this.helpers.getLineShape(e);"line"!==n&&"line & point"!==n||(t.line.setAttribute("stroke-width",this.helpers.getLineWidth(e)),t.line.setAttribute("stroke-dasharray",this.helpers.getLineStyle(e))),t.fill.setAttribute("fill",i),t.bar.setAttribute("fill",i);for(var s=0;s<this.pointTypes.length;s++)t.points[this.pointTypes[s].name].setAttribute("fill",i)},e.updatePointVisibility=function(e,t,i){for(var n=this.helpers.getPointShape(e),s=0;s<this.pointTypes.length;s++)n!==this.pointTypes[s].name||"line & point"!==i&&"points"!==i?t.points[this.pointTypes[s].name].setAttribute("visibility","hidden"):t.points[this.pointTypes[s].name].setAttribute("visibility","visible")},e.updateVisibility=function(e,t){for(var i=this.helpers.getLineShape(e),n=0;n<this.lineTypes.length;n++)i===this.lineTypes[n].name?t[this.lineTypes[n].name].setAttribute("visibility","visible"):t[this.lineTypes[n].name].setAttribute("visibility","hidden");"line & point"===i&&(t.line.setAttribute("visibility","visible"),t.points.setAttribute("visibility","visible")),this.updatePointVisibility(e,t,i)},e.updateShape=function(e){var t=this.shapes[e];if(void 0!==t&&null!==t){var i=this.helpers.getPlotColor(e);this.updateLinesAttributes(e,t.shapesGroup,i),this.updateVisibility(e,t.shapesGroup),t.shapesGroup.setAttribute("stroke",i)}}}(),function(){"use strict";var e=NationalInstruments.Globals.jQuery,t=NationalInstruments.HtmlVI.NISupport;JQX("ni-cursor-legend",class extends NationalInstruments.HtmlVI.Elements.GraphLegend{created(){super.created(),this.table=void 0,this.selectedRow=null,this.addButton=null,this.deleteButton=null,this.centerButton=null,this.currentRow=null,this.currentBtn=null,this.observer=null,this.helpers=new NationalInstruments.HtmlVI.Elements.CursorLegendHelpers,this.cursorLegendItemDisplay=new NationalInstruments.HtmlVI.Elements.CursorLegendItemDisplay(this.helpers),this.uihelpers=new NationalInstruments.HtmlVI.Elements.LegendHelpers(this.helpers,this.cursorLegendItemDisplay)}cursorAdded(e){var t=this;t.createRow(t.table,e),t.helpers.cursorAdded(e),t.helpers.cursorPositionChanged(e,function(i){t.updatePosition(e,i)})}updatePosition(e,t){if(e._parentGraph){var i=e.niControlId,n=this.querySelector("#x_"+i),s=this.querySelector("#y_"+i),a=e._parentGraph.graph,l=a.formatCursorPosition(a,e.cursor);null!==n&&(n.innerText=l.xTextValue),null!==s&&(s.innerText=l.yTextValue)}}cursorRemoved(t){var i=this.helpers.getIndex(t);i>=0&&(e(this).find(".ni-master-row").eq(i).remove(),e(this).find(".ni-details-box").eq(i).remove(),this.cursorLegendItemDisplay.clearShape(i),this.helpers.cursorRemoved(t))}cursorChanged(e){this.cursorLegendItemDisplay.updateShape(e),this.updateName(e),this.updateVisible(e)}updateName(t){e("#name_"+t.niControlId).text(this.helpers.getState("name",t))}updateVisible(t){this.helpers.getState("visible",t)?e("#visible_"+t.niControlId).removeClass("ni-visibility-off-icon").addClass("ni-visibility-on-icon"):e("#visible_"+t.niControlId).removeClass("ni-visibility-on-icon").addClass("ni-visibility-off-icon")}attachToGraph(e){this.detachFromGraph(),e&&e.isReady&&(this.helpers.graph=e,e.registerCursorLegend(this))}detachFromGraph(){this.removeRows(),this.helpers.clearCache(),this.helpers.graph=null}attached(){super.attached();var i=this;i.helpers.graph=i.findGraph(),i.helpers.isInEditMode=i.isInEditMode;var n=document.createElement("div");n.style.width="100%",n.style.height="100%",n.id="div"+t.uniqueId(),i.appendChild(n),i.table=document.createElement("table"),i.table.className="ni-cursors-box",n.appendChild(i.table);var s=document.createElement("div");n.appendChild(s);var a=document.createElement("button");a.className="ni-add-icon ni-command-button",e(a).jqxButton({disabled:i.isInEditMode}),s.appendChild(a),i.addButton=a,e(a).on("click",function(){i.isInEditMode||i.helpers.addCursor()}),i.addEventListener("ni-cursor-attached",function(e){i.cursorAdded(e.detail.originalSource)}),i.addEventListener("ni-cursor-detached",function(e){i.cursorRemoved(e.detail.originalSource)}),i.addEventListener("ni-cursor-changed",function(e){i.cursorChanged(e.detail.originalSource)});var l=this.findGraph();null!==l&&this.attachToGraph(l)}removeRows(){var e;for(e=this.helpers.cursors.length-1;e>=0;e--){var t=this.helpers.getCursor(e);this.cursorRemoved(t)}}createRow(t,i){var n=this,s=n.createMainRow(t,i),a=n.createDetailsRow(t,i);e(s).on("click",function(){if(n.currentRow!==a){var e=n.currentRow,t=n.currentBtn;a.style.display="table-row",n.currentRow=a,s.classList.remove("ni-closed-icon"),s.classList.add("ni-open-icon"),n.currentBtn=s,null!==e&&(e.style.display="none"),null!==t&&(t.classList.remove("ni-open-icon"),t.classList.add("ni-closed-icon"))}else a.style.display="none",s.classList.remove("ni-open-icon"),s.classList.add("ni-closed-icon"),n.currentRow=null,n.currentBtn=null}),n.applyFont()}createMainRow(t,i){var n,s,a,l,r,o,d,c,h,p,u,m,g=this;return n=i.niControlId,(s=document.createElement("tr")).className="ni-master-row",t.appendChild(s),(a=document.createElement("td")).className="ni-expand-box",s.appendChild(a),(m=document.createElement("input")).className="ni-expand-button ni-closed-icon",m.type="button",m.id="details_"+n,a.appendChild(m),e(m).jqxButton({width:20,height:20,disabled:g.isInEditMode}),(l=document.createElement("td")).className="ni-cursor-box",s.appendChild(l),null!==(p=g.cursorLegendItemDisplay.createHeaderDisplay(i))&&(p.id="display_"+n,l.appendChild(p)),(c=document.createElement("span")).className="ni-cursor-title",c.id="name_"+n,h=document.createTextNode(g.helpers.getState("name",i)),c.appendChild(h),l.appendChild(c),(r=document.createElement("td")).className="ni-x-box",s.appendChild(r),(c=document.createElement("span")).className="ni-x-title",c.id="x_"+n,h=document.createTextNode(parseFloat(g.helpers.getState("x",i))),c.appendChild(h),r.appendChild(c),(o=document.createElement("td")).className="ni-y-box",s.appendChild(o),(c=document.createElement("span")).className="ni-y-title",c.id="y_"+n,h=document.createTextNode(parseFloat(g.helpers.getState("y",i))),c.appendChild(h),o.appendChild(c),(d=document.createElement("td")).className="ni-actions-box",s.appendChild(d),(u=document.createElement("input")).className="ni-delete-icon ni-action-button",u.type="button",u.id="delete"+n,d.appendChild(u),e(u).on("click",function(){g.helpers.handleClick("delete","",i)}),e(u).jqxToggleButton({disabled:g.isInEditMode}),(u=document.createElement("input")).className="ni-center-icon ni-action-button",u.type="button",u.id="center"+n,d.appendChild(u),e(u).on("click",function(){g.helpers.handleClick("center","",i)}),e(u).jqxButton({disabled:g.isInEditMode}),(u=document.createElement("input")).className="ni-snap-icon ni-action-button",u.type="button",u.id="snap_"+n,d.appendChild(u),e(u).on("click",function(){g.helpers.handleClick("snap","",i)}),e(u).jqxToggleButton({disabled:g.isInEditMode}),(u=document.createElement("input")).className="ni-visibility-button ni-action-button",u.type="button",u.id="visible_"+n,g.helpers.getState("visible",i)?u.classList.add("ni-visibility-on-icon"):u.classList.add("ni-visibility-off-icon"),e(u).on("click",function(){g.helpers.handleClick("visible","",i)}),d.appendChild(u),e(u).jqxToggleButton({disabled:g.isInEditMode}),m}createDetailsItem(e,t,i){var n,s,a,l,r,o;return(n=document.createElement("tr")).className="ni-details-row",e.appendChild(n),(s=document.createElement("td")).className="ni-details-row-title-box",n.appendChild(s),(r=document.createElement("span")).class="ni-details-row-title",s.appendChild(r),o=document.createTextNode(t),r.appendChild(o),(a=document.createElement("td")).className="ni-details-row-control-box",n.appendChild(a),(l=document.createElement("div")).className=i,a.appendChild(l),l}createDetailsRow(e,t){var i,n,s,a;return(n=document.createElement("tr")).className="ni-details-box",n.style.display="none",e.appendChild(n),(s=document.createElement("td")).colSpan=5,n.appendChild(s),(i=document.createElement("table")).className="ni-details",s.appendChild(i),a=this.createDetailsItem(i,"Color","ni-colorbox-selector ni-selector"),this.uihelpers.addColorBox({name:"Color"},a,t),a=this.createDetailsItem(i,"Shape","ni-shape-selector ni-selector"),this.uihelpers.addComboBox(this.helpers.getMenuItem("shape"),a,t,16),a=this.createDetailsItem(i,"Crosshair","ni-crosshair-selector ni-selector"),this.uihelpers.addComboBox(this.helpers.getMenuItem("crosshair"),a,t,16),n}setFont(t,i,n,s,a){var l=this.firstElementChild,r=e(this),o=e("#"+l.id+" .jqx-widget-content"),d=e("#"+l.id+" .ni-cursor-title"),c=e("#"+l.id+" .ni-x-title"),h=e("#"+l.id+" .ni-y-title"),p=e("#"+l.id+" .ni-details-title");r.css({"font-size":t,"font-family":i,"font-weight":n,"font-style":s}),o.css({"font-size":t,"font-family":i,"font-weight":n,"font-style":s}),d.css({"font-size":t,"font-family":i,"font-weight":n,"font-style":s}),c.css({"font-size":t,"font-family":i,"font-weight":n,"font-style":s}),h.css({"font-size":t,"font-family":i,"font-weight":n,"font-style":s}),p.css({"font-size":t,"font-family":i,"font-weight":n,"font-style":s})}applyFont(){var t=this.firstElementChild,i=e("#"+t.id+" .jqx-widget-content"),n=e("#"+t.id+" .ni-cursor-title"),s=e("#"+t.id+" .ni-x-title"),a=e("#"+t.id+" .ni-y-title"),l=e("#"+t.id+" .ni-details-title"),r=e(this).css("font-size"),o=e(this).css("font-family"),d=e(this).css("font-weight"),c=e(this).css("font-style");i.css({"font-size":r,"font-family":o,"font-weight":d,"font-style":c}),n.css({"font-size":r,"font-family":o,"font-weight":d,"font-style":c}),s.css({"font-size":r,"font-family":o,"font-weight":d,"font-style":c}),a.css({"font-size":r,"font-family":o,"font-weight":d,"font-style":c}),l.css({"font-size":r,"font-family":o,"font-weight":d,"font-style":c})}propertyChangedHandler(t,i,n){var s=this;switch(super.propertyChangedHandler(t,i,n),t){case"graphRef":this.helpers.graph.cursorLegend=null;var a=this.findGraph();this.attachToGraph(a);break;case"isInEditMode":this.helpers.isInEditMode=this.isInEditMode,null!==this.addButton&&e(this.addButton).jqxButton({disabled:this.isInEditMode}),e(this.table).find(".ni-center-icon").each(function(t){e(this).jqxButton({disabled:s.isInEditMode})}),e(this.table).find(".ni-expand-button").each(function(t){e(this).jqxButton({disabled:s.isInEditMode})}),e(this.table).find(".ni-snap-icon").each(function(t){e(this).jqxToggleButton({disabled:s.isInEditMode})}),e(this.table).find(".ni-delete-icon").each(function(t){e(this).jqxToggleButton({disabled:s.isInEditMode})}),e(this.table).find(".ni-visibility-button").each(function(t){e(this).jqxToggleButton({disabled:s.isInEditMode})})}}})}(),function(){"use strict";NationalInstruments.HtmlVI.Elements.CursorLegendItemDisplay=function(e){this.helpers=e,this.items=[]};var e=NationalInstruments.HtmlVI.Elements.CursorLegendItemDisplay.prototype,t="http://www.w3.org/2000/svg";e.clearShape=function(e){this.items.splice(e,1)},e.createHeaderDisplay=function(e){var i;return void 0===e?null:((i=document.createElementNS(t,"svg")).setAttribute("class","ni-cursor-display"),i.setAttribute("width","16"),i.setAttribute("height","16"),i.setAttribute("viewBox","0,0,16,16"),i.setAttributeNS("http://www.w3.org/2000/xmlns/","xmlns:xlink","http://www.w3.org/1999/xlink"),this.addShapes(e,i,t),this.items.push(i),i)},e.addShapes=function(e,t,i){this.makeShape(e,t,i),this.makeCursorCross(e,t,i)},e.makeCursorCross=function(e,t,i){switch(e.crosshairStyle){case"none":break;case"vertical":this.makeLine(e,t,i,"8","1","8","4"),this.makeLine(e,t,i,"8","12","8","15");break;case"horizontal":this.makeLine(e,t,i,"12","8","15","8"),this.makeLine(e,t,i,"1","8","4","8");break;default:this.makeLine(e,t,i,"8","1","8","4"),this.makeLine(e,t,i,"12","8","15","8"),this.makeLine(e,t,i,"8","12","8","15"),this.makeLine(e,t,i,"1","8","4","8")}},e.makeShape=function(e,t,i){var n,s,a=e.targetShape,l=window.getComputedStyle(e).color;switch(a){case"ellipse":(s=document.createElementNS(i,"circle")).setAttribute("cx","8"),s.setAttribute("cy","8"),s.setAttribute("r","4"),s.setAttribute("stroke",l),s.setAttribute("stroke-width","1"),s.setAttribute("fill","rgba(0, 0, 0, 0)"),t.appendChild(s);break;case"rectangle":(n=document.createElementNS(i,"rect")).setAttribute("x","4"),n.setAttribute("y","4"),n.setAttribute("width","8"),n.setAttribute("height","8"),n.setAttribute("stroke",l),n.setAttribute("stroke-width","1"),n.setAttribute("fill","rgba(0, 0, 0, 0)"),t.appendChild(n);break;case"diamond":this.makeLine(e,t,i,"8","4","12","8"),this.makeLine(e,t,i,"12","8","8","12"),this.makeLine(e,t,i,"8","12","4","8"),this.makeLine(e,t,i,"4","8","8","4");break;case"cross":this.makeLine(e,t,i,"4","4","12","12"),this.makeLine(e,t,i,"4","12","12","4");break;case"plus":this.makeLine(e,t,i,"8","4","8","12"),this.makeLine(e,t,i,"4","8","12","8")}},e.makeLine=function(e,t,i,n,s,a,l){var r=document.createElementNS(i,"line"),o=window.getComputedStyle(e).color;r.setAttribute("x1",n),r.setAttribute("y1",s),r.setAttribute("x2",a),r.setAttribute("y2",l),r.setAttribute("stroke",o),r.setAttribute("stroke-width",1),t.appendChild(r)},e.updateShape=function(e){var i=this.helpers.getIndex(e),n=this.items[i];if(void 0===e)return null;if(void 0===n)return null;for(;n.firstChild;)n.removeChild(n.firstChild);this.addShapes(e,n,t)}}(),function(){"use strict";var e=NationalInstruments.HtmlVI.NISupport,t=NationalInstruments.Globals.jQuery;NationalInstruments.HtmlVI.Elements.CursorLegendHelpers=function(){this.graph=null,this.isInEditMode=!1,this.cursors=[],this.defaultCursorName=e.i18n("msg_defaultcursorname")};var i=NationalInstruments.HtmlVI.Elements.CursorLegendHelpers,n=i.prototype;n.getMenuItem=function(e){return"shape"===e?{name:"Target Shape",tag:"msg_targetshape",children:[{name:"Ellipse",tag:"msg_ellipse",cssClass:"ni-ellipse-point-style-icon"},{name:"Rectangle",tag:"msg_rectangle",cssClass:"ni-rect-point-style-icon"},{name:"Diamond",tag:"msg_diamond",cssClass:"ni-diamond-point-style-icon"},{name:"Cross",tag:"msg_cross",cssClass:"ni-cross-point-style-icon"},{name:"Plus",tag:"msg_plus",cssClass:"ni-plus-point-style-icon"}]}:"crosshair"===e?{name:"Crosshair Style",tag:"msg_crosshairstyle",children:[{name:"No style",tag:"msg_nostyle",cssClass:"ni-no-crosshair-icon"},{name:"Vertical",tag:"msg_vertical",cssClass:"ni-vertical-crosshair-icon"},{name:"Horizontal",tag:"msg_horizontal",cssClass:"ni-horizontal-crosshair-icon"},{name:"Both",tag:"msg_both",cssClass:"ni-both-crosshair-icon"}]}:void 0},n.cursorAdded=function(e){var t;for(t=0;t<this.cursors.length;t++)if(this.cursors[t]===e||null!=e.niControlId&&this.cursors[t].niControlId===e.niControlId)return;this.cursors.push(e)},n.cursorRemoved=function(e){var t;for(t=0;t<this.cursors.length;t++)if(this.cursors[t].niControlId===e.niControlId)return void this.cursors.splice(t,1)},n.addCursor=function(){var t=this.graph,i=document.createElement("ni-cursor");i.niControlId=e.uniqueId(),i.show=!0,i.showValue=!0,this.cursors.push(i),i.label=this.nextCursorName(),t.appendChild(i)},n.cursorPositionChanged=function(e,i){if(void 0===e)throw new Error("cursor is undefined");t(e).on("cursorUpdated",function(e,t){i(t)})},n.clearCache=function(){this.cursors.length=0},n.getCursor=function(e){var t,i,n=0,s=null;if(null===this.cursors[e]||void 0===this.cursors[e]){if(null!==(t=this.graph))for(i in t.childNodes)if("ni-cursor"===t.childNodes[i].localName){if(n===e){s=t.childNodes[i];break}n++}null!==s&&(this.cursors[e]=s)}return this.cursors[e]},n.nextCursorName=function(){var e,t,n=0,s=this.graph;if(null!==s)for(i in s.childNodes)"ni-cursor"===s.childNodes[i].localName&&(t=s.childNodes[i],(e=parseInt(t.label.substring(this.defaultCursorName.length)))>n&&(n=e));return this.defaultCursorName+" "+(n+1)},n.deleteCursor=function(e){var t=this.graph;null!==e&&void 0!==e&&t.removeChild(e)},n.getIndex=function(e){var t,i=-1;for(t=0;t<this.cursors.length;t++)null!==this.cursors[t]&&e.niControlId===this.cursors[t].niControlId&&(i=t);return i},n.handleClick=function(e,t,i){if(null!==i||void 0!==i)switch(e){case"name":case"x":case"y":break;case"visible":i.show=!i.show;break;case"snap":i.snapToPlot=-1!==i.snapToPlot?-1:void 0;break;case"center":i.snapToPlot=void 0,i.x=.5,i.y=.5;break;case"delete":this.deleteCursor(i);break;case"Ellipse":i.targetShape="ellipse";break;case"Rectangle":i.targetShape="rectangle";break;case"Diamond":i.targetShape="diamond";break;case"Cross":i.targetShape="cross";break;case"Plus":i.targetShape="plus";break;case"No style":i.crosshairStyle="none";break;case"Vertical":i.crosshairStyle="vertical";break;case"Horizontal":i.crosshairStyle="horizontal";break;case"Both":i.crosshairStyle="both";break;case"Color":i.setColor("#"+t.hex)}},n.getState=function(e,t){if(null!==t&&void 0!==t){var i;switch(e){case"name":i=t.label;break;case"x":i=t.x;break;case"y":i=t.y;break;case"visible":i=t.show;break;case"snap":i=-1===t.snapToPlot;break;case"center":case"delete":break;case"Ellipse":i="ellipse"===t.targetShape;break;case"Rectangle":i="rectangle"===t.targetShape;break;case"Diamond":i="diamond"===t.targetShape;break;case"Cross":i="cross"===t.targetShape;break;case"Plus":i="plus"===t.targetShape;break;case"No style":i="none"===t.crosshairStyle;break;case"Vertical":i="vertical"===t.crosshairStyle;break;case"Horizontal":i="horizontal"===t.crosshairStyle;break;case"Both":i="both"===t.crosshairStyle;break;case"Color":i=window.getComputedStyle(t).color}return i}},n.getTargetShape=function(e){var t=this.getCursor(e);return null!==t&&void 0!==t?t.targetShape:"ellipse"},n.getCrosshair=function(e){var t=this.getCursor(e);if(null!==t&&void 0!==t)return t.crosshairStyle}}(),function(){"use strict";var e=NationalInstruments.Globals.jQuery;JQX("ni-scale-legend",class extends NationalInstruments.HtmlVI.Elements.GraphLegend{created(){super.created(),this.tbl=void 0,this.nScales=0,this.currentExpander=null,this.helpers=new NationalInstruments.HtmlVI.Elements.ScaleLegendHelpers,this.uihelpers=new NationalInstruments.HtmlVI.Elements.LegendHelpers(this.helpers,null)}scaleAdded(e){this.helpers.scaleToIndex(e)<this.nScales||(this.createRow(this.tbl,this.nScales),this.helpers.addScale(this.nScales),this.nScales++)}scaleRemoved(e){var t,i,n,s,a=null;for(n=0,i=0;i<this.tbl.childNodes.length;i++){if("tr"===this.tbl.childNodes[i].localName&&(t=this.tbl.childNodes[i]).childNodes[0].innerText===e.label){a=t,s=n;break}n++}null!==a&&(this.tbl.removeChild(a),this.helpers.clearScale(s)),this.nScales--}createRows(){var e;for(e=0;e<this.nScales;e++)this.createRow(this.tbl,e)}removeRows(){var e;for(e=this.nScales-1;e>=0;e--){var t=this.helpers.getScale(e);this.scaleRemoved(t)}}attachToGraph(e){this.detachFromGraph(),e&&e.isReady&&(this.helpers.graph=e,e.registerScaleLegend(this))}detachFromGraph(){this.helpers.graph=null,this.helpers.clearScale(),this.removeRows()}attached(){super.attached();var t=document.createElement("div"),i=this;this.helpers.graph=this.findGraph(),this.helpers.isInEditMode=this.isInEditMode,t.style.width="100%",t.style.height="100%",this.appendChild(t),this.tbl=document.createElement("table"),this.tbl.className="ni-scale-legend-box",t.appendChild(this.tbl),this.addEventListener("ni-cartesian-axis-attached",function(e){var t=e.detail.originalSource;i.scaleAdded(t)}),this.addEventListener("ni-cartesian-axis-detached",function(e){i.scaleRemoved(e.detail.originalSource)}),this.addEventListener("ni-axis-changed",function(t){var n=t.detail.originalSource,s=i.helpers.scaleToIndex(n),a=e(this.tbl).find(".ni-row-title"),l=e(this.tbl).find(".ni-lock-button");e(a[s]).first().text(n.label),this.setLockBackground(l[s],!1,s)});var n=this.findGraph();null!==n&&this.attachToGraph(n)}createRow(t,i){var n,s,a,l,r,o,d,c,h=this;n=document.createElement("tr"),t.appendChild(n),(s=document.createElement("td")).className="ni-row-title-box",n.appendChild(s),(r=document.createElement("span")).className="ni-row-title",s.appendChild(r);var p=h.helpers.getState("name",i);o=document.createTextNode(p),r.appendChild(o),(a=document.createElement("td")).className="ni-lock-box",n.appendChild(a),(d=document.createElement("button")).type="button",d.className="ni-lock-button ni-button",e(d).jqxToggleButton(),e(d).jqxToggleButton({disabled:!this.helpers.getState("canLock",i)}),e(d).on("click",function(){h.helpers.handleClick("lock",i),h.setLockBackground(d,!1,i)}),h.setLockBackground(d,!0,i),a.appendChild(d),(l=document.createElement("td")).className="ni-reset-offset-box",n.appendChild(l),(c=document.createElement("button")).type="button",c.className="ni-reset-offset-icon ni-button",e(c).on("click",function(){h.helpers.handleClick("resetOffset",i),h.setLockBackground(d,!1,i)}),l.appendChild(c),this.applyFont()}setLockBackground(t,i,n){var s=this.helpers.getState("lock",n);void 0!==s&&(!0===i&&e(t).jqxToggleButton({toggled:s}),!0===s?(t.classList.remove("ni-locked-icon"),t.classList.add("ni-unlocked-icon")):(t.classList.remove("ni-unlocked-icon"),t.classList.add("ni-locked-icon")))}setFont(t,i,n,s,a){var l=this.firstElementChild,r=e(this),o=e(l).find(" .ni-row-title");r.css({"font-size":t,"font-family":i,"font-weight":n,"font-style":s}),o.css({"font-size":t,"font-family":i,"font-weight":n,"font-style":s})}applyFont(){var t=this.firstElementChild,i=e(t).find(" .ni-row-title"),n=e(this).css("font-size"),s=e(this).css("font-family"),a=e(this).css("font-weight"),l=e(this).css("font-style");i.css({"font-size":n,"font-family":s,"font-weight":a,"font-style":l})}propertyChangedHandler(t,i,n){var s=this;switch(super.propertyChangedHandler(t,i,n),t){case"graphRef":this.helpers.graph.scaleLegend=null;var a=this.findGraph();this.attachToGraph(a);break;case"isInEditMode":this.helpers.isInEditMode=this.isInEditMode,e(this.tbl).find(".ni-lock-button").each(function(){e(this).jqxToggleButton({disabled:s.isInEditMode})}),e(this.tbl).find(".ni-reset-offset-icon").each(function(){e(this).prop("disabled",s.isInEditMode)})}}})}(),function(){"use strict";NationalInstruments.HtmlVI.Elements.ScaleLegendHelpers=function(){this.graph=null,this.isInEditMode=!1,this.scales=[]};var e=NationalInstruments.HtmlVI.Elements.ScaleLegendHelpers.prototype;e.addScale=function(){},e.clearScale=function(e){this.scales[e]=null},e.getScale=function(e){var t,i,n=0,s=null;if(null===this.scales[e]||void 0===this.scales[e]){if(null!==(t=this.graph))for(i in t.childNodes)if("ni-cartesian-axis"===t.childNodes[i].localName||"ni-color-scale"===t.childNodes[i].localName){if(n===e){s=t.childNodes[i];break}n++}if(null===s)return null;this.scales[e]=s}return this.scales[e]},e.scaleToIndex=function(e){var t,i,n=0,s=-1;if(null!==(t=this.graph))for(i in t.childNodes)if("ni-cartesian-axis"===t.childNodes[i].localName||"ni-color-scale"===t.childNodes[i].localName){if(t.childNodes[i]===e){s=n;break}n++}return s},e.handleClick=function(e,t){if(!0!==this.isInEditMode){var i=this.getScale(t);if(null===i)return;switch(e){case"lock":"none"!==i.autoScale?(i.initialAutoscale=i.autoScale,i.autoScale="none",i.resetOffset()):i.autoScale=i.initialAutoscale?i.initialAutoscale:"loose";break;case"resetOffset":i.resetOffset&&i.resetOffset()}var n=i._parentGraph.graph;n.setupGrid(),n.draw()}},e.getState=function(e,t){var i=this.getScale(t);if(null!==i){var n;switch(e){case"canLock":n="ni-color-scale"!==i.localName;break;case"lock":n="none"!==i.autoScale;break;case"resetOffset":break;case"name":n=i.label}return n}}}(),function(){"use strict";var e=Object.freeze({LOCKED:"locked",PAN:"pan",ZOOM:"zoom"}),t=NationalInstruments.Globals.jQuery,i=NationalInstruments.HtmlVI.NISupport,n={};n[e.LOCKED]=[!0,!1,!1],n[e.PAN]=[!1,!0,!1],n[e.ZOOM]=[!1,!1,!0];JQX("ni-graph-tools",class extends NationalInstruments.HtmlVI.Elements.GraphLegend{static get properties(){return Object.assign({},super.properties,{mode:{value:e.PAN,type:"string"}})}created(){super.created(),this._parentGraph=void 0}ready(){super.ready(),this.addListeners()}attachToGraph(e){e.isReady&&(this._parentGraph=e,e.registerGraphTools(this))}updateCartesianAxesFromFlot(){this._parentGraph.axes.forEach(function(e){e instanceof JQX.CartesianAxis&&e.syncWithFlot()})}addListeners(){var e=this;this.addEventListener("ni-cartesian-graph-box-selected",function(i){var n=i.detail.originalSource.ranges,s=e._parentGraph.graph;t.each(s.getAxes(),function(e,t){!0!==t.options.disableZoom&&n[e]&&function(e,t){var i=e.options,n=t.from-e.min,s=t.to-e.max;i.offset?(i.offset.below+=n,i.offset.above+=s):i.offset={above:s,below:n}}(t,n[e])}),s.setupGrid(),s.draw(),s.clearSelection(),this.updateCartesianAxesFromFlot()}),this.addEventListener("ni-cartesian-graph-interaction",function(){this.updateCartesianAxesFromFlot()})}attached(){var e;super.attached(),(e=document.createElement("div")).id="div"+i.uniqueId(),e.style.width="100%",e.style.height="100%",this.appendChild(e),this.table=document.createElement("table"),this.table.className="ni-graph-tools-box",e.appendChild(this.table),this.createRow(this.table);var t=this.findGraph();null!==t&&t instanceof NationalInstruments.HtmlVI.Elements.CartesianGraphBase&&this.attachToGraph(t)}detached(){super.detached(),this._parentGraph=void 0,this.table=void 0,t(this).empty()}asyncProcessAllImagesForComposition(e){function i(){}var n,s=this._parentGraph.graph.getCanvas(),a=document.createElementNS("http://www.w3.org/2000/svg","svg"),l=this._parentGraph.graph.getSurface().SVGContainer.childNodes[0],r=this._parentGraph.graph.getEventHolder(),o=function(e){const t=e.graph.getPlaceholder();return t&&t.find(".flot-thumbs")[0]?t.find(".flot-thumbs")[0].firstChild:null}(this._parentGraph),d=function(e){const t=["ni-chart","ni-cartesian-graph","ni-intensity-graph"];for(var i=null,n="",s=0;s<t.length&&(n=t[s]+'[graph-ref="'+e+'"] svg.legendLayer',null===(i=document.querySelector(n))||void 0===i);s++);return i}(this._parentGraph.graphRef);!function(e,i){var n=t.plot.browser.getPixelRatio(i.getContext("2d")),s=20*n;document.body.insertBefore(e,document.body.childNodes[0]),n<1?(e.setAttributeNS(null,"width",i.width/n+s),e.setAttributeNS(null,"height",i.height/n+s)):(e.setAttributeNS(null,"width",i.width+s),e.setAttributeNS(null,"height",i.height+s)),e.style.width=i.style.width+s,e.style.height=i.style.height+s,e.style.position="absolute";var a=i.getBoundingClientRect().left+window.scrollX-10,l=i.getBoundingClientRect().top+window.scrollY-10;e.style.left=a+"px",e.style.top=l+"px"}(a,s),function(e,t){var i=document.createElementNS(e,"rect");i.setAttributeNS(null,"x",0),i.setAttributeNS(null,"y",0),i.setAttributeNS(null,"style","fill:"+t),i.setAttributeNS(null,"width",e.width.baseVal.value+"px"),i.setAttributeNS(null,"height",e.height.baseVal.value+"px"),e.appendChild(i)}(a,void 0!==e?e:window.getComputedStyle(this._parentGraph).backgroundColor),n=[a,s,l,r,o,d];var c=document.createElement("canvas");return this._parentGraph.takeGraphSnapshot(n,c).then(function(e){return function(t){e.parentNode.removeChild(e)}}(a),i).then(function(){return c},i)}downloadSnapshot(){var e=this;function i(){return function(e){var i=document.createElement("img");i.width=e.width,i.height=e.height,i.src=e.toDataURL("image/png");var n=function(e){var t=URL.createObjectURL(e);i.src=t;var n,s,a,l,r,o,d,c=document.createElement("A");c.download="Snapshot_"+(n=new Date,s=n.getFullYear(),a=n.getMonth()+1,l=n.getDate(),r=n.getHours(),o=n.getMinutes(),d=n.getSeconds(),a<10&&(a="0"+a),l<10&&(l="0"+l),r<10&&(r="0"+r),o<10&&(o="0"+o),d<10&&(d="0"+d),s+"."+a+"."+l+"_"+r+"."+o+"."+d)+".png",c.href=i.src;var h=new MouseEvent("click");c.dispatchEvent(h)};return t.plot.browser.isEdge()?n(e.msToBlob()):e.toBlob(n),e}}function n(){}var s=function(){e.asyncProcessAllImagesForComposition().then(i(),n),e._parentGraph.graph.getEventHolder().removeEventListener("onDrawingDone",s)};e._parentGraph.graph.getEventHolder().addEventListener("onDrawingDone",s),e._parentGraph.updateGraphConfig()}createRow(i){var s,a,l,r,o,d,c,h,p,u,m,g=this;function f(e){var i=n[e];i&&(function(e,i,n){t(c).jqxToggleButton({disabled:e}),t(h).jqxToggleButton({disabled:i}),t(p).jqxToggleButton({disabled:n})}.apply(null,i),g.mode=e)}s=document.createElement("tr"),i.appendChild(s),(a=document.createElement("td")).className="ni-button-box",s.appendChild(a),(c=document.createElement("button")).type="button",c.className="ni-locked-icon ni-button",t(c).jqxToggleButton(),t(c).on("click",function(){f(e.LOCKED)}),a.appendChild(c),(l=document.createElement("td")).className="ni-button-box",s.appendChild(l),(h=document.createElement("button")).type="button",h.className="ni-pan-icon ni-button",t(h).jqxToggleButton(),t(h).on("click",function(){f(e.PAN)}),l.appendChild(h),(r=document.createElement("td")).className="ni-button-box",s.appendChild(r),(p=document.createElement("button")).type="button",p.className="ni-zoom-region-icon ni-button",t(p).on("click",function(){f(e.ZOOM)}),r.appendChild(p),f(this.mode),(o=document.createElement("td")).className="ni-button-box",s.appendChild(o),(u=document.createElement("button")).type="button",u.className="ni-zoom-out-icon ni-button",t(u).jqxButton({disabled:!1}),t(u).on("click",function(){g._parentGraph.axes.forEach(function(e){e.resetOffset&&e.resetOffset()});var e=g._parentGraph.graph;e.setupGrid(),e.draw()}),o.appendChild(u),(d=document.createElement("td")).className="ni-button-box",s.appendChild(d),(m=document.createElement("button")).type="button",m.className="ni-snapshot-icon ni-button",t(m).jqxButton({disabled:!1}),t(m).on("click",function(){g.downloadSnapshot()}),d.appendChild(m)}allowsScrollWheelZoom(){return this.mode===e.PAN||this.mode===e.ZOOM}allowsPan(){return this.mode===e.PAN}sendEventToParentGraph(e){var t;void 0!==this._parentGraph&&(t={bubbles:!0,cancelable:!0,detail:{element:this}},this._parentGraph.dispatchEvent(new CustomEvent(e,t)))}propertyChangedHandler(e,t,i){switch(super.propertyChangedHandler(e,t,i),e){case"graphRef":break;case"mode":this.sendEventToParentGraph("ni-graph-tools-changed")}}})}();
//# sourceMappingURL=webcharts-legends.min.js.map
