var oldBrowser=document.all&&!document.addEventListener;oldBrowser||!function(e,t){function i(e){var t=ne[e]={};return W.each(e.split(Y),function(e,i){t[i]=!0}),t}function r(e,i,r){if(r===t&&1===e.nodeType){var s="data-"+i.replace(le,"-$1").toLowerCase();if(r=e.getAttribute(s),"string"==typeof r){try{r="true"===r?!0:"false"===r?!1:"null"===r?null:+r+""===r?+r:oe.test(r)?W.parseJSON(r):r}catch(a){}W.data(e,i,r)}else r=t}return r}function s(e){var t;for(t in e)if(("data"!==t||!W.isEmptyObject(e[t]))&&"toJSON"!==t)return!1;return!0}function a(){return!1}function n(){return!0}function o(e){return!e||!e.parentNode||11===e.parentNode.nodeType}function l(e,t){do e=e[t];while(e&&1!==e.nodeType);return e}function h(e,t,i){if(t=t||0,W.isFunction(t))return W.grep(e,function(e,r){var s=!!t.call(e,r,e);return s===i});if(t.nodeType)return W.grep(e,function(e,r){return e===t===i});if("string"==typeof t){var r=W.grep(e,function(e){return 1===e.nodeType});if(Se.test(t))return W.filter(t,r,!i);t=W.filter(t,r)}return W.grep(e,function(e,r){return W.inArray(e,t)>=0===i})}function d(e){var t=ke.split("|"),i=e.createDocumentFragment();if(i.createElement)for(;t.length;)i.createElement(t.pop());return i}function c(e,t){return e.getElementsByTagName(t)[0]||e.appendChild(e.ownerDocument.createElement(t))}function u(e,t){if(1===t.nodeType&&W.hasData(e)){var i,r,s,a=W._data(e),n=W._data(t,a),o=a.events;if(o){delete n.handle,n.events={};for(i in o)for(r=0,s=o[i].length;s>r;r++)W.event.add(t,i,o[i][r])}n.data&&(n.data=W.extend({},n.data))}}function p(e,t){var i;1===t.nodeType&&(t.clearAttributes&&t.clearAttributes(),t.mergeAttributes&&t.mergeAttributes(e),i=t.nodeName.toLowerCase(),"object"===i?(t.parentNode&&(t.outerHTML=e.outerHTML),W.support.html5Clone&&e.innerHTML&&!W.trim(t.innerHTML)&&(t.innerHTML=e.innerHTML)):"input"===i&&ze.test(e.type)?(t.defaultChecked=t.checked=e.checked,t.value!==e.value&&(t.value=e.value)):"option"===i?t.selected=e.defaultSelected:"input"===i||"textarea"===i?t.defaultValue=e.defaultValue:"script"===i&&t.text!==e.text&&(t.text=e.text),t.removeAttribute(W.expando))}function f(e){return"undefined"!=typeof e.getElementsByTagName?e.getElementsByTagName("*"):"undefined"!=typeof e.querySelectorAll?e.querySelectorAll("*"):[]}function m(e){ze.test(e.type)&&(e.defaultChecked=e.checked)}function g(e,t){if(t in e)return t;for(var i=t.charAt(0).toUpperCase()+t.slice(1),r=t,s=ot.length;s--;)if(t=ot[s]+i,t in e)return t;return r}function v(e,t){return e=t||e,"none"===W.css(e,"display")||!W.contains(e.ownerDocument,e)}function x(e,t){for(var i,r,s=[],a=0,n=e.length;n>a;a++)i=e[a],i.style&&(s[a]=W._data(i,"olddisplay"),t?(s[a]||"none"!==i.style.display||(i.style.display=""),""===i.style.display&&v(i)&&(s[a]=W._data(i,"olddisplay",_(i.nodeName)))):(r=Ue(i,"display"),s[a]||"none"===r||W._data(i,"olddisplay",r)));for(a=0;n>a;a++)i=e[a],i.style&&(t&&"none"!==i.style.display&&""!==i.style.display||(i.style.display=t?s[a]||"":"none"));return e}function b(e,t,i){var r=et.exec(t);return r?Math.max(0,r[1]-(i||0))+(r[2]||"px"):t}function w(e,t,i,r){for(var s=i===(r?"border":"content")?4:"width"===t?1:0,a=0;4>s;s+=2)"margin"===i&&(a+=W.css(e,i+nt[s],!0)),r?("content"===i&&(a-=parseFloat(Ue(e,"padding"+nt[s]))||0),"margin"!==i&&(a-=parseFloat(Ue(e,"border"+nt[s]+"Width"))||0)):(a+=parseFloat(Ue(e,"padding"+nt[s]))||0,"padding"!==i&&(a+=parseFloat(Ue(e,"border"+nt[s]+"Width"))||0));return a}function y(e,t,i){var r="width"===t?e.offsetWidth:e.offsetHeight,s=!0,a=W.support.boxSizing&&"border-box"===W.css(e,"boxSizing");if(0>=r||null==r){if(r=Ue(e,t),(0>r||null==r)&&(r=e.style[t]),tt.test(r))return r;s=a&&(W.support.boxSizingReliable||r===e.style[t]),r=parseFloat(r)||0}return r+w(e,t,i||(a?"border":"content"),s)+"px"}function _(e){if(rt[e])return rt[e];var t=W("<"+e+">").appendTo(B.body),i=t.css("display");return t.remove(),"none"!==i&&""!==i||(Ye=B.body.appendChild(Ye||W.extend(B.createElement("iframe"),{frameBorder:0,width:0,height:0})),Xe&&Ye.createElement||(Xe=(Ye.contentWindow||Ye.contentDocument).document,Xe.write("<!doctype html><html><body>"),Xe.close()),t=Xe.body.appendChild(Xe.createElement(e)),i=Ue(t,"display"),B.body.removeChild(Ye)),rt[e]=i,i}function j(e,t,i,r){var s;if(W.isArray(t))W.each(t,function(t,s){i||dt.test(e)?r(e,s):j(e+"["+("object"==typeof s?t:"")+"]",s,i,r)});else if(i||"object"!==W.type(t))r(e,t);else for(s in t)j(e+"["+s+"]",t[s],i,r)}function q(){return setTimeout(function(){ft=t},0),ft=W.now()}function T(e,t){W.each(t,function(t,i){for(var r=(wt[t]||[]).concat(wt["*"]),s=0,a=r.length;a>s;s++)if(r[s].call(e,t,i))return})}function S(e,t,i){var r,s=0,a=bt.length,n=W.Deferred().always(function(){delete o.elem}),o=function(){for(var t=ft||q(),i=Math.max(0,l.startTime+l.duration-t),r=i/l.duration||0,s=1-r,a=0,o=l.tweens.length;o>a;a++)l.tweens[a].run(s);return n.notifyWith(e,[l,s,i]),1>s&&o?i:(n.resolveWith(e,[l]),!1)},l=n.promise({elem:e,props:W.extend({},t),opts:W.extend(!0,{specialEasing:{}},i),originalProperties:t,originalOptions:i,startTime:ft||q(),duration:i.duration,tweens:[],createTween:function(t,i,r){var s=W.Tween(e,l.opts,t,i,l.opts.specialEasing[t]||l.opts.easing);return l.tweens.push(s),s},stop:function(t){for(var i=0,r=t?l.tweens.length:0;r>i;i++)l.tweens[i].run(1);return t?n.resolveWith(e,[l,t]):n.rejectWith(e,[l,t]),this}}),h=l.props;for(C(h,l.opts.specialEasing);a>s;s++)if(r=bt[s].call(l,e,h,l.opts))return r;return T(l,h),W.isFunction(l.opts.start)&&l.opts.start.call(e,l),W.fx.timer(W.extend(o,{anim:l,queue:l.opts.queue,elem:e})),l.progress(l.opts.progress).done(l.opts.done,l.opts.complete).fail(l.opts.fail).always(l.opts.always)}function C(e,t){var i,r,s,a,n;for(i in e)if(r=W.camelCase(i),s=t[r],a=e[i],W.isArray(a)&&(s=a[1],a=e[i]=a[0]),i!==r&&(e[r]=a,delete e[i]),n=W.cssHooks[r],n&&"expand"in n){a=n.expand(a),delete e[r];for(i in a)i in e||(e[i]=a[i],t[i]=s)}else t[r]=s}function I(e,t,i){var r,s,a,n,o,l,h,d,c,u=this,p=e.style,f={},m=[],g=e.nodeType&&v(e);i.queue||(d=W._queueHooks(e,"fx"),null==d.unqueued&&(d.unqueued=0,c=d.empty.fire,d.empty.fire=function(){d.unqueued||c()}),d.unqueued++,u.always(function(){u.always(function(){d.unqueued--,W.queue(e,"fx").length||d.empty.fire()})})),1===e.nodeType&&("height"in t||"width"in t)&&(i.overflow=[p.overflow,p.overflowX,p.overflowY],"inline"===W.css(e,"display")&&"none"===W.css(e,"float")&&(W.support.inlineBlockNeedsLayout&&"inline"!==_(e.nodeName)?p.zoom=1:p.display="inline-block")),i.overflow&&(p.overflow="hidden",W.support.shrinkWrapBlocks||u.done(function(){p.overflow=i.overflow[0],p.overflowX=i.overflow[1],p.overflowY=i.overflow[2]}));for(r in t)if(a=t[r],gt.exec(a)){if(delete t[r],l=l||"toggle"===a,a===(g?"hide":"show"))continue;m.push(r)}if(n=m.length){o=W._data(e,"fxshow")||W._data(e,"fxshow",{}),"hidden"in o&&(g=o.hidden),l&&(o.hidden=!g),g?W(e).show():u.done(function(){W(e).hide()}),u.done(function(){var t;W.removeData(e,"fxshow",!0);for(t in f)W.style(e,t,f[t])});for(r=0;n>r;r++)s=m[r],h=u.createTween(s,g?o[s]:0),f[s]=o[s]||W.style(e,s),s in o||(o[s]=h.start,g&&(h.end=h.start,h.start="width"===s||"height"===s?1:0))}}function k(e,t,i,r,s){return new k.prototype.init(e,t,i,r,s)}function D(e,t){var i,r={height:e},s=0;for(t=t?1:0;4>s;s+=2-t)i=nt[s],r["margin"+i]=r["padding"+i]=e;return t&&(r.opacity=r.width=e),r}function M(e){return W.isWindow(e)?e:9===e.nodeType?e.defaultView||e.parentWindow:!1}var P,N,B=e.document,O=(e.location,e.navigator),E=e.JQXLite,A=e.$,H=Array.prototype.push,z=Array.prototype.slice,L=Array.prototype.indexOf,F=Object.prototype.toString,R=Object.prototype.hasOwnProperty,V=String.prototype.trim,W=function(e,t){return new W.fn.init(e,t,P)},G=/[\-+]?(?:\d*\.|)\d+(?:[eE][\-+]?\d+|)/.source,U=/\S/,Y=/\s+/,X=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,K=/^(?:[^#<]*(<[\w\W]+>)[^>]*$|#([\w\-]*)$)/,$=/^<(\w+)\s*\/?>(?:<\/\1>|)$/,J=/^[\],:{}\s]*$/,Q=/(?:^|:|,)(?:\s*\[)+/g,Z=/\\(?:["\\\/bfnrt]|u[\da-fA-F]{4})/g,ee=/"[^"\\\r\n]*"|true|false|null|-?(?:\d\d*\.|)\d+(?:[eE][\-+]?\d+|)/g,te=/^-ms-/,ie=/-([\da-z])/gi,re=function(e,t){return(t+"").toUpperCase()},se=function(){B.addEventListener?(B.removeEventListener("DOMContentLoaded",se,!1),W.ready()):"complete"===B.readyState&&(B.detachEvent("onreadystatechange",se),W.ready())},ae={};W.fn=W.prototype={constructor:W,init:function(e,i,r){var s,a,n;if(!e)return this;if(e.nodeType)return this.context=this[0]=e,this.length=1,this;if("string"==typeof e){if(s="<"===e.charAt(0)&&">"===e.charAt(e.length-1)&&e.length>=3?[null,e,null]:K.exec(e),!s||!s[1]&&i)return!i||i.jqx?(i||r).find(e):this.constructor(i).find(e);if(s[1])return i=i instanceof W?i[0]:i,n=i&&i.nodeType?i.ownerDocument||i:B,e=W.parseHTML(s[1],n,!0),$.test(s[1])&&W.isPlainObject(i)&&this.attr.call(e,i,!0),W.merge(this,e);if(a=B.getElementById(s[2]),a&&a.parentNode){if(a.id!==s[2])return r.find(e);this.length=1,this[0]=a}return this.context=B,this.selector=e,this}return W.isFunction(e)?r.ready(e):(e.selector!==t&&(this.selector=e.selector,this.context=e.context),W.makeArray(e,this))},selector:"",jqx:"4.5.0",length:0,size:function(){return this.length},toArray:function(){return z.call(this)},get:function(e){return null==e?this.toArray():0>e?this[this.length+e]:this[e]},pushStack:function(e,t,i){var r=W.merge(this.constructor(),e);return r.prevObject=this,r.context=this.context,"find"===t?r.selector=this.selector+(this.selector?" ":"")+i:t&&(r.selector=this.selector+"."+t+"("+i+")"),r},each:function(e,t){return W.each(this,e,t)},ready:function(e){return W.ready.promise().done(e),this},eq:function(e){return e=+e,-1===e?this.slice(e):this.slice(e,e+1)},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},slice:function(){return this.pushStack(z.apply(this,arguments),"slice",z.call(arguments).join(","))},map:function(e){return this.pushStack(W.map(this,function(t,i){return e.call(t,i,t)}))},end:function(){return this.prevObject||this.constructor(null)},push:H,sort:[].sort,splice:[].splice},W.fn.init.prototype=W.fn,W.extend=W.fn.extend=function(){var e,i,r,s,a,n,o=arguments[0]||{},l=1,h=arguments.length,d=!1;for("boolean"==typeof o&&(d=o,o=arguments[1]||{},l=2),"object"==typeof o||W.isFunction(o)||(o={}),h===l&&(o=this,--l);h>l;l++)if(null!=(e=arguments[l]))for(i in e)r=o[i],s=e[i],o!==s&&(d&&s&&(W.isPlainObject(s)||(a=W.isArray(s)))?(a?(a=!1,n=r&&W.isArray(r)?r:[]):n=r&&W.isPlainObject(r)?r:{},o[i]=W.extend(d,n,s)):s!==t&&(o[i]=s));return o},W.extend({noConflict:function(t){return e.$===W&&(e.$=A),t&&e.JQXLite===W&&(e.JQXLite=E),W},isReady:!1,readyWait:1,holdReady:function(e){e?W.readyWait++:W.ready(!0)},ready:function(e){if(e===!0?!--W.readyWait:!W.isReady){if(!B.body)return setTimeout(W.ready,1);W.isReady=!0,e!==!0&&--W.readyWait>0||(N.resolveWith(B,[W]),W.fn.trigger&&W(B).trigger("ready").off("ready"))}},isFunction:function(e){return"function"===W.type(e)},isArray:Array.isArray||function(e){return"array"===W.type(e)},isWindow:function(e){return null!=e&&e==e.window},isNumeric:function(e){return!isNaN(parseFloat(e))&&isFinite(e)},type:function(e){return null==e?String(e):ae[F.call(e)]||"object"},isPlainObject:function(e){if(!e||"object"!==W.type(e)||e.nodeType||W.isWindow(e))return!1;try{if(e.constructor&&!R.call(e,"constructor")&&!R.call(e.constructor.prototype,"isPrototypeOf"))return!1}catch(i){return!1}var r;for(r in e);return r===t||R.call(e,r)},isEmptyObject:function(e){var t;for(t in e)return!1;return!0},error:function(e){throw new Error(e)},parseHTML:function(e,t,i){var r;return e&&"string"==typeof e?("boolean"==typeof t&&(i=t,t=0),t=t||B,(r=$.exec(e))?[t.createElement(r[1])]:(r=W.buildFragment([e],t,i?null:[]),W.merge([],(r.cacheable?W.clone(r.fragment):r.fragment).childNodes))):null},parseJSON:function(t){return t&&"string"==typeof t?(t=W.trim(t),e.JSON&&e.JSON.parse?e.JSON.parse(t):J.test(t.replace(Z,"@").replace(ee,"]").replace(Q,""))?new Function("return "+t)():void W.error("Invalid JSON: "+t)):null},parseXML:function(i){var r,s;if(!i||"string"!=typeof i)return null;try{e.DOMParser?(s=new DOMParser,r=s.parseFromString(i,"text/xml")):(r=new ActiveXObject("Microsoft.XMLDOM"),r.async="false",r.loadXML(i))}catch(a){r=t}return r&&r.documentElement&&!r.getElementsByTagName("parsererror").length||W.error("Invalid XML: "+i),r},noop:function(){},globalEval:function(t){t&&U.test(t)&&(e.execScript||function(t){e.eval.call(e,t)})(t)},camelCase:function(e){return e.replace(te,"ms-").replace(ie,re)},nodeName:function(e,t){return e.nodeName&&e.nodeName.toLowerCase()===t.toLowerCase()},each:function(e,i,r){var s,a=0,n=e.length,o=n===t||W.isFunction(e);if(r)if(o){for(s in e)if(i.apply(e[s],r)===!1)break}else for(;n>a&&i.apply(e[a++],r)!==!1;);else if(o){for(s in e)if(i.call(e[s],s,e[s])===!1)break}else for(;n>a&&i.call(e[a],a,e[a++])!==!1;);return e},trim:V&&!V.call("\ufeffÂ ")?function(e){return null==e?"":V.call(e)}:function(e){return null==e?"":(e+"").replace(X,"")},makeArray:function(e,t){var i,r=t||[];return null!=e&&(i=W.type(e),null==e.length||"string"===i||"function"===i||"regexp"===i||W.isWindow(e)?H.call(r,e):W.merge(r,e)),r},inArray:function(e,t,i){var r;if(t){if(L)return L.call(t,e,i);for(r=t.length,i=i?0>i?Math.max(0,r+i):i:0;r>i;i++)if(i in t&&t[i]===e)return i}return-1},merge:function(e,i){var r=i.length,s=e.length,a=0;if("number"==typeof r)for(;r>a;a++)e[s++]=i[a];else for(;i[a]!==t;)e[s++]=i[a++];return e.length=s,e},grep:function(e,t,i){var r,s=[],a=0,n=e.length;for(i=!!i;n>a;a++)r=!!t(e[a],a),i!==r&&s.push(e[a]);return s},map:function(e,i,r){var s,a,n=[],o=0,l=e.length,h=e instanceof W||l!==t&&"number"==typeof l&&(l>0&&e[0]&&e[l-1]||0===l||W.isArray(e));if(h)for(;l>o;o++)s=i(e[o],o,r),null!=s&&(n[n.length]=s);else for(a in e)s=i(e[a],a,r),null!=s&&(n[n.length]=s);return n.concat.apply([],n)},guid:1,proxy:function(e,i){var r,s,a;return"string"==typeof i&&(r=e[i],i=e,e=r),W.isFunction(e)?(s=z.call(arguments,2),a=function(){return e.apply(i,s.concat(z.call(arguments)))},a.guid=e.guid=e.guid||W.guid++,a):t},access:function(e,i,r,s,a,n,o){var l,h=null==r,d=0,c=e.length;if(r&&"object"==typeof r){for(d in r)W.access(e,i,d,r[d],1,n,s);a=1}else if(s!==t){if(l=o===t&&W.isFunction(s),h&&(l?(l=i,i=function(e,t,i){return l.call(W(e),i)}):(i.call(e,s),i=null)),i)for(;c>d;d++)i(e[d],r,l?s.call(e[d],d,i(e[d],r)):s,o);a=1}return a?e:h?i.call(e):c?i(e[0],r):n},now:function(){return(new Date).getTime()}}),W.ready.promise=function(t){if(!N)if(N=W.Deferred(),"complete"===B.readyState)setTimeout(W.ready,1);else if(B.addEventListener)B.addEventListener("DOMContentLoaded",se,!1),e.addEventListener("load",W.ready,!1);else{B.attachEvent("onreadystatechange",se),e.attachEvent("onload",W.ready);var i=!1;try{i=null==e.frameElement&&B.documentElement}catch(r){}i&&i.doScroll&&!function s(){if(!W.isReady){try{i.doScroll("left")}catch(e){return setTimeout(s,50)}W.ready()}}()}return N.promise(t)},W.each("Boolean Number String Function Array Date RegExp Object".split(" "),function(e,t){ae["[object "+t+"]"]=t.toLowerCase()}),P=W(B);var ne={};W.Callbacks=function(e){e="string"==typeof e?ne[e]||i(e):W.extend({},e);var r,s,a,n,o,l,h=[],d=!e.once&&[],c=function(t){for(r=e.memory&&t,s=!0,l=n||0,n=0,o=h.length,a=!0;h&&o>l;l++)if(h[l].apply(t[0],t[1])===!1&&e.stopOnFalse){r=!1;break}a=!1,h&&(d?d.length&&c(d.shift()):r?h=[]:u.disable())},u={add:function(){if(h){var t=h.length;!function i(t){W.each(t,function(t,r){var s=W.type(r);"function"===s?e.unique&&u.has(r)||h.push(r):r&&r.length&&"string"!==s&&i(r)})}(arguments),a?o=h.length:r&&(n=t,c(r))}return this},remove:function(){return h&&W.each(arguments,function(e,t){for(var i;(i=W.inArray(t,h,i))>-1;)h.splice(i,1),a&&(o>=i&&o--,l>=i&&l--)}),this},has:function(e){return W.inArray(e,h)>-1},empty:function(){return h=[],this},disable:function(){return h=d=r=t,this},disabled:function(){return!h},lock:function(){return d=t,r||u.disable(),this},locked:function(){return!d},fireWith:function(e,t){return t=t||[],t=[e,t.slice?t.slice():t],!h||s&&!d||(a?d.push(t):c(t)),this},fire:function(){return u.fireWith(this,arguments),this},fired:function(){return!!s}};return u},W.extend({Deferred:function(e){var t=[["resolve","done",W.Callbacks("once memory"),"resolved"],["reject","fail",W.Callbacks("once memory"),"rejected"],["notify","progress",W.Callbacks("memory")]],i="pending",r={state:function(){return i},always:function(){return s.done(arguments).fail(arguments),this},then:function(){var e=arguments;return W.Deferred(function(i){W.each(t,function(t,r){var a=r[0],n=e[t];s[r[1]](W.isFunction(n)?function(){var e=n.apply(this,arguments);e&&W.isFunction(e.promise)?e.promise().done(i.resolve).fail(i.reject).progress(i.notify):i[a+"With"](this===s?i:this,[e])}:i[a])}),e=null}).promise()},promise:function(e){return null!=e?W.extend(e,r):r}},s={};return r.pipe=r.then,W.each(t,function(e,a){var n=a[2],o=a[3];r[a[1]]=n.add,o&&n.add(function(){i=o},t[1^e][2].disable,t[2][2].lock),s[a[0]]=n.fire,s[a[0]+"With"]=n.fireWith}),r.promise(s),e&&e.call(s,s),s},when:function(e){var t,i,r,s=0,a=z.call(arguments),n=a.length,o=1!==n||e&&W.isFunction(e.promise)?n:0,l=1===o?e:W.Deferred(),h=function(e,i,r){return function(s){i[e]=this,r[e]=arguments.length>1?z.call(arguments):s,r===t?l.notifyWith(i,r):--o||l.resolveWith(i,r)}};if(n>1)for(t=new Array(n),i=new Array(n),r=new Array(n);n>s;s++)a[s]&&W.isFunction(a[s].promise)?a[s].promise().done(h(s,r,a)).fail(l.reject).progress(h(s,i,t)):--o;return o||l.resolveWith(r,a),l.promise()}}),W.support=function(){var t,i,r,s,a,n,o,l,h,d,c,u=B.createElement("div");if(u.setAttribute("className","t"),u.innerHTML="  <link/><table></table><a href='/a'>a</a><input type='checkbox'/>",i=u.getElementsByTagName("*"),r=u.getElementsByTagName("a")[0],!i||!r||!i.length)return{};s=B.createElement("select"),a=s.appendChild(B.createElement("option")),n=u.getElementsByTagName("input")[0],r.style.cssText="top:1px;float:left;opacity:.5",t={leadingWhitespace:3===u.firstChild.nodeType,tbody:!u.getElementsByTagName("tbody").length,htmlSerialize:!!u.getElementsByTagName("link").length,style:/top/.test(r.getAttribute("style")),hrefNormalized:"/a"===r.getAttribute("href"),opacity:/^0.5/.test(r.style.opacity),cssFloat:!!r.style.cssFloat,checkOn:"on"===n.value,optSelected:a.selected,getSetAttribute:"t"!==u.className,enctype:!!B.createElement("form").enctype,html5Clone:"<:nav></:nav>"!==B.createElement("nav").cloneNode(!0).outerHTML,boxModel:"CSS1Compat"===B.compatMode,submitBubbles:!0,changeBubbles:!0,focusinBubbles:!1,deleteExpando:!0,noCloneEvent:!0,inlineBlockNeedsLayout:!1,shrinkWrapBlocks:!1,reliableMarginRight:!0,boxSizingReliable:!0,pixelPosition:!1},n.checked=!0,t.noCloneChecked=n.cloneNode(!0).checked,s.disabled=!0,t.optDisabled=!a.disabled;try{delete u.test}catch(p){t.deleteExpando=!1}if(!u.addEventListener&&u.attachEvent&&u.fireEvent&&(u.attachEvent("onclick",c=function(){t.noCloneEvent=!1}),u.cloneNode(!0).fireEvent("onclick"),u.detachEvent("onclick",c)),n=B.createElement("input"),n.value="t",n.setAttribute("type","radio"),t.radioValue="t"===n.value,n.setAttribute("checked","checked"),n.setAttribute("name","t"),u.appendChild(n),o=B.createDocumentFragment(),o.appendChild(u.lastChild),t.checkClone=o.cloneNode(!0).cloneNode(!0).lastChild.checked,t.appendChecked=n.checked,o.removeChild(n),o.appendChild(u),u.attachEvent)for(h in{submit:!0,change:!0,focusin:!0})l="on"+h,d=l in u,d||(u.setAttribute(l,"return;"),d="function"==typeof u[l]),t[h+"Bubbles"]=d;return W(function(){var i,r,s,a,n="padding:0;margin:0;border:0;display:block;overflow:hidden;",o=B.getElementsByTagName("body")[0];o&&(i=B.createElement("div"),i.style.cssText="visibility:hidden;border:0;width:0;height:0;position:static;top:0;margin-top:1px",o.insertBefore(i,o.firstChild),r=B.createElement("div"),i.appendChild(r),r.innerHTML="<table><tr><td></td><td>t</td></tr></table>",s=r.getElementsByTagName("td"),s[0].style.cssText="padding:0;margin:0;border:0;display:none",d=0===s[0].offsetHeight,s[0].style.display="",s[1].style.display="none",t.reliableHiddenOffsets=d&&0===s[0].offsetHeight,r.innerHTML="",r.style.cssText="box-sizing:border-box;-moz-box-sizing:border-box;-webkit-box-sizing:border-box;padding:1px;border:1px;display:block;width:4px;margin-top:1%;position:absolute;top:1%;",t.boxSizing=4===r.offsetWidth,t.doesNotIncludeMarginInBodyOffset=1!==o.offsetTop,e.getComputedStyle&&(t.pixelPosition="1%"!==(e.getComputedStyle(r,null)||{}).top,t.boxSizingReliable="4px"===(e.getComputedStyle(r,null)||{width:"4px"}).width,a=B.createElement("div"),a.style.cssText=r.style.cssText=n,a.style.marginRight=a.style.width="0",r.style.width="1px",r.appendChild(a),t.reliableMarginRight=!parseFloat((e.getComputedStyle(a,null)||{}).marginRight)),"undefined"!=typeof r.style.zoom&&(r.innerHTML="",r.style.cssText=n+"width:1px;padding:1px;display:inline;zoom:1",t.inlineBlockNeedsLayout=3===r.offsetWidth,r.style.display="block",r.style.overflow="visible",r.innerHTML="<div></div>",r.firstChild.style.width="5px",t.shrinkWrapBlocks=3!==r.offsetWidth,i.style.zoom=1),o.removeChild(i),i=r=s=a=null)}),o.removeChild(u),i=r=s=a=n=o=u=null,t}();var oe=/(?:\{[\s\S]*\}|\[[\s\S]*\])$/,le=/([A-Z])/g;W.extend({cache:{},deletedIds:[],uuid:0,expando:"JQXLite"+(W.fn.jqx+Math.random()).replace(/\D/g,""),noData:{embed:!0,object:"clsid:D27CDB6E-AE6D-11cf-96B8-444553540000",applet:!0},hasData:function(e){return e=e.nodeType?W.cache[e[W.expando]]:e[W.expando],!!e&&!s(e)},data:function(e,i,r,s){if(W.acceptData(e)){var a,n,o=W.expando,l="string"==typeof i,h=e.nodeType,d=h?W.cache:e,c=h?e[o]:e[o]&&o;if(c&&d[c]&&(s||d[c].data)||!l||r!==t)return c||(h?e[o]=c=W.deletedIds.pop()||W.guid++:c=o),d[c]||(d[c]={},h||(d[c].toJSON=W.noop)),"object"!=typeof i&&"function"!=typeof i||(s?d[c]=W.extend(d[c],i):d[c].data=W.extend(d[c].data,i)),a=d[c],s||(a.data||(a.data={}),a=a.data),r!==t&&(a[W.camelCase(i)]=r),l?(n=a[i],null==n&&(n=a[W.camelCase(i)])):n=a,n}},removeData:function(e,t,i){if(W.acceptData(e)){var r,a,n,o=e.nodeType,l=o?W.cache:e,h=o?e[W.expando]:W.expando;if(l[h]){if(t&&(r=i?l[h]:l[h].data)){W.isArray(t)||(t in r?t=[t]:(t=W.camelCase(t),t=t in r?[t]:t.split(" ")));for(a=0,n=t.length;n>a;a++)delete r[t[a]];if(!(i?s:W.isEmptyObject)(r))return}(i||(delete l[h].data,s(l[h])))&&(o?W.cleanData([e],!0):W.support.deleteExpando||l!=l.window?delete l[h]:l[h]=null)}}},_data:function(e,t,i){return W.data(e,t,i,!0)},acceptData:function(e){var t=e.nodeName&&W.noData[e.nodeName.toLowerCase()];return!t||t!==!0&&e.getAttribute("classid")===t}}),W.fn.extend({data:function(e,i){var s,a,n,o,l,h=this[0],d=0,c=null;if(e===t){if(this.length&&(c=W.data(h),1===h.nodeType&&!W._data(h,"parsedAttrs"))){for(n=h.attributes,l=n.length;l>d;d++)o=n[d].name,o.indexOf("data-")||(o=W.camelCase(o.substring(5)),r(h,o,c[o]));W._data(h,"parsedAttrs",!0)}return c}return"object"==typeof e?this.each(function(){W.data(this,e)}):(s=e.split(".",2),s[1]=s[1]?"."+s[1]:"",a=s[1]+"!",W.access(this,function(i){return i===t?(c=this.triggerHandler("getData"+a,[s[0]]),c===t&&h&&(c=W.data(h,e),c=r(h,e,c)),c===t&&s[1]?this.data(s[0]):c):(s[1]=i,void this.each(function(){var t=W(this);t.triggerHandler("setData"+a,s),W.data(this,e,i),t.triggerHandler("changeData"+a,s)}))},null,i,arguments.length>1,null,!1))},removeData:function(e){return this.each(function(){W.removeData(this,e)})}}),W.extend({queue:function(e,t,i){var r;return e?(t=(t||"fx")+"queue",r=W._data(e,t),i&&(!r||W.isArray(i)?r=W._data(e,t,W.makeArray(i)):r.push(i)),r||[]):void 0},dequeue:function(e,t){t=t||"fx";var i=W.queue(e,t),r=i.length,s=i.shift(),a=W._queueHooks(e,t),n=function(){W.dequeue(e,t)};"inprogress"===s&&(s=i.shift(),r--),s&&("fx"===t&&i.unshift("inprogress"),delete a.stop,s.call(e,n,a)),!r&&a&&a.empty.fire()},_queueHooks:function(e,t){var i=t+"queueHooks";return W._data(e,i)||W._data(e,i,{empty:W.Callbacks("once memory").add(function(){W.removeData(e,t+"queue",!0),W.removeData(e,i,!0)})})}}),W.fn.extend({queue:function(e,i){var r=2;return"string"!=typeof e&&(i=e,e="fx",r--),arguments.length<r?W.queue(this[0],e):i===t?this:this.each(function(){var t=W.queue(this,e,i);W._queueHooks(this,e),"fx"===e&&"inprogress"!==t[0]&&W.dequeue(this,e)})},dequeue:function(e){return this.each(function(){W.dequeue(this,e)})},delay:function(e,t){return e=W.fx?W.fx.speeds[e]||e:e,t=t||"fx",this.queue(t,function(t,i){var r=setTimeout(t,e);i.stop=function(){clearTimeout(r)}})},clearQueue:function(e){return this.queue(e||"fx",[])},promise:function(e,i){var r,s=1,a=W.Deferred(),n=this,o=this.length,l=function(){--s||a.resolveWith(n,[n])};for("string"!=typeof e&&(i=e,e=t),e=e||"fx";o--;)r=W._data(n[o],e+"queueHooks"),r&&r.empty&&(s++,r.empty.add(l));return l(),a.promise(i)}});var he,de,ce=/[\t\r\n]/g,ue=/\r/g,pe=/^(?:button|input)$/i,fe=/^(?:button|input|object|select|textarea)$/i,me=/^a(?:rea|)$/i,ge=/^(?:autofocus|autoplay|async|checked|controls|defer|disabled|hidden|loop|multiple|open|readonly|required|scoped|selected)$/i,ve=W.support.getSetAttribute;W.fn.extend({attr:function(e,t){return W.access(this,W.attr,e,t,arguments.length>1)},removeAttr:function(e){return this.each(function(){W.removeAttr(this,e)})},prop:function(e,t){return W.access(this,W.prop,e,t,arguments.length>1)},removeProp:function(e){return e=W.propFix[e]||e,this.each(function(){try{this[e]=t,delete this[e]}catch(i){}})},addClass:function(e){var t,i,r,s,a,n,o;if(W.isFunction(e))return this.each(function(t){W(this).addClass(e.call(this,t,this.className))});if(e&&"string"==typeof e)for(t=e.split(Y),i=0,r=this.length;r>i;i++)if(s=this[i],1===s.nodeType)if(s.className||1!==t.length){for(a=" "+s.className+" ",n=0,o=t.length;o>n;n++)a.indexOf(" "+t[n]+" ")<0&&(a+=t[n]+" ");s.className=W.trim(a)}else s.className=e;return this},removeClass:function(e){var i,r,s,a,n,o,l;if(W.isFunction(e))return this.each(function(t){W(this).removeClass(e.call(this,t,this.className))});if(e&&"string"==typeof e||e===t)for(i=(e||"").split(Y),o=0,l=this.length;l>o;o++)if(s=this[o],1===s.nodeType&&s.className){for(r=(" "+s.className+" ").replace(ce," "),a=0,n=i.length;n>a;a++)for(;r.indexOf(" "+i[a]+" ")>=0;)r=r.replace(" "+i[a]+" "," ");s.className=e?W.trim(r):""}return this},toggleClass:function(e,t){var i=typeof e,r="boolean"==typeof t;return W.isFunction(e)?this.each(function(i){W(this).toggleClass(e.call(this,i,this.className,t),t)}):this.each(function(){if("string"===i)for(var s,a=0,n=W(this),o=t,l=e.split(Y);s=l[a++];)o=r?o:!n.hasClass(s),n[o?"addClass":"removeClass"](s);else"undefined"!==i&&"boolean"!==i||(this.className&&W._data(this,"__className__",this.className),this.className=this.className||e===!1?"":W._data(this,"__className__")||"")})},hasClass:function(e){for(var t=" "+e+" ",i=0,r=this.length;r>i;i++)if(1===this[i].nodeType&&(" "+this[i].className+" ").replace(ce," ").indexOf(t)>=0)return!0;return!1},val:function(e){var i,r,s,a=this[0];{if(arguments.length)return s=W.isFunction(e),this.each(function(r){var a,n=W(this);1===this.nodeType&&(a=s?e.call(this,r,n.val()):e,null==a?a="":"number"==typeof a?a+="":W.isArray(a)&&(a=W.map(a,function(e){return null==e?"":e+""})),i=W.valHooks[this.type]||W.valHooks[this.nodeName.toLowerCase()],i&&"set"in i&&i.set(this,a,"value")!==t||(this.value=a))});if(a)return i=W.valHooks[a.type]||W.valHooks[a.nodeName.toLowerCase()],i&&"get"in i&&(r=i.get(a,"value"))!==t?r:(r=a.value,"string"==typeof r?r.replace(ue,""):null==r?"":r)}}}),W.extend({valHooks:{option:{get:function(e){var t=e.attributes.value;return!t||t.specified?e.value:e.text}},select:{get:function(e){for(var t,i,r=e.options,s=e.selectedIndex,a="select-one"===e.type||0>s,n=a?null:[],o=a?s+1:r.length,l=0>s?o:a?s:0;o>l;l++)if(i=r[l],(i.selected||l===s)&&(W.support.optDisabled?!i.disabled:null===i.getAttribute("disabled"))&&(!i.parentNode.disabled||!W.nodeName(i.parentNode,"optgroup"))){if(t=W(i).val(),a)return t;n.push(t)}return n},set:function(e,t){var i=W.makeArray(t);return W(e).find("option").each(function(){this.selected=W.inArray(W(this).val(),i)>=0}),i.length||(e.selectedIndex=-1),i}}},attrFn:{},attr:function(e,i,r,s){var a,n,o,l=e.nodeType;if(e&&3!==l&&8!==l&&2!==l)return s&&W.isFunction(W.fn[i])?W(e)[i](r):"undefined"==typeof e.getAttribute?W.prop(e,i,r):(o=1!==l||!W.isXMLDoc(e),o&&(i=i.toLowerCase(),n=W.attrHooks[i]||(ge.test(i)?de:he)),r!==t?null===r?void W.removeAttr(e,i):n&&"set"in n&&o&&(a=n.set(e,r,i))!==t?a:(e.setAttribute(i,r+""),r):n&&"get"in n&&o&&null!==(a=n.get(e,i))?a:(a=e.getAttribute(i),null===a?t:a))},removeAttr:function(e,t){var i,r,s,a,n=0;if(t&&1===e.nodeType)for(r=t.split(Y);n<r.length;n++)s=r[n],s&&(i=W.propFix[s]||s,a=ge.test(s),a||W.attr(e,s,""),e.removeAttribute(ve?s:i),a&&i in e&&(e[i]=!1))},attrHooks:{type:{set:function(e,t){if(pe.test(e.nodeName)&&e.parentNode)W.error("type property can't be changed");else if(!W.support.radioValue&&"radio"===t&&W.nodeName(e,"input")){var i=e.value;return e.setAttribute("type",t),i&&(e.value=i),t}}},value:{get:function(e,t){return he&&W.nodeName(e,"button")?he.get(e,t):t in e?e.value:null},set:function(e,t,i){return he&&W.nodeName(e,"button")?he.set(e,t,i):void(e.value=t)}}},propFix:{tabindex:"tabIndex",readonly:"readOnly","for":"htmlFor","class":"className",maxlength:"maxLength",cellspacing:"cellSpacing",cellpadding:"cellPadding",rowspan:"rowSpan",colspan:"colSpan",usemap:"useMap",frameborder:"frameBorder",contenteditable:"contentEditable"},prop:function(e,i,r){var s,a,n,o=e.nodeType;if(e&&3!==o&&8!==o&&2!==o)return n=1!==o||!W.isXMLDoc(e),n&&(i=W.propFix[i]||i,a=W.propHooks[i]),r!==t?a&&"set"in a&&(s=a.set(e,r,i))!==t?s:e[i]=r:a&&"get"in a&&null!==(s=a.get(e,i))?s:e[i]},propHooks:{tabIndex:{get:function(e){var i=e.getAttributeNode("tabindex");return i&&i.specified?parseInt(i.value,10):fe.test(e.nodeName)||me.test(e.nodeName)&&e.href?0:t}}}}),de={get:function(e,i){var r,s=W.prop(e,i);return s===!0||"boolean"!=typeof s&&(r=e.getAttributeNode(i))&&r.nodeValue!==!1?i.toLowerCase():t},set:function(e,t,i){var r;return t===!1?W.removeAttr(e,i):(r=W.propFix[i]||i,r in e&&(e[r]=!0),e.setAttribute(i,i.toLowerCase())),i}},W.support.enctype||(W.propFix.enctype="encoding");var xe=/^([^\.]*|)(?:\.(.+)|)$/,be=/(?:^|\s)hover(\.\S+|)\b/,we=/^key/,ye=/^(?:mouse|contextmenu)|click/,_e=/^(?:focusinfocus|focusoutblur)$/,je=function(e){return W.event.special.hover?e:e.replace(be,"mouseenter$1 mouseleave$1")};W.event={add:function(e,i,r,s,a){var n,o,l,h,d,c,u,p,f,m,g;if(3!==e.nodeType&&8!==e.nodeType&&i&&r&&(n=W._data(e))){for(r.handler&&(f=r,r=f.handler,a=f.selector),r.guid||(r.guid=W.guid++),l=n.events,l||(n.events=l={}),o=n.handle,o||(n.handle=o=function(e){return"undefined"==typeof W||e&&W.event.triggered===e.type?t:W.event.dispatch.apply(o.elem,arguments)},o.elem=e),i=W.trim(je(i)).split(" "),h=0;h<i.length;h++)d=xe.exec(i[h])||[],c=d[1],u=(d[2]||"").split(".").sort(),g=W.event.special[c]||{},c=(a?g.delegateType:g.bindType)||c,g=W.event.special[c]||{},p=W.extend({type:c,origType:d[1],data:s,handler:r,guid:r.guid,selector:a,needsContext:a&&W.expr.match.needsContext.test(a),namespace:u.join(".")},f),m=l[c],m||(m=l[c]=[],m.delegateCount=0,g.setup&&g.setup.call(e,s,u,o)!==!1||(e.addEventListener?e.addEventListener(c,o,!1):e.attachEvent&&e.attachEvent("on"+c,o))),g.add&&(g.add.call(e,p),p.handler.guid||(p.handler.guid=r.guid)),a?m.splice(m.delegateCount++,0,p):m.push(p),W.event.global[c]=!0;e=null}},global:{},remove:function(e,t,i,r,s){var a,n,o,l,h,d,c,u,p,f,m,g=W.hasData(e)&&W._data(e);if(g&&(u=g.events)){for(t=W.trim(je(t||"")).split(" "),a=0;a<t.length;a++)if(n=xe.exec(t[a])||[],o=l=n[1],h=n[2],o){for(p=W.event.special[o]||{},o=(r?p.delegateType:p.bindType)||o,f=u[o]||[],d=f.length,h=h?new RegExp("(^|\\.)"+h.split(".").sort().join("\\.(?:.*\\.|)")+"(\\.|$)"):null,c=0;c<f.length;c++)m=f[c],!s&&l!==m.origType||i&&i.guid!==m.guid||h&&!h.test(m.namespace)||r&&r!==m.selector&&("**"!==r||!m.selector)||(f.splice(c--,1),m.selector&&f.delegateCount--,p.remove&&p.remove.call(e,m));0===f.length&&d!==f.length&&(p.teardown&&p.teardown.call(e,h,g.handle)!==!1||W.removeEvent(e,o,g.handle),delete u[o])}else for(o in u)W.event.remove(e,o+t[a],i,r,!0);
W.isEmptyObject(u)&&(delete g.handle,W.removeData(e,"events",!0))}},customEvent:{getData:!0,setData:!0,changeData:!0},trigger:function(i,r,s,a){if(!s||3!==s.nodeType&&8!==s.nodeType){var n,o,l,h,d,c,u,p,f,m,g=i.type||i,v=[];if(!_e.test(g+W.event.triggered)&&(g.indexOf("!")>=0&&(g=g.slice(0,-1),o=!0),g.indexOf(".")>=0&&(v=g.split("."),g=v.shift(),v.sort()),s&&!W.event.customEvent[g]||W.event.global[g]))if(i="object"==typeof i?i[W.expando]?i:new W.Event(g,i):new W.Event(g),i.type=g,i.isTrigger=!0,i.exclusive=o,i.namespace=v.join("."),i.namespace_re=i.namespace?new RegExp("(^|\\.)"+v.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,c=g.indexOf(":")<0?"on"+g:"",s){if(i.result=t,i.target||(i.target=s),r=null!=r?W.makeArray(r):[],r.unshift(i),u=W.event.special[g]||{},!u.trigger||u.trigger.apply(s,r)!==!1){if(f=[[s,u.bindType||g]],!a&&!u.noBubble&&!W.isWindow(s)){for(m=u.delegateType||g,h=_e.test(m+g)?s:s.parentNode,d=s;h;h=h.parentNode)f.push([h,m]),d=h;d===(s.ownerDocument||B)&&f.push([d.defaultView||d.parentWindow||e,m])}for(l=0;l<f.length&&!i.isPropagationStopped();l++)h=f[l][0],i.type=f[l][1],p=(W._data(h,"events")||{})[i.type]&&W._data(h,"handle"),p&&p.apply(h,r),p=c&&h[c],p&&W.acceptData(h)&&p.apply&&p.apply(h,r)===!1&&i.preventDefault();return i.type=g,a||i.isDefaultPrevented()||u._default&&u._default.apply(s.ownerDocument,r)!==!1||"click"===g&&W.nodeName(s,"a")||!W.acceptData(s)||c&&s[g]&&("focus"!==g&&"blur"!==g||0!==i.target.offsetWidth)&&!W.isWindow(s)&&(d=s[c],d&&(s[c]=null),W.event.triggered=g,s[g](),W.event.triggered=t,d&&(s[c]=d)),i.result}}else{n=W.cache;for(l in n)n[l].events&&n[l].events[g]&&W.event.trigger(i,r,n[l].handle.elem,!0)}}},dispatch:function(i){i=W.event.fix(i||e.event);var r,s,a,n,o,l,h,d,c,u=(W._data(this,"events")||{})[i.type]||[],p=u.delegateCount,f=z.call(arguments),m=!i.exclusive&&!i.namespace,g=W.event.special[i.type]||{},v=[];if(f[0]=i,i.delegateTarget=this,!g.preDispatch||g.preDispatch.call(this,i)!==!1){if(p&&(!i.button||"click"!==i.type))for(a=i.target;a!=this;a=a.parentNode||this)if(a.disabled!==!0||"click"!==i.type){for(o={},h=[],r=0;p>r;r++)d=u[r],c=d.selector,o[c]===t&&(o[c]=d.needsContext?W(c,this).index(a)>=0:W.find(c,this,null,[a]).length),o[c]&&h.push(d);h.length&&v.push({elem:a,matches:h})}for(u.length>p&&v.push({elem:this,matches:u.slice(p)}),r=0;r<v.length&&!i.isPropagationStopped();r++)for(l=v[r],i.currentTarget=l.elem,s=0;s<l.matches.length&&!i.isImmediatePropagationStopped();s++)d=l.matches[s],(m||!i.namespace&&!d.namespace||i.namespace_re&&i.namespace_re.test(d.namespace))&&(i.data=d.data,i.handleObj=d,n=((W.event.special[d.origType]||{}).handle||d.handler).apply(l.elem,f),n!==t&&(i.result=n,n===!1&&(i.preventDefault(),i.stopPropagation())));return g.postDispatch&&g.postDispatch.call(this,i),i.result}},props:"attrChange attrName relatedNode srcElement altKey bubbles cancelable ctrlKey currentTarget eventPhase metaKey relatedTarget shiftKey target timeStamp view which".split(" "),fixHooks:{},keyHooks:{props:"char charCode key keyCode".split(" "),filter:function(e,t){return null==e.which&&(e.which=null!=t.charCode?t.charCode:t.keyCode),e}},mouseHooks:{props:"button buttons clientX clientY fromElement offsetX offsetY pageX pageY screenX screenY toElement".split(" "),filter:function(e,i){var r,s,a,n=i.button,o=i.fromElement;return null==e.pageX&&null!=i.clientX&&(r=e.target.ownerDocument||B,s=r.documentElement,a=r.body,e.pageX=i.clientX+(s&&s.scrollLeft||a&&a.scrollLeft||0)-(s&&s.clientLeft||a&&a.clientLeft||0),e.pageY=i.clientY+(s&&s.scrollTop||a&&a.scrollTop||0)-(s&&s.clientTop||a&&a.clientTop||0)),!e.relatedTarget&&o&&(e.relatedTarget=o===e.target?i.toElement:o),e.which||n===t||(e.which=1&n?1:2&n?3:4&n?2:0),e}},fix:function(e){if(e[W.expando])return e;var t,i,r=e,s=W.event.fixHooks[e.type]||{},a=s.props?this.props.concat(s.props):this.props;for(e=W.Event(r),t=a.length;t;)i=a[--t],e[i]=r[i];return e.target||(e.target=r.srcElement||B),3===e.target.nodeType&&(e.target=e.target.parentNode),e.metaKey=!!e.metaKey,s.filter?s.filter(e,r):e},special:{load:{noBubble:!0},focus:{delegateType:"focusin"},blur:{delegateType:"focusout"},beforeunload:{setup:function(e,t,i){W.isWindow(this)&&(this.onbeforeunload=i)},teardown:function(e,t){this.onbeforeunload===t&&(this.onbeforeunload=null)}}},simulate:function(e,t,i,r){var s=W.extend(new W.Event,i,{type:e,isSimulated:!0,originalEvent:{}});r?W.event.trigger(s,null,t):W.event.dispatch.call(t,s),s.isDefaultPrevented()&&i.preventDefault()}},W.event.handle=W.event.dispatch,W.removeEvent=B.removeEventListener?function(e,t,i){e.removeEventListener&&e.removeEventListener(t,i,!1)}:function(e,t,i){var r="on"+t;e.detachEvent&&("undefined"==typeof e[r]&&(e[r]=null),e.detachEvent(r,i))},W.Event=function(e,t){return this instanceof W.Event?(e&&e.type?(this.originalEvent=e,this.type=e.type,this.isDefaultPrevented=e.defaultPrevented||e.returnValue===!1||e.getPreventDefault&&e.getPreventDefault()?n:a):this.type=e,t&&W.extend(this,t),this.timeStamp=e&&e.timeStamp||W.now(),void(this[W.expando]=!0)):new W.Event(e,t)},W.Event.prototype={preventDefault:function(){this.isDefaultPrevented=n;var e=this.originalEvent;e&&(e.preventDefault?e.preventDefault():e.returnValue=!1)},stopPropagation:function(){this.isPropagationStopped=n;var e=this.originalEvent;e&&(e.stopPropagation&&e.stopPropagation(),e.cancelBubble=!0)},stopImmediatePropagation:function(){this.isImmediatePropagationStopped=n,this.stopPropagation()},isDefaultPrevented:a,isPropagationStopped:a,isImmediatePropagationStopped:a},W.each({mouseenter:"mouseover",mouseleave:"mouseout"},function(e,t){W.event.special[e]={delegateType:t,bindType:t,handle:function(e){var i,r=this,s=e.relatedTarget,a=e.handleObj;a.selector;return s&&(s===r||W.contains(r,s))||(e.type=a.origType,i=a.handler.apply(this,arguments),e.type=t),i}}}),W.fn.extend({on:function(e,i,r,s,n){var o,l;if("object"==typeof e){"string"!=typeof i&&(r=r||i,i=t);for(l in e)this.on(l,i,r,e[l],n);return this}if(null==r&&null==s?(s=i,r=i=t):null==s&&("string"==typeof i?(s=r,r=t):(s=r,r=i,i=t)),s===!1)s=a;else if(!s)return this;return 1===n&&(o=s,s=function(e){return W().off(e),o.apply(this,arguments)},s.guid=o.guid||(o.guid=W.guid++)),this.each(function(){W.event.add(this,e,s,r,i)})},off:function(e,i,r){var s,n;if(e&&e.preventDefault&&e.handleObj)return s=e.handleObj,W(e.delegateTarget).off(s.namespace?s.origType+"."+s.namespace:s.origType,s.selector,s.handler),this;if("object"==typeof e){for(n in e)this.off(n,i,e[n]);return this}return i!==!1&&"function"!=typeof i||(r=i,i=t),r===!1&&(r=a),this.each(function(){W.event.remove(this,e,r,i)})},delegate:function(e,t,i,r){return this.on(t,e,i,r)},undelegate:function(e,t,i){return 1===arguments.length?this.off(e,"**"):this.off(t,e||"**",i)},trigger:function(e,t){return this.each(function(){W.event.trigger(e,t,this)})},triggerHandler:function(e,t){return this[0]?W.event.trigger(e,t,this[0],!0):void 0},toggle:function(e){var t=arguments,i=e.guid||W.guid++,r=0,s=function(i){var s=(W._data(this,"lastToggle"+e.guid)||0)%r;return W._data(this,"lastToggle"+e.guid,s+1),i.preventDefault(),t[s].apply(this,arguments)||!1};for(s.guid=i;r<t.length;)t[r++].guid=i;return this.click(s)},hover:function(e,t){return this.mouseenter(e).mouseleave(t||e)}}),W.each("blur focus focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup error contextmenu".split(" "),function(e,t){W.fn[t]=function(e,i){return null==i&&(i=e,e=null),arguments.length>0?this.on(t,null,e,i):this.trigger(t)},we.test(t)&&(W.event.fixHooks[t]=W.event.keyHooks),ye.test(t)&&(W.event.fixHooks[t]=W.event.mouseHooks)}),/*!
         * Sizzle CSS Selector Engine
         * Copyright 2012 JQXLite Foundation and other contributors
         * Released under the MIT license
         * http://sizzlejs.com/
         */
function(e,t){function i(e,t,i,r){i=i||[],t=t||M;var s,a,n,o,l=t.nodeType;if(!e||"string"!=typeof e)return i;if(1!==l&&9!==l)return[];if(n=y(t),!n&&!r&&(s=ie.exec(e)))if(o=s[1]){if(9===l){if(a=t.getElementById(o),!a||!a.parentNode)return i;if(a.id===o)return i.push(a),i}else if(t.ownerDocument&&(a=t.ownerDocument.getElementById(o))&&_(t,a)&&a.id===o)return i.push(a),i}else{if(s[2])return E.apply(i,A.call(t.getElementsByTagName(e),0)),i;if((o=s[3])&&ue&&t.getElementsByClassName)return E.apply(i,A.call(t.getElementsByClassName(o),0)),i}return m(e.replace(Q,"$1"),t,i,r,n)}function r(e){return function(t){var i=t.nodeName.toLowerCase();return"input"===i&&t.type===e}}function s(e){return function(t){var i=t.nodeName.toLowerCase();return("input"===i||"button"===i)&&t.type===e}}function a(e){return z(function(t){return t=+t,z(function(i,r){for(var s,a=e([],i.length,t),n=a.length;n--;)i[s=a[n]]&&(i[s]=!(r[s]=i[s]))})})}function n(e,t,i){if(e===t)return i;for(var r=e.nextSibling;r;){if(r===t)return-1;r=r.nextSibling}return 1}function o(e,t){var r,s,a,n,o,l,h,d=R[k][e+" "];if(d)return t?0:d.slice(0);for(o=e,l=[],h=b.preFilter;o;){r&&!(s=Z.exec(o))||(s&&(o=o.slice(s[0].length)||o),l.push(a=[])),r=!1,(s=ee.exec(o))&&(a.push(r=new D(s.shift())),o=o.slice(r.length),r.type=s[0].replace(Q," "));for(n in b.filter)!(s=oe[n].exec(o))||h[n]&&!(s=h[n](s))||(a.push(r=new D(s.shift())),o=o.slice(r.length),r.type=n,r.matches=s);if(!r)break}return t?o.length:o?i.error(e):R(e,l).slice(0)}function l(e,t,i){var r=t.dir,s=i&&"parentNode"===t.dir,a=B++;return t.first?function(t,i,a){for(;t=t[r];)if(s||1===t.nodeType)return e(t,i,a)}:function(t,i,n){if(n){for(;t=t[r];)if((s||1===t.nodeType)&&e(t,i,n))return t}else for(var o,l=N+" "+a+" ",h=l+v;t=t[r];)if(s||1===t.nodeType){if((o=t[k])===h)return t.sizset;if("string"==typeof o&&0===o.indexOf(l)){if(t.sizset)return t}else{if(t[k]=h,e(t,i,n))return t.sizset=!0,t;t.sizset=!1}}}}function h(e){return e.length>1?function(t,i,r){for(var s=e.length;s--;)if(!e[s](t,i,r))return!1;return!0}:e[0]}function d(e,t,i,r,s){for(var a,n=[],o=0,l=e.length,h=null!=t;l>o;o++)(a=e[o])&&(i&&!i(a,r,s)||(n.push(a),h&&t.push(o)));return n}function c(e,t,i,r,s,a){return r&&!r[k]&&(r=c(r)),s&&!s[k]&&(s=c(s,a)),z(function(a,n,o,l){var h,c,u,p=[],m=[],g=n.length,v=a||f(t||"*",o.nodeType?[o]:o,[]),x=!e||!a&&t?v:d(v,p,e,o,l),b=i?s||(a?e:g||r)?[]:n:x;if(i&&i(x,b,o,l),r)for(h=d(b,m),r(h,[],o,l),c=h.length;c--;)(u=h[c])&&(b[m[c]]=!(x[m[c]]=u));if(a){if(s||e){if(s){for(h=[],c=b.length;c--;)(u=b[c])&&h.push(x[c]=u);s(null,b=[],h,l)}for(c=b.length;c--;)(u=b[c])&&(h=s?H.call(a,u):p[c])>-1&&(a[h]=!(n[h]=u))}}else b=d(b===n?b.splice(g,b.length):b),s?s(null,n,b,l):E.apply(n,b)})}function u(e){for(var t,i,r,s=e.length,a=b.relative[e[0].type],n=a||b.relative[" "],o=a?1:0,d=l(function(e){return e===t},n,!0),p=l(function(e){return H.call(t,e)>-1},n,!0),f=[function(e,i,r){return!a&&(r||i!==S)||((t=i).nodeType?d(e,i,r):p(e,i,r))}];s>o;o++)if(i=b.relative[e[o].type])f=[l(h(f),i)];else{if(i=b.filter[e[o].type].apply(null,e[o].matches),i[k]){for(r=++o;s>r&&!b.relative[e[r].type];r++);return c(o>1&&h(f),o>1&&e.slice(0,o-1).join("").replace(Q,"$1"),i,r>o&&u(e.slice(o,r)),s>r&&u(e=e.slice(r)),s>r&&e.join(""))}f.push(i)}return h(f)}function p(e,t){var r=t.length>0,s=e.length>0,a=function(n,o,l,h,c){var u,p,f,m=[],g=0,x="0",w=n&&[],y=null!=c,_=S,j=n||s&&b.find.TAG("*",c&&o.parentNode||o),q=N+=null==_?1:Math.E;for(y&&(S=o!==M&&o,v=a.el);null!=(u=j[x]);x++){if(s&&u){for(p=0;f=e[p];p++)if(f(u,o,l)){h.push(u);break}y&&(N=q,v=++a.el)}r&&((u=!f&&u)&&g--,n&&w.push(u))}if(g+=x,r&&x!==g){for(p=0;f=t[p];p++)f(w,m,o,l);if(n){if(g>0)for(;x--;)w[x]||m[x]||(m[x]=O.call(h));m=d(m)}E.apply(h,m),y&&!n&&m.length>0&&g+t.length>1&&i.uniqueSort(h)}return y&&(N=q,S=_),w};return a.el=0,r?z(a):a}function f(e,t,r){for(var s=0,a=t.length;a>s;s++)i(e,t[s],r);return r}function m(e,t,i,r,s){var a,n,l,h,d,c=o(e);c.length;if(!r&&1===c.length){if(n=c[0]=c[0].slice(0),n.length>2&&"ID"===(l=n[0]).type&&9===t.nodeType&&!s&&b.relative[n[1].type]){if(t=b.find.ID(l.matches[0].replace(ne,""),t,s)[0],!t)return i;e=e.slice(n.shift().length)}for(a=oe.POS.test(e)?-1:n.length-1;a>=0&&(l=n[a],!b.relative[h=l.type]);a--)if((d=b.find[h])&&(r=d(l.matches[0].replace(ne,""),re.test(n[0].type)&&t.parentNode||t,s))){if(n.splice(a,1),e=r.length&&n.join(""),!e)return E.apply(i,A.call(r,0)),i;break}}return j(e,c)(r,t,s,i,re.test(e)),i}function g(){}var v,x,b,w,y,_,j,q,T,S,C=!0,I="undefined",k=("sizcache"+Math.random()).replace(".",""),D=String,M=e.document,P=M.documentElement,N=0,B=0,O=[].pop,E=[].push,A=[].slice,H=[].indexOf||function(e){for(var t=0,i=this.length;i>t;t++)if(this[t]===e)return t;return-1},z=function(e,t){return e[k]=null==t||t,e},L=function(){var e={},t=[];return z(function(i,r){return t.push(i)>b.cacheLength&&delete e[t.shift()],e[i+" "]=r},e)},F=L(),R=L(),V=L(),G="[\\x20\\t\\r\\n\\f]",U="(?:\\\\.|[-\\w]|[^\\x00-\\xa0])+",Y=U.replace("w","w#"),X="([*^$|!~]?=)",K="\\["+G+"*("+U+")"+G+"*(?:"+X+G+"*(?:(['\"])((?:\\\\.|[^\\\\])*?)\\3|("+Y+")|)|)"+G+"*\\]",$=":("+U+")(?:\\((?:(['\"])((?:\\\\.|[^\\\\])*?)\\2|([^()[\\]]*|(?:(?:"+K+")|[^:]|\\\\.)*|.*))\\)|)",J=":(even|odd|eq|gt|lt|nth|first|last)(?:\\("+G+"*((?:-\\d)?\\d*)"+G+"*\\)|)(?=[^-]|$)",Q=new RegExp("^"+G+"+|((?:^|[^\\\\])(?:\\\\.)*)"+G+"+$","g"),Z=new RegExp("^"+G+"*,"+G+"*"),ee=new RegExp("^"+G+"*([\\x20\\t\\r\\n\\f>+~])"+G+"*"),te=new RegExp($),ie=/^(?:#([\w\-]+)|(\w+)|\.([\w\-]+))$/,re=/[\x20\t\r\n\f]*[+~]/,se=/h\d/i,ae=/input|select|textarea|button/i,ne=/\\(?!\\)/g,oe={ID:new RegExp("^#("+U+")"),CLASS:new RegExp("^\\.("+U+")"),NAME:new RegExp("^\\[name=['\"]?("+U+")['\"]?\\]"),TAG:new RegExp("^("+U.replace("w","w*")+")"),ATTR:new RegExp("^"+K),PSEUDO:new RegExp("^"+$),POS:new RegExp(J,"i"),CHILD:new RegExp("^:(only|nth|first|last)-child(?:\\("+G+"*(even|odd|(([+-]|)(\\d*)n|)"+G+"*(?:([+-]|)"+G+"*(\\d+)|))"+G+"*\\)|)","i"),needsContext:new RegExp("^"+G+"*[>+~]|"+J,"i")},le=function(e){var t=M.createElement("div");try{return e(t)}catch(i){return!1}finally{t=null}},he=le(function(e){return e.appendChild(M.createComment("")),!e.getElementsByTagName("*").length}),de=le(function(e){return e.innerHTML="<a href='#'></a>",e.firstChild&&typeof e.firstChild.getAttribute!==I&&"#"===e.firstChild.getAttribute("href")}),ce=le(function(e){e.innerHTML="<select></select>";var t=typeof e.lastChild.getAttribute("multiple");return"boolean"!==t&&"string"!==t}),ue=le(function(e){return e.innerHTML="<div class='hidden e'></div><div class='hidden'></div>",e.getElementsByClassName&&e.getElementsByClassName("e").length?(e.lastChild.className="e",2===e.getElementsByClassName("e").length):!1}),pe=le(function(e){e.id=k+0,e.innerHTML="<a name='"+k+"'></a><div name='"+k+"'></div>",P.insertBefore(e,P.firstChild);var t=M.getElementsByName&&M.getElementsByName(k).length===2+M.getElementsByName(k+0).length;return x=!M.getElementById(k),P.removeChild(e),t});try{A.call(P.childNodes,0)[0].nodeType}catch(fe){A=function(e){for(var t,i=[];t=this[e];e++)i.push(t);return i}}i.matches=function(e,t){return i(e,null,null,t)},i.matchesSelector=function(e,t){return i(t,null,null,[e]).length>0},w=i.getText=function(e){var t,i="",r=0,s=e.nodeType;if(s){if(1===s||9===s||11===s){if("string"==typeof e.textContent)return e.textContent;for(e=e.firstChild;e;e=e.nextSibling)i+=w(e)}else if(3===s||4===s)return e.nodeValue}else for(;t=e[r];r++)i+=w(t);return i},y=i.isXML=function(e){var t=e&&(e.ownerDocument||e).documentElement;return t?"HTML"!==t.nodeName:!1},_=i.contains=P.contains?function(e,t){var i=9===e.nodeType?e.documentElement:e,r=t&&t.parentNode;return e===r||!!(r&&1===r.nodeType&&i.contains&&i.contains(r))}:P.compareDocumentPosition?function(e,t){return t&&!!(16&e.compareDocumentPosition(t))}:function(e,t){for(;t=t.parentNode;)if(t===e)return!0;return!1},i.attr=function(e,t){var i,r=y(e);return r||(t=t.toLowerCase()),(i=b.attrHandle[t])?i(e):r||ce?e.getAttribute(t):(i=e.getAttributeNode(t),i?"boolean"==typeof e[t]?e[t]?t:null:i.specified?i.value:null:null)},b=i.selectors={cacheLength:50,createPseudo:z,match:oe,attrHandle:de?{}:{href:function(e){return e.getAttribute("href",2)},type:function(e){return e.getAttribute("type")}},find:{ID:x?function(e,t,i){if(typeof t.getElementById!==I&&!i){var r=t.getElementById(e);return r&&r.parentNode?[r]:[]}}:function(e,i,r){if(typeof i.getElementById!==I&&!r){var s=i.getElementById(e);return s?s.id===e||typeof s.getAttributeNode!==I&&s.getAttributeNode("id").value===e?[s]:t:[]}},TAG:he?function(e,t){return typeof t.getElementsByTagName!==I?t.getElementsByTagName(e):void 0}:function(e,t){var i=t.getElementsByTagName(e);if("*"===e){for(var r,s=[],a=0;r=i[a];a++)1===r.nodeType&&s.push(r);return s}return i},NAME:pe&&function(e,t){return typeof t.getElementsByName!==I?t.getElementsByName(name):void 0},CLASS:ue&&function(e,t,i){return typeof t.getElementsByClassName===I||i?void 0:t.getElementsByClassName(e)}},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(e){return e[1]=e[1].replace(ne,""),e[3]=(e[4]||e[5]||"").replace(ne,""),"~="===e[2]&&(e[3]=" "+e[3]+" "),e.slice(0,4)},CHILD:function(e){return e[1]=e[1].toLowerCase(),"nth"===e[1]?(e[2]||i.error(e[0]),e[3]=+(e[3]?e[4]+(e[5]||1):2*("even"===e[2]||"odd"===e[2])),e[4]=+(e[6]+e[7]||"odd"===e[2])):e[2]&&i.error(e[0]),e},PSEUDO:function(e){var t,i;return oe.CHILD.test(e[0])?null:(e[3]?e[2]=e[3]:(t=e[4])&&(te.test(t)&&(i=o(t,!0))&&(i=t.indexOf(")",t.length-i)-t.length)&&(t=t.slice(0,i),e[0]=e[0].slice(0,i)),e[2]=t),e.slice(0,3))}},filter:{ID:x?function(e){return e=e.replace(ne,""),function(t){return t.getAttribute("id")===e}}:function(e){return e=e.replace(ne,""),function(t){var i=typeof t.getAttributeNode!==I&&t.getAttributeNode("id");return i&&i.value===e}},TAG:function(e){return"*"===e?function(){return!0}:(e=e.replace(ne,"").toLowerCase(),function(t){return t.nodeName&&t.nodeName.toLowerCase()===e})},CLASS:function(e){var t=F[k][e+" "];return t||(t=new RegExp("(^|"+G+")"+e+"("+G+"|$)"))&&F(e,function(e){return t.test(e.className||typeof e.getAttribute!==I&&e.getAttribute("class")||"")})},ATTR:function(e,t,r){return function(s,a){var n=i.attr(s,e);return null==n?"!="===t:t?(n+="","="===t?n===r:"!="===t?n!==r:"^="===t?r&&0===n.indexOf(r):"*="===t?r&&n.indexOf(r)>-1:"$="===t?r&&n.substr(n.length-r.length)===r:"~="===t?(" "+n+" ").indexOf(r)>-1:"|="===t?n===r||n.substr(0,r.length+1)===r+"-":!1):!0}},CHILD:function(e,t,i,r){return"nth"===e?function(e){var t,s,a=e.parentNode;if(1===i&&0===r)return!0;if(a)for(s=0,t=a.firstChild;t&&(1!==t.nodeType||(s++,e!==t));t=t.nextSibling);return s-=r,s===i||s%i===0&&s/i>=0}:function(t){var i=t;switch(e){case"only":case"first":for(;i=i.previousSibling;)if(1===i.nodeType)return!1;if("first"===e)return!0;i=t;case"last":for(;i=i.nextSibling;)if(1===i.nodeType)return!1;return!0}}},PSEUDO:function(e,t){var r,s=b.pseudos[e]||b.setFilters[e.toLowerCase()]||i.error("unsupported pseudo: "+e);return s[k]?s(t):s.length>1?(r=[e,e,"",t],b.setFilters.hasOwnProperty(e.toLowerCase())?z(function(e,i){for(var r,a=s(e,t),n=a.length;n--;)r=H.call(e,a[n]),e[r]=!(i[r]=a[n])}):function(e){return s(e,0,r)}):s}},pseudos:{not:z(function(e){var t=[],i=[],r=j(e.replace(Q,"$1"));return r[k]?z(function(e,t,i,s){for(var a,n=r(e,null,s,[]),o=e.length;o--;)(a=n[o])&&(e[o]=!(t[o]=a))}):function(e,s,a){return t[0]=e,r(t,null,a,i),!i.pop()}}),has:z(function(e){return function(t){return i(e,t).length>0}}),contains:z(function(e){return function(t){return(t.textContent||t.innerText||w(t)).indexOf(e)>-1}}),enabled:function(e){return e.disabled===!1},disabled:function(e){return e.disabled===!0},checked:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&!!e.checked||"option"===t&&!!e.selected},selected:function(e){return e.parentNode&&e.parentNode.selectedIndex,e.selected===!0},parent:function(e){return!b.pseudos.empty(e)},empty:function(e){var t;for(e=e.firstChild;e;){if(e.nodeName>"@"||3===(t=e.nodeType)||4===t)return!1;e=e.nextSibling}return!0},header:function(e){return se.test(e.nodeName)},text:function(e){var t,i;return"input"===e.nodeName.toLowerCase()&&"text"===(t=e.type)&&(null==(i=e.getAttribute("type"))||i.toLowerCase()===t)},radio:r("radio"),checkbox:r("checkbox"),file:r("file"),password:r("password"),image:r("image"),submit:s("submit"),reset:s("reset"),button:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&"button"===e.type||"button"===t},input:function(e){return ae.test(e.nodeName)},focus:function(e){var t=e.ownerDocument;return e===t.activeElement&&(!t.hasFocus||t.hasFocus())&&!!(e.type||e.href||~e.tabIndex)},active:function(e){return e===e.ownerDocument.activeElement},first:a(function(){return[0]}),last:a(function(e,t){return[t-1]}),eq:a(function(e,t,i){return[0>i?i+t:i]}),even:a(function(e,t){for(var i=0;t>i;i+=2)e.push(i);return e}),odd:a(function(e,t){for(var i=1;t>i;i+=2)e.push(i);return e}),lt:a(function(e,t,i){for(var r=0>i?i+t:i;--r>=0;)e.push(r);return e}),gt:a(function(e,t,i){for(var r=0>i?i+t:i;++r<t;)e.push(r);return e})}},q=P.compareDocumentPosition?function(e,t){return e===t?(T=!0,0):(e.compareDocumentPosition&&t.compareDocumentPosition?4&e.compareDocumentPosition(t):e.compareDocumentPosition)?-1:1}:function(e,t){if(e===t)return T=!0,0;if(e.sourceIndex&&t.sourceIndex)return e.sourceIndex-t.sourceIndex;var i,r,s=[],a=[],o=e.parentNode,l=t.parentNode,h=o;if(o===l)return n(e,t);if(!o)return-1;if(!l)return 1;for(;h;)s.unshift(h),h=h.parentNode;for(h=l;h;)a.unshift(h),h=h.parentNode;i=s.length,r=a.length;for(var d=0;i>d&&r>d;d++)if(s[d]!==a[d])return n(s[d],a[d]);return d===i?n(e,a[d],-1):n(s[d],t,1)},[0,0].sort(q),C=!T,i.uniqueSort=function(e){var t,i=[],r=1,s=0;if(T=C,e.sort(q),T){for(;t=e[r];r++)t===e[r-1]&&(s=i.push(r));for(;s--;)e.splice(i[s],1)}return e},i.error=function(e){throw new Error("Syntax error, unrecognized expression: "+e)},j=i.compile=function(e,t){var i,r=[],s=[],a=V[k][e+" "];if(!a){for(t||(t=o(e)),i=t.length;i--;)a=u(t[i]),a[k]?r.push(a):s.push(a);a=V(e,p(s,r))}return a},M.querySelectorAll&&!function(){var e,t=m,r=/'|\\/g,s=/\=[\x20\t\r\n\f]*([^'"\]]*)[\x20\t\r\n\f]*\]/g,a=[":focus"],n=[":active"],l=P.matchesSelector||P.mozMatchesSelector||P.webkitMatchesSelector||P.oMatchesSelector||P.msMatchesSelector;le(function(e){e.innerHTML="<select><option selected=''></option></select>",e.querySelectorAll("[selected]").length||a.push("\\["+G+"*(?:checked|disabled|ismap|multiple|readonly|selected|value)"),e.querySelectorAll(":checked").length||a.push(":checked")}),le(function(e){e.innerHTML="<p test=''></p>",e.querySelectorAll("[test^='']").length&&a.push("[*^$]="+G+"*(?:\"\"|'')"),e.innerHTML="<input type='hidden'/>",e.querySelectorAll(":enabled").length||a.push(":enabled",":disabled")}),a=new RegExp(a.join("|")),m=function(e,i,s,n,l){if(!n&&!l&&!a.test(e)){var h,d,c=!0,u=k,p=i,f=9===i.nodeType&&e;if(1===i.nodeType&&"object"!==i.nodeName.toLowerCase()){for(h=o(e),(c=i.getAttribute("id"))?u=c.replace(r,"\\$&"):i.setAttribute("id",u),u="[id='"+u+"'] ",d=h.length;d--;)h[d]=u+h[d].join("");p=re.test(e)&&i.parentNode||i,f=h.join(",")}if(f)try{return E.apply(s,A.call(p.querySelectorAll(f),0)),s}catch(m){}finally{c||i.removeAttribute("id")}}return t(e,i,s,n,l)},l&&(le(function(t){e=l.call(t,"div");try{l.call(t,"[test!='']:sizzle"),n.push("!=",$)}catch(i){}}),n=new RegExp(n.join("|")),i.matchesSelector=function(t,r){if(r=r.replace(s,"='$1']"),!y(t)&&!n.test(r)&&!a.test(r))try{var o=l.call(t,r);if(o||e||t.document&&11!==t.document.nodeType)return o}catch(h){}return i(r,null,null,[t]).length>0})}(),b.pseudos.nth=b.pseudos.eq,b.filters=g.prototype=b.pseudos,b.setFilters=new g,i.attr=W.attr,W.find=i,W.expr=i.selectors,W.expr[":"]=W.expr.pseudos,W.unique=i.uniqueSort,W.text=i.getText,W.isXMLDoc=i.isXML,W.contains=i.contains}(e);var qe=/Until$/,Te=/^(?:parents|prev(?:Until|All))/,Se=/^.[^:#\[\.,]*$/,Ce=W.expr.match.needsContext,Ie={children:!0,contents:!0,next:!0,prev:!0};W.fn.extend({find:function(e){var t,i,r,s,a,n,o=this;if("string"!=typeof e)return W(e).filter(function(){for(t=0,i=o.length;i>t;t++)if(W.contains(o[t],this))return!0});for(n=this.pushStack("","find",e),t=0,i=this.length;i>t;t++)if(r=n.length,W.find(e,this[t],n),t>0)for(s=r;s<n.length;s++)for(a=0;r>a;a++)if(n[a]===n[s]){n.splice(s--,1);break}return n},has:function(e){var t,i=W(e,this),r=i.length;return this.filter(function(){for(t=0;r>t;t++)if(W.contains(this,i[t]))return!0})},not:function(e){return this.pushStack(h(this,e,!1),"not",e)},filter:function(e){return this.pushStack(h(this,e,!0),"filter",e)},is:function(e){return!!e&&("string"==typeof e?Ce.test(e)?W(e,this.context).index(this[0])>=0:W.filter(e,this).length>0:this.filter(e).length>0)},closest:function(e,t){for(var i,r=0,s=this.length,a=[],n=Ce.test(e)||"string"!=typeof e?W(e,t||this.context):0;s>r;r++)for(i=this[r];i&&i.ownerDocument&&i!==t&&11!==i.nodeType;){if(n?n.index(i)>-1:W.find.matchesSelector(i,e)){a.push(i);break}i=i.parentNode}return a=a.length>1?W.unique(a):a,this.pushStack(a,"closest",e)},index:function(e){return e?"string"==typeof e?W.inArray(this[0],W(e)):W.inArray(e.jqx?e[0]:e,this):this[0]&&this[0].parentNode?this.prevAll().length:-1},add:function(e,t){var i="string"==typeof e?W(e,t):W.makeArray(e&&e.nodeType?[e]:e),r=W.merge(this.get(),i);return this.pushStack(o(i[0])||o(r[0])?r:W.unique(r))},addBack:function(e){return this.add(null==e?this.prevObject:this.prevObject.filter(e))}}),W.fn.andSelf=W.fn.addBack,W.each({parent:function(e){var t=e.parentNode;return t&&11!==t.nodeType?t:null},parents:function(e){return W.dir(e,"parentNode")},parentsUntil:function(e,t,i){return W.dir(e,"parentNode",i)},next:function(e){return l(e,"nextSibling")},prev:function(e){return l(e,"previousSibling")},nextAll:function(e){return W.dir(e,"nextSibling")},prevAll:function(e){return W.dir(e,"previousSibling")},nextUntil:function(e,t,i){return W.dir(e,"nextSibling",i)},prevUntil:function(e,t,i){return W.dir(e,"previousSibling",i)},siblings:function(e){return W.sibling((e.parentNode||{}).firstChild,e)},children:function(e){return W.sibling(e.firstChild)},contents:function(e){return W.nodeName(e,"iframe")?e.contentDocument||e.contentWindow.document:W.merge([],e.childNodes)}},function(e,t){W.fn[e]=function(i,r){var s=W.map(this,t,i);return qe.test(e)||(r=i),r&&"string"==typeof r&&(s=W.filter(r,s)),s=this.length>1&&!Ie[e]?W.unique(s):s,this.length>1&&Te.test(e)&&(s=s.reverse()),this.pushStack(s,e,z.call(arguments).join(","))}}),W.extend({filter:function(e,t,i){return i&&(e=":not("+e+")"),1===t.length?W.find.matchesSelector(t[0],e)?[t[0]]:[]:W.find.matches(e,t)},dir:function(e,i,r){for(var s=[],a=e[i];a&&9!==a.nodeType&&(r===t||1!==a.nodeType||!W(a).is(r));)1===a.nodeType&&s.push(a),a=a[i];return s},sibling:function(e,t){for(var i=[];e;e=e.nextSibling)1===e.nodeType&&e!==t&&i.push(e);return i}});var ke="abbr|article|aside|audio|bdi|canvas|data|datalist|details|figcaption|figure|footer|header|hgroup|mark|meter|nav|output|progress|section|summary|time|video",De=/ JQXLite\d+="(?:null|\d+)"/g,Me=/^\s+/,Pe=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/gi,Ne=/<([\w:]+)/,Be=/<tbody/i,Oe=/<|&#?\w+;/,Ee=/<(?:script|style|link)/i,Ae=/<(?:script|object|embed|option|style)/i,He=new RegExp("<(?:"+ke+")[\\s/>]","i"),ze=/^(?:checkbox|radio)$/,Le=/checked\s*(?:[^=]|=\s*.checked.)/i,Fe=/\/(java|ecma)script/i,Re=/^\s*<!(?:\[CDATA\[|\-\-)|[\]\-]{2}>\s*$/g,Ve={option:[1,"<select multiple='multiple'>","</select>"],legend:[1,"<fieldset>","</fieldset>"],thead:[1,"<table>","</table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],col:[2,"<table><tbody></tbody><colgroup>","</colgroup></table>"],area:[1,"<map>","</map>"],_default:[0,"",""]},We=d(B),Ge=We.appendChild(B.createElement("div"));Ve.optgroup=Ve.option,Ve.tbody=Ve.tfoot=Ve.colgroup=Ve.caption=Ve.thead,Ve.th=Ve.td,W.support.htmlSerialize||(Ve._default=[1,"X<div>","</div>"]),W.fn.extend({text:function(e){return W.access(this,function(e){return e===t?W.text(this):this.empty().append((this[0]&&this[0].ownerDocument||B).createTextNode(e))},null,e,arguments.length)},wrapAll:function(e){if(W.isFunction(e))return this.each(function(t){W(this).wrapAll(e.call(this,t))});if(this[0]){var t=W(e,this[0].ownerDocument).eq(0).clone(!0);this[0].parentNode&&t.insertBefore(this[0]),t.map(function(){for(var e=this;e.firstChild&&1===e.firstChild.nodeType;)e=e.firstChild;return e}).append(this)}return this},wrapInner:function(e){return W.isFunction(e)?this.each(function(t){W(this).wrapInner(e.call(this,t))}):this.each(function(){var t=W(this),i=t.contents();i.length?i.wrapAll(e):t.append(e)})},wrap:function(e){var t=W.isFunction(e);return this.each(function(i){W(this).wrapAll(t?e.call(this,i):e)})},unwrap:function(){return this.parent().each(function(){W.nodeName(this,"body")||W(this).replaceWith(this.childNodes)}).end()},append:function(){return this.domManip(arguments,!0,function(e){1!==this.nodeType&&11!==this.nodeType||this.appendChild(e)})},prepend:function(){return this.domManip(arguments,!0,function(e){1!==this.nodeType&&11!==this.nodeType||this.insertBefore(e,this.firstChild)})},before:function(){if(!o(this[0]))return this.domManip(arguments,!1,function(e){this.parentNode.insertBefore(e,this)});if(arguments.length){var e=W.clean(arguments);return this.pushStack(W.merge(e,this),"before",this.selector)}},after:function(){if(!o(this[0]))return this.domManip(arguments,!1,function(e){this.parentNode.insertBefore(e,this.nextSibling)});if(arguments.length){var e=W.clean(arguments);return this.pushStack(W.merge(this,e),"after",this.selector)}},remove:function(e,t){for(var i,r=0;null!=(i=this[r]);r++)e&&!W.filter(e,[i]).length||(t||1!==i.nodeType||(W.cleanData(i.getElementsByTagName("*")),W.cleanData([i])),i.parentNode&&i.parentNode.removeChild(i));return this},empty:function(){for(var e,t=0;null!=(e=this[t]);t++)for(1===e.nodeType&&W.cleanData(e.getElementsByTagName("*"));e.firstChild;)e.removeChild(e.firstChild);return this},clone:function(e,t){return e=null==e?!1:e,t=null==t?e:t,this.map(function(){return W.clone(this,e,t)})},html:function(e){return W.access(this,function(e){var i=this[0]||{},r=0,s=this.length;if(e===t)return 1===i.nodeType?i.innerHTML.replace(De,""):t;if("string"==typeof e&&!Ee.test(e)&&(W.support.htmlSerialize||!He.test(e))&&(W.support.leadingWhitespace||!Me.test(e))&&!Ve[(Ne.exec(e)||["",""])[1].toLowerCase()]){e=e.replace(Pe,"<$1></$2>");try{for(;s>r;r++)i=this[r]||{},1===i.nodeType&&(W.cleanData(i.getElementsByTagName("*")),i.innerHTML=e);i=0}catch(a){}}i&&this.empty().append(e)},null,e,arguments.length)},replaceWith:function(e){return o(this[0])?this.length?this.pushStack(W(W.isFunction(e)?e():e),"replaceWith",e):this:W.isFunction(e)?this.each(function(t){var i=W(this),r=i.html();i.replaceWith(e.call(this,t,r))}):("string"!=typeof e&&(e=W(e).detach()),this.each(function(){var t=this.nextSibling,i=this.parentNode;W(this).remove(),t?W(t).before(e):W(i).append(e)}))},detach:function(e){return this.remove(e,!0)},domManip:function(e,i,r){e=[].concat.apply([],e);var s,a,n,o,l=0,h=e[0],d=[],u=this.length;if(!W.support.checkClone&&u>1&&"string"==typeof h&&Le.test(h))return this.each(function(){W(this).domManip(e,i,r)});if(W.isFunction(h))return this.each(function(s){var a=W(this);e[0]=h.call(this,s,i?a.html():t),a.domManip(e,i,r)});if(this[0]){if(s=W.buildFragment(e,this,d),n=s.fragment,a=n.firstChild,1===n.childNodes.length&&(n=a),a)for(i=i&&W.nodeName(a,"tr"),o=s.cacheable||u-1;u>l;l++)r.call(i&&W.nodeName(this[l],"table")?c(this[l],"tbody"):this[l],l===o?n:W.clone(n,!0,!0));n=a=null,d.length&&W.each(d,function(e,t){t.src?W.ajax?W.ajax({url:t.src,type:"GET",dataType:"script",async:!1,global:!1,"throws":!0}):W.error("no ajax"):W.globalEval((t.text||t.textContent||t.innerHTML||"").replace(Re,"")),t.parentNode&&t.parentNode.removeChild(t)})}return this}}),W.buildFragment=function(e,i,r){var s,a,n,o=e[0];return i=i||B,i=!i.nodeType&&i[0]||i,i=i.ownerDocument||i,!(1===e.length&&"string"==typeof o&&o.length<512&&i===B&&"<"===o.charAt(0))||Ae.test(o)||!W.support.checkClone&&Le.test(o)||!W.support.html5Clone&&He.test(o)||(a=!0,s=W.fragments[o],n=s!==t),s||(s=i.createDocumentFragment(),W.clean(e,i,s,r),a&&(W.fragments[o]=n&&s)),{fragment:s,cacheable:a}},W.fragments={},W.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(e,t){W.fn[e]=function(i){var r,s=0,a=[],n=W(i),o=n.length,l=1===this.length&&this[0].parentNode;if((null==l||l&&11===l.nodeType&&1===l.childNodes.length)&&1===o)return n[t](this[0]),this;for(;o>s;s++)r=(s>0?this.clone(!0):this).get(),W(n[s])[t](r),a=a.concat(r);return this.pushStack(a,e,n.selector)}}),W.extend({clone:function(e,t,i){var r,s,a,n;if(W.support.html5Clone||W.isXMLDoc(e)||!He.test("<"+e.nodeName+">")?n=e.cloneNode(!0):(Ge.innerHTML=e.outerHTML,Ge.removeChild(n=Ge.firstChild)),!(W.support.noCloneEvent&&W.support.noCloneChecked||1!==e.nodeType&&11!==e.nodeType||W.isXMLDoc(e)))for(p(e,n),r=f(e),s=f(n),a=0;r[a];++a)s[a]&&p(r[a],s[a]);if(t&&(u(e,n),i))for(r=f(e),s=f(n),a=0;r[a];++a)u(r[a],s[a]);return r=s=null,n},clean:function(e,t,i,r){var s,a,n,o,l,h,c,u,p,f,g,v=t===B&&We,x=[];for(t&&"undefined"!=typeof t.createDocumentFragment||(t=B),s=0;null!=(n=e[s]);s++)if("number"==typeof n&&(n+=""),n){if("string"==typeof n)if(Oe.test(n)){for(v=v||d(t),c=t.createElement("div"),v.appendChild(c),n=n.replace(Pe,"<$1></$2>"),o=(Ne.exec(n)||["",""])[1].toLowerCase(),l=Ve[o]||Ve._default,h=l[0],c.innerHTML=l[1]+n+l[2];h--;)c=c.lastChild;if(!W.support.tbody)for(u=Be.test(n),p="table"!==o||u?"<table>"!==l[1]||u?[]:c.childNodes:c.firstChild&&c.firstChild.childNodes,a=p.length-1;a>=0;--a)W.nodeName(p[a],"tbody")&&!p[a].childNodes.length&&p[a].parentNode.removeChild(p[a]);!W.support.leadingWhitespace&&Me.test(n)&&c.insertBefore(t.createTextNode(Me.exec(n)[0]),c.firstChild),n=c.childNodes,c.parentNode.removeChild(c)}else n=t.createTextNode(n);n.nodeType?x.push(n):W.merge(x,n)}if(c&&(n=c=v=null),!W.support.appendChecked)for(s=0;null!=(n=x[s]);s++)W.nodeName(n,"input")?m(n):"undefined"!=typeof n.getElementsByTagName&&W.grep(n.getElementsByTagName("input"),m);if(i)for(f=function(e){return!e.type||Fe.test(e.type)?r?r.push(e.parentNode?e.parentNode.removeChild(e):e):i.appendChild(e):void 0},s=0;null!=(n=x[s]);s++)W.nodeName(n,"script")&&f(n)||(i.appendChild(n),"undefined"!=typeof n.getElementsByTagName&&(g=W.grep(W.merge([],n.getElementsByTagName("script")),f),x.splice.apply(x,[s+1,0].concat(g)),s+=g.length));return x},cleanData:function(e,t){for(var i,r,s,a,n=0,o=W.expando,l=W.cache,h=W.support.deleteExpando,d=W.event.special;null!=(s=e[n]);n++)if((t||W.acceptData(s))&&(r=s[o],i=r&&l[r])){if(i.events)for(a in i.events)d[a]?W.event.remove(s,a):W.removeEvent(s,a,i.handle);l[r]&&(delete l[r],h?delete s[o]:s.removeAttribute?s.removeAttribute(o):s[o]=null,W.deletedIds.push(r))}}}),function(){var e,t;W.uaMatch=function(e){e=e.toLowerCase();var t=/(chrome)[ \/]([\w.]+)/.exec(e)||/(webkit)[ \/]([\w.]+)/.exec(e)||/(opera)(?:.*version|)[ \/]([\w.]+)/.exec(e)||/(msie) ([\w.]+)/.exec(e)||e.indexOf("compatible")<0&&/(mozilla)(?:.*? rv:([\w.]+)|)/.exec(e)||[];return{browser:t[1]||"",version:t[2]||"0"}},e=W.uaMatch(O.userAgent),t={},e.browser&&(t[e.browser]=!0,t.version=e.version),t.chrome?t.webkit=!0:t.webkit&&(t.safari=!0),W.browser=t,W.sub=function(){function e(t,i){return new e.fn.init(t,i)}W.extend(!0,e,this),e.superclass=this,e.fn=e.prototype=this(),e.fn.constructor=e,e.sub=this.sub,e.fn.init=function(i,r){return r&&r instanceof W&&!(r instanceof e)&&(r=e(r)),W.fn.init.call(this,i,r,t)},e.fn.init.prototype=e.fn;var t=e(B);return e}}();var Ue,Ye,Xe,Ke=/alpha\([^)]*\)/i,$e=/opacity=([^)]*)/,Je=/^(top|right|bottom|left)$/,Qe=/^(none|table(?!-c[ea]).+)/,Ze=/^margin/,et=new RegExp("^("+G+")(.*)$","i"),tt=new RegExp("^("+G+")(?!px)[a-z%]+$","i"),it=new RegExp("^([-+])=("+G+")","i"),rt={BODY:"block"},st={position:"absolute",visibility:"hidden",display:"block"},at={letterSpacing:0,fontWeight:400},nt=["Top","Right","Bottom","Left"],ot=["Webkit","O","Moz","ms"],lt=W.fn.toggle;W.fn.extend({css:function(e,i){return W.access(this,function(e,i,r){return r!==t?W.style(e,i,r):W.css(e,i)},e,i,arguments.length>1)},show:function(){return x(this,!0)},hide:function(){return x(this)},toggle:function(e,t){var i="boolean"==typeof e;return W.isFunction(e)&&W.isFunction(t)?lt.apply(this,arguments):this.each(function(){(i?e:v(this))?W(this).show():W(this).hide()})}}),W.extend({cssHooks:{opacity:{get:function(e,t){if(t){var i=Ue(e,"opacity");return""===i?"1":i}}}},cssNumber:{fillOpacity:!0,fontWeight:!0,lineHeight:!0,opacity:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{"float":W.support.cssFloat?"cssFloat":"styleFloat"},style:function(e,i,r,s){if(e&&3!==e.nodeType&&8!==e.nodeType&&e.style){var a,n,o,l=W.camelCase(i),h=e.style;if(i=W.cssProps[l]||(W.cssProps[l]=g(h,l)),o=W.cssHooks[i]||W.cssHooks[l],r===t)return o&&"get"in o&&(a=o.get(e,!1,s))!==t?a:h[i];if(n=typeof r,"string"===n&&(a=it.exec(r))&&(r=(a[1]+1)*a[2]+parseFloat(W.css(e,i)),n="number"),!(null==r||"number"===n&&isNaN(r)||("number"!==n||W.cssNumber[l]||(r+="px"),o&&"set"in o&&(r=o.set(e,r,s))===t)))try{h[i]=r}catch(d){}}},css:function(e,i,r,s){var a,n,o,l=W.camelCase(i);return i=W.cssProps[l]||(W.cssProps[l]=g(e.style,l)),o=W.cssHooks[i]||W.cssHooks[l],o&&"get"in o&&(a=o.get(e,!0,s)),a===t&&(a=Ue(e,i)),"normal"===a&&i in at&&(a=at[i]),r||s!==t?(n=parseFloat(a),r||W.isNumeric(n)?n||0:a):a},swap:function(e,t,i){var r,s,a={};for(s in t)a[s]=e.style[s],e.style[s]=t[s];r=i.call(e);for(s in t)e.style[s]=a[s];return r}}),e.getComputedStyle?Ue=function(t,i){var r,s,a,n,o=e.getComputedStyle(t,null),l=t.style;return o&&(r=o.getPropertyValue(i)||o[i],""!==r||W.contains(t.ownerDocument,t)||(r=W.style(t,i)),tt.test(r)&&Ze.test(i)&&(s=l.width,a=l.minWidth,n=l.maxWidth,l.minWidth=l.maxWidth=l.width=r,r=o.width,l.width=s,l.minWidth=a,l.maxWidth=n)),r}:B.documentElement.currentStyle&&(Ue=function(e,t){var i,r,s=e.currentStyle&&e.currentStyle[t],a=e.style;return null==s&&a&&a[t]&&(s=a[t]),tt.test(s)&&!Je.test(t)&&(i=a.left,r=e.runtimeStyle&&e.runtimeStyle.left,r&&(e.runtimeStyle.left=e.currentStyle.left),a.left="fontSize"===t?"1em":s,s=a.pixelLeft+"px",a.left=i,r&&(e.runtimeStyle.left=r)),""===s?"auto":s}),W.each(["height","width"],function(e,t){W.cssHooks[t]={get:function(e,i,r){return i?0===e.offsetWidth&&Qe.test(Ue(e,"display"))?W.swap(e,st,function(){return y(e,t,r)}):y(e,t,r):void 0},set:function(e,i,r){return b(e,i,r?w(e,t,r,W.support.boxSizing&&"border-box"===W.css(e,"boxSizing")):0)}}}),W.support.opacity||(W.cssHooks.opacity={get:function(e,t){return $e.test((t&&e.currentStyle?e.currentStyle.filter:e.style.filter)||"")?.01*parseFloat(RegExp.$1)+"":t?"1":""},set:function(e,t){var i=e.style,r=e.currentStyle,s=W.isNumeric(t)?"alpha(opacity="+100*t+")":"",a=r&&r.filter||i.filter||"";i.zoom=1,t>=1&&""===W.trim(a.replace(Ke,""))&&i.removeAttribute&&(i.removeAttribute("filter"),r&&!r.filter)||(i.filter=Ke.test(a)?a.replace(Ke,s):a+" "+s)}}),W(function(){W.support.reliableMarginRight||(W.cssHooks.marginRight={get:function(e,t){return W.swap(e,{display:"inline-block"},function(){return t?Ue(e,"marginRight"):void 0})}}),!W.support.pixelPosition&&W.fn.position&&W.each(["top","left"],function(e,t){W.cssHooks[t]={get:function(e,i){if(i){var r=Ue(e,t);return tt.test(r)?W(e).position()[t]+"px":r}}}})}),W.expr&&W.expr.filters&&(W.expr.filters.hidden=function(e){return 0===e.offsetWidth&&0===e.offsetHeight||!W.support.reliableHiddenOffsets&&"none"===(e.style&&e.style.display||Ue(e,"display"))},W.expr.filters.visible=function(e){return!W.expr.filters.hidden(e)}),W.each({margin:"",padding:"",border:"Width"},function(e,t){W.cssHooks[e+t]={expand:function(i){var r,s="string"==typeof i?i.split(" "):[i],a={};for(r=0;4>r;r++)a[e+nt[r]+t]=s[r]||s[r-2]||s[0];
return a}},Ze.test(e)||(W.cssHooks[e+t].set=b)});var ht=/%20/g,dt=/\[\]$/,ct=/\r?\n/g,ut=/^(?:color|date|datetime|datetime-local|email|hidden|month|number|password|range|search|tel|text|time|url|week)$/i,pt=/^(?:select|textarea)/i;W.fn.extend({serialize:function(){return W.param(this.serializeArray())},serializeArray:function(){return this.map(function(){return this.elements?W.makeArray(this.elements):this}).filter(function(){return this.name&&!this.disabled&&(this.checked||pt.test(this.nodeName)||ut.test(this.type))}).map(function(e,t){var i=W(this).val();return null==i?null:W.isArray(i)?W.map(i,function(e,i){return{name:t.name,value:e.replace(ct,"\r\n")}}):{name:t.name,value:i.replace(ct,"\r\n")}}).get()}}),W.param=function(e,i){var r,s=[],a=function(e,t){t=W.isFunction(t)?t():null==t?"":t,s[s.length]=encodeURIComponent(e)+"="+encodeURIComponent(t)};if(i===t&&(i=W.ajaxSettings&&W.ajaxSettings.traditional),W.isArray(e)||e.jqx&&!W.isPlainObject(e))W.each(e,function(){a(this.name,this.value)});else for(r in e)j(r,e[r],i,a);return s.join("&").replace(ht,"+")},W.support.ajax&&W.ajaxTransport(function(i){if(!i.crossDomain||W.support.cors){var r;return{send:function(s,a){var n,o,l=i.xhr();if(i.username?l.open(i.type,i.url,i.async,i.username,i.password):l.open(i.type,i.url,i.async),i.xhrFields)for(o in i.xhrFields)l[o]=i.xhrFields[o];i.mimeType&&l.overrideMimeType&&l.overrideMimeType(i.mimeType),i.crossDomain||s["X-Requested-With"]||(s["X-Requested-With"]="XMLHttpRequest");try{for(o in s)l.setRequestHeader(o,s[o])}catch(h){}l.send(i.hasContent&&i.data||null),r=function(e,s){var o,h,d,c,u;try{if(r&&(s||4===l.readyState))if(r=t,n&&(l.onreadystatechange=W.noop,xhrOnUnloadAbort&&delete xhrCallbacks[n]),s)4!==l.readyState&&l.abort();else{o=l.status,d=l.getAllResponseHeaders(),c={},u=l.responseXML,u&&u.documentElement&&(c.xml=u);try{c.text=l.responseText}catch(p){}try{h=l.statusText}catch(p){h=""}o||!i.isLocal||i.crossDomain?1223===o&&(o=204):o=c.text?200:404}}catch(f){s||a(-1,f)}c&&a(o,h,c,d)},i.async?4===l.readyState?setTimeout(r,0):(n=++xhrId,xhrOnUnloadAbort&&(xhrCallbacks||(xhrCallbacks={},W(e).unload(xhrOnUnloadAbort)),xhrCallbacks[n]=r),l.onreadystatechange=r):r()},abort:function(){r&&r(0,1)}}}});var ft,mt,gt=/^(?:toggle|show|hide)$/,vt=new RegExp("^(?:([-+])=|)("+G+")([a-z%]*)$","i"),xt=/queueHooks$/,bt=[I],wt={"*":[function(e,t){var i,r,s=this.createTween(e,t),a=vt.exec(t),n=s.cur(),o=+n||0,l=1,h=20;if(a){if(i=+a[2],r=a[3]||(W.cssNumber[e]?"":"px"),"px"!==r&&o){o=W.css(s.elem,e,!0)||i||1;do l=l||".5",o/=l,W.style(s.elem,e,o+r);while(l!==(l=s.cur()/n)&&1!==l&&--h)}s.unit=r,s.start=o,s.end=a[1]?o+(a[1]+1)*i:i}return s}]};W.Animation=W.extend(S,{tweener:function(e,t){W.isFunction(e)?(t=e,e=["*"]):e=e.split(" ");for(var i,r=0,s=e.length;s>r;r++)i=e[r],wt[i]=wt[i]||[],wt[i].unshift(t)},prefilter:function(e,t){t?bt.unshift(e):bt.push(e)}}),W.Tween=k,k.prototype={constructor:k,init:function(e,t,i,r,s,a){this.elem=e,this.prop=i,this.easing=s||"swing",this.options=t,this.start=this.now=this.cur(),this.end=r,this.unit=a||(W.cssNumber[i]?"":"px")},cur:function(){var e=k.propHooks[this.prop];return e&&e.get?e.get(this):k.propHooks._default.get(this)},run:function(e){var t,i=k.propHooks[this.prop];return this.options.duration?this.pos=t=W.easing[this.easing](e,this.options.duration*e,0,1,this.options.duration):this.pos=t=e,this.now=(this.end-this.start)*t+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),i&&i.set?i.set(this):k.propHooks._default.set(this),this}},k.prototype.init.prototype=k.prototype,k.propHooks={_default:{get:function(e){var t;return null==e.elem[e.prop]||e.elem.style&&null!=e.elem.style[e.prop]?(t=W.css(e.elem,e.prop,!1,""),t&&"auto"!==t?t:0):e.elem[e.prop]},set:function(e){W.fx.step[e.prop]?W.fx.step[e.prop](e):e.elem.style&&(null!=e.elem.style[W.cssProps[e.prop]]||W.cssHooks[e.prop])?W.style(e.elem,e.prop,e.now+e.unit):e.elem[e.prop]=e.now}}},k.propHooks.scrollTop=k.propHooks.scrollLeft={set:function(e){e.elem.nodeType&&e.elem.parentNode&&(e.elem[e.prop]=e.now)}},W.each(["toggle","show","hide"],function(e,t){var i=W.fn[t];W.fn[t]=function(r,s,a){return null==r||"boolean"==typeof r||!e&&W.isFunction(r)&&W.isFunction(s)?i.apply(this,arguments):this.animate(D(t,!0),r,s,a)}}),W.fn.extend({fadeTo:function(e,t,i,r){return this.filter(v).css("opacity",0).show().end().animate({opacity:t},e,i,r)},animate:function(e,t,i,r){var s=W.isEmptyObject(e),a=W.speed(t,i,r),n=function(){var t=S(this,W.extend({},e),a);s&&t.stop(!0)};return s||a.queue===!1?this.each(n):this.queue(a.queue,n)},stop:function(e,i,r){var s=function(e){var t=e.stop;delete e.stop,t(r)};return"string"!=typeof e&&(r=i,i=e,e=t),i&&e!==!1&&this.queue(e||"fx",[]),this.each(function(){var t=!0,i=null!=e&&e+"queueHooks",a=W.timers,n=W._data(this);if(i)n[i]&&n[i].stop&&s(n[i]);else for(i in n)n[i]&&n[i].stop&&xt.test(i)&&s(n[i]);for(i=a.length;i--;)a[i].elem!==this||null!=e&&a[i].queue!==e||(a[i].anim.stop(r),t=!1,a.splice(i,1));!t&&r||W.dequeue(this,e)})}}),W.each({slideDown:D("show"),slideUp:D("hide"),slideToggle:D("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(e,t){W.fn[e]=function(e,i,r){return this.animate(t,e,i,r)}}),W.speed=function(e,t,i){var r=e&&"object"==typeof e?W.extend({},e):{complete:i||!i&&t||W.isFunction(e)&&e,duration:e,easing:i&&t||t&&!W.isFunction(t)&&t};return r.duration=W.fx.off?0:"number"==typeof r.duration?r.duration:r.duration in W.fx.speeds?W.fx.speeds[r.duration]:W.fx.speeds._default,null!=r.queue&&r.queue!==!0||(r.queue="fx"),r.old=r.complete,r.complete=function(){W.isFunction(r.old)&&r.old.call(this),r.queue&&W.dequeue(this,r.queue)},r},W.easing={linear:function(e){return e},swing:function(e){return.5-Math.cos(e*Math.PI)/2}},W.timers=[],W.fx=k.prototype.init,W.fx.tick=function(){var e,i=W.timers,r=0;for(ft=W.now();r<i.length;r++)e=i[r],e()||i[r]!==e||i.splice(r--,1);i.length||W.fx.stop(),ft=t},W.fx.timer=function(e){e()&&W.timers.push(e)&&!mt&&(mt=setInterval(W.fx.tick,W.fx.interval))},W.fx.interval=13,W.fx.stop=function(){clearInterval(mt),mt=null},W.fx.speeds={slow:600,fast:200,_default:400},W.fx.step={},W.expr&&W.expr.filters&&(W.expr.filters.animated=function(e){return W.grep(W.timers,function(t){return e===t.elem}).length});var yt=/^(?:body|html)$/i;W.fn.offset=function(e){if(arguments.length)return e===t?this:this.each(function(t){W.offset.setOffset(this,e,t)});var i,r,s,a,n,o,l,h={top:0,left:0},d=this[0],c=d&&d.ownerDocument;if(c)return(r=c.body)===d?W.offset.bodyOffset(d):(i=c.documentElement,W.contains(i,d)?("undefined"!=typeof d.getBoundingClientRect&&(h=d.getBoundingClientRect()),s=M(c),a=i.clientTop||r.clientTop||0,n=i.clientLeft||r.clientLeft||0,o=s.pageYOffset||i.scrollTop,l=s.pageXOffset||i.scrollLeft,{top:h.top+o-a,left:h.left+l-n}):h)},W.offset={bodyOffset:function(e){var t=e.offsetTop,i=e.offsetLeft;return W.support.doesNotIncludeMarginInBodyOffset&&(t+=parseFloat(W.css(e,"marginTop"))||0,i+=parseFloat(W.css(e,"marginLeft"))||0),{top:t,left:i}},setOffset:function(e,t,i){var r=W.css(e,"position");"static"===r&&(e.style.position="relative");var s,a,n=W(e),o=n.offset(),l=W.css(e,"top"),h=W.css(e,"left"),d=("absolute"===r||"fixed"===r)&&W.inArray("auto",[l,h])>-1,c={},u={};d?(u=n.position(),s=u.top,a=u.left):(s=parseFloat(l)||0,a=parseFloat(h)||0),W.isFunction(t)&&(t=t.call(e,i,o)),null!=t.top&&(c.top=t.top-o.top+s),null!=t.left&&(c.left=t.left-o.left+a),"using"in t?t.using.call(e,c):n.css(c)}},W.fn.extend({isRendered:function(){var e=this[0];return null!=e.parentNode&&0!==e.offsetWidth&&0!==e.offsetHeight},getSizeFromStyle:function(){var t,i=null,r=null,s=this[0];return s.style.width&&(i=s.style.width),s.style.height&&(r=s.style.height),t=e.getComputedStyle?getComputedStyle(s,null):s.currentStyle,t&&(t.width&&(i=t.width),t.height&&(r=t.height)),"0px"===i&&(i=0),"0px"===r&&(r=0),null===i&&(i=0),null===r&&(r=0),{width:i,height:r}},initAnimate:function(){},sizeStyleChanged:function(e){var t,i=this,r=function(e){var r=t;e&&e[0]&&"style"===e[0].attributeName&&"attributes"===e[0].type&&(r.element.offsetWidth===r.offsetWidth&&r.element.offsetHeight===r.offsetHeight||(r.offsetWidth=r.element.offsetWidth,r.offsetHeight=r.element.offsetHeight,i.isRendered()&&r.callback()))};t={element:i[0],offsetWidth:i[0].offsetWidth,offsetHeight:i[0].offsetHeight,callback:e};try{i.elementStyleObserver||(i.elementStyleObserver=new MutationObserver(r),i.elementStyleObserver.observe(i[0],{attributes:!0,childList:!1,characterData:!1}))}catch(s){}},position:function(){if(this[0]){var e=this[0],t=this.offsetParent(),i=this.offset(),r=yt.test(t[0].nodeName)?{top:0,left:0}:t.offset();return i.top-=parseFloat(W.css(e,"marginTop"))||0,i.left-=parseFloat(W.css(e,"marginLeft"))||0,r.top+=parseFloat(W.css(t[0],"borderTopWidth"))||0,r.left+=parseFloat(W.css(t[0],"borderLeftWidth"))||0,{top:i.top-r.top,left:i.left-r.left}}},offsetParent:function(){return this.map(function(){for(var e=this.offsetParent||B.body;e&&!yt.test(e.nodeName)&&"static"===W.css(e,"position");)e=e.offsetParent;return e||B.body})}}),W.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(e,i){var r=/Y/.test(i);W.fn[e]=function(s){return W.access(this,function(e,s,a){var n=M(e);return a===t?n?i in n?n[i]:n.document.documentElement[s]:e[s]:void(n?n.scrollTo(r?W(n).scrollLeft():a,r?a:W(n).scrollTop()):e[s]=a)},e,s,arguments.length,null)}}),W.each({Height:"height",Width:"width"},function(e,i){W.each({padding:"inner"+e,content:i,"":"outer"+e},function(r,s){W.fn[s]=function(s,a){var n=arguments.length&&(r||"boolean"!=typeof s),o=r||(s===!0||a===!0?"margin":"border");return W.access(this,function(i,r,s){var a;return W.isWindow(i)?i.document.documentElement["client"+e]:9===i.nodeType?(a=i.documentElement,Math.max(i.body["scroll"+e],a["scroll"+e],i.body["offset"+e],a["offset"+e],a["client"+e])):s===t?W.css(i,r,s,o):W.style(i,r,s,o)},i,n?s:t,n,null)}})}),e.JQXLite=e.jqxHelper=W,"function"==typeof define&&define.amd&&define.amd.JQXLite&&define("jqx",[],function(){return W})}(window),function(e){return e.jQuery?void(e.minQuery=e.JQXLite=e.jQuery):void(e.$?e.minQuery=e.JQXLite=e.$:e.$=e.minQuery=e.JQXLite)}(window);var jqxBaseFramework=window.minQuery||window.jQuery;!function(e){e.jqx=e.jqx||{},jqwidgets={createInstance:function(t,i,r){if("jqxDataAdapter"==i){var s=r[0],a=r[1]||{};return new e.jqx.dataAdapter(s,a)}return e(t)[i](r||{}),e(t)[i]("getInstance")}},e.jqx.define=function(e,t,i){e[t]=function(){this.baseType&&(this.base=new e[this.baseType],this.base.defineInstance()),this.defineInstance(),this.metaInfo()},e[t].prototype.defineInstance=function(){},e[t].prototype.metaInfo=function(){},e[t].prototype.base=null,e[t].prototype.baseType=void 0,i&&e[i]&&(e[t].prototype.baseType=i)},e.jqx.invoke=function(t,i){if(0!=i.length){for(var r=typeof i==Array||i.length>0?i[0]:i,s=typeof i==Array||i.length>1?Array.prototype.slice.call(i,1):e({}).toArray();void 0==t[r]&&null!=t.base;){if(void 0!=t[r]&&e.isFunction(t[r]))return t[r].apply(t,s);if("string"==typeof r){var a=r.toLowerCase();if(void 0!=t[a]&&e.isFunction(t[a]))return t[a].apply(t,s)}t=t.base}if(void 0!=t[r]&&e.isFunction(t[r]))return t[r].apply(t,s);if("string"==typeof r){var a=r.toLowerCase();if(void 0!=t[a]&&e.isFunction(t[a]))return t[a].apply(t,s)}}},e.jqx.hasProperty=function(e,t){if("object"==typeof t)for(var i in t){for(var r=e;r;){if(r.hasOwnProperty(i))return!0;if(r.hasOwnProperty(i.toLowerCase()))return!0;r=r.base}return!1}else for(;e;){if(e.hasOwnProperty(t))return!0;if(e.hasOwnProperty(t.toLowerCase()))return!0;e=e.base}return!1},e.jqx.hasFunction=function(t,i){if(0==i.length)return!1;if(void 0==t)return!1;var r=typeof i==Array||i.length>0?i[0]:i;for(typeof i==Array||i.length>1?Array.prototype.slice.call(i,1):{};void 0==t[r]&&null!=t.base;){if(t[r]&&e.isFunction(t[r]))return!0;if("string"==typeof r){var s=r.toLowerCase();if(t[s]&&e.isFunction(t[s]))return!0}t=t.base}if(t[r]&&e.isFunction(t[r]))return!0;if("string"==typeof r){var s=r.toLowerCase();if(t[s]&&e.isFunction(t[s]))return!0}return!1},e.jqx.isPropertySetter=function(t,i){return 1==i.length&&"object"==typeof i[0]?!0:2==i.length&&"string"==typeof i[0]&&!e.jqx.hasFunction(t,i)},e.jqx.validatePropertySetter=function(t,i,r){if(!e.jqx.propertySetterValidation)return!0;if(1==i.length&&"object"==typeof i[0]){for(var s in i[0]){for(var a=t;!a.hasOwnProperty(s)&&a.base;)a=a.base;if(!a||!a.hasOwnProperty(s)){if(!r){var n=a.hasOwnProperty(s.toString().toLowerCase());if(n)return!0;throw"Invalid property: "+s}return!1}}return!0}if(2!=i.length){if(!r)throw"Invalid property: "+i.length>=0?i[0]:"";return!1}for(;!t.hasOwnProperty(i[0])&&t.base;)t=t.base;if(!t||!t.hasOwnProperty(i[0])){if(!r)throw"Invalid property: "+i[0];return!1}return!0},Object.keys||(Object.keys=function(){"use strict";var e=Object.prototype.hasOwnProperty,t=!{toString:null}.propertyIsEnumerable("toString"),i=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"],r=i.length;return function(s){if("object"!=typeof s&&("function"!=typeof s||null===s))throw new TypeError("Object.keys called on non-object");var a,n,o=[];for(a in s)e.call(s,a)&&o.push(a);if(t)for(n=0;r>n;n++)e.call(s,i[n])&&o.push(i[n]);return o}}()),e.jqx.set=function(t,i){var r=0;if(1==i.length&&"object"==typeof i[0]){if(t.isInitialized&&Object.keys&&Object.keys(i[0]).length>1){var s=t.base?t.base.element:t.element,a=e.data(s,t.widgetName).initArgs;if(a&&JSON&&JSON.stringify&&i[0]&&a[0])try{if(JSON.stringify(i[0])==JSON.stringify(a[0])){var n=!0;if(e.each(i[0],function(e,i){return t[e]!=i?(n=!1,!1):void 0}),n)return}}catch(o){}t.batchUpdate=i[0];var l={},h={};e.each(i[0],function(e,i){for(var s=t;!s.hasOwnProperty(e)&&null!=s.base;)s=s.base;s.hasOwnProperty(e)?t[e]!=i&&(l[e]=t[e],h[e]=i,r++):s.hasOwnProperty(e.toLowerCase())&&t[e.toLowerCase()]!=i&&(l[e.toLowerCase()]=t[e.toLowerCase()],h[e.toLowerCase()]=i,r++)}),2>r&&(t.batchUpdate=null)}e.each(i[0],function(i,r){for(var s=t;!s.hasOwnProperty(i)&&null!=s.base;)s=s.base;if(s.hasOwnProperty(i))e.jqx.setvalueraiseevent(s,i,r);else if(s.hasOwnProperty(i.toLowerCase()))e.jqx.setvalueraiseevent(s,i.toLowerCase(),r);else if(e.jqx.propertySetterValidation)throw"jqxCore: invalid property '"+i+"'"}),null!=t.batchUpdate&&(t.batchUpdate=null,t.propertiesChangedHandler&&r>1&&t.propertiesChangedHandler(t,l,h))}else if(2==i.length){for(;!t.hasOwnProperty(i[0])&&t.base;)t=t.base;if(t.hasOwnProperty(i[0]))e.jqx.setvalueraiseevent(t,i[0],i[1]);else if(t.hasOwnProperty(i[0].toLowerCase()))e.jqx.setvalueraiseevent(t,i[0].toLowerCase(),i[1]);else if(e.jqx.propertySetterValidation)throw"jqxCore: invalid property '"+i[0]+"'"}},e.jqx.setvalueraiseevent=function(e,t,i){var r=e[t];e[t]=i,e.isInitialized&&(void 0!=e.propertyChangedHandler&&e.propertyChangedHandler(e,t,r,i),void 0!=e.propertyChangeMap&&void 0!=e.propertyChangeMap[t]&&e.propertyChangeMap[t](e,t,r,i))},e.jqx.get=function(e,t){if(void 0!=t&&null!=t){if(e.propertyMap){var i=e.propertyMap(t);if(null!=i)return i}if(e.hasOwnProperty(t))return e[t];if(e.hasOwnProperty(t.toLowerCase()))return e[t.toLowerCase()];var r=void 0;if(typeof t==Array){if(1!=t.length)return;r=t[0]}else"string"==typeof t&&(r=t);for(;!e.hasOwnProperty(r)&&e.base;)e=e.base;return e?e[r]:void 0}},e.jqx.serialize=function(t){var i="";if(e.isArray(t)){i="[";for(var r=0;r<t.length;r++)r>0&&(i+=", "),i+=e.jqx.serialize(t[r]);i+="]"}else if("object"==typeof t){i="{";var s=0;for(var r in t)s++>0&&(i+=", "),i+=r+": "+e.jqx.serialize(t[r]);i+="}"}else i=t.toString();return i},e.jqx.propertySetterValidation=!0,e.jqx.jqxWidgetProxy=function(t,i,r){var s=(e(i),e.data(i,t));if(void 0!=s){var a=s.instance;if(e.jqx.hasFunction(a,r))return e.jqx.invoke(a,r);if(e.jqx.isPropertySetter(a,r)){if(e.jqx.validatePropertySetter(a,r))return void e.jqx.set(a,r)}else{if("object"==typeof r&&0==r.length)return;if("object"==typeof r&&1==r.length&&e.jqx.hasProperty(a,r[0]))return e.jqx.get(a,r[0]);if("string"==typeof r&&e.jqx.hasProperty(a,r[0]))return e.jqx.get(a,r)}throw"jqxCore: Invalid parameter '"+e.jqx.serialize(r)+"' does not exist."}},e.jqx.applyWidget=function(t,i,r,s){var a=!1;try{a=void 0!=window.MSApp}catch(n){}var o=e(t);s?(s.host=o,s.element=t):s=new e.jqx["_"+i],""==t.id&&(t.id=e.jqx.utilities.createId());var l={host:o,element:t,instance:s,initArgs:r};s.widgetName=i,e.data(t,i,l),e.data(t,"jqxWidget",l.instance);for(var h=new Array,s=l.instance;s;)s.isInitialized=!1,h.push(s),s=s.base;h.reverse(),h[0].theme=e.jqx.theme||"",e.jqx.jqxWidgetProxy(i,t,r);for(var d in h)s=h[d],0==d&&(s.host=o,s.element=t,s.WinJS=a),void 0!=s&&(s.definedInstance&&s.definedInstance(),null!=s.createInstance&&(a?MSApp.execUnsafeLocalFunction(function(){s.createInstance(r)}):s.createInstance(r)));for(var d in h)void 0!=h[d]&&(h[d].isInitialized=!0);a?MSApp.execUnsafeLocalFunction(function(){l.instance.refresh(!0)}):l.instance.refresh(!0)},e.jqx.jqxWidget=function(t,i,r){var s=!1;try{jqxArgs=Array.prototype.slice.call(r,0)}catch(a){jqxArgs=""}try{s=void 0!=window.MSApp}catch(a){}var n=t,o="";i&&(o="_"+i),e.jqx.define(e.jqx,"_"+n,o);var l=new Array;if(!window[n]){var h=function(t){if(null==t)return"";var i=e.type(t);switch(i){case"string":case"number":case"date":case"boolean":case"bool":return null===t?"":t.toString()}var r="";return e.each(t,function(t,i){var s=i;t>0&&(r+=", "),r+="[";var a=0;if("object"==e.type(s))for(var n in s)a>0&&(r+=", "),r+="{"+n+":"+s[n]+"}",a++;else a>0&&(r+=", "),r+="{"+t+":"+s+"}",a++;r+="]"}),r};jqwidgets[n]=window[n]=function(t,i){var r=[];i||(i={}),r.push(i);var s=t;if("object"===e.type(s)&&t[0]?(s=t[0].id,""===s&&(s=t[0].id=e.jqx.utilities.createId())):"object"===e.type(t)&&t&&t.nodeName&&(s=t.id,""===s&&(s=t.id=e.jqx.utilities.createId())),window.jqxWidgets&&window.jqxWidgets[s]){if(i&&e.each(window.jqxWidgets[s],function(t){var r=e(this.element).data();r&&r.jqxWidget&&e(this.element)[n](i)}),1==window.jqxWidgets[s].length){var a=e(window.jqxWidgets[s][0].widgetInstance.element).data();if(a&&a.jqxWidget)return window.jqxWidgets[s][0]}var a=e(window.jqxWidgets[s][0].widgetInstance.element).data();if(a&&a.jqxWidget)return window.jqxWidgets[s]}var o=e(t);0===o.length&&(o=e("<div></div>"),"jqxInput"!==n&&"jqxPasswordInput"!==n&&"jqxMaskedInput"!==n||(o=e("<input/>")),"jqxTextArea"===n&&(o=e("<textarea></textarea>")),"jqxButton"!==n&&"jqxRepeatButton"!==n&&"jqxToggleButton"!==n||(o=e("<button/>")),"jqxSplitter"===n&&(o=e("<div><div>Panel 1</div><div>Panel 2</div></div>")),"jqxTabs"===n&&(o=e("<div><ul><li>Tab 1</li><li>Tab 2</li></ul><div>Content 1</div><div>Content 2</div></div>")),"jqxRibbon"===n&&(o=e("<div><ul><li>Tab 1</li><li>Tab 2</li></ul><div><div>Content 1</div><div>Content 2</div></div></div>")),"jqxDocking"===n&&(o=e("<div><div><div><div>Title 1</div><div>Content 1</div></div></div></div>")),"jqxWindow"===n&&(o=e("<div><div>Title 1</div><div>Content 1</div></div>")));var d=[];return e.each(o,function(t){var i=o[t];if(e.jqx.applyWidget(i,n,r,void 0),!l[n]){var a=e.data(i,"jqxWidget"),c=e.jqx["_"+n].prototype.defineInstance(),u={};e.jqx["_"+n].prototype.metaInfo&&(u=e.jqx["_"+n].prototype.metaInfo()),"jqxDockingLayout"==n&&(c=e.extend(c,e.jqx._jqxLayout.prototype.defineInstance())),"jqxToggleButton"!=n&&"jqxRepeatButton"!=n||(c=e.extend(c,e.jqx._jqxButton.prototype.defineInstance())),"jqxTreeGrid"==n&&(c=e.extend(c,e.jqx._jqxDataTable.prototype.defineInstance()));var p=function(t){var i=e.data(t,"jqxWidget");this.widgetInstance=i;var r=e.extend(this,i);r.on=r.addEventListener=function(e,t){r.addHandler(r.base?r.base.host:r.host,e,t)},r.off=r.removeEventListener=function(e){r.removeHandler(r.base?r.base.host:r.host,e)};for(var s in i)"function"==e.type(i[s])&&(r[s]=e.proxy(i[s],i));return r};l[n]=p,e.each(c,function(t,i){Object.defineProperty(p.prototype,t,{get:function(){return this.widgetInstance?this.widgetInstance[t]:i},set:function(i){if(this.widgetInstance&&(this.widgetInstance[t]!=i||"width"===t||"height"===t)){var r=this.widgetInstance[t],s=i,a=e.type(r),o=e.type(s),l=!1;if(a==o&&"source"!==t&&"width"!==t&&"height"!==t||(l=!0),l||h(r)!=h(s)){var d={};d[t]=i,this.widgetInstance.host?this.widgetInstance.host[n](d):this.widgetInstance.base.host[n](d),this.widgetInstance[t]=i,this.widgetInstance.propertyUpdated&&this.widgetInstance.propertyUpdated(t,r,i)}}}})})}var a=new l[n](i);d.push(a),window.jqxWidgets||(window.jqxWidgets=new Array),window.jqxWidgets[s]||(window.jqxWidgets[s]=new Array),window.jqxWidgets[s].push(a)}),1===d.length?d[0]:d}}e.fn[n]=function(){var t=Array.prototype.slice.call(arguments,0);if(0==t.length||1==t.length&&"object"==typeof t[0]){if(0==this.length)throw this.selector?new Error("Invalid Selector - "+this.selector+"! Please, check whether the used ID or CSS Class name is correct."):new Error("Invalid Selector! Please, check whether the used ID or CSS Class name is correct.");return this.each(function(){var i=(e(this),this),r=e.data(i,n);null==r?e.jqx.applyWidget(i,n,t,void 0):e.jqx.jqxWidgetProxy(n,this,t)})}if(0==this.length)throw this.selector?new Error("Invalid Selector - "+this.selector+"! Please, check whether the used ID or CSS Class name is correct."):new Error("Invalid Selector! Please, check whether the used ID or CSS Class name is correct.");var i=null,r=0;return this.each(function(){var s=e.jqx.jqxWidgetProxy(n,this,t);if(0==r)i=s,r++;else{if(1==r){var a=[];a.push(i),i=a}i.push(s)}}),i};try{e.extend(e.jqx["_"+n].prototype,Array.prototype.slice.call(r,0)[0])}catch(a){}e.extend(e.jqx["_"+n].prototype,{toThemeProperty:function(t,i){return e.jqx.toThemeProperty(this,t,i)}}),e.jqx["_"+n].prototype.refresh=function(){this.base&&this.base.refresh(!0)},e.jqx["_"+n].prototype.createInstance=function(){},e.jqx["_"+n].prototype.addEventHandler=function(e,t){this.host.bind(e,t)},e.jqx["_"+n].prototype.removeEventHandler=function(e,t){this.host.unbind(e)},e.jqx["_"+n].prototype.applyTo=function(t,i){if(!(i instanceof Array)){var r=[];r.push(i),i=r}e.jqx.applyWidget(t,n,i,this)},e.jqx["_"+n].prototype.getInstance=function(){return this},e.jqx["_"+n].prototype.propertyChangeMap={},e.jqx["_"+n].prototype.addHandler=function(t,i,r,s){e.jqx.addHandler(e(t),i,r,s)},e.jqx["_"+n].prototype.removeHandler=function(t,i,r){e.jqx.removeHandler(e(t),i,r)},e.jqx["_"+n].prototype.setOptions=function(){return this.host&&this.host.length&&1==this.host.length?e.jqx.jqxWidgetProxy(n,this.host[0],arguments):void 0}},e.jqx.toThemeProperty=function(e,t,i){if(""==e.theme)return t;for(var r=t.split(" "),s="",a=0;a<r.length;a++){a>0&&(s+=" ");var n=r[a];s+=null!=i&&i?n+"-"+e.theme:n+" "+n+"-"+e.theme}return s},e.jqx.addHandler=function(t,i,r,s){for(var a=i.split(" "),n=0;n<a.length;n++){var o=a[n];if(window.addEventListener)switch(o){case"mousewheel":e.jqx.browser.mozilla?t[0].addEventListener("DOMMouseScroll",r,!1):t[0].addEventListener("mousewheel",r,!1);continue;case"mousemove":if(!s){t[0].addEventListener("mousemove",r,!1);continue}}void 0==s||null==s?t.on?t.on(o,r):t.bind(o,r):t.on?t.on(o,s,r):t.bind(o,s,r)}},e.jqx.removeHandler=function(t,i,r){if(!i)return void(t.off?t.off():t.unbind());for(var s=i.split(" "),a=0;a<s.length;a++){var n=s[a];if(window.removeEventListener)switch(n){case"mousewheel":e.jqx.browser.mozilla?t[0].removeEventListener("DOMMouseScroll",r,!1):t[0].removeEventListener("mousewheel",r,!1);continue;case"mousemove":if(r){t[0].removeEventListener("mousemove",r,!1);continue}}void 0!=n?void 0==r?t.off?t.off(n):t.unbind(n):t.off?t.off(n,r):t.unbind(n,r):t.off?t.off():t.unbind()}},e.jqx.theme=e.jqx.theme||"",e.jqx.scrollAnimation=e.jqx.scrollAnimation||!1,e.jqx.resizeDelay=e.jqx.resizeDelay||10,e.jqx.ready=function(){e(window).trigger("jqxReady")},e.jqx.init=function(){e.each(arguments[0],function(t,i){"theme"==t&&(e.jqx.theme=i),"scrollBarSize"==t&&(e.jqx.utilities.scrollBarSize=i),"touchScrollBarSize"==t&&(e.jqx.utilities.touchScrollBarSize=i),"scrollBarButtonsVisibility"==t&&(e.jqx.utilities.scrollBarButtonsVisibility=i)})},e.jqx.utilities=e.jqx.utilities||{},e.extend(e.jqx.utilities,{scrollBarSize:13,touchScrollBarSize:0,scrollBarButtonsVisibility:"visible",createId:function(){var e=function(){return(65536*(1+Math.random())|0).toString(16).substring(1)};return"jqxWidget"+e()+e()},setTheme:function(t,i,r){if("undefined"!=typeof r&&r[0].className.split){for(var s=r[0].className.split(" "),a=[],n=[],o=r.children(),l=0;l<s.length;l+=1)s[l].indexOf(t)>=0&&(t.length>0?(a.push(s[l]),n.push(s[l].replace(t,i))):n.push(s[l].replace("-"+i,"")+"-"+i));this._removeOldClasses(a,r),this._addNewClasses(n,r);for(var l=0;l<o.length;l+=1)this.setTheme(t,i,e(o[l]))}},_removeOldClasses:function(e,t){for(var i=0;i<e.length;i+=1)t.removeClass(e[i])},_addNewClasses:function(e,t){for(var i=0;i<e.length;i+=1)t.addClass(e[i])},getOffset:function(t){var i=e.jqx.mobile.getLeftPos(t[0]),r=e.jqx.mobile.getTopPos(t[0]);return{top:r,left:i}},resize:function(t,i,r,s){void 0===s&&(s=!0);var a=-1,n=this,o=function(e){if(!n.hiddenWidgets)return-1;for(var t=-1,i=0;i<n.hiddenWidgets.length;i++)if(e.id){if(n.hiddenWidgets[i].id==e.id){t=i;break}}else if(n.hiddenWidgets[i].id==e[0].id){t=i;break}return t};if(this.resizeHandlers){for(var l=0;l<this.resizeHandlers.length;l++)if(t.id){if(this.resizeHandlers[l].id==t.id){a=l;break}}else if(this.resizeHandlers[l].id==t[0].id){a=l;break}if(r===!0){if(-1!=a&&this.resizeHandlers.splice(a,1),0==this.resizeHandlers.length){var h=e(window);h.off?(h.off("resize.jqx"),h.off("orientationchange.jqx"),h.off("orientationchanged.jqx")):(h.unbind("resize.jqx"),h.unbind("orientationchange.jqx"),h.unbind("orientationchanged.jqx")),this.resizeHandlers=null}var d=o(t);return void(-1!=d&&this.hiddenWidgets&&this.hiddenWidgets.splice(d,1))}}else if(r===!0){var d=o(t);return void(-1!=d&&this.hiddenWidgets&&this.hiddenWidgets.splice(d,1))}var n=this,c=function(t,i){if(n.resizeHandlers){var r=function(e){for(var t=-1,i=e.parentNode;i;)t++,i=i.parentNode;return t},s=function(e,t){if(!e.widget||!t.widget)return 0;var i=r(e.widget[0]),s=r(t.widget[0]);try{if(s>i)return-1;if(i>s)return 1}catch(a){}return 0},a=function(t){if(n.hiddenWidgets.length>0){n.hiddenWidgets.sort(s);var r=function(){for(var t=!1,r=new Array,s=0;s<n.hiddenWidgets.length;s++){var a=n.hiddenWidgets[s];e.jqx.isHidden(a.widget)?(t=!0,r.push(a)):a.callback&&a.callback(i)}n.hiddenWidgets=r,t||clearInterval(n.__resizeInterval)};if(0==t)return r(),void(n.__resizeInterval&&clearInterval(n.__resizeInterval));n.__resizeInterval&&clearInterval(n.__resizeInterval),n.__resizeInterval=setInterval(function(){r()},100)}};n.hiddenWidgets&&n.hiddenWidgets.length>0&&a(!1),n.hiddenWidgets=new Array,n.resizeHandlers.sort(s);for(var l=0;l<n.resizeHandlers.length;l++){var h=n.resizeHandlers[l],d=h.widget,c=h.data;if(c&&c.jqxWidget){var u=c.jqxWidget.width,p=c.jqxWidget.height;c.jqxWidget.base&&(void 0==u&&(u=c.jqxWidget.base.width),void 0==p&&(p=c.jqxWidget.base.height)),void 0===u&&void 0===p&&(u=c.jqxWidget.element.style.width,p=c.jqxWidget.element.style.height);var f=!1;if(null!=u&&-1!=u.toString().indexOf("%")&&(f=!0),null!=p&&-1!=p.toString().indexOf("%")&&(f=!0),e.jqx.isHidden(d))-1===o(d)&&(f||t===!0)&&h.data.nestedWidget!==!0&&n.hiddenWidgets.push(h);else if(void 0===t||t!==!0){if(f){if(h.callback(i),n.watchedElementData)for(var m=0;m<n.watchedElementData.length;m++)if(n.watchedElementData[m].element==c.jqxWidget.element){n.watchedElementData[m].offsetWidth=c.jqxWidget.element.offsetWidth,n.watchedElementData[m].offsetHeight=c.jqxWidget.element.offsetHeight;break}n.hiddenWidgets.indexOf(h)>=0&&n.hiddenWidgets.splice(n.hiddenWidgets.indexOf(h),1)}if(c.jqxWidget.element){var g=c.jqxWidget.element.className;if((g.indexOf("dropdownlist")>=0||g.indexOf("datetimeinput")>=0||g.indexOf("combobox")>=0||g.indexOf("menu")>=0)&&c.jqxWidget.isOpened){var v=c.jqxWidget.isOpened();if(v){if(i&&"resize"==i&&e.jqx.mobile.isTouchDevice())continue;c.jqxWidget.close()}}}}}}a()}};if(!this.resizeHandlers){this.resizeHandlers=new Array;var h=e(window);h.on?(this._resizeTimer=null,this._initResize=null,h.on("resize.jqx",function(t){void 0!=n._resizeTimer&&clearTimeout(n._resizeTimer),n._initResize?n._resizeTimer=setTimeout(function(){c(null,"resize")},e.jqx.resizeDelay):(n._initResize=!0,c(null,"resize"))}),h.on("orientationchange.jqx",function(e){c(null,"orientationchange")}),h.on("orientationchanged.jqx",function(e){c(null,"orientationchange")})):(h.bind("resize.jqx",function(e){c(null,"orientationchange")}),h.bind("orientationchange.jqx",function(e){c(null,"orientationchange")}),h.bind("orientationchanged.jqx",function(e){c(null,"orientationchange")}))}var u=t.data();s&&-1===a&&this.resizeHandlers.push({id:t[0].id,widget:t,callback:i,data:u});try{var p=u.jqxWidget.width,f=u.jqxWidget.height;u.jqxWidget.base&&(void 0==p&&(p=u.jqxWidget.base.width),void 0==f&&(f=u.jqxWidget.base.height)),void 0===p&&void 0===f&&(p=u.jqxWidget.element.style.width,f=u.jqxWidget.element.style.height);var m=!1;if(null!=p&&-1!=p.toString().indexOf("%")&&(m=!0),null!=f&&-1!=f.toString().indexOf("%")&&(m=!0),m){this.watchedElementData||(this.watchedElementData=[]);var n=this,g=function(t){n.watchedElementData.forEach&&n.watchedElementData.forEach(function(t){t.element.offsetWidth===t.offsetWidth&&t.element.offsetHeight===t.offsetHeight||(t.offsetWidth=t.element.offsetWidth,t.offsetHeight=t.element.offsetHeight,t.timer&&clearTimeout(t.timer),t.timer=setTimeout(function(){e.jqx.isHidden(e(t.element))?t.timer=setInterval(function(){e.jqx.isHidden(e(t.element))||(clearInterval(t.timer),t.callback())},100):t.callback()}))})};n.watchedElementData.push({element:t[0],offsetWidth:t[0].offsetWidth,offsetHeight:t[0].offsetHeight,callback:i}),n.observer||(n.observer=new MutationObserver(g),n.observer.observe(document.body,{attributes:!0,childList:!0,characterData:!0}))}}catch(v){}e.jqx.isHidden(t)&&s===!0&&c(!0),e.jqx.resize=function(){c(null,"resize")}},parseJSON:function(t){if(!t||"string"!=typeof t)return null;var i=/^[\],:{}\s]*$/,r=/(?:^|:|,)(?:\s*\[)+/g,s=/\\(?:["\\\/bfnrt]|u[\da-fA-F]{4})/g,a=/"[^"\\\r\n]*"|true|false|null|-?(?:\d\d*\.|)\d+(?:[eE][\-+]?\d+|)/g;if(t=e.trim(t),window.JSON&&window.JSON.parse)return window.JSON.parse(t);if(i.test(t.replace(s,"@").replace(a,"]").replace(r,"")))return new Function("return "+t)();throw new Error("Invalid JSON: "+t)},html:function(t,i){if(!e(t).on)return e(t).html(i);try{return e.access(t,function(i){var r=t[0]||{},s=0,a=t.length;if(void 0===i)return 1===r.nodeType?r.innerHTML.replace(rinlinejQuery,""):void 0;var n=/<(?:script|style|link)/i,o="abbr|article|aside|audio|bdi|canvas|data|datalist|details|figcaption|figure|footer|header|hgroup|mark|meter|nav|output|progress|section|summary|time|video",l=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/gi,h=/<([\w:]+)/,d=new RegExp("<(?:"+o+")[\\s/>]","i"),c=/^\s+/,u={option:[1,"<select multiple='multiple'>","</select>"],legend:[1,"<fieldset>","</fieldset>"],thead:[1,"<table>","</table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],col:[2,"<table><tbody></tbody><colgroup>","</colgroup></table>"],area:[1,"<map>","</map>"],_default:[0,"",""]};if("string"==typeof i&&!n.test(i)&&(e.support.htmlSerialize||!d.test(i))&&(e.support.leadingWhitespace||!c.test(i))&&!u[(h.exec(i)||["",""])[1].toLowerCase()]){i=i.replace(l,"<$1></$2>");try{for(;a>s;s++)r=this[s]||{},1===r.nodeType&&(e.cleanData(r.getElementsByTagName("*")),r.innerHTML=i);r=0}catch(p){}}r&&t.empty().append(i)},null,i,arguments.length)}catch(r){return e(t).html(i)}},hasTransform:function(t){var i="";if(i=t.css("transform"),""==i||"none"==i){if(i=t.parents().css("transform"),""!=i&&"none"!=i)return""!=i&&"none"!=i;var r=e.jqx.utilities.getBrowser();"msie"==r.browser?(i=t.css("-ms-transform"),""!=i&&"none"!=i||(i=t.parents().css("-ms-transform"))):"chrome"==r.browser?(i=t.css("-webkit-transform"),""!=i&&"none"!=i||(i=t.parents().css("-webkit-transform"))):"opera"==r.browser?(i=t.css("-o-transform"),
""!=i&&"none"!=i||(i=t.parents().css("-o-transform"))):"mozilla"==r.browser&&(i=t.css("-moz-transform"),""!=i&&"none"!=i||(i=t.parents().css("-moz-transform")))}return""!=i&&"none"!=i||(i=e(document.body).css("transform")),""!=i&&"none"!=i&&null!=i},getBrowser:function(){var e=navigator.userAgent.toLowerCase(),t=/(chrome)[ \/]([\w.]+)/.exec(e)||/(webkit)[ \/]([\w.]+)/.exec(e)||/(opera)(?:.*version|)[ \/]([\w.]+)/.exec(e)||/(msie) ([\w.]+)/.exec(e)||e.indexOf("compatible")<0&&/(mozilla)(?:.*? rv:([\w.]+)|)/.exec(e)||[],i={browser:t[1]||"",version:t[2]||"0"};return e.indexOf("rv:11.0")>=0&&e.indexOf(".net4.0c")>=0&&(i.browser="msie",i.version="11",t[1]="msie"),e.indexOf("edge")>=0&&(i.browser="msie",i.version="12",t[1]="msie"),i[t[1]]=t[1],i}}),e.jqx.browser=e.jqx.utilities.getBrowser(),e.jqx.isHidden=function(e){if(!e||!e[0])return!1;var t=e[0].offsetWidth,i=e[0].offsetHeight;return 0===t||0===i},e.jqx.ariaEnabled=!0,e.jqx.aria=function(t,i,r){if(e.jqx.ariaEnabled)if(void 0==i)e.each(t.aria,function(i,r){var s=t.base?t.base.host.attr(i):t.host.attr(i);if(void 0==s||e.isFunction(s)){var s=t[r.name];e.isFunction(s)&&(s=t[r.name]()),void 0==s&&(s="");try{t.base?t.base.host.attr(i,s.toString()):t.host.attr(i,s.toString())}catch(a){}}else{var n=s;switch(r.type){case"number":n=new Number(s),isNaN(n)&&(n=s);break;case"boolean":n="true"==s;break;case"date":n=new Date(s),("Invalid Date"==n||isNaN(n))&&(n=s)}t[r.name]=n}});else try{t.host?t.base?t.base.host?t.base.host.attr(i,r.toString()):t.attr(i,r.toString()):t.host?t.element.setAttribute?t.element.setAttribute(i,r.toString()):t.host.attr(i,r.toString()):t.attr(i,r.toString()):t.setAttribute&&t.setAttribute(i,r.toString())}catch(s){}},Array.prototype.indexOf||(Array.prototype.indexOf=function(e){var t=this.length,i=Number(arguments[1])||0;for(i=0>i?Math.ceil(i):Math.floor(i),0>i&&(i+=t);t>i;i++)if(i in this&&this[i]===e)return i;return-1}),e.jqx.mobile=e.jqx.mobile||{},e.jqx.position=function(t){var i=parseInt(t.pageX),r=parseInt(t.pageY);if(e.jqx.mobile.isTouchDevice()){var s=e.jqx.mobile.getTouches(t),a=s[0];i=parseInt(a.pageX),r=parseInt(a.pageY)}return{left:i,top:r}},e.extend(e.jqx.mobile,{_touchListener:function(e,t){var i=function(e,t){var i=document.createEvent("MouseEvents");return i.initMouseEvent(e,t.bubbles,t.cancelable,t.view,t.detail,t.screenX,t.screenY,t.clientX,t.clientY,t.ctrlKey,t.altKey,t.shiftKey,t.metaKey,t.button,t.relatedTarget),i._pageX=t.pageX,i._pageY=t.pageY,i},r={mousedown:"touchstart",mouseup:"touchend",mousemove:"touchmove"},s=i(r[e.type],e);e.target.dispatchEvent(s);var a=e.target["on"+r[e.type]];"function"==typeof a&&a(e)},setMobileSimulator:function(t,i){if(!this.isTouchDevice()){this.simulatetouches=!0,0==i&&(this.simulatetouches=!1);var r={mousedown:"touchstart",mouseup:"touchend",mousemove:"touchmove"},s=this;if(window.addEventListener){var a=function(){for(var e in r)t.addEventListener&&(t.removeEventListener(e,s._touchListener),t.addEventListener(e,s._touchListener,!1))};e.jqx.browser.msie,a()}}},isTouchDevice:function(){if(void 0!=this.touchDevice)return this.touchDevice;var e="Browser CodeName: "+navigator.appCodeName;if(e+="Browser Name: "+navigator.appName,e+="Browser Version: "+navigator.appVersion,e+="Platform: "+navigator.platform,e+="User-agent header: "+navigator.userAgent,-1!=e.indexOf("Android"))return!0;if(-1!=e.indexOf("IEMobile"))return!0;if(-1!=e.indexOf("Windows Phone"))return!0;if(-1!=e.indexOf("WPDesktop"))return!0;if(-1!=e.indexOf("ZuneWP7"))return!0;if(-1!=e.indexOf("BlackBerry")&&-1!=e.indexOf("Mobile Safari"))return!0;if(-1!=e.indexOf("ipod"))return!0;if(-1!=e.indexOf("nokia")||-1!=e.indexOf("Nokia"))return!0;if(-1!=e.indexOf("Chrome/17"))return!1;if(-1!=e.indexOf("CrOS"))return!1;if(-1!=e.indexOf("Opera")&&-1==e.indexOf("Mobi")&&-1==e.indexOf("Mini")&&-1!=e.indexOf("Platform: Win"))return!1;if(-1!=e.indexOf("Opera")&&-1!=e.indexOf("Mobi")&&-1!=e.indexOf("Opera Mobi"))return!0;var t={ios:"i(?:Pad|Phone|Pod)(?:.*)CPU(?: iPhone)? OS ",android:"(Android |HTC_|Silk/)",blackberry:"BlackBerry(?:.*)Version/",rimTablet:"RIM Tablet OS ",webos:"(?:webOS|hpwOS)/",bada:"Bada/"};try{if(void 0!=this.touchDevice)return this.touchDevice;this.touchDevice=!1;for(i in t)if(t.hasOwnProperty(i)&&(prefix=t[i],match=e.match(new RegExp("(?:"+prefix+")([^\\s;]+)")),match))return"blackberry"==i.toString()?(this.touchDevice=!1,!1):(this.touchDevice=!0,!0);var r=navigator.userAgent;if(-1!=navigator.platform.toLowerCase().indexOf("win")){if(r.indexOf("Windows Phone")>=0||r.indexOf("WPDesktop")>=0||r.indexOf("IEMobile")>=0||r.indexOf("ZuneWP7")>=0)return this.touchDevice=!0,!0;if(r.indexOf("Touch")>=0){var s="MSPointerDown"in window||"pointerdown"in window;return s?(this.touchDevice=!0,!0):r.indexOf("ARM")>=0?(this.touchDevice=!0,!0):(this.touchDevice=!1,!1)}}return-1!=navigator.platform.toLowerCase().indexOf("win")?(this.touchDevice=!1,!1):(("ontouchstart"in window||window.DocumentTouch&&document instanceof DocumentTouch)&&(this.touchDevice=!0),this.touchDevice)}catch(a){return this.touchDevice=!1,!1}},getLeftPos:function(e){for(var t=e.offsetLeft;null!=(e=e.offsetParent);)"HTML"!=e.tagName&&(t+=e.offsetLeft,document.all&&(t+=e.clientLeft));return t},getTopPos:function(t){for(var i=t.offsetTop,r=e(t).coord();null!=(t=t.offsetParent);)"HTML"!=t.tagName&&(i+=t.offsetTop-t.scrollTop,document.all&&(i+=t.clientTop));var s=navigator.userAgent.toLowerCase(),a=(-1!=s.indexOf("windows phone")||-1!=s.indexOf("WPDesktop")||-1!=s.indexOf("ZuneWP7")||-1!=s.indexOf("msie 9")||-1!=s.indexOf("msie 11")||-1!=s.indexOf("msie 10"))&&-1!=s.indexOf("touch");return a?r.top:this.isSafariMobileBrowser()?this.isSafari4MobileBrowser()&&this.isIPadSafariMobileBrowser()?i:-1!=s.indexOf("version/7")?r.top:(-1==s.indexOf("version/6")&&-1==s.indexOf("version/5")||(i+=e(window).scrollTop()),/(Android.*Chrome\/[.0-9]* (!?Mobile))/.exec(navigator.userAgent)?i+e(window).scrollTop():/(Android.*Chrome\/[.0-9]* Mobile)/.exec(navigator.userAgent)?i+e(window).scrollTop():r.top):i},isChromeMobileBrowser:function(){var e=navigator.userAgent.toLowerCase(),t=-1!=e.indexOf("android");return t},isOperaMiniMobileBrowser:function(){var e=navigator.userAgent.toLowerCase(),t=-1!=e.indexOf("opera mini")||-1!=e.indexOf("opera mobi");return t},isOperaMiniBrowser:function(){var e=navigator.userAgent.toLowerCase(),t=-1!=e.indexOf("opera mini");return t},isNewSafariMobileBrowser:function(){var e=navigator.userAgent.toLowerCase(),t=-1!=e.indexOf("ipad")||-1!=e.indexOf("iphone")||-1!=e.indexOf("ipod");return t=t&&-1!=e.indexOf("version/5")},isSafari4MobileBrowser:function(){var e=navigator.userAgent.toLowerCase(),t=-1!=e.indexOf("ipad")||-1!=e.indexOf("iphone")||-1!=e.indexOf("ipod");return t=t&&-1!=e.indexOf("version/4")},isWindowsPhone:function(){var e=navigator.userAgent.toLowerCase(),t=-1!=e.indexOf("windows phone")||-1!=e.indexOf("WPDesktop")||-1!=e.indexOf("ZuneWP7")||-1!=e.indexOf("msie 9")||-1!=e.indexOf("msie 11")||-1!=e.indexOf("msie 10")&&-1!=e.indexOf("touch");return t},isSafariMobileBrowser:function(){var e=navigator.userAgent.toLowerCase();if(/(Android.*Chrome\/[.0-9]* (!?Mobile))/.exec(navigator.userAgent))return!0;if(/(Android.*Chrome\/[.0-9]* Mobile)/.exec(navigator.userAgent))return!0;var t=-1!=e.indexOf("ipad")||-1!=e.indexOf("iphone")||-1!=e.indexOf("ipod")||-1!=e.indexOf("mobile safari");return t},isIPadSafariMobileBrowser:function(){var e=navigator.userAgent.toLowerCase(),t=-1!=e.indexOf("ipad");return t},isMobileBrowser:function(){var e=navigator.userAgent.toLowerCase(),t=-1!=e.indexOf("ipad")||-1!=e.indexOf("iphone")||-1!=e.indexOf("android");return t},getTouches:function(e){if(e.originalEvent){if(e.originalEvent.touches&&e.originalEvent.touches.length)return e.originalEvent.touches;if(e.originalEvent.changedTouches&&e.originalEvent.changedTouches.length)return e.originalEvent.changedTouches}return e.touches||(e.touches=new Array,e.touches[0]=void 0!=e.originalEvent?e.originalEvent:e,void 0!=e.originalEvent&&e.pageX&&(e.touches[0]=e),"mousemove"==e.type&&(e.touches[0]=e)),e.touches},getTouchEventName:function(e){if(!this.isWindowsPhone())return e;var t=navigator.userAgent.toLowerCase();if(-1!=t.indexOf("windows phone 7")){if(-1!=e.toLowerCase().indexOf("start"))return"MSPointerDown";if(-1!=e.toLowerCase().indexOf("move"))return"MSPointerMove";if(-1!=e.toLowerCase().indexOf("end"))return"MSPointerUp"}return-1!=e.toLowerCase().indexOf("start")?"pointerdown":-1!=e.toLowerCase().indexOf("move")?"pointermove":-1!=e.toLowerCase().indexOf("end")?"pointerup":void 0},dispatchMouseEvent:function(e,t,i){if(!this.simulatetouches){var r=document.createEvent("MouseEvent");r.initMouseEvent(e,!0,!0,t.view,1,t.screenX,t.screenY,t.clientX,t.clientY,!1,!1,!1,!1,0,null),null!=i&&i.dispatchEvent(r)}},getRootNode:function(e){for(;1!==e.nodeType;)e=e.parentNode;return e},setTouchScroll:function(e,t){this.enableScrolling||(this.enableScrolling=[]),this.enableScrolling[t]=e},touchScroll:function(t,i,r,s,a,n){function o(e){if(e.targetTouches&&e.targetTouches.length>=1)return e.targetTouches[0].clientY;if(e.originalEvent&&void 0!==e.originalEvent.clientY)return e.originalEvent.clientY;var t=c.getTouches(e);return t[0].clientY}function l(e){if(e.targetTouches&&e.targetTouches.length>=1)return e.targetTouches[0].clientX;if(e.originalEvent&&void 0!==e.originalEvent.clientX)return e.originalEvent.clientX;var t=c.getTouches(e);return t[0].clientX}function h(){var e,t;N&&(e=Date.now()-M,t=-N*Math.exp(-e/A),t>.5||-.5>t?(V(B+t),requestAnimationFrame(h)):(V(B),n.fadeOut("fast")))}function d(){var e,t;N&&(e=Date.now()-M,t=-N*Math.exp(-e/A),t>.5||-.5>t?(W(O+t),requestAnimationFrame(d)):(W(O),a.fadeOut("fast")))}if(null!=t){var c=this,u=0,p=0,f=0,m=0,g=0,v=0;this.scrolling||(this.scrolling=[]),this.scrolling[s]=!1;var x=!1,b=e(t),w=["select","input","textarea"],y=0,_=0;this.enableScrolling||(this.enableScrolling=[]),this.enableScrolling[s]=!0;var j,q,T,S,C,I,k,D,M,P,N,B,O,E,A,s=s,H=this.getTouchEventName("touchstart")+".touchScroll",z=this.getTouchEventName("touchend")+".touchScroll",L=this.getTouchEventName("touchmove")+".touchScroll";T=i,q=0,S=0,xoffset=0,initialOffset=0,initialXOffset=0,j=a.jqxScrollBar("max"),A=325;var F=function(){var e,t,i,r;e=Date.now(),t=e-M,M=e,i=S-D,xdelta=xoffset-xframe,D=S,xframe=xoffset,I=!0,r=1e3*i/(1+t),xv=1e3*xdelta/(1+t),k=.8*r+.2*k,xjqxAnimations=.8*xv+.2*xjqxAnimations},R=!1,y=function(t){function i(e){R=!1,I=!0,C=o(e),E=l(e),k=N=xjqxAnimations=0,D=S,xframe=xoffset,M=Date.now(),clearInterval(P),P=setInterval(F,100),initialOffset=S,initialXOffset=xoffset,S>0&&T>S&&"hidden"!=n[0].style.visibility}if(!c.enableScrolling[s])return!0;if(-1===e.inArray(t.target.tagName.toLowerCase(),w)){S=n.jqxScrollBar("value"),xoffset=a.jqxScrollBar("value");var r=c.getTouches(t),h=r[0];return 1==r.length&&c.dispatchMouseEvent("mousedown",h,c.getRootNode(h.target)),j=a.jqxScrollBar("max"),T=n.jqxScrollBar("max"),i(t),x=!1,p=h.pageY,g=h.pageX,c.simulatetouches&&void 0!=h._pageY&&(p=h._pageY,g=h._pageX),c.scrolling[s]=!0,u=0,m=0,!0}};b.on?b.on(H,y):b.bind(H,y);var V=function(e,t){return S=e>T?T:q>e?q:e,r(null,e,0,0,t),e>T?"max":q>e?"min":"value"},W=function(e,t){return xoffset=e>j?j:q>e?q:e,r(e,null,0,0,t),e>j?"max":q>e?"min":"value"},G=function(e){function t(e){var t,i,r;if(I){t=o(e),r=l(e),i=C-t,xdelta=E-r;var s="value";if(i>2||-2>i)return C=t,s=V(S+i,e),F(),"min"==s&&0===initialOffset?!0:"max"==s&&initialOffset===T?!0:y?(e.preventDefault(),e.stopPropagation(),R=!0,!1):!0;if(xdelta>2||xdelta<-2)return E=r,s=W(xoffset+xdelta,e),F(),"min"==s&&0===initialXOffset?!0:"max"==s&&initialXOffset===j?!0:w?(R=!0,e.preventDefault(),e.stopPropagation(),!1):!0;e.preventDefault()}}if(!c.enableScrolling[s])return!0;if(!c.scrolling[s])return!0;R&&(e.preventDefault(),e.stopPropagation());var i=c.getTouches(e);if(i.length>1)return!0;var r=i[0].pageY,h=i[0].pageX;c.simulatetouches&&void 0!=i[0]._pageY&&(r=i[0]._pageY,h=i[0]._pageX);var d=r-p,b=h-g;_=r,touchHorizontalEnd=h,f=d-u,v=b-m,x=!0,u=d,m=b;var w=null!=a?"hidden"!=a[0].style.visibility:!0,y=null!=n?"hidden"!=n[0].style.visibility:!0;(w||y)&&(w||y)&&t(e)};b.on?b.on(L,G):b.bind(L,G);var U=function(e){if(!c.enableScrolling[s])return!0;var t=c.getTouches(e)[0];if(!c.scrolling[s])return!0;if(I=!1,clearInterval(P),k>10||-10>k?(N=.8*k,B=Math.round(S+N),M=Date.now(),requestAnimationFrame(h),n.fadeIn(100)):xjqxAnimations>10||xjqxAnimations<-10?(N=.8*xjqxAnimations,O=Math.round(xoffset+N),M=Date.now(),requestAnimationFrame(d),a.fadeIn(100)):(a.fadeOut(100),n.fadeOut(100)),c.scrolling[s]=!1,!x){var t=c.getTouches(e)[0],i=c.getRootNode(t.target);return c.dispatchMouseEvent("mouseup",t,i),c.dispatchMouseEvent("click",t,i),!0}c.dispatchMouseEvent("mouseup",t,e.target)};if(this.simulatetouches){var Y=(void 0!=e(window).on||e(window).bind,function(e){try{U(e)}catch(t){}c.scrolling[s]=!1});if(void 0!=e(window).on?e(document).on("mouseup.touchScroll",Y):e(document).bind("mouseup.touchScroll",Y),window.frameElement&&null!=window.top){var X=function(e){try{U(e)}catch(t){}c.scrolling[s]=!1};window.top.document&&(e(window.top.document).on?e(window.top.document).on("mouseup",X):e(window.top.document).bind("mouseup",X))}var K=(void 0!=e(document).on||e(document).bind,function(e){if(!c.scrolling[s])return!0;c.scrolling[s]=!1;var t=c.getTouches(e)[0],i=c.getRootNode(t.target);c.dispatchMouseEvent("mouseup",t,i),c.dispatchMouseEvent("click",t,i)});void 0!=e(document).on?e(document).on("touchend",K):e(document).bind("touchend",K)}b.on&&(b.on("dragstart",function(e){e.preventDefault()}),b.on("selectstart",function(e){e.preventDefault()})),b.on?b.on(z+" touchcancel.touchScroll",U):b.bind(z+" touchcancel.touchScroll",U)}}}),e.jqx.cookie=e.jqx.cookie||{},e.extend(e.jqx.cookie,{cookie:function(t,i,r){if(arguments.length>1&&"[object Object]"!==String(i)){if(r=e.extend({},r),null!==i&&void 0!==i||(r.expires=-1),"number"==typeof r.expires){var s=r.expires,a=r.expires=new Date;a.setDate(a.getDate()+s)}return i=String(i),document.cookie=[encodeURIComponent(t),"=",r.raw?i:encodeURIComponent(i),r.expires?"; expires="+r.expires.toUTCString():"",r.path?"; path="+r.path:"",r.domain?"; domain="+r.domain:"",r.secure?"; secure":""].join("")}r=i||{};var n,o=r.raw?function(e){return e}:decodeURIComponent;return(n=new RegExp("(?:^|; )"+encodeURIComponent(t)+"=([^;]*)").exec(document.cookie))?o(n[1]):null}}),e.jqx.string=e.jqx.string||{},e.extend(e.jqx.string,{replace:function(e,t,i){if(t===i)return this;for(var r=e,s=r.indexOf(t);-1!=s;)r=r.replace(t,i),s=r.indexOf(t);return r},contains:function(e,t){return null==e||null==t?!1:-1!=e.indexOf(t)},containsIgnoreCase:function(e,t){return null==e||null==t?!1:-1!=e.toString().toUpperCase().indexOf(t.toString().toUpperCase())},equals:function(e,t){return null==e||null==t?!1:(e=this.normalize(e),t.length==e.length?e.slice(0,t.length)==t:!1)},equalsIgnoreCase:function(e,t){return null==e||null==t?!1:(e=this.normalize(e),t.length==e.length?e.toUpperCase().slice(0,t.length)==t.toUpperCase():!1)},startsWith:function(e,t){return null==e||null==t?!1:e.slice(0,t.length)==t},startsWithIgnoreCase:function(e,t){return null==e||null==t?!1:e.toUpperCase().slice(0,t.length)==t.toUpperCase()},normalize:function(e){return 65279==e.charCodeAt(e.length-1)&&(e=e.substring(0,e.length-1)),e},endsWith:function(e,t){return null==e||null==t?!1:(e=this.normalize(e),e.slice(-t.length)==t)},endsWithIgnoreCase:function(e,t){return null==e||null==t?!1:(e=this.normalize(e),e.toUpperCase().slice(-t.length)==t.toUpperCase())}}),e.extend(e.easing,{easeOutBack:function(e,t,i,r,s,a){return void 0==a&&(a=1.70158),r*((t=t/s-1)*t*((a+1)*t+a)+1)+i},easeInQuad:function(e,t,i,r,s){return r*(t/=s)*t+i},easeInOutCirc:function(e,t,i,r,s){return(t/=s/2)<1?-r/2*(Math.sqrt(1-t*t)-1)+i:r/2*(Math.sqrt(1-(t-=2)*t)+1)+i},easeInOutSine:function(e,t,i,r,s){return-r/2*(Math.cos(Math.PI*t/s)-1)+i},easeInCubic:function(e,t,i,r,s){return r*(t/=s)*t*t+i},easeOutCubic:function(e,t,i,r,s){return r*((t=t/s-1)*t*t+1)+i},easeInOutCubic:function(e,t,i,r,s){return(t/=s/2)<1?r/2*t*t*t+i:r/2*((t-=2)*t*t+2)+i},easeInSine:function(e,t,i,r,s){return-r*Math.cos(t/s*(Math.PI/2))+r+i},easeOutSine:function(e,t,i,r,s){return r*Math.sin(t/s*(Math.PI/2))+i},easeInOutSine:function(e,t,i,r,s){return-r/2*(Math.cos(Math.PI*t/s)-1)+i}})}(jqxBaseFramework),function(e){e.event&&e.event.special&&e.extend(e.event.special,{close:{noBubble:!0},open:{noBubble:!0},cellclick:{noBubble:!0},rowclick:{noBubble:!0},tabclick:{noBubble:!0},selected:{noBubble:!0},expanded:{noBubble:!0},collapsed:{noBubble:!0},valuechanged:{noBubble:!0},expandedItem:{noBubble:!0},collapsedItem:{noBubble:!0},expandingItem:{noBubble:!0},collapsingItem:{noBubble:!0}}),e.fn.extend&&e.fn.extend({ischildof:function(t){if(!e(this).parents){var i=t.element.contains(this.element);return i}for(var r=e(this).parents().get(),s=0;s<r.length;s++)if("string"!=typeof t){var a=r[s];if(void 0!==t&&a==t[0])return!0}else if(void 0!==t&&e(r[s]).is(t))return!0;return!1}}),e.fn.jqxProxy=function(){var t=e(this).data().jqxWidget,i=Array.prototype.slice.call(arguments,0),r=t.element;return r||(r=t.base.element),e.jqx.jqxWidgetProxy(t.widgetName,r,i)};var t=this.originalVal=e.fn.val;e.fn.val=function(i){if("undefined"==typeof i){if(e(this).hasClass("jqx-widget")){var r=e(this).data().jqxWidget;if(r&&r.val)return r.val()}if(this[0]&&this[0].tagName.toLowerCase().indexOf("angular")>=0){var r=e(this).find(".jqx-widget").data().jqxWidget;if(r&&r.val)return r.val()}return t.call(this)}if(e(this).hasClass("jqx-widget")){var r=e(this).data().jqxWidget;if(r&&r.val)return 2!=arguments.length?r.val(i):r.val(i,arguments[1])}if(this[0]&&this[0].tagName.toLowerCase().indexOf("angular")>=0){var r=e(this).find(".jqx-widget").data().jqxWidget;if(r&&r.val)return 2!=arguments.length?r.val(i):r.val(i,arguments[1])}return t.call(this,i)},e.fn.modal&&e.fn.modal.Constructor&&(e.fn.modal.Constructor.prototype.enforceFocus=function(){e(document).off("focusin.bs.modal").on("focusin.bs.modal",e.proxy(function(t){if(this.$element[0]!==t.target&&!this.$element.has(t.target).length){if(e(t.target).parents().hasClass("jqx-popup"))return!0;this.$element.trigger("focus")}},this))}),e.fn.coord=function(t){var i,r,s={top:0,left:0},a=this[0],n=a&&a.ownerDocument;if(n){if(i=n.documentElement,!e.contains(i,a))return s;void 0!==typeof a.getBoundingClientRect&&(s=a.getBoundingClientRect());var o=function(t){return e.isWindow(t)?t:9===t.nodeType?t.defaultView||t.parentWindow:!1};r=o(n);var l=0,h=0,d=navigator.userAgent.toLowerCase(),c=-1!=d.indexOf("ipad")||-1!=d.indexOf("iphone");if(c&&(l=2),1==t&&"static"!=document.body.style.position&&""!=document.body.style.position){var u=e(document.body).coord();l=-u.left,h=-u.top}return{top:h+s.top+(r.pageYOffset||i.scrollTop)-(i.clientTop||0),left:l+s.left+(r.pageXOffset||i.scrollLeft)-(i.clientLeft||0)}}}}(jqxBaseFramework),
// National Instruments Copyright 2017
function(){"use strict";$.jqx.theme="flat"}(),function(e){function t(t){return function(i,r){"string"!=typeof i&&(r=i,i="*");var s,a,n,o=i.toLowerCase().split(x),l=0,h=o.length;if(e.isFunction(r))for(;h>l;l++)s=o[l],n=/^\+/.test(s),n&&(s=s.substr(1)||"*"),a=t[s]=t[s]||[],a[n?"unshift":"push"](r)}}function i(e,t,r,s,a,n){a=a||t.dataTypes[0],n=n||{},n[a]=!0;for(var o,l=e[a],h=0,d=l?l.length:0,c=e===b;d>h&&(c||!o);h++)o=l[h](t,r,s),"string"==typeof o&&(!c||n[o]?o=void 0:(t.dataTypes.unshift(o),o=i(e,t,r,s,o,n)));return!c&&o||n["*"]||(o=i(e,t,r,s,"*",n)),o}function r(t,i){var r,s,a=e.jqx.data.ajaxSettings.flatOptions||{};for(r in i)void 0!==i[r]&&((a[r]?t:s||(s={}))[r]=i[r]);s&&e.extend(!0,t,s)}function s(e,t,i){var r,s,a,n,o=e.contents,l=e.dataTypes,h=e.responseFields;for(s in h)s in i&&(t[h[s]]=i[s]);for(;"*"===l[0];)l.shift(),void 0===r&&(r=e.mimeType||t.getResponseHeader("content-type"));if(r)for(s in o)if(o[s]&&o[s].test(r)){l.unshift(s);break}if(l[0]in i)a=l[0];else{for(s in i){if(!l[0]||e.converters[s+" "+l[0]]){a=s;break}n||(n=s)}a=a||n}return a?(a!==l[0]&&l.unshift(a),i[a]):void 0}function a(e,t){var i,r,s,a,n=e.dataTypes.slice(),o=n[0],l={},h=0;if(e.dataFilter&&(t=e.dataFilter(t,e.dataType)),n[1])for(i in e.converters)l[i.toLowerCase()]=e.converters[i];for(;s=n[++h];)if("*"!==s){if("*"!==o&&o!==s){if(i=l[o+" "+s]||l["* "+s],!i)for(r in l)if(a=r.split(" "),a[1]===s&&(i=l[o+" "+a[0]]||l["* "+a[0]])){i===!0?i=l[r]:l[r]!==!0&&(s=a[0],n.splice(h--,0,s));break}if(i!==!0)if(i&&e["throws"])t=i(t);else try{t=i(t)}catch(d){return{state:"parsererror",error:i?d:"No conversion from "+o+" to "+s}}}o=s}return{state:"success",data:t}}function n(){try{return new window.XMLHttpRequest}catch(e){}}function o(){try{return new window.ActiveXObject("Microsoft.XMLHTTP")}catch(e){}}e.jqx.observableArray=function(t,i){if("string"==typeof t&&(t=e.parseJSON(t)),!Object.defineProperty||!function(){try{return Object.defineProperty({},"x",{}),!0}catch(e){return!1}}()){var r=Object.defineProperty;Object.defineProperty=function(e,t,i){if(r)try{return r(e,t,i)}catch(s){}if(e!==Object(e))throw TypeError("Object.defineProperty called on non-object");return Object.prototype.__defineGetter__&&"get"in i&&Object.prototype.__defineGetter__.call(e,t,i.get),Object.prototype.__defineSetter__&&"set"in i&&Object.prototype.__defineSetter__.call(e,t,i.set),"value"in i?e[t]=i.value:e[t]||(e[t]=i),e}}Array.prototype.forEach||(Array.prototype.forEach=function(e){if(void 0===this||null===this)throw TypeError();var t=Object(this),i=t.length>>>0;if("function"!=typeof e)throw TypeError();var r,s=arguments[1];for(r=0;i>r;r++)r in t&&e.call(s,t[r],r,t)}),"function"!=typeof Object.getOwnPropertyNames&&(Object.getOwnPropertyNames=function(e){if(e!==Object(e))throw TypeError("Object.getOwnPropertyNames called on non-object");var t,i=[];for(t in e)Object.prototype.hasOwnProperty.call(e,t)&&i.push(t);return i});var s,a=this,n=[];a.notifier=null,a.name="observableArray",a.observing=!0,a.changes=new Array;var i=i;return a.observe=function(){a.observing=!0,1==arguments.length&&(i=arguments[0])},a.unobserve=function(){a.observing=!1},a.toArray=function(){return n.slice(0)},a.toJSON=function(e,t){function i(e){return'"'+e.replace(u,function(e){var t=p[e];return"string"==typeof t?t:"\\u"+("0000"+e.charCodeAt(0).toString(16)).slice(-4)})+'"'}function r(e){return 10>e?"0"+e:e}function s(e){var t;return t=isFinite(e.valueOf())?e.getUTCFullYear()+"-"+r(e.getUTCMonth()+1)+"-"+r(e.getUTCDate())+"T"+r(e.getUTCHours())+":"+r(e.getUTCMinutes())+":"+r(e.getUTCSeconds())+'Z"':"null"}function a(e){var t,i=e.length,r=[];for(t=0;i>t;t++)r.push(d(t,e)||"null");return"["+r.join(",")+"]"}function o(t){var r,s,a=[];for(r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(""!=r&&e&&-1===e.indexOf(r))continue;s=d(r,t),s&&a.push(i(r)+":"+s)}return"{"+a.join(",")+"}"}function l(e){switch(Object.prototype.toString.call(e)){case"[object Date]":return s(e);case"[object Array]":return a(e)}return o(e)}function h(e,t){switch(t){case"string":return i(e);case"number":case"float":case"integer":case"int":return isFinite(e)?e:"null";case"boolean":return e}return"null"}function d(e,t){var i=t[e],r=typeof i;return i&&"object"==typeof i&&"function"==typeof i.toJSON&&(i=i.toJSON(e),r=typeof i),/(number|float|int|integer|string|boolean)/.test(r)||!i&&"object"===r?h(i,r):l(i)}var c=n;t&&(c=t);var u=/[\\\"\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,p={"\b":"\\b","	":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"};return!e&&window.JSON&&"function"==typeof window.JSON.stringify?window.JSON.stringify(c):d("",{"":c})},a.defineIndexProperty=function(t){if(!(t in a)){var i=function(t,i,r,o){var l=t[i],h=l,d=function(){return h},c=function(t){if(l=t,h!==l){var r=h;if(h=l,"function"==typeof s){var d=n.indexOf(o),c="",u=function(t,r){Object.getOwnPropertyNames(t).forEach(function(s){var a=e.type(t[s]);"array"==a||"object"==a?u(t[s],r+"."+s):i===s&&(c=r+"."+s)})};u(o,d),s({object:a,type:"update",path:c,index:d,name:i,newValue:l,oldValue:r})}}return h=l,l};void 0!=t[i]&&"length"!=i&&(Object.defineProperty?Object.defineProperty(t,i,{get:d,set:c}):Object.prototype.__defineGetter__&&Object.prototype.__defineSetter__&&(Object.prototype.__defineGetter__.call(t,i,d),Object.prototype.__defineSetter__.call(t,i,c)))},r=function(t,s,a){var n=e.type(t);/(number|float|int|integer|string|boolean)/.test(n)||void 0!==t&&Object.getOwnPropertyNames(t).forEach(function(n){var o=e.type(t[n]);"array"==o||"object"==o?(i(t,n,s+"."+n,a),r(t[n],s+"."+n,a)):i(t,n,s+"."+n,a)})};Object.defineProperty(a,t,{configurable:!0,enumerable:!0,get:function(){return n[t]},set:function(e){var i=n[t];a.toJSON(null,i)!=a.toJSON(null,e)&&(n[t]=e,"function"==typeof s&&s({object:a,type:"update",path:t.toString(),index:t,name:"index",newValue:e,oldValue:i}),r(e,t,e))}}),r(a[t],t,a[t])}},a.push=function(){for(var e,t=0,i=arguments.length;i>t;t++)e=n.length,n.push(arguments[t]),a.defineIndexProperty(e),"function"==typeof s&&s({object:a,type:"add",name:"length",index:e,newValue:n.length,oldValue:e});return n.length},a.pop=function(){if(~n.length){var e=n.length-1,t=n.pop();return delete a[e],"function"==typeof s&&s({object:a,type:"delete",name:"length",index:e,newValue:n.length,oldValue:e}),t}},a.unshift=function(){for(var e=n.length,t=0,i=arguments.length;i>t;t++)n.splice(t,0,arguments[t]),a.defineIndexProperty(n.length-1);return"function"==typeof s&&s({object:a,type:"add",index:0,name:"length",newValue:n.length,oldValue:e}),n.length},a.shift=function(){var e=n.length;if(~n.length){var t=n.shift();return 0===n.length&&delete a[e],"function"==typeof s&&s({object:a,type:"delete",index:e,name:"length",newValue:n.length,oldValue:e}),t}},a.slice=function(t,i,r){var s=n.slice(t,i),a=new e.jqx.observableArray(s,r);return a},a.splice=function(t,i,r){var o,l=[];for(t=~t?t:n.length-t,i=(null==i?n.length-t:i)||0;i--;)o=n.splice(t,1)[0],l.push(o),delete a[n.length],"function"==typeof s&&s({object:a,type:"delete",index:t,name:"length",newValue:-1,oldValue:t});for(var h=2,d=arguments.length;d>h;h++)n.splice(t,0,arguments[h]),defineIndexProperty(n.length-1),"function"==typeof s&&s({object:a,type:"add",index:t,name:"length",newValue:n.length-1,oldValue:t}),t++;var c=new e.jqx.observableArray(l,r);return c},Object.defineProperty(a,"length",{configurable:!1,enumerable:!0,get:function(){return n.length},set:function(e){var t=Number(e);if(!(t%1===0&&t>=0))throw new RangeError("Invalid array length");return t<n.length?a.splice(t):t>n.length&&a.push.apply(a,new Array(t-n.length)),e}}),e.jqx.observableArray.prototype.fromArray=function(t,i){var r=new e.jqx.observableArray(t,i);return r},e.jqx.observableArray.prototype.clone=function(){var t=new e.jqx.observableArray(n,i);return t.observing=a.observing,t.changes=a.changes,t.notifier=a.notifier,t},a.remove=function(e){if(0>e||e>=a.length)throw new Error("Invalid index : "+e);if(a.hasOwnProperty(e)){var t=a[e];return a[e]=void 0,n[e]=void 0,"function"==typeof s&&s({object:a,type:"delete",index:e,name:"index",newValue:void 0,oldValue:t}),!0}return!1},a.concat=function(t,i){var r=n.concat(t),s=new e.jqx.observableArray(r,i);return s},Object.getOwnPropertyNames(Array.prototype).forEach(function(e){if(!(e in a)){var t=function(){var t=a.observing;a.observing=!1;var i=n[e],r=i.apply(n,arguments);return a.observing=t,r};Object.defineProperty(a,e,{configurable:!1,enumerable:!0,writeable:!1,value:t})}}),a.set=function(t,i){if("string"==e.type(t)&&t.split(".").length>1){for(var r=t.split("."),s=a,n=0;n<r.length;n++){if(0===n&&r[n]>=a.length)throw new Error("Invalid Index: "+t);n<r.length-1?s=s[r[n]]:s[r[n]]=i}return!0}return t>=a.length?a.push(i):a[t]=i,!0},a.get=function(e){return a[e]},t instanceof Array&&a.push.apply(a,t),s=function(){a.observing&&(arguments&&arguments[0]&&a.changes.push(arguments[0]),i&&i.apply(a,arguments),a.notifier&&a.notifier.apply(a,arguments))},a},e.jqx.formatDate=function(t,i,r){var s=e.jqx.dataFormat.formatdate(t,i,r);return s},e.jqx.formatNumber=function(t,i,r){var s=e.jqx.dataFormat.formatnumber(t,i,r);return s},e.jqx.dataAdapter=function(t,i){if(void 0!=t&&(void 0!==t.dataFields&&(t.datafields=t.dataFields),void 0!==t.dataType&&(t.datatype=t.dataType),void 0!==t.localData&&(t.localdata=t.localData),void 0!==t.sortColumn&&(t.sortcolumn=t.sortColumn),void 0!==t.sortDirection&&(t.sortdirection=t.sortDirection),void 0!==t.sortOrder&&(t.sortdirection=t.sortOrder),void 0!==t.formatData&&(t.formatdata=t.formatData),void 0!==t.processData&&(t.processdata=t.processData),void 0!==t.pageSize&&(t.pagesize=t.pageSize),void 0!==t.pageNum&&(t.pagenum=t.pageNum),void 0!==t.updateRow&&(t.updaterow=t.updateRow),void 0!==t.addRow&&(t.addrow=t.addRow),void 0!==t.deleteRow&&(t.deleterow=t.deleteRow),void 0!==t.contentType&&(t.contenttype=t.contentType),void 0!=t.totalRecords&&(t.totalrecords=t.totalRecords),void 0!=t.loadError&&(t.loadError=t.loadError),void 0!=t.sortComparer&&(t.sortcomparer=t.sortComparer)),this._source=t,this._options=i||{},void 0!=t.beforeLoadComplete&&(this._options.beforeLoadComplete=this._source.beforeLoadComplete),void 0!=t.downloadComplete&&(this._options.downloadComplete=this._source.downloadComplete),void 0!=t.loadComplete&&(this._options.loadComplete=this._source.loadComplete),void 0!=t.autoBind&&(this._options.downloadComplete=this._source.autoBind),void 0!=t.formatData&&(this._options.formatData=this._source.formatData),void 0!=t.loadError&&(this._options.loadError=this._source.loadError),void 0!=t.beforeSend&&(this._options.beforeSend=this._source.beforeSend),void 0!=t.contentType&&(this._options.contentType=this._source.contentType),void 0!=t.async&&(this._options.async=this._source.async),void 0!=t.loadServerData&&(this._options.loadServerData=this._source.loadServerData),void 0!=t.uniqueDataFields&&(this._options.uniqueDataFields=this._source.uniqueDataFields),this.records=new Array,this._downloadComplete=new Array,this._bindingUpdate=new Array,void 0!=t&&null!=t.localdata&&"function"==typeof t.localdata){var r=t.localdata();if(null!=r){t._localdata=t.localdata;var s=this;t._localdata.subscribe&&(s._oldlocaldata=[],t._localdata.subscribe(function(t){var i=function(t){return e.isArray(t)?e.makeArray(i(e(t))):e.extend(!0,{},t)};0!=s.suspendKO&&void 0!=s.suspendKO&&0!=s._oldlocaldata.length||(s._oldlocaldata=i(t))},t._localdata,"beforeChange"),t._localdata.subscribe(function(e){if(0==s.suspendKO||void 0==s.suspendKO){var i="";s._oldrecords=s.records,0==s._oldlocaldata.length&&(t.localdata=t._localdata()),0==s._oldlocaldata.length?i="change":e&&(s._oldlocaldata.length==e.length&&(i="update"),s._oldlocaldata.length>e.length&&(i="remove"),s._oldlocaldata.length<e.length&&(i="add")),s.dataBind(null,i)}},t._localdata,"change"),s._knockoutdatasource=!0),t.localdata=r}}1==this._options.autoBind&&this.dataBind()},e.jqx.dataAdapter.prototype={getrecords:function(){return this.records},beginUpdate:function(){this.isUpdating=!0},endUpdate:function(e){this.isUpdating=!1,0!=e&&(this._changedrecords&&this._changedrecords.length>0?(this.callBindingUpdate("update"),this._changedrecords=[]):this.dataBind(null,""))},formatDate:function(t,i,r){var s=e.jqx.dataFormat.formatdate(t,i,r);return s},formatNumber:function(t,i,r){var s=e.jqx.dataFormat.formatnumber(t,i,r);return s},dataBind:function(t,i){if(1!=this.isUpdating){var r=this._source;if(r){r.generatedfields&&(r.datafields=null,r.generatedfields=null),e.jqx.dataFormat.datescache=new Array,null!=r.dataFields&&(r.datafields=r.dataFields),void 0==r.recordstartindex&&(r.recordstartindex=0),void 0==r.recordendindex&&(r.recordendindex=0),void 0==r.loadallrecords&&(r.loadallrecords=!0),void 0==r.root&&(r.root=""),void 0==r.record&&(r.record=""),void 0!=r.sort&&(this.sort=r.sort),void 0!=r.filter?this.filter=r.filter:this.filter=null,void 0!=r.sortcolumn&&(this.sortcolumn=r.sortcolumn),void 0!=r.sortdirection&&(this.sortdirection=r.sortdirection),void 0!=r.sortcomparer&&(this.sortcomparer=r.sortcomparer),this.records=new Array;var s=this._options||{};if(this.virtualmode=void 0!=s.virtualmode?s.virtualmode:!1,this.totalrecords=void 0!=s.totalrecords?s.totalrecords:0,this.pageable=void 0!=s.pageable?s.pageable:!1,this.pagesize=void 0!=s.pagesize?s.pagesize:0,this.pagenum=void 0!=s.pagenum?s.pagenum:0,this.cachedrecords=void 0!=s.cachedrecords?s.cachedrecords:new Array,this.originaldata=new Array,this.recordids=new Array,this.updaterow=void 0!=s.updaterow?s.updaterow:null,this.addrow=void 0!=s.addrow?s.addrow:null,this.deleterow=void 0!=s.deleterow?s.deleterow:null,this.cache=void 0!=s.cache?s.cache:!1,this.unboundmode=!1,void 0!=r.formatdata&&(s.formatData=r.formatdata),void 0!=r.data&&(void 0==s.data&&(s.data={}),e.extend(s.data,r.data)),void 0!=r.mapChar&&(r.mapchar=r.maxChar),void 0!=r.mapchar?this.mapChar=r.mapchar?r.mapchar:">":this.mapChar=s.mapChar?s.mapChar:">",(s.unboundmode||r.unboundmode)&&(this.unboundmode=s.unboundmode||r.unboundmode),void 0!=r.cache&&(this.cache=r.cache),this.koSubscriptions)for(var a=0;a<this.koSubscriptions.length;a++)this.koSubscriptions[a].dispose();this.koSubscriptions=new Array,this.pagenum<0&&(this.pagenum=0);var n=this,o=r.datatype;"csv"!==r.datatype&&"tab"!==r.datatype&&"tsv"!==r.datatype&&"text"!=r.datatype||(o="text");var l=void 0!=s.async?s.async:!0;switch(void 0!=r.async&&(l=r.async),o){case"local":case"array":case"observablearray":case"observableArray":default:if(void 0==r.localdata&&r.length){r.localdata=new Array;for(var h=0;h<r.length;h++)r.localdata[r.localdata.length]=r[h],r[h].uid=h}r.beforeprocessing&&e.isFunction(r.beforeprocessing)&&r.beforeprocessing(r.localdata);var d=r.localdata.length;if(this.totalrecords=this.virtualmode?r.totalrecords||d:d,this.unboundmode){this.totalrecords=this.unboundmode?r.totalrecords||d:d;var c=r.datafields?r.datafields.length:0;if(c>0)for(var h=0;h<this.totalrecords;h++){for(var u={},p=0;c>p;p++)u[r.datafields[p].name]="";u.uid=h,r.localdata[r.localdata.length]=u}}void 0==this.totalrecords&&(this.totalrecords=0);var c=r.datafields?r.datafields.length:0,f=function(t,i){for(var s={},a=0;i>a;a++){var o=r.datafields?r.datafields[a]:{},l="";if(void 0!=o&&null!=o){if(o.map){if(e.isFunction(o.map))l=o.map(t);else{var h=o.map.split(n.mapChar);if(h.length>0){for(var d=t,c=0;c<h.length;c++)d&&(d=d[h[c]]);l=d}else l=t[o.map]}void 0!=l&&null!=l?l=l.toString():void 0==l&&null!=l&&(l="")}var u=!1;""==l&&(u=!0,l=t[o.name],void 0!=l&&null!=l&&(r._localdata&&l.subscribe?l=l():"array"!=o.type&&("date"===o.type?l&&l instanceof Date&&(l=l):l=l.toString()))),"[object Object]"==l&&o.map&&u&&(l=""),l=n.getvaluebytype(l,o),void 0!=o.displayname?s[o.displayname]=l:s[o.name]=l}}return s};if(r._localdata){this._changedrecords=[],this.records=new Array;var m=r._localdata();if(e.each(m,function(t,s){if("string"==typeof s)n.records.push(s);else{var a={},o=0,l=this;e.each(this,function(i,s){var h=null,d="string",u=i;if(c>0){for(var p=!1,f=!1,m=0;c>m;m++){var g=r.datafields[m];if(void 0!=g&&g.name==i){p=!0,h=g.map,d=g.type,u=g.name;break}if(void 0!=g&&g.map&&g.map.indexOf(i)>=0){p=!0,h=g.map,d=g.type,u=g.name,f=!0;var v=l[i];if(null!=h){var x=h.split(n.mapChar);if(x.length>0){for(var b=l,w=0;w<x.length;w++)b=b[x[w]];v=b}else v=l[h]}"string"!=d&&(v=n.getvaluebytype(v,{type:d})),a[u]=v,void 0!=a[u]&&(o+=a[u].toString().length+a[u].toString().substr(0,1))}}if(!p)return!0;if(f)return!0}var y=e.isFunction(l[i]);if(y){var v=l[i]();if("string"!=d&&(v=n.getvaluebytype(v,{type:d})),a[i]=v,l[i].subscribe){var _=t;n.koSubscriptions[n.koSubscriptions.length]=l[i].subscribe(function(e){var t=_;a[i]=e;var r={index:t,oldrecord:a,record:a};return n._changedrecords.push(r),n.isUpdating?void 0:(n.callBindingUpdate("update"),n._changedrecords=[],!1)})}}else{var v=l[i];if(null!=h){var x=h.split(n.mapChar);if(x.length>0){for(var b=l,w=0;w<x.length;w++)b=b[x[w]];v=b}else v=l[h]}"string"!=d&&(v=n.getvaluebytype(v,{type:d})),a[u]=v,void 0!=a[u]&&(o+=a[u].toString().length+a[u].toString().substr(0,1))}});var h=n.getid(r.id,l,t);if(a.uid=h,n.records.push(a),a._koindex=o,n._oldrecords){var d=n.records.length-1;if("update"==i&&n._oldrecords[d]._koindex!=o){var u={index:d,oldrecord:n._oldrecords[d],record:a};n._changedrecords.push(u)}}}}),"add"==i)for(var d=n.records.length,h=0;d>h;h++){for(var u=n.records[h],g=!1,v=0;v<n._oldrecords.length;v++)if(n._oldrecords[v]._koindex===u._koindex){g=!0;break}g||n._changedrecords.push({index:h,oldrecord:null,record:u,position:0!=h?"last":"first"})}else if("remove"==i)for(var d=n._oldrecords.length,h=0;d>h;h++){var x=n._oldrecords[h];n.records[h]?n.records[h]._koindex!=x._koindex&&n._changedrecords.push({index:h,oldrecord:x,record:null}):n._changedrecords.push({index:h,oldrecord:x,record:null})}}else if(e.isArray(r.localdata))if(0==c){var b=0,w=new Array;e.each(r.localdata,function(t,i){var s=new Object(this);if("string"==typeof i)return n.records=r.localdata,!1;var a=n.getid(r.id,s,t);if("object"==typeof a&&(a=t),s.uid=a,0==t){for(var o in this){b++;var l=e.type(this[o]);w.push({name:o,type:l})}c=b,r.datafields=w,r.generatedfields=w}if(c>0){var h=f(s,c);h.uid=a,n.records[n.records.length]=h}else n.records[n.records.length]=s})}else e.each(r.localdata,function(e){var t=this,i=f(t,c),s=n.getid(r.id,i,e);"object"==typeof s&&(s=e);var t=new Object(i);t.uid=s,n.records[n.records.length]=t});else{this.records=new Array;var b=0,w=new Array;e.each(r.localdata,function(t){var i=n.getid(r.id,this,t);if(0==c&&!("string"==typeof this||this instanceof String)){for(var s in this){b++;var a=e.type(this[s]);w.push({name:s,type:a})}c=b,r.datafields=w,r.generatedfields=w}if(c>0){var o=this,l=f(o,c);l.uid=i,n.records[n.records.length]=l}else this.uid=i,n.records[n.records.length]=this})}if(this.originaldata=r.localdata,this.cachedrecords=this.records,this.addForeignValues(r),s.uniqueDataFields){var y=this.getUniqueRecords(this.records,s.uniqueDataFields);this.records=y,this.cachedrecords=y}if(s.beforeLoadComplete){var _=s.beforeLoadComplete(n.records,this.originaldata);void 0!=_&&(n.records=_,n.cachedrecords=_)}if(s.autoSort&&s.autoSortField){var j=Object.prototype.toString;Object.prototype.toString="function"==typeof field?field:function(){return this[s.autoSortField]},n.records.sort(function(t,i){if(void 0===t&&(t=null),void 0===i&&(i=null),null===t&&null===i)return 0;if(null===t&&null!==i)return 1;if(null!==t&&null===i)return-1;if(t=t.toString(),i=i.toString(),null===t&&null===i)return 0;if(null===t&&null!==i)return 1;if(null!==t&&null===i)return-1;if(e.jqx.dataFormat.isNumber(t)&&e.jqx.dataFormat.isNumber(i))return i>t?-1:t>i?1:0;if(e.jqx.dataFormat.isDate(t)&&e.jqx.dataFormat.isDate(i))return i>t?-1:t>i?1:0;e.jqx.dataFormat.isNumber(t)||e.jqx.dataFormat.isNumber(i)||(t=String(t).toLowerCase(),i=String(i).toLowerCase());try{if(i>t)return-1;if(t>i)return 1}catch(r){}return 0}),Object.prototype.toString=j}n.loadedData=r.localdata,n.buildHierarchy(),e.isFunction(s.loadComplete)&&s.loadComplete(r.localdata,n.records);break;case"json":case"jsonp":case"xml":case"xhtml":case"script":case"text":case"ics":if(null!=r.localdata&&!r.url){if(e.isFunction(r.beforeprocessing)&&r.beforeprocessing(r.localdata),"xml"===r.datatype?n.loadxml(r.localdata,r.localdata,r):"text"===o?n.loadtext(r.localdata,r):"ics"===o?n.loadics(r.localdata,r):n.loadjson(r.localdata,r.localdata,r),n.addForeignValues(r),s.uniqueDataFields){var y=n.getUniqueRecords(n.records,s.uniqueDataFields);n.records=y,n.cachedrecords=y}if(s.beforeLoadComplete){var _=s.beforeLoadComplete(n.records,this.originaldata);void 0!=_&&(n.records=_,n.cachedrecords=_)}return n.loadedData=r.localdata,n.buildHierarchy.call(n),e.isFunction(s.loadComplete)&&s.loadComplete(r.localdata,n.records),void n.callBindingUpdate(i)}var q=void 0!=s.data?s.data:{};if(r.processdata&&r.processdata(q),e.isFunction(s.processData)&&s.processData(q),e.isFunction(s.formatData)){var T=s.formatData(q);void 0!=T&&(q=T)}var S="application/x-www-form-urlencoded";s.contentType&&(S=s.contentType);var C="GET";r.type&&(C=r.type),s.type&&(C=s.type);var I=o;if("ics"==o&&(I="text"),r.url&&r.url.length>0)e.isFunction(s.loadServerData)?n._requestData(q,r,s):this.xhr=e.jqx.data.ajax({dataType:I,cache:this.cache,type:C,url:r.url,async:l,timeout:r.timeout,contentType:S,data:q,success:function(t,i,a){if(e.isFunction(r.beforeprocessing)){var l=r.beforeprocessing(t,i,a);void 0!=l&&(t=l)}if(e.isFunction(s.downloadComplete)){var l=s.downloadComplete(t,i,a);void 0!=l&&(t=l)}if(null==t)return n.records=new Array,n.cachedrecords=new Array,n.originaldata=new Array,n.callDownloadComplete(),void(e.isFunction(s.loadComplete)&&s.loadComplete(new Array));var h=t;if(t.records&&(h=t.records),void 0!=t.totalrecords?r.totalrecords=t.totalrecords:void 0!=t.totalRecords&&(r.totalrecords=t.totalRecords),"xml"===r.datatype?n.loadxml(null,h,r):"text"===o?n.loadtext(h,r):"ics"===o?n.loadics(h,r):n.loadjson(null,h,r),n.addForeignValues(r),s.uniqueDataFields){var d=n.getUniqueRecords(n.records,s.uniqueDataFields);n.records=d,n.cachedrecords=d}if(s.beforeLoadComplete){var c=s.beforeLoadComplete(n.records,t);void 0!=c&&(n.records=c,n.cachedrecords=c)}n.loadedData=t,n.buildHierarchy.call(n),n.callDownloadComplete(),e.isFunction(s.loadComplete)&&s.loadComplete(t,i,a,n.records)},error:function(t,i,a){e.isFunction(r.loaderror)&&r.loaderror(t,i,a),e.isFunction(s.loadError)&&s.loadError(t,i,a),t=null,n.callDownloadComplete()},beforeSend:function(t,i){e.isFunction(s.beforeSend)&&s.beforeSend(t,i),e.isFunction(r.beforesend)&&r.beforesend(t,i)}});else if(n.buildHierarchy(new Array),n.callDownloadComplete(),e.isFunction(s.loadComplete)){if(!k)var k={};s.loadComplete(k)}}this.callBindingUpdate(i)}}},buildHierarchy:function(e){var t=this._source,i=new Array;if(t.datafields){if(t.hierarchy&&!t.hierarchy.reservedNames)t.hierarchy.reservedNames={leaf:"leaf",parent:"parent",expanded:"expanded",checked:"checked",selected:"selected",level:"level",icon:"icon",data:"data"};else if(t.hierarchy){var r=t.hierarchy.reservedNames;r.leaf||(r.leaf="leaf"),r.parent||(r.parent="parent"),r.expanded||(r.expanded="expanded"),r.checked||(r.checked="checked"),r.selected||(r.selected="selected"),r.level||(r.level="level"),r.data||(r.data="data")}if(t.hierarchy){var s=this,r=t.hierarchy.reservedNames;if(t.hierarchy.root){if("xml"==t.dataType){var i=this.getRecordsHierarchy("uid","parentuid","records",null,e);return this.hierarchy=i,i}this.hierarchy=this.records;for(var a=t.hierarchy.root,n=0;n<this.records.length;n++){var o=this.records[n];if(o){var l=function(e){if(t.hierarchy.record)e.records=e[a][t.hierarchy.record];else{var i=a.split(s.mapChar),n=null;if(i.length>1){for(var o=e,l=0;l<i.length;l++)void 0!=o&&(o=o[i[l]]);n=o}else n=e[a];e.records=n}(null==e.records||e.records&&0==e.records.length)&&(e[r.leaf]=!0)};l(o),o[r.level]=0;var h=this.getid(t.id,o,n);o.uid=h,o[r.parent]=null,o[r.data]=o,void 0===o[r.expanded]&&(o[r.expanded]=!1);var d=function(e,i){if(!i)return void(e.records=new Array);for(var a=0;a<i.length;a++){var n=i[a];if(n){l(n),n[r.level]=e[r.level]+1,n[r.parent]=e,n[r.data]=n;var o=s.getid(t.id,n,a);o==a&&null==t.id?n.uid=e.uid+"_"+o:n.uid=o,void 0===n[r.expanded]&&(n[r.expanded]=!1),d(n,n.records)}}};d(o,o.records)}}return this.hierarchy}if(t.hierarchy.keyDataField&&t.hierarchy.parentDataField){var i=this.getRecordsHierarchy(t.hierarchy.keyDataField.name,t.hierarchy.parentDataField.name,"records",null,e);return this.hierarchy=i,i}if(t.hierarchy.groupingDataFields){for(var c=new Array,n=0;n<t.hierarchy.groupingDataFields.length;n++)c.push(t.hierarchy.groupingDataFields[n].name);var i=this.getGroupedRecords(c,"records","label",null,"data",null,"parent",e);return this.hierarchy=i,i}}}},addRecord:function(e,t,i,r){var s=this,a=function(){return{leaf:"leaf",parent:"parent",expanded:"expanded",checked:"checked",selected:"selected",level:"level",icon:"icon",data:"data"}};if(void 0!=e){if(void 0==i){if(this.hierarchy&&this.hierarchy.length>=0&&(this._source.hierarchy||r)){var n=s._source&&s._source.hierarchy?s._source.hierarchy.reservedNames:null;null==n&&(n=a()),e[n.level]=0,"last"==t?this.hierarchy.push(e):"number"==typeof t&&isFinite(t)?this.hierarchy.splice(t,0,e):this.hierarchy.splice(0,0,e)}else"last"==t?this.records.push(e):"number"==typeof t&&isFinite(t)?this.records.splice(t,0,e):this.records.splice(0,0,e);return!0}if(this.hierarchy.length>0){var o=function(r){if(r)for(var n=0;n<r.length;n++){var l=r[n];if(l.uid==i){var h=s._source&&s._source.hierarchy?s._source.hierarchy.reservedNames:null;return null==h&&(h=a()),e[h.parent]=l,e[h.level]=l[h.level]+1,l.records?l[h.leaf]=!1:(l.records=new Array,l[h.leaf]=!1),"last"==t?l.records.push(e):"number"==typeof t&&isFinite(t)?l.records.splice(t,0,e):l.records.splice(0,0,e),!0}l.records&&o(l.records)}};o(this.hierarchy)}}return!1},deleteRecord:function(e){var t=this;if(this.hierarchy.length>0){var i=function(r){if(r)for(var s=0;s<r.length;s++){var a=r[s];if(a.uid==e){r.splice(s,1),t.recordids[e]&&delete t.recordids[e];var n=function(e){for(var i=0;i<e.length;i++){for(var r=e[i].uid,s=0;s<t.records.length;s++){var a=t.records[s];if(a.uid==r){t.records.splice(s,1);break}}e[i].records&&n(e[i].records)}};a.records&&n(a.records);for(var o=0;o<t.records.length;o++){var a=t.records[o];if(a.uid==e){t.records.splice(o,1);break}}return!0}a.records&&i(a.records)}};i(this.hierarchy)}else for(var r=0;r<this.records.length;r++){var s=this.records[r];if(s.uid==e)return this.records.splice(r,1),!0}return!1},addForeignValues:function(e){for(var t=this,i=e.datafields?e.datafields.length:0,r=0;i>r;r++){var s=e.datafields[r];if(void 0!=s)if(void 0!=s.values){void 0==s.value&&(s.value=s.name),void 0==s.values.value&&(s.values.value=s.value);var a,n,o=new Array;t.pageable&&t.virtualmode?(a=t.pagenum*t.pagesize,n=a+t.pagesize,n>t.totalrecords&&(n=t.totalrecords)):t.virtualmode?(a=e.recordstartindex,n=e.recordendindex,n>t.totalrecords&&(n=t.totalrecords)):(a=0,n=t.records.length);for(var l=a;n>l;l++){var h=t.records[l],d=s.name,c=h[s.value];if(void 0!=o[c])h[d]=o[c];else for(var u=0;u<s.values.source.length;u++){var p=s.values.source[u],f=p[s.values.value];if(void 0==f&&(f=p.uid),f==c){var m=p[s.values.name];h[d]=m,o[c]=m;break}}}}else if(void 0!=s.value)for(var l=0;l<t.records.length;l++){var h=t.records[l];h[s.name]=h[s.value]}}},abort:function(){this.xhr&&4!=this.xhr.readyState&&(this.xhr.abort(),me.callDownloadComplete())},_requestData:function(t,i,r){var s=this,a=function(t){if(t.totalrecords&&(i.totalrecords=t.totalrecords,s.totalrecords=t.totalrecords),t.records&&(s.records=t.records,s.cachedrecords=t.records),s.addForeignValues(i),r.uniqueDataFields){var a=s.getUniqueRecords(s.records,r.uniqueDataFields);s.records=a,s.cachedrecords=a}if(r.beforeLoadComplete){var n=r.beforeLoadComplete(s.records,data);void 0!=n&&(s.records=n,s.cachedrecords=n)}for(var o=0;o<s.records.length;o++){var l=s.records[o];void 0!=l&&void 0==l.uid&&(l.uid=s.getid(i.id,l,o))}s.buildHierarchy.call(s),e.isFunction(r.loadComplete)&&r.loadComplete(t),s.callDownloadComplete()};r.loadServerData(t,i,a)},getUniqueRecords:function(e,t){if(e&&t)for(var i=e.length,r=t.length,s=new Array,a=new Array,n=0;i>n;n++){var o=e[n],l="";if(void 0!=o){for(var h=0;r>h;h++){var d=t[h];l+=o[d]+"_"}a[l]||(s[s.length]=o),a[l]=!0}}return s},getAggregatedData:function(t,i,r,s){var a=r;a||(a=this.records);var n={},o=new Array,l=a.length;if(0!=l&&void 0!=l){for(var h=0;l>h;h++)for(var d=a[h],c=0;c<t.length;c++){var u=t[c],p=d[u.name];if(u.aggregates){n[u.name]=n[u.name]||{},o[u.name]=o[u.name]||0,o[u.name]++;var f=function(t){for(obj in t){var i=n[u.name][obj];null==i&&(n[u.name][obj]=0,i=0),e.isFunction(t[obj])&&(i=t[obj](i,p,u.name,d,s)),n[u.name][obj]=i}},m=parseFloat(p);m=!isNaN(m),m&&(p=parseFloat(p)),"number"==typeof p&&isFinite(p)?e.each(u.aggregates,function(){var e=n[u.name][this];if(null==e&&(e=0,"min"==this&&(e=9999999999999),"max"==this&&(e=-9999999999999)),"sum"==this||"avg"==this||"stdev"==this||"stdevp"==this||"var"==this||"varp"==this)e+=parseFloat(p);else if("product"==this)0==h?e=parseFloat(p):e*=parseFloat(p);else if("min"==this)e=Math.min(e,parseFloat(p));else if("max"==this)e=Math.max(e,parseFloat(p));else if("count"==this)e++;else if("object"==typeof this)return void f(this);n[u.name][this]=e}):e.each(u.aggregates,function(){if("min"==this||"max"==this||"count"==this||"product"==this||"sum"==this||"avg"==this||"stdev"==this||"stdevp"==this||"var"==this||"varp"==this){if(null===p)return!0;var e=n[u.name][this];return null==e&&(e=0),n[u.name][this]=e,!0}"object"==typeof this&&f(this)})}}for(var c=0;c<t.length;c++){var u=t[c];if(n[u.name]||(n[u.name]={},e.each(u.aggregates,function(e){n[u.name][this]=0})),void 0!=n[u.name].avg){var p=n[u.name].avg,g=o[u.name];0===g||void 0==g?n[u.name].avg=0:n[u.name].avg=p/g}else void 0!=n[u.name].count&&(n[u.name].count=l);(n[u.name].stdev||n[u.name].stdevp||n[u.name]["var"]||n[u.name].varp)&&e.each(u.aggregates,function(e){if("stdev"==this||"var"==this||"varp"==this||"stdevp"==this){for(var t=n[u.name][this],i=l,r=t/l,s=0,o=0;l>o;o++){var h=a[o],d=h[u.name];s+=(d-r)*(d-r)}var c="stdevp"==this||"varp"==this?i:i-1;0==c&&(c=1),"var"==this||"varp"==this?n[u.name][this]=s/c:"stdevp"!=this&&"stdev"!=this||(n[u.name][this]=Math.sqrt(s/c))}}),u.formatStrings&&e.each(u.aggregates,function(t){var r=u.formatStrings[t];if(r)if("min"==this||"max"==this||"count"==this||"product"==this||"sum"==this||"avg"==this||"stdev"==this||"stdevp"==this||"var"==this||"varp"==this){var s=n[u.name][this];n[u.name][this]=e.jqx.dataFormat.formatnumber(s,r,i)}else if("object"==typeof this)for(obj in this){var s=n[u.name][obj];n[u.name][obj]=e.jqx.dataFormat.formatnumber(s,r,i)}})}return n}},bindDownloadComplete:function(e,t){this._downloadComplete[this._downloadComplete.length]={id:e,func:t}},unbindDownloadComplete:function(e){for(var t=0;t<this._downloadComplete.length;t++)if(this._downloadComplete[t].id==e){this._downloadComplete[t].func=null,this._downloadComplete.splice(t,1);break}},callDownloadComplete:function(){for(var e=0;e<this._downloadComplete.length;e++){var t=this._downloadComplete[e];null!=t.func&&t.func()}},setSource:function(e){this._source=e},generatekey:function(){var e=function(){return(65536*(1+Math.random())|0).toString(16).substring(1)};return e()+e()+"-"+e()+"-"+e()+"-"+e()+"-"+e()+e()+e()},getGroupedRecords:function(t,i,r,s,a,n,o,l,h){var d=this;h||(h=0);for(var c=new Array,u=0;u<t.length;u++)c[u]=d.generatekey();i||(i="items"),r||(r="group"),a||(a="record"),o||(o="parentItem"),void 0===n&&(n="value");var p=new Array,f=0,m=new Array,g=t.length;new Array;if(!l)var l=this.records;for(var v=l.length,x=function(t){var i=t;return s&&e.each(s,function(){this.name&&this.map&&(i[this.map]=i[this.name])}),i},b=0;v>b;b++){var w=x(l[b]);id=w[d.uniqueId];var y=new Array,_=0;for(u=0;g>u;u++){var j=t[u],q=w[j];null!=q&&(y[_++]={value:q,hash:c[u]})}if(y.length!=g)break;
for(var T=null,S="",C=-1,I=0;I<y.length;I++){C++;var k=y[I].value,D=y[I].hash;if(S=S+"_"+D+"_"+k,void 0==m[S]||null==m[S]){if(null==T){T={level:0},T[o]=null,T[r]=k,T[a]=w,void 0!==w.expanded?T.expanded=w.expanded:T.expanded=!1,n&&(T[n]=w[n]),T[i]=new Array;var M=p.length+h;this._source.id&&"number"!=typeof w.uid&&!isFinite(w.uid)||(M="Row"+M),T.uid=M,p[f++]=T}else{var P={level:T.level+1};P[o]=T,P[r]=k,P[i]=new Array,P[a]=w,void 0!==w.expanded?P.expanded=w.expanded:P.expanded=!1,n&&(P[n]=w[n]),P.uid=T.uid+"_"+T[i].length,T[i][T[i].length]=P,T=P}m[S]=T}else T=m[S]}w&&(w.leaf=!0),null!=T?(null==this._source.id&&(void 0==w.uid?w.uid=T.uid+"_"+T[i].length:-1==w.uid.toString().indexOf(T.uid)&&(w.uid=T.uid+"_"+w.uid)),w[o]=T,w.level=T.level+1,T[i][T[i].length]=w):void 0==w.uid&&(w.uid=this.generatekey())}return p},getRecordsHierarchy:function(t,i,r,s,a){var n=new Array,o=this.records;if(a&&(o=a),0==this.records.length)return null;for(var l=null!=r?r:"items",h=[],d=o,c=d.length,u=this._source&&this._source.hierarchy?this._source.hierarchy.reservedNames:null,p=function(t){var i=t;return s&&e.each(s,function(){this.name&&this.map&&(i[this.map]=i[this.name])}),i},f=0;c>f;f++){var m=e.extend({},d[f]),g=m[i],v=m[t];h[v]={parentid:g,item:m}}for(var f=0;c>f;f++){var m=e.extend({},d[f]),g=m[i],v=m[t];if(void 0!=h[g]){var m={parentid:g,item:h[v].item},x=h[g].item;x[l]||(x[l]=[]);var b=x[l].length,w=m.item;u?void 0==w[u.parent]&&(w[u.parent]=x):void 0==w.parent&&(w.parent=x);var y=p(w);x[l][b]=y,h[g].item=x,h[v]=m}else{var w=h[v].item;u?void 0==w[u.parent]&&(w[u.parent]=null):void 0==w.parent&&(w.parent=null);var y=p(w);u?y[u.level]=0:y.level=0,n[n.length]=y}}if(0!=n.length){var _=function(e,t){for(var i=0;i<t.length;i++){u?t[i][u.level]=e:t[i].level=e;var r=t[i][l];r&&r.length>0?_(e+1,r):u?t[i][u.leaf]=!0:t[i].leaf=!0}};_(0,n)}return n},bindBindingUpdate:function(e,t){this._bindingUpdate[this._bindingUpdate.length]={id:e,func:t}},unbindBindingUpdate:function(e){for(var t=0;t<this._bindingUpdate.length;t++)if(this._bindingUpdate[t].id==e){this._bindingUpdate[t].func=null,this._bindingUpdate.splice(t,1);break}},callBindingUpdate:function(e){for(var t=0;t<this._bindingUpdate.length;t++){var i=this._bindingUpdate[t];null!=i.func&&i.func(e)}},getid:function(t,i,r){if(null==t||void 0==t.name||!t.name){if(e(t,i).length>0)return e(t,i).text();if(t&&t.toString().length>0){var s=e(i).attr(t);if(null!=s&&s.toString().length>0)return e.trim(s).split(" ").join("").replace(/([ #;?%&,.+*~\':"!^$[\]()=>|\/@])/g,"");var a=t.split(this.mapChar);if(a.length>1){for(var n=i,o=0;o<a.length;o++)void 0!=n&&(n=n[a[o]]);if(void 0!=n)return n}else if(void 0!=i[t])return i[t]}return r}var s=e(i).attr(t.name);if(null!=s&&s.toString().length>0)return s;if(t.map)try{var s=e(i).attr(t.map);if(null!=s&&s.toString().length>0)return s;if(e(t.map,i).length>0)return e(t.map,i).text();if(e(t.name,i).length>0)return e(t.name,i).text()}catch(l){return r}},loadjson:function(t,i,r){"string"==typeof t&&(t=e.parseJSON(t)),void 0==r.root&&(r.root=""),void 0==r.record&&(r.record="");var t=t||i;t||(t=[]);var s=this;if(""!=r.root){var a=r.root.split(s.mapChar);if(a.length>1){for(var n=t,o=0;o<a.length;o++)void 0!=n&&(n=n[a[o]]);t=n}else if(void 0!==t[r.root]?t=t[r.root]:t[0]&&void 0!==t[0][r.root]?t=t[0][r.root]:e.each(t,function(e){return this==r.root?(t=this,!1):void(void 0!=this[r.root]&&(t=this[r.root]))}),!t){var a=r.root.split(s.mapChar);if(a.length>0){for(var n=t,o=0;o<a.length;o++)void 0!=n&&(n=n[a[o]]);t=n}}}else if(!t.length)for(obj in t)if(e.isArray(t[obj])){t=t[obj];break}if(null!=t&&void 0==t.length&&(t=e.makeArray(t)),null==t||void 0==t||"undefined"==t||void 0==t.length)throw new Error("jqxDataAdapter: JSON Parse error! Invalid JSON. Please, check your JSON or your jqxDataAdapter initialization!");if(0==t.length)return void(this.totalrecords=0);var l=t.length;this.totalrecords=this.virtualmode?r.totalrecords||l:l,this.records=new Array,this.originaldata=new Array;var h=this.records,d=this.pageable?this.pagesize*this.pagenum:r.recordstartindex;this.recordids=new Array,r.loadallrecords&&(d=0,l=this.totalrecords);var c=0;this.virtualmode&&(d=this.pageable?this.pagesize*this.pagenum:r.recordstartindex,c=d,d=0,l=this.totalrecords);var u=r.datafields?r.datafields.length:0;if(0==u){var p=t[0],f=new Array;for(obj in p){var m=obj;f[f.length]={name:m}}r.datafields=f,r.generatedfields=r.datafields,u=f.length}for(var g=d,v=d;l>v;v++){var x=t[v];if(void 0==x)break;if(!r.record||""==r.record||(x=x[r.record],void 0!=x)){var b=this.getid(r.id,x,v);if("object"==typeof b&&(b=v),!this.recordids[b]){this.recordids[b]=x;for(var w={},y=0;u>y;y++){var _=r.datafields[y],j="";if(void 0!=_&&null!=_){if(_.map){if(e.isFunction(_.map))j=_.map(x);else{var a=_.map.split(s.mapChar);if(a.length>0){for(var q=x,o=0;o<a.length;o++)void 0!=q&&(q=q[a[o]]);j=q}else j=x[_.map]}void 0!=j&&null!=j?j=this.getvaluebytype(j,_):void 0==j&&null!=j&&(j="")}if(""==j&&!_.map&&(j=x[_.name],void 0==j&&null!=j&&(j=""),void 0!=_.value&&void 0!=j)){var T=j[_.value];void 0!=T&&(j=T)}if(j=this.getvaluebytype(j,_),void 0!=_.displayname?w[_.displayname]=j:w[_.name]=j,"array"===_.type){var S=function(t){if(t)for(var i=0;i<t.length;i++){var a=t[i];if(a)for(var n=0;u>n;n++){var o=r.datafields[n],l="";if(void 0!=o&&null!=o){if(o.map){if(e.isFunction(o.map))l=o.map(a);else{var h=o.map.split(s.mapChar);if(h.length>0){for(var d=a,c=0;c<h.length;c++)void 0!=d&&(d=d[h[c]]);l=d}else l=a[o.map]}void 0!=l&&null!=l?l=this.getvaluebytype(l,o):void 0==l&&null!=l&&(l="")}if(""==l&&!o.map&&(l=a[o.name],void 0==l&&null!=l&&(l=""),void 0!=o.value&&void 0!=l)){var p=l[o.value];void 0!=p&&(l=p)}l=this.getvaluebytype(l,o),void 0!=o.displayname?a[o.displayname]=l:a[o.name]=l,"array"===o.type&&S.call(this,l)}}}};S.call(this,j)}}}(r.recordendindex<=0||d<r.recordendindex)&&(h[c+g]=new Object(w),h[c+g].uid=b,this.originaldata[c+g]=new Object(h[v]),g++)}}}this.records=h,this.cachedrecords=this.records},loadxml:function(t,i,r){"string"==typeof t&&(t=i=e(e.parseXML(t)),t=null),void 0==r.root&&(r.root=""),void 0==r.record&&(r.record="");var t;t=e.jqx.browser.msie&&i&&void 0!=i.xml?e(r.root+" "+r.record,e.parseXML(i.xml)):t||e(r.root+" "+r.record,i),t||(t=[]);var s=t.length;if(0!=t.length){this.totalrecords=this.virtualmode?r.totalrecords||s:s,this.records=new Array,this.originaldata=new Array;var a=this.records,n=this.pageable?this.pagesize*this.pagenum:r.recordstartindex;this.recordids=new Array,r.loadallrecords&&(n=0,s=this.totalrecords);var o=0;this.virtualmode&&(n=this.pageable?this.pagesize*this.pagenum:r.recordstartindex,o=n,n=0,s=this.totalrecords);var l=r.datafields?r.datafields.length:0;if(0==l){var h=t[0],d=new Array;for(obj in h){var c=obj;d[d.length]={name:c}}r.datafields=d,r.generatedfields=r.datafields,l=d.length}for(var u=n,p=!1,f=n;s>f;f++){var m=t[f];if(void 0==m)break;var g=this.getid(r.id,m,f);if(!this.recordids[g]){this.recordids[g]=m;var v={},x=!1;r.hierarchy&&r.hierarchy.root&&(x=!0);for(var b=0;l>b;b++){var w=r.datafields[b],y="";if(void 0!=w&&null!=w){if(w.map)if(e.isFunction(w.map))y=w.map(m);else{var _=w.map.indexOf("[");if(0>_)if(y=e(w.map,m),1==y.length)y=y.text();else{p=!0;for(var j=new Array,q=0;q<y.length;q++)j.push(e(y[q]).text());y=j,x&&j.length>0&&(y=j[0])}else{var T=w.map.substring(0,_-1),S=w.map.indexOf("]"),C=w.map.substring(_+1,S);y=e(T,m).attr(C),void 0==y&&(y=e(m).attr(C)),void 0==y&&(y="")}""==y&&(y=e(m).attr(w.map),void 0==y&&(y=""))}if(""==y){if(y=e(w.name,m),1==y.length)y=y.text();else{for(var j=new Array,q=0;q<y.length;q++)j.push(e(y[q]).text());y=j,x&&j.length>0&&(y=j[0])}""==y&&(y=e(m).attr(w.name),void 0==y&&(y="")),""==y&&m.nodeName&&m.nodeName==w.name&&m.firstChild&&(y=e(m.firstChild).text())}y=this.getvaluebytype(y,w),void 0!=w.displayname?v[w.displayname]=y:v[w.name]=y}}(r.recordendindex<=0||n<r.recordendindex)&&(a[o+u]=e.extend({},v),a[o+u].uid=g,this.originaldata[o+u]=e.extend({},a[f]),u++)}}if(r.hierarchy&&r.hierarchy.root)for(var f=n;s>f;f++){var m=t[f],I=a[f];if(e(m).parent().length>0){var g=this.getid(r.id,e(m).parents(r.hierarchy.record+":first"));I.parentuid=g}else I.parentuid=null}this.records=a,this.cachedrecords=this.records}},loadics:function(e,t){if(null!=e){var i=t.rowDelimiter||this.rowDelimiter||"\n",r=e.split(i),s=r.length,a=e.split("\r");1==s&&a.length>1&&(r=a,s=r.length),this.records=new Array,this.originaldata=new Array;var n=this.records;this.recordids=new Array;for(var o=function(e){var t=/^(\d{4})(\d{2})(\d{2})(T(\d{2})(\d{2})(\d{2})Z)?$/,i=t.exec(e);if(!i)throw new Error("Invalid UNTIL value: "+e);return new Date(Date.UTC(i[1],i[2]-1,i[3],i[5]||0,i[6]||0,i[7]||0))},l=0;s>l;l++){var h=r[l];if("BEGIN:VEVENT"!=h)if(h.indexOf("SUMMARY")>=0)c.SUMMARY=h.substring(h.indexOf("SUMMARY")+8);else if(h.indexOf("LOCATION")>=0)c.LOCATION=h.substring(h.indexOf("LOCATION")+9);else if(h.indexOf("DESCRIPTION")>=0)c.DESCRIPTION=h.substring(h.indexOf("DESCRIPTION")+12);else if(h.indexOf("RRULE")>=0)c.RRULE=h.substring(h.indexOf("RRULE")+6);else if(h.indexOf("EXDATE")>=0){var d=h.substring(h.indexOf("EXDATE")+7);c.EXDATE=d}else h.indexOf("DTEND")>=0?c.DTEND=o(h.substring(h.indexOf("DTEND")+6)):h.indexOf("DTSTART")>=0?c.DTSTART=o(h.substring(h.indexOf("DTSTART")+8)):h.indexOf("UID")>=0?c.uid=c.UID=h.substring(h.indexOf("UID")+4):h.indexOf("STATUS")>=0?c.STATUS=h.substring(h.indexOf("STATUS")+7):"END:VEVENT"!=h||n.push(c);else var c={}}this.records=n,this.cachedrecords=this.records}},loadtext:function(t,i){if(null!=t){var r=i.rowDelimiter||this.rowDelimiter||"\n",s=t.split(r),a=s.length,n=t.split("\r");1==a&&n.length>1&&(s=n,a=s.length),this.totalrecords=this.virtualmode?i.totalrecords||a:a,this.records=new Array,this.originaldata=new Array;var o=this.records,l=this.pageable?this.pagesize*this.pagenum:i.recordstartindex;this.recordids=new Array,i.loadallrecords&&(l=0,a=this.totalrecords);var h=0;this.virtualmode&&(l=this.pageable?this.pagesize*this.pagenum:i.recordstartindex,h=l,l=0,a=this.totalrecords);var d=i.datafields.length,c=i.columnDelimiter||this.columnDelimiter;c||(c="tab"===i.datatype||"tsv"===i.datatype?"	":",");for(var u=l;a>u;u++){var p=s[u],f=null;if(!this.recordids[f]){null==i.id&&(f=u,this.recordids[f]=p);for(var m={},g=s[u].split(c),v=0;d>v;v++)if(!(v>=g.length)){var x=i.datafields[v],b=g[v];x.map&&e.isFunction(x.map)&&(b=x.map(p)),x.type&&(b=this.getvaluebytype(b,x));var w=x.map||x.name||v.toString();m[w]=b,null!=i.id&&i.id===x.name&&(f=b,this.recordids[f]=p)}null==f&&(f=u),o[h+u]=e.extend({},m),o[h+u].uid=f,this.originaldata[h+u]=e.extend({},o[u])}}this.records=o,this.cachedrecords=this.records}},getvaluebytype:function(t,i){var r=t;if(null==t)return t;if(e.isArray(t)&&"array"!=i.type){for(var s=0;s<t.length;s++)t[s]=this.getvaluebytype(t[s],i);return t}if("date"==i.type)if("NaN"==t)t="";else{if(t&&t instanceof Date)return t;var a=new Date(t);if("string"==typeof t&&i.format){var n=e.jqx.dataFormat.parsedate(t,i.format);null!=n&&(a=n)}t=("NaN"==a.toString()||"Invalid Date"==a.toString())&&e.jqx.dataFormat?e.jqx.dataFormat.tryparsedate(t):a,null==t&&(t=r)}else if("float"==i.type||"number"==i.type||"decimal"==i.type)if("NaN"==t)t="";else{var t=parseFloat(t);isNaN(t)&&(t=r)}else if("int"==i.type||"integer"==i.type){var t=parseInt(t);isNaN(t)&&(t=r)}else"bool"!=i.type&&"boolean"!=i.type||(null!=t&&void 0!=t.toLowerCase&&("false"==t.toLowerCase()?t=!1:"true"==t.toLowerCase()&&(t=!0)),t=1==t?!0:0==t&&""!==t?!1:"");return t}},e.jqx.dataFormat={},e.extend(e.jqx.dataFormat,{regexTrim:/^\s+|\s+$/g,regexInfinity:/^[+-]?infinity$/i,regexHex:/^0x[a-f0-9]+$/i,regexParseFloat:/^[+-]?\d*\.?\d*(e[+-]?\d+)?$/,toString:Object.prototype.toString,isBoolean:function(e){return"boolean"==typeof e},isObject:function(t){return t&&("object"==typeof t||e.isFunction(t))||!1},isDate:function(e){return e instanceof Date},arrayIndexOf:function(e,t){if(e.indexOf)return e.indexOf(t);for(var i=0,r=e.length;r>i;i++)if(e[i]===t)return i;return-1},isString:function(e){return"string"==typeof e},isNumber:function(e){return"number"==typeof e&&isFinite(e)},isNull:function(e){return null===e},isUndefined:function(e){return"undefined"==typeof e},isValue:function(e){return this.isObject(e)||this.isString(e)||this.isNumber(e)||this.isBoolean(e)},isEmpty:function(t){return!this.isString(t)&&this.isValue(t)?!1:this.isValue(t)?(t=e.trim(t).replace(/\&nbsp\;/gi,"").replace(/\&#160\;/gi,""),""===t):!0},startsWith:function(e,t){return 0===e.indexOf(t)},endsWith:function(e,t){return e.substr(e.length-t.length)===t},trim:function(e){return(e+"").replace(this.regexTrim,"")},isArray:function(e){return"[object Array]"===this.toString.call(e)},defaultcalendar:function(){var e={"/":"/",":":":",firstDay:0,days:{names:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],namesAbbr:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],namesShort:["Su","Mo","Tu","We","Th","Fr","Sa"]},months:{names:["January","February","March","April","May","June","July","August","September","October","November","December",""],namesAbbr:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec",""]},AM:["AM","am","AM"],PM:["PM","pm","PM"],eras:[{name:"A.D.",start:null,offset:0}],twoDigitYearMax:2029,patterns:{d:"M/d/yyyy",D:"dddd, MMMM dd, yyyy",t:"h:mm tt",T:"h:mm:ss tt",f:"dddd, MMMM dd, yyyy h:mm tt",F:"dddd, MMMM dd, yyyy h:mm:ss tt",M:"MMMM dd",Y:"yyyy MMMM",S:"yyyy'-'MM'-'dd'T'HH':'mm':'ss",ISO:"yyyy-MM-dd hh:mm:ss",ISO2:"yyyy-MM-dd HH:mm:ss",d1:"dd.MM.yyyy",d2:"dd-MM-yyyy",d3:"MM-dd-yyyy",zone1:"yyyy-MM-ddTHH:mm:ss-HH:mm",zone2:"yyyy-MM-ddTHH:mm:ss+HH:mm",custom:"yyyy-MM-ddTHH:mm:ss.fff",custom2:"yyyy-MM-dd HH:mm:ss.fff"},percentsymbol:"%",currencysymbol:"$",currencysymbolposition:"before",decimalseparator:".",thousandsseparator:","};return e},expandFormat:function(e,t){t=t||"F";var i,r=e.patterns,s=t.length;if(1===s){if(i=r[t],!i)throw"Invalid date format string '"+t+"'.";t=i}else 2===s&&"%"===t.charAt(0)&&(t=t.charAt(1));return t},getEra:function(e,t){if(!t)return 0;if("string"==typeof e)return 0;for(var i,r=e.getTime(),s=0,a=t.length;a>s;s++)if(i=t[s].start,null===i||r>=i)return s;return 0},toUpper:function(e){return e.split("Â ").join(" ").toUpperCase()},toUpperArray:function(e){for(var t=[],i=0,r=e.length;r>i;i++)t[i]=this.toUpper(e[i]);return t},getEraYear:function(e,t,i,r){var s=e.getFullYear();return!r&&t.eras&&(s-=t.eras[i].offset),s},toUpper:function(e){return e?e.toUpperCase():""},getDayIndex:function(e,t,i){var r,s=e.days,a=e._upperDays;return a||(e._upperDays=a=[this.toUpperArray(s.names),this.toUpperArray(s.namesAbbr),this.toUpperArray(s.namesShort)]),t=t.toUpperCase(),i?(r=this.arrayIndexOf(a[1],t),-1===r&&(r=this.arrayIndexOf(a[2],t))):r=this.arrayIndexOf(a[0],t),r},getMonthIndex:function(e,t,i){var r=e.months,s=e.monthsGenitive||e.months,a=e._upperMonths,n=e._upperMonthsGen;a||(e._upperMonths=a=[this.toUpperArray(r.names),this.toUpperArray(r.namesAbbr)],e._upperMonthsGen=n=[this.toUpperArray(s.names),this.toUpperArray(s.namesAbbr)]),t=this.toUpper(t);var o=this.arrayIndexOf(i?a[1]:a[0],t);return 0>o&&(o=this.arrayIndexOf(i?n[1]:n[0],t)),o},appendPreOrPostMatch:function(e,t){for(var i=0,r=!1,s=0,a=e.length;a>s;s++){var n=e.charAt(s);switch(n){case"'":r?t.push("'"):i++,r=!1;break;case"\\":r&&t.push("\\"),r=!r;break;default:t.push(n),r=!1}}return i},getTokenRegExp:function(){return/\/|dddd|ddd|dd|d|MMMM|MMM|MM|M|yyyy|yy|y|hh|h|HH|H|mm|m|ss|s|tt|t|fff|ff|f|zzz|zz|z|gg|g/g},formatlink:function(e,t){var i="";return t&&t.target&&(i="target="+t.target),""!=i?"<a "+i+' href="'+e+'">'+e+"</a>":'<a href="'+e+'">'+e+"</a>"},formatemail:function(e){return'<a href="mailto:'+e+'">'+e+"</a>"},formatNumber:function(e,t,i){return this.formatnumber(e,t,i)},formatnumber:function(e,t,i){if(void 0!=i&&null!=i&&""!=i||(i=this.defaultcalendar()),""===t||null===t)return e;this.isNumber(e)||(e*=1);var r;t.length>1&&(r=parseInt(t.slice(1),10));var s={},a=t.charAt(0).toUpperCase();switch(s.thousandsSeparator=i.thousandsseparator,s.decimalSeparator=i.decimalseparator,a){case"D":case"d":case"F":case"f":s.decimalPlaces=r;break;case"N":case"n":s.decimalPlaces=0;break;case"C":case"c":s.decimalPlaces=r,"before"==i.currencysymbolposition?s.prefix=i.currencysymbol:s.suffix=i.currencysymbol;break;case"P":case"p":s.suffix=i.percentsymbol,s.decimalPlaces=r;break;default:throw"Bad number format specifier: "+a}if(this.isNumber(e)){var n,o=0>e,l=e+"",h=s.decimalSeparator?s.decimalSeparator:".";if(this.isNumber(s.decimalPlaces)){var d=s.decimalPlaces,c=Math.pow(10,d);if(l=(e*c).toFixed(0)/c+"",n=l.lastIndexOf("."),d>0)for(0>n?(l+=h,n=l.length-1):"."!==h&&(l=l.replace(".",h));l.length-1-n<d;)l+="0"}else{var l=e+"";n=l.lastIndexOf("."),n>0&&void 0==d&&"."!==h&&(l=l.replace(".",h))}if(s.thousandsSeparator){var u=s.thousandsSeparator;n=l.lastIndexOf(h),n=n>-1?n:l.length;for(var p=l.substring(n),f=-1,m=n;m>0;m--)f++,f%3===0&&m!==n&&(!o||m>1)&&(p=u+p),p=l.charAt(m-1)+p;l=p}return l=s.prefix?s.prefix+l:l,l=s.suffix?l+s.suffix:l}return e},tryparsedate:function(t,i){void 0!=i&&null!=i||(i=this.defaultcalendar());var r=this;if(""==t)return null;if(null==t||t.substring||(t=t.toString()),null!=t&&"/Date("==t.substring(0,6)){var s=/^\/Date\((-?\d+)(\+|-)?(\d+)?\)\/$/,a=new Date(+t.replace(/\/Date\((\d+)\)\//,"$1"));if("Invalid Date"==a){var n=t.match(/^\/Date\((\d+)([-+]\d\d)(\d\d)\)\/$/),a=null;n&&(a=new Date(1*n[1]+36e5*n[2]+6e4*n[3]))}if(null==a||"Invalid Date"==a||isNaN(a)){var o=s.exec(t);if(o){var l=new Date(parseInt(o[1]));if(o[2]){var h=parseInt(o[3]);"-"===o[2]&&(h=-h);var d=l.getUTCMinutes();l.setUTCMinutes(d-h)}if(!isNaN(l.valueOf()))return l}}return a}patterns=i.patterns;for(prop in patterns)if(a=r.parsedate(t,patterns[prop],i)){if("ISO"==prop){var c=r.parsedate(t,patterns.ISO2,i);if(c)return c}return a}if(null!=t){for(var c=null,u=[":","/","-"],p=!0,f=0;f<u.length;f++)-1!=t.indexOf(u[f])&&(p=!1);if(p){var m=new Number(t);if(!isNaN(m))return new Date(m)}}if("string"===e.type(t)){var g=r;t=g.trim(t);var v=[":","/","-"," ",","],x=function(e,t,i){return i.replace(new RegExp(e,"g"),t)};t=x(", ",",",t);var b="",w=t;t.indexOf(":")>=0?(b=t.substring(t.indexOf(":")-2),b=g.trim(b),w=t.substring(0,t.indexOf(":")-2)):t.toUpperCase().indexOf("AM")>=0?(b=t.substring(t.toUpperCase().indexOf("AM")-2),b=g.trim(b),w=t.substring(0,t.toUpperCase().indexOf("AM")-2)):t.toUpperCase().indexOf("PM")>=0&&(b=t.substring(t.toUpperCase().indexOf("PM")-2),b=g.trim(b),w=t.substring(0,t.toUpperCase().indexOf("PM")-2));var y=new Date,_=!1;if(w){for(var j=0;j<v.length;j++)if(w.indexOf(v[j])>=0){u=w.split(v[j]);break}for(var q=new Array,T=new Array,S=new Array,C=null,I=null,j=0;j<u.length;j++){var f=u[j],k=g.parsedate(f,"d",i)||g.parsedate(f,"dd",i)||g.parsedate(f,"ddd",i)||g.parsedate(f,"dddd",i);if(k&&f.length<=2){C=j,q.push(k.getDate());break}}for(var j=0;j<u.length;j++){var f=u[j],D=g.parsedate(f,"M",i)||g.parsedate(f,"MM",i)||g.parsedate(f,"MMM",i)||g.parsedate(f,"MMMM",i);if(D){if(void 0!=C&&C==j)continue;if(T.push(D.getMonth()),f.length>2){I=j;break}}}for(var j=0;j<u.length;j++){var f=u[j],M=g.parsedate(f,"yyyy",i);if(M){if(void 0!=C&&C==j)continue;if(void 0!=I&&I==j)continue;S.push(M.getFullYear())}}for(var P=new Array,N=0;N<q.length;N++)for(var n=0;n<T.length;n++)for(var B=0;B<S.length;B++){var l=new Date(S[B],T[n],q[N]);S[B]<1970&&l.setFullYear(S[B]),NaN!=l.getTime()&&P.push(l)}P.length>0&&(y=P[0],_=!0)}if(b){var O=b.indexOf(":")>=0?b.split(":"):b,E=g.parsedate(b,"h:mm tt",i)||g.parsedate(b,"h:mm:ss tt",i)||g.parsedate(b,"HH:mm:ss.fff",i)||g.parsedate(b,"HH:mm:ss.ff",i)||g.parsedate(b,"HH:mm:ss.tttt",i)||g.parsedate(b,"HH:mm:ss",i)||g.parsedate(b,"HH:mm",i)||g.parsedate(b,"HH",i),A=0,H=0,z=0,L=0;E&&NaN!=E.getTime()?(A=E.getHours(),H=E.getMinutes(),z=E.getSeconds(),L=E.getMilliseconds()):(1==O.length&&(A=parseInt(O[0])),2==O.length&&(A=parseInt(O[0]),H=parseInt(O[1])),3==O.length&&(A=parseInt(O[0]),H=parseInt(O[1]),O[2].indexOf(".")>=0?(z=parseInt(O[2].toString().split(".")[0]),L=parseInt(O[2].toString().split(".")[1])):z=parseInt(O[2])),4==O.length&&(A=parseInt(O[0]),H=parseInt(O[1]),z=parseInt(O[2]),L=parseInt(O[3]))),!y||isNaN(A)||isNaN(H)||isNaN(z)||isNaN(L)||(y.setHours(A,H,z,L),_=!0)}if(_)return y}return null},getparseregexp:function(e,t){var i=e._parseRegExp;if(i){var r=i[t];if(r)return r}else e._parseRegExp=i={};for(var s,a=this.expandFormat(e,t).replace(/([\^\$\.\*\+\?\|\[\]\(\)\{\}])/g,"\\\\$1"),n=["^"],o=[],l=0,h=0,d=this.getTokenRegExp();null!==(s=d.exec(a));){var c=a.slice(l,s.index);if(l=d.lastIndex,h+=this.appendPreOrPostMatch(c,n),h%2)n.push(s[0]);else{var u,p=s[0],f=p.length;switch(p){case"dddd":case"ddd":case"MMMM":case"MMM":case"gg":case"g":u="(\\D+)";break;case"tt":case"t":u="(\\D*)";break;case"yyyy":case"fff":case"ff":case"f":u="(\\d{"+f+"})";break;case"dd":case"d":case"MM":case"M":case"yy":case"y":case"HH":case"H":case"hh":case"h":case"mm":case"m":case"ss":case"s":u="(\\d\\d?)";break;case"zzz":u="([+-]?\\d\\d?:\\d{2})";break;case"zz":case"z":u="([+-]?\\d\\d?)";break;case"/":u="(\\"+e["/"]+")";break;default:throw"Invalid date format pattern '"+p+"'."}u&&n.push(u),o.push(s[0])}}this.appendPreOrPostMatch(a.slice(l),n),n.push("$");var m=n.join("").replace(/\s+/g,"\\s+"),g={regExp:m,groups:o};return i[t]=g},outOfRange:function(e,t,i){return t>e||e>i},expandYear:function(e,t){var i=new Date,r=this.getEra(i);if(100>t){var s=e.twoDigitYearMax;s="string"==typeof s?(new Date).getFullYear()%100+parseInt(s,10):s;var a=this.getEraYear(i,e,r);t+=a-a%100,t>s&&(t-=100)}return t},parsedate:function(e,t,i){void 0!=i&&null!=i||(i=this.defaultcalendar()),e=this.trim(e);var r=i,s=this.getparseregexp(r,t),a=new RegExp(s.regExp).exec(e);if(null===a)return null;for(var n,o=s.groups,l=null,h=null,d=null,c=null,u=null,p=0,f=0,m=0,g=0,v=null,x=!1,b=0,w=o.length;w>b;b++){var y=a[b+1];if(y){var _=o[b],j=_.length,q=parseInt(y,10);switch(_){case"dd":case"d":if(c=q,this.outOfRange(c,1,31))return null;break;case"MMM":case"MMMM":if(d=this.getMonthIndex(r,y,3===j),this.outOfRange(d,0,11))return null;break;case"M":case"MM":if(d=q-1,this.outOfRange(d,0,11))return null;break;case"y":case"yy":case"yyyy":if(h=4>j?this.expandYear(r,q):q,this.outOfRange(h,0,9999))return null;break;case"h":case"hh":if(p=q,12===p&&(p=0),this.outOfRange(p,0,11))return null;break;case"H":case"HH":if(p=q,this.outOfRange(p,0,23))return null;break;case"m":case"mm":if(f=q,this.outOfRange(f,0,59))return null;break;case"s":case"ss":if(m=q,this.outOfRange(m,0,59))return null;break;case"tt":case"t":if(x=r.PM&&(y===r.PM[0]||y===r.PM[1]||y===r.PM[2]),!x&&(!r.AM||y!==r.AM[0]&&y!==r.AM[1]&&y!==r.AM[2]))return null;break;case"f":case"ff":case"fff":if(g=q*Math.pow(10,3-j),this.outOfRange(g,0,999))return null;break;case"ddd":case"dddd":if(u=this.getDayIndex(r,y,3===j),this.outOfRange(u,0,6))return null;break;case"zzz":var T=y.split(/:/);if(2!==T.length)return null;if(n=parseInt(T[0],10),this.outOfRange(n,-12,13))return null;var S=parseInt(T[1],10);if(this.outOfRange(S,0,59))return null;v=60*n+(this.startsWith(y,"-")?-S:S);break;case"z":case"zz":if(n=q,this.outOfRange(n,-12,13))return null;v=60*n;break;case"g":case"gg":var C=y;if(!C||!r.eras)return null;C=trim(C.toLowerCase());for(var I=0,k=r.eras.length;k>I;I++)if(C===r.eras[I].name.toLowerCase()){l=I;break}if(null===l)return null}}}var D,M=new Date,P=r.convert;if(D=M.getFullYear(),null===h?h=D:r.eras&&(h+=r.eras[l||0].offset),null===d&&(d=0),null===c&&(c=1),P){if(M=P.toGregorian(h,d,c),null===M)return null}else{if(M.setFullYear(h,d,c),M.getDate()!==c)return null;if(null!==u&&M.getDay()!==u)return null}if(x&&12>p&&(p+=12),M.setHours(p,f,m,g),null!==v){var N=M.getMinutes()-(v+M.getTimezoneOffset());M.setHours(M.getHours()+parseInt(N/60,10),N%60)}return M},cleardatescache:function(){this.datescache=new Array},formatDate:function(e,t,i){return this.formatdate(e,t,i)},formatdate:function(e,t,i){function r(e,t){var i,r=e+"";return t>1&&r.length<t?(i=u[t-2]+r,i.substr(i.length-t,t)):i=r}function s(e,t){if(c)return c[t];if(void 0!=e.getMonth)switch(t){case 0:return e.getFullYear();case 1:return e.getMonth();case 2:return e.getDate()}}if(void 0!=i&&null!=i||(i=this.defaultcalendar()),"string"==typeof e)return e;var a=e.toString()+"_"+t;if(this.datescache&&this.datescache[a]&&-1==t.indexOf("f"))return this.datescache[a];if(!t||!t.length||"i"===t){var n;return n=this.formatDate(e,i.patterns.F,i)}var o=i.eras,l="s"===t;t=this.expandFormat(i,t),n=[];for(var h,d,c,u=["0","00","000"],p=0,f=this.getTokenRegExp();;){var m=f.lastIndex,g=f.exec(t),v=t.slice(m,g?g.index:t.length);if(p+=this.appendPreOrPostMatch(v,n),!g)break;if(p%2)n.push(g[0]);else{var x=g[0],b=x.length;switch(x){case"ddd":case"dddd":var w=3===b?i.days.namesAbbr:i.days.names;n.push(w[e.getDay()]);break;case"d":case"dd":d=!0,n.push(r(s(e,2),b));break;case"MMM":case"MMMM":var y=s(e,1);n.push(i.months[3===b?"namesAbbr":"names"][y]);break;case"M":case"MM":n.push(r(s(e,1)+1,b));break;case"y":case"yy":case"yyyy":y=this.getEraYear(e,i,this.getEra(e,o),l),4>b&&(y%=100),n.push(r(y,b));break;case"h":case"hh":h=e.getHours()%12,0===h&&(h=12),n.push(r(h,b));break;case"H":case"HH":n.push(r(e.getHours(),b));break;case"m":case"mm":n.push(r(e.getMinutes(),b));break;case"s":case"ss":n.push(r(e.getSeconds(),b));break;case"t":case"tt":y=e.getHours()<12?i.AM?i.AM[0]:" ":i.PM?i.PM[0]:" ",n.push(1===b?y.charAt(0):y);break;case"f":case"ff":case"fff":n.push(r(e.getMilliseconds(),3).substr(0,b));break;case"z":case"zz":h=e.getTimezoneOffset()/60,n.push((0>=h?"+":"-")+r(Math.floor(Math.abs(h)),b));break;case"zzz":h=e.getTimezoneOffset()/60,n.push((0>=h?"+":"-")+r(Math.floor(Math.abs(h)),2)+":"+r(Math.abs(e.getTimezoneOffset()%60),2));break;case"g":case"gg":i.eras&&n.push(i.eras[this.getEra(e,o)].name);break;case"/":n.push(i["/"]);break;default:throw"Invalid date format pattern '"+x+"'."}}}var _=n.join("");return this.datescache||(this.datescache=new Array),this.datescache[a]=_,_}}),e.jqx.data={};var l,h,d=/#.*$/,c=/^(.*?):[ \t]*([^\r\n]*)\r?$/gm,u=/^(?:about|app|app\-storage|.+\-extension|file|res|widget):$/,p=/^(?:GET|HEAD)$/,f=/^\/\//,m=/\?/,g=/([?&])_=[^&]*/,v=/^([\w\+\.\-]+:)(?:\/\/([^\/?#:]*)(?::(\d+)|)|)/,x=/\s+/,b=(e.fn.load,{}),w={},y=["*/"]+["*"];try{h=location.href}catch(_){h=document.createElement("a"),h.href="",h=h.href}l=v.exec(h.toLowerCase())||[],e.extend(e.jqx.data,{ajaxSetup:function(t,i){return i?r(t,e.jqx.data.ajaxSettings):(i=t,t=e.jqx.data.ajaxSettings),r(t,i),t},ajaxSettings:{url:h,isLocal:u.test(l[1]),global:!0,type:"GET",contentType:"application/x-www-form-urlencoded; charset=UTF-8",processData:!0,async:!0,accepts:{xml:"application/xml, text/xml",html:"text/html",text:"text/plain",json:"application/json, text/javascript","*":y},contents:{xml:/xml/,html:/html/,json:/json/},responseFields:{xml:"responseXML",text:"responseText"},converters:{"* text":window.String,"text html":!0,"text json":e.parseJSON,"text xml":e.parseXML},flatOptions:{context:!0,url:!0}},ajaxPrefilter:t(b),ajaxTransport:t(w),ajax:function(t,r){function n(t,i,r,n){var l,d,c,u,p,f=i;2!==O&&(O=2,j&&clearTimeout(j),_=void 0,h=n||"",A.readyState=t>0?4:0,r&&(u=s(C,A,r)),t>=200&&300>t||304===t?(C.ifModified&&(p=A.getResponseHeader("Last-Modified"),p&&(e.lastModified[o]=p),p=A.getResponseHeader("Etag"),p&&(e.etag[o]=p)),304===t?(f="notmodified",l=!0):(l=a(C,u),f=l.state,d=l.data,c=l.error,l=!c)):(c=f,f&&!t||(f="error",0>t&&(t=0))),A.status=t,A.statusText=(i||f)+"",l?D.resolveWith(I,[d,f,A]):D.rejectWith(I,[A,f,c]),A.statusCode(P),P=void 0,T&&k.trigger("ajax"+(l?"Success":"Error"),[A,C,l?d:c]),M.fireWith(I,[A,f]),T&&(k.trigger("ajaxComplete",[A,C]),--e.active||e.event.trigger("ajaxStop")))}"object"==typeof t&&(r=t,t=void 0),r=r||{};var o,h,u,_,j,q,T,S,C=e.jqx.data.ajaxSetup({},r),I=C.context||C,k=I!==C&&(I.nodeType||I instanceof e)?e(I):e.event,D=e.Deferred(),M=e.Callbacks("once memory"),P=C.statusCode||{},N={},B={},O=0,E="canceled",A={readyState:0,setRequestHeader:function(e,t){if(!O){var i=e.toLowerCase();e=B[i]=B[i]||e,N[e]=t}return this},getAllResponseHeaders:function(){return 2===O?h:null},getResponseHeader:function(e){var t;if(2===O){if(!u)for(u={};t=c.exec(h);)u[t[1].toLowerCase()]=t[2];t=u[e.toLowerCase()]}return void 0===t?null:t},overrideMimeType:function(e){return O||(C.mimeType=e),this},abort:function(e){return e=e||E,_&&_.abort(e),n(0,e),this}};if(D.promise(A),A.success=A.done,A.error=A.fail,A.complete=M.add,A.statusCode=function(e){if(e){var t;if(2>O)for(t in e)P[t]=[P[t],e[t]];else t=e[A.status],A.always(t)}return this},C.url=((t||C.url)+"").replace(d,"").replace(f,l[1]+"//"),C.dataTypes=e.trim(C.dataType||"*").toLowerCase().split(x),null==C.crossDomain&&(q=v.exec(C.url.toLowerCase()),C.crossDomain=!(!q||q[1]===l[1]&&q[2]===l[2]&&(q[3]||("http:"===q[1]?80:443))==(l[3]||("http:"===l[1]?80:443)))),C.data&&C.processData&&"string"!=typeof C.data&&(C.data=e.param(C.data,C.traditional)),i(b,C,r,A),2===O)return A;if(T=C.global,C.type=C.type.toUpperCase(),C.hasContent=!p.test(C.type),T&&0===e.active++&&e.event.trigger("ajaxStart"),!C.hasContent&&(C.data&&(C.url+=(m.test(C.url)?"&":"?")+C.data,delete C.data),o=C.url,C.cache===!1)){var H=(new Date).getTime(),z=C.url.replace(g,"$1_="+H);C.url=z+(z===C.url?(m.test(C.url)?"&":"?")+"_="+H:"")}(C.data&&C.hasContent&&C.contentType!==!1||r.contentType)&&A.setRequestHeader("Content-Type",C.contentType),C.ifModified&&(o=o||C.url,e.lastModified[o]&&A.setRequestHeader("If-Modified-Since",e.lastModified[o]),e.etag[o]&&A.setRequestHeader("If-None-Match",e.etag[o])),A.setRequestHeader("Accept",C.dataTypes[0]&&C.accepts[C.dataTypes[0]]?C.accepts[C.dataTypes[0]]+("*"!==C.dataTypes[0]?", "+y+"; q=0.01":""):C.accepts["*"]);for(S in C.headers)A.setRequestHeader(S,C.headers[S]);if(C.beforeSend&&(C.beforeSend.call(I,A,C)===!1||2===O))return A.abort();E="abort";for(S in{success:1,error:1,complete:1})A[S](C[S]);if(_=i(w,C,r,A)){A.readyState=1,T&&k.trigger("ajaxSend",[A,C]),C.async&&C.timeout>0&&(j=setTimeout(function(){A.abort("timeout")},C.timeout));try{O=1,_.send(N,n)}catch(L){if(!(2>O))throw L;n(-1,L)}}else n(-1,"No Transport");return A},active:0,lastModified:{},etag:{}});var j=[],q=/\?/,T=/(=)\?(?=&|$)|\?\?/,S=(new Date).getTime();e.jqx.data.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var t=j.pop()||e.expando+"_"+S++;return this[t]=!0,t}}),e.jqx.data.ajaxPrefilter("json jsonp",function(t,i,r){var s,a,n,o=t.data,l=t.url,h=t.jsonp!==!1,d=h&&T.test(l),c=h&&!d&&"string"==typeof o&&!(t.contentType||"").indexOf("application/x-www-form-urlencoded")&&T.test(o);return"jsonp"===t.dataTypes[0]||d||c?(s=t.jsonpCallback=e.isFunction(t.jsonpCallback)?t.jsonpCallback():t.jsonpCallback,a=window[s],d?t.url=l.replace(T,"$1"+s):c?t.data=o.replace(T,"$1"+s):h&&(t.url+=(q.test(l)?"&":"?")+t.jsonp+"="+s),t.converters["script json"]=function(){return n||e.error(s+" was not called"),n[0]},t.dataTypes[0]="json",window[s]=function(){n=arguments},r.always(function(){window[s]=a,t[s]&&(t.jsonpCallback=i.jsonpCallback,j.push(s)),n&&e.isFunction(a)&&a(n[0]),n=a=void 0}),"script"):void 0}),e.jqx.data.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/javascript|ecmascript/},converters:{"text script":function(t){return e.globalEval(t),t}}}),e.jqx.data.ajaxPrefilter("script",function(e){void 0===e.cache&&(e.cache=!1),e.crossDomain&&(e.type="GET",e.global=!1)}),e.jqx.data.ajaxTransport("script",function(e){if(e.crossDomain){var t,i=document.head||document.getElementsByTagName("head")[0]||document.documentElement;return{send:function(r,s){t=document.createElement("script"),t.async="async",e.scriptCharset&&(t.charset=e.scriptCharset),t.src=e.url,t.onload=t.onreadystatechange=function(e,r){(r||!t.readyState||/loaded|complete/.test(t.readyState))&&(t.onload=t.onreadystatechange=null,i&&t.parentNode&&i.removeChild(t),t=void 0,r||s(200,"success"))},i.insertBefore(t,i.firstChild)},abort:function(){t&&t.onload(0,1)}}}});var C,I=window.ActiveXObject?function(){for(var e in C)C[e](0,1);
}:!1,k=0;e.jqx.data.ajaxSettings.xhr=window.ActiveXObject?function(){return!this.isLocal&&n()||o()}:n,function(t){e.extend(e.support,{ajax:!!t,cors:!!t&&"withCredentials"in t})}(e.jqx.data.ajaxSettings.xhr()),e.support||(e.support={ajax:!0}),e.support.ajax&&e.jqx.data.ajaxTransport(function(t){if(!t.crossDomain||e.support.cors){var i;return{send:function(r,s){var a,n,o=t.xhr();if(t.username?o.open(t.type,t.url,t.async,t.username,t.password):o.open(t.type,t.url,t.async),t.xhrFields)for(n in t.xhrFields)o[n]=t.xhrFields[n];t.mimeType&&o.overrideMimeType&&o.overrideMimeType(t.mimeType),t.crossDomain||r["X-Requested-With"]||(r["X-Requested-With"]="XMLHttpRequest");try{for(n in r)o.setRequestHeader(n,r[n])}catch(l){}o.send(t.hasContent&&t.data||null),i=function(e,r){var n,l,h,d,c;try{if(i&&(r||4===o.readyState))if(i=void 0,a&&(o.onreadystatechange=function(){},I&&delete C[a]),r)4!==o.readyState&&o.abort();else{n=o.status,h=o.getAllResponseHeaders(),d={},c=o.responseXML,c&&c.documentElement&&(d.xml=c);try{d.text=o.responseText}catch(u){}try{l=o.statusText}catch(u){l=""}n||!t.isLocal||t.crossDomain?1223===n&&(n=204):n=d.text?200:404}}catch(p){r||s(-1,p)}d&&s(n,l,d,h)},t.async?4===o.readyState?setTimeout(i,0):(a=++k,I&&(C||(C={},e(window).unload(I)),C[a]=i),o.onreadystatechange=i):i()},abort:function(){i&&i(0,1)}}}}),e.jqx.filter=function(){this.operator="and";var t=1,i=["EMPTY","NOT_EMPTY","CONTAINS","CONTAINS_CASE_SENSITIVE","DOES_NOT_CONTAIN","DOES_NOT_CONTAIN_CASE_SENSITIVE","STARTS_WITH","STARTS_WITH_CASE_SENSITIVE","ENDS_WITH","ENDS_WITH_CASE_SENSITIVE","EQUAL","EQUAL_CASE_SENSITIVE","NULL","NOT_NULL"],r=["EQUAL","NOT_EQUAL","LESS_THAN","LESS_THAN_OR_EQUAL","GREATER_THAN","GREATER_THAN_OR_EQUAL","NULL","NOT_NULL"],s=["EQUAL","NOT_EQUAL","LESS_THAN","LESS_THAN_OR_EQUAL","GREATER_THAN","GREATER_THAN_OR_EQUAL","NULL","NOT_NULL"],a=["EQUAL","NOT_EQUAL"],n=new Array,o=new Array;this.evaluate=function(e){for(var i=!0,r=0;r<n.length;r++){var s=n[r].evaluate(e);i=0==r?s:o[r]==t||"or"==o[r]?i||s:i&&s}return i},this.getfilterscount=function(){return n.length},this.setoperatorsbyfiltertype=function(e,t){switch(e){case"numericfilter":r=t;break;case"stringfilter":i=t;break;case"datefilter":s=t;break;case"booleanfilter":a=t}},this.getoperatorsbyfiltertype=function(e){var t=new Array;switch(e){case"numericfilter":t=r.slice(0);break;case"stringfilter":t=i.slice(0);break;case"datefilter":t=s.slice(0);break;case"booleanfilter":t=a.slice(0)}return t};var l=function(){var e=function(){return(65536*(1+Math.random())|0).toString(16).substring(1)};return e()+"-"+e()+"-"+e()};this.createfilter=function(e,t,i,r,s,a){if(null==e||void 0==e)return null;switch(e){case"numericfilter":return new c(t,i.toUpperCase());case"stringfilter":return new h(t,i.toUpperCase());case"datefilter":return new u(t,i.toUpperCase(),s,a);case"booleanfilter":return new d(t,i.toUpperCase());case"custom":return new p(t,i.toUpperCase(),r)}throw new Error("jqxGrid: There is no such filter type. The available filter types are: 'numericfilter', 'stringfilter', 'datefilter' and 'booleanfilter'")},this.getfilters=function(){for(var e=new Array,t=0;t<n.length;t++){var i={value:n[t].filtervalue,condition:n[t].comparisonoperator,operator:o[t],type:n[t].type};n[t].data&&(i.id=n[t].data),e[t]=i}return e},this.addfilter=function(e,t){n[n.length]=t,t.key=l(),o[o.length]=e},this.removefilter=function(e){for(var t=0;t<n.length;t++)if(n[t].key==e.key){n.splice(t,1),o.splice(t,1);break}},this.getoperatorat=function(e){return void 0==e||null==e?null:0>e||e>n.length?null:o[e]},this.setoperatorat=function(e,t){return void 0==e||null==e?null:0>e||e>n.length?null:void(o[t]=t)},this.getfilterat=function(e){return void 0==e||null==e?null:0>e||e>n.length?null:n[e]},this.setfilterat=function(e,t){return void 0==e||null==e?null:0>e||e>n.length?null:(t.key=l(),void(n[e]=t))},this.clear=function(){n=new Array,o=new Array};var h=function(t,i){this.filtervalue=t,this.comparisonoperator=i,this.type="stringfilter",this.evaluate=function(t){var i=this.filtervalue,r=this.comparisonoperator;if(null==t||void 0==t||""==t){if("NULL"==r)return!0;if("EQUAL"==r&&t==i)return!0;if("NOT_EQUAL"==r&&t!=i)return!0;if("EMPTY"!=r)return!1;if(""==t)return!0}var s="";try{s=t.toString()}catch(a){return!0}var n=function(t,i){switch(r){case"EQUAL":return e.jqx.string.equalsIgnoreCase(t,i);case"EQUAL_CASE_SENSITIVE":return e.jqx.string.equals(t,i);case"NOT_EQUAL":return!e.jqx.string.equalsIgnoreCase(t,i);case"NOT_EQUAL_CASE_SENSITIVE":return!e.jqx.string.equals(t,i);case"CONTAINS":return e.jqx.string.containsIgnoreCase(t,i);case"CONTAINS_CASE_SENSITIVE":return e.jqx.string.contains(t,i);case"DOES_NOT_CONTAIN":return!e.jqx.string.containsIgnoreCase(t,i);case"DOES_NOT_CONTAIN_CASE_SENSITIVE":return!e.jqx.string.contains(t,i);case"EMPTY":return""==t;case"NOT_EMPTY":return""!=t;case"NOT_NULL":return null!=t;case"STARTS_WITH":return e.jqx.string.startsWithIgnoreCase(t,i);case"ENDS_WITH":return e.jqx.string.endsWithIgnoreCase(t,i);case"ENDS_WITH_CASE_SENSITIVE":return e.jqx.string.endsWith(t,i);case"STARTS_WITH_CASE_SENSITIVE":return e.jqx.string.startsWith(t,i);default:return!1}},o=new Array;if(i&&i.indexOf&&(i.indexOf("|")>=0||i.indexOf(" AND ")>=0||i.indexOf(" OR ")>=0||i.indexOf(" and ")>=0||i.indexOf(" or ")>=0)){var l=n(s,i);if(l)return l;var h=i.indexOf(" AND ")>=0?i.split(" AND "):new Array,d=i.indexOf(" OR ")>=0?i.split(" OR "):new Array,c=i.indexOf(" and ")>=0?i.split(" and "):new Array,u=i.indexOf(" or ")>=0?i.split(" or "):new Array,p=i.indexOf("|")>=0?i.split("|"):new Array;if(p.length>0)for(var f=0;f<p.length;f++)p[f]=e.trim(p[f]);var m=i.indexOf(" ")>=0?i.split(" "):new Array;if(m.length>0)for(var f=0;f<m.length;f++)m[f]=e.trim(m[f]);if(h=h.concat(m),h=h.concat(c),d=d.concat(p),d=d.concat(u),h.length>0)for(var f=0;f<h.length;f++)!h[f].indexOf(" OR ")>=0&&o.push(h[f]);if(d.length>0)for(var f=0;f<d.length;f++)!d[f].indexOf(" AND ")>=0&&o.push(d[f]);for(var g=void 0,v=0;v<o.length;v++){var t=o[v],l=n(s,t),x=v<h.length?"and":"or";g=void 0==g?l:"or"==x?g||l:g&&l}return g}return n(s,i)}},d=function(e,t){this.filtervalue=e,this.comparisonoperator=t,this.type="booleanfilter",this.evaluate=function(e){var t=this.filtervalue,i=this.comparisonoperator;if(null==e||void 0==e)return"NULL"==i;var r=e;switch(i){case"EQUAL":return r==t||r.toString()==t.toString();case"NOT_EQUAL":return r!=t&&r.toString()!=t.toString();default:return!1}}},c=function(t,i){this.filtervalue=t,this.comparisonoperator=i,this.type="numericfilter",this.evaluate=function(t){var i=this.filtervalue,r=this.comparisonoperator;if(null===t||void 0===t||""===t){if("NOT_NULL"==r)return!1;if("NULL"==r)return!0;switch(r){case"EQUAL":return t==i;case"NOT_EQUAL":return t!=i}return!1}if("NULL"==r)return!1;if("NOT_NULL"==r)return!0;var s=t;try{s=parseFloat(s)}catch(a){if(""!=t.toString())return!1}var n=function(t,i){switch(r){case"EQUAL":return t==i;case"NOT_EQUAL":return t!=i;case"GREATER_THAN":return t>i;case"GREATER_THAN_OR_EQUAL":return t>=i;case"LESS_THAN":return i>t;case"LESS_THAN_OR_EQUAL":return i>=t;case"STARTS_WITH":return e.jqx.string.startsWithIgnoreCase(t.toString(),i.toString());case"ENDS_WITH":return e.jqx.string.endsWithIgnoreCase(t.toString(),i.toString());case"ENDS_WITH_CASE_SENSITIVE":return e.jqx.string.endsWith(t.toString(),i.toString());case"STARTS_WITH_CASE_SENSITIVE":return e.jqx.string.startsWith(t.toString(),i.toString());case"CONTAINS":return e.jqx.string.containsIgnoreCase(t.toString(),i.toString());case"CONTAINS_CASE_SENSITIVE":return e.jqx.string.contains(t.toString(),i.toString());case"DOES_NOT_CONTAIN":return!e.jqx.string.containsIgnoreCase(t.toString(),i.toString());case"DOES_NOT_CONTAIN_CASE_SENSITIVE":return!e.jqx.string.contains(t.toString(),i.toString());default:return!0}},o=new Array;if(i&&i.indexOf&&(i.indexOf("|")>=0||i.indexOf(" AND ")>=0||i.indexOf(" OR ")>=0||i.indexOf(" and ")>=0||i.indexOf(" or ")>=0)){var l=n(s,i);if(l)return l;i=i.toString();var h=i.indexOf(" AND ")>=0?i.split(" AND "):new Array,d=i.indexOf(" OR ")>=0?i.split(" OR "):new Array,c=i.indexOf(" and ")>=0?i.split(" and "):new Array,u=i.indexOf(" or ")>=0?i.split(" or "):new Array;h=h.concat(c),d=d.concat(u);var p=i.indexOf("|")>=0?i.split("|"):new Array;if(p.length>0)for(var f=0;f<p.length;f++)p[f]=e.trim(p[f]);if(d=d.concat(p),h.length>0)for(var f=0;f<h.length;f++)!h[f].indexOf(" OR ")>=0&&o.push(h[f]);if(d.length>0)for(var f=0;f<d.length;f++)!d[f].indexOf(" AND ")>=0&&o.push(d[f]);for(var m=void 0,g=0;g<o.length;g++){var t=o[g];if(t&&t.indexOf&&t.indexOf("..")>=0){var v=t.toString().split("..");2==v.length&&(l=s>=v[0]&&s<=v[1])}else var l=n(s,t);var x=g<h.length?"and":"or";m=void 0==m?l:"or"==x?m||l:m&&l}return m}return i&&i.indexOf&&i.indexOf("..")>=0&&(o=i.toString().split(".."),2==o.length)?s>=o[0]&&s<=o[1]:n(s,i)}},u=function(t,i,r,s){this.filtervalue=t,this.type="datefilter";var a=this;if(void 0!=r&&void 0!=s){var n=e.jqx.dataFormat.parsedate(t,r,s);if(null!=n)this.filterdate=n;else{var o=e.jqx.dataFormat.tryparsedate(t,s);null!=o&&(this.filterdate=o)}}else{var l=new Date(t);"NaN"==l.toString()||"Invalid Date"==l.toString()?this.filterdate=e.jqx.dataFormat.tryparsedate(t):this.filterdate=l}if(!this.filterdate){var l=new Date(t);"NaN"==l.toString()||"Invalid Date"==l.toString()?this.filterdate=e.jqx.dataFormat.tryparsedate(t):this.filterdate=l}this.comparisonoperator=i,this.evaluate=function(t){var i=this.filtervalue,n=this.comparisonoperator;if(null==t||void 0==t||""==t){if("NOT_NULL"==n)return!1;if("NULL"==n)return!0;switch(n){case"EQUAL":return t==i;case"NOT_EQUAL":return t!=i}return!1}if("NULL"==n)return!1;if("NOT_NULL"==n)return!0;var o=new Date;o.setFullYear(1900,0,1),o.setHours(12,0,0,0);try{var l=new Date(t);t="NaN"==l.toString()||"Invalid Date"==l.toString()?e.jqx.dataFormat.tryparsedate(t):l,o=t;var h=!1;if(void 0!=r&&void 0!=s&&(r.indexOf("t")>=0||r.indexOf("T")>=0||r.indexOf(":")>=0||r.indexOf("f")>=0)&&(h=!0,i&&-1==i.toString().indexOf(":"))){var d=e.jqx.dataFormat.tryparsedate(i.toString()+":00",s);null!=d&&(a.filterdate=d)}h||(o.setHours(0),o.setMinutes(0),o.setSeconds(0))}catch(c){if(""!=t.toString())return!1}if(null!=a.filterdate)i=a.filterdate;else if(i&&i.indexOf&&(-1!=i.indexOf(":")||!isNaN(parseInt(i)))){var u=new Date(o);u.setHours(12,0,0,0);for(var p=i.split(":"),f=0;f<p.length;f++)0==f&&u.setHours(p[f]),1==f&&u.setMinutes(p[f]),2==f&&u.setSeconds(p[f]);i=u}h&&i&&i.setFullYear&&o&&o.getFullYear&&-1==r.indexOf("d")&&-1==r.indexOf("M")&&-1==r.indexOf("y")&&i.setFullYear(o.getFullYear(),o.getMonth(),o.getDate());var m=function(t,i){switch(null==t&&(t=""),n){case"EQUAL":return t.toString()==i.toString();case"NOT_EQUAL":return t.toString()!=i.toString();case"GREATER_THAN":return t>i;case"GREATER_THAN_OR_EQUAL":return t>=i;case"LESS_THAN":return i>t;case"LESS_THAN_OR_EQUAL":return i>=t;case"STARTS_WITH":return e.jqx.string.startsWithIgnoreCase(t.toString(),i.toString());case"ENDS_WITH":return e.jqx.string.endsWithIgnoreCase(t.toString(),i.toString());case"ENDS_WITH_CASE_SENSITIVE":return e.jqx.string.endsWith(t.toString(),i.toString());case"STARTS_WITH_CASE_SENSITIVE":return e.jqx.string.startsWith(t.toString(),i.toString());case"CONTAINS":return e.jqx.string.containsIgnoreCase(t.toString(),i.toString());case"CONTAINS_CASE_SENSITIVE":return e.jqx.string.contains(t.toString(),i.toString());case"DOES_NOT_CONTAIN":return!e.jqx.string.containsIgnoreCase(t.toString(),i.toString());case"DOES_NOT_CONTAIN_CASE_SENSITIVE":return!e.jqx.string.contains(t.toString(),i.toString());default:return!0}},g=new Array;if(i&&i.indexOf&&(i.indexOf("|")>=0||i.indexOf(" AND ")>=0||i.indexOf(" OR ")>=0||i.indexOf(" and ")>=0||i.indexOf(" or ")>=0)){var d=m(o,i);if(d)return d;var v=i.indexOf(" AND ")>=0?i.split(" AND "):new Array,x=i.indexOf(" OR ")>=0?i.split(" OR "):new Array,b=i.indexOf(" and ")>=0?i.split(" and "):new Array,w=i.indexOf(" or ")>=0?i.split(" or "):new Array;v=v.concat(b),x=x.concat(w);var y=i.indexOf("|")>=0?i.split("|"):new Array;if(y.length>0)for(var f=0;f<y.length;f++)y[f]=e.trim(y[f]);if(x=x.concat(y),v.length>0)for(var f=0;f<v.length;f++)!v[f].indexOf(" OR ")>=0&&g.push(v[f]);if(x.length>0)for(var f=0;f<x.length;f++)!x[f].indexOf(" AND ")>=0&&g.push(x[f]);for(var _=void 0,j=0;j<g.length;j++){var t=g[j];if(t&&t.indexOf&&t.indexOf("..")>=0){var q=t.toString().split("..");2==q.length&&(d=o>=q[0]&&o<=q[1])}else var d=m(o,t);var T=j<v.length?"and":"or";_=void 0==_?d:"or"==T?_||d:_&&d}return _}return i&&i.indexOf&&i.indexOf("..")>=0&&(g=i.toString().split(".."),2==g.length)?o>=g[0]&&o<=g[1]:m(o,i)}},p=function(e,t,i){this.filtervalue=e,this.comparisonoperator=t,this.evaluate=function(e,t){return i(this.filtervalue,e,this.comparisonoperator)}}}}(jqxBaseFramework),function(e){e.jqx.longInt=function(){var e=this;e.longObj=new Object;var t=e.longObj;return t.mathObj=new Object,t.mathObj.Long=new Object,t.mathObj.Long=function(e,t){this.lowBits=0|e,this.highBits=0|t},t.mathObj.Long.IntCache={},t.mathObj.Long.fromInt=function(e){if(e>=-128&&128>e){var i=t.mathObj.Long.IntCache[e];if(i)return i}var r=new t.mathObj.Long(0|e,0>e?-1:0);return e>=-128&&128>e&&(t.mathObj.Long.IntCache[e]=r),r},t.mathObj.Long.fromNumber=function(e){return isNaN(e)||!isFinite(e)?t.mathObj.Long.ZERO:e<=-t.mathObj.Long.TWO_PWR_63_DBL_?t.mathObj.Long.MIN_VALUE:e+1>=t.mathObj.Long.TWO_PWR_63_DBL_?t.mathObj.Long.MAX_VALUE:0>e?t.mathObj.Long.fromNumber(-e).negate():new t.mathObj.Long(e%t.mathObj.Long.TWO_PWR_32_DBL_|0,e/t.mathObj.Long.TWO_PWR_32_DBL_|0)},t.mathObj.Long.fromBits=function(e,i){return new t.mathObj.Long(e,i)},t.mathObj.Long.fromString=function(e,i){if(0===e.length)throw new Error("number format error: empty string");var r=i||10;if(2>r||r>36)throw new Error("radix out of range: "+r);if("-"===e.charAt(0))return t.mathObj.Long.fromString(e.substring(1),r).negate();if(e.indexOf("-")>=0)throw new Error('number format error: interior "-" character: '+e);for(var s=t.mathObj.Long.fromNumber(Math.pow(r,8)),a=t.mathObj.Long.ZERO,n=0;n<e.length;n+=8){var o=Math.min(8,e.length-n),l=parseInt(e.substring(n,n+o),r);if(8>o){var h=t.mathObj.Long.fromNumber(Math.pow(r,o));a=a.multiply(h).add(t.mathObj.Long.fromNumber(l))}else a=a.multiply(s),a=a.add(t.mathObj.Long.fromNumber(l))}return a},t.mathObj.Long.TWO_PWR_16_DBL_=65536,t.mathObj.Long.TWO_PWR_24_DBL_=1<<24,t.mathObj.Long.TWO_PWR_32_DBL_=t.mathObj.Long.TWO_PWR_16_DBL_*t.mathObj.Long.TWO_PWR_16_DBL_,t.mathObj.Long.TWO_PWR_31_DBL_=t.mathObj.Long.TWO_PWR_32_DBL_/2,t.mathObj.Long.TWO_PWR_48_DBL_=t.mathObj.Long.TWO_PWR_32_DBL_*t.mathObj.Long.TWO_PWR_16_DBL_,t.mathObj.Long.TWO_PWR_64_DBL_=t.mathObj.Long.TWO_PWR_32_DBL_*t.mathObj.Long.TWO_PWR_32_DBL_,t.mathObj.Long.TWO_PWR_63_DBL_=t.mathObj.Long.TWO_PWR_64_DBL_/2,t.mathObj.Long.ZERO=t.mathObj.Long.fromInt(0),t.mathObj.Long.ONE=t.mathObj.Long.fromInt(1),t.mathObj.Long.NEG_ONE=t.mathObj.Long.fromInt(-1),t.mathObj.Long.MAX_VALUE=t.mathObj.Long.fromBits(-1,2147483647),t.mathObj.Long.MIN_VALUE=t.mathObj.Long.fromBits(0,-2147483648),t.mathObj.Long.TWO_PWR_24_=t.mathObj.Long.fromInt(1<<24),t.mathObj.Long.prototype.toInt=function(){return this.lowBits},t.mathObj.Long.prototype.toNumber=function(){return this.highBits*t.mathObj.Long.TWO_PWR_32_DBL_+this.getLowBitsUnsigned()},t.mathObj.Long.prototype.toString=function(e){function i(e,t){for(var i="";e.length<64;)e="0"+e;for(var r=0;r<e.length;r++){var s="1"===e.charAt(r)?"0":"1";i+=s}for(var a=!0,n="",o=i.length-1;o>=0;o--){var l,h=i.charAt(o);"0"===h?a===!0?(l="1",a=!1):l="0":l=a===!0?"0":"1",n=l+""+n}switch(t){case 2:return n;case 8:n="00"+n;for(var d="",c=22;c>=1;c--){var u=n[3*c-3]+""+n[3*c-2]+n[3*c-1];d=parseInt(u,2).toString(8)+""+d}return d;case 16:for(var p="",f=16;f>=1;f--){var m=n[4*f-4]+""+n[4*f-3]+n[4*f-2]+n[4*f-1];p=parseInt(m,2).toString(16)+""+p}return p}}var r=e||10;if(2>r||r>36)throw new Error("radix out of range: "+r);if(this.isZero())return"0";var s,a;if(this.isNegative()){if(this.equals(t.mathObj.Long.MIN_VALUE)){var n=t.mathObj.Long.fromNumber(r),o=this.div(n);return s=o.multiply(n).subtract(this),o.toString(r)+s.toInt().toString(r)}switch(r){case 2:case 8:case 16:return a=this.negate().toString(2),i(a,r);default:return a="-"+this.negate().toString(r)}}var l=t.mathObj.Long.fromNumber(Math.pow(r,6));for(s=this,a="";;){var h=s.div(l),d=s.subtract(h.multiply(l)).toInt(),c=d.toString(r);if(s=h,s.isZero())return c+a;for(;c.length<6;)c="0"+c;a=""+c+a}},t.mathObj.Long.prototype.getHighBits=function(){return this.highBits},t.mathObj.Long.prototype.getLowBits=function(){return this.lowBits},t.mathObj.Long.prototype.getLowBitsUnsigned=function(){return this.lowBits>=0?this.lowBits:t.mathObj.Long.TWO_PWR_32_DBL_+this.lowBits},t.mathObj.Long.prototype.getNumBitsAbs=function(){if(this.isNegative())return this.equals(t.mathObj.Long.MIN_VALUE)?64:this.negate().getNumBitsAbs();for(var e=0!==this.highBits?this.highBits:this.lowBits,i=31;i>0&&0===(e&1<<i);i--);return 0!==this.highBits?i+33:i+1},t.mathObj.Long.prototype.isZero=function(){return 0===this.highBits&&0===this.lowBits},t.mathObj.Long.prototype.isNegative=function(){return this.highBits<0},t.mathObj.Long.prototype.isOdd=function(){return 1===(1&this.lowBits)},t.mathObj.Long.prototype.equals=function(e){return this.highBits===e.highBits&&this.lowBits===e.lowBits},t.mathObj.Long.prototype.notEquals=function(e){return this.highBits!==e.highBits||this.lowBits!==e.lowBits},t.mathObj.Long.prototype.lessThan=function(e){return this.compare(e)<0},t.mathObj.Long.prototype.lessThanOrEqual=function(e){return this.compare(e)<=0},t.mathObj.Long.prototype.greaterThan=function(e){return this.compare(e)>0},t.mathObj.Long.prototype.greaterThanOrEqual=function(e){return this.compare(e)>=0},t.mathObj.Long.prototype.compare=function(e){if(this.equals(e))return 0;var t=this.isNegative(),i=e.isNegative();return t&&!i?-1:!t&&i?1:this.subtract(e).isNegative()?-1:1},t.mathObj.Long.prototype.negate=function(){return this.equals(t.mathObj.Long.MIN_VALUE)?t.mathObj.Long.MIN_VALUE:this.not().add(t.mathObj.Long.ONE)},t.mathObj.Long.prototype.add=function(e){var i=this.highBits>>>16,r=65535&this.highBits,s=this.lowBits>>>16,a=65535&this.lowBits,n=e.highBits>>>16,o=65535&e.highBits,l=e.lowBits>>>16,h=65535&e.lowBits,d=0,c=0,u=0,p=0;return p+=a+h,u+=p>>>16,p&=65535,u+=s+l,c+=u>>>16,u&=65535,c+=r+o,d+=c>>>16,c&=65535,d+=i+n,d&=65535,t.mathObj.Long.fromBits(u<<16|p,d<<16|c)},t.mathObj.Long.prototype.subtract=function(e){return this.add(e.negate())},t.mathObj.Long.prototype.multiply=function(e){if(this.isZero())return t.mathObj.Long.ZERO;if(e.isZero())return t.mathObj.Long.ZERO;if(this.equals(t.mathObj.Long.MIN_VALUE))return e.isOdd()?t.mathObj.Long.MIN_VALUE:t.mathObj.Long.ZERO;if(e.equals(t.mathObj.Long.MIN_VALUE))return this.isOdd()?t.mathObj.Long.MIN_VALUE:t.mathObj.Long.ZERO;if(this.isNegative())return e.isNegative()?this.negate().multiply(e.negate()):this.negate().multiply(e).negate();if(e.isNegative())return this.multiply(e.negate()).negate();if(this.lessThan(t.mathObj.Long.TWO_PWR_24_)&&e.lessThan(t.mathObj.Long.TWO_PWR_24_))return t.mathObj.Long.fromNumber(this.toNumber()*e.toNumber());var i=this.highBits>>>16,r=65535&this.highBits,s=this.lowBits>>>16,a=65535&this.lowBits,n=e.highBits>>>16,o=65535&e.highBits,l=e.lowBits>>>16,h=65535&e.lowBits,d=0,c=0,u=0,p=0;return p+=a*h,u+=p>>>16,p&=65535,u+=s*h,c+=u>>>16,u&=65535,u+=a*l,c+=u>>>16,u&=65535,c+=r*h,d+=c>>>16,c&=65535,c+=s*l,d+=c>>>16,c&=65535,c+=a*o,d+=c>>>16,c&=65535,d+=i*h+r*l+s*o+a*n,d&=65535,t.mathObj.Long.fromBits(u<<16|p,d<<16|c)},t.mathObj.Long.prototype.div=function(e){if(e.isZero())throw new Error("division by zero");if(this.isZero())return t.mathObj.Long.ZERO;var i,r;if(this.equals(t.mathObj.Long.MIN_VALUE)){if(e.equals(t.mathObj.Long.ONE)||e.equals(t.mathObj.Long.NEG_ONE))return t.mathObj.Long.MIN_VALUE;if(e.equals(t.mathObj.Long.MIN_VALUE))return t.mathObj.Long.ONE;var s=this.shiftRight(1);if(i=s.div(e).shiftLeft(1),i.equals(t.mathObj.Long.ZERO))return e.isNegative()?t.mathObj.Long.ONE:t.mathObj.Long.NEG_ONE;r=this.subtract(e.multiply(i));var a=i.add(r.div(e));return a}if(e.equals(t.mathObj.Long.MIN_VALUE))return t.mathObj.Long.ZERO;if(this.isNegative())return e.isNegative()?this.negate().div(e.negate()):this.negate().div(e).negate();if(e.isNegative())return this.div(e.negate()).negate();var n=t.mathObj.Long.ZERO;for(r=this;r.greaterThanOrEqual(e);){i=Math.max(1,Math.floor(r.toNumber()/e.toNumber()));for(var o=Math.ceil(Math.log(i)/Math.LN2),l=48>=o?1:Math.pow(2,o-48),h=t.mathObj.Long.fromNumber(i),d=h.multiply(e);d.isNegative()||d.greaterThan(r);)i-=l,h=t.mathObj.Long.fromNumber(i),d=h.multiply(e);h.isZero()&&(h=t.mathObj.Long.ONE),n=n.add(h),r=r.subtract(d)}return n},t.mathObj.Long.prototype.modulo=function(e){return this.subtract(this.div(e).multiply(e))},t.mathObj.Long.prototype.not=function(){return t.mathObj.Long.fromBits(~this.lowBits,~this.highBits)},t.mathObj.Long.prototype.and=function(e){return t.mathObj.Long.fromBits(this.lowBits&e.lowBits,this.highBits&e.highBits)},t.mathObj.Long.prototype.or=function(e){return t.mathObj.Long.fromBits(this.lowBits|e.lowBits,this.highBits|e.highBits)},t.mathObj.Long.prototype.xor=function(e){return t.mathObj.Long.fromBits(this.lowBits^e.lowBits,this.highBits^e.highBits)},t.mathObj.Long.prototype.shiftLeft=function(e){if(e&=63,0===e)return this;var i=this.lowBits;if(32>e){var r=this.highBits;return t.mathObj.Long.fromBits(i<<e,r<<e|i>>>32-e)}return t.mathObj.Long.fromBits(0,i<<e-32)},t.mathObj.Long.prototype.shiftRight=function(e){if(e&=63,0===e)return this;var i=this.highBits;if(32>e){var r=this.lowBits;return t.mathObj.Long.fromBits(r>>>e|i<<32-e,i>>e)}return t.mathObj.Long.fromBits(i>>e-32,i>=0?0:-1)},t.mathObj.Long.prototype.shiftRightUnsigned=function(e){if(e&=63,0===e)return this;var i=this.highBits;if(32>e){var r=this.lowBits;return t.mathObj.Long.fromBits(r>>>e|i<<32-e,i>>>e)}return 32===e?t.mathObj.Long.fromBits(i,0):t.mathObj.Long.fromBits(i>>>e-32,0)},t},e.jqx.math=function(){var t=new Object,i=new e.jqx.longInt;return t.getDecimalNotation=function(e,t,i,r){function s(e){for(var t="-0123456789",i="â»â°Â¹Â²Â³â´âµâ¶â·â¸â¹",r="",s=0;s<e.length;s++){var a=t.indexOf(e.charAt(s));r+=-1!==a?i[a]:e[s]}return r}function a(e){var t=e.indexOf("e"),i=e.slice(t+1),r=e.slice(0,t+1);return r=r.replace("e","Ã10"),r+=s(i),r=r.replace("+","")}function n(e){var t=e.indexOf("e"),s=e.slice(t+1),a=e.slice(0,t),n=parseInt(s,10)%3;if(a*=Math.pow(10,n),s>0){var o=e.slice(0,t).length-n-2;o>=0&&(a=a.toFixed(o))}var l,h=parseInt(s,10)-n;l=0>h?"":"+",void 0!==i?a=Number(a).toFixed(i):void 0!==r&&(a=Number(Number(a).toPrecision(r)).toString());var d=a+"e"+l+h;return d}if("decimal"===t)return e;e=e.toString();var o=Number(e).toExponential();if("scientific"===t)return a(o);if("engineering"===t)return n(o);var l;return void 0!==i?l=i:void 0!==r&&(l=r-1),void 0!==l&&(o=Number(e).toExponential(l)),o},t.getRadixValue=function(t,i,r){function s(e){var t=new n("","","",""),i=new l("","","",""),r=new d("","","");return t.parse(e),i.fromScientific(t,-45,45),r.fromDecimal(i),r.getHex()}function a(e){var t,i="0123456789ABCDEF",r=new Array("0000","0001","0010","0011","0100","0101","0110","0111","1000","1001","1010","1011","1100","1101","1110","1111");t="";for(var s=0;s<e.length;s++)t+=r[i.indexOf(e.charAt(s))];return t}function n(e,t,i,r){this.sign=e,this.firstCoefficient=t,this.otherCoefficients=i,this.exponent=r,this.NaN=0,this.infinity=0,this.parse=o}function o(e){var t,i,r,s,a,n,o,l,h,d,c,u,p,f,m;r="+",s="-",a=".",n="123456789",o="0123456789",l="0",h="Ee",d="+",c="",u="",p=1,shift=0,f="",i=0;for(var g=0;g<e.length;g++)switch(t=e.charAt(g),i){case 0:i=-1,-1!=r.indexOf(t)&&(i=1,d="+"),-1!=s.indexOf(t)&&(i=2,d="-"),-1!=n.indexOf(t)&&(i=3,d="+",c=t),-1!=a.indexOf(t)&&(i=4,d="+",shift--),-1!=l.indexOf(t)&&(i=5,d="+");break;case 1:i=-1,-1!=n.indexOf(t)&&(i=3,c=t),-1!=a.indexOf(t)&&(i=4,shift--),-1!=l.indexOf(t)&&(i=5);break;case 2:i=-1,-1!=n.indexOf(t)&&(i=3,c=t),-1!=a.indexOf(t)&&(i=4,shift--),-1!=l.indexOf(t)&&(i=5);break;case 3:i=-1,-1!=a.indexOf(t)&&(i=6),-1!=o.indexOf(t)&&(i=3,shift++,u+=t),-1!=h.indexOf(t)&&(i=9);break;case 4:i=-1,-1!=n.indexOf(t)&&(i=8,c=t),-1!=l.indexOf(t)&&(i=7,shift--);break;case 5:i=-1,-1!=n.indexOf(t)&&(i=3,c=t),-1!=a.indexOf(t)&&(i=4,shift--),-1!=l.indexOf(t)&&(i=5);break;case 6:i=-1,-1!=o.indexOf(t)&&(i=6,u+=t),-1!=h.indexOf(t)&&(i=9);break;case 7:i=-1,-1!=l.indexOf(t)&&(i=7,shift--),-1!=n.indexOf(t)&&(i=8,c=t),-1!=h.indexOf(t)&&(i=9);break;case 8:i=-1,-1!=o.indexOf(t)&&(i=8,u+=t),-1!=h.indexOf(t)&&(i=9);break;case 9:i=-1,-1!=r.indexOf(t)&&(i=10,p=1),-1!=s.indexOf(t)&&(i=11,p=-1),-1!=o.indexOf(t)&&(i=12,p=1,f+=t);break;case 10:i=-1,-1!=o.indexOf(t)&&(i=12,f+=t);break;case 11:i=-1,-1!=o.indexOf(t)&&(i=12,f+=t);break;case 12:i=-1,-1!=o.indexOf(t)&&(i=12,f+=t)}if(m="",-1==i)return"infinity"==e.toLowerCase()?(this.sign="+",this.firstCoefficient="",this.otherCoefficients="",this.exponent=0,this.NaN=0,this.infinity=1,0):"+infinity"==e.toLowerCase()?(this.sign="+",this.firstCoefficient="",this.otherCoefficients="",this.exponent=0,this.NaN=0,this.infinity=1,0):"-infinity"==e.toLowerCase()?(this.sign="-",this.firstCoefficient="",this.otherCoefficients="",this.exponent=0,this.NaN=0,this.infinity=1,0):(this.sign="",this.firstCoefficient="",this.otherCoefficients="",this.exponent=0,this.NaN=1,this.infinity=0,-1);i=0;for(var g=u.length-1;g>=0;g--)switch(t=u.charAt(g),i){case 0:-1!=l.indexOf(t)&&(i=1),-1!=n.indexOf(t)&&(i=2,m=t+m);break;case 1:-1!=l.indexOf(t)&&(i=1),-1!=n.indexOf(t)&&(i=2,m=t+m);break;case 2:-1!=o.indexOf(t)&&(i=2,m=t+m)}return""==f&&(f="0"),f=parseInt(f,10)*p+shift+"",""==m&&(m="0"),""==c&&(c="0",m="0",p="+",f="0"),this.sign=d,this.firstCoefficient=c,this.otherCoefficients=m,this.exponent=parseInt(f,10),this.NaN=0,this.infinity=0,0}function l(e,t,i,r){this.integer=e,this.fractional=t,this.sign=i,this.status=r,this.fromScientific=h}function h(e,t,i){var r,s;0==e.NaN?1==e.infinity?(this.integer="0",this.fractional="0",this.sign=e.sign,this.status="infinity"):e.exponent>=t&&e.exponent<=i?(e.exponent<0&&(r="0",s=f(e.firstCoefficient+e.otherCoefficients,-1*e.exponent-1)),e.exponent>=0&&(r=e.firstCoefficient+e.otherCoefficients.substr(0,e.exponent),r=b(r,e.exponent-e.otherCoefficients.length),s=e.otherCoefficients.substr(e.exponent),""==s&&(s="0")),this.integer=r,this.fractional=s,this.sign=e.sign,this.status="normal"):e.exponent<t?(this.integer="0",this.fractional="0",this.sign=e.sign,this.status="normal"):e.exponent>i&&(this.integer="",this.fractional="",this.sign=e.sign,this.status="infinity"):(this.integer="",this.fractional="",this.sign="",this.status="NaN")}function d(e,t,i){this.mantissa=e,this.exponent=t,this.sign=i,this.getBinary=u,this.getHex=p,this.fromDecimal=c}function c(e){var t,i,r;t=e.integer,i=e.fractional,r=e.sign;var s,a,n,o,l,h,d;if("infinity"==e.status)this.mantissa="00000000000000000000000",this.exponent=128,this.sign=r;else if("NaN"==e.status)this.mantissa="11111111111111111111111",this.exponent=128,this.sign="+";else{if(s=m(t),a="0"!=s?g(i,25-s.length,0):g(i,25,1),0==parseInt(s,10)&&0==parseInt(a,10))l=-127,h="00000000000000000000000";else{n=s+"."+a,l=n.indexOf(".")-n.indexOf("1"),l>0&&l--,o=-126>l?-126-l:0,n=s+a,h=n.substr(n.indexOf("1")+1-o,24),d=h.length;for(var c=0;23-d>c;c++)h+="0";d=v(h.substr(0,23),parseInt(h.charAt(23),10)),d.length>23?(h=d.substr(1),l++):h=d,-126>l&&(l=-127),l>127&&(l=128,h="00000000000000000000000")}this.mantissa=h,this.exponent=l,this.sign=r}}function u(){var e,t,i;e=m(this.exponent+127+""),i=8-e.length;for(var r=0;i>r;r++)e="0"+e;return t="+"==this.sign?"0":"1",t+e+this.mantissa}function p(){return x(this.getBinary())}function f(e,t){for(var i=0;t>i;i++)e="0"+e;return e}function m(e){var t,i,r,s,a,n,o,l,h=13,d=1e13,c=new Array,u=new Array("000","001","010","011","100","101","110","111");a=3*Math.floor((Math.floor(Math.log(Math.pow(10,e.length))/Math.LN2)+1)/3)+3;var p,f;if(t=e.length-Math.floor(e.length/h)*h,i=e,0!=t)for(var m=t;h>m;m++)i="0"+i;r=0;for(var m=0;m<i.length;m+=h)c[r]=parseInt(i.substr(m,h),10),r++;for(s=r,o="",n=0,zerosCount=0,l=1;a>n&&0!=l;){p=0,l=0;for(var m=0;s>m;m++)c[m]+=p*d,f=Math.floor(c[m]/8),p=c[m]-8*f,c[m]=f,l+=c[m];o=u[p]+o,0!=n?n+=3:-1!=u[p].indexOf("1")?(n=3-u[p].indexOf("1"),zerosCount+=2-u[p].indexOf("1")):zerosCount+=3}return o=-1==o.indexOf("1")?"0":o.substr(o.indexOf("1"))}function g(e,t,i){var r,s,a,n,o,l,h,d,c,u=15,p=1e15,f=new Array,m=new Array("000","001","010","011","100","101","110","111");o=3*Math.floor(t/3)+3;var g,v;if(r=e.length-Math.floor(e.length/u)*u,s=e,0!=r)for(var x=r;u>x;x++)s+="0";a=0;for(var x=0;x<s.length;x+=u)f[a]=parseInt(s.substr(x,u),10),a++;for(n=a,h="",l=0==i?0:-1,c=0,d=1;o>l&&0!=d;){g=0,d=0;for(var x=n-1;x>=0;x--)f[x]=8*f[x]+g,g=Math.floor(f[x]/p),f[x]-=g*p,d+=f[x];h+=m[g],-1!=l?l+=3:-1!=m[g].indexOf("1")?(l=3-m[g].indexOf("1"),c+=m[g].indexOf("1")):c+=3}if(h.length<t){v=t-h.length;for(var x=0;v>x;x++)h+="0"}else h=h.substr(0,c+t);return h}function v(e,t){var i,r,s;if(1==t){i="";for(var a=e.length-1;a>=0;a--)s=parseInt(e.charAt(a),10),1==t&&1==s?(r=0,t=1):0==t&&0==s?(r=0,t=0):(r=1,t=0),i=r+i;1==t&&(i=t+i)}else i=e;return i}function x(e){var t,i=new Array("0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F");t="";for(var r=0;r<e.length;r+=4)t+=i[parseInt(e.substr(r,4),2)];return t}function b(e,t){for(var i=0;t>i;i++)e+="0";return e}var w;switch(i){case!1:if(10!==r){var y=s(t.toString()),_=a(y);switch(r){case 2:return _;case 8:return parseInt(_,2).toString(8);case 16:return y}w=parseInt(t)}else w=parseFloat(t);w=w.toString(r);break;case"s":var j=new e.jqx.longObj.mathObj.Long.fromString(t.toString(),10);w=j.toString(r);break;case"u":var q=new BigNumber(t);if(-1===q.compare(0))throw new Error("Unsigned 64-bit integers cannot be negative.");w=q.toString(r)}return w},e.extend(t,i.mathObj.Long),t}}(jqxBaseFramework),function(e){e.jqx.jqxWidget("jqxDraw","",{}),e.extend(e.jqx._jqxDraw.prototype,{defineInstance:function(){var t={renderEngine:""};e.extend(!0,this,t);var i=["clear","on","off","removeElement","attr","getAttr","line","circle","rect","path","pieslice","text","measureText"];for(var r in i)this._addFn(e.jqx._jqxDraw.prototype,i[r])},_addFn:function(e,t){e[t]||(e[t]=function(){return this.renderer[t].apply(this.renderer,arguments)})},createInstance:function(e){},_initRenderer:function(t){return e.jqx.createRenderer(this,t)},_internalRefresh:function(){var t=this;if(!e.jqx.isHidden(t.host)){t.renderer||(t.host.empty(),t._initRenderer(t.host));var i=t.renderer;if(i){var r=i.getRect();t._render({x:1,y:1,width:r.width,height:r.height}),i instanceof e.jqx.HTML5Renderer&&i.refresh()}}},_saveAsImage:function(t,i,r,s){return e.jqx._widgetToImage(this,t,i,r,s)},_render:function(e){var t=this;t.renderer;t._plotRect=e},refresh:function(){this._internalRefresh()},getSize:function(){var e=this._plotRect;return{width:e.width,height:e.height}},saveAsPNG:function(e,t,i){return this._saveAsImage("png",e,t,i)},saveAsJPEG:function(e,t,i){return this._saveAsImage("jpeg",e,t,i)}})}(jqxBaseFramework),function(e){e.jqx.toGreyScale=function(t){if(-1==t.indexOf("#"))return t;var i=e.jqx.cssToRgb(t);i[0]=i[1]=i[2]=Math.round(.3*i[0]+.59*i[1]+.11*i[2]);var r=e.jqx.rgbToHex(i[0],i[1],i[2]);return"#"+r[0]+r[1]+r[2]},e.jqx.adjustColor=function(t,i){if("string"!=typeof t)return"#000000";if(-1==t.indexOf("#"))return t;var r=e.jqx.cssToRgb(t),s=e.jqx.rgbToHsl(r);s[2]=Math.min(1,s[2]*i),s[1]=Math.min(1,s[1]*i*1.1),r=e.jqx.hslToRgb(s);for(var t="#",a=0;3>a;a++){var n=Math.round(r[a]);n=e.jqx.decToHex(n),1==n.toString().length&&(t+="0"),t+=n}return t.toUpperCase()},e.jqx.decToHex=function(e){return e.toString(16)},e.jqx.hexToDec=function(e){return parseInt(e,16)},e.jqx.rgbToHex=function(t,i,r){return[e.jqx.decToHex(t),e.jqx.decToHex(i),e.jqx.decToHex(r)]},e.jqx.hexToRgb=function(t,i,r){return[e.jqx.hexToDec(t),e.jqx.hexToDec(i),e.jqx.hexToDec(r)]},e.jqx.cssToRgb=function(t){return t.indexOf("rgb")<=-1?e.jqx.hexToRgb(t.substring(1,3),t.substring(3,5),t.substring(5,7)):t.substring(4,t.length-1).split(",");
},e.jqx.hslToRgb=function(t){var i=parseFloat(t[0]),s=parseFloat(t[1]),a=parseFloat(t[2]);if(0==s)r=g=b=a;else{var n=.5>a?a*(1+s):a+s-a*s,o=2*a-n;r=e.jqx.hueToRgb(o,n,i+1/3),g=e.jqx.hueToRgb(o,n,i),b=e.jqx.hueToRgb(o,n,i-1/3)}return[255*r,255*g,255*b]},e.jqx.hueToRgb=function(e,t,i){return 0>i&&(i+=1),i>1&&(i-=1),1/6>i?e+6*(t-e)*i:.5>i?t:2/3>i?e+(t-e)*(2/3-i)*6:e},e.jqx.rgbToHsl=function(e){var t,i,r=parseFloat(e[0])/255,s=parseFloat(e[1])/255,a=parseFloat(e[2])/255,n=Math.max(r,s,a),o=Math.min(r,s,a),l=(n+o)/2;if(n==o)t=i=0;else{var h=n-o;switch(i=l>.5?h/(2-n-o):h/(n+o),n){case r:t=(s-a)/h+(a>s?6:0);break;case s:t=(a-r)/h+2;break;case a:t=(r-s)/h+4}t/=6}return[t,i,l]},e.jqx.swap=function(e,t){var i=e;e=t,t=i},e.jqx.getNum=function(t){if(e.isArray(t)){for(var i=0;i<t.length;i++)if(!isNaN(t[i]))return t[i]}else if(isNaN(t))return 0;return 0},e.jqx._ptdist=function(e,t,i,r){return Math.sqrt((i-e)*(i-e)+(r-t)*(r-t))},e.jqx._ptrnd=function(t){if(!document.createElementNS)return Math.round(t)==t?t:e.jqx._rnd(t,1,!1,!0);var i=e.jqx._rnd(t,.5,!1,!0);return.5!=Math.abs(i-Math.round(i))?i>t?i-.5:i+.5:i},e.jqx._ptRotate=function(e,t,i,r,s){var a=Math.sqrt(Math.pow(Math.abs(e-i),2)+Math.pow(Math.abs(t-r),2)),n=Math.asin((e-i)/a),o=n+s;return e=i+Math.cos(o)*a,t=r+Math.sin(o)*a,{x:e,y:t}},e.jqx._rup=function(e){var t=Math.round(e);return e>t&&t++,t},e.jqx.log=function(e,t){return Math.log(e)/(t?Math.log(t):1)},e.jqx._mod=function(e,t){var i=Math.abs(e>t?t:e),r=1;if(0!=i)for(;100>i*r;)r*=10;return e*=r,t*=r,e%t/r},e.jqx._rnd=function(t,i,r,s){if(isNaN(t))return t;void 0===s&&(s=!0);var a=t-(1==s?t%i:e.jqx._mod(t,i));return t==a?a:(r?t>a&&(a+=i):a>t&&(a-=i),1==i?Math.round(a):a)},e.jqx.commonRenderer={pieSlicePath:function(e,t,i,r,s,a,n){r||(r=1);var o=Math.abs(s-a),l=o>180?1:0;o>=360&&(a=s+359.99);var h=s*Math.PI*2/360,d=a*Math.PI*2/360,c=e,u=e,p=t,f=t,m=!isNaN(i)&&i>0;if(m&&(n=0),n+i>0){if(n>0){var g=o/2+s,v=g*Math.PI*2/360;e+=n*Math.cos(v),t-=n*Math.sin(v)}if(m){var x=i;c=e+x*Math.cos(h),p=t-x*Math.sin(h),u=e+x*Math.cos(d),f=t-x*Math.sin(d)}}var b=e+r*Math.cos(h),w=e+r*Math.cos(d),y=t-r*Math.sin(h),_=t-r*Math.sin(d),j="",q=Math.abs(Math.abs(a-s)-360)>.02;return m?(j="M "+u+","+f,j+=" a"+i+","+i,j+=" 0 "+l+",1 "+(c-u)+","+(p-f),j+=q?" L"+b+","+y:" M"+b+","+y,j+=" a"+r+","+r,j+=" 0 "+l+",0 "+(w-b)+","+(_-y),q&&(j+=" Z")):(j="M "+w+","+_,j+=" a"+r+","+r,j+=" 0 "+l+",1 "+(b-w)+","+(y-_),q&&(j+=" L"+e+","+t,j+=" Z")),j},measureText:function(t,i,r,s,a){var n=a._getTextParts(t,i,r),o=n.width,l=n.height;0==s&&(l/=.6);var h={};if(isNaN(i)&&(i=0),0==i)h={width:e.jqx._rup(o),height:e.jqx._rup(l)};else{var d=i*Math.PI*2/360,c=Math.abs(Math.sin(d)),u=Math.abs(Math.cos(d)),p=Math.abs(o*c+l*u),f=Math.abs(o*u+l*c);h={width:e.jqx._rup(f),height:e.jqx._rup(p)}}return s&&(h.textPartsInfo=n),h},alignTextInRect:function(t,i,r,s,a,n,o,l,h,d){var c=h*Math.PI*2/360,u=Math.sin(c),p=Math.cos(c),f=a*u,m=a*p;"center"==o||""==o||"undefined"==o?t+=r/2:"right"==o&&(t+=r),"center"==l||"middle"==l||""==l||"undefined"==l?i+=s/2:"bottom"==l?i+=s-n/2:"top"==l&&(i+=n/2),d=d||"";var g="middle";-1!=d.indexOf("top")?g="top":-1!=d.indexOf("bottom")&&(g="bottom");var v="center";return-1!=d.indexOf("left")?v="left":-1!=d.indexOf("right")&&(v="right"),"center"==v?(t-=m/2,i-=f/2):"right"==v&&(t-=m,i-=f),"top"==g?(t-=n*u,i+=n*p):"middle"==g&&(t-=n*u/2,i+=n*p/2),t=e.jqx._rup(t),i=e.jqx._rup(i),{x:t,y:i}}},e.jqx.svgRenderer=function(){},e.jqx.svgRenderer.prototype={_svgns:"http://www.w3.org/2000/svg",init:function(e){var t="<table class=tblChart cellspacing='0' cellpadding='0' border='0' align='left' valign='top'><tr><td colspan=2 class=tdTop></td></tr><tr><td class=tdLeft></td><td><div class='chartContainer' style='position:relative' onselectstart='return false;'></div></td></tr></table>";e.append(t),this.host=e;var i=e.find(".chartContainer");i[0].style.width=e.width()+"px",i[0].style.height=e.height()+"px";try{var r=document.createElementNS(this._svgns,"svg");r.setAttribute("id","svgChart"),r.setAttribute("version","1.1"),r.setAttribute("width","100%"),r.setAttribute("height","100%"),r.setAttribute("overflow","hidden"),i[0].appendChild(r),this.canvas=r}catch(s){return!1}return this._id=(new Date).getTime(),this.clear(),this._layout(),this._runLayoutFix(),!0},getType:function(){return"SVG"},refresh:function(){},_runLayoutFix:function(){this._fixLayout()},_fixLayout:function(){var t=this.canvas.getBoundingClientRect(),i=parseFloat(t.left)==parseInt(t.left),r=parseFloat(t.top)==parseInt(t.top);if(e.jqx.browser.msie){for(var i=!0,r=!0,s=this.host,a=0,n=0;s&&s.position&&s[0].parentNode;){var o=s.position();a+=parseFloat(o.left)-parseInt(o.left),n+=parseFloat(o.top)-parseInt(o.top),s=s.parent()}i=parseFloat(a)==parseInt(a),r=parseFloat(n)==parseInt(n)}i||(this.host.find(".tdLeft")[0].style.width="0.5px"),r||(this.host.find(".tdTop")[0].style.height="0.5px")},_layout:function(){var t=this.host.find(".chartContainer");this._width=Math.max(e.jqx._rup(this.host.width())-1,0),this._height=Math.max(e.jqx._rup(this.host.height())-1,0),t[0].style.width=this._width,t[0].style.height=this._height,this._fixLayout()},getRect:function(){return{x:0,y:0,width:this._width,height:this._height}},getContainer:function(){var e=this.host.find(".chartContainer");return e},clear:function(){for(;this.canvas.childElementCount>0;)this.removeElement(this.canvas.firstElementChild);this._defaultParent=void 0,this._defs=document.createElementNS(this._svgns,"defs"),this._gradients={},this.canvas.appendChild(this._defs)},removeElement:function(e){if(void 0!=e){this.removeHandler(e);try{for(;e.firstChild;)this.removeElement(e.firstChild);e.parentNode?e.parentNode.removeChild(e):this.canvas.removeChild(e)}catch(t){}}},_openGroups:[],beginGroup:function(){var e=this._activeParent(),t=document.createElementNS(this._svgns,"g");return e.appendChild(t),this._openGroups.push(t),t},endGroup:function(){0!=this._openGroups.length&&this._openGroups.pop()},_activeParent:function(){return 0==this._openGroups.length?this.canvas:this._openGroups[this._openGroups.length-1]},createClipRect:function(e){var t=document.createElementNS(this._svgns,"clipPath"),i=document.createElementNS(this._svgns,"rect");return this.attr(i,{x:e.x,y:e.y,width:e.width,height:e.height,fill:"none"}),this._clipId=this._clipId||0,t.id="cl"+this._id+"_"+(++this._clipId).toString(),t.appendChild(i),this._defs.appendChild(t),t},getWindowHref:function(){var t=e.jqx.browser;if(t&&"msie"==t.browser&&t.version<10)return"";var i=window.location.href;return i?(i=i.replace(/([\('\)])/g,"\\$1"),i=i.replace(/#.*$/,"")):i},setClip:function(e,t){var i="url("+this.getWindowHref()+"#"+t.id+")";return this.attr(e,{"clip-path":i})},_clipId:0,addHandler:function(t,i,r){e(t).on?e(t).on(i,r):e(t).bind(i,r)},removeHandler:function(t,i,r){e(t).off?e(t).off(i,r):e(t).unbind(i,r)},on:function(e,t,i){this.addHandler(e,t,i)},off:function(e,t,i){this.removeHandler(e,t,i)},shape:function(e,t){var i=document.createElementNS(this._svgns,e);if(i){for(var r in t)i.setAttribute(r,t[r]);return this._activeParent().appendChild(i),i}},_getTextParts:function(t,i,r){var s={width:0,height:0,parts:[]};if(void 0===t)return s;var a=.6,n=t.toString().split("<br>"),o=this._activeParent(),l=document.createElementNS(this._svgns,"text");this.attr(l,r);for(var h=0;h<n.length;h++){var d=n[h],c=l.ownerDocument.createTextNode(d);l.appendChild(c),o.appendChild(l);var u;try{u=l.getBBox()}catch(p){}var f=e.jqx._rup(u.width),m=e.jqx._rup(u.height*a);l.removeChild(c),s.width=Math.max(s.width,f),s.height+=m+(h>0?4:0),s.parts.push({width:f,height:m,text:d})}return o.removeChild(l),s},_measureText:function(t,i,r,s){return e.jqx.commonRenderer.measureText(t,i,r,s,this)},measureText:function(e,t,i){return this._measureText(e,t,i,!1)},text:function(t,i,r,s,a,n,o,l,h,d,c){var u,p=this._measureText(t,n,o,!0),f=p.textPartsInfo,m=f.parts;if(h||(h="center"),d||(d="center"),(m.length>1||l)&&(u=this.beginGroup()),l){var g=this.createClipRect({x:e.jqx._rup(i)-1,y:e.jqx._rup(r)-1,width:e.jqx._rup(s)+2,height:e.jqx._rup(a)+2});this.setClip(u,g)}var v=this._activeParent(),x=0,b=0;x=f.width,b=f.height,(isNaN(s)||0>=s)&&(s=x),(isNaN(a)||0>=a)&&(a=b);var w=s||0,y=a||0;if(!n||0==n){r+=b,"center"==d||"middle"==d?r+=(y-b)/2:"bottom"==d&&(r+=y-b),s||(s=x),a||(a=b);for(var v=this._activeParent(),_=0,j=m.length-1;j>=0;j--){var q=document.createElementNS(this._svgns,"text");this.attr(q,o),this.attr(q,{cursor:"default"});var T=q.ownerDocument.createTextNode(m[j].text);q.appendChild(T);var S=i,C=m[j].width,I=m[j].height;"center"==h?S+=(w-C)/2:"right"==h&&(S+=w-C),this.attr(q,{x:e.jqx._rup(S),y:e.jqx._rup(r+_),width:e.jqx._rup(C),height:e.jqx._rup(I)}),v.appendChild(q),_-=m[j].height+4}return u?(this.endGroup(),u):q}var k=e.jqx.commonRenderer.alignTextInRect(i,r,s,a,x,b,h,d,n,c);i=k.x,r=k.y;var D=this.shape("g",{transform:"translate("+i+","+r+")"}),M=this.shape("g",{transform:"rotate("+n+")"});D.appendChild(M);for(var _=0,j=m.length-1;j>=0;j--){var P=document.createElementNS(this._svgns,"text");this.attr(P,o),this.attr(P,{cursor:"default"});var T=P.ownerDocument.createTextNode(m[j].text);P.appendChild(T);var S=0,C=m[j].width,I=m[j].height;"center"==h?S+=(f.width-C)/2:"right"==h&&(S+=f.width-C),this.attr(P,{x:e.jqx._rup(S),y:e.jqx._rup(_),width:e.jqx._rup(C),height:e.jqx._rup(I)}),M.appendChild(P),_-=I+4}return v.appendChild(D),u&&this.endGroup(),D},line:function(e,t,i,r,s){var a=this.shape("line",{x1:e,y1:t,x2:i,y2:r});return this.attr(a,s),a},path:function(e,t){var i=this.shape("path");return i.setAttribute("d",e),t&&this.attr(i,t),i},rect:function(t,i,r,s,a){t=e.jqx._ptrnd(t),i=e.jqx._ptrnd(i),r=Math.max(1,e.jqx._rnd(r,1,!1)),s=Math.max(1,e.jqx._rnd(s,1,!1));var n=this.shape("rect",{x:t,y:i,width:r,height:s});return a&&this.attr(n,a),n},circle:function(e,t,i,r){var s=this.shape("circle",{cx:e,cy:t,r:i});return r&&this.attr(s,r),s},pieSlicePath:function(t,i,r,s,a,n,o){return e.jqx.commonRenderer.pieSlicePath(t,i,r,s,a,n,o)},pieslice:function(e,t,i,r,s,a,n,o){var l=this.pieSlicePath(e,t,i,r,s,a,n),h=this.shape("path");return h.setAttribute("d",l),o&&this.attr(h,o),h},attr:function(e,t){if(e&&t)for(var i in t)"textContent"==i?e.textContent=t[i]:e.setAttribute(i,t[i])},removeAttr:function(e,t){if(e&&t)for(var i in t)"textContent"==i?e.textContent="":e.removeAttribute(t[i])},getAttr:function(e,t){return e.getAttribute(t)},_gradients:{},_toLinearGradient:function(t,i,r){var s="grd"+this._id+t.replace("#","")+(i?"v":"h"),a="url("+this.getWindowHref()+"#"+s+")";if(this._gradients[a])return a;var n=document.createElementNS(this._svgns,"linearGradient");this.attr(n,{x1:"0%",y1:"0%",x2:i?"0%":"100%",y2:i?"100%":"0%",id:s});for(var o=0;o<r.length;o++){var l=r[o],h=document.createElementNS(this._svgns,"stop"),d="stop-color:"+e.jqx.adjustColor(t,l[1]);this.attr(h,{offset:l[0]+"%",style:d}),n.appendChild(h)}return this._defs.appendChild(n),this._gradients[a]=!0,a},_toRadialGradient:function(t,i,r){var s="grd"+this._id+t.replace("#","")+"r"+(void 0!=r?r.key:""),a="url("+this.getWindowHref()+"#"+s+")";if(this._gradients[a])return a;var n=document.createElementNS(this._svgns,"radialGradient");void 0==r?this.attr(n,{cx:"50%",cy:"50%",r:"100%",fx:"50%",fy:"50%",id:s}):this.attr(n,{cx:r.x,cy:r.y,r:r.outerRadius,id:s,gradientUnits:"userSpaceOnUse"});for(var o=0;o<i.length;o++){var l=i[o],h=document.createElementNS(this._svgns,"stop"),d="stop-color:"+e.jqx.adjustColor(t,l[1]);this.attr(h,{offset:l[0]+"%",style:d}),n.appendChild(h)}return this._defs.appendChild(n),this._gradients[a]=!0,a}},e.jqx.vmlRenderer=function(){},e.jqx.vmlRenderer.prototype={init:function(t){var i="<div class='chartContainer' style=\"position:relative;overflow:hidden;\"><div>";t.append(i),this.host=t;var r=t.find(".chartContainer");r[0].style.width=t.width()+"px",r[0].style.height=t.height()+"px";var s=!0;try{for(var a=0;a<document.namespaces.length;a++)if("v"==document.namespaces[a].name&&"urn:schemas-microsoft-com:vml"==document.namespaces[a].urn){s=!1;break}}catch(n){return!1}return e.jqx.browser.msie&&parseInt(e.jqx.browser.version)<9&&document.childNodes&&document.childNodes.length>0&&document.childNodes[0].data&&-1!=document.childNodes[0].data.indexOf("DOCTYPE")?(s&&document.namespaces.add("v","urn:schemas-microsoft-com:vml"),this._ie8mode=!0):s&&(document.namespaces.add("v","urn:schemas-microsoft-com:vml"),document.createStyleSheet().cssText="v\\:* { behavior: url(#default#VML); display: inline-block; }"),this.canvas=r[0],this._width=Math.max(e.jqx._rup(r.width()),0),this._height=Math.max(e.jqx._rup(r.height()),0),r[0].style.width=this._width+2,r[0].style.height=this._height+2,this._id=(new Date).getTime(),this.clear(),!0},getType:function(){return"VML"},refresh:function(){},getRect:function(){return{x:0,y:0,width:this._width,height:this._height}},getContainer:function(){var e=this.host.find(".chartContainer");return e},clear:function(){for(;this.canvas.childElementCount>0;)this.removeHandler(this.canvas.firstElementChild),this.canvas.removeChild(this.canvas.firstElementChild);this._gradients={},this._defaultParent=void 0},removeElement:function(e){null!=e&&(this.removeHandler(e),e.parentNode.removeChild(e))},_openGroups:[],beginGroup:function(){var e=this._activeParent(),t=document.createElement("v:group");return t.style.position="absolute",t.coordorigin="0,0",t.coordsize=this._width+","+this._height,t.style.left=0,t.style.top=0,t.style.width=this._width,t.style.height=this._height,e.appendChild(t),this._openGroups.push(t),t},endGroup:function(){0!=this._openGroups.length&&this._openGroups.pop()},_activeParent:function(){return 0==this._openGroups.length?this.canvas:this._openGroups[this._openGroups.length-1]},createClipRect:function(e){var t=document.createElement("div");return t.style.height=e.height+1+"px",t.style.width=e.width+1+"px",t.style.position="absolute",t.style.left=e.x+"px",t.style.top=e.y+"px",t.style.overflow="hidden",this._clipId=this._clipId||0,t.id="cl"+this._id+"_"+(++this._clipId).toString(),this._activeParent().appendChild(t),t},setClip:function(e,t){},_clipId:0,addHandler:function(t,i,r){e(t).on?e(t).on(i,r):e(t).bind(i,r)},removeHandler:function(t,i,r){e(t).off?e(t).off(i,r):e(t).unbind(i,r)},on:function(e,t,i){this.addHandler(e,t,i)},off:function(e,t,i){this.removeHandler(e,t,i)},_getTextParts:function(t,i,r){var s={width:0,height:0,parts:[]},a=.6,n=t.toString().split("<br>"),o=this._activeParent(),l=document.createElement("v:textbox");this.attr(l,r),o.appendChild(l);for(var h=0;h<n.length;h++){var d=n[h],c=document.createElement("span");c.appendChild(document.createTextNode(d)),l.appendChild(c),r&&r["class"]&&(c.className=r["class"]);var u=e(l),p=e.jqx._rup(u.width()),f=e.jqx._rup(u.height()*a);if(0==f&&e.jqx.browser.msie&&parseInt(e.jqx.browser.version)<9){var m=u.css("font-size");m&&(f=parseInt(m),isNaN(f)&&(f=0))}l.removeChild(c),s.width=Math.max(s.width,p),s.height+=f+(h>0?2:0),s.parts.push({width:p,height:f,text:d})}return o.removeChild(l),s},_measureText:function(t,i,r,s){return i=Math.abs(i)>45?90:0,e.jqx.commonRenderer.measureText(t,i,r,s,this)},measureText:function(e,t,i){return this._measureText(e,t,i,!1)},text:function(t,i,r,s,a,n,o,l,h,d){var c;o&&o.stroke&&(c=o.stroke),void 0==c&&(c="black");var u=this._measureText(t,n,o,!0),p=u.textPartsInfo,f=p.parts,m=u.width,g=u.height;(isNaN(s)||0==s)&&(s=m),(isNaN(a)||0==a)&&(a=g);var v;if(h||(h="center"),d||(d="center"),(f.length>0||l)&&(v=this.beginGroup()),l){var x=this.createClipRect({x:e.jqx._rup(i),y:e.jqx._rup(r),width:e.jqx._rup(s),height:e.jqx._rup(a)});this.setClip(v,x)}var b=this._activeParent(),w=s||0,y=a||0;n=Math.abs(n)>45?90:0;var _=0,j=0;"center"==h?_+=(w-m)/2:"right"==h&&(_+=w-m),"center"==d?j=(y-g)/2:"bottom"==d&&(j=y-g),0==n?(r+=g+j,i+=_):(i+=m+_,r+=j);for(var q,T=0,S=f.length-1;S>=0;S--){var C=f[S],I=(m-C.width)/2;0==n&&"left"==h?I=0:0==n&&"right"==h?I=m-C.width:90==n&&(I=(g-C.width)/2);var k=T-C.height;j=90==n?I:k,_=90==n?k:I,q=document.createElement("v:textbox"),q.style.position="absolute",q.style.left=e.jqx._rup(i+_),q.style.top=e.jqx._rup(r+j),q.style.width=e.jqx._rup(C.width),q.style.height=e.jqx._rup(C.height),90==n&&(q.style.filter="progid:DXImageTransform.Microsoft.BasicImage(rotation=3)",q.style.height=e.jqx._rup(C.height)+5);var D=document.createElement("span");D.appendChild(document.createTextNode(C.text)),o&&o["class"]&&(D.className=o["class"]),q.appendChild(D),b.appendChild(q),T-=C.height+(S>0?2:0)}return v?(this.endGroup(),b):q},shape:function(e,t){var i=document.createElement(this._createElementMarkup(e));if(i){for(var r in t)i.setAttribute(r,t[r]);return this._activeParent().appendChild(i),i}},line:function(e,t,i,r,s){var a="M "+e+","+t+" L "+i+","+r+" X E",n=this.path(a);return this.attr(n,s),n},_createElementMarkup:function(e){var t="<v:"+e+' style=""></v:'+e+">";return this._ie8mode&&(t=t.replace('style=""','style="behavior: url(#default#VML);"')),t},path:function(e,t){var i=document.createElement(this._createElementMarkup("shape"));return i.style.position="absolute",i.coordsize=this._width+" "+this._height,i.coordorigin="0 0",i.style.width=parseInt(this._width),i.style.height=parseInt(this._height),i.style.left="0px",i.style.top="0px",i.setAttribute("path",e),this._activeParent().appendChild(i),t&&this.attr(i,t),i},rect:function(t,i,r,s,a){t=e.jqx._ptrnd(t),i=e.jqx._ptrnd(i),r=e.jqx._rup(r),s=e.jqx._rup(s);var n=this.shape("rect",a);return n.style.position="absolute",n.style.left=t,n.style.top=i,n.style.width=r,n.style.height=s,n.strokeweight=0,a&&this.attr(n,a),n},circle:function(t,i,r,s){var a=this.shape("oval");return t=e.jqx._ptrnd(t-r),i=e.jqx._ptrnd(i-r),r=e.jqx._rup(r),a.style.position="absolute",a.style.left=t,a.style.top=i,a.style.width=2*r,a.style.height=2*r,s&&this.attr(a,s),a},updateCircle:function(t,i,r,s){void 0==i&&(i=parseFloat(t.style.left)+parseFloat(t.style.width)/2),void 0==r&&(r=parseFloat(t.style.top)+parseFloat(t.style.height)/2),void 0==s&&(s=parseFloat(t.width)/2),i=e.jqx._ptrnd(i-s),r=e.jqx._ptrnd(r-s),s=e.jqx._rup(s),t.style.left=i,t.style.top=r,t.style.width=2*s,t.style.height=2*s},pieSlicePath:function(t,i,r,s,a,n,o){s||(s=1);var l=Math.abs(a-n);l>360&&(a=0,n=360);var h=a*Math.PI*2/360,d=n*Math.PI*2/360,c=t,u=t,p=i,f=i,m=!isNaN(r)&&r>0;if(m&&(o=0),o>0){var g=l/2+a,v=g*Math.PI*2/360;t+=o*Math.cos(v),i-=o*Math.sin(v)}if(m){var x=r;c=e.jqx._ptrnd(t+x*Math.cos(h)),p=e.jqx._ptrnd(i-x*Math.sin(h)),u=e.jqx._ptrnd(t+x*Math.cos(d)),f=e.jqx._ptrnd(i-x*Math.sin(d))}var b=(e.jqx._ptrnd(t+s*Math.cos(h)),e.jqx._ptrnd(t+s*Math.cos(d))),w=(e.jqx._ptrnd(i-s*Math.sin(h)),e.jqx._ptrnd(i-s*Math.sin(d)));s=e.jqx._ptrnd(s),r=e.jqx._ptrnd(r),t=e.jqx._ptrnd(t),i=e.jqx._ptrnd(i);var y=Math.round(65535*a),_=Math.round(65536*(n-a));0>r&&(r=1);var j="";return m?(j="M"+c+" "+p,j+=" AE "+t+" "+i+" "+r+" "+r+" "+y+" "+_,j+=" L "+b+" "+w,y=Math.round(65535*(a-n)),_=Math.round(65536*n),j+=" AE "+t+" "+i+" "+s+" "+s+" "+_+" "+y,j+=" L "+c+" "+p):(j="M"+t+" "+i,j+=" AE "+t+" "+i+" "+s+" "+s+" "+y+" "+_),j+=" X E"},pieslice:function(e,t,i,r,s,a,n,o){var l=this.pieSlicePath(e,t,i,r,s,a,n),h=this.path(l,o);return o&&this.attr(h,o),h},_keymap:[{svg:"fill",vml:"fillcolor"},{svg:"stroke",vml:"strokecolor"},{svg:"stroke-width",vml:"strokeweight"},{svg:"stroke-dasharray",vml:"dashstyle"},{svg:"fill-opacity",vml:"fillopacity"},{svg:"stroke-opacity",vml:"strokeopacity"},{svg:"opacity",vml:"opacity"},{svg:"cx",vml:"style.left"},{svg:"cy",vml:"style.top"},{svg:"height",vml:"style.height"},{svg:"width",vml:"style.width"},{svg:"x",vml:"style.left"},{svg:"y",vml:"style.top"},{svg:"d",vml:"v"},{svg:"display",vml:"style.display"}],_translateParam:function(e){for(var t in this._keymap)if(this._keymap[t].svg==e)return this._keymap[t].vml;return e},attr:function(e,t){if(e&&t)for(var i in t){var r=this._translateParam(i);void 0!=t[i]&&("fillcolor"==r&&-1!=t[i].indexOf("grd")?e.type=t[i]:"fillcolor"==r&&"transparent"==t[i]?(e.style.filter="alpha(opacity=0)",e["-ms-filter"]="progid:DXImageTransform.Microsoft.Alpha(Opacity=0)"):"opacity"==r||"fillopacity"==r?e.fill&&(e.fill.opacity=t[i]):"textContent"==r?e.children[0].innerText=t[i]:"dashstyle"==r?e.dashstyle=t[i].replace(","," "):-1==r.indexOf("style.")?e[r]=t[i]:e.style[r.replace("style.","")]=t[i])}},removeAttr:function(e,t){if(e&&t)for(var i in t)e.removeAttribute(t[i])},getAttr:function(e,t){var i=this._translateParam(t);return"opacity"==i||"fillopacity"==i?e.fill?e.fill.opacity:1:-1==i.indexOf("style.")?e[i]:e.style[i.replace("style.","")]},_gradients:{},_toRadialGradient:function(e,t,i){return e},_toLinearGradient:function(t,i,r){if(this._ie8mode)return t;var s="grd"+t.replace("#","")+(i?"v":"h"),a="#"+s;if(this._gradients[a])return a;var n=document.createElement(this._createElementMarkup("fill"));n.type="gradient",n.method="linear",n.angle=i?0:90;for(var o="",l=0;l<r.length;l++){var h=r[l];h>0&&(o+=", "),o+=h[0]+"% "+e.jqx.adjustColor(t,h[1])}n.colors=o;var d=document.createElement(this._createElementMarkup("shapetype"));return d.appendChild(n),d.id=s,this.canvas.appendChild(d),a}},e.jqx.HTML5Renderer=function(){},e.jqx.ptrnd=function(e){if(.5==Math.abs(Math.round(e)-e))return e;var t=Math.round(e);return e>t&&(t-=1),t+.5},e.jqx.HTML5Renderer.prototype={init:function(e){try{this.host=e,this.host.append("<div class='chartContainer' style='position:relative' onselectstart='return false;'><canvas id='__jqxCanvasWrap' style='width:100%; height: 100%;'/></div>"),this.canvas=e.find("#__jqxCanvasWrap"),this.canvas[0].width=e.width(),this.canvas[0].height=e.height(),this.ctx=this.canvas[0].getContext("2d"),this._elements={},this._maxId=0,this._gradientId=0,this._gradients={},this._currentPoint={x:0,y:0},this._lastCmd="",this._pos=0}catch(t){return!1}return!0},getType:function(){return"HTML5"},getContainer:function(){var e=this.host.find(".chartContainer");return e},getRect:function(){return{x:0,y:0,width:this.canvas[0].width-1,height:this.canvas[0].height-1}},beginGroup:function(){},endGroup:function(){},setClip:function(){},createClipRect:function(e){},addHandler:function(e,t,i){},removeHandler:function(e,t,i){},on:function(e,t,i){this.addHandler(e,t,i)},off:function(e,t,i){this.removeHandler(e,t,i)},clear:function(){this._elements={},this._maxId=0,this._renderers._gradients={},this._gradientId=0},removeElement:function(e){void 0!=e&&this._elements[e.id]&&delete this._elements[e.id]},shape:function(e,t){var i={type:e,id:this._maxId++};for(var r in t)i[r]=t[r];return this._elements[i.id]=i,i},attr:function(e,t){for(var i in t)e[i]=t[i]},removeAttr:function(e,t){for(var i in t)delete e[t[i]]},rect:function(e,t,i,r,s){if(isNaN(e))throw'Invalid value for "x"';if(isNaN(t))throw'Invalid value for "y"';if(isNaN(i))throw'Invalid value for "width"';if(isNaN(r))throw'Invalid value for "height"';var a=this.shape("rect",{x:e,y:t,width:i,height:r});return s&&this.attr(a,s),a},path:function(e,t){var i=this.shape("path",t);return this.attr(i,{d:e}),i},line:function(e,t,i,r,s){return this.path("M "+e+","+t+" L "+i+","+r,s)},circle:function(e,t,i,r){var s=this.shape("circle",{x:e,y:t,r:i});return r&&this.attr(s,r),s},pieSlicePath:function(t,i,r,s,a,n,o){return e.jqx.commonRenderer.pieSlicePath(t,i,r,s,a,n,o)},pieslice:function(e,t,i,r,s,a,n,o){var l=this.path(this.pieSlicePath(e,t,i,r,s,a,n),o);return this.attr(l,{x:e,y:t,innerRadius:i,outerRadius:r,angleFrom:s,angleTo:a}),l},_getCSSStyle:function(e){var t=document.styleSheets;try{for(var i=0;i<t.length;i++)for(var r=0;t[i].cssRules&&r<t[i].cssRules.length;r++)if(-1!=t[i].cssRules[r].selectorText.indexOf(e))return t[i].cssRules[r].style}catch(s){}return{}},_getTextParts:function(t,i,r){var s="Arial",a="10pt",n="";if(r&&r["class"]){var o=this._getCSSStyle(r["class"]);o.fontSize&&(a=o.fontSize),o.fontFamily&&(s=o.fontFamily),o.fontWeight&&(n=o.fontWeight)}this.ctx.font=n+" "+a+" "+s;for(var l={width:0,height:0,parts:[]},h=.6,d=t.toString().split("<br>"),c=0;c<d.length;c++){var u=d[c],p=this.ctx.measureText(u).width,f=document.createElement("span.jqxchart");f.font=this.ctx.font,f.textContent=u,document.body.appendChild(f);var m=f.offsetHeight*h;document.body.removeChild(f),l.width=Math.max(l.width,e.jqx._rup(p)),l.height+=m+(c>0?4:0),l.parts.push({width:p,height:m,text:u})}return l},_measureText:function(t,i,r,s){return e.jqx.commonRenderer.measureText(t,i,r,s,this)},measureText:function(e,t,i){return this._measureText(e,t,i,!1)},text:function(e,t,i,r,s,a,n,o,l,h,d){var c=this.shape("text",{text:e,x:t,y:i,width:r,height:s,angle:a,clip:o,halign:l,valign:h,rotateAround:d});if(n&&this.attr(c,n),c.fontFamily="Arial",c.fontSize="10pt",c.fontWeight="",c.color="#000000",n&&n["class"]){var u=this._getCSSStyle(n["class"]);c.fontFamily=u.fontFamily||c.fontFamily,c.fontSize=u.fontSize||c.fontSize,c.fontWeight=u.fontWeight||c.fontWeight,c.color=u.color||c.color}var p=this._measureText(e,0,n,!0);return this.attr(c,{textPartsInfo:p.textPartsInfo,textWidth:p.width,textHeight:p.height}),(0>=r||isNaN(r))&&this.attr(c,{width:p.width}),(0>=s||isNaN(s))&&this.attr(c,{height:p.height}),c},_toLinearGradient:function(t,i,r){if(this._renderers._gradients[t])return t;for(var s=[],a=0;a<r.length;a++)s.push({percent:r[a][0]/100,color:e.jqx.adjustColor(t,r[a][1])});var n="gr"+this._gradientId++;return this.createGradient(n,i?"vertical":"horizontal",s),n},_toRadialGradient:function(t,i){if(this._renderers._gradients[t])return t;for(var r=[],s=0;s<i.length;s++)r.push({percent:i[s][0]/100,color:e.jqx.adjustColor(t,i[s][1])});var a="gr"+this._gradientId++;return this.createGradient(a,"radial",r),a},createGradient:function(e,t,i){this._renderers.createGradient(this,e,t,i)},_renderers:{createGradient:function(e,t,i,r){e._gradients[t]={orientation:i,colorStops:r}},setStroke:function(e,t){var i=e.ctx;i.strokeStyle=t.stroke||"transparent",i.lineWidth=t["stroke-width"]||1,void 0!=t["fill-opacity"]?i.globalAlpha=t["fill-opacity"]:void 0!=t.opacity?i.globalAlpha=t.opacity:i.globalAlpha=1,i.setLineDash&&(t["stroke-dasharray"]?i.setLineDash(t["stroke-dasharray"].split(",")):i.setLineDash([]))},setFillStyle:function(t,i){var r=t.ctx;if(r.fillStyle="transparent",void 0!=i["fill-opacity"]?r.globalAlpha=i["fill-opacity"]:void 0!=i.opacity?r.globalAlpha=i.opacity:r.globalAlpha=1,i.fill&&-1==i.fill.indexOf("#")&&t._gradients[i.fill]){var s,a="horizontal"!=t._gradients[i.fill].orientation,n="radial"==t._gradients[i.fill].orientation,o=e.jqx.ptrnd(i.x),l=e.jqx.ptrnd(i.y),h=e.jqx.ptrnd(i.x+(a?0:i.width)),d=e.jqx.ptrnd(i.y+(a?i.height:0));"circle"!=i.type&&"path"!=i.type&&"rect"!=i.type||!n||(x=e.jqx.ptrnd(i.x),y=e.jqx.ptrnd(i.y),r1=i.innerRadius||0,r2=i.outerRadius||i.r||0,"rect"==i.type&&(x+=i.width/2,y+=i.height/2),s=r.createRadialGradient(x,y,r1,x,y,r2)),n||((isNaN(o)||isNaN(h)||isNaN(l)||isNaN(d))&&(o=0,l=0,h=a?0:r.canvas.width,d=a?r.canvas.height:0),s=r.createLinearGradient(o,l,h,d));for(var c=t._gradients[i.fill].colorStops,u=0;u<c.length;u++)s.addColorStop(c[u].percent,c[u].color);r.fillStyle=s}else i.fill&&(r.fillStyle=i.fill)},rect:function(t,i){0!=i.width&&0!=i.height&&(t.fillRect(e.jqx.ptrnd(i.x),e.jqx.ptrnd(i.y),i.width,i.height),t.strokeRect(e.jqx.ptrnd(i.x),e.jqx.ptrnd(i.y),i.width,i.height))},circle:function(t,i){0!=i.r&&(t.beginPath(),t.arc(e.jqx.ptrnd(i.x),e.jqx.ptrnd(i.y),i.r,0,2*Math.PI,!1),t.closePath(),t.fill(),t.stroke())},_parsePoint:function(e){var t=this._parseNumber(e),i=this._parseNumber(e);return{x:t,y:i}},_parseNumber:function(e){for(var t=!1,i=this._pos;i<e.length;i++)if(e[i]>="0"&&e[i]<="9"||"."==e[i]||"e"==e[i]||"-"==e[i]&&!t||"-"==e[i]&&i>=1&&"e"==e[i-1])t=!0;else{if(t||" "!=e[i]&&","!=e[i])break;this._pos++}var r=parseFloat(e.substring(this._pos,i));return isNaN(r)?void 0:(this._pos=i,r)},_cmds:"mlcazq",_isRelativeCmd:function(t){return e.jqx.string.contains(this._cmds,t)},_parseCmd:function(t){for(var i=this._pos;i<t.length;i++){if(e.jqx.string.containsIgnoreCase(this._cmds,t[i]))return this._pos=i+1,this._lastCmd=t[i],this._lastCmd;if(" "!=t[i]){if(t[i]>="0"&&t[i]<="9"){if(this._pos=i,""==this._lastCmd)break;return this._lastCmd}}else this._pos++}},_toAbsolutePoint:function(e){return{x:this._currentPoint.x+e.x,y:this._currentPoint.y+e.y}},path:function(e,t){var i=t.d;this._pos=0,this._lastCmd="";var r=void 0;this._currentPoint={x:0,y:0},e.beginPath();for(;this._pos<i.length;){var s=this._parseCmd(i);if(void 0==s)break;if("M"!=s&&"m"!=s)if("L"!=s&&"l"!=s)if("A"!=s&&"a"!=s)if("Z"!=s&&"z"!=s||void 0==r)if("C"!=s&&"c"!=s)if("Q"!=s&&"q"!=s);else{var a=this._parsePoint(i),n=this._parsePoint(i);e.quadraticCurveTo(a.x,a.y,n.x,n.y),this._currentPoint=n}else{var a=this._parsePoint(i),n=this._parsePoint(i),o=this._parsePoint(i);e.bezierCurveTo(a.x,a.y,n.x,n.y,o.x,o.y),this._currentPoint=o}else e.lineTo(r.x,r.y),this._currentPoint=r;else{var l=this._parseNumber(i),h=this._parseNumber(i),d=this._parseNumber(i)*(Math.PI/180),c=this._parseNumber(i),u=this._parseNumber(i),p=this._parsePoint(i);if(this._isRelativeCmd(s)&&(p=this._toAbsolutePoint(p)),0==l||0==h)continue;var f=this._currentPoint,m={x:Math.cos(d)*(f.x-p.x)/2+Math.sin(d)*(f.y-p.y)/2,y:-Math.sin(d)*(f.x-p.x)/2+Math.cos(d)*(f.y-p.y)/2},g=Math.pow(m.x,2)/Math.pow(l,2)+Math.pow(m.y,2)/Math.pow(h,2);g>1&&(l*=Math.sqrt(g),h*=Math.sqrt(g));var v=(c==u?-1:1)*Math.sqrt((Math.pow(l,2)*Math.pow(h,2)-Math.pow(l,2)*Math.pow(m.y,2)-Math.pow(h,2)*Math.pow(m.x,2))/(Math.pow(l,2)*Math.pow(m.y,2)+Math.pow(h,2)*Math.pow(m.x,2)));isNaN(v)&&(v=0);var x={x:v*l*m.y/h,y:v*-h*m.x/l},b={x:(f.x+p.x)/2+Math.cos(d)*x.x-Math.sin(d)*x.y,y:(f.y+p.y)/2+Math.sin(d)*x.x+Math.cos(d)*x.y},w=function(e){return Math.sqrt(Math.pow(e[0],2)+Math.pow(e[1],2))},y=function(e,t){return(e[0]*t[0]+e[1]*t[1])/(w(e)*w(t))},_=function(e,t){return(e[0]*t[1]<e[1]*t[0]?-1:1)*Math.acos(y(e,t))},j=_([1,0],[(m.x-x.x)/l,(m.y-x.y)/h]),q=[(m.x-x.x)/l,(m.y-x.y)/h],T=[(-m.x-x.x)/l,(-m.y-x.y)/h],S=_(q,T);y(q,T)<=-1&&(S=Math.PI),y(q,T)>=1&&(S=0),0==u&&S>0&&(S-=2*Math.PI),1==u&&0>S&&(S+=2*Math.PI);var y=l>h?l:h,C=l>h?1:l/h,I=l>h?h/l:1;e.translate(b.x,b.y),e.rotate(d),e.scale(C,I),e.arc(0,0,y,j,j+S,1-u),e.scale(1/C,1/I),e.rotate(-d),e.translate(-b.x,-b.y)}else{var k=this._parsePoint(i);if(void 0==k)break;e.lineTo(k.x,k.y),this._currentPoint=k}else{var k=this._parsePoint(i);if(void 0==k)break;e.moveTo(k.x,k.y),this._currentPoint=k,void 0==r&&(r=k)}}e.fill(),e.stroke(),e.closePath()},text:function(t,i){var r=e.jqx.ptrnd(i.x),s=e.jqx.ptrnd(i.y),a=e.jqx.ptrnd(i.width),n=e.jqx.ptrnd(i.height),o=i.halign,l=i.valign,h=i.angle,d=i.rotateAround,c=i.textPartsInfo,u=c.parts,p=i.clip;void 0==p&&(p=!0),t.save(),o||(o="center"),l||(l="center"),p&&(t.rect(r,s,a,n),t.clip());var f=i.textWidth,m=i.textHeight,g=a||0,v=n||0;if(t.fillStyle=i.color,t.font=i.fontWeight+" "+i.fontSize+" "+i.fontFamily,!h||0==h){s+=m,"center"==l||"middle"==l?s+=(v-m)/2:"bottom"==l&&(s+=v-m),a||(a=f),n||(n=m);for(var x=0,b=u.length-1;b>=0;b--){var w=u[b],y=r,_=u[b].width;u[b].height;"center"==o?y+=(g-_)/2:"right"==o&&(y+=g-_),t.fillText(w.text,y,s+x),x-=w.height+(b>0?4:0)}return void t.restore()}var j=e.jqx.commonRenderer.alignTextInRect(r,s,a,n,f,m,o,l,h,d);r=j.x,s=j.y;var q=h*Math.PI*2/360;t.translate(r,s),t.rotate(q);for(var x=0,T=c.width,b=u.length-1;b>=0;b--){var y=0;"center"==o?y+=(T-u[b].width)/2:"right"==o&&(y+=T-u[b].width),t.fillText(u[b].text,y,x),x-=u[b].height+4}t.restore()}},refresh:function(){this.ctx.clearRect(0,0,this.canvas[0].width,this.canvas[0].height);for(var e in this._elements){var t=this._elements[e];this._renderers.setFillStyle(this,t),this._renderers.setStroke(this,t),this._renderers[this._elements[e].type](this.ctx,t)}}},e.jqx.createRenderer=function(t,i){var r=t,s=r.renderer=null;if(document.createElementNS&&"HTML5"!=r.renderEngine&&"VML"!=r.renderEngine&&(s=new e.jqx.svgRenderer,!s.init(i))){if("SVG"==r.renderEngine)throw"Your browser does not support SVG";return null}if(null==s&&"HTML5"!=r.renderEngine){if(s=new e.jqx.vmlRenderer,!s.init(i)){if("VML"==r.renderEngine)throw"Your browser does not support VML";return null;
}r._isVML=!0}if(null==s&&("HTML5"==r.renderEngine||void 0==r.renderEngine)&&(s=new e.jqx.HTML5Renderer,!s.init(i)))throw"Your browser does not support HTML5 Canvas";return r.renderer=s,s},e.jqx._widgetToImage=function(t,i,r,s,a,n){var o=t;if(!o)return!1;void 0!=r&&""!=r||(r="image."+i);var l=o.renderEngine,h=o.enableAnimations;if(o.enableAnimations=!1,o.renderEngine="HTML5",o.renderEngine!=l)try{o.refresh()}catch(d){return o.renderEngine=l,o.refresh(),o.enableAnimations=h,!1}var c=o.renderer.getContainer().find("canvas")[0],u=!0;e.isFunction(n)&&(u=n(t,c));var p=!0;return u&&(p=e.jqx.exportImage(c,i,r,s,a)),o.renderEngine!=l&&(o.renderEngine=l,o.refresh(),o.enableAnimations=h),p},e.jqx.getByPriority=function(e){for(var t=void 0,i=0;i<e.length&&void 0==t;i++)void 0==t&&void 0!=e[i]&&(t=e[i]);return t},e.jqx.exportImage=function(t,i,r,s,a){if(!t)return!1;var n="pdf"===i.toLowerCase();if(n&&(i="jpeg"),void 0!=r&&""!=r||(r="image."+i),void 0==s||""==s)throw"Please specifiy export server";var o=!0;try{if(t){var l=t.toDataURL("image/"+i);if(n){e.jqx.pdfExport||(e.jqx.pdfExport={orientation:"portrait",paperSize:"a4"});var h=595;switch(e.jqx.pdfExport.paperSize){case"legal":var h=612;"portrait"!==e.jqx.pdfExport.orientation&&(h=1008);break;case"letter":var h=612;"portrait"!==e.jqx.pdfExport.orientation&&(h=792);break;case"a3":var h=841;"portrait"!==e.jqx.pdfExport.orientation&&(h=1190);break;case"a4":var h=595;"portrait"!==e.jqx.pdfExport.orientation&&(h=842);break;case"a5":var h=420;"portrait"!==e.jqx.pdfExport.orientation&&(h=595)}var d=e(t).width(),c=72*d/96;c>=h-20&&(c=h-20);var u=new pdfDataExport(e.jqx.pdfExport.orientation,"pt",e.jqx.pdfExport.paperSize);return u.addImage(l,"JPEG",10,10,c,0),void u.save(r)}if(l=l.replace("data:image/"+i+";base64,",""),a)e.ajax({dataType:"string",url:s,type:"POST",data:{content:l,fname:r},async:!1,success:function(e,t,i){o=!0},error:function(e,t,i){o=!1}});else{var p=document.createElement("form");p.method="POST",p.action=s,p.style.display="none",document.body.appendChild(p);var f=document.createElement("input");f.name="fname",f.value=r,f.style.display="none";var m=document.createElement("input");m.name="content",m.value=l,m.style.display="none",p.appendChild(f),p.appendChild(m),p.submit(),document.body.removeChild(p),o=!0}}}catch(g){o=!1}return o}}(jqxBaseFramework),function(e){jqxPlot=function(){},jqxPlot.prototype={get:function(e,t,i){return void 0!==i?e[t][i]:e[t]},min:function(e,t){for(var i=NaN,r=0;r<e.length;r++){var s=this.get(e,r,t);(isNaN(i)||i>s)&&(i=s)}return i},max:function(e,t){for(var i=NaN,r=0;r<e.length;r++){var s=this.get(e,r,t);(isNaN(i)||s>i)&&(i=s)}return i},sum:function(e,t){for(var i=0,r=0;r<e.length;r++){var s=this.get(e,r,t);isNaN(s)||(i+=s)}return i},count:function(e,t){for(var i=0,r=0;r<e.length;r++){var s=this.get(e,r,t);isNaN(s)||i++}return i},avg:function(e,t){return this.sum(e,t)/Math.max(1,count(e,t))},filter:function(e,t){if(!t)return e;for(var i=[],r=0;r<e.length;r++)t(e[r])&&i.push(e[r]);return i},scale:function(t,i,r,s){if(isNaN(t))return NaN;if((t<Math.min(i.min,i.max)||t>Math.max(i.min,i.max))&&(!s||s.ignore_range!==!0))return NaN;var a=NaN,n=1;if(void 0===i.type||"logarithmic"!=i.type){var o=Math.abs(i.max-i.min);o||(o=1),n=Math.abs(t-Math.min(i.min,i.max))/o}else if("logarithmic"===i.type){var l=i.base;isNaN(l)&&(l=10);var h=Math.min(i.min,i.max);0>=h&&(h=1);var d=Math.max(i.min,i.max);0>=d&&(d=1);var c=e.jqx.log(d,l);d=Math.pow(l,c);var u=e.jqx.log(h,l);h=Math.pow(l,u);var p=e.jqx.log(t,l);n=Math.abs(p-u)/(c-u)}if("logarithmic"===r.type){var l=r.base;isNaN(l)&&(l=10);var c=e.jqx.log(r.max,l),u=e.jqx.log(r.min,l);r.flip&&(n=1-n);var p=Math.min(u,c)+n*Math.abs(c-u);a=Math.pow(l,p)}else a=Math.min(r.min,r.max)+n*Math.abs(r.max-r.min),r.flip&&(a=Math.max(r.min,r.max)-a+r.min);return a},axis:function(t,i,r){if(1>=r)return[i,t];(isNaN(r)||2>r)&&(r=2);for(var s=0;Math.round(t)!=t&&Math.round(i)!=i&&10>s;)t*=10,i*=10,s++;for(var a=(i-t)/r;10>s&&Math.round(a)!=a;)t*=10,i*=10,a*=10,s++;for(var n=[1,2,5],o=0;;){var l=o%n.length,h=Math.floor(o/n.length),d=Math.pow(10,h)*n[l];l=(o+1)%n.length,h=Math.floor((o+1)/n.length);var c=Math.pow(10,h)*n[l];if(a>=d&&c>a)break;o++}for(var u=c,p=[],f=e.jqx._rnd(t,u,!1),m=0>=s?1:Math.pow(10,s);i+u>f;)p.push(f/m),f+=u;return p}}}(jqxBaseFramework),function(e){e.jqx.jqxWidget("jqxMenu","",{}),e.extend(e.jqx._jqxMenu.prototype,{defineInstance:function(){var t={items:new Array,mode:"horizontal",width:null,height:null,minimizeWidth:"auto",easing:"easeInOutSine",animationShowDuration:200,animationHideDuration:200,autoCloseInterval:0,animationHideDelay:100,animationShowDelay:100,menuElements:new Array,autoSizeMainItems:!1,autoCloseOnClick:!0,autoCloseOnMouseLeave:!0,enableRoundedCorners:!0,disabled:!1,autoOpenPopup:!0,enableHover:!0,autoOpen:!0,autoGenerate:!0,clickToOpen:!1,showTopLevelArrows:!1,touchMode:"auto",source:null,popupZIndex:17e3,rtl:!1,keyboardNavigation:!1,lockFocus:!1,title:"",events:["shown","closed","itemclick","initialized","open","close"]};return this===e.jqx._jqxMenu.prototype?t:(e.extend(!0,this,t),t)},createInstance:function(t){var i=this;if(this.host.attr("role","menubar"),e.jqx.utilities.resize(this.host,function(){i.refresh()},!1,"popup"!=this.mode),"auto"!=this.minimizeWidth&&null!=this.minimizeWidth&&this.width&&-1==this.width.toString().indexOf("%")&&e(window).resize(function(){i.refresh()}),this.host.css("outline","none"),this.source&&null!=this.source){var r=this.loadItems(this.source);this.element.innerHTML=r}if(this._tmpHTML=this.element.innerHTML,this.element.innerHTML.indexOf("UL")){var s=this.host.find("ul:first");s.length>0&&this._createMenu(s[0])}this.host.data("autoclose",{}),this._render(),this._setSize(),e.jqx.browser.msie&&e.jqx.browser.version<8&&this.host.attr("hideFocus",!0)},focus:function(){try{if("popup"===this.mode&&this.keyboardNavigation){var t=this.host.closest("div.jqx-menu-wrapper");t.focus()}if(this.keyboardNavigation){this.host.focus();var i=this,r=function(){if(e.jqx.isHidden(e(i.items[0].element))){var t=i._nextVisibleItem(i.items[0],0);t&&(e(t.element).addClass(i.toThemeProperty("jqx-fill-state-focus")),i.activeItem=t)}else e(i.items[0].element).addClass(i.toThemeProperty("jqx-fill-state-focus")),i.activeItem=i.items[0]};this.activeItem?e.jqx.isHidden(e(this.activeItem.element))?(e(this.activeItem.element).removeClass(this.toThemeProperty("jqx-fill-state-focus")),r()):e(this.activeItem.element).addClass(this.toThemeProperty("jqx-fill-state-focus")):r()}}catch(s){}},loadItems:function(t,i){if(null!=t){if(0==t.length)return"";var r=this;this.items=new Array;var s='<ul class="jqx-menu-ul">';return i&&(s='<ul class="jqx-menu-ul" style="width:'+i+';">'),e.map(t,function(e){return void 0==e?null:void(s+=r._parseItem(e))}),s+="</ul>"}},_parseItem:function(e){var t="";if(void 0==e)return null;var i=e.label;!e.label&&e.html&&(i=e.html),i||(i="Item"),"string"==typeof e&&(i=e);var r=!1;void 0!=e.selected&&e.selected&&(r=!0);var s=!1;return void 0!=e.disabled&&e.disabled&&(s=!0),t+="<li",s&&(t+=' item-disabled="true" '),e.label&&!e.html&&(t+=' item-label="'+i+'" '),null!=e.value&&(t+=' item-value="'+e.value+'" '),void 0!=e.id&&(t+=' id="'+e.id+'" '),t+=">"+i,e.items&&(t+=e.subMenuWidth?this.loadItems(e.items,e.subMenuWidth):this.loadItems(e.items)),t+="</li>"},_setSize:function(){null!=this.width&&-1!=this.width.toString().indexOf("%")?this.host.width(this.width):null!=this.width&&-1!=this.width.toString().indexOf("px")?this.host.width(this.width):void 0==this.width||isNaN(this.width)||this.host.width(this.width),null!=this.height&&-1!=this.height.toString().indexOf("%")?this.host.height(this.height):null!=this.height&&-1!=this.height.toString().indexOf("px")?this.host.height(this.height):void 0==this.height||isNaN(this.height)||this.host.height(this.height),null===this.height&&this.host.height("auto");if(null!=this.minimizeWidth&&"popup"!=this.mode){var t=e(window).width();if(!e.jqx.response){var i=!1;if(navigator.userAgent.match(/Windows|Linux|MacOS/)){var r=navigator.userAgent.indexOf("Windows Phone")>=0||navigator.userAgent.indexOf("WPDesktop")>=0||navigator.userAgent.indexOf("IEMobile")>=0||navigator.userAgent.indexOf("ZuneWP7")>=0;r||(i=!0)}var s=this.minimizeWidth;if(i&&"auto"==this.minimizeWidth)return}if("auto"==this.minimizeWidth&&e.jqx.response){var a=new e.jqx.response;"Phone"!=a.device.type&&"Tablet"!=a.device.type||this.minimized||this.minimize()}else s>t&&!this.minimized?this.minimize():this.minimized&&t>=s&&this.restore()}},minimize:function(){if(!this.minimized){var t=this;this.host.addClass(this.toThemeProperty("jqx-menu-minimized")),this.minimized=!0,this._tmpMode=this.mode,this.mode="simple";var i=this.host.closest("div.jqx-menu-wrapper");if(i.remove(),e("#menuWrapper"+this.element.id).remove(),e.each(this.items,function(){var t=this,i=(e(t.element),e(t.subMenuElement)),r=i.closest("div.jqx-menu-popup");r.remove()}),this.source){var r=this.loadItems(this.source);this.element.innerHTML=r,this._tmpHTML=this.element.innerHTML}if(this.element.innerHTML=this._tmpHTML,this.element.innerHTML.indexOf("UL")){var s=this.host.find("ul:first");s.length>0&&this._createMenu(s[0])}this._render();var a=this.host.find("ul:first");a.wrap('<div class="jqx-menu-wrapper" style="z-index:'+this.popupZIndex+'; padding: 0px; display: none; margin: 0px; height: auto; width: auto; position: absolute; top: 0; left: 0; display: block; visibility: visible;"></div>');var i=a.closest("div.jqx-menu-wrapper");i[0].id="menuWrapper"+this.element.id,i.detach(),i.appendTo(e(document.body)),i.addClass(this.toThemeProperty("jqx-widget")),i.addClass(this.toThemeProperty("jqx-menu")),i.addClass(this.toThemeProperty("jqx-menu-minimized")),i.addClass(this.toThemeProperty("jqx-widget-header")),a.children().hide(),i.hide(),i.find("ul").addClass(this.toThemeProperty("jqx-menu-ul-minimized")),this.minimizedItem=e("<div></div>"),this.minimizedItem.addClass(this.toThemeProperty("jqx-item")),this.minimizedItem.addClass(this.toThemeProperty("jqx-menu-item-top")),this.addHandler(i,"keydown",function(e){return t.handleKeyDown(e)}),this.minimizedItem.addClass(this.toThemeProperty("jqx-menu-minimized-button")),this.minimizedItem.prependTo(this.host),this.titleElement=e("<div>"+this.title+"</div>"),this.titleElement.addClass(this.toThemeProperty("jqx-item")),this.titleElement.addClass(this.toThemeProperty("jqx-menu-title")),this.titleElement.prependTo(this.host),e("<div style='clear:both;'></div>").insertAfter(this.minimizedItem),t.minimizedHidden=!0;var n=function(e){t.minimizedHidden=!0,t.minimizedItem.show();var r=!1;"right"==t.minimizedItem.css("float")&&(r=!0),i.animate({left:r?t.host.coord().left+t.host.width()+i.width():-i.outerWidth(),opacity:0},t.animationHideDuration,function(){i.find("ul:first").children().hide(),i.hide()})},o=function(e){if(t.minimizedHidden){i.find("ul:first").children().show(),t.minimizedHidden=!1,i.show(),i.css("opacity",0),i.css("left",-i.outerWidth());var r=!1,s=i.width();"right"==t.minimizedItem.css("float")&&(i.css("left",t.host.coord().left+t.host.width()+s),r=!0),i.css("top",t.host.coord().top+t.host.height()),i.animate({left:r?t.host.coord().left+t.host.width()-s:t.host.coord().left,opacity:.95},t.animationShowDuration,function(){})}else n(e);t._raiseEvent("2",{type:"mouse",item:t.minimizedItem[0],event:e}),t._setSize()};this.addHandler(e(window),"orientationchange.jqxmenu"+this.element.id,function(e){setTimeout(function(){if(!t.minimizedHidden){var e=i.width(),r=!1,e=i.width();"right"==t.minimizedItem.css("float")&&(r=!0),i.css("top",t.host.coord().top+t.host.height()),i.css({left:r?t.host.coord().left+t.host.width()-e:t.host.coord().left})}},25)}),this.addHandler(this.minimizedItem,"click",function(e){o(e)})}},restore:function(){if(this.minimized){this.host.find("ul").removeClass(this.toThemeProperty("jqx-menu-ul-minimized")),this.host.removeClass(this.toThemeProperty("jqx-menu-minimized")),this.minimized=!1,this.mode=this._tmpMode,this.minimizedItem&&this.minimizedItem.remove();var t=e("#menuWrapper"+this.element.id);if(t.remove(),this.source){var i=this.loadItems(this.source);this.element.innerHTML=i,this._tmpHTML=i}if(this.element.innerHTML=this._tmpHTML,this.element.innerHTML.indexOf("UL")){var r=this.host.find("ul:first");r.length>0&&this._createMenu(r[0])}this._setSize(),this._render()}},isTouchDevice:function(){if(void 0!=this._isTouchDevice)return this._isTouchDevice;var t=e.jqx.mobile.isTouchDevice();return 1==this.touchMode?t=!0:0==this.touchMode&&(t=!1),t&&(this.host.addClass(this.toThemeProperty("jqx-touch")),e(".jqx-menu-item").addClass(this.toThemeProperty("jqx-touch"))),this._isTouchDevice=t,t},refresh:function(e){e||this._setSize()},resize:function(e,t){this.width=e,this.height=t,this.refresh()},_closeAll:function(t){var i=null!=t?t.data:this,r=i.items;if(e.each(r,function(){var e=this;1==e.hasItems&&e.isOpen&&i._closeItem(i,e)}),"popup"==i.mode&&null!=t){var s=i._isRightClick(t);s||i.close()}},closeItem:function(t){if(null==t)return!1;var i=t,r=document.getElementById(i),s=this;return e.each(s.items,function(){var e=this;1==e.isOpen&&e.element==r&&(s._closeItem(s,e),e.parentId&&s.closeItem(e.parentId))}),!0},openItem:function(t){if(null==t)return!1;var i=t,r=document.getElementById(i),s=this;return e.each(s.items,function(){var e=this;0==e.isOpen&&e.element==r&&(s._openItem(s,e),e.parentId&&s.openItem(e.parentId))}),!0},_getClosedSubMenuOffset:function(t){var i=e(t.subMenuElement),r=-i.outerHeight(),s=-i.outerWidth(),a=0==t.level&&"horizontal"==this.mode;switch(a?s=0:r=0,t.openVerticalDirection){case"up":case"center":r=i.outerHeight()}switch(t.openHorizontalDirection){case this._getDir("left"):s=a?0:i.outerWidth();break;case"center":s=a?0:i.outerWidth()}return{left:s,top:r}},_closeItem:function(t,i,r,s){if(null==t||null==i)return!1;var a=e(i.subMenuElement),n=0==i.level&&"horizontal"==this.mode,o=this._getClosedSubMenuOffset(i),l=o.top,h=o.left,d=(e(i.element),a.closest("div.jqx-menu-popup"));if(null!=d){var c=t.animationHideDelay;1==s&&(c=0),a.data("timer")&&null!=a.data("timer").show&&(clearTimeout(a.data("timer").show),a.data("timer").show=null);var u=function(){i.isOpen=!1,n?a.stop().animate({top:l},t.animationHideDuration,function(){e(i.element).removeClass(t.toThemeProperty("jqx-fill-state-pressed")),e(i.element).removeClass(t.toThemeProperty("jqx-menu-item-top-selected")),e(i.element).removeClass(t.toThemeProperty("jqx-rc-b-expanded")),d.removeClass(t.toThemeProperty("jqx-rc-t-expanded"));var r=e(i.arrow);r.length>0&&t.showTopLevelArrows&&(r.removeClass(),"down"==i.openVerticalDirection?(r.addClass(t.toThemeProperty("jqx-menu-item-arrow-down")),r.addClass(t.toThemeProperty("jqx-icon-arrow-down"))):(r.addClass(t.toThemeProperty("jqx-menu-item-arrow-up")),r.addClass(t.toThemeProperty("jqx-icon-arrow-up")))),e.jqx.aria(e(i.element),"aria-expanded",!1),d.css({display:"none"}),0==t.animationHideDuration&&a.css({top:l}),t._raiseEvent("1",i)}):(!e.jqx.browser.msie,a.stop().animate({left:h},t.animationHideDuration,function(){if(0==t.animationHideDuration&&a.css({left:h}),i.level>0){e(i.element).removeClass(t.toThemeProperty("jqx-fill-state-pressed")),e(i.element).removeClass(t.toThemeProperty("jqx-menu-item-selected"));var r=e(i.arrow);r.length>0&&(r.removeClass(),"left"!=i.openHorizontalDirection?(r.addClass(t.toThemeProperty("jqx-menu-item-arrow-"+t._getDir("right"))),r.addClass(t.toThemeProperty("jqx-icon-arrow-"+t._getDir("right")))):(r.addClass(t.toThemeProperty("jqx-menu-item-arrow-"+t._getDir("left"))),r.addClass(t.toThemeProperty("jqx-icon-arrow-"+t._getDir("left")))))}else{e(i.element).removeClass(t.toThemeProperty("jqx-fill-state-pressed")),e(i.element).removeClass(t.toThemeProperty("jqx-menu-item-top-selected"));var r=e(i.arrow);r.length>0&&(r.removeClass(),"left"!=i.openHorizontalDirection?(r.addClass(t.toThemeProperty("jqx-menu-item-arrow-top-"+t._getDir("right"))),r.addClass(t.toThemeProperty("jqx-icon-arrow-"+t._getDir("right")))):(r.addClass(t.toThemeProperty("jqx-menu-item-arrow-top-"+t._getDir("left"))),r.addClass(t.toThemeProperty("jqx-icon-arrow-"+t._getDir("left")))))}e.jqx.aria(e(i.element),"aria-expanded",!1),d.css({display:"none"}),t._raiseEvent("1",i)}))};if(c>0?a.data("timer")&&(a.data("timer").hide=setTimeout(function(){u()},c)):u(),void 0!=r&&r){var p=a.children();e.each(p,function(){if(t.menuElements[this.id]&&t.menuElements[this.id].isOpen){e(t.menuElements[this.id].subMenuElement);t._closeItem(t,t.menuElements[this.id],!0,!0)}})}}},getSubItems:function(t,i){if(null==t)return!1;var r=this,s=new Array;null!=i&&e.extend(s,i);var a=t,n=this.menuElements[a],o=e(n.subMenuElement),l=o.find(".jqx-menu-item");return e.each(l,function(){s[this.id]=r.menuElements[this.id];var t=r.getSubItems(this.id,s);e.extend(s,t)}),s},disable:function(t,i){if(null!=t){var r=t,s=this;if(this.menuElements[r]){var a=this.menuElements[r];a.disabled=i;var n=e(a.element);a.element.disabled=i,e.each(n.children(),function(){this.disabled=i}),i?(n.addClass(s.toThemeProperty("jqx-menu-item-disabled")),n.addClass(s.toThemeProperty("jqx-fill-state-disabled"))):(n.removeClass(s.toThemeProperty("jqx-menu-item-disabled")),n.removeClass(s.toThemeProperty("jqx-fill-state-disabled")))}}},getItem:function(e){if(this.menuElements[e]){var t=this.menuElements[e];return t}return null},disableItem:function(e){this.disable(e,!0)},hideItem:function(t){if(this.menuElements[t]){var i=this.menuElements[t];e(i.element).hide()}},showItem:function(t){if(this.menuElements[t]){var i=this.menuElements[t];e(i.element).show()}},enableItem:function(e){this.disable(e,!1)},_setItemProperty:function(e,t,i){if(null!=e){var r=e;if(this.menuElements[r]){var s=this.menuElements[r];s[t]&&(s[t]=i)}}},setItemOpenDirection:function(t,i,r){if(null!=t){var s=t,a=this,n=e.jqx.browser.msie&&e.jqx.browser.version<8;if(this.menuElements[s]){var o=this.menuElements[s];if(null!=i&&(o.openHorizontalDirection=i,o.hasItems&&o.level>0)){var l=e(o.element);if(void 0!=l){var h=e(o.arrow);null==o.arrow&&(h=e('<span id="arrow'+l[0].id+'"></span>'),n?h.appendTo(l):h.prependTo(l),o.arrow=h[0]),h.removeClass(),"left"==o.openHorizontalDirection?(h.addClass(a.toThemeProperty("jqx-menu-item-arrow-"+a._getDir("left"))),h.addClass(a.toThemeProperty("jqx-icon-arrow-"+a._getDir("left")))):(h.addClass(a.toThemeProperty("jqx-menu-item-arrow-"+a._getDir("right"))),h.addClass(a.toThemeProperty("jqx-icon-arrow-"+a._getDir("right")))),h.css("visibility","inherit"),n?(h.css("display","inline-block"),h.css("float","none")):(h.css("display","block"),h.css("float","right"))}}if(null!=r){o.openVerticalDirection=r;var h=e(o.arrow),l=e(o.element);if(!a.showTopLevelArrows)return;void 0!=l&&(null==o.arrow&&(h=e('<span id="arrow'+l[0].id+'"></span>'),n?h.appendTo(l):h.prependTo(l),o.arrow=h[0]),h.removeClass(),"down"==o.openVerticalDirection?(h.addClass(a.toThemeProperty("jqx-menu-item-arrow-down")),h.addClass(a.toThemeProperty("jqx-icon-arrow-down"))):(h.addClass(a.toThemeProperty("jqx-menu-item-arrow-up")),h.addClass(a.toThemeProperty("jqx-icon-arrow-up"))),h.css("visibility","inherit"),n?(h.css("display","inline-block"),h.css("float","none")):(h.css("display","block"),h.css("float","right")))}}}},_getSiblings:function(e){for(var t=new Array,i=0,r=0;r<this.items.length;r++)this.items[r]!=e&&this.items[r].parentId==e.parentId&&this.items[r].hasItems&&(t[i++]=this.items[r]);return t},_openItem:function(t,i,r){if(null==t||null==i)return!1;if(i.isOpen)return!1;if(i.disabled)return!1;if(t.disabled)return!1;var s=t.popupZIndex;void 0!=r&&(s=r);var a=t.animationHideDuration;t.animationHideDuration=0,t._closeItem(t,i,!0,!0),t.animationHideDuration=a,e(i.element).focus();var n=[5,5],o=e(i.subMenuElement);null!=o&&o.stop(),o.data("timer")&&null!=o.data("timer").hide&&clearTimeout(o.data("timer").hide);var l=o.closest("div.jqx-menu-popup"),h=e(i.element),d=0==i.level?this._getOffset(i.element):h.position();if(i.level>0&&this.hasTransform){var c=parseInt(h.coord().top)-parseInt(this._getOffset(i.element).top);d.top+=c}0==i.level&&"popup"==this.mode&&(d=h.coord());var u=0==i.level&&"horizontal"==this.mode,p=u?d.left:null!=this.menuElements[i.parentId]&&null!=this.menuElements[i.parentId].subMenuElement?parseInt(e(e(this.menuElements[i.parentId].subMenuElement).closest("div.jqx-menu-popup")).outerWidth())-n[0]:parseInt(o.outerWidth());if(l.css({visibility:"visible",display:"block",left:p,top:u?d.top+h.outerHeight():d.top,zIndex:s}),o.css("display","block"),"horizontal"!=this.mode&&0==i.level){var f=this._getOffset(this.element);l.css("left",-1+f.left+this.host.outerWidth()),o.css("left",-o.outerWidth())}else{var m=this._getClosedSubMenuOffset(i);o.css("left",m.left),o.css("top",m.top)}l.css({height:parseInt(o.outerHeight())+parseInt(n[1])+"px"});var g=0,v=0;switch(i.openVerticalDirection){case"up":if(u){o.css("top",o.outerHeight()),g=n[1];var x=parseInt(o.parent().css("padding-bottom"));isNaN(x)&&(x=0),x>0&&l.addClass(this.toThemeProperty("jqx-menu-popup-clear")),o.css("top",o.outerHeight()-x),l.css({display:"block",top:d.top-l.outerHeight(),zIndex:s})}else g=n[1],o.css("top",o.outerHeight()),l.css({display:"block",top:d.top-l.outerHeight()+n[1]+h.outerHeight(),zIndex:s});break;case"center":u?(o.css("top",0),l.css({display:"block",top:d.top-l.outerHeight()/2+n[1],zIndex:s})):(o.css("top",0),l.css({display:"block",top:d.top+h.outerHeight()/2-l.outerHeight()/2+n[1],zIndex:s}))}switch(i.openHorizontalDirection){case this._getDir("left"):u?l.css({left:d.left-(l.outerWidth()-h.outerWidth()-n[0])}):(v=0,o.css("left",l.outerWidth()),l.css({left:d.left-l.outerWidth()+2*i.level}));break;case"center":u?l.css({left:d.left-(l.outerWidth()/2-h.outerWidth()/2-n[0]/2)}):(l.css({left:d.left-(l.outerWidth()/2-h.outerWidth()/2-n[0]/2)}),o.css("left",l.outerWidth()))}if(u){if(parseInt(o.css("top"))==g)return void(i.isOpen=!0)}else if(parseInt(o.css("left"))==v)return void(1==i.isOpen);e.each(t._getSiblings(i),function(){t._closeItem(t,this,!0,!0)});var b=e.data(t.element,"animationHideDelay");t.animationHideDelay=b,this.autoCloseInterval>0&&(null!=this.host.data("autoclose")&&null!=this.host.data("autoclose").close&&clearTimeout(this.host.data("autoclose").close),null!=this.host.data("autoclose")&&(this.host.data("autoclose").close=setTimeout(function(){t._closeAll()},this.autoCloseInterval))),o.data("timer")&&(o.data("timer").show=setTimeout(function(){if(null!=l)if(u){o.stop(),o.css("left",v),!e.jqx.browser.msie,h.addClass(t.toThemeProperty("jqx-fill-state-pressed")),h.addClass(t.toThemeProperty("jqx-menu-item-top-selected")),"down"==i.openVerticalDirection?(e(i.element).addClass(t.toThemeProperty("jqx-rc-b-expanded")),l.addClass(t.toThemeProperty("jqx-rc-t-expanded"))):(e(i.element).addClass(t.toThemeProperty("jqx-rc-t-expanded")),l.addClass(t.toThemeProperty("jqx-rc-b-expanded")));var r=e(i.arrow);r.length>0&&t.showTopLevelArrows&&(r.removeClass(),"down"==i.openVerticalDirection?(r.addClass(t.toThemeProperty("jqx-menu-item-arrow-down-selected")),r.addClass(t.toThemeProperty("jqx-icon-arrow-down"))):(r.addClass(t.toThemeProperty("jqx-menu-item-arrow-up-selected")),r.addClass(t.toThemeProperty("jqx-icon-arrow-up")))),0==t.animationShowDuration?(o.css({top:g}),i.isOpen=!0,t._raiseEvent("0",i),e.jqx.aria(e(i.element),"aria-expanded",!0)):o.animate({top:g},t.animationShowDuration,t.easing,function(){i.isOpen=!0,e.jqx.aria(e(i.element),"aria-expanded",!0),t._raiseEvent("0",i)})}else{if(o.stop(),o.css("top",g),!e.jqx.browser.msie,i.level>0){h.addClass(t.toThemeProperty("jqx-fill-state-pressed")),h.addClass(t.toThemeProperty("jqx-menu-item-selected"));var r=e(i.arrow);r.length>0&&(r.removeClass(),"left"!=i.openHorizontalDirection?(r.addClass(t.toThemeProperty("jqx-menu-item-arrow-"+t._getDir("right")+"-selected")),r.addClass(t.toThemeProperty("jqx-icon-arrow-"+t._getDir("right")))):(r.addClass(t.toThemeProperty("jqx-menu-item-arrow-"+t._getDir("left")+"-selected")),r.addClass(t.toThemeProperty("jqx-icon-arrow-"+t._getDir("left")))))}else{h.addClass(t.toThemeProperty("jqx-fill-state-pressed")),h.addClass(t.toThemeProperty("jqx-menu-item-top-selected"));var r=e(i.arrow);r.length>0&&(r.removeClass(),"left"!=i.openHorizontalDirection?(r.addClass(t.toThemeProperty("jqx-menu-item-arrow-"+t._getDir("right")+"-selected")),r.addClass(t.toThemeProperty("jqx-icon-arrow-"+t._getDir("right")))):(r.addClass(t.toThemeProperty("jqx-menu-item-arrow-"+t._getDir("left")+"-selected")),r.addClass(t.toThemeProperty("jqx-icon-arrow-"+t._getDir("left")))))}!e.jqx.browser.msie,0==t.animationShowDuration?(o.css({left:v}),t._raiseEvent("0",i),i.isOpen=!0,e.jqx.aria(e(i.element),"aria-expanded",!0)):o.animate({left:v},t.animationShowDuration,t.easing,function(){t._raiseEvent("0",i),i.isOpen=!0,e.jqx.aria(e(i.element),"aria-expanded",!0)})}},this.animationShowDelay))},_getDir:function(e){switch(e){case"left":return this.rtl?"right":"left";case"right":return this.rtl?"left":"right"}return"left"},_applyOrientation:function(t,i){var r=this,s=0;if(r.host.removeClass(r.toThemeProperty("jqx-menu-horizontal")),r.host.removeClass(r.toThemeProperty("jqx-menu-vertical")),r.host.removeClass(r.toThemeProperty("jqx-menu")),r.host.removeClass(r.toThemeProperty("jqx-widget")),r.host.addClass(r.toThemeProperty("jqx-widget")),r.host.addClass(r.toThemeProperty("jqx-menu")),void 0!=t&&void 0!=i&&"popup"==i){if(r.host.parent().length>0&&r.host.parent().parent().length>0&&r.host.parent().parent()[0]==document.body){var a=e.data(document.body,"jqxMenuOldHost"+r.element.id);if(null!=a){var n=r.host.closest("div.jqx-menu-wrapper");n.remove(),n.appendTo(a),r.host.css("display","block"),r.host.css("visibility","visible"),n.css("display","block"),n.css("visibility","visible")}}}else void 0==t&&void 0==i&&e.data(document.body,"jqxMenuOldHost"+r.element.id,r.host.parent()[0]);switch(r.autoOpenPopup?"popup"==r.mode?(r.addHandler(e(document),"contextmenu."+r.element.id,function(e){return!1}),r.addHandler(e(document),"mousedown.menu"+r.element.id,function(e){r._openContextMenu(e)})):(r.removeHandler(e(document),"contextmenu."+r.element.id),r.removeHandler(e(document),"mousedown.menu"+r.element.id)):(r.removeHandler(e(document),"contextmenu."+r.element.id),r.removeHandler(e(document),"mousedown.menu"+r.element.id),r.addHandler(e(document),"contextmenu."+r.element.id,function(e){return e.target&&e.target.className.indexOf&&e.target.className.indexOf("jqx-menu")>=0?!1:void 0})),r.rtl&&r.host.addClass(r.toThemeProperty("jqx-rtl")),r.mode){case"horizontal":r.host.addClass(r.toThemeProperty("jqx-widget-header")),r.host.addClass(r.toThemeProperty("jqx-menu-horizontal")),e.each(r.items,function(){var t=this;$element=e(t.element);var i=e(t.arrow);if(i.removeClass(),t.hasItems&&t.level>0){var i=e('<span style="border: none; background-color: transparent;" id="arrow'+$element[0].id+'"></span>');i.prependTo($element),i.css("float",r._getDir("right")),i.addClass(r.toThemeProperty("jqx-menu-item-arrow-"+r._getDir("right"))),i.addClass(r.toThemeProperty("jqx-icon-arrow-"+r._getDir("right"))),t.arrow=i[0]}if(0==t.level){if(e(t.element).css("float",r._getDir("left")),!t.ignoretheme&&t.hasItems&&r.showTopLevelArrows){var i=e('<span style="border: none; background-color: transparent;" id="arrow'+$element[0].id+'"></span>'),a=e.jqx.browser.msie&&e.jqx.browser.version<8;null==t.arrow?a?i.appendTo($element):i.prependTo($element):i=e(t.arrow),"down"==t.openVerticalDirection?(i.addClass(r.toThemeProperty("jqx-menu-item-arrow-down")),i.addClass(r.toThemeProperty("jqx-icon-arrow-down"))):(i.addClass(r.toThemeProperty("jqx-menu-item-arrow-up")),i.addClass(r.toThemeProperty("jqx-icon-arrow-up"))),i.css("visibility","inherit"),a?i.css("display","inline-block"):(i.css("display","block"),i.css("float","right")),t.arrow=i[0]}else if(!t.ignoretheme&&t.hasItems&&!r.showTopLevelArrows&&null!=t.arrow){var i=e(t.arrow);i.remove(),t.arrow=null}s=Math.max(s,$element.height())}});break;case"vertical":case"popup":case"simple":if(r.host.addClass(r.toThemeProperty("jqx-menu-vertical")),e.each(r.items,function(){var t=this;if($element=e(t.element),t.hasItems&&!t.ignoretheme){if(t.arrow&&e(t.arrow).remove(),"simple"==r.mode)return!0;var i=e('<span style="border: none; background-color: transparent;" id="arrow'+$element[0].id+'"></span>');i.prependTo($element),i.css("float","right"),0==t.level?(i.addClass(r.toThemeProperty("jqx-menu-item-arrow-top-"+r._getDir("right"))),i.addClass(r.toThemeProperty("jqx-icon-arrow-"+r._getDir("right")))):(i.addClass(r.toThemeProperty("jqx-menu-item-arrow-"+r._getDir("right"))),i.addClass(r.toThemeProperty("jqx-icon-arrow-"+r._getDir("right")))),t.arrow=i[0]}$element.css("float","none")}),"popup"==r.mode){r.host.addClass(r.toThemeProperty("jqx-widget-content")),r.host.wrap('<div tabindex=0 class="jqx-menu-wrapper" style="z-index:'+r.popupZIndex+'; border: none; background-color: transparent; padding: 0px; margin: 0px; position: absolute; top: 0; left: 0; display: block; visibility: visible;"></div>');var n=r.host.closest("div.jqx-menu-wrapper");r.host.addClass(r.toThemeProperty("jqx-popup")),n[0].id="menuWrapper"+r.element.id,n.appendTo(e(document.body)),r.addHandler(n,"keydown",function(e){return r.handleKeyDown(e)})}else r.host.addClass(r.toThemeProperty("jqx-widget-header"));if("popup"==r.mode){var o=r.host.height();r.host.css("position","absolute"),r.host.css("top","0"),r.host.css("left","0"),"simple"!=r.mode&&(r.host.height(o),r.host.css("display","none"))}}var l=r.isTouchDevice();r.autoCloseOnClick&&(r.removeHandler(e(document),"mousedown.menu"+r.element.id,r._closeAfterClick),r.addHandler(e(document),"mousedown.menu"+r.element.id,r._closeAfterClick,r),l&&(r.removeHandler(e(document),e.jqx.mobile.getTouchEventName("touchstart")+".menu"+r.element.id,r._closeAfterClick,r),r.addHandler(e(document),e.jqx.mobile.getTouchEventName("touchstart")+".menu"+r.element.id,r._closeAfterClick,r)))},_getBodyOffset:function(){var t=0,i=0;return"0px"!=e("body").css("border-top-width")&&(t=parseInt(e("body").css("border-top-width")),isNaN(t)&&(t=0)),"0px"!=e("body").css("border-left-width")&&(i=parseInt(e("body").css("border-left-width")),isNaN(i)&&(i=0)),{left:i,top:t}},_getOffset:function(t){var i=e.jqx.mobile.isSafariMobileBrowser(),r=e(t).coord(!0),s=r.top,a=r.left;"0px"!=e("body").css("border-top-width")&&(s=parseInt(s)+this._getBodyOffset().top),"0px"!=e("body").css("border-left-width")&&(a=parseInt(a)+this._getBodyOffset().left);var n=e.jqx.mobile.isWindowsPhone(),o=e.jqx.mobile.isTouchDevice();if(this.hasTransform||null!=i&&i||n||o){var l={left:e.jqx.mobile.getLeftPos(t),top:e.jqx.mobile.getTopPos(t)};return l}return{left:a,top:s}},_isRightClick:function(e){var t;if(!e)var e=window.event;return e.which?t=3==e.which:e.button&&(t=2==e.button),t},_openContextMenu:function(e){var t=this,i=t._isRightClick(e);i&&t.open(parseInt(e.clientX)+5,parseInt(e.clientY)+5)},close:function(){var t=this,i=e.data(this.element,"contextMenuOpened"+this.element.id);if(i){this.host;e.each(t.items,function(){var e=this;e.hasItems&&t._closeItem(t,e)}),e.each(t.items,function(){var t=this;if(1==t.isOpen){$submenu=e(t.subMenuElement);var i=$submenu.closest("div.jqx-menu-popup");i.hide(this.animationHideDuration)}}),this.host.hide(this.animationHideDuration),e.data(t.element,"contextMenuOpened"+this.element.id,!1),t._raiseEvent("1",t),t._raiseEvent("5")}},open:function(t,i){if("popup"==this.mode){var r=0;"block"==this.host.css("display")&&(this.close(),r=this.animationHideDuration);var s=this;void 0!=t&&null!=t||(t=0),void 0!=i&&null!=i||(i=0),setTimeout(function(){s.host.show(s.animationShowDuration),s.host.css("visibility","visible"),e.data(s.element,"contextMenuOpened"+s.element.id,!0),s._raiseEvent("0",s),s._raiseEvent("4",{left:t,top:i}),s.host.css("z-index",9999),void 0!=t&&void 0!=i&&s.host.css({left:t,top:i}),s.focus()},r)}},_renderHover:function(e,t,i){var r=this;t.ignoretheme||(this.addHandler(e,"mouseenter",function(){r.hoveredItem=t,t.disabled||t.separator||!r.enableHover||r.disabled||(t.level>0?(e.addClass(r.toThemeProperty("jqx-fill-state-hover")),
e.addClass(r.toThemeProperty("jqx-menu-item-hover"))):(e.addClass(r.toThemeProperty("jqx-fill-state-hover")),e.addClass(r.toThemeProperty("jqx-menu-item-top-hover"))))}),this.addHandler(e,"mouseleave",function(){t.disabled||t.separator||!r.enableHover||r.disabled||(t.level>0?(e.removeClass(r.toThemeProperty("jqx-fill-state-hover")),e.removeClass(r.toThemeProperty("jqx-menu-item-hover"))):(e.removeClass(r.toThemeProperty("jqx-fill-state-hover")),e.removeClass(r.toThemeProperty("jqx-menu-item-top-hover"))))}))},_closeAfterClick:function(t){var i=null!=t?t.data:this,r=!1;i.autoCloseOnClick&&(e.each(e(t.target).parents(),function(){return this.className.indexOf&&-1!=this.className.indexOf("jqx-menu")?(r=!0,!1):void 0}),r||(t.data=i,i._closeAll(t)))},_autoSizeHorizontalMenuItems:function(){var t=this;if(t.autoSizeMainItems&&"horizontal"==this.mode){var i=this.maxHeight;parseInt(i)>parseInt(this.host.height())&&(i=parseInt(this.host.height())),i=parseInt(this.host.height()),e.each(this.items,function(){var r=this;if($element=e(r.element),0==r.level&&i>0){var s=$element.children().length>0?parseInt($element.children().height()):$element.height(),a=t.host.find("ul:first"),n=parseInt(a.css("padding-top")),o=parseInt(a.css("margin-top")),l=i-2*(o+n),h=parseInt(l)/2-s/2,d=parseInt(h),c=parseInt(h);if($element.css("padding-top",d),$element.css("padding-bottom",c),parseInt($element.outerHeight())>l){var u=1;$element.css("padding-top",d-u),d-=u}}})}e.each(this.items,function(){var t=this;if($element=e(t.element),t.hasItems&&t.level>0&&t.arrow){var i=e(t.arrow),r=e(t.element).height();r>15&&i.css("margin-top",(r-15)/2)}})},_nextVisibleItem:function(e,t){if(null==e||void 0==e)return null;for(var i=e;null!=i;)if(i=i.nextItem,this._isVisible(i)&&!i.disabled&&"separator"!==i.type){if(this.minimized)return i;if(void 0!=t&&i&&i.level!=t)continue;return i}return null},_prevVisibleItem:function(e,t){if(null==e||void 0==e)return null;for(var i=e;null!=i;)if(i=i.prevItem,this._isVisible(i)&&!i.disabled&&"separator"!==i.type){if(this.minimized)return i;if(void 0!=t&&i&&i.level!=t)continue;return i}return null},_parentItem:function(t){if(null==t||void 0==t)return null;var i=t.parentElement;if(!i)return null;var r=null;return e.each(this.items,function(){return this.element==i?(r=this,!1):void 0}),r},_isElementVisible:function(t){return null==t?!1:"none"!=e(t).css("display")&&"hidden"!=e(t).css("visibility")},_isVisible:function(e){if(null==e||void 0==e)return!1;if(!this._isElementVisible(e.element))return!1;var t=this._parentItem(e);if(null==t)return!0;if(this.minimized)return!0;if(null!=t){if(!this._isElementVisible(t.element))return!1;if(!t.isOpen&&!this.minimized)return!1;for(;null!=t;){if(t=this._parentItem(t),null!=t&&!this._isElementVisible(t.element))return!1;if(null!=t&&!t.isOpen)return!1}}return!0},_render:function(t,i){this.disabled&&(this.host.addClass(this.toThemeProperty("jqx-fill-state-disabled")),this.host.addClass(this.toThemeProperty("jqx-menu-disabled"))),void 0==this.host.attr("tabindex")&&this.host.attr("tabindex",0);var r=this.popupZIndex,s=[5,5],a=this;e.data(a.element,"animationHideDelay",a.animationHideDelay);var n=this.isTouchDevice(),o=n&&(e.jqx.mobile.isWindowsPhone()||navigator.userAgent.indexOf("Touch")>=0),l=!1;if(-1!=navigator.platform.toLowerCase().indexOf("win"))if(navigator.userAgent.indexOf("Windows Phone")>=0||navigator.userAgent.indexOf("WPDesktop")>=0||navigator.userAgent.indexOf("IEMobile")>=0||navigator.userAgent.indexOf("ZuneWP7")>=0)this.touchDevice=!0;else if(navigator.userAgent.indexOf("Touch")>=0){var h="MSPointerDown"in window;(h||e.jqx.mobile.isWindowsPhone()||navigator.userAgent.indexOf("ARM")>=0)&&(l=!0,o=!0,a.clickToOpen=!0,a.autoCloseOnClick=!1,a.enableHover=!1)}e.data(document.body,"menuel",this),this.hasTransform=e.jqx.utilities.hasTransform(this.host),this._applyOrientation(t,i),this.removeHandler(this.host,"blur"),this.removeHandler(this.host,"focus"),this.addHandler(this.host,"blur",function(t){if(a.keyboardNavigation&&a.activeItem){if("popup"===a.mode&&document.activeElement&&document.activeElement.className.indexOf("jqx-menu-wrapper")>=0)return;e(a.activeItem.element).removeClass(a.toThemeProperty("jqx-fill-state-focus")),a.activeItem=null}}),this.addHandler(this.host,"focus",function(t){if(a.keyboardNavigation&&!a.activeItem)if(a.hoveredItem)e(a.hoveredItem.element).addClass(a.toThemeProperty("jqx-fill-state-focus")),a.activeItem=a.hoveredItem;else{var i=function(){if(e.jqx.isHidden(e(a.items[0].element))){var t=a._nextVisibleItem(a.items[0],0);t&&(e(t.element).addClass(a.toThemeProperty("jqx-fill-state-focus")),a.activeItem=t)}else e(a.items[0].element).addClass(a.toThemeProperty("jqx-fill-state-focus")),a.activeItem=a.items[0]};a.activeItem?e.jqx.isHidden(e(a.activeItem.element))?(e(a.activeItem.element).removeClass(a.toThemeProperty("jqx-fill-state-focus")),i()):e(a.activeItem.element).addClass(a.toThemeProperty("jqx-fill-state-focus")):i()}}),this.removeHandler(this.host,"keydown"),a.handleKeyDown=function(t){if(!a.keyboardNavigation)return!0;if("input"===t.target.nodeName.toLowerCase())return!0;var i=null,r=null;e.each(a.items,function(){return this.disabled?!0:(this.element.className.indexOf("pressed")>=0&&(r=this),this.element.className.indexOf("focus")>=0?(i=this,!1):void 0)}),!i&&r&&(i=r),i||(e(a.items[0].element).addClass(a.toThemeProperty("jqx-fill-state-focus")),a.activeItem=a.items[0],i=a.activeItem);var s=!1;if(27==t.keyCode){if(t.data=a,a._closeAll(t),i)for(var n=i;null!=n;)n.parentItem?n=n.parentItem:(e(a.activeItem.element).removeClass(a.toThemeProperty("jqx-fill-state-focus")),a.activeItem=n,e(a.activeItem.element).addClass(a.toThemeProperty("jqx-fill-state-focus")),n=n.parentItem);s=!0}if(13==t.keyCode&&i){s=!0,a._raiseEvent("2",{item:i.element,event:t,type:"keyboard"});var o=null!=i.anchor?e(i.anchor):null;if(null!=o&&o.length>0){var l=o.attr("href"),h=o.attr("target");null!=l&&(null!=h?window.open(l,h):window.location=l)}t.preventDefault(),t.stopPropagation(),e(i.element).focus()}var d=function(e){if(null==e)return new Array;for(var t=new Array,i=0,r=0;r<a.items.length;r++)a.items[r].parentId==e.parentId&&(t[i++]=a.items[r]);return t},c="";switch(t.keyCode){case 40:c="down";break;case 38:c="up";break;case 39:c="right";break;case 37:c="left"}if(i&&"left"===i.openHorizontalDirection&&"left"===c&&(c="right"),i&&"left"===i.openHorizontalDirection&&"right"===c&&(c="left"),i&&"top"===i.openVerticalDirection&&"top"===c&&(c="bottom"),i&&"top"===i.openVerticalDirection&&"bottom"===c&&(c="top"),a.rtl&&("right"===c?c="left":"left"===c&&(c="right")),"right"===c&&!a.minimized){if(t.altKey&&(0!=i.level&&i.hasItems||"horizontal"!=a.mode))a._openItem(a,i);else{var u=a._nextVisibleItem(i,0),p=a._nextVisibleItem(i),f=d(p);u||(u=p),u&&(u.parentId===i.parentId&&0==u.level&&"horizontal"==a.mode||p.id==f[0].id&&0!=p.level)&&(p.id==f[0].id&&(0!=i.level||0==i.level&&"horizontal"!=a.mode)&&(u=p),e(u.element).addClass(a.toThemeProperty("jqx-fill-state-focus")),e(i.element).removeClass(a.toThemeProperty("jqx-fill-state-focus")),a.activeItem=u)}t.preventDefault(),t.stopPropagation()}if("left"===c&&!a.minimized){if(t.altKey&&(0!=i.level&&"horizontal"!==a.mode||i.level>1&&"horizontal"===a.mode||1==i.level&&i.hasItems&&"horizontal"===a.mode))i.hasItems?a._closeItem(a,i):i.parentItem&&(a._closeItem(a,i.parentItem),e(i.parentItem.element).addClass(a.toThemeProperty("jqx-fill-state-focus")),e(i.element).removeClass(a.toThemeProperty("jqx-fill-state-focus")),a.activeItem=i.parentItem);else{var u=a._prevVisibleItem(i,0),m=i.parentItem;u&&u.parentId===i.parentId&&0==u.level&&"horizontal"==a.mode?(e(u.element).addClass(a.toThemeProperty("jqx-fill-state-focus")),e(i.element).removeClass(a.toThemeProperty("jqx-fill-state-focus")),a.activeItem=u):m&&0==m.level&&"horizontal"==a.mode||!m||m.level!=i.level-1||(e(m.element).addClass(a.toThemeProperty("jqx-fill-state-focus")),e(i.element).removeClass(a.toThemeProperty("jqx-fill-state-focus")),a.activeItem=m)}t.preventDefault(),t.stopPropagation()}if("down"===c){if(t.altKey)0==i.level&&i.hasItems&&a._openItem(a,i),a.minimized&&a.minimizedHidden&&a.minimizedItem.trigger("click");else{var u=a._nextVisibleItem(i,i.level),f=d(u);if(a.minimized&&u)e(u.element).addClass(a.toThemeProperty("jqx-fill-state-focus")),e(i.element).removeClass(a.toThemeProperty("jqx-fill-state-focus")),a.activeItem=u;else if(u&&(u.parentId===i.parentId||u.id==f[0].id&&"horizontal"==a.mode)&&(0==u.level&&"horizontal"==a.mode||(e(u.element).addClass(a.toThemeProperty("jqx-fill-state-focus")),e(i.element).removeClass(a.toThemeProperty("jqx-fill-state-focus")),a.activeItem=u)),"horizontal"===a.mode&&0===i.level&&i.isOpen&&i.hasItems){var u=a._nextVisibleItem(i);e(u.element).addClass(a.toThemeProperty("jqx-fill-state-focus")),e(i.element).removeClass(a.toThemeProperty("jqx-fill-state-focus")),a.activeItem=u}}t.preventDefault(),t.stopPropagation()}else if("up"===c){if(t.altKey)i.parentItem&&0==i.parentItem.level?(a._closeItem(a,i.parentItem),e(i.parentItem.element).addClass(a.toThemeProperty("jqx-fill-state-focus")),e(i.element).removeClass(a.toThemeProperty("jqx-fill-state-focus")),a.activeItem=i.parentItem):null===i.parentItem&&0===i.level&&"horizontal"===a.mode&&a._closeItem(a,i),a.minimized&&(a.minimizedHidden||a.minimizedItem.trigger("click"));else{var u=a._prevVisibleItem(i,i.level),f=d(i);if(a.minimized&&u)e(u.element).addClass(a.toThemeProperty("jqx-fill-state-focus")),e(i.element).removeClass(a.toThemeProperty("jqx-fill-state-focus")),a.activeItem=u;else if(u&&(u.parentId===i.parentId||u.id==i.parentId&&0==u.level&&"horizontal"==a.mode))0==u.level&&"horizontal"===a.mode&&0===i.level||(e(u.element).addClass(a.toThemeProperty("jqx-fill-state-focus")),e(i.element).removeClass(a.toThemeProperty("jqx-fill-state-focus")),a.activeItem=u);else if(i&&i.id==f[0].id&&i.parentItem&&0===i.parentItem.level&&"horizontal"===a.mode){var u=i.parentItem;e(u.element).addClass(a.toThemeProperty("jqx-fill-state-focus")),e(i.element).removeClass(a.toThemeProperty("jqx-fill-state-focus")),a.activeItem=u}}t.preventDefault(),t.stopPropagation()}if(9==t.keyCode){var u=t.shiftKey?a._prevVisibleItem(i):a._nextVisibleItem(i);if(u)e(u.element).addClass(a.toThemeProperty("jqx-fill-state-focus")),e(i.element).removeClass(a.toThemeProperty("jqx-fill-state-focus")),a.activeItem=u,t.preventDefault(),t.stopPropagation();else if(a.lockFocus){for(var f=new Array,g=0,v=0;v<a.items.length;v++)a.items[v]!=i&&a.items[v].parentId==i.parentId&&(f[g++]=a.items[v]);f.length>0&&(t.shiftKey?(e(f[f.length-1].element).addClass(a.toThemeProperty("jqx-fill-state-focus")),a.activeItem=f[f.length-1]):(e(f[0].element).addClass(a.toThemeProperty("jqx-fill-state-focus")),a.activeItem=f[0]),e(i.element).removeClass(a.toThemeProperty("jqx-fill-state-focus"))),t.preventDefault(),t.stopPropagation()}else i&&(e(i.element).removeClass(a.toThemeProperty("jqx-fill-state-focus")),a.activeItem=null)}},this.addHandler(this.host,"keydown",function(e){a.handleKeyDown(e)}),a.enableRoundedCorners&&this.host.addClass(a.toThemeProperty("jqx-rc-all")),e.each(this.items,function(){var t=this,i=e(t.element);if(i.attr("role","menuitem"),a.enableRoundedCorners&&i.addClass(a.toThemeProperty("jqx-rc-all")),a.removeHandler(i,"click"),a.addHandler(i,"click",function(i){if(!t.disabled&&!a.disabled&&(a.keyboardNavigation&&(a.activeItem&&e(a.activeItem.element).removeClass(a.toThemeProperty("jqx-fill-state-focus")),a.activeItem=t,e(t.element).addClass(a.toThemeProperty("jqx-fill-state-focus")),a.minimized&&i.stopPropagation()),a._raiseEvent("2",{type:"mouse",item:t.element,event:i}),a.autoOpen?!a.autoCloseOnClick||n||a.clickToOpen||t.closeOnClick&&(i.data=a,a._closeAll(i)):t.level>0&&(!a.autoCloseOnClick||n||a.clickToOpen||(i.data=a,a._closeAll(i))),n&&a.autoCloseOnClick&&(i.data=a,t.hasItems||a._closeAll(i)),"A"!=i.target.tagName&&"a"!=i.target.tagName)){var r=null!=t.anchor?e(t.anchor):null;if(null!=r&&r.length>0){var s=r.attr("href"),o=r.attr("target");null!=s&&(null!=o?window.open(s,o):window.location=s)}}}),a.removeHandler(i,"mouseenter"),a.removeHandler(i,"mouseleave"),o||"simple"==a.mode||a._renderHover(i,t,n),null!=t.subMenuElement){var l=e(t.subMenuElement);if("simple"==a.mode)return l.show(),!0;l.wrap('<div class="jqx-menu-popup '+a.toThemeProperty("jqx-menu-popup")+'" style="border: none; background-color: transparent; z-index:'+r+'; padding: 0px; margin: 0px; position: absolute; top: 0; left: 0; display: block; visibility: hidden;"><div style="background-color: transparent; border: none; position:absolute; overflow:hidden; left: 0; top: 0; right: 0; width: 100%; height: 100%;"></div></div>'),l.css({overflow:"hidden",position:"absolute",left:0,display:"inherit",top:-l.outerHeight()}),l.data("timer",{}),t.level>0?l.css("left",-l.outerWidth()):"horizontal"==a.mode&&l.css("left",0),r++;var h=e(t.subMenuElement).closest("div.jqx-menu-popup").css({width:parseInt(e(t.subMenuElement).outerWidth())+parseInt(s[0])+"px",height:parseInt(e(t.subMenuElement).outerHeight())+parseInt(s[1])+"px"}),d=i.closest("div.jqx-menu-popup");if(d.length>0){var c=l.css("margin-left"),u=l.css("margin-right"),p=l.css("padding-left"),f=l.css("padding-right");h.appendTo(d),l.css("margin-left",c),l.css("margin-right",u),l.css("padding-left",p),l.css("padding-right",f)}else{var c=l.css("margin-left"),u=l.css("margin-right"),p=l.css("padding-left"),f=l.css("padding-right");h.appendTo(e(document.body)),l.css("margin-left",c),l.css("margin-right",u),l.css("padding-left",p),l.css("padding-right",f)}a.clickToOpen?(a.removeHandler(i,"mousedown"),a.addHandler(i,"mousedown",function(e){clearTimeout(l.data("timer").hide),null!=l&&l.stop(),0!=t.level||t.isOpen||(e.data=a,a._closeAll(e)),t.isOpen?a._closeItem(a,t,!0):a._openItem(a,t)})):((n||o)&&(a.removeHandler(i,e.jqx.mobile.getTouchEventName("touchstart")),a.addHandler(i,e.jqx.mobile.getTouchEventName("touchstart"),function(e){return clearTimeout(l.data("timer").hide),null!=l&&l.stop(),0!=t.level||t.isOpen||"popup"==a.mode||(e.data=a,a._closeAll(e)),t.isOpen?a._closeItem(a,t,!0):a._openItem(a,t),!1})),o||(a.addHandler(i,"mouseenter",function(){if((a.autoOpen||t.level>0&&!a.autoOpen)&&clearTimeout(l.data("timer").hide),t.parentId&&0!=t.parentId&&a.menuElements[t.parentId]){var e=a.menuElements[t.parentId].isOpen;if(!e)return}return(a.autoOpen||t.level>0&&!a.autoOpen)&&a._openItem(a,t),!1}),a.addHandler(i,"mousedown",function(){a.autoOpen||0!=t.level||(clearTimeout(l.data("timer").hide),null!=l&&l.stop(),t.isOpen?a._closeItem(a,t,!0):a._openItem(a,t))}),a.addHandler(i,"mouseleave",function(i){if(a.autoCloseOnMouseLeave){clearTimeout(l.data("timer").hide);var r=e(t.subMenuElement),s={left:parseInt(i.pageX),top:parseInt(i.pageY)},n={left:parseInt(r.coord().left),top:parseInt(r.coord().top),width:parseInt(r.outerWidth()),height:parseInt(r.outerHeight())},o=!0;n.left-5<=s.left&&s.left<=n.left+n.width+5&&n.top<=s.top&&s.top<=n.top+n.height&&(o=!1),o&&a._closeItem(a,t,!0)}}),a.removeHandler(h,"mouseenter"),a.addHandler(h,"mouseenter",function(){clearTimeout(l.data("timer").hide)}),a.removeHandler(h,"mouseleave"),a.addHandler(h,"mouseleave",function(e){a.autoCloseOnMouseLeave&&(clearTimeout(l.data("timer").hide),clearTimeout(l.data("timer").show),null!=l&&l.stop(),a._closeItem(a,t,!0))})))}}),"simple"==this.mode&&this._renderSimpleMode(),this._autoSizeHorizontalMenuItems(),this._raiseEvent("3",this)},_renderSimpleMode:function(){this.host.show()},createID:function(){var e=Math.random()+"";for(e=e.replace(".",""),e="99"+e,e/=1;this.items[e];)e=Math.random()+"",e=e.replace(".",""),e/=1;return"menuItem"+e},_createMenu:function(t,i){if(null!=t){void 0==i&&(i=!0),null==i&&(i=!0);e(t).addClass("jqx-menu-ul");var r=e(t).find("li"),s=0;this.itemMapping=new Array;for(var a=0;a<r.length;a++){var n=r[a],o=e(n);if(-1!=n.className.indexOf("jqx-menu")||0!=this.autoGenerate){var l=n.id;l||(l=this.createID()),i&&(n.id=l,this.items[s]=new e.jqx._jqxMenu.jqxMenuItem,this.menuElements[l]=this.items[s]),s+=1;var h=0,d=this,c=o.children();c.each(function(){return i||(this.className="",d.autoGenerate&&(e(d.items[s-1].subMenuElement)[0].className="",d.minimized||e(d.items[s-1].subMenuElement).addClass(d.toThemeProperty("jqx-widget-content")),e(d.items[s-1].subMenuElement).addClass(d.toThemeProperty("jqx-menu-dropdown")),e(d.items[s-1].subMenuElement).addClass(d.toThemeProperty("jqx-popup")))),-1!=this.className.indexOf("jqx-menu-dropdown")?(i&&(d.items[s-1].subMenuElement=this),!1):!d.autoGenerate||"ul"!=this.tagName&&"UL"!=this.tagName?void 0:(i&&(d.items[s-1].subMenuElement=this),this.className="",d.minimized||e(this).addClass(d.toThemeProperty("jqx-widget-content")),e(this).addClass(d.toThemeProperty("jqx-menu-dropdown")),e(this).addClass(d.toThemeProperty("jqx-popup")),e(this).attr("role","menu"),d.rtl?e(this).addClass(d.toThemeProperty("jqx-rc-l")):e(this).addClass(d.toThemeProperty("jqx-rc-r")),e(this).addClass(d.toThemeProperty("jqx-rc-b")),!1)});var u=o.parents();u.each(function(){return-1!=this.className.indexOf("jqx-menu-item")?(h=this.id,!1):!d.autoGenerate||"li"!=this.tagName&&"LI"!=this.tagName?void 0:(h=this.id,!1)});var p=!1,f=n.getAttribute("type"),m=n.getAttribute("ignoretheme")||n.getAttribute("data-ignoretheme");if(m?"true"!=m&&1!=m||(m=!0):m=!1,f){if("separator"==f)var p=!0}else f=n.type;p||(f=h?"sub":"top");var g=this.items[s-1];if(i){g.id=l,g.parentId=h,g.type=f,g.separator=p,g.element=r[a];var v=o.children("a");g.disabled="true"==n.getAttribute("item-disabled"),g.level=o.parents("li").length,g.anchor=v.length>0?v:null,g.anchor&&e(g.anchor).attr("tabindex",-1)}g.ignoretheme=m;var x=this.menuElements[h];null!=x&&(x.ignoretheme&&(g.ignoretheme=x.ignoretheme,m=x.ignoretheme),g.parentItem=x,g.parentElement=x.element),this.autoGenerate&&("separator"==f?(o.removeClass(),o.addClass(this.toThemeProperty("jqx-menu-item-separator")),o.attr("role","separator")):m||(o[0].className.indexOf("jqx-grid-menu-item-touch")>=0?o[0].className=this.toThemeProperty("jqx-grid-menu-item-touch"):o[0].className="",this.rtl&&o.addClass(this.toThemeProperty("jqx-rtl")),g.level>0&&!d.minimized?(o.addClass(this.toThemeProperty("jqx-item")),o.addClass(this.toThemeProperty("jqx-menu-item"))):(o.addClass(this.toThemeProperty("jqx-item")),o.addClass(this.toThemeProperty("jqx-menu-item-top"))))),g.disabled&&(o.addClass(d.toThemeProperty("jqx-menu-item-disabled")),o.addClass(d.toThemeProperty("jqx-fill-state-disabled"))),this.itemMapping[a]={element:r[a],item:g},this.itemMapping["id"+r[a].id]=this.itemMapping[a],i&&!m&&(g.hasItems=o.find("li").length>0,g.hasItems&&g.element&&(e.jqx.aria(e(g.element),"aria-haspopup",!0),g.subMenuElement.id||(g.subMenuElement.id=e.jqx.utilities.createId()),e.jqx.aria(e(g.element),"aria-owns",g.subMenuElement.id)))}}for(var b=0;b<r.length;b++){var w=r[b];if(this.itemMapping["id"+w.id]){var g=this.itemMapping["id"+w.id].item;if(!g)continue;g.prevItem=null,g.nextItem=null,b>0&&this.itemMapping["id"+r[b-1].id]&&(g.prevItem=this.itemMapping["id"+r[b-1].id].item),b<r.length-1&&this.itemMapping["id"+r[b+1].id]&&(g.nextItem=this.itemMapping["id"+r[b+1].id].item)}}}},destroy:function(){var t=this;e.jqx.utilities.resize(t.host,null,!0);var i=t.host.closest("div.jqx-menu-wrapper");t.removeHandler(i,"keydown"),i.remove(),t.removeHandler(e("#menuWrapper"+t.element.id),"keydown"),e("#menuWrapper"+t.element.id).remove(),t.removeHandler(t.host,"keydown"),t.removeHandler(t.host,"focus"),t.removeHandler(t.host,"blur"),t.removeHandler(e(document),"mousedown.menu"+t.element.id,t._closeAfterClick),t.removeHandler(e(document),"mouseup.menu"+t.element.id,t._closeAfterClick),t.removeHandler(e(document),"contextmenu."+t.element.id),t.removeHandler(t.host,"contextmenu."+t.element.id),e.data(document.body,"jqxMenuOldHost"+t.element.id,null),t.isTouchDevice()&&t.removeHandler(e(document),e.jqx.mobile.getTouchEventName("touchstart")+".menu"+t.element.id,t._closeAfterClick,this),e(window).off&&e(window).off("resize.menu"+t.element.id),e.each(t.items,function(){var i=this,r=e(i.element);t.removeHandler(r,"click"),t.removeHandler(r,"selectstart"),t.removeHandler(r,"mouseenter"),t.removeHandler(r,"mouseleave"),t.removeHandler(r,"mousedown"),t.removeHandler(r,"mouseleave");var s=e(i.subMenuElement),a=s.closest("div.jqx-menu-popup");a.remove(),delete this.subMenuElement,delete this.element}),e.data(document.body,"menuel",null),delete t.menuElements,t.items=new Array,delete t.items;var r=e.data(t.element,"jqxMenu");r&&delete r.instance,t.host.removeClass(),t.host.remove(),delete t.host,delete t.element},_raiseEvent:function(t,i){void 0==i&&(i={owner:null});var r=this.events[t];args=i,args.owner=this;var s=new e.Event(r);"2"==t&&(args=i.item,args.owner=this,args.clickType=i.type,e.extend(s,i.event),s.type="itemclick"),s.owner=this,s.args=args;var a=this.host.trigger(s);return a},propertiesChangedHandler:function(t,i,r){if(r.width&&r.height&&2==Object.keys(r).length&&(t._setSize(),"popup"===t.mode)){var s=this.host.closest("div.jqx-menu-wrapper");s[i](r);var a=this.host[0].id;e("#"+a)[i](r)}},propertyChangedHandler:function(t,i,r,s){if(void 0!=this.isInitialized&&0!=this.isInitialized&&!(t.batchUpdate&&t.batchUpdate.width&&t.batchUpdate.height&&2==Object.keys(t.batchUpdate).length)&&("disabled"==i&&(t.disabled?(t.host.addClass(t.toThemeProperty("jqx-fill-state-disabled")),t.host.addClass(t.toThemeProperty("jqx-menu-disabled"))):(t.host.removeClass(t.toThemeProperty("jqx-fill-state-disabled")),t.host.removeClass(t.toThemeProperty("jqx-menu-disabled")))),s!=r))if("touchMode"==i&&(this._isTouchDevice=null,t._render(s,r)),"width"!==i&&"height"!==i){if("source"==i&&null!=t.source){var a=t.loadItems(t.source);t.element.innerHTML=a;var n=t.host.find("ul:first");n.length>0&&(t.refresh(),t._createMenu(n[0]),t._render())}"autoCloseOnClick"==i?0==s?t.removeHandler(e(document),"mousedown.menu"+this.element.id,t._closeAll):t.addHandler(e(document),"mousedown.menu"+this.element.id,t,t._closeAll):"mode"==i||"width"==i||"height"==i||"showTopLevelArrows"==i?(t.refresh(),"mode"==i?t._render(s,r):t._applyOrientation()):"theme"==i&&e.jqx.utilities.setTheme(r,s,t.host)}else if(t._setSize(),"popup"===t.mode){var o=this.host.closest("div.jqx-menu-wrapper");o[i](s);var l=this.host[0].id;e("#"+l)[i](s)}}})}(jqxBaseFramework),function(e){e.jqx._jqxMenu.jqxMenuItem=function(e,t,i){var r={id:e,parentId:t,parentItem:null,anchor:null,type:i,disabled:!1,level:0,isOpen:!1,hasItems:!1,element:null,subMenuElement:null,arrow:null,openHorizontalDirection:"right",openVerticalDirection:"down",closeOnClick:!0};return r}}(jqxBaseFramework),function(e){e.jqx.jqxWidget("jqxCalendar","",{}),e.extend(e.jqx._jqxCalendar.prototype,{defineInstance:function(){var t={disabled:!1,restrictedDates:new Array,multipleMonthRows:1,multipleMonthColumns:1,minDate:e.jqx._jqxDateTimeInput.getDateTime(new Date),maxDate:e.jqx._jqxDateTimeInput.getDateTime(new Date),min:new Date(1900,0,1),max:new Date(2100,0,1),navigationDelay:400,stepMonths:1,width:null,height:null,value:e.jqx._jqxDateTimeInput.getDateTime(new Date),firstDayOfWeek:0,showWeekNumbers:!1,showDayNames:!0,enableWeekend:!1,enableOtherMonthDays:!0,showOtherMonthDays:!0,rowHeaderWidth:25,columnHeaderHeight:20,titleHeight:30,dayNameFormat:"firstTwoLetters",monthNameFormat:"default",titleFormat:["MMMM yyyy","yyyy","yyyy","yyyy"],enableViews:!0,readOnly:!1,culture:"default",enableFastNavigation:!0,enableHover:!0,enableAutoNavigation:!0,enableTooltips:!1,backText:"Back",forwardText:"Forward",specialDates:new Array,keyboardNavigation:!0,selectionMode:"default",selectableDays:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],todayString:"Today",clearString:"Clear",showFooter:!1,selection:{from:null,to:null},canRender:!0,_checkForHiddenParent:!0,height:null,rtl:!1,view:"month",views:["month","year","decade"],changing:null,change:null,localization:{backString:"Back",forwardString:"Forward",todayString:"Today",clearString:"Clear",calendar:{name:"Gregorian_USEnglish","/":"/",":":":",firstDay:0,days:{names:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],namesAbbr:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],namesShort:["Su","Mo","Tu","We","Th","Fr","Sa"]},months:{names:["January","February","March","April","May","June","July","August","September","October","November","December",""],namesAbbr:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec",""]},AM:["AM","am","AM"],PM:["PM","pm","PM"],eras:[{name:"A.D.",start:null,offset:0}],twoDigitYearMax:2029,patterns:{d:"M/d/yyyy",D:"dddd, MMMM dd, yyyy",t:"h:mm tt",T:"h:mm:ss tt",f:"dddd, MMMM dd, yyyy h:mm tt",F:"dddd, MMMM dd, yyyy h:mm:ss tt",M:"MMMM dd",Y:"yyyy MMMM",S:"yyyy'-'MM'-'dd'T'HH':'mm':'ss",ISO:"yyyy-MM-dd hh:mm:ss"}}},events:["backButtonClick","nextButtonClick","valuechanged","cellMouseDown","cellMouseUp","cellSelected","cellUnselected","change","viewChange"]};return this===e.jqx._jqxCalendar.prototype?t:(e.extend(!0,this,t),this.minDate._setYear(1900),this.minDate._setMonth(1),this.minDate._setDay(1),this.minDate._setHours(0),this.minDate._setMinutes(0),this.minDate._setSeconds(0),this.minDate._setMilliseconds(0),this.maxDate._setYear(2100),this.maxDate._setMonth(1),this.maxDate._setDay(1),this.maxDate._setHours(0),this.maxDate._setMinutes(0),this.maxDate._setSeconds(0),this.maxDate._setMilliseconds(0),this.value._setHours(0),this.value._setMinutes(0),this.value._setSeconds(0),this.value._setMilliseconds(0),t)},_createFromInput:function(t){var i=this;if("input"==i.element.nodeName.toLowerCase()){i.field=i.element,i.field.className&&(i._className=i.field.className);var r={title:i.field.title};if(i.field.value&&(r.value=i.field.value),i.field.checked&&(r.checked=!0),i.field.id.length?r.id=i.field.id.replace(/[^\w]/g,"_")+"_"+t:r.id=e.jqx.utilities.createId()+"_"+t,i.field.getAttribute("min")){var s=new Date(i.field.getAttribute("min"));"Invalid Date"!=s&&(i.min=s)}if(i.field.getAttribute("max")){var a=new Date(i.field.getAttribute("max"));"Invalid Date"!=a&&(i.max=a)}var n=e("<div></div>",r);n[0].style.cssText=i.field.style.cssText,i.width||(i.width=e(i.field).width()),i.height||(i.height=e(i.field).outerHeight()),e(i.field).hide().after(n);var o=i.host.data();if(i.host=n,i.host.data(o),i.element=n[0],i.element.id=i.field.id,i.field.id=r.id,i._className&&(i.host.addClass(i._className),e(i.field).removeClass(i._className)),i.field.tabIndex){var l=i.field.tabIndex;i.field.tabIndex=-1,i.element.tabIndex=l}}},createInstance:function(t){var i=this;i._createFromInput("jqxCalendar"),this.setCalendarSize(),""===this.element.id&&(this.element.id=e.jqx.utilities.createId()),"date"==e.type(this.value)&&(this.value=e.jqx._jqxDateTimeInput.getDateTime(this.value)),this.element.innerHTML="",this.host.attr("data-role","calendar");var r=(this.element.id,this);if(this.propertyChangeMap.width=function(e,t,i,s){r.setCalendarSize()},this.propertyChangeMap.height=function(e,t,i,s){r.setCalendarSize()},e.global&&e.global.preferCulture(this.culture),"default"!=this.culture){if(e.global)e.global.preferCulture(this.culture),this.localization.calendar=e.global.culture.calendar;else if(Globalize){var s=Globalize.culture(this.culture);this.localization.calendar=s.calendar}this.firstDayOfWeek=this.localization.calendar.firstDay}"Back"!=this.localization.backString&&(this.backText=this.localization.backString),"Forward"!=this.localization.forwardString&&(this.forwardText=this.localization.forwardString),"Today"!=this.localization.todayString&&this.localization.todayString&&(this.todayString=this.localization.todayString),"Clear"!=this.localization.clearString&&this.localization.clearString&&(this.clearString=this.localization.clearString),this.localization.calendar&&void 0!=this.localization.calendar.firstDay&&"default"!=this.culture&&(this.firstDayOfWeek=this.localization.calendar.firstDay),this.setMaxDate(this.max,!1),this.setMinDate(this.min,!1),this.host.attr("tabIndex")||this.host.attr("tabIndex",0),this.host.css("outline","none"),this.host.addClass(this.toThemeProperty("jqx-calendar")),this.host.addClass(this.toThemeProperty("jqx-widget")),this.host.addClass(this.toThemeProperty("jqx-widget-content")),this.host.addClass(this.toThemeProperty("jqx-rc-all")),this._addInput(),-1==this.views.indexOf("month")&&(this.view="year"),-1==this.views.indexOf("year")&&-1==this.views.indexOf("month")&&(this.view="decade"),this.addHandler(this.host,"keydown",function(e){var t=!0;return r.keyboardNavigation&&void 0!=r._handleKey&&(t=r._handleKey(e),t||(e.stopPropagation&&e.stopPropagation(),e.preventDefault&&e.preventDefault())),t});var a=!1,n=this,o=!1;null!=r.width&&-1!=r.width.toString().indexOf("%")&&(o=!0),null!=r.height&&-1!=r.height.toString().indexOf("%")&&(o=!0),e.jqx.utilities.resize(this.host,function(){var e=n.host.find("#View"+r.element.id);a?n.refreshTitle(e):(a=!0,n.render()),o&&(r.refreshTimer&&clearTimeout(r.refreshTimer),r.refreshTimer=setTimeout(function(){r.refreshControl()},1))},!1,this._checkForHiddenParent);this.propertyChangeMap.disabled=function(e,t,i,s){s?e.host.addClass(r.toThemeProperty("jqx-fill-state-disabled")):e.host.removeClass(r.toThemeProperty("jqx-fill-state-disabled")),r.refreshControl()}},_addInput:function(){var t=this.host.attr("name");this.input=e("<input type='hidden'/>"),this.host.append(this.input),t&&this.input.attr("name",t),this.input.val(this.getDate().toString())},setCalendarSize:function(){null!=this.width&&-1!=this.width.toString().indexOf("px")?this.host.width(this.width):void 0==this.width||isNaN(this.width)||this.host.width(this.width),null!=this.width&&-1!=this.width.toString().indexOf("%")&&this.host.css("width",this.width),null!=this.height&&-1!=this.height.toString().indexOf("px")?this.host.height(this.height):void 0==this.height||isNaN(this.height)||this.host.height(this.height),null!=this.height&&-1!=this.height.toString().indexOf("%")&&this.host.css("height",this.height)},_getYearAndMonthPart:function(e){if(!e)return new Date(1900,0,1);var t=new Date(e.getFullYear(),e.getMonth(),1);return t},_handleKey:function(t){if(this.readOnly)return!0;var i=t.keyCode,r=this._getSelectedDate();if(void 0==r){if("month"!=this.view||37!=i&&38!=i&&39!=i&&40!=i)return!0;this.selectedDate=new Date(this.value.year,this.value.month-1,1),this._selectDate(this.selectedDate,"key"),r=this.selectedDate}if(t.altKey)return!0;if(this._animating)return!1;if("month"!=this.view&&13==i){var s=this._getSelectedCell();this._setDateAndSwitchViews(s,t,"keyboard")}if("year"==this.view){var a=r.getMonth(),n=this._getYearAndMonthPart(this.getMinDate()),o=this._getYearAndMonthPart(this.getMaxDate());switch(i){case 37:if(0==a){var l=new Date(r.getFullYear()-1,11,1);l>=n?(this.selectedDate=l,this.navigateBackward()):this.selectedDate!=n&&(this.selectedDate=n,this.navigateBackward())}else{var l=new Date(r.getFullYear(),a-1,1);l>=n&&this._selectDate(l,"key")}return!1;case 38:var l=new Date(r.getFullYear(),a-4,1);return n>l&&(l=n),0>a-4?(this.selectedDate=l,this.navigateBackward()):this._selectDate(l,"key"),!1;case 40:var l=new Date(r.getFullYear(),a+4,1);return l>o&&(l=o),a+4>11?(this.selectedDate=l,this.navigateForward()):this._selectDate(l,"key"),!1;case 39:if(11==a){var l=new Date(r.getFullYear()+1,0,1);o>=l?(this.selectedDate=l,this.navigateForward()):this.selectedDate!=o&&(this.selectedDate=o,this.navigateForward())}else{var l=new Date(r.getFullYear(),a+1,1);o>=l&&this._selectDate(l,"key")}return!1}return!0}if("decade"==this.view){var h=this._renderStartDate.getFullYear(),d=this._renderEndDate.getFullYear(),c=r.getFullYear(),u=this.getMinDate().getFullYear(),p=this.getMaxDate().getFullYear();switch(i){case 37:return c-1>=u&&(h>=c?(this.selectedDate=new Date(c-1,r.getMonth(),1),this.navigateBackward()):this._selectDate(new Date(c-1,r.getMonth(),1),"key")),!1;case 38:var f=c-4;return u>c-4&&(f=u),h>f?(this.selectedDate=new Date(f,r.getMonth(),1),this.navigateBackward()):this._selectDate(new Date(f,r.getMonth(),1),"key"),
!1;case 40:var f=c+4;return f>p&&(f=p),f>d?(this.selectedDate=new Date(f,r.getMonth(),1),this.navigateForward()):this._selectDate(new Date(f,r.getMonth(),1),"key"),!1;case 39:return p>=c+1&&(c==d?(this.selectedDate=new Date(c+1,r.getMonth(),1),this.navigateForward()):this._selectDate(new Date(c+1,r.getMonth(),1),"key")),!1}return!0}var m=new e.jqx._jqxDateTimeInput.getDateTime(r),g=this.getViewStart(),v=this.getViewEnd(),x=e.data(this.element,"View"+this.element.id);if(void 0==x||null==x)return!0;if(36==i)return m._setDay(1),this._isDisabled(m.dateTime)?!1:(this._selectDate(m.dateTime,"key"),!1);if(35==i){var b=this.value._daysInMonth(this.value.year,this.value.month);return m._setDay(b),this._isDisabled(m.dateTime)?!1:(this._selectDate(m.dateTime,"key"),!1)}var w=1;if(t.ctrlKey&&(w=12),34==i){var y=this.navigateForward(w);if(y){if(m._addMonths(w),this._isDisabled(m.dateTime))return!1;this._selectDate(m.dateTime,"key")}return!1}if(33==i){var y=this.navigateBackward(w);if(y){if(m._addMonths(-w),this._isDisabled(m.dateTime))return!1;this._selectDate(m.dateTime,"key")}return!1}if(38==i){if(m._addDays(-7),m.dateTime<this.getMinDate())return!1;if(m.dateTime<g){var y=this.navigateBackward();if(!y)return!1}if(this._isDisabled(m.dateTime))return!1;this._selectDate(m.dateTime,"key");for(var _=0;_<x.cells.length;_++){var s=x.cells[_],j=s.getDate();if(s.isOtherMonth&&s.isSelected&&j<=m.dateTime){this.value.day=j.getDate(),this.navigateBackward(),this._selectDate(m.dateTime,"key");break}}return!1}if(40==i){if(m._addDays(7),m.dateTime>this.getMaxDate())return!1;if(m.dateTime>v){var y=this.navigateForward();if(!y)return!1}if(this._isDisabled(m.dateTime))return!1;this._selectDate(m.dateTime,"key");for(var _=0;_<x.cells.length;_++){var s=x.cells[_],j=s.getDate();if(s.isOtherMonth&&s.isSelected&&j>=m.dateTime){this.value.day=j.getDate(),this.navigateForward(),this._selectDate(m.dateTime,"key");break}}return!1}if(37==i){if(m._addDays(-1),m.dateTime<this.getMinDate())return!1;if(m.dateTime<g){var y=this.navigateBackward();if(!y)return!1}if(this._isDisabled(m.dateTime))return!1;this._selectDate(m.dateTime,"key");for(var _=0;_<x.cells.length;_++){var s=x.cells[_],j=s.getDate();if(s.isOtherMonth&&s.isSelected&&j<=m.dateTime){if(m.dateTime<this.getMinDate()||m.dateTime>this.getMaxDate())return!1;if(this._isDisabled(m.dateTime))return!1;this.navigateBackward(),this._selectDate(m.dateTime,"key");break}}return!1}if(39==i){if(m._addDays(1),m.dateTime>this.getMaxDate())return!1;if(m.dateTime>v){var y=this.navigateForward();if(!y)return!1}if(this._isDisabled(m.dateTime))return!1;this._selectDate(m.dateTime,"key");for(var _=0;_<x.cells.length;_++){var s=x.cells[_],j=s.getDate();if(s.isOtherMonth&&s.isSelected&&j>=m.dateTime){if(m.dateTime<this.getMinDate()||m.dateTime>this.getMaxDate())return!1;this.navigateForward(),this._selectDate(m.dateTime,"key");break}}return!1}return!0},render:function(){if(this.canRender){this.host.children().remove();var e=this._renderSingleCalendar("View"+this.element.id);this.host.append(e)}},addSpecialDate:function(e,t,i){if(1==this.multipleMonthRows&&1==this.multipleMonthColumns){var r=this.specialDates.length;this.specialDates[r]={Date:e,Class:t,Tooltip:i},this.refreshControl()}},refresh:function(e){this.render()},invalidate:function(){this.refreshControl()},refreshControl:function(){1==this.multipleMonthRows&&1==this.multipleMonthColumns&&this.refreshSingleCalendar("View"+this.element.id,null)},getViewStart:function(){var e=this.getVisibleDate(),t=this.getFirstDayOfWeek(e);return t.dateTime},getViewEnd:function(){var t=this.getViewStart(),i=new e.jqx._jqxDateTimeInput.getDateTime(t);return i._addDays(41),i.dateTime},refreshSingleCalendar:function(e,t){if(this.canRender){var i=this.host.find("#"+e),r=this.getVisibleDate(),s=this.getFirstDayOfWeek(r);this.refreshCalendarCells(i,s,e),this.refreshTitle(i),this.refreshRowHeader(i,e),void 0!=this.selectedDate&&this._selectDate(this.selectedDate);var a=this.host.height()-this.titleHeight-this.columnHeaderHeight;this.showDayNames||(a=this.host.height()-this.titleHeight),this.showFooter&&(a-=20);var n=i.find("#cellsTable"+e),o=i.find("#calendarRowHeader"+e);n.height(a),o.height(a)}},refreshRowHeader:function(t,i){if(this.showWeekNumbers){var r=this.getVisibleDate(),s=this.getFirstDayOfWeek(r),a=(s.dayOfWeek,this.getWeekOfYear(s)),n=new e.jqx._jqxDateTimeInput.getDateTime(new Date(s.dateTime));n._addDays(5),n.dayOfWeek=n.dateTime.getDay();var o=(this.getWeekOfYear(n),this.rowHeader.find("table"));o.width(this.rowHeaderWidth);for(var l=s,h=new Array,d=0;6>d;d++){var c=(a.toString(),new e.jqx._jqxCalendar.cell(l.dateTime)),u=d+1+this.element.id,p=e(o[0].rows[d].cells[0]);c.element=p,c.row=d,c.column=0;var f=p.find("#headerCellContent"+u);f.addClass(this.toThemeProperty("jqx-calendar-row-cell")),f[0].innerHTML=a,h[d]=c,l=new e.jqx._jqxDateTimeInput.getDateTime(new Date(l._addWeeks(1))),a=this.getWeekOfYear(l)}var m=e.data(this.element,t[0].id);m.rowCells=h,this._refreshOtherMonthRows(m,i)}},_refreshOtherMonthRows:function(e,t){if(!this.showOtherMonthDays){this._displayLastRow(!0,t),this._displayFirstRow(!0,t);for(var i=!1,r=!1,s=0;s<e.cells.length;s++){var a=e.cells[s];a.isVisible&&7>s?i=!0:a.isVisible&&s>=e.cells.length-7&&(r=!0)}i||this._displayFirstRow(!1,t),r||this._displayLastRow(!1,t)}},_displayLastRow:function(t,i){var r=this.host.find("#"+i),s=r.find("#calendarRowHeader"+r[0].id).find("table"),a=null;if(this.showWeekNumbers&&s[0].cells)var a=e(s[0].rows[5]);var n=e(r.find("#cellTable"+r[0].id)[0].rows[5]);t?(this.showWeekNumbers&&a&&a.css("display","table-row"),n.css("display","table-row")):(this.showWeekNumbers&&a&&a.css("display","none"),n.css("display","none"))},_displayFirstRow:function(t,i){var r=this.host.find("#"+i),s=r.find("#calendarRowHeader"+r[0].id).find("table"),a=null;if(this.showWeekNumbers&&s[0].cells)var a=e(s[0].rows[0]);var n=e(r.find("#cellTable"+r[0].id)[0].rows[0]);t?(this.showWeekNumbers&&a&&a.css("display","table-row"),n.css("display","table-row")):(this.showWeekNumbers&&a&&a.css("display","none"),n.css("display","none"))},_renderSingleCalendar:function(t,i){if(this.canRender){var r=this.host.find("#"+t.toString());null!=r&&r.remove();var s=e("<div id='"+t.toString()+"'></div>"),a=this.getVisibleDate(),n=this.getFirstDayOfWeek(a),o=new e.jqx._jqxDateTimeInput.getDateTime(n.dateTime);o._addMonths(1);var l=e.jqx._jqxCalendar.monthView(n,o,null,null,null,s);void 0==i||null==i?(this.host.append(s),void 0==this.height||isNaN(this.height)?null!=this.height&&-1!=this.height.toString().indexOf("px")&&s.height(this.height):s.height(this.height),void 0==this.width||isNaN(this.width)?null!=this.width&&-1!=this.width.toString().indexOf("px")&&s.width(this.width):s.width(this.width),null!=this.width&&-1!=this.width.toString().indexOf("%")&&s.width("100%"),null!=this.height&&-1!=this.height.toString().indexOf("%")&&s.height("100%")):i.append(s),e.data(this.element,t,l);var h=this.host.height()-this.titleHeight-this.columnHeaderHeight;this.showDayNames||(h=this.host.height()-this.titleHeight),this.showFooter&&(h-=20),this.rowHeaderWidth<0&&(this.rowHeaderWidth=0),this.columnHeaderHeight<0&&(this.columnHeaderHeight=0),this.titleHeight<0&&(this.titleHeight=0);var d=this.rowHeaderWidth,c=this.columnHeaderHeight;this.showWeekNumbers||(d=0),this.showDayNames||(c=0);var u="<div style='height:"+this.titleHeight+"px;'><table role='grid' style='margin: 0px; width: 100%; height: 100%; border-spacing: 0px;' cellspacing='0' cellpadding='0'><tr role='row' id='calendarTitle' width='100%'><td role='gridcell' NOWRAP id='leftNavigationArrow'></td><td aria-live='assertive' aria-atomic='true' role='gridcell' align='center' NOWRAP id='calendarTitleHeader'></td><td role='gridcell' NOWRAP id='rightNavigationArrow'></td></tr></table></div>",p="<table role='grid' class='"+this.toThemeProperty("jqx-calendar-month")+"' style='margin: 0px; border-spacing: 0px;' cellspacing='0' cellpadding='0'><tr role='row' id='calendarHeader' height='"+c+"'><td role='gridcell' id='selectCell' width='"+d+"'></td><td role='gridcell' colspan='2' style='border: none; padding-left: 2px; padding-right: 2px' id='calendarColumnHeader'></td></tr><tr role='row' id='calendarContent'><td role='gridcell' id='calendarRowHeader' valign='top' height='"+h+"' width='"+d+"'></td><td role='gridcell' valign='top' colspan='2' style='padding-left: 2px; padding-right: 2px' id='cellsTable' height='"+h+"'></td></tr></table>",f="<div id='footer' style='margin: 0px; display: none; height:"+m+"px;'><table style='width: 100%; height: 100%; border-spacing: 0px;' cellspacing='0' cellpadding='0'><tr id='calendarFooter'><td align='right' id='todayButton'></td><td align='left' colspan='2' id=doneButton></td></tr></table></div>";s[0].innerHTML=u+p+f,this.header=s.find("#calendarHeader"),this.header[0].id="calendarHeader"+t,this.header.addClass(this.toThemeProperty("calendar-header")),this.columnHeader=s.find("#calendarColumnHeader"),this.columnHeader[0].id="calendarColumnHeader"+t,this.table=s.find("#cellsTable"),this.table[0].id="cellsTable"+t,this.rowHeader=s.find("#calendarRowHeader"),this.rowHeader[0].id="calendarRowHeader"+t,this.selectCell=s.find("#selectCell"),this.selectCell[0].id="selectCell"+t,this.title=s.find("#calendarTitle"),this.title[0].id="calendarTitle"+t,this.leftButton=s.find("#leftNavigationArrow"),this.leftButton[0].id="leftNavigationArrow"+t,this.titleHeader=s.find("#calendarTitleHeader"),this.titleHeader[0].id="calendarTitleHeader"+t,this.rightButton=s.find("#rightNavigationArrow"),this.rightButton[0].id="rightNavigationArrow"+t,this.footer=s.find("#calendarFooter"),this._footer=s.find("#footer"),this._footer[0].id="footer"+t,this.footer[0].id="calendarFooter"+t,this.todayButton=s.find("#todayButton"),this.todayButton[0].id="todayButton"+t,this.doneButton=s.find("#doneButton"),this.doneButton[0].id="doneButton"+t,this.title.addClass(this.toThemeProperty("jqx-calendar-title-container"));var m=20;if(this.showFooter&&this._footer.css("display","block"),s.find("tr").addClass(this.toThemeProperty("jqx-reset")),s.addClass(this.toThemeProperty("jqx-widget-content")),s.addClass(this.toThemeProperty("jqx-calendar-month-container")),this.month=s,this.selectCell.addClass(this.toThemeProperty("jqx-reset")),this.selectCell.addClass(this.toThemeProperty("jqx-calendar-top-left-header")),this.showWeekNumbers?this._renderRowHeader(s):(this.table[0].colSpan=3,this.columnHeader[0].colSpan=3,this.rowHeader.css("display","none"),this.selectCell.css("display","none")),this.showFooter){this.footer.height(20);var g=e("<a href='javascript:;'>"+this.todayString+"</a>");g.appendTo(this.todayButton);var v=e("<a href='javascript:;'>"+this.clearString+"</a>");v.appendTo(this.doneButton),v.addClass(this.toThemeProperty("jqx-calendar-footer")),g.addClass(this.toThemeProperty("jqx-calendar-footer"));var x=this,b="mousedown";e.jqx.mobile.isTouchDevice()&&(b=e.jqx.mobile.getTouchEventName("touchstart")),this.addHandler(g,b,function(){return x.today?x.today():x.setDate(new Date,"mouse"),!1}),this.addHandler(v,b,function(){return x.clear?x.clear():x.setDate(null,"mouse"),!1})}"month"!=this.view&&this.header.hide(),this.showDayNames&&"month"==this.view&&this.renderColumnHeader(s),this.oldView=this.view,this.renderCalendarCells(s,n,t),void 0!=i&&null!=i||this.renderTitle(s),this._refreshOtherMonthRows(l,t),s.find("tbody").css({border:"none",background:"transparent"}),void 0!=this.selectedDate&&this._selectDate(this.selectedDate);var w=this;return this.addHandler(this.host,"focus",function(){w.focus()}),s}},_getTitleFormat:function(){switch(this.view){case"month":return this.titleFormat[0];case"year":return this.titleFormat[1];case"decade":return this.titleFormat[2];case"centuries":return this.titleFormat[3]}},renderTitle:function(t){var i=e("<div role='button' style='float: left;'></div>"),r=e("<div role='button' style='float: right;'></div>"),s=this.title;s.addClass(this.toThemeProperty("jqx-reset")),s.addClass(this.toThemeProperty("jqx-widget-header")),s.addClass(this.toThemeProperty("jqx-calendar-title-header"));var a=s.find("td");if(e.jqx.browser.msie&&e.jqx.browser.version<8){if("transparent"!=a.css("background-color")){var n=s.css("background-color");a.css("background-color",n)}if("transparent"!=a.css("background-image")){var o=s.css("background-image"),l=s.css("background-repeat");s.css("background-position");a.css("background-image",o),a.css("background-repeat",l),a.css("background-position","left center scroll")}}else a.css("background-color","transparent");this.disabled&&s.addClass(this.toThemeProperty("jqx-calendar-title-header-disabled")),i.addClass(this.toThemeProperty("jqx-calendar-title-navigation")),i.addClass(this.toThemeProperty("jqx-icon-arrow-left")),i.appendTo(this.leftButton);var h=this.leftButton;r.addClass(this.toThemeProperty("jqx-calendar-title-navigation")),r.addClass(this.toThemeProperty("jqx-icon-arrow-right")),r.appendTo(this.rightButton);var d=this.rightButton;this.enableTooltips&&e(h).jqxTooltip&&(e(h).jqxTooltip({name:this.element.id,position:"mouse",theme:this.theme,content:this.backText}),e(d).jqxTooltip({name:this.element.id,position:"mouse",theme:this.theme,content:this.forwardText}));var c=this.titleHeader,u=this._format(this.value.dateTime,this._getTitleFormat(),this.culture);if("decade"==this.view){var p=this._format(this._renderStartDate,this._getTitleFormat(),this.culture),f=this._format(this._renderEndDate,this._getTitleFormat(),this.culture);u=p+" - "+f}else if("centuries"==this.view){var p=this._format(this._renderCenturyStartDate,this._getTitleFormat(),this.culture),f=this._format(this._renderCenturyEndDate,this._getTitleFormat(),this.culture);u=p+" - "+f}var m=e("<div style='background: transparent; margin: 0; padding: 0; border: none;'>"+u+"</div>");c.append(m),m.addClass(this.toThemeProperty("jqx-calendar-title-content"));var g=parseInt(i.width()),v=t.width()-2*g;c.find(".jqx-calendar-title-content").width(v);e.data(i,"navigateLeft",this),e.data(r,"navigateRight",this);var x=e.jqx.mobile.isTouchDevice();if(!this.disabled){var b=this;this.addHandler(c,"mousedown",function(e){if(b.enableViews){if(!b._viewAnimating&&!b._animating){var t=b.view;switch(b.oldView=t,b.view){case"month":b.view="year";break;case"year":b.view="decade"}if(-1==b.views.indexOf("year")&&"year"==b.view&&(b.view="decade"),-1==b.views.indexOf("decade")&&"decade"==b.view&&(b.view=t),t!=b.view){var i="View"+b.element.id,r=b.host.find("#"+i),s=b.getVisibleDate(),a=b.getFirstDayOfWeek(s);b.renderCalendarCells(r,a,i,!0),b.refreshTitle(r),b._raiseEvent("8")}}return!1}}),this.addHandler(i,"mousedown",function(t){if(b._animating)return!1;e.data(i,"navigateLeftRepeat",!0);var r=e.data(i,"navigateLeft");return r.enableFastNavigation&&!x&&r.startRepeat(r,i,!0,b.navigationDelay+200),r.navigateBackward(b.stepMonths,"arrow"),t.stopPropagation(),t.preventDefault(),r._raiseEvent(0,t)}),this.addHandler(i,"mouseup",function(t){e.data(i,"navigateLeftRepeat",!1)}),this.addHandler(i,"mouseleave",function(t){e.data(i,"navigateLeftRepeat",!1)}),this.addHandler(r,"mousedown",function(t){if(b._animating)return!1;e.data(r,"navigateRightRepeat",!0);var i=e.data(r,"navigateRight");return i.enableFastNavigation&&!x&&i.startRepeat(i,r,!1,b.navigationDelay+200),i.navigateForward(b.stepMonths,"arrow"),t.stopPropagation(),t.preventDefault(),i._raiseEvent(1,t)}),this.addHandler(r,"mouseup",function(t){e.data(r,"navigateRightRepeat",!1)}),this.addHandler(r,"mouseleave",function(t){e.data(r,"navigateRightRepeat",!1)})}},refreshTitle:function(t){var i=this._format(this.value.dateTime,this._getTitleFormat(),this.culture);if("decade"==this.view){var r=this._format(this._renderStartDate,this._getTitleFormat(),this.culture),s=this._format(this._renderEndDate,this._getTitleFormat(),this.culture);i=r+" - "+s}else if("centuries"==this.view){var r=this._format(this._renderCenturyStartDate,this._getTitleFormat(),this.culture),s=this._format(this._renderCenturyEndDate,this._getTitleFormat(),this.culture);i=r+" - "+s}var a=this.titleHeader;if(this.titleHeader){var n=a.find(".jqx-calendar-title-content"),o=e("<div style='background: transparent; margin: 0; padding: 0; border: none;'>"+i+"</div>");a.append(o),o.addClass(this.toThemeProperty("jqx-calendar-title-content")),null!=n&&n.remove()}},startRepeat:function(t,i,r,s){var a=window.setTimeout(function(){var n=e.data(i,"navigateLeftRepeat");return r||(n=e.data(i,"navigateRightRepeat")),n?(25>s&&(s=25),void(r?(t.navigateBackward(1,"arrow"),t.startRepeat(t,i,!0,s)):(t.navigateForward(1,"arrow"),a=t.startRepeat(t,i,!1,s)))):void window.clearTimeout(a)},s)},navigateForward:function(e,t){void 0!=e&&null!=e||(e=this.stepMonths);var i=this.value.year;if("decade"==this.view){if(i=this._renderStartDate.getFullYear()+12,this._renderEndDate.getFullYear()>=this.getMaxDate().getFullYear())return}else"year"==this.view?i=this.value.year+1:"centuries"==this.view&&(i=this.value.year+100);if("month"!=this.view){var r=this.getMaxDate().getFullYear();if((i>r||i>r)&&(i=r),this.value.year==i){if("decade"!==this.view)return;if(!(this.value.year>this._renderEndDate.getFullYear()))return;this.value.year=i,this.value.month=1,this.value.day=1}this.value.year=i,this.value.month=1,this.value.day=1}var s=this.value.day,a=this.value.month;if(12>=a+e){var n=this.value._daysInMonth(this.value.year,this.value.month+e);s>n&&(s=n)}if("month"==this.view){var o=new Date(this.value.year,this.value.month-1+e,s);"arrow"==t&&7==this.selectableDays.length&&"range"!=this.selectionMode&&(this.selectedDate=new Date(this.value.year,this.value.month-1+e,1))}else var o=new Date(this.value.year,this.value.month-1,s);return this.navigateTo(o)},navigateBackward:function(e,t){void 0!=e&&null!=e||(e=this.stepMonths);var i=this.value.year;if("decade"==this.view?i=this._renderStartDate.getFullYear()-12:"year"==this.view?i=this.value.year-1:"centuries"==this.view&&(i=this.value.year-100),"month"!=this.view){var r=this.getMinDate().getFullYear();if(r>i&&(i=r),"decade"==this.view&&this._renderStartDate&&this._renderStartDate.getFullYear()==i)return;this.value.year=i,this.value.month=1,this.value.day=1}var s=this.value.day,a=this.value.month;if(a-e>=1){var n=this.value._daysInMonth(this.value.year,this.value.month-e);s>n&&(s=n)}if("month"==this.view){var o=new Date(this.value.year,this.value.month-1-e,s);"arrow"==t&&7==this.selectableDays.length&&"range"!=this.selectionMode&&(this.selectedDate=new Date(this.value.year,this.value.month-1-e,1))}else var o=new Date(this.value.year,this.value.month-1,s);return this.navigateTo(o)},_isRestrictedRange:function(e,t){if(e>t)return!0;for(var i=e;i.valueOf()<=t.valueOf();){if(this._isRestrictedDate(i))return!0;i.setDate(i.getDate()+1)}return!1},_hasUnrestrictedRanges:function(e,t){if(e>t)return!1;for(var i=e;i.valueOf()<=t.valueOf();){if(!this._isRestrictedDate(i))return!0;i.setDate(i.getDate()+1)}return!1},_getNextUnrestrictedDay:function(e,t){if(e>t)return null;for(var i=e;i.valueOf()<=t.valueOf();){if(!this._isRestrictedDate(i))return i;i.setDate(i.getDate()+1)}return null},_isRestrictedDate:function(t){var i=this;if(!e.isArray(i.restrictedDates))return!1;for(var r=0;r<i.restrictedDates.length;r++){var s=i.restrictedDates[r];if("object"==typeof s&&void 0!=s.from&&void 0!=s.to){var a=s.from,n=s.to;if(t.valueOf()>=a.valueOf()&&t.valueOf()<=n.valueOf())return!0}else if(s.getMonth()==t.getMonth()&&s.getDate()==t.getDate()&&s.getFullYear()==t.getFullYear())return!0}return!1},_isDisabled:function(e){var t=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],i=e.getDay(),r=t[i];return-1==this.selectableDays.indexOf(r)?!0:!!this._isRestrictedDate(e)},refreshCalendarCells:function(t,i,r){if("year"==this.view||"decade"==this.view||"centuries"==this.view)return void this.refreshViews(t,i,r);for(var s=this.table,a=s.find("#cellTable"+r.toString()),n=i,o=new Array,l=0,h=new e.jqx._jqxDateTimeInput.getDateTime(new Date),d=0;6>d;d++)for(var c=0;7>c;c++){var u=d+1,p=c;this.rtl&&(p=6-p);var f=p+1,m="#cell"+u+f+this.element.id,g=new Date(n.dateTime.getFullYear(),n.dateTime.getMonth(),n.dateTime.getDate()),v=new e.jqx._jqxCalendar.cell(g),x=e(a[0].rows[d].cells[f-1]);x[0].id=m.substring(1),v.element=x,v.row=d,v.column=c,v.isVisible=!0,v.isOtherMonth=!1,v.isToday=!1,v.isWeekend=!1,v.isHighlighted=!1,v.isSelected=!1,n.month!=this.value.month&&(v.isOtherMonth=!0,v.isVisible=this.showOtherMonthDays),this._isRestrictedDate(g)&&(v.isRestricted=!0,v.isDisabled=!0),v.isDisabled||(g<this.getMinDate()||g>this.getMaxDate()||this._isDisabled(g))&&(v.isDisabled=!0),n.month==h.month&&n.day==h.day&&n.year==h.year&&(v.isToday=!0),n.isWeekend()&&(v.isWeekend=!0),e.data(this.element,"cellContent"+m.substring(1),v),e.data(this.element,m.substring(1),v),o[l]=v,l++,e.jqx.utilities.html(x,n.day),this._applyCellStyle(v,x,x),n=new e.jqx._jqxDateTimeInput.getDateTime(new Date(n._addDays(1)))}var b=e.data(this.element,t[0].id);void 0!=b&&null!=b&&(b.cells=o),this.renderedCells=o,this._refreshOtherMonthRows(b,r)},_getDecadeAndCenturiesData:function(){var e=new Array,t=new Array,i=this.getMaxDate().getFullYear()-this.getMinDate().getFullYear();12>i&&(i=12);var r=this.getMinDate(),s=this.getMaxDate(),a=this.value.dateTime.getFullYear();if("decade"==this.view){a+12>s.getFullYear()&&(a=s.getFullYear()-11),a<r.getFullYear()&&(a=r.getFullYear());for(var n=0;i>n;n++){var o=new Date(r.getFullYear()+n,0,1);if(r.getFullYear()<=a&&a<=o.getFullYear()){for(var l=new Date(o.getFullYear(),o.getMonth(),1),h=0;12>h;h++){var d=new Date(l.getFullYear()+h,this.value.dateTime.getMonth(),this.value.dateTime.getDate()),c=d.getFullYear();r.getFullYear()<=c&&c<=s.getFullYear()?(e.push(c),t.push(d),0==h&&(this._renderStartDate=d),this._renderEndDate=d):(e.push(c),t.push(d))}break}}}else if("centuries"==this.view)for(var n=0;i>n;n+=120){var o=new Date(r.getFullYear()+n+120,0,1);if(r.getFullYear()<=a&&a<=o.getFullYear()){var l=new Date(o.getFullYear()-130,o.getMonth(),1);r>l&&(l=r);for(var h=0;12>h;h++){var u=new Date(l.getFullYear()+10*h,l.getMonth(),1);l.getFullYear()>=r.getFullYear()&&u.getFullYear()<=s.getFullYear()&&(e.push("<span style='visibility: hidden;'>-</span>"+u.getFullYear()+"-"+(u.getFullYear()+9)),t.push(u),0==h&&(this._renderCenturyStartDate=u),this._renderCenturyEndDate=new Date(u.getFullYear()+9,0,1))}break}}return{years:e,dates:t}},refreshViews:function(t,i,r){for(var s=new Array,a=t.find("#cellTable"+r.toString()),n=this._getDecadeAndCenturiesData(),o=n.years,l=n.dates,h=0,d=this.getMinDate(),c=this.getMaxDate(),u=0;3>u;u++)for(var p=0;4>p;p++){var f=p;this.rtl&&(f=3-f);var m=new Date(this.value.dateTime);m.setDate(1),m.setMonth(4*u+f);var g=new e.jqx._jqxCalendar.cell(m),v=a[0].rows["row"+(1+u)+this.element.id],x=e(v.cells[p]);g.isSelected=!1,g.isVisible=!0,g.element=x,g.row=u,g.column=p,g.index=s.length;var b="";if("year"==this.view){var w=this.localization.calendar.months.names,y=w[4*u+f];switch(this.monthNameFormat){case"default":y=this.localization.calendar.months.namesAbbr[4*u+f];break;case"shortest":y=this.localization.calendar.months.namesShort[4*u+f];break;case"firstTwoLetters":y=y.substring(0,2);break;case"firstLetter":y=y.substring(0,1)}b=y}else"decade"!=this.view&&"centuries"!=this.view||(b=o[4*u+f],void 0==b&&(b="<span style='cursor: default; visibility: hidden;'>2013</span>"),g.setDate(l[4*u+f]));var m=g.getDate();"year"==this.view?m.getMonth()==this.getDate().getMonth()&&m.getFullYear()==this.getDate().getFullYear()&&(g.isSelected=!0):m.getFullYear()==this.getDate().getFullYear()&&(g.isSelected=!0),"year"==this.view?(this._getYearAndMonthPart(m)<this._getYearAndMonthPart(d)&&(g.isDisabled=!0),this._getYearAndMonthPart(m)>this._getYearAndMonthPart(c)&&(g.isDisabled=!0)):(m.getFullYear()<d.getFullYear()&&(g.isDisabled=!0),m.getFullYear()>c.getFullYear()&&(g.isDisabled=!0)),e.jqx.utilities.html(x,b),s[h]=g,h++}var _=e.data(this.element,t[0].id);void 0!=_&&null!=_&&(_.cells=s),this.renderedCells=s,this._applyCellStyles()},_createViewClone:function(){var e=this.host.find(".jqx-calendar-month"),t=e.clone();return t.css("position","absolute"),t.css("top",e.position().top),t},_addCellsTable:function(e,t){var i=this,r=this.showFooter?20:0;"month"!=this.view?t.height(this.host.height()-this.titleHeight):t.height(this.host.height()-this.titleHeight-this.columnHeaderHeight-r),this._viewAnimating=!0;var s=this.host.find(".jqx-calendar-month-container");s.css("position","relative");var a=(this.host.find(".jqx-calendar-month"),this._createViewClone());s.append(a),"month"!=this.view?(this.header.fadeOut(0),this.showWeekNumbers&&this.rowHeader.fadeOut(0),this.showFooter&&this._footer.fadeOut(0)):(this.header.fadeIn(this.navigationDelay+200),this.showWeekNumbers&&this.rowHeader.fadeIn(this.navigationDelay+200),this.showFooter&&this._footer.fadeIn(this.navigationDelay+200)),e.children().remove(),e.append(t),this._animateViews(a,t,function(){i.selectedDate||"range"==i.selectionMode||(i.selectedDate=i.renderedCells[0].getDate());try{i.renderedCells[0].element.focus(),setTimeout(function(){i.renderedCells[0].element.focus()},10)}catch(e){}i._viewAnimating=!1}),t.addClass(this.toThemeProperty("jqx-calendar-view"))},_animateViews:function(e,t,i){var r=this;return r._viewAnimating=!0,r.oldView==r.view?(e.remove(),t.fadeOut(0),t.fadeIn(0),void i()):(e.fadeOut(this.navigationDelay+100,function(){e.remove()}),t.fadeOut(0),void t.fadeIn(this.navigationDelay+200,function(){i()}))},focus:function(){if(!this.disabled)try{if(this.renderedCells&&this.renderedCells.length>0){var e=this;e.selectedDate||"range"==e.selectionMode||this.setDate(new Date,"mouse"),this.element.focus()}}catch(t){}},renderViews:function(t,i,r){var s=this,a=new Array,n=e("<table role='grid' style='border-color: transparent; width: 100%; height: 100%;' cellspacing='2' cellpadding='0' id=cellTable"+r.toString()+"><tr role='row' id='row1"+this.element.id+"'><td role='gridcell'></td><td role='gridcell'></td><td role='gridcell'></td><td role='gridcell'></td></tr><tr role='row' id='row2"+this.element.id+"'><td role='gridcell'></td><td role='gridcell'></td><td role='gridcell'></td><td role='gridcell'></td></tr><tr role='row' id='row3"+this.element.id+"'><td role='gridcell'></td><td role='gridcell'></td><td role='gridcell'></td><td role='gridcell'></td></tr></table>"),o=this.host.find(".jqx-calendar-month-container");o.css("position","relative");var l=t.find("#cellsTable"+t[0].id);l[0].style.borderColor="transparent";var h=this._getDecadeAndCenturiesData(),d=h.years,c=h.dates,u=0,p=this.getMinDate(),f=this.getMaxDate(),m=new Date(this.value.dateTime);m.setDate(1);for(var g=0;3>g;g++)for(var v=0;4>v;v++){var x=v;this.rtl&&(x=3-x);var b=n[0].rows["row"+(1+g)+this.element.id],w=new Date(m);w.setMonth(4*g+x);var y=new e.jqx._jqxCalendar.cell(w),_=e(b.cells[v]);y.isVisible=!0,y.element=_,y.row=g,y.column=v,y.index=a.length,y.isSelected=!1;var j="";if("year"==this.view){w.getMonth()==this.getDate().getMonth()&&w.getFullYear()==this.getDate().getFullYear()&&(y.isSelected=!0);var q=this.localization.calendar.months.names,T=q[4*g+x];switch(this.monthNameFormat){case"default":T=this.localization.calendar.months.namesAbbr[4*g+x];break;case"shortest":T=this.localization.calendar.months.namesShort[4*g+x];break;case"firstTwoLetters":T=T.substring(0,2);break;case"firstLetter":T=T.substring(0,1)}j=T}else"decade"!=this.view&&"centuries"!=this.view||(j=d[4*g+x],y.setDate(c[4*g+x]),y.getDate().getFullYear()==this.getDate().getFullYear()&&(y.isSelected=!0),void 0==j&&(j="<span style='cursor: default; visibility: hidden;'>2013</span>"));var w=y.getDate();if("year"==this.view){var S=new Date(w);S.setDate(1),S.setHours(0,0,0,0),S.setMonth(w.getMonth()+1),S=new Date(S.valueOf()-1),(this._getYearAndMonthPart(w)<this._getYearAndMonthPart(p)||this._getYearAndMonthPart(w)>this._getYearAndMonthPart(f)||!this._hasUnrestrictedRanges(w,S))&&(y.isDisabled=!0)}else{var C=new Date(w);C.setMonth(0),C.setDate(1),C.setHours(0,0,0,0),C.setFullYear(w.getFullYear()+1),C=new Date(C.valueOf()-1),(w.getFullYear()<p.getFullYear()||w.getFullYear()>f.getFullYear()||!this._hasUnrestrictedRanges(w,C))&&(y.isDisabled=!0)}e.jqx.utilities.html(_,j),a[u]=y,u++}e.each(a,function(){var e=this.element,t=this;s.disabled||(s.addHandler(e,"mousedown",function(e){s._setDateAndSwitchViews(t,e,"mouse")}),s.addHandler(e,"mouseover",function(e){var i=s.renderedCells[t.index];"centuries"!=s.view&&-1!=i.element.html().toLowerCase().indexOf("span")||(i.isHighlighted=!0,s._applyCellStyle(i,i.element,i.element))}),s.addHandler(e,"mouseout",function(e){var i=s.renderedCells[t.index];"centuries"!=s.view&&-1!=i.element.html().toLowerCase().indexOf("span")||(i.isHighlighted=!1,s._applyCellStyle(i,i.element,i.element))}))});var I=e.data(this.element,t[0].id);void 0!=I&&null!=I&&(I.cells=a),this.renderedCells=a,this._addCellsTable(l,n),this._applyCellStyles()},_setDateAndSwitchViews:function(t,i,r){if(!this._viewAnimating&&!this._animating){var s=(this.getDate(),this.renderedCells[t.index].getDate()),a=this.value.dateTime.getDate(),n=new Date(s);-1!=this.views.indexOf("month")?n.setDate(a):(n.setDate(1),s.setDate(1)),n.getMonth()==s.getMonth()&&(s=n);var o=this.getMinDate(),l=this.getMaxDate();if("year"==this.view){if(this._getYearAndMonthPart(s)<this._getYearAndMonthPart(o))return;if(this._getYearAndMonthPart(s)>this._getYearAndMonthPart(l))return}else{if(s.getFullYear()<o.getFullYear())return;if(s.getFullYear()>l.getFullYear())return}switch("range"!=this.selectionMode&&this._selectDate(s,r),this.oldView=this.view,this.view){case"year":this.view="month";break;case"decade":this.view="year"}-1==this.views.indexOf("month")&&(this.view="year"),-1==this.views.indexOf("year")&&(this.view="decade"),"year"==this.view?(this._getYearAndMonthPart(s)<this._getYearAndMonthPart(o)&&(s=o),this._getYearAndMonthPart(s)>this._getYearAndMonthPart(l)&&(s=l)):(s.getFullYear()<o.getFullYear()&&(s=o),s.getFullYear()>l.getFullYear()&&(s=l)),this.changing&&this.selectedDate&&(this.selectedDate.getFullYear()!=s.getFullYear()||this.selectedDate.getMonth()!=s.getMonth()||this.selectedDate.getDate()!=s.getDate())&&(s=this.selectedDate),this.value._setYear(s.getFullYear()),this.value._setDay(s.getDate()),this.value._setMonth(s.getMonth()+1),this.value._setDay(s.getDate());var h=this.getVisibleDate(),d=this.getFirstDayOfWeek(h),c="View"+this.element.id;if(this.renderCalendarCells(this.month,d,c,!0),this.refreshTitle(this.month),this.showWeekNumbers&&this.refreshRowHeader(this.month,c),3==this.views.length&&"month"==this.view)if("range"!=this.selectionMode)this._selectDate(this.selectedDate,"view");else{var u=this;e.each(this.renderedCells,function(t){var i=this,r=i.getDate(),a=e(i.element);if(0==a.length)return!1;var n=function(e){if(null==e)return new Date;var t=new Date;return t.setHours(0,0,0,0),t.setFullYear(e.getFullYear(),e.getMonth(),e.getDate()),t};i.isOtherMonth||n(r).toString()!=n(s).toString()||(u.value._setMonth(s.getMonth()+1),u.value._setDay(s.getDate()),u.value._setYear(s.getFullYear())),i.isSelected=!1,i.isDisabled=!1,n(r)<n(u.selection.from)&&1==u._clicks&&(i.isDisabled=!0),u.getMaxDate()<r&&(i.isDisabled=!0),u.getMinDate()>r&&(i.isDisabled=!0),u._isDisabled(r)&&(i.isDisabled=!0),i.isDisabled||n(r)>=n(u.selection.from)&&n(r)<=n(u.selection.to)&&(i.isSelected=!0)}),this._applyCellStyles()}"month"!=this.view&&("year"==this.oldView||-1==this.views.indexOf("year")&&"decade"==this.view)&&("keyboard"!=r&&this._raiseEvent("3"),this._raiseEvent("5",{selectionType:"mouse"})),this._raiseEvent("8")}},renderCalendarCells:function(t,i,r,s){if("year"==this.view||"decade"==this.view||"centuries"==this.view)return void this.renderViews(t,i,r);var a=e("<table role='grid' style='width: 100%; height: 100%; border-color: transparent;' cellspacing='2' cellpadding='1' id=cellTable"+r.toString()+"><tr role='row'><td role='gridcell'></td><td role='gridcell'></td><td role='gridcell'></td><td role='gridcell'></td><td role='gridcell'></td><td role='gridcell'></td><td role='gridcell'></td></tr><tr role='row'><td role='gridcell'></td><td role='gridcell'></td><td role='gridcell'></td><td role='gridcell'></td><td role='gridcell'></td><td role='gridcell'></td><td role='gridcell'></td></tr><tr role='row'><td role='gridcell'></td><td role='gridcell'></td><td role='gridcell'></td><td role='gridcell'></td><td role='gridcell'></td><td role='gridcell'></td><td role='gridcell'></td></tr><tr role='row'><td role='gridcell'></td><td role='gridcell'></td><td role='gridcell'></td><td role='gridcell'></td><td role='gridcell'></td><td role='gridcell'></td><td role='gridcell'></td></tr><tr role='row'><td role='gridcell'></td><td role='gridcell'></td><td role='gridcell'></td><td role='gridcell'></td><td role='gridcell'></td><td role='gridcell'></td><td role='gridcell'></td></tr><tr role='row'><td role='gridcell'></td><td role='gridcell'></td><td role='gridcell'></td><td role='gridcell'></td><td role='gridcell'></td><td role='gridcell'></td><td role='gridcell'></td></tr></table>"),n=this.table;
if(n[0].style.borderColor="transparent",void 0==s){var o=n.find("#cellTable"+r.toString());null!=o&&o.remove(),n.append(a)}var l=i,h=this.showDayNames?1:0,d=this.showWeekNumbers?1:0,c=new Array,u=0,p=(t.width()-this.rowHeaderWidth-2)/7;this.showWeekNumbers||(p=(t.width()-2)/7),p=parseInt(p);for(var f=new e.jqx._jqxDateTimeInput.getDateTime(new Date),m=0;6>m;m++){for(var g=0;7>g;g++){var v=m+1,x=g;this.rtl&&(x=6-x);var b=x+1,w="#cell"+v+b+this.element.id,y=new Date(l.dateTime.getFullYear(),l.dateTime.getMonth(),l.dateTime.getDate()),_=new e.jqx._jqxCalendar.cell(y),j=e(a[0].rows[m].cells[b-1]);j[0].id=w.substring(1),_.isVisible=!0,_.isDisabled=!1,l.month!=this.value.month&&(_.isOtherMonth=!0,_.isVisible=this.showOtherMonthDays),this._isRestrictedDate(y)&&(_.isRestricted=!0,_.isDisabled=!0),_.isDisabled||(y<this.getMinDate()||y>this.getMaxDate()||this._isDisabled(y))&&(_.isDisabled=!0),l.month==f.month&&l.day==f.day&&l.year==f.year&&(_.isToday=!0),l.isWeekend()&&(_.isWeekend=!0),_.element=j,_.row=h,_.column=d,e.jqx.utilities.html(j,l.day),l=new e.jqx._jqxDateTimeInput.getDateTime(new Date(l._addDays(1))),e.data(this.element,"cellContent"+w.substring(1),_),e.data(this.element,""+w.substring(1),_);var q=this;if(this.addHandler(j,"mousedown",function(t){if(!q.readOnly&&!q.disabled){var i=e(t.target),r=e.data(q.element,i[0].id);q._raiseEvent(3,t);if(null!=r&&void 0!=r){var s=r.getDate();if(q.getMinDate()<=s&&s<=q.getMaxDate()&&!r.isDisabled)if(r.isOtherMonth&&q.enableAutoNavigation)r.row<2?q.navigateBackward():q.navigateForward(),q._selectDate(r.getDate(),"mouse",t.shiftKey);else{new Date(q.getDate());q._selectDate(r.getDate(),"mouse",t.shiftKey),q.value._setYear(s.getFullYear()),q.value._setDay(1),q.value._setMonth(s.getMonth()+1),q.value._setDay(s.getDate());var a=q.host.find(".jqx-calendar-month");a.stop(),a.css("margin-left","0px");q.getDate();q._raiseEvent("2"),r.isOtherMonth&&q._raiseEvent("5",{selectionType:"mouse"})}}return!1}}),!q.disabled){var T=function(t,i){if(!q.readOnly){var r=e(t.target),s=e.data(q.element,r[0].id);if(null!=s&&void 0!=s){var a=s.getDate();q.getMinDate()<=a&&a<=q.getMaxDate()&&(s.isHighlighted=i,q._applyCellStyle(s,s.element,r))}}};this.addHandler(j,"mouseenter",function(e){return T(e,!0),!1}),this.addHandler(j,"mouseleave",function(e){return T(e,!1),!1})}d++,c[u]=_,u++}d=0,h++}var S=e.data(this.element,t[0].id);void 0!=S&&null!=S&&(S.cells=c),this.renderedCells=c,void 0!=s&&this._addCellsTable(n,a),this._applyCellStyles(),this._refreshOtherMonthRows(S,r)},setMaxDate:function(t,i){null!=t&&"string"==typeof t&&(t=new Date(t),"Invalid Date"==t)||(this.maxDate=e.jqx._jqxDateTimeInput.getDateTime(t),i!==!1&&this.render())},getMaxDate:function(){return null!=this.maxDate&&void 0!=this.maxDate?this.maxDate.dateTime:null},setMinDate:function(t,i){null!=t&&"string"==typeof t&&(t=new Date(t),"Invalid Date"==t)||(this.minDate=e.jqx._jqxDateTimeInput.getDateTime(t),i!==!1&&this.render())},getMinDate:function(){return null!=this.minDate&&void 0!=this.minDate?this.minDate.dateTime:null},navigateTo:function(t,i){if("month"==this.view){var r=this.getMinDate(),s=new Date(this.getMaxDate().getFullYear(),this.getMaxDate().getMonth()+1,this.getMaxDate().getDate());if(t<this._getYearAndMonthPart(r)||t>this._getYearAndMonthPart(s))return!1}else if(t&&(t.getFullYear()<this.getMinDate().getFullYear()||t.getFullYear()>this.getMaxDate().getFullYear()))return!1;if(null==t)return!1;if(void 0==i){var a=this;if(this._animating)return;this._animating=!0;var n=this.host.find(".jqx-calendar-month-container");this._viewClone&&(this._viewClone.stop(),this._viewClone.remove()),this._newViewClone&&(this._newViewClone.stop(),this._newViewClone.remove());var o=this.host.find(".jqx-calendar-month");o.stop(),o.css("margin-left","0px");var l=o.clone();this._viewClone=l;var h=new Date(this.value.dateTime);this.value._setYear(t.getFullYear()),this.value._setDay(t.getDate()),this.value._setMonth(t.getMonth()+1),a.refreshControl(),n.css("position","relative"),l.css("position","absolute"),l.css("top",o.position().top),n.append(l),e.jqx.browser.msie&&e.jqx.browser.version<8&&(this.month.css("position","relative"),this.month.css("overflow","hidden"),this.table.css("position","relative"),this.table.css("overflow","hidden"));var d=-this.host.width();h>t&&("month"==this.view&&t.getMonth()!=h.getMonth()?d=this.host.width():t.getFullYear()!=h.getFullYear()&&(d=this.host.width())),l.animate({marginLeft:parseInt(d)+"px"},this.navigationDelay,function(){l.remove()});var c=o.clone();this._newViewClone=c,c.css("position","absolute"),c.css("top",o.position().top),n.append(c),c.css("margin-left",-d),o.css("visibility","hidden"),c.animate({marginLeft:"0px"},this.navigationDelay,function(){c.remove(),o.css("visibility","inherit"),a._animating=!1})}else{this.value._setYear(t.getFullYear()),this.value._setDay(t.getDate()),this.value._setMonth(t.getMonth()+1);var o=this.host.find(".jqx-calendar-month");o.stop(),o.css("margin-left","0px"),this.refreshControl()}return this._raiseEvent("2"),this._raiseEvent("8"),!0},setDate:function(e){return null!=e&&"string"==typeof e&&(e=new Date(e)),0==this.canRender&&(this.canRender=!0,this.render()),this.navigateTo(e,"api"),this._selectDate(e),"range"==this.selectionMode&&this._selectDate(e,"mouse"),!0},val:function(e){return 0!=arguments.length&&(null==e&&this.setDate(null),e instanceof Date&&this.setDate(e),"string"==typeof e&&this.setDate(e)),this.getDate()},getDate:function(){return void 0==this.selectedDate?new Date:this.selectedDate},getValue:function(){return void 0==this.value?new Date:this.value.dateTime},setRange:function(e,t){0==this.canRender&&(this.canRender=!0,this.render()),this.navigateTo(e,"api"),this._selectDate(e,"mouse"),this._selectDate(t,"mouse")},getRange:function(){return this.selection},_selectDate:function(t,i,r){if("none"!=this.selectionMode){null!=i&&void 0!=i||(i="none"),null!=r&&void 0!=r||(r=!1);var s=e.data(this.element,"View"+this.element.id);if(void 0!=s&&null!=s){if(this.changing&&t&&this.selectedDate){if(this.selectedDate.getFullYear()!=t.getFullYear()||this.selectedDate.getDate()!=t.getDate()||this.selectedDate.getMonth()!=t.getMonth())var a=this.changing(this.selectedDate,t);a&&(t=a)}var n=this;this.input&&(null!=t?this.input.val(t.toString()):this.input.val(""));var o=this.selectedDate;if(this.selectedDate=t,"month"!=this.view)return o!=t&&this._raiseEvent(7,{selectionType:i}),e.each(this.renderedCells,function(r){var s=this,a=s.getDate(),o=e(s.element);o.find("#cellContent"+o[0].id);if(null==t)s.isSelected=!1,s.isDisabled=!1;else if(s.isSelected=!1,a&&(a.getMonth()==t.getMonth()&&"year"==n.view&&a.getFullYear()==t.getFullYear()||"decade"==n.view&&a.getFullYear()==t.getFullYear())){s.isSelected=!0;try{"none"!=i&&s.element.focus()}catch(l){}}n._applyCellStyle(s,o,o)}),void(this.change&&this.change(t));if("month"==this.view&&"range"==this.selectionMode&&"key"==i){var l=this.getVisibleDate(),h=this.getFirstDayOfWeek(l);this.refreshCalendarCells(this.month,h,"View"+this.element.id)}var d=!1;return e.each(this.renderedCells,function(s){var a=this,o=a.getDate(),l=e(a.element),h=l;if(0==l.length)return!1;if(null==t)a.isSelected=!1,a.isDisabled=!1,0==s&&(n.selection={from:null,to:null},n._raiseEvent("2"),n._raiseEvent("5",{selectionType:i}));else if("range"!=n.selectionMode||"key"==i){if(o.getDate()==t.getDate()&&o.getMonth()==t.getMonth()&&o.getFullYear()==t.getFullYear()&&a.isSelected)return n._applyCellStyle(a,l,h),void n._raiseEvent("5",{selectionType:i});if(a.isSelected&&n._raiseEvent("6",{selectionType:i}),a.isSelected=!1,o.getDate()==t.getDate()&&o.getMonth()==t.getMonth()&&o.getFullYear()==t.getFullYear()){a.isSelected=!0,0==s&&(n.selection={date:t});try{"none"!=i&&(a.element.focus(),n.host.focus())}catch(c){}a.isOtherMonth||(n.value._setMonth(t.getMonth()+1),n.value._setDay(t.getDate()),n.value._setYear(t.getFullYear()),n._raiseEvent("2"),n._raiseEvent("5",{selectionType:i}))}"range"==n.selectionMode&&(n._clicks=0,n.selection={from:t,to:t})}else if("range"==n.selectionMode){if("view"==i)return a.isSelected=!1,a.isDisabled=!1,n.getMaxDate()<o&&(a.isDisabled=!0),n.getMinDate()>o&&(a.isDisabled=!0),n._isRestrictedDate(o)&&(a.isDisabled=!0,a.isRestricted=!0),!a.isDisabled&&n._isDisabled(o)&&(a.isDisabled=!0),n._applyCellStyle(a,l,h),!0;if(0==s)if("none"!=i)if(void 0==n._clicks&&(n._clicks=0),n._clicks++,r&&n._clicks++,1==n._clicks)n.selection={from:t,to:t};else{var u=n.selection.from,p=t>=u?u:t,f=t>=u?t:u;if(p)var m=new Date(p.getFullYear(),p.getMonth(),p.getDate());if(f)var g=new Date(f.getFullYear(),f.getMonth(),f.getDate(),23,59,59);n.selection={from:m,to:g},n._clicks=0}else null!=n.selection&&null!=n.selection.from||(n.selection={from:t,to:t},void 0==n._clicks&&(n._clicks=0),n._clicks++,2==n._clicks&&(n._clicks=0));var v=function(e){if(null==e)return new Date;var t=new Date;return t.setHours(0,0,0,0),t.setFullYear(e.getFullYear(),e.getMonth(),e.getDate()),t};a.isOtherMonth||v(o).toString()!=v(t).toString()||(n.value._setMonth(t.getMonth()+1),n.value._setDay(t.getDate()),n.value._setYear(t.getFullYear()),n._raiseEvent("2"),n._raiseEvent("5",{selectionType:i})),a.isSelected=!1,a.isDisabled=d,v(o)<v(n.selection.from)&&1==n._clicks&&(a.isDisabled=!0),n.getMaxDate()<o&&(a.isDisabled=!0),n.getMinDate()>o&&(a.isDisabled=!0),n._isRestrictedDate(o)&&(a.isRestricted=!0,a.isDisabled=!0),!a.isDisabled&&n._isDisabled(o)&&(a.isDisabled=!0),a.isDisabled?!n.allowRestrictedDaysInRange&&v(o)>=v(n.selection.from)&&n.selection.to==n.selection.from&&(d=!0):v(o)>=v(n.selection.from)&&v(o)<=v(n.selection.to)&&(a.isSelected=!0)}n._applyCellStyle(a,l,h)}),"range"==n.selectionMode&&0==n._clicks?void n._raiseEvent(7,{selectionType:i}):void("range"!=n.selectionMode&&o!=t&&(n._raiseEvent(7,{selectionType:i}),this.change&&this.change(t)))}}},_getSelectedDate:function(){var t=e.data(this.element,"View"+this.element.id);if(void 0!=t&&null!=t){if("month"!=this.view)return this.selectedDate;for(var i=0;i<t.cells.length;i++){var r=t.cells[i],s=r.getDate();if(r.isSelected)return s}return this.selectedDate?this.selectedDate:void 0}},_getSelectedCell:function(){var t=e.data(this.element,"View"+this.element.id);if(void 0!=t&&null!=t)for(var i=0;i<t.cells.length;i++){var r=t.cells[i];r.getDate();if(r.isSelected)return r}},_applyCellStyle:function(t,i,r){var s=this;(null==r||null!=r&&0==r.length)&&(r=i);var a="";if(a=this.toThemeProperty("jqx-rc-all"),a+=" "+this.toThemeProperty("jqx-item"),(this.disabled||t.isDisabled&&!t.isRestricted)&&(a+=" "+this.toThemeProperty("jqx-calendar-cell-disabled"),a+=" "+this.toThemeProperty("jqx-fill-state-disabled")),!this.disabled&&t.isRestricted&&(a+=" "+this.toThemeProperty("jqx-calendar-cell-restrictedDate")),t.isOtherMonth&&this.enableOtherMonthDays&&t.isVisible&&(a+=" "+this.toThemeProperty("jqx-calendar-cell-othermonth")),t.isWeekend&&this.enableWeekend&&t.isVisible&&t.isVisible&&(a+=" "+this.toThemeProperty("jqx-calendar-cell-weekend")),t.isVisible?(a+=" "+this.toThemeProperty("jqx-calendar-cell"),"month"!=this.view&&r.length>0&&-1!=r.html().toLowerCase().indexOf("span")&&r.css("cursor","default")):a+=" "+this.toThemeProperty("jqx-calendar-cell-hidden"),r.removeAttr("aria-selected"),t.isSelected&&t.isVisible){a+=" "+this.toThemeProperty("jqx-calendar-cell-selected"),a+=" "+this.toThemeProperty("jqx-fill-state-pressed"),r.attr("aria-selected",!0),this.host.removeAttr("aria-activedescendant").attr("aria-activedescendant",r[0].id);var n=t.getDate();this._isDisabled(n)&&(a+=" "+this.toThemeProperty("jqx-calendar-cell-selected-invalid"))}if(t.isHighlighted&&t.isVisible&&this.enableHover&&(t.isDisabled||(a+=" "+this.toThemeProperty("jqx-calendar-cell-hover"),a+=" "+this.toThemeProperty("jqx-fill-state-hover"))),a+=" "+this.toThemeProperty("jqx-calendar-cell-"+this.view),t.isToday&&t.isVisible&&(a+=" "+this.toThemeProperty("jqx-calendar-cell-today")),r[0].className=a,this.specialDates.length>0){var o=this;e.each(this.specialDates,function(){void 0!=this.Class&&null!=this.Class&&""!=this.Class?r.removeClass(this.Class):r.removeClass(s.toThemeProperty("jqx-calendar-cell-specialDate"));var i=t.getDate();if(i.getFullYear()==this.Date.getFullYear()&&i.getMonth()==this.Date.getMonth()&&i.getDate()==this.Date.getDate()){if(null==t.tooltip&&null!=this.Tooltip&&(t.tooltip=this.Tooltip,e(r).jqxTooltip)){var a=this.Class;e(r).jqxTooltip({value:{cell:t,specialDate:this.Date},name:o.element.id,content:this.Tooltip,position:"mouse",theme:o.theme,opening:function(e){return r.hasClass(s.toThemeProperty("jqx-calendar-cell-specialDate"))?!0:!!r.hasClass(a)}})}return r.removeClass(s.toThemeProperty("jqx-calendar-cell-othermonth")),r.removeClass(s.toThemeProperty("jqx-calendar-cell-weekend")),void 0==this.Class||""==this.Class?(r.addClass(s.toThemeProperty("jqx-calendar-cell-specialDate")),!1):(r.addClass(this.Class),!1)}})}},_applyCellStyles:function(){var t=e.data(this.element,"View"+this.element.id);if(void 0!=t&&null!=t)for(var i=0;i<t.cells.length;i++){var r=t.cells[i],s=e(r.element),a=s.find("#cellContent"+s[0].id);0==a.length&&(a=s),this._applyCellStyle(r,s,a)}},getWeekOfYear:function(e){var t=new Date(e.dateTime);dowOffset=this.firstDayOfWeek;var i=new Date(t.getFullYear(),0,1),r=i.getDay()-dowOffset;r=r>=0?r:r+7;var s,a=Math.floor((t.getTime()-i.getTime()-6e4*(t.getTimezoneOffset()-i.getTimezoneOffset()))/864e5)+1;return 4>r?(s=Math.floor((a+r-1)/7)+1,s>52&&(nYear=new Date(t.getFullYear()+1,0,1),nday=nYear.getDay()-dowOffset,nday=nday>=0?nday:nday+7,s=nday<4?1:53)):s=Math.floor((a+r-1)/7),s},renderColumnHeader:function(t){if(this.showDayNames){var i=e("<table role='grid' style='border-spacing: 0px; border-collapse: collapse; width: 100%; height: 100%;' cellspacing='0' cellpadding='1'><tr role='row'><td role='gridcell'></td><td role='gridcell'></td><td role='gridcell'></td><td role='gridcell'></td><td role='gridcell'></td><td role='gridcell'></td><td role='gridcell'></td></tr></table>");i.find("table").addClass(this.toThemeProperty("jqx-reset")),i.find("tr").addClass(this.toThemeProperty("jqx-reset")),i.find("td").css({background:"transparent",padding:1,margin:0,border:"none"}),i.addClass(this.toThemeProperty("jqx-reset")),i.addClass(this.toThemeProperty("jqx-widget-content")),i.addClass(this.toThemeProperty("jqx-calendar-column-header")),this.columnHeader.append(i);var r=this.getVisibleDate(),s=this.getFirstDayOfWeek(r),a=(s.dayOfWeek,this.getWeekOfYear(s),this.firstDayOfWeek),n=this.localization.calendar.days.names,o=new Array,l=s,h=(t.width()-this.rowHeaderWidth-2)/7;this.showWeekNumbers||(h=(t.width()-2)/7);for(var d=0;7>d;d++){var c=n[a];switch(this.rtl&&(c=n[6-a]),this.dayNameFormat){case"default":c=this.localization.calendar.days.namesAbbr[a],this.rtl&&(c=this.localization.calendar.days.namesAbbr[6-a]);break;case"shortest":c=this.localization.calendar.days.namesShort[a],this.rtl&&(c=this.localization.calendar.days.namesShort[6-a]);break;case"firstTwoLetters":c=c.substring(0,2);break;case"firstLetter":c=c.substring(0,1)}var u=new e.jqx._jqxCalendar.cell(l.dateTime),p=d+1,f=p+this.element.id,m=e(i[0].rows[0].cells[d]),g=d;this.enableTooltips&&e(m).jqxTooltip&&e(m).jqxTooltip({name:this.element.id,content:n[a],theme:this.theme,position:"mouse"}),a>=6?a=0:a++,d=g,u.element=m,u.row=0,u.column=d+1;var v=this._textwidth(c),x="<div style='padding: 0; margin: 0; border: none; background: transparent;' id='columnCell"+f+"'>"+c+"</div>";if(m.append(x),m.find("#columnCell"+f).addClass(this.toThemeProperty("jqx-calendar-column-cell")),m.width(h),this.disabled&&m.find("#columnCell"+f).addClass(this.toThemeProperty("jqx-calendar-column-cell-disabled")),v>0&&h>0)for(;v>m.width()&&0!=c.length;)c=c.substring(0,c.length-1),e.jqx.utilities.html(m.find("#columnCell"+f),c),v=this._textwidth(c);o[d]=u,l=new e.jqx._jqxDateTimeInput.getDateTime(new Date(l._addDays(1)))}parseInt(this.columnHeader.width())>parseInt(this.host.width())&&this.columnHeader.width(this.host.width());var b=e.data(this.element,t[0].id);b.columnCells=o}},_format:function(t,i,r){var s=!1;try{void 0!=Globalize&&(s=!0)}catch(a){}if(e.global)return e.global.culture.calendar=this.localization.calendar,e.global.format(t,i,this.culture);if(s)try{return Globalize.cultures[this.culture]?(Globalize.cultures[this.culture].calendar=this.localization.calendar,Globalize.format(t,i,this.culture)):Globalize.format(t,i,this.culture)}catch(a){return Globalize.format(t,i)}else if(e.jqx.dataFormat)return e.jqx.dataFormat.formatdate(t,i,this.localization.calendar)},_textwidth:function(t){var i=e("<span>"+t+"</span>");i.addClass(this.toThemeProperty("jqx-calendar-column-cell")),e(this.host).append(i);var r=i.width();return i.remove(),r},_textheight:function(t){var i=e("<span>"+t+"</span>");e(this.host).append(i);var r=i.height();return i.remove(),r},_renderRowHeader:function(t){var i=this.getVisibleDate(),r=this.getFirstDayOfWeek(i),s=(r.dayOfWeek,this.getWeekOfYear(r)),a=new e.jqx._jqxDateTimeInput.getDateTime(new Date(r.dateTime));a._addDays(5),a.dayOfWeek=a.dateTime.getDay();this.getWeekOfYear(a);53==s&&0==a.dateTime.getMonth()&&(s=1);var n=e("<table style='overflow: hidden; width: 100%; height: 100%;' cellspacing='0' cellpadding='1'><tr><td></td></tr><tr><td/></tr><tr><td/></tr><tr><td/></tr><tr><td/></tr><tr><td/></tr></table>");n.find("table").addClass(this.toThemeProperty("jqx-reset")),n.find("td").addClass(this.toThemeProperty("jqx-reset")),n.find("tr").addClass(this.toThemeProperty("jqx-reset")),n.addClass(this.toThemeProperty("jqx-calendar-row-header")),n.width(this.rowHeaderWidth),this.rowHeader.append(n);for(var o=r,l=new Array,h=0;6>h;h++){var d=s.toString(),c=new e.jqx._jqxCalendar.cell(o.dateTime),u=h+1+this.element.id,p=e(n[0].rows[h].cells[0]);c.element=p,c.row=h,c.column=0;var f="<div style='background: transparent; border: none; padding: 0; margin: 0;' id ='headerCellContent"+u+"'>"+d+"</div>";p.append(f),p.find("#headerCellContent"+u).addClass(this.toThemeProperty("jqx-calendar-row-cell")),l[h]=c,o=new e.jqx._jqxDateTimeInput.getDateTime(new Date(o._addWeeks(1))),s=this.getWeekOfYear(o)}var m=e.data(this.element,t[0].id);m.rowCells=l},getFirstDayOfWeek:function(t){var i=t;(this.firstDayOfWeek<0||this.firstDayOfWeek>6)&&(this.firstDayOfWeek=6);var r=i.dayOfWeek-this.firstDayOfWeek;0>=r&&(r+=7);var s=e.jqx._jqxDateTimeInput.getDateTime(i._addDays(-r));return s},getVisibleDate:function(){var t=new e.jqx._jqxDateTimeInput.getDateTime(new Date(this.value.dateTime));t<this.minDate&&(t=this.minDate),t>this.maxDate&&(this.visibleDate=this.maxDate),t.dateTime.setHours(0);var i=t.day,r=e.jqx._jqxDateTimeInput.getDateTime(t._addDays(-i+1));return t=r},destroy:function(t){e.jqx.utilities.resize(this.host,null,!0),this.host.removeClass(),0!=t&&this.host.remove()},_raiseEvent:function(t,i){void 0==i&&(i={owner:null});var r=this.events[t],s=i?i:{};s.owner=this;var a=new e.Event(r);if(a.owner=this,a.args=s,0==t||1==t||2==t||3==t||4==t||5==t||6==t||7==t||8==t){a.args.date=a.args.selectedDate=this.getDate(),a.args.range=this.getRange();var n=this.getViewStart(),o=this.getViewEnd();a.args.view={from:n,to:o}}if(7==t){var l=s.selectionType;l||(l=null),"key"==l&&(l="keyboard"),"none"==l&&(l=null),s.type=l}var h=this.host.trigger(a);return 0!=t&&1!=t||(h=!1),h},propertyMap:function(e){return"value"==e?"range"!=this.selectionMode?this.getDate():this.getRange():null},_setSize:function(){var e=this.host.find("#View"+this.element.id);if(e.length>0){this.setCalendarSize(),void 0==this.height||isNaN(this.height)?null!=this.height&&-1!=this.height.toString().indexOf("px")&&e.height(this.height):e.height(this.height),void 0==this.width||isNaN(this.width)?null!=this.width&&-1!=this.width.toString().indexOf("px")&&e.width(this.width):e.width(this.width);var t=this.host.height()-this.titleHeight-this.columnHeaderHeight,i="View"+this.element.id;e.find("#cellsTable"+i).height(t),e.find("#calendarRowHeader"+i).height(t),this.refreshControl()}},resize:function(){this._setSize()},clear:function(){"range"==this.selectionMode?(this._clicks=1,this.setRange(null,null),this._raiseEvent(7)):this.setDate(null,"mouse"),this._clicks=0,this.selection={from:null,to:null}},today:function(){"range"==this.selectionMode?this.setRange(new Date,new Date):this.setDate(new Date,"mouse")},propertiesChangedHandler:function(e,t,i){i.width&&i.height&&2==Object.keys(i).length&&e._setSize()},propertyChangedHandler:function(t,i,r,s){if(void 0!=this.isInitialized&&0!=this.isInitialized&&!(t.batchUpdate&&t.batchUpdate.width&&t.batchUpdate.height&&2==Object.keys(t.batchUpdate).length)&&"enableHover"!=i&&"keyboardNavigation"!=i){if("localization"==i&&this.localization&&(this.localization.backString&&(this.backText=this.localization.backString),this.localization.forwardString&&(this.forwardText=this.localization.forwardString),this.localization.todayString&&(this.todayString=this.localization.todayString),this.localization.clearString&&(this.clearString=this.localization.clearString),this.firstDayOfWeek=this.localization.calendar.firstDay),"culture"==i)try{if(e.global)e.global.preferCulture(t.culture),t.localization.calendar=e.global.culture.calendar;else if(Globalize){var a=Globalize.culture(t.culture);t.localization.calendar=a.calendar}t.localization.calendar&&void 0!=t.localization.calendar.firstDay&&"default"!=t.culture&&(t.firstDayOfWeek=t.localization.calendar.firstDay)}catch(n){}return"views"==i?(-1==t.views.indexOf("month")&&(t.view="year"),-1==t.views.indexOf("year")&&-1==t.views.indexOf("month")&&(t.view="decade"),void t.render()):("showFooter"==i&&t.render(),"width"==i||"height"==i?void t._setSize():void("theme"==i?e.jqx.utilities.setTheme(r,s,t.host):"rowHeaderWidth"==i||"showWeekNumbers"==i?t.render():(t.view="month",t.render())))}}})}(jqxBaseFramework),function(e){e.jqx._jqxCalendar.cell=function(t){var i={dateTime:new e.jqx._jqxDateTimeInput.getDateTime(t),_date:t,getDate:function(){return this._date},setDate:function(t){this.dateTime=new e.jqx._jqxDateTimeInput.getDateTime(t),this._date=t},isToday:!1,isWeekend:!1,isOtherMonth:!1,isVisible:!0,isSelected:!1,isHighlighted:!1,element:null,row:-1,column:-1,tooltip:null};return i},e.jqx._jqxCalendar.monthView=function(e,t,i,r,s,a){var n={start:e,end:t,cells:i,rowCells:r,columnCells:s,element:a};return n}}(jqxBaseFramework),function(e){e.jqx.jqxWidget("jqxListBox","",{}),e.extend(e.jqx._jqxListBox.prototype,{defineInstance:function(){var t={disabled:!1,width:null,height:null,items:new Array,multiple:!1,selectedIndex:-1,selectedIndexes:new Array,source:null,scrollBarSize:e.jqx.utilities.scrollBarSize,enableHover:!0,enableSelection:!0,visualItems:new Array,groups:new Array,equalItemsWidth:!0,itemHeight:-1,visibleItems:new Array,emptyGroupText:"Group",checkboxes:!1,hasThreeStates:!1,autoHeight:!1,autoItemsHeight:!1,roundedcorners:!0,touchMode:"auto",displayMember:"",groupMember:"",valueMember:"",searchMember:"",searchMode:"startswithignorecase",incrementalSearch:!0,incrementalSearchDelay:1e3,incrementalSearchKeyDownDelay:300,allowDrag:!1,allowDrop:!0,dropAction:"default",touchModeStyle:"auto",keyboardNavigation:!0,enableMouseWheel:!0,multipleextended:!1,selectedValues:new Array,emptyString:"",rtl:!1,rendered:null,renderer:null,dragStart:null,dragEnd:null,focusable:!0,ready:null,_checkForHiddenParent:!0,autoBind:!0,_renderOnDemand:!1,filterable:!1,filterHeight:27,filterPlaceHolder:"Looking for",filterDelay:100,filterChange:null,aria:{"aria-disabled":{name:"disabled",type:"boolean"}},events:["select","unselect","change","checkChange","dragStart","dragEnd","bindingComplete","itemAdd","itemRemove","itemUpdate"]};return this===e.jqx._jqxListBox.prototype?t:(e.extend(!0,this,t),t)},createInstance:function(t){var i=this;15!=e.jqx.utilities.scrollBarSize&&(i.scrollBarSize=e.jqx.utilities.scrollBarSize),null==i.width&&(i.width=200),null==i.height&&(i.height=200),i.renderListBox();var r=i;e.jqx.utilities.resize(i.host,function(){r._updateSize()},!1,i._checkForHiddenParent)},resize:function(e,t){this.width=e,this.height=t,this._updateSize()},render:function(){this.renderListBox(),this.refresh()},renderListBox:function(){var t=this,i=t.element.nodeName.toLowerCase();if("select"==i||"ul"==i||"ol"==i){t.field=t.element,t.field.className&&(t._className=t.field.className);var r={title:t.field.title};t.field.id.length?r.id=t.field.id.replace(/[^\w]/g,"_")+"_jqxListBox":r.id=e.jqx.utilities.createId()+"_jqxListBox";var s=e("<div></div>",r);t.width||(t.width=e(t.field).width()),t.height||(t.height=e(t.field).outerHeight()),t.element.style.cssText=t.field.style.cssText,e(t.field).hide().after(s);var a=t.host.data();if(t.host=s,t.host.data(a),t.element=s[0],t.element.id=t.field.id,t.field.id=r.id,t._className&&(t.host.addClass(t._className),e(t.field).removeClass(t._className)),t.field.tabIndex){var n=t.field.tabIndex;t.field.tabIndex=-1,t.element.tabIndex=n}}else if(t.host.find("li").length>0||t.host.find("option").length>0){var o=e.jqx.parseSourceTag(that.element);t.source=o.items}t.element.innerHTML="";var t=t,l=t.element.className;l+=" "+t.toThemeProperty("jqx-listbox"),l+=" "+t.toThemeProperty("jqx-reset"),l+=" "+t.toThemeProperty("jqx-rc-all"),l+=" "+t.toThemeProperty("jqx-widget"),l+=" "+t.toThemeProperty("jqx-widget-content"),t.element.className=l;var h=!1;null!=t.width&&-1!=t.width.toString().indexOf("%")&&(t.host.width(t.width),h=!0),null!=t.height&&-1!=t.height.toString().indexOf("%")&&(t.host.height(t.height),0==t.host.height()&&t.host.height(200),h=!0),null!=t.width&&-1!=t.width.toString().indexOf("px")?t.host.width(t.width):void 0==t.width||isNaN(t.width)||(t.element.style.width=parseInt(t.width)+"px"),null!=t.height&&-1!=t.height.toString().indexOf("px")?t.host.height(t.height):void 0==t.height||isNaN(t.height)||(t.element.style.height=parseInt(t.height)+"px"),t.multiple||t.multipleextended||t.checkboxes?e.jqx.aria(t,"aria-multiselectable",!0):e.jqx.aria(t,"aria-multiselectable",!1);var d="<div style='-webkit-appearance: none; background: transparent; outline: none; width:100%; height: 100%; align:left; border: 0px; padding: 0px; margin: 0px; left: 0px; top: 0px; valign:top; position: relative;'><div style='-webkit-appearance: none; border: none; background: transparent; outline: none; width:100%; height: 100%; padding: 0px; margin: 0px; align:left; left: 0px; top: 0px; valign:top; position: relative;'><div id='filter"+t.element.id+"' style='display: none; visibility: inherit; align:left; valign:top; left: 0px; top: 0px; position: absolute;'><input style='position: absolute;'/></div><div id='listBoxContent' style='-webkit-appearance: none; border: none; background: transparent; outline: none; border: none; padding: 0px; overflow: hidden; margin: 0px; align:left; valign:top; left: 0px; top: 0px; position: absolute;'></div><div id='verticalScrollBar"+t.element.id+"' style='visibility: inherit; align:left; valign:top; left: 0px; top: 0px; position: absolute;'></div><div id='horizontalScrollBar"+t.element.id+"' style='visibility: inherit; align:left; valign:top; left: 0px; top: 0px; position: absolute;'></div><div id='bottomRight' style='align:left; valign:top; left: 0px; top: 0px; border: none; position: absolute;'/></div></div>";t.host.attr("role","listbox"),t.element.innerHTML=d,t._checkForHiddenParent&&(t._addInput(),t.host.attr("tabIndex")||t.host.attr("tabIndex",1)),t.filter=e(t.element.firstChild.firstChild.firstChild),t.filterInput=e(t.filter[0].firstChild),t.filterInput.attr("placeholder",t.filterPlaceHolder),t.filterInput.addClass(t.toThemeProperty("jqx-widget jqx-listbox-filter-input jqx-input jqx-rc-all")),t.addHandler(t.filterInput,"keyup.textchange",function(e){13==e.keyCode?t._search(e):t.filterDelay>0&&(t._filterTimer&&clearTimeout(t._filterTimer),t._filterTimer=setTimeout(function(){t._search(e)},t.filterDelay)),e.stopPropagation()});var c=e(t.element.firstChild.firstChild.firstChild.nextSibling.nextSibling);if(!t.host.jqxButton)throw new Error("jqxListBox: Missing reference to jqxbuttons.js.");if(!c.jqxScrollBar)throw new Error("jqxListBox: Missing reference to jqxscrollbar.js.");var u=parseInt(t.host.height())/2;0==u&&(u=10),t.vScrollBar=c.jqxScrollBar({_initialLayout:!0,vertical:!0,rtl:t.rtl,theme:t.theme,touchMode:t.touchMode,largestep:u});var p=e(t.element.firstChild.firstChild.firstChild.nextSibling.nextSibling.nextSibling);if(t.hScrollBar=p.jqxScrollBar({_initialLayout:!0,vertical:!1,rtl:t.rtl,touchMode:t.touchMode,theme:t.theme}),t.content=e(t.element.firstChild.firstChild.firstChild.nextSibling),t.content[0].id="listBoxContent"+t.element.id,t.bottomRight=e(t.element.firstChild.firstChild.firstChild.nextSibling.nextSibling.nextSibling.nextSibling).addClass(t.toThemeProperty("jqx-listbox-bottomright")).addClass(t.toThemeProperty("jqx-scrollbar-state-normal")),t.bottomRight[0].id="bottomRight"+t.element.id,t.vScrollInstance=e.data(t.vScrollBar[0],"jqxScrollBar").instance,t.hScrollInstance=e.data(t.hScrollBar[0],"jqxScrollBar").instance,t.isTouchDevice()&&!(e.jqx.browser.msie&&e.jqx.browser.version<9)){var f=e("<div class='overlay' unselectable='on' style='z-index: 99; -webkit-appearance: none; border: none; background: black; opacity: 0.01; outline: none; border: none; padding: 0px; overflow: hidden; margin: 0px; align:left; valign:top; left: 0px; top: 0px; position: absolute;'></div>");t.content.parent().append(f),t.overlayContent=t.host.find(".overlay"),t.filterable&&t.overlayContent.css("top","30px")}t._updateTouchScrolling(),t.host.addClass("jqx-disableselect"),t.host.jqxDragDrop&&jqxListBoxDragDrop()},_highlight:function(e,t){var i=t.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&");return e.replace(new RegExp("("+i+")","ig"),function(e,t){return"<b>"+t+"</b>"})},_addInput:function(){var t=this.host.attr("name");t&&this.host.attr("name",""),this.input=e("<input type='hidden'/>"),this.host.append(this.input),this.input.attr("name",t)},_updateTouchScrolling:function(){var t=this;if(this.isTouchDevice()){t.enableHover=!1;var i=this.overlayContent?this.overlayContent:this.content;this.removeHandler(e(i),e.jqx.mobile.getTouchEventName("touchstart")+".touchScroll"),this.removeHandler(e(i),e.jqx.mobile.getTouchEventName("touchmove")+".touchScroll"),this.removeHandler(e(i),e.jqx.mobile.getTouchEventName("touchend")+".touchScroll"),this.removeHandler(e(i),"touchcancel.touchScroll"),e.jqx.mobile.touchScroll(i,t.vScrollInstance.max,function(e,i){if(null!=i&&"hidden"!=t.vScrollBar.css("visibility")){t.vScrollInstance.value;t.vScrollInstance.setPosition(i),t._lastScroll=new Date}if(null!=e&&"hidden"!=t.hScrollBar.css("visibility")){t.hScrollInstance.value;t.hScrollInstance.setPosition(e),t._lastScroll=new Date}},this.element.id,this.hScrollBar,this.vScrollBar),"visible"!=t.vScrollBar.css("visibility")&&"visible"!=t.hScrollBar.css("visibility")?e.jqx.mobile.setTouchScroll(!1,this.element.id):e.jqx.mobile.setTouchScroll(!0,this.element.id),this._arrange()}},isTouchDevice:function(){var t=e.jqx.mobile.isTouchDevice();if(1==this.touchMode){if(this.touchDevice)return!0;if(e.jqx.browser.msie&&e.jqx.browser.version<9)return!1;this.touchDevice=!0,t=!0,e.jqx.mobile.setMobileSimulator(this.element)}else 0==this.touchMode&&(t=!1);return t&&0!=this.touchModeStyle&&(this.scrollBarSize=e.jqx.utilities.touchScrollBarSize),t&&this.host.addClass(this.toThemeProperty("jqx-touch")),t},beginUpdate:function(){this.updatingListBox=!0},endUpdate:function(){this.updatingListBox=!1,this._addItems(),this._renderItems()},beginUpdateLayout:function(){this.updating=!0},resumeUpdateLayout:function(){this.updating=!1,this.vScrollInstance.value=0,this._render(!1)},propertiesChangedHandler:function(e,t,i){i.width&&i.height&&2==Object.keys(i).length&&(e._cachedItemHtml=new Array,e.refresh())},propertyChangedHandler:function(t,i,r,s){if(void 0!=this.isInitialized&&0!=this.isInitialized&&r!=s&&!(t.batchUpdate&&t.batchUpdate.width&&t.batchUpdate.height&&2==Object.keys(t.batchUpdate).length)){if("_renderOnDemand"==i&&(t._render(!1,!0),-1!=t.selectedIndex)){
var a=t.selectedIndex;t.selectedIndex=-1,t._stopEvents=!0,t.selectIndex(a,!1,!0),-1==t.selectedIndex&&(t.selectedIndex=a),t._stopEvents=!1}if("filterable"==i&&t.refresh(),"filterHeight"==i&&t._arrange(),"filterPlaceHolder"==i&&t.filterInput.attr("placeholder",s),"renderer"==i&&(t._cachedItemHtml=new Array,t.refresh()),"itemHeight"==i&&t.refresh(),"source"!=i&&"checkboxes"!=i||(null==s&&r&&r.unbindBindingUpdate&&(r.unbindBindingUpdate(t.element.id),r.unbindDownloadComplete(t.element.id)),t.clearSelection(),t.refresh()),"scrollBarSize"!=i&&"equalItemsWidth"!=i||s!=r&&t._updatescrollbars(),"disabled"==i&&(t._renderItems(),t.vScrollBar.jqxScrollBar({disabled:s}),t.hScrollBar.jqxScrollBar({disabled:s})),"touchMode"==i||"rtl"==i){if(t._removeHandlers(),t.vScrollBar.jqxScrollBar({touchMode:s}),t.hScrollBar.jqxScrollBar({touchMode:s}),"touchMode"==i&&!(e.jqx.browser.msie&&e.jqx.browser.version<9)){var n=e("<div class='overlay' unselectable='on' style='z-index: 99; -webkit-appearance: none; border: none; background: black; opacity: 0.01; outline: none; border: none; padding: 0px; overflow: hidden; margin: 0px; align:left; valign:top; left: 0px; top: 0px; position: absolute;'></div>");t.content.parent().append(n),t.overlayContent=t.host.find(".overlay")}t.filterable&&t.filterInput&&("rtl"==i&&s?t.filterInput.addClass(t.toThemeProperty("jqx-rtl")):"rtl"!=i||s||t.filterInput.removeClass(t.toThemeProperty("jqx-rtl")),t._arrange()),t._updateTouchScrolling(),t._addHandlers(),t._render(!1)}if(this.updating||"width"!=i&&"height"!=i||t._updateSize(),"theme"==i&&r!=s&&(t.hScrollBar.jqxScrollBar({theme:t.theme}),t.vScrollBar.jqxScrollBar({theme:t.theme}),t.host.removeClass(),t.host.addClass(t.toThemeProperty("jqx-listbox")),t.host.addClass(t.toThemeProperty("jqx-widget")),t.host.addClass(t.toThemeProperty("jqx-widget-content")),t.host.addClass(t.toThemeProperty("jqx-reset")),t.host.addClass(t.toThemeProperty("jqx-rc-all")),t.refresh()),"selectedIndex"==i&&(t.clearSelection(),t.selectIndex(s,!0)),"displayMember"==i||"valueMember"==i){if(r!=s){var o=t.selectedIndex;t.refresh(),t.selectedIndex=o,t.selectedIndexes[o]=o}t._renderItems()}"autoHeight"==i&&(r!=s?t._render(!1):(t._updatescrollbars(),t._renderItems())),t._checkForHiddenParent&&e.jqx.isHidden(t.host)&&e.jqx.utilities.resize(this.host,function(){t._updateSize()},!1,t._checkForHiddenParent)}},loadFromSelect:function(t){if(null!=t){var i="#"+t,r=e(i);if(r.length>0){var s=e.jqx.parseSourceTag(r[0]),a=s.items,n=s.index;this.source=a,this.fromSelect=!0,this.clearSelection(),this.selectedIndex=n,this.selectedIndexes[this.selectedIndex]=this.selectedIndex,this.refresh()}}},invalidate:function(){this._cachedItemHtml=[],this._renderItems(),this.virtualSize=null,this._updateSize()},refresh:function(t){var i=this;if(void 0!=this.vScrollBar){this._cachedItemHtml=[],this.visibleItems=new Array;var r=function(e){if(1==e&&-1!=i.selectedIndex){var t=i.selectedIndex;i.selectedIndex=-1,i._stopEvents=!0,i.selectIndex(t,!1,!0),-1==i.selectedIndex&&(i.selectedIndex=t),i._stopEvents=!1}};if(null!=this.itemswrapper&&(this.itemswrapper.remove(),this.itemswrapper=null),e.jqx.dataAdapter&&null!=this.source&&this.source._source)return this.databind(this.source,t),void r(t);(this.autoBind||!this.autoBind&&!t)&&(this.field&&this.loadSelectTag(),this.items=this.loadItems(this.source)),this._render(!1,1==t),r(t),this._raiseEvent("6")}},loadSelectTag:function(){var t=e.jqx.parseSourceTag(this.field);this.source=t.items,-1==this.selectedIndex&&(this.selectedIndex=t.index)},_render:function(e,t){return this._renderOnDemand?(this.visibleItems=new Array,this.renderedVisibleItems=new Array,void this._renderItems()):(this._addItems(),this._renderItems(),this.vScrollInstance.setPosition(0),this._cachedItemHtml=new Array,(void 0==e||e)&&void 0!=this.items&&null!=this.items&&this.selectedIndex>=0&&this.selectedIndex<this.items.length&&this.selectIndex(this.selectedIndex,!0,!0,!0),this.allowDrag&&this._enableDragDrop&&(this._enableDragDrop(),this.isTouchDevice())?(this._removeHandlers(),this.overlayContent&&(this.overlayContent.remove(),this.overlayContent=null),this._updateTouchScrolling(),void this._addHandlers()):(this._updateTouchScrolling(),this.rendered&&this.rendered(),void(this.ready&&this.ready())))},_hitTest:function(e,t){this.filterable&&(t-=this.filterHeight,0>t&&(t=0));var i=parseInt(this.vScrollInstance.value),r=this._searchFirstVisibleIndex(t+i,this.renderedVisibleItems);if(void 0!=this.renderedVisibleItems[r]&&this.renderedVisibleItems[r].isGroup)return null;if(this.renderedVisibleItems.length>0){var s=this.renderedVisibleItems[this.renderedVisibleItems.length-1];if(s.height+s.top<t+i)return null}return r=this._searchFirstVisibleIndex(t+i),this.visibleItems[r]},_searchFirstVisibleIndex:function(e,t){void 0==e&&(e=parseInt(this.vScrollInstance.value));var i=0;void 0!=t&&null!=t||(t=this.visibleItems);for(var r=t.length;r>=i;){mid=parseInt((i+r)/2);var s=t[mid];if(void 0==s)break;if(s.initialTop>e&&s.initialTop+s.height>e)r=mid-1;else{if(!(s.initialTop<e&&s.initialTop+s.height<=e))return mid;i=mid+1}}return 0},_renderItems:function(){if(void 0==this.items||0==this.items.length)return void(this.visibleItems=new Array);if(1!=this.updatingListBox){var t=this.isTouchDevice(),i=this.vScrollInstance,r=this.hScrollInstance,s=parseInt(i.value),a=parseInt(r.value);this.rtl&&"hidden"!=this.hScrollBar[0].style.visibility&&(a=r.max-a);var n=(this.items.length,this.host.width(),parseInt(this.content[0].style.width)),o=n+parseInt(r.max),l=parseInt(this.vScrollBar[0].style.width)+2;"hidden"==this.vScrollBar[0].style.visibility&&(l=0),"visible"!=this.hScrollBar[0].style.visibility&&(o=n);var h=(this._getVirtualItemsCount(),new Array),d=0,c=parseInt(this.element.style.height)+2;-1!=this.element.style.height.indexOf("%")&&(c=this.host.outerHeight()),isNaN(c)&&(c=0);var u=0,p=0,f=0;if(0==i.value||0==this.visibleItems.length)for(var m=0;m<this.items.length;m++){var g=this.items[m];if(g.visible){g.top=-s,g.initialTop=-s,!g.isGroup&&g.visible&&(this.visibleItems[p++]=g,g.visibleIndex=p-1),this.renderedVisibleItems[f++]=g,g.left=-a;var v=g.top+g.height;v>=0&&g.top-g.height<=c&&(h[d++]={index:m,item:g}),s-=g.height,s--}}var x=s>0?this._searchFirstVisibleIndex(this.vScrollInstance.value,this.renderedVisibleItems):0,b=0;d=0;for(var w=this.vScrollInstance.value,y=0;100+c>b;){var g=this.renderedVisibleItems[x];if(void 0==g)break;if(g.visible){g.left=-a;var v=g.top+g.height-w;v>=0&&g.initialTop-w-g.height<=2*c&&(h[d++]={index:x,item:g})}if(x++,g.visible&&(b+=g.initialTop-w+g.height-b),y++,y>this.items.length-1)break}if(!this._renderOnDemand)for(var _=this.toThemeProperty("jqx-listitem-state-normal")+" "+this.toThemeProperty("jqx-item"),j=this.toThemeProperty("jqx-listitem-state-group"),q=this.toThemeProperty("jqx-listitem-state-disabled")+" "+this.toThemeProperty("jqx-fill-state-disabled"),T=0,S=this,m=0;m<this.visualItems.length;m++){var C=this.visualItems[m],I=function(){var e=C[0].firstChild;if(S.checkboxes&&(e=C[0].lastChild),null!=e&&(e.style.visibility="hidden",e.className=""),S.checkboxes){var t=C.find(".chkbox");t.css({visibility:"hidden"})}};if(m<h.length){var g=h[m].item;if(g.initialTop-w>=c){I();continue}var k=e(C[0].firstChild);if(this.checkboxes&&(k=e(C[0].lastChild)),0==k.length)continue;if(null==k[0])continue;k[0].className="",k[0].style.display="block",k[0].style.visibility="inherit";var D="";if(D=!g.isGroup&&!this.selectedIndexes[g.index]>=0?_:j,(g.disabled||this.disabled)&&(D+=" "+q),this.roundedcorners&&(D+=" "+this.toThemeProperty("jqx-rc-all")),t&&(D+=" "+this.toThemeProperty("jqx-listitem-state-normal-touch")),k[0].className=D,this.renderer)if(g.key||(g.key=this.generatekey()),this._cachedItemHtml||(this._cachedItemHtml=new Array),this._cachedItemHtml[g.key])k[0].innerHTML!=this._cachedItemHtml[g.key]&&(k[0].innerHTML=this._cachedItemHtml[g.key]);else{var M=this.renderer(g.index,g.label,g.value);k[0].innerHTML=M,this._cachedItemHtml[g.key]=k[0].innerHTML}else{if(-1!==this.itemHeight){var P=2+2*parseInt(k.css("padding-top"));k[0].style.lineHeight=g.height-P+"px",k.css("vertical-align","middle")}null!=g.html&&g.html.toString().length>0?k[0].innerHTML=g.html:null!=g.label||null!=g.value?null!=g.label?(k[0].innerHTML!==g.label&&(k[0].innerHTML=g.label),""==e.trim(g.label)&&(k[0].innerHTML=this.emptyString,""==this.emptyString&&(k[0].style.height=g.height-8+"px")),this.incrementalSearch||g.disabled||void 0!=this.searchString&&""!=this.searchString&&(k[0].innerHTML=this._highlight(g.label.toString(),this.searchString))):null===g.label?(k[0].innerHTML=this.emptyString,""==this.emptyString&&(k[0].style.height=g.height-8+"px")):k[0].innerHTML!==g.value?k[0].innerHTML=g.value:""==g.label&&(k[0].innerHTML=" "):""!=g.label&&null!=g.label||(k[0].innerHTML="",k[0].style.height=g.height-8+"px")}if(C[0].style.left=g.left+"px",C[0].style.top=g.initialTop-w+"px",g.element=k[0],g.title&&(k[0].title=g.title),this.equalItemsWidth&&!g.isGroup){if(0==u){var N=parseInt(o),B=parseInt(k.outerWidth())-parseInt(k.width());N-=B;var O=1;O=null!=O?parseInt(O):0,N-=2*O,u=N,this.checkboxes&&"hidden"==this.hScrollBar[0].style.visibility&&(u-=18)}n>this.virtualSize.width?(k[0].style.width=u+"px",g.width=u):(k[0].style.width=-4+this.virtualSize.width+"px",g.width=this.virtualSize.width-4)}else k.width()<this.host.width()&&k.width(this.host.width()-2);if(this.rtl&&(k[0].style.textAlign="right"),this.autoItemsHeight&&(k[0].style.whiteSpace="pre-line",k.width(u),g.width=u),T=0,this.checkboxes&&!g.isGroup){0==T&&(T=(g.height-16)/2,T++);var E=e(C.children()[0]);E[0].item=g,this.rtl?"0px"!=k[0].style.left&&(k[0].style.left="0px"):"18px"!=k[0].style.left&&(k[0].style.left="18px"),this.rtl&&E.css("left",8+g.width+"px"),E[0].style.top=T+"px",E[0].style.display="block",E[0].style.visibility="inherit";var A=g.checked,H=g.checked?" "+this.toThemeProperty("jqx-checkbox-check-checked"):"";E[0].firstChild&&E[0].firstChild.firstChild&&E[0].firstChild.firstChild.firstChild&&E[0].firstChild.firstChild&&(A?E[0].firstChild.firstChild.firstChild.className=H:A===!1?E[0].firstChild.firstChild.firstChild.className="":null===A&&(E[0].firstChild.firstChild.firstChild.className=this.toThemeProperty("jqx-checkbox-check-indeterminate"))),e.jqx.ariaEnabled&&(A?C[0].setAttribute("aria-selected",!0):C[0].removeAttribute("aria-selected"))}else if(this.checkboxes){var E=e(C.children()[0]);E.css({display:"none",visibility:"inherit"})}!g.disabled&&(!this.filterable&&this.selectedIndexes[g.visibleIndex]>=0||g.selected&&this.filterable)?(k.addClass(this.toThemeProperty("jqx-listitem-state-selected")),k.addClass(this.toThemeProperty("jqx-fill-state-pressed")),e.jqx.ariaEnabled&&(C[0].setAttribute("aria-selected",!0),this._activeElement=C[0])):this.checkboxes||e.jqx.ariaEnabled&&C[0].removeAttribute("aria-selected")}else I()}}},generatekey:function(){var e=function(){return(65536*(1+Math.random())|0).toString(16).substring(1)};return e()+e()+"-"+e()+"-"+e()+"-"+e()+"-"+e()+e()+e()},_calculateVirtualSize:function(t){if(!this._renderOnDemand){var i=0,r=2,s=0,a=document.createElement("span");this.equalItemsWidth&&e(a).css("float","left"),a.style.whiteSpace="pre";var n=0,o=void 0===t?this.host.outerHeight():t+2;document.body.appendChild(a);var l=this.items.length,h=this.host.width();if(this.autoItemsHeight&&(h-=10,"hidden"!=this.vScrollBar.css("visibility")&&(h-=20)),this.autoItemsHeight||this.renderer||this.groups.length>=1||l>0&&null!=this.items[0].html&&""!=this.items[0].html)for(var s=0;l>s;s++){var d=this.items[s];if((!d.isGroup||""!=d.label||""!=d.html)&&d.visible){var c="";if(c+=d.isGroup?this.toThemeProperty("jqx-listitem-state-group jqx-rc-all"):this.toThemeProperty("jqx-widget jqx-listitem-state-normal jqx-rc-all"),c+=" "+this.toThemeProperty("jqx-fill-state-normal"),this.isTouchDevice()&&(c+=" "+this.toThemeProperty("jqx-touch")),a.className=c,this.autoItemsHeight){a.style.whiteSpace="pre-line";var u=this.checkboxes?-20:0;a.style.width=u+h+"px"}if(this.renderer){var p=this.renderer(d.index,d.label,d.value);a.innerHTML=p}else null!=d.html&&d.html.toString().length>0?a.innerHTML=d.html:null==d.label&&null==d.value||(null!=d.label?(a.innerHTML=d.label,""==d.label&&(a.innerHTML="Empty")):a.innerHTML=d.value);var f=a.offsetHeight,m=a.offsetWidth;this.itemHeight>-1&&(f=this.itemHeight),d.height=f,d.width=m,f++,r+=f,i=Math.max(i,m),o>=r&&n++}}else{for(var r=0,g=0,v="",x=0,b=0,w=-1,s=0;l>s;s++){var d=this.items[s];if((!d.isGroup||""!=d.label||""!=d.html)&&d.visible){w++;var c="";if(0==w){if(c+=this.toThemeProperty("jqx-listitem-state-normal jqx-rc-all"),c+=" "+this.toThemeProperty("jqx-fill-state-normal"),c+=" "+this.toThemeProperty("jqx-widget"),c+=" "+this.toThemeProperty("jqx-listbox"),c+=" "+this.toThemeProperty("jqx-widget-content"),this.isTouchDevice()&&(c+=" "+this.toThemeProperty("jqx-touch"),c+=" "+this.toThemeProperty("jqx-listitem-state-normal-touch")),a.className=c,this.autoItemsHeight){a.style.whiteSpace="pre-line";var u=this.checkboxes?-20:0;a.style.width=u+h+"px"}null==d.html||""==d.label||null==d.label?a.innerHTML="Item":null!=d.html&&d.html.toString().length>0?a.innerHTML=d.html:null==d.label&&null==d.value||(null!=d.label?null!=d.label.toString().match(new RegExp("\\w"))||null!=d.label.toString().match(new RegExp("\\d"))?a.innerHTML=d.label:a.innerHTML="Item":a.innerHTML=d.value);var f=1+a.offsetHeight;this.itemHeight>-1&&(f=this.itemHeight),g=f}void 0!=x&&(b=x),null!=d.html&&d.html.toString().length>0?(x=Math.max(x,d.html.toString().length),b!=x&&(v=d.html)):null!=d.label?(x=Math.max(x,d.label.length),b!=x&&(v=d.label)):null!=d.value&&(x=Math.max(x,d.value.length),b!=x&&(v=d.value)),d.height=g,r+=g,r++,o>=r&&n++}}a.innerHTML=v,i=a.offsetWidth}return r+=2,10>n&&(n=10),this.filterable&&(r+=this.filterHeight),a.parentNode.removeChild(a),{width:i,height:r,itemsPerPage:n}}},_getVirtualItemsCount:function(){if(0==this.virtualItemsCount){var e=parseInt(this.host.height())/5;return e>this.items.length&&(e=this.items.length),e}return this.virtualItemsCount},_addItems:function(t){if(!this._renderOnDemand){var i=this;if(1!=i.updatingListBox){if(void 0==i.items||0==i.items.length)return i.virtualSize={width:0,height:0,itemsPerPage:0},i._updatescrollbars(),i.renderedVisibleItems=new Array,void(i.itemswrapper&&i.itemswrapper.children().remove());var r=i.host.height();if(0==t){var s=i._calculateVirtualSize(r),a=2*s.itemsPerPage;i.autoHeight&&(a=i.items.length),i.virtualItemsCount=Math.min(a,i.items.length);s.width;return i.virtualSize=s,void i._updatescrollbars()}var n=this,o=0;i.visibleItems=new Array,i.renderedVisibleItems=new Array,i._removeHandlers(),i.allowDrag&&i._enableDragDrop&&(i.itemswrapper=null),null==i.itemswrapper&&(i.content[0].innerHTML="",i.itemswrapper=e('<div style="outline: 0 none; overflow:hidden; width:100%; position: relative;"></div>'),i.itemswrapper[0].style.height=2*r+"px",i.content[0].appendChild(i.itemswrapper[0]));var s=i._calculateVirtualSize(r),a=2*s.itemsPerPage;i.autoHeight&&(a=i.items.length),i.virtualItemsCount=Math.min(a,i.items.length);var i=this;s.width;i.virtualSize=s;var l=Math.max(i.host.width(),17+s.width);i.itemswrapper[0].style.width=l+"px";for(var h=0,d="",c=e.jqx.browser.msie&&e.jqx.browser.version<9,u=c?' unselectable="on"':"",p=h;p<i.virtualItemsCount;p++){var f=i.items[p],m="listitem"+p+i.element.id;if(d+="<div"+u+" role='option' id='"+m+"' class='jqx-listitem-element'>",i.checkboxes){d+='<div style="background-color: transparent; padding: 0; margin: 0; position: absolute; float: left; width: 16px; height: 16px;" class="chkbox">';var g='<div class="'+i.toThemeProperty("jqx-checkbox-default")+" "+i.toThemeProperty("jqx-fill-state-normal")+" "+i.toThemeProperty("jqx-rc-all")+'"><div style="cursor: pointer; width: 13px; height: 13px;">',v=f.checked?" "+i.toThemeProperty("jqx-checkbox-check-checked"):"";g+='<span style="width: 13px; height: 13px;" class="checkBoxCheck'+v+'"></span>',g+="</div></div>",d+=g,d+="</div>"}d+="<span"+u+" style='white-space: pre; -ms-touch-action: none;'></span></div>"}n.WinJS?i.itemswrapper.html(d):i.itemswrapper[0].innerHTML=d;for(var x=i.itemswrapper.children(),p=h;p<i.virtualItemsCount;p++){var f=i.items[p],b=e(x[p]);if(i.allowDrag&&i._enableDragDrop&&b.addClass("draggable"),i.checkboxes){e(b.children()[0]);b.css("float","left");var w=e(b[0].firstChild);w.css("float","left")}b[0].style.height=f.height+"px",b[0].style.top=o+"px",o+=f.height+1,i.visualItems[p]=b}if(i._addHandlers(),i._updatescrollbars(),i.autoItemsHeight){var s=i._calculateVirtualSize(r),a=2*s.itemsPerPage;i.autoHeight&&(a=i.items.length),i.virtualItemsCount=Math.min(a,i.items.length);var i=this;s.width;i.virtualSize=s,i._updatescrollbars()}e.jqx.browser.msie&&e.jqx.browser.version<8&&(i.host.attr("hideFocus",!0),i.host.find("div").attr("hideFocus",!0))}}},_updatescrollbars:function(){var t=this;if(t.virtualSize){var i=t.virtualSize.height,r=t.virtualSize.width,s=t.vScrollInstance,a=t.hScrollInstance;t._arrange(!1);var n=!1,o=t.host.outerWidth(),l=t.host.outerHeight(),h=0;if(r>o&&(h=t.hScrollBar.outerHeight()+2),i+h>l){var d=s.max;s.max=2+parseInt(i)+h-parseInt(l-2),"inherit"!=t.vScrollBar[0].style.visibility&&(t.vScrollBar[0].style.visibility="inherit",n=!0),d!=s.max&&s._arrange()}else"hidden"!=t.vScrollBar[0].style.visibility&&(t.vScrollBar[0].style.visibility="hidden",n=!0,s.setPosition(0));var c=0;"hidden"!=t.vScrollBar[0].style.visibility&&(c=t.scrollBarSize+6);var u=t.checkboxes?20:0;if(t.autoItemsHeight)t.hScrollBar[0].style.visibility="hidden";else if(r>=o-c-u){var p=a.max;"inherit"==t.vScrollBar[0].style.visibility?a.max=u+c+parseInt(r)-t.host.width()+4:a.max=u+parseInt(r)-t.host.width()+6,"inherit"!=t.hScrollBar[0].style.visibility&&(t.hScrollBar[0].style.visibility="inherit",n=!0),p!=a.max&&a._arrange(),"inherit"==t.vScrollBar[0].style.visibility&&(s.max=2+parseInt(i)+t.hScrollBar.outerHeight()+2-parseInt(t.host.height()))}else"hidden"!=t.hScrollBar[0].style.visibility&&(t.hScrollBar[0].style.visibility="hidden",n=!0);a.setPosition(0),n&&t._arrange(),t.itemswrapper&&(t.itemswrapper[0].style.width=Math.max(0,Math.max(o-2,17+r))+"px",t.itemswrapper[0].style.height=Math.max(0,2*l)+"px");var f=t.isTouchDevice();f&&("visible"!=t.vScrollBar.css("visibility")&&"visible"!=t.hScrollBar.css("visibility")?e.jqx.mobile.setTouchScroll(!1,t.element.id):e.jqx.mobile.setTouchScroll(!0,t.element.id))}},clear:function(){this.source=null,this.clearSelection(),this.refresh()},clearSelection:function(e){for(var t=0;t<this.selectedIndexes.length;t++)this.selectedIndexes[t]&&-1!=this.selectedIndexes[t]&&this._raiseEvent("1",{index:t,type:"api",item:this.getVisibleItem(t),originalEvent:null}),this.selectedIndexes[t]=-1;this.selectedIndex=-1,this.selectedValue=null,this.selectedValues=new Array,0!=e&&this._renderItems()},unselectIndex:function(e,t){if(!isNaN(e)){this.selectedIndexes[e]=-1;for(var i=!1,r=0;r<this.selectedIndexes.length;r++){var s=this.selectedIndexes[r];-1!=s&&void 0!=s&&(i=!0)}if(!i){this.selectedValue=null,this.selectedIndex=-1;var a=this.getVisibleItem(e);a&&this.selectedValues[a.value]&&(this.selectedValues[a.value]=null)}void 0!=t&&1!=t||(this._renderItems(),this._raiseEvent("1",{index:e,type:"api",item:this.getVisibleItem(e),originalEvent:null})),this._updateInputSelection(),this._raiseEvent("2",{index:e,type:"api",item:this.getItem(e)})}},getInfo:function(){var e=this,t=this.getItems(),i=this.getVisibleItems(),r=function(){var t=e.vScrollInstance.value;e.filterable&&(t-=e.filterHeight);for(var r=new Array,s=0;s<i.length;s++){var a=i[s];if(a){var n=a.initialTop,o=a.height,l=!0;(0>n+o-t||n-t>=e.host.height())&&(l=!1),l&&r.push(a)}}return r}();return{items:t,visibleItems:i,viewItems:r}},getItem:function(t){if(-1==t||isNaN(t)||"string"==typeof t)return-1===t?null:this.getItemByValue(t);var i=null;e.each(this.items,function(){return this.index==t?(i=this,!1):void 0});return i},getVisibleItem:function(e){return-1==e||isNaN(e)||"string"==typeof e?-1===e?null:this.getItemByValue(e):this.visibleItems[e]},getVisibleItems:function(){return this.visibleItems},checkIndex:function(t,i,r){if(this.checkboxes&&!isNaN(t)&&!(0>t||t>=this.visibleItems.length||null!=this.visibleItems[t]&&this.visibleItems[t].disabled||this.disabled)){var s=this.getItem(t);if(this.groups.length>0||this.filterable)var s=this.getVisibleItem(t);if(null!=s){e(s.checkBoxElement);s.checked=!0,void 0!=i&&1!=i||this._updateCheckedItems()}void 0!=r&&1!=r||this._raiseEvent(3,{label:s.label,value:s.value,checked:!0,item:s})}},getCheckedItems:function(){if(!this.checkboxes)return null;var t=new Array;if(void 0!=this.items)return e.each(this.items,function(){this.checked&&(t[t.length]=this)}),t},checkAll:function(t){if(this.checkboxes&&!this.disabled){var i=this;e.each(this.items,function(){var e=this;t!==!1&&e.checked!==!0&&i._raiseEvent(3,{label:e.label,value:e.value,checked:!0,item:e}),this.checked=!0}),this._updateCheckedItems()}},uncheckAll:function(t){if(this.checkboxes&&!this.disabled){var i=this;e.each(this.items,function(){var e=this;t!==!1&&e.checked!==!1&&(this.checked=!1,i._raiseEvent(3,{label:e.label,value:e.value,checked:!1,item:e})),this.checked=!1}),this._updateCheckedItems()}},uncheckIndex:function(t,i,r){if(this.checkboxes&&!isNaN(t)&&!(0>t||t>=this.visibleItems.length||null!=this.visibleItems[t]&&this.visibleItems[t].disabled||this.disabled)){var s=this.getItem(t);if(this.groups.length>0||this.filterable)var s=this.getVisibleItem(t);if(null!=s){e(s.checkBoxElement);s.checked=!1,void 0!=i&&1!=i||this._updateCheckedItems()}void 0!=r&&1!=r||this._raiseEvent(3,{label:s.label,value:s.value,checked:!1,item:s})}},indeterminateIndex:function(t,i,r){if(this.checkboxes&&!isNaN(t)&&!(0>t||t>=this.visibleItems.length||null!=this.visibleItems[t]&&this.visibleItems[t].disabled||this.disabled)){var s=this.getItem(t);if(this.groups.length>0||this.filterable)var s=this.getVisibleItem(t);if(null!=s){e(s.checkBoxElement);s.checked=null,void 0!=i&&1!=i||this._updateCheckedItems()}void 0!=r&&1!=r||this._raiseEvent(3,{checked:null})}},getSelectedIndex:function(){return this.selectedIndex},getSelectedItems:function(){var e=this.getVisibleItems(),t=this.selectedIndexes,i=[];for(var r in t)-1!=t[r]&&(i[i.length]=e[r]);return i},getSelectedItem:function(){var e=this.getSelectedItems();return e&&e.length>0?e[0]:null},_updateCheckedItems:function(){var t=this.selectedIndex;this.clearSelection(!1);this.getCheckedItems();this.selectedIndex=t,this._renderItems();var i=e.data(this.element,"hoveredItem");null!=i&&(e(i).addClass(this.toThemeProperty("jqx-listitem-state-hover")),e(i).addClass(this.toThemeProperty("jqx-fill-state-hover"))),this._updateInputSelection()},getItemByValue:function(t){if(null!=this.visibleItems){if(t&&t.value&&(t=t.value),this.itemsByValue)return this.itemsByValue[e.trim(t).split(" ").join("?")];for(var i=this.visibleItems,r=0;r<i.length;r++)if(i[r].value==t)return i[r]}},checkItem:function(e){if(null!=e){var t=this._getItemByParam(e);return this.checkIndex(t.visibleIndex,!0)}return!1},uncheckItem:function(e){if(null!=e){var t=this._getItemByParam(e);return this.uncheckIndex(t.visibleIndex,!0)}return!1},indeterminateItem:function(e){if(null!=e){var t=this._getItemByParam(e);return this.indeterminateIndex(t.visibleIndex,!0)}return!1},val:function(e){if(this.input){var t=function(t){for(var i in t)if(t.hasOwnProperty(i))return!1;return"number"==typeof e?!1:"date"==typeof e?!1:"boolean"==typeof e?!1:"string"!=typeof e};if(t(e)||0==arguments.length)return this.input.val();var i=this.getItemByValue(e);return null!=i&&this.selectItem(i),this.input?this.input.val():void 0}},selectItem:function(e){if(null!=e){if(void 0==e.index){var t=this.getItemByValue(e);t&&(e=t)}return this.selectIndex(e.visibleIndex,!0)}return this.clearSelection(),!1},unselectItem:function(e){if(null!=e){if(void 0==e.index){var t=this.getItemByValue(e);t&&(e=t)}return this.unselectIndex(e.visibleIndex,!0)}return!1},selectIndex:function(e,t,i,r,s,a){if(!isNaN(e)){var n=this.selectedIndex;if(this.filterable&&(this.selectedIndex=-1),!(-1>e||e>=this.visibleItems.length||null!=this.visibleItems[e]&&this.visibleItems[e].disabled||this.disabled)){if(!(this.multiple||this.multipleextended||this.selectedIndex!=e||r||this.checkboxes))return void(this.visibleItems&&this.items&&this.visibleItems.length!=this.items.length&&(l=this.getVisibleItem(e),l&&(this.selectedValue=l.value,this.selectedValues[l.value]=l.value)));if(this.checkboxes){this._updateCheckedItems();var o=n;this.selectedIndex!=e||this.multiple||(o=-1),void 0==s&&(s="none");var l=this.getItem(e),h=this.getItem(o);return this.visibleItems&&this.items&&this.visibleItems.length!=this.items.length&&(l=this.getVisibleItem(e),h=this.getVisibleItem(o)),this._raiseEvent("1",{index:o,type:s,item:h,originalEvent:a}),this.selectedIndex=e,this.selectedIndexes[o]=-1,this.selectedIndexes[e]=e,l&&(this.selectedValue=l.value,this.selectedValues[l.value]=l.value),this._raiseEvent("0",{index:e,type:s,item:l,originalEvent:a}),void this._renderItems()}this.focused=!0;var d=!1;this.selectedIndex!=e&&(d=!0);var o=n;this.selectedIndex!=e||this.multiple||(o=-1),void 0==s&&(s="none");var l=this.getItem(e),h=this.getItem(o);if(this.visibleItems&&this.items&&this.visibleItems.length!=this.items.length&&(l=this.getVisibleItem(e),h=this.getVisibleItem(o)),void 0!=r&&r)this._raiseEvent("1",{index:o,type:s,item:h,originalEvent:a}),this.selectedIndex=e,this.selectedIndexes[o]=-1,this.selectedIndexes[e]=e,l&&(this.selectedValue=l.value,this.selectedValues[l.value]=l.value),this._raiseEvent("0",{index:e,type:s,item:l,originalEvent:a});else{var c=this,u=function(e,t,i,r,s,a){c._raiseEvent("1",{index:t,type:i,item:r,originalEvent:a}),c.selectedIndex=e,c.selectedIndexes=[],t=e,c.selectedIndexes[e]=e,c.selectedValues=new Array,s&&(c.selectedValues[s.value]=s.value),c._raiseEvent("0",{index:e,type:i,item:s,originalEvent:a})},p=function(e,t,i,r,s,a){void 0==c.selectedIndexes[e]||-1==c.selectedIndexes[e]?(c.selectedIndexes[e]=e,c.selectedIndex=e,s&&(c.selectedValues[s.value]=s.value,c._raiseEvent("0",{index:e,type:i,item:s,originalEvent:a}))):(t=c.selectedIndexes[e],r=c.getVisibleItem(t),r&&(c.selectedValues[r.value]=null),c.selectedIndexes[e]=-1,c.selectedIndex=-1,c._raiseEvent("1",{index:t,type:i,item:r,originalEvent:a}))};if(this.multipleextended)if(this._shiftKey||this._ctrlKey){if(this._ctrlKey)"keyboard"==s&&(this.clearSelection(!1),c._clickedIndex=e),p(e,o,s,h,l,a);else if(this._shiftKey){void 0==c._clickedIndex&&(c._clickedIndex=o);var f=Math.min(c._clickedIndex,e),m=Math.max(c._clickedIndex,e);this.clearSelection(!1);for(var g=f;m>=g;g++)c.selectedIndexes[g]=g,c.selectedValues[c.getVisibleItem(g).value]=c.getVisibleItem(g).value,c._raiseEvent("0",{index:g,type:s,item:this.getVisibleItem(g),originalEvent:a});"keyboard"!=s?c.selectedIndex=c._clickedIndex:c.selectedIndex=e}}else"keyboard"!=s&&"mouse"!=s?(p(e,o,s,h,l,a),c._clickedIndex=e):(this.clearSelection(!1),c._clickedIndex=e,u(e,o,s,h,l,a));else this.multiple?p(e,o,s,h,l,a):(l&&(this.selectedValue=l.value),u(e,o,s,h,l,a))}return void 0!=i&&1!=i||this._renderItems(),void 0!=t&&null!=t&&1==t&&this.ensureVisible(e),this._raiseEvent("2",{index:e,item:l,oldItem:h,type:s,originalEvent:a}),this._updateInputSelection(),d}}},_updateInputSelection:function(){this._syncSelection();var t=new Array;if(this.input&&(-1==this.selectedIndex?this.input.val(""):this.items&&void 0!=this.items[this.selectedIndex]&&(this.input.val(this.items[this.selectedIndex].value),t.push(this.items[this.selectedIndex].value)),this.multiple||this.multipleextended||this.checkboxes)){var i=this.checkboxes?this.getCheckedItems():this.getSelectedItems(),r="";if(i){for(var s=0;s<i.length;s++)void 0!=i[s]&&(r+=s==i.length-1?i[s].value:i[s].value+",",t.push(i[s].value));this.input.val(r)}}this.field&&this.input&&("select"==this.field.nodeName.toLowerCase()?e.each(this.field,function(i,r){e(this).removeAttr("selected"),this.selected=t.indexOf(this.value)>=0,this.selected&&e(this).attr("selected",!0)}):e.each(this.items,function(i,r){e(this.originalItem.originalItem).removeAttr("data-selected"),this.selected=t.indexOf(this.value)>=0,this.selected&&e(this.originalItem.originalItem).attr("data-selected",!0)}))},isIndexInView:function(e){if(isNaN(e))return!1;if(!this.items)return!1;if(0>e||e>=this.items.length)return!1;var t=this.vScrollInstance.value,i=0;this.filterable&&(i=this.filterHeight);var r=this.visibleItems[e];if(void 0==r)return!0;var s=r.initialTop,a=r.height;return!(i>s-t||s-t+i+a>=this.host.outerHeight())},_itemsInPage:function(){var t=0,i=this;return this.items&&e.each(this.items,function(){return this.initialTop+this.height>=i.content.height()?!1:void t++}),t},_firstItemIndex:function(){return null!=this.visibleItems?this.visibleItems[0]&&this.visibleItems[0].isGroup?this._nextItemIndex(0):0:-1},_lastItemIndex:function(){return null!=this.visibleItems?this.visibleItems[this.visibleItems.length-1]&&this.visibleItems[this.visibleItems.length-1].isGroup?this._prevItemIndex(this.visibleItems.length-1):this.visibleItems.length-1:-1},_nextItemIndex:function(e){for(indx=e+1;indx<this.visibleItems.length;indx++)if(this.visibleItems[indx]&&!this.visibleItems[indx].disabled&&!this.visibleItems[indx].isGroup)return indx;return-1},_prevItemIndex:function(e){for(indx=e-1;indx>=0;indx--)if(this.visibleItems[indx]&&!this.visibleItems[indx].disabled&&!this.visibleItems[indx].isGroup)return indx;return-1},clearFilter:function(){this.filterInput.val(""),this._updateItemsVisibility("")},_search:function(e){var t=this,i=t.filterInput.val();return 9!=e.keyCode&&"none"!=t.searchMode&&null!=t.searchMode&&"undefined"!=t.searchMode&&16!=e.keyCode&&17!=e.keyCode&&20!=e.keyCode?37==e.keyCode||39==e.keyCode?!1:void(e.altKey||18==e.keyCode||e.keyCode>=33&&e.keyCode<=40||(e.ctrlKey||e.metaKey||t.ctrlKey)&&88!=e.keyCode&&86!=e.keyCode||i!==t.searchString&&t._updateItemsVisibility(i)):void 0},_updateItemsVisibility:function(t){var i=this.getItems();if(void 0==i)return{index:-1,matchItem:new Array};var r=this,s=-1,a=new Array,n=0;e.each(i,function(i){var o="";if(!this.isGroup){o=this.searchLabel?this.searchLabel:this.label?this.label:this.value?this.value:this.title?this.title:"jqxItem",o=o.toString();var l=!1;switch(r.searchMode){case"containsignorecase":l=e.jqx.string.containsIgnoreCase(o,t);break;case"contains":l=e.jqx.string.contains(o,t);break;case"equals":l=e.jqx.string.equals(o,t);break;case"equalsignorecase":l=e.jqx.string.equalsIgnoreCase(o,t);break;case"startswith":l=e.jqx.string.startsWith(o,t);break;case"startswithignorecase":l=e.jqx.string.startsWithIgnoreCase(o,t);break;case"endswith":l=e.jqx.string.endsWith(o,t);break;case"endswithignorecase":l=e.jqx.string.endsWithIgnoreCase(o,t)}l||(this.visible=!1),l&&(a[n++]=this,this.visible=!0,s=this.visibleIndex),""==t&&(this.visible=!0,l=!1)}}),r.renderedVisibleItems=new Array,r.visibleItems=new Array,r.vScrollInstance.setPosition(0,!0),r._addItems(!1),r._renderItems();for(var o=0;o<r.items.length;o++)r.selectedIndexes[o]=-1;r.selectedIndex=-1;for(var l in r.selectedValues){var t=r.selectedValues[l],h=r.getItemByValue(t);h&&h.visible&&(r.selectedIndex=h.visibleIndex,r.selectedIndexes[h.visibleIndex]=h.visibleIndex)}r._syncSelection(),r.filterChange&&r.filterChange(t)},_getMatches:function(t,i){if(void 0==t||0==t.length)return-1;void 0==i&&(i=0);var r=this.getItems(),s=this,a=-1;return e.each(r,function(r){var n="";if(!this.isGroup){n=this.searchLabel?this.searchLabel.toString():this.label?this.label.toString():this.value?this.value.toString():this.title?this.title.toString():"jqxItem";var o=!1;switch(s.searchMode){case"containsignorecase":o=e.jqx.string.containsIgnoreCase(n,t);break;case"contains":o=e.jqx.string.contains(n,t);break;case"equals":o=e.jqx.string.equals(n,t);break;case"equalsignorecase":o=e.jqx.string.equalsIgnoreCase(n,t);break;case"startswith":o=e.jqx.string.startsWith(n,t);break;case"startswithignorecase":
o=e.jqx.string.startsWithIgnoreCase(n,t);break;case"endswith":o=e.jqx.string.endsWith(n,t);break;case"endswithignorecase":o=e.jqx.string.endsWithIgnoreCase(n,t)}if(o&&this.visibleIndex>=i)return a=this.visibleIndex,!1}}),a},findItems:function(t){var i=this.getItems(),r=this,s=0,a=new Array;return e.each(i,function(i){var n="";if(!this.isGroup){n=this.label?this.label:this.value?this.value:this.title?this.title:"jqxItem";var o=!1;switch(r.searchMode){case"containsignorecase":o=e.jqx.string.containsIgnoreCase(n,t);break;case"contains":o=e.jqx.string.contains(n,t);break;case"equals":o=e.jqx.string.equals(n,t);break;case"equalsignorecase":o=e.jqx.string.equalsIgnoreCase(n,t);break;case"startswith":o=e.jqx.string.startsWith(n,t);break;case"startswithignorecase":o=e.jqx.string.startsWithIgnoreCase(n,t);break;case"endswith":o=e.jqx.string.endsWith(n,t);break;case"endswithignorecase":o=e.jqx.string.endsWithIgnoreCase(n,t)}o&&(a[s++]=this)}}),a},_syncSelection:function(){var e=this;if(e.filterable){if(e.items)for(var t=0;t<e.items.length;t++){var i=e.items[t];i.selected=!1}for(var t=0;t<e.visibleItems.length;t++){var i=e.visibleItems[t];e.selectedIndexes&&e.selectedIndexes[t]==i.visibleIndex&&(i.selected=!0)}e.itemswrapper&&e._renderItems()}},_handleKeyDown:function(e){var t=e.keyCode,i=this,r=i.selectedIndex,s=i.selectedIndex;if(this.keyboardNavigation&&this.enableSelection&&(!this.filterInput||e.target!=this.filterInput[0])){var a=function(){(i.multiple||i.checkboxes)&&i.clearSelection(!1)};if(e.altKey&&(t=-1),32==t&&this.checkboxes){var n=this.getItem(r);return null!=n&&(i._updateItemCheck(n,r),e.preventDefault()),i._searchString="",i.selectIndex(n.visibleIndex,!1,!0,!0,"keyboard",e),void i._renderItems()}if(i.incrementalSearch){var o=-1;i._searchString||(i._searchString=""),(8==t||46==t)&&i._searchString.length>=1&&(i._searchString=i._searchString.substr(0,i._searchString.length-1));var l=String.fromCharCode(t),h=!isNaN(parseInt(l)),d=!1;if(t>=65&&97>=t||h||8==t||32==t||46==t){e.shiftKey||(l=l.toLocaleLowerCase());var c=1+i.selectedIndex;8!=t&&32!=t&&46!=t&&(i._searchString.length>0&&i._searchString.substr(0,1)==l?(c=1+i.selectedIndex,i._searchString+=l):i._searchString+=l),32==t&&(i._searchString+=" ");var u=this._getMatches(i._searchString,c);if(o=u,o==i._lastMatchIndex||-1==o){var u=this._getMatches(i._searchString,0);o=u}if(i._lastMatchIndex=o,o>=0){var p=function(){a(),i.selectIndex(o,!1,!1,!1,"keyboard",e);var t=i.isIndexInView(o);t?i._renderItems():i.ensureVisible(o)};i._toSelectTimer&&clearTimeout(i._toSelectTimer),i._toSelectTimer=setTimeout(function(){p()},i.incrementalSearchKeyDownDelay)}d=!0}if(void 0!=i._searchTimer&&clearTimeout(i._searchTimer),27!=t&&13!=t||(i._searchString=""),i._searchTimer=setTimeout(function(){i._searchString="",i._renderItems()},i.incrementalSearchDelay),o>=0)return;if(d)return!1}if(33==t){var f=i._itemsInPage();i.selectedIndex-f>=0?(a(),i.selectIndex(s-f,!1,!1,!1,"keyboard",e)):(a(),i.selectIndex(i._firstItemIndex(),!1,!1,!1,"keyboard",e)),i._searchString=""}if(32==t&&this.checkboxes){var n=this.getItem(r);null!=n&&(i._updateItemCheck(n,r),e.preventDefault()),i._searchString=""}if(36==t&&(a(),i.selectIndex(i._firstItemIndex(),!1,!1,!1,"keyboard",e),i._searchString=""),35==t&&(a(),i.selectIndex(i._lastItemIndex(),!1,!1,!1,"keyboard",e),i._searchString=""),34==t){var f=i._itemsInPage();i.selectedIndex+f<i.visibleItems.length?(a(),i.selectIndex(s+f,!1,!1,!1,"keyboard",e)):(a(),i.selectIndex(i._lastItemIndex(),!1,!1,!1,"keyboard",e)),i._searchString=""}if(38==t){if(i._searchString="",!(i.selectedIndex>0))return!1;var m=i._prevItemIndex(i.selectedIndex);if(m==i.selectedIndex||-1==m)return!0;a(),i.selectIndex(m,!1,!1,!1,"keyboard",e)}else if(40==t){if(i._searchString="",!(i.selectedIndex+1<i.visibleItems.length))return!1;var m=i._nextItemIndex(i.selectedIndex);if(m==i.selectedIndex||-1==m)return!0;a(),i.selectIndex(m,!1,!1,!1,"keyboard",e)}if(35==t||36==t||38==t||40==t||34==t||33==t){var g=i.isIndexInView(i.selectedIndex);return g?i._renderItems():i.ensureVisible(i.selectedIndex),!1}return!0}},_updateItemCheck:function(e,t){if(!this.disabled)switch(1==e.checked?e.checked=e.hasThreeStates&&this.hasThreeStates?null:!1:e.checked=null!=e.checked,e.checked){case!0:this.checkIndex(t);break;case!1:this.uncheckIndex(t);break;default:this.indeterminateIndex(t)}},wheel:function(e,t){if(t.autoHeight||!t.enableMouseWheel)return e.returnValue=!0,!0;if(t.disabled)return!0;var i=0;if(e||(e=window.event),e.originalEvent&&e.originalEvent.wheelDelta&&(e.wheelDelta=e.originalEvent.wheelDelta),e.wheelDelta?i=e.wheelDelta/120:e.detail&&(i=-e.detail/3),i){var r=t._handleDelta(i);return r&&(e.preventDefault&&e.preventDefault(),null!=e.originalEvent&&(e.originalEvent.mouseHandled=!0),void 0!=e.stopPropagation&&e.stopPropagation()),r?(r=!1,e.returnValue=r,r):!1}e.preventDefault&&e.preventDefault(),e.returnValue=!1},_handleDelta:function(e){var t=this.vScrollInstance.value;0>e?this.scrollDown():this.scrollUp();var i=this.vScrollInstance.value;return t!=i},focus:function(){try{this.focused=!0,this.host.focus();var e=this;setTimeout(function(){e.host.focus()},25)}catch(t){}},_removeHandlers:function(){this.removeHandler(e(document),"keydown.listbox"+this.element.id),this.removeHandler(e(document),"keyup.listbox"+this.element.id),this.removeHandler(this.vScrollBar,"valueChanged"),this.removeHandler(this.hScrollBar,"valueChanged"),this._mousewheelfunc?this.removeHandler(this.host,"mousewheel",this._mousewheelfunc):this.removeHandler(this.host,"mousewheel"),this.removeHandler(this.host,"keydown"),this.removeHandler(this.content,"mouseleave"),this.removeHandler(this.content,"focus"),this.removeHandler(this.content,"blur"),this.removeHandler(this.host,"focus"),this.removeHandler(this.host,"blur"),this.removeHandler(this.content,"mouseenter"),this.removeHandler(this.content,"mouseup"),this.removeHandler(this.content,"mousedown"),this.removeHandler(this.content,"touchend"),this._mousemovefunc?this.removeHandler(this.content,"mousemove",this._mousemovefunc):this.removeHandler(this.content,"mousemove"),this.removeHandler(this.content,"selectstart"),this.overlayContent&&this.removeHandler(this.overlayContent,e.jqx.mobile.getTouchEventName("touchend"))},_updateSize:function(){this.virtualSize||(this._oldheight=null,this.virtualSize=this._calculateVirtualSize());var e=this;if(e._arrange(),e.host.height()!=e._oldheight||e.host.width()!=e._oldwidth){e.host.width()!=e._oldwidth;if(e.autoItemsHeight)e._render(!1);else if(e.items)if(e.items.length>0&&e.virtualItemsCount*e.items[0].height<e._oldheight-2)e._render(!1);else{var t=e.vScrollInstance.value;e._updatescrollbars(),e._renderItems(),t<e.vScrollInstance.max?e.vScrollInstance.setPosition(t):e.vScrollInstance.setPosition(e.vScrollInstance.max)}e._oldwidth=e.host.width(),e._oldheight=e.host.height()}},_addHandlers:function(){var t=this;this.focused=!1;var i=(new Date,this.isTouchDevice());this.addHandler(this.vScrollBar,"valueChanged",function(i){e.jqx.browser.msie&&e.jqx.browser.version>9?setTimeout(function(){t._renderItems()},1):t._renderItems()}),this.addHandler(this.hScrollBar,"valueChanged",function(){t._renderItems()}),this._mousewheelfunc&&this.removeHandler(this.host,"mousewheel",this._mousewheelfunc),this._mousewheelfunc=function(e){t.wheel(e,t)},this.addHandler(this.host,"mousewheel",this._mousewheelfunc),this.addHandler(e(document),"keydown.listbox"+this.element.id,function(e){t._ctrlKey=e.ctrlKey||e.metaKey,t._shiftKey=e.shiftKey}),this.addHandler(e(document),"keyup.listbox"+this.element.id,function(e){t._ctrlKey=e.ctrlKey||e.metaKey,t._shiftKey=e.shiftKey}),this.addHandler(this.host,"keydown",function(e){return t._handleKeyDown(e)}),this.addHandler(this.content,"mouseleave",function(i){t.focused=!1;var r=e.data(t.element,"hoveredItem");null!=r&&(e(r).removeClass(t.toThemeProperty("jqx-listitem-state-hover")),e(r).removeClass(t.toThemeProperty("jqx-fill-state-hover")),e.data(t.element,"hoveredItem",null))}),this.addHandler(this.content,"focus",function(e){t.disabled||(t.host.addClass(t.toThemeProperty("jqx-fill-state-focus")),t.focused=!0)}),this.addHandler(this.content,"blur",function(e){t.focused=!1,t.host.removeClass(t.toThemeProperty("jqx-fill-state-focus"))}),this.addHandler(this.host,"focus",function(e){t.disabled||(t.host.addClass(t.toThemeProperty("jqx-fill-state-focus")),t.focused=!0)}),this.addHandler(this.host,"blur",function(i){e.jqx.browser.msie&&e.jqx.browser.version<9&&t.focused||(t.host.removeClass(t.toThemeProperty("jqx-fill-state-focus")),t.focused=!1)}),this.addHandler(this.content,"mouseenter",function(e){t.focused=!0});var r=e.jqx.utilities.hasTransform(this.host);if(this.enableSelection){var s=t.isTouchDevice()&&this.touchMode!==!0,a=s?"touchend":"mousedown";if(this.overlayContent)this.addHandler(this.overlayContent,e.jqx.mobile.getTouchEventName("touchend"),function(i){if(!t.enableSelection)return!0;if(s&&(t._newScroll=new Date,t._newScroll-t._lastScroll<500))return!0;var r=e.jqx.mobile.getTouches(i),a=r[0];if(void 0!=a){var n=t.host.offset(),o=parseInt(a.pageX),l=parseInt(a.pageY);1==t.touchMode&&void 0!=a._pageX&&(o=parseInt(a._pageX),l=parseInt(a._pageY)),o-=n.left,l-=n.top;var h=t._hitTest(o,l);if(null!=h&&!h.isGroup){if(t._newScroll=new Date,t._newScroll-t._lastScroll<500)return!1;if(t.checkboxes)return void t._updateItemCheck(h,h.visibleIndex);if(-1==h.html.indexOf("href"))return t.selectIndex(h.visibleIndex,!1,!0,!1,"mouse",i),i.preventDefault&&i.preventDefault(),t.content.trigger("click"),!1;setTimeout(function(){return t.selectIndex(h.visibleIndex,!1,!0,!1,"mouse",i),t.content.trigger("click"),!1},100)}}});else{var n=!1;this.addHandler(this.content,a,function(i){if(!t.enableSelection)return!0;if(n=!0,s&&(t._newScroll=new Date,t._newScroll-t._lastScroll<500))return!1;if(t.focused=!0,!t.isTouchDevice()&&t.focusable&&t.host.focus(),i.target.id!="listBoxContent"+t.element.id&&t.itemswrapper[0]!=i.target){var o=i.target,l=e(o).offset(),h=t.host.offset();if(r){var d=e.jqx.mobile.getLeftPos(o),c=e.jqx.mobile.getTopPos(o);l.left=d,l.top=c,d=e.jqx.mobile.getLeftPos(t.element),c=e.jqx.mobile.getTopPos(t.element),h.left=d,h.top=c}var u=parseInt(l.top)-parseInt(h.top),p=parseInt(l.left)-parseInt(h.left),f=t._hitTest(p,u);if(null!=f&&!f.isGroup){var m=function(e,i){if(t._shiftKey||(t._clickedIndex=e.visibleIndex),t.checkboxes)if(p=20+i.pageX-l.left,t.rtl){"hidden"!=t.hScrollBar.css("visibility")?t.hScrollInstance.max:t.host.width();p<=t.host.width()-20&&(t.allowDrag?setTimeout(function(){t._dragItem||n||(t._updateItemCheck(e,e.visibleIndex),t.selectIndex(e.visibleIndex,!1,!0,!1,"mouse",i))},200):(t._updateItemCheck(e,e.visibleIndex),t.selectIndex(e.visibleIndex,!1,!0,!1,"mouse",i)))}else p+t.hScrollInstance.value>=20&&(t.allowDrag?setTimeout(function(){t._dragItem||n||(t._updateItemCheck(e,e.visibleIndex),t.selectIndex(e.visibleIndex,!1,!0,!1,"mouse",i))},200):(t._updateItemCheck(e,e.visibleIndex),t.selectIndex(e.visibleIndex,!1,!0,!1,"mouse",i)));else t.selectIndex(e.visibleIndex,!1,!0,!1,"mouse",i)};f.disabled||(-1!=f.html.indexOf("href")?setTimeout(function(){m(f,i)},100):m(f,i))}if("mousedown"==a){var g=!1;return i.which?g=3==i.which:i.button&&(g=2==i.button),!!g}}return!0})}this.addHandler(this.content,"mouseup",function(e){t.vScrollInstance.handlemouseup(t,e),n=!1}),e.jqx.browser.msie&&this.addHandler(this.content,"selectstart",function(e){return!1})}var i=this.isTouchDevice();this.enableHover&&!i&&(this._mousemovefunc=function(s){if(i)return!0;if(!t.enableHover)return!0;1==e.jqx.browser.msie&&e.jqx.browser.version<9?0:1;if(null==s.target)return!0;if(t.disabled)return!0;t.focused=!0;var a=t.vScrollInstance.isScrolling();if(!a&&s.target.id!="listBoxContent"+t.element.id&&t.itemswrapper[0]!=s.target){var n=s.target,o=e(n).offset(),l=t.host.offset();if(r){var h=e.jqx.mobile.getLeftPos(n),d=e.jqx.mobile.getTopPos(n);o.left=h,o.top=d,h=e.jqx.mobile.getLeftPos(t.element),d=e.jqx.mobile.getTopPos(t.element),l.left=h,l.top=d}var c=parseInt(o.top)-parseInt(l.top),u=parseInt(o.left)-parseInt(l.left),p=t._hitTest(u,c);if(null!=p&&!p.isGroup&&!p.disabled){var f=e.data(t.element,"hoveredItem");null!=f&&(e(f).removeClass(t.toThemeProperty("jqx-listitem-state-hover")),e(f).removeClass(t.toThemeProperty("jqx-fill-state-hover"))),e.data(t.element,"hoveredItem",p.element);var m=e(p.element);m.addClass(t.toThemeProperty("jqx-listitem-state-hover")),m.addClass(t.toThemeProperty("jqx-fill-state-hover"))}}},this.addHandler(this.content,"mousemove",this._mousemovefunc))},_arrange:function(e){void 0==e&&(e=!0);var t=this,i=null,r=null,s=t.filterable?t.filterHeight:0,a=function(e){return e=t.host.height(),0==e&&(e=200,t.host.height(e)),e};null!=t.width&&-1!=t.width.toString().indexOf("px")?i=t.width:void 0==t.width||isNaN(t.width)||(i=t.width),null!=t.height&&-1!=t.height.toString().indexOf("px")?r=t.height:void 0==t.height||isNaN(t.height)||(r=t.height),null!=t.width&&-1!=t.width.toString().indexOf("%")&&(t.host.css("width",t.width),i=t.host.width()),null!=t.height&&-1!=t.height.toString().indexOf("%")&&(t.host.css("height",t.height),r=a(r)),null!=i&&(i=parseInt(i),parseInt(t.element.style.width)!=parseInt(t.width)&&t.host.width(t.width)),t.autoHeight?t.virtualSize&&("hidden"!=t.hScrollBar.css("visibility")?(t.host.height(t.virtualSize.height+parseInt(t.scrollBarSize)+3),t.height=t.virtualSize.height+parseInt(t.scrollBarSize)+3,r=t.height):(t.host.height(t.virtualSize.height),t.height=t.virtualSize.height,r=t.virtualSize.height)):null!=r&&(r=parseInt(r),parseInt(t.element.style.height)!=parseInt(t.height)&&(t.host.height(t.height),a(r)));var n=t.scrollBarSize;isNaN(n)&&(n=parseInt(n),isNaN(n)?n="17px":n+="px"),n=parseInt(n);var o=4,l=2,h=1;if(t.vScrollBar&&("hidden"!=t.vScrollBar[0].style.visibility?h=n+o:t.vScrollInstance.setPosition(0),0==n&&(h=1,l=1),t.hScrollBar)){"hidden"!=t.hScrollBar[0].style.visibility?l=n+o:t.hScrollInstance.setPosition(0),t.autoItemsHeight&&(t.hScrollBar[0].style.visibility="hidden",l=0),null==r&&(r=0);var d=parseInt(r)-o-n;0>d&&(d=0),parseInt(t.hScrollBar[0].style.height)!=n&&(parseInt(n)<0&&(n=0),t.hScrollBar[0].style.height=parseInt(n)+"px"),t.hScrollBar[0].style.top!=d+"px"&&(t.hScrollBar[0].style.top=d+"px",t.hScrollBar[0].style.left="0px");var c=i-n-o;0>c&&(c=0);var u=c+"px";if(t.hScrollBar[0].style.width!=u&&(t.hScrollBar[0].style.width=u),1>=h&&i>=2&&(t.hScrollBar[0].style.width=parseInt(i-2)+"px"),n!=parseInt(t.vScrollBar[0].style.width)&&(t.vScrollBar[0].style.width=parseInt(n)+"px"),parseInt(r)-l!=parseInt(t.vScrollBar[0].style.height)){var p=parseInt(r)-l;0>p&&(p=0),t.vScrollBar[0].style.height=p+"px"}null==i&&(i=0);var f=parseInt(i)-parseInt(n)-o+"px";f!=t.vScrollBar[0].style.left&&(parseInt(f)>=0&&(t.vScrollBar[0].style.left=f),t.vScrollBar[0].style.top="0px");var m=t.vScrollInstance;m.disabled=t.disabled,e&&m._arrange();var g=t.hScrollInstance;if(g.disabled=t.disabled,e&&g._arrange(),"hidden"!=t.vScrollBar[0].style.visibility&&"hidden"!=t.hScrollBar[0].style.visibility?(t.bottomRight[0].style.visibility="inherit",t.bottomRight[0].style.left=1+parseInt(t.vScrollBar[0].style.left)+"px",t.bottomRight[0].style.top=1+parseInt(t.hScrollBar[0].style.top)+"px",t.rtl&&t.bottomRight.css({left:0}),t.bottomRight[0].style.width=parseInt(n)+3+"px",t.bottomRight[0].style.height=parseInt(n)+3+"px"):t.bottomRight[0].style.visibility="hidden",parseInt(t.content[0].style.width)!=parseInt(i)-h){var v=parseInt(i)-h;0>v&&(v=0),t.content[0].style.width=v+"px"}if(t.rtl&&(t.vScrollBar.css({left:"0px",top:"0px"}),t.hScrollBar.css({left:t.vScrollBar.width()+2+"px"}),"hidden"!=t.vScrollBar[0].style.visibility?t.content.css("margin-left",4+t.vScrollBar.width()):(t.content.css("margin-left",0),t.hScrollBar.css({left:"0px"})),t.filterable&&t.filterInput&&t.filterInput.css({left:t.vScrollBar.width()+6+"px"})),parseInt(t.content[0].style.height)!=parseInt(r)-l){var x=parseInt(r)-l;0>x&&(x=0),t.content[0].style.height=x+"px",t.content[0].style.top="0px"}s>0&&(t.content[0].style.top=s+"px",t.content[0].style.height=parseInt(t.content[0].style.height)-s+"px"),t.filterable?(t.filterInput[0].style.height=s-6+"px",t.filterInput[0].style.top="3px",t.rtl||(t.filterInput[0].style.left=parseInt(t.content.css("left"))+3+"px"),t.filterInput[0].style.width=parseInt(t.content.css("width"))-7+"px",t.filter[0].style.display="block"):t.filter[0].style.display="none",t.overlayContent&&(t.overlayContent.width(parseInt(i)-h),t.overlayContent.height(parseInt(r)-l))}},ensureVisible:function(t,i){if(isNaN(t)){var r=this.getItemByValue(t);r&&(t=r.index)}var s=this.isIndexInView(t);if(s){if(i)for(indx=0;indx<this.visibleItems.length;indx++){var r=this.visibleItems[indx];if(r.visibleIndex==t&&!r.isGroup){var a=this.vScrollInstance.value,n=r.initialTop;this.filterable&&(n=this.filterHeight+2+r.initialTop),a+this.host.height()<this.vScrollInstance.max&&this.vScrollInstance.setPosition(n)}}}else{if(0>t)return;if(this.autoHeight){var o=e.data(this.vScrollBar[0],"jqxScrollBar").instance;o.setPosition(0)}else for(indx=0;indx<this.visibleItems.length;indx++){var r=this.visibleItems[indx];if(r.visibleIndex==t&&!r.isGroup){var o=e.data(this.vScrollBar[0],"jqxScrollBar").instance,a=o.value,l=this.filterable?this.filterHeight+2:0,h="hidden"===this.hScrollBar.css("visibility"),d=h?0:this.scrollBarSize+4;if(r.initialTop<a)o.setPosition(r.initialTop),0==indx&&o.setPosition(0);else if(r.initialTop+r.height>a+this.host.height()-l){var c=this.host.height();if(this.filterable?o.setPosition(this.filterHeight+2+r.initialTop+r.height+2-c+d):(o.setPosition(r.initialTop+r.height+2-c+d),indx===this.visibleItems.length-1&&o.setPosition(o.max)),i){var a=o.value,n=r.initialTop;this.filterable&&(n=this.filterHeight+2+r.initialTop),a+c<o.max&&o.setPosition(n)}}break}}}this._renderItems()},scrollTo:function(e,t){"hidden"!=this.vScrollBar.css("visibility")&&this.vScrollInstance.setPosition(t),"hidden"!=this.hScrollBar.css("visibility")&&this.hScrollInstance.setPosition(e)},scrollDown:function(){if("hidden"==this.vScrollBar.css("visibility"))return!1;var e=this.vScrollInstance;return e.value+e.largestep<=e.max?(e.setPosition(e.value+e.largestep),!0):(e.setPosition(e.max),!0)},scrollUp:function(){if("hidden"==this.vScrollBar.css("visibility"))return!1;var e=this.vScrollInstance;return e.value-e.largestep>=e.min?(e.setPosition(e.value-e.largestep),!0):e.value!=e.min?(e.setPosition(e.min),!0):!1},databind:function(t,i){this.records=new Array;var r=!!t._source,s=new e.jqx.dataAdapter(t,{autoBind:!1});r&&(s=t,t=t._source);var a=function(e){void 0!=t.type&&(s._options.type=t.type),void 0!=t.formatdata&&(s._options.formatData=t.formatdata),void 0!=t.contenttype&&(s._options.contentType=t.contenttype),void 0!=t.async&&(s._options.async=t.async)},n=function(t,i){var r=function(i){var r=null;if("string"==typeof i)var s=i,a=i,n="";else if(void 0!=t.displayMember&&""!=t.displayMember)var a=i[t.valueMember],s=i[t.displayMember];var n="";if(t.groupMember?n=i[t.groupMember]:i&&void 0!=i.group&&(n=i.group),t.searchMember?r=i[t.searchMember]:i&&void 0!=i.searchLabel&&(r=i.searchLabel),t.valueMember||t.displayMember||"string"==e.type(i)&&(s=a=i.toString()),i&&void 0!=i.label)var s=i.label;if(i&&void 0!=i.value)var a=i.value;var o=!1;i&&void 0!=i.checked&&(o=i.checked);var l="";i&&void 0!=i.html&&(l=i.html);var h=!0;i&&void 0!=i.visible&&(h=i.visible);var d=!1;i&&void 0!=i.disabled&&(d=i.disabled);var c=!1;i&&void 0!=i.hasThreeStates&&(c=i.hasThreeStates);var u={};return u.label=s,u.value=a,u.searchLabel=r,u.html=l,u.visible=h,u.originalItem=i,u.group=n,u.groupHtml="",u.disabled=d,u.checked=o,u.hasThreeStates=c,u};if(void 0!=i){var a=s._changedrecords[0];if(a)return void e.each(s._changedrecords,function(){var e=this.index,s=this.record;if("remove"!=i)var a=r(s);switch(i){case"update":t.updateAt(a,e);break;case"add":t.insertAt(a,e);break;case"remove":t.removeAt(e)}})}t.records=s.records;for(var n=t.records.length,o=new Array,l=0;n>l;l++){var h=t.records[l],d=r(h);d.index=l,o[l]=d}t.items=t.loadItems(o,!0),t._render(),t._raiseEvent("6")};a(this);var o=this;switch(t.datatype){case"local":case"array":default:(null!=t.localdata||e.isArray(t))&&(s.unbindBindingUpdate(this.element.id),(this.autoBind||!this.autoBind&&!i)&&s.dataBind(),n(this),s.bindBindingUpdate(this.element.id,function(e){n(o,e)}));break;case"json":case"jsonp":case"xml":case"xhtml":case"script":case"text":case"csv":case"tab":if(null!=t.localdata)return s.unbindBindingUpdate(this.element.id),(this.autoBind||!this.autoBind&&!i)&&s.dataBind(),n(this),void s.bindBindingUpdate(this.element.id,function(){n(o)});var l={};s._options.data?e.extend(s._options.data,l):(t.data&&e.extend(l,t.data),s._options.data=l);var h=function(){n(o)};s.unbindDownloadComplete(o.element.id),s.bindDownloadComplete(o.element.id,h),(this.autoBind||!this.autoBind&&!i)&&s.dataBind()}},loadItems:function(t,i){if(null==t)return this.groups=new Array,this.items=new Array,void(this.visualItems=new Array);var r=this,s=0,a=0,n=0;this.groups=new Array,this.items=new Array,this.visualItems=new Array;var o=new Array;this.itemsByValue=new Array,e.map(t,function(t){if(void 0==t)return null;var l=new e.jqx._jqxListBox.item,h=t.group,d=t.groupHtml,c=t.title,u=null;if(r.searchMember?u=t[r.searchMember]:t&&void 0!=t.searchLabel&&(u=t.searchLabel),null!=c&&void 0!=c||(c=""),null!=h&&void 0!=h||(h=""),r.groupMember&&(h=t[r.groupMember]),null!=d&&void 0!=d||(d=""),!r.groups[h]){r.groups[h]={items:new Array,index:-1,caption:h,captionHtml:d},s++;var p=s+"jqxGroup";r.groups[p]=r.groups[h],a++,r.groups.length=a}var f=r.groups[h];return f.index++,f.items[f.index]=l,"string"==typeof t?(l.label=t,l.value=t,arguments.length>1&&arguments[1]&&"string"==e.type(arguments[1])&&(l.label=t,l.value=arguments[1])):null==t.label&&null==t.value&&null==t.html&&null==t.group&&null==t.groupHtml?(l.label=t.toString(),l.value=t.toString()):(l.label=t.label,l.value=t.value,void 0===l.label&&(l.label=t.value),void 0===l.value&&(l.value=t.label)),"string"!=typeof t&&(void 0===t.label&&""!=r.displayMember&&(void 0!=t[r.displayMember]?l.label=t[r.displayMember]:l.label=""),void 0===t.value&&""!=r.valueMember&&(l.value=t[r.valueMember])),l.hasThreeStates=void 0!=t.hasThreeStates?t.hasThreeStates:!0,l.originalItem=t,i&&(l.originalItem=t.originalItem),l.title=c,c&&void 0===l.value&&void 0===l.label&&(l.value=l.label=c),l.html=t.html||"",t.html&&""!=t.html,l.group=h,l.checked=t.checked||!1,l.groupHtml=t.groupHtml||"",l.disabled=t.disabled||!1,l.visible=void 0!=t.visible?t.visible:!0,l.searchLabel=u,l.index=n,o[n]=l,n++,l});var l=new Array,h=0;if(void 0==this.fromSelect||0==this.fromSelect)for(var d=0;a>d;d++){var s=d+1,c=s+"jqxGroup",u=this.groups[c];if(void 0==u||null==u)break;if(0==d&&""==u.caption&&""==u.captionHtml&&1>=a){for(var p=0;p<u.items.length;p++){var f=u.items[p].value;void 0!=u.items[p].value&&null!=u.items[p].value||(f=p),this.itemsByValue[e.trim(f).split(" ").join("?")]=u.items[p]}return u.items}var m=new e.jqx._jqxListBox.item;m.isGroup=!0,m.label=u.caption,""==u.caption&&""==u.captionHtml&&(u.caption=this.emptyGroupText,m.label=u.caption),m.html=u.captionHtml,l[h]=m,h++;for(var g=0;g<u.items.length;g++){l[h]=u.items[g];var f=u.items[g].value;""!=u.items[g].value&&null!=u.items[g].value||(f=h),r.itemsByValue[e.trim(f).split(" ").join("?")]=u.items[g],h++}}else{var h=0,v=new Array;e.each(o,function(){if(!v[this.group]&&""!=this.group){var t=new e.jqx._jqxListBox.item;t.isGroup=!0,t.label=this.group,l[h]=t,h++,v[this.group]=!0}l[h]=this;var i=this.value;""!=this.value&&null!=this.value||(i=h-1),r.itemsByValue[e.trim(i).split(" ").join("?")]=this,h++})}return l},_mapItem:function(t){var i=new e.jqx._jqxListBox.item;return this.displayMember&&(void 0==t.label&&(t.label=t[this.displayMember]),void 0==t.value&&(t.value=t[this.valueMember])),"string"==typeof t?(i.label=t,i.value=t):"number"==typeof t?(i.label=t.toString(),i.value=t.toString()):(i.label=void 0!==t.label?t.label:t.value,i.value=void 0!==t.value?t.value:t.label),void 0==i.label&&void 0==i.value&&void 0==i.html&&(i.label=i.value=t),i.html=t.html||"",i.group=t.group||"",i.checked=t.checked||!1,i.title=t.title||"",i.groupHtml=t.groupHtml||"",i.disabled=t.disabled||!1,i.visible=t.visible||!0,i},addItem:function(e){return this.insertAt(e,this.items?this.items.length:0)},_getItemByParam:function(e){if(null!=e&&void 0==e.index){var t=this.getItemByValue(e);t&&(e=t)}return e},insertItem:function(e,t){var i=this._getItemByParam(e);return this.insertAt(i,t)},updateItem:function(e,t){var i=this._getItemByParam(t);return i&&void 0!=i.index?this.updateAt(e,i.index):!1},updateAt:function(t,i){if(null!=t){var r=this._mapItem(t);this.itemsByValue[e.trim(r.value).split(" ").join("?")]=this.items[i],this.items[i].value=r.value,this.items[i].label=r.label,this.items[i].html=r.html,this.items[i].disabled=r.disabled,this._raiseEvent("9",{item:this.items[i]})}this._cachedItemHtml=[],this._renderItems(),this.rendered&&this.rendered()},insertAt:function(t,i){if(null==t)return!1;if(this._cachedItemHtml=[],void 0==this.items||0==this.items.length){this.source=new Array,this.refresh();var r=this._mapItem(t);r.index=0,this.items[this.items.length]=r,this._addItems(!0),this._renderItems(),this.rendered&&this.rendered(),this.allowDrag&&this._enableDragDrop&&this._enableDragDrop();var s=r.value;return""!=r.value&&null!=r.value||(s=i),this.itemsByValue[e.trim(s).split(" ").join("?")]=r,!1}var r=this._mapItem(t);if(-1==i||void 0==i||null==i||i>=this.items.length)r.index=this.items.length,this.items[this.items.length]=r;else{for(var a=new Array,n=0,o=!1,l=0,h=0;h<this.items.length;h++)0==this.items[h].isGroup&&l>=i&&!o&&(a[n++]=r,r.index=i,l++,o=!0),a[n]=this.items[h],this.items[h].isGroup||(a[n].index=l,l++),n++;this.items=a}var s=r.value;""!=r.value&&null!=r.value||(s=i),this.itemsByValue[e.trim(s).split(" ").join("?")]=r,this.visibleItems=new Array,this.renderedVisibleItems=new Array;var d=e.data(this.vScrollBar[0],"jqxScrollBar").instance,c=d.value;return d.setPosition(0),this.allowDrag&&this._enableDragDrop||this.virtualSize&&this.virtualSize.height<10+this.host.height()?this._addItems(!0):this._addItems(!1),this.groups.length>1,this._renderItems(),this.allowDrag&&this._enableDragDrop&&this._enableDragDrop(),d.setPosition(c),this._raiseEvent("7",{item:r}),this.rendered&&this.rendered(),!0},removeAt:function(t){if(0>t||t>this.items.length-1)return!1;if(void 0==t)return!1;var i=this.items[t].height,r=this.items[t].value;""!=r&&null!=r||(r=t),this.itemsByValue[e.trim(r).split(" ").join("?")]=null;var s=this.items[t];if(this.groups.length>1){for(var a=new Array,n=0;n<this.items.length;n++)this.items[n].isGroup||a.push({item:this.items[n],key:n});if(!a[t])return!1;this.items.splice(a[t].key,1)}else this.items.splice(t,1);for(var o=new Array,l=0,h=0,n=0;n<this.items.length;n++)o[l]=this.items[n],this.items[n].isGroup||(o[l].index=h,h++),l++;this.items=o;var d=e.data(this.vScrollBar[0],"jqxScrollBar").instance,d=e.data(this.vScrollBar[0],"jqxScrollBar").instance,c=d.value;if(d.setPosition(0),this.visibleItems=new Array,this.renderedVisibleItems=new Array,this.items.length>0){if(this.virtualSize){this.virtualSize.height-=i;var u=2*this.virtualSize.itemsPerPage;this.autoHeight&&(u=this.items.length),this.virtualItemsCount=Math.min(u,this.items.length)}this._updatescrollbars()}else this._addItems();this._renderItems(),this.allowDrag&&this._enableDragDrop&&this._enableDragDrop(),"hidden"!=this.vScrollBar.css("visibility")?d.setPosition(c):d.setPosition(0),this.itemsByValue=new Array;for(var p=0;p<this.items.length;p++){var r=this.items[p].value;""!=this.items[p].value&&null!=this.items[p].value||(r=p),this.itemsByValue[e.trim(r).split(" ").join("?")]=this.items[p]}return this._raiseEvent("8",{item:s}),0===this.items.length&&(this.selectedIndex=-1,this.selectedValue=null,this._updateInputSelection()),this.rendered&&this.rendered(),!0},removeItem:function(e,t){var i=this._getItemByParam(e),r=-1;if(i&&void 0!=i.index&&t!==!0){for(var s=0;s<this.items.length;s++)if(this.items[s].label==i.label&&this.items[s].value==i.value){r=s;break}if(-1!=r)return this.removeAt(r)}return-1==r?this.removeAt(i.index):void 0},getItems:function(){return this.items},disableItem:function(e){var t=this._getItemByParam(e);this.disableAt(t.index)},enableItem:function(e){var t=this._getItemByParam(e);this.enableAt(t.index)},disableAt:function(e){return this.items?0>e||e>this.items.length-1?!1:(this.items[e].disabled=!0,this._renderItems(),!0):!1},enableAt:function(e){return this.items?0>e||e>this.items.length-1?!1:(this.items[e].disabled=!1,this._renderItems(),!0):!1},destroy:function(){this.source&&this.source.unbindBindingUpdate&&this.source.unbindBindingUpdate(this.element.id),this._removeHandlers(),this.vScrollBar.jqxScrollBar("destroy"),this.hScrollBar.jqxScrollBar("destroy"),this.vScrollBar.remove(),this.hScrollBar.remove(),this.content.remove(),e.jqx.utilities.resize(this.host,null,!0);var t=e.data(this.element,"jqxListBox");delete this.hScrollInstance,delete this.vScrollInstance,delete this.vScrollBar,delete this.hScrollBar,delete this.content,delete this.bottomRight,delete this.itemswrapper,delete this.visualItems,delete this.visibleItems,delete this.items,delete this.groups,delete this.renderedVisibleItems,delete this._mousewheelfunc,delete this._mousemovefunc,delete this._cachedItemHtml,delete this.itemsByValue,delete this._activeElement,delete this.source,delete this.events,this.input&&(this.input.remove(),delete this.input),t&&delete t.instance,this.host.removeData(),this.host.removeClass(),this.host.remove(),this.element=null,delete this.element,this.host=null,delete this.set,delete this.get,delete this.call,delete this.host},_raiseEvent:function(t,i){if(1==this._stopEvents)return!0;void 0==i&&(i={owner:null});var r=this.events[t];args=i,args.owner=this,this._updateInputSelection();var s=new e.Event(r);if(s.owner=this,s.args=args,null!=this.host)var a=this.host.trigger(s);return a}})}(jqxBaseFramework),function(e){e.jqx.parseSourceTag=function(t){var i=new Array,r=e(t).find("option"),s=e(t).find("optgroup"),a=!1;0===r.length&&(r=e(t).find("li"),r.length>0&&(a=!0));var n=null,n=-1,o=new Array;if(e.each(r,function(t){var r=s.find(this).length>0,l=null;null==this.text||null!=this.label&&""!=this.label||(this.label=this.text),a===!0&&(this.label=e(this).text(),this.selected=e(this).attr("data-selected"),this.checked=this.selected,this.value=e(this).attr("data-value")||t,this.disabled=e(this).attr("disabled"));var h={style:this.style.cssText,selected:this.selected,html:this.innerHTML,classes:this.className,disabled:this.disabled,value:this.value,label:this.label,title:this.title,originalItem:this},d=e.jqx.browser.msie&&e.jqx.browser.version<8;d&&!a&&""==h.value&&null!=this.text&&this.text.length>0&&(h.value=this.text),r&&(l=s.find(this).parent()[0].label,h.group=l,o[l]||(o[l]=new Array,o.length++),o[l].push(h)),this.selected&&(n=t),h.checked=this.selected,void 0!==h.label&&i.push(h)}),o.length>0){var l=new Array;for(var h in o)if("indexOf"!==h){for(var d=null,c=0;c<s.length;c++)if(h===s[c].label||s[c].text){d=s[c];break}e.each(o[h],function(e,t){void 0!==this.label&&l.push(this)})}}return l&&l.length>0?{items:l,index:n}:{items:i,index:n}},e.jqx._jqxListBox.item=function(){var e={group:"",groupHtml:"",selected:!1,isGroup:!1,highlighted:!1,value:null,label:"",html:null,visible:!0,disabled:!1,element:null,width:null,height:null,initialTop:null,top:null,left:null,title:"",index:-1,checkBoxElement:null,originalItem:null,checked:!1,visibleIndex:-1};return e}}(jqxBaseFramework),function(e){e.jqx.cssroundedcorners=function(e){var t={all:"jqx-rc-all",top:"jqx-rc-t",bottom:"jqx-rc-b",left:"jqx-rc-l",right:"jqx-rc-r","top-right":"jqx-rc-tr","top-left":"jqx-rc-tl","bottom-right":"jqx-rc-br","bottom-left":"jqx-rc-bl"};for(prop in t)if(t.hasOwnProperty(prop)&&e==prop)return t[prop]},e.jqx.jqxWidget("jqxButton","",{}),
e.extend(e.jqx._jqxButton.prototype,{defineInstance:function(){var t={type:"",cursor:"arrow",roundedCorners:"all",disabled:!1,height:null,width:null,overrideTheme:!1,enableHover:!0,enableDefault:!0,enablePressed:!0,imgPosition:"center",imgSrc:"",imgWidth:16,imgHeight:16,value:null,textPosition:"",textImageRelation:"overlay",rtl:!1,_ariaDisabled:!1,_scrollAreaButton:!1,template:"default",aria:{"aria-disabled":{name:"disabled",type:"boolean"}}};return this===e.jqx._jqxButton.prototype?t:(e.extend(!0,this,t),t)},_addImage:function(t){var i=this;if("input"==i.element.nodeName.toLowerCase()||"button"==i.element.nodeName.toLowerCase()||"div"==i.element.nodeName.toLowerCase()){if(i._img)i._img.setAttribute("src",i.imgSrc),i._img.setAttribute("width",i.imgWidth),i._img.setAttribute("height",i.imgHeight),i._text.innerHTML=i.value;else{i.field=i.element,i.field.className&&(i._className=i.field.className);var r={title:i.field.title},s=null;if(i.field.getAttribute("value"))var s=i.field.getAttribute("value");else if("input"!=i.element.nodeName.toLowerCase())var s=i.element.innerHTML;i.value&&(s=i.value),i.field.id.length?r.id=i.field.id.replace(/[^\w]/g,"_")+"_"+t:r.id=e.jqx.utilities.createId()+"_"+t;var a=document.createElement("div");a.id=r.id,a.title=r.title,a.style.cssText=i.field.style.cssText,a.style.boxSizing="border-box";var n=document.createElement("img");n.setAttribute("src",i.imgSrc),n.setAttribute("width",i.imgWidth),n.setAttribute("height",i.imgHeight),a.appendChild(n),i._img=n;var o=document.createElement("span");s&&(o.innerHTML=s,i.value=s),a.appendChild(o),i._text=o,i.field.style.display="none",i.field.parentNode&&i.field.parentNode.insertBefore(a,i.field.nextSibling);var l=i.host.data();i.host=e(a),i.host.data(l),i.element=a,i.element.id=i.field.id,i.field.id=r.id;var h=new e(i.element),d=new e(i.field);if(i._className&&(h.addClass(i._className),d.removeClass(i._className)),i.field.tabIndex){var c=i.field.tabIndex;i.field.tabIndex=-1,i.element.tabIndex=c}}i.imgSrc?i._img.style.display="inline":i._img.style.display="none",i.value?i._text.style.display="inline":i._text.style.display="none",i._positionTextAndImage()}},_positionTextAndImage:function(){var e=this,t=e.element.offsetWidth,i=e.element.offsetHeight,r=e.imgWidth,s=e.imgHeight;""==e.imgSrc&&(r=0,s=0);var a=e._text.offsetWidth,n=e._text.offsetHeight,o=4,l=4,h=4,d=0,c=0;switch(e.textImageRelation){case"imageBeforeText":case"textBeforeImage":d=r+a+2*h+o+2*l,c=Math.max(s,n)+2*h+o+2*l;break;case"imageAboveText":case"textAboveImage":d=Math.max(r,a)+2*h,c=s+n+o+2*h+2*l;break;case"overlay":d=Math.max(r,a)+2*h,c=Math.max(s,n)+2*h}e.width||(e.element.style.width=d+"px",t=d),e.height||(e.element.style.height=c+"px",i=c),e._img.style.position="absolute",e._text.style.position="absolute",e.element.style.position="relative",e.element.style.overflow="hidden";var u={},p={},f=function(e,t,i,r,s){switch(t.width<r&&(t.width=r),t.height<s&&(t.height=s),i){case"left":e.style.left=t.left+"px",e.style.top=t.top+t.height/2-s/2+"px";break;case"topLeft":e.style.left=t.left+"px",e.style.top=t.top+"px";break;case"bottomLeft":e.style.left=t.left+"px",e.style.top=t.top+t.height-s+"px";break;default:case"center":e.style.left=t.left+t.width/2-r/2+"px",e.style.top=t.top+t.height/2-s/2+"px";break;case"top":e.style.left=t.left+t.width/2-r/2+"px",e.style.top=t.top+"px";break;case"bottom":e.style.left=t.left+t.width/2-r/2+"px",e.style.top=t.top+t.height-s+"px";break;case"right":e.style.left=t.left+t.width-r+"px",e.style.top=t.top+t.height/2-s/2+"px";break;case"topRight":e.style.left=t.left+t.width-r+"px",e.style.top=t.top+"px";break;case"bottomRight":e.style.left=t.left+t.width-r+"px",e.style.top=t.top+t.height-s+"px"}},m=0,g=0,v=t,x=i,b=(v-m)/2,w=(x-g)/2,y=e._img,_=e._text,j=x-g,q=v-m;switch(m+=l,g+=l,v=v-l-2,q=q-2*l-2,j=j-2*l-2,e.textImageRelation){case"imageBeforeText":switch(e.imgPosition){case"left":case"topLeft":case"bottomLeft":p={left:m,top:g,width:m+r,height:j},u={left:m+r+o,top:g,width:q-r-o,height:j};break;case"center":case"top":case"bottom":p={left:b-a/2-r/2-o/2,top:g,width:r,height:j},u={left:p.left+r+o,top:g,width:v-p.left-r-o,height:j};break;case"right":case"topRight":case"bottomRight":p={left:v-a-r-o,top:g,width:r,height:j},u={left:p.left+r+o,top:g,width:v-p.left-r-o,height:j}}f(y,p,e.imgPosition,r,s),f(_,u,e.textPosition,a,n);break;case"textBeforeImage":switch(e.textPosition){case"left":case"topLeft":case"bottomLeft":u={left:m,top:g,width:m+a,height:j},p={left:m+a+o,top:g,width:q-a-o,height:j};break;case"center":case"top":case"bottom":u={left:b-a/2-r/2-o/2,top:g,width:a,height:j},p={left:u.left+a+o,top:g,width:v-u.left-a-o,height:j};break;case"right":case"topRight":case"bottomRight":u={left:v-a-r-o,top:g,width:a,height:j},p={left:u.left+a+o,top:g,width:v-u.left-a-o,height:j}}f(y,p,e.imgPosition,r,s),f(_,u,e.textPosition,a,n);break;case"imageAboveText":switch(e.imgPosition){case"topRight":case"top":case"topLeft":p={left:m,top:g,width:q,height:s},u={left:m,top:g+s+o,width:q,height:j-s-o};break;case"left":case"center":case"right":p={left:m,top:w-s/2-n/2-o/2,width:q,height:s},u={left:m,top:p.top+o+s,width:q,height:j-p.top-o-s};break;case"bottomLeft":case"bottom":case"bottomRight":p={left:m,top:x-s-n-o,width:q,height:s},u={left:m,top:p.top+o+s,width:q,height:n}}f(y,p,e.imgPosition,r,s),f(_,u,e.textPosition,a,n);break;case"textAboveImage":switch(e.textPosition){case"topRight":case"top":case"topLeft":u={left:m,top:g,width:q,height:n},p={left:m,top:g+n+o,width:q,height:j-n-o};break;case"left":case"center":case"right":u={left:m,top:w-s/2-n/2-o/2,width:q,height:n},p={left:m,top:u.top+o+n,width:q,height:j-u.top-o-n};break;case"bottomLeft":case"bottom":case"bottomRight":u={left:m,top:x-s-n-o,width:q,height:n},p={left:m,top:u.top+o+n,width:q,height:s}}f(y,p,e.imgPosition,r,s),f(_,u,e.textPosition,a,n);break;case"overlay":default:u={left:m,top:g,width:q,height:j},p={left:m,top:g,width:q,height:j},f(y,p,e.imgPosition,r,s),f(_,u,e.textPosition,a,n)}},createInstance:function(t){var i=this;i._setSize(),i.buttonObj=new e(i.element),(""!=i.imgSrc||""!=i.textPosition||i.element.value&&i.element.value.indexOf("<")>=0||null!=i.value)&&(i.refresh(),i._addImage("jqxButton"),i.buttonObj=new e(i.element)),i._ariaDisabled||i.element.setAttribute("role","button"),""!==i.type&&i.element.setAttribute("type",i.type),i.overrideTheme||(i.buttonObj.addClass(i.toThemeProperty(e.jqx.cssroundedcorners(i.roundedCorners))),i.enableDefault&&i.buttonObj.addClass(i.toThemeProperty("jqx-button")),i.buttonObj.addClass(i.toThemeProperty("jqx-widget"))),i.isTouchDevice=e.jqx.mobile.isTouchDevice(),i._ariaDisabled||e.jqx.aria(this),"arrow"!=i.cursor&&(i.disabled?i.element.style.cursor="arrow":i.element.style.cursor=i.cursor);var r="mouseenter mouseleave mousedown focus blur";if(i._scrollAreaButton)var r="mousedown";i.isTouchDevice&&(i.addHandler(i.host,e.jqx.mobile.getTouchEventName("touchstart"),function(e){i.isPressed=!0,i.refresh()}),i.addHandler(e(document),e.jqx.mobile.getTouchEventName("touchend")+"."+i.element.id,function(e){i.isPressed=!1,i.refresh()})),i.addHandler(i.host,r,function(e){switch(e.type){case"mouseenter":i.isTouchDevice||!i.disabled&&i.enableHover&&(i.isMouseOver=!0,i.refresh());break;case"mouseleave":i.isTouchDevice||!i.disabled&&i.enableHover&&(i.isMouseOver=!1,i.refresh());break;case"mousedown":i.disabled||(i.isPressed=!0,i.refresh());break;case"focus":i.disabled||(i.isFocused=!0,i.refresh());break;case"blur":i.disabled||(i.isFocused=!1,i.refresh())}}),i.mouseupfunc=function(e){i.disabled||(i.isPressed||i.isMouseOver)&&(i.isPressed=!1,i.refresh())},i.addHandler(document,"mouseup.button"+i.element.id,i.mouseupfunc);try{if((""!=document.referrer||window.frameElement)&&null!=window.top&&window.top!=window.that){var s="";if(window.parent&&document.referrer&&(s=document.referrer),-1!=s.indexOf(document.location.host)){var a=function(e){i.isPressed=!1,i.refresh()};window.top.document&&i.addHandler(e(window.top.document),"mouseup",a)}}}catch(n){}i.propertyChangeMap.roundedCorners=function(t,i,r,s){t.buttonObj.removeClass(t.toThemeProperty(e.jqx.cssroundedcorners(r))),t.buttonObj.addClass(t.toThemeProperty(e.jqx.cssroundedcorners(s)))},i.propertyChangeMap.disabled=function(t,i,r,s){r!=s&&(t.refresh(),t.element.setAttribute("disabled",s),t.element.disabled=s,s?t.element.style.cursor="default":t.element.style.cursor=t.cursor,e.jqx.aria(t,"aria-disabled",t.disabled))},i.propertyChangeMap.rtl=function(e,t,i,r){i!=r&&e.refresh()},i.propertyChangeMap.template=function(e,t,i,r){i!=r&&(e.buttonObj.removeClass(e.toThemeProperty("jqx-"+i)),e.refresh())},i.propertyChangeMap.theme=function(t,i,r,s){t.buttonObj.removeClass(t.element),t.enableDefault&&t.buttonObj.addClass(t.toThemeProperty("jqx-button")),t.buttonObj.addClass(t.toThemeProperty("jqx-widget")),t.overrideTheme||t.buttonObj.addClass(t.toThemeProperty(e.jqx.cssroundedcorners(t.roundedCorners))),t._oldCSSCurrent=null,t.refresh()},i.disabled&&(i.element.disabled=!0,i.element.setAttribute("disabled","true"))},resize:function(e,t){this.width=e,this.height=t,this._setSize()},val:function(){var t=this,i=t.host.find("input");return i.length>0?0==arguments.length||"object"==typeof value?i.val():(i.val(value),t.refresh(),i.val()):0==arguments.length||"object"==typeof value?"button"==t.element.nodeName.toLowerCase()?e(t.element).text():t.element.value:(t.element.value=arguments[0],"button"==t.element.nodeName.toLowerCase()&&e(t.element).text(arguments[0]),void t.refresh())},_setSize:function(){var e=this,t=e.height,i=e.width;t&&(isNaN(t)||(t+="px"),e.element.style.height=t),i&&(isNaN(i)||(i+="px"),e.element.style.width=i)},_removeHandlers:function(){var t=this;t.removeHandler(t.host,"selectstart"),t.removeHandler(t.host,"click"),t.removeHandler(t.host,"focus"),t.removeHandler(t.host,"blur"),t.removeHandler(t.host,"mouseenter"),t.removeHandler(t.host,"mouseleave"),t.removeHandler(t.host,"mousedown"),t.removeHandler(e(document),"mouseup.button"+t.element.id,t.mouseupfunc),t.isTouchDevice&&(t.removeHandler(t.host,e.jqx.mobile.getTouchEventName("touchstart")),t.removeHandler(e(document),e.jqx.mobile.getTouchEventName("touchend")+"."+t.element.id)),t.mouseupfunc=null,delete t.mouseupfunc},focus:function(){this.host.focus()},destroy:function(){var t=this;t._removeHandlers();var i=e.data(t.element,"jqxButton");i&&delete i.instance,t.host.removeClass(),t.host.removeData(),t.host.remove(),delete t.set,delete t.get,delete t.call,delete t.element,delete t.host},render:function(){this.refresh()},propertiesChangedHandler:function(e,t,i){i&&i.width&&i.height&&2==Object.keys(i).length&&(e._setSize(),e.refresh())},propertyChangedHandler:function(e,t,i,r){void 0!=this.isInitialized&&0!=this.isInitialized&&r!=i&&(e.batchUpdate&&e.batchUpdate.width&&e.batchUpdate.height&&2==Object.keys(e.batchUpdate).length||("type"===t&&e.element.setAttribute("type",r),"textImageRelation"!=t&&"textPosition"!=t&&"imgPosition"!=t||(e._img?e._positionTextAndImage():e._addImage("jqxButton")),"imgSrc"!=t&&"imgWidth"!=t&&"imgHeight"!=t&&"value"!=t||e._addImage("jqxButton"),"width"!=t&&"height"!=t||(e._setSize(),e.refresh())))},refresh:function(){var e=this;if(!e.overrideTheme){var t=e.toThemeProperty("jqx-fill-state-focus"),i=e.toThemeProperty("jqx-fill-state-disabled"),r=e.toThemeProperty("jqx-fill-state-normal");e.enableDefault||(r="");var s=e.toThemeProperty("jqx-fill-state-hover"),a=e.toThemeProperty("jqx-fill-state-pressed"),n=e.toThemeProperty("jqx-fill-state-pressed");e.enablePressed||(a="");var o="";if(e.host){if(e.element.disabled=e.disabled,e.disabled)return e._oldCSSCurrent&&e.buttonObj.removeClass(e._oldCSSCurrent),o=r+" "+i,"default"!==e.template&&""!==e.template&&(o+=" jqx-"+e.template,""!=e.theme&&(o+=" jqx-"+e.template+"-"+e.theme)),e.buttonObj.addClass(o),void(e._oldCSSCurrent=o);o=e.isMouseOver&&!e.isTouchDevice?e.isPressed?n:s:e.isPressed?a:r,e.isFocused&&(o+=" "+t),"default"!==e.template&&""!==e.template&&(o+=" jqx-"+e.template,""!=e.theme&&(o+=" jqx-"+e.template+"-"+e.theme)),o!=e._oldCSSCurrent&&(e._oldCSSCurrent&&e.buttonObj.removeClass(e._oldCSSCurrent),e.buttonObj.addClass(o),e._oldCSSCurrent=o),e.rtl&&(e.buttonObj.addClass(e.toThemeProperty("jqx-rtl")),e.element.style.direction="rtl")}}}}),e.jqx.jqxWidget("jqxLinkButton","",{}),e.extend(e.jqx._jqxLinkButton.prototype,{defineInstance:function(){this.disabled=!1,this.height=null,this.width=null,this.rtl=!1,this.href=null},createInstance:function(t){var i=this;this.host.onselectstart=function(){return!1},this.host.attr("role","button");var r=this.height||this.element.offsetHeight,s=this.width||this.element.offsetWidth;this.href=this.element.getAttribute("href"),this.target=this.element.getAttribute("target"),this.content=this.host.text(),this.element.innerHTML="";var a=document.createElement("input");a.type="button",a.className="jqx-wrapper "+this.toThemeProperty("jqx-reset"),this._setSize(a,s,r),a.value=this.content;var n=new e(this.element);n.addClass(this.toThemeProperty("jqx-link")),this.element.style.color="inherit",this.element.appendChild(a),this._setSize(a,s,r);var o=void 0==t?{}:t[0]||{};e(a).jqxButton(o),this.wrapElement=a,this.disabled&&(this.element.disabled=!0),this.propertyChangeMap.disabled=function(e,t,i,r){e.element.disabled=r,e.wrapElement.jqxButton({disabled:r})},this.addHandler(e(a),"click",function(e){return this.disabled||i.onclick(e),!1})},_setSize:function(e,t,i){i&&(isNaN(i)||(i+="px"),e.style.height=i),t&&(isNaN(t)||(t+="px"),e.style.width=t)},onclick:function(e){null!=this.target?window.open(this.href,this.target):window.location=this.href}}),e.jqx.jqxWidget("jqxRepeatButton","jqxButton",{}),e.extend(e.jqx._jqxRepeatButton.prototype,{defineInstance:function(){this.delay=50},createInstance:function(t){var i=this,r=e.jqx.mobile.isTouchDevice(),s=r?"touchend."+this.base.element.id:"mouseup."+this.base.element.id,a=r?"touchstart."+this.base.element.id:"mousedown."+this.base.element.id;this.addHandler(e(document),s,function(e){null!=i.timeout&&(clearTimeout(i.timeout),i.timeout=null,i.refresh()),void 0!=i.timer&&(clearInterval(i.timer),i.timer=null,i.refresh())}),this.addHandler(this.base.host,a,function(e){null!=i.timer&&clearInterval(i.timer),i.timeout=setTimeout(function(){clearInterval(i.timer),i.timer=setInterval(function(e){i.ontimer(e)},i.delay)},150)}),this.mousemovefunc=function(e){r||0==e.which&&null!=i.timer&&(clearInterval(i.timer),i.timer=null)},this.addHandler(this.base.host,"mousemove",this.mousemovefunc)},destroy:function(){var t=e.jqx.mobile.isTouchDevice(),i=t?"touchend."+this.base.element.id:"mouseup."+this.base.element.id,r=t?"touchstart."+this.base.element.id:"mousedown."+this.base.element.id;this.removeHandler(this.base.host,"mousemove",this.mousemovefunc),this.removeHandler(this.base.host,r),this.removeHandler(e(document),i),this.timer=null,delete this.mousemovefunc,delete this.timer;var s=e.data(this.base.element,"jqxRepeatButton");s&&delete s.instance,e(this.base.element).removeData(),this.base.destroy(),delete this.base},stop:function(){clearInterval(this.timer),this.timer=null},ontimer:function(t){var t=new e.Event("click");null!=this.base&&null!=this.base.host&&this.base.host.trigger(t)}}),e.jqx.jqxWidget("jqxToggleButton","jqxButton",{}),e.extend(e.jqx._jqxToggleButton.prototype,{defineInstance:function(){this.toggled=!1,this.uiToggle=!0,this.aria={"aria-checked":{name:"toggled",type:"boolean"},"aria-disabled":{name:"disabled",type:"boolean"}}},createInstance:function(t){var i=this;i.base.overrideTheme=!0,i.isTouchDevice=e.jqx.mobile.isTouchDevice(),e.jqx.aria(this),i.propertyChangeMap.roundedCorners=function(t,i,r,s){t.base.buttonObj.removeClass(t.toThemeProperty(e.jqx.cssroundedcorners(r))),t.base.buttonObj.addClass(t.toThemeProperty(e.jqx.cssroundedcorners(s)))},i.propertyChangeMap.toggled=function(e,t,i,r){e.refresh()},i.propertyChangeMap.disabled=function(e,t,i,r){e.base.disabled=r,e.refresh()},i.addHandler(i.base.host,"click",function(e){!i.base.disabled&&i.uiToggle&&i.toggle()}),i.isTouchDevice||(i.addHandler(i.base.host,"mouseenter",function(e){i.base.disabled||i.refresh()}),i.addHandler(i.base.host,"mouseleave",function(e){i.base.disabled||i.refresh()})),i.addHandler(i.base.host,"mousedown",function(e){i.base.disabled||i.refresh()}),i.addHandler(e(document),"mouseup.togglebutton"+i.base.element.id,function(e){i.base.disabled||i.refresh()})},destroy:function(){this._removeHandlers(),this.base.destroy()},_removeHandlers:function(){this.removeHandler(this.base.host,"click"),this.removeHandler(this.base.host,"mouseenter"),this.removeHandler(this.base.host,"mouseleave"),this.removeHandler(this.base.host,"mousedown"),this.removeHandler(e(document),"mouseup.togglebutton"+this.base.element.id)},toggle:function(){this.toggled=!this.toggled,this.refresh(),e.jqx.aria(this,"aria-checked",this.toggled)},unCheck:function(){this.toggled=!1,this.refresh()},check:function(){this.toggled=!0,this.refresh()},refresh:function(){var e=this,t=e.base.toThemeProperty("jqx-fill-state-disabled"),i=e.base.toThemeProperty("jqx-fill-state-normal");e.base.enableDefault||(i="");var r=e.base.toThemeProperty("jqx-fill-state-hover"),s=e.base.toThemeProperty("jqx-fill-state-pressed"),a=e.base.toThemeProperty("jqx-fill-state-pressed"),n="";return e.base.element.disabled=e.base.disabled,e.base.disabled?(n=i+" "+t,void e.base.buttonObj.addClass(n)):(n=e.base.isMouseOver&&!e.isTouchDevice?e.base.isPressed||e.toggled?a:r:e.base.isPressed||e.toggled?s:i,"default"!==e.base.template&&""!==e.base.template&&(n+=" jqx-"+e.base.template,""!=e.base.theme&&(n+=" jqx-"+e.template+"-"+e.base.theme)),e.base.buttonObj.hasClass(t)&&t!=n&&e.base.buttonObj.removeClass(t),e.base.buttonObj.hasClass(i)&&i!=n&&e.base.buttonObj.removeClass(i),e.base.buttonObj.hasClass(r)&&r!=n&&e.base.buttonObj.removeClass(r),e.base.buttonObj.hasClass(s)&&s!=n&&e.base.buttonObj.removeClass(s),e.base.buttonObj.hasClass(a)&&a!=n&&e.base.buttonObj.removeClass(a),void(e.base.buttonObj.hasClass(n)||e.base.buttonObj.addClass(n)))}})}(jqxBaseFramework),function(e){e.jqx.jqxWidget("jqxScrollBar","",{}),e.extend(e.jqx._jqxScrollBar.prototype,{defineInstance:function(){var t={height:null,width:null,vertical:!1,min:0,max:1e3,value:0,step:10,largestep:50,thumbMinSize:10,thumbSize:0,thumbStep:"auto",roundedCorners:"all",showButtons:!0,disabled:!1,touchMode:"auto",touchModeStyle:"auto",thumbTouchSize:0,_triggervaluechanged:!0,rtl:!1,areaDownCapture:!1,areaUpCapture:!1,_initialLayout:!1,offset:0,reference:0,velocity:0,frame:0,timestamp:0,ticker:null,amplitude:0,target:0};return this===e.jqx._jqxScrollBar.prototype?t:(e.extend(!0,this,t),t)},createInstance:function(e){this.render()},render:function(){this._mouseup=new Date;var t=this,i="<div id='jqxScrollOuterWrap' style='box-sizing: content-box; width:100%; height: 100%; align:left; border: 0px; valign:top; position: relative;'><div id='jqxScrollWrap' style='box-sizing: content-box; width:100%; height: 100%; left: 0px; top: 0px; align:left; valign:top; position: absolute;'><div id='jqxScrollBtnUp' style='box-sizing: content-box; align:left; valign:top; left: 0px; top: 0px; position: absolute;'><div></div></div><div id='jqxScrollAreaUp' style='box-sizing: content-box; align:left; valign:top; left: 0px; top: 0px; position: absolute;'></div><div id='jqxScrollThumb' style='box-sizing: content-box; align:left; valign:top; left: 0px; top: 0px; position: absolute;'></div><div id='jqxScrollAreaDown' style='box-sizing: content-box; align:left; valign:top; left: 0px; top: 0px; position: absolute;'></div><div id='jqxScrollBtnDown' style='box-sizing: content-box; align:left; valign:top; left: 0px; top: 0px; position: absolute;'><div></div></div></div></div>";if(e.jqx.utilities&&"hidden"==e.jqx.utilities.scrollBarButtonsVisibility&&(this.showButtons=!1),t.WinJS?MSApp.execUnsafeLocalFunction(function(){t.host.html(i)}):this.element.innerHTML=i,void 0!=this.width&&parseInt(this.width)>0&&this.host.width(parseInt(this.width)),void 0!=this.height&&parseInt(this.height)>0&&this.host.height(parseInt(this.height)),this.isPercentage=!1,null!=this.width&&-1!=this.width.toString().indexOf("%")&&(this.host.width(this.width),this.isPercentage=!0),null!=this.height&&-1!=this.height.toString().indexOf("%")&&(this.host.height(this.height),this.isPercentage=!0),this.isPercentage){var r=this;e.jqx.utilities.resize(this.host,function(){r._arrange()},!1)}this.thumbCapture=!1,this.scrollOuterWrap=e(this.element.firstChild),this.scrollWrap=e(this.scrollOuterWrap[0].firstChild),this.btnUp=e(this.scrollWrap[0].firstChild),this.areaUp=e(this.btnUp[0].nextSibling),this.btnThumb=e(this.areaUp[0].nextSibling),this.arrowUp=e(this.btnUp[0].firstChild),this.areaDown=e(this.btnThumb[0].nextSibling),this.btnDown=e(this.areaDown[0].nextSibling),this.arrowDown=e(this.btnDown[0].firstChild);var s=this.element.id;if(this.btnUp[0].id="jqxScrollBtnUp"+s,this.btnDown[0].id="jqxScrollBtnDown"+s,this.btnThumb[0].id="jqxScrollThumb"+s,this.areaUp[0].id="jqxScrollAreaUp"+s,this.areaDown[0].id="jqxScrollAreaDown"+s,this.scrollWrap[0].id="jqxScrollWrap"+s,this.scrollOuterWrap[0].id="jqxScrollOuterWrap"+s,!this.host.jqxRepeatButton)throw new Error("jqxScrollBar: Missing reference to jqxbuttons.js.");this.btnUp.jqxRepeatButton({_ariaDisabled:!0,overrideTheme:!0,disabled:this.disabled}),this.btnDown.jqxRepeatButton({_ariaDisabled:!0,overrideTheme:!0,disabled:this.disabled}),this.btnDownInstance=e.data(this.btnDown[0],"jqxRepeatButton").instance,this.btnUpInstance=e.data(this.btnUp[0],"jqxRepeatButton").instance,this.areaUp.jqxRepeatButton({_scrollAreaButton:!0,_ariaDisabled:!0,overrideTheme:!0}),this.areaDown.jqxRepeatButton({_scrollAreaButton:!0,_ariaDisabled:!0,overrideTheme:!0}),this.btnThumb.jqxButton({_ariaDisabled:!0,overrideTheme:!0,disabled:this.disabled}),this.propertyChangeMap.value=function(e,t,i,r){isNaN(r)||i!=r&&e.setPosition(parseFloat(r),!0)},this.propertyChangeMap.width=function(e,t,i,r){void 0!=e.width&&parseInt(e.width)>0&&(e.host.width(parseInt(e.width)),e._arrange())},this.propertyChangeMap.height=function(e,t,i,r){void 0!=e.height&&parseInt(e.height)>0&&(e.host.height(parseInt(e.height)),e._arrange())},this.propertyChangeMap.theme=function(e,t,i,r){e.setTheme()},this.propertyChangeMap.max=function(e,t,i,r){isNaN(r)||i!=r&&(e.max=parseInt(r),e.min>e.max&&(e.max=e.min+1),e._arrange(),e.setPosition(e.value))},this.propertyChangeMap.min=function(e,t,i,r){isNaN(r)||i!=r&&(e.min=parseInt(r),e.min>e.max&&(e.max=e.min+1),e._arrange(),e.setPosition(e.value))},this.propertyChangeMap.disabled=function(e,t,i,r){i!=r&&(r?e.host.addClass(e.toThemeProperty("jqx-fill-state-disabled")):e.host.removeClass(e.toThemeProperty("jqx-fill-state-disabled")),e.btnUp.jqxRepeatButton("disabled",e.disabled),e.btnDown.jqxRepeatButton("disabled",e.disabled),e.btnThumb.jqxButton("disabled",e.disabled))},this.propertyChangeMap.touchMode=function(e,t,i,r){i!=r&&(e._updateTouchBehavior(),r===!0?(e.showButtons=!1,e.refresh()):r===!1&&(e.showButtons=!0,e.refresh()))},this.propertyChangeMap.rtl=function(e,t,i,r){i!=r&&e.refresh()},this.buttonUpCapture=!1,this.buttonDownCapture=!1,this._updateTouchBehavior(),this.setPosition(this.value),this._addHandlers(),this.setTheme()},resize:function(e,t){this.width=e,this.height=t,this._arrange()},_updateTouchBehavior:function(){if(this.isTouchDevice=e.jqx.mobile.isTouchDevice(),1==this.touchMode){if(e.jqx.browser.msie&&e.jqx.browser.version<9)return void this.setTheme();this.isTouchDevice=!0,e.jqx.mobile.setMobileSimulator(this.btnThumb[0]),this._removeHandlers(),this._addHandlers(),this.setTheme()}else 0==this.touchMode&&(this.isTouchDevice=!1)},_addHandlers:function(){var t=this,i=!1;try{("ontouchstart"in window||window.DocumentTouch&&document instanceof DocumentTouch)&&(i=!0,this._touchSupport=!0)}catch(r){}if((t.isTouchDevice||i)&&(this.addHandler(this.btnThumb,e.jqx.mobile.getTouchEventName("touchend"),function(e){var i=t.vertical?t.toThemeProperty("jqx-scrollbar-thumb-state-pressed"):t.toThemeProperty("jqx-scrollbar-thumb-state-pressed-horizontal"),r=t.toThemeProperty("jqx-fill-state-pressed");return t.btnThumb.removeClass(i),t.btnThumb.removeClass(r),t.disabled||t.handlemouseup(t,e),!1}),this.addHandler(this.btnThumb,e.jqx.mobile.getTouchEventName("touchstart"),function(e){if(!t.disabled){if(1==t.touchMode)e.clientX=e.originalEvent.clientX,e.clientY=e.originalEvent.clientY;else{var i=e;i.originalEvent.touches&&i.originalEvent.touches.length?(e.clientX=i.originalEvent.touches[0].clientX,e.clientY=i.originalEvent.touches[0].clientY):(e.clientX=e.originalEvent.clientX,e.clientY=e.originalEvent.clientY)}t.handlemousedown(e),e.preventDefault&&e.preventDefault()}}),e.jqx.mobile.touchScroll(this.element,t.max,function(e,i,r,s,a){if("visible"==t.host.css("visibility")){if(1==t.touchMode)a.clientX=a.originalEvent.clientX,a.clientY=a.originalEvent.clientY;else{var n=a;n.originalEvent.touches&&n.originalEvent.touches.length?(a.clientX=n.originalEvent.touches[0].clientX,a.clientY=n.originalEvent.touches[0].clientY):(a.clientX=a.originalEvent.clientX,a.clientY=a.originalEvent.clientY)}var o=t.vertical?t.toThemeProperty("jqx-scrollbar-thumb-state-pressed"):t.toThemeProperty("jqx-scrollbar-thumb-state-pressed-horizontal");t.btnThumb.addClass(o),t.btnThumb.addClass(t.toThemeProperty("jqx-fill-state-pressed")),t.thumbCapture=!0,t.handlemousemove(a)}},t.element.id,t.host,t.host)),!this.isTouchDevice){try{if((""!=document.referrer||window.frameElement)&&null!=window.top&&window.top!=window.self){var s=null;if(window.parent&&document.referrer&&(s=document.referrer),s&&-1!=s.indexOf(document.location.host)){var a=function(e){t.disabled||t.handlemouseup(t,e)};window.top.document.addEventListener?window.top.document.addEventListener("mouseup",a,!1):window.top.document.attachEvent&&window.top.document.attachEvent("onmouseup",a)}}}catch(n){}var o="click mouseup mousedown";this.addHandler(this.btnDown,o,function(e){var i=t.step;switch(Math.abs(t.max-t.min)<=i&&(i=1),t.rtl&&!t.vertical&&(i=-t.step),e.type){case"click":t.buttonDownCapture&&!t.isTouchDevice?t.disabled||t.setPosition(t.value+i):!t.disabled&&t.isTouchDevice&&t.setPosition(t.value+i);break;case"mouseup":if(!t.btnDownInstance.base.disabled&&t.buttonDownCapture)return t.buttonDownCapture=!1,t.btnDown.removeClass(t.toThemeProperty("jqx-scrollbar-button-state-pressed")),t.btnDown.removeClass(t.toThemeProperty("jqx-fill-state-pressed")),t._removeArrowClasses("pressed","down"),t.handlemouseup(t,e),t.setPosition(t.value+i),!1;break;case"mousedown":if(!t.btnDownInstance.base.disabled)return t.buttonDownCapture=!0,t.btnDown.addClass(t.toThemeProperty("jqx-fill-state-pressed")),t.btnDown.addClass(t.toThemeProperty("jqx-scrollbar-button-state-pressed")),t._addArrowClasses("pressed","down"),!1}}),this.addHandler(this.btnUp,o,function(e){var i=t.step;switch(Math.abs(t.max-t.min)<=i&&(i=1),t.rtl&&!t.vertical&&(i=-t.step),e.type){case"click":t.buttonUpCapture&&!t.isTouchDevice?t.disabled||t.setPosition(t.value-i):!t.disabled&&t.isTouchDevice&&t.setPosition(t.value-i);break;case"mouseup":if(!t.btnUpInstance.base.disabled&&t.buttonUpCapture)return t.buttonUpCapture=!1,t.btnUp.removeClass(t.toThemeProperty("jqx-scrollbar-button-state-pressed")),t.btnUp.removeClass(t.toThemeProperty("jqx-fill-state-pressed")),t._removeArrowClasses("pressed","up"),t.handlemouseup(t,e),t.setPosition(t.value-i),!1;break;case"mousedown":if(!t.btnUpInstance.base.disabled)return t.buttonUpCapture=!0,t.btnUp.addClass(t.toThemeProperty("jqx-fill-state-pressed")),t.btnUp.addClass(t.toThemeProperty("jqx-scrollbar-button-state-pressed")),t._addArrowClasses("pressed","up"),!1}})}var l="click";if(this.isTouchDevice&&(l=e.jqx.mobile.getTouchEventName("touchend")),this.addHandler(this.areaUp,l,function(e){if(!t.disabled){var i=t.largestep;return t.rtl&&!t.vertical&&(i=-t.largestep),t.setPosition(t.value-i),!1}}),this.addHandler(this.areaDown,l,function(e){if(!t.disabled){var i=t.largestep;return t.rtl&&!t.vertical&&(i=-t.largestep),t.setPosition(t.value+i),!1}}),this.addHandler(this.areaUp,"mousedown",function(e){return t.disabled?void 0:(t.areaUpCapture=!0,!1)}),this.addHandler(this.areaDown,"mousedown",function(e){return t.disabled?void 0:(t.areaDownCapture=!0,!1)}),this.addHandler(this.btnThumb,"mousedown dragstart",function(e){return"dragstart"===e.type?!1:(t.disabled||t.handlemousedown(e),void(e.preventDefault&&e.preventDefault()))}),this.addHandler(e(document),"mouseup."+this.element.id,function(e){t.disabled||t.handlemouseup(t,e)}),!this.isTouchDevice&&(this.mousemoveFunc=function(e){t.disabled||t.handlemousemove(e)},this.addHandler(e(document),"mousemove."+this.element.id,this.mousemoveFunc),this.addHandler(e(document),"mouseleave."+this.element.id,function(e){t.disabled||t.handlemouseleave(e)}),this.addHandler(e(document),"mouseenter."+this.element.id,function(e){t.disabled||t.handlemouseenter(e)}),!t.disabled)){this.addHandler(this.btnUp,"mouseenter mouseleave",function(e){"mouseenter"===e.type?t.disabled||t.btnUpInstance.base.disabled||1==t.touchMode||(t.btnUp.addClass(t.toThemeProperty("jqx-scrollbar-button-state-hover")),t.btnUp.addClass(t.toThemeProperty("jqx-fill-state-hover")),t._addArrowClasses("hover","up")):t.disabled||t.btnUpInstance.base.disabled||1==t.touchMode||(t.btnUp.removeClass(t.toThemeProperty("jqx-scrollbar-button-state-hover")),t.btnUp.removeClass(t.toThemeProperty("jqx-fill-state-hover")),t._removeArrowClasses("hover","up"))});var h=t.toThemeProperty("jqx-scrollbar-thumb-state-hover");t.vertical||(h=t.toThemeProperty("jqx-scrollbar-thumb-state-hover-horizontal")),this.addHandler(this.btnThumb,"mouseenter mouseleave",function(e){"mouseenter"===e.type?t.disabled||1==t.touchMode||(t.btnThumb.addClass(h),t.btnThumb.addClass(t.toThemeProperty("jqx-fill-state-hover"))):t.disabled||1==t.touchMode||(t.btnThumb.removeClass(h),t.btnThumb.removeClass(t.toThemeProperty("jqx-fill-state-hover")))}),this.addHandler(this.btnDown,"mouseenter mouseleave",function(e){"mouseenter"===e.type?t.disabled||t.btnDownInstance.base.disabled||1==t.touchMode||(t.btnDown.addClass(t.toThemeProperty("jqx-scrollbar-button-state-hover")),t.btnDown.addClass(t.toThemeProperty("jqx-fill-state-hover")),t._addArrowClasses("hover","down")):t.disabled||t.btnDownInstance.base.disabled||1==t.touchMode||(t.btnDown.removeClass(t.toThemeProperty("jqx-scrollbar-button-state-hover")),t.btnDown.removeClass(t.toThemeProperty("jqx-fill-state-hover")),t._removeArrowClasses("hover","down"))})}},destroy:function(){var t=this.btnUp,i=this.btnDown,r=this.btnThumb,s=(this.scrollWrap,this.areaUp),a=this.areaDown;this.arrowUp.remove(),delete this.arrowUp,this.arrowDown.remove(),delete this.arrowDown,a.removeClass(),s.removeClass(),i.removeClass(),t.removeClass(),r.removeClass(),t.jqxRepeatButton("destroy"),i.jqxRepeatButton("destroy"),s.jqxRepeatButton("destroy"),a.jqxRepeatButton("destroy"),r.jqxButton("destroy");var n=e.data(this.element,"jqxScrollBar");this._removeHandlers(),this.btnUp=null,this.btnDown=null,this.scrollWrap=null,this.areaUp=null,this.areaDown=null,this.scrollOuterWrap=null,delete this.mousemoveFunc,delete this.btnDownInstance,delete this.btnUpInstance,delete this.scrollOuterWrap,delete this.scrollWrap,delete this.btnDown,delete this.areaDown,delete this.areaUp,delete this.btnDown,delete this.btnUp,delete this.btnThumb,delete this.propertyChangeMap.value,delete this.propertyChangeMap.min,delete this.propertyChangeMap.max,delete this.propertyChangeMap.touchMode,delete this.propertyChangeMap.disabled,delete this.propertyChangeMap.theme,delete this.propertyChangeMap,n&&delete n.instance,this.host.removeData(),this.host.remove(),delete this.host,delete this.set,delete this.get,delete this.call,delete this.element},_removeHandlers:function(){this.removeHandler(this.btnUp,"mouseenter"),this.removeHandler(this.btnDown,"mouseenter"),this.removeHandler(this.btnThumb,"mouseenter"),this.removeHandler(this.btnUp,"mouseleave"),this.removeHandler(this.btnDown,"mouseleave"),
this.removeHandler(this.btnThumb,"mouseleave"),this.removeHandler(this.btnUp,"click"),this.removeHandler(this.btnDown,"click"),this.removeHandler(this.btnDown,"mouseup"),this.removeHandler(this.btnUp,"mouseup"),this.removeHandler(this.btnDown,"mousedown"),this.removeHandler(this.btnUp,"mousedown"),this.removeHandler(this.areaUp,"mousedown"),this.removeHandler(this.areaDown,"mousedown"),this.removeHandler(this.areaUp,"click"),this.removeHandler(this.areaDown,"click"),this.removeHandler(this.btnThumb,"mousedown"),this.removeHandler(this.btnThumb,"dragstart"),this.removeHandler(e(document),"mouseup."+this.element.id),this.mousemoveFunc?this.removeHandler(e(document),"mousemove."+this.element.id,this.mousemoveFunc):this.removeHandler(e(document),"mousemove."+this.element.id),this.removeHandler(e(document),"mouseleave."+this.element.id),this.removeHandler(e(document),"mouseenter."+this.element.id)},_addArrowClasses:function(e,t){"pressed"==e&&(e="selected"),""!=e&&(e="-"+e),this.vertical?("up"!=t&&void 0!=t||this.arrowUp.addClass(this.toThemeProperty("jqx-icon-arrow-up"+e)),"down"!=t&&void 0!=t||this.arrowDown.addClass(this.toThemeProperty("jqx-icon-arrow-down"+e))):("up"!=t&&void 0!=t||this.arrowUp.addClass(this.toThemeProperty("jqx-icon-arrow-left"+e)),"down"!=t&&void 0!=t||this.arrowDown.addClass(this.toThemeProperty("jqx-icon-arrow-right"+e)))},_removeArrowClasses:function(e,t){"pressed"==e&&(e="selected"),""!=e&&(e="-"+e),this.vertical?("up"!=t&&void 0!=t||this.arrowUp.removeClass(this.toThemeProperty("jqx-icon-arrow-up"+e)),"down"!=t&&void 0!=t||this.arrowDown.removeClass(this.toThemeProperty("jqx-icon-arrow-down"+e))):("up"!=t&&void 0!=t||this.arrowUp.removeClass(this.toThemeProperty("jqx-icon-arrow-left"+e)),"down"!=t&&void 0!=t||this.arrowDown.removeClass(this.toThemeProperty("jqx-icon-arrow-right"+e)))},setTheme:function(){var t=this.btnUp,i=this.btnDown,r=this.btnThumb,s=this.scrollWrap,a=(this.areaUp,this.areaDown,this.arrowUp),n=this.arrowDown;this.scrollWrap[0].className=this.toThemeProperty("jqx-reset"),this.scrollOuterWrap[0].className=this.toThemeProperty("jqx-reset");var o=this.toThemeProperty("jqx-reset");this.areaDown[0].className=o,this.areaUp[0].className=o;var l=this.toThemeProperty("jqx-scrollbar")+" "+this.toThemeProperty("jqx-widget")+" "+this.toThemeProperty("jqx-widget-content");this.host.addClass(l),this.isTouchDevice&&this.host.addClass(this.toThemeProperty("jqx-scrollbar-mobile")),i[0].className=this.toThemeProperty("jqx-scrollbar-button-state-normal"),t[0].className=this.toThemeProperty("jqx-scrollbar-button-state-normal");var h="";if(this.vertical?(a[0].className=o+" "+this.toThemeProperty("jqx-icon-arrow-up"),n[0].className=o+" "+this.toThemeProperty("jqx-icon-arrow-down"),h=this.toThemeProperty("jqx-scrollbar-thumb-state-normal")):(a[0].className=o+" "+this.toThemeProperty("jqx-icon-arrow-left"),n[0].className=o+" "+this.toThemeProperty("jqx-icon-arrow-right"),h=this.toThemeProperty("jqx-scrollbar-thumb-state-normal-horizontal")),h+=" "+this.toThemeProperty("jqx-fill-state-normal"),r[0].className=h,this.disabled?(s.addClass(this.toThemeProperty("jqx-fill-state-disabled")),s.removeClass(this.toThemeProperty("jqx-scrollbar-state-normal"))):(s.addClass(this.toThemeProperty("jqx-scrollbar-state-normal")),s.removeClass(this.toThemeProperty("jqx-fill-state-disabled"))),"all"==this.roundedCorners)if(this.host.addClass(this.toThemeProperty("jqx-rc-all")),this.vertical){var d=e.jqx.cssroundedcorners("top");d=this.toThemeProperty(d),t.addClass(d);var c=e.jqx.cssroundedcorners("bottom");c=this.toThemeProperty(c),i.addClass(c)}else{var u=e.jqx.cssroundedcorners("left");u=this.toThemeProperty(u),t.addClass(u);var p=e.jqx.cssroundedcorners("right");p=this.toThemeProperty(p),i.addClass(p)}else{var f=e.jqx.cssroundedcorners(this.roundedCorners);f=this.toThemeProperty(f),elBtnUp.addClass(f),elBtnDown.addClass(f)}var f=e.jqx.cssroundedcorners(this.roundedCorners);f=this.toThemeProperty(f),r.hasClass(f)||r.addClass(f),"none"===t.css("display")&&(this.showButtons=!1,this.touchModeStyle=!0,r.addClass(this.toThemeProperty("jqx-scrollbar-thumb-state-normal-touch"))),this.isTouchDevice&&0!=this.touchModeStyle&&(this.showButtons=!1,r.addClass(this.toThemeProperty("jqx-scrollbar-thumb-state-normal-touch")))},isScrolling:function(){return void 0==this.thumbCapture||void 0==this.buttonDownCapture||void 0==this.buttonUpCapture||void 0==this.areaDownCapture||void 0==this.areaUpCapture?!1:this.thumbCapture||this.buttonDownCapture||this.buttonUpCapture||this.areaDownCapture||this.areaUpCapture},track:function(){var e,t,i,r;e=Date.now(),t=e-this.timestamp,this.timestamp=e,i=this.offset-this.frame,this.frame=this.offset,r=1e3*i/(1+t),this.velocity=.2*r+.2*this.velocity},handlemousedown:function(t){function i(e){s.reference=parseInt(s.btnThumb[0].style.top),s.offset=parseInt(s.btnThumb[0].style.top),s.vertical||(s.reference=parseInt(s.btnThumb[0].style.left),s.offset=parseInt(s.btnThumb[0].style.left)),s.velocity=s.amplitude=0,s.frame=s.offset,s.timestamp=Date.now(),clearInterval(s.ticker),s.ticker=setInterval(function(){s.track()},100)}if(void 0==this.thumbCapture||0==this.thumbCapture){this.thumbCapture=!0;var r=this.btnThumb;null!=r&&(r.addClass(this.toThemeProperty("jqx-fill-state-pressed")),this.vertical?r.addClass(this.toThemeProperty("jqx-scrollbar-thumb-state-pressed")):r.addClass(this.toThemeProperty("jqx-scrollbar-thumb-state-pressed-horizontal")))}var s=this;this.thumbCapture&&e.jqx.scrollAnimation&&i(t),this.dragStartX=t.clientX,this.dragStartY=t.clientY,this.dragStartValue=this.value},toggleHover:function(e,t){},refresh:function(){this._arrange()},_setElementPosition:function(e,t,i){isNaN(t)||parseInt(e[0].style.left)!=parseInt(t)&&(e[0].style.left=t+"px"),isNaN(i)||parseInt(e[0].style.top)!=parseInt(i)&&(e[0].style.top=i+"px")},_setElementTopPosition:function(e,t){isNaN(t)||(e[0].style.top=t+"px")},_setElementLeftPosition:function(e,t){isNaN(t)||(e[0].style.left=t+"px")},handlemouseleave:function(e){var t=this.btnUp,i=this.btnDown;if((this.buttonDownCapture||this.buttonUpCapture)&&(t.removeClass(this.toThemeProperty("jqx-scrollbar-button-state-pressed")),i.removeClass(this.toThemeProperty("jqx-scrollbar-button-state-pressed")),this._removeArrowClasses("pressed")),1==this.thumbCapture){var r=this.btnThumb,s=this.vertical?this.toThemeProperty("jqx-scrollbar-thumb-state-pressed"):this.toThemeProperty("jqx-scrollbar-thumb-state-pressed-horizontal");r.removeClass(s),r.removeClass(this.toThemeProperty("jqx-fill-state-pressed"))}},handlemouseenter:function(e){var t=this.btnUp,i=this.btnDown;if(this.buttonUpCapture&&(t.addClass(this.toThemeProperty("jqx-scrollbar-button-state-pressed")),t.addClass(this.toThemeProperty("jqx-fill-state-pressed")),this._addArrowClasses("pressed","up")),this.buttonDownCapture&&(i.addClass(this.toThemeProperty("jqx-scrollbar-button-state-pressed")),i.addClass(this.toThemeProperty("jqx-fill-state-pressed")),this._addArrowClasses("pressed","down")),1==this.thumbCapture){var r=this.btnThumb;this.vertical?r.addClass(this.toThemeProperty("jqx-scrollbar-thumb-state-pressed")):r.addClass(this.toThemeProperty("jqx-scrollbar-thumb-state-pressed-horizontal")),r.addClass(this.toThemeProperty("jqx-fill-state-pressed"))}},handlemousemove:function(e){var t=this.btnUp,i=this.btnDown,r=0;if(null!=i&&null!=t){if(null!=t&&null!=i&&void 0!=this.buttonDownCapture&&void 0!=this.buttonUpCapture&&(this.buttonDownCapture&&e.which==r?(i.removeClass(this.toThemeProperty("jqx-scrollbar-button-state-pressed")),i.removeClass(this.toThemeProperty("jqx-fill-state-pressed")),this._removeArrowClasses("pressed","down"),this.buttonDownCapture=!1):this.buttonUpCapture&&e.which==r&&(t.removeClass(this.toThemeProperty("jqx-scrollbar-button-state-pressed")),t.removeClass(this.toThemeProperty("jqx-fill-state-pressed")),this._removeArrowClasses("pressed","up"),this.buttonUpCapture=!1)),1!=this.thumbCapture)return!1;var s=this.btnThumb;if(e.which==r&&!this.isTouchDevice&&!this._touchSupport){this.thumbCapture=!1,this._arrange();var a=this.vertical?this.toThemeProperty("jqx-scrollbar-thumb-state-pressed"):this.toThemeProperty("jqx-scrollbar-thumb-state-pressed-horizontal");return s.removeClass(a),s.removeClass(this.toThemeProperty("jqx-fill-state-pressed")),!0}void 0!=e.preventDefault&&e.preventDefault(),null!=e.originalEvent&&(e.originalEvent.mouseHandled=!0),void 0!=e.stopPropagation&&e.stopPropagation();var n=0;try{n=this.vertical?e.clientY-this.dragStartY:e.clientX-this.dragStartX;var o=this._btnAndThumbSize;this._btnAndThumbSize||(o=this.vertical?t.height()+i.height()+s.height():t.width()+i.width()+s.width());var l=(this.max-this.min)/(this.scrollBarSize-o);if("auto"!=this.thumbStep){if(n*=l,Math.abs(this.dragStartValue+n-this.value)>=parseInt(this.thumbStep)){var h=Math.round(parseInt(n)/this.thumbStep)*this.thumbStep;return this.rtl&&!this.vertical?this.setPosition(this.dragStartValue-h):this.setPosition(this.dragStartValue+h),!1}return!1}n*=l;var h=n;this.rtl&&!this.vertical&&(h=-n),this.setPosition(this.dragStartValue+h),this.offset=parseInt(s[0].style.left),this.vertical&&(this.offset=parseInt(s[0].style.top))}catch(d){alert(d)}return!1}},handlemouseup:function(t,i){function r(){var e,t;if(o.amplitude)if(e=Date.now()-o.timestamp,t=-o.amplitude*Math.exp(-e/325),t>.5||-.5>t){var i=(o.max-o.min)/(o.scrollBarSize-o._btnAndThumbSize),s=i*(o.target+t),a=s;o.rtl&&!o.vertical&&(a=-s),o.setPosition(o.dragStartValue+a),requestAnimationFrame(r)}else{var i=(o.max-o.min)/(o.scrollBarSize-o._btnAndThumbSize),s=i*(o.target+t),a=s;o.rtl&&!o.vertical&&(a=-s),o.setPosition(o.dragStartValue+a)}}var s=!1;if(this.thumbCapture){this.thumbCapture=!1;var a=this.btnThumb,n=this.vertical?this.toThemeProperty("jqx-scrollbar-thumb-state-pressed"):this.toThemeProperty("jqx-scrollbar-thumb-state-pressed-horizontal");if(a.removeClass(n),a.removeClass(this.toThemeProperty("jqx-fill-state-pressed")),s=!0,this._mouseup=new Date,e.jqx.scrollAnimation){var o=this;clearInterval(this.ticker),(this.velocity>25||this.velocity<-25)&&(this.amplitude=.8*this.velocity,this.target=Math.round(this.offset+this.amplitude),this.vertical?this.target-=this.reference:this.target-=this.reference,this.timestamp=Date.now(),requestAnimationFrame(r))}}if(this.areaDownCapture=this.areaUpCapture=!1,this.buttonUpCapture||this.buttonDownCapture){var l=this.btnUp,h=this.btnDown;this.buttonUpCapture=!1,this.buttonDownCapture=!1,l.removeClass(this.toThemeProperty("jqx-scrollbar-button-state-pressed")),h.removeClass(this.toThemeProperty("jqx-scrollbar-button-state-pressed")),l.removeClass(this.toThemeProperty("jqx-fill-state-pressed")),h.removeClass(this.toThemeProperty("jqx-fill-state-pressed")),this._removeArrowClasses("pressed"),s=!0,this._mouseup=new Date}s&&(void 0!=i.preventDefault&&i.preventDefault(),null!=i.originalEvent&&(i.originalEvent.mouseHandled=!0),void 0!=i.stopPropagation&&i.stopPropagation())},setPosition:function(t,i){this.element;if(void 0!=t&&NaN!=t||(t=this.min),t>=this.max&&(t=this.max),t<this.min&&(t=this.min),this.value!==t||1==i){if(t==this.max){var r=new e.Event("complete");this.host.trigger(r)}var s=this.value;if(this._triggervaluechanged){var a=new e.Event("valueChanged");a.previousValue=this.value,a.currentValue=t}this.value=t,this._positionelements(),this._triggervaluechanged&&this.host.trigger(a),this.valueChanged&&this.valueChanged({currentValue:this.value,previousvalue:s})}return t},val:function(e){var t=function(t){for(var i in t)if(t.hasOwnProperty(i))return!1;return"number"==typeof e?!1:"date"==typeof e?!1:"boolean"==typeof e?!1:"string"!=typeof e};return t(e)||0==arguments.length?this.value:(this.setPosition(e),e)},_getThumbSize:function(e){var t=this.max-this.min,i=0;return t>1?i=e/(t+e)*e:1==t?i=e-1:0==t&&(i=e),this.thumbSize>0&&(i=this.thumbSize),i<this.thumbMinSize&&(i=this.thumbMinSize),Math.min(i,e)},_positionelements:function(){var e=(this.element,this.areaUp),t=this.areaDown,i=(this.btnUp,this.btnDown,this.btnThumb),r=(this.scrollWrap,this._height?this._height:this.host.height()),s=this._width?this._width:this.host.width(),a=this.vertical?s:r;this.showButtons||(a=0);var n=this.vertical?r:s;this.scrollBarSize=n;var o=this._getThumbSize(n-2*a);o=Math.floor(o),o<this.thumbMinSize&&(o=this.thumbMinSize),(NaN==r||10>r)&&(r=10),(NaN==s||10>s)&&(s=10),a+=2,this.btnSize=a;var l=this._btnAndThumbSize;if(!this._btnAndThumbSize){var l=this.vertical?2*this.btnSize+i.outerHeight():2*this.btnSize+i.outerWidth();l=Math.round(l)}var h=(n-l)/(this.max-this.min)*(this.value-this.min);if(this.rtl&&!this.vertical&&(h=(n-l)/(this.max-this.min)*(this.max-this.value-this.min)),h=Math.round(h),0>h&&(h=0),this.vertical){var d=n-h-l;0>d&&(d=0),t[0].style.height=d+"px",e[0].style.height=h+"px",this._setElementTopPosition(e,a),this._setElementTopPosition(i,a+h),this._setElementTopPosition(t,a+h+o)}else e[0].style.width=h+"px",n-h-l>=0?t[0].style.width=n-h-l+"px":t[0].style.width="0px",this._setElementLeftPosition(e,a),this._setElementLeftPosition(i,a+h),this._setElementLeftPosition(t,2+a+h+o)},_arrange:function(){var e=this;if(e._initialLayout)return void(e._initialLayout=!1);if(e.min>e.max){var t=e.min;e.min=e.max,e.max=t}if(e.min<0){var i=e.max-e.min;e.min=0,e.max=i}var r=(e.element,e.areaUp),s=e.areaDown,a=e.btnUp,n=e.btnDown,o=e.btnThumb,l=e.scrollWrap,h=parseInt(e.element.style.height),d=parseInt(e.element.style.width);if(e.isPercentage)var h=e.host.height(),d=e.host.width();isNaN(h)&&(h=0),isNaN(d)&&(d=0),e._width=d,e._height=h;var c=e.vertical?d:h;e.showButtons||(c=0),a[0].style.width=c+"px",a[0].style.height=c+"px",n[0].style.width=c+"px",n[0].style.height=c+"px",e.vertical?l[0].style.width=d+2+"px":l[0].style.height=h+2+"px",e._setElementPosition(a,0,0);var u=c+2;e.vertical?e._setElementPosition(n,0,h-u):e._setElementPosition(n,d-u,0);var p=e.vertical?h:d;e.scrollBarSize=p;var f=e._getThumbSize(p-2*u);f=Math.floor(f-2),f<e.thumbMinSize&&(f=e.thumbMinSize);var m=!1;e.isTouchDevice&&0!=e.touchModeStyle&&(m=!0),e.vertical?(o[0].style.width=d+"px",o[0].style.height=f+"px",m&&0!==e.thumbTouchSize&&(o.css({width:e.thumbTouchSize+"px"}),o.css("margin-left",(e.host.width()-e.thumbTouchSize)/2))):(o[0].style.width=f+"px",o[0].style.height=h+"px",m&&0!==e.thumbTouchSize&&(o.css({height:e.thumbTouchSize+"px"}),o.css("margin-top",(e.host.height()-e.thumbTouchSize)/2))),(NaN==h||10>h)&&(h=10),(NaN==d||10>d)&&(d=10),e.btnSize=c;var g=e.vertical?2*u+(2+parseInt(o[0].style.height)):2*u+(2+parseInt(o[0].style.width));g=Math.round(g),e._btnAndThumbSize=g;var v=(p-g)/(e.max-e.min)*(e.value-e.min);if(e.rtl&&!e.vertical&&(v=(p-g)/(e.max-e.min)*(e.max-e.value-e.min)),v=Math.round(v),(isNaN(v)||0>v||v===-(1/0)||v===1/0)&&(v=0),e.vertical){var x=p-v-g;0>x&&(x=0),s[0].style.height=x+"px",s[0].style.width=d+"px",r[0].style.height=v+"px",r[0].style.width=d+"px";var b=parseInt(e.element.style.height);e.isPercentage&&(b=e.host.height()),o[0].style.visibility="inherit",(b-3*parseInt(c)<0||g>b)&&(o[0].style.visibility="hidden"),e._setElementPosition(r,0,u),e._setElementPosition(o,0,u+v),e._setElementPosition(s,0,u+v+f)}else{v>0&&(r[0].style.width=v+"px"),h>0&&(r[0].style.height=h+"px");var w=p-v-g;0>w&&(w=0),s[0].style.width=w+"px",s[0].style.height=h+"px";var y=parseInt(e.element.style.width);e.isPercentage&&(y=e.host.width()),o[0].style.visibility="inherit",(y-3*parseInt(c)<0||g>y)&&(o[0].style.visibility="hidden"),e._setElementPosition(r,u,0),e._setElementPosition(o,u+v,0),e._setElementPosition(s,u+v+f,0)}}})}(jqxBaseFramework),function(e){e.jqx.jqxWidget("jqxDraw","",{}),e.extend(e.jqx._jqxDraw.prototype,{defineInstance:function(){var t={renderEngine:""};e.extend(!0,this,t);var i=["clear","on","off","removeElement","attr","getAttr","line","circle","rect","path","pieslice","text","measureText"];for(var r in i)this._addFn(e.jqx._jqxDraw.prototype,i[r]);return t},_addFn:function(e,t){e[t]||(e[t]=function(){return this.renderer[t].apply(this.renderer,arguments)})},createInstance:function(e){},_initRenderer:function(t){return e.jqx.createRenderer(this,t)},_internalRefresh:function(){var t=this;if(!e.jqx.isHidden(t.host)){t.renderer||(t.host.empty(),t._initRenderer(t.host));var i=t.renderer;if(i){var r=i.getRect();t._render({x:1,y:1,width:r.width,height:r.height}),i instanceof e.jqx.HTML5Renderer&&i.refresh()}}},_saveAsImage:function(t,i,r,s){return e.jqx._widgetToImage(this,t,i,r,s)},_render:function(e){var t=this;t.renderer;t._plotRect=e},refresh:function(){this._internalRefresh()},getSize:function(){var e=this._plotRect;return{width:e.width,height:e.height}},saveAsPNG:function(e,t,i){return this._saveAsImage("png",e,t,i)},saveAsJPEG:function(e,t,i){return this._saveAsImage("jpeg",e,t,i)}})}(jqxBaseFramework),function(e){e.jqx.toGreyScale=function(t){if(-1==t.indexOf("#"))return t;var i=e.jqx.cssToRgb(t);i[0]=i[1]=i[2]=Math.round(.3*i[0]+.59*i[1]+.11*i[2]);var r=e.jqx.rgbToHex(i[0],i[1],i[2]);return"#"+r[0]+r[1]+r[2]},e.jqx.adjustColor=function(t,i){if("string"!=typeof t)return"#000000";if(-1==t.indexOf("#"))return t;var r=e.jqx.cssToRgb(t),s=e.jqx.rgbToHsl(r);s[2]=Math.min(1,s[2]*i),s[1]=Math.min(1,s[1]*i*1.1),r=e.jqx.hslToRgb(s);for(var t="#",a=0;3>a;a++){var n=Math.round(r[a]);n=e.jqx.decToHex(n),1==n.toString().length&&(t+="0"),t+=n}return t.toUpperCase()},e.jqx.decToHex=function(e){return e.toString(16)},e.jqx.hexToDec=function(e){return parseInt(e,16)},e.jqx.rgbToHex=function(t,i,r){return[e.jqx.decToHex(t),e.jqx.decToHex(i),e.jqx.decToHex(r)]},e.jqx.hexToRgb=function(t,i,r){return[e.jqx.hexToDec(t),e.jqx.hexToDec(i),e.jqx.hexToDec(r)]},e.jqx.cssToRgb=function(t){return t.indexOf("rgb")<=-1?e.jqx.hexToRgb(t.substring(1,3),t.substring(3,5),t.substring(5,7)):t.substring(4,t.length-1).split(",")},e.jqx.hslToRgb=function(t){var i=parseFloat(t[0]),s=parseFloat(t[1]),a=parseFloat(t[2]);if(0==s)r=g=b=a;else{var n=.5>a?a*(1+s):a+s-a*s,o=2*a-n;r=e.jqx.hueToRgb(o,n,i+1/3),g=e.jqx.hueToRgb(o,n,i),b=e.jqx.hueToRgb(o,n,i-1/3)}return[255*r,255*g,255*b]},e.jqx.hueToRgb=function(e,t,i){return 0>i&&(i+=1),i>1&&(i-=1),1/6>i?e+6*(t-e)*i:.5>i?t:2/3>i?e+(t-e)*(2/3-i)*6:e},e.jqx.rgbToHsl=function(e){var t,i,r=parseFloat(e[0])/255,s=parseFloat(e[1])/255,a=parseFloat(e[2])/255,n=Math.max(r,s,a),o=Math.min(r,s,a),l=(n+o)/2;if(n==o)t=i=0;else{var h=n-o;switch(i=l>.5?h/(2-n-o):h/(n+o),n){case r:t=(s-a)/h+(a>s?6:0);break;case s:t=(a-r)/h+2;break;case a:t=(r-s)/h+4}t/=6}return[t,i,l]},e.jqx.swap=function(e,t){var i=e;e=t,t=i},e.jqx.getNum=function(t){if(e.isArray(t)){for(var i=0;i<t.length;i++)if(!isNaN(t[i]))return t[i]}else if(isNaN(t))return 0;return 0},e.jqx._ptdist=function(e,t,i,r){return Math.sqrt((i-e)*(i-e)+(r-t)*(r-t))},e.jqx._ptrnd=function(t){if(!document.createElementNS)return Math.round(t)==t?t:e.jqx._rnd(t,1,!1,!0);var i=e.jqx._rnd(t,.5,!1,!0);return.5!=Math.abs(i-Math.round(i))?i>t?i-.5:i+.5:i},e.jqx._ptRotate=function(e,t,i,r,s){var a=Math.sqrt(Math.pow(Math.abs(e-i),2)+Math.pow(Math.abs(t-r),2)),n=Math.asin((e-i)/a),o=n+s;return e=i+Math.cos(o)*a,t=r+Math.sin(o)*a,{x:e,y:t}},e.jqx._rup=function(e){var t=Math.round(e);return e>t&&t++,t},e.jqx.log=function(e,t){return Math.log(e)/(t?Math.log(t):1)},e.jqx._mod=function(e,t){var i=Math.abs(e>t?t:e),r=1;if(0!=i)for(;100>i*r;)r*=10;return e*=r,t*=r,e%t/r},e.jqx._rnd=function(t,i,r,s){if(isNaN(t))return t;void 0===s&&(s=!0);var a=t-(1==s?t%i:e.jqx._mod(t,i));return t==a?a:(r?t>a&&(a+=i):a>t&&(a-=i),1==i?Math.round(a):a)},e.jqx.commonRenderer={pieSlicePath:function(e,t,i,r,s,a,n){r||(r=1);var o=Math.abs(s-a),l=o>180?1:0;o>=360&&(a=s+359.99);var h=s*Math.PI*2/360,d=a*Math.PI*2/360,c=e,u=e,p=t,f=t,m=!isNaN(i)&&i>0;if(m&&(n=0),n+i>0){if(n>0){var g=o/2+s,v=g*Math.PI*2/360;e+=n*Math.cos(v),t-=n*Math.sin(v)}if(m){var x=i;c=e+x*Math.cos(h),p=t-x*Math.sin(h),u=e+x*Math.cos(d),f=t-x*Math.sin(d)}}var b=e+r*Math.cos(h),w=e+r*Math.cos(d),y=t-r*Math.sin(h),_=t-r*Math.sin(d),j="",q=Math.abs(Math.abs(a-s)-360)>.02;return m?(j="M "+u+","+f,j+=" a"+i+","+i,j+=" 0 "+l+",1 "+(c-u)+","+(p-f),j+=q?" L"+b+","+y:" M"+b+","+y,j+=" a"+r+","+r,j+=" 0 "+l+",0 "+(w-b)+","+(_-y),q&&(j+=" Z")):(j="M "+w+","+_,j+=" a"+r+","+r,j+=" 0 "+l+",1 "+(b-w)+","+(y-_),q&&(j+=" L"+e+","+t,j+=" Z")),j},measureText:function(t,i,r,s,a){var n=a._getTextParts(t,i,r),o=n.width,l=n.height;0==s&&(l/=.6);var h={};if(isNaN(i)&&(i=0),0==i)h={width:e.jqx._rup(o),height:e.jqx._rup(l)};else{var d=i*Math.PI*2/360,c=Math.abs(Math.sin(d)),u=Math.abs(Math.cos(d)),p=Math.abs(o*c+l*u),f=Math.abs(o*u+l*c);h={width:e.jqx._rup(f),height:e.jqx._rup(p)}}return s&&(h.textPartsInfo=n),h},alignTextInRect:function(t,i,r,s,a,n,o,l,h,d){var c=h*Math.PI*2/360,u=Math.sin(c),p=Math.cos(c),f=a*u,m=a*p;"center"==o||""==o||"undefined"==o?t+=r/2:"right"==o&&(t+=r),"center"==l||"middle"==l||""==l||"undefined"==l?i+=s/2:"bottom"==l?i+=s-n/2:"top"==l&&(i+=n/2),d=d||"";var g="middle";-1!=d.indexOf("top")?g="top":-1!=d.indexOf("bottom")&&(g="bottom");var v="center";return-1!=d.indexOf("left")?v="left":-1!=d.indexOf("right")&&(v="right"),"center"==v?(t-=m/2,i-=f/2):"right"==v&&(t-=m,i-=f),"top"==g?(t-=n*u,i+=n*p):"middle"==g&&(t-=n*u/2,i+=n*p/2),t=e.jqx._rup(t),i=e.jqx._rup(i),{x:t,y:i}}},e.jqx.svgRenderer=function(){},e.jqx.svgRenderer.prototype={_svgns:"http://www.w3.org/2000/svg",init:function(e){var t="<table class=tblChart cellspacing='0' cellpadding='0' border='0' align='left' valign='top'><tr><td colspan=2 class=tdTop></td></tr><tr><td class=tdLeft></td><td><div class='chartContainer' style='position:relative' onselectstart='return false;'></div></td></tr></table>";e.append(t),this.host=e;var i=e.find(".chartContainer");i[0].style.width=e.width()+"px",i[0].style.height=e.height()+"px";try{var r=document.createElementNS(this._svgns,"svg");r.setAttribute("id","svgChart"),r.setAttribute("version","1.1"),r.setAttribute("width","100%"),r.setAttribute("height","100%"),r.setAttribute("overflow","hidden"),i[0].appendChild(r),this.canvas=r}catch(s){return!1}return this._id=(new Date).getTime(),this.clear(),this._layout(),this._runLayoutFix(),!0},getType:function(){return"SVG"},refresh:function(){},_runLayoutFix:function(){this._fixLayout()},_fixLayout:function(){var t=this.canvas.getBoundingClientRect(),i=parseFloat(t.left)==parseInt(t.left),r=parseFloat(t.top)==parseInt(t.top);if(e.jqx.browser.msie){for(var i=!0,r=!0,s=this.host,a=0,n=0;s&&s.position&&s[0].parentNode;){var o=s.position();a+=parseFloat(o.left)-parseInt(o.left),n+=parseFloat(o.top)-parseInt(o.top),s=s.parent()}i=parseFloat(a)==parseInt(a),r=parseFloat(n)==parseInt(n)}i||(this.host.find(".tdLeft")[0].style.width="0.5px"),r||(this.host.find(".tdTop")[0].style.height="0.5px")},_layout:function(){var t=this.host.find(".chartContainer");this._width=Math.max(e.jqx._rup(this.host.width())-1,0),this._height=Math.max(e.jqx._rup(this.host.height())-1,0),t[0].style.width=this._width,t[0].style.height=this._height,this._fixLayout()},getRect:function(){return{x:0,y:0,width:this._width,height:this._height}},getContainer:function(){var e=this.host.find(".chartContainer");return e},clear:function(){for(;this.canvas.childElementCount>0;)this.removeElement(this.canvas.firstElementChild);this._defaultParent=void 0,this._defs=document.createElementNS(this._svgns,"defs"),this._gradients={},this.canvas.appendChild(this._defs)},removeElement:function(e){if(void 0!=e){this.removeHandler(e);try{for(;e.firstChild;)this.removeElement(e.firstChild);e.parentNode?e.parentNode.removeChild(e):this.canvas.removeChild(e)}catch(t){}}},_openGroups:[],beginGroup:function(){var e=this._activeParent(),t=document.createElementNS(this._svgns,"g");return e.appendChild(t),this._openGroups.push(t),t},endGroup:function(){0!=this._openGroups.length&&this._openGroups.pop()},_activeParent:function(){return 0==this._openGroups.length?this.canvas:this._openGroups[this._openGroups.length-1]},createClipRect:function(e){var t=document.createElementNS(this._svgns,"clipPath"),i=document.createElementNS(this._svgns,"rect");return this.attr(i,{x:e.x,y:e.y,width:e.width,height:e.height,fill:"none"}),this._clipId=this._clipId||0,t.id="cl"+this._id+"_"+(++this._clipId).toString(),t.appendChild(i),this._defs.appendChild(t),t},getWindowHref:function(){var t=e.jqx.browser;if(t&&"msie"==t.browser&&t.version<10)return"";var i=window.location.href;return i?(i=i.replace(/([\('\)])/g,"\\$1"),i=i.replace(/#.*$/,"")):i},setClip:function(e,t){var i="url("+this.getWindowHref()+"#"+t.id+")";return this.attr(e,{"clip-path":i})},_clipId:0,addHandler:function(t,i,r){e(t).on?e(t).on(i,r):e(t).bind(i,r)},removeHandler:function(t,i,r){e(t).off?e(t).off(i,r):e(t).unbind(i,r)},on:function(e,t,i){this.addHandler(e,t,i)},off:function(e,t,i){this.removeHandler(e,t,i)},shape:function(e,t){var i=document.createElementNS(this._svgns,e);if(i){for(var r in t)i.setAttribute(r,t[r]);return this._activeParent().appendChild(i),i}},_getTextParts:function(t,i,r){var s={width:0,height:0,parts:[]};if(void 0===t)return s;var a=.6,n=t.toString().split("<br>"),o=this._activeParent(),l=document.createElementNS(this._svgns,"text");this.attr(l,r);for(var h=0;h<n.length;h++){var d=n[h],c=l.ownerDocument.createTextNode(d);l.appendChild(c),o.appendChild(l);var u;try{u=l.getBBox()}catch(p){}var f=e.jqx._rup(u.width),m=e.jqx._rup(u.height*a);l.removeChild(c),s.width=Math.max(s.width,f),s.height+=m+(h>0?4:0),s.parts.push({width:f,height:m,text:d})}return o.removeChild(l),s},_measureText:function(t,i,r,s){return e.jqx.commonRenderer.measureText(t,i,r,s,this)},measureText:function(e,t,i){return this._measureText(e,t,i,!1)},text:function(t,i,r,s,a,n,o,l,h,d,c){var u,p=this._measureText(t,n,o,!0),f=p.textPartsInfo,m=f.parts;if(h||(h="center"),d||(d="center"),(m.length>1||l)&&(u=this.beginGroup()),l){var g=this.createClipRect({x:e.jqx._rup(i)-1,y:e.jqx._rup(r)-1,width:e.jqx._rup(s)+2,height:e.jqx._rup(a)+2});this.setClip(u,g)}var v=this._activeParent(),x=0,b=0;x=f.width,b=f.height,(isNaN(s)||0>=s)&&(s=x),(isNaN(a)||0>=a)&&(a=b);var w=s||0,y=a||0;if(!n||0==n){r+=b,"center"==d||"middle"==d?r+=(y-b)/2:"bottom"==d&&(r+=y-b),s||(s=x),a||(a=b);for(var v=this._activeParent(),_=0,j=m.length-1;j>=0;j--){var q=document.createElementNS(this._svgns,"text");this.attr(q,o),this.attr(q,{cursor:"default"});var T=q.ownerDocument.createTextNode(m[j].text);q.appendChild(T);var S=i,C=m[j].width,I=m[j].height;"center"==h?S+=(w-C)/2:"right"==h&&(S+=w-C),this.attr(q,{x:e.jqx._rup(S),y:e.jqx._rup(r+_),width:e.jqx._rup(C),height:e.jqx._rup(I)}),v.appendChild(q),_-=m[j].height+4}return u?(this.endGroup(),u):q}var k=e.jqx.commonRenderer.alignTextInRect(i,r,s,a,x,b,h,d,n,c);i=k.x,r=k.y;var D=this.shape("g",{transform:"translate("+i+","+r+")"}),M=this.shape("g",{transform:"rotate("+n+")"});D.appendChild(M);for(var _=0,j=m.length-1;j>=0;j--){var P=document.createElementNS(this._svgns,"text");this.attr(P,o),this.attr(P,{cursor:"default"});var T=P.ownerDocument.createTextNode(m[j].text);P.appendChild(T);var S=0,C=m[j].width,I=m[j].height;"center"==h?S+=(f.width-C)/2:"right"==h&&(S+=f.width-C),this.attr(P,{x:e.jqx._rup(S),y:e.jqx._rup(_),width:e.jqx._rup(C),height:e.jqx._rup(I)}),M.appendChild(P),_-=I+4}return v.appendChild(D),u&&this.endGroup(),D},line:function(e,t,i,r,s){var a=this.shape("line",{x1:e,y1:t,x2:i,y2:r});return this.attr(a,s),a},path:function(e,t){var i=this.shape("path");return i.setAttribute("d",e),t&&this.attr(i,t),i},rect:function(t,i,r,s,a){t=e.jqx._ptrnd(t),i=e.jqx._ptrnd(i),r=Math.max(1,e.jqx._rnd(r,1,!1)),s=Math.max(1,e.jqx._rnd(s,1,!1));var n=this.shape("rect",{x:t,y:i,width:r,height:s});return a&&this.attr(n,a),n},circle:function(e,t,i,r){var s=this.shape("circle",{cx:e,cy:t,r:i});return r&&this.attr(s,r),s},pieSlicePath:function(t,i,r,s,a,n,o){return e.jqx.commonRenderer.pieSlicePath(t,i,r,s,a,n,o)},pieslice:function(e,t,i,r,s,a,n,o){var l=this.pieSlicePath(e,t,i,r,s,a,n),h=this.shape("path");return h.setAttribute("d",l),o&&this.attr(h,o),h},attr:function(e,t){if(e&&t)for(var i in t)"textContent"==i?e.textContent=t[i]:e.setAttribute(i,t[i])},removeAttr:function(e,t){if(e&&t)for(var i in t)"textContent"==i?e.textContent="":e.removeAttribute(t[i])},getAttr:function(e,t){return e.getAttribute(t)},_gradients:{},_toLinearGradient:function(t,i,r){var s="grd"+this._id+t.replace("#","")+(i?"v":"h"),a="url("+this.getWindowHref()+"#"+s+")";if(this._gradients[a])return a;var n=document.createElementNS(this._svgns,"linearGradient");this.attr(n,{x1:"0%",y1:"0%",x2:i?"0%":"100%",y2:i?"100%":"0%",id:s});for(var o=0;o<r.length;o++){var l=r[o],h=document.createElementNS(this._svgns,"stop"),d="stop-color:"+e.jqx.adjustColor(t,l[1]);this.attr(h,{offset:l[0]+"%",style:d}),n.appendChild(h)}return this._defs.appendChild(n),this._gradients[a]=!0,a},_toRadialGradient:function(t,i,r){var s="grd"+this._id+t.replace("#","")+"r"+(void 0!=r?r.key:""),a="url("+this.getWindowHref()+"#"+s+")";if(this._gradients[a])return a;var n=document.createElementNS(this._svgns,"radialGradient");void 0==r?this.attr(n,{cx:"50%",cy:"50%",r:"100%",fx:"50%",fy:"50%",id:s}):this.attr(n,{cx:r.x,cy:r.y,r:r.outerRadius,id:s,gradientUnits:"userSpaceOnUse"});for(var o=0;o<i.length;o++){var l=i[o],h=document.createElementNS(this._svgns,"stop"),d="stop-color:"+e.jqx.adjustColor(t,l[1]);this.attr(h,{offset:l[0]+"%",style:d}),n.appendChild(h)}return this._defs.appendChild(n),this._gradients[a]=!0,a}},e.jqx.vmlRenderer=function(){},e.jqx.vmlRenderer.prototype={init:function(t){var i="<div class='chartContainer' style=\"position:relative;overflow:hidden;\"><div>";t.append(i),this.host=t;var r=t.find(".chartContainer");r[0].style.width=t.width()+"px",r[0].style.height=t.height()+"px";var s=!0;try{for(var a=0;a<document.namespaces.length;a++)if("v"==document.namespaces[a].name&&"urn:schemas-microsoft-com:vml"==document.namespaces[a].urn){s=!1;break}}catch(n){return!1}return e.jqx.browser.msie&&parseInt(e.jqx.browser.version)<9&&document.childNodes&&document.childNodes.length>0&&document.childNodes[0].data&&-1!=document.childNodes[0].data.indexOf("DOCTYPE")?(s&&document.namespaces.add("v","urn:schemas-microsoft-com:vml"),this._ie8mode=!0):s&&(document.namespaces.add("v","urn:schemas-microsoft-com:vml"),document.createStyleSheet().cssText="v\\:* { behavior: url(#default#VML); display: inline-block; }"),this.canvas=r[0],this._width=Math.max(e.jqx._rup(r.width()),0),this._height=Math.max(e.jqx._rup(r.height()),0),r[0].style.width=this._width+2,r[0].style.height=this._height+2,this._id=(new Date).getTime(),this.clear(),!0},getType:function(){return"VML"},refresh:function(){},getRect:function(){return{x:0,y:0,width:this._width,height:this._height}},getContainer:function(){var e=this.host.find(".chartContainer");return e},clear:function(){for(;this.canvas.childElementCount>0;)this.removeHandler(this.canvas.firstElementChild),this.canvas.removeChild(this.canvas.firstElementChild);this._gradients={},this._defaultParent=void 0},removeElement:function(e){null!=e&&(this.removeHandler(e),e.parentNode.removeChild(e))},_openGroups:[],beginGroup:function(){var e=this._activeParent(),t=document.createElement("v:group");return t.style.position="absolute",t.coordorigin="0,0",t.coordsize=this._width+","+this._height,t.style.left=0,t.style.top=0,t.style.width=this._width,t.style.height=this._height,e.appendChild(t),this._openGroups.push(t),t},endGroup:function(){0!=this._openGroups.length&&this._openGroups.pop()},_activeParent:function(){return 0==this._openGroups.length?this.canvas:this._openGroups[this._openGroups.length-1]},createClipRect:function(e){var t=document.createElement("div");return t.style.height=e.height+1+"px",t.style.width=e.width+1+"px",t.style.position="absolute",t.style.left=e.x+"px",t.style.top=e.y+"px",t.style.overflow="hidden",this._clipId=this._clipId||0,t.id="cl"+this._id+"_"+(++this._clipId).toString(),this._activeParent().appendChild(t),t},setClip:function(e,t){},_clipId:0,addHandler:function(t,i,r){e(t).on?e(t).on(i,r):e(t).bind(i,r)},removeHandler:function(t,i,r){e(t).off?e(t).off(i,r):e(t).unbind(i,r)},on:function(e,t,i){
this.addHandler(e,t,i)},off:function(e,t,i){this.removeHandler(e,t,i)},_getTextParts:function(t,i,r){var s={width:0,height:0,parts:[]},a=.6,n=t.toString().split("<br>"),o=this._activeParent(),l=document.createElement("v:textbox");this.attr(l,r),o.appendChild(l);for(var h=0;h<n.length;h++){var d=n[h],c=document.createElement("span");c.appendChild(document.createTextNode(d)),l.appendChild(c),r&&r["class"]&&(c.className=r["class"]);var u=e(l),p=e.jqx._rup(u.width()),f=e.jqx._rup(u.height()*a);if(0==f&&e.jqx.browser.msie&&parseInt(e.jqx.browser.version)<9){var m=u.css("font-size");m&&(f=parseInt(m),isNaN(f)&&(f=0))}l.removeChild(c),s.width=Math.max(s.width,p),s.height+=f+(h>0?2:0),s.parts.push({width:p,height:f,text:d})}return o.removeChild(l),s},_measureText:function(t,i,r,s){return i=Math.abs(i)>45?90:0,e.jqx.commonRenderer.measureText(t,i,r,s,this)},measureText:function(e,t,i){return this._measureText(e,t,i,!1)},text:function(t,i,r,s,a,n,o,l,h,d){var c;o&&o.stroke&&(c=o.stroke),void 0==c&&(c="black");var u=this._measureText(t,n,o,!0),p=u.textPartsInfo,f=p.parts,m=u.width,g=u.height;(isNaN(s)||0==s)&&(s=m),(isNaN(a)||0==a)&&(a=g);var v;if(h||(h="center"),d||(d="center"),(f.length>0||l)&&(v=this.beginGroup()),l){var x=this.createClipRect({x:e.jqx._rup(i),y:e.jqx._rup(r),width:e.jqx._rup(s),height:e.jqx._rup(a)});this.setClip(v,x)}var b=this._activeParent(),w=s||0,y=a||0;n=Math.abs(n)>45?90:0;var _=0,j=0;"center"==h?_+=(w-m)/2:"right"==h&&(_+=w-m),"center"==d?j=(y-g)/2:"bottom"==d&&(j=y-g),0==n?(r+=g+j,i+=_):(i+=m+_,r+=j);for(var q,T=0,S=f.length-1;S>=0;S--){var C=f[S],I=(m-C.width)/2;0==n&&"left"==h?I=0:0==n&&"right"==h?I=m-C.width:90==n&&(I=(g-C.width)/2);var k=T-C.height;j=90==n?I:k,_=90==n?k:I,q=document.createElement("v:textbox"),q.style.position="absolute",q.style.left=e.jqx._rup(i+_),q.style.top=e.jqx._rup(r+j),q.style.width=e.jqx._rup(C.width),q.style.height=e.jqx._rup(C.height),90==n&&(q.style.filter="progid:DXImageTransform.Microsoft.BasicImage(rotation=3)",q.style.height=e.jqx._rup(C.height)+5);var D=document.createElement("span");D.appendChild(document.createTextNode(C.text)),o&&o["class"]&&(D.className=o["class"]),q.appendChild(D),b.appendChild(q),T-=C.height+(S>0?2:0)}return v?(this.endGroup(),b):q},shape:function(e,t){var i=document.createElement(this._createElementMarkup(e));if(i){for(var r in t)i.setAttribute(r,t[r]);return this._activeParent().appendChild(i),i}},line:function(e,t,i,r,s){var a="M "+e+","+t+" L "+i+","+r+" X E",n=this.path(a);return this.attr(n,s),n},_createElementMarkup:function(e){var t="<v:"+e+' style=""></v:'+e+">";return this._ie8mode&&(t=t.replace('style=""','style="behavior: url(#default#VML);"')),t},path:function(e,t){var i=document.createElement(this._createElementMarkup("shape"));return i.style.position="absolute",i.coordsize=this._width+" "+this._height,i.coordorigin="0 0",i.style.width=parseInt(this._width),i.style.height=parseInt(this._height),i.style.left="0px",i.style.top="0px",i.setAttribute("path",e),this._activeParent().appendChild(i),t&&this.attr(i,t),i},rect:function(t,i,r,s,a){t=e.jqx._ptrnd(t),i=e.jqx._ptrnd(i),r=e.jqx._rup(r),s=e.jqx._rup(s);var n=this.shape("rect",a);return n.style.position="absolute",n.style.left=t,n.style.top=i,n.style.width=r,n.style.height=s,n.strokeweight=0,a&&this.attr(n,a),n},circle:function(t,i,r,s){var a=this.shape("oval");return t=e.jqx._ptrnd(t-r),i=e.jqx._ptrnd(i-r),r=e.jqx._rup(r),a.style.position="absolute",a.style.left=t,a.style.top=i,a.style.width=2*r,a.style.height=2*r,s&&this.attr(a,s),a},updateCircle:function(t,i,r,s){void 0==i&&(i=parseFloat(t.style.left)+parseFloat(t.style.width)/2),void 0==r&&(r=parseFloat(t.style.top)+parseFloat(t.style.height)/2),void 0==s&&(s=parseFloat(t.width)/2),i=e.jqx._ptrnd(i-s),r=e.jqx._ptrnd(r-s),s=e.jqx._rup(s),t.style.left=i,t.style.top=r,t.style.width=2*s,t.style.height=2*s},pieSlicePath:function(t,i,r,s,a,n,o){s||(s=1);var l=Math.abs(a-n);l>360&&(a=0,n=360);var h=a*Math.PI*2/360,d=n*Math.PI*2/360,c=t,u=t,p=i,f=i,m=!isNaN(r)&&r>0;if(m&&(o=0),o>0){var g=l/2+a,v=g*Math.PI*2/360;t+=o*Math.cos(v),i-=o*Math.sin(v)}if(m){var x=r;c=e.jqx._ptrnd(t+x*Math.cos(h)),p=e.jqx._ptrnd(i-x*Math.sin(h)),u=e.jqx._ptrnd(t+x*Math.cos(d)),f=e.jqx._ptrnd(i-x*Math.sin(d))}var b=(e.jqx._ptrnd(t+s*Math.cos(h)),e.jqx._ptrnd(t+s*Math.cos(d))),w=(e.jqx._ptrnd(i-s*Math.sin(h)),e.jqx._ptrnd(i-s*Math.sin(d)));s=e.jqx._ptrnd(s),r=e.jqx._ptrnd(r),t=e.jqx._ptrnd(t),i=e.jqx._ptrnd(i);var y=Math.round(65535*a),_=Math.round(65536*(n-a));0>r&&(r=1);var j="";return m?(j="M"+c+" "+p,j+=" AE "+t+" "+i+" "+r+" "+r+" "+y+" "+_,j+=" L "+b+" "+w,y=Math.round(65535*(a-n)),_=Math.round(65536*n),j+=" AE "+t+" "+i+" "+s+" "+s+" "+_+" "+y,j+=" L "+c+" "+p):(j="M"+t+" "+i,j+=" AE "+t+" "+i+" "+s+" "+s+" "+y+" "+_),j+=" X E"},pieslice:function(e,t,i,r,s,a,n,o){var l=this.pieSlicePath(e,t,i,r,s,a,n),h=this.path(l,o);return o&&this.attr(h,o),h},_keymap:[{svg:"fill",vml:"fillcolor"},{svg:"stroke",vml:"strokecolor"},{svg:"stroke-width",vml:"strokeweight"},{svg:"stroke-dasharray",vml:"dashstyle"},{svg:"fill-opacity",vml:"fillopacity"},{svg:"stroke-opacity",vml:"strokeopacity"},{svg:"opacity",vml:"opacity"},{svg:"cx",vml:"style.left"},{svg:"cy",vml:"style.top"},{svg:"height",vml:"style.height"},{svg:"width",vml:"style.width"},{svg:"x",vml:"style.left"},{svg:"y",vml:"style.top"},{svg:"d",vml:"v"},{svg:"display",vml:"style.display"}],_translateParam:function(e){for(var t in this._keymap)if(this._keymap[t].svg==e)return this._keymap[t].vml;return e},attr:function(e,t){if(e&&t)for(var i in t){var r=this._translateParam(i);void 0!=t[i]&&("fillcolor"==r&&-1!=t[i].indexOf("grd")?e.type=t[i]:"fillcolor"==r&&"transparent"==t[i]?(e.style.filter="alpha(opacity=0)",e["-ms-filter"]="progid:DXImageTransform.Microsoft.Alpha(Opacity=0)"):"opacity"==r||"fillopacity"==r?e.fill&&(e.fill.opacity=t[i]):"textContent"==r?e.children[0].innerText=t[i]:"dashstyle"==r?e.dashstyle=t[i].replace(","," "):-1==r.indexOf("style.")?e[r]=t[i]:e.style[r.replace("style.","")]=t[i])}},removeAttr:function(e,t){if(e&&t)for(var i in t)e.removeAttribute(t[i])},getAttr:function(e,t){var i=this._translateParam(t);return"opacity"==i||"fillopacity"==i?e.fill?e.fill.opacity:1:-1==i.indexOf("style.")?e[i]:e.style[i.replace("style.","")]},_gradients:{},_toRadialGradient:function(e,t,i){return e},_toLinearGradient:function(t,i,r){if(this._ie8mode)return t;var s="grd"+t.replace("#","")+(i?"v":"h"),a="#"+s;if(this._gradients[a])return a;var n=document.createElement(this._createElementMarkup("fill"));n.type="gradient",n.method="linear",n.angle=i?0:90;for(var o="",l=0;l<r.length;l++){var h=r[l];h>0&&(o+=", "),o+=h[0]+"% "+e.jqx.adjustColor(t,h[1])}n.colors=o;var d=document.createElement(this._createElementMarkup("shapetype"));return d.appendChild(n),d.id=s,this.canvas.appendChild(d),a}},e.jqx.HTML5Renderer=function(){},e.jqx.ptrnd=function(e){if(.5==Math.abs(Math.round(e)-e))return e;var t=Math.round(e);return e>t&&(t-=1),t+.5},e.jqx.HTML5Renderer.prototype={init:function(e){try{this.host=e,this.host.append("<div class='chartContainer' style='position:relative' onselectstart='return false;'><canvas id='__jqxCanvasWrap' style='width:100%; height: 100%;'/></div>"),this.canvas=e.find("#__jqxCanvasWrap"),this.canvas[0].width=e.width(),this.canvas[0].height=e.height(),this.ctx=this.canvas[0].getContext("2d"),this._elements={},this._maxId=0,this._gradientId=0,this._gradients={},this._currentPoint={x:0,y:0},this._lastCmd="",this._pos=0}catch(t){return!1}return!0},getType:function(){return"HTML5"},getContainer:function(){var e=this.host.find(".chartContainer");return e},getRect:function(){return{x:0,y:0,width:this.canvas[0].width-1,height:this.canvas[0].height-1}},beginGroup:function(){},endGroup:function(){},setClip:function(){},createClipRect:function(e){},addHandler:function(e,t,i){},removeHandler:function(e,t,i){},on:function(e,t,i){this.addHandler(e,t,i)},off:function(e,t,i){this.removeHandler(e,t,i)},clear:function(){this._elements={},this._maxId=0,this._renderers._gradients={},this._gradientId=0},removeElement:function(e){void 0!=e&&this._elements[e.id]&&delete this._elements[e.id]},shape:function(e,t){var i={type:e,id:this._maxId++};for(var r in t)i[r]=t[r];return this._elements[i.id]=i,i},attr:function(e,t){for(var i in t)e[i]=t[i]},removeAttr:function(e,t){for(var i in t)delete e[t[i]]},rect:function(e,t,i,r,s){if(isNaN(e))throw'Invalid value for "x"';if(isNaN(t))throw'Invalid value for "y"';if(isNaN(i))throw'Invalid value for "width"';if(isNaN(r))throw'Invalid value for "height"';var a=this.shape("rect",{x:e,y:t,width:i,height:r});return s&&this.attr(a,s),a},path:function(e,t){var i=this.shape("path",t);return this.attr(i,{d:e}),i},line:function(e,t,i,r,s){return this.path("M "+e+","+t+" L "+i+","+r,s)},circle:function(e,t,i,r){var s=this.shape("circle",{x:e,y:t,r:i});return r&&this.attr(s,r),s},pieSlicePath:function(t,i,r,s,a,n,o){return e.jqx.commonRenderer.pieSlicePath(t,i,r,s,a,n,o)},pieslice:function(e,t,i,r,s,a,n,o){var l=this.path(this.pieSlicePath(e,t,i,r,s,a,n),o);return this.attr(l,{x:e,y:t,innerRadius:i,outerRadius:r,angleFrom:s,angleTo:a}),l},_getCSSStyle:function(e){var t=document.styleSheets;try{for(var i=0;i<t.length;i++)for(var r=0;t[i].cssRules&&r<t[i].cssRules.length;r++)if(-1!=t[i].cssRules[r].selectorText.indexOf(e))return t[i].cssRules[r].style}catch(s){}return{}},_getTextParts:function(t,i,r){var s="Arial",a="10pt",n="";if(r&&r["class"]){var o=this._getCSSStyle(r["class"]);o.fontSize&&(a=o.fontSize),o.fontFamily&&(s=o.fontFamily),o.fontWeight&&(n=o.fontWeight)}this.ctx.font=n+" "+a+" "+s;for(var l={width:0,height:0,parts:[]},h=.6,d=t.toString().split("<br>"),c=0;c<d.length;c++){var u=d[c],p=this.ctx.measureText(u).width,f=document.createElement("span.jqxchart");f.font=this.ctx.font,f.textContent=u,document.body.appendChild(f);var m=f.offsetHeight*h;document.body.removeChild(f),l.width=Math.max(l.width,e.jqx._rup(p)),l.height+=m+(c>0?4:0),l.parts.push({width:p,height:m,text:u})}return l},_measureText:function(t,i,r,s){return e.jqx.commonRenderer.measureText(t,i,r,s,this)},measureText:function(e,t,i){return this._measureText(e,t,i,!1)},text:function(e,t,i,r,s,a,n,o,l,h,d){var c=this.shape("text",{text:e,x:t,y:i,width:r,height:s,angle:a,clip:o,halign:l,valign:h,rotateAround:d});if(n&&this.attr(c,n),c.fontFamily="Arial",c.fontSize="10pt",c.fontWeight="",c.color="#000000",n&&n["class"]){var u=this._getCSSStyle(n["class"]);c.fontFamily=u.fontFamily||c.fontFamily,c.fontSize=u.fontSize||c.fontSize,c.fontWeight=u.fontWeight||c.fontWeight,c.color=u.color||c.color}var p=this._measureText(e,0,n,!0);return this.attr(c,{textPartsInfo:p.textPartsInfo,textWidth:p.width,textHeight:p.height}),(0>=r||isNaN(r))&&this.attr(c,{width:p.width}),(0>=s||isNaN(s))&&this.attr(c,{height:p.height}),c},_toLinearGradient:function(t,i,r){if(this._renderers._gradients[t])return t;for(var s=[],a=0;a<r.length;a++)s.push({percent:r[a][0]/100,color:e.jqx.adjustColor(t,r[a][1])});var n="gr"+this._gradientId++;return this.createGradient(n,i?"vertical":"horizontal",s),n},_toRadialGradient:function(t,i){if(this._renderers._gradients[t])return t;for(var r=[],s=0;s<i.length;s++)r.push({percent:i[s][0]/100,color:e.jqx.adjustColor(t,i[s][1])});var a="gr"+this._gradientId++;return this.createGradient(a,"radial",r),a},createGradient:function(e,t,i){this._renderers.createGradient(this,e,t,i)},_renderers:{createGradient:function(e,t,i,r){e._gradients[t]={orientation:i,colorStops:r}},setStroke:function(e,t){var i=e.ctx;i.strokeStyle=t.stroke||"transparent",i.lineWidth=t["stroke-width"]||1,void 0!=t["fill-opacity"]?i.globalAlpha=t["fill-opacity"]:void 0!=t.opacity?i.globalAlpha=t.opacity:i.globalAlpha=1,i.setLineDash&&(t["stroke-dasharray"]?i.setLineDash(t["stroke-dasharray"].split(",")):i.setLineDash([]))},setFillStyle:function(t,i){var r=t.ctx;if(r.fillStyle="transparent",void 0!=i["fill-opacity"]?r.globalAlpha=i["fill-opacity"]:void 0!=i.opacity?r.globalAlpha=i.opacity:r.globalAlpha=1,i.fill&&-1==i.fill.indexOf("#")&&t._gradients[i.fill]){var s,a="horizontal"!=t._gradients[i.fill].orientation,n="radial"==t._gradients[i.fill].orientation,o=e.jqx.ptrnd(i.x),l=e.jqx.ptrnd(i.y),h=e.jqx.ptrnd(i.x+(a?0:i.width)),d=e.jqx.ptrnd(i.y+(a?i.height:0));"circle"!=i.type&&"path"!=i.type&&"rect"!=i.type||!n||(x=e.jqx.ptrnd(i.x),y=e.jqx.ptrnd(i.y),r1=i.innerRadius||0,r2=i.outerRadius||i.r||0,"rect"==i.type&&(x+=i.width/2,y+=i.height/2),s=r.createRadialGradient(x,y,r1,x,y,r2)),n||((isNaN(o)||isNaN(h)||isNaN(l)||isNaN(d))&&(o=0,l=0,h=a?0:r.canvas.width,d=a?r.canvas.height:0),s=r.createLinearGradient(o,l,h,d));for(var c=t._gradients[i.fill].colorStops,u=0;u<c.length;u++)s.addColorStop(c[u].percent,c[u].color);r.fillStyle=s}else i.fill&&(r.fillStyle=i.fill)},rect:function(t,i){0!=i.width&&0!=i.height&&(t.fillRect(e.jqx.ptrnd(i.x),e.jqx.ptrnd(i.y),i.width,i.height),t.strokeRect(e.jqx.ptrnd(i.x),e.jqx.ptrnd(i.y),i.width,i.height))},circle:function(t,i){0!=i.r&&(t.beginPath(),t.arc(e.jqx.ptrnd(i.x),e.jqx.ptrnd(i.y),i.r,0,2*Math.PI,!1),t.closePath(),t.fill(),t.stroke())},_parsePoint:function(e){var t=this._parseNumber(e),i=this._parseNumber(e);return{x:t,y:i}},_parseNumber:function(e){for(var t=!1,i=this._pos;i<e.length;i++)if(e[i]>="0"&&e[i]<="9"||"."==e[i]||"e"==e[i]||"-"==e[i]&&!t||"-"==e[i]&&i>=1&&"e"==e[i-1])t=!0;else{if(t||" "!=e[i]&&","!=e[i])break;this._pos++}var r=parseFloat(e.substring(this._pos,i));return isNaN(r)?void 0:(this._pos=i,r)},_cmds:"mlcazq",_isRelativeCmd:function(t){return e.jqx.string.contains(this._cmds,t)},_parseCmd:function(t){for(var i=this._pos;i<t.length;i++){if(e.jqx.string.containsIgnoreCase(this._cmds,t[i]))return this._pos=i+1,this._lastCmd=t[i],this._lastCmd;if(" "!=t[i]){if(t[i]>="0"&&t[i]<="9"){if(this._pos=i,""==this._lastCmd)break;return this._lastCmd}}else this._pos++}},_toAbsolutePoint:function(e){return{x:this._currentPoint.x+e.x,y:this._currentPoint.y+e.y}},path:function(e,t){var i=t.d;this._pos=0,this._lastCmd="";var r=void 0;this._currentPoint={x:0,y:0},e.beginPath();for(;this._pos<i.length;){var s=this._parseCmd(i);if(void 0==s)break;if("M"!=s&&"m"!=s)if("L"!=s&&"l"!=s)if("A"!=s&&"a"!=s)if("Z"!=s&&"z"!=s||void 0==r)if("C"!=s&&"c"!=s)if("Q"!=s&&"q"!=s);else{var a=this._parsePoint(i),n=this._parsePoint(i);e.quadraticCurveTo(a.x,a.y,n.x,n.y),this._currentPoint=n}else{var a=this._parsePoint(i),n=this._parsePoint(i),o=this._parsePoint(i);e.bezierCurveTo(a.x,a.y,n.x,n.y,o.x,o.y),this._currentPoint=o}else e.lineTo(r.x,r.y),this._currentPoint=r;else{var l=this._parseNumber(i),h=this._parseNumber(i),d=this._parseNumber(i)*(Math.PI/180),c=this._parseNumber(i),u=this._parseNumber(i),p=this._parsePoint(i);if(this._isRelativeCmd(s)&&(p=this._toAbsolutePoint(p)),0==l||0==h)continue;var f=this._currentPoint,m={x:Math.cos(d)*(f.x-p.x)/2+Math.sin(d)*(f.y-p.y)/2,y:-Math.sin(d)*(f.x-p.x)/2+Math.cos(d)*(f.y-p.y)/2},g=Math.pow(m.x,2)/Math.pow(l,2)+Math.pow(m.y,2)/Math.pow(h,2);g>1&&(l*=Math.sqrt(g),h*=Math.sqrt(g));var v=(c==u?-1:1)*Math.sqrt((Math.pow(l,2)*Math.pow(h,2)-Math.pow(l,2)*Math.pow(m.y,2)-Math.pow(h,2)*Math.pow(m.x,2))/(Math.pow(l,2)*Math.pow(m.y,2)+Math.pow(h,2)*Math.pow(m.x,2)));isNaN(v)&&(v=0);var x={x:v*l*m.y/h,y:v*-h*m.x/l},b={x:(f.x+p.x)/2+Math.cos(d)*x.x-Math.sin(d)*x.y,y:(f.y+p.y)/2+Math.sin(d)*x.x+Math.cos(d)*x.y},w=function(e){return Math.sqrt(Math.pow(e[0],2)+Math.pow(e[1],2))},y=function(e,t){return(e[0]*t[0]+e[1]*t[1])/(w(e)*w(t))},_=function(e,t){return(e[0]*t[1]<e[1]*t[0]?-1:1)*Math.acos(y(e,t))},j=_([1,0],[(m.x-x.x)/l,(m.y-x.y)/h]),q=[(m.x-x.x)/l,(m.y-x.y)/h],T=[(-m.x-x.x)/l,(-m.y-x.y)/h],S=_(q,T);y(q,T)<=-1&&(S=Math.PI),y(q,T)>=1&&(S=0),0==u&&S>0&&(S-=2*Math.PI),1==u&&0>S&&(S+=2*Math.PI);var y=l>h?l:h,C=l>h?1:l/h,I=l>h?h/l:1;e.translate(b.x,b.y),e.rotate(d),e.scale(C,I),e.arc(0,0,y,j,j+S,1-u),e.scale(1/C,1/I),e.rotate(-d),e.translate(-b.x,-b.y)}else{var k=this._parsePoint(i);if(void 0==k)break;e.lineTo(k.x,k.y),this._currentPoint=k}else{var k=this._parsePoint(i);if(void 0==k)break;e.moveTo(k.x,k.y),this._currentPoint=k,void 0==r&&(r=k)}}e.fill(),e.stroke(),e.closePath()},text:function(t,i){var r=e.jqx.ptrnd(i.x),s=e.jqx.ptrnd(i.y),a=e.jqx.ptrnd(i.width),n=e.jqx.ptrnd(i.height),o=i.halign,l=i.valign,h=i.angle,d=i.rotateAround,c=i.textPartsInfo,u=c.parts,p=i.clip;void 0==p&&(p=!0),t.save(),o||(o="center"),l||(l="center"),p&&(t.rect(r,s,a,n),t.clip());var f=i.textWidth,m=i.textHeight,g=a||0,v=n||0;if(t.fillStyle=i.color,t.font=i.fontWeight+" "+i.fontSize+" "+i.fontFamily,!h||0==h){s+=m,"center"==l||"middle"==l?s+=(v-m)/2:"bottom"==l&&(s+=v-m),a||(a=f),n||(n=m);for(var x=0,b=u.length-1;b>=0;b--){var w=u[b],y=r,_=u[b].width;u[b].height;"center"==o?y+=(g-_)/2:"right"==o&&(y+=g-_),t.fillText(w.text,y,s+x),x-=w.height+(b>0?4:0)}return void t.restore()}var j=e.jqx.commonRenderer.alignTextInRect(r,s,a,n,f,m,o,l,h,d);r=j.x,s=j.y;var q=h*Math.PI*2/360;t.translate(r,s),t.rotate(q);for(var x=0,T=c.width,b=u.length-1;b>=0;b--){var y=0;"center"==o?y+=(T-u[b].width)/2:"right"==o&&(y+=T-u[b].width),t.fillText(u[b].text,y,x),x-=u[b].height+4}t.restore()}},refresh:function(){this.ctx.clearRect(0,0,this.canvas[0].width,this.canvas[0].height);for(var e in this._elements){var t=this._elements[e];this._renderers.setFillStyle(this,t),this._renderers.setStroke(this,t),this._renderers[this._elements[e].type](this.ctx,t)}}},e.jqx.createRenderer=function(t,i){var r=t,s=r.renderer=null;if(document.createElementNS&&"HTML5"!=r.renderEngine&&"VML"!=r.renderEngine&&(s=new e.jqx.svgRenderer,!s.init(i))){if("SVG"==r.renderEngine)throw"Your browser does not support SVG";return null}if(null==s&&"HTML5"!=r.renderEngine){if(s=new e.jqx.vmlRenderer,!s.init(i)){if("VML"==r.renderEngine)throw"Your browser does not support VML";return null}r._isVML=!0}if(null==s&&("HTML5"==r.renderEngine||void 0==r.renderEngine)&&(s=new e.jqx.HTML5Renderer,!s.init(i)))throw"Your browser does not support HTML5 Canvas";return r.renderer=s,s},e.jqx._widgetToImage=function(t,i,r,s,a,n){var o=t;if(!o)return!1;void 0!=r&&""!=r||(r="image."+i);var l=o.renderEngine,h=o.enableAnimations;if(o.enableAnimations=!1,o.renderEngine="HTML5",o.renderEngine!=l)try{o.refresh()}catch(d){return o.renderEngine=l,o.refresh(),o.enableAnimations=h,!1}var c=o.renderer.getContainer().find("canvas")[0],u=!0;e.isFunction(n)&&(u=n(t,c));var p=!0;return u&&(p=e.jqx.exportImage(c,i,r,s,a)),o.renderEngine!=l&&(o.renderEngine=l,o.refresh(),o.enableAnimations=h),p},e.jqx.getByPriority=function(e){for(var t=void 0,i=0;i<e.length&&void 0==t;i++)void 0==t&&void 0!=e[i]&&(t=e[i]);return t},e.jqx.exportImage=function(t,i,r,s,a){if(!t)return!1;var n="pdf"===i.toLowerCase();if(n&&(i="jpeg"),void 0!=r&&""!=r||(r="image."+i),void 0==s||""==s)throw"Please specifiy export server";var o=!0;try{if(t){var l=t.toDataURL("image/"+i);if(n){e.jqx.pdfExport||(e.jqx.pdfExport={orientation:"portrait",paperSize:"a4"});var h=595;switch(e.jqx.pdfExport.paperSize){case"legal":var h=612;"portrait"!==e.jqx.pdfExport.orientation&&(h=1008);break;case"letter":var h=612;"portrait"!==e.jqx.pdfExport.orientation&&(h=792);break;case"a3":var h=841;"portrait"!==e.jqx.pdfExport.orientation&&(h=1190);break;case"a4":var h=595;"portrait"!==e.jqx.pdfExport.orientation&&(h=842);break;case"a5":var h=420;"portrait"!==e.jqx.pdfExport.orientation&&(h=595)}var d=e(t).width(),c=72*d/96;c>=h-20&&(c=h-20);var u=new pdfDataExport(e.jqx.pdfExport.orientation,"pt",e.jqx.pdfExport.paperSize);return u.addImage(l,"JPEG",10,10,c,0),void u.save(r)}if(l=l.replace("data:image/"+i+";base64,",""),a)e.ajax({dataType:"string",url:s,type:"POST",data:{content:l,fname:r},async:!1,success:function(e,t,i){o=!0},error:function(e,t,i){o=!1}});else{var p=document.createElement("form");p.method="POST",p.action=s,p.style.display="none",document.body.appendChild(p);var f=document.createElement("input");f.name="fname",f.value=r,f.style.display="none";var m=document.createElement("input");m.name="content",m.value=l,m.style.display="none",p.appendChild(f),p.appendChild(m),p.submit(),document.body.removeChild(p),o=!0}}}catch(g){o=!1}return o}}(jqxBaseFramework),function(e){jqxPlot=function(){},jqxPlot.prototype={get:function(e,t,i){return void 0!==i?e[t][i]:e[t]},min:function(e,t){for(var i=NaN,r=0;r<e.length;r++){var s=this.get(e,r,t);(isNaN(i)||i>s)&&(i=s)}return i},max:function(e,t){for(var i=NaN,r=0;r<e.length;r++){var s=this.get(e,r,t);(isNaN(i)||s>i)&&(i=s)}return i},sum:function(e,t){for(var i=0,r=0;r<e.length;r++){var s=this.get(e,r,t);isNaN(s)||(i+=s)}return i},count:function(e,t){for(var i=0,r=0;r<e.length;r++){var s=this.get(e,r,t);isNaN(s)||i++}return i},avg:function(e,t){return this.sum(e,t)/Math.max(1,count(e,t))},filter:function(e,t){if(!t)return e;for(var i=[],r=0;r<e.length;r++)t(e[r])&&i.push(e[r]);return i},scale:function(t,i,r,s){if(isNaN(t))return NaN;if((t<Math.min(i.min,i.max)||t>Math.max(i.min,i.max))&&(!s||s.ignore_range!==!0))return NaN;var a=NaN,n=1;if(void 0===i.type||"logarithmic"!=i.type){var o=Math.abs(i.max-i.min);o||(o=1),n=Math.abs(t-Math.min(i.min,i.max))/o}else if("logarithmic"===i.type){var l=i.base;isNaN(l)&&(l=10);var h=Math.min(i.min,i.max);0>=h&&(h=1);var d=Math.max(i.min,i.max);0>=d&&(d=1);var c=e.jqx.log(d,l);d=Math.pow(l,c);var u=e.jqx.log(h,l);h=Math.pow(l,u);var p=e.jqx.log(t,l);n=Math.abs(p-u)/(c-u)}if("logarithmic"===r.type){var l=r.base;isNaN(l)&&(l=10);var c=e.jqx.log(r.max,l),u=e.jqx.log(r.min,l);r.flip&&(n=1-n);var p=Math.min(u,c)+n*Math.abs(c-u);a=Math.pow(l,p)}else a=Math.min(r.min,r.max)+n*Math.abs(r.max-r.min),r.flip&&(a=Math.max(r.min,r.max)-a+r.min);return a},axis:function(t,i,r){if(1>=r)return[i,t];(isNaN(r)||2>r)&&(r=2);for(var s=0;Math.round(t)!=t&&Math.round(i)!=i&&10>s;)t*=10,i*=10,s++;for(var a=(i-t)/r;10>s&&Math.round(a)!=a;)t*=10,i*=10,a*=10,s++;for(var n=[1,2,5],o=0;;){var l=o%n.length,h=Math.floor(o/n.length),d=Math.pow(10,h)*n[l];l=(o+1)%n.length,h=Math.floor((o+1)/n.length);var c=Math.pow(10,h)*n[l];if(a>=d&&c>a)break;o++}for(var u=c,p=[],f=e.jqx._rnd(t,u,!1),m=0>=s?1:Math.pow(10,s);i+u>f;)p.push(f/m),f+=u;return p}}}(jqxBaseFramework),function(e){e.jqx.jqxWidget("jqxChart","",{}),e.extend(e.jqx._jqxChart.prototype,{defineInstance:function(){return e.extend(!0,this,this._defaultSettings),this._createColorsCache(),this._defaultSettings},_defaultSettings:{title:"Title",description:"Description",source:[],seriesGroups:[],categoryAxis:null,xAxis:{},valueAxis:null,renderEngine:"",enableAnimations:!0,enableAxisTextAnimation:!1,backgroundImage:"",background:"#FFFFFF",padding:{left:5,top:5,right:5,bottom:5},backgroundColor:"#FFFFFF",showBorderLine:!0,borderLineWidth:1,borderLineColor:null,borderColor:null,titlePadding:{left:5,top:5,right:5,bottom:10},showLegend:!0,legendLayout:null,enabled:!0,colorScheme:"scheme01",animationDuration:500,showToolTips:!0,toolTipShowDelay:500,toolTipDelay:500,toolTipHideDelay:4e3,toolTipMoveDuration:300,toolTipFormatFunction:null,toolTipAlignment:"dataPoint",localization:null,columnSeriesOverlap:!1,rtl:!1,legendPosition:null,greyScale:!1,axisPadding:5,enableCrosshairs:!1,crosshairsColor:"#BCBCBC",crosshairsDashStyle:"2,2",crosshairsLineWidth:1,enableEvents:!0,_itemsToggleState:[],_isToggleRefresh:!1,_isSelectorRefresh:!1,_sliders:[],_selectorRange:[],_rangeSelectorInstances:{},_resizeState:{},renderer:null,_isRangeSelectorInstance:!1,drawBefore:null,draw:null,_renderData:{},enableSampling:!0},_defaultLineColor:"#BCBCBC",_touchEvents:{mousedown:e.jqx.mobile.getTouchEventName("touchstart"),click:e.jqx.mobile.getTouchEventName("touchstart"),mouseup:e.jqx.mobile.getTouchEventName("touchend"),mousemove:e.jqx.mobile.getTouchEventName("touchmove"),mouseenter:"mouseenter",mouseleave:"mouseleave"},_getEvent:function(e){return this._isTouchDevice?this._touchEvents[e]:e},destroy:function(){this.host.remove()},_jqxPlot:null,createInstance:function(t){if(!e.jqx.dataAdapter)throw"jqxdata.js is not loaded";var i=this;i._refreshOnDownloadComlete(),i._isTouchDevice=e.jqx.mobile.isTouchDevice(),i._jqxPlot||(i._jqxPlot=new jqxPlot),i.addHandler(i.host,i._getEvent("mousemove"),function(t){if(0!=i.enabled){i._isRangeSelectorInstance||i.host.css("cursor","default");var r=t.pageX||t.clientX||t.screenX,s=t.pageY||t.clientY||t.screenY,a=i.host.offset();if(i._isTouchDevice){var n=e.jqx.position(t);r=n.left,s=n.top}r-=a.left,s-=a.top,i.onmousemove(r,s)}}),i.addHandler(i.host,i._getEvent("mouseleave"),function(e){if(0!=i.enabled){var t=i._mouseX,r=i._mouseY,s=i._plotRect;s&&t>=s.x&&t<=s.x+s.width&&r>=s.y&&r<=s.y+s.height||(i._cancelTooltipTimer(),i._hideToolTip(0),i._unselect())}}),i.addHandler(i.host,"click",function(t){if(0!=i.enabled){var r=t.pageX||t.clientX||t.screenX,s=t.pageY||t.clientY||t.screenY,a=i.host.offset();if(i._isTouchDevice){var n=e.jqx.position(t);r=n.left,s=n.top}r-=a.left,s-=a.top,i._mouseX=r,i._mouseY=s,!isNaN(i._lastClickTs)&&(new Date).valueOf()-i._lastClickTs<100||(this._hostClickTimer=setTimeout(function(){if(i._isTouchDevice||(i._cancelTooltipTimer(),i._hideToolTip(),i._unselect()),i._pointMarker&&i._pointMarker.element){var e=i.seriesGroups[i._pointMarker.gidx],r=e.series[i._pointMarker.sidx];t.stopImmediatePropagation(),i._raiseItemEvent("click",e,r,i._pointMarker.iidx)}},100))}});var r=i.element.style;if(r){var s=!1;null!=r.width&&(s|=-1!=r.width.toString().indexOf("%")),null!=r.height&&(s|=-1!=r.height.toString().indexOf("%")),s&&e.jqx.utilities.resize(this.host,function(){i.timer&&clearTimeout(i.timer);var e=1;i.timer=setTimeout(function(){var e=i.enableAnimations;i.enableAnimations=!1,i.refresh(),i.enableAnimations=e},e)},!1,!0)}},_refreshOnDownloadComlete:function(){var t=this,i=this.source;if(i instanceof e.jqx.dataAdapter){var r=i._options;(void 0==r||void 0!=r&&!r.autoBind)&&(i.autoSync=!1,i.dataBind());var s=this.element.id;if(0==i.records.length){var a=function(){t.ready&&t.ready(),t.refresh()};i.unbindDownloadComplete(s),i.bindDownloadComplete(s,a)}else t.ready&&t.ready();i.unbindBindingUpdate(s),i.bindBindingUpdate(s,function(){t._supressBindingRefresh||t.refresh()})}},propertyChangedHandler:function(e,t,i,r){void 0!=this.isInitialized&&0!=this.isInitialized&&("source"==t&&this._refreshOnDownloadComlete(),this.refresh())},_initRenderer:function(t){if(!e.jqx.createRenderer)throw"Please include jqxdraw.js";return e.jqx.createRenderer(this,t)},_internalRefresh:function(){var t=this;if(!e.jqx.isHidden(t.host)){t._stopAnimations(),t.renderer&&(t._isToggleRefresh||t._isUpdate)||(t._hideToolTip(0),t._isVML=!1,t.host.empty(),t._measureDiv=void 0,t._initRenderer(t.host));var i=t.renderer;if(i){var r=i.getRect();t._render({x:1,y:1,width:r.width,height:r.height}),this._raiseEvent("refreshBegin",{instance:this}),i instanceof e.jqx.HTML5Renderer&&i.refresh(),t._isUpdate=!1,this._raiseEvent("refreshEnd",{instance:this})}}},saveAsPNG:function(e,t,i){return this._saveAsImage("png",e,t,i)},saveAsJPEG:function(e,t,i){return this._saveAsImage("jpeg",e,t,i)},saveAsPDF:function(e,t,i){return this._saveAsImage("pdf",e,t,i)},_saveAsImage:function(t,i,r,s){for(var a=!1,n=0;n<this.seriesGroups.length&&!a;n++){var o=this._getXAxis(n);o&&o.rangeSelector&&(a=!0)}return e.jqx._widgetToImage(this,t,i,r,s,a?this._selectorSaveAsImageCallback:void 0)},_selectorSaveAsImageCallback:function(t,i){for(var r=t,s=0;s<r.seriesGroups.length;s++){var a=r._getXAxis(s);if(a&&a.rangeSelector&&!a.rangeSelector.renderTo){var n=r._rangeSelectorInstances[s];if(n){var o=n.jqxChart("getInstance"),l=(o.renderEngine,o.renderer.getRect()),h=o.renderer.getContainer().find("canvas")[0],d=h.getContext("2d"),c=r._sliders[s],u="horizontal"==r.seriesGroups[s].orientation,p=u?"height":"width",f=u?"width":"height",m=u?"y":"x",g=u?"x":"y",v={};v[m]=c.startOffset+c.rect[m],v[g]=c.rect[g],v[p]=c.endOffset-c.startOffset,v[f]=c.rect[f];var x=a.rangeSelector.colorSelectedRange||"blue",b=(a.rangeSelector.colorUnselectedRange||"white",a.rangeSelector.colorRangeLine||"grey"),w=[];w.push(o.renderer.rect(v.x,v.y,v.width,v.height,{fill:x,opacity:.1})),u?(w.push(o.renderer.line(e.jqx._ptrnd(c.rect.x+c.rect.width),e.jqx._ptrnd(c.rect.y),e.jqx._ptrnd(c.rect.x+c.rect.width),e.jqx._ptrnd(v.y),{stroke:b,opacity:.5})),w.push(o.renderer.line(e.jqx._ptrnd(c.rect.x+c.rect.width),e.jqx._ptrnd(v.y+v.height),e.jqx._ptrnd(c.rect.x+c.rect.width),e.jqx._ptrnd(c.rect.y+c.rect.height),{stroke:b,opacity:.5})),w.push(o.renderer.line(e.jqx._ptrnd(c.rect.x),e.jqx._ptrnd(v.y),e.jqx._ptrnd(c.rect.x+c.rect.width),e.jqx._ptrnd(v.y),{stroke:b,opacity:.5})),w.push(o.renderer.line(e.jqx._ptrnd(c.rect.x),e.jqx._ptrnd(v.y+v.height),e.jqx._ptrnd(c.rect.x+c.rect.width),e.jqx._ptrnd(v.y+v.height),{stroke:b,opacity:.5}))):(w.push(o.renderer.line(e.jqx._ptrnd(c.rect.x),e.jqx._ptrnd(c.rect.y),e.jqx._ptrnd(v.x),e.jqx._ptrnd(c.rect.y),{stroke:b,opacity:.5})),w.push(o.renderer.line(e.jqx._ptrnd(v.x+v.width),e.jqx._ptrnd(c.rect.y),e.jqx._ptrnd(c.rect.x+c.rect.width),e.jqx._ptrnd(c.rect.y),{stroke:b,opacity:.5})),w.push(o.renderer.line(e.jqx._ptrnd(v.x),e.jqx._ptrnd(c.rect.y),e.jqx._ptrnd(v.x),e.jqx._ptrnd(c.rect.y+c.rect.height),{stroke:b,opacity:.5})),w.push(o.renderer.line(e.jqx._ptrnd(v.x+v.width),e.jqx._ptrnd(c.rect.y),e.jqx._ptrnd(v.x+v.width),e.jqx._ptrnd(c.rect.y+c.rect.height),{stroke:b,opacity:.5}))),o.renderer.refresh();var y=d.getImageData(l.x,l.y,l.width,l.height),_=i.getContext("2d");_.putImageData(y,parseInt(n.css("left")),parseInt(n.css("top")),1,1,l.width,l.height);for(var j=0;j<w.length;j++)o.renderer.removeElement(w[j]);o.renderer.refresh()}}}return!0},refresh:function(){this._internalRefresh()},update:function(){this._isUpdate=!0,this._internalRefresh()},_seriesTypes:["line","stackedline","stackedline100","spline","stackedspline","stackedspline100","stepline","stackedstepline","stackedstepline100","area","stackedarea","stackedarea100","splinearea","stackedsplinearea","stackedsplinearea100","steparea","stackedsteparea","stackedsteparea100","rangearea","splinerangearea","steprangearea","column","stackedcolumn","stackedcolumn100","rangecolumn","scatter","stackedscatter","stackedscatter100","bubble","stackedbubble","stackedbubble100","pie","donut","candlestick","ohlc","waterfall","stackedwaterfall"],clear:function(){var e=this;for(var t in e._defaultSettings)e[t]=e._defaultSettings[t];e.title="",e.description="",e.refresh()},_validateSeriesGroups:function(){if(!e.isArray(this.seriesGroups))throw"Invalid property: 'seriesGroups' property is required and must be a valid array.";for(var t=0;t<this.seriesGroups.length;t++){var i=this.seriesGroups[t];if(!i.type)throw"Invalid property: Each series group must have a valid 'type' property.";if(!e.isArray(i.series))throw"Invalid property: Each series group must have a 'series' property which must be a valid array."}},_render:function(t){var i=this,r=i.renderer;i._validateSeriesGroups(),i._colorsCache.clear(),!i._isToggleRefresh&&i._isUpdate&&i._renderData&&i._renderDataClone(),i._renderData=[],r.clear(),i._unselect(),i._hideToolTip(0);var s=i.backgroundImage;void 0==s||""==s?i.host.css({"background-image":""}):i.host.css({"background-image":-1!=s.indexOf("(")?s:"url('"+s+"')"}),i._rect=t;var a=i.padding||{left:5,top:5,right:5,bottom:5},n=r.createClipRect(t),o=r.beginGroup();r.setClip(o,n);var l=r.rect(t.x,t.y,t.width-2,t.height-2);if(void 0==s||""==s?r.attr(l,{fill:i.backgroundColor||i.background||"white"}):r.attr(l,{fill:"transparent"}),0!=i.showBorderLine){var h=void 0==i.borderLineColor?i.borderColor:i.borderLineColor;void 0==h&&(h=i._defaultLineColor);var d=this.borderLineWidth;(isNaN(d)||0>d||d>10)&&(d=1),r.attr(l,{"stroke-width":d,stroke:h})}else e.jqx.browser.msie&&e.jqx.browser.version<9&&r.attr(l,{"stroke-width":1,stroke:i.backgroundColor||"white"});e.isFunction(i.drawBefore)&&i.drawBefore(r,t);var c={x:a.left,y:a.top,width:t.width-a.left-a.right,height:t.height-a.top-a.bottom};i._paddedRect=c;var u,p=i.titlePadding||{left:2,top:2,right:2,bottom:2};if(i.title&&i.title.length>0){var f=i.toThemeProperty("jqx-chart-title-text",null);u=r.measureText(i.title,0,{"class":f}),r.text(i.title,c.x+p.left,c.y+p.top,c.width-(p.left+p.right),u.height,0,{
"class":f},!0,"center","center"),c.y+=u.height,c.height-=u.height}if(i.description&&i.description.length>0){var m=i.toThemeProperty("jqx-chart-title-description",null);u=r.measureText(i.description,0,{"class":m}),r.text(i.description,c.x+p.left,c.y+p.top,c.width-(p.left+p.right),u.height,0,{"class":m},!0,"center","center"),c.y+=u.height,c.height-=u.height}(i.title||i.description)&&(c.y+=p.bottom+p.top,c.height-=p.bottom+p.top);var g={x:c.x,y:c.y,width:c.width,height:c.height};i._plotRect=g,i._buildStats(g);for(var v,x=i._isPieOnlySeries(),b=i.seriesGroups,w={xAxis:{},valueAxis:{}},y=0;y<b.length&&!x;y++)if("pie"!=b[y].type&&"donut"!=b[y].type){var _=i._getXAxis(y);if(!_)throw"seriesGroup["+y+"] is missing xAxis definition";var j=_==i._getXAxis()?-1:y;w.xAxis[j]=0}var q=i.axisPadding;isNaN(q)&&(q=5);var T={left:0,right:0,leftCount:0,rightCount:0},S=[];for(y=0;y<b.length;y++){var C=b[y];if("pie"!=C.type&&"donut"!=C.type&&1!=C.spider&&1!=C.polar){v="horizontal"==C.orientation;var _=i._getXAxis(y),j=_==i._getXAxis()?-1:y,I=i._getValueAxis(y),k=I==i._getValueAxis()?-1:y,D=v?_.axisSize:I.axisSize,M={x:0,y:g.y,width:g.width,height:g.height},P=v?i._getXAxis(y).position:I.position;D&&"auto"!=D||(v?(D=this._renderXAxis(y,M,!0,g).width,1==(1&w.xAxis[j])?D=0:D>0&&(w.xAxis[j]|=1)):(D=i._renderValueAxis(y,M,!0,g).width,1==(1&w.valueAxis[k])?D=0:D>0&&(w.valueAxis[k]|=1))),"left"!=P&&1==i.rtl&&(P="right"),"right"!=P&&(P="left"),T[P+"Count"]>0&&T[P]>0&&D>0&&(T[P]+=q),S.push({width:D,position:P,xRel:T[P]}),T[P]+=D,T[P+"Count"]++}else S.push({width:0,position:0,xRel:0})}var N=Math.max(1,Math.max(t.width,t.height)),B={top:0,bottom:0,topCount:0,bottomCount:0},O=[];for(y=0;y<b.length;y++){var C=b[y];if("pie"!=C.type&&"donut"!=C.type&&1!=C.spider&&1!=C.polar){v="horizontal"==C.orientation;var I=this._getValueAxis(y),k=I==i._getValueAxis()?-1:y,_=i._getXAxis(y),j=_==i._getXAxis()?-1:y,E=v?I.axisSize:_.axisSize,P=v?I.position:_.position;E&&"auto"!=E||(v?(E=i._renderValueAxis(y,{x:0,y:0,width:N,height:0},!0,g).height,2==(2&w.valueAxis[k])?E=0:E>0&&(w.valueAxis[k]|=2)):(E=i._renderXAxis(y,{x:0,y:0,width:N,height:0},!0).height,2==(2&w.xAxis[j])?E=0:E>0&&(w.xAxis[j]|=2))),"top"!=P&&(P="bottom"),B[P+"Count"]>0&&B[P]>0&&E>0&&(B[P]+=q),O.push({height:E,position:P,yRel:B[P]}),B[P]+=E,B[P+"Count"]++}else O.push({height:0,position:0,yRel:0})}i._createAnimationGroup("series");var A=0!=i.showLegend,H=A?i._renderLegend(i.legendLayout?i._rect:c,!0):{width:0,height:0};if(!this.legendLayout||isNaN(this.legendLayout.left)&&isNaN(this.legendLayout.top)||(H={width:0,height:0}),c.height<B.top+B.bottom+H.height||c.width<T.left+T.right)return void r.endGroup();g.height-=B.top+B.bottom+H.height,g.x+=T.left,g.width-=T.left+T.right,g.y+=B.top;var z=[];if(!x){i._getXAxis().tickMarksColor||i._defaultLineColor;for(y=0;y<b.length;y++){var C=b[y];if(1!=C.polar&&1!=C.spider&&"pie"!=C.type&&"donut"!=C.type){v="horizontal"==C.orientation;var j=i._getXAxis(y)==i._getXAxis()?-1:y,k=i._getValueAxis(y)==i._getValueAxis()?-1:y,M={x:g.x,y:0,width:g.width,height:O[y].height};if("top"!=O[y].position?M.y=g.y+g.height+O[y].yRel:M.y=g.y-O[y].yRel-O[y].height,v){if(4==(4&w.valueAxis[k]))continue;if(!i._isGroupVisible(y))continue;i._renderValueAxis(y,M,!1,g),w.valueAxis[k]|=4}else{if(z.push(M),4==(4&w.xAxis[j]))continue;if(!i._isGroupVisible(y))continue;i._renderXAxis(y,M,!1,g),w.xAxis[j]|=4}}}}if(A){var L=i.legendLayout?i._rect:c,F=c.x+e.jqx._ptrnd((c.width-H.width)/2),R=g.y+g.height+B.bottom,D=c.width,E=H.height;i.legendLayout&&(isNaN(i.legendLayout.left)||(F=i.legendLayout.left),isNaN(i.legendLayout.top)||(R=i.legendLayout.top),isNaN(i.legendLayout.width)||(D=i.legendLayout.width),isNaN(i.legendLayout.height)||(E=i.legendLayout.height)),F+D>L.x+L.width&&(D=L.x+L.width-F),R+E>L.y+L.height&&(E=L.y+L.height-R),i._renderLegend({x:F,y:R,width:D,height:E})}if(i._hasHorizontalLines=!1,!x)for(y=0;y<b.length;y++){var C=b[y];if(1!=C.polar&&1!=C.spider&&"pie"!=C.type&&"donut"!=C.type){v="horizontal"==b[y].orientation;var M={x:g.x-S[y].xRel-S[y].width,y:g.y,width:S[y].width,height:g.height};"left"!=S[y].position&&(M.x=g.x+g.width+S[y].xRel);var j=i._getXAxis(y)==i._getXAxis()?-1:y,k=i._getValueAxis(y)==i._getValueAxis()?-1:y;if(v){if(z.push(M),8==(8&w.xAxis[j]))continue;if(!i._isGroupVisible(y))continue;i._renderXAxis(y,M,!1,g),w.xAxis[j]|=8}else{if(8==(8&w.valueAxis[k]))continue;if(!i._isGroupVisible(y))continue;i._renderValueAxis(y,M,!1,g),w.valueAxis[k]|=8}}}if(!(g.width<=0||g.height<=0)){for(i._plotRect={x:g.x,y:g.y,width:g.width,height:g.height},y=0;y<b.length;y++)this._drawPlotAreaLines(y,!0,{gridLines:!1,tickMarks:!1,alternatingBackground:!0}),this._drawPlotAreaLines(y,!1,{gridLines:!1,tickMarks:!1,alternatingBackground:!0});for(y=0;y<b.length;y++)this._drawPlotAreaLines(y,!0,{gridLines:!0,tickMarks:!0,alternatingBackground:!1}),this._drawPlotAreaLines(y,!1,{gridLines:!0,tickMarks:!0,alternatingBackground:!1});var V=!1;for(y=0;y<b.length&&!V;y++){var C=b[y];if(void 0!==C.annotations||e.isFunction(C.draw)||e.isFunction(C.drawBefore)){V=!0;break}}var W=r.beginGroup();if(!V){var G=r.createClipRect({x:g.x-2,y:g.y,width:g.width+4,height:g.height});r.setClip(W,G)}for(y=0;y<b.length;y++){var C=b[y],U=!1;for(var Y in i._seriesTypes)if(i._seriesTypes[Y]==C.type){U=!0;break}if(!U)throw'Invalid serie type "'+C.type+'"';e.isFunction(C.drawBefore)&&C.drawBefore(r,t,y,this),1!=C.polar&&1!=C.spider||-1==C.type.indexOf("pie")&&-1==C.type.indexOf("donut")&&i._renderSpiderAxis(y,g),i._renderAxisBands(y,g,!0),i._renderAxisBands(y,g,!1)}for(y=0;y<b.length;y++){var C=b[y];if(i._isColumnType(C.type)?i._renderColumnSeries(y,g):-1!=C.type.indexOf("pie")||-1!=C.type.indexOf("donut")?i._renderPieSeries(y,g):-1!=C.type.indexOf("line")||-1!=C.type.indexOf("area")?i._renderLineSeries(y,g):-1!=C.type.indexOf("scatter")||-1!=C.type.indexOf("bubble")?i._renderScatterSeries(y,g):-1==C.type.indexOf("candlestick")&&-1==C.type.indexOf("ohlc")||i._renderCandleStickSeries(y,g,-1!=C.type.indexOf("ohlc")),C.annotations){if(!this._moduleAnnotations)throw"Please include 'jqxchart.annotations.js'";for(var X=0;X<C.annotations.length;X++)i._renderAnnotation(y,C.annotations[X],g)}e.isFunction(C.draw)&&i.draw(r,t,y,this)}if(r.endGroup(),0==i.enabled){var K=r.rect(t.x,t.y,t.width,t.height);r.attr(K,{fill:"#777777",opacity:.5,stroke:"#00FFFFFF"})}e.isFunction(i.draw)&&i.draw(r,t),r.endGroup(),i._startAnimation("series");var $=String.fromCharCode(119,119,119,46,106,113,119,105,100,103,101,116,115,46,99,111,109);if(!i._isRangeSelectorInstance&&-1==location.hostname.indexOf($.substring(4))){var J={"class":i.toThemeProperty("jqx-chart-legend-text",null),opacity:.5},Q=r.measureText($,0,J),Z=r.text($,t.x+t.width-Q.width-5,t.y+t.height-Q.height-5,Q.width,Q.height,0,J);e(Z).on("click",function(){location.href="http://"+$+"/?ref="+i.widgetName})}for(var ee=!1,y=0;y<i.seriesGroups.length&&!ee;y++){var _=i._getXAxis(y);_&&_.rangeSelector&&(ee=!0)}if(ee){if(!this._moduleRangeSelector)throw"Please include 'jqxchart.rangeselector.js'";var te=[];for(this._isSelectorRefresh||(i.removeHandler(e(document),i._getEvent("mousemove"),i._onSliderMouseMove),i.removeHandler(e(document),i._getEvent("mousedown"),i._onSliderMouseDown),i.removeHandler(e(document),i._getEvent("mouseup"),i._onSliderMouseUp)),i._isSelectorRefresh||(i._rangeSelectorInstances={}),y=0;y<i.seriesGroups.length;y++){var ie=this._getXAxis(y);-1==te.indexOf(ie)&&this._renderXAxisRangeSelector(y,z[y])&&te.push(ie)}}}},_isPieOnlySeries:function(){var e=this.seriesGroups;if(0==e.length)return!1;for(var t=0;t<e.length;t++)if("pie"!=e[t].type&&"donut"!=e[t].type)return!1;return!0},_renderChartLegend:function(t,i,r,s){var a=this,n=a.renderer,o={x:i.x,y:i.y,width:i.width,height:i.height},l=3;o.width>=2*l&&(o.x+=l,o.width-=2*l),o.height>=2*l&&(o.y+=l,o.height-=2*l);for(var h={width:o.width,height:0},d=0,c=0,u=20,p=0,f=10,m=10,g=0,v=0;v<t.length;v++){var x=t[v].css;x||(x=a.toThemeProperty("jqx-chart-legend-text",null)),u=20;var b=t[v].text,w=n.measureText(b,0,{"class":x});w.height>u&&(u=w.height),w.width>g&&(g=w.width),s?(0!=v&&(c+=u),c>o.height&&(c=0,d+=g+2*m+f,g=w.width,h.width=d+g)):(0!=d&&(d+=m),d+2*f+w.width>o.width&&w.width<o.width&&(d=0,c+=u,u=20,p=o.width,h.height=c+u));var y=!1;if(w.width>o.width){y=!0;for(var _=o.width,j=b,q=j.split(/\s+/),T=[],S="",C=0;C<q.length;C++){var I=S+(S.length>0?" ":"")+q[C],k=a.renderer.measureText(I,0,{"class":x});k.width>_&&I.length>0&&S.length>0?(T.push({text:S}),S=q[C]):S=I,C+1==q.length&&T.push({text:S})}w.width=0;for(var D=0,M=0;M<T.length;M++){var P=T[M].text,k=a.renderer.measureText(P,0,{"class":x});w.width=Math.max(w.width,k.width),D+=w.height}w.height=D}var N=d+w.width<o.width&&c+w.height<i.height;if(a.legendLayout)var N=o.x+d+w.width<a._rect.x+a._rect.width&&o.y+c+w.height<a._rect.y+a._rect.height;if(!r&&N){var B=t[v].seriesIndex,O=t[v].groupIndex,E=t[v].itemIndex,A=t[v].fillColor,H=t[v].lineColor,z=a._isSerieVisible(O,B,E),L=n.beginGroup(),F=z?t[v].opacity:.1;if(y){for(var j=b,_=o.width,q=j.split(/\s+/),R=0,T=[],S="",C=0;C<q.length;C++){var I=S+(S.length>0?" ":"")+q[C],k=a.renderer.measureText(I,0,{"class":x});k.width>_&&I.length>0&&S.length>0?(T.push({text:S,dy:R}),R+=k.height,S=q[C]):S=I,C+1==q.length&&T.push({text:S,dy:R})}for(var M=0;M<T.length;M++){var P=T[M].text;R=T[M].dy;var k=a.renderer.measureText(P,0,{"class":x});s?a.renderer.text(P,o.x+d+1.5*f,o.y+c+R,w.width,u,0,{"class":x},!1,"left","center"):a.renderer.text(P,o.x+d+1.5*f,o.y+c+R,w.width,u,0,{"class":x},!1,"center","center")}var V=n.rect(o.x+d,o.y+c+f/2+R/2,f,f);s&&(c+=R),a.renderer.attr(V,{fill:A,"fill-opacity":F,stroke:H,"stroke-width":1,"stroke-opacity":t[v].opacity})}else{var V=n.rect(o.x+d,o.y+c+f/2,f,f);a.renderer.attr(V,{fill:A,"fill-opacity":F,stroke:H,"stroke-width":1,"stroke-opacity":t[v].opacity}),s?a.renderer.text(b,o.x+d+1.5*f,o.y+c,w.width,w.height+f/2,0,{"class":x},!1,"left","center"):a.renderer.text(b,o.x+d+1.5*f,o.y+c,w.width,u,0,{"class":x},!1,"center","center")}a.renderer.endGroup(),a._setLegendToggleHandler(O,B,E,L)}s||(d+=w.width+2*f,d>p&&(p=d))}return r?(h.height=e.jqx._ptrnd(c+u+5),h.width=e.jqx._ptrnd(p),h):void 0},isSerieVisible:function(e,t,i){return this._isSerieVisible(e,t,i)},_isSerieVisible:function(t,i,r){for(;this._itemsToggleState.length<t+1;)this._itemsToggleState.push([]);for(var s=this._itemsToggleState[t];s.length<i+1;)s.push(isNaN(r)?!0:[]);var a=s[i];if(isNaN(r))return a;for(e.isArray(a)||(s[i]=a=[]);a.length<r+1;)a.push(!0);return a[r]},isGroupVisible:function(e){return this._isGroupVisible(e)},_isGroupVisible:function(e){var t=!1,i=this.seriesGroups[e].series;if(!i)return t;for(var r=0;r<i.length;r++)if(this._isSerieVisible(e,r)){t=!0;break}return t},_toggleSerie:function(t,i,r,s){var a=!this._isSerieVisible(t,i,r);void 0!=s&&(a=s);var n=this.seriesGroups[t],o=n.series[i];if(this._raiseEvent("toggle",{state:a,seriesGroup:n,serie:o,elementIndex:r}),isNaN(r))this._itemsToggleState[t][i]=a;else{var l=this._itemsToggleState[t][i];for(e.isArray(l)||(l=[]);l.length<r;)l.push(!0);l[r]=a}this._isToggleRefresh=!0,this.update(),this._isToggleRefresh=!1},showSerie:function(e,t,i){this._toggleSerie(e,t,i,!0)},hideSerie:function(e,t,i){this._toggleSerie(e,t,i,!1)},_setLegendToggleHandler:function(e,t,i,r){var s=this.seriesGroups[e],a=s.series[t],n=a.enableSeriesToggle;if(void 0==n&&(n=0!=s.enableSeriesToggle),n){var o=this;this.renderer.addHandler(r,"click",function(r){o._toggleSerie(e,t,i)})}},_renderLegend:function(e,t){for(var i=this,r=[],s=0;s<i.seriesGroups.length;s++){var a=i.seriesGroups[s];if(0!=a.showLegend)for(var n=0;n<a.series.length;n++){var o=a.series[n];if(0!=o.showLegend){var l,h=i._getSerieSettings(s,n);if("pie"!=a.type&&"donut"!=a.type){var d=o.legendFormatSettings||a.legendFormatSettings,c=o.legendFormatFunction||a.legendFormatFunction;l=i._formatValue(o.displayText||o.dataField||"",d,c,s,n,NaN);var u=i._getSeriesColors(s,n),p=this._get([o.legendFillColor,o.legendColor,u.fillColor]),f=this._get([o.legendLineColor,o.legendColor,u.lineColor]);r.push({groupIndex:s,seriesIndex:n,text:l,css:o.displayTextClass,fillColor:p,lineColor:f,opacity:h.opacity})}else for(var m=i._getXAxis(s),d=o.legendFormatSettings||a.legendFormatSettings||m.formatSettings||o.formatSettings||a.formatSettings,c=o.legendFormatFunction||a.legendFormatFunction||m.formatFunction||o.formatFunction||a.formatFunction,g=i._getDataLen(s),v=0;g>v;v++){l=i._getDataValue(v,o.displayText,s),l=i._formatValue(l,d,c,s,n,v);var u=i._getColors(s,n,v);r.push({groupIndex:s,seriesIndex:n,itemIndex:v,text:l,css:o.displayTextClass,fillColor:u.fillColor,lineColor:u.lineColor,opacity:h.opacity})}}}}return i._renderChartLegend(r,e,t,i.legendLayout&&"vertical"==i.legendLayout.flow)},_getInterval:function(e,t){if(!e)return t;var i=this._get([e.unitInterval,t]);return isNaN(e.step)||(i=e.step*t),i},_getOffsets:function(e,t,i,r,s,a,n,o,l){var h=this._getInterval(s[e],o),d=[];(""==e||s[e].visible&&"custom"!=s[e].visible)&&(d=this._generateIntervalValues(r,h,o,n,l));var c;if("labels"!=e){var u=n?a.left:0;if(!n&&o>1&&(u=a.left*(o+1)),1==d.length&&(u*=2),c=this._valuesToOffsets(d,t,r,i,a,!1,u),!n){var p=(a.left+a.right)*h/o;t.flip?c.unshift(c[0]+p):c.push(c[c.length-1]+p)}}else{var u=a.left;1==d.length&&(u*=2),c=this._valuesToOffsets(d,t,r,i,a,n,u)}var f=this._arraysToObjectsArray([d,c],["value","offset"]);if(t[e]&&t[e].custom)for(var m=this._objectsArraysToArray(t[e].custom,"value"),g=this._objectsArraysToArray(t[e].custom,"offset"),v=this._valuesToOffsets(m,t,r,i,a,n,a.left),x=0;x<t[e].custom.length;x++)f.push({value:m[x],offset:isNaN(g[x])?v[x]:g[x]});return f},_renderXAxis:function(t,i,r,s){var a=this,n=a._getXAxis(t),o=a.seriesGroups[t],l="horizontal"==o.orientation,h={width:0,height:0},d=a._getAxisSettings(n);if(!n||!d.visible||"spider"==o.type)return h;if(!a._isGroupVisible(t)||this._isPieGroup(t))return h;for(var c=a._alignValuesWithTicks(t);a._renderData.length<t+1;)a._renderData.push({});a.rtl&&(n.flip=!0);var u=l?i.height:i.width,p=n.text,f=a._calculateXOffsets(t,u),m=f.axisStats,g=n.rangeSelector,v=0;if(g){if(!this._moduleRangeSelector)throw"Please include 'jqxchart.rangeselector.js'";v=this._selectorGetSize(n)}var x=l&&"right"==n.position||!l&&"top"==n.position;!r&&g&&(l?(i.width-=v,"right"!=n.position&&(i.x+=v)):(i.height-=v,"top"==n.position&&(i.y+=v)));var b={rangeLength:f.rangeLength,itemWidth:f.itemWidth,intervalWidth:f.intervalWidth,data:f,settings:d,isMirror:x,rect:i};a._renderData[t].xAxis=b;var w=m.interval;if(isNaN(w))return h;l&&(d.title.angle-=90,d.labels.angle-=90);var y,_=this._getInterval(d.gridLines,w),j=this._getInterval(d.tickMarks,w),q=this._getInterval(d.labels,w),T=m.min,S=m.max,C=f.padding,I=1==n.flip||a.rtl,k={min:T,max:S};m.logAxis.enabled&&(k.min=m.logAxis.minPow,k.max=m.logAxis.maxPow),"date"==n.type?(d.gridLines.offsets=this._generateDTOffsets(T,S,u,C,_,w,m.dateTimeUnit,c,NaN,!1,I),d.tickMarks.offsets=this._generateDTOffsets(T,S,u,C,j,w,m.dateTimeUnit,c,NaN,!1,I),y=this._generateDTOffsets(T,S,u,C,q,w,m.dateTimeUnit,c,NaN,!0,I)):(d.gridLines.offsets=this._getOffsets("gridLines",n,u,m,d,C,c,w),d.tickMarks.offsets=this._getOffsets("tickMarks",n,u,m,d,C,c,w),y=this._getOffsets("labels",n,u,m,d,C,c,w));var D,M=a.renderer.getRect();M.width-i.x-i.width,a._getDataLen(t);a._elementRenderInfo&&a._elementRenderInfo.length>t&&(D=a._elementRenderInfo[t].xAxis);var P,N=[];d.labels.formatFunction&&(P=d.labels.formatFunction);var B;d.labels.formatSettings&&(B=e.extend({},d.labels.formatSettings)),"date"==n.type&&(n.dateFormat&&!P?B?B.dateFormat=B.dateFormat||n.dateFormat:B={dateFormat:n.dateFormat}:P||B&&(!B||B.dateFormat)||(P=this._getDefaultDTFormatFn(n.baseUnit||"day")));for(var O=0;O<y.length;O++){var E=y[O].value,A=y[O].offset;if(!isNaN(A)){var H=void 0;"date"!=n.type&&m.useIndeces&&n.dataField&&(H=Math.round(E),E=a._getDataValue(H,n.dataField),void 0==E&&(E=""));var p=a._formatValue(E,B,P,t,void 0,H);void 0!=p&&""!=p.toString()||(isNaN(H)&&(H=O),H>=m.filterRange.min&&H<=m.filterRange.max&&(p=m.useIndeces?(m.min+H).toString():void 0==E?"":E.toString()));var z={key:E,text:p,targetX:A,x:A};D&&D.itemOffsets[E]&&(z.x=D.itemOffsets[E].x,z.y=D.itemOffsets[E].y),N.push(z)}}var L=a._getAnimProps(t),F=L.enabled&&N.length<500?L.duration:0;0==a.enableAxisTextAnimation&&(F=0);var R={items:N,renderData:b},V=a._renderAxis(l,x,d,{x:i.x,y:i.y,width:i.width,height:i.height},s,w,!1,!0,R,r,F);return l?V.width+=v:V.height+=v,V},_animateAxisText:function(e,t){for(var i=e.items,r=e.textSettings,s=0;s<i.length;s++){var a=i[s];if(a&&a.visible){var n=a.targetX,o=a.targetY;isNaN(a.x)||isNaN(a.y)||(n=a.x+(n-a.x)*t,o=a.y+(o-a.y)*t),a.element&&(this.renderer.removeElement(a.element),a.element=void 0),a.element=this.renderer.text(a.text,n,o,a.width,a.height,r.angle,{"class":r.style},!1,r.halign,r.valign,r.textRotationPoint)}}},_getPolarAxisCoords:function(t,i){var r=this.seriesGroups[t],s=i.x+e.jqx.getNum([r.offsetX,i.width/2]),a=i.y+e.jqx.getNum([r.offsetY,i.height/2]),n=Math.min(i.width,i.height),o=r.radius;this._isPercent(o)&&(o=parseFloat(o)/100*n/2),isNaN(o)&&(o=n/2*.6);var l=this._alignValuesWithTicks(t),h=this._get([r.startAngle,r.minAngle,0])-90;h=isNaN(h)?0:2*Math.PI*h/360;var d=this._get([r.endAngle,r.maxAngle,360])-90;if(d=isNaN(d)?2*Math.PI:2*Math.PI*d/360,h>d){var c=h;h=d,d=c}var u=e.jqx._rnd(Math.abs(h-d)/(2*Math.PI),.001,!0),p=2*Math.PI*o*u,f=this._calcGroupOffsets(t,i).xoffsets;if(f){var m=!(Math.abs(Math.abs(d-h)-2*Math.PI)>1e-5);if(r.spider){axisStats=this._getXAxisStats(t,this._getXAxis(t),p);var g=axisStats.interval;(isNaN(g)||0==g)&&(g=1);var v=(axisStats.max-axisStats.min)/g+(m?1:0);if(v=Math.round(v),v>2){var x=Math.cos(Math.abs(d-h)/2/v);x=e.jqx._rnd(x,.01),0==x&&(x=1);var b=o/x;b>o&&l&&(o=b)}}return o=e.jqx._ptrnd(o),{x:s,y:a,r:o,adjR:this._get([b,o]),itemWidth:f.itemWidth,rangeLength:f.rangeLength,valuesOnTicks:l,startAngle:h,endAngle:d,isClosedCircle:m,axisSize:p}}},_toPolarCoord:function(t,i,r,s){var a=Math.abs(t.startAngle-t.endAngle)/(2*Math.PI),n=2*(r-i.x)*Math.PI*a/Math.max(1,i.width)+t.startAngle,o=(i.height+i.y-s)*t.r/Math.max(1,i.height),l=t.x+o*Math.cos(n),h=t.y+o*Math.sin(n);return{x:e.jqx._ptrnd(l),y:e.jqx._ptrnd(h)}},_renderSpiderAxis:function(t,i){var r=this,s=r._getXAxis(t),a=this._getAxisSettings(s);if(s&&a.visible){var n=r.seriesGroups[t],o=r._getPolarAxisCoords(t,i);if(o){var l=e.jqx._ptrnd(o.x),h=e.jqx._ptrnd(o.y),d=o.adjR,c=o.startAngle,u=o.endAngle;if(!(1>d)){var p=e.jqx._rnd(Math.abs(c-u)/(2*Math.PI),.001,!0),f=2*Math.PI*d*p,m=o.isClosedCircle,g=this._renderData[t].xoffsets;if(g.rangeLength){var v=g.axisStats.interval;(isNaN(v)||1>v)&&(v=1);var x="horizontal"==n.orientation;for(x&&"right"==s.position||!x&&"top"==s.position;r._renderData.length<t+1;)r._renderData.push({});var b={rangeLength:g.rangeLength,itemWidth:g.itemWidth,data:g,rect:i,settings:a};r._renderData[t].xAxis=b,r._renderData[t].polarCoords=o;for(var w=!0,y=0;t>y;y++){var _=(r._renderData[y].xAxis,r._renderData[y].polarCoords),j=r._getXAxis(y),q=!1;for(var T in o)if(o[T]!=_[T]){q=!0;break}q&&j==s||(w=!1)}var S,C=a.gridLines,I=a.tickMarks,k=a.labels,D=this._getInterval(C,v),M=this._getInterval(I,v),P=this._getInterval(k,v),N=r._alignValuesWithTicks(t),B=r.renderer,O=g.axisStats,E=O.min,A=O.max,H=this._getPaddingSize(g.axisStats,s,N,f,!0,m,!1),z=1==s.flip||r.rtl;"date"==s.type?(C.offsets=this._generateDTOffsets(E,A,f,H,D,v,s.baseUnit,!0,0,!1,z),I.offsets=this._generateDTOffsets(E,A,f,H,M,v,s.baseUnit,!0,0,!1,z),S=this._generateDTOffsets(E,A,f,H,P,v,s.baseUnit,!0,0,!0,z)):(a.gridLines.offsets=this._getOffsets("gridLines",s,f,O,a,H,!0,v),a.tickMarks.offsets=this._getOffsets("tickMarks",s,f,O,a,H,!0,v),S=this._getOffsets("labels",s,f,O,a,H,!0,v));var L,F=r.renderer.getRect();F.width-i.x-i.width,r._getDataLen(t);r._elementRenderInfo&&r._elementRenderInfo.length>t&&(L=r._elementRenderInfo[t].xAxis);for(var R=[],V=this._getDataLen(t),y=0;y<S.length;y++){var W=S[y].offset,G=S[y].value;if("date"!=s.type&&O.useIndeces&&s.dataField){var U=Math.round(G);if(U>=V)continue;G=r._getDataValue(U,s.dataField),void 0==G&&(G="")}var Y=r._formatValue(G,k.formatSettings,k.formatFunction,t,void 0,U);void 0!=Y&&""!=Y.toString()||(Y=O.useIndeces?(O.min+y).toString():void 0==G?"":G.toString());var X={key:G,text:Y,targetX:W,x:W};L&&L.itemOffsets[G]&&(X.x=L.itemOffsets[G].x,X.y=L.itemOffsets[G].y),R.push(X)}var K={stroke:C.color,fill:"none","stroke-width":C.width,"stroke-dasharray":C.dashStyle||""};if(!n.spider)if(1==p)B.circle(l,h,d,K);else{var $=-c/Math.PI*180,J=-u/Math.PI*180;this.renderer.pieslice(l,h,0,d,Math.min($,J),Math.max($,J),void 0,K)}var Q=R.length,Z=(2*Math.PI/Q,c);if(C.visible&&w){N||m||C.offsets.unshift({offset:-H.right});for(var y=0;y<C.offsets.length;y++){var ee=C.offsets[y].offset;N||(ee+=m?H.right/2:H.right);var te=Z+2*ee*Math.PI*p/Math.max(1,f);if(!(te-u>.01)){var ie=e.jqx._ptrnd(l+d*Math.cos(te)),re=e.jqx._ptrnd(h+d*Math.sin(te));B.line(l,h,ie,re,K)}}}if(I.visible&&w){var se=5,ae={stroke:I.color,fill:"none","stroke-width":I.width,"stroke-dasharray":I.dashStyle||""};N||m||I.offsets.unshift({offset:-H.right});for(var y=0;y<I.offsets.length;y++){var ee=I.offsets[y].offset;N||(ee+=m?H.right/2:H.right);var te=Z+2*ee*Math.PI*p/Math.max(1,f);if(!(te-u>.01)){var ne={x:l+d*Math.cos(te),y:h+d*Math.sin(te)},oe={x:l+(d+se)*Math.cos(te),y:h+(d+se)*Math.sin(te)};B.line(e.jqx._ptrnd(ne.x),e.jqx._ptrnd(ne.y),e.jqx._ptrnd(oe.x),e.jqx._ptrnd(oe.y),ae)}}}var le=[];if(n.spider){var he=[];he="date"==s.type?this._generateDTOffsets(E,A,f,H,v,v,s.baseUnit,!0,0,!1,z):this._getOffsets("",s,f,O,a,H,!0,v),N||m||he.unshift({offset:-H.right});for(var y=0;y<he.length;y++){var ee=he[y].offset;N||(ee+=m?H.right/2:H.right);var te=Z+2*ee*Math.PI*p/Math.max(1,f);te-u>.01||le.push(te)}b.offsetAngles=le}var de=r._renderSpiderValueAxis(t,i,N?o.adjR:o.r,le);if(de||(de=[]),n.spider){if(!N)for(var y=0;y<de.length;y++)de[y]=de[y]*o.adjR/o.r;de.push(d),this._renderSpiderLines(l,h,de,o,le,K)}if(w&&k.visible){b.polarLabels=[];for(var y=0;y<R.length;y++){var ee=R[y].x,te=Z+2*ee*Math.PI*p/Math.max(1,f);te=(360-te/(2*Math.PI)*360)%360,0>te&&(te=360+te);var ce,ue=B.measureText(R[y].text,0,{"class":a.labels.style}),pe=(N?o.adjR:o.r)+(I.visible?7:2),fe=a.labels;if(fe.autoRotate){var me=e.jqx._ptRotate(l-ue.width/2,h-pe-ue.height,l,h,-te/180*Math.PI),ge=e.jqx._ptRotate(l+ue.width/2,h-pe,l,h,-te/180*Math.PI);ue.width=Math.abs(me.x-ge.x),ue.height=Math.abs(me.y-ge.y),ce={x:Math.min(me.x,ge.x),y:Math.min(me.y,ge.y)}}else ce=this._adjustTextBoxPosition(l,h,ue,pe,te,!1,!1,!1);b.polarLabels.push({x:ce.x,y:ce.y,value:R[y].text}),B.text(R[y].text,ce.x,ce.y,ue.width,ue.height,fe.autoRotate?90-te:fe.angle,{"class":fe.style},!1,fe.halign,fe.valign)}}}}}}},_renderSpiderLines:function(t,i,r,s,a,n){for(var o=this.renderer,l=(s.startAngle,s.endAngle,s.isClosedCircle),h=0;h<r.length;h++){for(var d=r[h],c=void 0,u=void 0,p=0;p<a.length;p++){var f=a[p],m=e.jqx._ptrnd(t+d*Math.cos(f)),g=e.jqx._ptrnd(i+d*Math.sin(f));c&&o.line(c.x,c.y,m,g,n),c={x:m,y:g},u||(u={x:m,y:g})}u&&l&&o.line(c.x,c.y,u.x,u.y,n)}},_renderSpiderValueAxis:function(t,i,r,s){var a=this.seriesGroups[t],n=this._getPolarAxisCoords(t,i);if(n){var o=e.jqx._ptrnd(n.x),l=e.jqx._ptrnd(n.y);r=r||n.r;var h=n.startAngle,d=n.endAngle,c=e.jqx._rnd(Math.abs(h-d)/(2*Math.PI),.001,!0);if(!(1>r)){r=e.jqx._ptrnd(r);var u=this._getValueAxis(t);if(settings=this._getAxisSettings(u),u&&0!=settings.visible){var p=this._stats.seriesGroups[t].mu,f=settings.labels,m=f.formatSettings,g=-1!=a.type.indexOf("stacked")&&-1!=a.type.indexOf("100");g&&!m&&(m={sufix:"%"});var v=this._get([f.step,f.unitInterval/p]);isNaN(v)&&(v=1),v=Math.max(1,Math.round(v)),this._calcValueAxisItems(t,r,v);var x=settings.gridLines,b=settings.tickMarks,w=(this._getInterval(x,p),this._getInterval(b,p),settings.labels),y={stroke:x.color,fill:"none","stroke-width":1,"stroke-dasharray":x.dashStyle||""},_=this._renderData[t].valueAxis,j=_.items,q=h;if(j.length&&settings.line.visible){isNaN(settings.line.angle)||(q=2*Math.PI*settings.line.angle/360);var T=o+Math.cos(q)*r,S=l+Math.sin(q)*r;if(-1==s.indexOf(q)){var C=e.extend({},y);C["stroke-width"]=settings.line.lineWidth,C.stroke=settings.line.color,C["stroke-dasharray"]=settings.line.dashStyle,this.renderer.line(o,l,T,S,C)}}j=j.reverse();var I=this.renderer;_.polarLabels=[];for(var k=0;k<j.length-1;k++){var D=j[k];if(!isNaN(D)){var M=w.formatFunction?w.formatFunction(D):this._formatNumber(D,m),P=I.measureText(M,0,{"class":w.style}),N=o+(0!=u.showTickMarks?3:2),B=l-_.itemWidth*k-P.height/2,O=e.jqx._ptRotate(N,B,o,l,q),E=e.jqx._ptRotate(N+P.width,B+P.height,o,l,q);N=Math.min(O.x,E.x),B=Math.min(O.y,E.y),P.width=Math.abs(O.x-E.x),P.height=Math.abs(O.y-E.y),N+=settings.labels.textOffset.x,B+=settings.labels.textOffset.y,_.polarLabels.push({x:N,y:B,value:M}),I.text(M,N,B,P.width,P.height,w.autoRotate?90+180*h/Math.PI:w.angle,{"class":w.style},!1,w.halign,w.valign)}}var A=1==u.logarithmicScale,H=A?j.length:_.rangeLength;aIncrement=2*Math.PI/H;var z=0!=u.valuesOnTicks,L=this._stats.seriesGroups[t],F=L.mu,R=1==u.logarithmicScale;u.logarithmicScaleBase||10;R&&(F=1);var V={min:L.min,max:L.max,logAxis:{enabled:1==R,base:u.logarithmicScaleBase,minPow:L.minPow,maxPow:L.maxPow}};(x.visible||a.spider||u.alternatingBackgroundColor||u.alternatingBackgroundColor2)&&(x.offsets=this._getOffsets("gridLines",u,r,V,settings,{left:0,right:0},z,F));var W=[];if(x.visible||a.spider)for(var y={stroke:x.color,fill:"none","stroke-width":1,"stroke-dasharray":x.dashStyle||""},k=0;k<x.offsets.length;k++){var B=e.jqx._ptrnd(x.offsets[k].offset);if(B!=r)if(a.spider)W.push(B);else if(1!=c){var G=-h/Math.PI*180,U=-d/Math.PI*180;this.renderer.pieslice(o,l,0,B,Math.min(G,U),Math.max(G,U),void 0,y)}else I.circle(o,l,B,y)}if(u.tickMarks&&(u.tickMarks.visible||u.showTickMarks)||(b.visible=!1),b.visible){b.offsets=this._getOffsets("tickMarks",u,r,V,settings,{left:0,right:0},z,F),tickMarkSize=2*b.size;for(var y={stroke:b.color,fill:"none","stroke-width":1,"stroke-dasharray":b.dashStyle||""},k=0;k<b.offsets.length;k++){var Y=b.offsets[k].offset,O={x:o+Y*Math.cos(q)-tickMarkSize/2*Math.sin(q+Math.PI/2),y:l+Y*Math.sin(q)-tickMarkSize/2*Math.cos(q+Math.PI/2)},E={x:o+Y*Math.cos(q)+tickMarkSize/2*Math.sin(q+Math.PI/2),y:l+Y*Math.sin(q)+tickMarkSize/2*Math.cos(q+Math.PI/2)};I.line(e.jqx._ptrnd(O.x),e.jqx._ptrnd(O.y),e.jqx._ptrnd(E.x),e.jqx._ptrnd(E.y),y)}}return W}}}},_renderAxis:function(t,i,r,s,a,n,o,l,h,d,c){if(r.customDraw&&!d)return{width:NaN,height:NaN};var u=r.title,p=r.labels,f=(r.gridLines,r.tickMarks),m=r.padding,g=f.visible?f.size:0,v=2,x={width:0,height:0},b={width:0,height:0};t?x.height=b.height=s.height:x.width=b.width=s.width,!d&&i&&t&&(s.x-=s.width);var w=h.renderData,y=w.itemWidth;if(u.visible&&void 0!=u.text&&""!=u){var _=u.angle,j=this.renderer.measureText(u.text,_,{"class":u.style});b.width=j.width,b.height=j.height,d||this.renderer.text(u.text,s.x+u.offset.x+(t?i?-m.right-v+2*s.width-b.width:v+m.left:0),s.y+u.offset.y+(t?0:i?m.top+v:s.height-v-b.height-m.bottom),t?b.width:s.width,t?s.height:b.height,_,{"class":u.style},!0,u.halign,u.valign,u.rotationPoint)}var q=0,T=l?-y/2:0;l&&!t&&(p.halign="center");var S=s.x,C=s.y,I=p.textOffset;I&&(isNaN(I.x)||(S+=I.x),isNaN(I.y)||(C+=I.y)),t?(S+=m.left+v+(b.width>0?b.width+v:0)+(i?s.width-b.width:0),C+=T):(S+=T,i?(C+=b.height>0?b.height+3*v:2*v,C+=g-(l?g:g/4)):C+=l?g:g/4,C+=m.top);var k=0,D=0,M=h.items;w.itemOffsets={},!this._isToggleRefresh&&this._isUpdate||(c=0);for(var P=!1,N=0,B=0;B<M.length&&p.visible;B++,q+=y)if(M[B]&&!isNaN(y)){var O=M[B].text;isNaN(M[B].targetX)||(q=M[B].targetX);var j=this.renderer.measureText(O,p.angle,{"class":p.style});if(j.width>D&&(D=j.width),j.height>k&&(k=j.height),N+=t?k:D,!d){if(t&&q>s.height+2||!t&&q>s.width+2)continue;var E=t?S+(i?0==b.width?g:g-v:0):S+q,A=t?C+q:C;w.itemOffsets[M[B].key]={x:E,y:A},P||(!isNaN(M[B].x)||!isNaN(M[B].y)&&c)&&(P=!0),M[B].targetX=E,M[B].targetY=A,M[B].width=t?s.width-m.left-m.right-2*v-g-(b.width>0?b.width+v:0):y,M[B].height=t?y:s.height-m.top-m.bottom-2*v-g-(b.height>0?b.height+v:0),M[B].visible=!0}}if(w.avgWidth=0==M.length?0:N/M.length,!d){var H={items:M,textSettings:p};if(!isNaN(c)&&P||(c=0),this._animateAxisText(H,0==c?1:0),0!=c){var z=this;this._enqueueAnimation("series",void 0,void 0,c,function(e,t,i){z._animateAxisText(t,i)},H)}}x.width+=2*v+g+b.width+D+(t&&b.width>0?v:0),x.height+=2*v+g+b.height+k+(!t&&b.height>0?v:0),t?x.width+=m.left+m.right:x.height+=m.top+m.bottom;if(!d&&r.line.visible){var L={stroke:r.line.color,"stroke-width":r.line.width,"stroke-dasharray":r.line.dashStyle||""};if(t){var E=s.x+s.width+(i?m.left:-m.right);E=e.jqx._ptrnd(E),this.renderer.line(E,s.y,E,s.y+s.height,L)}else{var A=e.jqx._ptrnd(s.y+(i?s.height-m.bottom:m.top));this.renderer.line(e.jqx._ptrnd(s.x),A,e.jqx._ptrnd(s.x+s.width+1),A,L)}}return x.width=e.jqx._rup(x.width),x.height=e.jqx._rup(x.height),x},_drawPlotAreaLines:function(t,i,r){var s=this.seriesGroups[t],a="horizontal"!=s.orientation;if(this._renderData&&!(this._renderData.length<=t)){var n=i?"valueAxis":"xAxis",o=this._renderData[t][n];if(o){var l=this._renderData.axisDrawState;l||(l=this._renderData.axisDrawState={});var h,d="";i?(d="valueAxis_"+(s.valueAxis?t:"")+(a?"swap":""),h=this._getValueAxis(t)):(d="xAxis_"+(s.xAxis||s.categoryAxis?t:"")+(a?"swap":""),h=this._getXAxis(t)),l=l[d]?l[d]:l[d]={},i||(a=!a);var c=o.settings;if(c&&!c.customDraw){var u=c.gridLines,p=c.tickMarks,f=c.padding,m=o.rect,g=this._plotRect;if(u&&p){var v=.5,x={},b={stroke:u.color,"stroke-width":u.width,"stroke-dasharray":u.dashStyle||""},w=i?m.y+m.height:m.x,y=u.offsets;if(i&&!h.flip&&(y=e.extend([],y),y=y.reverse()),y&&y.length>0)for(var _=NaN,j=(y.length,0);j<y.length;j++)if(a?(lineOffset=e.jqx._ptrnd(m.y+y[j].offset),lineOffset<m.y-v&&(lineOffset=e.jqx._ptrnd(m.y)),lineOffset>m.y+m.height&&(lineOffset=m.y+m.height)):(lineOffset=e.jqx._ptrnd(m.x+y[j].offset),lineOffset>m.x+m.width+v&&(lineOffset=e.jqx._ptrnd(m.x+m.width))),!isNaN(lineOffset)&&(isNaN(_)||!(Math.abs(lineOffset-_)<2))){if(_=lineOffset,r.gridLines&&0!=u.visible&&1!=l.gridLines&&(a?this.renderer.line(e.jqx._ptrnd(g.x),lineOffset,e.jqx._ptrnd(g.x+g.width),lineOffset,b):this.renderer.line(lineOffset,e.jqx._ptrnd(g.y),lineOffset,e.jqx._ptrnd(g.y+g.height),b)),x[lineOffset]=!0,r.alternatingBackground&&(u.alternatingBackgroundColor||u.alternatingBackgroundColor2)&&1!=l.alternatingBackground){var q=j%2==0?u.alternatingBackgroundColor2:u.alternatingBackgroundColor;if(j>0&&q){var T;T=a?this.renderer.rect(e.jqx._ptrnd(g.x),w,e.jqx._ptrnd(g.width-1),lineOffset-w,b):this.renderer.rect(w,e.jqx._ptrnd(g.y),lineOffset-w,e.jqx._ptrnd(g.height),b),this.renderer.attr(T,{"stroke-width":0,fill:q,opacity:u.alternatingBackgroundOpacity||1})}}w=lineOffset}var b={stroke:p.color,"stroke-width":p.width,"stroke-dasharray":p.dashStyle||""};if(r.tickMarks&&p.visible&&1!=l.tickMarks)for(var S=p.size,y=p.offsets,_=NaN,j=0;j<y.length;j++)if(a?(lineOffset=e.jqx._ptrnd(m.y+y[j].offset),lineOffset<m.y-v&&(lineOffset=e.jqx._ptrnd(m.y)),lineOffset>m.y+m.height&&(lineOffset=m.y+m.height)):(lineOffset=e.jqx._ptrnd(m.x+y[j].offset),lineOffset>m.x+m.width+v&&(lineOffset=e.jqx._ptrnd(m.x+m.width))),!isNaN(lineOffset)&&(isNaN(_)||!(Math.abs(lineOffset-_)<2))){if(x[lineOffset-1]?lineOffset--:x[lineOffset+1]&&lineOffset++,a){if(lineOffset>m.y+m.height+v)break}else if(lineOffset>m.x+m.width+v)break;_=lineOffset;var C=o.isMirror?S:-S;if(a){var I=m.x+m.width+("right"==h.position?f.left:-f.right);i||(I=m.x+(o.isMirror?f.left:-f.right+m.width)),this.renderer.line(I,lineOffset,I+C,lineOffset,b)}else{var k=m.y+(o.isMirror?m.height:0);k+=o.isMirror?-f.bottom:f.top,k=e.jqx._ptrnd(k),this.renderer.line(lineOffset,k,lineOffset,k-C,b)}}l.tickMarks=l.tickMarks||r.tickMarks,l.gridLines=l.gridLines||r.gridLines,l.alternatingBackground=l.alternatingBackground||r.alternatingBackground}}}}},_calcValueAxisItems:function(e,t,i){var r=this._stats.seriesGroups[e];if(!r||!r.isValid)return!1;
var s=this.seriesGroups[e],a=("horizontal"==s.orientation,this._getValueAxis(e)),n=0!=a.valuesOnTicks,o=(a.dataField,r.intervals),l=t/o,h=r.min,d=r.mu,c=1==a.logarithmicScale,u=a.logarithmicScaleBase||10,p=-1!=s.type.indexOf("stacked")&&-1!=s.type.indexOf("100");for(c&&(d=isNaN(a.unitInterval)?1:a.unitInterval),n||(o=Math.max(o-1,1));this._renderData.length<e+1;)this._renderData.push({});this._renderData[e].valueAxis={};var f=this._renderData[e].valueAxis;f.itemWidth=f.intervalWidth=l,f.items=[];for(var m=f.items,g=0;o>=g;g++){var v=0;v=c?p?r.max/Math.pow(u,o-g):h*Math.pow(u,g):n?h+g*d:h+(g+.5)*d,g%i==0?m.push(v):m.push(NaN)}return f.rangeLength=c&&!p?r.intervals:r.intervals*d,1!=a.flip&&(m=m.reverse()),!0},_getDecimalPlaces:function(e,t,i){var r=0;isNaN(i)&&(i=10);for(var s=0;s<e.length;s++){var a=void 0===t?e[s]:e[s][t];if(!isNaN(a)){for(var n=a.toString(),o=0;o<n.length;o++)if((n[o]<"0"||n[o]>"9")&&(r=n.length-(o+1),r>=0))return Math.min(r,i);for(r>0&&(a*=Math.pow(10,r));Math.round(a)!=a&&i>r;)r++,a*=10}}return r},_renderValueAxis:function(e,t,i,r){var s=this.seriesGroups[e],a="horizontal"==s.orientation,n=this._getValueAxis(e);if(!n)throw"SeriesGroup "+e+" is missing valueAxis definition";var o={width:0,height:0};if(!this._isGroupVisible(e)||this._isPieOnlySeries()||"spider"==s.type)return o;var l=0!=n.valuesOnTicks,h=this._stats.seriesGroups[e],d=h.mu,c=1==n.logarithmicScale;n.logarithmicScaleBase||10;if(c&&(d=isNaN(n.unitInterval)?1:n.unitInterval),0==d&&(d=1),isNaN(d))return o;var u=this._getAxisSettings(n),p=u.title,f=u.labels,m=n.labels||{},g=this._get([n.horizontalTextAlignment,m.horizontalAlignment]);g||0!=f.angle||(f.halign=a?"center":"right"==n.position?"left":"right");var v=this._get([f.step,f.unitInterval/d]);if(isNaN(v)&&(v=1),v=Math.max(1,Math.round(v)),!this._calcValueAxisItems(e,a?t.width:t.height,v)||!u.visible)return o;a||(p.angle=this.rtl?90:-90,"centercenter"==p.rotationPoint&&("top"==p.valign?p.rotationPoint="rightcenter":"bottom"==p.valign&&(p.rotationPoint="leftcenter")));var x=this._renderData[e].valueAxis,b=f.formatSettings,w=-1!=s.type.indexOf("stacked")&&-1!=s.type.indexOf("100");w&&!b&&(b={sufix:"%"}),f.formatFunction||b&&b.decimalPlaces||(b=b||{},b.decimalPlaces=this._getDecimalPlaces([h.min,h.max,d],void 0,3));var y=u.gridLines,_=(c?d:this._getInterval(y,d),a?t.width:t.height),j=1==n.flip;n.flip=!j;var q={min:h.min,max:h.max,logAxis:{enabled:1==c,base:n.logarithmicScaleBase,minPow:h.minPow,maxPow:h.maxPow}};(y.visible||n.alternatingBackgroundColor||n.alternatingBackgroundColor2)&&(y.offsets=this._getOffsets("gridLines",n,_,q,u,{left:0,right:0},l,d));var T=u.tickMarks;T.visible&&(T.offsets=this._getOffsets("tickMarks",n,_,q,u,{left:0,right:0},l,d)),labelOffsets=this._getOffsets("labels",n,_,q,u,{left:0,right:0},l,d,!l),n.flip=j;var S,C=[];this._elementRenderInfo&&this._elementRenderInfo.length>e&&(S=this._elementRenderInfo[e].valueAxis);for(var I=0;I<labelOffsets.length;I++){var k=labelOffsets[I].value;if(isNaN(labelOffsets[I].offset))C.push(void 0);else{var D=f.formatFunction?f.formatFunction(k):isNaN(k)?k:this._formatNumber(k,b),M={key:k,text:D};S&&S.itemOffsets[k]&&(M.x=S.itemOffsets[k].x,M.y=S.itemOffsets[k].y),M.targetX=labelOffsets[I].offset,isNaN(M.targetX)||C.push(M)}}var P=a&&"top"==n.position||!a&&"right"==n.position||!a&&this.rtl&&"left"!=n.position,N={items:C,renderData:x},B=this._getAnimProps(e),O=B.enabled&&C.length<500?B.duration:0;return 0==this.enableAxisTextAnimation&&(O=0),x.settings=u,x.isMirror=P,x.rect=t,this._renderAxis(!a,P,u,t,r,d,c,!0,N,i,O)},_objectsArraysToArray:function(t,i){var r=[];if(!e.isArray(t))return r;for(var s=0;s<t.length;s++)r.push(t[s][i]);return r},_arraysToObjectsArray:function(e,t){var i=[];if(e.length!=t.length)return i;for(var r=0;r<e.length;r++)for(var s=0;s<e[r].length;s++)i.length<=s&&i.push({}),i[s][t[r]]=e[r][s];return i},_valuesToOffsets:function(t,i,r,s,a,n,o){var l=[];if(!i||!e.isArray(t))return l;var h=r.logAxis.base,d=r.logAxis.enabled?"logarithmic":"linear",c=i.flip,u=s,p=0,f=0;a&&!isNaN(a.left)&&(p=a.left),a&&!isNaN(a.right)&&(f=a.right),u=s-p-f,s=u;for(var m=0;m<t.length;m++)x=this._jqxPlot.scale(t[m],{min:r.min.valueOf(),max:r.max.valueOf(),type:d,base:h},{min:0,max:n?s:u,flip:c},{}),isNaN(x)?l.push(NaN):(isNaN(o)||(x+=o),x<=s+p+f+1?l.push(e.jqx._ptrnd(x)):l.push(NaN));return l},_generateIntervalValues:function(e,t,i,r,s){var a=[],n=e.min,o=e.max;if(e.logAxis&&e.logAxis.enabled&&(n=e.logAxis.minPow,o=e.logAxis.maxPow),void 0==n||void 0==o)return a;if(n==o)return e.logAxis&&e.logAxis.enabled?[Math.pow(e.logAxis.base,n)]:[n];var l=1;1>i&&(l=1e6,n*=l,o*=l,i*=l);for(var h=n;o>=h;h+=i)a.push(h/l+(s?i/2:0));if(t>i){for(var d=[],c=Math.round(t/i),h=0;h<a.length;h++)h%c==0&&d.push(a[h]);a=d}if(e.logAxis&&e.logAxis.enabled)for(var h=0;h<a.length;h++)a[h]=Math.pow(e.logAxis.base,a[h]);return a},_generateDTOffsets:function(t,i,r,s,a,n,o,l,h,d,c){o||(o="day");var u=[];if(t>i)return u;if(t==i)return d?u.push({offset:l?r/2:s.left,value:t}):l&&u.push({offset:r/2,value:t}),u;var p=r-s.left-s.right,f=t,m=s.left,g=m;n=Math.max(n,1);var v=n,x=Math.min(1,n);for(n>1&&"millisecond"!=o&&(n=1);e.jqx._ptrnd(g)<=e.jqx._ptrnd(s.left+p+(l?0:s.right));){u.push({offset:g,value:f});var b=new Date(f.valueOf());if("millisecond"==o)b.setMilliseconds(f.getMilliseconds()+n);else if("second"==o)b.setSeconds(f.getSeconds()+n);else if("minute"==o)b.setMinutes(f.getMinutes()+n);else if("hour"==o){var w=b.valueOf();b.setHours(f.getHours()+n),w==b.valueOf()&&b.setHours(f.getHours()+n+1)}else"day"==o?b.setDate(f.getDate()+n):"month"==o?b.setMonth(f.getMonth()+n):"year"==o&&b.setFullYear(f.getFullYear()+n);f=b,g=m+(f.valueOf()-t.valueOf())*x/(i.valueOf()-t.valueOf())*p}if(c)for(var y=0;y<u.length;y++)u[y].offset=r-u[y].offset;if(v>1&&"millisecond"!=o){for(var _=[],y=0;y<u.length;y+=v)_.push({offset:u[y].offset,value:u[y].value});u=_}if(!l&&!d&&u.length>1){var _=[];_.push({offset:0,value:void 0});for(var y=1;y<u.length;y++)_.push({offset:u[y-1].offset+(u[y].offset-u[y-1].offset)/2,value:void 0});var j=_.length;j>1?_.push({offset:_[j-1].offset+(_[j-1].offset-_[j-2].offset)}):_.push({offset:r,value:void 0}),u=_}if(a>n){for(var _=[],q=Math.round(a/v),y=0;y<u.length;y++)y%q==0&&_.push({offset:u[y].offset,value:u[y].value});u=_}return u},_hasStackValueReversal:function(e,t){var i=this.seriesGroups[e],r=-1!=i.type.indexOf("stacked");if(!r)return!1;for(var s=-1!=i.type.indexOf("waterfall"),a=this._getDataLen(e),n=0,o=!1,l=[],h=0;h<i.series.length;h++)l[h]=this._isSerieVisible(e,h);for(var d=0;a>d;d++){var c=void 0;s||(o=!1);for(var u=0;u<i.series.length;u++)if(l[u]&&(val=this._getDataValueAsNumber(d,i.series[u].dataField,e),!isNaN(val))){if(i.series[u].summary){var p=this._getDataValue(d,i.series[u].summary,e);if(void 0!==p)continue}var f=o?val<0:val<t;if(o=!0,void 0==c&&(c=f),f!=c)return!0;c=f,n+=val}}return!1},_getValueAxis:function(e){var t=void 0==e?this.valueAxis:this.seriesGroups[e].valueAxis||this.valueAxis;return t||(t=this.valueAxis={}),t},_buildStats:function(e){var t={seriesGroups:[]};this._stats=t;for(var i=0;i<this.seriesGroups.length;i++){var r=this.seriesGroups[i];t.seriesGroups[i]={};var s=this._getXAxis(i),a=this._getValueAxis(i),n=this._getXAxisStats(i,s,"horizontal"!=r.orientation?e.width:e.height),o=t.seriesGroups[i];o.isValid=!0;var l="horizontal"==r.orientation?e.width:e.height,h=1==a.logarithmicScale,d=a.logarithmicScaleBase;isNaN(d)&&(d=10);var c=-1!=r.type.indexOf("stacked"),u=c&&-1!=r.type.indexOf("100"),p=-1!=r.type.indexOf("range"),f=-1!=r.type.indexOf("waterfall");if(f&&!this._moduleWaterfall)throw"Please include 'jqxchart.waterfall.js'";u&&(o.psums=[],o.nsums=[]);var m=NaN,g=NaN,v=NaN,x=NaN,b=a?a.baselineValue:NaN;isNaN(b)&&(b=h&&!u?1:0);var w=!1;0!=b&&c&&(w=this._hasStackValueReversal(i,b),w&&(b=0)),c&&f&&(w=this._hasStackValueReversal(i,b));var y=this._getDataLen(i),_=0,j=NaN,q=[];if(f)for(var T=0;T<r.series.length;T++)q.push(NaN);for(var S=NaN,C=0;y>C&&o.isValid;C++){if(s.rangeSelector){var I=s.dataField?this._getDataValue(C,s.dataField,i):C;if(I&&n.isDateTime&&(I=this._castAsDate(I,s.dateFormat)),n.useIndeces&&(I=C),I&&(I.valueOf()<n.min.valueOf()||I.valueOf()>n.max.valueOf()))continue}var k=a.minValue,D=a.maxValue;a.baselineValue&&(k=isNaN(k)?b:Math.min(b,k),D=isNaN(D)?b:Math.max(b,D));for(var M=0,P=0,T=0;r.series&&T<r.series.length;T++)if(this._isSerieVisible(i,T)){var N=NaN,B=NaN,O=NaN;if(-1!=r.type.indexOf("candle")||-1!=r.type.indexOf("ohlc")){var E=["Open","Low","Close","High"];for(var A in E){var H=this._getDataValueAsNumber(C,r.series[T]["dataField"+E[A]],i);isNaN(H)||(O=isNaN(B)?H:Math.min(O,H),B=isNaN(B)?H:Math.max(B,H))}}else if(p){var z=this._getDataValueAsNumber(C,r.series[T].dataFieldFrom,i),L=this._getDataValueAsNumber(C,r.series[T].dataFieldTo,i);B=Math.max(z,L),O=Math.min(z,L)}else{if(N=this._getDataValueAsNumber(C,r.series[T].dataField,i),f){if(this._isSummary(i,C)){var F=this._getDataValue(C,r.series[T].summary,i);if(void 0!==F)continue}c?(isNaN(S)||(N+=S),S=N):(isNaN(q[T])?q[T]=N:N+=q[T],q[T]=N)}if(isNaN(N)||h&&0>=N)continue;O=B=N}(isNaN(D)||B>D)&&(isNaN(a.maxValue)?!0:B<=a.maxValue)&&(D=B),(isNaN(k)||k>O)&&(isNaN(a.minValue)?!0:O>=a.minValue)&&(k=O),isNaN(N)||!c||f||(N>b?M+=N:b>N&&(P+=N))}if(u||(isNaN(a.maxValue)||(M=Math.min(a.maxValue,M)),isNaN(a.minValue)||(P=Math.max(a.minValue,P))),h&&u)for(var T=0;T<r.series.length;T++)if(this._isSerieVisible(i,T)){var N=this._getDataValueAsNumber(C,r.series[T].dataField,i);if(isNaN(N)||0>=N)j=.01;else{var R=0==M?0:N/M;(isNaN(j)||j>R)&&(j=R)}}else j=.01;var V=M-P;V>_&&(_=V),u&&(o.psums[C]=M,o.nsums[C]=P),(D>g||isNaN(g))&&(g=D),(m>k||isNaN(m))&&(m=k),(M>v||isNaN(v))&&(v=M),(x>P||isNaN(x))&&(x=P)}u&&(v=0==v?0:Math.max(v,-x),x=0==x?0:Math.min(x,-v)),m==g&&(0==m?(m=-1,g=1):0>m?g=0:h?1==m&&(m/=d,g*=d):m=0);var W={gmin:m,gmax:g,gsumP:v,gsumN:x,gbase:b,isLogAxis:h,logBase:d,minPercent:j,gMaxRange:_,isStacked:c,isStacked100:u,isWaterfall:f,hasStackValueReversal:w,valueAxis:a,valueAxisSize:l};W.isStacked&&(W.gsumN<0&&(W.gmin=Math.min(W.gmin,W.gbase+W.gsumN)),W.gsumP>0&&(W.gmax=Math.max(W.gmax,W.gbase+W.gsumP))),o.context=W}this._mergeCommonValueAxisStats();for(var C=0;C<t.seriesGroups.length;C++){var o=t.seriesGroups[C];if(o.isValid){var G=this._calcOutputGroupStats(o.context);for(var A in G)o[A]=G[A];delete o.context}}},_mergeCommonValueAxisStats:function(){for(var e={},t=0;t<this.seriesGroups.length;t++)if(this._isGroupVisible(t)&&!this.seriesGroups[t].valueAxis){var i=this._stats.seriesGroups[t].context;e.gbase=i.gbase,(isNaN(e.gmin)||i.gmin<e.gmin)&&(e.gmin=i.gmin),(isNaN(e.gmax)||i.gmax>e.gmax)&&(e.gmax=i.gmax),(isNaN(e.gsumP)||i.gsumP>e.gsumP)&&(e.gsumP=i.gsumP),(isNaN(e.gsumN)||i.gsumN<e.gsumN)&&(e.gsumN=i.gsumN),(isNaN(e.logBase)||i.logBase<e.logBase)&&(e.logBase=i.logBase),(isNaN(e.minPercent)||i.minPercent<e.minPercent)&&(e.minPercent=i.minPercent),e.gsumN>0&&(e.gmin=Math.min(e.gmin,e.gbase+e.gsumN)),e.gsumP>0&&(e.gmax=Math.max(e.gmax,e.gbase+e.gsumP))}for(var t=0;t<this.seriesGroups.length;t++)if(!this.seriesGroups[t].valueAxis){var r=this._stats.seriesGroups[t].context;for(var s in e)r[s]=e[s]}},_calcOutputGroupStats:function(t){var i=t.gmin,r=t.gmax,s=t.gsumP,a=t.gsumN,n=t.gbase,o=t.isLogAxis,l=t.logBase,h=t.minPercent,d=t.gMaxRange,c=t.isStacked,u=t.isStacked100,p=t.isWaterfall,f=t.hasStackValueReversal,m=t.valueAxis,g=t.valueAxisSize,v=t.valueAxis.unitInterval;v||(v=this._calcInterval(i,r,Math.max(g/80,2))),i==r&&(i=n,r=2*r);var x=NaN,b=0,w=0;if(o){if(u){x=0;var y=1;for(b=w=e.jqx.log(100,l);y>h;)y/=l,b--,x++;i=Math.pow(l,b)}else c&&!p&&(r=Math.max(r,s)),w=e.jqx._rnd(e.jqx.log(r,l),1,!0),r=Math.pow(l,w),b=e.jqx._rnd(e.jqx.log(i,l),1,!1),i=Math.pow(l,b);v=l}a>i&&(a=i),r>s&&(s=r);var _=o?i:e.jqx._rnd(i,v,!1),j=o?r:e.jqx._rnd(r,v,!0);if(u&&j>100&&(j=100),u&&!o&&(j=j>0?100:0,_=0>_?-100:0,v=m.unitInterval,(isNaN(v)||0>=v||v>=100)&&(v=10),100%v!=0))for(;v>=1&&100%v!=0;v--);if(isNaN(j)||isNaN(_)||isNaN(v))return{};if(isNaN(x)&&(x=parseInt(((j-_)/(0==v?1:v)).toFixed())),o&&!u&&(x=w-b,d=Math.pow(l,x)),1>x)return{};var q={min:_,max:j,logarithmic:o,logBase:l,base:o?_:n,minPow:b,maxPow:w,sumP:s,sumN:a,mu:v,maxRange:d,intervals:x,hasStackValueReversal:f};return q},_getDataLen:function(t){var i=this.source;return void 0!=t&&-1!=t&&this.seriesGroups[t].source&&(i=this.seriesGroups[t].source),i instanceof e.jqx.dataAdapter&&(i=i.records),i?i.length:0},_getDataValue:function(t,i,r){var s=this.source;return void 0!=r&&-1!=r&&(s=this.seriesGroups[r].source||s),s instanceof e.jqx.dataAdapter&&(s=s.records),!s||0>t||t>s.length-1?void 0:e.isFunction(i)?i(t,s):i&&""!=i?s[t][i]:s[t]},_getDataValueAsNumber:function(e,t,i){var r=this._getDataValue(e,t,i);return this._isDate(r)?r.valueOf():("number"!=typeof r&&(r=parseFloat(r)),"number"!=typeof r&&(r=void 0),r)},_isPieGroup:function(e){var t=this.seriesGroups[e];return t&&t.type?-1!=t.type.indexOf("pie")||-1!=t.type.indexOf("donut"):!1},_renderPieSeries:function(t,i){for(var r=this._getDataLen(t),s=this.seriesGroups[t],a=this._calcGroupOffsets(t,i).offsets,n=0;n<s.series.length;n++){var o=s.series[n];if(!o.customDraw){var l=this._getSerieSettings(t,n),h=(o.colorScheme||s.colorScheme||this.colorScheme,this._getAnimProps(t,n)),d=h.enabled&&5e3>r&&!this._isToggleRefresh&&1!=this._isVML?h.duration:0;e.jqx.mobile.isMobileBrowser()&&this.renderer instanceof e.jqx.HTML5Renderer&&(d=0);var c=this._get([o.minAngle,o.startAngle]);(isNaN(c)||0>c||c>360)&&(c=0);var u=this._get([o.maxAngle,o.endAngle]);(isNaN(u)||0>u||u>360)&&(u=360);for(var p={rect:i,minAngle:c,maxAngle:u,groupIndex:t,serieIndex:n,settings:l,items:[]},f=0;r>f;f++){var m=a[n][f];if(m.visible){var g=m.fromAngle,v=m.toAngle,x=this.renderer.pieslice(m.x,m.y,m.innerRadius,m.outerRadius,g,0==d?v:g,m.centerOffset);this._setRenderInfo(t,n,f,{element:x});var b={displayValue:m.displayValue,itemIndex:f,visible:m.visible,x:m.x,y:m.y,innerRadius:m.innerRadius,outerRadius:m.outerRadius,fromAngle:g,toAngle:v,centerOffset:m.centerOffset};p.items.push(b)}}this._animatePieSlices(p,0);var w=this;this._enqueueAnimation("series",void 0,void 0,d,function(e,t,i){w._animatePieSlices(t,i)},p)}}},_sliceSortFunction:function(e,t){return e.fromAngle-t.fromAngle},_animatePieSlices:function(e,t){var i;this._elementRenderInfo&&this._elementRenderInfo.length>e.groupIndex&&this._elementRenderInfo[e.groupIndex].series&&this._elementRenderInfo[e.groupIndex].series.length>e.serieIndex&&(i=this._elementRenderInfo[e.groupIndex].series[e.serieIndex]);for(var r=this.seriesGroups[e.groupIndex],s=this._getLabelsSettings(e.groupIndex,e.serieIndex,NaN),a=s.visible,n=[],o=0;o<e.items.length;o++){var l=e.items[o];if(l.visible){var h=l.fromAngle,d=l.fromAngle+t*(l.toAngle-l.fromAngle);if(i&&i[l.displayValue]){var c=i[l.displayValue].fromAngle,u=i[l.displayValue].toAngle;h=c+(h-c)*t,d=u+(d-u)*t}n.push({index:o,from:h,to:d})}}i&&n.sort(this._sliceSortFunction);for(var p=NaN,o=0;o<n.length;o++){var l=e.items[n[o].index],f=this._getRenderInfo(e.groupIndex,e.serieIndex,l.itemIndex),h=n[o].from,d=n[o].to;i&&(!isNaN(p)&&h>p&&(h=p),p=d,o==n.length-1&&d!=n[0].from&&(d=e.maxAngle+n[0].from));var m=this.renderer.pieSlicePath(l.x,l.y,l.innerRadius,l.outerRadius,h,d,l.centerOffset);this.renderer.attr(f.element,{d:m});var g=this._getColors(e.groupIndex,e.serieIndex,l.itemIndex,"radialGradient",l.outerRadius),v=e.settings;f.colors=g,f.settings=v,this.renderer.attr(f.element,{fill:g.fillColor,stroke:g.lineColor,"stroke-width":v.stroke,"fill-opacity":v.opacity,"stroke-opacity":v.opacity,"stroke-dasharray":"none"});r.series[e.serieIndex];a&&this._showPieLabel(e.groupIndex,e.serieIndex,l.itemIndex,s),1==t&&this._installHandlers(f.element,"pieslice",e.groupIndex,e.serieIndex,l.itemIndex)}},_showPieLabel:function(t,i,r,s,a){var n=this._renderData[t].offsets[i][r];if(n.elementInfo.labelElement&&this.renderer.removeElement(n.elementInfo.labelElement),s||(s=this._getLabelsSettings(t,i,NaN)),s.visible){var o=n.fromAngle,l=n.toAngle,h=Math.abs(o-l);h>360&&(o=0,l=360);var d=(o*Math.PI*2/360,l*Math.PI*2/360,h/2+o);d%=360;var c,u=d*Math.PI*2/360;1==s.autoRotate&&(c=90>d||d>270?360-d:180-d);var p=s.linesEnabled,f=this._showLabel(t,i,r,{x:0,y:0,width:0,height:0},"center","center",!0,!1,!1,c),m=s.radius||n.outerRadius+Math.max(f.width,f.height);this._isPercent(m)&&(m=parseFloat(m)/100*Math.min(this._plotRect.width,this._plotRect.height)/2),m+=n.centerOffset,isNaN(a)&&(a=0),m+=a;var g=this.seriesGroups[t],v=g.series[i],x=e.jqx.getNum([v.offsetX,g.offsetX,this._plotRect.width/2]),b=e.jqx.getNum([v.offsetY,g.offsetY,this._plotRect.height/2]),w=this._plotRect.x+x,y=this._plotRect.y+b,_=this._adjustTextBoxPosition(w,y,f,m,d,n.outerRadius>m,0!=s.linesAngles,1==s.autoRotate),j={};if(n.elementInfo.labelElement=this._showLabel(t,i,r,{x:_.x,y:_.y,width:f.width,height:f.height},"left","top",!1,!1,!1,c,j),m>n.outerRadius+5&&0!=p){var q={lineColor:n.elementInfo.colors.lineColor,stroke:n.elementInfo.settings.stroke,opacity:n.elementInfo.settings.opacity,dashStyle:n.elementInfo.settings.dashStyle};n.elementInfo.labelArrowPath=this._updateLebelArrowPath(n.elementInfo.labelArrowPath,w,y,m,n.outerRadius+a,u,0!=s.linesAngles,q,j)}}},_updateLebelArrowPath:function(t,i,r,s,a,n,o,l,h){var d=e.jqx._ptrnd(i+(s-0)*Math.cos(n)),c=e.jqx._ptrnd(r-(s-0)*Math.sin(n)),u=e.jqx._ptrnd(i+(a+2)*Math.cos(n)),p=e.jqx._ptrnd(r-(a+2)*Math.sin(n)),f=[];f.push({x:h.x+h.width/2,y:h.y}),f.push({x:h.x+h.width/2,y:h.y+h.height}),f.push({x:h.x,y:h.y+h.height/2}),f.push({x:h.x+h.width,y:h.y+h.height/2}),o||(f.push({x:h.x,y:h.y}),f.push({x:h.x+h.width,y:h.y}),f.push({x:h.x+h.width,y:h.y+h.height}),f.push({x:h.x,y:h.y+h.height})),f=f.sort(function(t,s){return e.jqx._ptdist(t.x,t.y,i,r)-e.jqx._ptdist(s.x,s.y,i,r)}),f=f.sort(function(e,t){return Math.abs(e.x-i)+Math.abs(e.y-r)-(Math.abs(t.x-i)+Math.abs(t.y-r))});for(var m=0;m<f.length;m++)f[m].x=e.jqx._ptrnd(f[m].x),f[m].y=e.jqx._ptrnd(f[m].y);d=f[0].x,c=f[0].y;var g="M "+d+","+c+" L"+u+","+p;return o&&(g="M "+d+","+c+" L"+u+","+c+" L"+u+","+p),t?this.renderer.attr(t,{d:g}):t=this.renderer.path(g,{}),this.renderer.attr(t,{fill:"none",stroke:l.lineColor,"stroke-width":l.stroke,"stroke-opacity":l.opacity,"stroke-dasharray":"none"}),t},_adjustTextBoxPosition:function(t,i,r,s,a,n,o,l){var h=a*Math.PI*2/360,d=e.jqx._ptrnd(t+s*Math.cos(h)),c=e.jqx._ptrnd(i-s*Math.sin(h));if(l){var u=r.width,p=r.height,f=Math.atan(p/u)%(2*Math.PI),m=h%(2*Math.PI),g=0;f>=m?g=u/2*Math.cos(h):m>=f&&m<Math.PI-f?g=p/2*Math.sin(h):m>=Math.PI-f&&m<Math.PI+f?g=u/2*Math.cos(h):m>=Math.PI+f&&m<2*Math.PI-f?g=p/2*Math.sin(h):m>=2*Math.PI-f&&m<2*Math.PI&&(g=u/2*Math.cos(h)),s+=Math.abs(g)+3;var d=e.jqx._ptrnd(t+s*Math.cos(h)),c=e.jqx._ptrnd(i-s*Math.sin(h));return d-=r.width/2,c-=r.height/2,{x:d,y:c}}return n?(d-=r.width/2,c-=r.height/2):o?a>=90&&270>a?(c-=r.height/2,d-=r.width):c-=r.height/2:a>=0&&45>a||a>=315&&360>a?c-=r.height/2:a>=45&&135>a?(c-=r.height,d-=r.width/2):a>=135&&225>a?(c-=r.height/2,d-=r.width):a>=225&&315>a&&(d-=r.width/2),{x:d,y:c}},_isColumnType:function(e){return-1!=e.indexOf("column")||-1!=e.indexOf("waterfall")},_getColumnGroupsCount:function(e){var t=0;e=e||"vertical";for(var i=this.seriesGroups,r=0;r<i.length;r++){var s=i[r].orientation||"vertical";this._isColumnType(i[r].type)&&s==e&&t++}return this.columnSeriesOverlap&&(t=1),t},_getColumnGroupIndex:function(e){for(var t=0,i=this.seriesGroups[e].orientation||"vertical",r=0;e>r;r++){var s=this.seriesGroups[r],a=s.orientation||"vertical";this._isColumnType(s.type)&&a==i&&t++}return t},_renderAxisBands:function(t,i,r){var s=r?this._getXAxis(t):this._getValueAxis(t),a=this.seriesGroups[t],n=r?void 0:a.bands;if(!n){for(var o=0;t>o;o++){var l=r?this._getXAxis(o):this._getValueAxis(o);if(l==s)return}n=s.bands}if(e.isArray(n)){var h=i,d="horizontal"==a.orientation;d&&(h={x:i.y,y:i.x,width:i.height,height:i.width}),this._calcGroupOffsets(t,h);for(var o=0;o<n.length;o++){var c,u=n[o],p=this._get([u.minValue,u.from]),f=this._get([u.maxValue,u.to]),m=r?this.getXAxisDataPointOffset(p,t):this.getValueAxisDataPointOffset(p,t),g=r?this.getXAxisDataPointOffset(f,t):this.getValueAxisDataPointOffset(f,t),v=Math.abs(m-g);if(a.polar||a.spider){var x=this._renderData[t],b=x.polarCoords;if(r)if(a.spider){p1=this.getPolarDataPointOffset(p,this._stats.seriesGroups[t].max,t),p2=this.getPolarDataPointOffset(f,this._stats.seriesGroups[t].max,t);var w="M "+b.x+","+b.y;w+=" L "+p1.x+","+p1.y,w+=" L "+p2.x+","+p2.y,c=this.renderer.path(w)}else{var y={},_={x:Math.min(m,g),y:i.y,width:v,height:i.height};this._columnAsPieSlice(y,i,b,_),c=y.element}else{var j=this._toPolarCoord(b,i,i.x,x.baseOffset),q=this._toPolarCoord(b,i,i.x,m),T=this._toPolarCoord(b,i,i.x,g),S=e.jqx._ptdist(j.x,j.y,q.x,q.y),C=e.jqx._ptdist(j.x,j.y,T.x,T.y),I=Math.round(360*-b.startAngle/(2*Math.PI)),k=Math.round(360*-b.endAngle/(2*Math.PI));if(I>k){var D=I;I=k,k=D}if(a.spider){var M=x.xAxis.offsetAngles,w="",P=[C,S],N=M;b.isClosedCircle&&(N=e.extend([],M),N.push(N[0]));for(var B in P){for(var O=0;O<N.length;O++){var E=0==B?O:M.length-O-1,A=b.x+P[B]*Math.cos(N[E]),H=b.y+P[B]*Math.sin(N[E]);w+=""==w?"M ":" L",w+=e.jqx._ptrnd(A)+","+e.jqx._ptrnd(H)}if(0==B){var A=b.x+P[1]*Math.cos(N[E]),H=b.y+P[1]*Math.sin(N[E]);w+=" L"+e.jqx._ptrnd(A)+","+e.jqx._ptrnd(H)}}w+=" Z",c=this.renderer.path(w)}else c=this.renderer.pieslice(b.x,b.y,S,C,I,k)}}else{var z={x:Math.min(m,g),y:h.y,width:v,height:h.height};if(r||(z={x:h.x,y:Math.min(m,g),width:h.width,height:v}),d){var D=z.x;z.x=z.y,z.y=D,D=z.width,z.width=z.height,z.height=D}c=0==v||1==v?this.renderer.line(e.jqx._ptrnd(z.x),e.jqx._ptrnd(z.y),e.jqx._ptrnd(z.x+(d?0:z.width)),e.jqx._ptrnd(z.y+(d?z.height:0))):this.renderer.rect(z.x,z.y,z.width,z.height)}var L=u.fillColor||u.color||"#AAAAAA",F=u.lineColor||L,R=u.lineWidth;isNaN(R)&&(R=1);var V=u.opacity;(isNaN(V)||0>V||V>1)&&(V=1),this.renderer.attr(c,{fill:L,"fill-opacity":V,stroke:F,"stroke-opacity":V,"stroke-width":R,"stroke-dasharray":u.dashStyle})}}},_getColumnGroupWidth:function(e,t,i){var r=this.seriesGroups[e],s=-1!=r.type.indexOf("stacked"),a=(s?1:r.series.length,this._getColumnGroupsCount(r.orientation));(isNaN(a)||0==a)&&(a=1);var n=t.rangeLength>=1?t.itemWidth:.9*i,o=r.columnsMinWidth;isNaN(o)&&(o=1),isNaN(r.columnsMaxWidth)||(o=Math.min(r.columnsMaxWidth,o)),o>n&&t.length>0&&(n=Math.max(n,.9*i/t.length));var l=o;if(!s){var h=r.seriesGapPercent;(isNaN(h)||0>h)&&(h=10),h/=100;var d=o;d*=1+h,l+=r.series.length*d}var c=Math.max(n/a,l);return{requiredWidth:l,availableWidth:n,targetWidth:c}},_getColumnSerieWidthAndOffset:function(e,t){var i=this.seriesGroups[e],r=(i.series[t],"horizontal"==i.orientation),s=this._plotRect;r&&(s={x:s.y,y:s.x,width:s.height,height:s.width});var a=this._calcGroupOffsets(e,s);if(a&&0!=a.xoffsets.length){var n=!0,o=this._getColumnGroupsCount(i.orientation);"candlestick"!=i.type&&"ohlc"!=i.type||(o=1);var l=this._getColumnGroupIndex(e),h=this._getColumnGroupWidth(e,a.xoffsets,r?s.height:s.width),d=0,c=h.targetWidth;(1==this.columnSeriesOverlap||Math.round(c)>Math.round(h.availableWidth/o))&&(o=1,l=0),n&&(d-=c*o/2),d+=c*l;var u=i.columnsGapPercent;0>=u&&(u=0),(isNaN(u)||u>=100)&&(u=25),u/=100;var p=c*u;p+h.requiredWidth>h.targetWidth&&(p=Math.max(0,h.targetWidth-h.requiredWidth)),Math.round(c)>Math.round(h.availableWidth)&&(p=0),c-=p,d+=p/2;var f=i.seriesGapPercent;(isNaN(f)||0>f)&&(f=10);var m=-1!=i.type.indexOf("stacked"),g=c;m||(g/=i.series.length);var v=this._get([i.seriesGap,c*f/100/(i.series.length-1)]);(1==i.polar||1==i.spider||m||i.series.length<=1)&&(v=0);var x=v*(i.series.length-1);i.series.length>1&&x>c-1*i.series.length&&(x=c-1*i.series.length,v=x/Math.max(1,i.series.length-1));var b=g-x/i.series.length,w=0,y=i.columnsMaxWidth;isNaN(y)||b>y&&(w=b-y,b=y);var _=0;if(m)_=w/2;else{var j=(c-b*i.series.length-x)/2,q=Math.max(0,t);_=j+b*t+q*v}return{width:b,offset:d+_}}},_renderColumnSeries:function(t,i){var r=this.seriesGroups[t];if(r.series&&0!=r.series.length){var s=(this._getDataLen(t),"horizontal"==r.orientation),a=i;s&&(a={x:i.y,y:i.x,width:i.height,height:i.width});var n=this._calcGroupOffsets(t,a);if(n&&0!=n.xoffsets.length){var o;1!=r.polar&&1!=r.spider||(o=this._getPolarAxisCoords(t,a));var l={groupIndex:t,rect:i,vertical:!s,seriesCtx:[],renderData:n,polarAxisCoords:o};l.columnGroupWidth=this._getColumnGroupWidth(t,n.xoffsets,s?a.height:a.width);for(var h=this._getGroupGradientType(t),d=0;d<r.series.length;d++){var c=r.series[d];if(!c.customDraw){var u=(c.dataField,this._getAnimProps(t,d)),p=u.enabled&&!this._isToggleRefresh&&n.xoffsets.length<100?u.duration:0,f=this._getColumnSerieWidthAndOffset(t,d),m=this._isSerieVisible(t,d),g=this._getSerieSettings(t,d),v=this._getColors(t,d,NaN,this._getGroupGradientType(t),4),x=[];if(e.isFunction(c.colorFunction)&&!o)for(var b=n.xoffsets.first;b<=n.xoffsets.last;b++)x.push(this._getColors(t,d,b,h,4));var w={seriesIndex:d,serieColors:v,itemsColors:x,settings:g,columnWidth:f.width,xAdjust:f.offset,isVisible:m};l.seriesCtx.push(w)}}this._animColumns(l,0==p?1:0);var y=this;this._enqueueAnimation("series",void 0,void 0,p,function(e,t,i){y._animColumns(t,i)},l)}}},_getPercent:function(e,t,i,r){return isNaN(e)&&(e=t),!isNaN(i)&&!isNaN(e)&&i>e&&(e=i),!isNaN(r)&&!isNaN(e)&&e>r&&(e=r),isNaN(e)?NaN:e},_getColumnVOffsets:function(e,t,i,r,s,a){var n=this.seriesGroups[t],o=this._getPercent(n.columnsTopWidthPercent,100,0,100),l=this._getPercent(n.columnsBottomWidthPercent,100,0,100);0==o&&0==l&&(l=100);for(var h=this._getPercent(n.columnsNeckHeightPercent,NaN,0,100)/100,d=this._getPercent(n.columnsNeckWidthPercent,100,0,100)/100,c=[],u=NaN,p=0;p<i.length;p++){var f,m=i[p],g=m.seriesIndex,v=(n.series[g],e.offsets[g][r].from),x=e.offsets[g][r].to,b=e.xoffsets.data[r],w=m.isVisible;w||(x=v);var y=this._elementRenderInfo;if(w&&y&&y.length>t&&y[t].series.length>g){var _=e.xoffsets.xvalues[r];f=y[t].series[g][_],!f||isNaN(f.from)||isNaN(f.to)||(v=f.from+(v-f.from)*a,x=f.to+(x-f.to)*a,b=f.xoffset+(b-f.xoffset)*a)}f||(x=v+(x-v)*(s?1:a)),isNaN(v)&&(v=isNaN(u)?e.baseOffset:u),u=!isNaN(x)&&s?x:v,isNaN(x)&&(x=v);var j={from:v,to:x,xOffset:b};100==o&&100==l||(j.funnel=!0,j.toWidthPercent=o,j.fromWidthPercent=l),c.push(j)}if(s&&c.length>1&&!(this._elementRenderInfo&&this._elementRenderInfo.length>t)){for(var q=0,T=0,S=-(1/0),C=1/0,I=1/0,k=-(1/0),D=0;D<c.length;D++){var m=i[D];m.isVisible&&(c[D].to>=c[D].from?(T+=c[D].to-c[D].from,I=Math.min(I,c[D].from),k=Math.max(k,c[D].to)):(q+=c[D].from-c[D].to,S=Math.max(S,c[D].from),C=Math.min(C,c[D].to)))}var M=q,P=T;q*=a,T*=a;for(var N=0,B=0,D=0;D<c.length;D++)if(c[D].to>=c[D].from){var O=c[D].to-c[D].from;O+B>T&&(O=Math.max(0,T-B),c[D].to=c[D].from+O),100==o&&100==l||(c[D].funnel=!0,!isNaN(h)&&P*h>=B?c[D].fromWidthPercent=100*d:c[D].fromWidthPercent=Math.abs(c[D].from-I)/P*(o-l)+l,!isNaN(h)&&P*h>=0+(B+O)?c[D].toWidthPercent=100*d:c[D].toWidthPercent=Math.abs(c[D].to-I)/P*(o-l)+l),B+=O}else{var O=c[D].from-c[D].to;O+N>q&&(O=Math.max(0,q-N),c[D].to=c[D].from-O),100==o&&100==l||(c[D].funnel=!0,!isNaN(h)&&M*h>=N?c[D].fromWidthPercent=100*d:c[D].fromWidthPercent=Math.abs(c[D].from-S)/M*(o-l)+l,!isNaN(h)&&M*h>=0+(N+O)?c[D].toWidthPercent=100*d:c[D].toWidthPercent=Math.abs(c[D].to-S)/M*(o-l)+l),N+=O}}return c},_columnAsPieSlice:function(t,i,r,s){var a=this._toPolarCoord(r,i,s.x,s.y),n=this._toPolarCoord(r,i,s.x,s.y+s.height),o=e.jqx._ptdist(r.x,r.y,n.x,n.y),l=e.jqx._ptdist(r.x,r.y,a.x,a.y),h=i.width,d=180*Math.abs(r.startAngle-r.endAngle)/Math.PI,c=-((s.x-i.x)*d)/h,u=-((s.x+s.width-i.x)*d)/h,p=r.startAngle;if(p=360*p/(2*Math.PI),c-=p,u-=p,t)if(void 0!=t.element){var f=this.renderer.pieSlicePath(r.x,r.y,o,l,u,c,0);f+=" Z",this.renderer.attr(t.element,{d:f})}else t.element=this.renderer.pieslice(r.x,r.y,o,l,u,c,0);return{fromAngle:u,toAngle:c,innerRadius:o,outerRadius:l}},_setRenderInfo:function(e,t,i,r){this._renderData[e].offsets[t][i].elementInfo=r},_getRenderInfo:function(e,t,i){return this._renderData[e].offsets[t][i].elementInfo||{}},_animColumns:function(t,i){for(var r=this,s=t.groupIndex,a=this.seriesGroups[s],n=t.renderData,o=-1!=a.type.indexOf("waterfall"),l=this._getXAxis(s),h=-1!=a.type.indexOf("stacked"),d=t.polarAxisCoords,c=(this._getGroupGradientType(s),t.columnGroupWidth.targetWidth,-1),u=0;u<a.series.length;u++)if(this._isSerieVisible(s,u)){c=u;break}for(var p=NaN,f=NaN,u=0;u<t.seriesCtx.length;u++){var m=t.seriesCtx[u];(isNaN(p)||p>m.xAdjust)&&(p=m.xAdjust),(isNaN(f)||f<m.xAdjust+m.columnWidth)&&(f=m.xAdjust+m.columnWidth)}var g=Math.abs(f-p),v=this._get([a.columnsGapPercent,25])/100;(isNaN(v)<0||v>=1)&&(v=.25);for(var x=v*g,b=t.renderData.xoffsets,w=-1,y={},_=1==a.skipOverlappingPoints,j=b.first;j<=b.last;j++){var q=b.data[j];if(!(isNaN(q)||-1!=w&&Math.abs(q-w)<g-1+x&&_)){w=q;var T=this._getColumnVOffsets(n,s,t.seriesCtx,j,h,i),S=!1;if(o)for(var C=0;C<a.series.length;C++)a.series[C].summary&&b.xvalues[j][a.series[C].summary]&&(S=!0);for(var C=0;C<t.seriesCtx.length;C++){var m=t.seriesCtx[C],I=m.seriesIndex,k=a.series[I],D=T[C].from,M=T[C].to,P=T[C].xOffset,N=(t.vertical?t.rect.x:t.rect.y)+m.xAdjust,B=m.settings,O=0!=m.itemsColors.length?m.itemsColors[j-n.xoffsets.first]:m.serieColors,E=this._isSerieVisible(s,I);if(E){var q=e.jqx._ptrnd(N+P),A={x:q,width:m.columnWidth};T[C].funnel&&(A.fromWidthPercent=T[C].fromWidthPercent,A.toWidthPercent=T[C].toWidthPercent);var H=!0;t.vertical?(A.y=D,A.height=M-D,A.height<0&&(A.y+=A.height,A.height=-A.height,H=!1)):(A.x=M>D?D:M,A.width=Math.abs(D-M),H=0>D-M,A.y=q,A.height=m.columnWidth);var z=D-M;if(!isNaN(z)){z=Math.abs(z);var L=void 0,F=r._getRenderInfo(s,I,j),R=F.element,V=F.labelElement,W=void 0==R;if(V&&(r.renderer.removeElement(V),V=void 0),d){var G={element:R};L=this._columnAsPieSlice(G,t.rect,d,A),R=G.element;var O=this._getColors(s,I,void 0,"radialGradient",L.outerRadius)}else if(T[C].funnel){var U=this._getTrapezoidPath(e.extend({},A),t.vertical,H);W?R=this.renderer.path(U,{}):this.renderer.attr(R,{d:U})}else W?R=this.renderer.rect(A.x,A.y,t.vertical?A.width:0,t.vertical?0:A.height):1==t.vertical?this.renderer.attr(R,{x:A.x,y:A.y,height:z}):this.renderer.attr(R,{x:A.x,y:A.y,width:z});if(1>z&&(1!=i||d)?this.renderer.attr(R,{display:"none"}):this.renderer.attr(R,{display:"block"}),W&&this.renderer.attr(R,{fill:O.fillColor,"fill-opacity":B.opacity,"stroke-opacity":B.opacity,stroke:O.lineColor,"stroke-width":B.stroke,"stroke-dasharray":B.dashStyle}),V&&this.renderer.removeElement(V),!E||0==z&&1>i)F={element:R,labelElement:V},r._setRenderInfo(s,I,j,F);else{if(o&&0!=this._get([k.showWaterfallLines,a.showWaterfallLines])){if(!h||h&&C==c){var Y=h?-1:C;if(1==i&&!isNaN(n.offsets[C][j].from)&&!isNaN(n.offsets[C][j].to)){var X=y[Y];if(void 0!=X){var K={x:X.x,y:e.jqx._ptrnd(X.y)},$={x:q,y:K.y},J=a.columnsTopWidthPercent/100;isNaN(J)?J=1:(J>1||0>J)&&(J=1);var Q=a.columnsBottomWidthPercent/100;isNaN(Q)?Q=1:(Q>1||0>Q)&&(Q=1);var Z=t.vertical?A.width:A.height;if(K.x=K.x-Z/2+Z/2*J,S){var ee=Z*J/2;$.x=$.x+Z/2-(l.flip?-ee:ee)}else{var ee=Z*Q/2;$.x=$.x+Z/2-(l.flip?-ee:ee)}t.vertical||(this._swapXY([K]),this._swapXY([$])),this.renderer.line(K.x,K.y,$.x,$.y,{stroke:X.color,"stroke-width":B.stroke,"stroke-opacity":B.opacity,"fill-opacity":B.opacity,"stroke-dasharray":B.dashStyle})}}}1==i&&0!=z&&(y[h?-1:C]={y:M,x:t.vertical?A.x+A.width:A.y+A.height,color:O.lineColor})}if(d){var Z=(this._toPolarCoord(d,t.rect,A.x+A.width/2,A.y),this._showLabel(s,I,j,A,void 0,void 0,!0)),te=L.outerRadius+10;labelOffset=this._adjustTextBoxPosition(d.x,d.y,Z,te,(L.fromAngle+L.toAngle)/2,!0,!1,!1),V=this._showLabel(s,I,j,{x:labelOffset.x,y:labelOffset.y},void 0,void 0,!1,!1,!1)}else V=this._showLabel(s,I,j,A,void 0,void 0,!1,!1,H);F={element:R,labelElement:V},r._setRenderInfo(s,I,j,F),1==i&&this._installHandlers(R,"column",s,I,j)}}}}}}},_getTrapezoidPath:function(t,i,r){var s="",a=t.fromWidthPercent/100,n=t.toWidthPercent/100;if(!i){var o=t.width;t.width=t.height,t.height=o,o=t.x,t.x=t.y,t.y=o}var l=t.x+t.width/2,h=[{x:l-t.width*(r?n:a)/2,y:t.y+t.height},{x:l-t.width*(r?a:n)/2,
y:t.y},{x:l+t.width*(r?a:n)/2,y:t.y},{x:l+t.width*(r?n:a)/2,y:t.y+t.height}];i||this._swapXY(h),s+="M "+e.jqx._ptrnd(h[0].x)+","+e.jqx._ptrnd(h[0].y);for(var d=1;d<h.length;d++)s+=" L "+e.jqx._ptrnd(h[d].x)+","+e.jqx._ptrnd(h[d].y);return s+=" Z"},_swapXY:function(e){for(var t=0;t<e.length;t++){var i=e[t].x;e[t].x=e[t].y,e[t].y=i}},_renderCandleStickSeries:function(t,i,r){var s=this,a=s.seriesGroups[t];if(a.series&&0!=a.series.length){var n="horizontal"==a.orientation,o=i;n&&(o={x:i.y,y:i.x,width:i.height,height:i.width});var l=s._calcGroupOffsets(t,o);if(l&&0!=l.xoffsets.length){var h,d=o.width;(a.polar||a.spider)&&(h=s._getPolarAxisCoords(t,o),d=2*h.r);for(var c=(s._alignValuesWithTicks(t),s._getGroupGradientType(t)),u=[],p=0;p<a.series.length;p++)u[p]=s._getColumnSerieWidthAndOffset(t,p);for(var p=0;p<a.series.length;p++)if(this._isSerieVisible(t,p)){var f=s._getSerieSettings(t,p),m=a.series[p];if(!m.customDraw){var g=e.isFunction(m.colorFunction)?void 0:s._getColors(t,p,NaN,c),v={rect:i,inverse:n,groupIndex:t,seriesIndex:p,symbolType:m.symbolType,symbolSize:m.symbolSize,"fill-opacity":f.opacity,"stroke-opacity":f.opacity,"stroke-width":f.stroke,"stroke-dasharray":f.dashStyle,gradientType:c,colors:g,renderData:l,polarAxisCoords:h,columnsInfo:u,isOHLC:r,items:[],self:s},x=s._getAnimProps(t,p),b=x.enabled&&!s._isToggleRefresh&&l.xoffsets.length<5e3?x.duration:0;s._animCandleStick(v,0);s._enqueueAnimation("series",void 0,void 0,b,function(e,t,i){s._animCandleStick(t,i)},v)}}}}},_animCandleStick:function(t,i){var r=["Open","Low","Close","High"],s=t.columnsInfo[t.seriesIndex].width,a=t.self.seriesGroups[t.groupIndex],n=t.renderData.xoffsets,o=-1,l=Math.abs(n.data[n.last]-n.data[n.first]);l*=i;for(var h=NaN,d=NaN,c=0;c<t.columnsInfo.length;c++){var u=t.columnsInfo[c];(isNaN(h)||h>u.offset)&&(h=u.offset),(isNaN(d)||d<u.offset+u.width)&&(d=u.offset+u.width)}for(var p=Math.abs(d-h),f=0!=a.skipOverlappingPoints,m=n.first;m<=n.last;m++){var g=n.data[m];if(!(isNaN(g)||-1!=o&&Math.abs(g-o)<p&&f)){var v=Math.abs(n.data[m]-n.data[n.first]);if(v>l)break;o=g;var x=t.items[m]=t.items[m]||{};for(var c in r){var b=t.self._getDataValueAsNumber(m,a.series[t.seriesIndex]["dataField"+r[c]],t.groupIndex);if(isNaN(b))break;var w=t.renderData.offsets[t.seriesIndex][m][r[c]];if(isNaN(w))break;x[r[c]]=w}if(g+=t.inverse?t.rect.y:t.rect.x,t.polarAxisCoords){var y=this._toPolarCoord(t.polarAxisCoords,this._plotRect,g,w);g=y.x,w=y.y}g=e.jqx._ptrnd(g);for(var _ in r)x[_]=e.jqx._ptrnd(x[_]);var j=t.colors;if(j||(j=t.self._getColors(t.groupIndex,t.seriesIndex,m,t.gradientType)),t.isOHLC){var q="M"+g+","+x.Low+" L"+g+","+x.High+" M"+(g-s/2)+","+x.Open+" L"+g+","+x.Open+" M"+(g+s/2)+","+x.Close+" L"+g+","+x.Close;t.inverse&&(q="M"+x.Low+","+g+" L"+x.High+","+g+" M"+x.Open+","+(g-s/2)+" L"+x.Open+","+g+" M"+x.Close+","+g+" L"+x.Close+","+(g+s/2));var T=x.lineElement;T||(T=this.renderer.path(q,{}),this.renderer.attr(T,{fill:j.fillColor,"fill-opacity":t["fill-opacity"],"stroke-opacity":t["fill-opacity"],stroke:j.lineColor,"stroke-width":t["stroke-width"],"stroke-dasharray":t["stroke-dasharray"]}),x.lineElement=T),1==i&&this._installHandlers(T,"column",t.groupIndex,t.seriesIndex,m)}else{var T=x.lineElement;T||(T=t.inverse?this.renderer.line(x.Low,g,x.High,g):this.renderer.line(g,x.Low,g,x.High),this.renderer.attr(T,{fill:j.fillColor,"fill-opacity":t["fill-opacity"],"stroke-opacity":t["fill-opacity"],stroke:j.lineColor,"stroke-width":t["stroke-width"],"stroke-dasharray":t["stroke-dasharray"]}),x.lineElement=T);var S=x.stickElement;if(g-=s/2,!S){var C=j.fillColor;x.Close<=x.Open&&j.fillColorAlt&&(C=j.fillColorAlt),S=t.inverse?this.renderer.rect(Math.min(x.Open,x.Close),g,Math.abs(x.Close-x.Open),s):this.renderer.rect(g,Math.min(x.Open,x.Close),s,Math.abs(x.Close-x.Open)),this.renderer.attr(S,{fill:C,"fill-opacity":t["fill-opacity"],"stroke-opacity":t["fill-opacity"],stroke:j.lineColor,"stroke-width":t["stroke-width"],"stroke-dasharray":t["stroke-dasharray"]}),x.stickElement=S}1==i&&this._installHandlers(S,"column",t.groupIndex,t.seriesIndex,m)}}}},_renderScatterSeries:function(t,i,r){var s=this.seriesGroups[t];if(s.series&&0!=s.series.length){var a=-1!=s.type.indexOf("bubble"),n="horizontal"==s.orientation,o=i;n&&(o={x:i.y,y:i.x,width:i.height,height:i.width});var l=this._calcGroupOffsets(t,o);if(l&&0!=l.xoffsets.length){var h,d=o.width;(s.polar||s.spider)&&(h=this._getPolarAxisCoords(t,o),d=2*h.r);var c=(this._alignValuesWithTicks(t),this._getGroupGradientType(t));r||(r="to");for(var u=0;u<s.series.length;u++){var p=this._getSerieSettings(t,u),f=s.series[u];if(!f.customDraw){var m=f.dataField,g=e.isFunction(f.colorFunction),v=this._getColors(t,u,NaN,c),x=NaN,b=NaN;if(a)for(var w=l.xoffsets.first;w<=l.xoffsets.last;w++){var y=this._getDataValueAsNumber(w,f.radiusDataField||f.sizeDataField,t);if("number"!=typeof y)throw"Invalid radiusDataField value at ["+w+"]";isNaN(y)||((isNaN(x)||x>y)&&(x=y),(isNaN(b)||y>b)&&(b=y))}var _=f.minRadius||f.minSymbolSize;isNaN(_)&&(_=d/50);var j=f.maxRadius||f.maxSymbolSize;isNaN(j)&&(j=d/25),_>j&&(j=_);var q=f.radius;q=isNaN(q)&&!isNaN(f.symbolSize)?"circle"==f.symbolType?f.symbolSize/2:f.symbolSize:5;for(var T=this._getAnimProps(t,u),S=T.enabled&&!this._isToggleRefresh&&l.xoffsets.length<5e3?T.duration:0,C={groupIndex:t,seriesIndex:u,symbolType:f.symbolType,symbolSize:f.symbolSize,"fill-opacity":p.opacity,"stroke-opacity":p.opacity,"stroke-width":p.stroke,"stroke-width-symbol":p.strokeSymbol,"stroke-dasharray":p.dashStyle,items:[],polarAxisCoords:h},I=void 0,w=l.xoffsets.first;w<=l.xoffsets.last;w++){var y=this._getDataValueAsNumber(w,m,t);if("number"==typeof y){var k=l.xoffsets.data[w],D=l.xoffsets.xvalues[w],M=l.offsets[u][w][r];if(!(M<o.y||M>o.y+o.height||isNaN(k)||isNaN(M))){if(n){var P=k;k=M,M=P+i.y}else k+=i.x;if(!(!g&&I&&this.enableSampling&&e.jqx._ptdist(I.x,I.y,k,M)<1)){I={x:k,y:M};var N=q;if(a){var B=this._getDataValueAsNumber(w,f.radiusDataField||f.sizeDataField,t);if("number"!=typeof B)continue;N=_+(j-_)*(B-x)/Math.max(1,b-x),isNaN(N)&&(N=_)}l.offsets[u][w].radius=N;var O=NaN,E=NaN,A=0,H=this._elementRenderInfo;if(void 0!=D&&H&&H.length>t&&H[t].series.length>u){var z=H[t].series[u][D];if(z&&!isNaN(z.to)){if(O=z.to,E=z.xoffset,A=q,n){var P=E;E=O,O=P+i.y}else E+=i.x;a&&(A=_+(j-_)*(z.valueRadius-x)/Math.max(1,b-x),isNaN(A)&&(A=_))}}g&&(v=this._getColors(t,u,w,c)),C.items.push({from:A,to:N,itemIndex:w,fill:v.fillColor,stroke:v.lineColor,x:k,y:M,xFrom:E,yFrom:O})}}}}this._animR(C,0);var L=this;this._enqueueAnimation("series",void 0,void 0,S,function(e,t,i){L._animR(t,i)},C)}}}}},_animR:function(t,i){for(var r=t.items,s=t.symbolType||"circle",a=t.symbolSize,n=0;n<r.length;n++){var o=r[n],l=o.x,h=o.y,d=Math.round((o.to-o.from)*i+o.from);if(isNaN(o.yFrom)||(h=o.yFrom+(h-o.yFrom)*i),isNaN(o.xFrom)||(l=o.xFrom+(l-o.xFrom)*i),t.polarAxisCoords){var c=this._toPolarCoord(t.polarAxisCoords,this._plotRect,l,h);l=c.x,h=c.y}l=e.jqx._ptrnd(l),h=e.jqx._ptrnd(h),d=e.jqx._ptrnd(d);var u=this._getRenderInfo(t.groupIndex,t.seriesIndex,r[n].itemIndex),p=u.element,f=u.labelElement;"circle"==s?(p||(p=this.renderer.circle(l,h,d),this.renderer.attr(p,{fill:o.fill,"fill-opacity":t["fill-opacity"],"stroke-opacity":t["fill-opacity"],stroke:o.stroke,"stroke-width":t["stroke-width"],"stroke-dasharray":t["stroke-dasharray"]})),this._isVML?this.renderer.updateCircle(p,void 0,void 0,d):this.renderer.attr(p,{r:d,cy:h,cx:l})):(p&&this.renderer.removeElement(p),p=this._drawSymbol(s,l,h,o.fill,t["fill-opacity"],o.stroke,t["stroke-opacity"]||t["fill-opacity"],t["stroke-width-symbol"],t["stroke-dasharray"],a||d)),f&&this.renderer.removeElement(f),f=this._showLabel(t.groupIndex,t.seriesIndex,o.itemIndex,{x:l-d,y:h-d,width:2*d,height:2*d}),i>=1&&this._installHandlers(p,"circle",t.groupIndex,t.seriesIndex,o.itemIndex),this._setRenderInfo(t.groupIndex,t.seriesIndex,r[n].itemIndex,{element:p,labelElement:f})}},_showToolTip:function(t,i,r,s,a){var n=this,o=n._getXAxis(r),l=n._getValueAxis(r);if(!n._ttEl||r!=n._ttEl.gidx||s!=n._ttEl.sidx||a!=n._ttEl.iidx){var h=n.seriesGroups[r],d=h.series[s],c=n.enableCrosshairs;n._pointMarker?(t=parseInt(n._pointMarker.x+5),i=parseInt(n._pointMarker.y-5)):c=!1;var u=c&&0==n.showToolTips;t=e.jqx._ptrnd(t),i=e.jqx._ptrnd(i);void 0==n._ttEl;if(0!=h.showToolTips&&0!=d.showToolTips){var p=n._get([d.toolTipFormatSettings,h.toolTipFormatSettings,l.toolTipFormatSettings,n.toolTipFormatSettings]),f=n._get([d.toolTipFormatFunction,h.toolTipFormatFunction,l.toolTipFormatFunction,n.toolTipFormatFunction]),m=n._getColors(r,s,a),g=n._getDataValue(a,o.dataField,r);void 0!=o.dataField&&""!=o.dataField||(g=a),"date"==o.type&&(g=n._castAsDate(g,(p?p.dateFormat:void 0)||o.dateFormat));var v="";if(e.isFunction(f)){var x={},b=0;for(var w in d)0==w.indexOf("dataField")&&(x[w.substring(9,w.length).toLowerCase()]=n._getDataValue(a,d[w],r),b++);0==b?x=n._getDataValue(a,void 0,r):1==b&&(x=x[""]),v=f(x,a,d,h,g,o)}else{v=n._getFormattedValue(r,s,a,p,f);var y=this._getAxisSettings(o),_=y.toolTipFormatSettings,j=y.toolTipFormatFunction;j||_||"date"!=o.type||(j=this._getDefaultDTFormatFn(o.baseUnit||"day"));var q=n._formatValue(g,_,j,r,s,a);if(n._isPieGroup(r))g=n._getDataValue(a,d.displayText||d.dataField,r),q=n._formatValue(g,_,j,r,s,a),v=q+": "+v;else{var T=o.displayText||o.dataField||"";v=T.length>0?T+": "+q+"<br>"+v:q+"<br>"+v}}if(n._ttEl||(n._ttEl={}),n._ttEl.sidx=s,n._ttEl.gidx=r,n._ttEl.iidx=a,rect=n.renderer.getRect(),c){var S=e.jqx._ptrnd(n._pointMarker.x),C=e.jqx._ptrnd(n._pointMarker.y),I=n.crosshairsColor||n._defaultLineColor;if(h.polar||h.spider){var k=this._getPolarAxisCoords(r,this._plotRect),D=e.jqx._ptdist(S,C,k.x,k.y);if(D>k.r)return;var M=Math.atan2(C-k.y,S-k.x),P=Math.cos(M)*k.r+k.x,N=Math.sin(M)*k.r+k.y;n._ttEl.vLine?n.renderer.attr(n._ttEl.vLine,{x1:k.x,y1:k.y,x2:P,y2:N}):n._ttEl.vLine=n.renderer.line(k.x,k.y,P,N,{stroke:I,"stroke-width":n.crosshairsLineWidth||1,"stroke-dasharray":n.crosshairsDashStyle||""})}else n._ttEl.vLine&&n._ttEl.hLine?(n.renderer.attr(n._ttEl.vLine,{x1:S,x2:S}),n.renderer.attr(n._ttEl.hLine,{y1:C,y2:C})):(n._ttEl.vLine=n.renderer.line(S,n._plotRect.y,S,n._plotRect.y+n._plotRect.height,{stroke:I,"stroke-width":n.crosshairsLineWidth||1,"stroke-dasharray":n.crosshairsDashStyle||""}),n._ttEl.hLine=n.renderer.line(n._plotRect.x,C,n._plotRect.x+n._plotRect.width,C,{stroke:I,"stroke-width":n.crosshairsLineWidth||1,"stroke-dasharray":n.crosshairsDashStyle||""}))}if(!u&&0!=n.showToolTips){var B=d.toolTipClass||h.toolTipClass||this.toThemeProperty("jqx-chart-tooltip-text",null),O=d.toolTipBackground||h.toolTipBackground||"#FFFFFF",E=d.toolTipLineColor||h.toolTipLineColor||m.lineColor,A=this._get([d.toolTipOpacity,h.toolTipOpacity,1]),H=this.getItemCoord(r,s,a),z=0;n._pointMarker&&n._pointMarker.element&&(z=d.symbolSizeSelected,isNaN(z)&&(z=d.symbolSize),(isNaN(z)||z>50||0>z)&&(z=h.symbolSize),(isNaN(z)||z>50||0>z)&&(z=8)),n._createTooltip(H,h,v,{css:B,fill:O,stroke:E,fillOpacity:A,symbolSize:z})}}}},_fitTooltip:function(e,t,i,r,s){var a={},n=2+s/2,o=7;if(t.x-i.width-o-n>e.x&&t.y+t.height/2-i.height/2>e.y&&t.y+t.height/2+i.height/2<e.y+e.height&&(a.left={arrowLocation:"right",x:t.x-i.width-o-n,y:t.y+t.height/2-i.height/2,width:i.width+o,height:i.height}),t.x+t.width+i.width+o+n<e.x+e.width&&t.y+t.height/2-i.height/2>e.y&&t.y+t.height/2+i.height/2<e.y+e.height&&(a.right={arrowLocation:"left",x:t.x+t.width+n,y:t.y+t.height/2-i.height/2,width:i.width+o,height:i.height}),t.y-i.height-n-o>e.y&&t.x+t.width/2-i.width/2>e.x&&t.x+t.width/2+i.width/2<e.x+e.width&&(a.top={arrowLocation:"bottom",x:t.x+t.width/2-i.width/2,y:t.y-i.height-n-o,width:i.width,height:i.height+o}),t.y+t.height+i.height+o+n<e.y+e.height&&t.x+t.width/2-i.width/2>e.x&&t.x+t.width/2+i.width/2<e.x+e.width&&(a.bottom={arrowLocation:"top",x:t.x+t.width/2-i.width/2,y:t.y+t.height+n,width:i.width,height:i.height+o}),t.width>t.height||(-1!=r.type.indexOf("stackedcolumn")||-1!=r.type.indexOf("stackedwaterfall"))&&"horizontal"!=r.orientation){if(a.left)return a.left;if(a.right)return a.right}else{if(a.top)return a.top;if(a.bottom)return a.bottom}for(var l in a)if(a[l])return a[l];return{arrowLocation:""}},_createTooltip:function(t,i,r,s){var a=this,n=i.type,o=!1,l=a._ttEl.box;if(!l){o=!0,l=a._ttEl.box=document.createElement("div");var h=1e7;l.style.position="absolute",l.style.cursor="default",e(d).css({"z-index":h,"box-sizing":"content-box"}),e(document.body).append(l);var d=document.createElement("div");d.id="arrowOuterDiv",d.style.width="0px",d.style.height="0px",d.style.position="absolute",e(d).css({"z-index":h+1,"box-sizing":"content-box"});var c=document.createElement("div");c.id="arrowInnerDiv",c.style.width="0px",c.style.height="0px",c.style.position="absolute";var u=document.createElement("div");u.id="contentDiv",u.style.position="absolute",e(u).css({"box-sizing":"content-box"}),e(u).addClass("jqx-rc-all jqx-button"),e(u).appendTo(e(l)),e(d).appendTo(e(l)),e(c).appendTo(e(l)),e(c).css({"z-index":h+2,"box-sizing":"content-box"})}if(!r||0==r.length)return void e(l).fadeTo(0,0);u=e(l).find("#contentDiv")[0],d=e(l).find("#arrowOuterDiv")[0],c=e(l).find("#arrowInnerDiv")[0],c.style.opacity=d.style.opacity=s.fillOpacity,u.style.backgroundColor=s.fill,u.style.borderColor=s.stroke,u.style.opacity=s.fillOpacity;var p="<span class='"+s.css+"'>"+r+"</span>";e(u).html(p);var f=this._measureHtml(p,"jqx-rc-all jqx-button");if(rect=a._plotRect,!(f.width>rect.width||f.height>rect.height)){var m={width:f.width,height:f.height};arrowLocation="";var g=7,v=a._isColumnType(n);if(x=Math.max(t.x,rect.x),y=Math.max(t.y,rect.y),"dataPoint"==a.toolTipAlignment){if(-1!=n.indexOf("pie")||-1!=n.indexOf("donut")){var b=(t.fromAngle+t.toAngle)/2;b*=Math.PI/180;var w=!isNaN(t.innerRadius)&&t.innerRadius>0?(t.innerRadius+t.outerRadius)/2:.75*t.outerRadius;x=t.x=t.center.x+Math.cos(b)*w,y=t.y=t.center.y-Math.sin(b)*w,t.width=t.height=1}else v&&(i.polar||i.spider)&&(t.width=t.height=1);var _=this._fitTooltip(this._plotRect,t,m,i,s.symbolSize);""!=_.arrowLocation&&(arrowLocation=_.arrowLocation,x=_.x,y=_.y,m.width=_.width,m.height=_.height)}else arrowLocation="";"top"==arrowLocation||"bottom"==arrowLocation?(m.height+=g,x-=g/2,"bottom"==arrowLocation&&(y-=g)):"left"!=arrowLocation&&"right"!=arrowLocation||(m.width+=g,y-=g/2,"right"==arrowLocation&&(x-=g)),x+m.width>rect.x+rect.width&&(arrowLocation="",x=rect.x+rect.width-m.width),y+m.height>rect.y+rect.height&&(arrowLocation="",y=rect.y+rect.height-m.height);var j={x:0,y:0};e(u).css({width:f.width,height:f.height,left:0,top:0}),d.style["margin-top"]=d.style["margin-left"]=0,c.style["margin-top"]=c.style["margin-left"]=0,u.style["margin-top"]=u.style["margin-left"]=0;var q=g+"px solid",T=g+"px solid transparent";switch(arrowLocation){case"left":j={x:0,y:(f.height-g)/2},contentPostion={x:g,y:0},u.style["margin-left"]=g+"px",d.style["margin-left"]="0px",d.style["margin-top"]=j.y+"px",d.style["border-left"]="",d.style["border-right"]=q+" "+s.stroke,d.style["border-top"]=T,d.style["border-bottom"]=T,c.style["margin-left"]="1px",c.style["margin-top"]=j.y+"px",c.style["border-left"]="",c.style["border-right"]=q+" "+s.fill,c.style["border-top"]=T,c.style["border-bottom"]=T;break;case"right":j={x:m.width-g,y:(f.height-g)/2},contentPostion={x:0,y:0},d.style["margin-left"]=j.x+"px",d.style["margin-top"]=j.y+"px",d.style["border-left"]=q+" "+s.stroke,d.style["border-right"]="",d.style["border-top"]=T,d.style["border-bottom"]=T,c.style["margin-left"]=j.x-1+"px",c.style["margin-top"]=j.y+"px",c.style["border-left"]=q+" "+s.fill,c.style["border-right"]="",c.style["border-top"]=T,c.style["border-bottom"]=T;break;case"top":j={x:m.width/2-g/2,y:0},contentPostion={x:0,y:g},u.style["margin-top"]=contentPostion.y+"px",d.style["margin-left"]=j.x+"px",d.style["border-top"]="",d.style["border-bottom"]=q+" "+s.stroke,d.style["border-left"]=T,d.style["border-right"]=T,c.style["margin-left"]=j.x+"px",c.style["margin-top"]="1px",c.style["border-top"]="",c.style["border-bottom"]=q+" "+s.fill,c.style["border-left"]=T,c.style["border-right"]=T;break;case"bottom":j={x:m.width/2-g/2,y:m.height-g},contentPostion={x:0,y:0},d.style["margin-left"]=j.x+"px",d.style["margin-top"]=j.y+"px",d.style["border-top"]=q+" "+s.stroke,d.style["border-bottom"]="",d.style["border-left"]=T,d.style["border-right"]=T,c.style["margin-left"]=j.x+"px",c.style["margin-top"]=j.y-1+"px",c.style["border-top"]=q+" "+s.fill,c.style["border-bottom"]="",c.style["border-left"]=T,c.style["border-right"]=T}""==arrowLocation?(e(d).hide(),e(c).hide()):(e(d).show(),e(c).show()),e(l).css({width:m.width+"px",height:m.height+"px"});var S=a.host.coord();o&&(e(l).fadeOut(0,0),l.style.left=x+S.left+"px",l.style.top=y+S.top+"px"),e(l).clearQueue(),e(l).animate({left:x+S.left,top:y+S.top,opacity:1},a.toolTipMoveDuration,"easeInOutCirc"),e(l).fadeTo(400,1)}},_measureHtml:function(t,i){var r=this._measureDiv;r||(this._measureDiv=r=document.createElement("div"),r.style.position="absolute",r.style.cursor="default",r.style.overflow="hidden",r.style.display="none",e(r).addClass(i),this.host.append(r)),e(r).html(t);var s={width:e(r).width()+2,height:e(r).height()+2};return e.jqx.browser&&e.jqx.browser.mozilla&&(s.height+=3),s},_hideToolTip:function(t){this._ttEl&&(this._ttEl.box&&(0==t?e(this._ttEl.box).hide():e(this._ttEl.box).fadeOut()),this._hideCrosshairs(),this._ttEl.gidx=void 0)},_hideCrosshairs:function(){this._ttEl&&(this._ttEl.vLine&&(this.renderer.removeElement(this._ttEl.vLine),this._ttEl.vLine=void 0),this._ttEl.hLine&&(this.renderer.removeElement(this._ttEl.hLine),this._ttEl.hLine=void 0))},_get:function(t){return e.jqx.getByPriority(t)},_getAxisSettings:function(e){if(!e)return{};var t=this,i=e.gridLines||{},r={visible:this._get([i.visible,e.showGridLines,!0]),color:t._get([i.color,e.gridLinesColor,t._defaultLineColor]),unitInterval:t._get([i.unitInterval,i.interval,e.gridLinesInterval]),step:t._get([i.step,e.gridLinesStep]),dashStyle:t._get([i.dashStyle,e.gridLinesDashStyle]),width:t._get([i.lineWidth,1]),offsets:[],alternatingBackgroundColor:e.alternatingBackgroundColor,alternatingBackgroundColor2:e.alternatingBackgroundColor2,alternatingBackgroundOpacity:e.alternatingBackgroundOpacity},s=e.tickMarks||{},a={visible:this._get([s.visible,e.showTickMarks,!0]),color:t._get([s.color,e.tickMarksColor,t._defaultLineColor]),unitInterval:t._get([s.unitInterval,s.interval,e.tickMarksInterval]),step:t._get([s.step,e.tickMarksStep]),dashStyle:t._get([s.dashStyle,e.tickMarksDashStyle]),width:t._get([s.lineWidth,1]),size:t._get([s.size,4]),offsets:[]},n=e.title||{},o={visible:t._get([n.visible,!0]),text:t._get([e.description,n.text]),style:t._get([e.descriptionClass,n["class"],t.toThemeProperty("jqx-chart-axis-description",null)]),halign:t._get([e.horizontalDescriptionAlignment,n.horizontalAlignment,"center"]),valign:t._get([e.verticalDescriptionAlignment,n.verticalAlignment,"center"]),angle:0,rotationPoint:t._get([n.rotationPoint,"centercenter"]),offset:t._get([n.offset,{x:0,y:0}])},l=e.line||{},h={visible:t._get([l.visible,!0]),color:t._get([l.color,r.color,t._defaultLineColor]),dashStyle:t._get([l.dashStyle,r.dashStyle,""]),width:t._get([l.lineWidth,1]),angle:t._get([l.angle,NaN])},d=e.padding||{};d={left:d.left||0,right:d.right||0,top:d.top||0,bottom:d.bottom||0};var c=this._getAxisLabelsSettings(e),u={visible:this._get([e.visible,e.showValueAxis,e.showXAxis,e.showCategoryAxis,!0]),customDraw:this._get([e.customDraw,!1]),gridLines:r,tickMarks:a,line:h,title:o,labels:c,padding:d,toolTipFormatFunction:this._get([e.toolTipFormatFunction,e.formatFunction,c.formatFunction]),toolTipFormatSettings:this._get([e.toolTipFormatSettings,e.formatSettings,c.formatSettings])};return u},_getAxisLabelsSettings:function(e){var t=this,i=e.labels||{},r={visible:t._get([e.showLabels,i.visible,!0]),unitInterval:t._get([i.unitInterval,i.interval,e.labelsInterval]),step:t._get([i.step,e.labelsStep]),angle:t._get([e.textRotationAngle,i.angle,0]),style:t._get([e["class"],i["class"],t.toThemeProperty("jqx-chart-axis-text",null)]),halign:t._get([e.horizontalTextAlignment,i.horizontalAlignment,"center"]),valign:t._get([e.verticalTextAlignment,i.verticalAlignment,"center"]),textRotationPoint:t._get([e.textRotationPoint,i.rotationPoint,"auto"]),textOffset:t._get([e.textOffset,i.offset,{x:0,y:0}]),autoRotate:t._get([e.labelsAutoRotate,i.autoRotate,!1]),formatSettings:t._get([e.formatSettings,i.formatSettings,void 0]),formatFunction:t._get([e.formatFunction,i.formatFunction,void 0])};return r},_getLabelsSettings:function(t,i,r,s){for(var a=this.seriesGroups[t],n=a.series[i],o=isNaN(r)?void 0:this._getDataValue(r,n.dataField,t),l=s||["Visible","Offset","Angle","HorizontalAlignment","VerticalAlignment","Class","BackgroundColor","BorderColor","BorderOpacity","Padding","Opacity","BackgroundOpacity","LinesAngles","LinesEnabled","AutoRotate","Radius"],h={},d=0;d<l.length;d++){var c=l[d],u="labels"+c,p="label"+c,f=c.substring(0,1).toLowerCase()+c.substring(1),m=void 0;a.labels&&"object"==typeof a.labels&&(m=a.labels[f]),n.labels&&"object"==typeof n.labels&&void 0!=n.labels[f]&&(m=n.labels[f]),m=this._get([n[u],n[p],m,a[u],a[p]]),e.isFunction(m)?h[f]=m(o,r,n,a):h[f]=m}h["class"]=h["class"]||this.toThemeProperty("jqx-chart-label-text",null),h.visible=this._get([h.visible,n.showLabels,a.showLabels,void 0!=n.labels?!0:void 0,void 0!=a.labels?!0:void 0]);var g=h.padding||1;return h.padding={left:this._get([g.left,isNaN(g)?1:g]),right:this._get([g.right,isNaN(g)?1:g]),top:this._get([g.top,isNaN(g)?1:g]),bottom:this._get([g.bottom,isNaN(g)?1:g])},h},_showLabel:function(e,t,i,r,s,a,n,o,l,h,d){var c,u=this.seriesGroups[e],p=(u.series[t],{width:0,height:0});if(!isNaN(i)){var f=this._getLabelsSettings(e,t,i);if(!f.visible)return n?p:void 0;if(r.width<0||r.height<0)return n?p:void 0;var m=f.angle;isNaN(h)||(m=h);var g=f.offset||{},v={x:g.x,y:g.y};isNaN(v.x)&&(v.x=0),isNaN(v.y)&&(v.y=0),s=s||f.horizontalAlignment||"center",a=a||f.verticalAlignment||"center";var x=this._getFormattedValue(e,t,i,void 0,void 0,!0),b=r.width,w=r.height;if(1==o&&"center"!=s&&(s="right"==s?"left":"right"),1==l&&"center"!=a&&"middle"!=a&&(a="top"==a?"bottom":"top",v.y*=-1),p=this.renderer.measureText(x,m,{"class":f["class"]}),n)return p;var y=0,_=0;b>0&&(""==s||"center"==s?y+=(b-p.width)/2:"right"==s&&(y+=b-p.width)),w>0&&(""==a||"center"==a?_+=(w-p.height)/2:"bottom"==a&&(_+=w-p.height)),y+=r.x+v.x,_+=r.y+v.y;var j=this._plotRect;y<=j.x&&(y=j.x+2),_<=j.y&&(_=j.y+2);var q={width:Math.max(p.width,1),height:Math.max(p.height,1)};_+q.height>=j.y+j.height&&(_=j.y+j.height-(c?(q.height+c.height)/2:q.height)-2),y+q.width>=j.x+j.width&&(y=j.x+j.width-q.width-2);var T,S=f.backgroundColor,C=f.borderColor,I=f.padding;if(S||C){T=this.renderer.beginGroup();var r=this.renderer.rect(y-I.left,_-I.top,p.width+I.left+I.right,p.height+I.bottom+I.bottom,{fill:S||"transparent","fill-opacity":f.backgroundOpacity||1,stroke:C||"transparent","stroke-opacity":f.borderOpacity,"stroke-width":1})}var k=this.renderer.text(x,y,_,p.width,p.height,m,{"class":f["class"],opacity:f.opacity||1},!1,"center","center");return d&&(d.x=y-I.left,d.y=_-I.top,d.width=p.width+I.left+I.right,d.height=p.height+I.bottom+I.bottom),this._isVML&&(this.renderer.removeElement(k),this.renderer.getContainer()[0].appendChild(k)),T&&this.renderer.endGroup(),T||k}},_getAnimProps:function(e,t){var i=this.seriesGroups[e],r=isNaN(t)?void 0:i.series[t],s=1==this.enableAnimations;i.enableAnimations&&(s=1==i.enableAnimations),r&&r.enableAnimations&&(s=1==r.enableAnimations);var a=this.animationDuration;isNaN(a)&&(a=1e3);var n=i.animationDuration;if(isNaN(n)||(a=n),r){var o=r.animationDuration;isNaN(o)||(a=o)}return a>5e3&&(a=1e3),{enabled:s,duration:a}},_isColorTransition:function(e,t,i,r){if(r-1<i.xoffsets.first)return!1;var s=this._getColors(e,t,r,this._getGroupGradientType(e)),a=this._getColors(e,t,r-1,this._getGroupGradientType(e));return s.fillColor!=a.fillColor},_renderLineSeries:function(t,i){var r=this.seriesGroups[t];if(r.series&&0!=r.series.length){var s=-1!=r.type.indexOf("area"),a=-1!=r.type.indexOf("stacked"),n=a&&-1!=r.type.indexOf("100"),o=-1!=r.type.indexOf("spline"),l=-1!=r.type.indexOf("step"),h=-1!=r.type.indexOf("range"),d=1==r.polar||1==r.spider;if(d&&(l=!1),!l||!o){var c=this._getDataLen(t),u=(i.width/c,"horizontal"==r.orientation),p=1==this._getXAxis(t).flip,f=i;u&&(f={x:i.y,y:i.x,width:i.height,height:i.width});var m=this._calcGroupOffsets(t,f);if(m&&0!=m.xoffsets.length){this._linesRenderInfo||(this._linesRenderInfo={}),this._linesRenderInfo[t]={};for(var g=r.series.length-1;g>=0;g--){var v=this._getSerieSettings(t,g),x={groupIndex:t,rect:f,serieIndex:g,swapXY:u,isArea:s,isSpline:o,isRange:h,isPolar:d,settings:v,segments:[],pointsLength:0},b=this._isSerieVisible(t,g);if(b){var w=r.series[g];if(!w.customDraw){var y,_=e.isFunction(w.colorFunction),j=m.xoffsets.first,q=j,T=this._getColors(t,g,NaN,this._getGroupGradientType(t));do{var S=[],C=[],I=[],k=0,D=0,M=NaN,P=NaN,N=NaN;if(!(m.xoffsets.length<1)){var B=this._getAnimProps(t,g),O=B.enabled&&!this._isToggleRefresh&&m.xoffsets.length<1e4&&1!=this._isVML?B.duration:0,E=j;y=!1;for(var A=(this._getColors(t,g,j,this._getGroupGradientType(t)),void 0),H=j;H<=m.xoffsets.last;H++){j=H;var z=m.xoffsets.data[H],L=m.xoffsets.xvalues[H];if(!(isNaN(z)||(z=Math.max(z,1),k=z,D=m.offsets[g][H].to,!_&&A&&this.enableSampling&&e.jqx._ptdist(A.x,A.y,k,D)<1))){A={x:k,y:D};var F=m.offsets[g][H].from;if(isNaN(D)||isNaN(F)){if("connect"==w.emptyPointsDisplay)continue;if("zero"!=w.emptyPointsDisplay){y=!0;break}isNaN(D)&&(D=m.baseOffset),isNaN(F)&&(F=m.baseOffset)}if(_&&this._isColorTransition(t,g,m,j)&&S.length>1){j--;break}var R=this._elementRenderInfo;if(R&&R.length>t&&R[t].series.length>g){var V=R[t].series[g][L],N=e.jqx._ptrnd(V?V.to:void 0),W=e.jqx._ptrnd(f.x+(V?V.xoffset:void 0));I.push(u?{y:W,x:N,index:H}:{x:W,y:N,index:H})}q=H,v.stroke<2&&(D-f.y<=1&&(D=f.y+1),F-f.y<=1&&(F=f.y+1),f.y+f.height-D<=1&&(D=f.y+f.height-1),f.y+f.height-F<=1&&(F=f.y+f.height-1)),!s&&n&&(D<=f.y&&(D=f.y+1),D>=f.y+f.height&&(D=f.y+f.height-1),F<=f.y&&(F=f.y+1),F>=f.y+f.height&&(F=f.y+f.height-1)),z=Math.max(z,1),k=z+f.x,1==r.skipOverlappingPoints&&!isNaN(M)&&Math.abs(M-k)<=1||(!l||isNaN(M)||isNaN(P)||P!=D&&S.push(u?{y:k,x:e.jqx._ptrnd(P)}:{x:k,y:e.jqx._ptrnd(P)}),S.push(u?{y:k,x:e.jqx._ptrnd(D),index:H}:{x:k,y:e.jqx._ptrnd(D),index:H}),C.push(u?{y:k,x:e.jqx._ptrnd(F),index:H}:{x:k,y:e.jqx._ptrnd(F),index:H}),M=k,P=D,isNaN(N)&&(N=D))}}if(0!=S.length){var G=S[S.length-1].index;_&&(T=this._getColors(t,g,G,this._getGroupGradientType(t)));var U=f.x+m.xoffsets.data[E],Y=f.x+m.xoffsets.data[q];if(s&&1==r.alignEndPointsWithIntervals){if(U>f.x&&(U=f.x),Y<f.x+f.width&&(Y=f.x+f.width),p){var X=U;U=Y,Y=X}}Y=e.jqx._ptrnd(Y),U=e.jqx._ptrnd(U);var K=m.baseOffset;N=e.jqx._ptrnd(N);var $=e.jqx._ptrnd(D)||K;h&&(S=S.concat(C.reverse())),x.pointsLength+=S.length;var J={lastItemIndex:G,colorSettings:T,pointsArray:S,pointsStart:I,left:U,right:Y,pyStart:N,pyEnd:$,yBase:K,labelElements:[],symbolElements:[]};x.segments.push(J)}else j++}}while(j<m.xoffsets.length-1||y);this._linesRenderInfo[t][g]=x}}else this._linesRenderInfo[t][g]=x}var Q=this._linesRenderInfo[t],Z=[];for(var H in Q)Z.push(Q[H]);Z=Z.sort(function(e,t){return e.serieIndex-t.serieIndex}),s&&a&&Z.reverse();for(var H=0;H<Z.length;H++){var x=Z[H];this._animateLine(x,0==O?1:0);var ee=this;this._enqueueAnimation("series",void 0,void 0,O,function(e,t,i){ee._animateLine(t,i)},x)}}}}},_animateLine:function(e,t){var i=e.settings,r=e.groupIndex,s=e.serieIndex,a=this.seriesGroups[r],n=a.series[s],o=this._getSymbol(r,s),l=this._getLabelsSettings(r,s,NaN,["Visible"]).visible,h=!0;e.isPolar&&(isNaN(a.endAngle)||360==Math.round(Math.abs((isNaN(a.startAngle)?0:a.startAngle)-a.endAngle))||(h=!1));for(var d=0,c=0;c<e.segments.length;c++){var u=e.segments[c],p=this._calculateLine(r,e.pointsLength,d,u.pointsArray,u.pointsStart,u.yBase,t,e.isArea,e.swapXY);if(d+=u.pointsArray.length,""!=p){var f=p.split(" "),m=(f.length,p);m=""!=m?this._buildLineCmd(p,e.isRange,u.left,u.right,u.pyStart,u.pyEnd,u.yBase,e.isArea,e.isPolar,h,e.isSpline,e.swapXY):"M 0 0";var g=u.colorSettings;if(u.pathElement?this.renderer.attr(u.pathElement,{d:m}):(u.pathElement=this.renderer.path(m,{"stroke-width":i.stroke,stroke:g.lineColor,"stroke-opacity":i.opacity,"fill-opacity":i.opacity,"stroke-dasharray":i.dashStyle,fill:e.isArea?g.fillColor:"none"}),this._installHandlers(u.pathElement,"path",r,s,u.lastItemIndex)),u.labelElements){for(var v=0;v<u.labelElements.length;v++)this.renderer.removeElement(u.labelElements[v]);u.labelElements=[]}if(u.symbolElements){for(var v=0;v<u.symbolElements.length;v++)this.renderer.removeElement(u.symbolElements[v]);u.symbolElements=[]}if(u.pointsArray.length==f.length&&("none"!=o||l))for(var x=n.symbolSize,b=this._plotRect,v=0;v<f.length;v++){var w=f[v].split(",");if(w={x:parseFloat(w[0]),y:parseFloat(w[1])},!(w.x<b.x||w.x>b.x+b.width||w.y<b.y||w.y>b.y+b.height)){if("none"!=o){var y=this._getColors(r,s,u.pointsArray[v].index,this._getGroupGradientType(r)),_=this._drawSymbol(o,w.x,w.y,y.fillColorSymbol,i.opacity,y.lineColorSymbol,i.opacity,i.strokeSymbol,void 0,x);u.symbolElements.push(_)}if(l){var j=(v>0?f[v-1]:f[v]).split(",");j={x:parseFloat(j[0]),y:parseFloat(j[1])};var q=(v<f.length-1?f[v+1]:f[v]).split(",");if(q={x:parseFloat(q[0]),y:parseFloat(q[1])},w=this._adjustLineLabelPosition(r,s,u.pointsArray[v].index,w,j,q)){var T=this._showLabel(r,s,u.pointsArray[v].index,{x:w.x,y:w.y,width:0,height:0});u.labelElements.push(T)}}}}if(1==t&&"none"!=o)for(var v=0;v<u.symbolElements.length;v++)isNaN(u.pointsArray[v].index)||this._installHandlers(u.symbolElements[v],"symbol",r,s,u.pointsArray[v].index)}}},_adjustLineLabelPosition:function(e,t,i,r,s,a){var n=this._showLabel(e,t,i,{width:0,height:0},"","",!0);if(n){var o={x:r.x-n.width/2,y:0};return o.y=r.y-1.5*n.height,o}},_calculateLine:function(t,i,r,s,a,n,o,l,h){var d,c=this.seriesGroups[t];1!=c.polar&&1!=c.spider||(d=this._getPolarAxisCoords(t,this._plotRect));var u="",p=s.length;if(!l&&0==a.length){var f=i*o;p=f-r}for(var m=NaN,g=0;p+1>g&&g<s.length;g++){g>0&&(u+=" ");var v=s[g].y,x=s[g].x,b=l?n:v,w=x;if(a&&a.length>g&&(b=a[g].y,w=a[g].x,(isNaN(b)||isNaN(w))&&(b=v,w=x)),m=w,p<=s.length&&g>0&&g==p&&(w=s[g-1].x,b=s[g-1].y),h?(x=e.jqx._ptrnd((x-b)*(l?o:1)+b),v=e.jqx._ptrnd(v)):(x=e.jqx._ptrnd((x-w)*o+w),v=e.jqx._ptrnd((v-b)*o+b)),d){var y=this._toPolarCoord(d,this._plotRect,x,v);x=y.x,v=y.y}u+=x+","+v}return u},_buildLineCmd:function(e,t,i,r,s,a,n,o,l,h,d,c){var u=e,p=c?n+","+i:i+","+n,f=c?n+","+r:r+","+n;!o||l||t||(u=p+" "+e+" "+f),d&&(u=this._getBezierPoints(u));var m=u.split(" ");if(0==m.length)return"";if(1==m.length){var g=m[0].split(",");return"M "+m[0]+" L"+(parseFloat(g[0])+1)+","+(parseFloat(g[1])+1)}var v=m[0].replace("M","");return o&&!l?u=t?"M "+v+" L "+v+(d?"":" L "+v+" ")+u:"M "+p+" L "+v+" "+u:d||(u="M "+v+" L "+v+" "+u),(l&&h||t)&&(u+=" Z"),u},_getSerieSettings:function(e,t){var i=this.seriesGroups[e],r=-1!=i.type.indexOf("area"),s=-1!=i.type.indexOf("line"),a=i.series[t],n=a.dashStyle||i.dashStyle||"",o=a.opacity||i.opacity;(isNaN(o)||0>o||o>1)&&(o=1);var l=a.lineWidth;isNaN(l)&&"auto"!=l&&(l=i.lineWidth),("auto"==l||isNaN(l)||0>l||l>15)&&(l=r?2:s?3:1);var h=a.lineWidthSymbol;return isNaN(h)&&(h=1),{stroke:l,strokeSymbol:h,opacity:o,dashStyle:n}},_getColors:function(t,i,r,s,a){var n=this.seriesGroups[t],o=n.series[i],l=this._get([o.useGradientColors,n.useGradientColors,n.useGradient,!0]),h=this._getSeriesColors(t,i,r);h.fillColor||(h.fillColor=b,h.fillColorSelected=e.jqx.adjustColor(b,1.1),h.fillColorAlt=e.jqx.adjustColor(b,4),h.fillColorAltSelected=e.jqx.adjustColor(b,3),h.lineColor=h.symbolColor=e.jqx.adjustColor(b,.9),h.lineColorSelected=h.symbolColorSelected=e.jqx.adjustColor(b,.9));var d=[[0,1.4],[100,1]],c=[[0,1],[25,1.1],[50,1.4],[100,1]],u=[[0,1.3],[90,1.2],[100,1]],p=NaN;if(isNaN(a)||(p=2==a?d:c),l){var f={};
for(var m in h)f[m]=h[m];if(h=f,"verticalLinearGradient"==s||"horizontalLinearGradient"==s){var g="verticalLinearGradient"==s?p||d:p||c,v=["fillColor","fillColorSelected","fillColorAlt","fillColorAltSelected"];for(var x in v){var b=h[v[x]];b&&(h[v[x]]=this.renderer._toLinearGradient(b,"verticalLinearGradient"==s,g))}}else if("radialGradient"==s){var w,p=d;("pie"==n.type||"donut"==n.type||n.polar)&&void 0!=r&&this._renderData[t]&&this._renderData[t].offsets[i]&&(w=this._renderData[t].offsets[i][r],p=u),h.fillColor=this.renderer._toRadialGradient(h.fillColor,p,w),h.fillColorSelected=this.renderer._toRadialGradient(h.fillColorSelected,p,w)}}return h},_installHandlers:function(e,t,i,r,s){if(!this.enableEvents)return!1;var a=this,n=this.seriesGroups[i],o=this.seriesGroups[i].series[r],l=-1!=n.type.indexOf("line")||-1!=n.type.indexOf("area");l||0==n.enableSelection||0==o.enableSelection||(this.renderer.addHandler(e,"mousemove",function(e){var t=a._selected;if(!t||!t.isLineType||"click"!=t.linesUnselectMode||t.group==i&&t.series==r){var n=e.pageX||e.clientX||e.screenX,o=e.pageY||e.clientY||e.screenY,l=a.host.offset();n-=l.left,o-=l.top,a._mouseX==n&&a._mouseY==o||a._ttEl&&a._ttEl.gidx==i&&a._ttEl.sidx==r&&a._ttEl.iidx==s||a._startTooltipTimer(i,r,s)}}),this.renderer.addHandler(e,"mouseout",function(e){return})),0!=n.enableSelection&&0!=o.enableSelection&&this.renderer.addHandler(e,"mouseover",function(n){var o=a._selected;o&&o.isLineType&&"click"==o.linesUnselectMode&&(o.group!=i||o.series!=r)||a._select(e,t,i,r,s,s)}),this.renderer.addHandler(e,"click",function(e){clearTimeout(a._hostClickTimer),a._lastClickTs=(new Date).valueOf(),l&&"symbol"!=t&&"pointMarker"!=t||(a._isColumnType(n.type)&&a._unselect(),isNaN(s)||(e.stopImmediatePropagation(),a._raiseItemEvent("click",n,o,s)))})},_getHorizontalOffset:function(t,i,r,s){var a=this._plotRect,n=this._getDataLen(t);if(0==n)return{index:void 0,value:r};var o=this._calcGroupOffsets(t,this._plotRect);if(0==o.xoffsets.length)return{index:void 0,value:void 0};var l,h=r,d=s,c=this.seriesGroups[t];(c.polar||c.spider)&&(l=this._getPolarAxisCoords(t,a));for(var u,p,f,m,g=(1==this._getXAxis(t).flip,o.xoffsets.first);g<=o.xoffsets.last;g++){var v=o.xoffsets.data[g],x=o.offsets[i][g].to,b=0;if(l){var w=this._toPolarCoord(l,a,v+a.x,x);v=w.x,x=w.y,b=e.jqx._ptdist(h,d,v,x)}else if("horizontal"==c.orientation){v+=a.y;var y=x;x=v,v=y,b=e.jqx._ptdist(h,d,v,x)}else v+=a.x,b=Math.abs(h-v);(isNaN(u)||u>b)&&(u=b,p=g,f=v,m=x)}return{index:p,value:o.xoffsets.data[p],polarAxisCoords:l,x:f,y:m}},onmousemove:function(t,i){if((this._mouseX!=t||this._mouseY!=i)&&(this._mouseX=t,this._mouseY=i,this._selected)){var r=this._selected.group,s=this._selected.series,a=this.seriesGroups[r],n=a.series[s],o=this._plotRect;if(this.renderer&&(o=this.renderer.getRect(),o.x+=5,o.y+=5,o.width-=10,o.height-=10),t<o.x||t>o.x+o.width||i<o.y||i>o.y+o.height)return this._hideToolTip(),void this._unselect();var l="horizontal"==a.orientation,o=this._plotRect;if(-1!=a.type.indexOf("line")||-1!=a.type.indexOf("area")){var h=this._getHorizontalOffset(r,this._selected.series,t,i),d=h.index;if(void 0==d)return;if(this._selected.item!=d){for(var c=this._linesRenderInfo[r][s].segments,u=0;d>c[u].lastItemIndex;)if(u++,u>=c.length)return;var p=c[u].pathElement,f=c[u].lastItemIndex;this._unselect(!1),this._select(p,"path",r,s,d,f)}var m=this._getSymbol(this._selected.group,this._selected.series);"none"==m&&(m="circle");var g=this._calcGroupOffsets(r,o),v=g.offsets[this._selected.series][d].to,x=v;-1!=a.type.indexOf("range")&&(x=g.offsets[this._selected.series][d].from);var b=l?t:i;if(i=!isNaN(x)&&Math.abs(b-x)<Math.abs(b-v)?x:v,isNaN(i))return;if(t=h.value,l){var w=t;t=i,i=w+o.y}else t+=o.x;if(h.polarAxisCoords&&(t=h.x,i=h.y),i=e.jqx._ptrnd(i),t=e.jqx._ptrnd(t),this._pointMarker&&this._pointMarker.element&&(this.renderer.removeElement(this._pointMarker.element),this._pointMarker.element=void 0),isNaN(t)||isNaN(i))return;var y=this._getSeriesColors(r,s,d),_=this._getSerieSettings(r,s),j=n.symbolSizeSelected;isNaN(j)&&(j=n.symbolSize),(isNaN(j)||j>50||0>j)&&(j=a.symbolSize),(isNaN(j)||j>50||0>j)&&(j=8),(this.showToolTips||this.enableCrosshairs)&&(this._pointMarker={type:m,x:t,y:i,gidx:r,sidx:s,iidx:d},this._pointMarker.element=this._drawSymbol(m,t,i,y.fillColorSymbolSelected,_.opacity,y.lineColorSymbolSelected,_.opacity,_.strokeSymbol,_.dashStyle,j),this._installHandlers(this._pointMarker.element,"pointMarker",r,s,d)),this._startTooltipTimer(r,this._selected.series,d)}}},_drawSymbol:function(e,t,i,r,s,a,n,o,l,h){var d,c=h||6,u=c/2;switch(e){case"none":return;case"circle":d=this.renderer.circle(t,i,c/2);break;case"square":c-=1,u=c/2,d=this.renderer.rect(t-u,i-u,c,c);break;case"diamond":var p="M "+(t-u)+","+i+" L"+t+","+(i-u)+" L"+(t+u)+","+i+" L"+t+","+(i+u)+" Z";d=this.renderer.path(p);break;case"triangle_up":case"triangle":var p="M "+(t-u)+","+(i+u)+" L "+(t+u)+","+(i+u)+" L "+t+","+(i-u)+" Z";d=this.renderer.path(p);break;case"triangle_down":var p="M "+(t-u)+","+(i-u)+" L "+t+","+(i+u)+" L "+(t+u)+","+(i-u)+" Z";d=this.renderer.path(p);break;case"triangle_left":var p="M "+(t-u)+","+i+" L "+(t+u)+","+(i+u)+" L "+(t+u)+","+(i-u)+" Z";d=this.renderer.path(p);break;case"triangle_right":var p="M "+(t-u)+","+(i-u)+" L "+(t-u)+","+(i+u)+" L "+(t+u)+","+i+" Z";d=this.renderer.path(p);break;default:d=this.renderer.circle(t,i,c)}return this.renderer.attr(d,{fill:r,"fill-opacity":s,stroke:a,"stroke-width":o,"stroke-opacity":n,"stroke-dasharray":l||""}),"circle"!=e&&(this.renderer.attr(d,{r:c/2}),"square"!=e&&this.renderer.attr(d,{x:t,y:i})),d},_getSymbol:function(e,t){var i,r=["circle","square","diamond","triangle_up","triangle_down","triangle_left","triangle_right"],s=this.seriesGroups[e],a=s.series[t];return void 0!=a.symbolType&&(i=a.symbolType),void 0==i&&(i=s.symbolType),"default"==i?r[t%r.length]:void 0!=i?i:"none"},_startTooltipTimer:function(e,t,i,r,s,a,n){this._cancelTooltipTimer();var o=this,l=(o.seriesGroups[e],this.toolTipShowDelay||this.toolTipDelay);(isNaN(l)||l>1e4||0>l)&&(l=500),(this._ttEl||1==this.enableCrosshairs&&0==this.showToolTips)&&(l=0),isNaN(a)||(l=a),clearTimeout(this._tttimerHide),isNaN(r)&&(r=o._mouseX),isNaN(s)&&(s=o._mouseY-3),0==l&&o._showToolTip(r,s,e,t,i),this._tttimer=setTimeout(function(){0!=l&&o._showToolTip(r,s,e,t,i);var a=o.toolTipHideDelay;isNaN(n)||(a=n),isNaN(a)&&(a=4e3),o._tttimerHide=setTimeout(function(){o._hideToolTip(),o._unselect()},a)},l)},_cancelTooltipTimer:function(){clearTimeout(this._tttimer)},_getGroupGradientType:function(e){var t=this.seriesGroups[e];return-1!=t.type.indexOf("area")?"horizontal"==t.orientation?"horizontalLinearGradient":"verticalLinearGradient":this._isColumnType(t.type)||-1!=t.type.indexOf("candle")?t.polar?"radialGradient":"horizontal"==t.orientation?"verticalLinearGradient":"horizontalLinearGradient":-1!=t.type.indexOf("scatter")||-1!=t.type.indexOf("bubble")||this._isPieGroup(e)?"radialGradient":void 0},_select:function(e,t,i,r,s,a){if(this._selected){if(this._selected.item==s&&this._selected.series==r&&this._selected.group==i)return;this._unselect()}var n=this.seriesGroups[i],o=n.series[r];if(0!=n.enableSelection&&0!=o.enableSelection){var l=-1!=n.type.indexOf("line")&&-1==n.type.indexOf("area");this._selected={element:e,type:t,group:i,series:r,item:s,iidxBase:a,isLineType:l,linesUnselectMode:o.linesUnselectMode||n.linesUnselectMode};var h=this._getColors(i,r,a||s,this._getGroupGradientType(i)),d=h.fillColorSelected;l&&(d="none");var c=this._getSerieSettings(i,r),u="symbol"==t?h.lineColorSymbolSelected:h.lineColorSelected;d="symbol"==t?h.fillColorSymbolSelected:d;var p="symbol"==t?1:c.stroke;this.renderer.getAttr(e,"fill")==h.fillColorAlt&&(d=h.fillColorAltSelected),this.renderer.attr(e,{stroke:u,fill:d,"stroke-width":p}),-1==n.type.indexOf("pie")&&-1==n.type.indexOf("donut")||this._applyPieSelect(),this._raiseItemEvent("mouseover",n,o,s)}},_applyPieSelect:function(){var e=this;e._createAnimationGroup("animPieSlice");var t=this._selected;if(t){var i=this.getItemCoord(t.group,t.series,t.item);if(i){var r=this._getRenderInfo(t.group,t.series,t.item),s={element:r,coord:i};this._enqueueAnimation("animPieSlice",void 0,void 0,300,function(i,r,s){var a=r.coord,n=a.selectedRadiusChange*s,o=e.renderer.pieSlicePath(a.center.x,a.center.y,0==a.innerRadius?0:a.innerRadius+n,a.outerRadius+n,a.fromAngle,a.toAngle,a.centerOffset);e.renderer.attr(r.element.element,{d:o}),e._showPieLabel(t.group,t.series,t.item,void 0,n)},s),e._startAnimation("animPieSlice")}}},_applyPieUnselect:function(){this._stopAnimations();var e=this._selected;if(e){var t=this.getItemCoord(e.group,e.series,e.item);if(t&&t.center){var i=this.renderer.pieSlicePath(t.center.x,t.center.y,t.innerRadius,t.outerRadius,t.fromAngle,t.toAngle,t.centerOffset);this.renderer.attr(e.element,{d:i}),this._showPieLabel(e.group,e.series,e.item,void 0,0)}}},_unselect:function(){var e=this;if(e._selected){var t=e._selected.group,i=e._selected.series,r=e._selected.item,s=e._selected.iidxBase,a=e._selected.type,n=e.seriesGroups[t],o=n.series[i],l=-1!=n.type.indexOf("line")&&-1==n.type.indexOf("area"),h=e._getColors(t,i,s||r,e._getGroupGradientType(t)),d=h.fillColor;l&&(d="none");var c=e._getSerieSettings(t,i),u="symbol"==a?h.lineColorSymbol:h.lineColor;d="symbol"==a?h.fillColorSymbol:d,this.renderer.getAttr(e._selected.element,"fill")==h.fillColorAltSelected&&(d=h.fillColorAlt);var p="symbol"==a?1:c.stroke;e.renderer.attr(e._selected.element,{stroke:u,fill:d,"stroke-width":p}),-1==n.type.indexOf("pie")&&-1==n.type.indexOf("donut")||this._applyPieUnselect(),e._selected=void 0,isNaN(r)||e._raiseItemEvent("mouseout",n,o,r)}e._pointMarker&&(e._pointMarker.element&&(e.renderer.removeElement(e._pointMarker.element),e._pointMarker.element=void 0),e._pointMarker=void 0,e._hideCrosshairs())},_raiseItemEvent:function(t,i,r,s){for(var a=r[t]||i[t],n=0;n<this.seriesGroups.length&&this.seriesGroups[n]!=i;n++);if(n!=this.seriesGroups.length){var o={event:t,seriesGroup:i,serie:r,elementIndex:s,elementValue:this._getDataValue(s,r.dataField,n)};a&&e.isFunction(a)&&a(o),this._raiseEvent(t,o)}},_raiseEvent:function(t,i){var r=new e.Event(t);r.owner=this,i.event=t,r.args=i;var s=this.host.trigger(r);return s},_calcInterval:function(e,t,i){var r=Math.abs(t-e),s=r/i,a=[1,2,3,4,5,10,15,20,25,50,100],n=[.5,.25,.125,.1],o=.1,l=a;1>s&&(l=n,o=10);var h=0;do{h=0,s>=1?o*=10:o/=10;for(var d=1;d<l.length&&Math.abs(l[h]*o-s)>Math.abs(l[d]*o-s);d++)h=d}while(h==l.length-1);return l[h]*o},_renderDataClone:function(){if(this._renderData&&!this._isToggleRefresh){var e=this._elementRenderInfo=[];if(!this._isSelectorRefresh)for(var t=0;t<this._renderData.length;t++){for(this._getXAxis(t).dataField;e.length<=t;)e.push({});var i=e[t],r=this._renderData[t];if(r.offsets){if(r.valueAxis){i.valueAxis={itemOffsets:{}};for(var s in r.valueAxis.itemOffsets)i.valueAxis.itemOffsets[s]=r.valueAxis.itemOffsets[s]}if(r.xAxis){i.xAxis={itemOffsets:{}};for(var s in r.xAxis.itemOffsets)i.xAxis.itemOffsets[s]=r.xAxis.itemOffsets[s]}i.series=[];for(var a=i.series,n=this._isPieGroup(t),o=0;o<r.offsets.length;o++){a.push({});for(var l=0;l<r.offsets[o].length;l++)if(n){var h=r.offsets[o][l];a[o][h.displayValue]={value:h.value,x:h.x,y:h.y,fromAngle:h.fromAngle,toAngle:h.toAngle}}else a[o][r.xoffsets.xvalues[l]]={value:r.offsets[o][l].value,valueRadius:r.offsets[o][l].valueRadius,xoffset:r.xoffsets.data[l],from:r.offsets[o][l].from,to:r.offsets[o][l].to}}}}}},getPolarDataPointOffset:function(e,t,i){var r=this._renderData[i];if(!r)return{x:NaN,y:NaN};var s=this.getValueAxisDataPointOffset(t,i),a=this.getXAxisDataPointOffset(e,i),n=this._toPolarCoord(r.polarCoords,r.xAxis.rect,a,s);return{x:n.x,y:n.y}},_getDataPointOffsetDiff:function(e,t,i,r,s,a,n){var o=this._getDataPointOffset(e,i,r,s,a,n),l=this._getDataPointOffset(t,i,r,s,a,n);return Math.abs(o-l)},_getXAxisRenderData:function(e){if(!(e>=this._renderData.length)){var t=this.seriesGroups[e],i=this._renderData[e].xAxis;if(i){if(void 0==t.xAxis){for(var r=0;e>=r&&void 0!=this.seriesGroups[r].xAxis;r++);i=this._renderData[r].xAxis}return i}}},getXAxisDataPointOffset:function(e,t){var i=this.seriesGroups[t];if(isNaN(e))return NaN;if(renderData=this._getXAxisRenderData(t),!renderData)return NaN;var r=renderData.data.axisStats,s=r.min.valueOf(),a=r.max.valueOf(),n=a-s;if(0==n&&(n=1),e.valueOf()>a||e.valueOf()<s)return NaN;var o=this._getXAxis(t),l="horizontal"==i.orientation?"height":"width",h="horizontal"==i.orientation?"y":"x",d=(e.valueOf()-s)/n,c=renderData.rect[l]-renderData.data.padding.left-renderData.data.padding.right;if(i.polar||i.spider){var u=this._renderData[t].polarCoords;u.isClosedCircle&&(c=renderData.data.axisSize)}return this._plotRect[h]+renderData.data.padding.left+c*(o.flip?1-d:d)},getValueAxisDataPointOffset:function(e,t){var i=this._getValueAxis(t);if(!i)return NaN;var r=this._renderData[t];if(!r)return NaN;var s=1==i.flip,a=r.logBase,n=r.scale,o=r.gbase,l=r.baseOffset;return this._getDataPointOffset(e,o,a,n,l,s)},_getDataPointOffset:function(t,i,r,s,a,n){var o;return isNaN(t)&&(t=i),o=isNaN(r)?(t-i)*s:(e.jqx.log(t,r)-e.jqx.log(i,r))*s,this._isVML&&(o=Math.round(o)),o=n?a+o:a-o},_calcGroupOffsets:function(t,i){for(var r=this.seriesGroups[t];this._renderData.length<t+1;)this._renderData.push({});if(null!=this._renderData[t]&&void 0!=this._renderData[t].offsets)return this._renderData[t];if(this._isPieGroup(t))return this._calcPieSeriesGroupOffsets(t,i);var s=this._getValueAxis(t);if(!s||!r.series||0==r.series.length)return this._renderData[t];var a=1==s.flip,n=1==s.logarithmicScale,o=s.logarithmicScaleBase||10,l=[],h=-1!=r.type.indexOf("stacked"),d=h&&-1!=r.type.indexOf("100"),c=-1!=r.type.indexOf("range"),u=this._isColumnType(r.type),p=-1!=r.type.indexOf("waterfall"),f=this._getDataLen(t),m=r.baselineValue||s.baselineValue||0;d&&(m=0);var g=this._stats.seriesGroups[t];if(g&&g.isValid){var v=g.hasStackValueReversal;if(v&&(m=0),p&&h){if(v)return;m=g.base}m>g.max&&(m=g.max),m<g.min&&(m=g.min);var x=d||n?g.maxRange:g.max-g.min,b=g.min,w=g.max,y=i.height/(n?g.intervals:x),_=0;d?0>b*w?(x/=2,_=-(x+m)*y):_=-m*y:_=-(m-b)*y,a?_=i.y-_:_+=i.y+i.height;var j,q,T=[],S=[],C=[];n&&(j=e.jqx.log(w,o)-e.jqx.log(m,o),h&&(j=g.intervals,m=d?0:b),q=g.intervals-j,a||(_=i.y+j/g.intervals*i.height)),_=e.jqx._ptrnd(_);var I=0>b*w?i.height/2:i.height,k=[],D=[],M=h&&(u||n),P=[];l=new Array(r.series.length);for(var N=0;N<r.series.length;N++)l[N]=new Array(f);for(var B=0;f>B;B++){!p&&h&&(D=[]);for(var N=0;N<r.series.length;N++){!h&&n&&(k=[]);var O=r.series[N],E=O.dataField,A=O.dataFieldFrom,H=O.dataFieldTo,z=O.radiusDataField||O.sizeDataField;l[N][B]={};var L=this._isSerieVisible(t,N);if(-1==r.type.indexOf("candle")&&-1==r.type.indexOf("ohlc")){if(h)for(;D.length<=B;)D.push(0);var F=NaN;c&&(F=this._getDataValueAsNumber(B,A,t),isNaN(F)&&(F=m));var R=NaN;R=c?this._getDataValueAsNumber(B,H,t):this._getDataValueAsNumber(B,E,t);var V=this._getDataValueAsNumber(B,z,t);if(h&&(D[B]+=L?R:0),L||(R=NaN),isNaN(R)||n&&0>=R)l[N][B]={from:void 0,to:void 0};else{var W;h&&(M?W=R>=m?T:S:R=D[B]);var G=y*(R-m);if(c&&(G=y*(R-F)),h&&M&&(P[B]?G=y*R:(P[B]=!0,G=y*(R-m))),n){for(;k.length<=B;)k.push({p:{value:0,height:0},n:{value:0,height:0}});var U=c||c?F:m,Y=R>U?k[B].p:k[B].n;Y.value+=R,d?(R=Y.value/(g.psums[B]+g.nsums[B])*100,G=(e.jqx.log(R,o)-g.minPow)*y):(G=e.jqx.log(Y.value,o)-e.jqx.log(U,o),G*=y),G-=Y.height,Y.height+=G}var X=_;if(c){var K=0;K=n?(e.jqx.log(F,o)-e.jqx.log(m,o))*y:(F-m)*y,X+=a?K:-K}if(h){if(d&&!n){var $=g.psums[B]-g.nsums[B];R>m?(G=g.psums[B]/$*I,0!=g.psums[B]&&(G*=R/g.psums[B])):(G=g.nsums[B]/$*I,0!=g.nsums[B]&&(G*=R/g.nsums[B]))}M&&(isNaN(W[B])&&(W[B]=X),X=W[B])}isNaN(C[B])&&(C[B]=0);var J=C[B];G=Math.abs(G);var Q=G;if(G>=1&&(h_new=this._isVML?Math.round(G):e.jqx._ptrnd(G)-1,G=Math.abs(G-h_new)>.5?Math.round(G):h_new),J+=G-Q,h||(J=0),Math.abs(J)>.5&&(J>0?(G-=1,J-=1):(G+=1,J+=1)),C[B]=J,N==r.series.length-1&&d){for(var Z=0,ee=0;N>ee;ee++)Z+=Math.abs(l[ee][B].to-l[ee][B].from);if(Z+=G,I>Z)if(G>.5)G=e.jqx._ptrnd(G+I-Z);else for(var ee=N-1;ee>=0;){var te=Math.abs(l[ee][B].to-l[ee][B].from);if(te>1){l[ee][B].from>l[ee][B].to&&(l[ee][B].from+=I-Z);break}ee--}}a&&(G*=-1);var ie=m>R;c&&(ie=F>R);var re=isNaN(F)?R:{from:F,to:R};ie?(M&&(W[B]+=G),l[N][B]={from:X,to:X+G,value:re,valueRadius:V}):(M&&(W[B]-=G),l[N][B]={from:X,to:X-G,value:re,valueRadius:V})}}else{var se=["Open","Close","High","Low"];for(var ae in se){var ne="dataField"+se[ae];O[ne]&&(l[N][B][se[ae]]=this._getDataPointOffset(this._getDataValueAsNumber(B,O[ne],t),m,n?o:NaN,y,_,a))}}}}var oe=this._renderData[t];return oe.baseOffset=_,oe.gbase=m,oe.logBase=n?o:NaN,oe.scale=y,oe.offsets=p?this._applyWaterfall(l,f,t,_,m,n?o:NaN,y,a,h):l,oe.xoffsets=this._calculateXOffsets(t,i.width),this._renderData[t]}},_isPercent:function(e){return"string"==typeof e&&e.length>0&&e.indexOf("%")==e.length-1},_calcPieSeriesGroupOffsets:function(t,i){for(var r=this,s=this._getDataLen(t),a=this.seriesGroups[t],n=this._renderData[t]={},o=n.offsets=[],l=0;l<a.series.length;l++){var h=a.series[l],d=this._get([h.minAngle,h.startAngle]);(isNaN(d)||0>d||d>360)&&(d=0);var c=this._get([h.maxAngle,h.endAngle]);(isNaN(c)||0>c||c>360)&&(c=360);var u=c-d,p=h.initialAngle||0;d>p&&(p=d),p>c&&(p=c);var f=h.centerOffset||0,m=e.jqx.getNum([h.offsetX,a.offsetX,i.width/2]),g=e.jqx.getNum([h.offsetY,a.offsetY,i.height/2]),v=Math.min(i.width,i.height)/2,x=p,b=h.radius;r._isPercent(b)&&(b=parseFloat(b)/100*v),isNaN(b)&&(b=.4*v);var w=h.innerRadius;r._isPercent(w)&&(w=parseFloat(w)/100*v),(isNaN(w)||w>=b)&&(w=0);var y=h.selectedRadiusChange;r._isPercent(y)&&(y=parseFloat(y)/100*(b-w)),isNaN(y)&&(y=.1*(b-w)),o.push([]);for(var _=0,j=0,q=0;s>q;q++){var T=this._getDataValueAsNumber(q,h.dataField,t);isNaN(T)||(this._isSerieVisible(t,l,q)||1==h.hiddenPointsDisplay)&&(T>0?_+=T:j+=T)}var S=_-j;0==S&&(S=1);for(var q=0;s>q;q++){var T=this._getDataValueAsNumber(q,h.dataField,t);if(isNaN(T))o[l].push({});else{var C=h.displayText||h.displayField,I=this._getDataValue(q,C,t);void 0==I&&(I=q);var k=0,D=this._isSerieVisible(t,l,q);(D||1==h.hiddenPointsDisplay)&&(k=Math.abs(T)/S*u);var M=i.x+m,P=i.y+g,N=f;e.isFunction(f)&&(N=f({seriesIndex:l,seriesGroupIndex:t,itemIndex:q})),isNaN(N)&&(N=0);var B={key:t+"_"+l+"_"+q,value:T,displayValue:I,x:M,y:P,fromAngle:x,toAngle:x+k,centerOffset:N,innerRadius:w,outerRadius:b,selectedRadiusChange:y,visible:D};o[l].push(B),x+=k}}}return n},_isPointSeriesOnly:function(){for(var e=0;e<this.seriesGroups.length;e++){var t=this.seriesGroups[e];if(-1==t.type.indexOf("line")&&-1==t.type.indexOf("area")&&-1==t.type.indexOf("scatter")&&-1==t.type.indexOf("bubble"))return!1}return!0},_hasColumnSeries:function(){for(var e=["column","ohlc","candlestick","waterfall"],t=0;t<this.seriesGroups.length;t++){var i=this.seriesGroups[t];for(var r in e)if(-1!=i.type.indexOf(e[r]))return!0}return!1},_alignValuesWithTicks:function(e){var t=this._isPointSeriesOnly(),i=this.seriesGroups[e],r=this._getXAxis(e),s=void 0==r.valuesOnTicks?t:0!=r.valuesOnTicks;return r.logarithmicScale&&(s=!0),void 0==e?s:void 0==i.valuesOnTicks?s:i.valuesOnTicks},_getYearsDiff:function(e,t){return t.getFullYear()-e.getFullYear()},_getMonthsDiff:function(e,t){return 12*(t.getFullYear()-e.getFullYear())+t.getMonth()-e.getMonth()},_getDateDiff:function(t,i,r,s){var a=0;switch("year"!=r&&"month"!=r&&(a=i.valueOf()-t.valueOf()),r){case"year":a=this._getYearsDiff(t,i);break;case"month":a=this._getMonthsDiff(t,i);break;case"day":a/=864e5;break;case"hour":a/=36e5;break;case"minute":a/=6e4;break;case"second":a/=1e3;break;case"millisecond":}return"year"!=r&&"month"!=r&&0!=s&&(a=e.jqx._rnd(a,1,!0)),a},_getBestDTUnit:function(e,t,i,r,s){var a="day",n=t.valueOf()-e.valueOf();a=1e3>n?"second":36e5>n?"minute":864e5>n?"hour":2592e6>n?"day":31104e6>n?"month":"year";for(var o=[{key:"year",cnt:n/31536e6},{key:"month",cnt:n/2592e6},{key:"day",cnt:n/864e5},{key:"hour",cnt:n/36e5},{key:"minute",cnt:n/6e4},{key:"second",cnt:n/1e3},{key:"millisecond",cnt:n}],l=-1,h=0;h<o.length;h++)if(o[h].key==a){l=h;break}for(var d=-1,c=-1;l<o.length&&!(o[l].cnt/100>r);l++){var u=this._estAxisInterval(e,t,i,r,o[l].key,s),p=this._getDTIntCnt(e,t,u,o[l].key);(-1==d||p>d)&&(d=p,c=l)}return a=o[c].key},_getXAxisStats:function(t,i,r){var s=this._getDataLen(t),a="date"==i.type||"time"==i.type;if(a&&!this._autoDateFormats){this._autoDateFormats||(this._autoDateFormats=[]);var n=this._testXAxisDateFormat();n&&this._autoDateFormats.push(n)}var o=a?this._castAsDate(i.minValue,i.dateFormat):this._castAsNumber(i.minValue),l=a?this._castAsDate(i.maxValue,i.dateFormat):this._castAsNumber(i.maxValue);if(this._selectorRange&&this._selectorRange[t]){var h=this._selectorRange[t].min;isNaN(h)||(o=a?this._castAsDate(h,i.dateFormat):this._castAsNumber(h));var d=this._selectorRange[t].max;isNaN(d)||(l=a?this._castAsDate(d,i.dateFormat):this._castAsNumber(d))}for(var c,u,p=o,f=l,m=void 0==i.type||"auto"==i.type,g=m||"basic"==i.type,v=0,x=0,b=0;s>b&&i.dataField;b++){var w=this._getDataValue(b,i.dataField,t);w=a?this._castAsDate(w,i.dateFormat):this._castAsNumber(w),isNaN(w)||(a?v++:x++,(isNaN(c)||c>w)&&(c=w),(isNaN(u)||w>=u)&&(u=w))}m&&(!a&&x==s||a&&v==s)&&(g=!1),g&&(c=0,u=Math.max(0,s-1)),isNaN(p)&&(p=c),isNaN(f)&&(f=u),a?(this._isDate(p)||(p=this._isDate(f)?f:new Date),this._isDate(f)||(f=this._isDate(p)?p:new Date)):(isNaN(p)&&(p=0),isNaN(f)&&(f=g?Math.max(0,s-1):p)),void 0==c&&(c=p),void 0==u&&(u=f);var y=i.rangeSelector;if(y){var _=y.minValue||p;_&&a&&(_=this._castAsDate(_,y.dateFormat||i.dateFormat));var j=y.maxValue||f;j&&a&&(j=this._castAsDate(j,y.dateFormat||i.rangeSelector)),_>p&&(p=_),_>f&&(f=j),p>j&&(p=_),f>j&&(f=j)}var q,T,S=i.unitInterval;a&&(q=i.baseUnit,q||(q=this._getBestDTUnit(p,f,t,r)),T="hour"==q||"minute"==q||"second"==q||"millisecond"==q);var C=1==i.logarithmicScale,I=i.logarithmicScaleBase;(isNaN(I)||1>=I)&&(I=10);var S=i.unitInterval;C?S=1:(isNaN(S)||0>=S)&&(S=this._estAxisInterval(p,f,t,r,q));var k={min:p,max:f},D=this.seriesGroups[t];if(C){p||(p=1,f&&p>f&&(p=f)),f||(f=p),k={min:p,max:f};var M=e.jqx._rnd(e.jqx.log(p,I),1,!1),P=e.jqx._rnd(e.jqx.log(f,I),1,!0);f=Math.pow(I,P),p=Math.pow(I,M)}else a||!D.polar&&!D.spider||(p=e.jqx._rnd(p,S,!1),f=e.jqx._rnd(f,S,!0));return{min:p,max:f,logAxis:{enabled:C,base:I,minPow:M,maxPow:P},dsRange:{min:c,max:u},filterRange:k,useIndeces:g,isDateTime:a,isTimeUnit:T,dateTimeUnit:q,interval:S}},_getDefaultDTFormatFn:function(e){var t,i=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];return t="year"==e||"month"==e||"day"==e?function(e){return e.getDate()+"-"+i[e.getMonth()]+"-"+e.getFullYear()}:function(e){return e.getDate()+"-"+i[e.getMonth()]+"-"+e.getFullYear()+"<br>"+e.getHours()+":"+e.getMinutes()+":"+e.getSeconds()}},_getDTIntCnt:function(e,t,i,r){var s=0,a=new Date(e),n=new Date(t);if(n=n.valueOf(),0>=i)return 1;for(;a.valueOf()<n;)"millisecond"==r?a=new Date(a.valueOf()+i):"second"==r?a=new Date(a.valueOf()+1e3*i):"minute"==r?a=new Date(a.valueOf()+6e4*i):"hour"==r?a=new Date(a.valueOf()+6e4*i*24):"day"==r?a.setDate(a.getDate()+i):"month"==r?a.setMonth(a.getMonth()+i):"year"==r&&a.setFullYear(a.getFullYear()+i),s++;return s},_estAxisInterval:function(e,t,i,r,s,a){if(isNaN(e)||isNaN(t))return NaN;var n=[1,2,5,10,15,20,50,100,200,500],o=0,l=r/(!isNaN(a)&&a>0?a:50);if(this._renderData&&this._renderData.length>i&&this._renderData[i].xAxis&&!isNaN(this._renderData[i].xAxis.avgWidth)){var h=Math.max(1,this._renderData[i].xAxis.avgWidth);0!=h&&isNaN(a)&&(l=.9*r/h)}if(1>=l)return Math.abs(t-e);for(var d=0;;){var c=o>=n.length?Math.pow(10,3+o-n.length):n[o];if(d=this._isDate(e)&&this._isDate(t)?this._getDTIntCnt(e,t,c,s):(t-e)/c,l>=d)break;o++}var u=this.seriesGroups[i];return(u.spider||u.polar)&&2*c>t-e&&(c=t-e),c},_getPaddingSize:function(e,t,i,r,s,a,n){var o=e.min,l=e.max;e.logAxis.enabled&&(o=e.logAxis.minPow,l=e.logAxis.maxPow);var h=e.interval,d=e.dateTimeUnit;if(s){var c=r/Math.max(1,l-o+h)*h;return a?{left:0,right:c}:i?{left:0,right:0}:{left:c/2,right:c/2}}if(i&&!n)return{left:0,right:0};if(this._isDate(o)&&this._isDate(l)){var u=this._getDTIntCnt(o,l,Math.min(h,l-o),d),p=r/Math.max(2,u);return{left:p/2,right:p/2}}var u=Math.max(1,l-o);if(1==u)return sz=r/4,{left:sz,right:sz};var p=r/(u+1);return{left:p/2,right:p/2}},_calculateXOffsets:function(t,i){var r=this.seriesGroups[t],s=this._getXAxis(t),a=[],n=[],o=this._getDataLen(t),l=this._getXAxisStats(t,s,i),h=l.min,d=l.max,c=l.isDateTime,u=l.isTimeUnit,p=this._hasColumnSeries(),f=r.polar||r.spider,m=this._get([r.startAngle,r.minAngle,0]),g=this._get([r.endAngle,r.maxAngle,360]),v=f&&!(Math.abs(Math.abs(g-m)-360)>1e-4),x=this._alignValuesWithTicks(t),b=this._getPaddingSize(l,s,x,i,f,v,p),w=d-h,y=l.filterRange;0==w&&(w=1);var _=i-b.left-b.right;f&&x&&!v&&(b.left=b.right=0);for(var j=-1,q=-1,T=0;o>T;T++){var S=void 0===s.dataField?T:this._getDataValue(T,s.dataField,t);if(l.useIndeces){if(T<y.min||T>y.max){a.push(NaN),n.push(void 0);continue}if(I=b.left+(T-h)/w*_,1==l.logAxis.enabled){var C=l.logAxis.base;I=this._jqxPlot.scale(S,{min:h.valueOf(),max:d.valueOf(),type:"logarithmic",base:C},{min:0,max:_,flip:!1})}a.push(e.jqx._ptrnd(I)),n.push(S),-1==j&&(j=T),(-1==q||T>q)&&(q=T)}else if(S=c?this._castAsDate(S,s.dateFormat):this._castAsNumber(S),isNaN(S)||S<y.min||S>y.max)a.push(NaN),n.push(void 0);else{var I=0;if(1==l.logAxis.enabled){var C=l.logAxis.base;I=this._jqxPlot.scale(S,{min:h.valueOf(),max:d.valueOf(),type:"logarithmic",base:C},{min:0,max:_,flip:!1})}else!c||c&&u?(diffFromMin=S-h,I=(S-h)*_/w):I=(S.valueOf()-h.valueOf())/(d.valueOf()-h.valueOf())*_;I=e.jqx._ptrnd(b.left+I),a.push(I),n.push(S),-1==j&&(j=T),(-1==q||T>q)&&(q=T)}}if(1==s.flip)for(var T=0;T<a.length;T++)isNaN(a[T])||(a[T]=i-a[T]);(u||c)&&(w=this._getDateDiff(h,d,s.baseUnit),w=e.jqx._rnd(w,1,!1));var k=Math.max(1,w),D=_/k;return j==q&&1==k&&(a[j]=b.left+_/2),{axisStats:l,data:a,xvalues:n,first:j,last:q,length:-1==q?0:q-j+1,itemWidth:D,intervalWidth:D*l.interval,rangeLength:w,useIndeces:l.useIndeces,padding:b,axisSize:_}},_getXAxis:function(e){return void 0==e||this.seriesGroups.length<=e?this.categoryAxis||this.xAxis:this.seriesGroups[e].categoryAxis||this.seriesGroups[e].xAxis||this.categoryAxis||this.xAxis},_isGreyScale:function(e,t){var i=this.seriesGroups[e],r=i.series[t];return 1==r.greyScale?!0:0==r.greyScale?!1:1==i.greyScale?!0:0==i.greyScale?!1:1==this.greyScale},_getSeriesColors:function(t,i,r){var s=this._getSeriesColorsInternal(t,i,r);if(this._isGreyScale(t,i))for(var a in s)s[a]=e.jqx.toGreyScale(s[a]);return s},_getColorFromScheme:function(e,t,i){var r="#000000",s=this.seriesGroups[e],a=s.series[t];if(this._isPieGroup(e)){var n=this._getDataLen(e);r=this._getItemColorFromScheme(a.colorScheme||s.colorScheme||this.colorScheme,t*n+i,e,t)}else{for(var o=0,l=0;e>=l;l++)for(var h in this.seriesGroups[l].series){if(l==e&&h==t)break;o++}var d=this.colorScheme;if(s.colorScheme&&(d=s.colorScheme,sidex=seriesIndex),void 0!=d&&""!=d||(d=this.colorSchemes[0].name),!d)return r;for(var l=0;l<this.colorSchemes.length;l++){var c=this.colorSchemes[l];if(c.name==d){for(;o>c.colors.length;)o-=c.colors.length,++l>=this.colorSchemes.length&&(l=0),c=this.colorSchemes[l];r=c.colors[o%c.colors.length]}}}return r},_createColorsCache:function(){this._colorsCache={get:function(e){return this._store[e]?this._store[e]:void 0},set:function(e,t){this._size<1e4&&(this._store[e]=t,this._size++)},clear:function(){this._store={},this._size=0},_size:0,_store:{}}},_getSeriesColorsInternal:function(t,i,r){var s=this.seriesGroups[t],a=s.series[i];e.isFunction(a.colorFunction)||"pie"==s.type||"donut"==s.type||(r=NaN);var n=t+"_"+i+"_"+(isNaN(r)?"NaN":r);if(this._colorsCache.get(n))return this._colorsCache.get(n);var o,l={lineColor:"#222222",lineColorSelected:"#151515",lineColorSymbol:"#222222",lineColorSymbolSelected:"#151515",fillColor:"#222222",fillColorSelected:"#333333",fillColorSymbol:"#222222",fillColorSymbolSelected:"#333333",fillColorAlt:"#222222",fillColorAltSelected:"#333333"};if(e.isFunction(a.colorFunction)){var h=isNaN(r)?NaN:this._getDataValue(r,a.dataField,t);if(-1!=s.type.indexOf("range")&&!isNaN(r)){var d=this._getDataValue(r,a.dataFieldFrom,t),c=this._getDataValue(r,a.dataFieldTo,t);h={from:d,to:c}}if(o=a.colorFunction(h,r,a,s),"object"==typeof o)for(var u in o)l[u]=o[u];else l.fillColor=o}else{for(var u in l)a[u]&&(l[u]=a[u]);a.fillColor||a.color?a.fillColor=a.fillColor||a.color:l.fillColor=this._getColorFromScheme(t,i,r)}var p={fillColor:{baseColor:"fillColor",adjust:1},fillColorSelected:{baseColor:"fillColor",adjust:1.1},fillColorSymbol:{baseColor:"fillColor",adjust:1},fillColorSymbolSelected:{baseColor:"fillColorSymbol",adjust:2},fillColorAlt:{baseColor:"fillColor",adjust:4},fillColorAltSelected:{baseColor:"fillColor",adjust:3},lineColor:{baseColor:"fillColor",adjust:.95},lineColorSelected:{baseColor:"lineColor",adjust:.95},lineColorSymbol:{baseColor:"lineColor",adjust:1},lineColorSymbolSelected:{baseColor:"lineColorSelected",adjust:1}};for(var u in l)"object"==typeof o&&o[u]||a[u]&&(l[u]=a[u]);for(var u in l)"object"==typeof o&&o[u]||a[u]||(l[u]=e.jqx.adjustColor(l[p[u].baseColor],p[u].adjust));return this._colorsCache.set(n,l),l},_getItemColorFromScheme:function(t,i,r,s){void 0!=t&&""!=t||(t=this.colorSchemes[0].name);for(var a=0;a<this.colorSchemes.length&&t!=this.colorSchemes[a].name;a++);for(var n=0;i>=n;){a==this.colorSchemes.length&&(a=0);var o=this.colorSchemes[a].colors.length;if(!(i>=n+o)){var l=this.colorSchemes[a].colors[i-n];return this._isGreyScale(r,s)&&0==l.indexOf("#")&&(l=e.jqx.toGreyScale(l)),l}n+=o,a++}},getColorScheme:function(e){for(var t=0;t<this.colorSchemes.length;t++)if(this.colorSchemes[t].name==e)return this.colorSchemes[t].colors},addColorScheme:function(e,t){for(var i=0;i<this.colorSchemes.length;i++)if(this.colorSchemes[i].name==e)return void(this.colorSchemes[i].colors=t);this.colorSchemes.push({name:e,colors:t})},removeColorScheme:function(e){for(var t=0;t<this.colorSchemes.length;t++)if(this.colorSchemes[t].name==e){this.colorSchemes.splice(t,1);break}},colorSchemes:[{name:"scheme01",colors:["#307DD7","#AA4643","#89A54E","#71588F","#4198AF"]},{name:"scheme02",colors:["#7FD13B","#EA157A","#FEB80A","#00ADDC","#738AC8"]},{name:"scheme03",colors:["#E8601A","#FF9639","#F5BD6A","#599994","#115D6E"]},{name:"scheme04",colors:["#D02841","#FF7C41","#FFC051","#5B5F4D","#364651"]},{name:"scheme05",colors:["#25A0DA","#309B46","#8EBC00","#FF7515","#FFAE00"]},{name:"scheme06",colors:["#0A3A4A","#196674","#33A6B2","#9AC836","#D0E64B"]},{name:"scheme07",colors:["#CC6B32","#FFAB48","#FFE7AD","#A7C9AE","#888A63"]},{name:"scheme08",colors:["#3F3943","#01A2A6","#29D9C2","#BDF271","#FFFFA6"]},{name:"scheme09",colors:["#1B2B32","#37646F","#A3ABAF","#E1E7E8","#B22E2F"]},{name:"scheme10",colors:["#5A4B53","#9C3C58","#DE2B5B","#D86A41","#D2A825"]},{name:"scheme11",colors:["#993144","#FFA257","#CCA56A","#ADA072","#949681"]},{name:"scheme12",colors:["#105B63","#EEEAC5","#FFD34E","#DB9E36","#BD4932"]},{name:"scheme13",colors:["#BBEBBC","#F0EE94","#F5C465","#FA7642","#FF1E54"]},{name:"scheme14",colors:["#60573E","#F2EEAC","#BFA575","#A63841","#BFB8A3"]},{name:"scheme15",colors:["#444546","#FFBB6E","#F28D00","#D94F00","#7F203B"]},{name:"scheme16",colors:["#583C39","#674E49","#948658","#F0E99A","#564E49"]},{name:"scheme17",colors:["#142D58","#447F6E","#E1B65B","#C8782A","#9E3E17"]},{name:"scheme18",colors:["#4D2B1F","#635D61","#7992A2","#97BFD5","#BFDCF5"]},{name:"scheme19",colors:["#844341","#D5CC92","#BBA146","#897B26","#55591C"]},{name:"scheme20",colors:["#56626B","#6C9380","#C0CA55","#F07C6C","#AD5472"]},{name:"scheme21",colors:["#96003A","#FF7347","#FFBC7B","#FF4154","#642223"]},{name:"scheme22",colors:["#5D7359","#E0D697","#D6AA5C","#8C5430","#661C0E"]},{name:"scheme23",colors:["#16193B","#35478C","#4E7AC7","#7FB2F0","#ADD5F7"]},{name:"scheme24",colors:["#7B1A25","#BF5322","#9DA860","#CEA457","#B67818"]},{name:"scheme25",
colors:["#0081DA","#3AAFFF","#99C900","#FFEB3D","#309B46"]},{name:"scheme26",colors:["#0069A5","#0098EE","#7BD2F6","#FFB800","#FF6800"]},{name:"scheme27",colors:["#FF6800","#A0A700","#FF8D00","#678900","#0069A5"]}],_formatValue:function(t,i,r,s,a,n){if(void 0==t)return"";if(this._isObject(t)&&!this._isDate(t)&&!r)return"";if(r){if(!e.isFunction(r))return t.toString();try{return r(t,n,a,s)}catch(o){return o.message}}return this._isNumber(t)?this._formatNumber(t,i):this._isDate(t)?this._formatDate(t,i):i?(i.prefix||"")+t.toString()+(i.sufix||""):t.toString()},_getFormattedValue:function(t,i,r,s,a,n){var o=this.seriesGroups[t],l=o.series[i],h="",d=s,c=a;c||(c=l.formatFunction||o.formatFunction),d||(d=l.formatSettings||o.formatSettings),!l.formatFunction&&l.formatSettings&&(c=void 0);var u={},p=0;for(var f in l)0==f.indexOf("dataField")&&(u[f.substring(9).toLowerCase()]=this._getDataValue(r,l[f],t),p++);if(0==p&&(u=this._getDataValue(r,void 0,t)),-1!=o.type.indexOf("waterfall")&&this._isSummary(t,r)&&(u=this._renderData[t].offsets[i][r].value,p=0),c&&e.isFunction(c))try{return c(1==p?u[""]:u,r,l,o)}catch(m){return m.message}if(1==p&&this._isPieGroup(t))return this._formatValue(u[""],d,c,t,i,r);if(p>0){var g=0;for(var f in u){g>0&&""!=h&&(h+="<br>");var v="dataField"+(f.length>0?f.substring(0,1).toUpperCase()+f.substring(1):""),x="displayText"+(f.length>0?f.substring(0,1).toUpperCase()+f.substring(1):""),b=l[x]||l[v],w=u[f];void 0!=w&&(w=this._formatValue(w,d,c,t,i,r),h+=n===!0?w:b+": "+w,g++)}}else void 0!=u&&(h=this._formatValue(u,d,c,t,i,r));return h||""},_isNumberAsString:function(t){if("string"!=typeof t)return!1;t=e.trim(t);for(var i=0;i<t.length;i++){var r=t.charAt(i);if(!(r>="0"&&"9">=r||","==r||"."==r||"-"==r&&0==i||"("==r&&0==i||")"==r&&i==t.length-1))return!1}return!0},_castAsDate:function(t,i){if(t instanceof Date&&!isNaN(t))return t;if("string"==typeof t){var r;if(i&&(r=e.jqx.dataFormat.parsedate(t,i),this._isDate(r)))return r;if(this._autoDateFormats)for(var s=0;s<this._autoDateFormats.length;s++)if(r=e.jqx.dataFormat.parsedate(t,this._autoDateFormats[s]),this._isDate(r))return r;var a=this._detectDateFormat(t);return a&&(r=e.jqx.dataFormat.parsedate(t,a),this._isDate(r))?(this._autoDateFormats.push(a),r):(r=new Date(t),this._isDate(r)&&-1==t.indexOf(":")&&r.setHours(0,0,0,0),r)}},_castAsNumber:function(e){if(e instanceof Date&&!isNaN(e))return e.valueOf();if("string"==typeof e)if(this._isNumber(e))e=parseFloat(e);else if(!/[a-zA-Z]/.test(e)){var t=new Date(e);void 0!=t&&(e=t.valueOf())}return e},_isNumber:function(e){return"string"==typeof e&&this._isNumberAsString(e)&&(e=parseFloat(e)),"number"==typeof e&&isFinite(e)},_isDate:function(e){return e instanceof Date&&!isNaN(e.getDate())},_isBoolean:function(e){return"boolean"==typeof e},_isObject:function(t){return t&&("object"==typeof t||e.isFunction(t))||!1},_formatDate:function(t,i){var r=t.toString();return i&&(i.dateFormat&&(r=e.jqx.dataFormat.formatDate(t,i.dateFormat)),r=(i.prefix||"")+r+(i.sufix||"")),r},_formatNumber:function(e,t){if(!this._isNumber(e))return e;t=t||{};var i=".",r="",s=this;s.localization&&(i=s.localization.decimalSeparator||s.localization.decimalseparator||i,r=s.localization.thousandsSeparator||s.localization.thousandsseparator||r),t.decimalSeparator&&(i=t.decimalSeparator),t.thousandsSeparator&&(r=t.thousandsSeparator);var a=t.prefix||"",n=t.sufix||"",o=t.decimalPlaces;isNaN(o)&&(o=this._getDecimalPlaces([e],void 0,3));var l=t.negativeWithBrackets||!1,h=0>e;h&&l&&(e*=-1);var d,c=e.toString(),u=Math.pow(10,o);if(c=(Math.round(e*u)/u).toString(),isNaN(c)&&(c=""),d=c.lastIndexOf("."),o>0)for(0>d?(c+=i,d=c.length-1):"."!==i&&(c=c.replace(".",i));c.length-1-d<o;)c+="0";d=c.lastIndexOf(i),d=d>-1?d:c.length;for(var p=c.substring(d),f=0,m=d;m>0;m--,f++)f%3===0&&m!==d&&(!h||m>1||h&&l)&&(p=r+p),p=c.charAt(m-1)+p;return c=p,h&&l&&(c="("+c+")"),a+c+n},_defaultNumberFormat:{prefix:"",sufix:"",decimalSeparator:".",thousandsSeparator:",",decimalPlaces:2,negativeWithBrackets:!1},_calculateControlPoints:function(e,t){var i=e[t],r=e[t+1],s=e[t+2],a=e[t+3],n=e[t+4],o=e[t+5],l=.4,h=Math.sqrt(Math.pow(s-i,2)+Math.pow(a-r,2)),d=Math.sqrt(Math.pow(n-s,2)+Math.pow(o-a,2)),c=h+d;0==c&&(c=1);var u=l*h/c,p=l-u;return[s+u*(i-n),a+u*(r-o),s-p*(i-n),a-p*(r-o)]},_getBezierPoints:function(t){for(var i="",r=[],s=[],a=t.split(" "),n=0;n<a.length;n++){var o=a[n].split(",");r.push(parseFloat(o[0])),r.push(parseFloat(o[1])),!isNaN(r[r.length-1])&&!isNaN(r[r.length-2])}var l=r.length;if(1>=l)return"";if(2==l)return i="M"+e.jqx._ptrnd(r[0])+","+e.jqx._ptrnd(r[1])+" L"+e.jqx._ptrnd(r[0]+1)+","+e.jqx._ptrnd(r[1]+1)+" ";for(var n=0;l-4>n;n+=2)s=s.concat(this._calculateControlPoints(r,n));for(var n=2;l-5>n;n+=2)i+=" C"+e.jqx._ptrnd(s[2*n-2])+","+e.jqx._ptrnd(s[2*n-1])+" "+e.jqx._ptrnd(s[2*n])+","+e.jqx._ptrnd(s[2*n+1])+" "+e.jqx._ptrnd(r[n+2])+","+e.jqx._ptrnd(r[n+3])+" ";return i=4>=l||Math.abs(r[0]-r[2])<3||Math.abs(r[1]-r[3])<3||this._isVML?"M"+e.jqx._ptrnd(r[0])+","+e.jqx._ptrnd(r[1])+" L"+e.jqx._ptrnd(r[2])+","+e.jqx._ptrnd(r[3])+" "+i:"M"+e.jqx._ptrnd(r[0])+","+e.jqx._ptrnd(r[1])+" Q"+e.jqx._ptrnd(s[0])+","+e.jqx._ptrnd(s[1])+" "+e.jqx._ptrnd(r[2])+","+e.jqx._ptrnd(r[3])+" "+i,l>=4&&(Math.abs(r[l-2]-r[l-4])<3||Math.abs(r[l-1]-r[l-3])<3||this._isVML)?i+=" L"+e.jqx._ptrnd(r[l-2])+","+e.jqx._ptrnd(r[l-1])+" ":l>=5&&(i+=" Q"+e.jqx._ptrnd(s[2*l-10])+","+e.jqx._ptrnd(s[2*l-9])+" "+e.jqx._ptrnd(r[l-2])+","+e.jqx._ptrnd(r[l-1])+" "),i},_animTickInt:50,_createAnimationGroup:function(e){this._animGroups||(this._animGroups={}),this._animGroups[e]={animations:[],startTick:NaN}},_startAnimation:function(e){var t=new Date,i=t.getTime();this._animGroups[e].startTick=i,this._runAnimation(),this._enableAnimTimer()},_enqueueAnimation:function(e,t,i,r,s,a,n){0>r&&(r=0),void 0==n&&(n="easeInOutSine"),this._animGroups[e].animations.push({key:t,properties:i,duration:r,fn:s,context:a,easing:n})},_stopAnimations:function(){clearTimeout(this._animtimer),this._animtimer=void 0,this._animGroups=void 0},_enableAnimTimer:function(){if(!this._animtimer){var e=this;this._animtimer=setTimeout(function(){e._runAnimation()},this._animTickInt)}},_runAnimation:function(t){if(this._animGroups){var i=new Date,r=i.getTime(),s={};for(var a in this._animGroups){for(var n=this._animGroups[a].animations,o=this._animGroups[a].startTick,l=0,h=0;h<n.length;h++){var d=n[h],c=r-o;d.duration>l&&(l=d.duration);var u=d.duration>0?c/d.duration:1,p=u;if(d.easing&&0!=d.duration&&(p=e.easing[d.easing](u,c,0,1,d.duration)),u>1&&(u=1,p=1),d.fn)d.fn(d.key,d.context,p);else{for(var f={},a=0;a<d.properties.length;a++){var m=d.properties[a],g=0;g=1==u?m.to:easeParecent*(m.to-m.from)+m.from,f[m.key]=g}this.renderer.attr(d.key,f)}}o+l>r&&(s[a]={startTick:o,animations:n})}this._animGroups=s,this.renderer instanceof e.jqx.HTML5Renderer&&this.renderer.refresh()}this._animtimer=null;for(var a in this._animGroups){this._enableAnimTimer();break}},_fixCoords:function(e,t){var i="horizontal"==this.seriesGroups[t].orientation;if(!i)return e;var r=e.x;e.x=e.y,e.y=r+this._plotRect.y-this._plotRect.x;var r=e.width;return e.width=e.height,e.height=r,e},getItemCoord:function(e,t,i){var r=this;if(r._isPieGroup(e)&&(!r._isSerieVisible(e,t,i)||!r._renderData||r._renderData.length<=e))return{x:NaN,y:NaN};if(!r._isSerieVisible(e,t)||!r._renderData||r._renderData.length<=e)return{x:NaN,y:NaN};var s=r.seriesGroups[e],a=s.series[t],n=r._getItemCoord(e,t,i);if(r._isPieGroup(e)){if(isNaN(n.x)||isNaN(n.y)||isNaN(n.fromAngle)||isNaN(n.toAngle))return{x:NaN,y:NaN};var o=this._plotRect,l=n.fromAngle*(Math.PI/180),h=n.toAngle*(Math.PI/180);x1=o.x+n.center.x+Math.cos(l)*n.outerRadius,x2=o.x+n.center.x+Math.cos(h)*n.outerRadius,y1=o.y+n.center.y-Math.sin(l)*n.outerRadius,y2=o.y+n.center.y-Math.sin(h)*n.outerRadius;var d=Math.min(x1,x2),c=Math.abs(x2-x1),u=Math.min(y1,y2),p=Math.abs(y2-y1);return n={x:d,y:u,width:c,height:p,center:n.center,centerOffset:n.centerOffset,innerRadius:n.innerRadius,outerRadius:n.outerRadius,selectedRadiusChange:n.selectedRadiusChange,fromAngle:n.fromAngle,toAngle:n.toAngle}}if(-1!=s.type.indexOf("column")||-1!=s.type.indexOf("waterfall")){var f=this._getColumnSerieWidthAndOffset(e,t);n.height=Math.abs(n.y.to-n.y.from),n.y=Math.min(n.y.to,n.y.from),n.x+=f.offset,n.width=f.width}else if(-1!=s.type.indexOf("ohlc")||-1!=s.type.indexOf("candlestick")){var f=this._getColumnSerieWidthAndOffset(e,t),u=n.y,m=Math.min(u.Open,u.Close,u.Low,u.High),g=Math.max(u.Open,u.Close,u.Low,u.High);n.height=Math.abs(g-m),n.y=m,n.x+=f.offset,n.width=f.width}else if(-1!=s.type.indexOf("line")||-1!=s.type.indexOf("area"))n.width=n.height=0,n.y=n.y.to;else if(-1!=s.type.indexOf("bubble")||-1!=s.type.indexOf("scatter")){n.center={x:n.x,y:n.y.to};var v=n.y.radius;"circle"!=a.symbolType&&void 0!=a.symbolType&&(v/=2),n.y=n.y.to,n.radius=v,n.width=2*v,n.height=2*v}if(n=this._fixCoords(n,e),s.polar||s.spider){var x=this._toPolarCoord(this._renderData[e].polarCoords,this._plotRect,n.x,n.y);n.x=x.x,n.y=x.y,n.center&&(n.center=this._toPolarCoord(this._renderData[e].polarCoords,this._plotRect,n.center.x,n.center.y))}return-1==s.type.indexOf("bubble")&&-1==s.type.indexOf("scatter")||(n.x-=v,n.y-=v),n},_getItemCoord:function(e,t,i){var r,s,a=this.seriesGroups[e];if(!a||!this._renderData)return{x:NaN,y:NaN};var n=a.series[t];if(!n)return{x:NaN,y:NaN};var o=this._plotRect;if(this._isPieGroup(e)){var l=this._renderData[e].offsets[t][i];if(!l)return{x:NaN,y:NaN};var h=(l.fromAngle+l.toAngle)/2*(Math.PI/180);return r=o.x+l.x+Math.cos(h)*l.outerRadius,s=o.y+l.y-Math.sin(h)*l.outerRadius,{x:r,y:s,center:{x:l.x,y:l.y},centerOffset:l.centerOffset,innerRadius:l.innerRadius,outerRadius:l.outerRadius,selectedRadiusChange:l.selectedRadiusChange,fromAngle:l.fromAngle,toAngle:l.toAngle}}if(r=o.x+this._renderData[e].xoffsets.data[i],s=this._renderData[e].offsets[t][i],isNaN(r)||!s)return{x:NaN,y:NaN};var d={};for(var c in s)d[c]=s[c];return{x:r,y:d}},getXAxisValue:function(t,i){var r=this.seriesGroups[i];if(r){var s=this._getXAxis(i),a=this._plotRect,n=0,o=NaN,l=this._renderData[0].xoffsets.axisStats,h=0,d=0;if(r.polar||r.spider){if(isNaN(t.x)||isNaN(t.y))return NaN;var c=this._getPolarAxisCoords(i,a),u=e.jqx._ptdist(t.x,t.y,c.x,c.y);if(u>c.r)return NaN;var p=Math.atan2(c.y-t.y,t.x-c.x);p=Math.PI/2-p,0>p&&(p=2*Math.PI+p),o=p*c.r;var f=c.startAngle+Math.PI/2,m=c.endAngle+Math.PI/2;h=f*c.r,d=m*c.r,n=(m-f)*c.r;var g=this._getPaddingSize(l,s,s.valuesOnTicks,n,!0,c.isClosedCircle,this._hasColumnSeries());c.isClosedCircle?(n-=g.left+g.right,d-=g.left+g.right):s.valuesOnTicks||(h+=g.left,d-=g.right)}else{if("horizontal"!=r.orientation){if(t<a.x||t>a.x+a.width)return NaN;o=t-a.x,n=a.width}else{if(t<a.y||t>a.y+a.height)return NaN;o=t-a.y,n=a.height}if(this._renderData[i]&&this._renderData[i].xoffsets){var g=this._renderData[i].xoffsets.padding;n-=g.left+g.right,o-=g.left}d=n}var v=this._jqxPlot.scale(o,{min:h,max:d},{min:l.min.valueOf(),max:l.max.valueOf(),type:l.logAxis.enabled?"logarithmic":"linear",base:l.logAxis.base,flip:s.flip});return v}},getValueAxisValue:function(t,i){var r=this.seriesGroups[i];if(r){var s=this._getValueAxis(i),a=this._plotRect,n=0,o=NaN;if(r.polar||r.spider){if(isNaN(t.x)||isNaN(t.y))return NaN;var l=this._getPolarAxisCoords(i,a);o=e.jqx._ptdist(t.x,t.y,l.x,l.y),n=l.r,o=n-o}else if("horizontal"==r.orientation){if(t<a.x||t>a.x+a.width)return NaN;o=t-a.x,n=a.width}else{if(t<a.y||t>a.y+a.height)return NaN;o=t-a.y,n=a.height}var h=this._stats.seriesGroups[i],d=this._jqxPlot.scale(o,{min:0,max:n},{min:h.min.valueOf(),max:h.max.valueOf(),type:h.logarithmic?"logarithmic":"linear",base:h.logBase,flip:!s.flip});return d}},_detectDateFormat:function(t,i){var r={en_US_d:"M/d/yyyy",en_US_D:"dddd, MMMM dd, yyyy",en_US_t:"h:mm tt",en_US_T:"h:mm:ss tt",en_US_f:"dddd, MMMM dd, yyyy h:mm tt",en_US_F:"dddd, MMMM dd, yyyy h:mm:ss tt",en_US_M:"MMMM dd",en_US_Y:"yyyy MMMM",en_US_S:"yyyy'-'MM'-'dd'T'HH':'mm':'ss",en_CA_d:"dd/MM/yyyy",en_CA_D:"MMMM-dd-yy",en_CA_f:"MMMM-dd-yy h:mm tt",en_CA_F:"MMMM-dd-yy h:mm:ss tt",ISO:"yyyy-MM-dd hh:mm:ss",ISO2:"yyyy-MM-dd HH:mm:ss",d1:"dd.MM.yyyy",d2:"dd-MM-yyyy",zone1:"yyyy-MM-ddTHH:mm:ss-HH:mm",zone2:"yyyy-MM-ddTHH:mm:ss+HH:mm",custom:"yyyy-MM-ddTHH:mm:ss.fff",custom2:"yyyy-MM-dd HH:mm:ss.fff",de_DE_d:"dd.MM.yyyy",de_DE_D:"dddd, d. MMMM yyyy",de_DE_t:"HH:mm",de_DE_T:"HH:mm:ss",de_DE_f:"dddd, d. MMMM yyyy HH:mm",de_DE_F:"dddd, d. MMMM yyyy HH:mm:ss",de_DE_M:"dd MMMM",de_DE_Y:"MMMM yyyy",fr_FR_d:"dd/MM/yyyy",fr_FR_D:"dddd d MMMM yyyy",fr_FR_t:"HH:mm",fr_FR_T:"HH:mm:ss",fr_FR_f:"dddd d MMMM yyyy HH:mm",fr_FR_F:"dddd d MMMM yyyy HH:mm:ss",fr_FR_M:"d MMMM",fr_FR_Y:"MMMM yyyy",it_IT_d:"dd/MM/yyyy",it_IT_D:"dddd d MMMM yyyy",it_IT_t:"HH:mm",it_IT_T:"HH:mm:ss",it_IT_f:"dddd d MMMM yyyy HH:mm",it_IT_F:"dddd d MMMM yyyy HH:mm:ss",it_IT_M:"dd MMMM",it_IT_Y:"MMMM yyyy",ru_RU_d:"dd.MM.yyyy",ru_RU_D:"d MMMM yyyy '?.'",ru_RU_t:"H:mm",ru_RU_T:"H:mm:ss",ru_RU_f:"d MMMM yyyy '?.' H:mm",ru_RU_F:"d MMMM yyyy '?.' H:mm:ss",ru_RU_Y:"MMMM yyyy",cs_CZ_d:"d.M.yyyy",cs_CZ_D:"d. MMMM yyyy",cs_CZ_t:"H:mm",cs_CZ_T:"H:mm:ss",cs_CZ_f:"d. MMMM yyyy H:mm",cs_CZ_F:"d. MMMM yyyy H:mm:ss",cs_CZ_M:"dd MMMM",cs_CZ_Y:"MMMM yyyy",he_IL_d:"dd MMMM yyyy",he_IL_D:"dddd dd MMMM yyyy",he_IL_t:"HH:mm",he_IL_T:"HH:mm:ss",he_IL_f:"dddd dd MMMM yyyy HH:mm",he_IL_F:"dddd dd MMMM yyyy HH:mm:ss",he_IL_M:"dd MMMM",he_IL_Y:"MMMM yyyy",hr_HR_d:"d.M.yyyy.",hr_HR_D:"d. MMMM yyyy.",hr_HR_t:"H:mm",hr_HR_T:"H:mm:ss",hr_HR_f:"d. MMMM yyyy. H:mm",hr_HR_F:"d. MMMM yyyy. H:mm:ss",hr_HR_M:"d. MMMM",hu_HU_d:"yyyy.MM.dd.",hu_HU_D:"yyyy. MMMM d.",hu_HU_t:"H:mm",hu_HU_T:"H:mm:ss",hu_HU_f:"yyyy. MMMM d. H:mm",hu_HU_F:"yyyy. MMMM d. H:mm:ss",hu_HU_M:"MMMM d.",hu_HU_Y:"yyyy. MMMM",jp_JP_d:"gg y/M/d",jp_JP_D:"gg y'?'M'?'d'?'",jp_JP_t:"H:mm",jp_JP_T:"H:mm:ss",jp_JP_f:"gg y'?'M'?'d'?' H:mm",jp_JP_F:"gg y'?'M'?'d'?' H:mm:ss",jp_JP_M:"M'?'d'?'",jp_JP_Y:"gg y'?'M'?'",lt_LT_d:"yyyy.MM.dd",lt_LT_D:"yyyy 'm.' MMMM d 'd.'",lt_LT_t:"HH:mm",lt_LT_T:"HH:mm:ss",lt_LT_f:"yyyy 'm.' MMMM d 'd.' HH:mm",lt_LT_F:"yyyy 'm.' MMMM d 'd.' HH:mm:ss",lt_LT_M:"MMMM d 'd.'",lt_LT_Y:"yyyy 'm.' MMMM",sa_IN_d:"dd-MM-yyyy",sa_IN_D:"dd MMMM yyyy dddd",sa_IN_t:"HH:mm",sa_IN_T:"HH:mm:ss",sa_IN_f:"dd MMMM yyyy dddd HH:mm",sa_IN_F:"dd MMMM yyyy dddd HH:mm:ss",sa_IN_M:"dd MMMM",basic_y:"yyyy",basic_ym:"yyyy-MM",basic_d:"yyyy-MM-dd",basic_dhm:"yyyy-MM-dd hh:mm",basic_bhms:"yyyy-MM-dd hh:mm:ss",basic2_ym:"MM-yyyy",basic2_d:"MM-dd-yyyy",basic2_dhm:"MM-dd-yyyy hh:mm",basic2_dhms:"MM-dd-yyyy hh:mm:ss",basic3_ym:"yyyy/MM",basic3_d:"yyyy/MM/dd",basic3_dhm:"yyyy/MM/dd hh:mm",basic3_bhms:"yyyy/MM/dd hh:mm:ss",basic4_ym:"MM/yyyy",basic4_d:"MM/dd/yyyy",basic4_dhm:"MM/dd/yyyy hh:mm",basic4_dhms:"MM/dd/yyyy hh:mm:ss"};i&&(r=e.extend({},r,i));var s=[];e.isArray(t)?s=t:s.push(t);for(var a in r)r[a]={format:r[a],count:0};for(var n=0;n<s.length;n++)if(value=s[n],null!=value&&void 0!=value)for(var a in r){var o=e.jqx.dataFormat.parsedate(value,r[a].format);null!=o&&r[a].count++}var l={key:void 0,count:0};for(var a in r)r[a].count>l.count&&(l.key=a,l.count=r[a].count);return l.key?r[l.key].format:""},_testXAxisDateFormat:function(e){var t=this,i=t._getXAxis(e),r=t._getDataLen(e),s={};if(t.localization&&t.localization.patterns)for(var a in t.localization.patterns)s["local_"+a]=t.localization.patterns[a];for(var n=[],o=0;r>o&&10>o;o++)value=t._getDataValue(o,i.dataField,e),null!=value&&void 0!=value&&n.push(value);var l=t._detectDateFormat(n,s);return l}})}(jqxBaseFramework),function(e){e.extend(e.jqx._jqxChart.prototype,{_moduleApi:!0,getItemsCount:function(e,t){var i=this.seriesGroups[e];if(!this._isSerieVisible(e,t))return 0;var r=this._renderData;if(!i||!r||r.length<=e)return 0;var s=i.series[t];return s?r[e].offsets[t].length:0},getXAxisRect:function(e){var t=this._renderData;if(t&&!(t.length<=e)&&t[e].xAxis)return t[e].xAxis.rect},getXAxisLabels:function(e){var t=[],i=this._renderData;if(!i||i.length<=e)return t;if(i=i[e].xAxis,!i)return t;var r=this.seriesGroups[e];if(r.polar||r.spider){for(var s=0;s<i.polarLabels.length;s++){var a=i.polarLabels[s];t.push({offset:{x:a.x,y:a.y},value:a.value})}return t}for(var n=this._getXAxis(e),o=this.getXAxisRect(e),l="top"==n.position||"right"==n.position,h="horizontal"==r.orientation,s=0;s<i.data.length;s++)h?t.push({offset:{x:o.x+(l?0:o.width),y:o.y+i.data.data[s]},value:i.data.xvalues[s]}):t.push({offset:{x:o.x+i.data.data[s],y:o.y+(l?o.height:0)},value:i.data.xvalues[s]});return t},getValueAxisRect:function(e){var t=this._renderData;if(t&&!(t.length<=e)&&t[e].valueAxis)return t[e].valueAxis.rect},getValueAxisLabels:function(e){var t=[],i=this._renderData;if(!i||i.length<=e)return t;if(i=i[e].valueAxis,!i)return t;var r=this._getValueAxis(e),s="top"==r.position||"right"==r.position,a=this.seriesGroups[e],n="horizontal"==a.orientation;if(a.polar||a.spider){for(var o=0;o<i.polarLabels.length;o++){var l=i.polarLabels[o];t.push({offset:{x:l.x,y:l.y},value:l.value})}return t}for(var o=0;o<i.items.length;o++)n?t.push({offset:{x:i.itemOffsets[i.items[o]].x+i.itemWidth/2,y:i.rect.y+(s?i.rect.height:0)},value:i.items[o]}):t.push({offset:{x:i.rect.x+i.rect.width,y:i.itemOffsets[i.items[o]].y+i.itemWidth/2},value:i.items[o]});return t},getPlotAreaRect:function(){return this._plotRect},getRect:function(){return this._rect},showToolTip:function(e,t,i,r,s){var a=this.getItemCoord(e,t,i);isNaN(a.x)||isNaN(a.y)||this._startTooltipTimer(e,t,i,a.x,a.y,r,s)},hideToolTip:function(e){isNaN(e)&&(e=0);var t=this;t._cancelTooltipTimer(),setTimeout(function(){t._hideToolTip(0)},e)}})}(jqxBaseFramework),function(e){e.extend(e.jqx._jqxChart.prototype,{_moduleRangeSelector:!0,_renderXAxisRangeSelector:function(t,i){var r=this;r._isTouchDevice=e.jqx.mobile.isTouchDevice();var s=r.seriesGroups[t],a=r._getXAxis(t),n=a?a.rangeSelector:void 0;if(!r._isSelectorRefresh){var o=n&&n.renderTo?n.renderTo:r.host;o.find(".rangeSelector").remove()}if(!a||0==a.visible||"spider"==s.type)return!1;if(!r._isGroupVisible(t))return!1;if(!n)return!1;var l="horizontal"==s.orientation;n.renderTo&&(l=!1),r.rtl&&(a.flip=!0);var h=l?this.host.height():this.host.width();h-=4;var d=this._getXAxisStats(t,a,h),c=a.position;if(n.renderTo&&n.position&&(c=n.position),!this._isSelectorRefresh){var u=n.renderTo,p="<div class='rangeSelector jqx-disableselect' style='position: absolute; background-color: transparent;' onselectstart='return false;'></div>",f=e(p).appendTo(u?u:this.renderer.getContainer());if(u)f.css({width:u.width(),height:u.height()}),i.width=u.width(),i.height=u.height();else{var m=this.host.coord();m.top=0,m.left=0,selectorSize=this._selectorGetSize(a),l?(f.css("left",m.left+1+i.x+("right"!=c?-selectorSize:i.width)),f.css("top",m.top),f.css("height",h),f.css("width",selectorSize),i.height=selectorSize):(f.css("left",m.left+1),f.css("top",m.top+i.y+("top"!=c?i.height:-selectorSize)),f.css("height",selectorSize),f.css("width",h))}this._refreshSelector(t,a,d,f,i,l)}return this._isSelectorRefresh=!1,!0},_refreshSelector:function(t,i,r,s,a,n){var o={},l=i.rangeSelector;this.seriesGroups[t];for(var h in l)o[h]=l[h];delete o.padding;var d=o.minValue,c=o.maxValue;void 0==d&&(d=Math.min(r.min.valueOf(),r.dsRange.min.valueOf())),void 0==c&&(c=Math.max(r.max.valueOf(),r.dsRange.max.valueOf())),this._isDate(r.min)&&(d=new Date(d)),this._isDate(r.max)&&(c=new Date(c));var u=i.position;l.renderTo&&l.position&&(u=l.position),o.dataField=i.dataField,delete o.rangeSelector,o.type=i.type,o.baseUnit=l.baseUnit||i.baseUnit,o.minValue=d,o.maxValue=c,o.flip=i.flip,o.position=u;var p=5,f=2,m=2,g=2,v=2;l.renderTo||(f=n?0:a.x,m=n?0:this._rect.width-a.x-a.width,g=n?a.y:p,v=n?this._paddedRect.height-this._plotRect.height:p);var x=l.padding;x=void 0!=x||l.renderTo?{left:x&&x.left?x.left:f,top:x&&x.top?x.top:g,right:x&&x.right?x.right:m,bottom:x&&x.bottom?x.bottom:v}:{left:f,top:g,right:m,bottom:v};for(var b=i.rangeSelector.dataField,h=0;void 0==b&&h<this.seriesGroups.length;h++)for(var w=0;void 0==b&&w<this.seriesGroups[h].series.length;w++)b=this.seriesGroups[h].series[w].dataField;var y={padding:x,_isRangeSelectorInstance:!0,title:l.title||"",description:l.description||"",titlePadding:l.titlePadding,colorScheme:l.colorScheme||this.colorScheme,backgroundColor:l.backgroundColor||this.backgroundColor||"transparent",backgroundImage:l.backgroundImage||"",showBorderLine:l.showBorderLine||!!l.renderTo,borderLineWidth:l.borderLineWidth||this.borderLineWidth,borderLineColor:l.borderLineColor||this.borderLineColor,rtl:l.rtl||this.rtl,greyScale:l.greyScale||this.greyScale,renderEngine:this.renderEngine,showLegend:!1,enableAnimations:!1,enableEvents:!1,showToolTips:!1,source:this.source,xAxis:o,seriesGroups:[{orientation:n?"horizontal":"vertical",valueAxis:{visible:!1},type:i.rangeSelector.serieType||"area",skipOverlappingPoints:e.jqx.getByPriority([i.rangeSelector.skipOverlappingPoints,!0]),columnSeriesOverlap:e.jqx.getByPriority([i.rangeSelector.columnSeriesOverlap,!1]),columnsGapPercent:e.jqx.getByPriority([i.rangeSelector.columnsGapPercent,25]),seriesGapPercent:e.jqx.getByPriority([i.rangeSelector.seriesGapPercent,25]),series:[{dataField:b,opacity:.8,lineWidth:1}]}]};y.showBorderLine||(y.borderLineWidth=1,y.borderLineColor=e.jqx.getByPriority([this.backgroundColor,this.background,"#FFFFFF"]),y.showBorderLine=!0);var _=this;_._supressBindingRefresh=!0,s.empty(),s.jqxChart(y),_._rangeSelectorInstances[t]=s,_._supressBindingRefresh=!1,s.on(_._getEvent("mousemove"),function(){_._unselect(),_._hideToolTip()});var j=s.jqxChart("getInstance");if(j._plotRect){var q=j._paddedRect;if(q.height=j._plotRect.height,n||"top"!=u){if(n){var T=j._renderData[0].xAxis.rect.width;q.width-=T,"right"!=u&&(q.x+=T)}}else q.y+=j._renderData[0].xAxis.rect.height;_._createSliderElements(t,s,q,l),_.removeHandler(e(document),_._getEvent("mousemove")+"."+this.element.id,_._onSliderMouseMove),_.removeHandler(e(document),_._getEvent("mousedown"),_._onSliderMouseDown),_.removeHandler(e(document),_._getEvent("mouseup")+"."+this.element.id,_._onSliderMouseUp),_.addHandler(e(document),_._getEvent("mousemove")+"."+this.element.id,_._onSliderMouseMove,{self:this,groupIndex:t,renderTo:s,swapXY:n}),_.addHandler(e(s),_._getEvent("mousedown"),this._onSliderMouseDown,{self:this,groupIndex:t,renderTo:s,swapXY:n}),_.addHandler(e(document),_._getEvent("mouseup")+"."+this.element.id,_._onSliderMouseUp,{element:this.element.id,self:this,groupIndex:t,renderTo:s,swapXY:n})}},_createSliderElements:function(t,i,r,s){i.find(".slider").remove();var a=s.selectedRangeColor||"blue",n=e.jqx.getByPriority([s.selectedRangeOpacity,.1]),o=e.jqx.getByPriority([s.unselectedRangeOpacity,.5]),l=s.unselectedRangeColor||"white",h=s.rangeLineColor||"grey",d=e("<div class='slider' style='position: absolute;'></div>");for(d.css({background:a,opacity:n,left:r.x,top:r.y,width:r.width,height:r.height}),d.appendTo(i);this._sliders.length<t+1;)this._sliders.push({});var c="<div class='slider' style='position: absolute;  background: "+l+"; opacity: "+o+";'></div>",u="<div class='slider' style='position: absolute; background:"+h+"; opacity: "+o+";'></div>",p="<div class='slider jqx-rc-all' style='position: absolute; background: white; border-style: solid; border-width: 1px; border-color: "+h+";'></div>";this._sliders[t]={element:d,host:i,_sliderInitialAbsoluteRect:{x:d.coord().left,y:d.coord().top,width:r.width,height:r.height},_hostInitialAbsolutePos:{x:i.coord().left,y:i.coord().top},getRect:function(){return{x:this.host.coord().left-this._hostInitialAbsolutePos.x+this._sliderInitialAbsoluteRect.x,y:this.host.coord().top-this._hostInitialAbsolutePos.y+this._sliderInitialAbsoluteRect.y,width:this._sliderInitialAbsoluteRect.width,height:this._sliderInitialAbsoluteRect.height}},rect:r,left:e(c),right:e(c),leftTop:e(u),rightTop:e(u),leftBorder:e(u),leftBar:e(p),rightBorder:e(u),rightBar:e(p)},this._sliders[t].left.appendTo(i),this._sliders[t].right.appendTo(i),this._sliders[t].leftTop.appendTo(i),this._sliders[t].rightTop.appendTo(i),this._sliders[t].leftBorder.appendTo(i),this._sliders[t].rightBorder.appendTo(i),this._sliders[t].leftBar.appendTo(i),this._sliders[t].rightBar.appendTo(i);var f=this._renderData[t].xAxis,m=f.data.axisStats,g=m.min.valueOf(),v=m.max.valueOf(),x=this._valueToOffset(t,g),b=this._valueToOffset(t,v);if(x>b){var w=b;b=x,x=w}"horizontal"!=this.seriesGroups[t].orientation?d.css({left:Math.round(r.x+x),top:r.y,width:Math.round(b-x),height:r.height}):d.css({top:Math.round(r.y+x),left:r.x,height:Math.round(b-x),width:r.width}),this._setSliderPositions(t,x,b)},_setSliderPositions:function(e,t,i){var r=this.seriesGroups[e],s=this._getXAxis(e),a=s.rangeSelector,n="horizontal"==r.orientation;s.rangeSelector.renderTo&&(n=!1);var o=s.position;a.renderTo&&a.position&&(o=a.position);var l=this._sliders[e],h=n?"top":"left",d=n?"left":"top",c=n?"height":"width",u=n?"width":"height",p=n?"y":"x",f=n?"x":"y",m=l.rect;l.startOffset=t,l.endOffset=i,l.left.css(h,m[p]),l.left.css(d,m[f]),l.left.css(c,t),l.left.css(u,m[u]),l.right.css(h,m[p]+i),l.right.css(d,m[f]),l.right.css(c,m[c]-i+1),l.right.css(u,m[u]),l.leftTop.css(h,m[p]),l.leftTop.css(d,m[f]+(n&&"right"==o||!n&&"top"!=o?0:m[u])),l.leftTop.css(c,t),l.leftTop.css(u,1),l.rightTop.css(h,m[p]+i),l.rightTop.css(d,m[f]+(n&&"right"==o||!n&&"top"!=o?0:m[u])),l.rightTop.css(c,m[c]-i+1),l.rightTop.css(u,1),l.leftBorder.css(h,m[p]+t),l.leftBorder.css(d,m[f]),l.leftBorder.css(c,1),l.leftBorder.css(u,m[u]);var g=m[u]/4;g>20&&(g=20),3>g&&(g=3),l.leftBar.css(h,m[p]+t-3),l.leftBar.css(d,m[f]+m[u]/2-g/2),l.leftBar.css(c,5),l.leftBar.css(u,g),l.rightBorder.css(h,m[p]+i),l.rightBorder.css(d,m[f]),l.rightBorder.css(c,1),l.rightBorder.css(u,m[u]),l.rightBar.css(h,m[p]+i-3),l.rightBar.css(d,m[f]+m[u]/2-g/2),l.rightBar.css(c,5),l.rightBar.css(u,g)},_resizeState:{},_onSliderMouseDown:function(t){t.stopImmediatePropagation(),t.stopPropagation();var i=t.data.self,r=i._sliders[t.data.groupIndex];r&&(void 0==i._resizeState.state&&i._testAndSetReadyResize(t),"ready"==i._resizeState.state&&(e.jqx._rangeSelectorTarget=i,i._resizeState.state="resizing"))},_valueToOffset:function(e,t){var i=this.seriesGroups[e],r=this._sliders[e],s=r.host.jqxChart("getInstance"),a=s._renderData[0].xAxis,n=a.data.axisStats,o=n.min.valueOf(),l=n.max.valueOf(),h=l-o;0==h&&(h=1);var d=this._getXAxis(e),c="horizontal"==i.orientation?"height":"width",u=(t.valueOf()-o)/h;return r.getRect()[c]*(d.flip?1-u:u)},_offsetToValue:function(e,t){var i=this._sliders[e],r=this.seriesGroups[e],s=this._getXAxis(e),a="horizontal"==r.orientation?"height":"width",n=i.getRect()[a];0==n&&(n=1);var o=i.host.jqxChart("getInstance"),l=o._renderData[0].xAxis,h=l.data.axisStats,d=h.min.valueOf(),c=h.max.valueOf(),u=t/n*(c-d)+d;return 1==s.flip&&(u=c-t/n*(c-d)),this._isDate(h.min)||this._isDate(h.max)?u=new Date(u):((void 0==s.dataField||h.useIndeces)&&(u=Math.round(u)),u<h.min&&(u=h.min),u>h.max&&(u=h.max)),u},_onSliderMouseUp:function(t){var i=e.jqx._rangeSelectorTarget;if(i){var r=t.data.groupIndex,s=t.data.swapXY,a=i._sliders[r];if(a&&"resizing"==i._resizeState.state){t.stopImmediatePropagation(),t.stopPropagation(),i._resizeState={},i.host.css("cursor","default");var n=s?"top":"left",o=s?"y":"x",l=a.element.coord()[n],h=l+(s?a.element.height():a.element.width()),d=a.getRect(),c=i._offsetToValue(r,l-d[o]),u=i._offsetToValue(r,h-d[o]),p=a.host.jqxChart("getInstance"),f=p._renderData[0].xAxis,m=f.data.axisStats;!m.isTimeUnit&&u.valueOf()-c.valueOf()>864e5&&(c.setHours(0,0,0,0),u.setDate(u.getDate()+1),u.setHours(0,0,0,0));var g=i._getXAxis(r);if(g.flip){var v=c;c=u,u=v}for(var x=0;x<i.seriesGroups.length;x++){var b=i._getXAxis(x);b==g&&(i._selectorRange[x]={min:c,max:u})}i._isSelectorRefresh=!0;var w=i.enableAnimations;i._raiseEvent("rangeSelectionChanging",{instance:i,minValue:c,maxValue:u}),i.enableAnimations=!1,i.update(),i.enableAnimations=w,i._raiseEvent("rangeSelectionChanged",{instance:i,minValue:c,maxValue:u})}}},_onSliderMouseMove:function(t){var i=t.data.self,r=(t.data.renderTo,t.data.groupIndex),s=i._sliders[r],a=t.data.swapXY;if(s){var n=s.getRect(),o=s.element,l=e.jqx.position(t),h=o.coord(),d=a?"top":"left",c=a?"height":"width",u=a?"y":"x";if("resizing"==i._resizeState.state){if(t.stopImmediatePropagation(),t.stopPropagation(),"left"==i._resizeState.side){var p=Math.round(l[d]-h[d]),f=n[u];if(h[d]+p>=f&&h[d]+p<=f+n[c]){var m=parseInt(o.css(d)),g=Math.max(2,(a?o.height():o.width())-p);o.css(c,g),o.css(d,m+p)}}else if("right"==i._resizeState.side){var v=a?o.height():o.width(),p=Math.round(l[d]-h[d]-v),f=n[u];if(h[d]+v+p>=f&&h[d]+p+v<=f+n[c]){var g=Math.max(2,v+p);o.css(c,g)}}else if("move"==i._resizeState.side){var v=a?o.height():o.width(),m=parseInt(o.css(d)),p=Math.round(l[d]-i._resizeState.startPos);h[d]+p>=n[u]&&h[d]+p+v<=n[u]+n[c]&&(i._resizeState.startPos=l[d],o.css(d,m+p))}var x=parseInt(o.css(d))-s.rect[u],b=x+(a?o.height():o.width());i._setSliderPositions(r,x,b)}else i._testAndSetReadyResize(t)}},_testAndSetReadyResize:function(t){var i=t.data.self,r=t.data.renderTo,s=t.data.groupIndex,a=i._sliders[s],n=t.data.swapXY,o=a.getRect(),l=a.element,h=e.jqx.position(t),d=l.coord(),c=n?"left":"top",u=n?"top":"left",p=n?"width":"height",f=i._isTouchDevice?30:5;h[c]>=d[c]&&h[c]<=d[c]+o[p]?Math.abs(h[u]-d[u])<=f?(r.css("cursor",n?"row-resize":"col-resize"),i._resizeState={state:"ready",side:"left"}):Math.abs(h[u]-d[u]-(n?l.height():l.width()))<=f?(r.css("cursor",n?"row-resize":"col-resize"),i._resizeState={state:"ready",side:"right"}):h[u]+f>d[u]&&h[u]-f<d[u]+(n?l.height():l.width())?(r.css("cursor","pointer"),i._resizeState={state:"ready",side:"move",startPos:h[u]}):(r.css("cursor","default"),i._resizeState={}):(r.css("cursor","default"),i._resizeState={})},_selectorGetSize:function(e){return e.rangeSelector.renderTo?0:e.rangeSelector.size||this._paddedRect.height/3}})}(jqxBaseFramework),function(e){e.extend(e.jqx._jqxChart.prototype,{_moduleAnnotations:!0,_renderAnnotation:function(e,t,i){var r=this.seriesGroups[e],s=this.renderer;if(!isNaN(e)){var a=this._get([this.getXAxisDataPointOffset(t.xValue,e),t.x]),n=this._get([this.getValueAxisDataPointOffset(t.yValue,e),t.y]),o=this._get([this.getXAxisDataPointOffset(t.xValue2,e),t.x2]),l=this._get([this.getValueAxisDataPointOffset(t.yValue2,e),t.y2]);if(r.polar||r.spider){var h=this.getPolarDataPointOffset(t.xValue,t.yValue,e);!h||isNaN(h.x)||isNaN(h.y)?(a=t.x,n=t.y):(a=h.x,n=h.y)}if(isNaN(n)||isNaN(a))return!1;if("horizontal"==r.orientation){var d=a;a=n,n=d,d=o,o=l,l=d}t.offset&&(isNaN(t.offset.x)||(a+=t.offset.x,o+=t.offset.x),isNaN(t.offset.y)||(n+=t.offset.y,l+=t.offset.y));var c,u=this._get([t.width,o-a]),p=this._get([t.height,l-n]);switch(t.type){case"rect":c=s.rect(a,n,u,p);break;case"circle":c=s.rect(a,n,t.radius);break;case"line":c=s.rect(a,n,o,l);break;case"path":c=s.path(t.path)}s.attr(c,{fill:t.fillColor,stroke:t.lineColor,opacity:this._get([t.fillOpacity,t.opacity]),"stroke-opacity":this._get([t.lineOpacity,t.opacity]),"stroke-width":t.lineWidth,"stroke-dasharray":t.dashStyle||"none"});var f;if(t.text){var m=t.text,g=0,v=0;m.offset&&(isNaN(m.offset.x)||(g+=m.offset.x),isNaN(m.offset.y)||(v+=m.offset.y)),f=s.text(m.value,a+g,n+v,NaN,NaN,m.angle,{},m.clip===!0,m.horizontalAlignment||"center",m.verticalAlignment||"center",m.rotationPoint||"centermiddle"),s.attr(f,{fill:m.fillColor,stroke:m.lineColor,"class":m["class"]})}for(var x=["click","mouseenter","mouseleave"],b=this,w=0;w<x.length;w++){var y=this._getEvent(x[w])||x[w];c&&this.renderer.addHandler(c,y,function(){b._raiseAnnotationEvent(t,y)}),f&&this.renderer.addHandler(f,y,function(){b._raiseAnnotationEvent(t,y)})}}},_raiseAnnotationEvent:function(e,t){this._raiseEvent("annotation_"+t,{annotation:e})}})}(jqxBaseFramework),function(e){e.extend(e.jqx._jqxChart.prototype,{_moduleWaterfall:!0,_isSummary:function(e,t){for(var i=this.seriesGroups[e],r=0;r<i.series.length;r++)if(void 0!==i.series[r].summary&&(summaryValue=this._getDataValue(t,i.series[r].summary,e),
void 0!==summaryValue))return!0;return!1},_applyWaterfall:function(e,t,i,r,s,a,n,o,l){var h=this.seriesGroups[i];if(0==e.length)return e;for(var d=r,c={},u=[],p=void 0,f=[],m=0;m<h.series.length;m++)f.push(this._isSerieVisible(i,m));for(var g={},v=0;t>v;v++)for(var x=r,b=0,w=this._isSummary(i,v),m=0;m<e.length;m++)if(f[m]){var y=0;if(w){y=x==r?s:0,e[m][v].value=c[m],e[m][v].summary=!0,p=e[m][v].value<y,o&&(p=!p);var _=0;_=isNaN(a)?this._getDataPointOffsetDiff(e[m][v].value,y,y,NaN,n,r,o):this._getDataPointOffsetDiff(e[m][v].value+b,0==b?s:b,y||s,a,n,r,o),e[m][v].to=x+(p?_:-_),e[m][v].from=x,l&&(b+=e[m][v].value,x=e[m][v].to)}else{var j=l?-1:m;if(!isNaN(e[m][v].value)){void 0===g[j]&&(y=s,g[j]=!0),p=e[m][v].value<y,o&&(p=!p);var q=NaN,_=NaN;q=l?d:0==v?r:e[m][u[m]].to;var _=0;_=isNaN(a)?this._getDataPointOffsetDiff(e[m][v].value,y,y,NaN,n,r,o):this._getDataPointOffsetDiff(e[m][v].value+(isNaN(c[j])?0:c[j]),isNaN(c[j])?s:c[j],y||s,a,n,q,o),e[m][v].to=d=q+(p?_:-_),e[m][v].from=q,isNaN(c[j])?c[j]=e[m][v].value:c[j]+=e[m][v].value,-1==j&&(isNaN(c[m])?c[m]=e[m][v].value:c[m]+=e[m][v].value),l||(u[m]=v)}}}return e}})}(jqxBaseFramework),function(e){e.jqx.jqxWidget("jqxNumberInput","",{}),e.extend(e.jqx._jqxNumberInput.prototype,{defineInstance:function(){var t={value:null,decimal:0,min:-99999999,max:99999999,width:200,validationMessage:"Invalid value",height:25,textAlign:"right",readOnly:!1,promptChar:"_",decimalDigits:2,decimalSeparator:".",groupSeparator:",",groupSize:3,symbol:"",symbolPosition:"left",digits:8,negative:!1,negativeSymbol:"-",disabled:!1,inputMode:"advanced",spinButtons:!1,spinButtonsWidth:18,spinButtonsStep:1,autoValidate:!0,spinMode:"advanced",enableMouseWheel:!0,touchMode:"auto",allowNull:!0,placeHolder:"",changeType:null,template:"",rtl:!1,events:["valueChanged","textchanged","mousedown","mouseup","keydown","keyup","keypress","change"],aria:{"aria-valuenow":{name:"decimal",type:"number"},"aria-valuemin":{name:"min",type:"number"},"aria-valuemax":{name:"max",type:"number"},"aria-disabled":{name:"disabled",type:"boolean"}},invalidArgumentExceptions:["invalid argument exception"]};return this===e.jqx._jqxNumberInput.prototype?t:(e.extend(!0,this,t),t)},createInstance:function(e){var t=this.host.attr("value");void 0!=t&&(this.decimal=t),null!=this.value&&(this.decimal=this.value);var i=this;i._createFromInput("jqxNumberInput"),this.render()},_createFromInput:function(t){var i=this;if("input"==i.element.nodeName.toLowerCase()){i.field=i.element,i.field.className&&(i._className=i.field.className);var r={title:i.field.title};if(i.field.value&&(i.decimal=parseFloat(i.field.value)),i.field.getAttribute("min")){var s=i.field.getAttribute("min");i.min=parseFloat(s)}if(i.field.getAttribute("step")){var a=i.field.getAttribute("step");i.spinButtonsStep=parseFloat(a)}if(i.field.getAttribute("max")){var n=i.field.getAttribute("max");i.max=parseFloat(n)}i.field.id.length?r.id=i.field.id.replace(/[^\w]/g,"_")+"_"+t:r.id=e.jqx.utilities.createId()+"_"+t;var o=e("<div></div>",r);o[0].style.cssText=i.field.style.cssText,i.width||(i.width=e(i.field).width()),i.height||(i.height=e(i.field).outerHeight()),e(i.field).hide().after(o);var l=i.host.data();if(i.host=o,i.host.data(l),i.element=o[0],i.element.id=i.field.id,i.field.id=r.id,i._className&&(i.host.addClass(i._className),e(i.field).removeClass(i._className)),i.field.tabIndex){var h=i.field.tabIndex;i.field.tabIndex=-1,i.element.tabIndex=h}}},_doTouchHandling:function(){var e=this,t=e.savedValue;if(e.parsing||(e.parsing=!0),e.parsing){e.numberInput.val()&&0==e.numberInput.val().indexOf("-")?e.setvalue("negative",!0):e.setvalue("negative",!1);for(var i=e.numberInput.val(),r=0;r<i.length-1;r++){var s=i.substring(r,r+1);if(isNaN(parseFloat(s))&&-1===e.symbol.toString().indexOf(s)&&"%"!=s&&"$"!=s&&"."!=s&&","!=s&&"-"!=s)return e.numberInput[0].value=t,void(e.parsing=!1)}e.ValueString=e.GetValueString(e.numberInput.val(),e.decimalSeparator,""!=e.decimalSeparator),e._parseDecimalInSimpleMode(),e.decimal=e.ValueString;var a=e.getvalue("negative");a&&(e.decimal="-"+e.ValueString),e.parsing=!1}},render:function(){this.host.attr({role:"spinbutton"}),this.host.attr("data-role","input"),e.jqx.aria(this),e.jqx.aria(this,"aria-multiline",!1);var t=this;(this.officeMode||this.theme&&-1!=this.theme.indexOf("office"))&&18==this.spinButtonsWidth&&(this.spinButtonsWidth=15),(e.jqx.mobile.isTouchDevice()||this.touchMode===!0)&&(this.inputMode="textbox",this.spinMode="simple"),""==this.decimalSeparator&&(this.decimalSeparator=" "),this.host.addClass(this.toThemeProperty("jqx-input")),this.host.addClass(this.toThemeProperty("jqx-rc-all")),this.host.addClass(this.toThemeProperty("jqx-widget")),this.host.addClass(this.toThemeProperty("jqx-widget-content")),this.host.addClass(this.toThemeProperty("jqx-numberinput")),this.spinButtons?this._spinButtons():(this.numberInput=e("<input style='border:none;' autocomplete='off' type='textarea'/>").appendTo(this.host),this.numberInput.addClass(this.toThemeProperty("jqx-input-content")),this.numberInput.addClass(this.toThemeProperty("jqx-widget-content"))),this.numberInput.attr("placeholder",this.placeHolder);var i=this.host.attr("name");if(i&&this.numberInput.attr("name",i),this.host.attr("tabindex")&&(this.numberInput.attr("tabindex",this.host.attr("tabindex")),this.host.removeAttr("tabindex")),e.jqx.mobile.isTouchDevice()||this.touchMode===!0||"textbox"==this.inputMode){var t=this;t.savedValue="",this.addHandler(this.numberInput,"focus",function(){t.savedValue=t.numberInput[0].value}),this.addHandler(this.numberInput,"change",function(){t._doTouchHandling()})}var r=e.data(this.host[0],"jqxNumberInput");r.jqxNumberInput=this;var t=this;this.host.parents("form").length>0&&this.addHandler(this.host.parents("form"),"reset",function(){setTimeout(function(){t.setDecimal(0)},10)}),this.propertyChangeMap.disabled=function(e,t,i,r){r?(e.numberInput.addClass(s.toThemeProperty("jqx-input-disabled")),e.numberInput.attr("disabled",!0)):(e.host.removeClass(s.toThemeProperty("jqx-input-disabled")),e.numberInput.attr("disabled",!1)),e.spinButtons&&e.host.jqxRepeatButton&&(e.upbutton.jqxRepeatButton({disabled:r}),e.downbutton.jqxRepeatButton({disabled:r}))},this.disabled&&(this.numberInput.addClass(this.toThemeProperty("jqx-input-disabled")),this.numberInput.attr("disabled",!0),this.host.addClass(this.toThemeProperty("jqx-fill-state-disabled"))),this.selectedText="",this.decimalSeparatorPosition=-1;var s=(this.element.id,this.element,this);this.oldValue=this._value(),this.items=new Array;var a=(this.value,this.decimal);this._initializeLiterals(),this._render(),this.setDecimal(a);var t=this;setTimeout(function(){},100),this._addHandlers(),e.jqx.utilities.resize(this.host,function(){t._render()})},refresh:function(e){e||this._render()},wheel:function(e,t){if(t.enableMouseWheel){t.changeType="mouse";var i=0;if(e||(e=window.event),e.originalEvent&&e.originalEvent.wheelDelta&&(e.wheelDelta=e.originalEvent.wheelDelta),e.wheelDelta?i=e.wheelDelta/120:e.detail&&(i=-e.detail/3),i){var r=t._handleDelta(i);return e.preventDefault&&e.preventDefault(),null!=e.originalEvent&&(e.originalEvent.mouseHandled=!0),void 0!=e.stopPropagation&&e.stopPropagation(),r?(r=!1,e.returnValue=r,r):!1}e.preventDefault&&e.preventDefault(),e.returnValue=!1}},_handleDelta:function(e){return 0>e?this.spinDown():this.spinUp(),!0},_addHandlers:function(){var t=this;this.addHandler(this.numberInput,"paste",function(i){var r=t._selection();i.preventDefault(),i.originalEvent.clipboardData?content=(i.originalEvent||i).clipboardData.getData("text/plain"):window.clipboardData&&(content=window.clipboardData.getData("Text")),this.selectedText=content,e.data(document.body,"jqxSelection",this.selectedText),"simple"!=t.inputMode?t._pasteSelectedText():t.val(content),setTimeout(function(){t._setSelectionStart(r.start)})}),this.addHandler(this.numberInput,"mousedown",function(e){return t._raiseEvent(2,e)}),this._mousewheelfunc=this._mousewheelfunc||function(e){return t.editcell?void 0:(t.wheel(e,t),!1)},this.removeHandler(this.host,"mousewheel",this._mousewheelfunc),this.addHandler(this.host,"mousewheel",this._mousewheelfunc);var i="";this.addHandler(this.numberInput,"focus",function(r){e.data(t.numberInput,"selectionstart",t._selection().start),t.host.addClass(t.toThemeProperty("jqx-fill-state-focus")),t.spincontainer&&t.spincontainer.addClass(t.toThemeProperty("jqx-numberinput-focus")),i=t.numberInput.val(),t._savedValue=t.decimal}),this.addHandler(this.numberInput,"blur",function(r){if("simple"==t.inputMode&&t._exitSimpleInputMode(r,t,!1,i),t.autoValidate){var s=parseFloat(t.decimal),a=t.getvalue("negative");a&&t.decimal>0&&(s=-parseFloat(t.decimal)),s>t.max&&(t._disableSetSelection=!0,t.setDecimal(t.max),t._disableSetSelection=!1),s<t.min&&(t._disableSetSelection=!0,t.setDecimal(t.min),t._disableSetSelection=!1)}return t.host.removeClass(t.toThemeProperty("jqx-fill-state-focus")),t.spincontainer&&t.spincontainer.removeClass(t.toThemeProperty("jqx-numberinput-focus")),t.numberInput.val()!=i&&(t._raiseEvent(7,r),e.jqx.aria(t,"aria-valuenow",t.decimal),t.element.value=t.decimal),!0}),this.addHandler(this.numberInput,"mouseup",function(e){return t._raiseEvent(3,e)}),this.addHandler(this.numberInput,"keydown",function(e){return t.changeType="keyboard",t._raiseEvent(4,e)}),this.addHandler(this.numberInput,"keyup",function(e){return t._raiseEvent(5,e)}),this.addHandler(this.numberInput,"keypress",function(e){return t._raiseEvent(6,e)})},focus:function(){try{this.numberInput.focus()}catch(e){}},_removeHandlers:function(){var t=this;this.removeHandler(this.numberInput,"mousedown");var i=e.jqx.mobile.isOperaMiniMobileBrowser();i&&this.removeHandler(e(document),"click."+this.element.id,t._exitSimpleInputMode,t),this.removeHandler(this.numberInput,"paste"),this.removeHandler(this.numberInput,"focus"),this.removeHandler(this.numberInput,"blur"),this.removeHandler(this.numberInput,"mouseup"),this.removeHandler(this.numberInput,"keydown"),this.removeHandler(this.numberInput,"keyup"),this.removeHandler(this.numberInput,"keypress")},_spinButtons:function(){if(!this.host.jqxRepeatButton)throw new Error("jqxNumberInput: Missing reference to jqxbuttons.js.");this.numberInput?this.numberInput.css("float","left"):(this.numberInput=e("<input autocomplete='off' style='border: none; position: relative; float: left;' type='textarea'/>"),this.numberInput.appendTo(this.host),this.numberInput.addClass(this.toThemeProperty("jqx-input-content")),this.numberInput.addClass(this.toThemeProperty("jqx-widget-content"))),this.spincontainer&&(this.upbutton&&this.upbutton.jqxRepeatButton("destroy"),this.downbutton&&this.downbutton.jqxRepeatButton("destroy"),this.spincontainer.remove()),this.spincontainer=e('<div style="float: right; height: 100%; overflow: hidden; position: relative;"></div>'),this.rtl&&(this.spincontainer.css("float","right"),this.numberInput.css("float","right"),this.spincontainer.css("left","-1px")),this.host.append(this.spincontainer),this.upbutton=e('<div style="overflow: hidden; padding: 0px; margin-left: -1px; position: relative;"><div></div></div>'),this.spincontainer.append(this.upbutton),this.upbutton.jqxRepeatButton({overrideTheme:!0,disabled:this.disabled,roundedCorners:"top-right"}),this.downbutton=e('<div style="overflow: hidden; padding: 0px; margin-left: -1px; position: relative;"><div></div></div>'),this.spincontainer.append(this.downbutton),this.downbutton.jqxRepeatButton({overrideTheme:!0,disabled:this.disabled,roundedCorners:"bottom-right"}),this.template&&(this.upbutton.addClass(this.toThemeProperty("jqx-"+this.template)),this.downbutton.addClass(this.toThemeProperty("jqx-"+this.template)));var t=this;this.downbutton.addClass(this.toThemeProperty("jqx-fill-state-normal jqx-action-button")),this.upbutton.addClass(this.toThemeProperty("jqx-fill-state-normal jqx-action-button")),this.upbutton.addClass(this.toThemeProperty("jqx-rc-tr")),this.downbutton.addClass(this.toThemeProperty("jqx-rc-br")),this.addHandler(this.downbutton,"mouseup",function(e){t.disabled||(t.downbutton.removeClass(t.toThemeProperty("jqx-fill-state-pressed")),t._downArrow.removeClass(t.toThemeProperty("jqx-icon-arrow-down-selected")))}),this.addHandler(this.upbutton,"mouseup",function(e){t.disabled||(t.upbutton.removeClass(t.toThemeProperty("jqx-fill-state-pressed")),t._upArrow.removeClass(t.toThemeProperty("jqx-icon-arrow-up-selected")))}),this.removeHandler(e(document),"mouseup."+this.element.id),this.addHandler(e(document),"mouseup."+this.element.id,function(e){t.upbutton.removeClass(t.toThemeProperty("jqx-fill-state-pressed")),t._upArrow.removeClass(t.toThemeProperty("jqx-icon-arrow-up-selected")),t.downbutton.removeClass(t.toThemeProperty("jqx-fill-state-pressed")),t._downArrow.removeClass(t.toThemeProperty("jqx-icon-arrow-down-selected"))}),this.addHandler(this.downbutton,"mousedown",function(i){return t.disabled?void 0:(e.jqx.browser.msie&&e.jqx.browser.version<9&&(t._inputSelection=t._selection()),t.downbutton.addClass(t.toThemeProperty("jqx-fill-state-pressed")),t._downArrow.addClass(t.toThemeProperty("jqx-icon-arrow-down-selected")),i.preventDefault(),i.stopPropagation(),!1)}),this.addHandler(this.upbutton,"mousedown",function(i){return t.disabled?void 0:(e.jqx.browser.msie&&e.jqx.browser.version<9&&(t._inputSelection=t._selection()),t.upbutton.addClass(t.toThemeProperty("jqx-fill-state-pressed")),t._upArrow.addClass(t.toThemeProperty("jqx-icon-arrow-up-selected")),i.preventDefault(),i.stopPropagation(),!1)}),this.addHandler(this.upbutton,"mouseenter",function(e){t.upbutton.addClass(t.toThemeProperty("jqx-fill-state-hover")),t._upArrow.addClass(t.toThemeProperty("jqx-icon-arrow-up-hover"))}),this.addHandler(this.upbutton,"mouseleave",function(e){t.upbutton.removeClass(t.toThemeProperty("jqx-fill-state-hover")),t._upArrow.removeClass(t.toThemeProperty("jqx-icon-arrow-up-hover"))}),this.addHandler(this.downbutton,"mouseenter",function(e){t.downbutton.addClass(t.toThemeProperty("jqx-fill-state-hover")),t._downArrow.addClass(t.toThemeProperty("jqx-icon-arrow-down-hover"))}),this.addHandler(this.downbutton,"mouseleave",function(e){t.downbutton.removeClass(t.toThemeProperty("jqx-fill-state-hover")),t._downArrow.removeClass(t.toThemeProperty("jqx-icon-arrow-down-hover"))}),this.upbutton.css("border-width","0px"),this.downbutton.css("border-width","0px"),this.disabled?(this.upbutton[0].disabled=!0,this.downbutton[0].disabled=!0):(this.upbutton[0].disabled=!1,this.downbutton[0].disabled=!1),this.spincontainer.addClass(this.toThemeProperty("jqx-input")),this.spincontainer.addClass(this.toThemeProperty("jqx-rc-r")),this.spincontainer.css("border-width","0px"),this.rtl?this.spincontainer.css("border-right-width","1px"):this.spincontainer.css("border-left-width","1px"),this._upArrow=this.upbutton.find("div"),this._downArrow=this.downbutton.find("div"),this._upArrow.addClass(this.toThemeProperty("jqx-icon-arrow-up")),this._downArrow.addClass(this.toThemeProperty("jqx-icon-arrow-down")),this._upArrow.addClass(this.toThemeProperty("jqx-input-icon")),this._downArrow.addClass(this.toThemeProperty("jqx-input-icon"));var t=this;this._upArrow.hover(function(){t.disabled||t._upArrow.addClass(t.toThemeProperty("jqx-icon-arrow-up-hover"))},function(){t._upArrow.removeClass(t.toThemeProperty("jqx-icon-arrow-up-hover"))}),this._downArrow.hover(function(){t.disabled||t._downArrow.addClass(t.toThemeProperty("jqx-icon-arrow-down-hover"))},function(){t._downArrow.removeClass(t.toThemeProperty("jqx-icon-arrow-down-hover"))});var i=e.jqx.mobile.isTouchDevice(),r="click";i&&(r=e.jqx.mobile.getTouchEventName("touchstart")),i&&(this.addHandler(this.downbutton,"click",function(e){t.spinDown()}),this.addHandler(this.upbutton,"click",function(e){t.spinUp()})),this.addHandler(this.downbutton,r,function(r){return i?(r.preventDefault(),r.stopPropagation()):(0==t._selection().start&&t._setSelectionStart(t.numberInput.val().length),e.jqx.browser.msie&&e.jqx.browser.version<9&&t._setSelectionStart(t._inputSelection.start)),t.spinDown(),!1}),this.addHandler(this.upbutton,r,function(r){return i?(r.preventDefault(),r.stopPropagation()):(0==t._selection().start&&t._setSelectionStart(t.numberInput.val().length),e.jqx.browser.msie&&e.jqx.browser.version<9&&t._setSelectionStart(t._inputSelection.start)),t.spinUp(),!1})},spinDown:function(){var t=this,i=this.decimal;if("none"!=t.spinMode){if(null==this.decimal)return void this.setDecimal(0);var r=this.getvalue("negative"),s=r?-1:0;if((e.jqx.mobile.isTouchDevice()||"textbox"==this.inputMode)&&t._doTouchHandling(),!t.disabled){var a=this._selection(),n=this.decimal,o=this.getDecimal();if(o<this.min)return o=this.min,this.setDecimal(this.min),this._setSelectionStart(a.start),void this.spinDown();if(o>this.max)return o=this.max,this.setDecimal(this.max),this._setSelectionStart(a.start),void this.spinDown();t.spinButtonsStep<0&&(t.spinButtonsStep=1);var l=parseInt(t.decimal)-t.spinButtonsStep;l=l.toString().length;var h=s+l<=t.digits;if("advanced"!=t.spinMode){if(o-t.spinButtonsStep>=t.min&&h){var d=1;for(m=0;m<t.decimalDigits;m++)d=10*d;var c=d*o-d*t.spinButtonsStep;c/=d,c=this._parseDecimalValueToEditorValue(c),t.setDecimal(c)}}else{var u=this._getspindecimal(),o=(this._getSeparatorPosition(),parseFloat(u.decimal));t.spinButtonsStep<0&&(t.spinButtonsStep=1);var l=parseInt(o)-t.spinButtonsStep;l=l.toString().length;var h=s+l<=t.digits,d=1,p=u.decimal.indexOf(".");if(-1!=p){for(var f=u.decimal.length-p-1,d=1,m=0;f>m;m++)d=10*d;o-=new Number(t.spinButtonsStep/d),o=o.toFixed(f);var p=o.toString().indexOf(".");-1==p&&(o=o.toString()+".");var g=o.toString()+u.afterdecimal;g=new Number(g),g=g.toFixed(t.decimalDigits),g>=t.min&&(g=this._parseDecimalValueToEditorValue(g),t.setDecimal(g))}else if(o-t.spinButtonsStep>=t.min&&h){var c=d*o-d*t.spinButtonsStep;c/=d;var g=c.toString()+u.afterdecimal;g>=t.min&&(g=this._parseDecimalValueToEditorValue(g),t.setDecimal(g))}}if(void 0==g||"simple"!=this.inputMode)return this._setSelectionStart(a.start),t.savedValue=t.numberInput[0].value,i!=this.decimal&&(e.jqx.mobile.isTouchDevice()&&this._raiseEvent(0,{}),this._raiseEvent(7,{})),void e.jqx.aria(self,"aria-valuenow",this.decimal);g=this.decimal.toString();var r=this.getvalue("negative");0==s&&r?this._setSelectionStart(a.start+1):void 0==g||void 0!=n&&n.toString().length!=g.length?r?this._setSelectionStart(a.start+1):this._setSelectionStart(a.start-1):this._setSelectionStart(a.start),i!=this.decimal&&(e.jqx.mobile.isTouchDevice()&&this._raiseEvent(0,{}),this._raiseEvent(7,{})),e.jqx.aria(self,"aria-valuenow",this.decimal)}}},_getspindecimal:function(){var e=this._selection(),t="",i=(this._getSeparatorPosition(),this._getVisibleItems()),r=this._getHiddenPrefixCount(),s=this.numberInput.val();this.numberInput.val().length==e.start&&0==e.length&&(this._setSelection(e.start,e.start+1),e=this._selection());for(var a="advanced"!=this.inputMode,n=0;n<e.start;n++)if(a){var o=s.substring(n,n+1),l=!isNaN(parseInt(o));l&&(t+=o),o==this.decimalSeparator&&(t+=o)}else i[n].canEdit&&i[n].character!=this.promptChar?t+=i[n].character:i[n].canEdit||-1==this.decimalSeparatorPosition||i[n]!=i[this.decimalSeparatorPosition-r]||(0==t.length&&(t="0"),t+=i[n].character);for(var h="",n=e.start;n<i.length;n++)if(a){var o=s.substring(n,n+1),l=!isNaN(parseInt(o));l&&(h+=o),o==this.decimalSeparator&&(h+=o)}else i[n].canEdit&&i[n].character!=this.promptChar?h+=i[n].character:i[n].canEdit||-1==this.decimalSeparatorPosition||i[n]!=i[this.decimalSeparatorPosition-r]||(h+=i[n].character);var d=this.getvalue("negative"),c=d?"-"+this._parseDecimalValue(t).toString():this._parseDecimalValue(t).toString();return{decimal:c,afterdecimal:this._parseDecimalValue(h)}},_parseDecimalValue:function(e){if("."!=this.decimalSeparator){var t=e.toString().indexOf(this.decimalSeparator);if(t>=0){var i=e.toString().substring(0,t)+"."+e.toString().substring(t+1);return i}}return e},_parseDecimalValueToEditorValue:function(e){if("."!=this.decimalSeparator){var t=e.toString().indexOf(".");if(t>=0){var i=e.toString().substring(0,t)+this.decimalSeparator+e.toString().substring(t+1);return i}}return e},spinUp:function(){var t=this,i=this.decimal;if("none"!=t.spinMode){if(null==this.decimal)return void this.setDecimal(0);(e.jqx.mobile.isTouchDevice()||"textbox"==this.inputMode)&&t._doTouchHandling();var r=this.getvalue("negative"),s=r?-1:0;if(!t.disabled){var a=this._selection(),n=t.decimal,o=t.getDecimal();if(o<this.min)return o=this.min,this.setDecimal(this.min),this._setSelectionStart(a.start),void this.spinUp();if(o>this.max)return o=this.max,this.setDecimal(this.max),this._setSelectionStart(a.start),void this.spinUp();t.spinButtonsStep<0&&(t.spinButtonsStep=1);var l=parseInt(t.decimal)+t.spinButtonsStep;l=l.toString().length;var h=s+l<=t.digits;if("advanced"!=t.spinMode){if(o+t.spinButtonsStep<=t.max&&h){for(var d=1,c=0;c<t.decimalDigits;c++)d=10*d;var u=d*o+d*t.spinButtonsStep;u/=d,u=this._parseDecimalValueToEditorValue(u),t.setDecimal(u)}}else{var p=this._getspindecimal(),o=(this._getSeparatorPosition(),parseFloat(p.decimal));t.spinButtonsStep<0&&(t.spinButtonsStep=1);var l=parseInt(o)+t.spinButtonsStep;l=l.toString().length;var h=s+l<=t.digits,d=1,f=p.decimal.indexOf(".");if(-1!=f){for(var m=p.decimal.length-f-1,d=1,c=0;m>c;c++)d=10*d;o+=new Number(t.spinButtonsStep/d),o=o.toFixed(m);var f=o.toString().indexOf(".");-1==f&&(o=o.toString()+".");var g=o.toString()+p.afterdecimal;g=new Number(g),g=g.toFixed(t.decimalDigits);var v=new Number(g).toFixed(t.decimalDigits);v<=t.max?(g=this._parseDecimalValueToEditorValue(g),t.setDecimal(g)):g=void 0}else if(o+t.spinButtonsStep<=t.max&&h){var u=d*o+d*t.spinButtonsStep;u/=d;var g=u.toString()+p.afterdecimal,v=new Number(g).toFixed(t.decimalDigits);v<=t.max?(g=this._parseDecimalValueToEditorValue(g),r&&-1==g.indexOf("-")&&"-0"!=p.decimal&&(g="-"+g),t.setDecimal(g)):g=void 0}}if(void 0==g||"simple"!=this.inputMode)return this._setSelectionStart(a.start),t.savedValue=t.numberInput[0].value,i!=this.decimal&&(e.jqx.mobile.isTouchDevice()&&this._raiseEvent(0,{}),this._raiseEvent(7,{})),void e.jqx.aria(self,"aria-valuenow",this.decimal);g=this.decimal.toString();var r=this.getvalue("negative");-1!=s||r?void 0==g||void 0!=n&&n.toString().length!=g.length?r?this._setSelectionStart(a.start):this._setSelectionStart(1+a.start):this._setSelectionStart(a.start):this._setSelectionStart(-1+a.start),i!=this.decimal&&(e.jqx.mobile.isTouchDevice()&&this._raiseEvent(0,{}),this._raiseEvent(7,{})),e.jqx.aria(self,"aria-valuenow",this.decimal)}}},_exitSimpleInputMode:function(t,i,r,s){if(void 0==i&&(i=t.data),null!=i){if(void 0==r){if(null!=t.target&&null!=i.element&&(void 0!=t.target.id&&t.target.id.toString().length>0&&i.host.find("#"+t.target.id).length>0||t.target==i.element))return;var a=i.host.offset(),n=a.left,o=a.top,l=i.host.width(),h=i.host.height(),d=e(t.target).offset();if(d.left>=n&&d.left<=n+l&&d.top>=o&&d.top<=o+h)return}if(e.jqx.mobile.isOperaMiniBrowser()&&i.numberInput.attr("readonly",!0),!i.disabled&&!i.readOnly){var c=e.data(i.numberInput,"simpleInputMode");if(null!=c)return e.data(i.numberInput,"simpleInputMode",null),this._parseDecimalInSimpleMode(),!1}}},_getDecimalInSimpleMode:function(){var e=this.decimal;if("."!=this.decimalSeparator){var t=e.toString().indexOf(this.decimalSeparator);if(t>0)var i=e.toString().substring(0,t),e=i+"."+e.toString().substring(t+1)}return e},_parseDecimalInSimpleMode:function(e){var t=this,i=t.getvalue("negative"),r=this.ValueString;if(void 0==r&&(r=this.GetValueString(this.numberInput.val(),this.decimalSeparator,""!=this.decimalSeparator)),"."!=this.decimalSeparator){var s=r.toString().indexOf(".");if(s>0){var a=r.toString().substring(0,s),n=a+this.decimalSeparator+r.toString().substring(s+1);r=n}}var o=i?"-":"";"left"==this.symbolPosition&&(o+=this.symbol);var l=this.digits%this.groupSize;0==l&&(l=this.groupSize);var h=r.toString();h.indexOf("-")>=0&&(h=h.substring(h.indexOf("-")+1)),o+=h,"right"==this.symbolPosition&&(o+=this.symbol),0!=e&&t.numberInput.val(o)},_enterSimpleInputMode:function(t,i){void 0==i&&(i=t.data);var r=this._selection();if(null!=i){var s=i.getvalue("negative"),a=i.decimal;s&&a>0&&(a=-a),i.numberInput.val(a),e.data(i.numberInput,"simpleInputMode",!0),e.jqx.mobile.isOperaMiniBrowser()&&i.numberInput.attr("readonly",!1),this._parseDecimalInSimpleMode(),this._setSelectionStart(r.start)}},setvalue:function(e,t){void 0!==this[e]&&("decimal"==e?this._setDecimal(t):(this[e]=t,this.propertyChangedHandler(this,e,t,t)))},getvalue:function(e){return"decimal"==e&&void 0!=this.negative&&1==this.negative?-Math.abs(this[e]):e in this?this[e]:null},_getString:function(){for(var e="",t=0;t<this.items.length;t++){var i=this.items[t].character;e+=i}return e},_literal:function(e,t,i,r){return{character:e,regex:t,canEdit:i,isSeparator:r}},_initializeLiterals:function(){if("textbox"!=this.inputMode){for(var e=0,t=this.negativeSymbol.length,i=0;t>i;i++){var r=this.negativeSymbol.substring(i,i+1),s="",a=!1,n=null;n=this.negative?this._literal(r,s,a,!1):this._literal("",s,a,!1),this.items[e]=n,e++}var o=this.symbol.length;if("left"==this.symbolPosition)for(i=0;o>i;i++){var r=this.symbol.substring(i,i+1),s="",a=!1,n=this._literal(r,s,a,!1);this.items[e]=n,e++}var l=this.digits%this.groupSize;0==l&&(l=this.groupSize);for(var i=0;i<this.digits;i++){var r=this.promptChar,s="\\d",a=!0,n=this._literal(r,s,a,!1);if(this.items[e]=n,e++,i<this.digits-1&&void 0!=this.groupSeparator&&this.groupSeparator.length>0){if(l--,0==l){l=this.groupSize;var h=this._literal(this.groupSeparator,"",!1,!1);this.items[e]=h,e++}}else i==this.digits-1&&(n.character=0)}if(this.decimalSeparatorPosition=-1,void 0!=this.decimalDigits&&this.decimalDigits>0){var r=this.decimalSeparator;0==r.length&&(r=".");var n=this._literal(r,"",!1,!0);this.items[e]=n,this.decimalSeparatorPosition=e,e++;for(var i=0;i<this.decimalDigits;i++){var d=0,s="\\d",c=this._literal(d,s,!0,!1);this.items[e]=c,e++}}if("right"==this.symbolPosition)for(var i=0;o>i;i++){var r=this.symbol.substring(i,i+1),s="",a=!1,n=this._literal(r,s,a);this.items[e]=n,e++}}},_match:function(e,t){var i=new RegExp(t,"i");return i.test(e)},_raiseEvent:function(t,i){var r=this.events[t],s={};if(s.owner=this,"none"==this.host.css("display"))return!0;var a=i.charCode?i.charCode:i.keyCode?i.keyCode:0,n=!0,o=this.readOnly,l=this;if((3==t||2==t)&&!this.disabled){if("simple"==this.inputMode||"textbox"==this.inputMode)return!0;this._handleMouse(i)}if(0==t){var h=this.getvalue("decimal");this.max<h||this.min>h?this.host.addClass(this.toThemeProperty("jqx-input-invalid")):(this.host.removeClass(this.toThemeProperty("jqx-input-invalid")),this.host.addClass(this.toThemeProperty("jqx-input")),this.host.addClass(this.toThemeProperty("jqx-rc-all")))}var d=new e.Event(r);d.owner=this,s.value=this.getvalue("decimal"),s.text=this.numberInput.val(),d.args=s,7==t&&(s.type=this.changeType,this.changeType=null),void 0!=r&&4!=t&&5!=t&&6!=t&&(n=this.host.trigger(d));var l=this;if("textbox"==this.inputMode)return n;if("simple"!=this.inputMode){if(4==t){if(o||this.disabled)return!1;n=l._handleKeyDown(i,a)}else if(5==t)(o||this.disabled)&&(n=!1);else if(6==t){if(o||this.disabled)return!1;n=l._handleKeyPress(i,a)}}else if(4==t||5==t||6==t){if(e.jqx.mobile.isTouchDevice()||this.touchMode===!0)return!0;if(o||this.disabled)return!1;var c=String.fromCharCode(a),u=(parseInt(c),!0);if(i.ctrlKey||i.shiftKey||i.metaKey||a>=65&&90>=a&&(u=!1),6==t&&void 0!=e.jqx.browser.opera&&8==a)return!1;if(u){if(4==t&&(u=l._handleSimpleKeyDown(i,a)),189==a||45==a||109==a||173==a){var p=l._selection();if(4==t){var f=l.getvalue("negative");0==f?l.setvalue("negative",!0):l.setvalue("negative",!1),l.decimal=l.ValueString,l._parseDecimalInSimpleMode(),l._setSelectionStart(p.start),u=!1,l._raiseEvent(0,l.value),l._raiseEvent(1,l.numberInput.val())}}var m=s.ctrlKey||s.metaKey;if(!e.jqx.browser.msie){var g=i;if(m&&99==a||m&&67==a||m&&122==a||m&&90==a||m&&118==a||m&&86==a||g.shiftKey&&45==a)return(e.jqx.browser.webkit||e.jqx.browser.chrome)&&l._handleSimpleKeyDown(i,a),67==a}if(m&&97==a||m&&65==a)return!0;if(6==t&&u){var v=this._isSpecialKey(a);return v}}return u}return n},GetSelectionInValue:function(e,t,r,s){var a=0;for(i=0;i<t.length&&!(i>=e);i++){var n=t.substring(i,i+1),o=!isNaN(parseInt(n));(o||s&&t.substring(i,i+1)==r)&&a++}return a},GetSelectionLengthInValue:function(e,t,r,s){var a=0;for(i=0;i<r.length&&!(i>=e+t);i++){var n=r.substring(i,i+1),o=!isNaN(parseInt(n));(t>0&&i>=e&&o||i>=e&&r[i].toString()==s)&&a++}return a},GetInsertTypeByPositionInValue:function(e,t,i,r){var s="before",a=this.GetValueString(i,t,r),n=this.GetDigitsToSeparator(0,a,t);return e>n&&(s="after"),s},RemoveRange:function(e,t,i,r,s,a){var n=this.digits,o=e,l=t,h=0,r=(this.decimal,this._selection(),this.decimalSeparator),d=""!=r;if(0==l&&this.ValueString.length<this.decimalPossibleChars-1)return h;var c=this.GetSeparatorPositionInText(r,i);s||(c=this.GetSeparatorPositionInText(r,i)),0>c&&!d&&i.length>1&&(c=i.length),-1==c&&(c=i.length);var u=d?1:0;if(2>t&&1==a){var p=this.ValueString.length-this.decimalDigits-u;p==n&&c>e+t&&l++}for(var f="",m=0;m<i.length;m++)if(o>m||m>=o+l)f+=i.substring(m,m+1);else{var g=i.substring(m,m+1);if(g!=r){var g=i.substring(m,m+1);if(!(this.symbol&&""!=this.symbol&&this.symbol.indexOf(g)>=0))if(m>c)f+="0";else{var g=i.substring(m,m+1),v=!isNaN(parseInt(g));v&&h++}}else f+=r}0==f.length&&(f="0"),s?this.numberInput.val(f):this.ValueString=f;var x=f.substring(0,1);if(x==r&&isNaN(parseInt(x))){var b="0"+f;f=b}return this.ValueString=this.GetValueString(f,r,d),this.decimal=this.ValueString,this._parseDecimalInSimpleMode(),this._setSelectionStart(o),h},InsertDigit:function(e,t){"number"!=typeof this.digits&&(this.digits=parseInt(this.digits)),"number"!=typeof this.decimalDigits&&(this.decimalDigits=parseInt(this.decimalDigits));var i=1+this.digits,r=this._selection(),s=this.getvalue("negative"),a=!1;0==r.start&&""!=this.symbol&&"left"==this.symbolPosition&&(this._setSelectionStart(r.start+1),r=this._selection(),a=!0),(s&&a||s&&!a&&0==r.start)&&(this._setSelectionStart(r.start+1),r=this._selection());var n=this.numberInput.val().substring(r.start,r.start+1),o=this.numberInput.val(),l=this.decimalSeparator,h=""!=l&&this.decimalDigits>0;if(n==this.symbol&&"right"==this.symbolPosition){if(0!=this.decimalDigits)return;if(this.ValueString=this.GetValueString(o,l,h),this.ValueString.length>=i)return}this.ValueString=this.GetValueString(o,l,h),""==this.ValueString&&(this.ValueString=new Number(0).toFixed(this.decimalDigits));var d=this.ValueString;this.decimalDigits>0&&t>=d.length&&(t=d.length-1);var c="";t<d.length&&(c=d.substring(t,t+1));var u=!1,p=this.GetInsertTypeByPositionInValue(t,l,o,h);"after"==p&&(u=!0);var f=h?1:0;c!=l&&this.ValueString.length-this.decimalDigits-f>=i-1&&(u=!0),"0"===c&&1===this.ValueString.length&&0===this.decimalDigits&&(u=!0);var m=!1,g=h?1:0;if(!(!u&&this.ValueString&&this.ValueString.length>=this.digits+this.decimalDigits+g)){if(u&&c!=l){m&&t++;var v=d.substring(0,t);if(v.length==d.length&&this.ValueString.length>=this.digits+this.decimalDigits+g)return;var x=e,b="";t+1<d.length&&(b=d.substring(t+1));var w=v+x+b;this.ValueString=w}else{var v=d.substring(0,t),x=e,b=d.substring(t),w=v+x+b;"0"==d.substring(0,1)&&d.substring(1,2)==l&&(w=x+d.substring(1),c==l&&(this._setSelectionStart(r.start-1),r=this._selection())),this.ValueString=w}s?this.decimal=-this.ValueString:this.decimal=this.ValueString,this._parseDecimalInSimpleMode();var y=r.start;y+=1,this._setSelectionStart(y),this.value=this.decimal,this._raiseEvent(0,this.value),this._raiseEvent(1,this.numberInput.val())}},GetStringToSeparator:function(e,t,i){var r="",s=this.GetSeparatorPositionInText(t,e),a=e.subString(0,s);return r=this.GetValueString(a,t,i)},GetSeparatorPositionInText:function(e,t){var r=-1;for(i=0;i<t.length;i++)if(t.substring(i,i+1)==e){r=i;break}return r},GetValueString:function(e,t,i){
for(var r="",s=0;s<e.length;s++){var a=e.substring(s,s+1),n=!isNaN(parseInt(a));n&&(r+=a),a==t&&(r+=t)}return r},Backspace:function(){var e=this._selection(),t=this._selection(),i=this.numberInput.val();if(0!=e.start||0!=e.length){this.isBackSpace=!0;var r=i.substring[(e.start,e.start+1)];!isNaN(parseInt(r));if(e.start>0&&0==e.length){this._setSelectionStart(e.start-1);var e=this._selection()}this.Delete(),this._setSelectionStart(t.start-1),this.isBackSpace=!1}},Delete:function(e){var t=this._selection(),i=this.numberInput.val();if(0===t.start&&"-"==i.substring(0,1)){this.setvalue("negative",!1);var t=this._selection(),i=this.numberInput.val()}var r=t.start,s=t.length;s=Math.max(s,1),this.ValueString=this.GetValueString(i,this.decimalSeparator,""!=this.decimalSeparator),r>this.ValueString.indexOf(this.decimalSeparator)&&this.decimalDigits>0&&r++;var a=0;this.symbol&&("left"==this.symbolPosition&&a--,this.negative&&a--),this.RemoveRange(t.start+a,s,this.ValueString,".",!1);var n=this.ValueString.substring(0,1),o=!isNaN(parseInt(n));o||(this.ValueString="0"+this.ValueString),this.decimal=this.ValueString,this._parseDecimalInSimpleMode(),this._setSelectionStart(r),this.value=this.decimal,this._raiseEvent(0,this.value),this._raiseEvent(1,this.numberInput.val())},insertsimple:function(e){var t=this._selection(),i=this.numberInput.val();if(!(t.start==i.length&&null!=this.decimal&&this.decimalDigits>0)){var r=(this.decimal,this.decimalSeparator);this.ValueString=this.GetValueString(i,r,""!=r);var s=this.GetSelectionInValue(t.start,i,r,""!=r),a=this.GetSelectionLengthInValue(t.start,t.length,i,r);this.GetDigitsToSeparator(0,this.ValueString,r);if(this.decimalDigits>0&&s>=this.ValueString.length&&s--,""==this.ValueString)return this.ValueString=new Number(0).toFixed(this.decimalDigits),this.ValueString=this.ValueString.replace(".",r),this.RemoveRange(t.start,a,this.ValueString,r,!1,!0),void this.InsertDigit(e,0,t);this.RemoveRange(t.start,a,this.ValueString,r,!1,!0),this.InsertDigit(e,s,t)}},GetDigitsToSeparator:function(e,t,r){if(void 0==r&&(r="."),t.indexOf(r)<0)return t.length;for(i=0;i<t.length;i++)if(t.substring(i,i+1)==r){e=i;break}return e},_handleSimpleKeyDown:function(t,i){var r=this._selection(),s=t.ctrlKey||t.metaKey;if((8==i||46==i)&&s)return this.setDecimal(null),!1;if(r.start>=0&&r.start<this.items.length)var a=String.fromCharCode(i);if(27===i){this.setDecimal(this._savedValue);var n=this.GetSeparatorPositionInText(this.decimalSeparator,this.numberInput.val());-1!=n&&this._setSelectionStart(n),t.preventDefault()}if(this.rtl&&37==i){var o=t.shiftKey,l=o?1:0;return o?this._setSelection(r.start+1-l,r.start+r.length+1):this._setSelection(r.start+1-l,r.start+1),!1}if(this.rtl&&39==i){var o=t.shiftKey,l=o?1:0;return o?this._setSelection(r.start-1,r.length+l+r.start-1):this._setSelection(r.start-1,r.start-1),!1}if(8==i)return this.Backspace(),!1;if(190==i||110==i){var n=this.GetSeparatorPositionInText(this.decimalSeparator,this.numberInput.val());return-1!=n&&this._setSelectionStart(n+1),!1}if(188==i){var h=this.numberInput.val();for(u=r.start;u<h.length;u++)if(h[u]==this.groupSeparator){this._setSelectionStart(1+u);break}return!1}var s=t.ctrlKey||t.metaKey;if(s&&99==i||s&&67==i){var r=this._selection(),d="",c=this.numberInput.val();if(r.start>0||r.length>0)for(var u=r.start;u<r.end;u++)d+=c.substring(u,u+1);if(e.data(document.body,"jqxSelection",d),e.jqx.browser.msie)window.clipboardData.setData("Text",d);else{var p=this,f=e('<textarea style="position: absolute; left: -1000px; top: -1000px;"/>');f.val(d),e("body").append(f),f.select(),setTimeout(function(){document.designMode="off",f.select(),f.remove(),p.focus()},100)}return this.savedText=d,!0}if(s&&122==i||s&&90==i)return!1;if(s&&118==i||s&&86==i||t.shiftKey&&45==i)return e.jqx.browser.msie&&!this.savedText&&(this.savedText=window.clipboardData.getData("Text")),null!=this.savedText&&this.savedText.length>0?this.val(this.savedText):this.val(e.data(document.body,"jqxSelection")),!1;var a=String.fromCharCode(i),m=parseInt(a);if(i>=96&&105>=i&&(m=i-96,i-=48),!isNaN(m)){var p=this;return this.insertsimple(m),!1}if(46==i)return this.Delete(),!1;if(38==i)return this.spinUp(),!1;if(40==i)return this.spinDown(),!1;var g=this._isSpecialKey(i);return e.jqx.browser.mozilla?g:!0},_getEditRange:function(){var e=0,t=0;for(i=0;i<this.items.length;i++)if(this.items[i].canEdit){e=i;break}for(i=this.items.length-1;i>=0;i--)if(this.items[i].canEdit){t=i;break}return{start:e,end:t}},_getVisibleItems:function(){var e=new Array,t=0;for(i=0;i<this.items.length;i++)this.items[i].character.toString().length>0&&(e[t]=this.items[i],t++);return e},_hasEmptyVisibleItems:function(){var e=this._getVisibleItems();for(i=0;i<e.length;i++)if(e[i].canEdit&&e[i].character==this.promptChar)return!0;return!1},_getFirstVisibleNonEmptyIndex:function(){var e=this._getVisibleItems();for(i=0;i<e.length;i++)if(e[i].canEdit&&e[i].character!=this.promptChar)return i},_handleMouse:function(e,t){var i=this._selection();if(i.length<=1){var r=this._getFirstVisibleNonEmptyIndex();i.start<r&&this._setSelectionStart(r)}},_insertKey:function(t){this.numberInput[0].focus();var r=String.fromCharCode(t),s=parseInt(r);if(!isNaN(s)){var a=0;for(i=0;i<this.items.length;i++)0==this.items[i].character.length&&a++;var n=this._selection(),o=this;if(n.start>=0&&n.start<=this.items.length){var l=!1,h=this._getFirstVisibleNonEmptyIndex();n.start<h&&0==n.length&&(isNaN(r)&&" "!=r||(this._setSelectionStart(h),n=this._selection()));var d=(this._getFirstEditableItemIndex(),this._getLastEditableItemIndex()),c=this._getVisibleItems();e.each(c,function(e,t){if(!(n.start>e&&e!=c.length-1)){var i=c[e];if(e>d&&(i=c[d]),!isNaN(r)&&" "!=r&&i.canEdit){var s=o._getSeparatorPosition();if(o._match(r,i.regex)){if(!l&&n.length>0){for(j=n.start+a;j<n.end+a;j++)o.items[j].canEdit&&(j>s?o.items[j].character="0":o.items[j].character=o.promptChar);var h=o._getString();l=!0}var s=o._getSeparatorPosition(),u=o._hasEmptyVisibleItems();if(null==o.decimal&&(n.start=s-1,n.start<0&&(n.start=0),n.end=n.start),n.start<=s&&u){var f=e;-1==o.decimalSeparatorPosition&&n.start==s&&(f=e+1),null==o.decimal&&(f=n.start);var m="";for(p=0;p<f;p++)c[p].canEdit&&c[p].character!=o.promptChar&&(m+=c[p].character);m+=r;var g=o.decimal<1?1:0;for(n.start==s&&-1!=o.decimalSeparatorPosition&&(m+=o.decimalSeparator,g=0),p=f+g;p<c.length;p++)c[p].character==o.decimalSeparator&&c[p].isSeparator?m+=c[p].character:c[p].canEdit&&c[p].character!=o.promptChar&&(m+=c[p].character);"."!=o.decimalSeparator&&(m=o._parseDecimalValue(m)),m=parseFloat(m).toString(),m=new Number(m),m=m.toFixed(o.decimalDigits),"."!=o.decimalSeparator&&(m=o._parseDecimalValueToEditorValue(m)),o.setvalue("decimal",m);var h=o._getString();if(n.end<s?o._setSelectionStart(n.end+g):o._setSelectionStart(n.end),n.length>=1&&o._setSelectionStart(n.end),n.length==o.numberInput.val().length){var v=o._moveCaretToDecimalSeparator(),x=o.decimalSeparatorPosition>=0?1:0;o._setSelectionStart(v-x)}}else if(n.start<s||n.start>s){if(o.numberInput.val().length==n.start&&-1!=o.decimalSeparatorPosition)return!1;if(o.numberInput.val().length==n.start&&-1==o.decimalSeparatorPosition&&!u)return!1;var m="",b=!1;for(p=0;p<e;p++)c[p].canEdit&&c[p].character!=o.promptChar&&(m+=c[p].character),c[p].character==o.decimalSeparator&&c[p].isSeparator&&(m+=c[p].character,b=!0);m+=r;var g=o.decimal<1?1:0;for(b||n.start!=s-1||(m+=o.decimalSeparator,b=!0),p=e+1;p<c.length;p++)!b&&c[p].character==o.decimalSeparator&&c[p].isSeparator?m+=c[p].character:c[p].canEdit&&c[p].character!=o.promptChar&&(m+=c[p].character);o.setvalue("decimal",m);var h=o._getString();if(o.decimalSeparatorPosition<0&&i==c[d])return o._setSelectionStart(e),!1;var w=h.indexOf(o.symbol),y=o.getvalue("negative")?1:0;if(y>=w&&(w=h.length),n.start<w?o._setSelectionStart(e+1):o._setSelectionStart(e),n.length>=1,n.length==o.numberInput.val().length){var v=o._moveCaretToDecimalSeparator();o._setSelectionStart(v-1)}}return!1}}}})}}},_handleKeyPress:function(t,i){var r=this._selection(),s=this,a=t.ctrlKey||t.metaKey;if(a&&97==i||a&&65==i)return!0;if(8==i)return r.start>0&&s._setSelectionStart(r.start),!1;if(46==i)return r.start<this.items.length&&s._setSelectionStart(r.start),!1;if(!e.jqx.browser.mozilla&&(45==i||173==i||109==i||189==i)){var n=this.getvalue("negative");0==n?this.setvalue("negative",!0):this.setvalue("negative",!1)}e.jqx.browser.msie&&this._insertKey(i);var o=this._isSpecialKey(i);return o},_deleteSelectedText:function(){var e=this._selection(),t="",r=this._getSeparatorPosition(),s=this._getVisibleItems(),a=this._getHiddenPrefixCount();for(this.numberInput.val().length==e.start&&0==e.length&&(this._setSelection(e.start,e.start+1),e=this._selection()),i=0;i<e.start;i++)s[i].canEdit&&s[i].character!=this.promptChar?t+=s[i].character:s[i].canEdit||-1==this.decimalSeparatorPosition||s[i]!=s[this.decimalSeparatorPosition-a]||(0==t.length&&(t="0"),t+=s[i].character);for(i=e.start;i<e.end;i++)i>r&&-1!=this.decimalSeparatorPosition?s[i].canEdit&&s[i].character!=this.promptChar&&(t+="0"):s[i].canEdit||-1==this.decimalSeparatorPosition||s[i]!=s[this.decimalSeparatorPosition-a]||(0==t.length&&(t="0"),t+=s[i].character);for(i=e.end;i<s.length;i++)s[i].canEdit&&s[i].character!=this.promptChar?t+=s[i].character:s[i].canEdit||-1==this.decimalSeparatorPosition||s[i]!=s[this.decimalSeparatorPosition-a]||(0==t.length&&(t="0"),t+=s[i].character);return this.setvalue("decimal",t),e.length>0},_restoreInitialState:function(){var e=parseInt(this.decimalDigits);for(e>0&&(e+=2),k=this.items.length-1;k>this.items.length-1-e&&this.items[k];k--)this.items[k].canEdit&&this.items[k].character==this.promptChar&&(this.items[k].character=0)},clear:function(){this.setDecimal(0)},clearDecimal:function(){if("textbox"==this.inputMode)return void this.numberInput.val();for(var e=0;e<this.items.length;e++)this.items[e].canEdit&&(this.items[e].character=this.promptChar);this._restoreInitialState()},_saveSelectedText:function(){var t=this._selection(),r="",s=this._getVisibleItems();if(t.start>0||t.length>0)for(i=t.start;i<t.end;i++)s[i].canEdit&&s[i].character!=this.promptChar?r+=s[i].character:s[i].isSeparator&&(r+=s[i].character);return e.jqx.browser.msie&&window.clipboardData.setData("Text",r),r},_pasteSelectedText:function(){var t=this._selection();if(this.selectedText=e.data(document.body,"jqxSelection"),window.clipboardData){var i=window.clipboardData.getData("Text");if(i!=this.selectedText&&i.length>0&&(this.selectedText=window.clipboardData.getData("Text"),null==this.selectedText||void 0==this.selectedText))return}t.start,this._getVisibleItems();if(null!=this.selectedText)for(var r=0;r<this.selectedText.length;r++){var s=parseInt(this.selectedText[r]);if(!isNaN(s)){var a=48+s;this._insertKey(a)}}},_getHiddenPrefixCount:function(){var e=0;if(this.negative||e++,"left"==this.symbolPosition)for(i=0;i<this.symbol.length;i++)""==this.symbol.substring(i,i+1)&&e++;return e},_getEditableItem:function(){var e=this._selection();for(i=0;i<this.items.length;i++)if(i<e.start&&this.items[i].canEdit&&this.items[i].character!=this.promptChar)return this.items[i];return null},_getEditableItems:function(){var e=new Array,t=0;for(i=0;i<this.items.length;i++)this.items[i].canEdit&&(e[t]=this.items[i],t++);return e},_getValidSelectionStart:function(e){for(i=this.items.length-1;i>=0;i--)if(this.items[i].canEdit&&this.items[i].character!=this.promptChar)return i;return-1},_getEditableItemIndex:function(e){var t=this._selection(),r=this._getHiddenPrefixCount(),s=this._getVisibleItems(),a=t.start,n=-1;for(i=0;i<a;i++)i<s.length&&s[i].canEdit&&(n=i+r);if(-1==n&&t.length>0)for(a=t.end,i=0;i<a;i++)if(i<s.length&&s[i].canEdit){n=i+r;break}return n},_getEditableItemByIndex:function(e){for(k=0;k<this.items.length;k++)if(k>e&&this.items[k].canEdit&&this.items[k].character!=this.promptChar)return k;return-1},_getFirstEditableItemIndex:function(){var e=this._getVisibleItems();for(m=0;m<e.length;m++)if(e[m].character!=this.promptChar&&e[m].canEdit&&"0"!=e[m].character)return m;return-1},_getLastEditableItemIndex:function(){var e=this._getVisibleItems();for(m=e.length-1;m>=0;m--)if(e[m].character!=this.promptChar&&e[m].canEdit)return m;return-1},_moveCaretToDecimalSeparator:function(){for(i=this.items.length-1;i>=0;i--)if(this.items[i].character==this.decimalSeparator&&this.items[i].isSeparator)return this.negative?(this._setSelectionStart(i+1),i):(this._setSelectionStart(i),i);return this.numberInput.val().length},_handleBackspace:function(){var e=this._selection(),t=this._getHiddenPrefixCount(),i=this._getEditableItemIndex()-t,r=this._getFirstVisibleNonEmptyIndex(),s=!1;if(this.negative&&(s=!0,(r>=i+1||0==e.start)&&(this.setvalue("negative",!1),0==e.length))){this._setSelectionStart(e.start-1);var e=this._selection()}if(i>=0){0==e.length&&-1!=i&&this._setSelection(i,i+1);var a=e.start>this._getSeparatorPosition()+1&&this.decimalSeparatorPosition>0;a&&(e=this._selection());this._deleteSelectedText();if(e.length<1||a?this._setSelectionStart(e.start):e.length>=1&&this._setSelectionStart(e.end),e.length==this.numberInput.val().length||s){var n=this._moveCaretToDecimalSeparator();this._setSelectionStart(n-1)}}else this._setSelectionStart(e.start)},_handleKeyDown:function(t,r){var s=this._selection(),a=t.ctrlKey||t.metaKey;if((8==r||46==r)&&a)return this.setDecimal(null),!1;if(this.rtl&&37==r){var n=t.shiftKey,o=n?1:0;return n?this._setSelection(s.start+1-o,s.start+s.length+1):this._setSelection(s.start+1-o,s.start+1),!1}if(this.rtl&&39==r){var n=t.shiftKey,o=n?1:0;return n?this._setSelection(s.start-1,s.length+o+s.start-1):this._setSelection(s.start-1,s.start-1),!1}if(a&&97==r||a&&65==r)return!0;if(a&&120==r||a&&88==r)return this.selectedText=this._saveSelectedText(t),e.data(document.body,"jqxSelection",this.selectedText),this._handleBackspace(),!1;if(a&&99==r||a&&67==r)return this.selectedText=this._saveSelectedText(t),e.data(document.body,"jqxSelection",this.selectedText),!1;if(a&&122==r||a&&90==r)return!1;if(a&&118==r||a&&86==r||t.shiftKey&&45==r)return this._pasteSelectedText(),!1;if(s.start>=0&&s.start<this.items.length){var l=String.fromCharCode(r);this.items[s.start]}if(8==r)return this._handleBackspace(),!1;if(190==r||110==r)return this._moveCaretToDecimalSeparator(),!1;if(188==r){var h=this.numberInput.val();for(i=s.start;i<h.length;i++)if(h[i]==this.groupSeparator){this._setSelectionStart(1+i);break}return!1}if(null==e.jqx.browser.msie){var l=String.fromCharCode(r),d=parseInt(l);if(r>=96&&105>=r&&(d=r-96,r-=48),!isNaN(d)){var c=this;return c._insertKey(r),!1}}if(46==r){var u=this._getVisibleItems();if(s.start<u.length){var o=0==u[s.start].canEdit?2:1;if(0==s.start&&this.negative){this.setvalue("negative",!1),0==s.length&&this._setSelectionStart(0);var s=this._selection();if(0==s.length)return!1}0==s.length&&this._setSelection(s.start+o,s.start+o+s.length),this._handleBackspace(),new Number(this.decimal)<1||s.start>this._getSeparatorPosition()?this._setSelectionStart(s.end+o):s.start+1<this.decimalSeparatorPosition&&this._setSelectionStart(s.end+o)}return!1}if(38==r)return this.spinUp(),!1;if(40==r)return this.spinDown(),!1;27===r&&(this.setDecimal(this._savedValue),this._setSelectionStart(s.end),t.preventDefault());var p=this._isSpecialKey(r);if(e.jqx.browser.mozilla&&(45==r||173==r||109==r||189==r)){var f=this.getvalue("negative");0==f?this.setvalue("negative",!0):this.setvalue("negative",!1)}return e.jqx.browser.mozilla?p:!0},_isSpecialKey:function(e){return 8==e||9==e||13==e||35==e||36==e||37==e||39==e||27==e||46==e},_selection:function(){try{if("selectionStart"in this.numberInput[0]){var e=this.numberInput[0],t=e.selectionEnd-e.selectionStart;return{start:e.selectionStart,end:e.selectionEnd,length:t,text:e.value}}var i=document.selection.createRange();if(null==i)return{start:0,end:e.value.length,length:0};var r=this.numberInput[0].createTextRange(),s=r.duplicate();r.moveToBookmark(i.getBookmark()),s.setEndPoint("EndToStart",r);var t=i.text.length;return{start:s.text.length,end:s.text.length+i.text.length,length:t,text:i.text}}catch(a){return{start:0,end:0,length:0}}},selectAll:function(){var e=this.numberInput;setTimeout(function(){if("selectionStart"in e[0])e[0].focus(),e[0].setSelectionRange(0,e[0].value.length);else{var t=e[0].createTextRange();t.collapse(!0),t.moveEnd("character",e[0].value.length),t.moveStart("character",0),t.select()}},10)},_setSelection:function(t,i){if(1!=this._disableSetSelection){var r=e.jqx.mobile.isTouchDevice();if(!r&&1!=this.touchMode)try{if("selectionStart"in this.numberInput[0])this.numberInput[0].focus(),this.numberInput[0].setSelectionRange(t,i);else{var s=this.numberInput[0].createTextRange();s.collapse(!0),s.moveEnd("character",i),s.moveStart("character",t),s.select()}}catch(a){}}},_setSelectionStart:function(t){this._setSelection(t,t),e.data(this.numberInput,"selectionstart",t)},resize:function(e,t){this.width=e,this.height=t,this._render(!1)},_render:function(t){var i=parseInt(this.host.css("border-left-width")),r=parseInt(this.host.css("border-left-width")),s=parseInt(this.host.css("border-left-width")),a=parseInt(this.host.css("border-left-width"));this.numberInput.css("padding-top","0px"),this.numberInput.css("padding-bottom","0px"),this.host.height(this.height),this.host.width(this.width);var n=this.host.width(),o=this.host.height();this.numberInput.css({"border-left-width":0,"border-right-width":0,"border-bottom-width":0,"border-top-width":0}),isNaN(s)&&(s=1),isNaN(r)&&(r=1),isNaN(a)&&(a=1),isNaN(i)&&(i=1),this.numberInput.css("text-align",this.textAlign);var l=this.numberInput.css("font-size");""==l&&(l=13),this.numberInput.css("height",parseInt(l)+4+"px"),this.numberInput.css("width",n-2);var h=o-2*s-parseInt(l)-2;if(isNaN(h)&&(h=0),0>h&&(h=0),this.spinButtons&&this.spincontainer){n-=parseInt(this.spinButtonsWidth-2);var d=e.jqx.mobile.isTouchDevice();d||this.touchMode===!0?(this.spincontainer.width(2*this.spinButtonsWidth),n-=this.spinButtonsWidth,this.upbutton.height("100%"),this.downbutton.height("100%"),this.downbutton.css("float","left"),this.upbutton.css("float","right"),this.upbutton.width(this.spinButtonsWidth),this.downbutton.width(1+this.spinButtonsWidth)):(this.spincontainer.width(this.spinButtonsWidth),this.upbutton.width(this.spinButtonsWidth+2),this.downbutton.width(this.spinButtonsWidth+2),this.upbutton.height("50%"),this.downbutton.height("50%"),this.spincontainer.width(this.spinButtonsWidth)),this._upArrow.height("100%"),this._downArrow.height("100%"),this.numberInput.css("width",n-6),this.numberInput.css("margin-right","2px")}var c=h/2;e.jqx.browser.msie&&e.jqx.browser.version<8&&(c=h/4),this.numberInput.css("padding-left","0px"),this.numberInput.css("padding-right","0px"),this.numberInput.css("padding-top",Math.round(c)+"px"),this.numberInput.css("padding-bottom",Math.round(c)+"px"),void 0!=t&&1!=t||(this.numberInput.val(this._getString()),"advanced"!=this.inputMode&&this._parseDecimalInSimpleMode())},destroy:function(){this._removeHandlers(),this.host.remove()},inputValue:function(e){return void 0===e?this._value():(this.propertyChangedHandler(this,"value",this._value,e),this._refreshValue(),this)},_value:function(){var e=this.numberInput.val();return e},val:function(e){if((void 0===e||"object"==typeof e)&&null!==e)return this.getDecimal();if(null===e)return void this.setDecimal(null);var t=e;t=t.toString(),t.indexOf(this.symbol)>-1&&(t=t.replace(this.symbol,""));var i=function(e,t,i){var r=e;if(t==i)return e;for(var s=r.indexOf(t);-1!=s;)r=r.replace(t,i),s=r.indexOf(t);return r};t=i(t,this.groupSeparator,""),t=t.replace(this.decimalSeparator,".");for(var r="",s=0;s<t.length;s++){var a=t.substring(s,s+1);"-"===a&&(r+="-"),"."===a&&(r+="."),null!=a.match(/^[0-9]+$/)&&(r+=a)}t=r,t=t.replace(/ /g,""),t=new Number(t),this.setDecimal(t)},getDecimal:function(){if(null==this.decimal)return null;if("simple"==this.inputMode&&(this._parseDecimalInSimpleMode(!1),this.decimal=this._getDecimalInSimpleMode(this.decimal)),""==this.decimal)return 0;var e=this.getvalue("negative");return e&&this.decimal>0?-parseFloat(this.decimal):parseFloat(this.decimal)},setDecimal:function(e){var t=e;if("."!=this.decimalSeparator)if(null===e)this._setDecimal(e);else{var i=e;if("number"!=typeof e){e=e.toString();var r=e.indexOf(".");if(-1!=r){var s=e.substring(0,r),a=e.substring(r+1);i=s+"."+a,-1!=s.indexOf("-")&&(s=s.substring(1)),e="advanced"!=this.inputMode?s+"."+a:s+this.decimalSeparator+a}else{var r=e.indexOf(this.decimalSeparator);if(-1!=r){var s=e.substring(0,r),a=e.substring(r+1);i=s+"."+a,-1!=s.indexOf("-")&&(s=s.substring(1)),e="advanced"!=this.inputMode?s+"."+a:s+this.decimalSeparator+a}}}0>i?this.setvalue("negative",!0):this.setvalue("negative",!1),this._setDecimal(e)}else 0>e?this.setvalue("negative",!0):this.setvalue("negative",!1),null===e?this._setDecimal(e):this._setDecimal(Math.abs(e));null==t&&this.numberInput.val("")},_setDecimal:function(e){if(this.allowNull||null!=e||(this.decimal=0,e=0),null==e)return this.decimal=null,this.value=null,this.clearDecimal(),this._refreshValue(),this.decimal=null,void(this.value=null);-1!=e.toString().indexOf("e")&&(e=new Number(e).toFixed(this.decimalDigits).toString()),this.clearDecimal();var t=e.toString(),i="",r="",s=!0;0==t.length&&(t="0");for(var a=0;a<t.length;a++){if("number"==typeof e){if("."==t.substring(a,a+1)){s=!1;continue}}else if(t.substring(a,a+1)==this.decimalSeparator){s=!1;continue}s?i+=t.substring(a,a+1):r+=t.substring(a,a+1)}i.length>0&&(i=parseFloat(i).toString());var n=this.digits;n<i.length&&(i=i.substr(0,n));var o=0,l=this._getSeparatorPosition(),h=this._getHiddenPrefixCount();l+=h;for(var a=l;a>=0;a--)a<this.items.length&&this.items[a].canEdit&&o<i.length&&(this.items[a].character=i.substring(i.length-o-1,i.length-o),o++);o=0;for(var a=l;a<this.items.length;a++)this.items[a].canEdit&&o<r.length&&(this.items[a].character=r.substring(o,o+1),o++);if(this._refreshValue(),"."==this.decimalSeparator)this.ValueString=new Number(e).toFixed(this.decimalDigits);else{var d=e.toString().indexOf(this.decimalSeparator);if(d>0){var c=e.toString().substring(0,d),u=c+"."+e.toString().substring(d+1);this.ValueString=new Number(u).toFixed(this.decimalDigits)}else this.ValueString=new Number(e).toFixed(this.decimalDigits)}if("advanced"!=this.inputMode&&(this._parseDecimalInSimpleMode(),this._raiseEvent(1,this.ValueString)),"textbox"==this.inputMode){this.decimal=this.ValueString;var p=this.getvalue("negative");p&&(this.decimal="-"+this.ValueString)}var e=this.val();e<this.min||e>this.max?this.host.addClass("jqx-input-invalid"):this.host.removeClass("jqx-input-invalid")},_getSeparatorPosition:function(){var e=this._getHiddenPrefixCount();return this.decimalSeparatorPosition>0?this.decimalSeparatorPosition-e:this.items.length-e},_setTheme:function(){this.host.removeClass(),this.host.addClass(this.toThemeProperty("jqx-input")),this.host.addClass(this.toThemeProperty("jqx-rc-all")),this.host.addClass(this.toThemeProperty("jqx-widget")),this.host.addClass(this.toThemeProperty("jqx-widget-content")),this.host.addClass(this.toThemeProperty("jqx-numberinput")),this.spinButtons&&(this.downbutton.removeClass(),this.upbutton.removeClass(),this.downbutton.addClass(this.toThemeProperty("jqx-scrollbar-button-state-normal")),this.upbutton.addClass(this.toThemeProperty("jqx-scrollbar-button-state-normal")),this._upArrow.removeClass(),this._downArrow.removeClass(),this._upArrow.addClass(this.toThemeProperty("jqx-icon-arrow-up")),this._downArrow.addClass(this.toThemeProperty("jqx-icon-arrow-down"))),this.numberInput.removeClass(),this.numberInput.addClass(this.toThemeProperty("jqx-input-content"))},propertiesChangedHandler:function(e,t,i){i&&i.width&&i.height&&2==Object.keys(i).length&&e._render()},propertyChangedHandler:function(t,r,s,a){if(!(t.batchUpdate&&t.batchUpdate.width&&t.batchUpdate.height&&2==Object.keys(t.batchUpdate).length)){if("template"==r&&(t.upbutton.removeClass(t.toThemeProperty("jqx-"+t.template)),t.downbutton.removeClass(t.toThemeProperty("jqx-"+t.template)),t.upbutton.addClass(t.toThemeProperty("jqx-"+t.template)),t.downbutton.addClass(t.toThemeProperty("jqx-"+t.template))),("digits"==r||"groupSize"==r||"decimalDigits"==r)&&0>a)throw new Exception(this.invalidArgumentExceptions[0]);if("placeHolder"==r&&t.numberInput.attr("placeholder",t.placeHolder),"theme"===r&&e.jqx.utilities.setTheme(s,a,t.host),"digits"==r&&a!=s&&(t.digits=parseInt(a)),"min"!=r&&"max"!=r||(e.jqx.aria(t,"aria-value"+r,a.toString()),t._refreshValue()),"decimalDigits"==r&&a!=s&&(t.decimalDigits=parseInt(a)),"decimalSeparator"==r||"digits"==r||"symbol"==r||"symbolPosition"==r||"groupSize"==r||"groupSeparator"==r||"decimalDigits"==r||"negativeSymbol"==r){var n=t.decimal;if("decimalSeparator"==r&&""==a&&(a=" "),s!=a){var o=t._selection();t.items=new Array,t._initializeLiterals(),t.value=t._getString(),t._refreshValue(),t._setDecimal(n)}}if("rtl"==r&&(t.rtl?(t.spincontainer&&(t.spincontainer.css("float","right"),t.spincontainer.css("border-right-width","1px")),t.numberInput.css("float","right")):(t.spincontainer&&(t.spincontainer.css("float","right"),t.spincontainer.css("border-right-width","1px")),t.numberInput.css("float","left"))),"spinButtons"==r&&(t.spincontainer?(a?t.spincontainer.css("display","block"):t.spincontainer.css("display","none"),t._render()):t._spinButtons()),"touchMode"===r&&(t.inputMode="textbox",t.spinMode="simple",t.render()),"negative"==r&&"advanced"==t.inputMode){var o=t._selection(),l=0;a?(t.items[0].character=t.negativeSymbol[0],l=1):(t.items[0].character="",l=-1),t._refreshValue(),t.isInitialized&&t._setSelection(o.start+l,o.end+l)}if("decimal"==r&&(t.value=a,t.setDecimal(a)),"value"===r&&(t.value=a,t.setDecimal(a),t._raiseEvent(1,a)),"textAlign"==r&&(t.textAlign=a,t._render()),"disabled"==r&&(t.numberInput.attr("disabled",a),t.disabled?t.host.addClass(t.toThemeProperty("jqx-fill-state-disabled")):t.host.removeClass(t.toThemeProperty("jqx-fill-state-disabled")),e.jqx.aria(t,"aria-disabled",a.toString())),"readOnly"==r&&(t.readOnly=a),"promptChar"==r){for(i=0;i<t.items.length;i++)t.items[i].character==t.promptChar&&(t.items[i].character=a);t.promptChar=a}"width"==r?(t.width=a,t._render()):"height"==r&&(t.height=a,t._render())}},_value:function(){var e=this.value;return e},_refreshValue:function(){var e=this.value;if("textbox"!==this.inputMode){this.value=this._getString(),e=this.value;for(var t="",i=0;i<this.items.length;i++){var r=this.items[i];r.canEdit&&r.character!=this.promptChar&&(t+=r.character),i==this.decimalSeparatorPosition&&(t+=".")}this.decimal=t;var s=!1;this.oldValue!==e&&(this.oldValue=e,this._raiseEvent(0,e),s=!0),"simple"!=this.inputMode&&(this.numberInput.val(e),s&&this._raiseEvent(1,e)),null==e&&this.numberInput.val("")}}})}(jqxBaseFramework),function(e){"use strict";e.jqx.jqxWidget("jqxFormattedInput","",{}),e.extend(e.jqx._jqxFormattedInput.prototype,{defineInstance:function(){var t={width:null,height:null,radix:10,outputNotation:"default",value:"0",min:"-9223372036854775808",max:"9223372036854775807",upperCase:!1,spinButtons:!0,spinButtonsStep:1,spinButtonsWidth:18,dropDown:!1,dropDownWidth:null,popupZIndex:2e4,placeHolder:"",roundedCorners:!0,disabled:!1,rtl:!1,readOnly:!1,textAlign:"right",int64:"s",digits:8,decimalDigits:null,decimalSeparator:".",spinMode:"simple",_opened:!1,$popup:document.createElement("ul"),events:["open","close","change","radixChange","valueChanged","textChanged"]};e.extend(!0,this,t)},createInstance:function(){var t=this;if(t._IE8=e.jqx.browser.msie&&e.jqx.browser.version<9,"none"!==t.host.css("display")&&document.body.contains(t.element)!==!1||(t._initiallyHidden=!0),t._regex={2:new RegExp(/([0-1])/),8:new RegExp(/([0-7])/),10:new RegExp(/([0-9\-\+e])/i),16:new RegExp(/([0-9]|[a-f])/i)},t.int64!==!1){try{BigNumber}catch(i){throw new Error("jqxFormattedInput: Missing reference to jqxmath.js")}t._regex[10]=new RegExp(/([0-9\-])/),"s"===t.int64&&t._Long()}t.spinButtonsWidth<16&&(t.spinButtonsWidth=16),t._checkStructure(),t.render()},render:function(){function t(e){function t(t){t.className=r.toThemeProperty("jqx-fill-state-normal jqx-formatted-input-spin-button"),t.style.width=r.spinButtonsWidth-1+"px",e.appendChild(t)}function i(e,t,i){e.setAttribute("unselectable","on"),e.className=r.toThemeProperty("jqx-input-icon jqx-formatted-input-icon jqx-icon-arrow-"+i),t.appendChild(e)}r._spinButtonsContainerElement=e,e.className=r.toThemeProperty("jqx-formatted-input-spin-buttons-container"),e.style.width=r.spinButtonsWidth+"px",r._upbutton=document.createElement("div"),t(r._upbutton),r._downbutton=document.createElement("div"),t(r._downbutton),r._upArrow=document.createElement("div"),i(r._upArrow,r._upbutton,"up"),r._downArrow=document.createElement("div"),i(r._downArrow,r._downbutton,"down"),"s"===r.int64?r._spinButtonsStepObject=new r.longObj.math.Long.fromNumber(r.spinButtonsStep):"u"===r.int64?r._spinButtonsStepObject=new BigNumber(r.spinButtonsStep):r.int64===!1&&(r._spinButtonsStepObject=Number(r.spinButtonsStep))}function i(e){if(r._addon=e,e.className=r.toThemeProperty("jqx-formatted-input-addon"),!r._arrow){var t=document.createElement("div");t.className=r.toThemeProperty("jqx-icon jqx-icon-arrow-down"),e.appendChild(t),r._arrow=t}}var r=this;if(r._radixNumber=r._getRadix(r.radix),r.int64===!1?(10!==r._radixNumber&&(r.radix=10,r._radixNumber=10),r.dropDown===!0&&(r.dropDown=!1),"-9223372036854775808"===r.min&&(r.min=Number.NEGATIVE_INFINITY),"9223372036854775807"===r.max&&(r.max=1/0)):(null!==r.decimalDigits&&(r.decimalDigits=null),r.min===Number.NEGATIVE_INFINITY&&("s"===r.int64?r.min="-9223372036854775808":r.min="0"),r.max===1/0&&("s"===r.int64?r.max="9223372036854775807":r.max="18446744073709551615")),""!==r.value&&("s"===r.int64?r._number=new r.longObj.math.Long.fromString(r.value.toString(),r._radixNumber):"u"===r.int64?r._number=r._toBigNumberDecimal(r.value):r.int64===!1&&(r._number=Number(r._discardDecimalSeparator(r.value)))),r.baseHost&&(r.host=r.baseHost,r.element=r.host[0]),"div"===this.element.nodeName.toLowerCase()){this.baseElement=this.element;var s=r.element.getElementsByTagName("input")[0];if(!s)throw new Error('jqxFormattedInput: Missing <input type="text" /> in the widget\'s HTML structure.');this.baseHost=e(this.baseElement);var a=this.host.data();this.host=e(s),this.element=s,this.host.data(a),this.baseElement.className=r.toThemeProperty("jqx-widget jqx-input-group");for(var n=r.baseHost.children(),o=0;o<n.length;o++){var l=n[o],h="jqx-input-group-addon";l!==r.element&&(h+=" jqx-fill-state-normal"),"div"===l.nodeName.toLowerCase()&&(r.rtl===!1?r._spinButtonsContainerElement||r.spinButtons!==!0?r._addon||r.dropDown!==!0||2!==o&&(1!==o||r.spinButtons!==!1)||i(l):t(l):r._addon||r.dropDown!==!0?r._spinButtonsContainerElement||r.spinButtons!==!0||1!==o&&(0!==o||r.dropDown!==!1)||(t(l),h+=" jqx-formatted-input-spin-buttons-container-rtl",r.dropDown===!0&&-1===r._addon.className.indexOf("jqx-formatted-input-addon-rtl")&&(r._addon.className+=" "+r.toThemeProperty("jqx-formatted-input-addon-rtl"))):(i(l),r.spinButtons===!0&&(h+=" jqx-formatted-input-addon-rtl"))),l.className+=" "+r.toThemeProperty(h)}}r._initialized===!0&&r.removeHandlers(),this.addHandlers(),r.rtl&&(r.element.className+=" "+r.toThemeProperty("jqx-rtl")),r.readOnly===!0&&(r.element.readOnly=!0),"s"===r.int64?(10!==r._radixNumber&&"-9223372036854775808"===r.min.toString()?r._minObject=new r.longObj.math.Long.fromNumber(r.min):r._setMinMax("min"),10!==r._radixNumber&&"9223372036854775807"===r.max.toString()?r._maxObject=new r.longObj.math.Long.fromNumber(r.max):r._setMinMax("max")):"u"===r.int64?("-9223372036854775808"===r.min&&(r.min="0"),"9223372036854775807"===r.max&&(r.max="18446744073709551615"),10!==r._radixNumber&&"0"===r.min.toString()?r._minObject=new BigNumber(r.min):r._setMinMax("min"),10!==r._radixNumber&&"18446744073709551615"===r.max.toString()?r._maxObject=new BigNumber(r.max):r._setMinMax("max")):(r._minObject=Number(r._discardDecimalSeparator(r.min)),
r._maxObject=Number(r._discardDecimalSeparator(r.max)));var d;""!==r.value&&null!==r.value?(r.upperCase===!0?r.element.className+=" "+r.toThemeProperty("jqx-formatted-input-upper-case"):r.element.className+=" "+r.toThemeProperty("jqx-formatted-input-lower-case"),d=r._validateValue(r.value,!0),r._checkNotation(r.value),10!==r._radixNumber||"exponential"!==r.outputNotation&&"engineering"!==r.outputNotation?r._eNotation&&(r._number=r._largeExponentialToDecimal(r._number),d=r._number):(r._eNotation&&(r._number=r._largeExponentialToDecimal(r._number)),d=r._getDecimalNotation(r.outputNotation)),r.element.value=d):r._spinButtonsContainerElement&&(r._spinButtonsContainerElement.className+=" "+r.toThemeProperty("jqx-fill-state-disabled")),r._checkNotation(),r._eNotation||(r.element.value=r._validateDigits(r.element.value),r._handleOutputNotation())},_addClasses:function(){var t=this,i="";t.dropDown&&(t.$popup.className=t.toThemeProperty("jqx-popup jqx-input-popup jqx-menu jqx-menu-vertical jqx-menu-dropdown jqx-widget jqx-widget-content"),e.jqx.browser.msie&&(t.$popup.className+=" "+t.toThemeProperty("jqx-noshadow"))),t.roundedCorners&&(t.baseHost?(t.dropDown&&(t.$popup.className+=" "+t.toThemeProperty("jqx-rc-all")),t.baseElement.className+=" "+t.toThemeProperty("jqx-rc-all"),t.rtl===!1?(i+=" jqx-rc-l",t._addon&&(t._addon.className+=" "+t.toThemeProperty("jqx-rc-r"))):(i+=" jqx-rc-r",t._addon&&(t._addon.className+=" "+t.toThemeProperty("jqx-rc-l")))):i+=" jqx-rc-all"),this.disabled&&(i+=" jqx-fill-state-disabled",t.baseHost&&(t._spinButtonsContainerElement&&(t._spinButtonsContainerElement.className+=" "+t.toThemeProperty("jqx-fill-state-disabled")),t._addon&&(t._addon.className+=" "+t.toThemeProperty("jqx-fill-state-disabled")))),t.element.className+=" "+t.toThemeProperty(i)},selectAll:function(){var e=this.host;setTimeout(function(){if("selectionStart"in e[0])e[0].focus(),e[0].setSelectionRange(0,e[0].value.length);else{var t=e[0].createTextRange();t.collapse(!0),t.moveEnd("character",e[0].value.length),t.moveStart("character",0),t.select()}},10)},selectLast:function(){var e=this.host;this.selectStart(e[0].value.length)},selectFirst:function(){this.selectStart(0)},selectStart:function(e){var t=this.host;setTimeout(function(){if("selectionStart"in t[0])t[0].focus(),t[0].setSelectionRange(e,e);else{var i=t[0].createTextRange();i.collapse(!0),i.moveEnd("character",e),i.moveStart("character",e),i.select()}},10)},focus:function(){try{var e=this;e.element.focus(),setTimeout(function(){e.element.focus()},25)}catch(t){}},refresh:function(e){var t=this;if(t.element.className+=" "+t.toThemeProperty("jqx-widget-content jqx-input jqx-formatted-input jqx-widget jqx-formatted-input-align-"+t.textAlign),e&&this._addClasses(),this.baseHost){if(this.width&&(this.baseElement.style.width=t._toPx(t.width)),this.height){this.baseElement.style.height=t._toPx(t.height);for(var i=0,r=t.baseHost.children(),s=0;s<r.length;s++){var a=r[s];a.style.height="100%",a!==t.element&&(i+=a.offsetWidth)}var n="string"==typeof t.width&&-1!==t.width.indexOf("%")?1:0;if(t._IE8){var o=t.element.style;o.width=this.baseElement.offsetWidth-i-n+"px",t._spinButtonsContainerElement&&(t.rtl===!1||t.rtl===!0&&t._addon)&&(t._spinButtonsContainerElement.style.borderLeftWidth="0px"),t._addon&&(t.rtl===!1?t._addon.style.borderLeftWidth="0px":t._spinButtonsContainerElement||(t._addon.style.borderRightWidth="0px"));var l=t.element.currentStyle,h=function(e){return"string"==typeof e?"medium"===e?1:parseInt(e,10):e},d=Math.max(0,t.baseElement.offsetHeight-(h(l.borderTopWidth)+h(l.borderBottomWidth)+h(l.paddingTop)+h(l.paddingBottom)))+"px";o.lineHeight=d}else t.element.style.width="calc(100% - "+(i+n)+"px)"}}else this.width&&(this.element.style.width=t._toPx(t.width)),this.height&&(this.element.style.height=t._toPx(t.height));t.element.disabled=t.disabled,t.element.placeholder||this._refreshPlaceHolder(),e&&(t._initialized=!0)},_toPx:function(e){return"number"==typeof e?e+"px":e},_refreshPlaceHolder:function(){if("placeholder"in this.element&&!(e.jqx.browser.msie&&e.jqx.browser.version<9))this.element.placeholder=this.placeHolder;else{var t=this;""===t.element.value&&(t.element.value=t.placeHolder)}},destroy:function(){this.removeHandlers(),this.baseHost?(e.jqx.utilities.resize(this.baseHost,null,!0),this.baseHost.remove()):this.host.remove(),this.$popup&&e(this.$popup).remove()},propertyChangedHandler:function(t,i,r,s){function a(e,i){i===!1?(e.style.display="none",t.rtl===!0&&(t.spinButtons===!0&&(t._spinButtonsContainerElement.className+=" "+t.toThemeProperty("jqx-formatted-input-spin-buttons-container-rtl-border")),t.dropDown===!0&&t._removeClass(t._addon,t.toThemeProperty("jqx-formatted-input-addon-rtl")))):(e.style.display="block",t.rtl===!0&&t.spinButtons===!0&&t.dropDown===!0&&(t._removeClass(t._spinButtonsContainerElement,t.toThemeProperty("jqx-formatted-input-spin-buttons-container-rtl-border")),t._addon.className+=" "+t.toThemeProperty("jqx-formatted-input-addon-rtl")));var r=0;t.spinButtons&&(r+=t.spinButtonsWidth),t.dropDown&&(r+=t._addon.offsetWidth),t._IE8?t.element.style.width=t.baseElement.offsetWidth-r-("string"==typeof t.width&&-1!==t.width.indexOf("%")?1:0)+"px":t.element.style.width="calc(100% - "+r+"px)"}function n(i){var r=t.element,s=document.createElement("div");if(t.baseHost){var a,n=t.baseHost.children();a="div"===n[1].nodeName.toLowerCase()||t.rtl&&"spinButtons"===i?n[1]:n[0],t.rtl===!1&&"spinButtons"===i||t.rtl===!0&&"dropDown"===i?t.baseElement.insertBefore(s,a):t.rtl?t.baseElement.insertBefore(s,a):t.baseElement.appendChild(s),t.render();var o="string"==typeof t.width&&-1!==t.width.indexOf("%");t._IE8?(t.element.style.width=t.baseElement.offsetWidth-t.spinButtonsWidth-t._addon.offsetWidth-(o?1:0)+"px",o&&(s.style.borderLeftWidth="0px")):t.element.style.width=t.element.style.width="calc(100% - "+(t.spinButtonsWidth+t._addon.offsetWidth+(o?1:0))+"px)"}else{var l=r.id,h=r.parentNode,d=r.nextSibling,c=document.createElement("div");t.element.removeAttribute("id"),c.setAttribute("id",l),c.appendChild(r),t.rtl?c.insertBefore(s,r):c.appendChild(s),d?h.insertBefore(c,d):h.appendChild(c),t.baseElement=c,t.baseHost=e(c);var u=t.host.data();u.jqxFormattedInput.host=t.baseHost,u.jqxFormattedInput.element=c,t.baseHost.data(u),t.element.style.height="",t.render(),t.refresh()}t._addClasses()}if(s!==r)switch(i){case"roundedCorners":s?t.baseHost?(t.dropDown&&(t.$popup.className+=" "+t.toThemeProperty("jqx-rc-all")),t.baseElement.className+=" "+t.toThemeProperty("jqx-rc-all"),t.rtl===!1?(t.element.className+=" "+t.toThemeProperty("jqx-rc-l"),t._addon&&(t._addon.className+=" "+t.toThemeProperty("jqx-rc-r"))):(t.element.className+=" "+t.toThemeProperty("jqx-rc-r"),t._addon&&(t._addon.className+=" "+t.toThemeProperty("jqx-rc-l")))):t.element.className+=" "+t.toThemeProperty("jqx-rc-all"):t.baseHost?(t.dropDown&&t._removeClass(t.$popup,t.toThemeProperty("jqx-rc-all")),t._removeClass(t.baseElement,t.toThemeProperty("jqx-rc-all")),t.rtl===!1?(t._removeClass(t.element,t.toThemeProperty("jqx-rc-l")),t._addon&&t._removeClass(t._addon,t.toThemeProperty("jqx-rc-r"))):(t._removeClass(t.element,t.toThemeProperty("jqx-rc-r")),t._addon&&t._removeClass(t._addon,t.toThemeProperty("jqx-rc-l")))):t._removeClass(t.element,t.toThemeProperty("jqx-rc-all"));break;case"placeHolder":t._refreshPlaceHolder();break;case"theme":e.jqx.utilities.setTheme(r,s,t.host);break;case"disabled":s?(t.element.className+=" "+t.toThemeProperty("jqx-fill-state-disabled"),t.baseHost&&(t._spinButtonsContainerElement&&(t._spinButtonsContainerElement.className+=" "+t.toThemeProperty("jqx-fill-state-disabled")),t._addon&&(t._addon.className+=" "+t.toThemeProperty("jqx-fill-state-disabled")))):(t._removeClass(t.element,t.toThemeProperty("jqx-fill-state-disabled")),t.baseHost&&""!==t.value&&null!==t.value&&(t._spinButtonsContainerElement&&t._removeClass(t._spinButtonsContainerElement,t.toThemeProperty("jqx-fill-state-disabled")),t._addon&&t._removeClass(t._addon,t.toThemeProperty("jqx-fill-state-disabled")))),t.refresh();break;case"value":r.toString().toUpperCase()!==s.toString().toUpperCase()&&t.val(s);break;case"radix":t.int64!==!1?t._changeRadix(s):(t.radix=10,t._radixNumber=10);break;case"outputNotation":if(10===t._radixNumber){var o;o="exponential"===s?t._number.toExponential():"engineering"===s?t._getDecimalNotation("engineering"):t._number.toString(10),t.element.value=t._applyDecimalSeparator(o),t.refresh()}break;case"min":case"max":t.int64!==!1&&("min"===i&&s===Number.NEGATIVE_INFINITY?"s"===t.int64?t.min="-9223372036854775808":t.min="0":"max"===i&&s===1/0&&("s"===t.int64?t.max="9223372036854775807":t.max="18446744073709551615")),t._setMinMax(i),t._validateValue(t.value,!0),t.value=t.element.value;break;case"upperCase":""!==t.element.value&&(s===!0?(t._removeClass(t.element,t.toThemeProperty("jqx-formatted-input-lower-case")),t.element.className+=" "+t.toThemeProperty("jqx-formatted-input-upper-case")):(t._removeClass(t.element,t.toThemeProperty("jqx-formatted-input-upper-case")),t.element.className+=" "+t.toThemeProperty("jqx-formatted-input-lower-case")));break;case"spinButtons":t._spinButtonsContainerElement?a(t._spinButtonsContainerElement,s):n("spinButtons");break;case"spinButtonsStep":"s"===t.int64?t._spinButtonsStepObject=new t.longObj.math.Long.fromNumber(s):"u"===t.int64?t._spinButtonsStepObject=new BigNumber(s):t.int64===!1&&(t._spinButtonsStepObject=Number(s));break;case"dropDown":if(t.int64===!1)return void(t.dropDown=!1);t._addon?a(t._addon,s):n("dropDown");break;case"readOnly":s===!0?t.host.attr("readonly",!0):t.host.removeAttr("readonly");break;case"textAlign":t._removeClass(t.element,t.toThemeProperty("jqx-formatted-input-align-"+r)),t.element.className+=" "+t.toThemeProperty("jqx-formatted-input-align-"+s);break;case"spinButtonsWidth":16>s&&(t.spinButtonsWidth=16,s=16),t._spinButtonsContainerElement.style.width=s+"px",t._upbutton.style.width=s-1+"px",t._downbutton.style.width=s-1+"px",t.refresh();break;case"digits":t.element.value=t._validateDigits(t.element.value),t.refresh();break;case"decimalDigits":t.int64===!1?t.element.value=t._validateDigits(t.element.value):t.decimalDigits=null,t.refresh();break;case"decimalSeparator":var l=t._discardDecimalSeparator(t.element.value,r);t.element.value=t._applyDecimalSeparator(l),t.refresh();break;default:t.refresh()}},select:function(e,t,i){var r=this;i||(i=r._find("jqx-fill-state-pressed",r.$popup).getAttribute("data-value")),r._changeRadix(parseInt(i,10)),r._setMaxLength(!0),r.close()},setValue:function(e){var t=this,i=t.element.value;i!=e&&(t.element.value=e,t.value=e,t._raiseEvent("4",{value:e,oldValue:i}),t._raiseEvent("2",{value:e,oldValue:i,radix:t._radixNumber}))},val:function(t){var i=this;if(void 0===t&&""!==t||"object"==typeof t&&e.isEmptyObject(t)===!0||"binary"===t||"octal"===t||"decimal"===t||"exponential"===t||"scientific"===t||"engineering"===t||"hexadecimal"===t){if(!t||"object"==typeof t&&e.isEmptyObject(t)===!0)return i.element.value;if(i.int64!==!1||"exponential"!==t&&"scientific"!==t&&"engineering"!==t){if(i.int64===!1||"binary"!==t&&"octal"!==t&&"decimal"!==t&&"hexadecimal"===t)return i.element.value;var r=i._getRadix(t);return i._number.toString(r)}return i._getDecimalNotation(t)}if(t=t.toString(),t.toUpperCase()!==i.element.value.toString().toUpperCase()){var s=i.element.value;i.upperCase===!0&&(t=t.toUpperCase());for(var a=t.split(""),n=0;n<a.length;n++){var o=a[n];if(!i._regex[""+i._radixNumber].test(o)&&o!==i.decimalSeparator||10!==i._radixNumber&&o===i.decimalSeparator)return}var l=i._validateValue(t,!0);return i.int64===!1&&Number(s)===Number(l)?void(i.element.value=s):(i._handleOutputNotation(),l=i.element.value,i.value=l,i._raiseEvent("4",{value:l,oldValue:s}),i._raiseEvent("2",{value:l,oldValue:s,radix:i._radixNumber}),l)}return t},clear:function(){var e=this;e.val(""),e._removeClass(e.element,e.toThemeProperty("jqx-formatted-input-upper-case jqx-formatted-input-lower-case")),e._spinButtonsContainerElement&&(e._spinButtonsContainerElement.className+=" "+e.toThemeProperty("jqx-fill-state-disabled"))},_changeRadix:function(e){var t=this,i=t._getRadix(e),r=""!==t.value?t._number.toString(i):"",s=t.radix,a=t.value;t.radix=e,t._radixNumber=i,t.element.value=r,t.value=r,this._raiseEvent("3",{radix:e,oldRadix:s,value:r,oldValue:a})},_raiseEvent:function(t,i){void 0===i&&(i={owner:null});var r=this.events[t];i.owner=this;var s=new e.Event(r);s.owner=this,s.args=i,s.preventDefault&&s.preventDefault();var a;return a=this.baseHost?this.baseHost.trigger(s):this.host.trigger(s)},open:function(){function t(e){var t=i._find("jqx-fill-state-pressed",i.$popup);t&&i._removeClass(t,"jqx-fill-state-pressed"),e.currentTarget.className+=" "+i.toThemeProperty("jqx-fill-state-pressed")}for(var i=this,r=i.baseElement?i.baseElement.id:i.element.id,s=e(i.$popup).children(),a=0;a<s.length;a++){var n=s[a];i.removeHandler(n,"mouseenter.jqxFormattedInput"+r)}if(i._setPopupOptions(),i._render(i._popupOptions),!e.jqx.isHidden(this.host)){var o;if(o=i.baseHost?e.extend({},i.baseHost.coord(!0),{height:i.baseElement.offsetHeight}):e.extend({},i.host.coord(!0),{height:i.host[0].offsetHeight}),!this.$popup.parentElement){var l=r+"_popup";this.$popup.setAttribute("id",l),e.jqx.aria(this,"aria-owns",l),document.body.appendChild(i.$popup)}i.$popup.style.position="absolute",i.$popup.style.zIndex=this.popupZIndex,i.$popup.style.top=o.top+o.height+"px",i.$popup.style.left=o.left+"px",i.$popup.style.display="block";for(var h=e(i.$popup).children(),d=0,c=0;c<h.length;c++){var u=h[c];i.addHandler(u,"mouseenter.jqxFormattedInput"+r,t),d+=u.offsetHeight+1}return i.$popup.style.height=d+"px",this._opened=!0,i.baseHost&&(i._addon.className+=" "+i.toThemeProperty("jqx-fill-state-pressed jqx-combobox-arrow-selected"),i._arrow.className+=" "+i.toThemeProperty("jqx-icon-arrow-down-selected")),this._raiseEvent("0",{popup:this.$popup}),e.jqx.aria(this,"aria-expanded",!0),this}},close:function(){var t=this;return this.$popup.style.display="none",this._opened=!1,t.baseHost&&(t._removeClass(t._addon,t.toThemeProperty("jqx-fill-state-pressed jqx-combobox-arrow-selected")),t._removeClass(t._arrow,t.toThemeProperty("jqx-icon-arrow-down-selected"))),this._raiseEvent("1",{popup:this.$popup}),e.jqx.aria(this,"aria-expanded",!1),this},_render:function(e){for(var t=this,i="",r=0;r<e.length;r++){var s,a=e[r],n="jqx-item jqx-menu-item jqx-formatted-input-item";switch(r){case 0:s=2;break;case 1:s=8;break;case 2:s=10;break;case 3:s=16}s===t._radixNumber&&(n+=" jqx-fill-state-pressed"),t.rtl&&(n+=" jqx-rtl jqx-formatted-input-item-rtl"),t.roundedCorners&&(n+=" jqx-rc-all"),i+='<li class="'+t.toThemeProperty(n)+'" data-value="'+s+'"><a href="#">'+a+"</a></li>"}if(t.$popup.innerHTML=i,this.dropDownWidth)this.$popup.style.width=t.dropDownWidth+"px";else if(t.baseHost){var o="string"==typeof t.width&&-1!==t.width.indexOf("%")?1:0;this.$popup.style.width=t.baseElement.offsetWidth-6-o+"px"}else this.$popup.style.width=t.element.offsetWidth-6+"px";return this},next:function(){var e=this._find("jqx-fill-state-pressed",this.$popup),t=e.nextSibling;this._removeClass(e,"jqx-fill-state-pressed"),t||(t=this.$popup.firstChild),t.className+=" "+this.toThemeProperty("jqx-fill-state-pressed")},prev:function(){var e=this._find("jqx-fill-state-pressed",this.$popup),t=e.previousSibling;this._removeClass(e,"jqx-fill-state-pressed"),t||(t=this.$popup.lastChild),t.className+=" "+this.toThemeProperty("jqx-fill-state-pressed")},addHandlers:function(){var t=this,i=t.baseElement?t.baseElement.id:t.element.id;this.addHandler(this.host,"focus.jqxFormattedInput"+i,function(){t.onFocus()}),this.addHandler(this.host,"blur.jqxFormattedInput"+i,function(){t.onBlur()}),this.addHandler(this.host,"keypress.jqxFormattedInput"+i,function(e){t.keypress(e)}),this.addHandler(this.host,"keyup.jqxFormattedInput"+i,function(e){t.keyup(e)}),this.addHandler(this.host,"keydown.jqxFormattedInput"+i,function(e){t.keydown(e)}),this.addHandler(this.$popup,"mousedown.jqxFormattedInput"+i,function(e){t.click(e)}),this.addHandler(this.host,"change.jqxFormattedInput"+i,function(e){e.stopPropagation(),e.preventDefault()}),this.addHandler(this.host,"mousewheel.jqxFormattedInput"+i,function(e){t.element===document.activeElement&&(e.wheelDelta>0?t._incrementOrDecrement("add"):t._incrementOrDecrement("subtract"))}),t.baseHost&&(t._spinButtonsContainerElement&&(t.addHandler(t._upbutton,"mousedown.jqxFormattedInputSpinButtonUp"+i,function(){t.disabled||""===t.value||null===t.value||(t._upbutton.className+=" "+t.toThemeProperty("jqx-fill-state-pressed"),t._incrementOrDecrement("add"))}),t.addHandler(t._upbutton,"mouseup.jqxFormattedInputSpinButtonUp"+i,function(){t.disabled||""===t.value||null===t.value||t._removeClass(t._upbutton,t.toThemeProperty("jqx-fill-state-pressed"))}),t.addHandler(t._downbutton,"mousedown.jqxFormattedInputSpinButtonDown"+i,function(){t.disabled||""===t.value||null===t.value||(t._downbutton.className+=" "+t.toThemeProperty("jqx-fill-state-pressed"),t._incrementOrDecrement("subtract"))}),t.addHandler(t._downbutton,"mouseup.jqxFormattedInputSpinButtonDown"+i,function(){t.disabled||""===t.value||null===t.value||t._removeClass(t._downbutton,t.toThemeProperty("jqx-fill-state-pressed"))}),t.addHandler(t._upbutton,"mouseenter.jqxFormattedInputSpinButtons"+i,function(){t.disabled||""===t.value||null===t.value||(t._upbutton.className+=" "+t.toThemeProperty("jqx-fill-state-hover"),t._upArrow.className+=" "+t.toThemeProperty("jqx-icon-arrow-up-hover"))}),t.addHandler(t._downbutton,"mouseenter.jqxFormattedInputSpinButtons"+i,function(){t.disabled||""===t.value||null===t.value||(t._downbutton.className+=" "+t.toThemeProperty("jqx-fill-state-hover"),t._downArrow.className+=" "+t.toThemeProperty("jqx-icon-arrow-down-hover"))}),t.addHandler(t._upbutton,"mouseleave.jqxFormattedInputSpinButtons"+i,function(){t.disabled||""===t.value||null===t.value||(t._removeClass(t._upbutton,t.toThemeProperty("jqx-fill-state-hover")),t._removeClass(t._upArrow,t.toThemeProperty("jqx-icon-arrow-up-hover")))}),t.addHandler(t._downbutton,"mouseleave.jqxFormattedInputSpinButtons"+i,function(){t.disabled||""===t.value||null===t.value||(t._removeClass(t._downbutton,t.toThemeProperty("jqx-fill-state-hover")),t._removeClass(t._downArrow,t.toThemeProperty("jqx-icon-arrow-down-hover")))}),t.addHandler(document.body,"mouseup.jqxFormattedInputSpinButtons"+i,function(){t._removeClass(t._upbutton,t.toThemeProperty("jqx-fill-state-pressed")),t._removeClass(t._downbutton,t.toThemeProperty("jqx-fill-state-pressed"))})),t._addon&&(t.addHandler(t._addon,"click.jqxFormattedInputAddon"+i,function(){t.disabled||(t._opened?t.close():t.open())}),t.addHandler(t._addon,"mouseenter.jqxFormattedInputAddon"+i,function(){t.disabled||""===t.value||null===t.value||(t._addon.className+=" "+t.toThemeProperty("jqx-fill-state-hover jqx-combobox-arrow-hover"),t._arrow.className+=" "+t.toThemeProperty("jqx-icon-arrow-down-hover"))}),t.addHandler(t._addon,"mouseleave.jqxFormattedInputAddon"+i,function(){t.disabled||""===t.value||null===t.value||(t._removeClass(t._addon,t.toThemeProperty("jqx-fill-state-hover jqx-combobox-arrow-hover")),t._removeClass(t._arrow,t.toThemeProperty("jqx-icon-arrow-down-hover")))}),t.addHandler(t._addon,"blur.jqxFormattedInputAddon"+i,function(){t._opened&&!t.disabled&&t.close()}),t.addHandler(t._arrow,"blur.jqxFormattedInputAddon"+i,function(){t._opened&&!t.disabled&&t.close()})),e.jqx.utilities.resize(t.baseHost,function(){t._opened===!0&&t.close();var e;t._IE8?(e=0,t.spinButtons&&(e+=t.spinButtonsWidth),t._addon&&(e+=t._addon.offsetWidth),t.element.style.width=t.baseElement.offsetWidth-e-1+"px",t.element.style.lineHeight=t.baseElement.offsetHeight+"px"):t._initiallyHidden===!0&&(e=0,t.spinButtons&&(e+=t.spinButtonsWidth),t.dropDown&&(e+=t._addon.offsetWidth),t.element.style.width="calc(100% - "+e+"px)",t._initiallyHidden=!1)}))},removeHandlers:function(){var e=this,t=e.baseElement?e.baseElement.id:e.element.id;this.removeHandler(this.host,"focus.jqxFormattedInput"+t),this.removeHandler(this.host,"blur.jqxFormattedInput"+t),this.removeHandler(this.host,"keypress.jqxFormattedInput"+t),this.removeHandler(this.host,"keyup.jqxFormattedInput"+t),this.removeHandler(this.host,"keydown.jqxFormattedInput"+t),this.removeHandler(this.$popup,"mousedown.jqxFormattedInput"+t),this.removeHandler(this.host,"mousewheel.jqxFormattedInput"+t),e.removeHandler(e.host,"change.jqxFormattedInput"+t),e.removeHandler(e.host,"mousewheel.jqxFormattedInput"+t),e.baseHost&&(e._spinButtonsContainerElement&&(e.removeHandler(e._upbutton,"mousedown.jqxFormattedInputSpinButtonUp"+t),e.removeHandler(e._upbutton,"mouseup.jqxFormattedInputSpinButtonUp"+t),e.removeHandler(e._downbutton,"mousedown.jqxFormattedInputSpinButtonDown"+t),e.removeHandler(e._downbutton,"mouseup.jqxFormattedInputSpinButtonDown"+t),e.removeHandler(e._upbutton,"mouseenter.jqxFormattedInputSpinButtonUp"+t),e.removeHandler(e._downbutton,"mouseenter.jqxFormattedInputSpinButtonDown"+t),e.removeHandler(e._upbutton,"mouseleave.jqxFormattedInputSpinButtonUp"+t),e.removeHandler(e._downbutton,"mouseleave.jqxFormattedInputSpinButtonDown"+t),e.removeHandler(document.body,"mouseup.jqxFormattedInputSpinButtons"+t)),e._addon&&(e.removeHandler(e._addon,"click.jqxFormattedInputAddon"+t),e.removeHandler(e._addon,"mouseenter.jqxFormattedInputAddon"+t),e.removeHandler(e._addon,"mouseleave.jqxFormattedInputAddon"+t),e.removeHandler(e._addon,"blur.jqxFormattedInputAddon"+t),e.removeHandler(e._arrow,"blur.jqxFormattedInputAddon"+t)))},move:function(e){if(this._opened){switch(e.keyCode){case 9:case 13:case 27:e.preventDefault();break;case 38:e.preventDefault(),this.prev();break;case 40:e.preventDefault(),this.next()}e.stopPropagation()}},keydown:function(e){var t=this,i=e.charCode?e.charCode:e.which;if(t.readOnly)return!1;var r=[40,38,9,13,27];return t.suppressKeyPressRepeat=-1!==r.indexOf(e.keyCode),t.move(e),40===i?void(e.altKey===!0?t._addon&&(t.onBlur(),this.open()):t._incrementOrDecrement("subtract")):38===i?void(e.altKey===!0?t._addon&&this.close():t._incrementOrDecrement("add")):void 0},keypress:function(t){var i=this,r=t.key||String.fromCharCode(t.keyCode);if(i.valChanged=!1,(!e.jqx.browser.mozilla||"ArrowLeft"!==r&&"ArrowRight"!==r&&"ArrowUp"!==r&&"ArrowDown"!==r&&"Backspace"!==r&&"Delete"!==r&&"Home"!==r&&"End"!==r)&&!i.suppressKeyPressRepeat&&!i.readOnly){i.move(t);var s=i.element.value;if(r===i.decimalSeparator){var a=(s.match(new RegExp("\\"+i.decimalSeparator,"g"))||[]).length;if(a>0)return t.preventDefault(),!1}else{if("Enter"===r)return;if(i._regex[i._radixNumber.toString()].test(r)!==!0)return t.ctrlKey===!1?(t.preventDefault(),!1):void 0;if("+"===r||"-"===r)if(i.int64!==!1)"-"===s.charAt(0)?i._minus=!1:i._minus=!0,t.preventDefault();else{var n=(s.match(/-/g)||[]).length+(s.match(/\+/g)||[]).length;if(n>0&&-1===s.toLowerCase().indexOf("e")||n>1)return t.preventDefault(),!1}else if("e"===r.toLowerCase()&&10===i._radixNumber){var o=(s.toLowerCase().match(/e/g)||[]).length;if(o>0)return t.preventDefault(),!1}}var l=i._getCaretPosition(),h=s,d=h.slice(0,l)+r+h.slice(l);d!==h&&(i.valChanged=!0,i.valueChangedOld=h,i.valueChangedNew=d,i._raiseEvent("5",{value:d,oldValue:h}))}},keyup:function(e){var t=this;switch(t.valChanged&&(t._raiseEvent("4",{value:t.valueChangedNew,oldValue:t.valueChangedOld}),t._supressValueChangedEvent=!0),e.keyCode){case 40:case 38:case 16:case 17:case 18:break;case 9:case 13:this._opened&&this.select(e,this);break;case 27:if(!this._opened)return;this.close();break;case 189:if("s"!==t.int64)return;if(10===t._radixNumber){var i=t.element.value.replace(/-/g,"");t._minus===!0?t.element.value="-"+i:t.element.value=i}}e.stopPropagation(),e.preventDefault(),""!==t.element.value?t._spinButtonsContainerElement&&t._removeClass(t._spinButtonsContainerElement,t.toThemeProperty("jqx-fill-state-disabled")):(t._removeClass(t.element,t.toThemeProperty("jqx-formatted-input-upper-case jqx-formatted-input-lower-case")),t._spinButtonsContainerElement&&(t._spinButtonsContainerElement.className+=" "+t.toThemeProperty("jqx-fill-state-disabled")))},_getCaretPosition:function(){var e=this.element,t=0;if(document.selection){e.focus();var i=document.selection.createRange();i.moveStart("character",-e.value.length),t=i.text.length}else(e.selectionStart||"0"===e.selectionStart)&&(t=e.selectionStart);return t},_setCaretPosition:function(e){var t=this.element;setTimeout(function(){if("selectionStart"in t)t.focus(),t.setSelectionRange(e,e);else{var i=t.createTextRange();i.collapse(!0),i.moveEnd("character",e),i.moveStart("character",e),i.select()}},10)},onBlur:function(){var t=this;t._opened&&t.close(),t._setMaxLength(),t._removeClass(t.element,"jqx-fill-state-focus"),t._removeClass(t._spinButtonsContainerElement,"jqx-fill-state-focus"),t._removeClass(t._addon,"jqx-fill-state-focus"),t._change(),t.int64===!1&&(t.element.value=t._validateDigits(t.element.value)),t._handleOutputNotation(),t._checkNotation(),t.upperCase?t.element.className+=" "+t.toThemeProperty("jqx-formatted-input-upper-case"):t.element.className+=" "+t.toThemeProperty("jqx-formatted-input-lower-case"),"placeholder"in t.element&&!(e.jqx.browser.msie&&e.jqx.browser.version<9)||""!==t.element.value&&t.element.value!==t.placeHolder||(t.element.value=t.placeHolder)},_handleOutputNotation:function(){var e=this;if(e._checkNotation(),e.int64===!1){var t=Number(e._discardDecimalSeparator(e.element.value));switch(e._number=t,e.outputNotation){case"default":if(e._eNotation){var i=-1!==t.toString().indexOf("e");i?e.element.value=e._largeExponentialToDecimal(t):e.element.value=e._validateDigits(t)}break;case"exponential":var r;r=e._eNotation?t.toExponential():e._getDecimalNotation("exponential"),e.element.value=e._applyDecimalSeparator(r);break;case"engineering":e.element.value=e._applyDecimalSeparator(e._getDecimalNotation("engineering"))}}},_largeExponentialToDecimal:function(e){var t,i=e.toString(),r=i.indexOf("e"),s=new BigNumber(i.slice(0,r)),a=i.slice(r+2),n=i.slice(r+1,r+2),o=new BigNumber(10),l=o.pow(n+a);return t=s.multiply(l),t.toString()},onFocus:function(){var t=this;t._setMaxLength(!0),t.element.className+=" "+t.toThemeProperty("jqx-fill-state-focus"),t._spinButtonsContainerElement&&(t._spinButtonsContainerElement.className+=" "+t.toThemeProperty("jqx-fill-state-focus")),t._addon&&(t._addon.className+=" "+t.toThemeProperty("jqx-fill-state-focus")),t._removeClass(t.element,t.toThemeProperty("jqx-formatted-input-upper-case jqx-formatted-input-lower-case")),"placeholder"in t.element&&!(e.jqx.browser.msie&&e.jqx.browser.version<9)||t.element.value!==t.placeHolder||(t.element.value="")},click:function(e){e.stopPropagation(),e.preventDefault();var t=e.target.getAttribute("data-value");this.select(e,this,t)},_change:function(){var e=this,t=e.value,i=e._validateValue(e.element.value,!0);e._removeClass(e.element,"jqx-input-invalid"),e._removeClass(e._spinButtonsContainerElement,"jqx-input-invalid"),e._removeClass(e._addon,"jqx-input-invalid"),e.int64===!1&&Number(t)===Number(i)||i.toUpperCase()!==t.toString().toUpperCase()&&(e._checkNotation(),e._supressValueChangedEvent!==!0?e._raiseEvent("4",{value:i,oldValue:t}):e._supressValueChangedEvent=!1,e._raiseEvent("2",{value:i,oldValue:t,radix:e._radixNumber}),e.value=i)},_getRadix:function(e){switch(e){case 10:case"decimal":return 10;case 2:case"binary":return 2;case 8:case"octal":return 8;case 16:case"hexadecimal":return 16}},_setPopupOptions:function(){var e=this;e._popupOptions=[],""!==e.value?(e._popupOptions.push(e._number.toString(2)+" <em>(BIN)</em>"),e._popupOptions.push(e._number.toString(8)+" <em>(OCT)</em>"),e._popupOptions.push(e._number.toString(10)+" <em>(DEC)</em>"),e._popupOptions.push(e._number.toString(16)+" <em>(HEX)</em>")):(e._popupOptions.push("BIN"),e._popupOptions.push("OCT"),e._popupOptions.push("DEC"),e._popupOptions.push("HEX"))},_validateValue:function(e,t){var i=this;if(""!==e){var r;if("s"===i.int64?r=new i.longObj.math.Long.fromString(e.toString(),i._radixNumber):"u"===i.int64?r=i._toBigNumberDecimal(e.toString()):i.int64===!1&&(r=Number(i._discardDecimalSeparator(e.toString()))),"s"===i.int64&&r.lessThan(i._minObject)||"u"===i.int64&&-1===r.compare(i._minObject)){if(t){i._number=i._minObject;var s=i._minObject.toString(i._radixNumber);return 16===i._radixNumber&&i.upperCase===!0&&(s=s.toUpperCase()),i.element.value=s,s}return!1}if("s"===i.int64&&r.greaterThan(i._maxObject)||"u"===i.int64&&1===r.compare(i._maxObject)){if(t){i._number=i._maxObject;var a=i._maxObject.toString(i._radixNumber);return 16===i._radixNumber&&i.upperCase===!0&&(a=a.toUpperCase()),i.element.value=a,a}return!1}return i.int64===!1&&(r<i._minObject||r>i._maxObject)?t?(r<i._minObject?(i._number=i._minObject,i.element.value=i._validateDigits(i._minObject)):(i._number=i._maxObject,i.element.value=i._validateDigits(i._maxObject)),i.element.value):!1:t?(i._number=r,i.element.value=e,e):!0}return t?(i.element.value="",e):!0},_validateDigits:function(e){function t(e){return"number"==typeof e?e:parseFloat(e.replace(r.decimalSeparator,"."))}var i,r=this;return e=r._discardDecimalSeparator(e.toString()),i=null!==r.decimalDigits?t(e).toFixed(r.decimalDigits):Number(t(e).toPrecision(r.digits)).toString(),i.replace(".",r.decimalSeparator)},_getNegativeDecimal:function(e,t){var i=e;if(8===t){for(var r=[],s=0;11>s;s++){for(var a=parseInt(e.charAt(s),8).toString(2);3!==a.length;)a="0"+a;r.push(a)}i=r.join(""),"0"===i.charAt(0)&&(i=i.slice(1))}else if(16===t){for(var n=[],o=0;8>o;o++){for(var l=parseInt(e.charAt(o),16).toString(2);4!==l.length;)l="0"+l;n.push(l)}i=n.join("")}for(var h="",d=0;d<i.length;d++){var c="1"===i.charAt(d)?"0":"1";h+=c}return h=-1*(parseInt(h,2)+1)},_setMaxLength:function(e){var t,i=this;if(e===!0&&i.int64!==!1)switch(i._radixNumber){case 2:t=64;break;case 8:t=22;break;case 10:t=20;break;case 16:t=16}else t=524288;i.host.attr("maxlength",t)},_setMinMax:function(e){var t=this;"s"===t.int64?t["_"+e+"Object"]=new t.longObj.math.Long.fromString(t[e].toString(),t._radixNumber):"u"===t.int64?t["_"+e+"Object"]=t._toBigNumberDecimal(t[e].toString()):t.int64===!1&&(t["_"+e+"Object"]=Number(t._discardDecimalSeparator(t[e])))},_getDecimalNotation:function(e){function t(e){var t=e.indexOf("e"),i=e.slice(t+1),s=e.slice(0,t+1);return s=s.replace("e","Ã10"),s+=r._toSuperScript(i),s=s.replace("+","")}function i(e){var t=e.indexOf("e"),i=e.slice(t+1),s=e.slice(0,t),a=parseInt(i,10)%3;if(0===a)return e;if(s*=Math.pow(10,a),i>0){var n=e.slice(0,t).length-a-2;n>=0&&(s=s.toFixed(n))}var o,l=parseInt(i,10)-a;o=0>l?"":"+",void 0!==r.decimalDigits?s=Number(s).toFixed(r.decimalDigits):void 0!==r.digits&&(s=Number(Number(s).toPrecision(r.digits)).toString());var h=s+"e"+o+l;return h}var r=this,s=r._number.toString(10),a=Number(s).toExponential();if("scientific"===e)return t(a);if("engineering"===e)return i(a);var n;return void 0!==r.decimalDigits?n=r.decimalDigits:void 0!==r.digits&&(n=r.digits-1),void 0!==n&&(a=Number(s).toExponential(n)),a},_toSuperScript:function(e,t){for(var i="-0123456789",r="â»â°Â¹Â²Â³â´âµâ¶â·â¸â¹",s="",a=0;a<e.length;a++)if(t===!0){var n=r.indexOf(e.charAt(a));s+=-1!==n?i[n]:e[a]}else{var o=i.indexOf(e.charAt(a));s+=-1!==o?r[o]:e[a]}return s},_incrementOrDecrement:function(e){var t,i=this,r=i.element===document.activeElement,s=!1;if("u"!==i.int64||"0"!==i._number.toString()||"subtract"!==e){if(r&&(t=i._getCaretPosition(),i._setCaretPosition(t)),"s"===i.int64?(i._number=new i.longObj.math.Long.fromString(i.element.value,i._radixNumber),s=i._number.isNegative()):"u"===i.int64?i._number=i._toBigNumberDecimal(i.element.value):i.int64===!1&&(i._number=Number(i._discardDecimalSeparator(i.element.value))),"simple"===i.spinMode||"advanced"===i.spinMode&&r===!1||s===!0&&10!==i._radixNumber)i.int64!==!1?i._number=i._number[e](i._spinButtonsStepObject):"add"===e?i._number+=i._spinButtonsStepObject:i._number-=i._spinButtonsStepObject;else{
if(0===t||isNaN(i.element.value.charAt(t-1))&&i.element.value.charAt(t-1)!==i.decimalSeparator)return;var a,n=i.element.value;if(i.int64!==!1){a=n.length-t;var o=new BigNumber(i._radixNumber).pow(a);"s"===i.int64&&(o=new i.longObj.math.Long.fromString(o.toString(),10)),i._number=i._number[e](i._spinButtonsStepObject.multiply(o))}else{var l,h=n.indexOf(i.decimalSeparator),d=1,c=0;i._eNotation===!0&&(l=n.toLowerCase().indexOf("e"),c=Number(n.slice(l+1)),d=Math.pow(10,c)),a=-1===h?i._eNotation?n.slice(0,l).length-t:n.length-t:h>=t-1?t>=h?0:h-t:h-t+1,"add"===e?!i._eNotation||i._eNotation&&l+3>t?i._number+=i._spinButtonsStepObject*Math.pow(10,a)*d:i._number*=10:!i._eNotation||i._eNotation&&l+3>t?i._number-=i._spinButtonsStepObject*Math.pow(10,a)*d:i._number/=10}}if(i.int64!==!1)i.element.value=i._number.toString(i._radixNumber);else switch(i.outputNotation){case"default":i._checkNotation(i._number.toString()),i._eNotation===!0?i.element.value=i._largeExponentialToDecimal(i._number):i.element.value=i._validateDigits(i._number);break;case"exponential":var u=i._number.toExponential();i.element.value=i._applyDecimalSeparator(u);break;case"engineering":i.element.value=i._applyDecimalSeparator(i._getDecimalNotation("engineering"))}i._change(),i._handleOutputNotation()}},_negativeBinary:function(e,t){for(var i="";e.length<64;)e="0"+e;for(var r=0;r<e.length;r++){var s="1"===e.charAt(r)?"0":"1";i+=s}for(var a=!0,n="",o=i.length-1;o>=0;o--){var l,h=i.charAt(o);"0"===h?a===!0?(l="1",a=!1):l="0":l=a===!0?"0":"1",n=l+""+n}switch(t){case 2:return n;case 8:n="00"+n;for(var d="",c=22;c>=1;c--){var u=n[3*c-3]+""+n[3*c-2]+n[3*c-1];d=parseInt(u,2).toString(8)+""+d}return d;case 16:for(var p="",f=16;f>=1;f--){var m=n[4*f-4]+""+n[4*f-3]+n[4*f-2]+n[4*f-1];p=parseInt(m,2).toString(16)+""+p}return p}},_toBigNumberDecimal:function(e){var t,i=this._radixNumber;if(10===i)t=new BigNumber(e);else{t=new BigNumber(0);for(var r=e.length-1;r>=0;r--){var s=new BigNumber(parseInt(e.charAt(r),i));t=t.add(s.multiply(new BigNumber(i).pow(e.length-1-r)))}}return t},_checkNotation:function(e){var t=this;void 0===e&&(e=t.element.value),-1!==e.toString().toLowerCase().indexOf("e")?t._eNotation=!0:t._eNotation=!1},_discardDecimalSeparator:function(e,t){var i=this;if(void 0===t&&(t=i.decimalSeparator),"."!==t&&e!==1/0&&e!==Number.NEGATIVE_INFINITY){var r=new RegExp(t,"g");return e.replace(r,".")}return e},_applyDecimalSeparator:function(e){var t=this;return"."!==t.decimalSeparator&&(e=e.replace(/\./g,t.decimalSeparator)),e},_removeClass:function(t,i){e(t).removeClass(i)},_find:function(t,i){for(var r=e(i).children(),s=0;s<r.length;s++){var a=r[s];if(-1!==a.className.indexOf(t))return a}},_checkStructure:function(){var e=this;if("div"===e.element.nodeName.toLowerCase()){var t=e.element.getElementsByTagName("div"),i=0;e.spinButtons&&(i+=1),e.dropDown&&(i+=1),1===i&&2===t.length||0===i&&1===t.length?e.element.removeChild(t[0]):0===i&&2===t.length&&(e.element.removeChild(t[1]),e.element.removeChild(t[0]))}},_Long:function(){var e=this;e.longObj={};var t=e.longObj;t.math={},t.math.Long={},t.math.Long=function(e,t){this.lowBits=0|e,this.highBits=0|t},t.math.Long.IntCache={},t.math.Long.fromInt=function(e){if(e>=-128&&128>e){var i=t.math.Long.IntCache[e];if(i)return i}var r=new t.math.Long(0|e,0>e?-1:0);return e>=-128&&128>e&&(t.math.Long.IntCache[e]=r),r},t.math.Long.fromNumber=function(e){return isNaN(e)||!isFinite(e)?t.math.Long.ZERO:e<=-t.math.Long.TWO_PWR_63_DBL_?t.math.Long.MIN_VALUE:e+1>=t.math.Long.TWO_PWR_63_DBL_?t.math.Long.MAX_VALUE:0>e?t.math.Long.fromNumber(-e).negate():new t.math.Long(e%t.math.Long.TWO_PWR_32_DBL_|0,e/t.math.Long.TWO_PWR_32_DBL_|0)},t.math.Long.fromBits=function(e,i){return new t.math.Long(e,i)},t.math.Long.fromString=function(e,i){if(0===e.length)throw new Error("number format error: empty string");var r=i||10;if(2>r||r>36)throw new Error("radix out of range: "+r);if("-"===e.charAt(0))return t.math.Long.fromString(e.substring(1),r).negate();if(e.indexOf("-")>=0)throw new Error('number format error: interior "-" character: '+e);for(var s=t.math.Long.fromNumber(Math.pow(r,8)),a=t.math.Long.ZERO,n=0;n<e.length;n+=8){var o=Math.min(8,e.length-n),l=parseInt(e.substring(n,n+o),r);if(8>o){var h=t.math.Long.fromNumber(Math.pow(r,o));a=a.multiply(h).add(t.math.Long.fromNumber(l))}else a=a.multiply(s),a=a.add(t.math.Long.fromNumber(l))}return a},t.math.Long.TWO_PWR_16_DBL_=65536,t.math.Long.TWO_PWR_24_DBL_=1<<24,t.math.Long.TWO_PWR_32_DBL_=t.math.Long.TWO_PWR_16_DBL_*t.math.Long.TWO_PWR_16_DBL_,t.math.Long.TWO_PWR_31_DBL_=t.math.Long.TWO_PWR_32_DBL_/2,t.math.Long.TWO_PWR_48_DBL_=t.math.Long.TWO_PWR_32_DBL_*t.math.Long.TWO_PWR_16_DBL_,t.math.Long.TWO_PWR_64_DBL_=t.math.Long.TWO_PWR_32_DBL_*t.math.Long.TWO_PWR_32_DBL_,t.math.Long.TWO_PWR_63_DBL_=t.math.Long.TWO_PWR_64_DBL_/2,t.math.Long.ZERO=t.math.Long.fromInt(0),t.math.Long.ONE=t.math.Long.fromInt(1),t.math.Long.NEG_ONE=t.math.Long.fromInt(-1),t.math.Long.MAX_VALUE=t.math.Long.fromBits(-1,2147483647),t.math.Long.MIN_VALUE=t.math.Long.fromBits(0,-2147483648),t.math.Long.TWO_PWR_24_=t.math.Long.fromInt(1<<24),t.math.Long.prototype.toInt=function(){return this.lowBits},t.math.Long.prototype.toNumber=function(){return this.highBits*t.math.Long.TWO_PWR_32_DBL_+this.getLowBitsUnsigned()},t.math.Long.prototype.toString=function(i){var r=i||10;if(2>r||r>36)throw new Error("radix out of range: "+r);if(this.isZero())return"0";var s,a;if(this.isNegative()){if(this.equals(t.math.Long.MIN_VALUE)){var n=t.math.Long.fromNumber(r),o=this.div(n);return s=o.multiply(n).subtract(this),o.toString(r)+s.toInt().toString(r)}switch(r){case 2:case 8:case 16:return a=this.negate().toString(2),e._negativeBinary(a,r);default:return a="-"+this.negate().toString(r)}}var l=t.math.Long.fromNumber(Math.pow(r,6));for(s=this,a="";;){var h=s.div(l),d=s.subtract(h.multiply(l)).toInt(),c=d.toString(r);if(s=h,s.isZero())return c+a;for(;c.length<6;)c="0"+c;a=""+c+a}},t.math.Long.prototype.getHighBits=function(){return this.highBits},t.math.Long.prototype.getLowBits=function(){return this.lowBits},t.math.Long.prototype.getLowBitsUnsigned=function(){return this.lowBits>=0?this.lowBits:t.math.Long.TWO_PWR_32_DBL_+this.lowBits},t.math.Long.prototype.getNumBitsAbs=function(){if(this.isNegative())return this.equals(t.math.Long.MIN_VALUE)?64:this.negate().getNumBitsAbs();for(var e=0!==this.highBits?this.highBits:this.lowBits,i=31;i>0&&0===(e&1<<i);i--);return 0!==this.highBits?i+33:i+1},t.math.Long.prototype.isZero=function(){return 0===this.highBits&&0===this.lowBits},t.math.Long.prototype.isNegative=function(){return this.highBits<0},t.math.Long.prototype.isOdd=function(){return 1===(1&this.lowBits)},t.math.Long.prototype.equals=function(e){return this.highBits===e.highBits&&this.lowBits===e.lowBits},t.math.Long.prototype.notEquals=function(e){return this.highBits!==e.highBits||this.lowBits!==e.lowBits},t.math.Long.prototype.lessThan=function(e){return this.compare(e)<0},t.math.Long.prototype.lessThanOrEqual=function(e){return this.compare(e)<=0},t.math.Long.prototype.greaterThan=function(e){return this.compare(e)>0},t.math.Long.prototype.greaterThanOrEqual=function(e){return this.compare(e)>=0},t.math.Long.prototype.compare=function(e){if(this.equals(e))return 0;var t=this.isNegative(),i=e.isNegative();return t&&!i?-1:!t&&i?1:this.subtract(e).isNegative()?-1:1},t.math.Long.prototype.negate=function(){return this.equals(t.math.Long.MIN_VALUE)?t.math.Long.MIN_VALUE:this.not().add(t.math.Long.ONE)},t.math.Long.prototype.add=function(e){var i=this.highBits>>>16,r=65535&this.highBits,s=this.lowBits>>>16,a=65535&this.lowBits,n=e.highBits>>>16,o=65535&e.highBits,l=e.lowBits>>>16,h=65535&e.lowBits,d=0,c=0,u=0,p=0;return p+=a+h,u+=p>>>16,p&=65535,u+=s+l,c+=u>>>16,u&=65535,c+=r+o,d+=c>>>16,c&=65535,d+=i+n,d&=65535,t.math.Long.fromBits(u<<16|p,d<<16|c)},t.math.Long.prototype.subtract=function(e){return this.add(e.negate())},t.math.Long.prototype.multiply=function(e){if(this.isZero())return t.math.Long.ZERO;if(e.isZero())return t.math.Long.ZERO;if(this.equals(t.math.Long.MIN_VALUE))return e.isOdd()?t.math.Long.MIN_VALUE:t.math.Long.ZERO;if(e.equals(t.math.Long.MIN_VALUE))return this.isOdd()?t.math.Long.MIN_VALUE:t.math.Long.ZERO;if(this.isNegative())return e.isNegative()?this.negate().multiply(e.negate()):this.negate().multiply(e).negate();if(e.isNegative())return this.multiply(e.negate()).negate();if(this.lessThan(t.math.Long.TWO_PWR_24_)&&e.lessThan(t.math.Long.TWO_PWR_24_))return t.math.Long.fromNumber(this.toNumber()*e.toNumber());var i=this.highBits>>>16,r=65535&this.highBits,s=this.lowBits>>>16,a=65535&this.lowBits,n=e.highBits>>>16,o=65535&e.highBits,l=e.lowBits>>>16,h=65535&e.lowBits,d=0,c=0,u=0,p=0;return p+=a*h,u+=p>>>16,p&=65535,u+=s*h,c+=u>>>16,u&=65535,u+=a*l,c+=u>>>16,u&=65535,c+=r*h,d+=c>>>16,c&=65535,c+=s*l,d+=c>>>16,c&=65535,c+=a*o,d+=c>>>16,c&=65535,d+=i*h+r*l+s*o+a*n,d&=65535,t.math.Long.fromBits(u<<16|p,d<<16|c)},t.math.Long.prototype.div=function(e){if(e.isZero())throw new Error("division by zero");if(this.isZero())return t.math.Long.ZERO;var i,r;if(this.equals(t.math.Long.MIN_VALUE)){if(e.equals(t.math.Long.ONE)||e.equals(t.math.Long.NEG_ONE))return t.math.Long.MIN_VALUE;if(e.equals(t.math.Long.MIN_VALUE))return t.math.Long.ONE;var s=this.shiftRight(1);if(i=s.div(e).shiftLeft(1),i.equals(t.math.Long.ZERO))return e.isNegative()?t.math.Long.ONE:t.math.Long.NEG_ONE;r=this.subtract(e.multiply(i));var a=i.add(r.div(e));return a}if(e.equals(t.math.Long.MIN_VALUE))return t.math.Long.ZERO;if(this.isNegative())return e.isNegative()?this.negate().div(e.negate()):this.negate().div(e).negate();if(e.isNegative())return this.div(e.negate()).negate();var n=t.math.Long.ZERO;for(r=this;r.greaterThanOrEqual(e);){i=Math.max(1,Math.floor(r.toNumber()/e.toNumber()));for(var o=Math.ceil(Math.log(i)/Math.LN2),l=48>=o?1:Math.pow(2,o-48),h=t.math.Long.fromNumber(i),d=h.multiply(e);d.isNegative()||d.greaterThan(r);)i-=l,h=t.math.Long.fromNumber(i),d=h.multiply(e);h.isZero()&&(h=t.math.Long.ONE),n=n.add(h),r=r.subtract(d)}return n},t.math.Long.prototype.modulo=function(e){return this.subtract(this.div(e).multiply(e))},t.math.Long.prototype.not=function(){return t.math.Long.fromBits(~this.lowBits,~this.highBits)},t.math.Long.prototype.and=function(e){return t.math.Long.fromBits(this.lowBits&e.lowBits,this.highBits&e.highBits)},t.math.Long.prototype.or=function(e){return t.math.Long.fromBits(this.lowBits|e.lowBits,this.highBits|e.highBits)},t.math.Long.prototype.xor=function(e){return t.math.Long.fromBits(this.lowBits^e.lowBits,this.highBits^e.highBits)},t.math.Long.prototype.shiftLeft=function(e){if(e&=63,0===e)return this;var i=this.lowBits;if(32>e){var r=this.highBits;return t.math.Long.fromBits(i<<e,r<<e|i>>>32-e)}return t.math.Long.fromBits(0,i<<e-32)},t.math.Long.prototype.shiftRight=function(e){if(e&=63,0===e)return this;var i=this.highBits;if(32>e){var r=this.lowBits;return t.math.Long.fromBits(r>>>e|i<<32-e,i>>e)}return t.math.Long.fromBits(i>>e-32,i>=0?0:-1)},t.math.Long.prototype.shiftRightUnsigned=function(e){if(e&=63,0===e)return this;var i=this.highBits;if(32>e){var r=this.lowBits;return t.math.Long.fromBits(r>>>e|i<<32-e,i>>>e)}return 32===e?t.math.Long.fromBits(i,0):t.math.Long.fromBits(i>>>e-32,0)}}})}(jqxBaseFramework),function(e){"use strict";e.jqx.jqxWidget("jqxComplexInput","",{}),e.extend(e.jqx._jqxComplexInput.prototype,{defineInstance:function(){var t={width:null,height:null,outputNotation:"default",value:"",spinButtons:!1,spinButtonsStep:1,interval:null,spinButtonsWidth:18,spinMode:"simple",placeHolder:"",roundedCorners:!0,disabled:!1,rtl:!1,readOnly:!1,textAlign:"right",upperCase:!1,decimalSeparator:".",digits:8,decimalDigits:null,min:null,max:null,events:["change","valueChanged","textChanged"]};e.extend(!0,this,t)},createInstance:function(){var t=this;t._firefox="mozilla"===e.jqx.browser.browser,t._oldIE=e.jqx.browser.msie&&e.jqx.browser.version<9,t._currentNumber={},t._allowedCharacters=new RegExp(/([\+\-0-9ei])/i),t.render(),t._initialized=!0},render:function(){var t=this;if(t._initialized!==!0&&"DIV"===t.element.nodeName.toUpperCase()){t.baseHost=t.host,t.baseElement=t.element;var i=t.host.data(),r=t.baseElement.getElementsByTagName("input")[0];r||(r=document.createElement("input"),r.setAttribute("type","text"),t.baseElement.appendChild(r)),t.host=e(r),t.element=r,t.host.data(i);var s=t.baseElement.getElementsByTagName("div")[0];s&&t.spinButtons===!1&&t.baseElement.removeChild(s)}if(t.spinButtons===!0){if(!t.baseHost)throw new Error("jqxComplexInput: Invalid HTML structure. Please initialize the complex input from a div with an input and another div inside.");t._appendSpinButtons()}t._handlespinButtonsInterval(),t.readOnly===!0&&t.element.setAttribute("readonly",!0),t._addClasses(),t._setSize(),t._initialized===!0&&t._removeHandlers(),t._addHandlers(),t._suppressEvent=!0;var a=t.value.replace(/\s+/g,"");t.val(a),t._suppressEvent=!1,t._refreshPlaceHolder()},refresh:function(e){e!==!0&&this.render()},destroy:function(){var e=this;e._removeHandlers(),e.baseHost?e.baseHost.remove():e.host.remove()},val:function(t){var i=this;if("string"!=typeof t&&("object"!=typeof t||e.isEmptyObject(t)!==!1))return i.element.value;var r,s;if("string"==typeof t)if(t=t.toLowerCase(),-1===t.indexOf("e"))r=i._getReal(t),s=i._getImaginary(t);else{var a=i._exponentialToDecimal(t);r=1*a.realPart,s=1*a.imaginaryPart}else"object"==typeof t&&e.isEmptyObject(t)===!1&&(r=t.real,s=t.imaginary);var n=s>=0?"+":"-",o=r+" "+n+" "+Math.abs(s)+"i";o!==i._currentNumber.value&&(i.element.value=o,i._onChange(i.value),"default"!==i.outputNotation&&i._setNotation())},getReal:function(){var e=this,t=e.getDecimalNotation("real",e.outputNotation);return t=t.toString().replace(".",e.decimalSeparator)},_getReal:function(t){var i=this;(!t||"object"==typeof t&&e.isEmptyObject(t)===!0)&&(t=i.element.value);var r=e.trim(t),s="";if(0===(t.match(/i/g)||[]).length)return r;if(i._eNotation!==!0){"+"===t.charAt(0)?r=r.slice(1,t.length):"-"===t.charAt(0)&&(r=r.slice(1,t.length),s="-");var a=function(t){return r=r.slice(0,t),r=e.trim(r),s+""+r},n=r.indexOf("+");if(-1!==n)return a(n);var o=r.indexOf("-");return-1!==o?a(o):"0"}return i._exponentialToDecimal(r).realPart.toExponential()},getImaginary:function(){var e=this,t=e.getDecimalNotation("imaginary",e.outputNotation);return t=t.toString().replace(".",e.decimalSeparator)},_getImaginary:function(t){var i=this;if((!t||"object"==typeof t&&e.isEmptyObject(t)===!0)&&(t=i.element.value),0===(t.match(/i/g)||[]).length)return"0";var r=e.trim(t),s="";if(i._eNotation!==!0){"-"!==r.charAt(0)&&"+"!==r.charAt(0)||(s="-"===r.charAt(0)?"-":"+",r=e.trim(r.slice(1,t.length)));var a=function(t,i){return r=r.slice(t+1,r.indexOf("i")),r=e.trim(r),""===r&&(r=1),i+""+r},n=r.indexOf("+");if(-1!==n)return a(n,"");var o=r.indexOf("-");return-1!==o?a(o,"-"):(r=s+""+r.slice(0,r.indexOf("i")),""===r||"+"===r?"1":"-"===r?"-1":r)}return i._exponentialToDecimal(r).imaginaryPart.toExponential()},_checkNotation:function(e){var t=this;void 0===e&&(e=t.element.value),-1!==e.toString().toLowerCase().indexOf("e")?t._eNotation=!0:t._eNotation=!1},getDecimalNotation:function(e,t){function i(e){var t=e.indexOf("e"),i=e.slice(t+1),r=e.slice(0,t+1);return r=r.replace("e","Ã10"),r+=s._toSuperScript(i),r=r.replace("+","")}function r(e){var t=e.indexOf("e"),i=e.slice(t+1),r=e.slice(0,t),a=parseInt(i,10)%3;if(0===a)return e;if(r*=Math.pow(10,a),i>0){var n=e.slice(0,t).length-a-2;n>=0&&(r=r.toFixed(n))}var o,l=parseInt(i,10)-a;o=0>l?"":"+",void 0!==s.decimalDigits?r=Number(r).toFixed(s.decimalDigits):void 0!==s.digits&&(r=Number(Number(r).toPrecision(s.digits)).toString());var h=r+"e"+o+l;return h}var s=this;"real"===e?e=s._currentNumber.realPart:"imaginary"===e&&(e=s._currentNumber.imaginaryPart);var a=s._toNumber(e).toExponential();if("scientific"===t)return i(a);if("engineering"===t)return r(a);if("exponential"===t){var n;return void 0!==s.decimalDigits?n=s.decimalDigits:void 0!==s.digits&&(n=s.digits-1),void 0!==n&&null!==n&&(a=Number(e).toExponential(n)),a}return Number(a)},clear:function(){var e=this,t=this.element.value;e.element.value="",e._onChange(t)},propertyChangedHandler:function(t,i,r,s){if(s!==r){var a=t.element,n=t._spinButtonsContainerElement;switch(i){case"width":case"height":t._setSize();break;case"outputNotation":"default"===s?t.element.value=t._currentNumber.value:t._setNotation();break;case"value":t.element.value=s,t._onChange(r);break;case"spinButtons":var o=function(){t._removeClass(a,t.toThemeProperty("jqx-rc-all")),t.rtl===!1?(a.className+=" "+t.toThemeProperty("jqx-rc-l"),n.className+=" "+t.toThemeProperty("jqx-rc-r")):(a.className+=" "+t.toThemeProperty("jqx-rc-r"),n.className+=" "+t.toThemeProperty("jqx-rc-l"))};if(n)s===!1?(a.style.width="100%",n.style.display="none",a.className+=" "+t.toThemeProperty("jqx-rc-all")):(t._oldIE?a.style.width=a.offsetWidth-t.spinButtonsWidth+"px":a.style.width="calc(100% - "+t.spinButtonsWidth+"px)",n.style.display="block",o());else if(s===!0){var l=document.createElement("div");if(t.baseElement)t.rtl?t.baseElement.insertBefore(l,a):t.baseElement.appendChild(l),t.render();else{var h=a.id,d=a.parentNode,c=a.nextSibling,u=document.createElement("div");a.removeAttribute("id"),u.setAttribute("id",h),u.appendChild(a),t.rtl?u.insertBefore(l,a):u.appendChild(l),c?d.insertBefore(u,c):d.appendChild(u),t.baseElement=u,t.baseHost=e(u);var p=t.host.data();p.jqxComplexInput.host=t.baseHost,p.jqxComplexInput.element=u,t.baseHost.data(p),t.element.style.height="",t.render()}n=t._spinButtonsContainerElement,o()}break;case"spinButtonsWidth":if(n&&t.spinButtons){var f=r-s,m=s-1+"px";n.style.width=s+"px",t._upbutton.style.width=m,t._downbutton.style.width=m,t._oldIE?a.style.width=a.offsetWidth-f+"px":a.style.width="calc(100% - "+s+"px)"}break;case"placeHolder":t._refreshPlaceHolder(r);break;case"roundedCorners":n?s===!0?t.rtl===!1?(a.className+=" "+t.toThemeProperty("jqx-rc-l"),n.className+=" "+t.toThemeProperty("jqx-rc-r")):(a.className+=" "+t.toThemeProperty("jqx-rc-r"),n.className+=" "+t.toThemeProperty("jqx-rc-l")):t.rtl===!1?(t._removeClass(a,t.toThemeProperty("jqx-rc-l")),t._removeClass(n,t.toThemeProperty("jqx-rc-r"))):(t._removeClass(a,t.toThemeProperty("jqx-rc-r")),t._removeClass(n,t.toThemeProperty("jqx-rc-l"))):s===!0?a.className+=" "+t.toThemeProperty("jqx-rc-all"):t._removeClass(a,t.toThemeProperty("jqx-rc-all"));break;case"disabled":s===!0?(a.setAttribute("disabled",!0),a.className+=" "+t.toThemeProperty("jqx-fill-state-disabled jqx-input-disabled"),n&&(n.className+=" "+t.toThemeProperty("jqx-fill-state-disabled"))):(a.removeAttribute("disabled"),t._removeClass(a,t.toThemeProperty("jqx-fill-state-disabled jqx-input-disabled")),n&&t._removeClass(n,t.toThemeProperty("jqx-fill-state-disabled")));break;case"rtl":n&&(s===!0?(a.className+=" "+t.toThemeProperty("jqx-complex-input-child-rtl"),t._removeClass(n,t.toThemeProperty("jqx-complex-input-spin-buttons-container-ltr")),n.className+=" "+t.toThemeProperty("jqx-complex-input-child-rtl jqx-complex-input-spin-buttons-container-rtl"),t.roundedCorners===!0&&(t._removeClass(a,t.toThemeProperty("jqx-rc-l")),a.className+=" "+t.toThemeProperty("jqx-rc-r"),t._removeClass(n,t.toThemeProperty("jqx-rc-r")),n.className+=" "+t.toThemeProperty("jqx-rc-l"))):(t._removeClass(a,t.toThemeProperty("jqx-complex-input-child-rtl")),t._removeClass(n,t.toThemeProperty("jqx-complex-input-child-rtl jqx-complex-input-spin-buttons-container-rtl")),n.className+=" "+t.toThemeProperty("jqx-complex-input-spin-buttons-container-ltr"),t.roundedCorners===!0&&(t._removeClass(a,t.toThemeProperty("jqx-rc-r")),a.className+=" "+t.toThemeProperty("jqx-rc-l"),t._removeClass(n,t.toThemeProperty("jqx-rc-l")),n.className+=" "+t.toThemeProperty("jqx-rc-r"))));break;case"theme":e.jqx.utilities.setTheme(r,s,t.host);break;case"readOnly":s===!0?a.setAttribute("readonly",!0):a.removeAttribute("readonly");break;case"textAlign":t._removeClass(a,t.toThemeProperty("jqx-complex-input-align-"+r)),a.className+=" "+t.toThemeProperty("jqx-complex-input-align-"+s);break;case"upperCase":s?(t._removeClass(a,t.toThemeProperty("jqx-complex-input-lower-case")),a.className+=" "+t.toThemeProperty("jqx-complex-input-upper-case")):(t._removeClass(a,t.toThemeProperty("jqx-complex-input-upper-case")),a.className+=" "+t.toThemeProperty("jqx-complex-input-lower-case"));break;case"digits":case"decimalDigits":case"min":case"max":t._onChange(t.value);break;case"decimalSeparator":var g=new RegExp(r,"g");t.element.value=t.element.value.replace(g,s);break;case"interval":t._handlespinButtonsInterval()}}},_raiseEvent:function(t,i){void 0===i&&(i={owner:null});var r=this.events[t];i.owner=this;var s=new e.Event(r);s.owner=this,s.args=i,s.preventDefault&&s.preventDefault();var a=this.host.trigger(s);return a},_appendSpinButtons:function(){function e(e){e.setAttribute("unselectable","on"),e.className=i.toThemeProperty("jqx-fill-state-normal jqx-formatted-input-spin-button"),e.style.width=i.spinButtonsWidth-1+"px",r.appendChild(e)}function t(e,t,r){e.setAttribute("unselectable","on"),e.className=i.toThemeProperty("jqx-input-icon jqx-formatted-input-icon jqx-icon-arrow-"+r),t.appendChild(e)}var i=this,r=i.baseElement.getElementsByTagName("div")[0];r||(r=document.createElement("div"),i.baseElement.appendChild(r)),r.setAttribute("unselectable","on"),r.className=i.toThemeProperty("jqx-fill-state-normal jqx-complex-input-child jqx-formatted-input-spin-buttons-container jqx-complex-input-spin-buttons-container"),r.style.width=i.spinButtonsWidth+"px",i.rtl===!1?r.className+=" "+i.toThemeProperty("jqx-complex-input-spin-buttons-container-ltr"):r.className+=" "+i.toThemeProperty("jqx-complex-input-child-rtl jqx-complex-input-spin-buttons-container-rtl"),i._upbutton=document.createElement("div"),e(i._upbutton),i._downbutton=document.createElement("div"),e(i._downbutton),i._upArrow=document.createElement("div"),t(i._upArrow,i._upbutton,"up"),i._downArrow=document.createElement("div"),t(i._downArrow,i._downbutton,"down"),i._spinButtonsContainerElement=r},_addClasses:function(){var e=this,t=e.element,i="",r="";i+=" jqx-widget jqx-input jqx-complex-input jqx-widget-content jqx-complex-input-align-"+e.textAlign,e.baseElement&&(e.baseElement.className+=" "+e.toThemeProperty("jqx-widget jqx-complex-input-parent"),i+=" jqx-complex-input-child"),e.roundedCorners===!0&&(e._spinButtonsContainerElement?e.rtl===!1?(i+=" jqx-rc-l",r+=" jqx-rc-r"):(i+=" jqx-rc-r",r+=" jqx-rc-l"):i+=" jqx-rc-all"),e.disabled===!0&&(t.disabled=!0,i+=" jqx-fill-state-disabled jqx-input-disabled",e._spinButtonsContainerElement&&(r+=" jqx-fill-state-disabled")),e.rtl===!0&&(i+=" jqx-complex-input-child-rtl",r+=" jqx-complex-input-child-rtl"),i+=e.upperCase===!1?" jqx-complex-input-lower-case":" jqx-complex-input-upper-case",t.className+=" "+e.toThemeProperty(i),e._spinButtonsContainerElement&&(e._spinButtonsContainerElement.className+=" "+e.toThemeProperty(r))},_refreshPlaceHolder:function(e){var t=this;"placeholder"in t.element?t.element.placeholder=t.placeHolder:""!==t.element.value&&t.element.value!==e||(t.element.value=t.placeHolder)},_setSize:function(){function t(e){return"string"==typeof e?"medium"===e?1:parseInt(e,10):e}function i(){if(!r.baseElement)return void(n&&(r.element.style.lineHeight=r.element.offsetHeight+"px"));var e=r.baseElement.currentStyle;if(r.element.style.height=Math.max(0,r.baseElement.offsetHeight-(t(e.borderTopWidth)+t(e.borderBottomWidth)+t(e.paddingTop)+t(e.paddingBottom))+s)+"px",r.element.style.lineHeight=r.element.style.height,r.spinButtons){r.element.style.width=Math.max(0,r.baseElement.offsetWidth-a-s)+"px";var i=r._spinButtonsContainerElement.currentStyle;r._spinButtonsContainerElement.style.height=Math.max(0,r.baseElement.offsetHeight-(t(i.borderTopWidth)+t(i.borderBottomWidth)+t(i.paddingTop)+t(i.paddingBottom))+s)+"px"}else r.element.style.width="100%"}var r=this,s="string"==typeof r.width&&-1!==r.width.indexOf("%")?1:0,a=r.spinButtons?r.spinButtonsWidth:0,n="string"==typeof r.height&&-1!==r.height.indexOf("%");if(r.baseElement?(r.baseElement.style.width=r._toPx(r.width),r.baseElement.style.height=r._toPx(r.height),r._oldIE?i():r.element.style.width="calc(100% - "+(a+s)+"px)"):(r.element.style.width=r._toPx(r.width),r.element.style.height=r._toPx(r.height)),r._oldIE){r.element.style.lineHeight=r.element.offsetHeight+"px";var o=r.baseHost||r.host;e.jqx.utilities.resize(o,function(){i()})}},_toPx:function(e){return"number"==typeof e?e+"px":e},_addHandlers:function(){var e,t=this,i=t.element,r=t._spinButtonsContainerElement;e=t.baseElement?t.baseElement.id:i.id,t.addHandler(t.host,"focus.jqxComplexInput"+e,function(){i.className+=" "+t.toThemeProperty("jqx-fill-state-focus"),r&&(r.className+=" "+t.toThemeProperty("jqx-fill-state-focus")),"placeholder"in i||i.value!==t.placeHolder||(i.value="")}),t.addHandler(t.host,"blur.jqxComplexInput"+e,function(){t._removeClass(i,t.toThemeProperty("jqx-fill-state-focus")),r&&t._removeClass(r,t.toThemeProperty("jqx-fill-state-focus")),(i.value!==t.value||"placeholder"in i||!("placeholder"in i)&&""===i.value)&&t._onChange(t.value),"placeholder"in i||""!==i.value&&i.value!==t.placeHolder||(i.value=t.placeHolder),"default"!==t.outputNotation&&t._setNotation()}),t.addHandler(t.host,"keydown.jqxComplexInput"+e,function(e){var i=e.charCode?e.charCode:e.which;return t.readOnly?!1:void(40===i?t._incrementOrDecrement(-1):38===i&&t._incrementOrDecrement(1))}),t.addHandler(t.host,"keypress.jqxComplexInput"+e,function(e){if(t.valChanged=!1,!t._firefox||!e.ctrlKey){var r=e.key||String.fromCharCode(e.keyCode),s=t._allowedCharacters.test(r);if(s===!0){if("+"===r||"-"===r){var a=(i.value.match(/-/g)||[]).length+(i.value.match(/\+/g)||[]).length;if("default"===t.outputNotation&&a>1||"default"!==t.outputNotation&&a>3)return e.preventDefault(),!1}else if("i"===r.toLowerCase()){if(-1!==i.value.toLowerCase().indexOf(r.toLowerCase()))return e.preventDefault(),!1}else if("e"===r.toLowerCase()){var n=(i.value.toLowerCase().match(/e/g)||[]).length;if(n>1)return e.preventDefault(),!1}}else if(r===t.decimalSeparator){var o=(i.value.match(new RegExp("\\"+t.decimalSeparator,"g"))||[]).length;if(o>1)return e.preventDefault(),!1}else{if("Enter"!==r)return e.preventDefault(),!1;if(i.value!==t.value)return void t._onChange(t.value)}var l=t._getCaretPosition(),h=i.value,d=h.slice(0,l)+r+h.slice(l);d!==h&&(t.valChanged=!0,t.valueChangedOld=h,t.valueChangedNew=d,t._raiseEvent("2",{value:d,oldValue:h}))}}),t.addHandler(t.host,"keyup.jqxComplexInput"+e,function(e){t.valChanged&&(t._raiseEvent("1",{value:t.valueChangedNew,oldValue:t.valueChangedOld}),t._supressValueChangedEvent=!0),r&&(""===e.target.value?r.className+=" "+t.toThemeProperty("jqx-fill-state-disabled"):t.disabled===!1&&t._removeClass(r,t.toThemeProperty("jqx-fill-state-disabled")))}),t.addHandler(t.host,"mousewheel.jqxComplexInput"+e,function(e){t.host.is(":focus")&&(e.originalEvent.wheelDelta>0?t._incrementOrDecrement(1):t._incrementOrDecrement(-1))}),r&&(t.addHandler(t._upbutton,"mousedown.jqxComplexInputSpinButtonUp"+e,function(){t.disabled||""===t.value||null===t.value||(t._upbutton.className+=" "+t.toThemeProperty("jqx-fill-state-pressed"),t._incrementOrDecrement(1))}),t.addHandler(t._upbutton,"mouseup.jqxComplexInputSpinButtonUp"+e,function(){t.disabled||""===t.value||null===t.value||t._removeClass(t._upbutton,t.toThemeProperty("jqx-fill-state-pressed"))}),t.addHandler(t._downbutton,"mousedown.jqxComplexInputSpinButtonDown"+e,function(){t.disabled||""===t.value||null===t.value||(t._downbutton.className+=" "+t.toThemeProperty("jqx-fill-state-pressed"),t._incrementOrDecrement(-1))}),t.addHandler(t._downbutton,"mouseup.jqxComplexInputSpinButtonDown"+e,function(){t.disabled||""===t.value||null===t.value||t._removeClass(t._downbutton,t.toThemeProperty("jqx-fill-state-pressed"))}),t.addHandler(t._upbutton,"mouseenter.jqxComplexInputSpinButtonUp"+e,function(){t.disabled||""===t.value||null===t.value||(t._upbutton.className+=" "+t.toThemeProperty("jqx-fill-state-hover"),t._upArrow.className+=" "+t.toThemeProperty("jqx-icon-arrow-up-hover"))}),t.addHandler(t._downbutton,"mouseenter.jqxComplexInputSpinButtonDown"+e,function(){t.disabled||""===t.value||null===t.value||(t._downbutton.className+=" "+t.toThemeProperty("jqx-fill-state-hover"),t._downArrow.className+=" "+t.toThemeProperty("jqx-icon-arrow-down-hover"))}),t.addHandler(t._upbutton,"mouseleave.jqxComplexInputSpinButtonUp"+e,function(){t.disabled||""===t.value||null===t.value||(t._removeClass(t._upbutton,t.toThemeProperty("jqx-fill-state-hover")),t._removeClass(t._upArrow,t.toThemeProperty("jqx-icon-arrow-up-hover")))}),t.addHandler(t._downbutton,"mouseleave.jqxComplexInputSpinButtonDown"+e,function(){t.disabled||""===t.value||null===t.value||(t._removeClass(t._downbutton,t.toThemeProperty("jqx-fill-state-hover")),t._removeClass(t._downArrow,t.toThemeProperty("jqx-icon-arrow-down-hover")))}),t.addHandler(document.body,"mouseup.jqxComplexInputSpinButtons"+e,function(){t._removeClass(t._upbutton,t.toThemeProperty("jqx-fill-state-pressed")),t._removeClass(t._downbutton,t.toThemeProperty("jqx-fill-state-pressed"))}))},_removeHandlers:function(){var e,t=this;e=t.baseElement?t.baseElement.id:t.element.id,t.removeHandler(t.host,"focus.jqxComplexInput"+e),t.removeHandler(t.host,"blur.jqxComplexInput"+e),t.removeHandler(t.host,"keydown.jqxComplexInput"+e),t.removeHandler(t.host,"keypress.jqxComplexInput"+e),t.removeHandler(t.host,"keyup.jqxComplexInput"+e),t.removeHandler(t.host,"mousewheel.jqxComplexInput"+e),t._spinButtonsContainerElement&&(t.removeHandler(t._upbutton,"mousedown.jqxComplexInputSpinButtonUp"+e),t.removeHandler(t._upbutton,"mouseup.jqxComplexInputSpinButtonUp"+e),t.removeHandler(t._downbutton,"mousedown.jqxComplexInputSpinButtonDown"+e),t.removeHandler(t._downbutton,"mouseup.jqxComplexInputSpinButtonDown"+e),t.removeHandler(t._upbutton,"mouseenter.jqxComplexInputSpinButtonUp"+e),t.removeHandler(t._downbutton,"mouseenter.jqxComplexInputSpinButtonDown"+e),t.removeHandler(t._upbutton,"mouseleave.jqxComplexInputSpinButtonUp"+e),t.removeHandler(t._downbutton,"mouseleave.jqxComplexInputSpinButtonDown"+e),t.removeHandler(document.body,"mouseup.jqxComplexInputSpinButtons"+e))},_validatePart:function(e){var t,i=this;return t=null!==i.decimalDigits?i._toNumber(e).toFixed(i.decimalDigits):Number(i._toNumber(e).toPrecision(i.digits)).toString(),t.replace(".",i.decimalSeparator)},_onChange:function(t){var i,r,s=this;s._checkNotation();var a=s.element.value.toLowerCase();if(""!==e.trim(a)&&e.trim(a)!==s.placeHolder){if(-1!==a.indexOf("++")||-1!==a.indexOf("+-")){var n=a.indexOf("+");a=a.slice(0,n+1)+""+a.slice(n+2,a.length)}else if(-1!==a.indexOf("--")||-1!==a.indexOf("-+")){var o=a.indexOf("-");a=a.slice(0,o+1)+""+a.slice(o+2,a.length)}if(-1!==a.indexOf(s.decimalSeparator+s.decimalSeparator)){var l=a.indexOf(s.decimalSeparator);a=a.slice(0,l+1)+""+a.slice(l+2,a.length)}if("."!==s.decimalSeparator){var h=new RegExp(s.decimalSeparator,"g");a=a.replace(h,".")}var d=s._validatePart(Number(s._getReal(a)).toString()),c=s._validatePart(Number(s._getImaginary(a)).toString()),u=" ",p=parseFloat(c.replace(s.decimalSeparator,"."))>=0?"+":"-";if(i=d,r=c,"-"===c.charAt(0)&&(c=c.slice(1)),isNaN(i.replace(s.decimalSeparator,"."))||isNaN(r.replace(s.decimalSeparator,".")))return void(s.element.value=t);s.element.value=d+""+u+p+u+c+"i",s.value=s.element.value,s.disabled===!1&&s._spinButtonsContainerElement&&s._removeClass(s._spinButtonsContainerElement,s.toThemeProperty("jqx-fill-state-disabled"))}else i=0,r=0,s.value="",s._spinButtonsContainerElement&&(s._spinButtonsContainerElement.className+=" "+s.toThemeProperty("jqx-fill-state-disabled"));s._currentNumber={value:s.value,realPart:i,imaginaryPart:r};var f=s._validate();f!==!0&&(s._currentNumber={value:f.value,realPart:f.realPart,imaginaryPart:f.imaginaryPart},s.value=f.value,s.element.value=s.value),
"default"!==s.outputNotation&&""!==s.element.value&&s._setNotation(),s.value===t&&s._suppressEvent!==!0||s._suppressEvent!==!0&&(s._supressValueChangedEvent!==!0?s._raiseEvent("1",{value:s.value,oldValue:t}):s._supressValueChangedEvent=!1,s._raiseEvent("0",{value:s.value,oldValue:t,realPart:i,imaginaryPart:r}))},_handlespinButtonsInterval:function(){var e=this;null!==e.interval&&(e._intervalRealPart=e._getReal(e.interval),e._intervalImaginaryPart=e._getImaginary(e.interval))},_incrementOrDecrement:function(e){function t(t,i){var r;return r=l?s.spinButtonsStep:parseFloat(s["_interval"+i+"Part"]),t+r*Math.pow(10,b)*e}function i(e,i,r,s){var l="real"===e?n:o,h="-"===l.charAt(0)?1:0;if(a>=r.from+1+h&&a<=r.to){if(-1!==s){var d=r.from+s;u=d-(a-1),b=0>=u?u:u-1}else b=r.to-a;return t(i)}return i}function r(t,i){var r,l,h;"real"===t?(r=n,l=p.from,h=p.to):(r=o,l=f.from,h=f.to);var d=r.toLowerCase().indexOf("e"),c=l+d,u="-"===r.charAt(0);if(u&&a===l+1||l>=a||a>h||a===c+1||a===c+2)return"return";var m=r.indexOf(s.decimalSeparator),g=Number(r.charAt(d+2)),v=1;return a>c+2&&h+1>a?(v=Math.pow(Math.pow(10,s.spinButtonsStep*e),Math.pow(10,h-a)),i*=v):-1!==m?i+=a===l+m+1||a===l+m?s.spinButtonsStep*Math.pow(10,g)*e:s.spinButtonsStep*Math.pow(10,l+m+1-a)*Math.pow(10,g)*e:-1===m&&(i+=s.spinButtonsStep*Math.pow(10,c-a)*Math.pow(10,g)*e),i}var s=this;s._checkNotation();var a,n,o,l=s.element===document.activeElement,h=s.element.value;"default"===s.outputNotation?(n=s._getReal(),o=s._getImaginary()):(n=s.getDecimalNotation("real",s.outputNotation),n=n.replace(".",s.decimalSeparator),o=s.getDecimalNotation("imaginary",s.outputNotation),o=o.replace(".",s.decimalSeparator));var d=s._toNumber(n),c=s._toNumber(o);"-"===o.charAt(0)&&(o=o.slice(1));var u,p={},f={},m=n.length,g=o.length,v=n.indexOf(s.decimalSeparator),x=o.indexOf(s.decimalSeparator),b=0;l&&(a=s._getCaretPosition(),s._onChange(s.value),s._setCaretPosition(a)),p.from=h.indexOf(n),p.to=p.from+m,f.from=h.indexOf(o+"i"),f.to=f.from+g;var w=f.from-2;if(void 0===a)null!==s.interval&&(d=t(d,"Real"),c=t(c,"Imaginary"));else if(w>=a)if("advanced"===s.spinMode){if(s._eNotation!==!0)d=i("real",d,p,v);else if(d=r("real",d),"return"===d)return void s._setNotation()}else d=t(d);else if("advanced"===s.spinMode){if(s._eNotation!==!0)c=i("imaginary",c,f,x);else if(c=r("imaginary",c),"return"===c)return void s._setNotation()}else c=t(c);var y=c>=0?"+":"-",_=d.toString().replace(".",s.decimalSeparator)+" "+y+" "+Math.abs(c).toString().replace(".",s.decimalSeparator)+"i";s.element.value=_,s._onChange(s.value),"default"!==s.outputNotation&&s._setNotation(),l&&s._setCaretPosition(a)},_getCaretPosition:function(){var e=this.element;if("selectionStart"in e)return e.selectionStart;if(document.selection){e.focus();var t=document.selection.createRange(),i=document.selection.createRange().text.length;return t.moveStart("character",-e.value.length),t.text.length-i}},_setCaretPosition:function(e){var t=this.element;setTimeout(function(){if("selectionStart"in t)t.focus(),t.setSelectionRange(e,e);else{var i=t.createTextRange();i.collapse(!0),i.moveEnd("character",e),i.moveStart("character",e),i.select()}},10)},_exponentialToDecimal:function(t){var i=t.indexOf("e")+2,r=t.slice(i),s=r.indexOf("+"),a=r.indexOf("-");i=-1!==s&&(a>s||-1===a)?s:a;var n=r.slice(i),o=t.replace(n,"");n=n.slice(0,n.length-1);var l=n.charAt(0);n=e.trim(n.slice(1)),"-"===l&&(n="-"+n);var h=this.decimalSeparator;if("."!==h){var d=new RegExp(h,"g");o=o.replace(d,"."),n=n.replace(d,".")}return o=1*parseFloat(o).toFixed(20),n=1*parseFloat(n).toFixed(20),{realPart:o,imaginaryPart:n}},_setNotation:function(){var e=this,t=e.getDecimalNotation(e._currentNumber.realPart,e.outputNotation),i=e.getDecimalNotation(Math.abs(e._toNumber(e._currentNumber.imaginaryPart)),e.outputNotation),r=e._toNumber(e._currentNumber.imaginaryPart)>=0?"+":"-",s=t+" "+r+" "+i+"i";"."!==e.decimalSeparator&&(s=s.replace(/\./g,e.decimalSeparator)),e.element.value=s},_toSuperScript:function(e,t){for(var i="-0123456789",r="â»â°Â¹Â²Â³â´âµâ¶â·â¸â¹",s="",a=0;a<e.length;a++)if(t===!0){var n=r.indexOf(e.charAt(a));s+=-1!==n?i[n]:e[a]}else{var o=i.indexOf(e.charAt(a));s+=-1!==o?r[o]:e[a]}return s},_toNumber:function(e){return"number"==typeof e?e:parseFloat(e.replace(this.decimalSeparator,"."))},_compare:function(e,t){var i=this,r=i._toNumber(i._getReal(e)),s=i._toNumber(i._getImaginary(e)),a=i._toNumber(i._getReal(t)),n=i._toNumber(i._getImaginary(t));return a>r?-1:r>a?1:n>s?-1:s>n?1:0},_validate:function(){function e(e,t){e=i._validatePart(Number(e).toString()),t=i._validatePart(Number(t).toString());var r=parseFloat(t.replace(i.decimalSeparator,"."))>=0?"+":"-";"-"===t.charAt(0)&&(t=t.slice(1));var s=e+" "+r+" "+t+"i";return s}function t(t){var r=t,a={};return"."!==i.decimalSeparator&&(r=t.replace(s,".")),a.realPart=i._getReal(r),a.imaginaryPart=i._getImaginary(r),a.value=e(a.realPart,a.imaginaryPart),a}var i=this,r=i._currentNumber.value,s=new RegExp(i.decimalSeparator,"g");return null!==i.min&&-1===i._compare(r,i.min)?t(i.min):null!==i.max&&1===i._compare(r,i.max)?t(i.max):!0},_removeClass:function(t,i){e(t).removeClass(i)}})}(jqxBaseFramework),function(e){var t={defineInstance:function(){var t={width:350,height:350,radius:"50%",endAngle:270,startAngle:30,int64:!1,editableLabels:!1,value:0,min:0,max:220,disabled:!1,ticksDistance:"20%",colorScheme:"scheme01",animationDuration:400,showRanges:!0,easing:"easeOutCubic",labels:null,pointer:null,cap:null,caption:null,border:null,ticksMinor:null,ticksMajor:null,tickMode:"default",niceInterval:!1,style:null,ranges:[],_radius:100,_border:null,_radiusDifference:2,_pointer:null,_labels:[],_cap:null,_ticks:[],_ranges:[],_gauge:null,_caption:null,_animationTimeout:10,renderer:null,_animations:[],aria:{"aria-valuenow":{name:"value",type:"number"},"aria-valuemin":{name:"min",type:"number"},"aria-valuemax":{name:"max",type:"number"},"aria-disabled":{name:"disabled",type:"boolean"}}};return this===e.jqx._jqxGauge.prototype?t:(e.extend(!0,this,t),t)},createInstance:function(t){var i=this;if(i.that=this,e.jqx.aria(i),i._radius=i.radius,i.endAngle=i.endAngle*Math.PI/180+Math.PI/2,i.startAngle=i.startAngle*Math.PI/180+Math.PI/2,"s"===i.int64){if(!e.jqx.longInt)throw new Error("jqxGauge: Missing reference to jqxmath.js");e.jqx.longInt(i),i._value64=(new e.jqx.math).fromString(i.value.toString(),10),i._min64=(new e.jqx.math).fromString(i.min.toString(),10),i._max64=(new e.jqx.math).fromString(i.max.toString(),10)}else if("u"===i.int64){try{BigNumber}catch(r){throw new Error("jqxGauge: Missing reference to jqxmath.js")}i._value64=new BigNumber(i.value),i._min64=new BigNumber(i.min),i._max64=new BigNumber(i.max)}else i.value=new Number(i.value);i._refresh(),i.renderer.getContainer().css("overflow","hidden"),i.int64!==!1?i.setValue(i._value64,0):i.setValue(i.value,0),e.jqx.utilities.resize(i.host,function(){i._refresh(!0)}),i.host.addClass(i.toThemeProperty("jqx-widget"))},_validateEasing:function(){return!!e.easing[this.easing]},_validateProperties:function(){if(this.startAngle===this.endAngle)throw new Error("The end angle can not be equal to the start angle!");this._validateEasing()||(this.easing="linear"),this.ticksDistance=this._validatePercentage(this.ticksDistance,"20%"),this.border=this._borderConstructor(this.border,this),this.style=this.style||{fill:"#ffffff",stroke:"#E0E0E0"},this.ticksMinor=new this._tickConstructor(this.ticksMinor,this),this.ticksMajor=new this._tickConstructor(this.ticksMajor,this),this.cap=new this._capConstructor(this.cap,this),this.pointer=new this._pointerConstructor(this.pointer,this),this.labels=new this._labelsConstructor(this.labels,this),this.caption=new this._captionConstructor(this.caption,this);for(var e=0;e<this.ranges.length;e+=1)this.ranges[e]=new this._rangeConstructor(this.ranges[e],this)},_hostInit:function(e){var t,i=this._getScale(this.width,"width",this.host.parent()),r=this._getScale(this.height,"height",this.host.parent()),s=this._outerBorderOffset(),a=this.host;a.width(i),a.height(r),this.radius=t=0;var n=(this._getScale(this._radius,"width",this.host)||i/2)-s,o=(this._getScale(this._radius,"height",this.host)||r/2)-s;if(this.radius=t=Math.min(n,o),this._originalRadius=parseInt(this.radius,10)-this._radiusDifference,this._innerRadius=this._originalRadius,this.border&&(this._innerRadius-=this._getSize(this.border.size)),e||(a[0].innerHTML="<div />"),this._gaugeParent=a.children(),this._gaugeParent.width(i),this._gaugeParent.height(r),e){var l=this.renderer.getContainer();l[0].style.width=i+"px",l[0].style.height=r+"px"}else this.renderer.init(this._gaugeParent)},_initRenderer:function(t){if(!e.jqx.createRenderer)throw"Please include a reference to jqxdraw.js";return e.jqx.createRenderer(this,t)},_refresh:function(t){var i=this;if(t)return i._ticksIterator=0,i._labelsIterator=0,i._ranges&&e(i._ranges).remove(),i._pointer&&e(i._pointer).remove(),i._pointer=null,i._ranges=[],i.niceInterval&&(i._labels&&e(i._labels).remove(),i._labels=[],i._ticks&&(e(i._ticks).remove(),i._ticks=[])),i._hostInit(t),void i._render(t);i.renderer||(i._isVML=!1,i.host.empty(),i._initRenderer(i.host));var r=i.renderer;r&&(i._ranges&&e(i._ranges).remove(),i._pointer&&e(i._pointer).remove(),i._labels&&e(i._labels).remove(),i._cap&&e(i._cap).remove(),i._ticks&&e(i._ticks).remove(),i._border&&e(i._border).remove(),i._caption&&e(i._caption).remove(),i._caption=null,i._labels=[],i._cap=null,i._ticks=[],i._ranges=[],i._border=null,i._pointer=null,i._validateProperties(),i._removeElements(),i._hostInit(),i._render(),i.setValue(this.value,0),i._editableLabels())},val:function(e){return 0==arguments.length||"object"==typeof e?this.value:void this.setValue(e,0)},refresh:function(e){e!==!0&&this._refresh.apply(this,Array.prototype.slice(arguments))},_outerBorderOffset:function(){var e=parseInt(this.border.style["stroke-width"],10)||1;return e/2},_removeCollection:function(t){for(var i=0;i<t.length;i+=1)e(t[i]).remove();t=[]},_render:function(e){this._addBorder(e),this._addGauge(e),this._addRanges(e),this.niceInterval?this._addTicks():(this._addTicks(e),this._addLabels(e)),this._styleLabels(),this._addCaption(e),this._addPointer(e),this._addCap(e)},_addBorder:function(e){if(this.border.visible){if(e){var t=this._outerBorderOffset();return this._border.setAttribute("cx",this._originalRadius+t),this._border.setAttribute("cy",this._originalRadius+t),void this._border.setAttribute("r",this._originalRadius)}var i=this.border.style.fill,t=this._outerBorderOffset();i||(i="#BABABA"),this.border.showGradient&&(i.indexOf("url")<0&&i.indexOf("#grd")<0?this._originalColor=i:i=this._originalColor,i=this.renderer._toLinearGradient(i,!0,[[0,1],[25,1.1],[50,1.5],[100,1]])),this._border=this.renderer.circle(this._originalRadius+t,this._originalRadius+t,this._originalRadius),this.border.style.fill=i,this.renderer.attr(this._border,this.border.style)}},_addGauge:function(e){var t=this._originalRadius,i=(this.renderer._toLinearGradient("#ffffff",[[3,2],[100,1]],!0),this._outerBorderOffset());e?(this._gauge.setAttribute("cx",t+i),this._gauge.setAttribute("cy",t+i),this._gauge.setAttribute("r",this._innerRadius)):(this._gauge=this.renderer.circle(t+i,t+i,this._innerRadius),this.renderer.attr(this._gauge,this.style))},_addCap:function(t){var i="visible",r=this._outerBorderOffset();this.cap.visible||(i="hidden");var s,a=this._originalRadius,n=this._getSize(this.cap.size);t?(this._cap.setAttribute("cx",a+r),this._cap.setAttribute("cy",a+r),this._cap.setAttribute("r",n),this._capCenter=[a,a]):(s=this.renderer.circle(a+r,a+r,n),this._capCenter=[a,a],this.renderer.attr(s,this.cap.style),e(s).css("visibility",i),this._cap=s)},_addTicks:function(t){function i(e){h.visible&&o._drawTick({angle:o._getAngleByValue(e),distance:o._getDistance(o.ticksDistance),style:h.style,size:o._getSize(h.size),type:"major"},t)}function r(e){l.visible&&o._drawTick({angle:o._getAngleByValue(e),distance:o._getDistance(o.ticksDistance),style:l.style,size:o._getSize(l.size),type:"minor"},t)}function s(e){o.labels.visible&&o._addLabel({angle:o._getAngleByValue(e),value:n>=1?e:new Number(e).toFixed(2),distance:o._getDistance(o._getLabelsDistance()),style:o.labels.className},t)}var a,n,o=this,l=this.ticksMinor,h=this.ticksMajor,d={};if(h.visible!==!1||l.visible!==!1||this.labels.visible!==!1){var c=0;if("s"===o.int64)if("default"===this.tickMode?this.niceInterval?(n=this._getNiceInterval("radial"),a=this._getNiceInterval("radial",!0)):(n=(new e.jqx.math).fromString(h.interval.toString(),10),a=(new e.jqx.math).fromString(l.interval.toString(),10)):(startToEnd=this._max64.subtract(this._min64),a=startToEnd.div((new e.jqx.math).fromString(l.number.toString(),10)),n=startToEnd.div((new e.jqx.math).fromString(h.number.toString(),10))),this.niceInterval){i(this._min64),s(this._min64);for(var u,p=this._min64.subtract(this._min64.modulo(n)).add(n),f=p;f.greaterThanOrEqual(this._min64);f=f.subtract(a))u=f;for(var m=u,g=p;(m.lessThan(this._max64)||g.lessThan(this._max64))&&(c+=1,!(c>250))&&(g.lessThanOrEqual(this._max64)&&(i(g),d[g.toString()]=!0,m.equals(p)?Math.abs(this._getAngleByValue(g)-this._getAngleByValue(this.min))*this._innerRadius>this._getMaxLabelSize().height&&s(g):g.add(n).lessThan(this._max64)?s(g):Math.abs(this._getAngleByValue(g)-this._getAngleByValue(this.max))*this._innerRadius>this._getMaxLabelSize().height&&s(g)),!d[m.toString()]&&m.lessThanOrEqual(o._max64)&&r(m),!o._checkForOverflow(m,a)&&!o._checkForOverflow(g,n));m=m.add(a),g=g.add(n));i(this._max64),s(this._max64)}else for(var m=(new e.jqx.math).fromString(o.min.toString(),10),g=(new e.jqx.math).fromString(o.min.toString(),10);(m.lessThanOrEqual(o._max64)||g.lessThanOrEqual(o._max64))&&(c+=1,!(c>250));m=m.add(a),g=g.add(n))g.lessThanOrEqual(o._max64)&&h.visible&&(i(g),d[g.toString()]=!0),!d[m.toString()]&&l.visible&&m.lessThanOrEqual(o._max64)&&r(m);else if("u"===o.int64)if("default"===this.tickMode?this.niceInterval?(n=this._getNiceInterval("radial"),a=this._getNiceInterval("radial",!0)):(n=new BigNumber(h.interval),a=new BigNumber(l.interval)):(startToEnd=this._max64.subtract(this._min64),a=startToEnd.divide(new BigNumber(l.number)),n=startToEnd.divide(new BigNumber(h.number))),this.niceInterval){i(this._min64),s(this._min64);for(var u,p=this._min64.subtract(this._min64.mod(n)).add(n),f=p;-1!==f.compare(this._min64);f=f.subtract(a))u=f;for(var m=u,g=p;(-1===m.compare(this._max64)||-1===g.compare(this._max64))&&(c+=1,!(c>250));m=m.add(a),g=g.add(n))1!==g.compare(this._max64)&&(i(g),d[g.toString()]=!0,0===m.compare(p)?Math.abs(this._getAngleByValue(g)-this._getAngleByValue(this.min))*this._innerRadius>this._getMaxLabelSize().height&&s(g):-1===g.add(n).compare(this._max64)?s(g):Math.abs(this._getAngleByValue(g)-this._getAngleByValue(this.max))*this._innerRadius>this._getMaxLabelSize().height&&s(g)),d[m.toString()]||1===m.compare(o._max64)||r(m);i(this._max64),s(this._max64)}else for(var m=new BigNumber(o.min),g=new BigNumber(o.min);(1!==m.compare(o._max64)||1!==g.compare(o._max64))&&(c+=1,!(c>250));m=m.add(a),g=g.add(n))1!==g.compare(o._max64)&&h.visible&&(i(g),d[g.toString()]=!0),!d[m.toString()]&&l.visible&&1!==m.compare(o._max64)&&r(m);else if("default"===this.tickMode?this.niceInterval?(n=this._getNiceInterval("radial"),a=this._getNiceInterval("radial",!0)):(n=h.interval,a=l.interval):(startToEnd=this.max-this.min,a=startToEnd/l.number,n=startToEnd/h.number),this.niceInterval){i(this.min),s(this.min);for(var u,p=this.min-this.min%n+n,f=p;f>=this.min;f-=a)u=f;for(var m=u,g=p;(m<this.max||g<this.max)&&(c+=1,!(c>250));m+=a,g+=n)g<=this.max&&(i(g),d[g.toFixed(5)]=!0,m===p?Math.abs(this._getAngleByValue(g)-this._getAngleByValue(this.min))*this._innerRadius>this._getMaxLabelSize().height&&s(g):g+n<this.max?s(g):Math.abs(this._getAngleByValue(g)-this._getAngleByValue(this.max))*this._innerRadius>this._getMaxLabelSize().height&&s(g)),!d[m.toFixed(5)]&&m<=this.max&&r(m);i(this.max),s(this.max)}else for(var m=this.min,g=this.min;(m<=this.max||g<=this.max)&&(c+=1,!(c>250));m+=a,g+=n)g<=this.max&&h.visible&&(i(g),d[g.toFixed(5)]=!0),!d[m.toFixed(5)]&&l.visible&&m<=this.max&&r(m);this._handleTicksVisibility()}},_handleTicksVisibility:function(){this.ticksMinor.visible?this.host.children(".jqx-gauge-tick-minor").css("visibility","visible"):this.host.children(".jqx-gauge-tick-minor").css("visibility","hidden"),this.ticksMajor.visible?this.host.children(".jqx-gauge-tick-major").css("visibility","visible"):this.host.children(".jqx-gauge-tick-major").css("visibility","hidden")},_getSize:function(e){return e.toString().indexOf("%")>=0&&(e=parseInt(e,10)/100*this._innerRadius),e=parseInt(e,10)},_getDistance:function(e){return this._getSize(e)+(this._originalRadius-this._innerRadius)},_drawTick:function(e,t){var i,r=this.that,s=e.angle,a=e.distance,n=e.size,o=r._outerBorderOffset(),l=r._originalRadius,h=l-a,d=h-n,c=l+o+h*Math.sin(s),u=l+o+h*Math.cos(s),p=l+o+d*Math.sin(s),f=l+o+d*Math.cos(s);if(e.style["class"]=r.toThemeProperty("jqx-gauge-tick-"+e.type),r._isVML&&(c=Math.round(c),p=Math.round(p),u=Math.round(u),f=Math.round(f)),t&&!r.niceInterval){var i=r._ticks[r._ticksIterator];i.setAttribute("x1",c),i.setAttribute("x2",p),i.setAttribute("y1",u),i.setAttribute("y2",f),r._ticksIterator++}else i=r.renderer.line(c,u,p,f,e.style),r._ticks.push(i)},_addRanges:function(e){var t="visible";if(this.showRanges)for(var i=this.ranges,r=0;r<i.length;r+=1)this._addRange(i[r],t,e);else t="hidden"},_getMaxRangeSize:function(){for(var e,t,i=-1,r=0;r<this.ranges.length;r+=1)e=this.ranges[r].startWidth,t=this.ranges[r].endWidth,e>i&&(i=e),t>i&&(i=t);return i},_getRangeDistance:function(e,t){var i=this._getLabelsDistance(),r=this._getDistance(e),s=this._getMaxRangeSize();if("outside"===this.labels.position){if(i<r+this._getMaxTickSize())return this._getDistance(this.ticksDistance)+s/2+this._getSize(this.ticksMajor.size)}else if("inside"===this.labels.position&&i+this._getMaxTickSize()<r)return this._getSize(this.border.size)+this._originalRadius/20;return r},_addRange:function(e,t,i){var r=this.that;if(!("s"===r.int64&&(e._startValue64.lessThan(r._min64)||e._endValue64.greaterThan(r._max64))||"u"===r.int64&&(-1===e._startValue64.compare(r._min64)||1===e._endValue64.compare(r._max64))||r.int64===!1&&(e.startValue<r.min||e.endValue>r.max))){var s,e,a=r.int64?r._getAngleByValue(e._startValue64):r._getAngleByValue(e.startValue),n=r.int64?r._getAngleByValue(e._endValue64):r._getAngleByValue(e.endValue),o=r._originalRadius,l=o-r._getRangeDistance(e.startDistance,e.startWidth),h=o-r._getRangeDistance(e.endDistance,e.endWidth),d=e.startWidth,c=e.endWidth,u=r._outerBorderOffset(),p={x:o+u+l*Math.sin(a),y:o+u+l*Math.cos(a)},f={x:o+u+h*Math.sin(n),y:o+u+h*Math.cos(n)},m=r._getProjectionPoint(a,o+u,l,d),g=r._getProjectionPoint(n,o+u,h,c),v="default";Math.abs(n-a)>Math.PI&&(v="opposite"),s=r._isVML?r._rangeVMLRender(p,f,o,m,g,c,d,l,h,v):r._rangeSVGRender(p,f,o,m,g,c,d,l,h,v),e.style.visibility=t,e.style["class"]=r.toThemeProperty("jqx-gauge-range"),e=r.renderer.path(s,e.style),r._ranges.push(e)}},_rangeSVGRender:function(e,t,i,r,s,a,n,o,l,h){var d="",o=i-o,c=["0,1","0,0"];return"opposite"===h&&(c=["1,1","1,0"]),d="M"+e.x+","+e.y+" ",d+="A"+(i-o)+","+(i-o)+" 100 "+c[0]+" "+t.x+","+t.y+" ",d+="L "+s.x+","+s.y+" ",d+="A"+(i-a-o)+","+(i-a-o)+" 100 "+c[1]+" "+r.x+","+r.y+" ",d+="L "+e.x+","+e.y+" ",d+="z"},_rangeVMLRender:function(e,t,i,r,s,a,n,o,l,h){i-=i-o+10;var d="",c=Math.floor(i+(n+a)/2),o=Math.floor(i-o),l=Math.floor(l),u={x:(r.x+s.x)/2,y:(r.y+s.y)/2},p=Math.sqrt((s.x-r.x)*(s.x-r.x)+(s.y-r.y)*(s.y-r.y)),f=Math.floor(u.x+Math.sqrt(i*i-p/2*(p/2))*(r.y-s.y)/p),m=Math.floor(u.y+Math.sqrt(i*i-p/2*(p/2))*(s.x-r.x)/p),g={x:(e.x+t.x)/2,y:(e.y+t.y)/2},v=Math.sqrt((t.x-e.x)*(t.x-e.x)+(t.y-e.y)*(t.y-e.y)),x=Math.floor(g.x+Math.sqrt(Math.abs(c*c-v/2*(v/2)))*(e.y-t.y)/v),b=Math.floor(g.y+Math.sqrt(Math.abs(c*c-v/2*(v/2)))*(t.x-e.x)/v);return"opposite"===h&&(f=Math.floor(u.x-Math.sqrt(i*i-p/2*(p/2))*(r.y-s.y)/p),m=Math.floor(u.y-Math.sqrt(i*i-p/2*(p/2))*(s.x-r.x)/p),x=Math.floor(g.x-Math.sqrt(Math.abs(c*c-v/2*(v/2)))*(e.y-t.y)/v),b=Math.floor(g.y-Math.sqrt(Math.abs(c*c-v/2*(v/2)))*(t.x-e.x)/v)),i=Math.floor(i),t={x:Math.floor(t.x),y:Math.floor(t.y)},e={x:Math.floor(e.x),y:Math.floor(e.y)},r={x:Math.floor(r.x),y:Math.floor(r.y)},s={x:Math.floor(s.x),y:Math.floor(s.y)},d="m "+t.x+","+t.y,d+="at "+(x-c)+" "+(b-c)+" "+(c+x)+" "+(c+b)+" "+t.x+","+t.y+" "+e.x+","+e.y,d+="l "+r.x+","+r.y,d+="m "+t.x+","+t.y,d+="l "+s.x+","+s.y,d+="at "+(f-i)+" "+(m-i)+" "+(i+f)+" "+(i+m)+" "+s.x+","+s.y+" "+r.x+","+r.y,d+="qx "+r.x+" "+r.y},_getProjectionPoint:function(e,t,i,r){var s={x:t+(i-r)*Math.sin(e),y:t+(i-r)*Math.cos(e)};return s},_addLabels:function(t){var i=this,r=i._getLabelInterval();if(i.labels.visible&&"0"!==i.labels.interval.toString()){var s=this._getDistance(this._getLabelsDistance()),a=0;if("s"===i.int64)for(var n=(new e.jqx.math).fromNumber(i.min.toString(),10);n.lessThanOrEqual(i._max64)&&(a+=1,!(a>250))&&(!n.lessThan(i._min64)&&!n.greaterThan(i._max64));n=n.add(r))this._addLabel({angle:this._getAngleByValue(n),value:n.toString(),distance:s,style:this.labels.className});else if("u"===i.int64)for(var n=new BigNumber(i.min);1!==n.compare(i._max64)&&(a+=1,!(a>250))&&(-1!==n.compare(i._min64)&&1!==n.compare(i._max64));n=n.add(r))this._addLabel({angle:this._getAngleByValue(n),value:n.toString(),distance:s,style:this.labels.className});else for(var n=this.min;n<=this.max&&(a+=1,!(a>250));n+=r)this._addLabel({angle:this._getAngleByValue(n),value:r>=1?n:new Number(n).toFixed(2),distance:s,style:this.labels.className},t)}},_getLabelsDistance:function(){var e=this._getMaxLabelSize(),t=this._getDistance(this.labels.distance),i=this._getDistance(this.ticksDistance);return e=e.width,"inside"===this.labels.position?i+e-5:"outside"===this.labels.position?i-1.5*e>t?t:Math.max(i-1.5*e,.6*e):this.labels.distance},_addLabel:function(e,t){var i,r,s=this.that,a=e.angle,n=s._originalRadius,o=n-e.distance,l=s.labels.offset,h=s._outerBorderOffset(),d=n+h+o*Math.sin(a)+l[0],c=n+h+o*Math.cos(a)+l[1],u=e.value,p=e.style||"",f=s.labels.fontSize;u=s._formatLabel(u.toString());var m={"class":p};if(f&&(m["font-size"]=f),s.labels.fontFamily&&(m["font-family"]=s.labels.fontFamily),s.labels.fontWeight&&(m["font-weight"]=s.labels.fontWeight),s.labels.fontStyle&&(m["font-style"]=s.labels.fontStyle),t&&!s.niceInterval){var r=s._labels[s._labelsIterator],g=s.renderer._measureText(u,0,m,!0),v=g.textPartsInfo,x=(v.parts,v.width,v.height);r.setAttribute("x",Math.round(d)-g.width/2+(g.width-v.width)/2),r.setAttribute("y",Math.round(c)+x+(g.height-x)/2),s._labelsIterator++}else{var i=s.renderer.measureText(u,0,m),b=0;void 0!==f&&Math.PI>a&&(b=-i.width/2*(parseInt(f)/25),parseInt(f)<=10&&(b*=-1)),m["class"]=this.toThemeProperty("jqx-gauge-label"),r=s.renderer.text(u,Math.round(d)-i.width/2+b,Math.round(c),i.width,i.height,0,m),s._labels.push(r)}},_addCaption:function(e){if(this.caption.visible!==!1){var t=this.that,i=t.caption.value,r=t.toThemeProperty("jqx-gauge-caption"),s=t.caption.offset,a=t.renderer.measureText(i,0,{"class":r}),n=t._getPosition(this.caption.position,a,s),o=(t.caption.style,t._outerBorderOffset());if(e)this._caption.setAttribute("x",n.left+o),this._caption.setAttribute("y",n.top+o);else{var l=t.renderer.text(i,n.left+o,n.top+o,a.width,a.height,0,{"class":r});this._caption=l}}},_getPosition:function(e,t,i){var r=0,s=0,a=this._originalRadius;switch(e){case"left":r=(a-t.width)/2,s=a-t.height/2;break;case"right":r=a+(a-t.width)/2,s=a-t.height/2;break;case"bottom":r=(2*a-t.width)/2,s=(a+2*a-t.height)/2;break;default:r=(2*a-t.width)/2,s=(a+t.height)/2}return{left:r+i[0],top:s+i[1]}},_addPointer:function(t){var i="visible";this.pointer.visible||(i="hidden");var r,s=(this._originalRadius,this._getSize(this.pointer.length)),a=this._getAngleByValue(this.value),n=this.pointer.pointerType;r=this._computePointerPoints(this._getSize(this.pointer.width),a,s,"default"!==n),this._pointer=this.renderer.path(r,this.pointer.style),e(this._pointer).css("visibility",i)},_computePointerPoints:function(e,t,i,r){return r?this._computeRectPoints(e,t,i):this._computeArrowPoints(e,t,i)},_computeArrowPoints:function(e,t,i){var r,s=this._originalRadius-.5,a=Math.sin(t),n=Math.cos(t),o=this._outerBorderOffset(),l=s+o+i*a,h=s+o+i*n,d=s+o+e*n,c=s+o-e*a,u=s+o-e*n,p=s+o+e*a;return this._isVML&&(d=Math.round(d),u=Math.round(u),c=Math.round(c),p=Math.round(p),l=Math.round(l),h=Math.round(h)),r="M "+d+","+c+" L "+u+","+p+" L "+l+","+h},_computeRectPoints:function(e,t,i){var r,s=this._originalRadius,a=Math.sin(t),n=Math.cos(t),o=this._outerBorderOffset(),l=s+o-e*n+i*a,h=s+o+e*a+i*n,d=s+o+e*n+i*a,c=s+o-e*a+i*n,u=s+o+e*n,p=s+o-e*a,f=s+o-e*n,m=s+o+e*a;return this._isVML&&(u=Math.round(u),f=Math.round(f),p=Math.round(p),m=Math.round(m),l=Math.round(l),h=Math.round(h),d=Math.round(d),c=Math.round(c)),r="M "+u+","+p+" L "+f+","+m+" L "+l+","+h+" "+d+","+c},_getAngleByValue:function(t){var i,r,s,a,n,o=this,l=o.startAngle,h=l-o.endAngle;if(o.int64!==!1){t="s"===o.int64?(new e.jqx.math).fromString(t.toString(),10):new BigNumber(t),i=o._min64,r=o._max64,s=r.subtract(i),a=t.subtract(i),"u"===o.int64&&(a=a.intPart());var d,c,u=s.toString(),p=a.toString();if(u.length>15){var f=u.length-15;if(u=u.slice(0,15)+"."+u.slice(15),d=parseFloat(u),p.length>f){var m=p.length-f;p=p.slice(0,m)+"."+p.slice(m)}else if(p.length===f)p="0."+p;else{for(var g="0.",v=0;v<f-p.length;v++)g+="0";p=g+""+p}c=parseFloat(p)}else d=parseFloat(s.toString()),c=parseFloat(a.toString());n=h*c/d+l+Math.PI}else i=o.min,r=o.max,s=r-i,a=t-i,n=h*a/s+l+Math.PI;return n},_setValue:function(t){var i=this;if("s"===i.int64&&t.lessThanOrEqual(i._max64)&&t.greaterThanOrEqual(i._min64)||"u"===i.int64&&1!==t.compare(i._max64)&&-1!==t.compare(i._min64)||i.int64===!1&&t<=i.max&&t>=i.min){var r=i._getAngleByValue(t),s=i.pointer.pointerType,a=i._computePointerPoints(i._getSize(i.pointer.width),r,i._getSize(i.pointer.length),"default"!==s);i._isVML?(i._pointer&&e(i._pointer).remove(),i._pointer=i.renderer.path(a,i.pointer.style)):i.renderer.attr(i._pointer,{d:a}),i.int64!==!1?(i.value=t.toString(),"s"===i.int64?i._value64=(new e.jqx.math).fromString(i.value,10):i._value64=new BigNumber(i.value)):i.value=t,e.jqx.aria(i,"aria-valuenow",t.toString())}},resize:function(e,t){this.width=e,this.height=t,this.refresh()},propertiesChangedHandler:function(e,t,i){i.width&&i.height&&2==Object.keys(i).length&&e._refresh(!0)},propertyChangedHandler:function(t,i,r,s){s!=r&&(t.batchUpdate&&t.batchUpdate.width&&t.batchUpdate.height&&2==Object.keys(t.batchUpdate).length||("min"==i&&(t.int64===!0?t._min64=(new e.jqx.math).fromString(s.toString(),10):this.min=parseInt(s),e.jqx.aria(t,"aria-valuemin",s)),"max"==i&&(t.int64===!0?t._max64=(new e.jqx.math).fromString(s.toString(),10):this.max=parseInt(s),e.jqx.aria(t,"aria-valuemax",s)),"disabled"===i?(s?this.disable():this.enable(),e.jqx.aria(this,"aria-disabled",s)):"value"===i?(this.value=r,this.setValue(s)):("startAngle"===i?this.startAngle=this.startAngle*Math.PI/180+Math.PI/2:"endAngle"===i?this.endAngle=this.endAngle*Math.PI/180+Math.PI/2:"colorScheme"===i?(this.pointer.style=null,this.cap.style=null):"radius"===i&&(this._radius=s),"animationDuration"!==i&&"easing"!==i&&this._refresh()),this.renderer instanceof e.jqx.HTML5Renderer&&this.renderer.refresh()))},_tickConstructor:function(e,t){function i(i,r){t.int64===!1?i[r]=parseFloat(e[r]):i[r]=e[r],i[r]||(i[r]=5)}return this.host?new this._tickConstructor(e,t):(e=e||{},this.size=t._validatePercentage(e.size,"10%"),i(this,"interval"),i(this,"number"),this.style=e.style||{stroke:"#898989","stroke-width":1},void("undefined"==typeof e.visible?this.visible=!0:this.visible=e.visible))},_capConstructor:function(e,t){var i=t._getColorScheme(t.colorScheme)[0];return this.host?new this._capConstructor(e,t):(e=e||{},"undefined"==typeof e.visible?this.visible=!0:this.visible=e.visible,this.size=t._validatePercentage(e.size,"4%"),void(this.style=e.style||{fill:i,"stroke-width":"1px",stroke:i,"z-index":30}))},_pointerConstructor:function(e,t){var i=t._getColorScheme(t.colorScheme)[0];return this.host?new this._pointerConstructor(e,t):(e=e||{},"undefined"==typeof e.visible?this.visible=!0:this.visible=e.visible,this.pointerType=e.pointerType,"default"!==this.pointerType&&"rectangle"!==this.pointerType&&(this.pointerType="default"),this.style=e.style||{"z-index":0,stroke:i,fill:i,"stroke-width":1},this.length=t._validatePercentage(e.length,"70%"),void(this.width=t._validatePercentage(e.width,"2%")))},_labelsConstructor:function(t,i){return this.host?new this._labelsConstructor(t,i):(t=t||{},"undefined"==typeof t.visible?this.visible=!0:this.visible=t.visible,this.offset=t.offset,this.offset instanceof Array||(this.offset=[0,-10]),t.interval||(t.interval=20),i.int64!==!1?(this.interval=t.interval,"s"===i.int64?this._interval64=(new e.jqx.math).fromString(t.interval.toString(),10):this._interval64=new BigNumber(t.interval)):this.interval=parseFloat(t.interval),t.number||(t.number=5),this.number=t.number,this.distance=i._validatePercentage(t.distance,"38%"),this.position=t.position,"inside"!==this.position&&"outside"!==this.position&&(this.position="none"),this.formatValue=t.formatValue,this.formatSettings=t.formatSettings,this.fontSize=t.fontSize,this.fontFamily=t.fontFamily,this.fontWeight=t.fontWeight,void(this.fontStyle=t.fontStyle))},_captionConstructor:function(e,t){return this.host?new this._captionConstructor(e,t):(e=e||{},"undefined"==typeof e.visible?this.visible=!0:this.visible=e.visible,this.value=e.value||"",this.position=e.position,"bottom"!==this.position&&"top"!==this.position&&"left"!==this.position&&"right"!==this.position&&(this.position="bottom"),this.offset=e.offset,void(this.offset instanceof Array||(this.offset=[0,0])))},_rangeConstructor:function(t,i){return this.host?new this._rangeConstructor(t,i):(t=t||{},this.startDistance=i._validatePercentage(t.startDistance,"5%"),this.endDistance=i._validatePercentage(t.endDistance,"5%"),this.style=t.style||{fill:"#000000",stroke:"#111111"},this.startWidth=parseFloat(t.startWidth,10),this.startWidth||(this.startWidth=10),this.startWidth=Math.max(this.startWidth,2),this.endWidth=parseFloat(t.endWidth,10),this.endWidth||(this.endWidth=10),this.endWidth=Math.max(this.endWidth,2),void 0===t.startValue&&(t.startValue=0),void 0===t.endValue&&(t.endValue=100),void(i.int64!==!1?(this.startValue=t.startValue,this.endValue=t.endValue,"s"===i.int64?(this._startValue64=(new e.jqx.math).fromString(t.startValue.toString(),10),this._endValue64=(new e.jqx.math).fromString(t.endValue.toString(),10)):(this._startValue64=new BigNumber(t.startValue),this._endValue64=new BigNumber(t.endValue))):(this.startValue=parseFloat(t.startValue,10),this.endValue=parseFloat(t.endValue,10))))},_borderConstructor:function(e,t){return this.host?new this._borderConstructor(e,t):(e=e||{},this.size=t._validatePercentage(e.size,"10%"),this.style=e.style||{stroke:"#cccccc"},"undefined"==typeof e.showGradient?this.showGradient=!0:this.showGradient=e.showGradient,void("undefined"==typeof e.visible?this.visible=!0:this.visible=e.visible))}},i={_events:["valueChanging","valueChanged"],_animationTimeout:10,_schemes:[{name:"scheme01",colors:["#307DD7","#AA4643","#89A54E","#71588F","#4198AF"]},{name:"scheme02",colors:["#7FD13B","#EA157A","#FEB80A","#00ADDC","#738AC8"]},{name:"scheme03",colors:["#E8601A","#FF9639","#F5BD6A","#599994","#115D6E"]},{name:"scheme04",colors:["#D02841","#FF7C41","#FFC051","#5B5F4D","#364651"]},{name:"scheme05",colors:["#25A0DA","#309B46","#8EBC00","#FF7515","#FFAE00"]},{name:"scheme06",colors:["#0A3A4A","#196674","#33A6B2","#9AC836","#D0E64B"]},{name:"scheme07",colors:["#CC6B32","#FFAB48","#FFE7AD","#A7C9AE","#888A63"]},{name:"scheme08",colors:["#3F3943","#01A2A6","#29D9C2","#BDF271","#FFFFA6"]},{name:"scheme09",colors:["#1B2B32","#37646F","#A3ABAF","#E1E7E8","#B22E2F"]},{name:"scheme10",
colors:["#5A4B53","#9C3C58","#DE2B5B","#D86A41","#D2A825"]},{name:"scheme11",colors:["#993144","#FFA257","#CCA56A","#ADA072","#949681"]},{name:"scheme12",colors:["#105B63","#EEEAC5","#FFD34E","#DB9E36","#BD4932"]},{name:"scheme13",colors:["#BBEBBC","#F0EE94","#F5C465","#FA7642","#FF1E54"]},{name:"scheme14",colors:["#60573E","#F2EEAC","#BFA575","#A63841","#BFB8A3"]},{name:"scheme15",colors:["#444546","#FFBB6E","#F28D00","#D94F00","#7F203B"]},{name:"scheme16",colors:["#583C39","#674E49","#948658","#F0E99A","#564E49"]},{name:"scheme17",colors:["#142D58","#447F6E","#E1B65B","#C8782A","#9E3E17"]},{name:"scheme18",colors:["#4D2B1F","#635D61","#7992A2","#97BFD5","#BFDCF5"]},{name:"scheme19",colors:["#844341","#D5CC92","#BBA146","#897B26","#55591C"]},{name:"scheme20",colors:["#56626B","#6C9380","#C0CA55","#F07C6C","#AD5472"]},{name:"scheme21",colors:["#96003A","#FF7347","#FFBC7B","#FF4154","#642223"]},{name:"scheme22",colors:["#5D7359","#E0D697","#D6AA5C","#8C5430","#661C0E"]},{name:"scheme23",colors:["#16193B","#35478C","#4E7AC7","#7FB2F0","#ADD5F7"]},{name:"scheme24",colors:["#7B1A25","#BF5322","#9DA860","#CEA457","#B67818"]},{name:"scheme25",colors:["#0081DA","#3AAFFF","#99C900","#FFEB3D","#309B46"]},{name:"scheme26",colors:["#0069A5","#0098EE","#7BD2F6","#FFB800","#FF6800"]},{name:"scheme27",colors:["#FF6800","#A0A700","#FF8D00","#678900","#0069A5"]}],_getScale:function(e,t,i){return e&&e.toString().indexOf("%")>=0?(e=parseInt(e,10)/100,i[t]()*e):parseInt(e,10)},_removeElements:function(){this.host.children(".chartContainer").remove(),this.host.children("#tblChart").remove()},_getLabelInterval:function(){var t,i=this,r=i.labels;if("default"===i.tickMode)i.niceInterval?t=i._getNiceInterval("jqxGauge"===i.widgetName?"radial":"linear"):i.int64===!1?t=r.interval:(r._interval64||(r._interval64="s"===i.int64?(new e.jqx.math).fromNumber(r.interval):new BigNumber(r.interval)),t=r._interval64);else if(i.int64===!1){var s=i.max-i.min;t=s/r.number}else{var s=i._max64.subtract(i._min64);t="s"===i.int64?s.div((new e.jqx.math).fromNumber(r.number)):s.divide(new BigNumber(r.number))}return t},_getMaxLabelSize:function(){var t=this,i=this.max,r=this.min;r=t._formatLabel(r),i=t._formatLabel(i);var s=e('<div style="position: absolute; visibility: hidden;" class="'+t.toThemeProperty("jqx-gauge-label")+'"></div>');s.css({"font-size":t.labels.fontSize,"font-family":t.labels.fontFamily,"font-weight":t.labels.fontWeight,"font-style":t.labels.fontStyle}),e("body").append(s),s.html(r);var a={width:s.width(),height:s.height()};s.html(i);var n={width:s.width(),height:s.height()};return s.remove(),a.width>n.width?a:n},disable:function(){this.disabled=!0,this.host.addClass(this.toThemeProperty("jqx-fill-state-disabled"))},enable:function(){this.disabled=!1,this.host.removeClass(this.toThemeProperty("jqx-fill-state-disabled"))},destroy:function(){var t=this;t._timeout&&clearTimeout(this._timeout),t._timeout=null,e.jqx.utilities.resize(t.host,null,!0),t._removeElements(),t.renderer.clear(),t.renderer=null;var i=e.data(t.element,"jqxGauge");i&&delete i.instance,t.host.children().remove(),t._caption=null,t._caption=null,t._pointer=null,t._labels=[],t._cap=null,t._ticks=[],t._ranges=[],t._border=null,t._gauge=null,t._caption=null,t.renderer=null,t._animations=[],t.host.removeData(),t.host.removeClass(),t.host.remove(),t.that=null,t.element=null,t._gaugeParent=null,delete t._gaugeParent,delete t.element,delete t.host},_validatePercentage:function(e,t){return 0===parseFloat(e)||e&&parseInt(e,10)||(e=t),e},_getColorScheme:function(e){for(var t,i=0;i<this._schemes.length;i+=1)if(t=this._schemes[i],t.name===e)return t.colors;return null},setValue:function(t,i){var r=this;r.disabled||(i=i||r.animationDuration||0,"s"===r.int64?("number"==typeof t?t=(new e.jqx.math).fromNumber(t,10):"string"==typeof t&&(t=(new e.jqx.math).fromString(t,10)),t.greaterThan(r._max64)&&(t=(new e.jqx.math).fromString(r._max64.toString(),10)),t.lessThan(r._min64)&&(t=(new e.jqx.math).fromString(r._min64.toString(),10)),r._animate(r._value64,t,i)):"u"===r.int64?(t=new BigNumber(t),1===t.compare(r._max64)&&(t=new BigNumber(r._max64)),-1===t.compare(r._min64)&&(t=new BigNumber(r._min64)),r._animate(r._value64,t,i)):(t>r.max&&(t=r.max),t<r.min&&(t=r.min),r._animate(r.value,t,i)),e.jqx.aria(r,"aria-valuenow",t.toString()))},_animate:function(e,t,i){var r=this;return r._timeout&&r._endAnimation(r.int64?r._value64:r.value,!1),i?void r._animateHandler(e,t,0,i):void r._endAnimation(t,!0)},_animateHandler:function(t,i,r,s){var a=this;s>=r?this._timeout=setTimeout(function(){if(a.int64!==!1){var n=i.subtract(t);if("s"===a.int64){var o=(new e.jqx.math).fromNumber(100*e.easing[a.easing](r/s,r,0,1,s),10);a._value64=t.add(n.multiply(o).div((new e.jqx.math).fromNumber(100,10)))}else{var o=new BigNumber(100*e.easing[a.easing](r/s,r,0,1,s));a._value64=t.add(n.multiply(o).divide(100))}a.value=a._value64.toString(),a._setValue(a._value64)}else a.value=t+(i-t)*e.easing[a.easing](r/s,r,0,1,s),a._setValue(a.value);a._raiseEvent(0,{value:a.value.toString()}),a._animateHandler(t,i,r+a._animationTimeout,s)},this._animationTimeout):this._endAnimation(i,!0)},_endAnimation:function(e,t){clearTimeout(this._timeout),this._timeout=null,this._setValue(e),t&&this._raiseEvent(1,{value:e.toString()})},_getMaxTickSize:function(){return Math.max(this._getSize(this.ticksMajor.size),this._getSize(this.ticksMinor.size))},_raiseEvent:function(t,i){var r,s=e.Event(this._events[t]);return s.args=i||{},r=this.host.trigger(s)},_getNiceInterval:function(t,i){function r(e){return Math.log(parseFloat(e))/Math.LN10}function s(){var e=Math.abs(a.startAngle-a.endAngle)*a._innerRadius;return Math.round(e)}var a=this,n="width";"linear"===t&&"vertical"===a.orientation&&(n="height");var o,l=e.jqx.browser.msie?0:1,h=e('<span class="'+a.toThemeProperty("jqx-gauge-label")+'" style="position: absolute; visibility: hidden;"></span>'),d=a._formatLabel(a.min),c=a._formatLabel(a.max);h.css({"font-size":a.labels.fontSize,"font-family":a.labels.fontFamily,"font-weight":a.labels.fontWeight,"font-style":a.labels.fontStyle}),e("body").append(h),h.text(d);var u=h[n]()+l;h.text(c);var p=h[n]()+l;h.remove();var o=Math.max(p,u),f=1;if("radial"===t){var m;m=a._innerRadius<50?.3:a._innerRadius<150?.6:a._innerRadius<250?.7:1,f=8/Math.max(1,r(a._innerRadius))*m}else{var g=0;o>105&&(g=(o-105)/100),f=1.5+g}o*=f;var v;v="radial"===t?s():a._getScaleLength();var x,b,w,y,_,j,q=Math.ceil(v/o);return i===!0&&(q*="radial"===t?4:3),a.int64===!1?(x=a.max-a.min,b=Math.floor(r(x)-r(q)),w=Math.pow(10,b),y=q*w,_=2*y>x?1:3*y>x?2:7*y>x?5:10,j=_*w):(x=new BigNumber(a.max).subtract(new BigNumber(a.min)),b=Math.floor(r(x.toString())-r(q)),w=new BigNumber(10).pow(new BigNumber(b)),y=new BigNumber(q).multiply(w),_=-1===x.compare(new BigNumber(2*y))?1:-1===x.compare(new BigNumber(3*y))?2:-1===x.compare(new BigNumber(7*y))?5:10,j=new BigNumber(_).multiply(w),-1===j.compare(1)&&(j=new BigNumber(1)),"s"===a.int64&&(j=(new e.jqx.math).fromString(j.toString()))),j},_styleLabels:function(){return},_checkForOverflow:function(e,t){var i=new BigNumber("9223372036854775807"),r=new BigNumber(e.toString()),s=new BigNumber(t.toString());return 1===r.add(s).compare(i)},_formatLabel:function(t,i){var r,s=this,a=s.labels.formatValue,n=s.labels.formatSettings;return a?r=a(t,i):n?void 0!==n.radix?r=(new e.jqx.math).getRadixValue(t,s.int64,n.radix):void 0!==n.outputNotation&&"default"!==n.outputNotation&&"decimal"!==n.outputNotation?r=(new e.jqx.math).getDecimalNotation(t,n.outputNotation,n.decimalDigits,n.digits):void 0!==n.decimalDigits?r=Number(t).toFixed(n.decimalDigits):void 0!==n.digits&&(r=Number(t).toPrecision(n.digits)):r=t,r},_editableLabels:function(t){function i(t,i){var r=s.renderer.measureText(s._formatLabel(i),0,{"class":s.toThemeProperty("jqx-gauge-label")});o.offset(e(t).offset()),n.style.width=r.width+10+"px",n.style.height=r.height+"px",n.style.visibility="visible",n.value=i,o.select()}function r(t,i,r,a){if(t===s[i].toString())return!1;if("s"===s.int64){var n=(new e.jqx.math).fromString(t,10);if("min"===i&&-1!==n.compare(s["_"+a+"64"])||"max"===i&&1!==n.compare(s["_"+a+"64"]))return!1;s[r]=n,s[i]=t}else if("u"===s.int64){var o=new BigNumber(t);if(-1===o.compare(0)||"min"===i&&-1!==o.compare(s["_"+a+"64"])||"max"===i&&1!==o.compare(s["_"+a+"64"]))return!1;s[r]=o,s[i]=t}else{if("min"===i&&t>=s[a]||"max"===i&&t<=s[a])return!1;s[i]=parseFloat(t)}}var s=this;if(s.editableLabels){var a=s._labels;if(0===a.length)return;var n,o,l=a[0],h=a[a.length-1];t!==!0?(n=document.createElement("input"),o=e(n),n.className="jqx-gauge-label-input",s.element.appendChild(n)):(o=s.host.children("input"),n=o[0]),l.style.cursor="text",h.style.cursor="text",s.addHandler(e(l),"dblclick.jqxGauge"+s.element.id,function(e){i(this,s.min),s._editedProperty="min"}),s.addHandler(e(h),"dblclick.jqxGauge"+s.element.id,function(e){i(this,s.max),s._editedProperty="max"});var d=/^-?\d+\.?\d*$/;t!==!0&&s.addHandler(o,"blur.jqxGauge"+s.element.id,function(t){var i,a=this.value;if(n.style.visibility="hidden",d.test(a)){if("min"===s._editedProperty){if(i=r(a,"min","_min64","max"),i===!1)return;e.jqx.aria(s,"aria-valuemin",a)}else{if(i=r(a,"max","_max64","min"),i===!1)return;e.jqx.aria(s,"aria-valuemax",a)}s.refresh(),s.renderer instanceof e.jqx.HTML5Renderer&&s.renderer.refresh()}})}}},r={defineInstance:function(){var t={int64:!1,editableLabels:!1,value:-50,max:40,min:-60,width:100,height:300,pointer:{},labels:{},animationDuration:1e3,showRanges:{},ticksMajor:{size:"15%",interval:5},ticksMinor:{size:"10%",interval:2.5},tickMode:"default",niceInterval:!1,ranges:[],easing:"easeOutCubic",colorScheme:"scheme01",disabled:!1,rangesOffset:0,background:{},ticksPosition:"both",rangeSize:"5%",scaleStyle:null,ticksOffset:null,scaleLength:"90%",orientation:"vertical",aria:{"aria-valuenow":{name:"value",type:"number"},"aria-valuemin":{name:"min",type:"number"},"aria-valuemax":{name:"max",type:"number"},"aria-disabled":{name:"disabled",type:"boolean"}},displayTank:!1,tankStyle:null,_originalColor:"",_width:null,_height:null,renderer:null};return this===e.jqx._jqxLinearGauge.prototype?t:(e.extend(!0,this,t),t)},createInstance:function(){e.jqx.aria(this),this.host.css("overflow","hidden"),this.host.addClass(this.toThemeProperty("jqx-widget")),this.host.append('<input class="jqx-gauge-label-input"/>');var t=this;if("s"===t.int64){if(!e.jqx.longInt)throw new Error("jqxLinearGauge: Missing reference to jqxmath.js");e.jqx.longInt(t),t._value64=(new e.jqx.math).fromString(t.value.toString(),10),t._min64=(new e.jqx.math).fromString(t.min.toString(),10),t._max64=(new e.jqx.math).fromString(t.max.toString(),10)}else if("u"===t.int64){try{BigNumber}catch(i){throw new Error("jqxLinearGauge: Missing reference to jqxmath.js")}t._value64=new BigNumber(t.value),t._min64=new BigNumber(t.min),t._max64=new BigNumber(t.max)}e.jqx.utilities.resize(this.host,function(){t.refresh(!1,!1)})},val:function(e){return 0==arguments.length||"object"==typeof e?this.value:void this.setValue(e,0)},_initRenderer:function(t){if(!e.jqx.createRenderer)throw"Please include a reference to jqxdraw.js";return e.jqx.createRenderer(this,t)},refresh:function(e,t){var i=this;i._nearLabels=[],i._farLabels=[],i.renderer||(i._isVML=!1,i.host.empty(),i._initRenderer(i.host));var r=i.renderer;if(r&&(i._validateProperties(),i._reset(),i._init(),i._performLayout(),i._render(),t!==!1&&i.setValue(i.value,1),!e)){var s=i.labels.position;"both"!==s&&"near"!==s||(i._labels=i._nearLabels,i._editableLabels()),"both"!==s&&"far"!==s||(i._labels=i._farLabels,i._editableLabels("both"===s?!0:void 0))}},_getBorderSize:function(){var e,t=1;return this._isVML&&(t=0),this.background?(e=(parseInt(this.background.style["stroke-width"],10)||t)/2,this._isVML?Math.round(e):e):t},_validateProperties:function(){this.background=this._backgroundConstructor(this.background,this),this.ticksOffset=this.ticksOffset||this._getDefaultTicksOffset(),this.rangesOffset=this.rangesOffset||0,this.rangeSize=this._validatePercentage(this.rangeSize,5),this.ticksOffset[0]=this._validatePercentage(this.ticksOffset[0],"5%"),this.ticksOffset[1]=this._validatePercentage(this.ticksOffset[1],"5%"),this.ticksMinor=this._tickConstructor(this.ticksMinor,this),this.ticksMajor=this._tickConstructor(this.ticksMajor,this),this.scaleStyle=this.scaleStyle||this.ticksMajor.style,this.labels=this._labelsConstructor(this.labels,this),this.pointer=this._pointerConstructor(this.pointer,this);for(var e=0;e<this.ranges.length;e+=1)this.ranges[e]=this._rangeConstructor(this.ranges[e],this)},_getDefaultTicksOffset:function(){return"horizontal"===this.orientation?["5%","36%"]:["36%","5%"]},_handleOrientation:function(){"vertical"===this.orientation?e.extend(this,linearVerticalGauge):e.extend(this,linearHorizontalGauge)},_reset:function(){this.host.empty()},_performLayout:function(){var e=parseInt(this.background.style["stroke-width"],10)||1;this._width-=e,this._height-=e,this.host.css("padding",e/2)},_init:function(){var e;this._getBorderSize();this._width=this._getScale(this.width,"width",this.host.parent())-3,this._height=this._getScale(this.height,"height",this.host.parent())-3,this.element.innerHTML="<div/>",this.host.width(this._width),this.host.height(this._height),this.host.children().width(this._width),this.host.children().height(this._height),this.renderer.init(this.host.children()),e=this.renderer.getContainer(),e.width(this._width),e.height(this._height)},_render:function(){this._renderBackground(),this._renderTicks(),this.niceInterval||this._renderLabels(),this._styleLabels(),this._renderRanges(),this._renderPointer()},_renderBackground:function(){if(this.background.visible){var t,i=this.background.style,r=e.jqx._rup(this._getBorderSize()),s="rect";i=this._handleShapeOptions(i),"roundedRectangle"===this.background.backgroundType&&this._isVML&&(s="roundrect"),this._Vml||(i.x=r,i.y=r),t=this.renderer.shape(s,i),this._isVML&&this._fixVmlRoundrect(t,i)}},_handleShapeOptions:function(e){var t=this.background.style.fill;this._getBorderSize();return t||(t="#cccccc"),this.background.showGradient&&(t.indexOf("url")<0&&t.indexOf("#grd")<0?this._originalColor=t:t=this._originalColor,t=this.renderer._toLinearGradient(t,"horizontal"===this.orientation,[[1,1.1],[90,1.5]])),this.background.style.fill=t,"roundedRectangle"===this.background.backgroundType&&(this._isVML?e.arcsize=this.background.borderRadius+"%":(e.rx=this.background.borderRadius,e.ry=this.background.borderRadius)),e.width=this._width-1,e.height=this._height-1,e},_fixVmlRoundrect:function(e,t){var i=this._getBorderSize();e.style.position="absolute",e.style.left=i,e.style.top=i,e.style.width=this._width-1,e.style.height=this._height-1,e.strokeweight=0,delete t.width,delete t.height,delete t.arcsize,this.renderer.attr(e,t)},_renderTicks:function(){var t,i,r,s,a,n=this.ticksMinor,o=this.ticksMajor;"s"===this.int64?(t=this._max64.subtract(this._min64),t.isNegative()&&(t=t.negate()),"default"===this.tickMode?this.niceInterval?(i=this._getNiceInterval("linear"),r=this._getNiceInterval("linear",!0)):(i=o._interval64,r=n._interval64):(i=t.div((new e.jqx.math).fromNumber(o.number)),r=t.div((new e.jqx.math).fromNumber(n.number)))):"u"===this.int64?(t=this._max64.subtract(this._min64).abs(),"default"===this.tickMode?this.niceInterval?(i=this._getNiceInterval("linear"),r=this._getNiceInterval("linear",!0)):(i=o._interval64,r=n._interval64):(i=t.divide(new BigNumber(o.number)),r=t.divide(new BigNumber(n.number)))):(t=Math.abs(this.max-this.min),"default"===this.tickMode?this.niceInterval?(i=this._getNiceInterval("linear"),r=this._getNiceInterval("linear",!0)):(i=o.interval,r=n.interval):(i=t/o.number,r=t/n.number)),s={size:this._getSize(o.size),style:o.style,visible:o.visible,interval:i,type:"major"},a={size:this._getSize(n.size),style:n.style,visible:n.visible,interval:r,checkOverlap:!0,type:"minor"},"near"!==this.ticksPosition&&"both"!==this.ticksPosition||(this._ticksRenderHandler(s),this._ticksRenderHandler(a)),"far"!==this.ticksPosition&&"both"!==this.ticksPosition||(s.isFar=!0,a.isFar=!0,this._ticksRenderHandler(s),this._ticksRenderHandler(a)),this._renderConnectionLine()},_ticksRenderHandler:function(e){if(e.visible||"minor"!==e.type){var t=(this._getSize(this.ticksOffset[0],"width"),this._getSize(this.ticksOffset[1],"height"),this._getBorderSize()),i=this._calculateTickOffset()+this._getMaxTickSize();e.isFar&&(i+=e.size),this._drawTicks(e,t,i+t)}},_drawTicks:function(t,i,r){function s(e){if(a=n._valueToCoordinates(e),(!t.checkOverlap||!n._overlapTick(e,u,p))&&(t.visible&&n._renderTick(t.size,a,t.style,r),n.niceInterval&&n.labels.visible)){var s;s="vertical"===n.orientation?n._getSize(n.ticksOffset[1],"height"):n._getSize(n.ticksOffset[0],"width"),s+=i;var o,l=t.isFar?"far":"near";if(o="near"===l?n._calculateTickOffset()-d+i+n._getSize(n.labels.offset):n._calculateTickOffset()+2*n._getMaxTickSize()+d+i+n._getSize(n.labels.offset),n.int64===!1){if(e!==n.min&&Math.abs(n._valueToCoordinates(n.min)-a)<c)return;if(e!==n.max&&Math.abs(n._valueToCoordinates(n.max)-a)<c)return}else if("s"===n.int64){if(e.equals(n._min64)===!1&&Math.abs(n._valueToCoordinates(n._min64)-a)<c)return!1;if(e.equals(n._max64)===!1&&Math.abs(n._valueToCoordinates(n._max64)-a)<c)return}else if("u"===n.int64){if(0!==e.compare(n._min64)&&Math.abs(n._valueToCoordinates(n._min64)-a)<c)return!1;if(0!==e.compare(n._max64)&&Math.abs(n._valueToCoordinates(n._max64)-a)<c)return}var h=n.labels.position;"major"===t.type&&("both"===h||"near"===h&&t.isFar!==!0||"far"===h&&t.isFar)&&n._renderLabel(a,l,o,d,e)}}var a,n=this,o=t.interval,l="vertical"===n.orientation?"width":"height",h="vertical"===n.orientation?"height":"width",d=n._getMaxLabelSize()[l],c=n._getMaxLabelSize()[h],u=n._getInterval("ticksMajor"),p=n._getInterval("ticksMinor");if(n.niceInterval){var f;if("s"===n.int64){if(s(n._min64),f=n._min64.subtract(n._min64.modulo(o)).add(o),"minor"===t.type)for(var m=f;m.greaterThanOrEqual(n._min64);m=m.subtract(o))f=m;for(var g=f;g.lessThan(n._max64)&&!n._checkForOverflow(g,o);g=g.add(o))s(g);s(n._max64)}else if("u"===n.int64){if(s(n._min64),f=n._min64.subtract(n._min64.mod(o)).add(o),"minor"===t.type)for(var m=f;-1!==m.compare(n._min64);m=m.subtract(o))f=m;for(var g=f;-1===g.compare(n._max64);g=g.add(o))s(g);s(n._max64)}else{if(s(n.min),f=n.min-n.min%o+o,"minor"===t.type)for(var m=f;m>=n.min;m-=o)f=m;for(var g=f;g<=n.max;g+=o)s(g);s(n.max)}}else if("s"===n.int64)for(var g=(new e.jqx.math).fromString(n._min64.toString(),10);g.lessThanOrEqual(n._max64);g=g.add(o))s(g);else if("u"===n.int64)for(var g=new BigNumber(n._min64);1!==g.compare(n._max64);g=g.add(o))s(g);else for(var g=n.min;g<=n.max;g+=o)s(g)},_calculateTickOffset:function(){var e=this._getSize(this.ticksOffset[0],"width"),t=this._getSize(this.ticksOffset[1],"height"),i=t;return"vertical"===this.orientation&&(i=e),i},_getInterval:function(t){var i,r=this;if("default"===r.tickMode)i=r.niceInterval===!0?r._getNiceInterval("linear","ticksMinor"===t):r.int64!==!1?r[t]._interval64:r[t].interval;else{var s,a=r[t].number;r.int64!==!1?(s=r._max64.subtract(r._min64),i="s"===r.int64?s.div((new e.jqx.math).fromNumber(a)):s.divide(new BigNumber(a))):(s=r.max-r.min,i=s/r[t].number)}return i},_overlapTick:function(e,t,i){return"s"===this.int64?(e=e.add(this._min64),!!e.modulo(i).equals(e.modulo(t))):"u"===this.int64?(e=e.add(this._min64),0===e.mod(i).compare(e.mod(t))):(e+=this.min,e%i===e%t)},_renderConnectionLine:function(){if(this.ticksMajor.visible||this.ticksMinor.visible){var e,t,i=(this._getScaleLength(),this._getBorderSize()),r=this._getMaxTickSize(),s=r+i;if(this.int64!==!1?(e=this._valueToCoordinates(this._max64),t=this._valueToCoordinates(this._min64)):(e=this._valueToCoordinates(this.max),t=this._valueToCoordinates(this.min)),"vertical"===this.orientation)s+=this._getSize(this.ticksOffset[0],"width"),this.renderer.line(s,e,s,t,this.scaleStyle);else{s+=this._getSize(this.ticksOffset[1],"height");var a=this._getSize(this.ticksOffset[0],"width");this.renderer.line(a+e-t,s,a,s,this.scaleStyle)}}},_getScaleLength:function(){return this._getSize(this.scaleLength,"vertical"===this.orientation?"height":"width")},_renderTick:function(e,t,i,r){var s=this._handleTickCoordinates(e,t,r);this.renderer.line(Math.round(s.x1),Math.round(s.y1),Math.round(s.x2),Math.round(s.y2),i)},_handleTickCoordinates:function(e,t,i){return"vertical"===this.orientation?{x1:i-e,x2:i,y1:t,y2:t}:{x1:t,x2:t,y1:i-e,y2:i}},_getTickCoordinates:function(e,t){var i=this._handleTickCoordinates(e,0,this._calculateTickOffset());return i="vertical"===this.orientation?i.x1:i.y1,i+=e},_renderLabels:function(){if(this.labels.visible){var e,t=this._getSize(this.ticksOffset[0],"width"),i=this._getMaxTickSize(),r=this.labels.position,s="height",a=this._getBorderSize(),n=this._calculateTickOffset()+i;"vertical"===this.orientation&&(t=this._getSize(this.ticksOffset[1],"height"),s="width"),e=this._getMaxLabelSize()[s],"near"!==r&&"both"!==r||this._labelListRender(n-i-e+a,t+a,e,"near"),"far"!==r&&"both"!==r||this._labelListRender(n+i+e+a,t+a,e,"far")}},_labelListRender:function(t,i,r,s){var a,n,o,l,h,d=this._getScaleLength();t+=this._getSize(this.labels.offset),this.int64!==!1?(h=this._max64.subtract(this._min64),"default"===this.tickMode?(a=this.labels._interval64,n="s"===this.int64?h.div(a).toNumber():parseFloat(h.divide(a).toString())):(n=this.labels.number,a="s"===this.int64?h.div((new e.jqx.math).fromNumber(n)):h.divide(n)),l="vertical"===this.orientation?this._max64:this._min64):(h=Math.abs(this.max-this.min),"default"===this.tickMode?(a=this.labels.interval,n=h/a):(n=this.labels.number,a=h/n),l="vertical"===this.orientation?this.max:this.min),o=d/n;for(var c=0;n>=c;c+=1)this._renderLabel(i,s,t,r,l),this.int64!==!1?l="vertical"===this.orientation?l.subtract(a):l.add(a):l+="vertical"===this.orientation?-a:a,i+=o},_renderLabel:function(e,t,i,r,s){var a,n,o,l,h=this,d=h.labels,c={"class":this.toThemeProperty("jqx-gauge-label")},u=(this.labels.interval,"");d.fontSize&&(u+="font-size: "+d.fontSize+";"),d.fontFamily&&(u+="font-family: "+d.fontFamily),d.fontWeight&&(u+="font-weight: "+d.fontWeight),d.fontStyle&&(u+="font-style: "+d.fontStyle),""!==u&&(c.style=u),o=this._formatLabel(s.toString(),t),n=this.renderer.measureText(o,0,c),"vertical"===this.orientation?(a="near"===t?r-n.width:0,l=this.renderer.text(o,Math.round(i)+a-r/2,Math.round(e-n.height/2),n.width,n.height,0,c)):(a="near"===t?r-n.height:0,l=this.renderer.text(o,Math.round(e-n.width/2),Math.round(i)+a-r/2,n.width,n.height,0,c)),"near"===t?this.niceInterval||"horizontal"===this.orientation?this._nearLabels.push(l):this._nearLabels.unshift(l):this.niceInterval||"horizontal"===this.orientation?this._farLabels.push(l):this._farLabels.unshift(l)},_renderRanges:function(){if(this.showRanges)for(var e,t="vertical"===this.orientation?"width":"height",i=this._getSize(this.rangesOffset,t),r=this._getSize(this.rangeSize,t),s=0;s<this.ranges.length;s+=1)e=this.ranges[s],e.size=r,this._renderRange(e,i)},_renderRange:function(t,i){var r,s,a=(this._getScaleLength(),this._getBorderSize()),n=this._getSize(this.ticksOffset[0],"width"),o=this._getSize(this.ticksOffset[1],"height"),l=this._getMaxTickSize(),h=this._getSize(t.size);this.int64!==!1?(r=this._valueToCoordinates(t._endValue64),s=t._startValue64,"s"===this.int64&&s.lessThan(this._min64)?s=(new e.jqx.math).fromString(this._min64.toString(),10):"u"===this.int64&&-1===s.compare(this._min64)&&(s=new BigNumber(this._min64))):(r=this._valueToCoordinates(t.endValue),s=t.startValue,s<this.min&&(s=this.min));var d,c,u=Math.abs(this._valueToCoordinates(s)-r);"vertical"===this.orientation?d=this.renderer.rect(n+l+i-h+a,r,t.size,u,t.style):(c=u,d=this.renderer.rect(this._valueToCoordinates(s),o+l+a,c,t.size,t.style)),this.renderer.attr(d,t.style)},_renderPointer:function(){this.pointer.visible&&("default"===this.pointer.pointerType?this._renderColumnPointer():this._renderArrowPointer())},_renderColumnPointer:function(){if(this.displayTank){var e={fill:"#FFFFFF"};e["fill-opacity"]=0,this.tankStyle?(e.stroke=this.tankStyle.stroke,e["stroke-width"]=this.tankStyle.strokeWidth):(e.stroke="#A1A1A1",e["stroke-width"]="1px"),this._tank=this.renderer.rect(0,0,0,0,e),this._performTankLayout()}this._pointer=this.renderer.rect(0,0,0,0,this.pointer.style),this.renderer.attr(this._pointer,this.pointer.style),this.int64!==!1?this._setValue(this._value64):this._setValue(this.value)},_performTankLayout:function(){var e,t,i,r=this._valueToCoordinates(),s=this._getBorderSize(),a=this._getSize(this.ticksOffset[0],"width"),n=this._getSize(this.ticksOffset[1],"height"),o=this._getMaxTickSize(),l=this._getSize(this.pointer.size),h=this._getSize(this.pointer.offset),d={};this.int64!==!1?(r=this._valueToCoordinates(this._max64),e=this._valueToCoordinates(this._min64)):(r=this._valueToCoordinates(this.max),e=this._valueToCoordinates(this.min)),i=Math.abs(e-r),"vertical"===this.orientation?(t=a+o,d={left:t+h+1+s,top:r,height:i,width:l}):(t=n+o,d={left:e,top:t+h-l-1+s,height:l,width:i}),this._isVML?(this._tank.style.top=d.top,this._tank.style.left=d.left,this._tank.style.width=d.width,this._tank.style.height=d.height):(this.renderer.attr(this._tank,{x:d.left}),this.renderer.attr(this._tank,{y:d.top}),this.renderer.attr(this._tank,{width:d.width}),this.renderer.attr(this._tank,{height:d.height}))},_renderArrowPointer:function(){var e=this._getArrowPathByValue(0);this._pointer=this.renderer.path(e,this.pointer.style)},_renderArrowPointerByValue:function(e){var t=this._getArrowPathByValue(e);this._pointer=this.renderer.path(t,this.pointer.style)},_getArrowPathByValue:function(e){var t,i,r,s=this._getBorderSize(),a=Math.ceil(this._valueToCoordinates(e))+s,n=s,o=Math.ceil(this._getSize(this.ticksOffset[0],"width")),l=(Math.ceil(this._getSize(this.ticksOffset[1],"height")),Math.ceil(this._getSize(this.pointer.offset))),h=Math.ceil(this._getMaxTickSize()),d=Math.ceil(this._getSize(this.pointer.size)),c=Math.ceil(Math.sqrt(d*d/3));if("vertical"===this.orientation)n+=o+h+l,i=l>=0?n+d:n-d,t="M "+n+" "+a+" L "+i+" "+(a-c)+" L "+i+" "+(a+c);else{var u=this._getMaxLabelSize().height;n+=o+h+l+u,this._isVML&&(n-=2),r=a,a=n,n=r,i=a-d,t="M "+n+" "+a+" L "+(n-c)+" "+i+" L "+(n+c)+" "+i}return t},_setValue:function(e){"default"===this.pointer.pointerType?this._performColumnPointerLayout(e):this._performArrowPointerLayout(e),this.value=e},_performColumnPointerLayout:function(e){var t,i,r,s=this._valueToCoordinates(e),a=this._getBorderSize(),n=this._getSize(this.ticksOffset[0],"width"),o=this._getSize(this.ticksOffset[1],"height"),l=this._getMaxTickSize(),h=this._getSize(this.pointer.size),d=this._getSize(this.pointer.offset),c={};t=this.int64!==!1?this._valueToCoordinates(this._min64):this._valueToCoordinates(this.min),r=Math.abs(t-s),"vertical"===this.orientation?(i=n+l,c={left:i+d+1+a,top:s,height:r,width:h}):(i=o+l,c={left:t,top:i+d-h-1+a,height:h,width:r}),this._setRectAttrs(c)},_performArrowPointerLayout:function(t){var i=this._getArrowPathByValue(t);this._isVML?(this._pointer&&e(this._pointer).remove(),this._renderArrowPointerByValue(t)):this.renderer.attr(this._pointer,{d:i})},_setRectAttrs:function(e){this._isVML?(this._pointer.style.top=e.top,this._pointer.style.left=e.left,this._pointer.style.width=e.width,this._pointer.style.height=e.height):(this.renderer.attr(this._pointer,{x:e.left}),this.renderer.attr(this._pointer,{y:e.top}),this.renderer.attr(this._pointer,{width:e.width}),this.renderer.attr(this._pointer,{height:e.height}))},_valueToCoordinates:function(e){var t,i,r,s=this._getBorderSize(),a=this._getScaleLength(),n=this._getSize(this.ticksOffset[0],"width"),o=this._getSize(this.ticksOffset[1],"height");if(this.int64!==!1){t=e.subtract(this._min64),i=this._max64.subtract(this._min64),"s"===this.int64?(t.isNegative()&&t.negate(),i.isNegative()&&i.negate()):(t=t.intPart().abs(),i=i.abs());var l,h,d=t.toString(),c=i.toString();if(c.length>15){var u=c.length-15;if(c=c.slice(0,15)+"."+c.slice(15),h=parseFloat(c),d.length>u){var p=d.length-u;d=d.slice(0,p)+"."+d.slice(p)}else if(d.length===u)d="0."+d;else{for(var f="0.",m=0;m<u-d.length;m++)f+="0";d=f+""+d}l=parseFloat(d)}else"s"===this.int64?(l=t.toNumber(),h=i.toNumber()):(l=parseFloat(t.toString()),h=parseFloat(i.toString()));r=l/h*a}else t=Math.abs(this.min-e),i=Math.abs(this.max-this.min),r=t/i*a;return"vertical"===this.orientation?this._height-r-(this._height-o-a)+s:r+n},_getSize:function(e,t){return t=t||("vertical"===this.orientation?"width":"height"),e.toString().indexOf("%")>=0&&(e=parseInt(e,10)/100*this["_"+t]),e=parseInt(e,10)},propertiesChangedHandler:function(e,t,i){i.width&&i.height&&2==Object.keys(i).length&&e.refresh()},propertyChangedHandler:function(t,i,r,s){if(s!=r&&!(t.batchUpdate&&t.batchUpdate.width&&t.batchUpdate.height&&2==Object.keys(t.batchUpdate).length||"tankStyle"===i&&"arrow"===t.pointer.pointerType)){if("min"==i&&("s"===t.int64?t._min64=(new e.jqx.math).fromString(s.toString(),10):"u"===t.int64?t._min64=new BigNumber(s):this.min=parseFloat(s),e.jqx.aria(this,"aria-valuemin",s)),"max"==i&&("s"===t.int64?t._max64=(new e.jqx.math).fromString(s.toString(),10):"u"===t.int64?t._max64=new BigNumber(s):this.max=parseFloat(s),e.jqx.aria(this,"aria-valuemax",s)),"disabled"===i)s?this.disable():this.enable(),e.jqx.aria(this,"aria-disabled",s);else if("value"===i)void 0!=this._timeout&&(clearTimeout(this._timeout),this._timeout=null),this.value=r,this.setValue(s);else{if("colorScheme"===i)this.pointer.style=null;else if("orientation"===i&&r!==s){var a=this.ticksOffset[0];this.ticksOffset[0]=this.ticksOffset[1],this.ticksOffset[1]=a}"animationDuration"!==i&&"easing"!==i&&this.refresh()}this.renderer instanceof e.jqx.HTML5Renderer&&this.renderer.refresh()}},_backgroundConstructor:function(e,t){if(this.host)return new this._backgroundConstructor(e,t);var i={rectangle:!0,roundedRectangle:!0};e=e||{},this.style=e.style||{stroke:"#cccccc",fill:null},e.visible||"undefined"==typeof e.visible?this.visible=!0:this.visible=!1,i[e.backgroundType]?this.backgroundType=e.backgroundType:this.backgroundType="roundedRectangle","roundedRectangle"===this.backgroundType&&("number"==typeof e.borderRadius?this.borderRadius=e.borderRadius:this.borderRadius=15),"undefined"==typeof e.showGradient?this.showGradient=!0:this.showGradient=e.showGradient},resize:function(e,t){this.width=e,this.height=t,this.refresh()},_tickConstructor:function(t,i){return this.host?new this._tickConstructor(t,i):(this.size=i._validatePercentage(t.size,"10%"),t.interval?this.interval=t.interval:this.interval=5,"s"===i.int64?this._interval64=(new e.jqx.math).fromString(this.interval.toString(),10):"u"===i.int64?this._interval64=new BigNumber(this.interval):this.interval=parseFloat(this.interval),t.number?this.number=t.number:this.number=5,this.style=t.style||{stroke:"#A1A1A1","stroke-width":"1px"},void("undefined"==typeof t.visible?this.visible=!0:this.visible=t.visible))},_labelsConstructor:function(t,i){return this.host?new this._labelsConstructor(t,i):(this.position=t.position,"far"!==this.position&&"near"!==this.position&&"both"!==this.position&&(this.position="both"),this.formatValue=t.formatValue,this.formatSettings=t.formatSettings,this.visible=t.visible,this.visible!==!1&&this.visible!==!0&&(this.visible=!0),t.interval?this.interval=t.interval:this.interval=10,"s"===i.int64?this._interval64=(new e.jqx.math).fromString(this.interval.toString(),10):"u"===i.int64?this._interval64=new BigNumber(this.interval):this.interval=parseFloat(this.interval),t.number?this.number=t.number:this.number=10,this.fontSize=t.fontSize,this.fontFamily=t.fontFamily,this.fontWeight=t.fontWeight,this.fontStyle=t.fontStyle,void(this.offset=i._validatePercentage(t.offset,0)))},_rangeConstructor:function(t,i){return this.host?new this._rangeConstructor(t,i):(t.startValue?this.startValue=t.startValue:this.startValue=i.min,t.endValue?this.endValue=t.endValue:this.endValue=i.max,
"s"===i.int64?(this._startValue64=(new e.jqx.math).fromString(this.startValue.toString(),10),this._endValue64=(new e.jqx.math).fromString(this.endValue.toString(),10),this._endValue64.lessThanOrEqual(this._startValue64)&&(this._endValue64=this._startValue64.add((new e.jqx.math).fromNumber(1,10)),this.endValue=this._endValue64.toString())):"u"===i.int64?(this._startValue64=new BigNumber(this.startValue),this._endValue64=new BigNumber(this.endValue),1!==this._endValue64.compare(this._startValue64)&&(this._endValue64=this._startValue64.add(1),this.endValue=this._endValue64.toString())):(this.startValue=parseFloat(this.startValue),this.endValue=parseFloat(this.endValue),this.endValue<=this.startValue&&(this.endValue=this.startValue+1)),void(this.style=t.style||{fill:"#dddddd",stroke:"#dddddd"}))},_pointerConstructor:function(e,t){if(this.host)return new this._pointerConstructor(e,t);var i=t._getColorScheme(t.colorScheme)[0];this.pointerType=e.pointerType,"default"!==this.pointerType&&"arrow"!==this.pointerType&&(this.pointerType="default"),this.style=e.style||{fill:i,stroke:i,"stroke-width":1},this.size=t._validatePercentage(e.size,"7%"),this.visible=e.visible,this.visible!==!0&&this.visible!==!1&&(this.visible=!0),this.offset=t._validatePercentage(e.offset,0)}};e.extend(t,i),e.extend(r,i),e.jqx.jqxWidget("jqxLinearGauge","",{}),e.jqx.jqxWidget("jqxGauge","",{}),e.extend(e.jqx._jqxGauge.prototype,t),e.extend(e.jqx._jqxLinearGauge.prototype,r)}(jqxBaseFramework),function(e){"use strict";e.jqx.jqxWidget("jqxSlider","",{}),e.extend(e.jqx._jqxSlider.prototype,{defineInstance:function(){var t={disabled:!1,width:300,height:30,step:1,max:10,min:0,int64:!1,orientation:"horizontal",showTicks:!0,tickMode:"default",tickNumber:10,minorTickNumber:20,niceInterval:!1,ticksPosition:"both",ticksFrequency:2,minorTicksFrequency:1,showMinorTicks:!1,showButtons:!0,buttonsPosition:"both",mode:"default",showRange:!0,rangeSlider:!1,value:0,values:[0,10],tooltip:!1,tooltipFormatFunction:null,tooltipFormatSettings:null,tooltipPosition:"near",tooltipHideDelay:500,sliderButtonSize:14,tickSize:7,minorTickSize:4,showTickLabels:!1,tickLabelStyleSettings:null,tickLabelFormatSettings:null,tickLabelFormatFunction:null,template:"",layout:"normal",rtl:!1,changeType:null,editableLabels:!1,padding:{},_settings:{vertical:{size:"height",oSize:"width",outerOSize:"outerWidth",outerSize:"outerHeight",left:"top",top:"left",start:"_startY",mouse:"_mouseStartY",page:"pageY",opposite:"horizontal"},horizontal:{size:"width",oSize:"height",outerOSize:"outerHeight",outerSize:"outerWidth",left:"left",top:"top",start:"_startX",mouse:"_mouseStartX",page:"pageX",opposite:"vertical"}},_touchEvents:{mousedown:e.jqx.mobile.getTouchEventName("touchstart"),click:e.jqx.mobile.getTouchEventName("touchstart"),mouseup:e.jqx.mobile.getTouchEventName("touchend"),mousemove:e.jqx.mobile.getTouchEventName("touchmove"),mouseenter:"mouseenter",mouseleave:"mouseleave"},_events:["change","slide","slideEnd","slideStart","created"],_invalidArgumentExceptions:{invalidWidth:"Invalid width.",invalidHeight:"Invalid height.",invalidStep:"Invalid step.",invalidMaxValue:"Invalid maximum value.",invalidMinValue:"Invalid minimum value.",invalidTickFrequency:"Invalid tick frequency.",invalidValue:"Invalid value.",invalidValues:"Invalid values.",invalidTicksPosition:"Invalid ticksPosition",invalidButtonsPosition:"Invalid buttonsPosition"},_lastValue:[],_track:null,_leftButton:null,_rightButton:null,_slider:null,_rangeBar:null,_slideEvent:null,_capturedElement:null,_slideStarted:!1,_helpers:[],aria:{"aria-valuenow":{name:"value",type:"number"},"aria-valuemin":{name:"min",type:"number"},"aria-valuemax":{name:"max",type:"number"},"aria-disabled":{name:"disabled",type:"boolean"}}};return this===e.jqx._jqxSlider.prototype?t:(e.extend(!0,this,t),t)},_createFromInput:function(t){var i,r,s,a,n,o,l=this;if("input"===l.element.nodeName.toLowerCase()&&(l.field=l.element,l.field.className&&(l._className=l.field.className),i={title:l.field.title},l.field.value&&(i.value=l.field.value),l.field.id.length?i.id=l.field.id.replace(/[^\w]/g,"_")+"_"+t:i.id=e.jqx.utilities.createId()+"_"+t,l.field.getAttribute("min")&&(r=l.field.getAttribute("min"),l.min=parseFloat(r)),l.field.getAttribute("step")&&(s=l.field.getAttribute("step"),l.step=parseFloat(s)),l.field.getAttribute("max")&&(a=l.field.getAttribute("max"),l.max=parseFloat(a)),n=document.createElement("div"),void 0!==i.id&&n.setAttribute("id",i.id),void 0!==i.value&&n.setAttribute("value",i.value),n.style.cssText=l.field.style.cssText,l.width||(l.width=l.field.offsetWidth),l.height||(l.height=l.field.offsetHeight),l.field.style.display="none",l.field.parentNode&&l.field.parentNode.insertBefore(n,l.field.nextSibling),o=l.host.data(),l.host=e(n),l.host.data(o),l.element=n,l.element.id=l.field.id,l.field.id=i.id,l._helpers.element=new jqxHelper(l.element),l._helpers.field=new jqxHelper(l.field),l._className&&(l._helpers.element.addClass(l._className),l._helpers.field.removeClass(l._className)),l.field.tabIndex)){var h=l.field.tabIndex;l.field.tabIndex=-1,l.element.tabIndex=h}},createInstance:function(t){var i=this;window.jqxHelper||(window.jqxHelper=e),i._createFromInput("jqxSlider"),i._isTouchDevice=e.jqx.mobile.isTouchDevice();var r="<div role='slider'><div style='width:100%; height: 100%;'></div></div><div><div></div><div></div><div></div></div><div><div style='width:100%; height: 100%;'></div></div>";if(i.element.innerHTML=r,i._leftButton=i.element.firstChild,i._contentWrapper=i._leftButton.nextSibling,i._rightButton=i._contentWrapper.nextSibling,i.element.className=i.toThemeProperty("jqx-slider jqx-widget"),i._topTicks=i._contentWrapper.firstChild,i._track=i._topTicks.nextSibling,i._bottomTicks=i._track.nextSibling,i._leftButton.className=i.toThemeProperty("jqx-slider-left"),i._rightButton.className=i.toThemeProperty("jqx-slider-left"),i._helpers.leftButton=new jqxHelper(i._leftButton),i._helpers.rightButton=new jqxHelper(i._rightButton),i._helpers.element=new jqxHelper(i.element),i._helpers.track=new jqxHelper(i._track),!i.host.jqxRepeatButton)throw new Error("jqxSlider: Missing reference to jqxbuttons.js.");if(e.jqx.aria(this),"s"===i.int64){if(!e.jqx.longInt)throw new Error("jqxSlider: Missing reference to jqxmath.js");e.jqx.longInt(i),i._value64=(new e.jqx.math).fromString(i.value.toString(),10),i._values64=[(new e.jqx.math).fromString(i.values[0].toString(),10),(new e.jqx.math).fromString(i.values[1].toString(),10)],i._min64=(new e.jqx.math).fromString(i.min.toString(),10),i._max64=(new e.jqx.math).fromString(i.max.toString(),10),i._step64=(new e.jqx.math).fromString(i.step.toString(),10),i._ticksFrequency64=(new e.jqx.math).fromString(i.ticksFrequency.toString(),10),i._minorTicksFrequency64=(new e.jqx.math).fromString(i.minorTicksFrequency.toString(),10)}else if("u"===i.int64){try{new BigNumber(i.value)}catch(s){throw new Error("jqxSlider: Missing reference to jqxmath.js")}i._value64=new BigNumber(i.value),i._values64=[new BigNumber(i.values[0]),new BigNumber(i.values[1])],i._min64=new BigNumber(i.min),i._max64=new BigNumber(i.max),i._step64=new BigNumber(i.step),i._ticksFrequency64=new BigNumber(i.ticksFrequency),i._minorTicksFrequency64=new BigNumber(i.minorTicksFrequency)}i._helpers.element.width(i.width),i._helpers.element.height(i.height),i._helpers.element.isRendered?i._helpers.element.isRendered()?(e(i._leftButton).jqxRepeatButton({template:i.template,theme:i.theme,delay:50,width:i.sliderButtonSize,height:i.sliderButtonSize}),e(i._rightButton).jqxRepeatButton({template:i.template,theme:i.theme,delay:50,width:i.sliderButtonSize,height:i.sliderButtonSize}),i.render()):(i._helpers.element.sizeChanged(function(){e(i._leftButton).jqxRepeatButton({template:i.template,theme:i.theme,delay:50,width:i.sliderButtonSize,height:i.sliderButtonSize}),e(i._rightButton).jqxRepeatButton({template:i.template,theme:i.theme,delay:50,width:i.sliderButtonSize,height:i.sliderButtonSize}),i.render()}),i._helpers.element.sizeStyleChanged(function(){var e=i._helpers.element.getSizeFromStyle();e.width&&(i.width=e.width),e.height&&(i.height=e.height),i.__trackSize=null,i.__thumbSize=null,i._performLayout(),i._initialSettings()})):(e(i._leftButton).jqxRepeatButton({template:i.template,theme:i.theme,delay:50,width:i.sliderButtonSize,height:i.sliderButtonSize}),e(i._rightButton).jqxRepeatButton({template:i.template,theme:i.theme,delay:50,width:i.sliderButtonSize,height:i.sliderButtonSize}),i.render())},render:function(){var t=this;t._setPaddingValues(),t._rendering=!0,t._refresh(),t._raiseEvent(4,{value:t.getValue()}),t._addInput();var i=null==t.element.getAttribute("tabindex");i&&t.element.setAttribute("tabindex",0),e.jqx.utilities.resize(t.host,function(){t.__trackSize=null,t.__thumbSize=null,t._performLayout(),t._initialSettings()}),"vertical"===t.orientation&&(t.element.style.minWidth="96px"),t._rendering=!1},focus:function(){try{this.host.focus()}catch(e){}},destroy:function(){var t=this;t.removeHandler(e(document),"mouseup.arrow"+t.element.id),t.removeHandler(e(document),t._getEvent("mouseup")+"."+t.element.id),t.removeHandler(e(document),t._getEvent("mousemove")+"."+t.element.id),e.jqx.utilities.resize(this.host,null,!0),t.host.remove(),t._helpers=[]},_addInput:function(){var e=this,t=e.element.getAttribute("name"),i=document.createElement("input");i.setAttribute("type","hidden"),e.element.appendChild(i),t&&i.setAttribute("name",t),e.rangeSlider?e.values&&(i.value=e.value.rangeStart.toString()+"-"+e.value.rangeEnd.toString()):i.value=e.value.toString(),e.input=i},_getSetting:function(e){return this._settings[this.orientation][e]},_getEvent:function(e){return this._isTouchDevice?this._touchEvents[e]:e},refresh:function(e){e||this._refresh()},_refresh:function(){var e=this;e._render(),e._performLayout(),e._removeEventHandlers(),e._addEventHandlers(),e._initialSettings()},_render:function(){var e=this;e._addTrack(),e._addSliders(),e._addTickContainers(),e._updateButtonsVisibility(),e._addRangeBar()},_addTrack:function(){var e=this,t=e._track;e._helpers.track.addClass(e.toThemeProperty("jqx-slider-track")),t.setAttribute("style",""),e._helpers.track.removeClass(e.toThemeProperty("jqx-slider-track-"+e._getSetting("opposite"))),e._helpers.track.addClass(e.toThemeProperty("jqx-slider-track-"+e.orientation)),e._helpers.track.addClass(e.toThemeProperty("jqx-fill-state-normal jqx-rc-all"))},_addSliders:function(){var e=this;if(null===e._slider||e._slider.length<1){e._slider={};var t=document.createElement("div"),i=document.createElement("div");t.className=e.toThemeProperty("jqx-slider-slider"),i.className=e.toThemeProperty("jqx-slider-slider"),e._slider.left=t,e._track.appendChild(t),e._slider.right=i,e._track.appendChild(i),e._helpers.track=new jqxHelper(e._track),e._helpers.left=new jqxHelper(e._slider.left),e._helpers.right=new jqxHelper(e._slider.right),e.template&&(e._helpers.left.addClass(e.toThemeProperty("jqx-"+e.template)),e._helpers.right.addClass(e.toThemeProperty("jqx-"+e.template)))}e._helpers.left.removeClass(e.toThemeProperty("jqx-slider-slider-"+e._getSetting("opposite"))),e._helpers.left.addClass(e.toThemeProperty("jqx-slider-slider-"+e.orientation)),e._helpers.right.removeClass(e.toThemeProperty("jqx-slider-slider-"+e._getSetting("opposite"))),e._helpers.right.addClass(e.toThemeProperty("jqx-slider-slider-"+e.orientation)),e._helpers.right.addClass(e.toThemeProperty("jqx-fill-state-normal")),e._helpers.left.addClass(e.toThemeProperty("jqx-fill-state-normal"))},_addTickContainers:function(){var e=this;e._bottomTicks.className=e.toThemeProperty("jqx-slider-tickscontainer"),e._topTicks.className=e.toThemeProperty("jqx-slider-tickscontainer");var t="visible";e.showTicks||(t="hidden"),e._bottomTicks.style.visibility=t,e._topTicks.style.visibility=t},_updateButtonsVisibility:function(){var e=this,t="block";e.showButtons&&!e.rangeSlider||(t="none"),e._rightButton.style.display=t,e._leftButton.style.display=t},_getNiceInterval:function(t){function i(e){return Math.log(parseFloat(e))/Math.LN10}var r,s=this,a="Width";"vertical"===s.orientation&&(a="Height");var n=document.createElement("span");if(n.className=s.toThemeProperty("jqx-widget jqx-slider-label"),n.style.position="absolute",n.style.visibility="hidden",s.tickLabelStyleSettings){var o=s.tickLabelStyleSettings;n.style.fontSize=o.fontSize,n.style.fontFamily=o.fontFamily,n.style.fontWeight=o.fontWeight,n.style.fontStyle=o.fontStyle}var l,h;l=s._formatLabel(s.min),h=s._formatLabel(s.max);var d=e.jqx.browser.msie?0:1;document.body.appendChild(n),n.innerHTML=l;var c=n["scroll"+a]+d;n.innerHTML=h;var u=n["scroll"+a]+d;n.parentNode.removeChild(n);var p=Math.max(u,c),f=0;p>105&&(f=(p-105)/100),p*=1.5+f;var m=s._getTrackSize();m>64&&s.showButtons===!1&&(m-=64);var g,v,x,b,w,y=Math.round(m/p);return 0===y&&(y=1),t===!0&&(y*=4),s.int64===!1?(g=s.max-s.min,v=Math.floor(i(g)-i(y)),x=Math.pow(10,v),b=y*x,r=2*b>g?1:3*b>g?2:7*b>g?5:10,w=r*x):(g=new BigNumber(s.max).subtract(new BigNumber(s.min)),v=Math.floor(i(g.toString())-i(y)),x=new BigNumber(10).pow(new BigNumber(v)),b=new BigNumber(y).multiply(x),r=-1===g.compare(new BigNumber(2*b))?1:-1===g.compare(new BigNumber(3*b))?2:-1===g.compare(new BigNumber(7*b))?5:10,w=new BigNumber(r).multiply(x),-1===w.compare(1)&&(w=new BigNumber(1)),"s"===s.int64&&(w=(new e.jqx.math).fromString(w.toString()))),w},_formatLabel:function(t,i){var r,s=this,a=i!==!0?s.tickLabelFormatFunction:s.tooltipFormatFunction,n=i!==!0?s.tickLabelFormatSettings:s.tooltipFormatSettings;return a?r=a(t):n?void 0!==n.radix?r=(new e.jqx.math).getRadixValue(t,s.int64,n.radix):void 0!==n.outputNotation&&"default"!==n.outputNotation&&"decimal"!==n.outputNotation?r=(new e.jqx.math).getDecimalNotation(t,n.outputNotation,n.decimalDigits,n.digits):void 0!==n.decimalDigits?r=Number(t).toFixed(n.decimalDigits):void 0!==n.digits&&(r=Number(Number(t).toPrecision(n.digits)).toString()):r=t,r},_addTicks:function(t,i){var r=this;if(r.showTicks){var s,a,n,o,l,h,d,c,u,p,f,m,g,v=parseInt(t.style[r._getSetting("size")],10),x="normal"===r.layout&&"horizontal"===r.orientation&&r.rtl===!1||"reverse"===r.layout&&"vertical"===r.orientation,b="";r.int64===!1?(l=r.max-r.min,"default"===r.tickMode?(r.niceInterval?(n=r._getNiceInterval(),o=r._getNiceInterval(!0)):(n=r.ticksFrequency,o=r.minorTicksFrequency),h=Math.round(l/n),d=Math.round(l/o)):"tickNumber"===r.tickMode&&(h=r.tickNumber,d=r.minorTickNumber,n=Math.round(l/h)),u=r.min,p=r.max):"s"===r.int64?(l=r._max64.subtract(r._min64),"default"===r.tickMode?(r.niceInterval?(n=r._getNiceInterval(),o=r._getNiceInterval(!0)):(n=r._ticksFrequency64,o=r._minorTicksFrequency64),h=l.div(n).toNumber(),d=l.div(o).toNumber()):"tickNumber"===r.tickMode&&(h=r.tickNumber,d=r.minorTickNumber,n=l.div((new e.jqx.math).fromNumber(h))),u=r._min64.toString(),p=r._max64.toString()):"u"===r.int64&&(l=r._max64.subtract(r._min64),"default"===r.tickMode?(r.niceInterval?(n=r._getNiceInterval(),o=r._getNiceInterval(!0)):(n=r._ticksFrequency64,o=r._minorTicksFrequency64),h=parseInt(l.divide(n).toString(),10),d=parseInt(l.divide(o).toString(),10)):"tickNumber"===r.tickMode&&(h=r.tickNumber,d=r.minorTickNumber,n=l.divide(new BigNumber(h)).intPart()),u=r._min64.toString(),p=r._max64.toString());var w=v/h;c=v/d,t.innerHTML="",a=x?r._formatLabel(u):r._formatLabel(p);var y=document.createElement("span");if(y.style.visibility="hidden",y.className=r.toThemeProperty("jqx-widget jqx-widget-content jqx-slider"),r.tickLabelStyleSettings){var _=r.tickLabelStyleSettings;y.style.fontSize=_.fontSize,y.style.fontFamily=_.fontFamily,y.style.fontWeight=_.fontWeight,y.style.fontStyle=_.fontStyle}document.body.appendChild(y),y.innerHTML="0";var j={width:y.offsetWidth,height:y.offsetHeight};y.parentNode.removeChild(y);var q=parseInt(t.style[r._getSetting("oSize")],10),T="horizontal"===r.orientation?r.padding.left:0;b+=r._addTick(t,T,r.min,q,a,j,!1,i);var S=document.createElement("span");S.className=r.toThemeProperty("jqx-widget"),S.style.position="absolute",S.style.visibility="hidden",document.body.appendChild(S),S.innerHTML=r.min.toString(),f="horizontal"===r.orientation?S.offsetWidth:S.offsetHeight;var C=0,I=0;if("default"===r.tickMode&&r.niceInterval===!0){var k,D;if(r.int64===!1)x?(k=r.min,D=k-k%n+n,C=D-k):(k=r.max,D=k-k%n,C=k-D),I=C/n*w;else{var M=new BigNumber(n.toString());x?(k=new BigNumber(r.min),D=k.subtract(k.mod(M)).add(M),C=D.subtract(k)):(k=new BigNumber(r.max),D=k.subtract(k.mod(M)),C=k.subtract(D)),I=parseFloat(C.divide(M).multiply(w).toString())}var P=!0;if(f>=I&&(P=!1),D.toString()!==r.max.toString()&&v>I){var N=r._formatLabel(D.toString());b+=r._addTick(t,I+T,D,q,N,j,!1,i,P)}}for(m=1;h>m;m++){s=m*w+I,s=Math.floor(s);var B;r.int64===!1?B=x?r.min+n*m+C:r.max-n*m-C:"s"===r.int64?B=x?r._min64.add(n.multiply((new e.jqx.math).fromString(m.toString(),10))).add((new e.jqx.math).fromString(C.toString(),10)).toString():r._max64.subtract(n.multiply((new e.jqx.math).fromString(m.toString(),10))).subtract((new e.jqx.math).fromString(C.toString(),10)).toString():"u"===r.int64&&(B=x?r._min64.add(n.multiply(m)).add(C).toString():r._max64.subtract(n.multiply(m)).subtract(C).toString()),B.toString()!==r.max.toString()&&(a=r._formatLabel(B.toString()),g=!0,"default"===r.tickMode&&r.niceInterval===!0&&(S.innerHTML=a,f="horizontal"===r.orientation?S.offsetWidth:S.offsetHeight,s+f>=h*w&&(g=!1)),b+=r._addTick(t,s+T,m,q,a,j,!1,i,g))}if(r.showMinorTicks)for(m=1;d>m;m++)s=m*c,s=Math.floor(s),a="",b+=r._addTick(t,s+T,m,q,a,j,!0,i);a=x?r._formatLabel(p):r._formatLabel(u),b+=r._addTick(t,h*w+T,r.max,q,a,j,!1,i),t.innerHTML=b,S.parentNode.removeChild(S)}},_addTick:function(e,t,i,r,s,a,n,o,l){var h,d=this,c="";c=d.toThemeProperty("jqx-slider-tick"),c+=" "+d.toThemeProperty("jqx-fill-state-pressed"),d.template&&(c+=" "+d.toThemeProperty("jqx-"+d.template));var u,p=d._getSetting("top"),f="2px",m=d.tickSize;if(n&&(m=d.minorTickSize),e!==d._bottomTicks&&(f=r-m-2+"px"),"horizontal"===d.orientation){if(u='<div style="'+p+": "+f+"; "+d._getSetting("oSize")+":  "+m+"px; float: left; position:absolute; left:"+t+'px;" class="'+d.toThemeProperty("jqx-slider-tick-horizontal")+" "+c+'"></div>',d.showTickLabels){f=e!==d._bottomTicks?r-m-a.height-2+"px":2+m+"px";var g=a.width*s.toString().length;if(g/=2,h=t-g,l!==!1){var v="",x="",b="",w="";if(d.tickLabelStyleSettings){var y=d.tickLabelStyleSettings;y.fontSize&&(v=y.fontSize),y.fontFamily&&(x=y.fontFamily),y.fontWeight&&(b=y.fontWeight),y.fontStyle&&(w=y.fontStyle)}u+='<div class="'+d.toThemeProperty("jqx-slider-label jqx-slider-label-"+o)+'" style="'+p+": "+f+"; float: left; position:absolute; left:"+h+"px; white-space: nowrap; font-size: "+v+"; font-family: "+x+"; font-weight: "+b+"; font-style: "+w+'">'+s+"</div>"}}}else if(u='<div style="'+p+": "+f+"; "+d._getSetting("oSize")+":  "+m+"px; float: none; position:absolute; top:"+t+'px;" class="'+d.toThemeProperty("jqx-slider-tick-vertical")+" "+c+'"></div>',d.showTickLabels){f=e!==d._bottomTicks?r-m-s.toString().length*a.width-6+"px":6+m+"px";var _=a.height;_/=2,h=t-_,l!==!1&&(u+='<div class="'+d.toThemeProperty("jqx-slider-label jqx-slider-label-"+o)+'" style="'+p+": "+f+"; float: none; position:absolute; top:"+h+'px;">'+s+"</div>")}return u},_addRangeBar:function(){var e=this;(null===e._rangeBar||e._rangeBar.length<1)&&(e._rangeBar=document.createElement("div"),e._rangeBar.className=e.toThemeProperty("jqx-slider-rangebar jqx-fill-state-pressed jqx-rc-all"),e.template&&(e._rangeBar.className+=" "+e.toThemeProperty("jqx-"+e.template)),e._helpers.rangeBar=new jqxHelper(e._rangeBar),e._track.appendChild(e._rangeBar)),e.showRange?e._rangeBar.style.display="block":e._rangeBar.style.display="none",e._thumbSize=e._slider.left.offsetWidth},_getLeftDisplacement:function(){if(!this.showButtons)return 0;if(this.rangeSlider)return 0;switch(this.buttonsPosition){case"left":return this._leftButton[this._getSetting("outerSize")](!0)+this._rightButton[this._getSetting("outerSize")](!0);case"right":return 0;default:return this._leftButton[this._getSetting("outerSize")](!0)}return 0},_performLayout:function(){var e=this;null!==e.width&&-1!==e.width.toString().indexOf("px")?e.element.style.width=parseInt(e.width,10)+"px":void 0===e.width||isNaN(e.width)||(e.element.style.width=parseInt(e.width,10)+"px"),null!==e.height&&-1!==e.height.toString().indexOf("px")?e.element.style.height=parseInt(e.height,10)+"px":void 0===e.height||isNaN(e.height)||(e.element.style.height=parseInt(e.height,10)+"px");var t=!1;null!==e.width&&-1!==e.width.toString().indexOf("%")&&(t=!0,e._helpers.element.width(e.width)),null!==e.height&&-1!==e.height.toString().indexOf("%")&&(t=!0,e._helpers.element.height(e.height));var i=e._helpers.element.innerHeight();"width"===e._getSetting("size")&&(i=e._helpers.element.innerWidth()),e._performButtonsLayout(),e._performTrackLayout(i-6),e._contentWrapper.style[e._getSetting("size")]=e._track.style[e._getSetting("size")],e._contentWrapper.style[e._getSetting("oSize")]=e.element.style[e._getSetting("oSize")],e._performTicksLayout(),e._performRangeBarLayout();var r=e.padding;if("horizontal"===e.orientation){if(e._contentWrapper.style.position="absolute",e._contentWrapper.style.left="0px",e._contentWrapper.style.top="0px",e.showButtons&&!e.rangeSlider&&(e._contentWrapper.style.left=1+e._helpers.leftButton.outerWidth(!0)+"px",e._leftButton.style.left=r.left+"px",e._rightButton.style.right=r.right+"px","left"===e.buttonsPosition?(e._contentWrapper.style.left=2+2*e._helpers.leftButton.innerWidth()+e._helpers.left.innerWidth()/2+"px",e._rightButton.style.left=1+e._helpers.leftButton.innerWidth()+"px"):"right"===e.buttonsPosition&&(e._contentWrapper.style.left=e._helpers.left.innerWidth()/2+"px",e._leftButton.style.left="",e._leftButton.style.right=1+r.right+e._helpers.leftButton.innerWidth()+"px",e._rightButton.style.right=e._leftButton.style.right-e._helpers.leftButton.innerWidth()+"px")),!e.showButtons||e.rangeSlider){var s=2+Math.ceil(e.sliderButtonSize/2);e._contentWrapper.style.left=s+"px"}}else if(e._contentWrapper.style.position="absolute",e._contentWrapper.style.left="0px",e._contentWrapper.style.top="0px",e.showButtons&&!e.rangeSlider&&(e._contentWrapper.style.top=1+e._helpers.leftButton.outerHeight(!0)+"px",e._leftButton.style.top="0px",e._rightButton.style.bottom="0px",e._leftButton.style.left="",e._leftButton.style.right="",e._rightButton.style.left="",e._rightButton.style.right="","left"===e.buttonsPosition?(e._contentWrapper.style.top=2+2*e._helpers.leftButton.innerHeight()+e._helpers.left.innerHeight()/2+"px",e._rightButton.style.top=1+e._helpers.leftButton.innerHeight()+"px"):"right"===e.buttonsPosition&&(e._contentWrapper.style.top=e._helpers.left.innerHeight()/2+"px",e._leftButton.style.top="",e._leftButton.style.bottom=1+e._helpers.leftButton.innerHeight()+"px",e._rightButton.style.bottom=e._leftButton.style.bottom-e._helpers.leftButton.innerHeight()+"px")),!e.showButtons||e.rangeSlider){var s=2+Math.ceil(e.sliderButtonSize/2);e._contentWrapper.style.top=s+"px"}if(e.rangeSlider?e._slider.left.style.visibility="visible":e._slider.left.style.visibility="hidden",e._refreshRangeBar(),"vertical"===e.orientation&&e.showButtons){(e._leftButton.offsetWidth-e._track.offsetWidth)/2;e._track.style.marginLeft="1px"}e._editableLabels()},_performTrackLayout:function(e){var t=this,i=e;if(t.showButtons&&!t.rangeSlider&&(i-="horizontal"===t.orientation?t._helpers.leftButton.innerWidth()+t._helpers.rightButton.innerWidth()+4:t._helpers.leftButton.innerHeight()+t._helpers.rightButton.innerHeight()+4),t.rangeSlider||!t.showButtons){var r=2+Math.ceil(t.sliderButtonSize/2);i=e-2*r}"horizontal"===t.orientation?(i-=t.padding.left+t.padding.right,i-=t._helpers.left.outerWidth()-2):i-=t._helpers.left.outerHeight()-2,t._track.style[t._getSetting("size")]=i+"px",t._track.style.left=t.padding.left+"px",t._slider.left.style.left="0px",t._slider.left.style.top="0px",t._slider.right.style.left="0px",t._slider.right.style.top="0px"},_performTicksLayout:function(){var e=this;e._performTicksContainerLayout(),e._addTicks(this._topTicks,"top"),e._addTicks(this._bottomTicks,"bottom"),e._topTicks.style.visibility="hidden",e._bottomTicks.style.visibility="hidden","top"!==e.ticksPosition&&"both"!==e.ticksPosition||!e.showTicks||(e._topTicks.style.visibility="visible"),"bottom"!==e.ticksPosition&&"both"!==e.ticksPosition||!e.showTicks||(e._bottomTicks.style.visibility="visible")},_performTicksContainerLayout:function(){var e,t=this;"horizontal"===t.orientation?(t._topTicks.style.width=t._track.style.width,t._bottomTicks.style.width=t._track.style.width,e=-2+(parseInt(t.element.style.height,10)-t._helpers.track.outerHeight())/2,t._topTicks.style.height=e+"px",t._bottomTicks.style.height=e+"px",t._topTicks.style["float"]="none",t._track.style["float"]="none",t._bottomTicks.style["float"]="none"):(t._topTicks.style.height=t._track.style.height,t._bottomTicks.style.height=t._track.style.height,e=-2+(parseInt(t.element.style.width,10)-t._helpers.track.outerWidth())/2,t._topTicks.style.width=e+"px",t._bottomTicks.style.width=e+"px",t._topTicks.style["float"]="left",t._track.style["float"]="left",t._bottomTicks.style["float"]="left")},_performButtonsLayout:function(){this._updateButtonsVisibilityStyles(),this._updateButtonsVisibilityClasses(),this._updateButtonsVisibilityHover(),this._centerElement(this._rightButton),this._centerElement(this._leftButton),this._layoutButtons()},_centerElement:function(e){var t=new jqxHelper(e);e.style.marginLeft="0px",e.style.marginTop="0px",e.style.marginRight="0px",e.style.marginBottom="0px";var i=(parseFloat(this.element.style[this._getSetting("oSize")])-parseFloat(t[this._getSetting("outerOSize")]()))/2;return"horizontal"===this.orientation?(e.style.marginLeft="0px",e.style.marginTop=i+"px"):(e.style.marginTop="0px;",e.style.marginLeft=i+"px"),e},_updateButtonsVisibilityStyles:function(){var e=this;e._leftButton.style.backgroundPosition="center",e._rightButton.style.backgroundPosition="center","vertical"===e.orientation&&(e._leftButton.style["float"]="none",e._rightButton.style["float"]="none"),e._leftButton.style.position="absolute",e._rightButton.style.position="absolute"},_updateButtonsVisibilityClasses:function(){var e=this,t={prev:"left",next:"right"};"vertical"===e.orientation&&(t={prev:"up",next:"down"}),e._helpers.leftButton.addClass(e.toThemeProperty("jqx-rc-all jqx-slider-button")),e._helpers.rightButton.addClass(e.toThemeProperty("jqx-rc-all jqx-slider-button")),e._leftArrow=e._leftButton.firstChild,e._rightArrow=e._rightButton.firstChild,e._helpers.leftArrow=new jqxHelper(e._leftArrow),e._helpers.rightArrow=new jqxHelper(e._rightArrow),e._helpers.leftArrow.removeClass(e.toThemeProperty("jqx-icon-arrow-left")),e._helpers.rightArrow.removeClass(e.toThemeProperty("jqx-icon-arrow-right")),e._helpers.leftArrow.removeClass(e.toThemeProperty("jqx-icon-arrow-up")),e._helpers.rightArrow.removeClass(e.toThemeProperty("jqx-icon-arrow-down")),e._helpers.leftArrow.addClass(e.toThemeProperty("jqx-icon-arrow-"+t.prev)),e._helpers.rightArrow.addClass(e.toThemeProperty("jqx-icon-arrow-"+t.next))},_updateButtonsVisibilityHover:function(){var t=this,i={prev:"left",next:"right"};"vertical"===t.orientation&&(i={prev:"up",next:"down"}),t.removeHandler(e(document),"mouseup.arrow"+t.element.id),t.addHandler(e(document),"mouseup.arrow"+t.element.id,function(){t._helpers.leftArrow.removeClass(t.toThemeProperty("jqx-icon-arrow-"+i.prev+"-selected")),t._helpers.rightArrow.removeClass(t.toThemeProperty("jqx-icon-arrow-"+i.next+"-selected")),t.sliderTooltip?(t.sliderTooltipTimer&&clearTimeout(t.sliderTooltipTimer),t.sliderTooltipTimer=setTimeout(function(){t.sliderTooltipObj.fadeOut("fast"),t._mouseDown=!1},t.tooltipHideDelay)):t._mouseDown=!1}),t.removeHandler(t._leftButton,"mousedown."+t.element.id),t.removeHandler(t._leftButton,"mouseup."+t.element.id),t.removeHandler(t._leftButton,"mouseenter."+t.element.id),t.removeHandler(t._leftButton,"mouseleave."+t.element.id),t.removeHandler(t._rightButton,"mousedown."+t.element.id),t.removeHandler(t._rightButton,"mouseup."+t.element.id),t.removeHandler(t._rightButton,"mouseenter."+t.element.id),t.removeHandler(t._rightButton,"mouseleave."+t.element.id),t.addHandler(t._leftButton,"mousedown."+t.element.id,function(){t.disabled||(t._helpers.leftArrow.addClass(t.toThemeProperty("jqx-icon-arrow-"+i.prev+"-selected")),t._mouseDown=!0)}),t.addHandler(t._leftButton,"mouseup."+t.element.id,function(){t.disabled||t._helpers.leftArrow.removeClass(t.toThemeProperty("jqx-icon-arrow-"+i.prev+"-selected"))}),t.addHandler(t._leftButton,"mouseenter."+t.element.id,function(){t.disabled||t._helpers.leftArrow.addClass(t.toThemeProperty("jqx-icon-arrow-"+i.prev+"-hover"))}),t.addHandler(t._leftButton,"mouseleave."+t.element.id,function(){t.disabled||t._helpers.leftArrow.removeClass(t.toThemeProperty("jqx-icon-arrow-"+i.prev+"-hover"))}),t.addHandler(t._rightButton,"mousedown."+t.element.id,function(){t.disabled||(t._helpers.rightArrow.addClass(t.toThemeProperty("jqx-icon-arrow-"+i.next+"-selected")),t._mouseDown=!0)}),t.addHandler(t._rightButton,"mouseup."+t.element.id,function(){t.disabled||t._helpers.rightArrow.removeClass(t.toThemeProperty("jqx-icon-arrow-"+i.next+"-selected"))}),t.addHandler(t._rightButton,"mouseenter."+t.element.id,function(){t.disabled||t._helpers.rightArrow.addClass(t.toThemeProperty("jqx-icon-arrow-"+i.next+"-hover"))}),t.addHandler(t._rightButton,"mouseleave."+t.element.id,function(){t.disabled||t._helpers.rightArrow.removeClass(t.toThemeProperty("jqx-icon-arrow-"+i.next+"-hover"))})},_layoutButtons:function(){var e=this;"horizontal"===e.orientation?e._horizontalButtonsLayout():e._verticalButtonsLayout()},_horizontalButtonsLayout:function(){var e=this,t=2+Math.ceil(e.sliderButtonSize/2);"left"===e.buttonsPosition?(e._leftButton.style.marginRight="0px",e._rightButton.style.marginRight=t+"px"):"right"===e.buttonsPosition?(e._leftButton.style.marginLeft=2+t+"px",e._rightButton.style.marginRight="0px"):(e._leftButton.style.marginRight=t+"px",e._rightButton.style.marginLeft=t+"px")},_verticalButtonsLayout:function(){var e=this,t=2+Math.ceil(e.sliderButtonSize/2);"left"===e.buttonsPosition?(e._leftButton.style.marginBottom="0px",e._rightButton.style.marginBottom=t+"px"):"right"===e.buttonsPosition?(e._leftButton.style.marginTop=2+t+"px",e._rightButton.style.marginBottom="0px"):(e._leftButton.style.marginBottom=t+"px",e._rightButton.style.marginTop=2+t+"px");var i=parseInt(e._leftButton.style.marginLeft,10);e._leftButton.style.marginLeft=i-1+"px",e._rightButton.style.marginLeft=i-1+"px"},_performRangeBarLayout:function(){var e=this;e._rangeBar.style[e._getSetting("oSize")]=e._helpers.track[e._getSetting("oSize")]()+"px",e._rangeBar.style[e._getSetting("size")]=e._helpers.track[e._getSetting("size")]()+"px",e._rangeBar.style.position="absolute",e._rangeBar.style.left="0px",e._rangeBar.style.top="0px"},_raiseEvent:function(t,i){var r=this,s=r._events[t],a=new e.Event(s,this.element);if(r._triggerEvents===!1)return!0;if(r._rendering)return!0;a.args=i,0===t&&(a.args.type=r.changeType,r.changeType=null),1===t&&(a.args.cancel=!1,r._slideEvent=a),r._lastValue[t]=i.value,a.owner=this;var n=r.host.trigger(a);return n},_initialSettings:function(){var e=this;e.int64===!1?e.rangeSlider?"number"!=typeof e.value?e.setValue(e.value):e.setValue(e.values):(void 0===e.value&&(e.value=0),e.setValue(e.value)):e.rangeSlider===!1||Array.isArray(e._value64)===!0?e.setValue(e._value64):e.setValue(e._values64),e.disabled&&e.disable()},_addEventHandlers:function(){var t=this;t.addHandler(t._slider.right,t._getEvent("mousedown"),t._startDrag,{that:this}),t.addHandler(t._slider.left,t._getEvent("mousedown"),t._startDrag,{that:this}),t.addHandler(e(document),t._getEvent("mouseup")+"."+t.element.id,function(){t._stopDrag()});try{if((""!==document.referrer||window.frameElement)&&null!==window.top&&window.top!==window.self){var i=function(){t._stopDrag();
},r=null;window.parent&&document.referrer&&(r=document.referrer),r&&-1!==r.indexOf(document.location.host)&&window.top.document&&(window.top.document.addEventListener?window.top.document.addEventListener("mouseup",i,!1):window.top.document.attachEvent&&window.top.document.attachEvent("onmouseup",i))}}catch(s){}t.addHandler(e(document),t._getEvent("mousemove")+"."+t.element.id,t._performDrag,{that:this}),t.addHandler(t._slider.left,"mouseenter",function(){t.disabled||t._helpers.left.addClass(t.toThemeProperty("jqx-fill-state-hover"))}),t.addHandler(t._slider.right,"mouseenter",function(){t.disabled||t._helpers.right.addClass(t.toThemeProperty("jqx-fill-state-hover"))}),t.addHandler(t._slider.left,"mouseleave",function(){t.disabled||t._helpers.left.removeClass(t.toThemeProperty("jqx-fill-state-hover"))}),t.addHandler(t._slider.right,"mouseleave",function(){t.disabled||t._helpers.right.removeClass(t.toThemeProperty("jqx-fill-state-hover"))}),t.addHandler(t._slider.left,"mousedown",function(){t.disabled||t._helpers.left.addClass(t.toThemeProperty("jqx-fill-state-pressed"))}),t.addHandler(t._slider.right,"mousedown",function(){t.disabled||t._helpers.right.addClass(t.toThemeProperty("jqx-fill-state-pressed"))}),t.addHandler(t._slider.left,"mouseup",function(){t.disabled||t._helpers.left.removeClass(t.toThemeProperty("jqx-fill-state-pressed"))}),t.addHandler(t._slider.right,"mouseup",function(){t.disabled||t._helpers.right.removeClass(t.toThemeProperty("jqx-fill-state-pressed"))}),t.addHandler(t._leftButton,t._getEvent("click"),t._leftButtonHandler,{that:this}),t.addHandler(t._rightButton,t._getEvent("click"),t._rightButtonHandler,{that:this}),t.addHandler(t._track,t._getEvent("mousedown"),t._trackMouseDownHandler,{that:this}),t.addHandler(t.host,"focus",function(){t._helpers.track.addClass(t.toThemeProperty("jqx-fill-state-focus")),t._helpers.leftButton.addClass(t.toThemeProperty("jqx-fill-state-focus")),t._helpers.rightButton.addClass(t.toThemeProperty("jqx-fill-state-focus")),t._helpers.right.addClass(t.toThemeProperty("jqx-fill-state-focus")),t._helpers.left.addClass(t.toThemeProperty("jqx-fill-state-focus"))}),t.addHandler(t.host,"blur",function(){t._helpers.track.removeClass(t.toThemeProperty("jqx-fill-state-focus")),t._helpers.leftButton.removeClass(t.toThemeProperty("jqx-fill-state-focus")),t._helpers.rightButton.removeClass(t.toThemeProperty("jqx-fill-state-focus")),t._helpers.right.removeClass(t.toThemeProperty("jqx-fill-state-focus")),t._helpers.left.removeClass(t.toThemeProperty("jqx-fill-state-focus"))}),t.element.onselectstart=function(){return!1},t._addMouseWheelListeners(),t._addKeyboardListeners()},_addMouseWheelListeners:function(){var t=this;t.addHandler(t.host,"mousewheel",function(i){if(t.disabled)return!0;if(t.changeType="mouse",document.activeElement&&!e(document.activeElement).ischildof(t.host))return!0;var r=i.wheelDelta;i.originalEvent&&i.originalEvent.wheelDelta&&(i.wheelDelta=i.originalEvent.wheelDelta),"wheelDelta"in i||(r=-40*i.detail),r>0?t.incrementValue():t.decrementValue(),i.preventDefault()})},_addKeyboardListeners:function(){var e=this;e.addHandler(e.host,"keydown",function(t){if(e._editingLabels!==!0)switch(e.changeType="keyboard",t.keyCode){case 40:case 37:return"normal"!==e.layout||e.rtl?e.incrementValue():e.decrementValue(),!1;case 38:case 39:return"normal"!==e.layout||e.rtl?e.decrementValue():e.incrementValue(),!1;case 36:return e.rangeSlider?e.setValue([e.values[0],e.max]):e.setValue(e.min),!1;case 35:return e.rangeSlider?e.setValue([e.min,e.values[1]]):e.setValue(e.max),!1}})},_trackMouseDownHandler:function(t){var i=t.data.that,r=e.jqx.mobile.getTouches(t),s=r[0],a=parseInt(i._slider.left.style[i._getSetting("size")],10);isNaN(a)&&(a=0);var n=i._isTouchDevice?s:t,o=n[i._getSetting("page")]-a/2,l=i._getClosest(o),h=i._getValueByPosition(o);i._mouseDown=!0,i.changeType="mouse",i._setValue(h,l),i.input&&e.jqx.aria(i,"aria-valuenow",i.input.value)},_getClosest:function(e){var t=this;return t.rangeSlider?(e=e-t._helpers.track.offset()[t._getSetting("left")]-t._helpers.left[t._getSetting("size")]()/2,Math.abs(parseInt(t._slider.left.style[t._getSetting("left")],10)-e)<Math.abs(parseInt(t._slider.right.style[t._getSetting("left")],10)-e)?t._slider.left:t._slider.right):t._slider.right},_removeEventHandlers:function(){var t=this;t.removeHandler(t._slider.right,t._getEvent("mousedown"),t._startDrag),t.removeHandler(t._slider.left,t._getEvent("mousedown"),t._startDrag),t.removeHandler(e(document),t._getEvent("mouseup")+"."+t.host.attr("id"),t._stopDrag),t.removeHandler(e(document),t._getEvent("mousemove")+"."+t.host.attr("id"),t._performDrag),t.removeHandler(t._leftButton,t._getEvent("click"),t._leftButtonHandler),t.removeHandler(t._rightButton,t._getEvent("click"),t._rightButtonHandler),t.removeHandler(t._track,t._getEvent("mousedown"),t._trackMouseDownHandler),t.element.onselectstart=null,t.removeHandler(t.host,t._getEvent("mousewheel")),t.removeHandler(t.host,t._getEvent("keydown"))},_rightButtonClick:function(){var e=this;e.changeType="mouse","horizontal"!==e.orientation||e.rtl?e.decrementValue():e.incrementValue()},_leftButtonClick:function(){var e=this;e.changeType="mouse","horizontal"!==e.orientation||e.rtl?e.incrementValue():e.decrementValue()},_rightButtonHandler:function(e){var t=e.data.that;return"normal"===t.layout?t._rightButtonClick():t._leftButtonClick(),!1},_leftButtonHandler:function(e){var t=e.data.that;return"normal"===t.layout?t._leftButtonClick():t._rightButtonClick(),!1},_startDrag:function(t){var i=t.data.that;i.changeType="mouse",i._capturedElement=t.target;var r=new jqxHelper(t.target),s=r.offset();i._startX=s.left,i._startY=s.top;var a=e.jqx.position(t);return i._mouseStartX=a.left,i._mouseStartY=a.top,i._mouseDown=!0,t.stopPropagation(),i.tooltip&&i._showTooltip(i._capturedElement,i.value),i._isTouchDevice?!1:void 0},_stopDrag:function(){var t=this;return t._slideStarted&&t._raiseEvent(2,{value:t.getValue()}),t._slideStarted&&null!==t._capturedElement?(t.input&&e.jqx.aria(this,"aria-valuenow",t.input.value),t._helpers.left.removeClass(t.toThemeProperty("jqx-fill-state-pressed")),t._helpers.right.removeClass(t.toThemeProperty("jqx-fill-state-pressed")),t._slideStarted=!1,t._capturedElement=null,void(t.sliderTooltip&&t.sliderTooltipObj.fadeOut("fast"))):void(t._capturedElement=null)},_performDrag:function(t){var i=t.data.that;if(null!==i._capturedElement){if(0===t.which&&e.jqx.browser.msie&&e.jqx.browser.version<9)return i._stopDrag(),!1;var r=e.jqx.position(t),s="horizontal"===i.orientation?r.left:r.top;if(i._isDragged(s),i._slideStarted||i._isTouchDevice)return i._dragHandler(s)}},_isDragged:function(e){var t=this;Math.abs(e-this[t._getSetting("mouse")])>2&&!t._slideStarted?(t._slideStarted=!0,t._valueChanged(3)&&t._raiseEvent(3,{value:t.getValue()})):null==t._capturedElement&&(t._slideStarted=!1)},_dragHandler:function(e){e=e-this[this._getSetting("mouse")]+this[this._getSetting("start")];var t=this._getValueByPosition(e);if(this.rangeSlider){var i=this._helpers.right,r=this._helpers.left,s=this._getSetting("left");this._capturedElement===r?parseFloat(e)>i.offset()[s]&&(e=i.offset()[s]):parseFloat(e)<r.offset()[s]&&(e=r.offset()[s])}return this._setValue(t,this._capturedElement,e),!1},_getValueByPosition:function(e){return"default"===this.mode?this._getFloatingValueByPosition(e):this._getFixedValueByPosition(e)},_getFloatingValueByPosition:function(t){var i,r,s,a,n=this,o=t-n._helpers.track.offset()[n._getSetting("left")]+n._slider.left.offsetWidth/2,l=o/n._helpers.track[n._getSetting("size")]();return 0>o&&(o=0),n.int64===!1?i=(n.max-n.min)*l+n.min:"s"===n.int64?(a=(new e.jqx.math).fromNumber(n._helpers.track[n._getSetting("size")](),10),r=n._max64.subtract(n._min64),s=n._divide64(r,a)*o,i=(new e.jqx.math).fromNumber(s,10).add(n._min64)):"u"===n.int64&&(a=new BigNumber(n._helpers.track[n._getSetting("size")]()),r=n._max64.subtract(n._min64),s=n._divide64(r,a)*o,i=new BigNumber(s).add(n._min64)),"normal"===n.layout?"horizontal"!==n.orientation||n.rtl?n.int64===!1?n.max+n.min-i:n._max64.add(n._min64).subtract(i):i:"horizontal"===n.orientation?n.int64===!1?n.max+n.min-i:n._max64.add(n._min64).subtract(i):i},_getThumbSize:function(){if(this.__thumbSize)return this.__thumbSize;var e=this._helpers.left[this._getSetting("size")]();return this.__thumbSize=e,e},_getTrackSize:function(){var e=this;if(e.__trackSize)return e.__trackSize;var t=parseInt(e._helpers.track[e._getSetting("size")](),10);return e.__trackSize=t,t},_getFixedValueByPosition:function(t){var i,r,s,a,n,o,l,h=this,d=h._getTrackSize(),c=h._getThumbSize(),u={number:-1,distance:Number.MAX_VALUE};if(h.int64===!1)for(a=h.step,o=(h.max-h.min)/a,n=d/o,l=h._helpers.track.offset()[h._getSetting("left")]-c/2,r=h.max+h.step,"fixedRange"===h.mode&&(r=h.max),s=h.min;r>=s;s+=h.step)Math.abs(u.distance-t)>Math.abs(l-t)&&(u.distance=l,u.number=s),l+=n;else if("s"===h.int64)for(a=h._step64,o=h._max64.subtract(h._min64).div(h._step64),n=h._divide64((new e.jqx.math).fromNumber(d,10),o),l=h._helpers.track.offset()[h._getSetting("left")]-c/2,u={number:(new e.jqx.math).fromString(h._min64.toString(),10),distance:l},i=(new e.jqx.math).fromString(h._min64.toString(),10);"fixedRange"!==h.mode?i.lessThanOrEqual(h._max64.add(h._step64)):i.lessThanOrEqual(h._max64);i=i.add(h._step64))Math.abs(u.distance-t)>Math.abs(l-t)&&(u.distance=l,u.number=(new e.jqx.math).fromString(i.toString(),10)),l+=n;else if("u"===h.int64){a=h._step64,o=h._max64.subtract(h._min64).divide(h._step64),n=parseFloat(new BigNumber(d).divide(o).toString()),l=h._helpers.track.offset()[h._getSetting("left")]-c/2,u={number:new BigNumber(h._min64.toString()),distance:l};var p="fixedRange"!==h.mode?h._max64.add(h._step64):h._max64;for(i=new BigNumber(h._min64.toString());1!==i.compare(p);i=i.add(h._step64))Math.abs(u.distance-t)>Math.abs(l-t)&&(u.distance=l,u.number=new BigNumber(i.toString())),l+=n}return"normal"===h.layout?"horizontal"!==h.orientation||h.rtl?h.int64===!1?h.max+h.min-u.number:h._max64.add(h._min64).subtract(u.number):u.number:"horizontal"===h.orientation?h.int64===!1?h.max+h.min-u.number:h._max64.add(h._min64).subtract(u.number):u.number},_setValue:function(e,t,i){var r=this;if(!r._slideEvent||!r._slideEvent.args.cancel){if(e=r._handleValue(e,t),r._setSliderPosition(e,t,i),r._fixZIndexes(),r._valueChanged(1)&&r._raiseEvent(1,{value:r.getValue()}),r._valueChanged(0)&&r._raiseEvent(0,{value:r.getValue()}),!r.input)return;r.rangeSlider?r.values&&void 0!==r.value.rangeEnd&&void 0!==r.value.rangeStart&&(r.input.value=r.value.rangeStart.toString()+"-"+r.value.rangeEnd.toString()):r.input.value=r.value.toString()}},_valueChanged:function(e){var t=this.getValue();return!this.rangeSlider&&this._lastValue[e]!==t||this.rangeSlider&&("object"!=typeof this._lastValue[e]||parseFloat(this._lastValue[e].rangeEnd)!==parseFloat(t.rangeEnd)||parseFloat(this._lastValue[e].rangeStart)!==parseFloat(t.rangeStart))},_handleValue:function(e,t){var i=this;return e=i._validateValue(e,t),t===i._slider.left&&(i.int64===!1?i.values[0]=e:(i.values[0]=e.toString(),i._value64[0]=e)),t===i._slider.right&&(i.int64===!1?i.values[1]=e:(i.values[1]=e.toString(),i._values64[1]=e)),i.rangeSlider?(i.value={rangeStart:i.values[0],rangeEnd:i.values[1]},i.int64!==!1&&(i._value64={rangeStart:i._values64[0],rangeEnd:i._values64[1]})):i.int64===!1?i.value=e:(i.value=e.toString(),i._value64=e),e},_fixZIndexes:function(){this.values[1]-this.values[0]<.5&&this.max-this.values[0]<.5?(this._slider.left.style.zIndex=20,this._slider.right.style.zIndex=15):(this._slider.left.style.zIndex=15,this._slider.right.style.zIndex=20)},_refreshRangeBar:function(){var t,i=this._helpers.left,r=this._helpers.right,s=this._helpers.track,a=this._getSetting("left"),n=this._getSetting("size"),o=this.rtl&&"horizontal"===this.orientation;if("normal"===this.layout){t=i.position()[a];e(i[0]).position()[a];("vertical"===this.orientation||o)&&(t=r.position()[a])}else t=r.position()[a],"vertical"===this.orientation&&(t=i.position()[a]);this.rangeSlider?this._rangeBar.style[a]=t+"px":"horizontal"!==this.orientation||!o&&"normal"===this.layout?"vertical"===this.orientation&&(this._rangeBar.style[a]=t-s.position().top+i.innerHeight()/2+"px"):this._rangeBar.style[a]=t-s.position().left+i.innerWidth()/2+"px",this._rangeBar.style[n]=Math.abs(r.position()[a]-i.position()[a])+"px"},_validateValue:function(e,t){return this.int64===!1?(e>this.max&&(e=this.max),e<this.min&&(e=this.min),this.rangeSlider&&(t===this._slider.left?e>=this.values[1]&&(e=this.values[1]):e<=this.values[0]&&(e=this.values[0]))):"s"===this.int64?(e.greaterThan(this._max64)&&(e=this._max64),e.lessThan(this._min64)&&(e=this._min64)):"u"===this.int64&&(1===e.compare(this._max64)&&(e=this._max64),-1===e.compare(this._min64)&&(e=this._min64)),e},_setSliderPosition:function(t,i,r){var s,a,n,o,l=parseInt(this._helpers.track[this._getSetting("size")](),10);r&&(r-=this._helpers.track.offset()[this._getSetting("left")]);var h=parseInt(this._helpers.left[this._getSetting("size")](),10);isNaN(h)&&(h=0),"s"===this.int64?("number"==typeof t?t=(new e.jqx.math).fromNumber(t,10):"string"==typeof t&&(t=(new e.jqx.math).fromString(t,10)),t.greaterThan(this._max64)&&(t=(new e.jqx.math).fromString(this._max64.toString(),10)),t.lessThan(this._min64)&&(t=(new e.jqx.math).fromString(this._min64.toString(),10)),n=this._divide64(t.subtract(this._min64),this._max64.subtract(this._min64)),o=1-n,"normal"===this.layout?(s=n,("horizontal"!==this.orientation||"horizontal"===this.orientation&&this.rtl)&&(s=o)):(s=o,"horizontal"!==this.orientation&&(s=n)),a=l*s-h/2,i.style[this._getSetting("left")]=a+"px"):"u"===this.int64?("number"!=typeof t&&"string"!=typeof t||(t=new BigNumber(t)),1===t.compare(this._max64)&&(t=new BigNumber(this._max64)),-1===t.compare(this._min64)&&(t=new BigNumber(this._min64)),n=this._divide64(t.subtract(this._min64),this._max64.subtract(this._min64)),o=1-n,"normal"===this.layout?(s=n,("horizontal"!==this.orientation||"horizontal"===this.orientation&&this.rtl)&&(s=o)):(s=o,"horizontal"!==this.orientation&&(s=n)),a=l*s-h/2,i.style[this._getSetting("left")]=a+"px"):this.int64===!1&&("normal"===this.layout?(s=(t-this.min)/(this.max-this.min),("horizontal"!==this.orientation||"horizontal"===this.orientation&&this.rtl)&&(s=1-(t-this.min)/(this.max-this.min))):(s=1-(t-this.min)/(this.max-this.min),"horizontal"!==this.orientation&&(s=(t-this.min)/(this.max-this.min))),a=l*s-h/2,i.style[this._getSetting("left")]=a+"px"),this.tooltip&&this._showTooltip(i,this.value),this._refreshRangeBar()},_divide64:function(e,t){var i,r,s,a,n;if(i=e.toString(),s=t.toString(),s.length>15){var o=s.length-15;if(s=s.slice(0,15)+"."+s.slice(15),a=parseFloat(s),i.length>o){var l=i.length-o;i=i.slice(0,l)+"."+i.slice(l)}else if(i.length===o)i="0."+i;else{for(var h="0.",d=0;d<o-i.length;d++)h+="0";i=h+""+i}r=parseFloat(i)}else"s"===this.int64?(r=e.toNumber(),a=t.toNumber()):(r=parseFloat(e.toString()),a=parseFloat(t.toString()));return n=r/a},_showTooltip:function(e,t){var i=this;if(i._slideStarted||null!=i._capturedElement||i._mouseDown){if(t=i._formatLabel(t,!0),!i.toolTipCreated){var r="tooltip"+i.element.id,s=document.createElement("div");s.style.display="none",s.style.position="absolute",s.style.visibility="hidden",s.style.boxShadow="none",s.style.top="0px",s.style.left="0px",s.style.zIndex=99999,s.setAttribute("id",r),document.body.appendChild(s);var a=document.createElement("div");a.setAttribute("id",r+"Main"),s.appendChild(a);var n=document.createElement("div");n.setAttribute("id",r+"Text"),a.appendChild(n);var o=document.createElement("div");o.setAttribute("id",r+"Arrow"),o.style.top="0px",o.style.left="0px",s.appendChild(o),i.sliderTooltip=s,i.sliderTooltipObj=new jqxHelper(i.sliderTooltip),i.sliderTooltipObj.initAnimate&&i.sliderTooltipObj.initAnimate(),n.innerHTML=t,i.sliderTooltip.className=i.toThemeProperty("jqx-tooltip jqx-popup"),a.className=i.toThemeProperty("jqx-widget jqx-fill-state-normal jqx-tooltip-main"),n.className=i.toThemeProperty("jqx-widget jqx-fill-state-normal jqx-tooltip-text"),o.className=i.toThemeProperty("jqx-widget jqx-fill-state-normal jqx-tooltip-arrow"),i.sliderTooltipContent=n,i.sliderTooltipArrow=o,i.sliderTooltipMain=a,i.sliderTooltipArrowObj=new jqxHelper(i.sliderTooltipArrow),i.arrowSize=5,i.toolTipCreated=!0,i.rangeSlider&&(i.sliderTooltipArrow.style.visibility="hidden")}var l=new jqxHelper(e).offset();i.sliderTooltip.style.display="block",i.sliderTooltip.style.visibility="visible";var h=i.sliderButtonSize+i.tickSize;if(i.rangeSlider){var d=i.value?i.value.rangeStart:"",c=i.value?i.value.rangeEnd:"";""!==d?i.sliderTooltipContent.innerHTML=d+" - "+c:(i.sliderTooltip.style.display="none",i.sliderTooltip.style.visibility="hidden")}else i.sliderTooltipContent.innerHTML=t.toString();var u,p,f,m=i.sliderTooltip.offsetWidth;if("horizontal"===i.orientation)switch(p=l.left+i.sliderButtonSize/2-m/2,i.rangeSlider&&(f=(i._helpers.right.offset().left-i._helpers.left.offset().left-i._thumbSize)/2,p=i._helpers.left.offset().left-m/2+f+i._thumbSize),i.tooltipPosition){case"far":u=l.top+h+i.arrowSize,i.sliderTooltipObj.offset({top:u,left:p}),i.sliderTooltipArrowObj.addClass(i.toThemeProperty("jqx-tooltip-arrow-t-b")),i.sliderTooltipArrow.style.borderTopWidth="0px",i.sliderTooltipArrow.style.borderRightWidth=i.arrowSize+"px",i.sliderTooltipArrow.style.borderBottomWidth=i.arrowSize+"px",i.sliderTooltipArrow.style.borderLeftWidth=i.arrowSize+"px",i.sliderTooltipArrowObj.offset({top:u-i.arrowSize,left:p-i.arrowSize/2-1+m/2});break;case"near":u=l.top-i.arrowSize-i.sliderTooltipObj.innerHeight()-1,i.sliderTooltipObj.offset({top:u,left:p}),i.sliderTooltipArrowObj.addClass(i.toThemeProperty("jqx-tooltip-arrow-t-b")),i.sliderTooltipArrow.style.borderTopWidth=i.arrowSize+"px",i.sliderTooltipArrow.style.borderRightWidth=i.arrowSize+"px",i.sliderTooltipArrow.style.borderBottomWidth="0px",i.sliderTooltipArrow.style.borderLeftWidth=i.arrowSize+"px",i.sliderTooltipArrowObj.offset({top:u+i.sliderTooltipObj.innerHeight(),left:p-i.arrowSize/2-1+m/2})}else{var g=i.sliderTooltipObj.innerHeight();switch(p=l.left-m-i.arrowSize-i.tickSize,u=l.top+i._thumbSize/2-g/2-1,i.rangeSlider&&(f=(i._helpers.right.offset().top-i._helpers.left.offset().top-i._thumbSize)/2,u=i._helpers.left.offset().top-g/2+f+i._thumbSize),i.tooltipPosition){case"far":p=l.left+i._thumbSize+i.arrowSize+i.tickSize,i.sliderTooltipObj.offset({top:u,left:p}),i.sliderTooltipArrowObj.addClass(i.toThemeProperty("jqx-tooltip-arrow-l-r")),i.sliderTooltipArrow.style.borderTopWidth=i.arrowSize+"px",i.sliderTooltipArrow.style.borderRightWidth=i.arrowSize+"px",i.sliderTooltipArrow.style.borderBottomWidth=i.arrowSize+"px",i.sliderTooltipArrow.style.borderLeftWidth="0px",i.sliderTooltipArrowObj.offset({top:u+i.sliderTooltipObj.innerHeight()/2-i.arrowSize/2-2,left:p-i.arrowSize});break;case"near":i.sliderTooltipObj.offset({top:u,left:p}),i.sliderTooltipArrowObj.addClass(i.toThemeProperty("jqx-tooltip-arrow-l-r")),i.sliderTooltipArrow.style.borderTopWidth=i.arrowSize+"px",i.sliderTooltipArrow.style.borderRightWidth="0px",i.sliderTooltipArrow.style.borderBottomWidth=i.arrowSize+"px",i.sliderTooltipArrow.style.borderLeftWidth=i.arrowSize+"px",i.sliderTooltipArrowObj.offset({top:u+i.sliderTooltipObj.innerHeight()/2-i.arrowSize/2-2,left:p+m+2})}}}},propertiesChangedHandler:function(e,t,i){i&&i.width&&i.height&&2===Object.keys(i).length&&(e.__trackSize=null,e.__thumbSize=null,e._performLayout(),e._initialSettings())},propertyChangedHandler:function(t,i,r,s){if(t.__trackSize=null,t.__thumbSize=null,!(t.batchUpdate&&t.batchUpdate.width&&t.batchUpdate.height&&2===Object.keys(t.batchUpdate).length))switch(i){case"template":t.template&&(t._helpers.left.removeClass(t.toThemeProperty("jqx-"+r)),t._helpers.right.removeClass(t.toThemeProperty("jqx-"+r)),t._helpers.rangeBar.removeClass(t.toThemeProperty("jqx-"+r)),t._helpers.left.addClass(t.toThemeProperty("jqx-"+t.template)),t._helpers.right.addClass(t.toThemeProperty("jqx-"+t.template)),e(t._leftButton).jqxRepeatButton({template:s}),e(t._rightButton).jqxRepeatButton({template:s}),t._helpers.rangeBar.addClass(t.toThemeProperty("jqx-"+t.template)));break;case"theme":e.jqx.utilities.setTheme(r,s,t.host),e(t._leftButton).jqxRepeatButton({theme:s}),e(t._rightButton).jqxRepeatButton({theme:s});break;case"disabled":s?(t.disabled=!0,t.disable()):(t.disabled=!1,t.enable());break;case"width":case"height":t.__trackSize=null,t.__thumbSize=null,t._performLayout(),t._initialSettings();break;case"min":case"max":"s"===t.int64?t["_"+i+"64"]=(new e.jqx.math).fromString(s.toString(),10):"u"===t.int64&&(t["_"+i+"64"]=new BigNumber(s)),t._performLayout(),t.__trackSize=null,t.__thumbSize=null,t._initialSettings();break;case"showTicks":case"ticksPosition":case"tickSize":case"tickMode":case"tickNumber":case"minorTickNumber":t._performLayout(),t._initialSettings();break;case"ticksFrequency":case"minorTicksFrequency":"s"===t.int64?t["_"+i+"64"]=(new e.jqx.math).fromString(s.toString(),10):"u"===t.int64&&(t["_"+i+"64"]=new BigNumber(s)),t._performLayout(),t._initialSettings();break;case"showRange":case"showButtons":case"orientation":case"rtl":t._render(),t._performLayout(),t._initialSettings(),"orientation"===i&&("vertical"===s?t.element.style.minWidth="96px":t.element.style.minWidth="");break;case"buttonsPosition":t._refresh();break;case"rangeSlider":s?t.value={rangeEnd:t.value,rangeStart:t.value}:t.value=t.value.rangeEnd,t._render(),t._performLayout(),t._initialSettings();break;case"value":var a=s;"s"===t.int64?(a=(new e.jqx.math).fromString(s.toString(),10),t._value64=a):"u"===t.int64?(a=new BigNumber(s),t._value64=a):t.int64===!1&&(t.rangeSlider||(t.value=parseFloat(s))),t.setValue(a);break;case"values":var n=s;"s"===t.int64?(n=[(new e.jqx.math).fromString(s[0].toString(),10),(new e.jqx.math).fromString(s[1].toString(),10)],t._values64=n):"u"===t.int64&&(n=[new BigNumber(s[0]),new BigNumber(s[1])],t._values64=n),t.setValue(n);break;case"tooltip":break;case"step":"s"===t.int64?t._step64=(new e.jqx.math).fromString(s.toString(),10):"u"===t.int64&&(t._step64=new BigNumber(s));break;case"editableLabels":t._performLayout(),t._initialSettings();break;case"tickLabelStyleSettings":t._setPaddingValues(!0),t._performLayout(),t._initialSettings();break;default:t._refresh()}},incrementValue:function(t){var i,r=this;r.int64===!1?((void 0===t||isNaN(parseFloat(t)))&&(t=r.step),r.rangeSlider?r.values[1]<r.max&&r._setValue(r.values[1]+t,r._slider.right):r.values[1]>=r.min&&r.values[1]<r.max&&r._setValue(r.values[1]+t,r._slider.right)):"s"===r.int64?(t=void 0===t||isNaN(parseFloat(t))?r._step64:(new e.jqx.math).fromString(t.toString(),10),i=r._values64[1].add(t),i.lessThan(r._values64[1])&&(i=r._max64),r.rangeSlider?r._values64[1].lessThan(r._max64)&&r._setValue(i,r._slider.right):r._values64[1].greaterThanOrEqual(r._min64)&&r._values64[1].lessThan(r._max64)&&r._setValue(i,r._slider.right)):"u"===r.int64&&(t=void 0===t||isNaN(parseFloat(t))?r._step64:new BigNumber(t),i=r._values64[1].add(t),-1===i.compare(r._values64[1])&&(i=r._max64),r.rangeSlider?-1===r._values64[1].compare(r._max64)&&r._setValue(i,r._slider.right):-1!==r._values64[1].compare(r._min64)&&-1===r._values64[1].compare(r._max64)&&r._setValue(i,r._slider.right)),r.input&&e.jqx.aria(this,"aria-valuenow",r.input.value)},decrementValue:function(t){var i,r=this;r.int64===!1?((void 0===t||isNaN(parseFloat(t)))&&(t=r.step),r.rangeSlider?r.values[0]>r.min&&r._setValue(r.values[0]-t,r._slider.left):r.values[1]<=r.max&&r.values[1]>r.min&&r._setValue(r.values[1]-t,r._slider.right)):"s"===r.int64?(t=void 0===t||isNaN(parseFloat(t))?r._step64:(new e.jqx.math).fromString(t.toString(),10),r.rangeSlider?(i=r._values64[0].subtract(t),i.greaterThan(r._values64[0])&&(i=r._min64),r._values64[0].greaterThan(r._min64)&&r._setValue(i,r._slider.left)):(i=r._values64[1].subtract(t),i.greaterThan(r._values64[1])&&(i=r._min64),r._values64[1].lessThanOrEqual(r._max64)&&r._values64[1].greaterThan(r._min64)&&r._setValue(i,r._slider.right))):"u"===r.int64&&(t=void 0===t||isNaN(parseFloat(t))?r._step64:new BigNumber(t),r.rangeSlider?(i=r._values64[0].subtract(t),1===i.compare(r._values64[0])&&(i=r._min64),1===r._values64[0].compare(r._min64)&&r._setValue(i,r._slider.left)):(i=r._values64[1].subtract(t),1===i.compare(r._values64[1])&&(i=r._min64),1!==r._values64[1].compare(r._max64)&&1===r._values64[1].compare(r._min64)&&r._setValue(i,r._slider.right))),r.input&&e.jqx.aria(this,"aria-valuenow",r.input.value)},val:function(t){var i,r=this;return 0===arguments.length||!e.isArray(t)&&"object"==typeof t?r.getValue():void(r.int64===!1?r.setValue(t):"s"===r.int64?(i=(new e.jqx.math).fromString(t.toString(),10),r.setValue(i)):"u"===r.int64&&(i=new BigNumber(t),r.setValue(i)))},setValue:function(t){var i=this;if(i.int64===!1||"string"!=typeof t&&"number"!=typeof t||("s"===i.int64?"string"==typeof t?t=(new e.jqx.math).fromString(t,10):"number"==typeof t&&(t=(new e.jqx.math).fromNumber(t,10)):"u"===i.int64&&(t=new BigNumber(t))),i.rangeSlider){var r,s;arguments.length<2?t instanceof Array?(r=t[0],s=t[1]):"object"==typeof t&&"undefined"!=typeof t.rangeStart&&"undefined"!=typeof t.rangeEnd&&(r=t.rangeStart,s=t.rangeEnd):(r=arguments[0],s=arguments[1]),i._triggerEvents=!1,i._setValue(s,i._slider.right),i._triggerEvents=!0,i._setValue(r,i._slider.left)}else{i._triggerEvents=!1;var a;a=i.int64===!1?i.min:i._min64,i._setValue(a,i._slider.left),i._triggerEvents=!0,i._setValue(t,i._slider.right)}i.input&&e.jqx.aria(this,"aria-valuenow",i.input.value)},getValue:function(){var e=this.value;return this.int64!==!1&&(e=this._value64.toString()),e},_enable:function(t){var i=this;t?(i._addEventHandlers(),i.disabled=!1,i._helpers.element.removeClass(this.toThemeProperty("jqx-fill-state-disabled"))):(i._removeEventHandlers(),i.disabled=!0,i._helpers.element.addClass(this.toThemeProperty("jqx-fill-state-disabled"))),e(i._leftButton).jqxRepeatButton({disabled:this.disabled}),e(i._rightButton).jqxRepeatButton({disabled:this.disabled})},disable:function(){this._enable(!1),e.jqx.aria(this,"aria-disabled",!0)},enable:function(){this._enable(!0),e.jqx.aria(this,"aria-disabled",!1)},_setPaddingValues:function(t){function i(e){var t,i,r;return a.showButtons===!0?(t=27,i=0):(t=0,i=8),r=Math.ceil(e/2)+1-t,r=Math.max(r,i)}var r,s,a=this,n=document.createElement("span");if(n.className=a.toThemeProperty("jqx-widget jqx-slider-label"),n.style.position="absolute",n.visibility="hidden",a.tickLabelStyleSettings){var o=a.tickLabelStyleSettings;n.style.fontSize=o.fontSize,n.style.fontFamily=o.fontFamily,n.style.fontWeight=o.fontWeight,n.style.fontStyle=o.fontStyle}"normal"===a.layout?(r=a._formatLabel(a.min),s=a._formatLabel(a.max)):(r=a._formatLabel(a.max),s=a._formatLabel(a.min)),document.body.appendChild(n),n.innerHTML=r;var l="horizontal"===a.orientation?n.offsetWidth:n.offsetHeight;n.innerHTML=s;var h="horizontal"===a.orientation?n.offsetWidth:n.offsetHeight;n.parentNode.removeChild(n),(t===!0||t!==!0&&(void 0===a.padding||e.isEmptyObject(a.padding)))&&("horizontal"===a.orientation?a.padding={left:i(l),right:i(h)}:a.padding={bottom:i(l),top:i(h)})},_editableLabels:function(){function t(e){var t=document.createElement("span");t.className=s.toThemeProperty("jqx-widget jqx-slider-label"),t.style.position="absolute",t.style.visibility="hidden",document.body.appendChild(t),t.innerHTML=e;var i={width:t.scrollWidth,height:t.scrollHeight};return t.parentNode.removeChild(t),i}function i(i,r){if(!s.disabled){var o=t(s._formatLabel(r));n.offset(e(i).offset()),a.style.width=o.width+10+"px",a.style.height=o.height+"px",a.style.visibility="visible",a.value=r,a.select(),s._editingLabels=!0}}function r(t,i,r,a){if(t===s[i].toString())return!1;if("s"===s.int64){var n=(new e.jqx.math).fromString(t,10);if("min"===i&&-1!==n.compare(s["_"+a+"64"])||"max"===i&&1!==n.compare(s["_"+a+"64"]))return!1;s[r]=n,s[i]=t}else if("u"===s.int64){var o=new BigNumber(t);if(-1===o.compare(0)||"min"===i&&-1!==o.compare(s["_"+a+"64"])||"max"===i&&1!==o.compare(s["_"+a+"64"]))return!1;s[r]=o,s[i]=t}else{if("min"===i&&t>=s[a]||"max"===i&&t<=s[a])return!1;s[i]=parseFloat(t)}}var s=this;if(s.showTickLabels&&s.editableLabels){var a,n,o=s.element.id,l=s.element.getElementsByClassName("jqx-slider-label-top"),h=s.element.getElementsByClassName("jqx-slider-label-bottom"),d=s.ticksPosition,c=/^-?\d+\.?\d*$/;if("both"===d||"top"===d){var u,p,f=l[0],m=l[l.length-1];"horizontal"===s.orientation&&"normal"===s.layout&&s.rtl===!1||"vertical"===s.orientation&&"reverse"===s.layout?(u=f,p=m):(u=m,p=f),s.addHandler(e(u),"dblclick.jqxSlider"+o,function(){i(this,s.min),s._editedProperty="min"}),s.addHandler(e(p),"dblclick.jqxSlider"+o,function(){i(this,s.max),s._editedProperty="max"})}if("both"===d||"bottom"===d){var g,v,x=h[0],b=h[h.length-1];"horizontal"===s.orientation&&"normal"===s.layout&&s.rtl===!1||"vertical"===s.orientation&&"reverse"===s.layout?(g=x,v=b):(g=b,v=x),s.addHandler(e(g),"dblclick.jqxSlider"+o,function(){i(this,s.min),s._editedProperty="min"}),s.addHandler(e(v),"dblclick.jqxSlider"+o,function(){i(this,s.max),s._editedProperty="max"})}s._labelInputCreated!==!0?(a=document.createElement("input"),a.className="jqx-slider-label-input",s.element.appendChild(a)):a=s.element.querySelector(".jqx-slider-label-input"),n=e(a),s._labelInputCreated!==!0&&(s.addHandler(n,"blur.jqxGauge"+s.element.id,function(){var e,t=this.value;if(a.style.visibility="hidden",c.test(t)){if("min"===s._editedProperty){if(e=r(t,"min","_min64","max"),e===!1)return}else if(e=r(t,"max","_max64","min"),e===!1)return;s._refresh(),s._editingLabels=!1}}),s._labelInputCreated=!0)}}})}(jqxBaseFramework),function(e){"use strict";e.jqx.jqxWidget("jqxInput","",{}),e.extend(e.jqx._jqxInput.prototype,{defineInstance:function(){var t=this,i={disabled:!1,filter:t._filter,sort:t._sort,highlight:t._highlight,dropDownWidth:null,renderer:t._renderer,opened:!1,$popup:document.createElement("ul"),source:[],roundedCorners:!0,searchMode:"default",placeHolder:"",width:null,height:null,value:"",rtl:!1,displayMember:"",valueMember:"",events:["select","open","close","change"],popupZIndex:2e4,items:8,minLength:1,maxLength:null};return this===e.jqx._jqxInput.prototype?i:(e.extend(!0,this,i),i)},createInstance:function(){var t=this;"none"!==t.host.css("display")&&document.body.contains(t.element)!==!1||(t._initiallyHidden=!0),t._popupHelper=e(t.$popup),t.render()},render:function(){var t=this;if("textarea"===this.element.nodeName.toLowerCase())this.element.style.overflow="auto";else if("div"===this.element.nodeName.toLowerCase()){this.baseHost=this.element;var i=t.element.getElementsByTagName("input"),r=!1;if(e.each(i,function(){var t=this.type;return null==t||"text"===t||"textarea"===t?(i=e(this),r=!0,!1):void 0}),!r)throw new Error("jqxInput: Missing Text Input in the Input Group");if(i.length>0){this.baseHost=e(this.element),t.baseElement=t.element;var s=this.host.data();this.host=i,this.element=i[0],this.host.data(s),t.baseElement.className+=" "+t.toThemeProperty("jqx-widget jqx-rc-all jqx-input-group");var a=this.baseHost.children();e.each(a,function(i){var r="jqx-input-group-addon";e(this).removeClass(t.toThemeProperty("jqx-rc-all")),0===i&&(r+=" jqx-rc-l"),i===a.length-1&&(r+=" jqx-rc-r"),this!==t.element&&(r+=" jqx-fill-state-normal"),this.className+=" "+t.toThemeProperty(r)})}}this.addHandlers(),this.rtl&&(t.element.className+=" "+t.toThemeProperty("jqx-rtl")),t.element.setAttribute("role","textbox"),e.jqx.aria(this,"aria-autocomplete","both"),e.jqx.aria(this,"aria-disabled",this.disabled),e.jqx.aria(this,"aria-readonly",!1),e.jqx.aria(this,"aria-multiline",!1),this.source&&this.source.length&&e.jqx.aria(this,"aria-haspopup",!0),""!==this.value&&(this.element.value=this.value),this._oldsource=this.source,this._updateSource()},_updateSource:function(){var t=this,i=function(e){if(void 0===e)return null;if("string"==typeof e||e instanceof String)return{
label:e,value:e};if("string"!=typeof e&&e instanceof String==!1){var i="",r="";return""!==t.displayMember&&void 0!==t.displayMember&&e[t.displayMember]&&(i=e[t.displayMember]),""!==t.valueMember&&void 0!==t.valueMember&&(r=e[t.valueMember]),""===i&&(i=e.label),""===r&&(r=e.value),{label:i,value:r}}return e},r=function(e){for(var t=[],r=0;r<e.length;r++)t[r]=i(e[r]);return t};if(this.source&&this.source._source){if(this.adapter=this.source,null!=this.adapter._source.localdata)this.adapter.unbindBindingUpdate(this.element.id),this.adapter.bindBindingUpdate(this.element.id,function(){t.source=r(t.adapter.records)});else{var s={};this.adapter._options.data?e.extend(t.adapter._options.data,s):(this.source._source.data&&e.extend(s,this.source._source.data),this.adapter._options.data=s),this.adapter.unbindDownloadComplete(this.element.id),this.adapter.bindDownloadComplete(this.element.id,function(){t.source=r(t.adapter.records)})}return void this.source.dataBind()}e.isFunction(this.source)||(this.source=r(this.source))},_refreshClasses:function(t){var i=t?"addClass":"removeClass",r="jqx-widget-content jqx-input jqx-widget",s="jqx-popup jqx-input-popup jqx-menu jqx-menu-vertical jqx-menu-dropdown jqx-widget jqx-widget-content";e.jqx.browser.msie&&(s+=" jqx-noshadow"),this.roundedCorners&&(r+=" jqx-rc-all",s+=" jqx-rc-all"),this.disabled?r+=" jqx-fill-state-disabled":this.host.removeClass(this.toThemeProperty("jqx-fill-state-disabled")),this.host[i](this.toThemeProperty(r)),this._popupHelper[i](this.toThemeProperty(s))},selectAll:function(){var e=this.host;setTimeout(function(){if("selectionStart"in e[0])e[0].focus(),e[0].setSelectionRange(0,e[0].value.length);else{var t=e[0].createTextRange();t.collapse(!0),t.moveEnd("character",e[0].value.length),t.moveStart("character",0),t.select()}},10)},selectLast:function(){var e=this.host;this.selectStart(e[0].value.length)},selectFirst:function(){this.selectStart(0)},selectStart:function(e){var t=this.host;setTimeout(function(){if("selectionStart"in t[0])t[0].focus(),t[0].setSelectionRange(e,e);else{var i=t[0].createTextRange();i.collapse(!0),i.moveEnd("character",e),i.moveStart("character",e),i.select()}},10)},focus:function(){try{var e=this;e.element.focus(),setTimeout(function(){e.element.focus()},25)}catch(t){}},resize:function(e,t){this.width=e,this.height=t,this.refresh()},refresh:function(){if(this._refreshClasses(!1),this._refreshClasses(!0),this.baseHost){this.width&&(this.baseElement.style.width=this._toPx(this.width)),this.height&&(this.baseElement.style.height=this._toPx(this.height));var t=this,i=e.jqx.browser.msie&&e.jqx.browser.version<9,r=0;if(e.each(this.baseHost.children(),function(){this.style.height="100%",this!==t.element&&(r+=e(this).outerWidth())}),t._addonsWidth=r,i){var s=Math.max(0,t.baseElement.offsetHeight-2);t.element.style.width=Math.max(0,t.baseElement.offsetWidth-r-1)+"px",t.element.style.minHeight=s+"px",t.element.style.lineHeight=s+"px"}else t.element.style.width="calc(100% - "+r+"px)";e.jqx.utilities.resize(t.baseHost,function(){if(i&&"string"==typeof t.width&&-1!==t.width.indexOf("%")&&!t._initiallyHidden)t.element.style.width=t.baseElement.offsetWidth-t._addonsWidth-1+"px";else if(t._initiallyHidden){if(t._addonsWidth=t._getAddonsWidth(),i){t.element.style.width=t.baseElement.offsetWidth-t._addonsWidth-1+"px";var e=t.baseElement.offsetHeight-2;t.element.style.minHeight=e+"px",t.element.style.lineHeight=e+"px"}else t.element.style.width="calc(100% - "+t._addonsWidth+"px)";t._initiallyHidden=!1}})}else this.width&&(this.element.style.width=this._toPx(this.width)),this.height&&(this.element.style.height=this._toPx(this.height));this.disabled?this.element.setAttribute("disabled",!0):this.element.removeAttribute("disabled"),this.maxLength&&this.element.setAttribute("maxlength",this.maxLength),this.element.getAttribute("placeholder")||this._refreshPlaceHolder()},_refreshPlaceHolder:function(){var t=this;"placeholder"in this.element&&!(e.jqx.browser.msie&&e.jqx.browser.version<9)?t.element.setAttribute("placeHolder",t.placeHolder):""===t.element.value&&(t.element.value=t.placeHolder)},destroy:function(){this.removeHandlers(),this.baseHost?this.baseHost.remove():this.host.remove(),this.$popup&&this._popupHelper.remove()},propertiesChangedHandler:function(e,t,i){i.width&&i.height&&2===Object.keys(i).length&&e.refresh()},propertyChangedHandler:function(t,i,r,s){if("width"===i&&s!==r)return void(t.baseHost?(t.baseElement.style.width=t._toPx(s),e.jqx.browser.msie&&e.jqx.browser.version<9&&(t.element.style.width=t.baseElement.offsetWidth-t._addonsWidth-1+"px")):t.element.style.width=t._toPx(s));if("placeHolder"===i)return"placeholder"in t.element&&!(e.jqx.browser.msie&&e.jqx.browser.version<9)||t.element.value!==r||(t.element.value=""),void t._refreshPlaceHolder();if(!(t.batchUpdate&&t.batchUpdate.width&&t.batchUpdate.height&&2===Object.keys(t.batchUpdate).length)){if("theme"===i&&e.jqx.utilities.setTheme(r,s,t.host),"opened"===i)return void(s?t.open():t.close());"source"===i&&(t._oldsource=s,t._updateSource()),"displayMember"!==i&&"valueMember"!==i||(t.source=t._oldsource,t._updateSource()),"disabled"===i&&e.jqx.aria(t,"aria-disabled",t.disabled),"value"===i&&(t.element.value=s),t.refresh()}},select:function(e,t,i){var r=this._find("jqx-fill-state-pressed",this._popupHelper),s=r.getAttribute("data-value"),a=r.getAttribute("data-name");return this.element.value=this.renderer(a,this.element.value),this.selectedItem={label:a,value:s},this.element.setAttribute("data-value",s),this.element.setAttribute("data-label",a),this._raiseEvent("0",{item:{label:a,value:s},label:a,value:s}),this._raiseEvent("3",{type:i,item:{label:a,value:s},label:a,value:s}),this.value=a,this.close()},val:function(e){return 0===arguments.length||null!=e&&"object"==typeof e&&!e.label&&!e.value?""!==this.displayMember&&""!==this.valueMember&&this.selectedItem?""===this.element.value?"":this.selectedItem:this.element.value:e&&e.label?(this.selectedItem={label:e.label,value:e.value},this.element.setAttribute("data-value",e.value),this.element.setAttribute("data-label",e.label),this.value=e,this.element.value=e.label,this.element.value):(this.value=e,this.element.value=e,this.element.setAttribute("data-value",e),this.element.setAttribute("data-label",e),e&&e.label?this._raiseEvent("3",{type:null,item:{label:e.label,value:e.value},label:e.label,value:e.value}):this._raiseEvent("3",{type:null,item:{label:e,value:e},label:e,value:e}),this.element.value)},_raiseEvent:function(t,i){void 0===i&&(i={owner:null});var r=this.events[t];i.owner=this;var s=new e.Event(r);s.owner=this,s.args=i,s.preventDefault&&s.preventDefault();var a=this.host.trigger(s);return a},_renderer:function(e){return e},open:function(){if(!e.jqx.isHidden(this.host)){var t=e.extend({},this.host.coord(!0),{height:this.element.offsetHeight});if(this.$popup.parentNode!==document.body){var i=this.element.id+"_popup";this.$popup.id=i,e.jqx.aria(this,"aria-owns",i),document.body.appendChild(this.$popup)}this.$popup.style.position="absolute",this.$popup.style.zIndex=this.popupZIndex,this.$popup.style.top=this._toPx(t.top+t.height),this.$popup.style.left=this._toPx(t.left),this.$popup.style.display="block";var r=0,s=this._popupHelper.children();return e.each(s,function(){r+=e(this).outerHeight()+1}),this.$popup.style.height=this._toPx(r),this.opened=!0,this._raiseEvent("1",{popup:this.$popup}),e.jqx.aria(this,"aria-expanded",!0),this}},close:function(){return this.$popup.style.display="none",this.opened=!1,this._raiseEvent("2",{popup:this.$popup}),e.jqx.aria(this,"aria-expanded",!1),this},suggest:function(){var t;return this.query=this.element.value,!this.query||this.query.length<this.minLength?this.opened?this.close():this:(t=e.isFunction(this.source)?this.source(this.query,e.proxy(this.load,this)):this.source,t?this.load(t):this)},load:function(e){for(var t=this,i=[],r=0;r<e.length;r++){var s=e[r];t.filter(s)&&i.push(s)}return i=this.sort(i),i.length?this._render(i.slice(0,this.items)).open():this.opened?this.close():this},_filter:function(t){var i=this.query,r=t;switch(null!=t.label?r=t.label:this.displayMember&&(r=t[this.displayMember]),this.searchMode){case"none":break;default:return e.jqx.string.containsIgnoreCase(r,i);case"contains":return e.jqx.string.contains(r,i);case"equals":return e.jqx.string.equals(r,i);case"equalsignorecase":return e.jqx.string.equalsIgnoreCase(r,i);case"startswith":return e.jqx.string.startsWith(r,i);case"startswithignorecase":return e.jqx.string.startsWithIgnoreCase(r,i);case"endswith":return e.jqx.string.endsWith(r,i);case"endswithignorecase":return e.jqx.string.endsWithIgnoreCase(r,i)}},_sort:function(e){for(var t=[],i=[],r=[],s=0;s<e.length;s++){var a=e[s],n=a;a.label?n=a.label:this.displayMember&&(n=a[this.displayMember]),0===n.toString().toLowerCase().indexOf(this.query.toString().toLowerCase())?t.push(a):n.toString().indexOf(this.query)>=0?i.push(a):n.toString().toLowerCase().indexOf(this.query.toString().toLowerCase())>=0&&r.push(a)}return t.concat(i,r)},_highlight:function(e){var t=this.query;t=t.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&");var i=new RegExp("("+t+")","ig");return e.replace(i,function(e,t){return"<b>"+t+"</b>"})},_render:function(t){var i=this,r=i._popupHelper.children();if(r.length>0)for(var s=0;s<r.length;s++)e(r[s]).remove();var a=function(e,t){var r,s,a=e,n=document.createElement("li"),o=document.createElement("a");o.setAttribute("href","#"),n.appendChild(o),void 0!==e.value&&null!==e.value?void 0!==e.label&&null!==e.label?(r=e.label,s=e.value):(r=e.value,s=e.value):void 0!==e.label&&null!==e.label?(r=e.label,s=e.label):void 0!==i.displayMember&&""!==i.displayMember?(r=e[i.displayMember],s=e[i.valueMember]):(r=e,s=e),n.setAttribute("data-value",s),n.setAttribute("data-name",r),e.label?a=e.label:i.displayMember&&(a=e[i.displayMember]),o.innerHTML=i.highlight(a);var l="";i.rtl&&(l=" jqx-rtl"),0===t&&(l+=" jqx-fill-state-pressed"),n.className=i.toThemeProperty("jqx-item jqx-menu-item jqx-rc-all"+l),i.$popup.appendChild(n),i.addHandler(n,"mouseenter",function(e){i.mouseenter(e)})},n=function(e){for(var t=0;t<e.length;t++)a(e[t],t)};return n(t),this.dropDownWidth?this.$popup.style.width=i._toPx(i.dropDownWidth):this.$popup.style.width=i._toPx(i.element.offsetWidth-6),this},next:function(){var t=this._find("jqx-fill-state-pressed",this._popupHelper),i=t.nextSibling;e(t).removeClass(this.toThemeProperty("jqx-fill-state-pressed")),i||(i=this.$popup.firstChild),i.className+=" "+this.toThemeProperty("jqx-fill-state-pressed")},prev:function(){var t=this._find("jqx-fill-state-pressed",this._popupHelper),i=t.previousSibling;e(t).removeClass(this.toThemeProperty("jqx-fill-state-pressed")),i||(i=this.$popup.lastChild),i.className+=" "+this.toThemeProperty("jqx-fill-state-pressed")},addHandlers:function(){var e=this,t=".jqxInput"+e.element.id;e.addHandler(e.host,"focus"+t,function(){e.onFocus()}),e.addHandler(e.host,"blur"+t,function(){e.onBlur()}),e.addHandler(e.host,"change"+t,function(t){if(!t.args){t.stopPropagation(),t.preventDefault();var i,r,s=e.val();s&&s.label?(i=s.label,r=s.val):(i=s,r=s),e._raiseEvent("3",{type:"keyboard",item:{label:i,value:r},label:i,value:r}),e.value=i}}),e.addHandler(e.host,"keypress"+t,function(t){e.keypress(t)}),e.addHandler(e.host,"keyup"+t,function(t){e.keyup(t)}),e.addHandler(e.host,"keydown"+t,function(t){e.keydown(t)}),e.addHandler(e.$popup,"mousedown"+t,function(t){e.click(t)})},removeHandlers:function(){var e=this,t=".jqxInput"+e.element.id;e.removeHandler(e.host,"change"+t),e.removeHandler(e.host,"focus"+t),e.removeHandler(e.host,"blur"+t),e.removeHandler(e.host,"keypress"+t),e.removeHandler(e.host,"keyup"+t),e.removeHandler(e.host,"keydown"+t),e.removeHandler(e.$popup,"mousedown"+t)},move:function(e){if(this.opened){switch(e.keyCode){case 9:case 13:case 27:e.preventDefault();break;case 38:e.shiftKey||(e.preventDefault(),this.prev());break;case 40:e.shiftKey||(e.preventDefault(),this.next())}e.stopPropagation()}},keydown:function(e){var t=[40,38,9,13,27];this.suppressKeyPressRepeat=-1!==t.indexOf(e.keyCode),this.move(e)},keypress:function(e){this.suppressKeyPressRepeat||this.move(e)},keyup:function(e){switch(e.keyCode){case 40:case 38:case 16:case 17:case 18:break;case 9:case 13:if(!this.opened)return;this.select(e,this,"keyboard");break;case 27:if(!this.opened)return;this.close();break;default:var t=this;this.timer&&clearTimeout(this.timer),this.timer=setTimeout(function(){t.suggest()},300)}e.stopPropagation(),e.preventDefault()},clear:function(){this.val("")},onBlur:function(){var t=this;setTimeout(function(){t.close()},150),t.host.removeClass(t.toThemeProperty("jqx-fill-state-focus")),"placeholder"in t.element&&!(e.jqx.browser.msie&&e.jqx.browser.version<9)||""!==t.element.value&&t.element.value!==t.placeHolder||(t.element.value=t.placeHolder)},onFocus:function(){var t=this;t.element.className+=" "+t.toThemeProperty("jqx-fill-state-focus"),"placeholder"in t.element&&!(e.jqx.browser.msie&&e.jqx.browser.version<9)||t.element.value!==t.placeHolder||(t.element.value="")},click:function(e){e.stopPropagation(),e.preventDefault(),this.select(e,this,"mouse")},mouseenter:function(t){e(this._find("jqx-fill-state-pressed",this._popupHelper)).removeClass(this.toThemeProperty("jqx-fill-state-pressed")),t.currentTarget.className+=" "+this.toThemeProperty("jqx-fill-state-pressed")},_toPx:function(e){return"number"==typeof e?e+"px":e},_find:function(e,t){for(var i=t.children(),r=0;r<i.length;r++){var s=i[r];if(-1!==s.className.indexOf(e))return s}},_getAddonsWidth:function(){for(var t=this,i=t.baseHost.children(),r=0,s=0;s<i.length;s++)i[s]!==t.element&&(r+=e(i[s]).outerWidth());return r}})}(jqxBaseFramework),function(e){"use strict";e.jqx.jqxWidget("jqxPathControl","",{}),e.extend(e.jqx._jqxPathControl.prototype,{defineInstance:function(){var t={width:null,height:"auto",path:"",pathFormat:"windows",customDrive:!1,customDirectorySeparator:null,fileDrop:!0,accept:".*",placeHolder:"Not a Path.",readOnly:!1,browseButtonText:"...",browseFunction:null,disabled:!1,rtl:!1,events:["change","formatChange","fileDrop"]};e.extend(!0,this,t)},createInstance:function(){this._render(!0)},_render:function(e){var t=this;t._constructPath(t.path),t._setSize(),e===!0?t._appendElements():t._removeHandlers(),t._addHandlers(),t._addClasses(),t._validateExtension()},render:function(){this._render(!1)},refresh:function(e){e!==!0&&this._render(!1)},destroy:function(){var e=this;e._removeHandlers(),e.host.remove()},val:function(t){var i=this;if(void 0===t||"string"!=typeof t&&e.isEmptyObject(t))return i.path;if("windows"===t||"unix"===t||"custom"===t)return i._formatPath(t);var r=i._input.val();i._constructPath(t),i.path!==r&&(i._input.val(i.path),i._raiseEvent("0",{path:i.path,oldPath:r}),i._validateExtension())},_clear:function(){var e=this;e._drive=void 0,e._pathArray=[],e.path="",e._input.val("")},clear:function(){var e=this;if(""!==e.path){var t=e.path;e._clear(),e._raiseEvent("0",{path:e.path,oldPath:t})}},browse:function(){var e=this;e.browseFunction&&e.browseFunction(e.path)},propertyChangedHandler:function(e,t,i,r){if(r!==i)switch(t){case"width":e.host.css("width",r);break;case"height":e.host.css("height",r);break;case"path":e.val(r);break;case"pathFormat":var s=e.path;e.path=e._formatPath(r,!0),e._input.val(e.path),e._raiseEvent("1",{format:r,oldFormat:i,path:e.path,oldPath:s});break;case"customDrive":case"customDirectorySeparator":"custom"===e.pathFormat&&(e.path=e._formatPath("custom",!0),e._input.val(e.path));break;case"accept":e._validateExtension();break;case"placeHolder":e._input.attr("placeholder",r);break;case"readOnly":r===!0?e._input.attr("readonly",""):e._input.removeAttr("readonly");break;case"browseButtonText":e._button.text(r);var a=e._button.outerWidth();e._input[0].style.width="calc(100% - "+(a+7)+"px)";break;case"disabled":r===!0?(e.host.addClass(e.toThemeProperty("jqx-fill-state-disabled")),e._input.attr("disabled","disabled"),e._button.addClass(e.toThemeProperty("jqx-path-control-button-disabled")),e._button.jqxButton({disabled:!0})):(e.host.removeClass(e.toThemeProperty("jqx-fill-state-disabled")),e._input.removeAttr("disabled"),e._button.removeClass(e.toThemeProperty("jqx-path-control-button-disabled")),e._button.jqxButton({disabled:!1}));break;case"rtl":r===!0?(e._input.addClass(e.toThemeProperty("jqx-path-control-input-rtl")),e._button.removeClass(e.toThemeProperty("jqx-path-control-button-ltr")),e._button.addClass(e.toThemeProperty("jqx-path-control-button-rtl"))):(e._input.removeClass(e.toThemeProperty("jqx-path-control-input-rtl")),e._button.removeClass(e.toThemeProperty("jqx-path-control-button-rtl")),e._button.addClass(e.toThemeProperty("jqx-path-control-button-ltr"))),e._button.jqxButton({rtl:r})}},_raiseEvent:function(t,i){void 0===i&&(i={owner:null});var r=this.events[t];i.owner=this;var s=new e.Event(r);s.owner=this,s.args=i,s.preventDefault&&s.preventDefault();var a=this.host.trigger(s);return a},_constructPath:function(e){var t=this,i=e;if(t._pathArray=[],t._drive=void 0,i=i.replace(/\//g,">"),i=i.replace(/\\/g,">"),t.customDirectorySeparator){var r=new RegExp("\\"+t.customDirectorySeparator,"g");i=i.replace(r,">")}var s=i.indexOf(":");-1!==s?(t._drive=i.slice(0,s),i=i.slice(s+2)):">"===i.charAt(0)&&(t._drive=i.slice(1,i.slice(1).indexOf(">")+1),i=i.slice(i.indexOf(t._drive)+t._drive.length+1)),t._pathArray=i.split(">"),t.path=t._formatPath(t.pathFormat,!0)},_formatPath:function(e,t){var i=this;if(e!==i.pathFormat||t===!0){var r,s="";switch(e){case"windows":i._drive&&(s+=i._drive+":\\"),r="\\";break;case"unix":i._drive&&(s+="/"+i._drive+"/"),r="/";break;case"custom":i._drive&&(s+=i.customDrive===!0?i._drive+":"+i.customDirectorySeparator:i.customDirectorySeparator),r=i.customDirectorySeparator}for(var a=0;a<i._pathArray.length;a++)s+=i._pathArray[a],a!==i._pathArray.length-1&&(s+=r);return s}return i.path},_setSize:function(){var e=this;e.host.css("width",e.width),e.host.css("height",e.height)},_appendElements:function(){var t=this,i=t.readOnly?"readonly":"",r=t.disabled?"disabled":"";t._input=e('<input type="text" placeholder="'+t.placeHolder+'" '+i+" "+r+' class="'+t.toThemeProperty("jqx-path-control-input")+" "+t.toThemeProperty("jqx-input")+" "+t.toThemeProperty("jqx-widget-content")+" "+t.toThemeProperty("jqx-rc-all")+'" value="'+t.path+'" />'),t.host.append(t._input),t._button=e('<button class="'+t.toThemeProperty("jqx-path-control-button")+'">'+t.browseButtonText+"</button>"),t.host.append(t._button),t._button.jqxButton({theme:t.theme,height:"100%",disabled:t.disabled,rtl:t.rtl});var s=t._button.outerWidth();t._input[0].style.width="calc(100% - "+(s+7)+"px)",t.rtl===!0?(t._input.addClass(t.toThemeProperty("jqx-path-control-input-rtl")),t._button.addClass(t.toThemeProperty("jqx-path-control-button-rtl"))):t._button.addClass(t.toThemeProperty("jqx-path-control-button-ltr"))},_addClasses:function(){var e=this;e.host.addClass(e.toThemeProperty("jqx-widget")),e.host.addClass(e.toThemeProperty("jqx-fill-state-normal")),e.host.addClass(e.toThemeProperty("jqx-rc-all")),e.host.addClass(e.toThemeProperty("jqx-path-control")),e.host.addClass(e.toThemeProperty("jqx-path-control-transparent-border")),e.disabled===!0&&(e.host.addClass(e.toThemeProperty("jqx-fill-state-disabled")),e._button.addClass(e.toThemeProperty("jqx-path-control-button-disabled")))},_addHandlers:function(){var e=this,t=e.element.id;e.addHandler(e._input,"focus.jqxPathControl"+t,function(){e._input.addClass(e.toThemeProperty("jqx-fill-state-focus"))}),e.addHandler(e._input,"blur.jqxPathControl"+t,function(){e._input.removeClass(e.toThemeProperty("jqx-fill-state-focus"))});var i=["56","188","190","191","220","222"];e.addHandler(e._input,"keydown.jqxPathControl"+t,function(e){var t=e.charCode?e.charCode:e.which,r=e.shiftKey===!0&&-1!==i.indexOf(t.toString())||106===t;r===!0&&e.preventDefault()}),e.addHandler(e._input,"change.jqxPathControl"+t,function(t){t.stopPropagation();var i=t.target.value,r=e.path;""===i?e._clear():(e._constructPath(i),e._validateExtension()),e._input.val(e.path),e._raiseEvent("0",{path:e.path,oldPath:r})}),e.addHandler(e._button,"click.jqxPathControl"+t,function(){e.browse()}),e.addHandler(e.host,"dragenter.jqxPathControl"+t,function(e){e.preventDefault(),e.stopPropagation()}),e.addHandler(e.host,"dragleave.jqxPathControl"+t,function(t){t.preventDefault(),t.stopPropagation(),e.fileDrop===!0&&e.host.addClass(e.toThemeProperty("jqx-path-control-transparent-border"))}),e.addHandler(e.host,"dragover.jqxPathControl"+t,function(t){t.preventDefault(),t.stopPropagation(),e.fileDrop===!0?e.host.removeClass(e.toThemeProperty("jqx-path-control-transparent-border")):t.originalEvent.dataTransfer.dropEffect="none"}),e.addHandler(e.host,"drop.jqxPathControl"+t,function(t){if(t.preventDefault(),t.stopPropagation(),e.fileDrop===!0){if(t.originalEvent.dataTransfer&&t.originalEvent.dataTransfer.files&&t.originalEvent.dataTransfer.files.length){var i=t.originalEvent.dataTransfer.files[0].name;e._raiseEvent("2",{fileName:i}),e.val(i)}e.host.addClass(e.toThemeProperty("jqx-path-control-transparent-border"))}})},_removeHandlers:function(){var e=this,t=e.element.id;e.removeHandler(e._input,"focus.jqxPathControl"+t),e.removeHandler(e._input,"blur.jqxPathControl"+t),e.removeHandler(e._input,"keydown.jqxPathControl"+t),e.removeHandler(e._input,"change.jqxPathControl"+t),e.removeHandler(e._button,"click.jqxPathControl"+t),e.removeHandler(e.host,"dragenter.jqxPathControl"+t),e.removeHandler(e.host,"dragleave.jqxPathControl"+t),e.removeHandler(e.host,"dragover.jqxPathControl"+t),e.removeHandler(e.host,"drop.jqxPathControl"+t)},_validateExtension:function(){var e=this;if(".*"!==e.accept&&""!==e.path){var t=e.path.lastIndexOf("."),i=e.path.charAt(t+1);if(-1!==t&&"."!==e.path.charAt(t-1)&&""!==i&&("windows"===e.pathFormat&&"\\"!==i||"unix"===e.pathFormat&&"/"!==i||"custom"===e.pathFormat&&i!==e.customDirectorySeparator)){var r=e.path.slice(t);r.toLowerCase()===e.accept.toLowerCase()?e._input.removeClass(e.toThemeProperty("jqx-path-control-input-invalid")):e._input.addClass(e.toThemeProperty("jqx-path-control-input-invalid"))}else e._input.removeClass(e.toThemeProperty("jqx-path-control-input-invalid"))}else e._input.removeClass(e.toThemeProperty("jqx-path-control-input-invalid"))}})}(jqxBaseFramework),function(e){"use strict";e.jqx.jqxWidget("jqxPopover","",{}),e.extend(e.jqx._jqxPopover.prototype,{defineInstance:function(){var t={arrowOffsetValue:null,animationType:"fade",position:"bottom",animationOpenDelay:"fast",animationCloseDelay:"fast",autoClose:!0,isModal:!1,height:null,initContent:null,offset:null,rtl:!1,showArrow:!0,showCloseButton:!1,selector:null,title:"",width:null,_toggleElement:null,_popover:null,_popoverTop:0,_popoverLeft:0,_init:!1,_ie8:e.jqx.browser.msie&&8===e.jqx.browser.version,_ie7:e.jqx.browser.msie&&e.jqx.browser.version<8,_left:0,_top:0,events:["open","close"]};return this===e.jqx._jqxPopover.prototype?t:(e.extend(!0,this,t),t)},createInstance:function(){var e=this;e._content=e.host.children()},render:function(){var t=this,i=t.element.id;if(t._content.detach(),t._toggleElement=e(t.selector),0===t._toggleElement.length)throw new Error('jqxPopover: Invalid Popover toggler: "'+t.selector+'".');if(null===t._toggleElement)throw new Error("jqxPopover: Missing Popover toggler.");var r=e('<div id="'+i+'" class="'+t.toThemeProperty("jqx-popover")+'"><div class="'+t.toThemeProperty("jqx-popover-arrow")+'"></div><div class="'+t.toThemeProperty("jqx-popover-title")+'"></div><div class="'+t.toThemeProperty("jqx-popover-content")+'"></div></div>');e("body").append(r);var s=t.host.data();t.host.detach(),t.host=r,t.host.data(s),t.element=r[0],t.element.id=i,t._popover=e("#"+i);var a=t._popover.find(".jqx-popover-title");a.append(t.title);var n=t._popover.find(".jqx-popover-content");if(n.append(t._content),t._popover.hide(),t._removeHandlers(),t._addHandlers(),t._popover.addClass(t.position),a.addClass(t.toThemeProperty("jqx-widget-header")),t._popover.addClass(t.toThemeProperty("jqx-widget jqx-widget-content jqx-rc-all")),t.showArrow?(t._popover.addClass(t.toThemeProperty("jqx-popover-arrow-"+t.position)),t._popover.find(".jqx-popover-arrow").css("display","block")):t._popover.find(".jqx-popover-arrow").css("display","none"),t.rtl&&(a.addClass(t.toThemeProperty("jqx-rtl")),a.css("direction","rtl"),n.css("direction","rtl")),t.showCloseButton){var o=e('<div class="'+this.toThemeProperty("jqx-window-close-button-background")+'"></div>'),l=e('<div style="width: 100%; height: 100%;" class="'+this.toThemeProperty("jqx-window-close-button")+" "+this.toThemeProperty("jqx-icon-close")+'"></div>');o.append(l),a.append(o),a.css("min-height","16px"),o.addClass(t.toThemeProperty("jqx-popover-close-button")),t.closeButton=l,t.rtl&&o.addClass(t.toThemeProperty("jqx-popover-close-button-rtl"))}if(t.arrowOffsetValue)if("bottom"==t.position||"top"==t.position){var h=t._popover.find(".jqx-popover-arrow").css("margin-left");t._popover.find(".jqx-popover-arrow").css("margin-left",parseInt(h)+t.arrowOffsetValue)}else{var d=t._popover.find(".jqx-popover-arrow").css("margin-top");t._popover.find(".jqx-popover-arrow").css("margin-top",parseInt(d)+t.arrowOffsetValue)}(t.width||t.height)&&(t._popover.css("width",t.width),t._popover.css("height",t.height))},refresh:function(e){this.render()},destroy:function(){var e=this;0!==e.length&&(e._removeHandlers(),e._popover.remove(),e._removeModalBackground())},propertyChangedHandler:function(e,t,i,r){var s=this;s.render()},_stickToToggleElement:function(){var e=this;e._popover.css("left","0px"),e._popover.css("top","0px");var t=e._toggleElement,i=t.offset(),r=t.outerHeight(),s=t.outerWidth(),a=e._popover.height(),n=e._popover.width();switch(e.position){case"left":e._popoverTop=i.top-a/2+r/2,e._popoverLeft=i.left-e._popover.outerWidth();break;case"right":e._popoverTop=i.top-a/2+r/2,e._popoverLeft=i.left+s;break;case"top":e._popoverTop=i.top-e._popover.outerHeight(),e._popoverLeft=i.left-n/2+s/2;break;case"bottom":e._popoverTop=i.top+r,e._popoverLeft=i.left-n/2+s/2}var o=e.offset?parseFloat(e.offset.left):0,l=e.offset?parseFloat(e.offset.top):0;e._popover.css("top",l+e._popoverTop),e._popover.css("left",o+e._popoverLeft)},open:function(){function e(){i._popover.show(),i._raiseEvent("0"),i._isOpen=!0}function t(){i.initContent&&i._init===!1&&(i.initContent(),i._init=!0,i._stickToToggleElement())}var i=this;if(i._stickToToggleElement(),i._ie7===!0)return e(),void t();switch(i.animationType){case"fade":i._popover.fadeIn(i.animationOpenDelay,function(){i._raiseEvent("0"),t(),i._isOpen=!0});break;case"none":e(),t()}i._makeModalBackground()},close:function(){function e(){t._popover.hide(),t._raiseEvent("1"),t._isOpen=!1}var t=this;if(t._isOpen){if(t._ie7===!0)return void e();switch(t.animationType){case"fade":t._popover.fadeOut(t.animationCloseDelay,function(){t._raiseEvent("1"),t._isOpen=!1});break;case"none":e()}t._removeModalBackground()}},_raiseEvent:function(t,i){void 0===i&&(i={owner:null});var r=this.events[t];i.owner=this;var s=new e.Event(r);s.owner=this,s.args=i,s.preventDefault&&s.preventDefault();var a=this._popover.trigger(s);return a},_makeModalBackground:function(){var t=this;t.isModal===!0&&(t.modalBackground=e("<div></div>"),t.modalBackground.addClass(this.toThemeProperty("jqx-popover-modal-background")),e(document.body).prepend(t.modalBackground),e(document.body).addClass(t.toThemeProperty("jqx-unselectable")),t.host.addClass(t.toThemeProperty("jqx-selectable")))},_removeModalBackground:function(){var t=this;t.isModal===!0&&void 0!==t.modalBackground&&(t.modalBackground.remove(),e(document.body).removeClass(t.toThemeProperty("jqx-unselectable")),t.host.removeClass(t.toThemeProperty("jqx-selectable")))},_addHandlers:function(){var t=this,i=t.element.id;t.addHandler(e(document),"keydown.jqxPopover"+i,function(e){27==e.keyCode&&t.close()}),t.addHandler(e(document),"click.jqxPopover"+i,function(i){t.closeButton&&i.target==t.closeButton[0]&&t.close(),t.autoClose===!0&&(i.target==t.element||e(i.target).ischildof(t._popover)||t.isModal||t.close())}),t.addHandler(e(window),"resize.jqxPopover"+i,function(e){"none"!=t.element.style.display&&t._stickToToggleElement()}),t.selector&&t.addHandler(t._toggleElement,"click.jqxPopover"+i,function(e){e.stopPropagation(),"none"!=t.host.css("display")?t.close():t.open()})},_removeHandlers:function(){var t=this,i=t.element.id;t.removeHandler(e(document),"click.jqxPopover"+i),t.selector&&t.removeHandler(t._toggleElement,"click.jqxPopover"+i),t.removeHandler(e(document),"keydown.jqxPopover"+i),t.removeHandler(e(window),"resize.jqxPopover"+i)}})}(jqxBaseFramework),function(e){e.jqx.jqxWidget("jqxCheckBox","",{}),e.extend(e.jqx._jqxCheckBox.prototype,{defineInstance:function(){var t={animationShowDelay:300,animationHideDelay:300,width:null,height:null,boxSize:"13px",checked:!1,hasThreeStates:!1,disabled:!1,enableContainerClick:!0,locked:!1,groupName:"",keyboardCheck:!0,enableHover:!0,hasInput:!0,rtl:!1,updated:null,disabledContainer:!1,changeType:null,_canFocus:!0,aria:{"aria-checked":{name:"checked",type:"boolean"},"aria-disabled":{name:"disabled",type:"boolean"}},events:["checked","unchecked","indeterminate","change"]};return this===e.jqx._jqxCheckBox.prototype?t:(e.extend(!0,this,t),t)},createInstance:function(e){var t=this;t._createFromInput("CheckBox"),t.render()},_createFromInput:function(t){var i=this;if("input"==i.element.nodeName.toLowerCase()){i.field=i.element,i.field.className&&(i._className=i.field.className);var r={title:i.field.title};i.field.value&&(r.value=i.field.value),i.field.checked&&(r.checked=!0),i.field.id.length?r.id=i.field.id.replace(/[^\w]/g,"_")+"_"+t:r.id=e.jqx.utilities.createId()+"_"+t;var s=i.element.nextSibling,a=!1;!s||"#text"!=s.nodeName&&"span"!=s.nodeName||(a=!0);var n=0,o=e("<div></div>",r);if(a){o.append(s);var l=e("<span>"+e(s).text()+"</span>");l.appendTo(e(document.body)),n+=l.width(),l.remove()}o[0].style.cssText=i.field.style.cssText,i.width||(i.width=e(i.field).width()+n+10),i.height||(i.height=e(i.field).outerHeight()+10),e(i.field).hide().after(o);var h=i.host.data();if(i.host=o,i.host.data(h),i.element=o[0],i.element.id=i.field.id,i.field.id=r.id,i._className&&(i.host.addClass(i._className),e(i.field).removeClass(i._className)),i.field.tabIndex){var d=i.field.tabIndex;i.field.tabIndex=-1,i.element.tabIndex=d}}},_addInput:function(){if(this.hasInput){this.input&&this.input.remove();var t=this.host.attr("name");this.input=e("<input type='hidden'/>"),this.host.append(this.input),t&&this.input.attr("name",t),this.input.val(this.checked),this.host.attr("role","checkbox"),e.jqx.aria(this)}},render:function(){this.init=!0;var t=this;this.setSize(),this.propertyChangeMap.width=function(e,i,r,s){t.setSize()},this.propertyChangeMap.height=function(e,i,r,s){t.setSize()},this._removeHandlers(),this.width||this.host.css("overflow-x","visible"),this.height||this.host.css("overflow-y","visible"),this.checkbox&&(this.checkbox.remove(),this.checkbox=null),this.checkMark&&(this.checkMark.remove(),this.checkMark=null),this.box&&(this.box.remove(),this.box=null),this.clear&&(this.clear.remove(),this.clear=null),null==this.boxSize&&(this.boxSize=13);var i=parseInt(this.boxSize)+"px",r="13px",s=Math.floor((parseInt(this.boxSize)-13)/2),a=s;s+="px",a+="px","13px"!=this.boxSize?this.checkbox=e('<div><div style="width: '+i+"; height: "+i+';"><span style="position: relative; left: '+s+"; top: "+a+"; width: "+r+"; height: "+r+';"></span></div></div>'):this.checkbox=e('<div><div style="width: '+i+"; height: "+i+';"><span style="width: '+i+"; height: "+i+';"></span></div></div>'),this.host.prepend(this.checkbox),this.disabledContainer||(this.host.attr("tabIndex")||this.host.attr("tabIndex",0),this.clear=e('<div style="clear: both;"></div>'),this.host.append(this.clear)),this.checkMark=e(this.checkbox[0].firstChild.firstChild),this.box=this.checkbox,this.box.addClass(this.toThemeProperty("jqx-checkbox-default")+" "+this.toThemeProperty("jqx-fill-state-normal")+" "+this.toThemeProperty("jqx-rc-all")),
this.disabled&&this.disable(),this.disabledContainer||(this.host.addClass(this.toThemeProperty("jqx-widget")),this.host.addClass(this.toThemeProperty("jqx-checkbox"))),this.locked&&!this.disabledContainer&&this.host.css("cursor","auto");var n=this.element.getAttribute("checked");"checked"!=n&&"true"!=n&&1!=n||(this.checked=!0),this._addInput(),this._render(),this._addHandlers(),this.init=!1,this._centerBox()},_centerBox:function(){if(this.height&&-1==this.height.toString().indexOf("%")&&this.box){var e=parseInt(this.height);this.host.css("line-height",e+"px");var t=e-parseInt(this.boxSize)-1;t/=2,this.box.css("margin-top",parseInt(t))}},refresh:function(e){e||(this.setSize(),this._render())},resize:function(e,t){this.width=e,this.height=t,this.refresh()},setSize:function(){null!=this.width&&-1!=this.width.toString().indexOf("px")?this.host.width(this.width):void 0==this.width||isNaN(this.width)?null!=this.width&&-1!=this.width.toString().indexOf("%")&&(this.element.style.width=this.width):this.host.width(this.width),null!=this.height&&-1!=this.height.toString().indexOf("px")?this.host.height(this.height):void 0==this.height||isNaN(this.height)?null!=this.height&&-1!=this.height.toString().indexOf("%")&&(this.element.style.height=this.height):this.host.height(this.height),this._centerBox()},_addHandlers:function(){var t=this,i=e.jqx.mobile.isTouchDevice(),r="mousedown";i&&(r=e.jqx.mobile.getTouchEventName("touchend")),this.addHandler(this.box,r,function(e){return t.disabled||t.enableContainerClick||t.locked?void 0:(t.changeType="mouse",t.toggle(),t.updated&&(e.owner=t,t.updated(e,t.checked,t.oldChecked)),e.preventDefault&&e.preventDefault(),!1)}),this.disabledContainer||(this.addHandler(this.host,"keydown",function(e){return t.disabled||t.locked||!t.keyboardCheck||32!=e.keyCode?void 0:t._canFocus?(t.changeType="keyboard",t.toggle(),t.updated&&(e.owner=t,t.updated(e,t.checked,t.oldChecked)),e.preventDefault&&e.preventDefault(),!1):!0}),this.addHandler(this.host,r,function(e){return t.disabled||!t.enableContainerClick||t.locked?void 0:(t.changeType="mouse",t.toggle(),e.preventDefault&&e.preventDefault(),t._canFocus&&t.focus(),!1)}),this.addHandler(this.host,"selectstart",function(e){return!t.disabled&&t.enableContainerClick?(e.preventDefault&&e.preventDefault(),!1):void 0}),this.addHandler(this.host,"mouseup",function(e){!t.disabled&&t.enableContainerClick&&e.preventDefault&&e.preventDefault()}),this.addHandler(this.host,"focus",function(e){return t.disabled||t.locked?void 0:t._canFocus?(t.enableHover&&t.box.addClass(t.toThemeProperty("jqx-checkbox-hover")),t.box.addClass(t.toThemeProperty("jqx-fill-state-focus")),e.preventDefault&&e.preventDefault(),t.hovered=!0,!1):!0}),this.addHandler(this.host,"blur",function(e){return t.disabled||t.locked?void 0:t._canFocus?(t.enableHover&&t.box.removeClass(t.toThemeProperty("jqx-checkbox-hover")),t.box.removeClass(t.toThemeProperty("jqx-fill-state-focus")),e.preventDefault&&e.preventDefault(),t.hovered=!1,!1):!0}),this.addHandler(this.host,"mouseenter",function(e){return t.locked&&t.host.css("cursor","arrow"),t.enableHover&&!t.disabled&&t.enableContainerClick&&!t.locked?(t.box.addClass(t.toThemeProperty("jqx-checkbox-hover")),t.box.addClass(t.toThemeProperty("jqx-fill-state-hover")),e.preventDefault&&e.preventDefault(),t.hovered=!0,!1):void 0}),this.addHandler(this.host,"mouseleave",function(e){return t.enableHover&&!t.disabled&&t.enableContainerClick&&!t.locked?(t.box.removeClass(t.toThemeProperty("jqx-checkbox-hover")),t.box.removeClass(t.toThemeProperty("jqx-fill-state-hover")),e.preventDefault&&e.preventDefault(),t.hovered=!1,!1):void 0}),this.addHandler(this.box,"mouseenter",function(){t.locked||t.disabled||t.enableContainerClick||(t.box.addClass(t.toThemeProperty("jqx-checkbox-hover")),t.box.addClass(t.toThemeProperty("jqx-fill-state-hover")))}),this.addHandler(this.box,"mouseleave",function(){t.disabled||t.enableContainerClick||(t.box.removeClass(t.toThemeProperty("jqx-checkbox-hover")),t.box.removeClass(t.toThemeProperty("jqx-fill-state-hover")))}))},focus:function(){try{this.host.focus()}catch(e){}},_removeHandlers:function(){var t=e.jqx.mobile.isTouchDevice(),i="mousedown";t&&(i="touchend"),this.box&&(this.removeHandler(this.box,i),this.removeHandler(this.box,"mouseenter"),this.removeHandler(this.box,"mouseleave")),this.removeHandler(this.host,i),this.removeHandler(this.host,"mouseup"),this.removeHandler(this.host,"selectstart"),this.removeHandler(this.host,"mouseenter"),this.removeHandler(this.host,"mouseleave"),this.removeHandler(this.host,"keydown"),this.removeHandler(this.host,"blur"),this.removeHandler(this.host,"focus")},_render:function(){this.disabled?this.disable():this.enableContainerClick?this.host.css("cursor","pointer"):this.init||this.host.css("cursor","auto"),this.rtl&&(this.box.addClass(this.toThemeProperty("jqx-checkbox-rtl")),this.host.addClass(this.toThemeProperty("jqx-rtl"))),this.updateStates()},_setState:function(e,t){this.checked!=e&&(this.checked=e,this.checked?this.checkMark[0].className=this.toThemeProperty("jqx-checkbox-check-checked"):null==this.checked?this.checkMark[0].className=this.toThemeProperty("jqx-checkbox-check-indeterminate"):this.checkMark[0].className=""),t!==!1&&t!==!0||(this.locked=t)},val:function(e){return 0==arguments.length||null!=e&&"object"==typeof e?this.checked:("string"==typeof e?("true"==e&&this.check(),"false"==e&&this.uncheck(),""==e&&this.indeterminate()):(1==e&&this.check(),0==e&&this.uncheck(),null==e&&this.indeterminate()),this.checked)},check:function(){this.checked=!0;var t=this;if(this.checkMark.removeClass(),e.jqx.browser.msie||0==this.animationShowDelay?this.checkMark.addClass(this.toThemeProperty("jqx-checkbox-check-checked")):(this.checkMark.addClass(this.toThemeProperty("jqx-checkbox-check-checked")),this.checkMark.css("opacity",0),this.checkMark.stop().animate({opacity:1},this.animationShowDelay,function(){})),null!=this.groupName&&this.groupName.length>0){var i=e.find(this.toThemeProperty(".jqx-checkbox",!0));e.each(i,function(){var i=e(this).jqxCheckBox("groupName");i==t.groupName&&this!=t.element&&e(this).jqxCheckBox("uncheck")})}this._raiseEvent("0",!0),this._raiseEvent("3",{checked:!0}),void 0!=this.input&&(this.input.val(this.checked),e.jqx.aria(this,"aria-checked",this.checked))},uncheck:function(){this.checked=!1;var t=this;e.jqx.browser.msie||0==this.animationHideDelay?""!=t.checkMark[0].className&&(t.checkMark[0].className=""):(this.checkMark.css("opacity",1),this.checkMark.stop().animate({opacity:0},this.animationHideDelay,function(){""!=t.checkMark[0].className&&(t.checkMark[0].className="")})),this._raiseEvent("1"),this._raiseEvent("3",{checked:!1}),void 0!=this.input&&(this.input.val(this.checked),e.jqx.aria(this,"aria-checked",this.checked))},indeterminate:function(){this.checked=null,this.checkMark.removeClass(),e.jqx.browser.msie||0==this.animationShowDelay?this.checkMark.addClass(this.toThemeProperty("jqx-checkbox-check-indeterminate")):(this.checkMark.addClass(this.toThemeProperty("jqx-checkbox-check-indeterminate")),this.checkMark.css("opacity",0),this.checkMark.stop().animate({opacity:1},this.animationShowDelay,function(){})),this._raiseEvent("2"),this._raiseEvent("3",{checked:null}),void 0!=this.input&&(this.input.val(this.checked),e.jqx.aria(this,"aria-checked","undefined"))},toggle:function(){if(!this.disabled&&!this.locked){if(null!=this.groupName&&this.groupName.length>0)return void(1!=this.checked&&(this.checked=!0,this.updateStates()));this.oldChecked=this.checked,1==this.checked?this.checked=this.hasThreeStates?null:!1:this.checked=null!=this.checked,this.updateStates(),void 0!=this.input&&this.input.val(this.checked)}},updateStates:function(){this.checked?this.check():0==this.checked?this.uncheck():null==this.checked&&this.indeterminate()},disable:function(){this.disabled=!0,1==this.checked?this.checkMark.addClass(this.toThemeProperty("jqx-checkbox-check-disabled")):null==this.checked&&this.checkMark.addClass(this.toThemeProperty("jqx-checkbox-check-indeterminate-disabled")),this.box.addClass(this.toThemeProperty("jqx-checkbox-disabled-box")),this.host.addClass(this.toThemeProperty("jqx-checkbox-disabled")),this.host.addClass(this.toThemeProperty("jqx-fill-state-disabled")),this.box.addClass(this.toThemeProperty("jqx-checkbox-disabled")),e.jqx.aria(this,"aria-disabled",this.disabled)},enable:function(){1==this.checked?this.checkMark.removeClass(this.toThemeProperty("jqx-checkbox-check-disabled")):null==this.checked&&this.checkMark.removeClass(this.toThemeProperty("jqx-checkbox-check-indeterminate-disabled")),this.box.removeClass(this.toThemeProperty("jqx-checkbox-disabled-box")),this.host.removeClass(this.toThemeProperty("jqx-checkbox-disabled")),this.host.removeClass(this.toThemeProperty("jqx-fill-state-disabled")),this.box.removeClass(this.toThemeProperty("jqx-checkbox-disabled")),this.disabled=!1,e.jqx.aria(this,"aria-disabled",this.disabled)},destroy:function(){this.host.remove()},_raiseEvent:function(t,i){if(!this.init){var r=this.events[t],s=new e.Event(r);s.owner=this,i||(i={}),i.type=this.changeType,this.changeType=null,s.args=i;try{var a=this.host.trigger(s)}catch(n){}return a}},propertiesChangedHandler:function(e,t,i){i.width&&i.height&&2==Object.keys(i).length&&e.setSize()},propertyChangedHandler:function(t,i,r,s){if(void 0!=this.isInitialized&&0!=this.isInitialized&&!(t.batchUpdate&&t.batchUpdate.width&&t.batchUpdate.height&&2==Object.keys(t.batchUpdate).length)){if("enableContainerClick"!=i||t.disabled||t.locked||(s?t.host.css("cursor","pointer"):t.host.css("cursor","auto")),"rtl"==i&&(s?(t.box.addClass(t.toThemeProperty("jqx-checkbox-rtl")),t.host.addClass(t.toThemeProperty("jqx-rtl"))):(t.box.removeClass(t.toThemeProperty("jqx-checkbox-rtl")),t.host.removeClass(t.toThemeProperty("jqx-rtl")))),"boxSize"==i&&t.render(),"theme"==i&&e.jqx.utilities.setTheme(r,s,t.host),"checked"==i&&s!=r)switch(s){case!0:t.check();break;case!1:t.uncheck();break;case null:t.indeterminate()}"disabled"==i&&s!=r&&(s?t.disable():t.enable())}}})}(jqxBaseFramework),function(e){e.jqx.jqxWidget("jqxSwitchButton","",{}),e.extend(e.jqx._jqxSwitchButton.prototype,{defineInstance:function(){var t={disabled:!1,checked:!1,onLabel:"On",offLabel:"Off",toggleMode:"default",animationDuration:250,width:90,height:30,animationEnabled:!0,thumbSize:"40%",orientation:"horizontal",switchRatio:"50%",metroMode:!1,_isMouseDown:!1,rtl:!1,_dimensions:{horizontal:{size:"width",opSize:"height",oSize:"outerWidth",opOSize:"outerHeight",pos:"left",oPos:"top",opposite:"vertical"},vertical:{size:"height",opSize:"width",oSize:"outerHeight",opOSize:"outerWidth",pos:"top",oPos:"left",opposite:"horizontal"}},_touchEvents:{mousedown:"touchstart",click:"touchend",mouseup:"touchend",mousemove:"touchmove",mouseenter:"mouseenter",mouseleave:"mouseleave"},_borders:{},_isTouchDevice:!1,_distanceRequired:3,_isDistanceTraveled:!1,_thumb:void 0,_onLabel:void 0,_offLabel:void 0,_wrapper:void 0,_animationActive:!1,aria:{"aria-checked":{name:"checked",type:"boolean"},"aria-disabled":{name:"disabled",type:"boolean"}},_events:["checked","unchecked","change"]};return this===e.jqx._jqxSwitchButton.prototype?t:(e.extend(!0,this,t),t)},createInstance:function(t){if(this._createFromInput(),this.element.nodeName&&("INPUT"==this.element.nodeName||"BUTTON"==this.element.nodeName))throw"jqxSwitchButton can be rendered only from a DIV tag.";this.host.attr("role","checkbox"),e.jqx.aria(this),this.render();var i=this;i.element.tabIndex||i.host.attr("tabindex",0),e.jqx.utilities.resize(this.host,function(){i.element.innerHTML="",i.render()})},_createFromInput:function(){var t=this;if("input"==t.element.nodeName.toLowerCase()){t.field=t.element,t.field.className&&(t._className=t.field.className);var i={title:t.field.title};t.field.value&&(i.value=t.field.value),t.field.checked&&(i.checked=!0),t.field.id.length?i.id=t.field.id.replace(/[^\w]/g,"_")+"_jqxSwitchButton":i.id=e.jqx.utilities.createId()+"_jqxSwitchButton";var r=e("<div></div>",i);r[0].style.cssText=t.field.style.cssText,t.width||(t.width=e(t.field).width()),t.height||(t.height=e(t.field).outerHeight()),e(t.field).hide().after(r);var s=t.host.data();if(t.host=r,t.host.data(s),t.element=r[0],t.element.id=t.field.id,t.field.id=i.id,t._className&&(t.host.addClass(t._className),e(t.field).removeClass(t._className)),t.field.tabIndex){var a=t.field.tabIndex;t.field.tabIndex=-1,t.element.tabIndex=a}}},resize:function(e,t){this.width=e,this.height=t,this.render()},render:function(){this.innerHTML="",!this.theme||""==this.theme||-1==this.theme.indexOf("metro")&&-1==this.theme.indexOf("windowsphone")&&-1==this.theme.indexOf("office")||("40%"==this.thumbSize&&(this.thumbSize=12),this.metroMode=!0);var t=e.data(document.body,"jqx-switchbutton")||1;this._idHandler(t),e.data(document.body,"jqx-draggables",++t),this._isTouchDevice=e.jqx.mobile.isTouchDevice(),this.switchRatio=parseInt(this.switchRatio,10),this._render(),this._addClasses(),this._performLayout(),this._removeEventHandlers(),this._addEventHandles(),this._disableSelection();this.checked||this._switchButton(!1,0,!0),this.disabled&&(this.element.disabled=!0)},setOnLabel:function(e){this._onLabel.html('<div style="display: inline-block;">'+e+"</div>"),this._centerLabels()},setOffLabel:function(e){this._offLabel.html('<div style="display: inline-block;">'+e+"</div>"),this._centerLabels()},toggle:function(){this.checked?this.uncheck():this.check()},val:function(e){return 0==arguments.length||null!=e&&"object"==typeof e?this.checked:("string"==typeof e?("true"==e&&this.check(),"false"==e&&this.uncheck(),""==e&&this.indeterminate()):(1==e&&this.check(),0==e&&this.uncheck(),null==e&&this.indeterminate()),this.checked)},uncheck:function(){this._switchButton(!1),e.jqx.aria(this,"aria-checked",this.checked)},check:function(){this._switchButton(!0),e.jqx.aria(this,"aria-checked",this.checked)},_idHandler:function(e){if(!this.element.id){var t="jqx-switchbutton-"+e;this.element.id=t}},_dir:function(e){return this._dimensions[this.orientation][e]},_getEvent:function(t){if(this._isTouchDevice){var i=this._touchEvents[t];return e.jqx.mobile.getTouchEventName(i)}return t},_render:function(){this._thumb=e("<div/>"),this._onLabel=e("<div/>"),this._offLabel=e("<div/>"),this._wrapper=e("<div/>"),this._onLabel.appendTo(this.host),this._thumb.appendTo(this.host),this._offLabel.appendTo(this.host),this.host.wrapInner(this._wrapper),this._wrapper=this.host.children(),this.setOnLabel(this.onLabel),this.setOffLabel(this.offLabel)},_addClasses:function(){var e=this._thumb,t=this._onLabel,i=this._offLabel;this.host.addClass(this.toThemeProperty("jqx-switchbutton")),this.host.addClass(this.toThemeProperty("jqx-widget")),this.host.addClass(this.toThemeProperty("jqx-widget-content")),this._wrapper.addClass(this.toThemeProperty("jqx-switchbutton-wrapper")),e.addClass(this.toThemeProperty("jqx-fill-state-normal")),e.addClass(this.toThemeProperty("jqx-switchbutton-thumb")),t.addClass(this.toThemeProperty("jqx-switchbutton-label-on")),t.addClass(this.toThemeProperty("jqx-switchbutton-label")),i.addClass(this.toThemeProperty("jqx-switchbutton-label-off")),i.addClass(this.toThemeProperty("jqx-switchbutton-label")),this.checked?this.host.addClass(this.toThemeProperty("jqx-switchbutton-on")):this.host.removeClass(this.toThemeProperty("jqx-switchbutton-on"))},_performLayout:function(){var e,t=this.host,i=this._dir("opSize"),r=this._dir("size"),s=this._wrapper;if(t.css({width:this.width,height:this.height}),s.css(i,t[i]()),this._thumbLayout(),this._labelsLayout(),e=this._borders[this._dir("opposite")],s.css(r,t[r]()+this._offLabel[this._dir("oSize")]()+e),s.css(i,t[i]()),this.metroMode||this.theme&&""!=this.theme&&(-1!=this.theme.indexOf("metro")||-1!=this.theme.indexOf("office"))){var a=(this._thumb,this._onLabel),n=this._offLabel;a.css("position","relative"),a.css("top","1px"),a.css("margin-left","1px"),n.css("position","relative"),n.css("top","1px"),n.css("left","-2px"),n.css("margin-right","1px"),n.height(a.height()-2),n.width(a.width()-3),a.height(a.height()-2),a.width(a.width()-3),this._thumb[this._dir("size")](this.thumbSize+3),this._thumb.css("top","-1px"),this._thumb[this._dir("opSize")](t[this._dir("opSize")]()+2),this._thumb.css("position","relative"),this.host.css("overflow","hidden"),this.checked?(this._onLabel.css("visibility","visible"),this._offLabel.css("visibility","hidden"),this._thumb.css("left","0px")):(this._onLabel.css("visibility","hidden"),this._offLabel.css("visibility","visible"),this._thumb.css("left","-2px"))}},_thumbLayout:function(){var e=this.thumbSize,t=this.host;e.toString().indexOf("%")>=0&&(e=t[this._dir("size")]()*parseInt(e,10)/100),this._thumb[this._dir("size")](e),this._thumb[this._dir("opSize")](t[this._dir("opSize")]()),this._handleThumbBorders()},_handleThumbBorders:function(){this._borders.horizontal=parseInt(this._thumb.css("border-left-width"),10)||0,this._borders.horizontal+=parseInt(this._thumb.css("border-right-width"),10)||0,this._borders.vertical=parseInt(this._thumb.css("border-top-width"),10)||0,this._borders.vertical+=parseInt(this._thumb.css("border-bottom-width"),10)||0;var e=this._borders[this._dir("opposite")];"horizontal"===this.orientation?(this._thumb.css("margin-top",-e/2),this._thumb.css("margin-left",0)):(this._thumb.css("margin-left",-e/2),this._thumb.css("margin-top",0))},_labelsLayout:function(){var e=this.host,t=this._thumb,i=this._dir("opSize"),r=this._dir("size"),s=this._dir("oSize"),a=e[r]()-t[s](),n=this._borders[this._dir("opposite")]/2;this._onLabel[r](a+n),this._offLabel[r](a+n),this.rtl&&this._onLabel[r](a+2*n),this._onLabel[i](e[i]()),this._offLabel[i](e[i]()),this._orderLabels(),this._centerLabels()},_orderLabels:function(){if("horizontal"===this.orientation){var e="left";this.rtl&&(e="right"),this._onLabel.css("float",e),this._thumb.css("float",e),this._offLabel.css("float",e)}else this._onLabel.css("display","block"),this._offLabel.css("display","block")},_centerLabels:function(){var e=this._onLabel.children("div"),t=this._offLabel.children("div"),i=e.parent(),r=i.height(),s=e.outerHeight(),a=this._borders[this.orientation]/2||0;0==s&&(s=14);var n=Math.floor((r-s)/2)+a;e.css("margin-top",n),t.css("margin-top",n)},_removeEventHandlers:function(){var t="."+this.element.id;this.removeHandler(this._wrapper,this._getEvent("click")+t,this._clickHandle),this.removeHandler(this._thumb,this._getEvent("mousedown")+t,this._mouseDown),this.removeHandler(e(document),this._getEvent("mouseup")+t,this._mouseUp),this.removeHandler(e(document),this._getEvent("mousemove")+t,this._mouseMove),this.removeHandler(this._thumb,"mouseenter"+t),this.removeHandler(this._thumb,"mouseleave"+t),this.removeHandler(this._wrapper,"focus"+t),this.removeHandler(this._wrapper,"blur"+t)},_addEventHandles:function(){var t="."+this.element.id,i=this;this.addHandler(this.host,"focus"+t,function(e){return i.host.addClass(i.toThemeProperty("jqx-fill-state-focus")),!1}),this.addHandler(this.host,"blur"+t,function(){i.host.removeClass(i.toThemeProperty("jqx-fill-state-focus"))}),this.addHandler(this._thumb,"mouseenter"+t,function(){i._thumb.addClass(i.toThemeProperty("jqx-fill-state-hover"))}),this.addHandler(this._thumb,"mouseleave"+t,function(){i._thumb.removeClass(i.toThemeProperty("jqx-fill-state-hover"))}),this.addHandler(this._wrapper,this._getEvent("click")+t,this._clickHandle,{self:this}),this.addHandler(this._thumb,this._getEvent("mousedown")+t,this._mouseDown,{self:this}),this.addHandler(e(document),this._getEvent("mouseup")+t,this._mouseUp,{self:this}),this.addHandler(e(document),this._getEvent("mousemove")+t,this._mouseMove,{self:this})},enable:function(){this.disabled=!1,this.element.disabled=!1,e.jqx.aria(this,"aria-disabled",this.disabled)},disable:function(){this.disabled=!0,this.element.disabled=!0,e.jqx.aria(this,"aria-disabled",this.disabled)},_clickHandle:function(e){var t=e.data.self;"click"!==t.toggleMode&&"default"!==t.toggleMode||t.disabled||t._isDistanceTraveled||t._dragged||(t._wrapper.stop(),t.toggle()),t._thumb.removeClass(t.toThemeProperty("jqx-fill-state-pressed"))},_mouseDown:function(e){var t=e.data.self,i=t._wrapper;t.metroMode&&(t.host.css("overflow","hidden"),t._onLabel.css("visibility","visible"),t._offLabel.css("visibility","visible")),t._mouseStartPosition=t._getMouseCoordinates(e),t._buttonStartPosition={left:parseInt(i.css("margin-left"),10)||0,top:parseInt(i.css("margin-top"),10)||0},t.disabled||"slide"!==t.toggleMode&&"default"!==t.toggleMode||(t._wrapper.stop(),t._isMouseDown=!0,t._isDistanceTraveled=!1,t._dragged=!1),t._thumb.addClass(t.toThemeProperty("jqx-fill-state-pressed"))},_mouseUp:function(e){var t=e.data.self;if(t.metroMode,t._isMouseDown=!1,t._thumb.removeClass(t.toThemeProperty("jqx-fill-state-pressed")),t._isDistanceTraveled){var i=t._wrapper,r=parseInt(i.css("margin-"+t._dir("pos")),10)||0,s=t._dropHandler(r);s?t._switchButton(!t.checked):t._switchButton(t.checked,null,!0),t._isDistanceTraveled=!1}},_mouseMove:function(e){var t=e.data.self,i=t._getMouseCoordinates(e);if(t._isMouseDown&&t._distanceTraveled(i)){var r=t._dir("pos"),s=t._wrapper,a=t._buttonStartPosition[r],n=a+i[r]-t._mouseStartPosition[r],n=t._validatePosition(n);return t._dragged=!0,s.css("margin-"+t._dir("pos"),n),t._onLabel.css("visibility","visible"),t._offLabel.css("visibility","visible"),!1}},_distanceTraveled:function(e){if(this._isDistanceTraveled)return!0;if(this._isMouseDown){var t=this._mouseStartPosition,i=this._distanceRequired;return this._isDistanceTraveled=Math.abs(e.left-t.left)>=i||Math.abs(e.top-t.top)>=i,this._isDistanceTraveled}return!1},_validatePosition:function(e){var t=this._borders[this._dir("opposite")],i=0,r=-(this.host[this._dir("size")]()-this._thumb[this._dir("oSize")]())-t;return e>i?i:r>e?r:e},_dropHandler:function(e){var t=0,i=-(this.host[this._dir("size")]()-this._thumb[this._dir("oSize")]()),r=Math.abs(i-t),s=Math.abs(e-this._buttonStartPosition[this._dir("pos")]),a=r*(this.switchRatio/100);return s>=a},_switchButton:function(e,t,i){this.metroMode?(this.host.css("overflow","hidden"),this._onLabel.css("visibility","visible"),this._offLabel.css("visibility","visible"),e?this._thumb.css("left","0px"):this._thumb.css("left","-2px")):(this._onLabel.css("visibility","visible"),this._offLabel.css("visibility","visible"));var r=this._wrapper,s=this,a={},n=this._borders[this._dir("opposite")],o=0;"undefined"==typeof t&&(t=this.animationEnabled?this.animationDuration:0),this.rtl?e?(o=this.host[this._dir("size")]()-this._thumb[this._dir("oSize")]()+n,this.metroMode&&(o+=5)):this.metroMode&&(o-=3):e||(o=this.host[this._dir("size")]()-this._thumb[this._dir("oSize")]()+n),a["margin-"+this._dir("pos")]=-o,e?s.host.addClass(s.toThemeProperty("jqx-switchbutton-on")):s.host.removeClass(s.toThemeProperty("jqx-switchbutton-on")),r.animate(a,t,function(){e?(s._onLabel.css("visibility","visible"),s._offLabel.css("visibility","hidden")):(s._onLabel.css("visibility","hidden"),s._offLabel.css("visibility","visible")),s.checked=e,i||s._handleEvent(!e)})},_handleEvent:function(e){e!==this.checked&&this._raiseEvent(2,{check:this.checked,checked:this.checked}),e?this._raiseEvent(0,{checked:this.checked}):this._raiseEvent(1,{checked:this.checked})},_disableSelection:function(){var t=this.host,i=t.find("*");e.each(i,function(t,i){i.onselectstart=function(){return!1},e(i).addClass("jqx-disableselect")})},_getMouseCoordinates:function(e){return this._isTouchDevice&&e.originalEvent.touches?{left:e.originalEvent.touches[0].pageX,top:e.originalEvent.touches[0].pageY}:{left:e.pageX,top:e.pageY}},destroy:function(){this._removeEventHandlers(),this.host.removeClass(this.toThemeProperty("jqx-switchbutton")),this._wrapper.remove()},_raiseEvent:function(t,i){var r=e.Event(this._events[t]);return r.args=i,this.host.trigger(r)},_themeChanger:function(t,i,r){if(t){"undefined"==typeof r&&(r=this.host);for(var s=r[0].className.split(" "),a=[],n=[],o=r.children(),l=0;l<s.length;l+=1)s[l].indexOf(t)>=0&&(a.push(s[l]),n.push(s[l].replace(t,i)));this._removeOldClasses(a,r),this._addNewClasses(n,r);for(var l=0;l<o.length;l+=1)this._themeChanger(t,i,e(o[l]))}},_removeOldClasses:function(e,t){for(var i=0;i<e.length;i+=1)t.removeClass(e[i])},_addNewClasses:function(e,t){for(var i=0;i<e.length;i+=1)t.addClass(e[i])},propertiesChangedHandler:function(e,t,i){i&&i.width&&i.height&&2==Object.keys(i).length&&(e._wrapper.css("margin-left","0px"),e._wrapper.css("margin-top","0px"),e._performLayout(),e._wrapper.css("left","0px"),e._wrapper.css("top","0px"),e._switchButton(this.checked,0,!0))},propertyChangedHandler:function(t,i,r,s){if(!(t.batchUpdate&&t.batchUpdate.width&&t.batchUpdate.height&&2==Object.keys(t.batchUpdate).length))switch(i){case"disabled":s?t.disable():t.enable();break;case"switchRatio":t.switchRatio=parseInt(t.switchRatio,10);break;case"checked":s?t.check():t.uncheck();break;case"onLabel":t.setOnLabel(s);break;case"offLabel":t.setOffLabel(s);break;case"theme":e.jqx.utilities.setTheme(r,s,t.host);break;case"width":case"height":case"thumbSize":case"orientation":t._wrapper.css("margin-left","0px"),t._wrapper.css("margin-top","0px"),t._performLayout(),t._wrapper.css("left","0px"),t._wrapper.css("top","0px"),t._switchButton(this.checked,0,!0)}}})}(jqxBaseFramework),function(e){e.jqx.jqxWidget("jqxRadioButton","",{}),e.extend(e.jqx._jqxRadioButton.prototype,{defineInstance:function(){var t={animationShowDelay:300,animationHideDelay:300,width:null,height:null,boxSize:"13px",checked:!1,hasThreeStates:!1,disabled:!1,enableContainerClick:!0,locked:!1,groupName:"",rtl:!1,changeType:null,aria:{"aria-checked":{name:"checked",type:"boolean"},"aria-disabled":{name:"disabled",type:"boolean"}},events:["checked","unchecked","indeterminate","change"]};return this===e.jqx._jqxRadioButton.prototype?t:(e.extend(!0,this,t),t)},createInstance:function(e){var t=this;t._createFromInput("RadioButton"),t.render()},_createFromInput:function(t){var i=this;if("input"==i.element.nodeName.toLowerCase()){i.field=i.element,i.field.className&&(i._className=i.field.className);var r={title:i.field.title};i.field.value&&(r.value=i.field.value),i.field.checked&&(r.checked=!0),i.field.id.length?r.id=i.field.id.replace(/[^\w]/g,"_")+"_"+t:r.id=e.jqx.utilities.createId()+"_"+t;var s=i.element.nextSibling,a=!1;!s||"#text"!=s.nodeName&&"span"!=s.nodeName||(a=!0);var n=0,o=e("<div></div>",r);if(a){o.append(s);var l=e("<span>"+e(s).text()+"</span>");l.appendTo(e(document.body)),n+=l.width(),l.remove()}o[0].style.cssText=i.field.style.cssText,i.width||(i.width=e(i.field).width()+n+10),i.height||(i.height=e(i.field).outerHeight()+10),e(i.field).hide().after(o);var h=i.host.data();if(i.host=o,i.host.data(h),i.element=o[0],i.element.id=i.field.id,i.field.id=r.id,i._className&&(i.host.addClass(i._className),e(i.field).removeClass(i._className)),i.field.tabIndex){var d=i.field.tabIndex;i.field.tabIndex=-1,i.element.tabIndex=d}}},render:function(){this.setSize();var t=this;this.propertyChangeMap.width=function(e,i,r,s){t.setSize()},this.propertyChangeMap.height=function(e,i,r,s){t.setSize()},this.radiobutton&&this.radiobutton.remove(),this.width||this.host.css("overflow-x","visible"),this.height||this.host.css("overflow-y","visible"),null==this.boxSize&&(this.boxSize=13);var i=parseInt(this.boxSize)+"px",r="13px",s=Math.floor((parseInt(this.boxSize)-13)/2),a=s;s+="px",a+="px";var n=parseInt(this.boxSize)/2+"px";"13px"!=this.boxSize?this.radiobutton=e('<div><div style="width: '+i+"; height: "+i+';"><span style="position: relative; left: '+s+"; top: "+a+"; width: "+r+"; height: "+r+';"></span></div></div>'):this.radiobutton=e('<div><div style="width: '+i+"; height: "+i+';"><span style="width: '+n+"; height: "+n+';"></span></div></div>'),this.host.attr("role","radio"),this.host.prepend(this.radiobutton),this.disabledContainer||(this.host.attr("tabIndex")||this.host.attr("tabIndex",0),this.clear=e('<div style="clear: both;"></div>'),this.host.append(this.clear)),this.checkMark=e(this.radiobutton[0].firstChild.firstChild),this.box=this.radiobutton,this._supportsRC=!0,e.jqx.browser.msie&&e.jqx.browser.version<9&&(this._supportsRC=!1),this.box.addClass(this.toThemeProperty("jqx-fill-state-normal")),this.box.addClass(this.toThemeProperty("jqx-radiobutton-default")),this.host.addClass(this.toThemeProperty("jqx-widget")),this.disabled&&this.disable(),this.host.addClass(this.toThemeProperty("jqx-radiobutton")),this.locked&&this.host.css("cursor","auto");var o=this.element.getAttribute("checked");"checked"!=o&&"true"!=o&&1!=o||(this.checked=!0),this._addInput(),this._render(),this._addHandlers(),e.jqx.aria(this),this._centerBox()},_centerBox:function(){if(this.height&&-1==this.height.toString().indexOf("%")&&this.box){var e=parseInt(this.height);this.host.css("line-height",e+"px");var t=e-parseInt(this.boxSize)-1;t/=2,this.box.css("margin-top",parseInt(t))}},_addInput:function(){var t=this.host.attr("name");this.input=e("<input type='hidden'/>"),this.host.append(this.input),t&&this.input.attr("name",t)},refresh:function(e){e||(this.setSize(),this._render())},resize:function(e,t){this.width=e,this.height=t,this.setSize()},setSize:function(){null!=this.width&&-1!=this.width.toString().indexOf("px")?this.host.width(this.width):void 0==this.width||isNaN(this.width)?null!=this.width&&-1!=this.width.toString().indexOf("%")&&(this.element.style.width=this.width):this.host.width(this.width),null!=this.height&&-1!=this.height.toString().indexOf("px")?this.host.height(this.height):void 0==this.height||isNaN(this.height)?null!=this.height&&-1!=this.height.toString().indexOf("%")&&(this.element.style.height=this.height):this.host.height(this.height),this._centerBox()},_addHandlers:function(){var e=this;this.addHandler(this.box,"click",function(t){return e.disabled||e.enableContainerClick?void 0:(e.changeType="mouse",e.toggle("click"),t.preventDefault(),!1)}),this.addHandler(this.host,"keydown",function(t){return e.disabled||e.locked||32!=t.keyCode?void 0:(e.changeType="keyboard",e.toggle("click"),t.preventDefault(),!1)}),this.addHandler(this.host,"click",function(t){return!e.disabled&&e.enableContainerClick?(e.changeType="mouse",e.toggle("click"),t.preventDefault(),!1):void 0}),this.addHandler(this.host,"selectstart",function(t){!e.disabled&&e.enableContainerClick&&t.preventDefault()}),this.addHandler(this.host,"mouseup",function(t){!e.disabled&&e.enableContainerClick&&t.preventDefault()}),this.addHandler(this.host,"focus",function(t){return e.disabled||!e.enableContainerClick||e.locked?void 0:(e.box.addClass(e.toThemeProperty("jqx-radiobutton-hover")),e.box.addClass(e.toThemeProperty("jqx-fill-state-focus")),t.preventDefault(),!1)}),this.addHandler(this.host,"blur",function(t){return e.disabled||!e.enableContainerClick||e.locked?void 0:(e.box.removeClass(e.toThemeProperty("jqx-radiobutton-hover")),e.box.removeClass(e.toThemeProperty("jqx-fill-state-focus")),t.preventDefault(),!1)}),this.addHandler(this.host,"mouseenter",function(t){return e.disabled||!e.enableContainerClick||e.locked?void 0:(e.box.addClass(e.toThemeProperty("jqx-radiobutton-hover")),e.box.addClass(e.toThemeProperty("jqx-fill-state-hover")),t.preventDefault(),!1)}),this.addHandler(this.host,"mouseleave",function(t){return e.disabled||!e.enableContainerClick||e.locked?void 0:(e.box.removeClass(e.toThemeProperty("jqx-radiobutton-hover")),e.box.removeClass(e.toThemeProperty("jqx-fill-state-hover")),t.preventDefault(),!1)}),this.addHandler(this.box,"mouseenter",function(){e.disabled||e.enableContainerClick||(e.box.addClass(e.toThemeProperty("jqx-radiobutton-hover")),e.box.addClass(e.toThemeProperty("jqx-fill-state-hover")))}),this.addHandler(this.box,"mouseleave",function(){e.disabled||e.enableContainerClick||(e.box.removeClass(e.toThemeProperty("jqx-radiobutton-hover")),e.box.removeClass(e.toThemeProperty("jqx-fill-state-hover")))})},focus:function(){try{this.host.focus()}catch(e){}},_removeHandlers:function(){this.removeHandler(this.box,"click"),
this.removeHandler(this.box,"mouseenter"),this.removeHandler(this.box,"mouseleave"),this.removeHandler(this.host,"click"),this.removeHandler(this.host,"mouseup"),this.removeHandler(this.host,"mousedown"),this.removeHandler(this.host,"selectstart"),this.removeHandler(this.host,"mouseenter"),this.removeHandler(this.host,"mouseleave"),this.removeHandler(this.host,"keydown"),this.removeHandler(this.host,"focus"),this.removeHandler(this.host,"blur")},_render:function(){null==this.boxSize&&(this.boxSize=13),this.box.width(this.boxSize),this.box.height(this.boxSize),this.disabled?this.disable():this.enableContainerClick?this.host.css("cursor","pointer"):this.host.css("cursor","auto"),this.rtl&&(this.box.addClass(this.toThemeProperty("jqx-radiobutton-rtl")),this.host.addClass(this.toThemeProperty("jqx-rtl"))),this.updateStates()},val:function(e){return 0==arguments.length||"object"==typeof e?this.checked:("string"==typeof e?("true"==e&&this.check("api"),"false"==e&&this.uncheck("api"),""==e&&this.indeterminate("api")):(1==e&&this.check("api"),0==e&&this.uncheck("api"),null==e&&this.indeterminate("api")),this.checked)},check:function(t){this.checked=!0;var i=this;this.checkMark.removeClass(),this.checkMark.addClass(this.toThemeProperty("jqx-fill-state-pressed")),e.jqx.browser.msie?this.disabled?(this.checkMark.addClass(this.toThemeProperty("jqx-radiobutton-check-disabled")),this.checkMark.addClass(this.toThemeProperty("jqx-radiobutton-check-checked"))):this.checkMark.addClass(this.toThemeProperty("jqx-radiobutton-check-checked")):(this.disabled?(this.checkMark.addClass(this.toThemeProperty("jqx-radiobutton-check-disabled")),this.checkMark.addClass(this.toThemeProperty("jqx-radiobutton-check-checked"))):this.checkMark.addClass(this.toThemeProperty("jqx-radiobutton-check-checked")),this.checkMark.css("opacity",0),this.checkMark.stop().animate({opacity:1},this.animationShowDelay,function(){}));var r=e.find(".jqx-radiobutton");if(null==this.groupName&&(this.groupName=""),e.each(r,function(){var t=e(this).jqxRadioButton("groupName");t==i.groupName&&this!=i.element&&e(this).jqxRadioButton("uncheck","api")}),this._raiseEvent("0"),this._raiseEvent("3",{type:t,checked:!0}),0==this.checkMark.height()){var s=parseInt(this.boxSize)/2;this.checkMark.height(s),this.checkMark.width(s)}else if("13px"!=this.boxSize){var s=parseInt(this.boxSize)/2;this.checkMark.height(s),this.checkMark.width(s),this.checkMark.css("margin-left",1+s/4),this.checkMark.css("margin-top",1+s/4)}this.input.val(this.checked),e.jqx.aria(this,"aria-checked",this.checked)},uncheck:function(t){var i=this.checked;this.checked=!1;var r=this;e.jqx.browser.msie?r.checkMark.removeClass():(this.checkMark.css("opacity",1),this.checkMark.stop().animate({opacity:0},this.animationHideDelay,function(){r.checkMark.removeClass()})),i&&(this._raiseEvent("1"),this._raiseEvent("3",{type:t,checked:!1})),this.input.val(this.checked),e.jqx.aria(this,"aria-checked",this.checked)},indeterminate:function(t){var i=this.checked;this.checked=null,this.checkMark.removeClass(),e.jqx.browser.msie?this.checkMark.addClass(this.toThemeProperty("jqx-radiobutton-check-indeterminate")):(this.checkMark.addClass(this.toThemeProperty("jqx-radiobutton-check-indeterminate")),this.checkMark.css("opacity",0),this.checkMark.stop().animate({opacity:1},this.animationShowDelay,function(){})),null!=i&&(this._raiseEvent("2"),this._raiseEvent("3",{type:t,checked:null})),this.input.val(this.checked),e.jqx.aria(this,"aria-checked","undefined")},toggle:function(e){if(!this.disabled&&!this.locked){var t=this.checked;1==this.checked?this.checked=this.hasTreeStates?null:!0:this.checked=!0,t!=this.checked&&this.updateStates(e),this.input.val(this.checked)}},updateStates:function(e){this.checked?this.check(e):0==this.checked?this.uncheck(e):null==this.checked&&this.indeterminate(e)},disable:function(){this.disabled=!0,1==this.checked?this.checkMark.addClass(this.toThemeProperty("jqx-radiobutton-check-disabled")):null==this.checked&&this.checkMark.addClass(this.toThemeProperty("jqx-radiobutton-check-indeterminate-disabled")),this.box.addClass(this.toThemeProperty("jqx-radiobutton-disabled")),this.host.addClass(this.toThemeProperty("jqx-fill-state-disabled")),e.jqx.aria(this,"aria-disabled",this.disabled)},enable:function(){this.host.removeClass(this.toThemeProperty("jqx-fill-state-disabled")),1==this.checked?this.checkMark.removeClass(this.toThemeProperty("jqx-radiobutton-check-disabled")):null==this.checked&&this.checkMark.removeClass(this.toThemeProperty("jqx-radiobutton-check-indeterminate-disabled")),this.box.removeClass(this.toThemeProperty("jqx-radiobutton-disabled")),this.disabled=!1,e.jqx.aria(this,"aria-disabled",this.disabled)},destroy:function(){this._removeHandlers(),this.host.remove()},_raiseEvent:function(t,i){var r=this.events[t],s=new e.Event(r);s.owner=this,i||(i={}),i.type=this.changeType,this.changeType=null,s.args=i;try{var a=this.host.trigger(s)}catch(n){}return a},propertiesChangedHandler:function(e,t,i){i.width&&i.height&&2==Object.keys(i).length&&e.setSize()},propertyChangedHandler:function(t,i,r,s){if(void 0!=this.isInitialized&&0!=this.isInitialized&&!(t.batchUpdate&&t.batchUpdate.width&&t.batchUpdate.height&&2==Object.keys(t.batchUpdate).length)){if(i!=this.enableContainerClick||this.disabled||this.locked||(s?this.host.css("cursor","pointer"):this.host.css("cursor","auto")),"rtl"==i&&(s?(t.box.addClass(t.toThemeProperty("jqx-radiobutton-rtl")),t.host.addClass(t.toThemeProperty("jqx-rtl"))):(t.box.removeClass(t.toThemeProperty("jqx-radiobutton-rtl")),t.host.removeClass(t.toThemeProperty("jqx-rtl")))),"boxSize"==i&&t.render(),"checked"==i)switch(s){case!0:this.check("api");break;case!1:this.uncheck("api");break;case null:this.indeterminate()}"theme"==i&&e.jqx.utilities.setTheme(r,s,this.host),"disabled"==i&&(s?this.disable():this.enable())}}})}(jqxBaseFramework),function(e){"use strict";e.jqx.jqxWidget("jqxRibbon","",{}),e.extend(e.jqx._jqxRibbon.prototype,{defineInstance:function(){var t={width:null,height:"auto",mode:"default",position:"top",selectedIndex:-1,selectionMode:"click",popupCloseMode:"click",animationType:"fade",animationDelay:400,scrollPosition:"both",disabled:!1,rtl:!1,scrollStep:10,scrollDelay:30,reorder:!1,initContent:null,_roundedCorners:!0,_removeByDrag:!1,_suppressReorder:!0,events:["select","unselect","change","_removeByDrag","reorder"]};return this===e.jqx._jqxRibbon.prototype?t:(e.extend(!0,this,t),t)},createInstance:function(){var t=this;"none"!==t.host.css("display")&&document.body.contains(t.element)!==!1||(t._initiallyHidden=!0),t._browser=e.jqx.browser,"popup"!==t.mode&&-1===t.selectedIndex&&(t.selectedIndex=0),t._originalHTML=t.element.innerHTML,t._render(!0)},render:function(){this._render()},refresh:function(e){e!==!0&&this._render()},destroy:function(){var e=this;e._removeHandlers(),e.host.remove()},selectAt:function(e){this._selectAt(e)},clearSelection:function(){-1!==this.selectedIndex&&this._clearSelection()},disableAt:function(t){var i=this;i._items[t]._disabled=!0,e(i._items[t]).addClass(i.toThemeProperty("jqx-fill-state-disabled")),t===i.selectedIndex&&i._clearSelection()},enableAt:function(t){var i=this;i._items[t]._disabled=!1,e(i._items[t]).removeClass(i.toThemeProperty("jqx-fill-state-disabled"))},hideAt:function(e){var t=this;t._items[e].style.display="none",t._checkScrollButtons(),e===t.selectedIndex?t._clearSelection():t._updatePositions()},showAt:function(e){var t=this;"horizontal"===t._orientation?t._items[e].style.display="inline-block":t._items[e].style.display="inherit",t._checkScrollButtons(),t._updatePositions()},val:function(e){var t=this;return e?void t._selectAt(e):t.selectedIndex},addAt:function(t,i){var r=this,s="jqx-ribbon-item jqx-ribbon-item-"+r.position,a="jqx-widget-content jqx-ribbon-content-section jqx-ribbon-content-section-"+r.position;r._removeHandlers();var n=document.createElement("li");n.innerHTML=i.title;var o=document.createElement("div");if("string"==typeof i.content)o.innerHTML=i.content;else if(void 0!==i.content.length)try{if(void 0!==jQuery&&i.content instanceof jQuery)e(o).append(i.content);else if(e.isArray(i.content))for(var l=0;l<i.content.length;l++)i.content[l].appendTo(o);else for(;i.content.length>0;)o.appendChild(i.content[0])}catch(h){}else o.appendChild(i.content);switch(r.position){case"top":s+=" jqx-rc-t",a+=" jqx-rc-b";break;case"bottom":s+=" jqx-rc-b",a+=" jqx-rc-t";break;case"left":s+=" jqx-rc-l",a+=" jqx-rc-r";break;case"right":s+=" jqx-rc-r",a+=" jqx-rc-l"}"popup"===r.mode&&(a+=" jqx-ribbon-content-section-popup jqx-ribbon-content-section-"+r._orientation+"-popup"),r.rtl===!0&&(s+=" jqx-ribbon-item-rtl"),n.className=r.toThemeProperty(s),o.className=r.toThemeProperty(a),r._items.length-1>=t?(r._headerElement.insertBefore(n,r._items[t]),r._contentElement.insertBefore(o,r._contentSections[t])):(r._headerElement.appendChild(n),r._contentElement.appendChild(o)),r._updateItems(),r._addHandlers(),r._checkScrollButtons(),t<=r.selectedIndex&&r.selectedIndex<r._items.length-1&&r.selectedIndex++,r._updatePositions(),r.selectedIndex<0||(r._suppressSelectionEvents=!0,r._selectAt(r.selectedIndex,r.selectedIndex,!0))},removeAt:function(t){var i=this;t===i.selectedIndex&&i._clearSelection(),e(i._items[t]).remove(),e(i._contentSections[t]).remove(),i._updateItems(!0),i._updatePositions(),i._checkScrollButtons()},updateAt:function(e,t){var i=this,r=i._items[e];r.innerHTML=t.newTitle,i._contentSections[e].innerHTML=t.newContent,r._isInitialized=!1,i.initContent&&e===i.selectedIndex&&(i.initContent(e),r._isInitialized=!0),i._updatePositions()},setPopupLayout:function(e,t,i,r){var s=this,a=s._contentSections[e];"popup"===s.mode&&(a.getAttribute("data-width")||(a.style.width&&a.setAttribute("data-width",a.style.width),a.style.height&&a.setAttribute("data-height",a.style.height)),i&&(a.style.width=s._toPx(i)),r&&(a.style.height=s._toPx(r)),a._layout=t,s._positionContent(e))},propertiesChangedHandler:function(e,t,i){i&&i.width&&i.height&&2===Object.keys(i).length&&(e.element.style.width=e._toPx(e.width),e.element.style.height=e._toPx(e.height),e._updateSize())},propertyChangedHandler:function(t,i,r,s){if(!(t.batchUpdate&&t.batchUpdate.width&&t.batchUpdate.height&&2===Object.keys(t.batchUpdate).length)&&s!==r)switch(i){case"width":case"height":t.element.style[i]=t._toPx(s),t._updateSize();break;case"position":t._render();break;case"mode":t._contentElement.style.width="auto",t._removeHandlers(null,r),t._render();break;case"selectedIndex":t._selectAt(s,r);break;case"selectionMode":t._removeHandlers(r),t._addHandlers();break;case"scrollPosition":var a=t._scrollButtonNear,n=t._scrollButtonFar;e(a).removeClass(t.toThemeProperty("jqx-ribbon-scrollbutton-"+r+" jqx-rc-tr jqx-rc-bl jqx-rc-tl")),e(n).removeClass(t.toThemeProperty("jqx-ribbon-scrollbutton-"+r+" jqx-rc-tr jqx-rc-bl jqx-rc-br")),a.className+=" "+t.toThemeProperty("jqx-ribbon-scrollbutton-"+s),n.className+=" "+t.toThemeProperty("jqx-ribbon-scrollbutton-"+s),t._scrollButtonRc(a,n),t._checkScrollButtons(),t._updatePositions();break;case"disabled":s===!0?(t._removeHandlers(),t.element.className+=" "+t.toThemeProperty("jqx-fill-state-disabled")):(t.host.removeClass(t.toThemeProperty("jqx-fill-state-disabled")),t._addHandlers());break;case"theme":e.jqx.utilities.setTheme(r,s,t.host);break;case"rtl":if(s===!0){t._headerElement.className+=" "+t.toThemeProperty("jqx-ribbon-header-rtl");for(var o=0;o<t._items.length;o++)t._items[o].className+=" "+t.toThemeProperty("jqx-ribbon-item-rtl")}else{t._header.removeClass(t.toThemeProperty("jqx-ribbon-header-rtl"));for(var l=0;l<t._items.length;l++)e(t._items[l]).removeClass(t.toThemeProperty("jqx-ribbon-item-rtl"))}t._positionSelectionToken(t.selectedIndex)}},_raiseEvent:function(t,i){var r=this.events[t],s=new e.Event(r);s.owner=this,s.args=i;var a;try{a=this.host.trigger(s)}catch(n){}return a},_render:function(t){var i=this;switch(t!==!0&&i._removeHandlers(),i._selectionTokenOffsetY=0,i._browser.browser){case"mozilla":i._browserWidthRtlFlag=0,i._browserScrollRtlFlag=1,i._selectionTokenOffsetX=1;break;case"msie":i._browserWidthRtlFlag=0,i._browserScrollRtlFlag=-1,"8.0"===i._browser.version?i._selectionTokenOffsetX=1:"7.0"===i._browser.version?(i._selectionTokenOffsetX=0,"popup"!==i.mode||"bottom"!==i.position&&"right"!==i.position||(i._selectionTokenOffsetY=2)):i._selectionTokenOffsetX=0;break;default:i._browserWidthRtlFlag=1,i._browserScrollRtlFlag=1,i._selectionTokenOffsetX=0}if(t===!0){var r=i.host.children();i._headerElement=r[0],i._header=e(r[0]),i._contentElement=r[1],i._content=e(r[1]),i._checkStructure(r)}i._headerElement.style["float"]="none",i._contentElement.style.padding="0px",i.element.style.width=i._toPx(i.width),i.element.style.height=i._toPx(i.height),"bottom"!==i.position&&"right"!==i.position||i.element.insertBefore(i._contentElement,i._headerElement),"top"===i.position||"bottom"===i.position?i._orientation="horizontal":i._orientation="vertical","right"===i.position?i._headerElement.style["float"]="right":"left"===i.position&&(i._headerElement.style["float"]="left"),i._contentSections=i._content.children(),e.each(i._contentSections,function(){this.getAttribute("data-width")&&(this.style.width=this.getAttribute("data-width"),this.style.height=this.getAttribute("data-height"),this.removeAttribute("data-width"),this.removeAttribute("data-height"))}),t===!0&&(i._selectionToken=document.createElement("div"),i._selectionToken.className=i.toThemeProperty("jqx-widget-content jqx-ribbon-selection-token jqx-ribbon-selection-token-"+i.position),i.element.appendChild(i._selectionToken)),i._updateItems(),i._initiallyHidden!==!0&&i._addClasses(),t===!0&&(i._appendScrollButtons(),i._checkScrollButtons()),i._allowSelection=!0,-1!==i.selectedIndex&&(i._items[i.selectedIndex].className+=" "+i.toThemeProperty("jqx-widget-content jqx-ribbon-item-selected"),i._positionSelectionToken(i.selectedIndex),i._contentSections[i.selectedIndex].style.display="block",i.initContent&&(i.initContent(i.selectedIndex),i._items[i.selectedIndex]._isInitialized=!0)),i.disabled?i.element.className+=" "+i.toThemeProperty("jqx-fill-state-disabled"):i._addHandlers(),e.jqx.utilities.resize(i.host,function(){i._initiallyHidden&&(i._initiallyHidden=!1,i._addClasses(),-1!==i.selectedIndex&&(i._items[i.selectedIndex].className+=" "+i.toThemeProperty("jqx-widget-content jqx-ribbon-item-selected"))),i._updateSize(!0)})},_updateSize:function(e){var t=this;if("7.0"===t._browser.version&&"msie"===t._browser.browser)if("horizontal"===t._orientation)t._header.css("width",t.host.width()-parseInt(t._header.css("padding-left"),10)-parseInt(t._header.css("padding-right"),10)-parseInt(t._header.css("border-left-width"),10)-parseInt(t._header.css("border-right-width"),10)),t._contentSections.width(t._content.width()-parseInt(t._contentSections.css("border-left-width"),10)-parseInt(t._contentSections.css("border-right-width"),10)-parseInt(t._contentSections.css("padding-left"),10)-parseInt(t._contentSections.css("padding-right"),10)),"default"===t.mode&&"string"==typeof t.height&&-1!==t.height.indexOf("%")&&t._contentSections.height(t._content.height()-t._header.height()-parseInt(t._contentSections.css("border-bottom-width"),10)-parseInt(t._contentSections.css("border-top-width"),10)-1);else if(t._header.css("height",t.host.height()-parseInt(t._header.css("padding-top"),10)-parseInt(t._header.css("padding-bottom"),10)-parseInt(t._header.css("border-top-width"),10)-parseInt(t._header.css("border-bottom-width"),10)),t._contentSections.height(t._content.height()-parseInt(t._contentSections.css("border-top-width"),10)-parseInt(t._contentSections.css("border-bottom-width"),10)-parseInt(t._contentSections.css("padding-top"),10)-parseInt(t._contentSections.css("padding-bottom"),10)),"default"===t.mode&&"string"==typeof t.width&&-1!==t.height.indexOf("%")){var i="left"===t.position?parseInt(t._contentSections.css("border-left-width"),10)+parseInt(t._contentSections.css("border-right-width"),10)+1:0;t._contentSections.width(t._content.width()-t._header.width()-i)}t._checkScrollButtons(!0),t._updatePositions(void 0,e),"popup"===t.mode&&t._positionPopup()},_stopAnimation:function(){var t=this;if(!t._allowSelection){t.selectedIndex=t._animatingIndex;var i=e(t._contentSections[t._animatingIndex]);t._initAnimate(i),i.animate("finish"),t._clearSelection(!0,t._animatingIndex),t._allowSelection=!0}},_selectAt:function(t,i,r){var s=this;if(void 0===i&&(i=s.selectedIndex),(t!==i||r===!0)&&(s._stopAnimation(),s._allowSelection)){if(s._animatingIndex=t,-1!==s.selectedIndex&&s._clearSelection(!0,i),s._allowSelection=!1,s._selecting=t,"click"===s.selectionMode&&e(s._items[t]).removeClass(s.toThemeProperty("jqx-fill-state-hover jqx-ribbon-item-hover")),"popup"===s.mode&&s._roundedCorners){s._header.removeClass(s.toThemeProperty("jqx-rc-all"));var a,n;switch(s.position){case"top":a="jqx-rc-t",n="jqx-rc-b";break;case"bottom":a="jqx-rc-b",n="jqx-rc-t";break;case"left":a="jqx-rc-l",n="jqx-rc-r";break;case"right":a="jqx-rc-r",n="jqx-rc-l"}s._headerElement.className+=" "+s.toThemeProperty(a);for(var o=0;o<s._items.length;o++)s._items[o].className+=" "+s.toThemeProperty(a),s._contentSections[o].className+=" "+s.toThemeProperty(n)}s._items[t].className+=" "+s.toThemeProperty("jqx-widget-content jqx-ribbon-item-selected"),s._selectionToken.style.display="block",s._updatePositions(t);var l;switch(s.animationType){case"fade":l=e(s._contentSections[t]),s._initAnimate(l),"none"===l.css("display")?l.fadeIn({duration:s.animationDelay,complete:function(){s._animationComplete(t,i)}}):l.fadeOut({duration:s.animationDelay,complete:function(){s._animationComplete(t,i)}});break;case"slide":l=e(s._contentSections[t]);var h=s.position;"top"===h?h="up":"bottom"===h&&(h="down"),s.slideAnimation=s._slide(l,{mode:"show",direction:h,duration:s.animationDelay},t,i);break;case"none":s._contentSections[t].style.display="block",s._animationComplete(t,i)}}},_clearSelection:function(t,i){var r=this;if("popup"===r.mode&&r._roundedCorners&&(r._headerElement.className+=" "+r.toThemeProperty("jqx-rc-all")),r._selecting=-1,void 0===i&&(i=r.selectedIndex),e(r._items[i]).removeClass(r.toThemeProperty("jqx-widget-content jqx-ribbon-item-selected")),r._selectionToken.style.display="none",t!==!0&&"none"!==r.animationType){var s=e(r._contentSections[i]);if("fade"===r.animationType)r._initAnimate(s),s.fadeOut({duration:r.animationDelay,complete:function(){r._clearSelectionComplete(i)}});else if("slide"===r.animationType){var a=r.position;"top"===a?a="up":"bottom"===a&&(a="down"),r._stopAnimation(),i=r.selectedIndex,r.slideAnimation=r._slide(s,{mode:"hide",direction:a,duration:r.animationDelay},i),r.selectedIndex=-1}}else{if(-1===i)return;r._contentSections[i].style.display="none",r._clearSelectionComplete(i,t)}},_addHandlers:function(){function t(e){var t=d._closest(e.target,"li"),i=t._index;d._items[i]._disabled||(i!==d.selectedIndex?d._selectAt(i):"popup"===d.mode&&"none"!==d.popupCloseMode&&(t.className+=" "+d.toThemeProperty("jqx-fill-state-hover jqx-ribbon-item-hover"),d._clearSelection()))}function i(t){if(d.reorder===!0&&u===!0){for(var i=d._closest(t.target,"li")._index,r=d._items[h].innerHTML,s=d._contentSections[h].childNodes,a=[];s.length>0;)a.push(e(s[0]).detach());d._suppressSelectionEvents=!0,d._oldReorderIndex=h,d.removeAt(h),d.clearSelection(),d.addAt(i,{title:r,content:a}),d.selectAt(i),setTimeout(function(){e(d._items[i]).trigger("mousedown")},0)}else{var n=d._closest(t.target,"li");f(n._index)&&(n.className+=" "+d.toThemeProperty("jqx-fill-state-hover jqx-ribbon-item-hover"))}}function r(t){var i=d._closest(t.target,"li");f(i._index)&&e(i).removeClass(d.toThemeProperty("jqx-fill-state-hover jqx-ribbon-item-hover"))}function s(e){if("#document"!==e.target.nodeName){var t=d._closest(e.target,"li");d.reorder!==!0&&d._removeByDrag!==!0||t._index!==d.selectedIndex||(u=!0,h=t._index,t.style.cursor="move")}}function a(){"mouseLeave"===d.popupCloseMode&&"popup"===d.mode&&d._clearSelection()}function n(e){var t=d._closest(e.target,"li")._index;d._items[t]._disabled||t===d.selectedIndex||d._selectAt(t)}function o(e){var t=d._closest(e.target,"li")._index;d._items[t]._disabled||"popup"===d.mode&&"none"!==d.popupCloseMode&&d._clearSelection()}function l(){"mouseLeave"===d.popupCloseMode&&"popup"===d.mode&&d._clearSelection()}var h,d=this,c=d.element.id,u=!1,p=function(t){if("click"===d.popupCloseMode&&"popup"===d.mode&&-1!==d.selectedIndex){if("svg"===t.target.tagName)return;var i=d._closest(t.target,void 0,"jqx-ribbon");if(void 0!==i&&i.getAttribute("id")!==c)return void d._clearSelection();if(void 0===t.target.className||-1!==t.target.className.indexOf("jqx-ribbon-content-popup"))return void d._clearSelection();if(e(t.target).ischildof(d.host))return;var r=!1,s=[],a=function(e){e.parentElement&&(s.push(e.parentElement),a(e.parentElement))};a(t.target),e.each(s,function(){if(void 0!==this.className&&this.className.indexOf){if(-1!==this.className.indexOf("jqx-ribbon"))return r=!0,!1;if(-1!==this.className.indexOf("jqx-ribbon"))return c===this.id&&(r=!0),!1}}),r||d._clearSelection()}};if("click"===d.selectionMode){for(var f=function(e){return(d._selecting!==e&&d._allowSelection===!1||(-1===d._selecting||d.selectedIndex!==e)&&d._allowSelection===!0)&&!d._items[e]._disabled},m=0;m<d._items.length;m++){var g=d._items[m];d.addHandler(g,"click.ribbon"+c,t),d.addHandler(g,"mouseenter.ribbon"+c,i),d.addHandler(g,"mouseleave.ribbon"+c,r),d.addHandler(g,"mousedown.ribbon"+c,s)}if("popup"===d.mode){d.addHandler(d.host,"mouseleave.ribbon"+c,function(){"mouseLeave"===d.popupCloseMode&&"popup"===d.mode&&d._clearSelection()});for(var v=0;v<d._contentSections.length;v++)d.addHandler(d._contentSections[v],"mouseleave.ribbon"+c,a);d.addHandler(e(document),"mousedown.ribbon"+c,function(e){p(e)})}if(d._removeByDrag===!0)for(var x=0;x<d._items.length;x++)d._items[x].className+=" "+d.toThemeProperty("jqx-ribbon-item-docking-layout");d.addHandler(document,"mouseup.ribbon"+c,function(){u=!1;for(var e=0;e<d._items.length;e++)d._items[e].style.cursor=""}),d.addHandler(d._header,"mouseleave.ribbon"+c,function(e){d._removeByDrag===!0&&u===!0&&(d._raiseEvent("3",{draggedIndex:h,x:e.pageX,y:e.pageY}),d._items.length>1&&d.removeAt(h),u=!1,e.target.style.cursor="")})}else if("hover"===d.selectionMode){for(var b=0;b<d._items.length;b++){var w=d._items[b];d.addHandler(w,"mouseenter.ribbon"+c,n),"popup"===d.mode&&d.addHandler(w,"click.ribbon"+c,o)}if("popup"===d.mode){d.addHandler(d.host,"mouseleave.ribbon"+c,function(){"mouseLeave"===d.popupCloseMode&&"popup"===d.mode&&d._clearSelection()});for(var y=0;y<d._contentSections.length;y++)d.addHandler(d._contentSections,"mouseleave.ribbon"+c,l);d.addHandler(e(document),"mousedown.ribbon"+c,function(e){p(e)})}}var _,j,q=e.jqx.mobile.isTouchDevice();q?(_="touchstart",j="touchend"):(_="mousedown",j="mouseup"),d.addHandler(d._scrollButtonNear,_+".ribbon"+c,function(){return"horizontal"===d._orientation?d._timeoutNear=setInterval(function(){var e=d._headerElement.scrollLeft,t=d.rtl&&"msie"===d._browser.browser?-1:1;d._headerElement.scrollLeft=e-d.scrollStep*t,d._updatePositions()},d.scrollDelay):d._timeoutNear=setInterval(function(){var e=d._headerElement.scrollTop;d._headerElement.scrollTop=e-d.scrollStep,d._updatePositions()},d.scrollDelay),!1}),d.addHandler(d._scrollButtonFar,_+".ribbon"+c,function(){return"horizontal"===d._orientation?d._timeoutFar=setInterval(function(){var e=d._headerElement.scrollLeft,t=d.rtl&&"msie"===d._browser.browser?-1:1;d._headerElement.scrollLeft=e+d.scrollStep*t,d._updatePositions()},d.scrollDelay):d._timeoutFar=setInterval(function(){var e=d._headerElement.scrollTop;d._headerElement.scrollTop=e+d.scrollStep,d._updatePositions()},d.scrollDelay),!1}),d.addHandler(e(document),j+".ribbon"+c,function(){clearInterval(d._timeoutNear),clearInterval(d._timeoutFar)})},_removeHandlers:function(t,i){var r=this,s=r.element.id;t||(t=r.selectionMode),i||(i=r.mode);for(var a=0;a<r._items.length;a++){var n=r._items[a];r.removeHandler(n,"mouseenter.ribbon"+s),"click"===t&&(r.removeHandler(n,"click.ribbon"+s),r.removeHandler(n,"mouseleave.ribbon"+s),r.removeHandler(n,"mousedown.ribbon"+s))}"click"===t?(r.removeHandler(document,"mouseup.ribbon"+s),r.removeHandler(r._header,"mouseleave.ribbon"+s)):"hover"===t&&"popup"===i&&r.removeHandler(r.host,"mouseleave.ribbon"+s);var o,l,h=e.jqx.mobile.isTouchDevice();h?(o="touchstart",l="touchend"):(o="mousedown",l="mouseup"),r.removeHandler(r._scrollButtonNear,o+".ribbon"+s),r.removeHandler(r._scrollButtonFar,o+".ribbon"+s),r.removeHandler(e(document),l+".ribbon"+s)},_checkStructure:function(e){var t=this,i=e.length;if(2!==i)throw new Error("jqxRibbon: Invalid HTML structure. You need to add a ul and a div to the widget container.");var r=t._header.children().length,s=t._content.children().length;if(r!==s)throw new Error("jqxRibbon: Invalid HTML structure. For each list item you must have a corresponding div element.")},_addClasses:function(){var t=this,i="jqx-widget-content jqx-ribbon-content-section jqx-ribbon-content-section-"+t.position,r="jqx-widget-content jqx-ribbon-content jqx-ribbon-content-"+t._orientation,s="jqx-widget-header jqx-disableselect jqx-ribbon-header jqx-ribbon-header-"+t._orientation,a="jqx-ribbon-item jqx-ribbon-item-"+t.position,n="jqx-widget jqx-ribbon";if(t._content.removeClass(),t._header.removeClass(t.toThemeProperty("jqx-rc-all jqx-widget-header jqx-disableselect jqx-rc-t jqx-rc-b jqx-rc-l jqx-rc-r jqx-rc-all jqx-ribbon-header-"+t._orientation+"-popup jqx-ribbon-header-bottom jqx-ribbon-header-auto jqx-ribbon-header-right jqx-ribbon-header-rtl")),t.host.removeClass(),t._roundedCorners)switch(t.position){case"top":s+=" jqx-rc-t",a+=" jqx-rc-t",i+=" jqx-rc-b";break;case"bottom":s+=" jqx-rc-b",a+=" jqx-rc-b",i+=" jqx-rc-t";break;case"left":s+=" jqx-rc-l",a+=" jqx-rc-l",i+=" jqx-rc-r";break;case"right":s+=" jqx-rc-r",a+=" jqx-rc-r",i+=" jqx-rc-l"}else switch(t.position){case"top":a+=" jqx-rc-t";break;case"bottom":a+=" jqx-rc-b";break;case"left":a+=" jqx-rc-l";break;case"right":a+=" jqx-rc-r"}t.rtl===!0&&(s+=" jqx-ribbon-header-rtl",a+=" jqx-ribbon-item-rtl"),t.element.className+=" "+t.toThemeProperty(n),t._headerElement.className+=" "+t.toThemeProperty(s),t._contentElement.className+=" "+t.toThemeProperty(r);for(var o=0;o<t._items.length;o++){var l=e(t._contentSections[o]),h=e(t._items[o]);l.removeClass(),h.removeClass(t.toThemeProperty("jqx-fill-state-disabled jqx-ribbon-item-rtl jqx-widget-content jqx-ribbon-item-selected jqx-rc-t jqx-rc-b jqx-rc-l jqx-rc-r jqx-ribbon-item-docking-layout jqx-ribbon-item jqx-ribbon-item-"+t.position)),"popup"===t.mode&&(i+=" jqx-ribbon-content-section-popup jqx-ribbon-content-popup-"+t.position+" jqx-ribbon-content-section-"+t._orientation+"-popup"),t._contentSections[o].className+=" "+t.toThemeProperty(i),t._items[o].className+=" "+t.toThemeProperty(a)}var d,c;if("popup"===t.mode?(-1===t.selectedIndex&&t._roundedCorners&&(t.element.className+=" "+t.toThemeProperty("jqx-rc-all"),t._headerElement.className+=" "+t.toThemeProperty("jqx-rc-all")),t.element.className+=" "+t.toThemeProperty("jqx-ribbon-popup"),t._headerElement.className+=" "+t.toThemeProperty("jqx-ribbon-header-"+t._orientation+"-popup"),t._contentElement.className+=" "+t.toThemeProperty("jqx-ribbon-content-popup"),t._positionPopup()):"horizontal"===t._orientation?"auto"!==t.height?(c=t._headerElement.offsetHeight,"top"===t.position?t._contentElement.style.paddingTop=t._toPx(c):t._headerElement.className+=" "+t.toThemeProperty("jqx-ribbon-header-bottom")):t._headerElement.className+=" "+t.toThemeProperty("jqx-ribbon-header-auto"):"vertical"===t._orientation&&("auto"!==t.width?(d=t._headerElement.offsetWidth,"left"===t.position?t._contentElement.style.paddingLeft=t._toPx(d):(t._headerElement.className+=" "+t.toThemeProperty("jqx-ribbon-header-right"),t._contentElement.style.paddingRight=t._toPx(d))):(t.element.className+=" "+t.toThemeProperty("jqx-ribbon-auto"),t._headerElement.className+=" "+t.toThemeProperty("jqx-ribbon-header-auto"),t._contentElement.className+=" "+t.toThemeProperty("jqx-ribbon-content-auto-width"))),"7.0"===t._browser.version&&"msie"===t._browser.browser)if("horizontal"===t._orientation)t._header.css("width",t.host.width()-parseInt(t._header.css("padding-left"),10)-parseInt(t._header.css("padding-right"),10)-parseInt(t._header.css("border-left-width"),10)-parseInt(t._header.css("border-right-width"),10)),t._items.height(t._items.height()-parseInt(t._items.css("padding-top"),10)-parseInt(t._items.css("padding-bottom"),10)-parseInt(t._items.css("border-top-width"),10)-parseInt(t._items.css("border-bottom-width"),10)),t._contentSections.width(t._contentSections.width()-parseInt(t._contentSections.css("border-left-width"),10)-parseInt(t._contentSections.css("border-right-width"),10)-parseInt(t._contentSections.css("padding-left"),10)-parseInt(t._contentSections.css("padding-right"),10)),"default"===t.mode&&"auto"!==t.height&&("top"===t.position?t._contentSections.css("padding-top",c):t._contentSections.css("padding-bottom",c),t._content.css("height",t.host.height()+2),t._contentSections.css("height",t._content.height()-parseInt(t._contentSections.css("border-bottom-width"),10)-parseInt(t._contentSections.css("border-top-width"),10)-1));else{var u;"left"===t.position?(t._contentElement.className+=" "+t.toThemeProperty("jqx-ribbon-content-left"),u=parseInt(t._contentSections.css("border-left-width"),10)+parseInt(t._contentSections.css("border-right-width"),10)+1):(t._contentElement.className+=" "+t.toThemeProperty("jqx-ribbon-content-right"),u=0),t._header.css("height",t.host.height()-parseInt(t._header.css("padding-top"),10)-parseInt(t._header.css("padding-bottom"),10)-parseInt(t._header.css("border-top-width"),10)-parseInt(t._header.css("border-bottom-width"),10)),t._items.width(t._items.width()-parseInt(t._items.css("padding-left"),10)-parseInt(t._items.css("padding-right"),10)-parseInt(t._items.css("border-left-width"),10)-parseInt(t._items.css("border-right-width"),10)),t._contentSections.height(t._contentSections.height()-parseInt(t._contentSections.css("border-top-width"),10)-parseInt(t._contentSections.css("border-bottom-width"),10)-parseInt(t._contentSections.css("padding-top"),10)-parseInt(t._contentSections.css("padding-bottom"),10)),"default"===t.mode&&"auto"!==t.width&&("left"===t.position?t._contentSections.css("padding-left",d):t._contentSections.css("padding-right",d),t._contentSections.width(t._content.width()-t._header.width()-u))}},_positionPopup:function(){var e=this,t="7.0"===e._browser.version&&"msie"===e._browser.browser;switch(e.position){case"top":e._contentElement.style.top=e._toPx(e._headerElement.offsetHeight);break;case"bottom":t?e._contentElement.style.bottom=e._toPx(e._height(e._headerElement)):e._contentElement.style.bottom=e._toPx(e._headerElement.offsetHeight);break;case"left":e._contentElement.style.left=e._toPx(e._headerElement.offsetWidth);break;case"right":e._contentElement.style.right=e._header.outerWidth()+"px"}},_appendScrollButtons:function(){function e(e,i,r){e.className=t.toThemeProperty("jqx-ribbon-scrollbutton jqx-ribbon-scrollbutton-"+t.position+" jqx-ribbon-scrollbutton-"+t.scrollPosition+" jqx-widget-header "+i),e.innerHTML='<div class="'+t.toThemeProperty("jqx-ribbon-scrollbutton-inner "+r)+'"></div>',"horizontal"===t._orientation?e.style.height=t._toPx(t._height(t._headerElement)):e.style.width=t._toPx(t._width(t._headerElement)),t.element.appendChild(e)}var t=this,i="horizontal"===t._orientation?["left","right"]:["up","down"],r=document.createElement("div");e(r,"jqx-ribbon-scrollbutton-lt","jqx-icon-arrow-"+i[0]);var s=document.createElement("div");if(e(s,"jqx-ribbon-scrollbutton-rb","jqx-icon-arrow-"+i[1]),t._scrollButtonRc(r,s),t._scrollButtonNear=r,t._scrollButtonFar=s,t.roundedCorners)switch(t.position){case"top":case"bottom":r.style.marginLeft="-1px",s.style.marginRight="-1px";
break;case"right":case"left":r.style.marginTop="-1px",s.style.marginBottom="-1px"}},_scrollButtonRc:function(e,t){var i=this;if(i.roundedCorners)switch(i.position){case"top":"far"!==i.scrollPosition&&(e.className+=" "+i.toThemeProperty("jqx-rc-tl")),"near"!==i.scrollPosition&&(t.className+=" "+i.toThemeProperty("jqx-rc-tr"));break;case"bottom":"far"!==i.scrollPosition&&(e.className+=" "+i.toThemeProperty("jqx-rc-bl")),"near"!==i.scrollPosition&&(t.className+=" "+i.toThemeProperty("jqx-rc-br"));break;case"left":"far"!==i.scrollPosition&&(e.className+=" "+i.toThemeProperty("jqx-rc-tl")),"near"!==i.scrollPosition&&(t.className+=" "+i.toThemeProperty("jqx-rc-bl"));break;case"right":"far"!==i.scrollPosition&&(e.className+=" "+i.toThemeProperty("jqx-rc-tr")),"near"!==i.scrollPosition&&(t.className+=" "+i.toThemeProperty("jqx-rc-br"))}},_updateItems:function(e){function t(){i._items[r]._index===i.selectedIndex&&(i.selectedIndex=r)}var i=this;i._items=i._header.children(),i._contentSections=i._content.children();for(var r=0;r<i._items.length;r++){var s=i._items[r];s.setAttribute("unselectable","on"),void 0===s._index&&(s._disabled=!1,s._isInitialized=!1,i._contentSections[r]._layout="default"),e===!0&&t(),s._index=r,e!==!0&&t(),i._contentSections[r]&&(i._contentSections[r]._index=r)}},_positionContent:function(t){var i,r,s,a,n,o,l=this,h=l._contentSections[t];"horizontal"===l._orientation?(i=l.element.offsetWidth,r=l.host.offset().left,s=l._items[t].offsetWidth,a=e(l._items[t]).offset().left,n=h.offsetWidth||parseInt(h.style.width,10),o="left"):(i=l.element.offsetHeight,r=l.host.offset().top,s=l._items[t].offsetHeight,a=e(l._items[t]).offset().top,n=h.offsetHeight||parseInt(h.style.height,10),o="top");var d,c=function(e){0>e?e=0:e+n>i&&(e=i-n),h.style[o]=l._toPx(e)};switch(h._layout){case"near":d=a-r,c(d);break;case"far":d=a-r-(n-s),c(d);break;case"center":d=a-r-(n-s)/2,c(d);break;default:if("right"===l.position)for(var u=0;u<l._contentSections.length;u++)l._contentSections[u].style.right="1px";else h.style[o]=""}},_checkScrollButtons:function(t){var i=this,r=0;e.each(i._items,function(){var t=e(this);"none"!==t.css("display")&&(r+="horizontal"===i._orientation?t.outerWidth(!0):t.outerHeight(!0))});var s="horizontal"===i._orientation?["margin-left","margin-right"]:["margin-top","margin-bottom"],a="horizontal"===i._orientation?i._width(i._headerElement):i._height(i._headerElement);if(i._itemMargins||(i._itemMargins=[],i._itemMargins.push(e(i._items[0]).css(s[0])),i._itemMargins.push(e(i._items[i._items.length-1]).css(s[1]))),r>a){i._scrollButtonNear.style.display="block",i._scrollButtonFar.style.display="block";var n=i.rtl?i._itemMargins[0]:17,o=i.rtl?i._itemMargins[0]:17;switch(i.scrollPosition){case"near":o=0,n=34;break;case"far":o=34,n=17}i._items[0]&&(i._items[0].style[s[0]]=i._toPx(n)),i._items[i._items.length-1]&&(i._items[i._items.length-1].style[s[1]]=i._toPx(o))}else i._items[0]&&(i._items[0].style[s[0]]=i._toPx(i._itemMargins[0])),i._items[i._items.length-1]&&(i._items[i._items.length-1].style[s[1]]=i._toPx(i._itemMargins[1])),i._scrollButtonNear.style.display="none",i._scrollButtonFar.style.display="none";if(t===!0)if("horizontal"===i._orientation){var l=i._toPx(i._height(i._headerElement));i._scrollButtonNear.style.height=l,i._scrollButtonFar.style.height=l}else{var h=i._toPx(i._width(i._headerElement));i._scrollButtonNear.style.width=h,i._scrollButtonFar.style.width=h}},_positionSelectionToken:function(t){var i=this;if(-1!==t){var r=e(i._items[t]);if(0===r.length)return;var s,a,n,o,l;if("horizontal"===i._orientation){var h,d;i.rtl===!0?(h=1===i._browserWidthRtlFlag?i._headerElement.scrollWidth-i._headerElement.clientWidth:0,d=i._browserScrollRtlFlag):(h=0,d=1),n=r[0].offsetLeft+h-i._headerElement.scrollLeft*d-i._selectionTokenOffsetX+2,l=i._headerElement.offsetHeight-1;var c=i._width(r[0])+parseInt(r.css("padding-left"),10)+parseInt(r.css("padding-right"),10);"top"===i.position?(s=l-i._selectionTokenOffsetY,a=""):(s="",a=l-i._selectionTokenOffsetY),i._selectionToken.style.top=i._toPx(s),i._selectionToken.style.bottom=i._toPx(a),i._selectionToken.style.left=i._toPx(n),i._selectionToken.style.width=i._toPx(c)}else{s=r[0].offsetTop-i._headerElement.scrollTop-i._selectionTokenOffsetX+2,l=i._headerElement.offsetWidth-1;var u=i._height(r[0])+parseInt(r.css("padding-top"),10)+parseInt(r.css("padding-bottom"),10);"left"===i.position?(n=l-i._selectionTokenOffsetY,o=""):(n="",o=l-i._selectionTokenOffsetY),i._selectionToken.style.top=i._toPx(s),i._selectionToken.style.left=i._toPx(n),i._selectionToken.style.right=i._toPx(o),i._selectionToken.style.height=i._toPx(u)}}},_updatePositions:function(e,t){var i=this;if(isNaN(e)&&(e=t===!0&&null!==i._selecting&&i._selecting>=0?i._selecting:i.selectedIndex),-1!==e&&(i._positionSelectionToken(e),"popup"===i.mode&&"default"!==i._contentSections[e]._layout&&i._positionContent(e),"popup"===i.mode&&("left"===i.position||"right"===i.position))){i._contentElement.style.width="auto";var r=i._contentSections[e].style.width&&i._contentSections[e].style.width.indexOf("%")>=0;r?i._contentElement.style.width=i._toPx(i._width(i._contentSections[e])-i._width(i._headerElement)):i._contentElement.style.width=i._toPx(i._width(i._contentSections[e]))}},_animationComplete:function(e,t){var i=this,r=-1!==t?t:null;i._contentElement.style.pointerEvents="auto",i.selectedIndex=e,i._suppressSelectionEvents!==!0?(i._raiseEvent("0",{selectedIndex:e}),i._raiseEvent("2",{unselectedIndex:r,selectedIndex:e})):(i._suppressReorder!==!0&&void 0!==i._oldReorderIndex&&e!==i._oldReorderIndex&&i._raiseEvent("4",{newIndex:e,oldIndex:i._oldReorderIndex}),i._suppressSelectionEvents=!1,i._suppressReorder=!1),i.initContent&&i._items[e]._isInitialized===!1&&(i.initContent(e),i._items[e]._isInitialized=!0),i._allowSelection=!0,i._selecting=null},_clearSelectionComplete:function(e,t){var i=this;i._selecting=null,void 0===e&&(e=i.selectedIndex),-1!==e&&(i._contentElement.style.pointerEvents="none",i._suppressSelectionEvents!==!0&&i._raiseEvent("1",{unselectedIndex:e})),t!==!0&&(i.selectedIndex=-1)},_slide:function(t,i,r,s){var a=this;if(a.activeAnimations||(a.activeAnimations=[]),a.activeAnimations.length>0)for(var n=0;n<a.activeAnimations.length;n++)a.activeAnimations[n].clearQueue(),a.activeAnimations[n].finish();else t.clearQueue(),t.animate("finish");var o,l="ui-effects-",h={save:function(e,t){for(var i=0;i<t.length;i++)null!==t[i]&&e.length>0&&e.data(l+t[i],e[0].style[t[i]])},restore:function(e,t){var i,r;for(r=0;r<t.length;r++)null!==t[r]&&(i=e.data(l+t[r]),void 0===i&&(i=""),e.css(t[r],i))},createWrapper:function(t){if(t.parent().is(".ui-effects-wrapper"))return t.parent();var i={width:t.outerWidth(!0),height:t.outerHeight(!0),"float":t.css("float")},r=e("<div></div>").addClass("ui-effects-wrapper").css({fontSize:"100%",background:"transparent",border:"none",margin:0,padding:0}),s={width:t.width(),height:t.height()},a=document.activeElement;try{a.id}catch(n){a=document.body}return t.wrap(r),(t[0]===a||e.contains(t[0],a))&&e(a).focus(),r=t.parent(),"static"===t.css("position")?(r.css({position:"relative"}),t.css({position:"relative"})):(e.extend(i,{position:t.css("position"),zIndex:t.css("z-index")}),e.each(["top","left","bottom","right"],function(e,r){i[r]=t.css(r),isNaN(parseInt(i[r],10))&&(i[r]="auto")}),t.css({position:"relative",top:0,left:0,right:"auto",bottom:"auto"})),t.css(s),r.css(i).show()},removeWrapper:function(t){var i=document.activeElement;return t.parent().is(".ui-effects-wrapper")&&(t.parent().replaceWith(t),(t[0]===i||e.contains(t[0],i))&&e(i).focus()),t}},d=["position","top","bottom","left","right","width","height"],c=i.mode,u="show"===c,p=i.direction||"left",f="up"===p||"down"===p?"top":"left",m="up"===p||"left"===p,g={};h.save(t,d),t.show(),o=i.distance||t["top"===f?"outerHeight":"outerWidth"](!0),h.createWrapper(t).css({overflow:"hidden"}),u&&t.css(f,m?isNaN(o)?"-"+o:-o:o),g[f]=(u?m?"+=":"-=":m?"-=":"+=")+o;var v=function(){t.clearQueue(),t.stop(!0,!0)};return a.activeAnimations.push(t),t.animate(g,{duration:i.duration,easing:i.easing,complete:function(){a.activeAnimations.pop(t),"show"===c?a._animationComplete(r,s):"hide"===c&&(t.hide(),a._clearSelectionComplete(r)),h.restore(t,d),h.removeWrapper(t)}}),v},_toPx:function(e){return"number"==typeof e?e+"px":e},_width:function(t){var i=e(t),r=i.css("border-left-width"),s=i.css("border-right-width"),a=parseInt(i.css("padding-left"),10),n=parseInt(i.css("padding-right"),10),o="none"===i.css("display");o&&(t.style.display="block"),r=-1===r.indexOf("px")?1:parseInt(r,10),s=-1===s.indexOf("px")?1:parseInt(s,10);var l=t.offsetWidth-(r+s+a+n);return o&&(t.style.display="none"),Math.max(0,l)},_height:function(t){var i=e(t),r=i.css("border-top-width"),s=i.css("border-bottom-width"),a=parseInt(i.css("padding-top"),10),n=parseInt(i.css("padding-bottom"),10);r=-1===r.indexOf("px")?1:parseInt(r,10),s=-1===s.indexOf("px")?1:parseInt(s,10);var o=t.offsetHeight-(r+s+a+n);return Math.max(0,o)},_closest:function(e,t,i){if(t){if(e.nodeName.toLowerCase()===t)return e;for(var r=e.parentNode;null!==r&&"#document"!==r.nodeName;){if(r.nodeName.toLowerCase()===t)return r;r=r.parentNode}}if(i){if((" "+e.className+" ").replace(/[\n\t]/g," ").indexOf(" "+i+" ")>-1)return e;for(var s=e.parentNode;null!==s&&"#document"!==s.nodeName;){if((" "+s.className+" ").replace(/[\n\t]/g," ").indexOf(" "+i+" ")>-1)return s;s=s.parentNode}}},_initAnimate:function(e){if(e.initAnimate){if(e.animate)return;e.initAnimate()}}})}(jqxBaseFramework),function(e){e.jqx.jqxWidget("jqxProgressBar","",{}),e.extend(e.jqx._jqxProgressBar.prototype,{defineInstance:function(){var t={colorRanges:[],value:0,oldValue:null,max:100,min:0,orientation:"horizontal",layout:"normal",width:null,height:null,showText:!1,animationDuration:300,disabled:!1,rtl:!1,renderText:null,template:"",aria:{"aria-valuenow":{name:"value",type:"number"},"aria-disabled":{name:"disabled",type:"boolean"}},events:["valueChanged","invalidValue","complete","change"]};return this===e.jqx._jqxProgressBar.prototype?t:(e.extend(!0,this,t),t)},createInstance:function(t){var i=this;this.host.addClass(this.toThemeProperty("jqx-progressbar")),this.host.addClass(this.toThemeProperty("jqx-widget")),this.host.addClass(this.toThemeProperty("jqx-widget-content")),this.host.addClass(this.toThemeProperty("jqx-rc-all")),e.jqx.aria(this),null!=this.width&&-1!=this.width.toString().indexOf("px")?this.host.width(this.width):void 0==this.width||isNaN(this.width)?this.host.width(this.width):this.host.width(this.width),null!=this.height&&-1!=this.height.toString().indexOf("px")?this.host.height(this.height):void 0==this.height||isNaN(this.height)?this.host.height(this.height):this.host.height(this.height),this.valueDiv=e("<div></div>").appendTo(this.element),this._addRanges(),this.valueDiv.addClass(this.toThemeProperty("jqx-fill-state-pressed")),this.template&&this.valueDiv.addClass(this.toThemeProperty("jqx-"+this.template)),this.feedbackElementHost=e("<div style='left: 0px; top: 0px; width: 100%; height: 100%; position: absolute;'></div>").appendTo(this.host),this.feedbackElement=e("<span class='text'></span>").appendTo(this.feedbackElementHost),this.feedbackElement.addClass(this.toThemeProperty("jqx-progressbar-text")),this.oldValue=this._value(),this.refresh(),e.jqx.utilities.resize(this.host,function(){i.refresh()})},_addRanges:function(){if(0!=this.colorRanges.length)for(var e="vertical"==this.orientation,t=this.colorRanges,i=t.length,r=0;i>r;r++){var s=t[r].stop,a=t[r].color;this._createColorElements(s,a,e,i-r,r)}},_refreshColorElements:function(){for(var e=this.host.outerWidth(),t=this.host.outerHeight(),i="vertical"==this.orientation,r=0;r<this.colorRanges.length;r++){var s=this.colorRanges[r].element;if(!s)return this.host.find(".jqx-progressbar-range").remove(),void this._addRanges();var a=this.colorRanges[r].stop;a>Math.min(this.max,this.value)&&(a=Math.min(this.max,this.value));var n=100*(a-this.min)/(this.max-this.min);i?size=t*n/100:size=e*n/100,size+="px",i?(s.css("height",size),"reverse"==this.layout?s.css("bottom",0):s.css("top",0)):(s.css("width",size),(this.rtl||"reverse"==this.layout)&&s.css("right","0px"))}},_createColorElements:function(t,i,r,s,a){var n;t>Math.min(this.max,this.value)&&(t=Math.min(this.max,this.value));var o=100*t/this.max;this.host.width(),this.host.height();n=r?this.host.outerHeight()*o/100:this.host.outerWidth()*o/100,n+="px";var l=e(this.valueDiv).parent()[0];if(l.style.position="relative",r=r||!1){var h=e("<div/>");h.attr("class","jqx-progressbar-range"),h.css("width","100%"),h.css("height",n),h.css("background-color",i),h.css("position","absolute"),h.css("z-index",s),"reverse"==this.layout?h.css("bottom",0):h.css("top",0),h.appendTo(l)}else{var h=e("<div/>");h.attr("class","jqx-progressbar-range"),h.css("width",n),h.css("height","100%"),h.css("background-color",i),h.css("position","absolute"),h.css("z-index",s),h.css("top","0px"),this.rtl&&h.css("right","0px"),h.appendTo(l)}this.colorRanges[a].element=h},resize:function(e,t){this.width=e,this.height=t,this.refresh()},destroy:function(){this.host.removeClass(),this.valueDiv.removeClass(),this.valueDiv.remove(),this.feedbackElement.remove()},_raiseevent:function(t,i,r){if(void 0!=this.isInitialized&&1==this.isInitialized){var s=this.events[t],a=new e.Event(s);a.previousValue=i,a.currentValue=r,a.owner=this;var n=this.host.trigger(a);return n}},actualValue:function(t){return void 0===t?this._value():(e.jqx.aria(this,"aria-valuenow",t),e.jqx.setvalueraiseevent(this,"value",t),this._value())},val:function(e){return 0==arguments.length||"object"==typeof e?this.actualValue():this.actualValue(e)},propertiesChangedHandler:function(e,t,i){i&&i.width&&i.height&&2==Object.keys(i).length&&(e.host.width(i.width),e.host.height(i.height),e.refresh())},propertyChangedHandler:function(t,i,r,s){if(this.isInitialized&&r!=s&&!(t.batchUpdate&&t.batchUpdate.width&&t.batchUpdate.height&&2==Object.keys(t.batchUpdate).length)){var a=this;"colorRanges"==i&&(t.host.find(".jqx-progressbar-range").remove(),t._addRanges()),"min"==i&&t.value<s?t.value=s:"max"==i&&t.value>s&&(t.value=s),"value"===i&&void 0!=a.value&&(a.value=s,a.oldValue=r,e.jqx.aria(t,"aria-valuenow",s),(s<a.min||s>a.max)&&a._raiseevent(1,r,s),a.refresh()),"theme"==i&&e.jqx.utilities.setTheme(r,s,t.host),"renderText"==i||"orientation"==i||"layout"==i||"showText"==i||"min"==i||"max"==i?a.refresh():"width"==i&&void 0!=a.width?void 0==a.width||isNaN(a.width)||(a.host.width(a.width),a.refresh()):"height"==i&&void 0!=a.height&&(void 0==a.height||isNaN(a.height)||(a.host.height(a.height),a.refresh())),"disabled"==i&&a.refresh()}},_value:function(){var e=this.value;if("number"!=typeof e){var t=parseInt(e);e=isNaN(t)?0:t}return Math.min(this.max,Math.max(this.min,e))},_percentage:function(){return 100*(this._value()-this.min)/(this.max-this.min)},_textwidth:function(t){var i=e("<span>"+t+"</span>");e(this.host).append(i);var r=i.width();return i.remove(),r},_textheight:function(t){var i=e("<span>"+t+"</span>");e(this.host).append(i);var r=i.height();return i.remove(),r},_initialRender:!0,refresh:function(t){if(t!==!0){var i=this.actualValue(),r=this._percentage();if(this.disabled)return this.host.addClass(this.toThemeProperty("jqx-progressbar-disabled")),void this.host.addClass(this.toThemeProperty("jqx-fill-state-disabled"));if(this.host.removeClass(this.toThemeProperty("jqx-progressbar-disabled")),this.host.removeClass(this.toThemeProperty("jqx-fill-state-disabled")),e(this.element.children[0]).show(),!isNaN(i)&&!isNaN(r)){this.oldValue!==i&&(this._raiseevent(0,this.oldValue,i),this._raiseevent(3,this.oldValue,i),this.oldValue=i);var s=this.oldValue,a=this.host.outerHeight(),n=this.host.outerWidth();null!=this.width&&(n=parseInt(this.width)),null!=this.height&&(a=parseInt(this.height)),this._refreshColorElements();var o=parseInt(this.host.outerWidth())/2;parseInt(this.host.outerHeight())/2;isNaN(r)&&(r=0),this.valueDiv.removeClass(this.toThemeProperty("jqx-progressbar-value-vertical jqx-progressbar-value")),"horizontal"==this.orientation?(this.valueDiv.width(0),this.valueDiv[0].style.height="100%",this.valueDiv.addClass(this.toThemeProperty("jqx-progressbar-value"))):(this.valueDiv[0].style.width="100%",this.valueDiv.height(0),this.valueDiv.addClass(this.toThemeProperty("jqx-progressbar-value-vertical")));var l=this;try{var h=this.element.children[0];if(e(h)[0].style.position="relative","horizontal"==this.orientation){e(h).toggle(i>=this.min);var n=this.host.outerWidth()*r/100,d=0;("reverse"==this.layout||this.rtl)&&(this._initialRender&&(e(h)[0].style.left=this.host.width()+"px",e(h)[0].style.width=0),d=this.host.outerWidth()-n),e(h).stop(),e(h).animate({width:n,left:d+"px"},this.animationDuration,function(){l._value()===l.max&&l._raiseevent(2,s,l.max)})}else{e(h).toggle(i>=this.min);var a=this.host.height()*r/100,c=0;"reverse"==this.layout&&(this._initialRender&&(e(h)[0].style.top=this.host.height()+"px",e(h)[0].style.height=0),c=this.host.height()-a),e(h).stop(),e(h).animate({height:a,top:c+"px"},this.animationDuration,function(){var t=l._percentage();isNaN(t)&&(t=0),t.toFixed(0)==l.min&&(e(h).hide(),l._value()===l.max&&l._raiseevent(2,s,l.max))})}}catch(u){}this._initialRender=!1,this.feedbackElement.html(r.toFixed(0)+"%").toggle(1==this.showText),this.renderText&&this.feedbackElement.html(this.renderText(r.toFixed(0)+"%",r)),this.feedbackElement.css("position","absolute"),this.feedbackElement.css("top","50%"),this.feedbackElement.css("left","0"),this.colorRanges.length>0&&this.feedbackElement.css("z-index",this.colorRanges.length+1);var p=this.feedbackElement.height(),f=this.feedbackElement.width(),m=Math.floor(o-parseInt(f)/2);this.feedbackElement.css({left:m,"margin-top":-parseInt(p)/2+"px"})}}}})}(jqxBaseFramework),function(e){"use strict";e.jqx.jqxWidget("jqxTooltip","",{}),e.extend(e.jqx._jqxTooltip.prototype,{defineInstance:function(){var t={width:"auto",height:"auto",position:"default",enableBrowserBoundsDetection:!0,content:"",left:0,top:0,absolutePositionX:0,absolutePositionY:0,trigger:"hover",showDelay:100,autoHide:!0,autoHideDelay:3e3,closeOnClick:!0,disabled:!1,animationShowDelay:200,animationHideDelay:"fast",showArrow:!0,name:"",opacity:.9,rtl:!1,_isOpen:!1,selector:null,opening:null,value:null,_eventsMap:{mousedown:e.jqx.mobile.getTouchEventName("touchstart"),mouseup:e.jqx.mobile.getTouchEventName("touchend")},events:["open","close","opening","closing"]};return this===e.jqx._jqxTooltip.prototype?t:(e.extend(!0,this,t),t)},createInstance:function(){this._isTouchDevice=e.jqx.mobile.isTouchDevice();var t=e.data(document.body,"_tooltipIDArray"+this.name);t?this.IDArray=t:(this.IDArray=[],e.data(document.body,"_tooltipIDArray"+this.name,this.IDArray));var i=this._generatekey(),r="jqxtooltip"+i;this.IDArray.push({tooltipID:r,tooltipHost:this.host});var s=document.createElement("div");s.setAttribute("id",r),s.innerHTML='<div id="'+r+'Main"><div id="'+r+'Text"></div></div><div id="'+r+'Arrow"></div>',e.jqx.browser.msie&&(s.className=this.toThemeProperty("jqx-noshadow")),document.body.appendChild(s),this._tooltip=s,this._tooltipHelper=e(s),this._tooltipHelper.initAnimate&&this._tooltipHelper.initAnimate(),s.style.visibility="hidden",s.style.display="none",s.style.opacity=0,s.style.zIndex=99999;var a=document.getElementById(r+"Arrow");this._arrow=a,this.showArrow===!1&&(a.style.visibility="hidden",a.style.display="none"),this._main=document.getElementById(r+"Main"),this._text=document.getElementById(r+"Text"),this._setTheme(),this._setSize(),this._setContent(),this.disabled===!1&&(this._trigger(),this.closeOnClick===!0&&this._clickHide())},open:function(){if(arguments&&arguments.length&&2===arguments.length&&(this.position="absolute",this.left=arguments[0],this.top=arguments[1],this.absolutePositionX=arguments[0],this.absolutePositionY=arguments[1]),this.disabled===!1&&"removed"!==this._id())if("mouse"===this.position||"mouseenter"===this.position){var e=this.position;this.position="default",this._raiseEvent("2"),this._setPosition(),this._animateShow(),this.position=e}else this._raiseEvent("2"),this._setPosition(),this._animateShow()},close:function(t){var i=this,r=e.jqx.browser.msie&&e.jqx.browser.version<9;"object"==typeof t&&e.isEmptyObject(t)&&(t=this.animationHideDelay);var s=parseFloat(i._tooltip.style.opacity),a=function(){clearTimeout(i.autoHideTimeout),i._raiseEvent("3"),i._tooltipHelper.animate({opacity:0},t,function(){i._tooltip.style.visibility="hidden",i._tooltip.style.display="none",i._raiseEvent("1"),i._isOpen=!1})};return this._isOpen===!1&&0!==s?void a():void(this._isOpen===!0&&(!r&&s===this.opacity||r)&&a())},destroy:function(){var e=this.IDArray.length;this._removeHandlers(),this._tooltipHelper.remove();for(var t=0;e>t;t++)if(this.IDArray[t].tooltipHost===this.host){this.IDArray.splice(t,1);break}this.host.removeData("jqxTooltip")},refresh:function(e){if(e!==!0){var t=this;this.rtl&&(t._text.className+=" "+t.toThemeProperty("jqx-rtl"),t._text.style.direction="rtl");var i=parseFloat(t._tooltip.style.opacity);"removed"!==this._id()&&(this.disabled===!0&&this._isOpen===!0&&i===this.opacity&&(clearTimeout(this.autoHideTimeout),this._tooltipHelper.animate({opacity:0},this.animationHideDelay,function(){t._tooltip.style.visibility="hidden",t._tooltip.style.display="none",t._isOpen=!1})),this._setTheme(),this._setContent(),this._setSize(),"mouse"!==this.position&&"mouseenter"!==this.position&&this._setPosition(),this._removeHandlers(),this.disabled===!1&&(this._trigger(),this.closeOnClick===!0&&this._clickHide()))}},propertyChangedHandler:function(e,t,i,r){"content"===t&&(this.changeContentFlag=!0),e.refresh()},_raiseEvent:function(t,i){var r=this.events[t],s=new e.Event(r);s.owner=this,s.args=i;var a;try{a=this.host.trigger(s)}catch(n){}return a},_generatekey:function(){var e=function(){return(65536*(1+Math.random())|0).toString(16).substring(1)};return e()+e()},_id:function(){for(var e,t,i=this.IDArray.length,r=0;i>r;r++)if(this.IDArray[r].tooltipHost===this.host){e=this.IDArray[r].tooltipID,t="#"+e;break}return void 0===t&&(t="removed"),t},_setPosition:function(t){var i=this,r=i._tooltip;if(this._isOpen===!1&&0===parseFloat(r.style.opacity)||this.changeContentFlag===!0){if(!t&&("mouse"===this.position||"mouseenter"===this.position))return;r.style.display="block",this.changeContentFlag=!1,this.documentTop=document.documentElement.scrollTop,this.documentLeft=document.documentElement.scrollLeft,this.windowWidth=window.innerWidth,this.windowHeight=window.innerHeight,this.hostWidth=i.element.offsetWidth,this.hostHeight=i.element.offsetHeight,this.tooltipWidth=r.offsetWidth,this.tooltipHeight=r.offsetHeight,this.hostOffset=this.host.offset(),this.tooltipOffset=i._tooltipHelper.offset(),this.defaultOffset=30,this.offsetHorizontal=parseInt(this.left,10),this.offsetVertical=parseInt(this.top,10);var s,a=i._arrow,n=e(a),o=i._main,l=e(o),h=o.offsetWidth,d=o.offsetHeight;switch(this.arrowSize=5,this.tooltipMainOffset=l.offset(),this.tooltipArrowOffset={},this.position){case"top":this.tooltipOffset.left=this.hostOffset.left+this.hostWidth/2-this.tooltipWidth/2+this.offsetHorizontal,this.tooltipOffset.top=this.hostOffset.top-this.tooltipHeight-this.arrowSize+this.offsetVertical,this._detectBrowserBounds(),this.tooltipMainOffset=l.offset(),i._removeClass(a,i.toThemeProperty("jqx-tooltip-arrow-l-r")),a.className+=" "+i.toThemeProperty("jqx-tooltip-arrow-t-b"),a.style.borderWidth=this.arrowSize+"px "+this.arrowSize+"px 0px",this.tooltipArrowOffset.left=this.tooltipMainOffset.left+(h/2-this.arrowSize),this.tooltipArrowOffset.top=this.tooltipMainOffset.top+d,n.offset({top:this.tooltipArrowOffset.top,left:this.tooltipArrowOffset.left});break;case"bottom":this.tooltipOffset.left=this.hostOffset.left+this.hostWidth/2-this.tooltipWidth/2+this.offsetHorizontal,this.tooltipOffset.top=this.hostOffset.top+this.hostHeight+this.arrowSize+this.offsetVertical,this._detectBrowserBounds(),this.tooltipMainOffset=l.offset(),i._removeClass(a,i.toThemeProperty("jqx-tooltip-arrow-l-r")),a.className+=" "+i.toThemeProperty("jqx-tooltip-arrow-t-b"),a.style.borderWidth="0 "+this.arrowSize+"px "+this.arrowSize+"px",this.tooltipArrowOffset.left=this.tooltipMainOffset.left+(h/2-this.arrowSize),this.tooltipArrowOffset.top=this.tooltipMainOffset.top-this.arrowSize,n.offset({top:this.tooltipArrowOffset.top,left:this.tooltipArrowOffset.left});break;case"left":s=window.getComputedStyle?window.getComputedStyle(o):o.currentStyle,this.tooltipOffset.left=this.hostOffset.left-this.tooltipWidth-this.arrowSize+this.offsetHorizontal-(parseInt(s.borderLeftWidth,10)+parseInt(s.borderRightWidth,10)),this.tooltipOffset.top=this.hostOffset.top+this.hostHeight/2-this.tooltipHeight/2+this.offsetVertical,this._detectBrowserBounds(),i._removeClass(a,i.toThemeProperty("jqx-tooltip-arrow-t-b")),a.className+=" "+i.toThemeProperty("jqx-tooltip-arrow-l-r"),a.style.borderWidth=this.arrowSize+"px 0px "+this.arrowSize+"px "+this.arrowSize+"px",this.tooltipMainOffset=l.offset(),this.tooltipArrowOffset.left=this.tooltipMainOffset.left+h,this.tooltipArrowOffset.top=this.tooltipMainOffset.top+d/2-this.arrowSize,n.offset({top:this.tooltipArrowOffset.top,left:this.tooltipArrowOffset.left});break;case"right":this.tooltipOffset.left=this.hostOffset.left+this.hostWidth+this.arrowSize+this.offsetHorizontal,this.tooltipOffset.top=this.hostOffset.top+this.hostHeight/2-this.tooltipHeight/2+this.offsetVertical,this.tooltipOffset.top=parseInt(this.tooltipOffset.top,10),this._detectBrowserBounds(),this.tooltipMainOffset=l.offset(),i._removeClass(a,i.toThemeProperty("jqx-tooltip-arrow-t-b")),a.className+=" "+i.toThemeProperty("jqx-tooltip-arrow-l-r"),a.style.borderWidth=this.arrowSize+"px "+this.arrowSize+"px "+this.arrowSize+"px 0px",this.tooltipArrowOffset.left=this.tooltipMainOffset.left-this.arrowSize,this.tooltipArrowOffset.top=this.tooltipMainOffset.top+o.offsetHeight/2-this.arrowSize,n.offset({top:this.tooltipArrowOffset.top,left:this.tooltipArrowOffset.left});break;case"top-left":this.tooltipOffset.left=this.hostOffset.left+this.defaultOffset-this.tooltipWidth+this.offsetHorizontal,this.tooltipOffset.top=this.hostOffset.top-this.tooltipHeight-this.arrowSize+this.offsetVertical,this._detectBrowserBounds(),this.tooltipMainOffset=l.offset(),i._removeClass(a,i.toThemeProperty("jqx-tooltip-arrow-l-r")),a.className+=" "+i.toThemeProperty("jqx-tooltip-arrow-t-b"),a.style.borderWidth=this.arrowSize+"px "+this.arrowSize+"px  0px",this.tooltipArrowOffset.left=this.tooltipMainOffset.left+h-6*this.arrowSize,this.tooltipArrowOffset.top=this.tooltipMainOffset.top+d,n.offset({top:this.tooltipArrowOffset.top,left:this.tooltipArrowOffset.left});break;case"bottom-left":this.tooltipOffset.left=this.hostOffset.left+this.defaultOffset-this.tooltipWidth+this.offsetHorizontal,this.tooltipOffset.top=this.hostOffset.top+this.hostHeight+this.arrowSize+this.offsetVertical,this._detectBrowserBounds(),this.tooltipMainOffset=l.offset(),i._removeClass(a,i.toThemeProperty("jqx-tooltip-arrow-l-r")),a.className+=" "+i.toThemeProperty("jqx-tooltip-arrow-t-b"),a.style.borderWidth="0 "+this.arrowSize+"px "+this.arrowSize+"px",this.tooltipArrowOffset.left=this.tooltipMainOffset.left+h-6*this.arrowSize,this.tooltipArrowOffset.top=this.tooltipMainOffset.top-this.arrowSize,n.offset({top:this.tooltipArrowOffset.top,left:this.tooltipArrowOffset.left});break;case"top-right":this.tooltipOffset.left=this.hostOffset.left+this.hostWidth-this.defaultOffset+this.offsetHorizontal,this.tooltipOffset.top=this.hostOffset.top-this.tooltipHeight-this.arrowSize+this.offsetVertical,this._detectBrowserBounds(),this.tooltipMainOffset=l.offset(),i._removeClass(a,i.toThemeProperty("jqx-tooltip-arrow-l-r")),a.className+=" "+i.toThemeProperty("jqx-tooltip-arrow-t-b"),a.style.borderWidth=this.arrowSize+"px "+this.arrowSize+"px  0px",this.tooltipArrowOffset.left=this.tooltipMainOffset.left+4*this.arrowSize,this.tooltipArrowOffset.top=this.tooltipMainOffset.top+d,n.offset({top:this.tooltipArrowOffset.top,left:this.tooltipArrowOffset.left});break;case"bottom-right":this.tooltipOffset.left=this.hostOffset.left+this.hostWidth-this.defaultOffset+this.offsetHorizontal,this.tooltipOffset.top=this.hostOffset.top+this.hostHeight+this.arrowSize+this.offsetVertical,this._detectBrowserBounds(),this.tooltipMainOffset=l.offset(),i._removeClass(a,i.toThemeProperty("jqx-tooltip-arrow-l-r")),a.className+=" "+i.toThemeProperty("jqx-tooltip-arrow-t-b"),a.style.borderWidth="0 "+this.arrowSize+"px "+this.arrowSize+"px",this.tooltipArrowOffset.left=this.tooltipMainOffset.left+4*this.arrowSize,this.tooltipArrowOffset.top=this.tooltipMainOffset.top-this.arrowSize,n.offset({top:this.tooltipArrowOffset.top,left:this.tooltipArrowOffset.left});break;case"absolute":i._tooltipHelper.offset({top:this.absolutePositionY,left:this.absolutePositionX}),a.style.borderWidth="0px";break;case"mouse":if(this._isTouchDevice===!1)switch(this.trigger){case"hover":this.mouseHoverTimeout&&clearTimeout(this.mouseHoverTimeout),this.mouseHoverTimeout=setTimeout(function(){i.tooltipOffset.left=t.pageX+10,i.tooltipOffset.top=t.pageY+10,i._detectBrowserBounds()},this.showDelay);break;case"click":this.tooltipOffset.left=t.pageX+10,this.tooltipOffset.top=t.pageY+10,this._detectBrowserBounds()}else{var c=t.pageX,u=t.pageY;if(t.originalEvent){var p;t.originalEvent.touches&&t.originalEvent.touches.length?p=t.originalEvent.touches[0]:t.originalEvent.changedTouches&&t.originalEvent.changedTouches.length&&(p=t.originalEvent.changedTouches[0]),void 0!==p&&(c=p.pageX,u=p.pageY)}this.tooltipOffset.left=c+10,this.tooltipOffset.top=u+10,this._detectBrowserBounds()}a.style.borderWidth="0px";break;case"mouseenter":var f={top:t.pageY,left:t.pageX};f.top<this.hostOffset.top+10&&f.top>this.hostOffset.top-10?(this.tooltipOffset.left=f.left-this.tooltipWidth/2,this.tooltipOffset.top=this.hostOffset.top-this.tooltipHeight-this.arrowSize,this._detectBrowserBounds(),this.tooltipMainOffset=l.offset(),i._removeClass(a,i.toThemeProperty("jqx-tooltip-arrow-l-r")),a.className+=" "+i.toThemeProperty("jqx-tooltip-arrow-t-b"),a.style.borderWidth=this.arrowSize+"px "+this.arrowSize+"px  0px",this.tooltipArrowOffset.left=this.tooltipMainOffset.left+(h/2-this.arrowSize),this.tooltipArrowOffset.top=this.tooltipMainOffset.top+d,n.offset({top:this.tooltipArrowOffset.top,left:this.tooltipArrowOffset.left})):f.top<this.hostOffset.top+this.hostHeight+10&&f.top>this.hostOffset.top+this.hostHeight-10?(this.tooltipOffset.left=f.left-this.tooltipWidth/2,this.tooltipOffset.top=this.hostOffset.top+this.hostHeight+this.arrowSize,this._detectBrowserBounds(),this.tooltipMainOffset=l.offset(),i._removeClass(a,i.toThemeProperty("jqx-tooltip-arrow-l-r")),a.className+=" "+i.toThemeProperty("jqx-tooltip-arrow-t-b"),a.style.borderWidth="0 "+this.arrowSize+"px "+this.arrowSize+"px",this.tooltipArrowOffset.left=this.tooltipMainOffset.left+(h/2-this.arrowSize),this.tooltipArrowOffset.top=this.tooltipMainOffset.top-this.arrowSize,n.offset({top:this.tooltipArrowOffset.top,left:this.tooltipArrowOffset.left})):f.left<this.hostOffset.left+10&&f.left>this.hostOffset.left-10?(s=window.getComputedStyle?window.getComputedStyle(o):o.currentStyle,this.tooltipOffset.left=this.hostOffset.left-this.tooltipWidth-this.arrowSize-(parseInt(s.borderLeftWidth,10)+parseInt(s.borderRightWidth,10)),this.tooltipOffset.top=f.top-this.tooltipHeight/2,this._detectBrowserBounds(),this.tooltipMainOffset=l.offset(),i._removeClass(a,i.toThemeProperty("jqx-tooltip-arrow-t-b")),a.className+=" "+i.toThemeProperty("jqx-tooltip-arrow-l-r"),a.style.borderWidth=this.arrowSize+"px 0px "+this.arrowSize+"px "+this.arrowSize+"px",this.tooltipMainOffset=l.offset(),this.tooltipArrowOffset.left=this.tooltipMainOffset.left+h,this.tooltipArrowOffset.top=this.tooltipMainOffset.top+d/2-this.arrowSize,n.offset({top:this.tooltipArrowOffset.top,left:this.tooltipArrowOffset.left})):f.left<this.hostOffset.left+this.hostWidth+10&&f.left>this.hostOffset.left+this.hostWidth-10&&(this.tooltipOffset.left=this.hostOffset.left+this.hostWidth+this.arrowSize,
this.tooltipOffset.top=f.top-this.tooltipHeight/2,this._detectBrowserBounds(),this.tooltipMainOffset=l.offset(),i._removeClass(a,i.toThemeProperty("jqx-tooltip-arrow-t-b")),a.className+=" "+i.toThemeProperty("jqx-tooltip-arrow-l-r"),a.style.borderWidth=this.arrowSize+"px "+this.arrowSize+"px "+this.arrowSize+"px 0px",this.tooltipMainOffset=l.offset(),this.tooltipArrowOffset.left=this.tooltipMainOffset.left-this.arrowSize,this.tooltipArrowOffset.top=this.tooltipMainOffset.top+d/2-this.arrowSize,n.offset({top:this.tooltipArrowOffset.top,left:this.tooltipArrowOffset.left}));break;case"default":this.tooltipOffset.left=this.hostOffset.left+this.hostWidth-this.defaultOffset,this.tooltipOffset.top=this.hostOffset.top+this.hostHeight+this.arrowSize,this._detectBrowserBounds(),this.tooltipMainOffset=l.offset(),i._removeClass(a,i.toThemeProperty("jqx-tooltip-arrow-l-r")),a.className+=" "+i.toThemeProperty("jqx-tooltip-arrow-t-b"),a.style.borderWidth="0 "+this.arrowSize+"px "+this.arrowSize+"px",this.tooltipArrowOffset.left=this.tooltipMainOffset.left+4*this.arrowSize,this.tooltipArrowOffset.top=this.tooltipMainOffset.top-this.arrowSize,n.offset({top:this.tooltipArrowOffset.top,left:this.tooltipArrowOffset.left})}}},_setContent:function(){this._text.innerHTML=this.content},opened:function(){return this._isOpen&&"block"==this.host.css("display")&&"visible"==this.host.css("visibility")},_animateShow:function(){this._closeAll(),clearTimeout(this.autoHideTimeout);var t=parseFloat(this._tooltip.style.opacity);if(this._isOpen===!1&&0===t){var i=this;if(i._tooltip.style.visibility="visible",i._tooltip.style.display="block",i._tooltip.style.opacity=0,this.opening){var r=this.opening(this);if(r===!1)return}i._tooltipHelper.animate({opacity:this.opacity},this.animationShowDelay,function(){i._raiseEvent("0"),i._isOpen=!0,i.openedTooltip=i,e.data(document.body,"_openedTooltip"+i.name,i),i.autoHideTimeout&&clearTimeout(i.autoHideTimeout),i.autoHideDelay>0&&i.autoHide===!0&&(i.autoHideTimeout=setTimeout(function(){i._autoHide()},i.autoHideDelay))})}},_trigger:function(){if("removed"!==this._id()){var t=this,i=this.host;if(this.selector&&(i=e("#"+this.selector)),this._isTouchDevice===!1)switch(this.trigger){case"hover":"mouse"===this.position?(this.addHandler(i,"mousemove.tooltip",function(e){1===t._enterFlag&&(t._raiseEvent("2"),t._setPosition(e),clearTimeout(t.hoverShowTimeout),t.hoverShowTimeout=setTimeout(function(){t._animateShow(),t._enterFlag=0},t.showDelay))}),this.addHandler(i,"mouseenter.tooltip",function(){0!==t._leaveFlag&&(t._enterFlag=1)}),this.addHandler(i,"mouseleave.tooltip",function(e){t._leaveFlag=1,clearTimeout(t.hoverShowTimeout);var i=t._tooltipHelper.offset(),r=t._tooltip.offsetWidth,s=t._tooltip.offsetHeight;(parseInt(e.pageX,10)<parseInt(i.left,10)||parseInt(e.pageX,10)>parseInt(i.left,10)+r)&&t.close(),(parseInt(e.pageY,10)<parseInt(i.top,10)||parseInt(e.pageY,10)>parseInt(i.top,10)+s)&&t.close()}),this.addHandler(t._tooltipHelper,"mouseleave.tooltip",function(e){t._checkBoundariesAuto(e),0!==t._clickFlag&&0!==t._autoFlag?t._leaveFlag=0:(t._leaveFlag=1,t.close())})):(this.addHandler(i,"mouseenter.tooltip",function(e){clearTimeout(t.hoverShowTimeout),t.hoverShowTimeout=setTimeout(function(){t._raiseEvent("2"),t._setPosition(e),t._animateShow()},t.showDelay)}),this.addHandler(i,"mouseleave.tooltip",function(e){if(t._leaveFlag=1,clearTimeout(t.hoverShowTimeout),t.autoHide){var i=e.pageX,r=e.pageY,s=t._tooltipHelper.offset(),a=s.left,n=s.top,o=t._tooltip.offsetWidth,l=t._tooltip.offsetHeight;(parseInt(i,10)<parseInt(a,10)||parseInt(i,10)>parseInt(a,10)+o||parseInt(r,10)<parseInt(n,10)||parseInt(r,10)>parseInt(n,10)+l)&&t.close()}}),this.addHandler(t._tooltipHelper,"mouseleave.tooltip",function(e){t._checkBoundariesAuto(e),0!==t._clickFlag&&0!==t._autoFlag?t._leaveFlag=0:(t._leaveFlag=1,t.autoHide&&t.close())}));break;case"click":this.addHandler(i,"click.tooltip",function(e){"mouseenter"===t.position&&(t.position="mouse"),t._raiseEvent("2"),t._setPosition(e),t._animateShow()});break;case"none":}else"none"!==this.trigger&&this.addHandler(i,"touchstart.tooltip",function(e){"mouseenter"===t.position&&(t.position="mouse"),t._raiseEvent("2"),t._setPosition(e),t._animateShow()})}},_autoHide:function(){var e=this,t=parseFloat(e._tooltip.style.opacity);this.autoHide===!0&&this._isOpen===!0&&t>=this.opacity&&(e._raiseEvent("3"),e._tooltipHelper.animate({opacity:0},e.animationHideDelay,function(){e._tooltip.style.visibility="hidden",e._tooltip.style.display="none",e._raiseEvent("1"),e._isOpen=!1}))},_clickHide:function(){var e=this;this.addHandler(e._tooltipHelper,"click.tooltip",function(t){e._checkBoundariesClick(t),e.close()})},_setSize:function(){var e=this;e._tooltip.style.width=e._toPx(e.width),e._tooltip.style.height=e._toPx(e.height)},resize:function(){this._setSize()},_setTheme:function(){var e=this;e._tooltip.className+=" "+e.toThemeProperty("jqx-tooltip jqx-popup"),e._main.className+=" "+e.toThemeProperty("jqx-widget jqx-fill-state-normal jqx-tooltip-main"),e._text.className+=" "+e.toThemeProperty("jqx-widget jqx-fill-state-normal jqx-tooltip-text"),e._arrow&&(e._arrow.className+=" "+e.toThemeProperty("jqx-widget jqx-fill-state-normal jqx-tooltip-arrow"))},_initialPosition:function(){var e=this.position;this.position="default",this._setPosition(),this.position=e},_detectBrowserBounds:function(){var e=this,t=e._tooltipHelper;this.enableBrowserBoundsDetection?this.tooltipOffset.top<this.documentTop&&this.tooltipOffset.left<0?t.offset({top:this.documentTop,left:this.documentLeft}):this.tooltipOffset.top<this.documentTop&&this.tooltipOffset.left+this.tooltipWidth>this.windowWidth+this.documentLeft?t.offset({top:this.documentTop,left:this.windowWidth+this.documentLeft-this.tooltipWidth}):this.tooltipOffset.top<this.documentTop?t.offset({top:this.documentTop,left:this.tooltipOffset.left}):this.tooltipOffset.top+this.tooltipHeight>this.windowHeight+this.documentTop&&this.tooltipOffset.left<0?t.offset({top:this.windowHeight+this.documentTop-this.tooltipHeight,left:this.documentLeft}):this.tooltipOffset.top+this.tooltipHeight>this.windowHeight+this.documentTop&&this.tooltipOffset.left+this.tooltipWidth>this.windowWidth+this.documentLeft?t.offset({top:this.windowHeight+this.documentTop-this.tooltipHeight,left:this.windowWidth+this.documentLeft-this.tooltipWidth}):this.tooltipOffset.top+this.tooltipHeight>this.windowHeight+this.documentTop?t.offset({top:this.windowHeight+this.documentTop-this.tooltipHeight,left:this.tooltipOffset.left}):this.tooltipOffset.left<0?t.offset({top:this.tooltipOffset.top,left:this.documentLeft}):this.tooltipOffset.left+this.tooltipWidth>this.windowWidth+this.documentLeft?t.offset({top:this.tooltipOffset.top,left:this.windowWidth+this.documentLeft-this.tooltipWidth}):t.offset({top:this.tooltipOffset.top,left:this.tooltipOffset.left}):t.offset({top:this.tooltipOffset.top,left:this.tooltipOffset.left})},_checkBoundaries:function(e){return e.pageX>=this.hostOffset.left&&e.pageX<=this.hostOffset.left+this.hostWidth&&e.pageY>=this.hostOffset.top&&e.pageY<=this.hostOffset.top+this.hostHeight},_checkBoundariesClick:function(e){this._checkBoundaries(e)?this._clickFlag=1:this._clickFlag=0},_checkBoundariesAuto:function(e){this._checkBoundaries(e)?this._autoFlag=1:this._autoFlag=0},_removeHandlers:function(){this.removeHandler(this.host,"mouseenter.tooltip"),this.removeHandler(this.host,"mousemove.tooltip"),this.removeHandler(this.host,"mouseleave.tooltip"),this.removeHandler(this.host,"click.tooltip"),this.removeHandler(this.host,"touchstart.tooltip"),this.removeHandler(this._tooltipHelper,"click.tooltip"),this.removeHandler(this._tooltipHelper,"mouseleave.tooltip")},_closeAll:function(){for(var e=0;e<this.IDArray.length;e++){var t=this.IDArray[e].tooltipID,i=document.getElementById(t);i!==this._tooltip&&(i.style.opacity=0,i.style.visibility="hidden",i.style.display="none",this._isOpen=!1)}},_toPx:function(e){return"number"==typeof e?e+"px":e},_removeClass:function(t,i){e(t).removeClass(i)}})}(jqxBaseFramework),function(e){e.jqx.jqxWidget("jqxDateTimeInput","",{}),e.extend(e.jqx._jqxDateTimeInput.prototype,{defineInstance:function(){var t={value:e.jqx._jqxDateTimeInput.getDateTime(new Date),minDate:e.jqx._jqxDateTimeInput.getDateTime(new Date),maxDate:e.jqx._jqxDateTimeInput.getDateTime(new Date),min:new Date(1900,0,1),max:new Date(2100,0,1),rowHeaderWidth:25,enableViews:!0,views:["month","year","decade"],selectableDays:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],change:null,changing:null,template:"default",columnHeaderHeight:20,titleHeight:30,firstDayOfWeek:0,showWeekNumbers:!1,showTimeButton:!1,cookies:!1,cookieoptions:null,showFooter:!1,formatString:"dd/MM/yyyy",width:200,height:25,dayNameFormat:"firstTwoLetters",textAlign:"left",readonly:!1,culture:"default",activeEditor:null,showCalendarButton:!0,openDelay:250,closeDelay:300,closeCalendarAfterSelection:!0,isEditing:!1,enableBrowserBoundsDetection:!1,dropDownHorizontalAlignment:"left",dropDownVerticalAlignment:"bottom",enableAbsoluteSelection:!1,disabled:!1,buttonSize:21,animationType:"slide",dropDownWidth:"200px",restrictedDates:new Array,dropDownHeight:"205px",dropDownContainer:"default",selectionMode:"default",renderMode:"full",rtl:!1,timeRange:null,_editor:!1,todayString:"Today",clearString:"Clear",popupZIndex:9999999999999,allowNullDate:!0,changeType:null,placeHolder:"",enableHover:!0,allowKeyboardDelete:!0,localization:{backString:"Back",forwardString:"Forward",todayString:"Today",clearString:"Clear",calendar:{name:"Gregorian_USEnglish","/":"/",":":":",firstDay:0,days:{names:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],namesAbbr:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],namesShort:["Su","Mo","Tu","We","Th","Fr","Sa"]},months:{names:["January","February","March","April","May","June","July","August","September","October","November","December",""],namesAbbr:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec",""]},AM:["AM","am","AM"],PM:["PM","pm","PM"],eras:[{name:"A.D.",start:null,offset:0}],twoDigitYearMax:2029,patterns:{d:"M/d/yyyy",D:"dddd, MMMM dd, yyyy",t:"h:mm tt",T:"h:mm:ss tt",f:"dddd, MMMM dd, yyyy h:mm tt",F:"dddd, MMMM dd, yyyy h:mm:ss tt",M:"MMMM dd",Y:"yyyy MMMM",S:"yyyy'-'MM'-'dd'T'HH':'mm':'ss",ISO:"yyyy-MM-dd hh:mm:ss"}}},events:["valueChanged","textchanged","mousedown","mouseup","keydown","keyup","keypress","open","close","change"],aria:{"aria-valuenow":{name:"getDate",type:"date"},"aria-valuetext":{name:"getText",type:"string"},"aria-valuemin":{name:"min",type:"date"},"aria-valuemax":{name:"max",type:"date"},"aria-disabled":{name:"disabled",type:"boolean"}}};return this===e.jqx._jqxDateTimeInput.prototype?t:(e.extend(!0,this,t),this.value._setHours(0),this.value._setMinutes(0),this.value._setSeconds(0),this.value._setMilliseconds(0),this.minDate._setYear(1900),this.minDate._setMonth(1),this.minDate._setDay(1),this.minDate._setHours(1),this.minDate._setMinutes(1),this.minDate._setSeconds(1),this.minDate._setMilliseconds(1),this.maxDate._setYear(2100),this.maxDate._setMonth(1),this.maxDate._setDay(1),this.maxDate._setHours(1),this.maxDate._setMinutes(1),this.maxDate._setSeconds(1),this.maxDate._setMilliseconds(1),this.defaultMinDate=this.minDate,this.defaultMaxDate=this.maxDate,t)},createInstance:function(t){var i="",r=this;if(!r.host.jqxCalendar)throw new Error("jqxDateTimeInput: Missing reference to jqxcalendar.js.");if("dd/MM/yyyy"!=r.formatString){var s=r.formatString.split(" ");if(s&&s.length>1){for(var a="",n=0;n<s.length;n++)a+="1"==s[n].length?r._getFormatValue(s[n]):s[n],n<s.length-1&&(a+=" ");r.formatString=a}}if("input"==r.element.nodeName.toLowerCase()){var o=r.element.getAttribute("type");if(o&&"dd/MM/yyyy"==r.formatString){if("date"==o&&(r.formatString="d"),"datetime"==o){var l=r._getFormatValue("d")+" "+r._getFormatValue("t");r.formatString=l,r.showTimeButton=!0}"time"==o&&(r.formatString="t",r.showTimeButton=!0,r.showCalendarButton=!1)}if(r.field=r.element,r.field.getAttribute("min")){var h=new Date(r.field.getAttribute("min"));"Invalid Date"!=h&&(r.min=h)}if(r.field.getAttribute("max")){var d=new Date(r.field.getAttribute("max"));"Invalid Date"!=d&&(r.max=d)}r.field.className&&(r._className=r.field.className);var c={title:r.field.title};r.field.value&&(c.value=r.field.value),r.field.id.length?c.id=r.field.id.replace(/[^\w]/g,"_")+"_jqxDateTimeInput":c.id=e.jqx.utilities.createId()+"_jqxDateTimeInput";var u=e("<div></div>",c);u[0].style.cssText=r.field.style.cssText,r.width||(r.width=e(r.field).width()),r.height||(r.height=e(r.field).outerHeight()),e(r.field).hide().after(u);var p=r.host.data();if(r.host=u,r.host.data(p),r.element=u[0],r.element.id=r.field.id,r.field.id=c.id,r._className&&(r.host.addClass(r._className),e(r.field).removeClass(r._className)),r.field.tabIndex){var f=r.field.tabIndex;r.field.tabIndex=-1,r.element.tabIndex=f}}if(r.host.attr("value")){i=!0;var m=r.host.attr("value");if("range"!=r.selectionMode){var g=new Date(m);void 0==g||isNaN(g)||(r.value=e.jqx._jqxDateTimeInput.getDateTime(g))}}if(null!=r.value&&r.value instanceof Date)r.value=e.jqx._jqxDateTimeInput.getDateTime(r.value);else if(null!=r.value&&"string"==typeof r.value){var g=new Date(r.value);if(void 0==g||isNaN(g)){if(r.value.indexOf(",")>=0){r.value=r.value.replace(/\,/g,"/");var g=new Date(r.value);void 0==g||isNaN(g)||(r.value=e.jqx._jqxDateTimeInput.getDateTime(g))}}else r.value=e.jqx._jqxDateTimeInput.getDateTime(g)}if(this._initTimeRange(),this._validateTimeRange(),r.host.attr("data-role","input"),r.render(),e.jqx.aria(this),null!=r.getDate()?e.jqx.aria(this,"aria-label","Current focused date is "+r.getDate().toLocaleString()):e.jqx.aria(this,"aria-label","Current focused date is Null"),r.minDate!==r.defaultMinDate&&(r.min=r.minDate),r.maxDate!==r.defaultMaxDate&&(r.max=r.maxDate),r.setMaxDate(r.max,!1),r.setMinDate(r.min,!1),"range"==r.selectionMode)if(i){var m=r.host.attr("value"),v=m.substring(0,m.indexOf("-")),x=m.substring(m.indexOf("-")+1),b=new Date(v),w=new Date(x);void 0==b||isNaN(b)||void 0==w||isNaN(w)||r.setRange(b,w)}else null!=r.getDate()&&r.setRange(r.getDate(),r.getDate())},_validateTimeRange:function(){if(this.timeRange){var e=this.value.dateTime.getHours(),t=this.value.dateTime.getMinutes();e<=this.timeRange.minHour&&(this.value._setHours(this.timeRange.minHour),t<this.timeRange.minMinute?(this.value._setMinutes(this.timeRange.minMinute),this._updateEditorsValue()):this._updateEditorsValue()),e>=this.timeRange.maxHour&&(this.value._setHours(this.timeRange.maxHour),t>this.timeRange.maxMinute?(this.value._setMinutes(this.timeRange.maxMinute),this._updateEditorsValue()):this._updateEditorsValue())}},_initTimeRange:function(){if(this.timeRange){if(this.timeRange.min){var e=null;(this.timeRange.min.indexOf("AM")>=0||this.timeRange.min.indexOf("PM")>=0)&&(e=this.timeRange.min.indexOf("AM")>=0?"AM":"PM");var t=this.timeRange.min.split(":"),i=parseInt(t[0]),r=parseInt(t[1]);e&&(this.timeRange.minDefaultHour=i,this.timeRange.minMeridian=e),e&&"PM"==e&&(i+=12),this.timeRange.minHour=i,this.timeRange.minMinute=r}if(this.timeRange.max){var e=null;(this.timeRange.max.indexOf("AM")>=0||this.timeRange.max.indexOf("PM")>=0)&&(e=this.timeRange.max.indexOf("AM")>=0?"AM":"PM");var s=this.timeRange.max.split(":"),i=parseInt(s[0]),r=parseInt(s[1]);e&&(this.timeRange.maxDefaultHour=i,this.timeRange.maxMeridian=e),e&&"PM"==e&&(i+=12),this.timeRange.maxHour=i,this.timeRange.maxMinute=r}}},_format:function(t,i,r){var s=!1;try{void 0!=Globalize&&(s=!0)}catch(a){}if(e.global)return e.global.format(t,i,this.culture);if(!s){if(e.jqx.dataFormat)return t instanceof Date?e.jqx.dataFormat.formatdate(t,i,this.localization.calendar):"number"==typeof t?e.jqx.dataFormat.formatnumber(t,i,this.localization.calendar):e.jqx.dataFormat.formatdate(t,i,this.localization.calendar);throw new Error("jqxDateTimeInput: Missing reference to globalize.js.")}try{var i=Globalize.format(t,i,this.culture);return i}catch(a){return Globalize.format(t,i)}},render:function(){var t=this;t._removeHandlers(),t.element.innerHTML="",t.host.attr({role:"textbox"}),t.id=e.jqx.utilities.createId();e.jqx.utilities.createId(),e.jqx.utilities.createId();t._setSize(),null==t.width&&(t.width=t.host.width(),t.host.width(t.width)),t.touch=e.jqx.mobile.isTouchDevice();var i=e("<div class='jqx-max-size jqx-position-relative'></div>").appendTo(t.host);t.dateTimeInput=e("<input style='border: none; padding-left: 3px; padding-right: 3px;' class='jqx-position-absolute' id='input"+t.element.id+"' autocomplete='off' type='textarea'/>").appendTo(i),t.dateTimeInput.addClass(t.toThemeProperty("jqx-reset")),t.dateTimeInput.addClass(t.toThemeProperty("jqx-clear")),t.dateTimeInput.addClass(t.toThemeProperty("jqx-input-content")),t.dateTimeInput.addClass(t.toThemeProperty("jqx-widget-content")),t.dateTimeInput.addClass(t.toThemeProperty("jqx-rc-all")),t.dateTimeInput.attr("placeHolder",t.placeHolder),"full"!=t.renderMode&&t.dateTimeInput.remove();var r=t.host.attr("name");r&&t.dateTimeInput.attr("name",r),t.host.attr("tabindex")&&(t.dateTimeInput.attr("tabindex",t.host.attr("tabindex")),t.host.removeAttr("tabindex")),t.rtl&&(t.dateTimeInput.css("direction","rtl"),t.dateTimeInput.addClass("jqx-rtl")),t.calendarButton=e("<div style='height: 100%;' class='jqx-position-absolute'><div></div></div>").appendTo(i),t.rtl?t.calendarButton.addClass(t.toThemeProperty("jqx-action-button-rtl")):t.calendarButton.addClass(t.toThemeProperty("jqx-action-button")),t.calendarButtonIcon=e(t.calendarButton.children()[0]),t.calendarButtonIcon.addClass(t.toThemeProperty("jqx-icon")),t.calendarButtonIcon.addClass(t.toThemeProperty("jqx-icon-calendar")),t.calendarButton.addClass(t.toThemeProperty("jqx-fill-state-normal")),t.rtl?t.calendarButton.addClass(t.toThemeProperty("jqx-rc-l")):t.showTimeButton||t.calendarButton.addClass(t.toThemeProperty("jqx-rc-r")),t.timeButton=e("<div style='height: 100%;' class='jqx-position-absolute'><div></div></div>").appendTo(i),t.rtl?t.timeButton.addClass(t.toThemeProperty("jqx-action-button-rtl")):t.timeButton.addClass(t.toThemeProperty("jqx-action-button")),t.template&&(t.timeButton.addClass(t.toThemeProperty("jqx-"+t.template)),t.calendarButton.addClass(t.toThemeProperty("jqx-"+t.template))),t.timeButtonIcon=e(t.timeButton.children()[0]),t.timeButtonIcon.addClass(t.toThemeProperty("jqx-icon")),t.timeButtonIcon.addClass(t.toThemeProperty("jqx-icon-time")),t.timeButton.addClass(t.toThemeProperty("jqx-fill-state-normal")),t.rtl?t.timeButton.addClass(t.toThemeProperty("jqx-rc-l")):t.timeButton.addClass(t.toThemeProperty("jqx-rc-r"));var s=this;if(t._arrange(),null!=e.jqx._jqxCalendar&&void 0!=e.jqx._jqxCalendar)try{var a="calendar"+t.id,n=e(e.find("#"+a));n.length>0&&n.remove(),e.jqx.aria(this,"aria-owns",a),e.jqx.aria(this,"aria-haspopup",!0),e.jqx.aria(this,"aria-readonly","range"==t.selectionMode);var o=e("<div style='overflow: hidden; background: transparent; position: absolute;' id='calendar"+t.id+"'><div id='innerCalendar"+t.id+"'></div><div id='innerTime"+t.id+"'></div></div>");"opera"==e.jqx.utilities.getBrowser().browser&&o.hide(),"element"==t.dropDownContainer?o.appendTo(t.host):o.appendTo(document.body),t.container=o,t.calendarContainer=e(e.find("#innerCalendar"+t.id)).jqxCalendar({restrictedDates:this.restrictedDates,changing:t.changing,change:t.change,enableViews:t.enableViews,selectableDays:t.selectableDays,views:t.views,rowHeaderWidth:t.rowHeaderWidth,titleHeight:t.titleHeight,columnHeaderHeight:t.columnHeaderHeight,_checkForHiddenParent:!1,enableAutoNavigation:!1,canRender:!1,localization:t.localization,todayString:t.todayString,clearString:t.clearString,dayNameFormat:t.dayNameFormat,rtl:t.rtl,culture:t.culture,showFooter:t.showFooter,selectionMode:t.selectionMode,firstDayOfWeek:t.firstDayOfWeek,showWeekNumbers:t.showWeekNumbers,width:t.dropDownWidth,height:t.dropDownHeight,theme:t.theme}),"element"==t.dropDownContainer?t.calendarContainer.css({position:"absolute",top:0,left:0}):t.calendarContainer.css({position:"absolute",zIndex:t.popupZIndex,top:0,left:0}),t.calendarContainer.addClass(t.toThemeProperty("jqx-popup")),e.jqx.browser.msie&&t.calendarContainer.addClass(t.toThemeProperty("jqx-noshadow")),t.timeContainer=e(e.find("#innerTime"+t.id)),t.timeContainer.css({position:"absolute",zIndex:t.popupZIndex,top:0,left:0}),t.timeContainer.addClass(t.toThemeProperty("jqx-popup")),e.jqx.browser.msie&&t.timeContainer.addClass(t.toThemeProperty("jqx-noshadow")),t._calendar=e.data(t.calendarContainer[0],"jqxCalendar").instance;var s=this;t._calendar.today=function(){s.today()},t._calendar.clear=function(){s.clear()},"opera"==e.jqx.utilities.getBrowser().browser&&o.show(),o.height(parseInt(t.calendarContainer.height())+25),o.width(parseInt(t.calendarContainer.width())+25),"range"==t.selectionMode&&(t.readonly=!0),"none"==t.animationType?t.container.css("display","none"):t.container.hide()}catch(l){}if(e.global&&e.global.preferCulture(t.culture),t.selectedText="",t._addHandlers(),t.self=this,t.oldValue=t.getDate(),t.items=new Array,t.editors=new Array,t._loadItems(),t.editorText="",1==t.readonly&&t.dateTimeInput.css("readonly",t.readonly),t.dateTimeInput.css("text-align",t.textAlign),t.host.addClass(t.toThemeProperty("jqx-widget")),t.host.addClass(t.toThemeProperty("jqx-datetimeinput")),t.host.addClass(t.toThemeProperty("jqx-input")),t.host.addClass(t.toThemeProperty("jqx-overflow-hidden")),t.host.addClass(t.toThemeProperty("jqx-rc-all")),t.host.addClass(t.toThemeProperty("jqx-reset")),t.host.addClass(t.toThemeProperty("jqx-clear")),t.host.addClass(t.toThemeProperty("jqx-widget-content")),t.propertyChangeMap.disabled=function(t,i,r,a){a?(t.host.addClass(s.toThemeProperty("jqx-input-disabled")),t.host.addClass(s.toThemeProperty("jqx-fill-state-disabled"))):(t.host.removeClass(s.toThemeProperty("jqx-fill-state-disabled")),t.host.removeClass(s.toThemeProperty("jqx-input-disabled"))),e.jqx.aria(this,"aria-disabled",a)},t.disabled&&(t.host.addClass(t.toThemeProperty("jqx-input-disabled")),t.host.addClass(t.toThemeProperty("jqx-fill-state-disabled")),t.dateTimeInput.attr("disabled",!0)),t.host.parents("form").length>0&&t.addHandler(t.host.parents("form"),"reset",function(){setTimeout(function(){s.setDate(new Date)},10)}),t.cookies){var h=e.jqx.cookie.cookie("jqxDateTimeInput"+t.element.id);null!=h&&t.setDate(new Date(h))}if(e.jqx.browser.msie&&e.jqx.browser.version<8&&t.host.parents(".jqx-window").length>0){var d=t.host.parents(".jqx-window").css("z-index");t.container.css("z-index",d+10),t.calendarContainer.css("z-index",d+10)}"default"!=t.culture&&t._applyCulture(),t.value&&(t.calendarContainer.jqxCalendar("_isDisabled",t.value.dateTime)?t.dateTimeInput.addClass(t.toThemeProperty("jqx-input-invalid")):t.dateTimeInput.removeClass(t.toThemeProperty("jqx-input-invalid")))},val:function(e){var t=this;if(0!=arguments.length){if(null==e&&t.setDate(null),"range"==t.selectionMode)return t.setRange(arguments[0],arguments[1]),t.getText();if(e instanceof Date&&t.setDate(e),"string"==typeof e){if("date"==e)return t.getDate();t.setDate(e)}t._calendar.getDate()!=t.getDate()&&t._calendar.setDate(t.getDate())}return t.getText()},_setSize:function(){null!=this.width&&-1!=this.width.toString().indexOf("px")?this.element.style.width=parseInt(this.width)+"px":void 0==this.width||isNaN(this.width)||(this.element.style.width=parseInt(this.width)+"px"),null!=this.height&&-1!=this.height.toString().indexOf("px")?this.element.style.height=parseInt(this.height)+"px":void 0==this.height||isNaN(this.height)||(this.element.style.height=parseInt(this.height)+"px");var t=!1;null!=this.width&&-1!=this.width.toString().indexOf("%")&&(t=!0,this.host.width(this.width)),null!=this.height&&-1!=this.height.toString().indexOf("%")&&(t=!0,this.host.height(this.height));var i=this,r=function(){i.calendarContainer&&i._arrange()};if(t&&this.calendarContainer){this._arrange();var s=this.host.width();"auto"!=this.dropDownWidth&&(s=this.dropDownWidth),this.calendarContainer.jqxCalendar({width:s}),this.container.width(parseInt(s)+25)}e.jqx.utilities.resize(this.host,function(){r()})},_arrange:function(){null==this.height&&(this.height=27,this.host.height(27));var t=parseInt(this.host.width()),i=parseInt(this.host.height()),r=this.buttonSize,s=2;this.showCalendarButton||this.showTimeButton||(r=0,buttonHeight=0,this.calendarButton.hide(),s=0),this.showCalendarButton?this.calendarButton.show():this.calendarButton.hide(),this.showTimeButton?this.timeButton.show():this.timeButton.hide();var a=t-r-1*s;if(this.showTimeButton&&this.showCalendarButton)var a=t-2*r-1*s;else if(this.showTimeButton||this.showCalendarButton)var a=t-r-1*s;a>0&&(this.dateTimeInput[0].style.width=a+"px"),this.rtl&&(this.dateTimeInput[0].style.width=-1+a+"px"),this.dateTimeInput[0].style.left="0px",this.dateTimeInput[0].style.top="0px",this.calendarButton[0].style.width=r+1+"px",this.calendarButton[0].style.left=1+a+"px",this.timeButton[0].style.width=r+1+"px",this.showCalendarButton?this.timeButton[0].style.left=1+this.calendarButton.width()+a+"px":this.timeButton[0].style.left=1+a+"px","full"!=this.renderMode&&(this.calendarButton[0].style.width="100%",this.calendarButton[0].style.left="0px",this.calendarButton.css("border","none"),this.timeButton[0].style.width="100%",this.timeButton[0].style.left="0px",this.timeButton.css("border","none"));var n=this.dateTimeInput.height();0==n&&"full"!=this.renderMode?(n=parseInt(this.dateTimeInput.css("font-size"))+3,this.calendarButton.addClass(this.toThemeProperty("jqx-rc-all")),this.timeButton.addClass(this.toThemeProperty("jqx-rc-all"))):n=17,-1==this.dateTimeInput[0].className.indexOf("jqx-rc-all")&&this.dateTimeInput.addClass(this.toThemeProperty("jqx-rc-all"));var o=parseInt(i)/2-parseInt(n)/2;if(o>0){var l=this.dateTimeInput.css("font-size");""==l&&(l=13);var o=i-2-parseInt(l)-2;isNaN(o)&&(o=0),0>o&&(o=0);var h=o/2;e.jqx.browser.msie&&e.jqx.browser.version<8&&(h=o/4),this.dateTimeInput[0].style.paddingTop=Math.round(h)+"px",this.dateTimeInput[0].style.paddingBottom=Math.round(h)+"px"}this.rtl&&(this.calendarButton[0].style.width=r+"px",this.timeButton[0].style.width=r+"px",this.calendarButton.css("left","0px"),this.showCalendarButton?this.timeButton.css("left",r+"px"):this.timeButton.css("left","0px"),this.dateTimeInput.css("left",this.calendarButton.width()),this.showTimeButton&&this.showCalendarButton&&this.dateTimeInput.css("left",this.timeButton.width()+this.calendarButton.width()),e.jqx.browser.msie&&e.jqx.browser.version<=8&&(this.dateTimeInput.css("left",1+this.calendarButton.width()),this.showTimeButton&&this.showCalendarButton&&this.dateTimeInput.css("left",1+this.timeButton.width()+this.calendarButton.width())))},_removeHandlers:function(){this.removeHandler(e(document),"mousedown."+this.id),this.dateTimeInput&&(this.removeHandler(this.dateTimeInput,"keydown."+this.id),this.removeHandler(this.dateTimeInput,"blur"),this.removeHandler(this.dateTimeInput,"focus"),this.removeHandler(this.host,"focus"),this.removeHandler(this.dateTimeInput,"mousedown"),this.removeHandler(this.dateTimeInput,"mouseup"),this.removeHandler(this.dateTimeInput,"keydown"),this.removeHandler(this.dateTimeInput,"keyup"),this.removeHandler(this.dateTimeInput,"keypress")),null!=this.calendarButton&&this.removeHandler(this.calendarButton,"mousedown"),null!=this.timeButton&&this.removeHandler(this.timeButton,"mousedown"),null!=this.calendarContainer&&(this.removeHandler(this.calendarContainer,"cellSelected"),this.removeHandler(this.calendarContainer,"cellMouseDown")),this.removeHandler(e(window),"resize."+this.id)},isOpened:function(){var t=this,i=e.data(document.body,"openedJQXCalendar"+this.id);return null!=i&&i==t.calendarContainer},wheel:function(e,t){if(t.isEditing){t.changeType="mouse";var i=0;if(e||(e=window.event),e.originalEvent&&e.originalEvent.wheelDelta&&(e.wheelDelta=e.originalEvent.wheelDelta),e.wheelDelta?i=e.wheelDelta/120:e.detail&&(i=-e.detail/3),i){var r=t._handleDelta(i);return r?!1:(e.preventDefault&&e.preventDefault(),e.returnValue=!1,r)}e.preventDefault&&e.preventDefault(),e.returnValue=!1}},_handleDelta:function(e){return 0>e?this.spinDown():this.spinUp(),!1},focus:function(){try{var e=this;e._firstFocusDate=e.getDate(),this._setSelectionStart(0),this._selectGroup(-1),this.dateTimeInput.focus(),setTimeout(function(){e._setSelectionStart(0),e._selectGroup(-1),e.dateTimeInput.focus()},25)}catch(t){}},_addHandlers:function(){var t=(this.element.id,this.element,this);this.host.parents()&&this.addHandler(this.host.parents(),"scroll.datetimeinput"+this.element.id,function(e){var i=t.isOpened();i&&t.close()}),this.addHandler(this.host,"mouseenter",function(){!t.disabled&&t.enableHover&&(hovered=!0,t.calendarButtonIcon.addClass(t.toThemeProperty("jqx-icon-calendar-hover")),t.calendarButton.addClass(t.toThemeProperty("jqx-fill-state-hover")),t.showTimeButton&&(t.timeButtonIcon.addClass(t.toThemeProperty("jqx-icon-time-hover")),t.timeButton.addClass(t.toThemeProperty("jqx-fill-state-hover"))))}),this.addHandler(this.host,"mouseleave",function(){!t.disabled&&t.enableHover&&(t.calendarButtonIcon.removeClass(t.toThemeProperty("jqx-icon-calendar-hover")),t.calendarButton.removeClass(t.toThemeProperty("jqx-fill-state-hover")),t.showTimeButton&&(t.timeButtonIcon.removeClass(t.toThemeProperty("jqx-icon-time-hover")),t.timeButton.removeClass(t.toThemeProperty("jqx-fill-state-hover"))))}),this.addHandler(this.host,"mousewheel",function(e){t.wheel(e,t)}),this.addHandler(e(document),"mousedown."+this.id,this._closeOpenedCalendar,{me:this}),e.jqx.mobile.isTouchDevice()&&this.addHandler(e(document),e.jqx.mobile.getTouchEventName("touchstart")+"."+this.id,this._closeOpenedCalendar,{me:this}),this.addHandler(this.dateTimeInput,"keydown."+this.id,function(i){var r=e.data(document.body,"openedJQXCalendar"+t.id);if(null!=r&&r==t.calendarContainer){var s=t.handleCalendarKey(i,t);return s}}),null!=this.calendarContainer&&(this.addHandler(this.calendarContainer,"keydown",function(e){if(13==e.keyCode)return t.isOpened()&&!t._calendar._viewAnimating&&"month"==t._calendar.view?(t.hideCalendar("selected","keyboard"),t.dateTimeInput.focus(),!1):!0;if(9==e.keyCode){if(t.isOpened())return t.hideCalendar("selected","keyboard"),!0}else if(27==e.keyCode)return t.isOpened()?(t.hideCalendar(null,"keyboard"),t.dateTimeInput.focus(),!1):!0;if(t.timePopup=!1,84==e.keyCode&&(t.timePopup=!0),115==e.keyCode){if(t.isOpened())return t.hideCalendar("keyboard","keyboard"),t.dateTimeInput.focus(),!1;if(!t.isOpened())return t.showCalendar("keyboard","keyboard"),t.dateTimeInput.focus(),!1}if(e.altKey)if(38==e.keyCode){if(t.isOpened())return t.hideCalendar("keyboard","keyboard"),t.dateTimeInput.focus(),!1}else if(40==e.keyCode&&!t.isOpened())return t.showCalendar("keyboard","keyboard"),t.dateTimeInput.focus(),!1}),this.addHandler(this.calendarContainer,"cellSelected",function(i){if(t.closeCalendarAfterSelection){e.data(document.body,"openedJQXCalendarValue");"mouse"==i.args.selectionType&&("range"!=t.selectionMode?t.hideCalendar("selected","mouse"):0==t._calendar._clicks&&t.hideCalendar("selected","mouse"))}}),this.addHandler(this.calendarContainer,"cellMouseDown",function(i){t.closeCalendarAfterSelection&&t._calendar.value&&e.data(document.body,"openedJQXCalendarValue",new e.jqx._jqxDateTimeInput.getDateTime(t._calendar.value.dateTime))})),this.addHandler(this.dateTimeInput,"blur",function(e){if(null!=t.value){t.isEditing=!1;t.value.dateTime.getDay(),t._oldDT;t._validateValue(!0),e.stopPropagation&&e.stopPropagation(),t._updateText(),t._raiseEvent(9,e)}t.isOpened()||t.host.removeClass(t.toThemeProperty("jqx-fill-state-focus"))}),this.addHandler(this.host,"focus",function(e){t.focus()}),this.addHandler(this.dateTimeInput,"focus",function(e){return t._firstFocusDate=t.getDate(),null!=t.value?("range"!=t.selectionMode?t._oldDT=new Date(t.value.dateTime):t._oldDT=t.getRange(),
setTimeout(function(){var e=t._selection();t.isEditing=!0,t._validateValue(),t._updateText(),t._setSelectionStart(0),t._selectGroup(-1,e),t.host.addClass(t.toThemeProperty("jqx-fill-state-focus"))})):(t._setSelectionStart(0),t._selectGroup(-1),t.host.addClass(t.toThemeProperty("jqx-fill-state-focus"))),e.stopPropagation&&e.stopPropagation(),e.preventDefault?(e.preventDefault(),!1):void 0});var i="mousedown";this.touch&&(i=e.jqx.mobile.getTouchEventName("touchstart")),this.addHandler(this.calendarButton,i,function(e){var i=t.container,r="block"==i.css("display");if(t.timePopup=!1,t.calendarPopup=!0,!t.disabled&&!t.isanimating){if(r)return t.hideCalendar(),!1;t.showCalendar("mouse"),e.preventDefault()}}),this.addHandler(this.timeButton,i,function(e){var i=t.container,r="block"==i.css("display");if(t.timePopup=!0,t.calendarPopup=!1,!t.disabled&&!t.isanimating){if(r)return t.hideCalendar("mouse","mouse"),!1;t.showCalendar("mouse"),e.preventDefault()}}),this.addHandler(this.dateTimeInput,"mousedown",function(e){return t._raiseEvent(2,e)}),this.addHandler(this.dateTimeInput,"mouseup",function(e){return t._raiseEvent(3,e)}),this.addHandler(this.dateTimeInput,"keydown",function(e){return t._raiseEvent(4,e)}),this.addHandler(this.dateTimeInput,"keyup",function(e){return t._raiseEvent(5,e)}),this.addHandler(this.dateTimeInput,"keypress",function(e){return t._raiseEvent(6,e)})},createID:function(){var e=Math.random()+"";return e=e.replace(".",""),e="99"+e,e/=1,"dateTimeInput"+e},setMaxDate:function(t,i){null!=t&&(null!=t&&"string"==typeof t&&(t=new Date(t),"Invalid Date"==t)||(this.maxDate=e.jqx._jqxDateTimeInput.getDateTime(t),null!=this._calendar&&this._calendar.setMaxDate(t),0!=i&&(null!=this.getDate()&&this.getDate()>t&&this.setDate(t),e.jqx.aria(this,"aria-valuemax",t),this._refreshValue(),this._updateText())))},getMaxDate:function(){return null!=this.maxDate&&void 0!=this.maxDate?this.maxDate.dateTime:null},setMinDate:function(t,i){null!=t&&(null!=t&&"string"==typeof t&&(t=new Date(t),"Invalid Date"==t)||(this.minDate=e.jqx._jqxDateTimeInput.getDateTime(t),null!=this._calendar&&this._calendar.setMinDate(t),0!=i&&(null!=this.getDate()&&this.getDate()<t&&this.setDate(t),e.jqx.aria(this,"aria-valuemin",t),this._refreshValue(),this._updateText())))},getMinDate:function(){return null!=this.minDate&&void 0!=this.minDate?this.minDate.dateTime:null},_applyCulture:function(){var t=!1;try{void 0!=Globalize&&(t=!0)}catch(i){}try{if(e.global)e.global.preferCulture(this.culture),this.localization.calendar=e.global.culture.calendar;else if(t){var r=Globalize.culture(this.culture);this.localization.calendar=r.calendar}this._loadItems(),null!=this._calendar&&(this._calendar.culture=this.culture,this._calendar.localization=this.localization,this._calendar.render())}catch(i){}},propertyMap:function(e){return"value"==e?"range"!=this.selectionMode?this.getDate():this.getRange():null},propertiesChangedHandler:function(e,t,i){i&&i.width&&i.height&&2==Object.keys(i).length&&(e.refresh(),e.close())},propertyChangedHandler:function(t,i,r,s){if(void 0!=t.isInitialized&&0!=t.isInitialized&&!(t.batchUpdate&&t.batchUpdate.width&&t.batchUpdate.height&&2==Object.keys(t.batchUpdate).length)){if("template"==i&&(t.timeButton.removeClass(t.toThemeProperty("jqx-"+r)),t.calendarButton.removeClass(t.toThemeProperty("jqx-"+r)),t.timeButton.addClass(t.toThemeProperty("jqx-"+t.template)),t.calendarButton.addClass(t.toThemeProperty("jqx-"+t.template))),"restrictedDates"==i&&t.calendarContainer.css({restrictedDates:s}),"popupZIndex"==i&&t.calendarContainer.css({zIndex:s}),"showCalendarButton"==i&&t._arrange(),"showTimeButton"==i&&(t._arrange(),t.timePopupElement&&(t.timePopupElement.remove(),t.timePopupElement=null)),"selectionMode"==i&&(t._calendar.selectionMode=s,t.refreshValue()),"min"==i&&("string"==typeof s?t.setMinDate(new Date(s)):t.setMinDate(s)),"max"==i&&("string"==typeof s?t.setMaxDate(new Date(s)):t.setMaxDate(s)),"value"==i)if(null!=s&&s instanceof Date){if(isNaN(s.getFullYear())||isNaN(s.getMonth())||isNaN(s.getDate()))return void(this.value=r);s=e.jqx._jqxDateTimeInput.getDateTime(s)}else if(null!=s&&"string"==typeof s){var a=new Date(s);void 0==a||isNaN(a)||(this.value=e.jqx._jqxDateTimeInput.getDateTime(a))}if("views"==i&&t.calendarContainer.jqxCalendar({views:s}),"enableViews"==i&&t.calendarContainer.jqxCalendar({enableViews:s}),"selectableDays"==i&&t.calendarContainer.jqxCalendar({selectableDays:s}),"showFooter"==i&&t.calendarContainer.jqxCalendar({showFooter:s}),"rtl"==i&&(t.calendarContainer.jqxCalendar({rtl:s}),s?(t.dateTimeInput.css("direction","rtl"),t.dateTimeInput.addClass("jqx-rtl")):(t.dateTimeInput.css("direction","ltr"),t.dateTimeInput.removeClass("jqx-rtl"))),"todayString"!=i&&"clearString"!=i||t.calendarContainer.jqxCalendar({clearString:t.clearString,todayString:t.todayString}),"dayNameFormat"==i&&t.calendarContainer.jqxCalendar({dayNameFormat:s}),"firstDayOfWeek"==i&&t.calendarContainer.jqxCalendar({firstDayOfWeek:s}),"showWeekNumbers"==i&&t.calendarContainer.jqxCalendar({showWeekNumbers:s}),"culture"==i||"localization"==i?t._applyCulture():"formatString"==i&&(t.items=new Array,t._loadItems()),"theme"==i&&(e.jqx.utilities.setTheme(r,s,t.host),t.calendarContainer.jqxCalendar({theme:s})),"width"==i||"height"==i)return t.close(),void t.refresh();t._setOption(i,s,r),"dropDownWidth"!=i&&"dropDownHeight"!=i||(t.calendarContainer.jqxCalendar({width:t.dropDownWidth,height:t.dropDownHeight}),t._calendar.render(),t.container.height(t.calendarContainer.height()),t.container.width(t.calendarContainer.width()))}},clear:function(){this.allowNullDate?("range"!=this.selectionMode?this.setDate(null):(this._calendar._clicks=1,this.setRange(null,null)),this._calendar._clicks=0):"range"!=this.selectionMode?this.setDate(me.getMinDate()):(this._calendar._clicks=1,this.setRange(me.getMinDate(),me.getMinDate()),this._calendar._clicks=0),this.hideCalendar()},today:function(){var e=new Date;if(e.setHours(0,0,0,0),"range"!=this.selectionMode)this.setDate(e);else{this._calendar._clicks=0;var t=new Date;t.setHours(23,59,59,0),this.setRange(e,t),this._calendar._clicks=0}this.hideCalendar()},setDate:function(t){var i=this.getDate();if(null!=t&&"string"==typeof t){var r=t;if(t.toString().indexOf(",")>=0&&(t=t.replace(/\,/g,"/"),t=new Date(t),"Invalid Date"==t&&(t=r)),t.toString().indexOf("-")>=0&&(t=t.replace(/\-/g,"/"),t=new Date(t),"Invalid Date"==t&&(t=r)),""!=t){var s=t;if(t=void 0!=Globalize?Globalize.parseDate(s,this.formatString,this.culture):e.jqx.dataFormat?e.jqx.dataFormat.parsedate(s,this.formatString,this.localization.calendar):new Date(t),"Invalid Date"==t)return;null===t&&null!==s&&"Invalid Date"!=s&&(t=s)}}if(null!=t&&"null"!=t&&"undefined"!=t||this.allowNullDate||(t=this.min),"Invalid Date"==t&&(t=null),null==t||"null"==t||"undefined"==t||""===t)return void(null!=this.value&&(this.value=null,this._calendar.setDate(null),this._refreshValue(),this.cookies&&null!=this.value&&e.jqx.cookie.cookie("jqxDateTimeInput"+this.element.id,this.value.dateTime.toString(),this.cookieoptions),this._setSelectionStart(0),this._selectGroup(-1),this._raiseEvent("0",t,i),this._raiseEvent("9",t,i)));if(!(t<this.getMinDate()||t>this.getMaxDate())){null==this.value&&(this.value=new e.jqx._jqxDateTimeInput.getDateTime(new Date),this.value._setHours(0),this.value._setMinutes(0),this.value._setSeconds(0),this.value._setMilliseconds(0)),t.getFullYear&&(this.value._setYear(t.getFullYear()),this.value._setDay(1),this.value._setMonth(t.getMonth()+1),this.value._setHours(t.getHours()),this.value._setMinutes(t.getMinutes()),this.value._setSeconds(t.getSeconds()),this.value._setMilliseconds(t.getMilliseconds()),this.value._setDay(t.getDate())),this._validateTimeRange(),this._refreshValue(),this.cookies&&null!=this.value&&e.jqx.cookie.cookie("jqxDateTimeInput"+this.element.id,this.value.dateTime.toString(),this.cookieoptions);var a=this.getDate(),n=a-i;return 0!=n?(this._raiseEvent("0",t,i),this._raiseEvent("9",t,i),!0):void 0}},getDate:function(){return void 0==this.value?null:new Date(this.value.dateTime)},getText:function(){return this.dateTimeInput.val()},setRange:function(t,i){if("Invalid Date"==t&&(t=null),"Invalid Date"==i&&(i=null),!(null!=t&&"string"==typeof t&&(t=new Date(t),"Invalid Date"==t)||null!=i&&"string"==typeof i&&(i=new Date(i),"Invalid Date"==i)||t&&isNaN(t)&&"NaN"==t.toString()&&"string"!=typeof t||i&&isNaN(i)&&"NaN"==i.toString()&&"string"!=typeof i)){this._calendar.setRange(t,i),i&&t&&i.valueOf()!=t.valueOf()?this._range={from:t,to:i}:this._range=this._calendar.getRange();var r=t;null!=r&&r.getFullYear&&(null==this.value&&(this.value=new e.jqx._jqxDateTimeInput.getDateTime(new Date),this.value._setHours(0),this.value._setMinutes(0),this.value._setSeconds(0),this.value._setMilliseconds(0)),this.value._setYear(r.getFullYear()),this.value._setMonth(r.getMonth()+1),this.value._setHours(r.getHours()),this.value._setMinutes(r.getMinutes()),this.value._setSeconds(r.getSeconds()),this.value._setMilliseconds(r.getMilliseconds()),this.value._setDay(r.getDate())),this._refreshValue(),this.value?this._raiseEvent("0",this.value.dateTime):this._raiseEvent("0",null)}},getRange:function(){var e=this._calendar.getRange();if(this._range){var t=this._range.from,i=this._range.to;i&&t&&i.valueOf()!=t.valueOf()&&(e.from&&e.from.setHours(t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()),e.to&&e.to.setHours(i.getHours(),i.getMinutes(),i.getSeconds(),i.getMilliseconds()))}return e},_validateValue:function(e){for(var t=!1,i=0;i<this.items.length;i++){var r=this.editors[i].value;switch(this.items[i].type){case"FORMAT_AMPM":0>r?r=0:r>1&&(r=1);break;case"Character":break;case"Day":1>r?r=1:r>31&&(r=31);break;case"FORMAT_hh":1>r?r=1:r>12&&(r=12);break;case"FORMAT_HH":0>r?r=0:r>23&&(r=23);break;case"Millisecond":0>r?r=0:r>999&&(r=999);break;case"Minute":0>r?r=0:r>59&&(r=59);break;case"Month":1>r?r=1:r>12&&(r=12);break;case"ReadOnly":break;case"Second":0>r?r=0:r>59&&(r=59);break;case"Year":r<this.minDate.year?r=this.minDate.year:r>this.maxDate.year&&(r=this.maxDate.year)}this.editors[i].value!=r&&(this.editors[i].value=r,t=!0)}this.updateValue(e),null!=this.value&&e===!0&&(this.value.dateTime>this.maxDate.dateTime?(this._internalSetValue(this.maxDate),this._updateEditorsValue()):this.value.dateTime<this.minDate.dateTime&&(this._internalSetValue(this.minDate),this._updateEditorsValue()),this._updateText())},spinUp:function(){var e=this.value;if(null!=e){if(null!=this.activeEditor){var t=this.editors.indexOf(this.activeEditor);if(-1==t)return;"Day"==this.items[t].type&&null!=this.value&&(this.activeEditor.maxValue=this.value._daysInMonth(this.value.year,this.value.month));var i=this.activeEditor.positions;this.activeEditor.increaseValue(this.enableAbsoluteSelection),this.activeEditor.positions=i}this.isEditing&&(this.isEditing=!1),this.updateValue(),this.isEditing=!0,this._updateText();var r=this.editors.indexOf(this.activeEditor);r>=0&&this._selectGroup(r)}},spinDown:function(){var e=this.value;if(null!=e){if(null!=this.activeEditor){var t=this.editors.indexOf(this.activeEditor);if(-1==t)return;"Day"==this.items[t].type&&null!=this.value&&(this.activeEditor.maxValue=this.value._daysInMonth(this.value.year,this.value.month));var i=this.activeEditor.positions;this.activeEditor.decreaseValue(this.enableAbsoluteSelection),this.activeEditor.positions=i}this.isEditing&&(this.isEditing=!1),this.updateValue(),this.isEditing=!0,this._updateText();var r=this.editors.indexOf(this.activeEditor);r>=0&&this._selectGroup(r)}},_passKeyToCalendar:function(e){if(13==e.keyCode||9==e.keyCode)return this.hideCalendar("selected","keyboard"),!0;if(27==e.keyCode){var t=(this.calendarContainer,this._calendar),i=this.closeCalendarAfterSelection;this.closeCalendarAfterSelection=!1,t.setDate(this.value.dateTime),this.closeCalendarAfterSelection=i,this.hideCalendar()}var i=this.closeCalendarAfterSelection;this.closeCalendarAfterSelection=!1;var r=this._calendar._handleKey(e);return this.closeCalendarAfterSelection=i,r},handleCalendarKey:function(t,i){var r=(e(t.target),e.data(document.body,"openedJQXCalendar"+this.id));if(null!=r&&r.length>0){var s=i._passKeyToCalendar(t);return s}return!0},_findPos:function(t){if(null!=t){for(;t&&("hidden"==t.type||1!=t.nodeType||e.expr.filters.hidden(t));)t=t.nextSibling;var i=e(t).coord(!0);return[i.left,i.top]}},testOffset:function(t,i,r){var s=t.outerWidth(),a=t.outerHeight(),n=e(window).width()+e(window).scrollLeft(),o=e(window).height()+e(window).scrollTop();if(i.left+s>n&&s>this.host.width()){var l=this.host.coord().left,h=s-this.host.width();i.left=l-h+2}return i.left<0&&(i.left=parseInt(this.host.coord().left)+"px"),i.top-=Math.min(i.top,i.top+a>o&&o>a?Math.abs(a+r+23):0),i},open:function(e){"time"==e?this.timePopup=!0:this.timePopup=!1,this.showCalendar()},close:function(e){this.hideCalendar()},_getBodyOffset:function(){var t=0,i=0;return"0px"!=e("body").css("border-top-width")&&(t=parseInt(e("body").css("border-top-width")),isNaN(t)&&(t=0)),"0px"!=e("body").css("border-left-width")&&(i=parseInt(e("body").css("border-left-width")),isNaN(i)&&(i=0)),{left:i,top:t}},initTimePopup:function(){this.timePopupElement=e("<div style='border-style: solid; border-width: 0px;'></div>").appendTo(this.timeContainer),this.timePopupElement.addClass(this.toThemeProperty("jqx-widget-content jqx-widget jqx-date-time-input-popup"));var t="";t+="<table><tbody><tr><td><a class='increment-hour-column' href='javascript:;' data-action='incrementHour'><div class='jqx-icon-up'></div></a></td><td class='separator'>&nbsp;</td><td><a class='increment-minute-column' href='javascript:;' data-action='incrementMinute'><div class='jqx-icon-up'></div></a></td><td class='separator'>&nbsp;</td><td><a class='increment-second-column' href='javascript:;' data-action='incrementSecond'><div class='jqx-icon-up'></div></a></td><td class='separator'>&nbsp;</td><td><a class='increment-millisecond-column' href='javascript:;' data-action='incrementMSSecond'><div class='jqx-icon-up'></div></a></td><td class='separator'>&nbsp;</td><td class='increment-meridian-column'><a href='javascript:;' data-action='toggleMeridian'><div class='jqx-icon-up'></div></a></td></tr><tr><td><input type='text' class='jqx-timepicker-hour' maxlength='2'></td><td class='separator'>:</td><td><input type='text' class='jqx-timepicker-minute' maxlength='2'></td><td class='separator'>:</td><td><input type='text' class='jqx-timepicker-second' maxlength='2'></td><td class='separator'>:</td><td><input type='text' class='jqx-timepicker-millisecond' maxlength='3'></td><td class='separator'>&nbsp;</td><td><input type='text' class='jqx-timepicker-meridian' maxlength='2'></td></tr><tr><td><a class='decrement-hour-column' href='javascript:;' data-action='decrementHour'><div class='jqx-icon-down'></div></a></td><td class='separator'></td><td><a class='decrement-minute-column' href='javascript:;' data-action='decrementMinute'><div class='jqx-icon-down'></div></a></td><td class='separator'></td><td><a class='decrement-second-column' href='javascript:;' data-action='decrementSecond'><div class='jqx-icon-down'></div></a></td><td class='separator'></td><td><a class='decrement-millisecond-column' href='javascript:;' data-action='decrementMillisecond'><div class='jqx-icon-down'></div></a></td><td class='separator'>&nbsp;</td><td><a class='decrement-meridian-column' href='javascript:;' data-action='toggleMeridian'><div class='jqx-icon-down'></div></a></td></tr></tbody></table>";var i=this._getFormatValue(this.formatString);"range"!=this.selectionMode?this.timePopupElement[0].innerHTML=t:this.timePopupElement[0].innerHTML="<table><tr><td>"+t+"</td><td>-</td><td>"+t+"</td></tr></table>",this.timePopupElement.find(".jqx-icon-down").addClass(this.toThemeProperty("jqx-icon jqx-icon-arrow-down")),this.timePopupElement.find(".jqx-icon-up").addClass(this.toThemeProperty("jqx-icon jqx-icon-arrow-up"));var r=this.timePopupElement.find("input");r.addClass(this.toThemeProperty("jqx-input")),r.addClass(this.toThemeProperty("jqx-rc-all")),this.addHandler(r,"mousedown",function(e){e.stopPropagation()});var s=function(t){t.target.className.indexOf("hour")>=0&&o._decrementHour(e(t.target)),t.target.className.indexOf("minute")>=0&&o._decrementMinuteSecond(e(t.target)),t.target.className.indexOf("second")>=0&&o._decrementMinuteSecond(e(t.target)),t.target.className.indexOf("millisecond")>=0&&o._decrementMillisecond(e(t.target)),t.target.className.indexOf("meridian")>=0&&o._decrementMeridian(e(t.target))},a=function(t){t.target.className.indexOf("hour")>=0&&o._incrementHour(e(t.target)),t.target.className.indexOf("minute")>=0&&o._incrementMinuteSecond(e(t.target)),t.target.className.indexOf("second")>=0&&o._incrementMinuteSecond(e(t.target)),t.target.className.indexOf("millisecond")>=0&&o._incrementMillisecond(e(t.target)),t.target.className.indexOf("meridian")>=0&&o._incrementMeridian(e(t.target))},n=function(e,t){if(t.isEditing){var i=0;e||(e=window.event),e.originalEvent&&e.originalEvent.wheelDelta&&(e.wheelDelta=e.originalEvent.wheelDelta),e.originalEvent&&void 0!=e.originalEvent.deltaY&&(i=-e.originalEvent.deltaY),e.wheelDelta?i=e.wheelDelta/120:e.detail&&(i=-e.detail/3),i&&(document.activeElement==e.target&&"input"==e.target.nodeName.toLowerCase()&&(0>i?s(e):a(e)),e.preventDefault&&e.preventDefault(),e.returnValue=!1),e.preventDefault&&e.preventDefault(),e.returnValue=!1}};this.addHandler(r,"wheel",function(e){n(e,o)}),this.addHandler(r,"keydown",function(t){e(t.target);if(t.ctrlKey)if(38==t.keyCode){if(o.isOpened())return o.hideCalendar("keyboard","keyboard"),o.dateTimeInput.focus(),!1}else if(40==t.keyCode&&!o.isOpened())return o.showCalendar("keyboard","keyboard"),o.dateTimeInput.focus(),!1;40==t.keyCode?(s(t),t.preventDefault()):38==t.keyCode?(a(t),t.preventDefault()):13==t.keyCode?(t.preventDefault(),o.hideCalendar("keyboard","keyboard"),o.dateTimeInput.focus()):27==t.keyCode&&(t.preventDefault(),o.hideCalendar("cancel"),o.dateTimeInput.focus())}),this.hourInput=e(r[0]),this.minuteInput=e(r[1]),this.secondInput=e(r[2]),this.mssecondInput=e(r[3]),this.meridianInput=e(r[4]),this.hourInput2=e(r[5]),this.minuteInput2=e(r[6]),this.secondInput2=e(r[7]),this.mssecondInput2=e(r[8]),this.meridianInput2=e(r[9]);var o=this,l=this.timePopupElement.find(".increment-hour-column");this.hourIncrement=e(l[0]),this.hourIncrement2=e(l[1]),this.addHandler(r,"change",function(t){var r=e(t.target);if(r.val().length<=1&&r.val("0"+e(t.target).val()),t.target.className.indexOf("hour")>=0){var s=parseInt(e(t.target).val());if(i.indexOf("HH")>=0)for(;s>24;)s-=24;else for(;s>12;)s-=12;10>s&&(s="0"+s),r.val()!=s&&r.val(s)}if(t.target.className.indexOf("minute")>=0||t.target.className.indexOf("second")>=0){for(var s=parseInt(e(t.target).val());s>59;)s--;10>s&&(s="0"+s),r.val()!=s&&r.val(s)}}),this._incrementHour=function(e){var t=parseInt(e.val());t++,i.indexOf("HH")>=0?t>23&&(t=0):t>12&&(t=1),10>t&&(t="0"+t),e.val(t)},this._incrementMinuteSecond=function(e){var t=parseInt(e.val());t++,t>59&&(t=0),10>t&&(t="0"+t),e.val(t)},this._incrementMillisecond=function(e){var t=parseInt(e.val());t++,t>999&&(t=0),10>t&&(t="0"+t),e.val(t)},this._incrementMeridian=function(e){var t=e.val();t=t.toLowerCase().indexOf("a")>=0?"PM":"AM",e.val(t)},this._decrementHour=function(e){var t=parseInt(e.val());t--,i.indexOf("HH")>=0?0>t&&(t=23):1>t&&(t=12),10>t&&(t="0"+t),e.val(t)},this._decrementMinuteSecond=function(e){var t=parseInt(e.val());t--,0>t&&(t=59),10>t&&(t="0"+t),e.val(t)},this._decrementMillisecond=function(e){var t=parseInt(e.val());t--,0>t&&(t=999),10>t&&(t="0"+t),e.val(t)},this._decrementMeridian=function(e){var t=e.val();t=t.toLowerCase().indexOf("a")>=0?"PM":"AM",e.val(t)},this.addHandler(this.hourIncrement,"mousedown",function(e){e.stopPropagation(),o._incrementHour(o.hourInput)}),this.addHandler(this.hourIncrement2,"mousedown",function(e){e.stopPropagation(),o._incrementHour(o.hourInput2)});var h=this.timePopupElement.find(".increment-minute-column");this.minuteIncrement=e(h[0]),this.minuteIncrement2=e(h[1]),this.addHandler(this.minuteIncrement,"mousedown",function(e){e.stopPropagation(),o._incrementMinuteSecond(o.minuteInput)}),this.addHandler(this.minuteIncrement2,"mousedown",function(e){e.stopPropagation(),o._incrementMinuteSecond(o.minuteInput2)});var d=this.timePopupElement.find(".increment-second-column");this.secondIncrement=e(d[0]),this.secondIncrement2=e(d[1]),this.addHandler(this.secondIncrement,"mousedown",function(e){e.stopPropagation(),o._incrementMinuteSecond(o.secondInput)}),this.addHandler(this.secondIncrement2,"mousedown",function(e){e.stopPropagation(),o._incrementMinuteSecond(o.secondInput2)});var c=this.timePopupElement.find(".increment-millisecond-column");this.millisecondsIncrement=e(c[0]),this.millisecondsIncrement2=e(c[1]),this.addHandler(this.millisecondsIncrement,"mousedown",function(e){e.stopPropagation(),o._incrementMillisecond(o.mssecondInput)}),this.addHandler(this.millisecondsIncrement2,"mousedown",function(e){e.stopPropagation(),o._incrementMillisecond(o.mssecondInput2)});var u=this.timePopupElement.find(".increment-meridian-column");this.meridianIncrement=e(u[0]),this.meridianIncrement2=e(u[1]),this.addHandler(this.meridianIncrement,"mousedown",function(e){e.stopPropagation(),o._incrementMeridian(o.meridianInput)}),this.addHandler(this.meridianIncrement2,"mousedown",function(e){e.stopPropagation(),o._incrementMeridian(o.meridianInput2)});var p=this.timePopupElement.find(".decrement-hour-column");this.hourDecrement=e(p[0]),this.hourDecrement2=e(p[1]),this.addHandler(this.hourDecrement,"mousedown",function(e){e.stopPropagation(),o._decrementHour(o.hourInput)}),this.addHandler(this.hourDecrement2,"mousedown",function(e){e.stopPropagation(),o._decrementHour(o.hourInput2)});var f=this.timePopupElement.find(".decrement-minute-column");this.minuteDecrement=e(f[0]),this.minuteDecrement2=e(f[1]),this.addHandler(this.minuteDecrement,"mousedown",function(e){e.stopPropagation(),o._decrementMinuteSecond(o.minuteInput)}),this.addHandler(this.minuteDecrement2,"mousedown",function(e){e.stopPropagation(),o._decrementMinuteSecond(o.minuteInput2)});var m=this.timePopupElement.find(".decrement-second-column");this.secondDecrement=e(m[0]),this.secondDecrement2=e(m[1]),this.addHandler(this.secondDecrement,"mousedown",function(e){e.stopPropagation(),o._decrementMinuteSecond(o.secondInput)}),this.addHandler(this.secondDecrement2,"mousedown",function(e){e.stopPropagation(),o._decrementMinuteSecond(o.secondInput2)});var g=this.timePopupElement.find(".decrement-millisecond-column");this.millisecondsDecrement=e(g[0]),this.millisecondsDecrement2=e(g[1]),this.addHandler(this.millisecondsDecrement,"mousedown",function(e){e.stopPropagation(),o._decrementMillisecond(o.mssecondInput)}),this.addHandler(this.millisecondsDecrement2,"mousedown",function(e){e.stopPropagation(),o._decrementMillisecond(o.mssecondInput2)});var v=this.timePopupElement.find(".decrement-meridian-column");this.meridianDecrement=e(v[0]),this.meridianDecrement2=e(v[1]),this.addHandler(this.meridianDecrement,"mousedown",function(e){e.stopPropagation(),o._decrementMeridian(o.meridianInput)}),this.addHandler(this.meridianDecrement2,"mousedown",function(e){e.stopPropagation(),o._decrementMeridian(o.meridianInput2)});var x=this.timePopupElement.find("table");this.addHandler(this.timePopupElement,"mousedown",function(e){e.stopPropagation()});var b=function(t){var r=t.find("tr");-1==i.indexOf("ss")&&(o.secondInput.hide(),o.secondInput2.hide(),e(e(r[0]).children()[3]).hide(),e(e(r[0]).children()[4]).hide(),e(e(r[1]).children()[3]).hide(),e(e(r[1]).children()[4]).hide(),e(e(r[2]).children()[3]).hide(),e(e(r[2]).children()[4]).hide()),-1==i.indexOf("tt")&&-1==i.indexOf("hh")&&(o.meridianInput.hide(),o.meridianInput2.hide(),e(e(r[0]).children()[7]).hide(),e(e(r[0]).children()[8]).hide(),e(e(r[1]).children()[7]).hide(),e(e(r[1]).children()[8]).hide(),e(e(r[2]).children()[7]).hide(),e(e(r[2]).children()[8]).hide()),-1==i.indexOf("zz")&&(o.mssecondInput.hide(),o.mssecondInput2.hide(),e(e(r[0]).children()[5]).hide(),e(e(r[0]).children()[6]).hide(),e(e(r[1]).children()[5]).hide(),e(e(r[1]).children()[6]).hide(),e(e(r[2]).children()[5]).hide(),e(e(r[2]).children()[6]).hide())};1==x.length?b(x):(b(e(e(x)[1])),b(e(e(x)[2])))},updateTimePopup:function(){var e=this._getFormatValue(this.formatString);if("range"!=this.selectionMode){var t=this.getDate();if(this.hourInput){if(t)var i=t.getHours(),r=t.getMinutes(),s=t.getHours(),a=t.getSeconds(),n=t.getMilliseconds();else var i=0,r=0,s=0,a=0,n=0;i>=12?(s="PM",-1==e.indexOf("HH")&&(i-=12,0==i&&(i=12))):s="AM","none"!=this.meridianInput.css("display")&&0==i&&(i=12),10>i&&(i="0"+i),10>r&&(r="0"+r),10>a&&(a="0"+a),10>n&&(n="0"+n),this.hourInput.val(i),this.minuteInput.val(r),this.secondInput.val(a),this.mssecondInput.val(n),this.meridianInput.val(s)}}else{var t=this.getRange().from;if(this.hourInput){if(t)var i=t.getHours(),r=t.getMinutes(),s=t.getHours(),a=t.getSeconds(),n=t.getMilliseconds();else var i=0,r=0,s=0,a=0,n=0;i>=12?(s="PM",-1==e.indexOf("HH")&&(i-=12,0==i&&(i=12))):s="AM","none"!=this.meridianInput.css("display")&&0==i&&(i=12),10>i&&(i="0"+i),10>r&&(r="0"+r),10>a&&(a="0"+a),10>n&&(n="0"+n),this.hourInput.val(i),this.minuteInput.val(r),this.secondInput.val(a),this.mssecondInput.val(n),this.meridianInput.val(s)}var t=this.getRange().to;if(this.hourInput2){if(t)var i=t.getHours(),r=t.getMinutes(),s=t.getHours(),a=t.getSeconds(),n=t.getMilliseconds();else var i=0,r=0,s=0,a=0,n=0;i>=12?(s="PM",-1==e.indexOf("HH")&&(i-=12,0==i&&(i=12))):s="AM","none"!=this.meridianInput.css("display")&&0==i&&(i=12),10>i&&(i="0"+i),10>r&&(r="0"+r),10>a&&(a="0"+a),10>n&&(n="0"+n),this.hourInput2.val(i),this.minuteInput2.val(r),this.secondInput2.val(a),this.mssecondInput2.val(n),this.meridianInput2.val(s)}}},showCalendar:function(){var t=this.calendarContainer,i=this._calendar;if(e.jqx.aria(this,"aria-expanded",!0),this.showTimeButton)if(this.timePopup){this.timePopupElement||this.initTimePopup(),this.calendarContainer.css("visibility","hidden"),this.timeContainer.css("visibility","visible"),this.updateTimePopup();for(var r=this.timeContainer.find("input"),s=0,a=0;a<r.length;a++)"none"!=r[a].style.display&&(s+=50);this.container.width(parseInt(s)),this.touch||setTimeout(function(){r[0].focus(),e(r[0]).select()},150+this.openDelay)}else this.container.width(parseInt(this.calendarContainer.width())+25),this.timeContainer.css("visibility","hidden"),this.calendarContainer.css("visibility","visible");null!=this.value?"range"!=this.selectionMode?this._oldDT=new Date(this.value.dateTime):this._oldDT=this.getRange():this._oldDT=null,i.canRender||(i.canRender=!0,i.render());var n,o=(this.container,this),l=(e(window).scrollTop(),e(window).scrollLeft(),parseInt(this._findPos(this.host[0])[1])+parseInt(this.host.outerHeight())-1+"px"),h=parseInt(Math.round(this.host.coord(!0).left));"element"===this.dropDownContainer&&(l=parseInt(this.host.outerHeight())-1+"px",n=0),n=h+"px";var d=e.jqx.mobile.isSafariMobileBrowser()||e.jqx.mobile.isWindowsPhone();null!=d&&d&&(n=e.jqx.mobile.getLeftPos(this.element),l=e.jqx.mobile.getTopPos(this.element)+parseInt(this.host.outerHeight()),"0px"!=e("body").css("border-top-width")&&(l=parseInt(l)-this._getBodyOffset().top+"px"),"0px"!=e("body").css("border-left-width")&&(n=parseInt(n)-this._getBodyOffset().left+"px")),this.container.css("left",n),this.container.css("top",l);var c=this.closeCalendarAfterSelection;if(this.closeCalendarAfterSelection=!1,this.isEditing=!1,"default"==o.selectionMode){this._validateValue(),this._updateText();var u=null!=this.value?this.value.dateTime:new Date;i.setDate(u)}this.closeCalendarAfterSelection=c;var p=!1;if("right"==this.dropDownHorizontalAlignment||this.rtl){var f=this.container.outerWidth(),m=Math.abs(f-this.host.outerWidth()+2);if(this.rtl||(m-=2),f>this.host.width()){var g=23;this.container.css("left",g+parseInt(Math.round(h))-m+"px")}else this.container.css("left",25+parseInt(Math.round(h))+m+"px")}if("top"==this.dropDownVerticalAlignment){var v=t.height();this.timePopup&&this.timeContainer.css("top",this.container.height()-75),p=!0,t.css("top",23),t.addClass(this.toThemeProperty("jqx-popup-up"));var x=parseInt(this.host.outerHeight()),b=parseInt(l)-Math.abs(v+x+23);this.container.css("top",b)}if(this.enableBrowserBoundsDetection){var w=this.testOffset(t,{left:parseInt(this.container.css("left")),top:parseInt(l)},parseInt(this.host.outerHeight()));parseInt(this.container.css("top"))!=w.top?(p=!0,t.css("top",23),t.addClass(this.toThemeProperty("jqx-popup-up"))):t.css("top",0),this.container.css("top",w.top),parseInt(this.container.css("left"))!=w.left&&this.container.css("left",w.left)}if(this._raiseEvent(7,t),"none"!=this.animationType){this.container.css("display","block");var y=parseInt(t.outerHeight());t.stop(),this.isanimating=!0,this.opening=!0,"fade"==this.animationType?(t.css("margin-top",0),t.css("opacity",0),t.animate({opacity:1},this.openDelay,function(){o.isanimating=!1,o.opening=!1,e.data(document.body,"openedJQXCalendar"+o.id,t),o.calendarContainer.focus()}),this.timePopup&&(this.timeContainer.css("margin-top",0),this.timeContainer.css("opacity",0),this.timeContainer.animate({opacity:1},this.openDelay,function(){o.isanimating=!1,o.opening=!1,e.data(document.body,"openedJQXCalendar"+o.id,t),o.timeContainer.focus()}))):(t.css("opacity",1),this.timePopup&&this.timeContainer.css("opacity",1),p?t.css("margin-top",y):t.css("margin-top",-y),this.timePopup&&(p?this.timeContainer.css("margin-top",y):this.timeContainer.css("margin-top",-y),this.timeContainer.animate({"margin-top":0},this.openDelay,function(){o.isanimating=!1,o.opening=!1,e.data(document.body,"openedJQXCalendar"+o.id,t),o.timeContainer.focus()})),t.animate({"margin-top":0},this.openDelay,function(){o.isanimating=!1,o.opening=!1,e.data(document.body,"openedJQXCalendar"+o.id,t),o.calendarContainer.focus()}))}else t.stop(),o.isanimating=!1,o.opening=!1,t.css("opacity",1),t.css("margin-top",0),this.container.css("display","block"),e.data(document.body,"openedJQXCalendar"+o.id,t),this.calendarContainer.focus(),this.timePopup&&(this.timeContainer.stop(),this.timeContainer.css("opacity",1),this.timeContainer.css("margin-top",0),this.timeContainer.focus());null==this.value&&this._calendar&&this._calendar._getSelectedCell()&&(this._calendar._getSelectedCell().isSelected=!1),this.timePopup?(this.timeButtonIcon.addClass(this.toThemeProperty("jqx-icon-time-pressed")),this.timeButton.addClass(this.toThemeProperty("jqx-fill-state-hover")),this.timeButton.addClass(this.toThemeProperty("jqx-fill-state-pressed")),this.timeContainer.addClass(this.toThemeProperty("jqx-fill-state-focus"))):(this.calendarButtonIcon.addClass(this.toThemeProperty("jqx-icon-calendar-pressed")),this.calendarButton.addClass(this.toThemeProperty("jqx-fill-state-hover")),this.calendarButton.addClass(this.toThemeProperty("jqx-fill-state-pressed")),this.calendarContainer.addClass(this.toThemeProperty("jqx-fill-state-focus"))),this.host.addClass(this.toThemeProperty("jqx-fill-state-focus"))},hideCalendar:function(t,i){i&&(this.changeType=i);var r=this.calendarContainer,s=this.container,a=this;if(e.jqx.aria(this,"aria-expanded",!1),this.showTimeButton&&"hidden"!=this.timeContainer.css("visibility")&&"cancel"!=t)if("range"!=this.selectionMode&&this.hourInput){var n=this.getDate(),o=parseInt(this.hourInput.val()),l=parseInt(this.minuteInput.val()),h=parseInt(this.secondInput.val()),d=parseInt(this.mssecondInput.val()),c=this.meridianInput.val();isNaN(o)&&(o=0),isNaN(l)&&(l=0),isNaN(h)&&(h=0),isNaN(d)&&(d=0),"none"!=this.meridianInput.css("display")&&(c.toLowerCase().indexOf("p")>=0&&12>o&&(o+=12),c.toLowerCase().indexOf("a")>=0&&o>=12&&(o-=12)),n||(n=new Date),n.setHours(o,l,h,d),this.setDate(n)}else if(this.hourInput&&"selected"!=t){var u=this.getRange(),o=parseInt(this.hourInput.val()),l=parseInt(this.minuteInput.val()),h=parseInt(this.secondInput.val()),d=parseInt(this.mssecondInput.val()),c=this.meridianInput.val();
isNaN(o)&&(o=0),isNaN(l)&&(l=0),isNaN(h)&&(h=0),isNaN(d)&&(d=0),"none"!=this.meridianInput.css("display")&&(c.toLowerCase().indexOf("p")>=0&&12>o&&(o+=12),c.toLowerCase().indexOf("a")>=0&&o>=12&&(o-=12));var p=u.from;p||(p=new Date),p.setHours(o,l,h,d);var o=parseInt(this.hourInput2.val()),l=parseInt(this.minuteInput2.val()),h=parseInt(this.secondInput2.val()),d=parseInt(this.mssecondInput2.val()),c=this.meridianInput2.val();""==l&&(l=0),""==h&&(h=0),""==d&&(d=0),"none"!=this.meridianInput2.css("display")&&(c.toLowerCase().indexOf("p")>=0&&12>o&&(o+=12),c.toLowerCase().indexOf("a")>=0&&o>=12&&(o-=12));var f=u.to;if(f||(f=new Date),f.setHours(o,l,h,d),f.valueOf()<p.valueOf())return!1;this.setRange(p,f)}else if("selected"==t)return;if(e.data(document.body,"openedJQXCalendar"+this.id,null),"none"!=this.animationType){var m=r.outerHeight();r.css("margin-top",0),this.showTimeButton&&this.timeContainer.css("margin-top",0),this.isanimating=!0;var g=-m;parseInt(this.container.coord().top)<parseInt(this.host.coord().top)&&(g=m),"fade"==this.animationType?r.animate({opacity:0},this.closeDelay,function(){s.css("display","none"),a.isanimating=!1}):r.animate({"margin-top":g},this.closeDelay,function(){s.css("display","none"),a.isanimating=!1}),this.showTimeButton&&("fade"==this.animationType?this.timeContainer.animate({opacity:0},this.closeDelay,function(){s.css("display","none"),a.isanimating=!1}):this.timeContainer.animate({"margin-top":g},this.closeDelay,function(){s.css("display","none"),a.isanimating=!1}))}else s.css("display","none");void 0!=t&&this._updateSelectedDate(t),this.timeButtonIcon.removeClass(this.toThemeProperty("jqx-icon-time-pressed")),this.timeButton.removeClass(this.toThemeProperty("jqx-fill-state-hover")),this.timeButton.removeClass(this.toThemeProperty("jqx-fill-state-pressed")),this.calendarButtonIcon.removeClass(this.toThemeProperty("jqx-icon-calendar-pressed")),this.calendarButton.removeClass(this.toThemeProperty("jqx-fill-state-hover")),this.calendarButton.removeClass(this.toThemeProperty("jqx-fill-state-pressed")),this.host.removeClass(this.toThemeProperty("jqx-fill-state-focus")),this.timeContainer.removeClass(this.toThemeProperty("jqx-fill-state-focus")),this.calendarContainer.removeClass(this.toThemeProperty("jqx-fill-state-focus")),this._raiseEvent(8,r)},_updateSelectedDate:function(){var t=this.value;null==t&&(t=new e.jqx._jqxDateTimeInput.getDateTime(new Date),t._setHours(0),t._setMinutes(0),t._setSeconds(0),t._setMilliseconds(0));var i=t.hour,r=t.minute,s=t.second,a=t.millisecond;if("range"==this.selectionMode&&null==this._calendar.getRange().from)return void this.setDate(null);var n=new e.jqx._jqxDateTimeInput.getDateTime(this._calendar.value.dateTime);n._setHours(i),n._setMinutes(r),n._setSeconds(s),n._setMilliseconds(a);var o=this.setDate(n.dateTime);if("range"==this.selectionMode&&!o&&this._oldDT){var l=this.getRange(),h=(this._oldDT,!1),d=!1,c=this._oldDT.from,n=l.from;null!=n&&c&&n.getFullYear()==c.getFullYear()&&n.getMonth()==c.getMonth()&&n.getDate()==c.getDate()&&n.getHours()==c.getHours()&&n.getMinutes()==c.getMinutes()&&n.getSeconds()==c.getSeconds()&&(h=!0);var n=l.to;if(null!=n&&(c=this._oldDT.to,c&&n.getFullYear()==c.getFullYear()&&n.getMonth()==c.getMonth()&&n.getDate()==c.getDate()&&n.getHours()==c.getHours()&&n.getMinutes()==c.getMinutes()&&n.getSeconds()==c.getSeconds()&&(d=!0)),h&&d)return!0;this._raiseEvent(0,{}),this._raiseEvent(9,{})}},_closeOpenedCalendar:function(t){var i=e(t.target),r=e.data(document.body,"openedJQXCalendar"+t.data.me.id),s=!1;if(e.each(i.parents(),function(){if(this.className&&this.className.indexOf){if(-1!=this.className.indexOf("jqx-calendar"))return s=!0,!1;if(-1!=this.className.indexOf("jqx-date-time-input-popup"))return s=!0,!1;if(-1!=this.className.indexOf("jqx-input"))return!1}}),e(t.target).ischildof(t.data.me.host))return!0;if(null!=t.target&&("B"==t.target.tagName||"b"==t.target.tagName)){var a=t.data.me.host.coord(),n=t.data.me.host.width(),o=t.data.me.host.height(),l=parseInt(a.top),h=parseInt(a.left);if(l<=t.pageY&&t.pageY<=l+o&&h<=t.pageX&&t.pageX<=h+n)return!0}if(null!=r&&!s&&r.length>0){var d=r[0].id.toString(),c=d.toString().substring(13),u=(e(document).find("#"+c),t.data.me.hideCalendar());u!==!1&&e.data(document.body,"openedJQXCalendar"+t.data.me.id,null)}},_loadItems:function(){if(null!=this.value){this.items=new Array;var e=this._getFormatValue(this.formatString);this.items=this._parseFormatValue(e),this.editors=new Array;for(var t=0;t<this.items.length;t++){var i=this.items[t].getDateTimeEditorByItemType(this.value,this);this.editors[t]=i}}this._updateEditorsValue(),this._updateText()},_updateText:function(){var t=this,i="";if(0==t.items.length&&null!=t.value&&t._loadItems(),null!=t.value){t.items.length>=1&&(i=t.format(t.value,0,t.items.length));var r=t.dateTimeInput.val();r!=i&&t._raiseEvent(1,t.value)}if("range"==t.selectionMode){var s=t.getRange();if(fromText=t.format(t.value,0,t.items.length),s.to){var a=e.jqx._jqxDateTimeInput.getDateTime(s.from);fromText=t.format(a,0,t.items.length);var n=e.jqx._jqxDateTimeInput.getDateTime(s.to);toText=t.format(n,0,t.items.length);var i=fromText+" - "+toText;" - "==i&&(i="")}else i=""}t.dateTimeInput.val(i)},format:function(e,t,i){for(var r="",s=t;i>s;++s){var a=this.items[s].dateParser(e,this);if(this.isEditing&&"ReadOnly"!=this.items[s].type&&"range"!=this.selectionMode){var n="Day"==this.items[s].type&&this.items[s].format.length>2;if("FORMAT_AMPM"==this.items[s].type&&(n=!0,a=0==this.editors[s].value?this.editors[s].amString:this.editors[s].pmString),!n)for(a=this.items[s].dateParserInEditMode(new Number(this.editors[s].value),"d"+this.editors[s].maxEditPositions,this);a.length<this.editors[s].maxEditPositions;)a="0"+a}r+=a}return r},_getFormatValueGroupLength:function(e){for(i=1;i<e.toString().length;++i)if(e.substring(i,i+1)!=e.substring(0,1))return i;return e.length},_parseFormatValue:function(t){for(var i=new Array,r=t.toString(),s=0;r.length>0;){var a=this._getFormatValueGroupLength(r),n=null;switch(r.substring(0,1)){case":":case"/":a=1,n=e.jqx._jqxDateTimeInput.DateTimeFormatItem._create(r.substring(0,1),"ReadOnly",this.culture);break;case'"':case"'":var o=r.indexOf(r[0],1);n=e.jqx._jqxDateTimeInput.DateTimeFormatItem._create(r.substring(1,1+Math.max(1,o-1)),"ReadOnly",this.culture),a=Math.max(1,o+1);break;case"\\":r.length>=2&&(n=e.jqx._jqxDateTimeInput.DateTimeFormatItem._create(r.substring(1,1),"ReadOnly",this.culture),a=2);break;case"d":case"D":n=a>2?e.jqx._jqxDateTimeInput.DateTimeFormatItem._create(r.substring(0,a),"Day",this.culture):e.jqx._jqxDateTimeInput.DateTimeFormatItem._create(r.substring(0,a),"Day",this.culture);break;case"f":case"F":a>7&&(a=7),n=a>3?e.jqx._jqxDateTimeInput.DateTimeFormatItem._create(r.substring(0,a),"ReadOnly",this.culture):e.jqx._jqxDateTimeInput.DateTimeFormatItem._create(r.substring(0,a),"Millisecond",this.culture);break;case"g":n=e.jqx._jqxDateTimeInput.DateTimeFormatItem._create(r.substring(0,a),"ReadOnly",this.culture);break;case"h":n=e.jqx._jqxDateTimeInput.DateTimeFormatItem._create(r.substring(0,a),"FORMAT_hh",this.culture);break;case"H":n=e.jqx._jqxDateTimeInput.DateTimeFormatItem._create(r.substring(0,a),"FORMAT_HH",this.culture);break;case"m":n=e.jqx._jqxDateTimeInput.DateTimeFormatItem._create(r.substring(0,a),"Minute",this.culture);break;case"M":a>4&&(a=4),n=e.jqx._jqxDateTimeInput.DateTimeFormatItem._create(r.substring(0,a),"Month",this.culture);break;case"s":case"S":n=e.jqx._jqxDateTimeInput.DateTimeFormatItem._create(r.substring(0,a),"Second",this.culture);break;case"t":case"T":n=e.jqx._jqxDateTimeInput.DateTimeFormatItem._create(r.substring(0,a),"FORMAT_AMPM",this.culture);break;case"y":case"Y":a>1?n=e.jqx._jqxDateTimeInput.DateTimeFormatItem._create(r.substring(0,a),"Year",this.culture):(a=1,n=e.jqx._jqxDateTimeInput.DateTimeFormatItem._create(r.substring(0,1),dateTimeFormatInfo,"ReadOnly",this.culture));break;case"z":n=e.jqx._jqxDateTimeInput.DateTimeFormatItem._create(r.substring(0,a),"ReadOnly",this.culture);break;default:a=1,n=e.jqx._jqxDateTimeInput.DateTimeFormatItem._create(r.substring(0,1),"ReadOnly",this.culture)}i[s]=e.extend(!0,{},n),r=r.substring(a),s++}return i},_getFormatValue:function(e){if(null!=e&&0!=e.length||(e="d"),1==e.length)switch(e.substring(0,1)){case"d":return this.localization.calendar.patterns.d;case"D":return this.localization.calendar.patterns.D;case"t":return this.localization.calendar.patterns.t;case"T":return this.localization.calendar.patterns.T;case"f":return this.localization.calendar.patterns.f;case"F":return this.localization.calendar.patterns.F;case"M":return this.localization.calendar.patterns.M;case"Y":return this.localization.calendar.patterns.Y;case"S":return this.localization.calendar.patterns.S}return 2==e.length&&"%"==e.substring(0,1)&&(e=e.substring(1)),e},_updateEditorsValue:function(){var e=this.value;if(null!=e){var t=e.year,i=e.day,r=e.hour,s=e.millisecond,a=e.second,n=e.minute,o=e.month;if(null!=this.items)for(var l=0;l<this.items.length;l++)switch(this.items[l].type){case"FORMAT_AMPM":var h=r%12;0==h&&(h=12),r>=0&&12>r?this.editors[l].value=0:this.editors[l].value=1;break;case"Day":this.editors[l].value=i;break;case"FORMAT_hh":var h=r%12;0==h&&(h=12),this.editors[l].value=h;break;case"FORMAT_HH":this.editors[l].value=r;break;case"Millisecond":this.editors[l].value=s;break;case"Minute":this.editors[l].value=n;break;case"Month":this.editors[l].value=o;break;case"Second":this.editors[l].value=a;break;case"Year":this.editors[l].value=t}}},updateValue:function(t){if(!(this.isEditing||this.items&&0==this.items.length)){for(var i=1,r=1,s=0,a=0,n=0,o=0,l=1,h=0,d=!1,c=!1,u=!1,p=!1,f=!1,m=!1,g=!1,v=new Array,x=null,b=0,w=0;w<this.items.length;w++)switch(this.items[w].type){case"FORMAT_AMPM":h=this.editors[w].value,x=this.editors[w];break;case"Character":break;case"Day":this.items[w].format.length<3&&(r=this.editors[w].value,v[b++]=this.editors[w],0==r&&(r=1),u=!0);break;case"FORMAT_hh":var y=this.editors[w];s=y.value,p=!0;break;case"FORMAT_HH":s=this.editors[w].value,p=!0;break;case"Millisecond":a=this.editors[w].value,g=!0;break;case"Minute":o=this.editors[w].value,f=!0;break;case"Month":l=this.editors[w].value,c=!0,0==l&&(l=1);break;case"ReadOnly":break;case"Second":n=this.editors[w].value,m=!0;break;case"Year":d=!0,i=this.editors[w].value;var _=this.editors[w].getDateTimeItem().format;if(_.length<3){var j="1900";if(4==j.Length){var q,T=""+j[0]+j[1];q=parseInt(T),i+=100*q}}0==i&&(i=1)}var S=null!=this.value?new Date(this.value.dateTime):null;if(i>0&&l>0&&r>0&&o>=0&&s>=0&&n>=0&&a>=0){var C=this.value;null!=C&&(d||(i=C.year),c||(l=C.month),u||(r=C.day));try{if(l>12&&(l=12),1>l&&(l=1),t&&C._daysInMonth(i,l)<=r&&(r=C._daysInMonth(i,l),null!=v&&v.length>0))for(w=0;w<v.length;w++)v[w].value=r;null!=x&&(0==x.value?s>=12&&(s-=12):24>s+12&&(s+=12));this.value.dateTime.getDate();this.value._setYear(parseInt(i)),this.value._setDay(r),this.value._setMonth(l),p&&this.value._setHours(s),f&&this.value._setMinutes(o),m&&this.value._setSeconds(n),g&&this.value._setMilliseconds(a),this._validateTimeRange()}catch(I){this.value=C}if(null!=S){var k=this.value.dateTime.getFullYear()==S.getFullYear()&&this.value.dateTime.getDate()==S.getDate()&&this.value.dateTime.getMonth()==S.getMonth()&&this.value.dateTime.getHours()==S.getHours()&&this.value.dateTime.getMinutes()==S.getMinutes()&&this.value.dateTime.getSeconds()==S.getSeconds();if(!k){if(this.changing){var D=this.changing(S,this.value.dateTime);D&&(this.value=e.jqx._jqxDateTimeInput.getDateTime(D))}this._raiseEvent("0",this.value.dateTime),this.cookies&&null!=this.value&&e.jqx.cookie.cookie("jqxDateTimeInput"+this.element.id,this.value.dateTime.toString(),this.cookieoptions),this.change&&this.change(this.value.dateTime)}}}var M=this.editors.indexOf(this.activeEditor);this.items[M];this.value&&(this.calendarContainer.jqxCalendar("_isDisabled",this.value.dateTime)?this.dateTimeInput.addClass(this.toThemeProperty("jqx-input-invalid")):this.dateTimeInput.removeClass(this.toThemeProperty("jqx-input-invalid")))}},_internalSetValue:function(e){this.value._setYear(parseInt(e.year)),this.value._setDay(e.day),this.value._setMonth(e.month),this.value._setHours(e.hour),this.value._setMinutes(e.minute),this.value._setSeconds(e.second),this.value._setMilliseconds(e.milisecond)},_raiseEvent:function(t,i,r){var s=this.events[t],a={};a.owner=this,null==i&&(i={}),null==r&&(r=i);var n=i.charCode?i.charCode:i.keyCode?i.keyCode:0,o=!0,l=this.readonly,h=new e.Event(s);if(h.owner=this,h.args=a,h.args.date=this.getDate(),9==t&&(h.args.type=this.changeType,this.changeType=null),this.element.value=this.dateTimeInput.val(),9==t&&"range"!=this.selectionMode){var d=h.args.date;if(this._oldDT){if(null!=d&&d.getFullYear()==this._oldDT.getFullYear()&&d.getMonth()==this._oldDT.getMonth()&&d.getDate()==this._oldDT.getDate()&&d.getHours()==this._oldDT.getHours()&&d.getMinutes()==this._oldDT.getMinutes()&&d.getSeconds()==this._oldDT.getSeconds())return!0;e.jqx.aria(this,"aria-valuenow",this.getDate()),e.jqx.aria(this,"aria-valuetext",this.getText()),null!=this.getDate()?e.jqx.aria(this,"aria-label","Current focused date is "+this.getDate().toLocaleString()):e.jqx.aria(this,"aria-label","Current focused date is Null")}h.args.oldValue=r,h.args.newValue=h.args.date,this._oldDT&&(h.args.oldValue=this._oldDT)}if("range"==this.selectionMode){if(h.args.date=this.getRange(),this._oldDT){var d=h.args.date.from;if(9==t){var c=!1,u=!1,p=this._oldDT.from;null!=d&&p&&d.getFullYear()==p.getFullYear()&&d.getMonth()==p.getMonth()&&d.getDate()==p.getDate()&&d.getHours()==p.getHours()&&d.getMinutes()==p.getMinutes()&&d.getSeconds()==p.getSeconds()&&(c=!0);var d=h.args.date.to;if(null!=d&&(p=this._oldDT.to,p&&d.getFullYear()==p.getFullYear()&&d.getMonth()==p.getMonth()&&d.getDate()==p.getDate()&&d.getHours()==p.getHours()&&d.getMinutes()==p.getMinutes()&&d.getSeconds()==p.getSeconds()&&(u=!0)),c&&u)return!0;var c=h.args.date.from;c=null==c?"":c.toString();var u=h.args.date.to;u=null==u?"":u.toString(),e.jqx.aria(this,"aria-valuenow",c+"-"+u),e.jqx.aria(this,"aria-valuetext",this.getText()),c&&u&&e.jqx.aria(this,"aria-label","Current focused range is "+c.toLocaleString()+"-"+u.toLocaleString())}}h.args.oldValue=r,h.args.newValue=h.args.date,this._oldDT&&(h.args.oldValue=this._oldDT)}if("none"==this.host.css("display"))return!0;2!=t&&3!=t&&4!=t&&5!=t&&6!=t&&(o=this.host.trigger(h),h.stopPropagation&&h.stopPropagation());var f=this;if(l||2!=t||this.disabled||setTimeout(function(){f.isEditing=!0,"range"==this.selectionMode?f._selectGroup(-1):f._selectGroup(-1)},25),4==t){if(l||this.disabled){if(8!=n&&46!=n||(this.isEditing=!1,this.allowKeyboardDelete&&(this.allowNullDate?this.setDate(null):"range"!=this.selectionMode?this.setDate(this.getMinDate()):this.setRange(this.getMinDate(),this.getMinDate()))),9==n)return!0;if(!i.altKey)return!1}o=this._handleKeyDown(i,n)}else if(5==t){if(9==n)return!0;if(l||this.disabled)return!1}else if(6==t){if(9==n)return!0;if(l||this.disabled)return!1;o=this._handleKeyPress(i,n)}return o},_doLeftKey:function(){if(null!=this.activeEditor){this.isEditing||(this.isEditing=!0);var e=this.activeEditor,t=!1,i=this.editors.indexOf(this.activeEditor),r=i;if(this.enableAbsoluteSelection&&i>=0&&this.activeEditor.positions>0)return this.activeEditor.positions--,void this._selectGroup(i);for(;i>0;)if(this.activeEditor=this.editors[--i],this._selectGroup(i),"ReadOnly"!=this.items[i].type){t=!0;break}return t||r>=0&&(this.activeEditor=this.editors[r]),null!=this.activeEditor&&e!=this.activeEditor&&"ReadOnly"!=this.items[i].type&&(this.enableAbsoluteSelection?this.activeEditor.positions=this.activeEditor.maxEditPositions-1:this.activeEditor.positions=0),this.activeEditor!=e?(this._validateValue(),this._updateText(),this._selectGroup(this.editors.indexOf(this.activeEditor)),!0):!1}},_doRightKey:function(){if(null!=this.activeEditor){this.isEditing||(this.isEditing=!0);var e=this.activeEditor,t=!1,i=this.editors.indexOf(this.activeEditor),r=i;if(this.enableAbsoluteSelection&&i>=0&&this.activeEditor.positions<this.activeEditor.maxEditPositions-1)return this.activeEditor.positions++,void this._selectGroup(i);for(;i<=this.editors.length-2;)if(this.activeEditor=this.editors[++i],this._selectGroup(i),"ReadOnly"!=this.items[i].type){if("Day"==this.items[i].type&&this.items[i].format.length>2)break;t=!0;break}return t||r>=0&&(this.activeEditor=this.editors[r]),null!=this.activeEditor&&this.activeEditor!=e&&"ReadOnly"!=this.items[i].type&&(this.activeEditor.positions=0),this.activeEditor!=e?(this._validateValue(),this._updateText(),this._selectGroup(this.editors.indexOf(this.activeEditor)),!0):!1}},_saveSelectedText:function(){var e=this._selection(),t="",r=this.dateTimeInput.val();if(e.start>0||e.length>0)for(i=e.start;i<e.end;i++)t+=r[i];return window.clipboardData&&window.clipboardData.setData("Text",t),t},_selectWithAdvancePattern:function(){var e=this.editors.indexOf(this.activeEditor),t=!1;if("ReadOnly"!=this.items[e].type&&(t=!0),t){var i=this.activeEditor;if(null!=i){var r=i.positions==i.maxEditPositions;if(r){this.editorText="";var s=i.value,a=!1;switch(this.items[e].type){case"FORMAT_AMPM":0>s?s=0:s>1&&(s=1);break;case"Character":break;case"Day":1>s?s=1:s>31&&(s=31);break;case"FORMAT_hh":1>s?s=1:s>12&&(s=12);break;case"FORMAT_HH":0>s?s=0:s>23&&(s=23);break;case"Millisecond":0>s?s=0:s>99&&(s=99);break;case"Minute":0>s?s=0:s>59&&(s=59);break;case"Month":1>s?s=1:s>12&&(s=12);break;case"ReadOnly":break;case"Second":0>s?s=0:s>59&&(s=59);break;case"Year":s<this.minDate.year?s=this.minDate.year:s>this.maxDate.year&&(s=this.maxDate.year)}return i.value!=s&&(a=!0),a?!1:(this.isEditing=!1,this._validateValue(),this._updateText(),this.isEditing=!0,this._doRightKey(),!0)}}}},_handleKeyPress:function(e,t){var i=this._selection(),r=this,s=e.ctrlKey||e.metaKey;if(s&&97==t||s&&65==t)return!0;if(8==t)return i.start>0&&r._setSelectionStart(i.start),!1;if(46==t)return i.start<this.items.length&&r._setSelectionStart(i.start),!1;if(27===t)return this._firstFocusDate&&(this.setDate(this._firstFocusDate),this._setSelectionStart(0),this._selectGroup(-1)),!1;if(i.start>=0){this.changeType="keyboard";var a=String.fromCharCode(t),n=parseInt(a);if("p"!=a&&"a"!=a&&"A"!=a&&"P"!=a||"FORMAT_AMPM"==this.activeEditor.item.type&&(0!=this.activeEditor.value||"p"!=a&&"P"!=a?1!=this.activeEditor.value||"a"!=a&&"A"!=a||this.spinDown():this.spinUp()),!isNaN(n)){"block"==this.container.css("display")&&this.hideCalendar(),this.updateValue(),this._updateText();var o=!1,l=this.editors.indexOf(this.activeEditor),h=null;if(this.isEditing=!0,"ReadOnly"!=l.type&&(h=this.activeEditor),null!=h&&0==h.positions&&(this.editorText=""),null==this.activeEditor&&(this.activeEditor=this.editors[0]),null==this.activeEditor)return!1;this.activeEditor.insert(a),null!=h&&this.editorText.length>=h.maxEditPositions&&(this.editorText=""),this.editorText+=a;var d=this._selectWithAdvancePattern();if(this.activeEditor.positions==this.activeEditor.maxEditPositions){var c=this._getLastEditableEditorIndex();this.editors.indexOf(this.activeEditor)==c&&d&&this.enableAbsoluteSelection?this.activeEditor.positions=this.activeEditor.maxEditPositions-1:this.activeEditor.positions=0}return o=!0,this.updateValue(),this._updateText(),this._selectGroup(this.editors.indexOf(this.activeEditor)),!1}}var u=this._isSpecialKey(t);return u},_getLastEditableEditorIndex:function(){for(itemIndex=this.items.length-1;itemIndex>=0;itemIndex--)if("ReadOnly"!=this.items[itemIndex].type)return itemIndex;return-1},_handleKeyDown:function(t,i){var r=this;if(this.timePopup=!1,84==i&&(this.timePopup=!0),115==t.keyCode){if(r.isOpened())return r.hideCalendar("keyboard","keyboard"),!1;if(!r.isOpened())return r.showCalendar("keyboard","keyboard"),!1}if(t.altKey){if(38==t.keyCode){if(r.isOpened())return r.showTimeButton&&!r.showCalendarButton&&(r.timePopup=!0),r.hideCalendar("keyboard","keyboard"),!1}else if(40==t.keyCode&&!r.isOpened())return r.showTimeButton&&!r.showCalendarButton&&(r.timePopup=!0),r.showCalendar("keyboard","keyboard"),!1}else if(t.ctrlKey)if(this.timePopup=!0,38==t.keyCode){if(r.isOpened())return r.hideCalendar("keyboard","keyboard"),!1}else if(40==t.keyCode&&!r.isOpened())return r.showCalendar("keyboard","keyboard"),!1;if(!r.isOpened()){var s=(r._selection(),t.ctrlKey||t.metaKey);if(s&&99==i||s&&67==i)return r._saveSelectedText(t),!0;if(s&&122==i||s&&90==i)return!1;if(s&&118==i||s&&86==i||t.shiftKey&&45==i){var a=(r.val(),this),n=e('<textarea style="position: absolute; left: -1000px; top: -1000px;"/>');return e("body").append(n),n.select(),setTimeout(function(){var e=n.val();a.setDate(e),n.remove()},100),!0}if(8==i||46==i){if(t.altKey||s||46!=i){if(null!=r.activeEditor){var o=r.editors.indexOf(r.activeEditor);if(r.activeEditor.positions>=0){var l=r._format(Number(r.activeEditor.value),"d"+r.activeEditor.maxEditPositions,r.culture);if(tmp=l,tmp=tmp.substring(0,r.activeEditor.positions)+"0"+tmp.substring(r.activeEditor.positions+1),parseInt(tmp)<r.activeEditor.minValue&&(tmp=r._format(Number(r.activeEditor.minValue),"d"+r.activeEditor.maxEditPositions,r.culture)),r.enableAbsoluteSelection?r.activeEditor.value=tmp:r.activeEditor.value=r.activeEditor.minValue,r._validateValue(),r._updateText(),r.changeType="keyboard",8==i){var h=this;r.enableAbsoluteSelection&&r.activeEditor.positions>0?setTimeout(function(){h.activeEditor.positions=h.activeEditor.positions-1,h._selectGroup(o)},10):setTimeout(function(){h._doLeftKey()},10)}else r._selectGroup(o)}else r._doLeftKey()}}else r.isEditing=!1,r.allowKeyboardDelete&&(r.changeType="keyboard",r.allowNullDate?r.setDate(null):"range"!=r.selectionMode?r.setDate(r.getMinDate()):r.setRange(r.getMinDate(),r.getMinDate()));return!1}if(38==i)return this.spinUp(),r.changeType="keyboard",!1;if(40==i)return this.spinDown(),r.changeType="keyboard",!1;if(9==i){if(null==r.value)return!0;if(t.shiftKey)var d=this._doLeftKey();else var d=this._doRightKey();return!d}if(37==i){if(this._editor){var d=this._doLeftKey();return d||(this.isEditing=!1,this._validateValue()),!d}var d=this._doLeftKey();return!1}if(39==i||191==i){if(this._editor){var d=this._doRightKey();return d||(this.isEditing=!1,this._validateValue()),!d}var d=this._doRightKey();return!1}var c=this._isSpecialKey(i);return null==this.value&&(i>=48&&57>=i||i>=96&&105>=i)&&(r.changeType="keyboard",new Date>=this.getMinDate()&&new Date<=this.getMaxDate()?this.setDate(new Date):this.setDate(this.getMaxDate())),e.jqx.browser.mozilla?e.jqx.browser.mozilla&&e.jqx.browser.version>24?!0:c:!0}return 9==t.keyCode?(r.hideCalendar("selected","keyboard"),!0):void 0},_isSpecialKey:function(e){return 8==e||9==e||13==e||35==e||36==e||37==e||39==e||27==e||46==e},_selection:function(){if("selectionStart"in this.dateTimeInput[0]){var e=this.dateTimeInput[0],t=e.selectionEnd-e.selectionStart;return{start:e.selectionStart,end:e.selectionEnd,length:t,text:e.value}}var i=document.selection.createRange();if(null==i)return{start:0,end:e.value.length,length:0};var r=this.dateTimeInput[0].createTextRange(),s=r.duplicate();r.moveToBookmark(i.getBookmark()),s.setEndPoint("EndToStart",r);var t=i.text.length;return{start:s.text.length,end:s.text.length+i.text.length,length:t,text:i.text}},_selectGroup:function(e,t){if("none"!=this.host.css("display")&&!this.readonly){if(!t)var t=this._selection();for(var i="",r="",s=null,a=0;a<this.items.length;a++){if(r=this.items[a].dateParser(this.value,this),this.isEditing&&"ReadOnly"!=this.items[a].type){var n="Day"==this.items[a].type&&this.items[a].format.length>2;if(!n&&"FORMAT_AMPM"!=this.items[a].type)for(r=this.items[a].dateParserInEditMode(new Number(this.editors[a].value),"d"+this.editors[a].maxEditPositions,this);r.length<this.editors[a].maxEditPositions;)r="0"+r}if(i+=r,"ReadOnly"!=this.items[a].type&&!("Day"==this.items[a].type&&this.items[a].format.length>2))if(void 0!=e&&-1!=e){if(a>=e){var o=i.length-r.length,l=r.length;this.enableAbsoluteSelection&&!isNaN(parseInt(r))&&this.isEditing&&-1!=e&&(l=1,o+=this.editors[a].positions),o==this.dateTimeInput.val().length&&o--,this._setSelection(o,o+l),s=this.editors[a],this.activeEditor=s;break}}else if(i.length>=t.start){s=this.editors[a],this.activeEditor=s;var o=i.length-r.length,l=1;this.enableAbsoluteSelection?!isNaN(parseInt(r))&&this.isEditing&&-1!=e&&(l=1,o+=this.editors[a].positions):l=r.length,this._setSelection(o,o+l);break}}a<this.items.length&&-1==e&&"ReadOnly"!=this.items[a].type&&(this.activeEditor.positions=0);var h=this._selection();if(0==h.length&&h.start>0){this._getLastEditableEditorIndex()}}},_getLastEditableEditorIndex:function(){var e=-1;for(i=0;i<this.editors.length;i++)"ReadOnly"!=this.items[i].type&&("Day"==this.items[i].type&&this.items[i].format.length>2||(e=i));return e},_setSelection:function(e,t){try{if("selectionStart"in this.dateTimeInput[0])this.dateTimeInput[0].setSelectionRange(e,t);else{var i=this.dateTimeInput[0].createTextRange();i.collapse(!0),i.moveEnd("character",t),i.moveStart("character",e),i.select()}}catch(r){}},_setSelectionStart:function(e){this._setSelection(e,e)},destroy:function(){e.jqx.utilities.resize(this.host,null,!0),this.host.removeClass("jqx-rc-all"),this.timePopupElement&&this.timePopupElement.remove(),this._calendar.destroy(),this.container.remove(),this._removeHandlers(),this.dateTimeInput.remove(),this.host.remove()},refreshValue:function(){this._refreshValue()},refresh:function(e){1!=e&&(this._setSize(),this._arrange())},resize:function(e,t){this.width=e,this.height=t,this.refresh()},_setOption:function(e,t,i){"value"===e&&("range"!=this.selectionMode?this._oldDT=null:this._oldDT=null,this.value=t,this._refreshValue(),this._raiseEvent(9,{type:null})),"maxDate"==e&&(this._calendar.maxDate=t,this._raiseEvent(9,{type:null})),"minDate"==e&&(this._calendar.minDate=t,this._raiseEvent(9,{type:null})),"showCalendarButton"==e&&(t?this.calendarButton.css("display","block"):this.calendarButton.css("display","none")),"disabled"==e&&this.dateTimeInput.attr("disabled",t),"readonly"==e&&(this.readonly=t,this.dateTimeInput.css("readonly",t)),"textAlign"==e&&(this.dateTimeInput.css("text-align",t),this.textAlign=t),"width"==e?(this.width=t,this.width=parseInt(this.width),this._arrange()):"height"==e&&(this.height=t,this.height=parseInt(this.height),this._arrange())},_refreshValue:function(){this._updateEditorsValue(),this.updateValue(),this._validateValue(),this._updateText()}})}(jqxBaseFramework),function(e){e.jqx._jqxDateTimeInput.DateTimeFormatItem={},e.extend(e.jqx._jqxDateTimeInput.DateTimeFormatItem,{_create:function(e,t,i){return this.format=e,this.type=t,this.culture=i,this},_itemValue:function(){switch(this.format.length){case 1:return 9;case 2:return 99;case 3:default:return 999}},_maximumValue:function(){switch(this.format.length){case 1:return 9;case 2:return 99;case 3:default:return 999}},dateParser:function(e,t){if(null==e)return"";var i=t._format(e.dateTime,1==this.format.length?"%"+this.format:this.format,this.culture);return i},dateParserInEditMode:function(e,t,i){if(null==e)return"";var r=i._format(e.toString(),1==t.length?"%"+t:t,this.culture);return r},getDateTimeEditorByItemType:function(t,i){switch(this.type){case"FORMAT_AMPM":var r=e.jqx._jqxDateTimeInput.AmPmEditor._createAmPmEditor(this.format,t.hour/12,i.localization.calendar.AM[0],i.localization.calendar.PM[0],this,i),s=e.extend({},r);return s;case"Character":return null;case"Day":var a,n=t.year,o=t.month;a=3==this.format.length?i.localization.calendar.days.namesAbbr:this.format.length>3?i.localization.calendar.days.names:null;var l=t.day;null!=a&&(l=t.dayOfWeek+1);var h=e.jqx._jqxDateTimeInput.DateEditor._createDayEditor(t,t.day,1,t._daysInMonth(n,o),1==this.format.length?1:2,2,a,this,i),s=e.extend({},h);return s;case"FORMAT_hh":var d=t.hour%12;0==d&&(d=12);var c=e.jqx._jqxDateTimeInput.NumberEditor._createNumberEditor(d,1,12,1==this.format.length?1:2,2,this,i),s=e.extend({},c);return s;case"FORMAT_HH":var u=e.jqx._jqxDateTimeInput.NumberEditor._createNumberEditor(t.hour,0,23,1==this.format.length?1:2,2,this,i),s=e.extend({},u);return s;case"Millisecond":var p=e.jqx._jqxDateTimeInput.NumberEditor._createNumberEditor(t.millisecond/this._itemValue(),0,this._maximumValue(),this.format.length,this.format.length,this,i),s=e.extend({},p);return s;case"Minute":var f=e.jqx._jqxDateTimeInput.NumberEditor._createNumberEditor(t.minute,0,59,1==this.format.length?1:2,2,this,i),s=e.extend({},f);return s;case"Month":var m;m=3==this.format.length?i.localization.calendar.months.namesAbbr:this.format.length>3?i.localization.calendar.months.names:null;var g=e.jqx._jqxDateTimeInput.DateEditor._createMonthEditor(t.month,2==this.format.length?2:1,m,this,i),s=e.extend({},g);return s;case"ReadOnly":return e.jqx._jqxDateTimeInput.DisabledEditor._create(this.format.length,t.day,this,i);case"Second":var v=e.jqx._jqxDateTimeInput.NumberEditor._createNumberEditor(t.second,0,59,1==this.format.length?1:2,2,this,i),s=e.extend({},v);return s;case"Year":var x=e.jqx._jqxDateTimeInput.DateEditor._createYearEditor(t.year,4,this,i),s=e.extend({},x);return s}return null}})}(jqxBaseFramework),function(e){e.jqx._jqxDateTimeInput.DateEditor=e.extend(e.jqx._jqxDateTimeInput.DateEditor,{formatValueLength:0,handleYears:!1,handleDays:!1,handleMonths:!1,positions:0,value:0,minEditPositions:0,maxEditPositions:0,minValue:0,maxValue:0,item:null,dateTimeFormatInfo:null,days:null,dateTimeMonths:null,lastDayInput:null,minPositions:function(){return this.handleYears&&4==this.formatValueLength?this.positions<=1?1:this.positions>=4?4:this.positions:this.minEditPositions},initializeFields:function(e,t,i,r,s){this.minValue=e,this.maxValue=t,this.minEditPositions=i,this.maxEditPositions=r,this.updateActiveEditor(e),this.item=s},_createYearEditor:function(t,i,r,s){return e.jqx._jqxDateTimeInput.DateEditor=e.extend(!0,{},this),this.initializeFields(0,4>i?99:9999,2==i?2:1,i>3?4:2,r),this.initializeYearEditor(t,i,r.culture),this.handleYears=!0,this.that=s,this},initializeYearEditor:function(e,t,i){this.formatValueLength=t,this.dateTimeFormatInfo=i;var r=e;r=Math.min(r,9999),r=Math.max(r,1),r=this.formatValueLength<4?r%100:r,this.updateActiveEditor(r),this.value=r},updateActiveEditor:function(e){this.value=e,this.positions=0},_createDayEditor:function(t,i,r,s,a,n,o,l,h){return e.jqx._jqxDateTimeInput.DateEditor=e.extend(!0,{},this),this.initializeFields(r,s,1,n,l),this.currentValue=t,this.value=i,this.days=o,this.handleDays=!0,this.that=h,this},getDayOfWeek:function(t){return typeof this.currentValue==e.jqx._jqxDateTimeInput.DateTime&&this.currentValue.dayOfWeek(),t},defaultTextValue:function(){var e=(this.value,this.minEditPositions),t=e,i=this.that._format(this.value,"d"+t,"");return i},textValue:function(){if(this.handleDays){if(null==this.days)return this.defaultTextValue();var e=this.value%7+1;return e=this.getDayOfWeek(e),this.days[e]}return this.handleMonths?null==this.dateTimeMonths||this.value<1||this.value>12?this.defaultTextValue():this.dateTimeMonths[this.value-1]:this.defaultTextValue()},defaultInsertString:function(e){if(null==e)return this.deleteValue();if(0==e.length)return this.deleteValue();var t=e.substring(0,1);if(!isNaN(t)){var i,r=1,s=this.that._format(Number(this.value),"d"+this.maxEditPositions,this.culture);return i=s,this.positions>=this.maxEditPositions&&(this.positions=0),i=i.substring(0,this.positions)+t+i.substring(this.positions+1),i=this.setValueByString(i,r),!0}},setValueByString:function(e,t){e=this.fixValueString(e);var i=new Number(e);return this.value=i,this.positions+=t,e},fixValueString:function(e){return e.length>this.maxEditPositions&&(e=e.substring(e.length-this.maxEditPositions)),e},initializeValueString:function(e){var t;return t="",this.hasDigits()&&(t=e),t},deleteValue:function(){return this.value==this.minValue&&0==this.hasDigits()?!1:(this.updateActiveEditor(this.minValue),!0)},hasDigits:function(){
return this.positions>0},insert:function(e){if(this.handleDays){if(null!=this.days){var t=!1;if(t=this.insertLongString(e,t))return t;if(t=this.insertShortString(e,t))return t}return 1==this.value&&null!=this.lastDayInput&&this.lastDayInput.toString().length>0&&"0"==this.lastDayInput.toString()&&(this.value=0),this.lastDayInput=e,this.defaultInsertString(e)}if(this.handleMonths&&null!=this.dateTimeMonths){var t=!1;if(t=this.insertLongString2(e,t))return t;if(t=this.insertShortString2(e,t))return t}return this.defaultInsertString(e)},insertShortString:function(e,t){if(1==e.length)for(i=0;i<6;++i){var r=(this.value+i)%7+1,s=this.days[r-1];if(s.substring(0,1)==e)return this.updateActiveEditor(r),t=!0}return t},insertLongString:function(e,t){if(e.length>0)for(i=0;i<6;++i){var r=(this.value+i)%7+1;if(this.days[r-1]==e)return this.updateActiveEditor(r),t=!0}return t},_createMonthEditor:function(t,i,r,s,a){return e.jqx._jqxDateTimeInput.DateEditor=e.extend(!0,{},this),this.initializeFields(1,12,i,2,s),this.dateTimeMonths=r,this.value=t,null!=this.dateTimeMonths&&null!=this.dateTimeMonths[12]&&this.dateTimeMonths[12].length>0&&(this.dateTimeMonths=null),this.handleMonths=!0,this.that=a,this},insertLongString2:function(e,t){if(e.length>0)for(i=0;i<11;++i)if(month=(this.value+i)%12+1,this.dateTimeMonths[month-1]==e)return this.updateActiveEditor(month),t=!0;return t},insertShortString2:function(e,t){if(1==e.length)for(i=0;i<11;++i){var r=(this.value+i)%12+1,s=this.dateTimeMonths[r-1];if(s.substring(0,1)==e)return this.updateActiveEditor(r),t=!0}return t},correctMaximumValue:function(e){return e>this.maxValue&&(e=this.minValue),e},correctMinimumValue:function(e){return e<this.minValue&&(e=this.maxValue),e},increaseValue:function(e){var t=this.that._format(Number(this.value),"d"+this.maxEditPositions,this.culture),i=t.toString()[this.positions];if(i=parseInt(i)+1,i>9&&(i=0),!e){var r=this.value+1;return r=this.correctMaximumValue(r),this.updateActiveEditor(r),!0}var s=t.substring(0,this.positions)+i+t.substring(this.positions+1);return s!=this.value||this.hasDigits()?(this.updateActiveEditor(s),!0):!1},decreaseValue:function(e){var t=this.that._format(Number(this.value),"d"+this.maxEditPositions,this.culture),i=t.toString()[this.positions];if(i=parseInt(i)-1,0>i&&(i=9),!e){var r=this.value-1;return r=this.correctMinimumValue(r),this.updateActiveEditor(r),!0}var s=t.substring(0,this.positions)+i+t.substring(this.positions+1);return s!=this.value||this.hasDigits()?(this.updateActiveEditor(s),!0):!1},getDateTimeItem:function(){return this.item}})}(jqxBaseFramework),function(e){e.jqx._jqxDateTimeInput.NumberEditor={},e.extend(e.jqx._jqxDateTimeInput.NumberEditor,{formatValueLength:0,positions:0,value:0,minEditPositions:0,maxEditPositions:0,minValue:0,maxValue:0,item:null,minPositions:function(){return this.handleYears&&4==this.formatValueLength?this.positions<=1?1:this.positions>=4?4:this.positions:this.minEditPositions},_createNumberEditor:function(t,i,r,s,a,n,o){return e.jqx._jqxDateTimeInput.NumberEditor=e.extend(!0,{},this),this.initializeFields(i,r,s,a,n),this.that=o,this},initializeFields:function(e,t,i,r,s){this.minValue=e,this.maxValue=t,this.minEditPositions=i,this.maxEditPositions=r,this.updateActiveEditor(e),this.item=s},updateActiveEditor:function(e){this.value=e,this.positions=0},getDayOfWeek:function(t){return typeof this.currentValue==e.jqx._jqxDateTimeInput.DateTime&&this.currentValue.dayOfWeek(),t},textValue:function(){var e=(this.value,this.minEditPositions),t=e,i=this.that._format(this.value,"d"+t,"");return i},insert:function(e){if(null==e)return this.deleteValue();if(0==e.length)return this.deleteValue();var t=e.substring(0,1);if(!isNaN(t)){var i,r=1,s=this.that._format(Number(this.value),"d"+this.maxEditPositions,this.culture);return i=s,this.positions>=this.maxEditPositions&&(this.positions=0),i=i.substring(0,this.positions)+t+i.substring(this.positions+1),i=this.setValueByString(i,r),!0}},setValueByString:function(e,t){e=this.fixValueString(e);var i=new Number(e);return this.value=i,this.positions+=t,e},fixValueString:function(e){return e.length>this.maxEditPositions&&(e=e.substring(e.length-this.maxEditPositions)),e},initializeValueString:function(e){var t;return t="",this.hasDigits()&&(t=e),t},deleteValue:function(){return this.value==this.minValue&&0==this.hasDigits()?!1:(this.updateActiveEditor(this.minValue),!0)},hasDigits:function(){return this.positions>0},correctMaximumValue:function(e){return e>this.maxValue&&(e=this.minValue),e},correctMinimumValue:function(e){return e<this.minValue&&(e=this.maxValue),e},increaseValue:function(e){var t=this.that._format(Number(this.value),"d"+this.maxEditPositions,this.culture),i=t.toString()[this.positions];if(i=parseInt(i)+1,i>9&&(i=0),!e){var r=this.value+1;return r=this.correctMaximumValue(r),this.updateActiveEditor(r),!0}var s=t.substring(0,this.positions)+i+t.substring(this.positions+1);return s!=this.value||this.hasDigits()?(this.updateActiveEditor(s),!0):!1},decreaseValue:function(e){var t=this.that._format(Number(this.value),"d"+this.maxEditPositions,this.culture),i=t.toString()[this.positions];if(i=parseInt(i)-1,0>i&&(i=9),!e){var r=this.value-1;return r=this.correctMinimumValue(r),this.updateActiveEditor(r),!0}var s=t.substring(0,this.positions)+i+t.substring(this.positions+1);return s!=this.value||this.hasDigits()?(this.updateActiveEditor(s),!0):!1},getDateTimeItem:function(){return this.item}})}(jqxBaseFramework),function(e){e.jqx._jqxDateTimeInput.DisabledEditor={},e.extend(e.jqx._jqxDateTimeInput.DisabledEditor,{_create:function(e,t,i,r,s,a){return this.format=e,this.value=-1,this.item=s,this.that=a,this},textValue:function(){return""},insert:function(e){return!1},deleteValue:function(){return!1},increaseValue:function(){return!1},decreaseValue:function(){return!1},getDateTimeItem:function(){return this.item}})}(jqxBaseFramework),function(e){e.jqx._jqxDateTimeInput.AmPmEditor={},e.extend(e.jqx._jqxDateTimeInput.AmPmEditor,{_createAmPmEditor:function(e,t,i,r,s,a){return this.format=e,this.value=t,this.minValue=0,this.amString=i,this.pmString=r,this.item=s,this.that=a,i==r&&(this.amString="<"+i,this.pmString=">"+r),this},textValue:function(){var e=this.amString;return 0!=this.value&&(e=this.pmString),1==this.format.length&&e.length>1&&(e=e.substring(0,1)),e},insert:function(e){var t=e.toString();if(0==t.Length)return this.deleteValue();var i=!1;if(this.amString.Length>0&&this.pmString.Length>0){var r=amString[0],s=t[0],a=pmString[0];r.toString()==s.toString()?(this.value=0,i=!0):a.toString()==s.toString()&&(this.value=1,i=!0)}else this.pmString.Length>0?(this.value=1,i=!0):this.amString.Length>0&&(this.value=0,i=!0);return i},deleteValue:function(){var e=!0;if(0==this.amString.Length&&0!=this.pmString.Length){if(0==this.value)return!1;this.value=0}else{if(1==this.value)return!1;this.value=1}return e},increaseValue:function(){return this.value=1-this.value,!0},decreaseValue:function(){return this.increaseValue(),!0},getDateTimeItem:function(){return this.item}})}(jqxBaseFramework),function(e){e.jqx._jqxDateTimeInput.getDateTime=function(e){var t={dateTime:new Date(e),daysPer4Years:1461,daysPerYear:365,daysToMonth365:{0:0,1:31,2:59,3:90,4:120,5:151,6:181,7:212,8:243,9:273,10:304,11:334,12:365},daysToMonth366:{0:0,1:31,2:60,3:91,4:121,5:152,6:182,7:213,8:244,9:274,10:305,11:335,12:366},maxValue:3155378976e9,millisPerDay:864e5,millisPerHour:36e5,millisPerMinute:6e4,millisPerSecond:1e3,minTicks:0,minValue:0,ticksPerDay:864e9,ticksPerHour:36e9,ticksPerMillisecond:1e4,ticksPerMinute:6e8,ticksPerSecond:1e7,hour:e.getHours(),minute:e.getMinutes(),day:e.getDate(),second:e.getSeconds(),month:1+e.getMonth(),year:e.getFullYear(),millisecond:e.getMilliseconds(),dayOfWeek:e.getDay(),isWeekend:function(e){void 0!=e&&null!=e||(e=this.dateTime);var t=e.getDay()%6==0;return t},dayOfYear:function(e){void 0!=e&&null!=e||(e=this.dateTime);var t=new Date(e.getFullYear(),0,1);return Math.ceil((e-t)/864e5)},_setDay:function(e){void 0!=e&&null!=e||(e=0),this.dateTime.setDate(e),this.day=this.dateTime.getDate()},_setMonth:function(e){void 0!=e&&null!=e||(e=0),this.dateTime.setMonth(e-1),this.month=1+this.dateTime.getMonth()},_setYear:function(e){void 0!=e&&null!=e||(e=0),this.dateTime.setFullYear(e),this.year=this.dateTime.getFullYear()},_setHours:function(e){void 0!=e&&null!=e||(e=0),this.dateTime.setHours(e),this.hour=this.dateTime.getHours()},_setMinutes:function(e){void 0!=e&&null!=e||(e=0),this.dateTime.setMinutes(e),this.minute=this.dateTime.getMinutes()},_setSeconds:function(e){void 0!=e&&null!=e||(e=0),this.dateTime.setSeconds(e),this.second=this.dateTime.getSeconds()},_setMilliseconds:function(e){void 0!=e&&null!=e||(e=0),this.dateTime.setMilliseconds(e),this.millisecond=this.dateTime.getMilliseconds()},_addDays:function(e){var t=this.dateTime,i=t.getDate();return t.setDate(t.getDate()+e),i===t.getDate()&&t.setHours(t.getHours()+t.getTimezoneOffset()/60),t},_addWeeks:function(e){var t=this.dateTime;return t.setDate(t.getDate()+7*e),t},_addMonths:function(e){var t=this.dateTime;return t.setMonth(t.getMonth()+e),t},_addYears:function(e){var t=this.dateTime;return t.setFullYear(t.getFullYear()+e),t},_addHours:function(e){var t=this.dateTime;return t.setHours(t.getHours()+e),t},_addMinutes:function(e){var t=this.dateTime;return t.setMinutes(t.getMinutes()+e),t},_addSeconds:function(e){var t=this.dateTime;return t.setSeconds(t.getSeconds()+e),t},_addMilliseconds:function(e){var t=this.dateTime;return t.setMilliseconds(t.getMilliseconds()+e),t},_isLeapYear:function(e){if(1>e||e>9999)throw"invalid year";return e%4!=0?!1:e%100==0?e%400==0:!0},_dateToTicks:function(e,t,i){if(e>=1&&9999>=e&&t>=1&&12>=t){var r=this._isLeapYear(e)?this.daysToMonth366:this.daysToMonth365;if(i>=1&&i<=r[t]-r[t-1]){var e=e-1,s=365*e+e/4-e/100+e/400+r[t-1]+i-1;return 864e9*s}}},_daysInMonth:function(e,t){if(1>t||t>12)throw"Invalid month.";var i=this._isLeapYear(e)?this.daysToMonth366:this.daysToMonth365;return i[t]-i[t-1]},_timeToTicks:function(e,t,i){var r=3600*e+60*t+i;return 1e7*r},_equalDate:function(e){return this.year==e.getFullYear()&&this.day==e.getDate()&&this.month==e.getMonth()+1}};return t}}(jqxBaseFramework),function(e){e.jqx.jqxWidget("jqxDropDownList","",{}),e.extend(e.jqx._jqxDropDownList.prototype,{defineInstance:function(){var t={disabled:!1,width:null,height:null,items:new Array,selectedIndex:-1,source:null,scrollBarSize:15,arrowSize:19,enableHover:!0,enableSelection:!0,autoItemsHeight:!1,visualItems:new Array,groups:new Array,equalItemsWidth:!0,itemHeight:-1,visibleItems:new Array,emptyGroupText:"Group",checkboxes:!1,openDelay:250,closeDelay:300,dropDownContainer:"default",animationType:"default",autoOpen:!1,dropDownWidth:"auto",dropDownHeight:"200px",autoDropDownHeight:!1,keyboardSelection:!0,enableBrowserBoundsDetection:!1,dropDownHorizontalAlignment:"left",dropDownVerticalAlignment:"bottom",displayMember:"",valueMember:"",groupMember:"",searchMember:"",searchMode:"startswithignorecase",incrementalSearch:!0,incrementalSearchDelay:700,renderer:null,placeHolder:"Please Choose:",promptText:"Please Choose:",emptyString:"",rtl:!1,selectionRenderer:null,listBox:null,popupZIndex:9999999999999,renderMode:"default",touchMode:"auto",_checkForHiddenParent:!0,autoBind:!0,ready:null,focusable:!0,filterable:!1,filterHeight:27,filterPlaceHolder:"Looking for",filterDelay:100,template:"default",aria:{"aria-disabled":{name:"disabled",type:"boolean"}},events:["open","close","select","unselect","change","checkChange","bindingComplete","itemAdd","itemRemove","itemUpdate"]};return this===e.jqx._jqxDropDownList.prototype?t:(e.extend(!0,this,t),t)},createInstance:function(e){this.render()},render:function(){var t=this;t.width||(t.width=200),t.height||(t.height=25);var i=t.element.nodeName.toLowerCase();if("select"==i||"ul"==i||"ol"==i){t.field=t.element,t.field.className&&(t._className=t.field.className);var r={title:t.field.title};t.field.id.length?r.id=t.field.id.replace(/[^\w]/g,"_")+"_jqxDropDownList":r.id=e.jqx.utilities.createId()+"_jqxDropDownList";var s=e("<div></div>",r);t.width||(t.width=e(t.field).width()),t.height||(t.height=e(t.field).outerHeight()),s[0].style.cssText=t.field.style.cssText,e(t.field).hide().after(s);var a=t.host.data();if(t.host=s,t.host.data(a),t.element=s[0],t.element.id=t.field.id,t.field.id=r.id,t._className&&(t.host.addClass(t._className),e(t.field).removeClass(t._className)),t.field.tabIndex){var n=t.field.tabIndex;t.field.tabIndex=-1,t.element.tabIndex=n}var o=e.jqx.parseSourceTag(t.field);t.source=o.items,-1==t.selectedIndex&&(t.selectedIndex=o.index)}else if(t.host.find("li").length>0||t.host.find("option").length>0){var o=e.jqx.parseSourceTag(that.element);t.source=o.items}t.element.innerHTML="",t.isanimating=!1,t.id=t.element.id||e.jqx.utilities.createId(),t.host.attr("role","combobox"),e.jqx.aria(t,"aria-autocomplete","both"),e.jqx.aria(t,"aria-readonly",!1);var l="<div style='background-color: transparent; -webkit-appearance: none; outline: none; width:100%; height: 100%; padding: 0px; margin: 0px; border: 0px; position: relative;'><div id='dropdownlistWrapper' style='overflow: hidden; outline: none; background-color: transparent; border: none; float: left; width:100%; height: 100%; position: relative;'><div id='dropdownlistContent' unselectable='on' style='outline: none; background-color: transparent; border: none; float: left; position: relative;'></div><div id='dropdownlistArrow' unselectable='on' style='background-color: transparent; border: none; float: right; position: relative;'><div unselectable='on'></div></div></div></div>";if(null==e.jqx._jqxListBox||void 0==e.jqx._jqxListBox)throw new Error("jqxDropDownList: Missing reference to jqxlistbox.js.");t.host.attr("tabindex")||t.host.attr("tabindex",0);t.touch=e.jqx.mobile.isTouchDevice(),t.comboStructure=l,t.element.innerHTML=l,t.dropdownlistWrapper=e(t.element.firstChild.firstChild),t.dropdownlistArrow=e(t.dropdownlistWrapper[0].firstChild.nextSibling),t.arrow=e(t.dropdownlistArrow[0].firstChild),t.dropdownlistContent=e(t.dropdownlistWrapper[0].firstChild),t.dropdownlistContent.addClass(t.toThemeProperty("jqx-dropdownlist-content jqx-disableselect")),t.rtl&&t.dropdownlistContent.addClass(t.toThemeProperty("jqx-rtl jqx-dropdownlist-content-rtl")),t.addHandler(t.dropdownlistWrapper,"selectstart",function(){return!1}),t.dropdownlistWrapper[0].id="dropdownlistWrapper"+t.element.id,t.dropdownlistArrow[0].id="dropdownlistArrow"+t.element.id,t.dropdownlistContent[0].id="dropdownlistContent"+t.element.id,t._addInput(),"Please Choose:"!=t.promptText&&(t.placeHolder=t.promptText);var h=t.toThemeProperty("jqx-widget")+" "+t.toThemeProperty("jqx-dropdownlist-state-normal")+" "+t.toThemeProperty("jqx-rc-all")+" "+t.toThemeProperty("jqx-fill-state-normal");t.element.className+=" "+h,t._firstDiv=e(t.element.firstChild);try{var d="listBox"+t.id,c=e(e.find("#"+d));c.length>0&&c.remove(),e.jqx.aria(t,"aria-owns",d),e.jqx.aria(t,"aria-haspopup",!0);var u=e("<div style='overflow: hidden; background-color: transparent; border: none; position: absolute;' id='listBox"+t.id+"'><div id='innerListBox"+t.id+"'></div></div>");u.hide(),"element"==t.dropDownContainer?u.appendTo(t.host):u.appendTo(document.body),t.container=u,t.listBoxContainer=e(e.find("#innerListBox"+t.id));var p=t.width;"auto"!=t.dropDownWidth&&(p=t.dropDownWidth),null==p&&(p=t.host.width(),0==p&&(p=t.dropDownWidth)),null==t.dropDownHeight&&(t.dropDownHeight=200);t.container.width(parseInt(p)+25),t.container.height(parseInt(t.dropDownHeight)+25),t._ready=!1,t.addHandler(t.listBoxContainer,"bindingComplete",function(i){t.listBox||(t.listBox=e.data(t.listBoxContainer[0],"jqxListBox").instance),t.selectedIndex!=t.listBoxContainer.jqxListBox("selectedIndex")?(t.listBox=e.data(t.listBoxContainer[0],"jqxListBox").instance,t.listBoxContainer.jqxListBox({selectedIndex:t.selectedIndex}),t.renderSelection("mouse")):t.renderSelection("mouse"),t._ready||(t.ready&&t.ready(),t._ready=!0),t._raiseEvent("6")}),t.addHandler(t.listBoxContainer,"itemAdd",function(e){t._raiseEvent("7",e.args)}),t.addHandler(t.listBoxContainer,"itemRemove",function(e){t._raiseEvent("8",e.args)}),t.addHandler(t.listBoxContainer,"itemUpdate",function(e){t._raiseEvent("9",e.args)}),t.listBoxContainer.jqxListBox({filterHeight:t.filterHeight,filterPlaceHolder:t.filterPlaceHolder,filterDelay:t.filterDelay,autoItemsHeight:t.autoItemsHeight,filterable:t.filterable,allowDrop:!1,allowDrag:!1,autoBind:t.autoBind,_checkForHiddenParent:!1,focusable:t.focusable,touchMode:t.touchMode,checkboxes:t.checkboxes,rtl:t.rtl,_renderOnDemand:!0,emptyString:t.emptyString,itemHeight:t.itemHeight,width:p,searchMode:t.searchMode,incrementalSearch:t.incrementalSearch,incrementalSearchDelay:t.incrementalSearchDelay,groupMember:t.groupMember,searchMember:t.searchMember,displayMember:t.displayMember,valueMember:t.valueMember,height:t.dropDownHeight,autoHeight:t.autoDropDownHeight,scrollBarSize:t.scrollBarSize,selectedIndex:t.selectedIndex,source:t.source,theme:t.theme,rendered:function(){t.selectedIndex!=t.listBoxContainer.jqxListBox("selectedIndex")?(t.listBox=e.data(t.listBoxContainer[0],"jqxListBox").instance,t.listBoxContainer.jqxListBox({selectedIndex:t.selectedIndex}),t.renderSelection("mouse")):t.renderSelection("mouse")},renderer:t.renderer,filterChange:function(e){t.autoDropDownHeight&&t.container.height(t.listBoxContainer.height()+25)}}),"element"===t.dropDownContainer?t.listBoxContainer.css({position:"absolute",top:0,left:0}):t.listBoxContainer.css({position:"absolute",zIndex:t.popupZIndex,top:0,left:0}),t.template&&t.listBoxContainer.addClass(t.toThemeProperty("jqx-"+t.template+"-item")),t.listBox=e.data(t.listBoxContainer[0],"jqxListBox").instance,t.listBox.enableSelection=t.enableSelection,t.listBox.enableHover=t.enableHover,t.listBox.equalItemsWidth=t.equalItemsWidth,t.listBox.selectIndex(t.selectedIndex),t.listBox._arrange(),t.listBoxContainer.addClass(t.toThemeProperty("jqx-popup")),e.jqx.browser.msie&&t.listBoxContainer.addClass(t.toThemeProperty("jqx-noshadow")),t.addHandler(t.listBoxContainer,"unselect",function(e){t._raiseEvent("3",{index:e.args.index,type:e.args.type,item:e.args.item})}),t.addHandler(t.listBoxContainer,"change",function(e){e.args&&("keyboard"!=e.args.type?t._raiseEvent("4",{index:e.args.index,type:e.args.type,item:e.args.item}):"keyboard"==e.args.type&&(t.isOpened()||t._raiseEvent("4",{index:t.selectedIndex,type:"keyboard",item:t.getItem(t.selectedIndex)})))}),"none"==t.animationType?t.container.css("display","none"):t.container.hide()}catch(f){console&&console.log(f)}var t=t;if(t.propertyChangeMap.disabled=function(i,r,s,a){a?(i.host.addClass(t.toThemeProperty("jqx-dropdownlist-state-disabled")),i.host.addClass(t.toThemeProperty("jqx-fill-state-disabled")),i.dropdownlistContent.addClass(t.toThemeProperty("jqx-dropdownlist-content-disabled"))):(i.host.removeClass(t.toThemeProperty("jqx-dropdownlist-state-disabled")),i.host.removeClass(t.toThemeProperty("jqx-fill-state-disabled")),i.dropdownlistContent.removeClass(t.toThemeProperty("jqx-dropdownlist-content-disabled"))),e.jqx.aria(i,"aria-disabled",i.disabled)},t.disabled&&(t.host.addClass(t.toThemeProperty("jqx-dropdownlist-state-disabled")),t.host.addClass(t.toThemeProperty("jqx-fill-state-disabled")),t.dropdownlistContent.addClass(t.toThemeProperty("jqx-dropdownlist-content-disabled"))),"top"==t.dropDownVerticalAlignment?t.arrow.addClass(t.toThemeProperty("jqx-icon-arrow-up")):t.arrow.addClass(t.toThemeProperty("jqx-icon-arrow-down")),t.arrow.addClass(t.toThemeProperty("jqx-icon")),"simple"===t.renderMode&&(t.arrow.remove(),t.host.removeClass(t.toThemeProperty("jqx-fill-state-normal")),t.host.removeClass(t.toThemeProperty("jqx-rc-all"))),t.template&&t.host.addClass(t.toThemeProperty("jqx-"+t.template)),t._updateHandlers(),t._setSize(),t._arrange(),t.listBox&&t.renderSelection(),e.jqx.browser.msie&&e.jqx.browser.version<8&&t.host.parents(".jqx-window").length>0){var m=t.host.parents(".jqx-window").css("z-index");u.css("z-index",m+10),t.listBoxContainer.css("z-index",m+10)}},resize:function(e,t){this.width=e,this.height=t,this._setSize(),this._arrange()},val:function(e){if(!this.dropdownlistContent)return"";var t=function(t){for(var i in t)if(t.hasOwnProperty(i))return!1;return"number"==typeof e?!1:"date"==typeof e?!1:"boolean"==typeof e?!1:"string"!=typeof e};if(this.input&&(t(e)||0==arguments.length))return this.input.val();var i=this.getItemByValue(e);return null!=i&&this.selectItem(i),this.input?this.input.val():void 0},focus:function(){try{var e=this,t=function(){e.host&&(e.host.focus(),e._firstDiv&&e._firstDiv.focus())};t(),setTimeout(function(){t()},10)}catch(i){}},_addInput:function(){var t=this.host.attr("name");this.input=e("<input type='hidden'/>"),this.host.append(this.input),t&&this.input.attr("name",t)},getItems:function(){return this.listBox?this.listBox.items:new Array},getVisibleItems:function(){return this.listBox.getVisibleItems()},_setSize:function(){null!=this.width&&-1!=this.width.toString().indexOf("px")?this.host.width(this.width):void 0==this.width||isNaN(this.width)||this.host.width(this.width),null!=this.height&&-1!=this.height.toString().indexOf("px")?this.host.height(this.height):void 0==this.height||isNaN(this.height)||this.host.height(this.height);var t=!1;null!=this.width&&-1!=this.width.toString().indexOf("%")&&(t=!0,this.element.style.width=this.width),null!=this.height&&-1!=this.height.toString().indexOf("%")&&(t=!0,this.element.style.height=this.height);var i=this,r=function(){if(i._arrange(),"auto"==i.dropDownWidth){var e=i.host.width();i.listBoxContainer.jqxListBox({width:e}),i.container.width(parseInt(e)+25)}};if(t){var s=this.host.width();"auto"!=this.dropDownWidth&&(s=this.dropDownWidth),this.listBoxContainer.jqxListBox({width:s}),this.container.width(parseInt(s)+25)}e.jqx.utilities.resize(this.host,function(){r()},!1,this._checkForHiddenParent)},isOpened:function(){var t=this,i=e.data(document.body,"openedJQXListBox"+this.id);return null!=i&&i==t.listBoxContainer},_updateHandlers:function(){var t=this,i=!1;this.removeHandlers(),this.touch||(this.addHandler(this.host,"mouseenter",function(){!t.disabled&&t.enableHover&&"simple"!==t.renderMode&&(i=!0,t.host.addClass(t.toThemeProperty("jqx-dropdownlist-state-hover")),"top"==t.dropDownVerticalAlignment?t.arrow.addClass(t.toThemeProperty("jqx-icon-arrow-up-hover")):t.arrow.addClass(t.toThemeProperty("jqx-icon-arrow-down-hover")),t.host.addClass(t.toThemeProperty("jqx-fill-state-hover")))}),this.addHandler(this.host,"mouseleave",function(){!t.disabled&&t.enableHover&&"simple"!==t.renderMode&&(t.host.removeClass(t.toThemeProperty("jqx-dropdownlist-state-hover")),t.host.removeClass(t.toThemeProperty("jqx-fill-state-hover")),t.arrow.removeClass(t.toThemeProperty("jqx-icon-arrow-down-hover")),t.arrow.removeClass(t.toThemeProperty("jqx-icon-arrow-up-hover")),i=!1)})),this.host.parents()&&this.addHandler(this.host.parents(),"scroll.dropdownlist"+this.element.id,function(e){var i=t.isOpened();i&&t.close()});var r="mousedown";this.touch&&(r=e.jqx.mobile.getTouchEventName("touchstart")),this.addHandler(this.dropdownlistWrapper,r,function(e){if(!t.disabled){var i="block"==t.container.css("display");if(!t.isanimating){if(i)return t.hideListBox(),!1;t.showListBox(),t.focusable?t.focus():e.preventDefault&&e.preventDefault()}}}),t.autoOpen&&(this.addHandler(this.host,"mouseenter",function(){var e=t.isOpened();!e&&t.autoOpen&&(t.open(),t.host.focus())}),e(document).on("mousemove."+t.id,function(e){var i=t.isOpened();if(i&&t.autoOpen){var r=t.host.coord(),s=r.top,a=r.left,n=t.container.coord(),o=n.left,l=n.top;canClose=!0,e.pageY>=s&&e.pageY<=s+t.host.height()&&e.pageX>=a&&e.pageX<a+t.host.width()&&(canClose=!1),e.pageY>=l&&e.pageY<=l+t.container.height()&&e.pageX>=o&&e.pageX<o+t.container.width()&&(canClose=!1),canClose&&t.close()}})),this.touch?this.addHandler(e(document),e.jqx.mobile.getTouchEventName("touchstart")+"."+this.id,t.closeOpenedListBox,{me:this,listbox:this.listBox,id:this.id}):this.addHandler(e(document),"mousedown."+this.id,t.closeOpenedListBox,{me:this,listbox:this.listBox,id:this.id}),this.addHandler(this.host,"keydown",function(e){var i="block"==t.container.css("display");if("none"==t.host.css("display"))return!0;if(("13"==e.keyCode||"9"==e.keyCode)&&!t.isanimating)return i&&(t.renderSelection(),"13"==e.keyCode&&t.focusable&&t._firstDiv.focus(),t.hideListBox(),t.keyboardSelection||t._raiseEvent("2",{index:t.selectedIndex,type:"keyboard",item:t.getItem(t.selectedIndex)}),"13"==e.keyCode&&t._raiseEvent("4",{index:t.selectedIndex,type:"keyboard",item:t.getItem(t.selectedIndex)})),!i||"9"==e.keyCode;if(115==e.keyCode)return t.isanimating||(t.isOpened()?t.isOpened()&&t.hideListBox():t.showListBox()),!1;if(e.altKey&&"block"==t.host.css("display"))if(38==e.keyCode){if(t.isOpened())return t.hideListBox(),!0}else if(40==e.keyCode&&!t.isOpened())return t.showListBox(),!0;return"27"!=e.keyCode||t.ishiding?t.disabled?void 0:(t._kbnavigated=t.listBox._handleKeyDown(e),t._kbnavigated):(t.isOpened()&&(t.hideListBox(),void 0!=t.tempSelectedIndex&&t.selectIndex(t.tempSelectedIndex)),!0)}),this.addHandler(this.listBoxContainer,"checkChange",function(e){t.renderSelection(),t._updateInputSelection(),t._raiseEvent(5,{label:e.args.label,value:e.args.value,checked:e.args.checked,item:e.args.item})}),this.addHandler(this.listBoxContainer,"select",function(e){if(!t.disabled){if(!e.args)return;"keyboard"!=e.args.type||t.isOpened()||t.renderSelection(),("keyboard"!=e.args.type||t.keyboardSelection)&&(t.renderSelection(),t._raiseEvent("2",{index:e.args.index,type:e.args.type,item:e.args.item,originalEvent:e.args.originalEvent}),"mouse"==e.args.type&&(t.checkboxes||(t.hideListBox(),t._firstDiv&&t.focusable&&t._firstDiv.focus())))}}),this.listBox&&this.listBox.content&&this.addHandler(this.listBox.content,"click",function(e){if(!t.disabled){if(t.listBox.itemswrapper&&e.target===t.listBox.itemswrapper[0])return!0;t.renderSelection("mouse"),t.touch||t.ishiding||t.checkboxes||(t.hideListBox(),t._firstDiv&&t.focusable&&t._firstDiv.focus()),t.keyboardSelection||(t._kbnavigated===!1&&(t.tempSelectedIndex!=t.selectedIndex&&t._raiseEvent("4",{index:t.selectedIndex,type:"mouse",item:t.getItem(t.selectedIndex)}),t._kbnavigated=!0),void 0==t._oldSelectedInd&&(t._oldSelectedIndx=t.selectedIndex),t.selectedIndex!=t._oldSelectedIndx&&(t._raiseEvent("2",{index:t.selectedIndex,type:"keyboard",item:t.getItem(t.selectedIndex)}),t._oldSelectedIndx=t.selectedIndex))}}),this.addHandler(this.host,"focus",function(e){"simple"!==t.renderMode&&(t.host.addClass(t.toThemeProperty("jqx-dropdownlist-state-focus")),t.host.addClass(t.toThemeProperty("jqx-fill-state-focus")))}),this.addHandler(this.host,"blur",function(){"simple"!==t.renderMode&&(t.host.removeClass(t.toThemeProperty("jqx-dropdownlist-state-focus")),t.host.removeClass(t.toThemeProperty("jqx-fill-state-focus")))}),this.addHandler(this._firstDiv,"focus",function(e){"simple"!==t.renderMode&&(t.host.addClass(t.toThemeProperty("jqx-dropdownlist-state-focus")),t.host.addClass(t.toThemeProperty("jqx-fill-state-focus")))}),this.addHandler(this._firstDiv,"blur",function(){"simple"!==t.renderMode&&(t.host.removeClass(t.toThemeProperty("jqx-dropdownlist-state-focus")),t.host.removeClass(t.toThemeProperty("jqx-fill-state-focus")))})},removeHandlers:function(){var t=this,i="mousedown";this.touch&&(i=e.jqx.mobile.getTouchEventName("touchstart")),this.removeHandler(this.dropdownlistWrapper,i),this.listBox&&this.listBox.content&&this.removeHandler(this.listBox.content,"click"),this.removeHandler(this.host,"loadContent"),this.removeHandler(this.listBoxContainer,"checkChange"),this.removeHandler(this.host,"keydown"),this.removeHandler(this.host,"focus"),this.removeHandler(this.host,"blur"),this.removeHandler(this._firstDiv,"focus"),this.removeHandler(this._firstDiv,"blur"),this.removeHandler(this.host,"mouseenter"),this.removeHandler(this.host,"mouseleave"),this.removeHandler(e(document),"mousemove."+t.id)},getItem:function(e){var t=this.listBox.getItem(e);return t},getItemByValue:function(e){var t=this.listBox.getItemByValue(e);return t},selectItem:function(e){void 0!=this.listBox&&(this.listBox.selectItem(e),this.selectedIndex=this.listBox.selectedIndex,this.renderSelection("mouse"))},unselectItem:function(e){void 0!=this.listBox&&(this.listBox.unselectItem(e),this.renderSelection("mouse"))},checkItem:function(e){void 0!=this.listBox&&this.listBox.checkItem(e)},uncheckItem:function(e){void 0!=this.listBox&&this.listBox.uncheckItem(e)},indeterminateItem:function(e){void 0!=this.listBox&&this.listBox.indeterminateItem(e)},renderSelection:function(){if(null!=this.listBox){this.height&&-1!=this.height.toString().indexOf("%")&&this._arrange();var t=this.listBox.visibleItems[this.listBox.selectedIndex];if(this.filterable&&-1==this.listBox.selectedIndex)for(var i in this.listBox.selectedValues){var r=this.listBox.selectedValues[i],s=this.listBox.getItemByValue(r);s&&(t=s)}if(this.checkboxes){var a=this.getCheckedItems();t=null!=a&&a.length>0?a[0]:null}if(null==t){var n=e('<span unselectable="on" style="color: inherit; border: none; background-color: transparent;"></span>');n.appendTo(e(document.body)),n.addClass(this.toThemeProperty("jqx-widget")),n.addClass(this.toThemeProperty("jqx-listitem-state-normal")),n.addClass(this.toThemeProperty("jqx-item")),e.jqx.utilities.html(n,this.placeHolder);var o=this.dropdownlistContent.css("padding-top"),l=this.dropdownlistContent.css("padding-bottom");n.css("padding-top",o),n.css("padding-bottom",l);var h=n.outerHeight();n.remove(),n.removeClass(),e.jqx.utilities.html(this.dropdownlistContent,n);var d=this.host.height();null!=this.height&&void 0!=this.height&&-1===this.height.toString().indexOf("%")&&(d=parseInt(this.height));var c=parseInt((parseInt(d)-parseInt(h))/2);return c>0&&(this.dropdownlistContent.css("margin-top",c+"px"),this.dropdownlistContent.css("margin-bottom",c+"px")),this.selectionRenderer?(e.jqx.utilities.html(this.dropdownlistContent,this.selectionRenderer(n,-1,"","")),this.dropdownlistContent.css("margin-top","0px"),this.dropdownlistContent.css("margin-bottom","0px"),this._updateInputSelection()):this._updateInputSelection(),this.selectedIndex=this.listBox.selectedIndex,"auto"===this.width&&this._arrange(),void(this.focusable&&this.isOpened()&&this.focus())}this.selectedIndex=this.listBox.selectedIndex;var n=e(document.createElement("span"));n[0].setAttribute("unselectable","on");try{n[0].style.color="inherit"}catch(u){}n[0].style.borderWidth="0px",n[0].style.backgroundColor="transparent",n.appendTo(e(document.body)),n.addClass(this.toThemeProperty("jqx-widget jqx-listitem-state-normal jqx-item"));var p=!1;try{void 0!=t.html&&null!=t.html&&t.html.toString().length>0?e.jqx.utilities.html(n,t.html):void 0!=t.label&&null!=t.label&&t.label.toString().length>0?e.jqx.utilities.html(n,t.label):null===t.label||""===t.label?(p=!0,e.jqx.utilities.html(n,"")):void 0!=t.value&&null!=t.value&&t.value.toString().length>0?e.jqx.utilities.html(n,t.value):void 0!=t.title&&null!=t.title&&t.title.toString().length>0?e.jqx.utilities.html(n,t.title):""!=t.label&&null!=t.label||(p=!0,e.jqx.utilities.html(n,""))}catch(f){}var o=this.dropdownlistContent[0].style.paddingTop,l=this.dropdownlistContent[0].style.paddingBottom;""===o&&(o="0px"),""===l&&(l="0px"),n[0].style.paddingTop=o,n[0].style.paddingBottom=l;var h=n.outerHeight();0===h&&(h=16),""!=t.label&&null!=t.label||!p||e.jqx.utilities.html(n,"");var m=this.width&&this.width.toString().indexOf("%")<=0;if(n.remove(),n.removeClass(),this.selectionRenderer)e.jqx.utilities.html(this.dropdownlistContent,this.selectionRenderer(n,t.index,t.label,t.value)),this.focusable&&this.isOpened()&&this.focus();else if(this.checkboxes){for(var g=this.getCheckedItems(),v="",x=0;x<g.length;x++)v+=x==g.length-1?g[x].label:g[x].label+",";n.text(v),m&&n.css("max-width",this.host.width()-30),
n.css("overflow","hidden"),n.css("display","block"),this.rtl||m&&n.css("width",this.host.width()-30),n.css("text-overflow","ellipsis"),n.css("padding-bottom",1+parseInt(l)),this.dropdownlistContent.html(n),this.focusable&&this.isOpened()&&this.focus()}else{var b=this.host.width()-this.arrowSize-3;this.width&&"auto"!==this.width&&(m&&(this.rtl||n.css("max-width",b+"px")),n[0].style.overflow="hidden",n[0].style.display="block",n[0].style.paddingTop=1+parseInt(l)+"px",this.rtl||m&&(0>b&&(b=0),n[0].style.width=b+"px"),n[0].style.textOverflow="ellipsis"),this.dropdownlistContent[0].innerHTML=n[0].innerHTML,this.focusable&&this.isOpened()&&this.focus()}var d=this.host.height();null!=this.height&&void 0!=this.height&&-1===this.height.toString().indexOf("%")&&(d=parseInt(this.height));var c=parseInt((parseInt(d)-parseInt(h))/2);c>=0&&(this.dropdownlistContent[0].style.marginTop=c+"px",this.dropdownlistContent[0].style.marginBottom=c+"px"),this.selectionRenderer&&(this.dropdownlistContent[0].style.marginTop="0px",this.dropdownlistContent[0].style.marginBottom="0px"),this.dropdownlistContent&&this.input&&this._updateInputSelection(),this.listBox&&this.listBox._activeElement&&e.jqx.aria(this,"aria-activedescendant",this.listBox._activeElement.id),"auto"===this.width&&this._arrange()}},_updateInputSelection:function(){if(this.input){var t=new Array;if(-1==this.selectedIndex)this.input.val("");else{var i=this.getSelectedItem();null!=i?(this.input.val(i.value),t.push(i.value)):this.input.val(this.dropdownlistContent.text())}if(this.checkboxes){var r=this.getCheckedItems(),s="";if(null!=r)for(var a=0;a<r.length;a++){var n=r[a].value;void 0!=n&&(s+=a==r.length-1?n:n+",",t.push(n))}this.input.val(s)}}this.field&&this.input&&("select"==this.field.nodeName.toLowerCase()?e.each(this.field,function(i,r){e(this).removeAttr("selected"),this.selected=t.indexOf(this.value)>=0,this.selected&&e(this).attr("selected",!0)}):e.each(this.items,function(i,r){e(this.originalItem.originalItem).removeAttr("data-selected"),this.selected=t.indexOf(this.value)>=0,this.selected&&e(this.originalItem.originalItem).attr("data-selected",!0)}))},setContent:function(t){e.jqx.utilities.html(this.dropdownlistContent,t),this._updateInputSelection()},dataBind:function(){this.listBoxContainer.jqxListBox({source:this.source}),this.renderSelection("mouse"),null==this.source&&this.clearSelection()},clear:function(){this.listBoxContainer.jqxListBox({source:null}),this.clearSelection()},clearSelection:function(t){this.selectedIndex=-1,this._updateInputSelection(),this.listBox.clearSelection(),this.renderSelection(),this.selectionRenderer||e.jqx.utilities.html(this.dropdownlistContent,this.placeHolder)},unselectIndex:function(e,t){isNaN(e)||(this.listBox.unselectIndex(e,t),this.renderSelection())},selectIndex:function(e,t,i,r){this.listBox.selectIndex(e,t,i,r,"api")},getSelectedIndex:function(){return this.selectedIndex},getSelectedItem:function(){return this.listBox.getVisibleItem(this.selectedIndex)},getCheckedItems:function(){return this.listBox.getCheckedItems()},checkIndex:function(e){this.listBox.checkIndex(e)},uncheckIndex:function(e){this.listBox.uncheckIndex(e)},indeterminateIndex:function(e){this.listBox.indeterminateIndex(e)},checkAll:function(){this.listBox.checkAll(),this.renderSelection("mouse")},uncheckAll:function(){this.listBox.uncheckAll(),this.renderSelection("mouse")},addItem:function(e){return this.listBox.addItem(e)},insertAt:function(e,t){return null==e?!1:this.listBox.insertAt(e,t)},removeAt:function(e){var t=this.listBox.removeAt(e);return this.renderSelection("mouse"),t},removeItem:function(e){var t=this.listBox.removeItem(e);return this.renderSelection("mouse"),t},updateItem:function(e,t){var i=this.listBox.updateItem(e,t);return this.renderSelection("mouse"),i},updateAt:function(e,t){var i=this.listBox.updateAt(e,t);return this.renderSelection("mouse"),i},ensureVisible:function(e){return this.listBox.ensureVisible(e)},disableAt:function(e){return this.listBox.disableAt(e)},enableAt:function(e){return this.listBox.enableAt(e)},disableItem:function(e){return this.listBox.disableItem(e)},enableItem:function(e){return this.listBox.enableItem(e)},_findPos:function(t){for(;t&&("hidden"==t.type||1!=t.nodeType||e.expr.filters.hidden(t));)t=t.nextSibling;var i=e(t).coord(!0);return[i.left,i.top]},testOffset:function(t,i,r){var s=t.outerWidth(),a=t.outerHeight(),n=e(window).width()+e(window).scrollLeft(),o=e(window).height()+e(window).scrollTop();if(i.left+s>n&&s>this.host.width()){var l=this.host.coord().left,h=s-this.host.width();i.left=l-h+2}return i.left<0&&(i.left=parseInt(this.host.coord().left)+"px"),i.top-=Math.min(i.top,i.top+a>o&&o>a?Math.abs(a+r+22):0),i},open:function(){this.showListBox()},close:function(){this.hideListBox()},_getBodyOffset:function(){var t=0,i=0;return"0px"!=e("body").css("border-top-width")&&(t=parseInt(e("body").css("border-top-width")),isNaN(t)&&(t=0)),"0px"!=e("body").css("border-left-width")&&(i=parseInt(e("body").css("border-left-width")),isNaN(i)&&(i=0)),{left:i,top:t}},showListBox:function(){if(e.jqx.aria(this,"aria-expanded",!0),this.listBox._renderOnDemand&&this.listBoxContainer.jqxListBox({_renderOnDemand:!1}),"auto"==this.dropDownWidth&&null!=this.width&&this.width.indexOf&&(-1!=this.width.indexOf("%")||-1!=this.width.indexOf("auto"))&&this.listBox.host.width()!=this.host.width()){var t=this.host.width();this.listBoxContainer.jqxListBox({width:t}),this.container.width(parseInt(t)+25)}var i,r=this,s=this.listBoxContainer,a=this.listBox,n=(e(window).scrollTop(),e(window).scrollLeft(),parseInt(this._findPos(this.host[0])[1])+parseInt(this.host.outerHeight())-1+"px"),o=parseInt(Math.round(this.host.coord(!0).left));i=o+"px","element"===this.dropDownContainer&&(n=parseInt(this.host.outerHeight())-1+"px",i=0);var l=e.jqx.mobile.isSafariMobileBrowser()||e.jqx.mobile.isWindowsPhone();if(null!=this.listBox){this.ishiding=!1,this.keyboardSelection||(this.listBox.selectIndex(this.selectedIndex),this.listBox.ensureVisible(this.selectedIndex)),this.tempSelectedIndex=this.selectedIndex,this.autoDropDownHeight&&this.container.height(this.listBoxContainer.height()+25),null!=l&&l&&(i=e.jqx.mobile.getLeftPos(this.element),n=e.jqx.mobile.getTopPos(this.element)+parseInt(this.host.outerHeight()),"0px"!=e("body").css("border-top-width")&&(n=parseInt(n)-this._getBodyOffset().top+"px"),"0px"!=e("body").css("border-left-width")&&(i=parseInt(i)-this._getBodyOffset().left+"px")),s.stop(),"simple"!==this.renderMode&&(this.host.addClass(this.toThemeProperty("jqx-dropdownlist-state-selected")),this.host.addClass(this.toThemeProperty("jqx-fill-state-pressed")),"top"==this.dropDownVerticalAlignment?this.arrow.addClass(this.toThemeProperty("jqx-icon-arrow-up-selected")):this.arrow.addClass(this.toThemeProperty("jqx-icon-arrow-down-selected"))),this.container.css("left",i),this.container.css("top",n),a._arrange();var h=!1;if("right"==this.dropDownHorizontalAlignment||this.rtl){var d=this.container.outerWidth(),c=Math.abs(d-this.host.width());d>this.host.width()?this.container.css("left",25+parseInt(Math.round(o))-c+"px"):this.container.css("left",25+parseInt(Math.round(o))+c+"px")}if("top"==this.dropDownVerticalAlignment){var u=s.height();h=!0,s.css("top",23),s.addClass(this.toThemeProperty("jqx-popup-up"));var p=parseInt(this.host.outerHeight()),f=parseInt(n)-Math.abs(u+p+23);this.container.css("top",f)}if(this.enableBrowserBoundsDetection){var m=this.testOffset(s,{left:parseInt(this.container.css("left")),top:parseInt(n)},parseInt(this.host.outerHeight()));parseInt(this.container.css("top"))!=m.top?(h=!0,s.css("top",23),s.addClass(this.toThemeProperty("jqx-popup-up"))):s.css("top",0),this.container.css("top",m.top),parseInt(this.container.css("left"))!=m.left&&this.container.css("left",m.left)}if("none"==this.animationType)this.container.css("display","block"),e.data(document.body,"openedJQXListBoxParent",r),e.data(document.body,"openedJQXListBox"+this.id,s),s.css("margin-top",0),s.css("opacity",1),a._renderItems(),r._raiseEvent("0",a);else if(this.container.css("display","block"),r.isanimating=!0,"fade"==this.animationType)s.css("margin-top",0),s.css("opacity",0),s.animate({opacity:1},this.openDelay,function(){e.data(document.body,"openedJQXListBoxParent",r),e.data(document.body,"openedJQXListBox"+r.id,s),r.ishiding=!1,r.isanimating=!1,a._renderItems(),r._raiseEvent("0",a)});else{s.css("opacity",1);var g=s.outerHeight();h?s.css("margin-top",g):s.css("margin-top",-g),s.animate({"margin-top":0},this.openDelay,function(){e.data(document.body,"openedJQXListBoxParent",r),e.data(document.body,"openedJQXListBox"+r.id,s),r.ishiding=!1,r.isanimating=!1,a._renderItems(),r._raiseEvent("0",a)})}h?(this.host.addClass(this.toThemeProperty("jqx-rc-t-expanded")),s.addClass(this.toThemeProperty("jqx-rc-b-expanded"))):(this.host.addClass(this.toThemeProperty("jqx-rc-b-expanded")),s.addClass(this.toThemeProperty("jqx-rc-t-expanded"))),"simple"!==this.renderMode&&(s.addClass(this.toThemeProperty("jqx-fill-state-focus")),this.host.addClass(this.toThemeProperty("jqx-dropdownlist-state-focus")),this.host.addClass(this.toThemeProperty("jqx-fill-state-focus")))}},hideListBox:function(){e.jqx.aria(this,"aria-expanded",!1);var t=this.listBoxContainer,i=this.listBox,r=this.container,s=this;if(e.data(document.body,"openedJQXListBox"+this.id,null),"none"==this.animationType)this.container.css("display","none");else if(!s.ishiding){t.stop();var a=t.outerHeight();t.css("margin-top",0),s.isanimating=!0;var n=-a;parseInt(this.container.coord().top)<parseInt(this.host.coord().top)&&(n=a),"fade"==this.animationType?(t.css({opacity:1}),t.animate({opacity:0},this.closeDelay,function(){r.css("display","none"),s.isanimating=!1,s.ishiding=!1})):t.animate({"margin-top":n},this.closeDelay,function(){r.css("display","none"),s.isanimating=!1,s.ishiding=!1})}this.ishiding=!0,this.host.removeClass(this.toThemeProperty("jqx-dropdownlist-state-selected")),this.host.removeClass(this.toThemeProperty("jqx-fill-state-pressed")),this.arrow.removeClass(this.toThemeProperty("jqx-icon-arrow-down-selected")),this.arrow.removeClass(this.toThemeProperty("jqx-icon-arrow-up-selected")),this.host.removeClass(this.toThemeProperty("jqx-rc-b-expanded")),t.removeClass(this.toThemeProperty("jqx-rc-t-expanded")),this.host.removeClass(this.toThemeProperty("jqx-rc-t-expanded")),t.removeClass(this.toThemeProperty("jqx-rc-b-expanded")),t.removeClass(this.toThemeProperty("jqx-fill-state-focus")),this.host.removeClass(this.toThemeProperty("jqx-dropdownlist-state-focus")),this.host.removeClass(this.toThemeProperty("jqx-fill-state-focus")),this._raiseEvent("1",i)},closeOpenedListBox:function(t){var i=t.data.me,r=e(t.target),s=t.data.listbox;if(null==s)return!0;if(e(t.target).ischildof(t.data.me.host))return!0;if(!i.isOpened())return!0;if(e(t.target).ischildof(i.listBoxContainer))return!0;var a=!1;return e.each(r.parents(),function(){if("undefined"!=this.className&&this.className.indexOf){if(-1!=this.className.indexOf("jqx-listbox"))return a=!0,!1;if(-1!=this.className.indexOf("jqx-dropdownlist"))return i.element.id==this.id&&(a=!0),!1}}),null!=s&&!a&&i.isOpened()&&i.hideListBox(),!0},clearFilter:function(){this.listBox.clearFilter()},loadFromSelect:function(e){this.listBox.loadFromSelect(e)},refresh:function(e){e!==!0&&(this._setSize(),this._arrange(),this.listBox&&this.renderSelection())},_arrange:function(){var e=this,t=parseInt(e.host.width()),i=parseInt(e.host.height()),r=(e.arrowSize,e.arrowSize),s=3,a=t-r-2*s;if(a>0&&"auto"!==e.width?e.dropdownlistContent[0].style.width=a+"px":0>=a&&(e.dropdownlistContent[0].style.width="0px"),"auto"===e.width&&(e.dropdownlistContent.css("width","auto"),t=e.dropdownlistContent.width()+r+2*s,e.host.width(t)),e.dropdownlistContent[0].style.height=i+"px",e.dropdownlistContent[0].style.left="0px",e.dropdownlistContent[0].style.top="0px",e.dropdownlistArrow[0].style.width=r+"px",e.width&&e.width.toString().indexOf("%")>=0){var n=100*r/t,o=100*a/t;e.dropdownlistArrow[0].style.width=n+"%",e.dropdownlistContent[0].style.width=o+"%"}e.dropdownlistArrow[0].style.height=i+"px",e.rtl&&(e.dropdownlistArrow.css("float","left"),e.dropdownlistContent.css("float","right"))},destroy:function(){e.jqx.utilities.resize(this.host,null,!0),this.removeHandler(this.listBoxContainer,"select"),this.removeHandler(this.listBoxContainer,"unselect"),this.removeHandler(this.listBoxContainer,"change"),this.removeHandler(this.dropdownlistWrapper,"selectstart"),this.removeHandler(this.dropdownlistWrapper,"mousedown"),this.removeHandler(this.host,"keydown"),this.removeHandler(this.listBoxContainer,"select"),this.removeHandler(this.listBox.content,"click"),this.removeHandler(this.listBoxContainer,"bindingComplete"),this.host.parents()&&this.removeHandler(this.host.parents(),"scroll.dropdownlist"+this.element.id),this.removeHandlers(),this.listBoxContainer.jqxListBox("destroy"),this.listBoxContainer.remove(),this.host.removeClass(),this.removeHandler(e(document),"mousedown."+this.id,this.closeOpenedListBox),this.touch&&this.removeHandler(e(document),e.jqx.mobile.getTouchEventName("touchstart")+"."+this.id),this.dropdownlistArrow.remove(),delete this.dropdownlistArrow,delete this.dropdownlistWrapper,delete this.listBoxContainer,delete this.input,delete this.arrow,delete this.dropdownlistContent,delete this.listBox,delete this._firstDiv,this.container.remove(),delete this.container;var t=e.data(this.element,"jqxDropDownList");t&&delete t.instance,this.host.removeData(),this.host.remove(),delete this.comboStructure,delete this.host,delete this.element},_raiseEvent:function(t,i){void 0==i&&(i={owner:null});var r=this.events[t];args=i,args.owner=this;var s=new e.Event(r);s.owner=this,2!=t&&3!=t&&4!=t&&5!=t&&6!=t&&7!=t&&8!=t&&9!=t||(s.args=i);var a=this.host.trigger(s);return a},propertiesChangedHandler:function(e,t,i){if(i.width&&i.height&&2==Object.keys(i).length){if(e._setSize(),"width"==t&&"auto"==e.dropDownWidth){var r=e.host.width();e.listBoxContainer.jqxListBox({width:r}),e.container.width(parseInt(r)+25)}e._arrange(),e.close()}},propertyChangedHandler:function(t,i,r,s){if(void 0!=t.isInitialized&&0!=t.isInitialized&&!(t.batchUpdate&&t.batchUpdate.width&&t.batchUpdate.height&&2==Object.keys(t.batchUpdate).length)){if("template"==i&&(t.listBoxContainer.removeClass(t.toThemeProperty("jqx-"+r+"-item")),t.listBoxContainer.addClass(t.toThemeProperty("jqx-"+t.template+"-item")),t.host.removeClass(t.toThemeProperty("jqx-"+r)),t.host.addClass(t.toThemeProperty("jqx-"+t.template))),"dropDownVerticalAlignment"==i&&(t.arrow.removeClass(t.toThemeProperty("jqx-icon-arrow-up")),t.arrow.removeClass(t.toThemeProperty("jqx-icon-arrow-down")),"top"==t.dropDownVerticalAlignment?t.arrow.addClass(t.toThemeProperty("jqx-icon-arrow-up")):t.arrow.addClass(t.toThemeProperty("jqx-icon-arrow-down")),t.listBoxContainer.css("top",0),t.listBoxContainer.removeClass(this.toThemeProperty("jqx-popup-up"))),"autoItemsHeight"==i&&t.listBoxContainer.jqxListBox({autoItemsHeight:s}),"filterable"==i&&t.listBoxContainer.jqxListBox({filterable:s}),"filterHeight"==i&&t.listBoxContainer.jqxListBox({filterHeight:s}),"filterPlaceHolder"==i&&t.listBoxContainer.jqxListBox({filterPlaceHolder:s}),"filterDelay"==i&&t.listBoxContainer.jqxListBox({filterDelay:s}),"enableSelection"==i&&t.listBoxContainer.jqxListBox({enableSelection:s}),"enableHover"==i&&t.listBoxContainer.jqxListBox({enableHover:s}),"autoOpen"==i&&t._updateHandlers(),"emptyString"==i&&(t.listBox.emptyString=t.emptyString),"itemHeight"==i&&t.listBoxContainer.jqxListBox({itemHeight:s}),"renderer"==i&&t.listBoxContainer.jqxListBox({renderer:s}),"rtl"==i&&(s?(t.dropdownlistArrow.css("float","left"),t.dropdownlistContent.css("float","right")):(t.dropdownlistArrow.css("float","right"),t.dropdownlistContent.css("float","left")),t.listBoxContainer.jqxListBox({rtl:t.rtl})),"source"==i&&(t.listBoxContainer.jqxListBox({source:t.source}),t.listBox.selectedIndex=-1,t.listBox.selectIndex(this.selectedIndex),t.renderSelection(),null==s&&t.clear()),"displayMember"!=i&&"valueMember"!=i||(t.listBoxContainer.jqxListBox({displayMember:t.displayMember,valueMember:t.valueMember}),t.renderSelection()),"placeHolder"==i&&t.renderSelection(),"theme"==i&&null!=s&&(t.listBoxContainer.jqxListBox({theme:s}),t.listBoxContainer.addClass(t.toThemeProperty("jqx-popup")),e.jqx.utilities.setTheme(r,s,t.host)),"autoDropDownHeight"==i&&(t.listBoxContainer.jqxListBox({autoHeight:t.autoDropDownHeight}),t.autoDropDownHeight?t.container.height(t.listBoxContainer.height()+25):(t.listBoxContainer.jqxListBox({height:t.dropDownHeight}),t.container.height(parseInt(t.dropDownHeight)+25)),t.listBox._arrange(),t.listBox._updatescrollbars()),"searchMode"==i&&t.listBoxContainer.jqxListBox({searchMode:t.searchMode}),"incrementalSearch"==i&&t.listBoxContainer.jqxListBox({incrementalSearch:t.incrementalSearch}),"incrementalSearchDelay"==i&&t.listBoxContainer.jqxListBox({incrementalSearchDelay:t.incrementalSearchDelay}),"dropDownHeight"==i&&(t.autoDropDownHeight||(t.listBoxContainer.jqxListBox({height:t.dropDownHeight}),t.container.height(parseInt(t.dropDownHeight)+25))),"dropDownWidth"==i||"scrollBarSize"==i){var a=t.width;"auto"!=t.dropDownWidth&&(a=t.dropDownWidth),t.listBoxContainer.jqxListBox({width:a,scrollBarSize:t.scrollBarSize}),t.container.width(parseInt(a)+25)}if(("width"==i||"height"==i)&&s!=r){if(this.refresh(),"width"==i&&"auto"==t.dropDownWidth){var a=t.host.width();t.listBoxContainer.jqxListBox({width:a}),t.container.width(parseInt(a)+25)}t.close()}"checkboxes"==i&&t.listBoxContainer.jqxListBox({checkboxes:t.checkboxes}),"selectedIndex"==i&&null!=t.listBox&&(t.listBox.selectIndex(parseInt(s)),t.renderSelection())}}})}(jqxBaseFramework),function(e){"use strict";e.jqx.jqxWidget("jqxExpander","",{}),e.extend(e.jqx._jqxExpander.prototype,{defineInstance:function(){var t={width:"auto",height:"auto",expanded:!0,expandAnimationDuration:259,collapseAnimationDuration:250,animationType:"slide",toggleMode:"click",showArrow:!0,arrowPosition:"right",headerPosition:"top",disabled:!1,initContent:null,rtl:!1,easing:"easeInOutSine",aria:{"aria-disabled":{name:"disabled",type:"boolean"}},events:["expanding","expanded","collapsing","collapsed","resize"]};return this===e.jqx._jqxExpander.prototype?t:(e.extend(!0,this,t),t)},createInstance:function(){this._isTouchDevice=e.jqx.mobile.isTouchDevice(),e.jqx.aria(this),this._cachedHTMLStructure=this.host.html(),this._rendered=!1,this.render(),this._rendered=!0},expand:function(){if(this.disabled===!1&&this.expanded===!1&&1==this._expandChecker){var t=this;switch(this._expandChecker=0,this._raiseEvent("0"),this._header.removeClass(this.toThemeProperty("jqx-fill-state-normal")),this._header.addClass(this.toThemeProperty("jqx-fill-state-pressed jqx-expander-header-expanded")),"top"==this.headerPosition?(this._arrow.removeClass(this.toThemeProperty("jqx-icon-arrow-down jqx-icon-arrow-down-hover jqx-icon-arrow-up-hover jqx-icon-arrow-down-selected jqx-expander-arrow-top")),this._arrow.addClass(this.toThemeProperty("jqx-icon-arrow-up jqx-icon-arrow-up-selected jqx-expander-arrow-bottom jqx-expander-arrow-expanded"))):"bottom"==this.headerPosition&&(this._arrow.removeClass(this.toThemeProperty("jqx-icon-arrow-up jqx-icon-arrow-up-selected jqx-icon-arrow-down-hover jqx-icon-arrow-up-hover jqx-expander-arrow-bottom")),this._arrow.addClass(this.toThemeProperty("jqx-icon-arrow-down jqx-expander-arrow-top jqx-expander-arrow-expanded-top"))),this.animationType){case"slide":"top"==this.headerPosition?this._content.slideDown({duration:this.expandAnimationDuration,easing:this.easing,complete:function(){t.expanded=!0,e.jqx.aria(t._header,"aria-expanded",!0),e.jqx.aria(t._content,"aria-hidden",!1),t._raiseEvent("1"),t.initContent&&t._initialized===!1&&(t.initContent(),t._initialized=!0)}}):"bottom"==this.headerPosition&&(this._contentElement.style.display="",this._contentElement.style.height="0px",e.jqx.browser.msie&&e.jqx.browser.version<8&&(this._contentElement.style.display="block"),this._cntntEmpty===!0?this._content.animate({height:0},{duration:this.expandAnimationDuration,easing:this.easing,complete:function(){t.expanded=!0,e.jqx.aria(t._header,"aria-expanded",!0),e.jqx.aria(t._content,"aria-hidden",!1),t._raiseEvent("1"),t.initContent&&t._initialized===!1&&(t.initContent(),t._initialized=!0)}}):this._content.animate({height:this._contentHeight},{duration:this.expandAnimationDuration,easing:this.easing,complete:function(){t.expanded=!0,e.jqx.aria(t._header,"aria-expanded",!0),e.jqx.aria(t._content,"aria-hidden",!1),t._raiseEvent("1"),t.initContent&&t._initialized===!1&&(t.initContent(),t._initialized=!0)}}));break;case"fade":this._content.fadeIn({duration:this.expandAnimationDuration,easing:this.easing,complete:function(){t.expanded=!0,e.jqx.aria(t._header,"aria-expanded",!0),e.jqx.aria(t._content,"aria-hidden",!1),t._raiseEvent("1"),t.initContent&&t._initialized===!1&&(t.initContent(),t._initialized=!0)}});break;case"none":this._contentElement.style.display="",this.expanded=!0,e.jqx.aria(t._header,"aria-expanded",!0),e.jqx.aria(t._content,"aria-hidden",!1),this._raiseEvent("1"),this.initContent&&this._initialized===!1&&(this.initContent(),this._initialized=!0)}}},collapse:function(){if(this.disabled===!1&&this.expanded===!0&&0===this._expandChecker){var t=this;switch(this._expandChecker=1,this._raiseEvent("2"),this._header.removeClass(this.toThemeProperty("jqx-fill-state-pressed jqx-expander-header-expanded")),this._header.addClass(this.toThemeProperty("jqx-fill-state-normal")),"top"==this.headerPosition?(this._arrow.removeClass(this.toThemeProperty("jqx-icon-arrow-up jqx-icon-arrow-up-selected jqx-expander-arrow-bottom jqx-expander-arrow-expanded")),this._arrow.addClass(this.toThemeProperty("jqx-icon-arrow-down jqx-expander-arrow-top")),t._hovered&&this._arrow.addClass(this.toThemeProperty("jqx-icon-arrow-down-hover"))):"bottom"==this.headerPosition&&(this._arrow.removeClass(this.toThemeProperty("jqx-icon-arrow-down jqx-icon-arrow-down-selected jqx-expander-arrow-top jqx-expander-arrow-expanded-top")),this._arrow.addClass(this.toThemeProperty("jqx-icon-arrow-up jqx-expander-arrow-bottom")),t._hovered&&this._arrow.addClass(this.toThemeProperty("jqx-icon-arrow-up-hover"))),this.animationType){case"slide":"top"==this.headerPosition?this._content.slideUp({duration:this.collapseAnimationDuration,easing:this.easing,complete:function(){t.expanded=!1,e.jqx.aria(t._header,"aria-expanded",!1),e.jqx.aria(t._content,"aria-hidden",!0),t._raiseEvent("3")}}):"bottom"==this.headerPosition&&this._content.animate({height:0},{duration:this.expandAnimationDuration,easing:this.easing,complete:function(){t._contentElement.style.display="none",t.expanded=!1,e.jqx.aria(t._header,"aria-expanded",!1),e.jqx.aria(t._content,"aria-hidden",!0),t._raiseEvent("3")}});break;case"fade":this._content.fadeOut({duration:this.collapseAnimationDuration,easing:this.easing,complete:function(){t.expanded=!1,e.jqx.aria(t._header,"aria-expanded",!1),e.jqx.aria(t._content,"aria-hidden",!0),t._raiseEvent("3")}});break;case"none":t._contentElement.style.display="none",this.expanded=!1,e.jqx.aria(t._header,"aria-expanded",!1),e.jqx.aria(t._content,"aria-hidden",!0),this._raiseEvent("3")}}},setHeaderContent:function(e){this._headerText.innerHTML=e,this.invalidate()},getHeaderContent:function(){return this._headerText.innerHTML},setContent:function(e){this._content.html(e),this._checkContent(),this.invalidate()},getContent:function(){return this._content.html()},enable:function(){this.disabled=!1,this.refresh(),e.jqx.aria(this,"aria-disabled",!1)},disable:function(){this.disabled=!0,this.refresh(),e.jqx.aria(this,"aria-disabled",!0)},invalidate:function(){e.jqx.isHidden(this.host)||this._setSize()},refresh:function(e){e!==!0&&(this._removeHandlers(),this.showArrow===!0?this._arrowElement.style.display="":this._arrowElement.style.display="none",this._setTheme(),this._setSize(),this.disabled===!1&&this._toggle(),this._keyBoard())},render:function(){var t=this;if(t._rendered)return void t.refresh();this.widgetID=this.element.id;var i=this.host.children();this._headerText=i[0],this._headerElement=document.createElement("div"),this._header=e(this._headerElement),this._contentElement=i[1],this._content=e(this._contentElement),this._content.initAnimate&&this._content.initAnimate(),"top"===this.headerPosition?t.element.insertBefore(t._headerElement,t._headerText):t.element.appendChild(t._headerElement),t._headerElement.appendChild(t._headerText);var r=this._headerText.className;this._headerElement.className=r,this._headerText.className="",this.rtl?this._headerText.className+=" "+t.toThemeProperty("jqx-expander-header-content-rtl"):this._headerText.className+=" "+t.toThemeProperty("jqx-expander-header-content"),t._arrowElement=document.createElement("div"),t._headerElement.appendChild(t._arrowElement),this._arrow=e(t._arrowElement),this.showArrow===!0?t._arrowElement.style.display="":t._arrowElement.style.display="none",null===this._headerElement.getAttribute("tabindex")&&null===this._contentElement.getAttribute("tabindex")&&("top"===t.headerPosition?(this._headerElement.setAttribute("tabindex",1),this._contentElement.setAttribute("tabindex",2)):(this._headerElement.setAttribute("tabindex",2),this._contentElement.setAttribute("tabindex",1))),this._setTheme();var s="Invalid jqxExpander structure. Please add only two child div elements to your jqxExpander div that will represent the expander's header and content.";try{if(0===this._header.length||0===this._content.length||i.length<2||i.length>2)throw s}catch(a){throw new Error(a)}this._setSize(),this.expanded===!0?("top"==this.headerPosition?this._arrow.addClass(this.toThemeProperty("jqx-icon-arrow-up jqx-icon-arrow-up-selected jqx-expander-arrow-bottom jqx-expander-arrow-expanded")):"bottom"==this.headerPosition&&this._arrow.addClass(this.toThemeProperty("jqx-icon-arrow-down jqx-icon-arrow-down-selected jqx-expander-arrow-top jqx-expander-arrow-expanded-top")),this.initContent&&this.initContent(),this._initialized=!0,this._expandChecker=0):this.expanded===!1&&(this._arrow.removeClass(this.toThemeProperty("jqx-icon-arrow-down-selected jqx-icon-arrow-up-selected")),"top"==this.headerPosition?this._arrow.addClass(this.toThemeProperty("jqx-icon-arrow-down jqx-expander-arrow-top")):"bottom"==this.headerPosition&&this._arrow.addClass(this.toThemeProperty("jqx-icon-arrow-up jqx-expander-arrow-bottom")),this._initialized=!1,this._expandChecker=1,this._contentElement.style.display="none"),this._checkContent(),this.disabled===!1&&this._toggle(),this._keyBoard(),e.jqx.utilities.resize(this.host,function(){t.invalidate()})},destroy:function(){this.removeHandler(e(window),"resize.expander"+this.widgetID),this.host.remove(),e(this.element).removeData("jqxExpander")},focus:function(){try{this.disabled===!1&&this._headerElement.focus()}catch(e){}},propertiesChangedHandler:function(e,t,i){i.width&&i.height&&2==Object.keys(i).length&&e._setSize()},propertyChangedHandler:function(e,t,i,r){return e.batchUpdate&&e.batchUpdate.width&&e.batchUpdate.height&&2==Object.keys(e.batchUpdate).length?void 0:"width"==t||"height"==t?void e._setSize():void("expanded"==t?r===!0&&i===!1?(this.expanded=!1,this.expand()):r===!1&&i===!0&&(this.expanded=!0,this.collapse()):this.refresh())},_raiseEvent:function(t,i){var r=this.events[t],s=new e.Event(r);s.owner=this,s.args=i;var a;try{a=this.host.trigger(s)}catch(n){}return a},resize:function(e,t){this.width=e,this.height=t,this._setSize()},_setSize:function(){this.element.style.width=this._toPx(this.width),this.element.style.height=this._toPx(this.height),this._headerElement.style.height="auto",this._headerElement.style.minHeight=this._arrowElement.offsetHeight;var e=this.arrowPosition;if(this.rtl)switch(e){case"left":e="right";break;case"right":e="left"}"right"==e?(this._headerText.style["float"]="left",this._headerText.style.marginLeft="0px",this._arrowElement.style["float"]="right",this._arrowElement.style.position="relative"):"left"==e&&("auto"==this.width?(this._headerText.style["float"]="left",this._headerText.style.marginLeft="17px",this._arrowElement.style["float"]="left",this._arrowElement.style.position="absolute"):(this._headerText.style["float"]="right",this._headerText.style.marginLeft="0px",this._arrowElement.style["float"]="left",this._arrowElement.style.position="relative")),this._arrowElement.style.marginTop=this._headerText.offsetHeight/2-this._arrowElement.offsetHeight/2+"px",this._contentElement.style.height="auto";var t=Math.max(0,this._content.height());if("auto"==this.height)this._contentHeight=t;else{var i=Math.round(this.element.offsetHeight)-Math.round(this._header.outerHeight())-1;0>i&&(i=0),this._contentHeight||(this._contentHeight=t),i!=this._contentHeight?(this._contentElement.style.height=this._toPx(i),this._contentHeight=Math.round(this._content.outerHeight())):this._contentElement.style.height=this._toPx(this._contentHeight)}},_toggle:function(){var t=this;if(this._isTouchDevice===!1)switch(this._header.removeClass(this.toThemeProperty("jqx-expander-header-disabled")),this.toggleMode){case"click":this.addHandler(this._header,"click.expander"+this.widgetID,function(){t._animate()});break;case"dblclick":this.addHandler(this._header,"dblclick.expander"+this.widgetID,function(){t._animate()});break;case"none":this._header.addClass(this.toThemeProperty("jqx-expander-header-disabled"))}else{if("none"==this.toggleMode)return;this.addHandler(this._header,e.jqx.mobile.getTouchEventName("touchstart")+"."+this.widgetID,function(){t._animate()})}},_animate:function(){this.expanded===!0?(this.collapse(),this._header.addClass(this.toThemeProperty("jqx-fill-state-hover jqx-expander-header-hover")),"top"==this.headerPosition?this._arrow.addClass(this.toThemeProperty("jqx-expander-arrow-top-hover jqx-expander-arrow-down-hover")):"bottom"==this.headerPosition&&this._arrow.addClass(this.toThemeProperty("jqx-expander-arrow-bottom-hover jqx-expander-arrow-up-hover"))):(this.expand(),this._header.removeClass(this.toThemeProperty("jqx-fill-state-hover jqx-expander-header-hover")),"top"==this.headerPosition?this._arrow.removeClass(this.toThemeProperty("jqx-expander-arrow-top-hover jqx-expander-arrow-down-hover")):"bottom"==this.headerPosition&&this._arrow.removeClass(this.toThemeProperty("jqx-expander-arrow-bottom-hover jqx-expander-arrow-up-hover")))},_removeHandlers:function(){this.removeHandler(this._header,"click.expander"+this.widgetID),this.removeHandler(this._header,"dblclick.expander"+this.widgetID),this.removeHandler(this._header,"mouseenter.expander"+this.widgetID),this.removeHandler(this._header,"mouseleave.expander"+this.widgetID)},_setTheme:function(){var e=this,t="jqx-widget jqx-expander",i="jqx-widget-header jqx-expander-header",r="jqx-widget-content jqx-expander-content";this.rtl===!0&&(t+=" jqx-rtl"),this.disabled===!1?(this._header.removeClass(this.toThemeProperty("jqx-expander-header-disabled")),this.host.removeClass(this.toThemeProperty("jqx-fill-state-disabled")),this.expanded===!0?i+=" jqx-fill-state-pressed jqx-expander-header-expanded":(i+=" jqx-fill-state-normal",this._header.removeClass(this.toThemeProperty("jqx-expander-header-expanded"))),this._hovered=!1,e._isTouchDevice||(this.addHandler(this._header,"mouseenter.expander"+this.widgetID,function(){e._hovered=!0,1==e._expandChecker&&(e._header.removeClass(e.toThemeProperty("jqx-fill-state-normal jqx-fill-state-pressed")),e._header.addClass(e.toThemeProperty("jqx-fill-state-hover jqx-expander-header-hover")),"top"==e.headerPosition?(e.expanded?e._arrow.addClass(e.toThemeProperty("jqx-icon-arrow-up-hover")):e._arrow.addClass(e.toThemeProperty("jqx-icon-arrow-down-hover")),e._arrow.addClass(e.toThemeProperty("jqx-expander-arrow-top-hover jqx-expander-arrow-down-hover"))):"bottom"==e.headerPosition&&(e.expanded&&e._arrow.addClass(e.toThemeProperty("jqx-icon-arrow-down-hover")),e._arrow.addClass(e.toThemeProperty("jqx-expander-arrow-bottom-hover jqx-expander-arrow-up-hover"))));
}),this.addHandler(this._header,"mouseleave.expander"+this.widgetID,function(){e._hovered=!1,e._header.removeClass(e.toThemeProperty("jqx-fill-state-hover jqx-expander-header-hover")),e._arrow.removeClass(e.toThemeProperty("jqx-icon-arrow-up-hover jqx-icon-arrow-down-hover")),"top"==e.headerPosition?e._arrow.removeClass(e.toThemeProperty("jqx-expander-arrow-top-hover jqx-expander-arrow-down-hover")):"bottom"==e.headerPosition&&e._arrow.removeClass(e.toThemeProperty("jqx-expander-arrow-bottom-hover jqx-expander-arrow-up-hover")),1==e._expandChecker?e._header.addClass(e.toThemeProperty("jqx-fill-state-normal")):e._header.addClass(e.toThemeProperty("jqx-fill-state-pressed"))}))):(t+=" jqx-fill-state-disabled",i+=" jqx-expander-header-disabled"),"top"==this.headerPosition?r+=" jqx-expander-content-bottom":"bottom"==this.headerPosition&&(r+=" jqx-expander-content-top"),this.host.addClass(this.toThemeProperty(t)),this._header.addClass(this.toThemeProperty(i)),this._content.addClass(this.toThemeProperty(r)),this._arrow.addClass(this.toThemeProperty("jqx-expander-arrow"))},_checkContent:function(){this._cntntEmpty=/^\s*$/.test(this._contentElement.innerHTML),this._cntntEmpty===!0?(this._contentElement.style.height="0px",this._content.addClass(this.toThemeProperty("jqx-expander-content-empty"))):("auto"===this.height?this._contentElement.style.height="auto":this._contentElement.style.height=this._contentHeight+"px",this._content.removeClass(this.toThemeProperty("jqx-expander-content-empty")))},_keyBoard:function(){var e=this;this._focus(),this.addHandler(this.host,"keydown.expander"+this.widgetID,function(t){var i=!1;if((e.focusedH===!0||e.focusedC===!0)&&e.disabled===!1){switch(t.keyCode){case 13:case 32:"none"!=e.toggleMode&&(e.focusedH===!0&&e._animate(),i=!0);break;case 38:t.ctrlKey===!0&&e.focusedC===!0&&e._headerElement.focus(),i=!0;break;case 40:t.ctrlKey===!0&&e.focusedH===!0&&e._contentElement.focus(),i=!0}return!0}return i&&t.preventDefault&&t.preventDefault(),!i})},_focus:function(){var t=this;this.addHandler(this._header,"focus.expander"+this.widgetID,function(){t.focusedH=!0,e.jqx.aria(t._header,"aria-selected",!0),t._header.addClass(t.toThemeProperty("jqx-fill-state-focus"))}),this.addHandler(this._header,"blur.expander"+this.widgetID,function(){t.focusedH=!1,e.jqx.aria(t._header,"aria-selected",!1),t._header.removeClass(t.toThemeProperty("jqx-fill-state-focus"))}),this.addHandler(this._headerText,"focus.expander"+this.widgetID,function(){t._headerElement.focus()}),this.addHandler(this._arrow,"focus.expander"+this.widgetID,function(){t._headerElement.focus()}),this.addHandler(this._content,"focus.expander"+this.widgetID,function(){t.focusedC=!0,t._content.addClass(t.toThemeProperty("jqx-fill-state-focus"))}),this.addHandler(this._content,"blur.expander"+this.widgetID,function(){t.focusedC=!1,t._content.removeClass(t.toThemeProperty("jqx-fill-state-focus"))})},_toPx:function(e){return"number"==typeof e?e+"px":e}})}(jqxBaseFramework),function(e){e.jqx.jqxWidget("jqxColorPicker","",{}),e.extend(e.jqx._jqxColorPicker.prototype,{defineInstance:function(){var t={disabled:!1,height:null,width:null,color:new e.jqx.color({hex:"ff0000"}),redString:"R:",greenString:"G:",blueString:"B:",showTransparent:!1,colorMode:"saturation",_delayLoading:!1,events:["colorchange"]};return this===e.jqx._jqxColorPicker.prototype?t:(e.extend(!0,this,t),t)},_createFromInput:function(t){var i=this;if("input"==i.element.nodeName.toLowerCase()){i.field=i.element,i.field.className&&(i._className=i.field.className);var r={title:i.field.title};if(i.field.getAttribute("value")){var s=i.field.getAttribute("value");i.color=new e.jqx.color({hex:s})}i.field.id.length?r.id=i.field.id.replace(/[^\w]/g,"_")+"_"+t:r.id=e.jqx.utilities.createId()+"_"+t;var a=e("<div></div>",r);a[0].style.cssText=i.field.style.cssText,i.width||(i.width=e(i.field).width()),i.height||(i.height=e(i.field).outerHeight()),e(i.field).hide().after(a);var n=i.host.data();if(i.host=a,i.host.data(n),i.element=a[0],i.element.id=i.field.id,i.field.id=r.id,i._className&&(i.host.addClass(i._className),e(i.field).removeClass(i._className)),i.field.tabIndex){var o=i.field.tabIndex;i.field.tabIndex=-1,i.element.tabIndex=o}}},createInstance:function(t){this._createFromInput("jqxColorPicker"),this.render();var i=this;e.jqx.utilities.resize(this.host,function(){i._setSize(),i.refresh()},!1,!this._delayLoading)},render:function(){this.element.innerHTML="";this._isTouchDevice=e.jqx.mobile.isTouchDevice(),"string"==typeof this.color&&(this.color=new e.jqx.color({hex:this.color})),this._setSize(),this.host.addClass(this.toThemeProperty("jqx-widget")),this.host.addClass(this.toThemeProperty("jqx-reset")),this.host.addClass(this.toThemeProperty("jqx-color-picker")),this.container=e("<div style='width: 100%; height: 100%; position: relative;'></div>"),this.container.appendTo(this.host),this.colorMap=e("<div style='left: 0; top: 0; position: absolute;'></div>"),this.colorMap.appendTo(this.container),this.colorBar=e("<div style='left: 0; top: 0; position: absolute;'></div>"),this.colorBar.appendTo(this.container),this.colorPanel=e("<div style='left: 0; top: 0; position: absolute;'></div>"),this.colorPanel.appendTo(this.container),this.hexPanel=e("<div style='float: left;'></div>"),this.hexPanel.appendTo(this.colorPanel),this.hexPanel.append('<span style="text-align: left;" >#</span>'),this.hex=e("<input maxlength='6' style='height: 18px;'/>"),this.hex.addClass(this.toThemeProperty("jqx-input")),this.hex.addClass(this.toThemeProperty("jqx-widget-content")),this.hex.appendTo(this.hexPanel),this.colorPanel.append('<div style="font-size: 1px; clear: both;"></div>'),this.rgb=e("<div style='margin-top: 2px;'></div>"),this.rgb.appendTo(this.colorPanel),this.red=e("<input style='width: 25px; height: 18px;' maxlength='3'/>"),this.red.addClass(this.toThemeProperty("jqx-input")),this.red.addClass(this.toThemeProperty("jqx-widget-content")),this.rgb.append('<span style="text-align: left;">'+this.redString+"</span>"),this.red.appendTo(this.rgb),this.green=e("<input style='margin-right: 2px; height: 18px; width: 25px;' maxlength='3'/>"),this.green.addClass(this.toThemeProperty("jqx-input")),this.green.addClass(this.toThemeProperty("jqx-widget-content")),this.rgb.append('<span style="text-align: left;">'+this.greenString+"</span>"),this.green.appendTo(this.rgb),this.colorPanel.addClass(this.toThemeProperty("jqx-color-picker-map-overlay")),this._mapImageOverlayURL=this._getImageUrl(this.colorPanel),this.colorPanel.removeClass(this.toThemeProperty("jqx-color-picker-map-overlay")),this.blue=e("<input style='height: 18px; width: 25px;' maxlength='3'/>"),this.blue.addClass(this.toThemeProperty("jqx-input")),this.blue.addClass(this.toThemeProperty("jqx-widget-content")),this.rgb.append('<span style="text-align: left;">'+this.blueString+"</span>"),this.blue.appendTo(this.rgb),this.preview=e("<div style='background: red; position: absolute;'></div>"),this.preview.addClass(this.toThemeProperty("jqx-widget-content")),this.preview.appendTo(this.colorPanel),this.colorBarPointer=e("<div style='top: 0; left: 0; position: absolute; width: 100%;'></div>"),this.colorBarPointer.addClass(this.toThemeProperty("jqx-color-picker-bar-pointer")),this.colorMapPointer=e("<div style='top: 0; left: 0; position: absolute; width: 100%;'></div>"),this.colorMapPointer.addClass(this.toThemeProperty("jqx-color-picker-pointer")),this.transparent=e("<div style='text-align: center; clear: both;'><a style='text-align: center;' href='#'>transparent</a></div>"),this.disabled&&(this.host.addClass(this.toThemeProperty("jqx-fill-state-disabled")),this.element.disabled=!0),this._addHandlers()},val:function(e){return 0==arguments.length?"#"+this.color.hex:(this.setColor(e),this.color.hex)},_setPositionFromValue:function(){var e=this,t=e.color.h,i=100-e.color.v,r=e.colorMap.height(),s=e.colorMap.width(),a=t*s/360,n=i*r/100;if("saturation"==this.colorMode){var o=100-e.color.s;o=o*r/100,e._saturation=100-e.color.s,e.colorMapPointer.css("margin-left",a-8),e.colorMapPointer.css("margin-top",n-8),e.colorBarPointer.css("margin-top",o-8),e.colorMapImageOverlay.css("opacity",(100-e.color.s)/100)}else{var t=e.color.s,a=t*s/100,n=i*r/100,o=360-e.color.h;o=o*r/360,e._hue=e.color.h,e.colorMapPointer.css("margin-left",a-8),e.colorMapPointer.css("margin-top",n-8),e.colorBarPointer.css("margin-top",o-8)}},updateRGB:function(){var e=this;e.color.setRgb(e.red.val(),e.green.val(),e.blue.val()),e._updateUI(),e._raiseEvent("0",{color:e.color}),e.color.transparent=!1},_setPosition:function(t,i,r){var s=parseInt(t.pageX),a=parseInt(i.offset().left),n=parseInt(t.pageY),o=parseInt(i.offset().top);if(this._isTouchDevice){var l=e.jqx.position(t);s=l.left,n=l.top}-1==r[0].className.indexOf("jqx-color-picker-bar")&&r.css("margin-left",s-8-a),n>=o&&n<=o+i.height()&&r.css("margin-top",n-8-o)},_handleKeyInput:function(e,t,i){if(!e.disabled){if(!e._validateKey(t))return t;i.val(e._setValueInRange(i.val(),0,255)),this.updateRGB(),this._setPositionFromValue()}},_addHandlers:function(){var t=this;this.addHandler(this.colorMapPointer,"dragStart",function(e){return e.preventDefault(),!1}),this.addHandler(this.colorBarPointer,"dragStart",function(e){return e.preventDefault(),!1}),this.addHandler(this.transparent,"click",function(e){t._raiseEvent("0",{color:"transparent"}),e.preventDefault(),t.color.transparent=!0}),this.addHandler(this.host,"selectionstart",function(e){return e.preventDefault(),!1}),this.addHandler(this.blue,"keyup blur",function(e){t._handleKeyInput(t,e,t.blue)}),this.addHandler(this.green,"keyup blur",function(e){t._handleKeyInput(t,e,t.green)}),this.addHandler(this.red,"keyup blur",function(e){t._handleKeyInput(t,e,t.red)}),this.addHandler(this.hex,"keyup blur",function(e){return t.disabled?void 0:t._validateKey(e)?void(6==t.hex.val().toString().length&&(t.hex.val(t.color.validateHex(t.hex.val())),t.color.setHex(t.hex.val()),t._updateUI(),t._setPositionFromValue(),t._raiseEvent("0",{color:t.color}))):e}),this.addHandler(this.colorMap,"dragstart",function(e){return e.preventDefault(),!1});var i=function(e){if(t._setPosition(e,t.colorMap,t.colorMapPointer),"saturation"==t.colorMode){var i=t._valuesFromMouse(e,t.colorMap,360,100);i.x>360&&(i.x=360),t.color.setHsv(i.x,null!=t._saturation?100-t._saturation:100,100-i.y)}else{var i=t._valuesFromMouse(e,t.colorMap,100,100);i.x>100&&(i.x=100),t.color.setHsv(null!=t._hue?t._hue:360,i.x,100-i.y)}t._updateUI(),t._raiseEvent("0",{color:t.color}),t.color.transparent=!1},r="mousedown.picker"+this.element.id;this._isTouchDevice&&(r=e.jqx.mobile.getTouchEventName("touchstart")+".picker"+this.element.id),this.addHandler(this.colorMap,r,function(e){t.disabled||(t.beginDrag=!0,i(e))});var s="mousemove.picker"+this.element.id;this._isTouchDevice&&(s=e.jqx.mobile.getTouchEventName("touchmove")+".picker"+this.element.id),this.addHandler(e(document),s,function(e){t.disabled||1==t.beginDrag&&(i(e),t._isTouchDevice&&e.preventDefault())}),this._isTouchDevice||this.addHandler(this.colorBar,"dragstart",function(e){return e.preventDefault(),!1});var a=function(e){if(t._setPosition(e,t.colorBar,t.colorBarPointer),"saturation"==t.colorMode){var i=t._valuesFromMouse(e,t.colorBar,100,100);t.color.s=i.y,t._saturation=i.y,t.colorMapImageOverlay.css("opacity",t.color.s/100),t.color.setHsv(t.color.h,100-t.color.s,t.color.v)}else{var i=t._valuesFromMouse(e,t.colorBar,100,360);t.color.h=360-i.y,t._hue=t.color.h,t.color.setHsv(t.color.h,t.color.s,t.color.v)}t._updateUI(),t._raiseEvent("0",{color:t.color}),t.color.transparent=!1},n="mousemove.colorBar"+this.element.id,o="mousedown.colorBar"+this.element.id,l="mouseup.colorBar"+this.element.id;this._isTouchDevice&&(n=e.jqx.mobile.getTouchEventName("touchmove")+".colorBar"+this.element.id,o=e.jqx.mobile.getTouchEventName("touchstart")+".colorBar"+this.element.id,l=e.jqx.mobile.getTouchEventName("touchend")+".colorBar"+this.element.id),this.addHandler(this.colorBar,o,function(e){t.disabled||(t.beginDragBar=!0,a(e))}),this.addHandler(e(document),n,function(e){t.disabled||1==t.beginDragBar&&(a(e),t._isTouchDevice&&e.preventDefault())}),this.addHandler(e(document),l,function(e){t.disabled||(t.beginDrag=!1,t.beginDragBar=!1)})},_removeHandlers:function(){this.removeHandler(this.transparent,"click"),this.removeHandler(this.host,"selectionstart"),this.removeHandler(this.blue,"keyup blur"),this.removeHandler(this.green,"keyup blur"),this.removeHandler(this.red,"keyup blur"),this.removeHandler(this.hex,"keyup blur"),this.removeHandler(this.colorMap,"dragstart"),this.removeHandler(this.colorBar,"dragstart"),this.removeHandler(this.colorMapPointer,"dragStart"),this.removeHandler(this.colorBarPointer,"dragStart");var t=this.element.id,i="mousemove.colorBar"+t,r="mousedown.colorBar"+t,s="mouseup.colorBar"+t,a="mousedown.picker"+t,n="mousemove.picker"+t;this._isTouchDevice&&(i=e.jqx.mobile.getTouchEventName("touchmove")+".colorBar"+t,r=e.jqx.mobile.getTouchEventName("touchstart")+".colorBar"+t,s=e.jqx.mobile.getTouchEventName("touchend")+".colorBar"+t,a=e.jqx.mobile.getTouchEventName("touchstart")+".picker"+t,n=e.jqx.mobile.getTouchEventName("touchmove")+".picker"+t),this.removeHandler(this.colorMap,a),this.removeHandler(this.colorMap,n),this.removeHandler(this.colorBar,r),this.removeHandler(this.colorBar,i),this.removeHandler(e(document),n),this.removeHandler(e(document),i),this.removeHandler(e(document),s)},_raiseEvent:function(t,i){void 0==i&&(i={owner:null});var r=this.events[t],s=i?i:{};s.owner=this;var a=new e.Event(r);a.owner=this,a.args=s;var n=this.host.trigger(a);return n},setColor:function(t){t&&("transparent"==t?(this.color.transparent=!0,this.color.hex="000",this.color.r=0,this.color.g=0,this.color.b=0):t.r?this.color=new e.jqx.color({rgb:t}):"#"==t.substring(0,1)?this.color=new e.jqx.color({hex:t.substring(1)}):this.color=new e.jqx.color({hex:t}),this._updateUI(),this._setPositionFromValue(),this._raiseEvent("0",{color:this.color}))},getColor:function(){return this.color},resize:function(e,t){this.width=e,this.height=t,this._setSize(),this.refresh()},propertyChangedHandler:function(e,t,i,r){void 0!=e.isInitialized&&0!=e.isInitialized&&("colorMode"==t&&e.refresh(),"color"==t&&(e._updateUI(),e._setPositionFromValue(),e._raiseEvent("0",{color:r})),"width"!=t&&"height"!=t||(e._setSize(),e.refresh()),"showTransparent"==t&&e.refresh(),"disabled"==t&&(this.element.disabled=r,r?e.host.addClass(e.toThemeProperty("jqx-fill-state-disabled")):e.host.removeClass(e.toThemeProperty("jqx-fill-state-disabled"))))},_valuesFromMouse:function(t,i,r,s){var a=0,n=0,o=i.offset(),l=i.height(),h=i.width(),d=t.pageX,c=t.pageY;if(this._isTouchDevice){var u=e.jqx.position(t);d=u.left,c=u.top}a=d<o.left?0:d>o.left+h?h:d-o.left+1,n=c<o.top?0:c>o.top+l?l:c-o.top+1;var p=parseInt(a/h*r),f=parseInt(n/l*s);return{x:p,y:f}},_validateKey:function(e){return 9==e.keyCode||16==e.keyCode||38==e.keyCode||29==e.keyCode||40==e.keyCode||17==e.keyCode||37==e.keyCode||e.ctrlKey&&(e.keyCode=="c".charCodeAt()||e.keyCode=="v".charCodeAt())||e.ctrlKey&&(e.keyCode=="C".charCodeAt()||e.keyCode=="V".charCodeAt())?!1:!e.ctrlKey&&!e.shiftKey},_setValueInRange:function(e,t,i){return""==e||isNaN(e)?t:(e=parseInt(e),e>i?i:t>e?t:e)},destroy:function(){e.jqx.utilities.resize(this.host,null,!0),this.host.removeClass(),this._removeHandlers(),this.host.remove()},setPointerStyle:function(e){this.colorMapPointer.removeClass(),"transparent"!=e&&""!=e.hex||this.colorMapPointer.addClass(this.toThemeProperty("jqx-color-picker-pointer"));var t=105,i=.299*e.r+.587*e.g+.114*e.b,r=t>255-i?"Black":"White";"Black"==r?this.colorMapPointer.addClass(this.toThemeProperty("jqx-color-picker-pointer")):this.colorMapPointer.addClass(this.toThemeProperty("jqx-color-picker-pointer-alt"))},_updateUI:function(){var t=this;t.red.val(t.color.r),t.green.val(t.color.g),t.blue.val(t.color.b),t.hex.val(t.color.hex);var i=new e.jqx.color({hex:"fff"});"saturation"==this.colorMode?(i.setHsv(this.color.h,100,this.color.v),t.colorBar.css("background","#"+i.hex)):(i.setHsv(this.color.h,100,100),t.colorMap.css("background-color","#"+i.hex)),t.preview.css("background","#"+this.color.hex),t.setPointerStyle(this.color)},_setSize:function(){null!=this.width&&-1!=this.width.toString().indexOf("px")?this.host.width(this.width):void 0==this.width||isNaN(this.width)||this.host.width(this.width),null!=this.height&&-1!=this.height.toString().indexOf("px")?this.host.height(this.height):void 0==this.height||isNaN(this.height)||this.host.height(this.height),this.host.width()<130&&this.host.width(150),this.host.height()<70&&this.host.height(70),null!=this.width&&-1!=this.width.toString().indexOf("%")&&this.host.width(this.width),null!=this.height&&-1!=this.height.toString().indexOf("%")&&this.host.height(this.height)},_arrange:function(){var e=this.host.height(),t=this.host.width(),i=e-44;if(this.showTransparent&&(i=e-64),!(0>=i)){this.colorMap.width(85*t/100),this.colorMap.height(i),this.colorBar.height(i),this.colorBar.css("left",this.colorMap.width()+4),this.colorBar.width(8*t/100),this.colorBarPointer.width(this.colorBar.width()),this.colorPanel.width(t),this.colorPanel.height(40),this.showTransparent&&this.colorPanel.height(60),this.colorPanel.css("top",i+4),this.colorPanel.css("text-align","left"),this.hex.width(this.colorMap.width()-this.colorBar.width()-4);var r=this.red.prev().outerWidth()-this.hex.prev().outerWidth();4>r&&(r=4),this.hex.css("margin-left",r+"px"),this.preview.width(this.colorBar.width()+7),this.preview.height(25),this.preview.addClass(this.toThemeProperty("jqx-rc-all")),this.preview.addClass(this.toThemeProperty("jqx-color-picker-preview")),this.preview.css("left",this.colorMap.width()-2),this.preview.css("top","5px");var s=this.hex.width(),a=s-this.blue.prev().outerWidth()-this.green.prev().outerWidth()-6;return a>0?(this.blue.width(a/3),this.green.width(a/3),void this.red.width(a/3)):void 0}},_getColorPointer:function(){var t=e("<div></div>");return t.addClass(this.toThemeProperty("jqx-color-picker-pointer")),t},_getImageUrl:function(e){var t=e.css("backgroundImage");return t=t.replace('url("',""),t=t.replace('")',""),t=t.replace("url(",""),t=t.replace(")","")},refresh:function(){this._delayLoading||(this._saturation=null,this._hue=null,this.colorMap.removeClass(),this.colorBar.removeClass(),this.colorMap.addClass(this.toThemeProperty("jqx-disableselect")),this.colorBar.addClass(this.toThemeProperty("jqx-disableselect")),this.colorPanel.addClass(this.toThemeProperty("jqx-color-picker-panel")),this.colorBar.css("background-image",""),this.colorMap.css("background-image",""),"saturation"==this.colorMode?(this.colorMap.addClass(this.toThemeProperty("jqx-color-picker-map")),this.colorBar.addClass(this.toThemeProperty("jqx-color-picker-bar"))):(this.colorMap.addClass(this.toThemeProperty("jqx-color-picker-map-hue")),this.colorBar.addClass(this.toThemeProperty("jqx-color-picker-bar-hue"))),this._barImageURL=this._getImageUrl(this.colorBar),this._mapImageURL=this._getImageUrl(this.colorMap),this._arrange(),this.colorBar.children().remove(),this.colorBarImageContainer=e("<div style='overflow: hidden;'></div>"),this.colorBarImageContainer.width(this.colorBar.width()),this.colorBarImageContainer.height(this.colorBar.height()),this.colorBarImageContainer.appendTo(this.colorBar),this.colorBarImage=e("<img/>"),this.colorBarImage.appendTo(this.colorBarImageContainer),this.colorBarImage.attr("src",this._barImageURL),this.colorBar.css("background-image","none"),this.colorBarImage.attr("width",this.colorBar.width()),this.colorBarImage.attr("height",this.colorBar.height()),this.colorBarPointer.appendTo(this.colorBar),this.colorMap.children().remove(),this.colorMapImage=e("<img/>"),this.colorMapImage.appendTo(this.colorMap),this.colorMapImage.attr("src",this._mapImageURL),this.colorMap.css("background-image","none"),this.colorMapImage.attr("width",this.colorMap.width()),this.colorMapImage.attr("height",this.colorMap.height()),this.colorMapImageOverlay=e("<img style='position: absolute; left: 0; top: 0;'/>"),this.colorMapImageOverlay.prependTo(this.colorMap),this.colorMapImageOverlay.attr("src",this._mapImageOverlayURL),this.colorMapImageOverlay.attr("width",this.colorMap.width()),this.colorMapImageOverlay.attr("height",this.colorMap.height()),this.colorMapImageOverlay.css("opacity",0),this.colorMapPointer.appendTo(this.colorMap),this.showTransparent&&this.transparent.appendTo(this.colorPanel),this._updateUI(),this._setPositionFromValue())}}),e.jqx.color=function(e){var t={r:0,g:0,b:0,h:0,s:0,v:0,hex:"",hexToRgb:function(e){e=this.validateHex(e);var t="00",i="00",r="00";return 6==e.length?(t=e.substring(0,2),i=e.substring(2,4),r=e.substring(4,6)):(e.length>4&&(t=e.substring(4,e.length),e=e.substring(0,4)),e.length>2&&(i=e.substring(2,e.length),e=e.substring(0,2)),e.length>0&&(r=e.substring(0,e.length))),{r:this.hexToInt(t),g:this.hexToInt(i),b:this.hexToInt(r)}},validateHex:function(e){return e=new String(e).toUpperCase(),e=e.replace(/[^A-F0-9]/g,"0"),e.length>6&&(e=e.substring(0,6)),e},webSafeDec:function(e){return e=Math.round(e/51),e*=51},hexToWebSafe:function(e){var t,i,r;return 3==e.length?(t=e.substring(0,1),i=e.substring(1,1),r=e.substring(2,1)):(t=e.substring(0,2),i=e.substring(2,4),r=e.substring(4,6)),intToHex(this.webSafeDec(this.hexToInt(t)))+this.intToHex(this.webSafeDec(this.hexToInt(i)))+this.intToHex(this.webSafeDec(this.hexToInt(r)))},rgbToWebSafe:function(e){return{r:this.webSafeDec(e.r),g:this.webSafeDec(e.g),b:this.webSafeDec(e.b)}},rgbToHex:function(e){return this.intToHex(e.r)+this.intToHex(e.g)+this.intToHex(e.b)},intToHex:function(e){var t=parseInt(e).toString(16);return 1==t.length&&(t="0"+t),t.toUpperCase()},hexToInt:function(e){return parseInt(e,16)},hslToRgb:function(e){var t=parseInt(e.h)/360,i=parseInt(e.s)/100,r=parseInt(e.l)/100;if(.5>=r)var s=r*(1+i);else var s=r+i-r*i;var a=2*r-s,n=t+1/3,o=t,l=t-1/3,h=Math.round(255*this.hueToRgb(a,s,n)),d=Math.round(255*this.hueToRgb(a,s,o)),c=Math.round(255*this.hueToRgb(a,s,l));return{r:h,g:d,b:c}},hueToRgb:function(e,t,i){return 0>i?i+=1:i>1&&(i-=1),1>6*i?e+(t-e)*i*6:1>2*i?t:2>3*i?e+(t-e)*(2/3-i)*6:e},rgbToHsv:function(e){var t=e.r/255,i=e.g/255,r=e.b/255;hsv={h:0,s:0,v:0};var s=0,a=0;return t>=i&&t>=r?(a=t,s=i>r?r:i):i>=r&&i>=t?(a=i,s=t>r?r:t):(a=r,s=i>t?t:i),hsv.v=a,hsv.s=a?(a-s)/a:0,hsv.s?(delta=a-s,t==a?hsv.h=(i-r)/delta:i==a?hsv.h=2+(r-t)/delta:hsv.h=4+(t-i)/delta,hsv.h=parseInt(60*hsv.h),hsv.h<0&&(hsv.h+=360)):hsv.h=0,hsv.s=parseInt(100*hsv.s),hsv.v=parseInt(100*hsv.v),hsv},hsvToRgb:function(e){rgb={r:0,g:0,b:0};var t=e.h,i=e.s,r=e.v;if(0==i)0==r?rgb.r=rgb.g=rgb.b=0:rgb.r=rgb.g=rgb.b=parseInt(255*r/100);else{360==t&&(t=0),t/=60,i/=100,r/=100;var s=parseInt(t),a=t-s,n=r*(1-i),o=r*(1-i*a),l=r*(1-i*(1-a));switch(s){case 0:rgb.r=r,rgb.g=l,rgb.b=n;break;case 1:rgb.r=o,rgb.g=r,rgb.b=n;break;case 2:rgb.r=n,rgb.g=r,rgb.b=l;break;case 3:rgb.r=n,rgb.g=o,rgb.b=r;break;case 4:rgb.r=l,rgb.g=n,rgb.b=r;break;case 5:rgb.r=r,rgb.g=n,rgb.b=o}rgb.r=parseInt(255*rgb.r),rgb.g=parseInt(255*rgb.g),rgb.b=parseInt(255*rgb.b)}return rgb},setRgb:function(e,t,i){var r=function(e){return 0>e||e>255?0:isNaN(parseInt(e))?0:e};this.r=r(e),this.g=r(t),this.b=r(i);var s=this.rgbToHsv(this);this.h=s.h,this.s=s.s,this.v=s.v,this.hex=this.rgbToHex(this)},setHsl:function(e,t,i){this.h=e,this.s=t,this.l=i;var r=this.hslToRgb(this);this.r=r.r,this.g=r.g,this.b=r.b,this.hex=this.rgbToHex(r)},setHsv:function(e,t,i){this.h=e,this.s=t,this.v=i;var r=this.hsvToRgb(this);this.r=r.r,this.g=r.g,this.b=r.b,this.hex=this.rgbToHex(r)},setHex:function(e){this.hex=e;var t=this.hexToRgb(this.hex);this.r=t.r,this.g=t.g,this.b=t.b;var i=this.rgbToHsv(t);this.h=i.h,this.s=i.s,this.v=i.v}};if(e)if(e.hex){var i=t.validateHex(e.hex);t.setHex(i)}else e.r?t.setRgb(e.r,e.g,e.b):e.h?t.setHsv(e.h,e.s,e.v):e.rgb&&t.setRgb(e.rgb.r,e.rgb.g,e.rgb.b);return t}}(jqxBaseFramework),function(e){e.jqx.jqxWidget("jqxDropDownButton","",{}),e.extend(e.jqx._jqxDropDownButton.prototype,{defineInstance:function(){var t={disabled:!1,width:null,height:null,arrowSize:19,enableHover:!0,openDelay:250,closeDelay:300,animationType:"default",enableBrowserBoundsDetection:!1,dropDownHorizontalAlignment:"left",dropDownVerticalAlignment:"bottom",popupZIndex:2e4,dropDownContainer:"default",autoOpen:!1,rtl:!1,initContent:null,dropDownWidth:null,dropDownHeight:null,focusable:!0,template:"default",touchMode:!1,aria:{"aria-disabled":{name:"disabled",type:"boolean"}},events:["open","close","opening","closing"]};return this===e.jqx._jqxDropDownButton.prototype?t:(e.extend(!0,this,t),t)},createInstance:function(t){var i=this;i.width||(i.width=200),i.height||(i.height=25),i.isanimating=!1,i.setupInstance();var r=e("<div style='background-color: transparent; -webkit-appearance: none; outline: none; width:100%; height: 100%; padding: 0px; margin: 0px; border: 0px; position: relative;'><div id='dropDownButtonWrapper' style='outline: none; background-color: transparent; border: none; float: left; width:100%; height: 100%; position: relative;'><div id='dropDownButtonContent' unselectable='on' style='outline: none; background-color: transparent; border: none; float: left; position: relative;'/><div id='dropDownButtonArrow' unselectable='on'  style='background-color: transparent; border: none; float: right; position: relative;'><div unselectable='on'></div></div></div></div>");i.host.attr("tabindex")?(r.attr("tabindex",i.host.attr("tabindex")),i.host.removeAttr("tabindex")):r.attr("tabindex",0),i.focusable||r.removeAttr("tabIndex"),e.jqx.aria(this),i.popupContent=i.host.children(),i.host.attr("role","button"),0==i.popupContent.length?(i.popupContent=e("<div>"+i.host.text()+"</div>"),i.popupContent.css("display","block"),i.element.innerHTML=""):i.popupContent.detach();var s=this;i.addHandler(i.host,"loadContent",function(e){s._arrange()});try{var a="dropDownButtonPopup"+i.element.id,n=e(e.find("#"+a));n.length>0&&n.remove(),e.jqx.aria(this,"aria-haspopup",!0),e.jqx.aria(this,"aria-owns",a);var o=e("<div class='dropDownButton' style='overflow: hidden; left: -1000px; top: -1000px; position: absolute;' id='dropDownButtonPopup"+i.element.id+"'></div>");o.addClass(i.toThemeProperty("jqx-widget-content")),o.addClass(i.toThemeProperty("jqx-dropdownbutton-popup")),o.addClass(i.toThemeProperty("jqx-popup")),o.addClass(i.toThemeProperty("jqx-rc-all")),"element"!=i.dropDownContainer&&o.css("z-index",i.popupZIndex),e.jqx.browser.msie&&o.addClass(i.toThemeProperty("jqx-noshadow")),i.popupContent.appendTo(o),"element"==i.dropDownContainer?o.appendTo(i.host):o.appendTo(document.body),i.container=o,i.container.css("visibility","hidden")}catch(l){}i.touch=e.jqx.mobile.isTouchDevice(),i.dropDownButtonStructure=r,i.host.append(r),i.dropDownButtonWrapper=i.host.find("#dropDownButtonWrapper"),i.firstDiv=i.dropDownButtonWrapper.parent(),i.dropDownButtonArrow=i.host.find("#dropDownButtonArrow"),i.arrow=e(i.dropDownButtonArrow.children()[0]),i.dropDownButtonContent=i.host.find("#dropDownButtonContent"),i.dropDownButtonContent.addClass(i.toThemeProperty("jqx-dropdownlist-content")),i.dropDownButtonWrapper.addClass(i.toThemeProperty("jqx-disableselect")),i.rtl&&i.dropDownButtonContent.addClass(i.toThemeProperty("jqx-rtl"));var h=this;i.host.parents()&&i.addHandler(i.host.parents(),"scroll.dropdownbutton"+i.element.id,function(e){var t=h.isOpened();t&&h.close()}),i.addHandler(i.dropDownButtonWrapper,"selectstart",function(){return!1}),i.dropDownButtonWrapper[0].id="dropDownButtonWrapper"+i.element.id,i.dropDownButtonArrow[0].id="dropDownButtonArrow"+i.element.id,i.dropDownButtonContent[0].id="dropDownButtonContent"+i.element.id;var h=this;i.propertyChangeMap.disabled=function(t,i,r,s){s?(t.host.addClass(h.toThemeProperty("jqx-dropdownlist-state-disabled")),t.host.addClass(h.toThemeProperty("jqx-fill-state-disabled")),t.dropDownButtonContent.addClass(h.toThemeProperty("jqx-dropdownlist-content-disabled"))):(t.host.removeClass(h.toThemeProperty("jqx-dropdownlist-state-disabled")),t.host.removeClass(h.toThemeProperty("jqx-fill-state-disabled")),t.dropDownButtonContent.removeClass(h.toThemeProperty("jqx-dropdownlist-content-disabled"))),e.jqx.aria(t,"aria-disabled",t.disabled)},i.disabled&&(i.host.addClass(i.toThemeProperty("jqx-dropdownlist-state-disabled")),i.host.addClass(i.toThemeProperty("jqx-fill-state-disabled")),i.dropDownButtonContent.addClass(i.toThemeProperty("jqx-dropdownlist-content-disabled")));var d=i.toThemeProperty("jqx-rc-all")+" "+i.toThemeProperty("jqx-fill-state-normal")+" "+i.toThemeProperty("jqx-widget")+" "+i.toThemeProperty("jqx-widget-content")+" "+i.toThemeProperty("jqx-dropdownlist-state-normal");if(i.host.addClass(d),i.arrow.addClass(i.toThemeProperty("jqx-icon-arrow-down")),i.arrow.addClass(i.toThemeProperty("jqx-icon")),i.template&&i.host.addClass(i.toThemeProperty("jqx-"+i.template)),i._setSize(),i.render(),e.jqx.browser.msie&&e.jqx.browser.version<8&&(i.container.css("display","none"),i.host.parents(".jqx-window").length>0)){var c=i.host.parents(".jqx-window").css("z-index");o.css("z-index",c+10),i.container.css("z-index",c+10)}},setupInstance:function(){var t=this,i={setContent:function(e){t.dropDownButtonContent.children().remove(),t.dropDownButtonContent[0].innerHTML="",t.dropDownButtonContent.append(e)},val:function(e){return 0==arguments.length||"object"==typeof e?t.dropDownButtonContent.text():void t.dropDownButtonContent.html(e)},getContent:function(){return t.dropDownButtonContent.children().length>0?t.dropDownButtonContent.children():t.dropDownButtonContent.text()},_setSize:function(){null!=t.width&&-1!=t.width.toString().indexOf("px")?t.host[0].style.width=t.width:void 0==t.width||isNaN(t.width)||(t.host[0].style.width=parseInt(t.width)+"px"),null!=t.height&&-1!=t.height.toString().indexOf("px")?t.host[0].style.height=t.height:void 0==t.height||isNaN(t.height)||(t.host[0].style.height=parseInt(t.height)+"px");var i=!1;null!=t.width&&-1!=t.width.toString().indexOf("%")&&(i=!0,t.host.width(t.width)),null!=t.height&&-1!=t.height.toString().indexOf("%")&&(i=!0,t.host.height(t.height));var r=this;i&&t.refresh(!1),e.jqx.utilities.resize(t.host,function(){r._arrange()})},isOpened:function(){var t=this,i=e.data(document.body,"openedJQXButton"+t.element.id);return null!=i&&i==t.popupContent},focus:function(){try{t.host.focus()}catch(e){}},render:function(){t.removeHandlers();var i=this,r=!1;t.touch||(t.addHandler(t.host,"mouseenter",function(){!i.disabled&&i.enableHover&&(r=!0,i.host.addClass(i.toThemeProperty("jqx-dropdownlist-state-hover")),i.arrow.addClass(i.toThemeProperty("jqx-icon-arrow-down-hover")),i.host.addClass(i.toThemeProperty("jqx-fill-state-hover")))}),t.addHandler(t.host,"mouseleave",function(){!i.disabled&&i.enableHover&&(i.host.removeClass(i.toThemeProperty("jqx-dropdownlist-state-hover")),i.host.removeClass(i.toThemeProperty("jqx-fill-state-hover")),i.arrow.removeClass(i.toThemeProperty("jqx-icon-arrow-down-hover")),r=!1)})),i.autoOpen&&(t.addHandler(t.host,"mouseenter",function(){var e=i.isOpened();!e&&i.autoOpen&&(i.open(),i.host.focus())}),t.addHandler(e(document),"mousemove."+i.element.id,function(e){var t=i.isOpened();if(t&&i.autoOpen){var r=i.host.coord(),s=r.top,a=r.left,n=i.container.coord(),o=n.left,l=n.top;canClose=!0,e.pageY>=s&&e.pageY<=s+i.host.height()&&e.pageX>=a&&e.pageX<a+i.host.width()&&(canClose=!1),e.pageY>=l&&e.pageY<=l+i.container.height()&&e.pageX>=o&&e.pageX<o+i.container.width()&&(canClose=!1),canClose&&i.close()}})),t.addHandler(t.dropDownButtonWrapper,"mousedown",function(e){if(!i.disabled){var t="visible"==i.container.css("visibility");if(!i.isanimating){if(t)return i.close(),!1;i.open(),i.focusable||e.preventDefault&&e.preventDefault()}}}),t.touch&&t.addHandler(e(document),e.jqx.mobile.getTouchEventName("touchstart")+"."+t.element.id,i.closeOpenedDropDown,{me:this,popup:t.container,id:t.element.id}),t.addHandler(e(document),"mousedown."+t.element.id,i.closeOpenedDropDown,{
me:this,popup:t.container,id:t.element.id}),t.addHandler(t.host,"keydown",function(e){var t="visible"==i.container.css("visibility");return"none"==i.host.css("display")?!0:("13"==e.keyCode&&(i.isanimating||t&&i.close()),115==e.keyCode?(i.isanimating||(i.isOpened()?i.isOpened()&&i.close():i.open()),!1):(e.altKey&&"block"==i.host.css("display")&&(38==e.keyCode?i.isOpened()&&i.close():40==e.keyCode&&(i.isOpened()||i.open())),void("27"==e.keyCode&&(i.ishiding||(i.close(),void 0!=i.tempSelectedIndex&&i.selectIndex(i.tempSelectedIndex))))))}),t.addHandler(t.firstDiv,"focus",function(){i.host.addClass(i.toThemeProperty("jqx-dropdownlist-state-focus")),i.host.addClass(i.toThemeProperty("jqx-fill-state-focus"))}),t.addHandler(t.firstDiv,"blur",function(){i.host.removeClass(i.toThemeProperty("jqx-dropdownlist-state-focus")),i.host.removeClass(i.toThemeProperty("jqx-fill-state-focus"))})},removeHandlers:function(){var i=this;t.removeHandler(t.dropDownButtonWrapper,"mousedown"),t.removeHandler(t.host,"keydown"),t.removeHandler(t.firstDiv,"focus"),t.removeHandler(t.firstDiv,"blur"),t.removeHandler(t.host,"mouseenter"),t.removeHandler(t.host,"mouseleave"),t.autoOpen&&(t.removeHandler(t.host,"mouseenter"),t.removeHandler(t.host,"mouseleave")),t.removeHandler(e(document),"mousemove."+i.element.id)},_findPos:function(t){for(;t&&("hidden"==t.type||1!=t.nodeType||e.expr.filters.hidden(t));)t=t.nextSibling;var i=e(t).coord(!0);return[i.left,i.top]},testOffset:function(i,r,s){var a=i.outerWidth(),n=i.outerHeight(),o=e(window).width()+e(window).scrollLeft(),l=e(window).height()+e(window).scrollTop();if(r.left+a>o&&a>t.host.width()){var h=t.host.coord().left,d=a-t.host.width();r.left=h-d+2}return r.left<0&&(r.left=parseInt(t.host.coord().left)+"px"),r.top-=Math.min(r.top,r.top+n>l&&l>n?Math.abs(n+s+22):0),r},_getBodyOffset:function(){var t=0,i=0;return"0px"!=e("body").css("border-top-width")&&(t=parseInt(e("body").css("border-top-width")),isNaN(t)&&(t=0)),"0px"!=e("body").css("border-left-width")&&(i=parseInt(e("body").css("border-left-width")),isNaN(i)&&(i=0)),{left:i,top:t}},open:function(){e.jqx.aria(this,"aria-expanded",!0);var t=this,i=this;if((null==t.dropDownWidth||"auto"==t.dropDownWidth)&&null!=t.width&&t.width.indexOf&&-1!=t.width.indexOf("%")){var r=t.host.width();t.container.width(parseInt(r))}i._raiseEvent("2");var s,a=t.popupContent,n=(e(window).scrollTop(),e(window).scrollLeft(),parseInt(t._findPos(t.host[0])[1])+parseInt(t.host.outerHeight())-1+"px"),o=parseInt(Math.round(t.host.coord(!0).left));s=o+"px";var l=e.jqx.mobile.isSafariMobileBrowser()||e.jqx.mobile.isWindowsPhone();t.ishiding=!1,t.tempSelectedIndex=t.selectedIndex,null!=l&&l&&(s=e.jqx.mobile.getLeftPos(t.element),n=e.jqx.mobile.getTopPos(t.element)+parseInt(t.host.outerHeight()),"0px"!=e("body").css("border-top-width")&&(n=parseInt(n)-t._getBodyOffset().top+"px"),"0px"!=e("body").css("border-left-width")&&(s=parseInt(s)-t._getBodyOffset().left+"px")),a.stop(),t.host.addClass(t.toThemeProperty("jqx-dropdownlist-state-selected")),t.host.addClass(t.toThemeProperty("jqx-fill-state-pressed")),t.arrow.addClass(t.toThemeProperty("jqx-icon-arrow-down-selected"));var h=!1;e.jqx.browser.msie&&e.jqx.browser.version<8&&(h=!0),h&&t.container.css("display","block"),t.container.css("left",s),t.container.css("top",n);var d=!1,c=function(){if("right"==t.dropDownHorizontalAlignment||t.rtl){var e=t.container.width(),i=Math.abs(e-t.host.width());e>t.host.width()?t.container.css("left",parseInt(Math.round(o))-i+"px"):t.container.css("left",parseInt(Math.round(o))+i+"px")}};if(c.call(this),"top"==t.dropDownVerticalAlignment){var u=a.height();d=!0,t.container.height(a.outerHeight()),a.addClass(this.toThemeProperty("jqx-popup-up"));var p=parseInt(t.host.outerHeight()),f=parseInt(n)-Math.abs(u+p);t.interval&&clearInterval(t.interval),t.interval=setInterval(function(){if(a.outerHeight()!=t.container.height()){t.container.height(a.outerHeight());var e=parseInt(n)-Math.abs(a.height()+p);t.container.css("top",e)}},50),a.css("top",23),t.container.css("top",f)}if(t.enableBrowserBoundsDetection){var m=t.testOffset(a,{left:parseInt(t.container.css("left")),top:parseInt(n)},parseInt(t.host.outerHeight()));parseInt(t.container.css("top"))!=m.top?(d=!0,t.container.height(a.outerHeight()),a.css("top",23),t.interval&&clearInterval(t.interval),t.interval=setInterval(function(){if(a.outerHeight()!=i.container.height()){var e=i.testOffset(a,{left:parseInt(t.container.css("left")),top:parseInt(n)},parseInt(t.host.outerHeight()));t.container.css("top",e.top),t.container.height(a.outerHeight())}},50)):a.css("top",0),t.container.css("top",m.top),parseInt(t.container.css("left"))!=m.left&&t.container.css("left",m.left)}if("none"==t.animationType)t.container.css("visibility","visible"),e.data(document.body,"openedJQXButtonParent",i),e.data(document.body,"openedJQXButton"+t.element.id,a),a.css("margin-top",0),a.css("opacity",1),t._raiseEvent("0"),c.call(i);else{t.container.css("visibility","visible");var g=a.outerHeight();i.isanimating=!0,"fade"==t.animationType?(a.css("margin-top",0),a.css("opacity",0),a.animate({opacity:1},t.openDelay,function(){e.data(document.body,"openedJQXButtonParent",i),e.data(document.body,"openedJQXButton"+i.element.id,a),i.ishiding=!1,i.isanimating=!1,i._raiseEvent("0")}),c.call(i)):(a.css("opacity",1),d?a.css("margin-top",g):a.css("margin-top",-g),c.call(i),d?a.animate({"margin-top":0},t.openDelay,function(){e.data(document.body,"openedJQXButtonParent",i),e.data(document.body,"openedJQXButton"+i.element.id,a),i.ishiding=!1,i.isanimating=!1,i._raiseEvent("0")}):a.animate({"margin-top":0},t.openDelay,function(){e.data(document.body,"openedJQXButtonParent",i),e.data(document.body,"openedJQXButton"+i.element.id,a),i.ishiding=!1,i.isanimating=!1,i._raiseEvent("0")}))}d?(t.host.addClass(t.toThemeProperty("jqx-rc-t-expanded")),t.container.addClass(t.toThemeProperty("jqx-rc-b-expanded"))):(t.host.addClass(t.toThemeProperty("jqx-rc-b-expanded")),t.container.addClass(t.toThemeProperty("jqx-rc-t-expanded"))),t.focusable&&(t.firstDiv.focus(),setTimeout(function(){i.firstDiv.focus()},10)),t.container.addClass(t.toThemeProperty("jqx-fill-state-focus")),t.host.addClass(i.toThemeProperty("jqx-dropdownlist-state-focus")),t.host.addClass(i.toThemeProperty("jqx-fill-state-focus"))},close:function(){e.jqx.aria(this,"aria-expanded",!1);var t=this,i=t.popupContent,r=t.container,s=this;s._raiseEvent("3");var a=!1;if(e.jqx.browser.msie&&e.jqx.browser.version<8&&(a=!0),t.isOpened()){if(e.data(document.body,"openedJQXButton"+t.element.id,null),"none"==t.animationType)t.container.css("visibility","hidden"),a&&t.container.css("display","none");else if(!s.ishiding){s.isanimating=!0,i.stop();var n=i.outerHeight();i.css("margin-top",0);var o=-n;parseInt(t.container.coord().top)<parseInt(t.host.coord().top)&&(o=n),"fade"==t.animationType?(i.css({opacity:1}),i.animate({opacity:0},t.closeDelay,function(){r.css("visibility","hidden"),s.isanimating=!1,s.ishiding=!1,a&&r.css("display","none")})):i.animate({"margin-top":o},t.closeDelay,function(){r.css("visibility","hidden"),s.isanimating=!1,s.ishiding=!1,a&&r.css("display","none")})}t.ishiding=!0,t.host.removeClass(t.toThemeProperty("jqx-dropdownlist-state-selected")),t.host.removeClass(t.toThemeProperty("jqx-fill-state-pressed")),t.arrow.removeClass(t.toThemeProperty("jqx-icon-arrow-down-selected")),t.host.removeClass(t.toThemeProperty("jqx-rc-b-expanded")),t.container.removeClass(t.toThemeProperty("jqx-rc-t-expanded")),t.host.removeClass(t.toThemeProperty("jqx-rc-t-expanded")),t.container.removeClass(t.toThemeProperty("jqx-rc-b-expanded")),t.container.removeClass(t.toThemeProperty("jqx-fill-state-focus")),t.host.removeClass(t.toThemeProperty("jqx-dropdownlist-state-focus")),t.host.removeClass(t.toThemeProperty("jqx-fill-state-focus")),t._raiseEvent("1")}},closeOpenedDropDown:function(t){var i=t.data.me,r=e(t.target);if(e(t.target).ischildof(t.data.me.host))return!0;if(e(t.target).ischildof(t.data.me.popupContent))return!0;var s=!1;return e.each(r.parents(),function(){if("undefined"!=this.className){if(this.className.indexOf&&-1!=this.className.indexOf("dropDownButton"))return s=!0,!1;if(this.className.indexOf&&-1!=this.className.indexOf("jqx-popup"))return s=!0,!1}}),s||i.close(),!0},refresh:function(){t._arrange()},_arrange:function(){var e=this,t=parseInt(e.host.width()),i=parseInt(e.host.height()),r=(e.arrowSize,e.arrowSize),s=3,a=t-r-2*s;if(a>0&&(e.dropDownButtonContent[0].style.width=a+"px"),e.dropDownButtonContent[0].style.height=parseInt(i)+"px",e.dropDownButtonContent[0].style.left="0px",e.dropDownButtonContent[0].style.top="0px",e.dropDownButtonArrow[0].style.width=parseInt(r)+"px",e.dropDownButtonArrow[0].style.height=parseInt(i)+"px",e.rtl&&(e.dropDownButtonArrow.css("float","left"),e.dropDownButtonContent.css("float","right"),e.dropDownButtonContent.css("left",-s)),null!=e.dropDownWidth)if(e.dropDownWidth.toString().indexOf("%")>=0){var t=parseInt(e.dropDownWidth)*e.host.width()/100;e.container.width(t)}else e.container.width(e.dropDownWidth);null!=e.dropDownHeight&&e.container.height(e.dropDownHeight)},destroy:function(){e.jqx.utilities.resize(this.host,null,!0);var t=this;t.interval&&clearInterval(t.interval),t.removeHandler(t.dropDownButtonWrapper,"selectstart"),t.removeHandler(t.dropDownButtonWrapper,"mousedown"),t.removeHandler(t.host,"keydown"),t.host.removeClass(),t.removeHandler(e(document),"mousedown."+t.element.id,self.closeOpenedDropDown),t.host.remove(),t.container.remove()},_raiseEvent:function(i,r){void 0==r&&(r={owner:null}),2!=i||t.contentInitialized||t.initContent&&(t.initContent(),t.contentInitialized=!0);var s=t.events[i];args=r,args.owner=this;var a=new e.Event(s);a.owner=this,2!=i&&3!=i&&4!=i||(a.args=r);var n=t.host.trigger(a);return n},resize:function(e,i){t.width=e,t.height=i,t._setSize(),t._arrange()},propertiesChangedHandler:function(e,t,i){i.width&&i.height&&2==Object.keys(i).length&&(e._setSize(),e._arrange(),e.close())},propertyChangedHandler:function(i,r,s,a){void 0!=t.isInitialized&&0!=t.isInitialized&&(i.batchUpdate&&i.batchUpdate.width&&i.batchUpdate.height&&2==Object.keys(i.batchUpdate).length||("template"==r&&(i.host.removeClass(i.toThemeProperty("jqx-"+s)),i.host.addClass(i.toThemeProperty("jqx-"+i.template))),"rtl"==r&&(a?(i.dropDownButtonArrow.css("float","left"),i.dropDownButtonContent.css("float","right")):(i.dropDownButtonArrow.css("float","right"),i.dropDownButtonContent.css("float","left"))),"autoOpen"==r&&i.render(),"theme"==r&&null!=a&&e.jqx.utilities.setTheme(s,a,i.host),"width"!=r&&"height"!=r||(i._setSize(),i._arrange())))}};e.extend(!0,this,i)}})}(jqxBaseFramework),function(e){"use strict";e.jqx.jqxWidget("jqxArray","",{}),e.extend(e.jqx._jqxArray.prototype,{defineInstance:function(){var t={width:null,height:null,type:"none",value:null,dimensions:1,rows:1,columns:1,elementWidth:75,elementHeight:25,showIndexDisplay:!0,indexerWidth:50,indexerHeight:25,showVerticalScrollbar:!1,showHorizontalScrollbar:!1,showSelection:!0,disabled:!1,customWidgetDefaultValue:null,elementTemplate:null,changeProperty:null,getElementValue:null,setElementValue:null,arrayIndexingMode:"LabVIEW",events:["change","elementClick","sizeChange","dimensionChange","arraySizeChange","scroll"]};e.extend(!0,this,t)},createInstance:function(){this._render()},_render:function(){var e=this;e._coordinates=[],e._getDefaultCellValue(),e._validateProperties(),e._addClasses(),e._addInnerElements(),e._addInitialDimensions(),"none"!==e.type&&(e._addElementStructure(),e._structureAdded=!0,e._initializeElements(!1)),e._getInitialFill(),e._updateWidgetWidth(),e._updateWidgetHeight()},render:function(){this.refresh()},refresh:function(e){if(e!==!0){var t=this;t._updateWidgetWidth(),t._updateWidgetHeight(),t._scroll()}},destroy:function(){for(var t=this,i=0;i<t._indexers.length;i++)t._indexers[i].jqxNumberInput("destroy");t._hScrollBarInitialized&&t._horizontalScrollBar.jqxScrollBar("destroy"),t._vScrollBarInitialized&&t._verticalScrollBar.jqxScrollBar("destroy"),t._widget&&e(".jqx-array-element-"+t.element.id)[t._widget]("destroy"),t.host.remove()},val:function(t,i){var r,s=this;if(2===arguments.length){if("none"===s.type)return;r=JSON.stringify(s.value);for(var a=s.value,n=0;n<s.dimensions-1;n++){var o=i[n];void 0===o&&(o=0,i[n]=0),void 0===a[o]&&(a[o]=[]),a=a[o]}var l=i[n];void 0===l&&(l=0,i[n]=0),s._areDifferent(a[l],t)&&(a[l]=t,s._fillValueArray(i.slice(0)),s._raiseEvent("0",{value:s.value,oldValue:JSON.parse(r),dimensionIndexes:i}))}else{if(void 0===t||e.isEmptyObject(t))return s.value;if("none"===s.type)return;var h=JSON.stringify(s.value);h!==JSON.stringify(t)&&(r=s.value,s.value=t,s._validateValue(),h!==JSON.stringify(s.value)&&(s._scroll(),s._getInitialFill(),s._raiseEvent("0",{value:s.value,oldValue:r})))}},addDimension:function(t){var i=this;if(i._suppressDimensionChange===!0||32!==i.dimensions){var r=e('<div class="jqx-array-indexer"></div>');i._indexerContainer.prepend(r),r.jqxNumberInput({theme:i.theme,width:i.indexerWidth-2,height:i.indexerHeight,inputMode:"simple",decimalDigits:0,spinButtons:!0,min:0,max:4294967295,disabled:i.disabled}),r.find(".jqx-icon-arrow-up").parent()[0].classList.add("jqx-array-indexer-increment"),r.find(".jqx-icon-arrow-down").parent()[0].classList.add("jqx-array-indexer-decrement"),i.addHandler(r,"change.jqxArray"+i.element.id,function(t){var r=e(this).data("dimension"),s="LabVIEW"===i.arrayIndexingMode?i.dimensions-r-1:r,a=parseFloat(t.args.value);i._coordinates[s]=a,i._scroll(),"none"===i.type||0!==r&&1!==r||i._syncScrollbar(r,a),t.stopPropagation()}),i._dimensions.push({index:i._dimensions.length,indexer:r}),"LabVIEW"===i.arrayIndexingMode?(i._indexers.unshift(r),i._coordinates.unshift(0)):(i._indexers.push(r),i._coordinates.push(0)),r.data({dimension:i._indexers.length-1}),i._suppressDimensionChange!==!0&&(i.dimensions+=1,i._raiseEvent("3",{type:"add"})),i._initialDimensions!==!0&&t!==!1&&(i._addDimensionToJSArray(),"LabVIEW"===i.arrayIndexingMode?i._filledUpTo.unshift(0):i._filledUpTo.push(0),i._oneDimensionSpecialCase===!0&&(i._oneDimensionSpecialCase=!1,i._verticalScrollBar.val(0),i._scroll())),void 0!==i._absoluteSelectionStart&&i._absoluteSelectionStart.push(0),void 0!==i._absoluteSelectionEnd&&i._absoluteSelectionEnd.push(0),i._suppressDimensionChange===!1&&i.showIndexDisplay===!0&&i.dimensions*(i.indexerHeight+4)-2>i.height&&i._updateWidgetHeight("dimensions")}},removeDimension:function(e,t){var i=this,r=i._dimensions.length-1;if(i._dimensions.length>1){if(2===i.dimensions){var s=i.rows;i.rows=1,i._changeRowsColumns("rows",s,1,void 0,!0)}i._dimensions[r].indexer.jqxNumberInput("destroy"),i._dimensions.pop();var a;"LabVIEW"===i.arrayIndexingMode?(a=i._coordinates[0],i._indexers.splice(0,1),i._coordinates.splice(0,1)):(a=i._coordinates[r],i._indexers.pop(),i._coordinates.pop()),i._suppressDimensionChange!==!0&&(i.dimensions-=1,i._raiseEvent("3",{type:"remove"})),t!==!1&&(i._removeDimensionFromJSArray(),"LabVIEW"===i.arrayIndexingMode?i._filledUpTo.splice(0,1):i._filledUpTo.pop()),void 0!==i._absoluteSelectionStart&&i._absoluteSelectionStart.pop(),void 0!==i._absoluteSelectionEnd&&i._absoluteSelectionEnd.pop(),a>0&&i._scroll(),(i.dimensions>1&&i._suppressDimensionChange===!1&&i.showIndexDisplay===!0&&(i.dimensions+1)*(i.indexerHeight+4)-2>=i.height||1===i.dimensions&&e!==!0)&&(i._updateWidgetHeight("dimensions"),1===i.dimensions&&i.showVerticalScrollbar&&i._showVerticalScrollbar(!1))}},setIndexerValue:function(e){for(var t=this,i=!1,r=0;r<e.length;r++){var s=e[r].index,a="LabVIEW"===t.arrayIndexingMode?t.dimensions-s-1:s,n=e[r].value,o=t._indexers[s];void 0!==o&&n!==t._coordinates[s]&&(i=!0,o.val(n),t._coordinates[s]=n,"none"===t.type||0!==a&&1!==a||t._syncScrollbar(a,n))}i===!0&&t._scroll()},getIndexerValue:function(){for(var e=this._indexers,t=[],i=0;i<e.length;i++)t.push(e[i].val());return t},showLastElement:function(){var e,t,i=this,r=[];"LabVIEW"===i.arrayIndexingMode?(e=i.dimensions-1,t=i.dimensions-2):(e=0,t=1);for(var s=0;s<i.dimensions;s++){var a=i._filledUpTo[s];s===e?a=a<=i.columns-1?0:a-i.columns+1:s===t&&(a=a<=i.rows-1?0:a-i.rows+1),r.push({index:s,value:a})}i.setIndexerValue(r)},insertRowBefore:function(e,t){var i=this,r=JSON.stringify(i.value),s="LabVIEW"===i.arrayIndexingMode;if(s&&t!==!0)return void i.insertColumnBefore(e,!0);if(1===i.dimensions){if(!(s&&!i._oneDimensionSpecialCase||!s&&i._oneDimensionSpecialCase))return;i.value.splice(e+i._coordinates[0],0,i._getDefaultValue()),i._scroll(),i._filledUpTo[0]++}else{var a,n=i._filledUpTo.slice(0);if(s){var o=i.dimensions-1;a=e+i._coordinates[o];var l=function(e,t){if(o!==t)for(var r=0;r<e.length;r++)l(e[r],t+1);else e.splice(a,0,i._getDefaultValue())};l(i.value,0),n[o]++}else{a=e+i._coordinates[1];for(var h=0;h<i.value.length;h++){var d=i.value[h];d.splice(a,0,void 0)}n[1]++}i._fillValueArray(n,!0)}i._raiseEvent("0",{value:i.value,oldValue:JSON.parse(r)}),i._setMaxValuesOfScrollBars()},insertColumnBefore:function(e,t){var i,r=this,s=JSON.stringify(r.value),a="LabVIEW"===r.arrayIndexingMode;if(a&&t!==!0)return void r.insertRowBefore(e,!0);if(1===r.dimensions){if(!(a&&r._oneDimensionSpecialCase||!a&&!r._oneDimensionSpecialCase))return;r.value.splice(e+r._coordinates[0],0,r._getDefaultValue()),r._scroll(),r._filledUpTo[0]++}else{var n=r._filledUpTo.slice(0);if(a){i=e+r._coordinates[r.dimensions-2];var o=r.dimensions-2,l=function(e,t){if(o!==t)for(var r=0;r<e.length;r++)l(e[r],t+1);else e.splice(i,0,[])};l(r.value,0),n[o]++}else i=e+r._coordinates[0],r.value.splice(i,0,r._returnEmptyArray()[0]),n[0]++;r._fillValueArray(n,!0)}r._raiseEvent("0",{value:r.value,oldValue:JSON.parse(s)}),r._setMaxValuesOfScrollBars()},deleteRow:function(e){var t,i,r=this,s="LabVIEW"===r.arrayIndexingMode,a=JSON.stringify(r.value);if(1===r.dimensions){if(!r._oneDimensionSpecialCase)return void(0===e&&r.emptyArray());r.value.splice(e+r._coordinates[0],1),r._filledUpTo[0]--}else{if(s){t=r.dimensions-2,i=e+r._coordinates[t];var n=function(e,r){if(t!==r)for(var s=0;s<e.length;s++)n(e[s],r+1);else e.splice(i,1)};n(r.value,0)}else{t=1,i=e+r._coordinates[1];for(var o=0;o<r.value.length;o++){var l=r.value[o];l.splice(i,1)}}r._filledUpTo[t]--}a!==JSON.stringify(r.value)&&(r._scroll(),r._raiseEvent("0",{value:r.value,oldValue:JSON.parse(a)}),r._setMaxValuesOfScrollBars())},deleteColumn:function(e){var t=this,i="LabVIEW"===t.arrayIndexingMode;if(t._oneDimensionSpecialCase)return void(0===e&&t.emptyArray());var r,s,a=JSON.stringify(t.value);if(i){r=t.dimensions-1,s=e+t._coordinates[r];var n=function(e,t){if(r!==t)for(var i=0;i<e.length;i++)n(e[i],t+1);else e.splice(s,1)};n(t.value,0)}else r=0,s=e+t._coordinates[0],t.value.splice(s,1);JSON.stringify(t.value)!==a&&(t._filledUpTo[r]--,t._scroll(),t._raiseEvent("0",{value:t.value,oldValue:JSON.parse(a)}),t._setMaxValuesOfScrollBars())},selectElement:function(e,t){var i=this;i.startSelection(e,t),i.endSelection(e,t)},startSelection:function(e,t){var i=this;i._absoluteSelectionStart=i._coordinates.slice(0),"LabVIEW"===i.arrayIndexingMode?(i._absoluteSelectionStart[i.dimensions-1]=t,i._absoluteSelectionStart[i.dimensions-2]=e):(i._absoluteSelectionStart[0]=t,i._absoluteSelectionStart[1]=e),i._absoluteSelectionEnd=void 0},endSelection:function(e,t){var i=this;if(void 0!==i._absoluteSelectionStart){i._absoluteSelectionEnd=i._coordinates.slice(0),"LabVIEW"===i.arrayIndexingMode?(i._absoluteSelectionEnd[i.dimensions-1]=t,i._absoluteSelectionEnd[i.dimensions-2]=e):(i._absoluteSelectionEnd[0]=t,i._absoluteSelectionEnd[1]=e);for(var r=!0,s=0;s<i.dimensions;s++)r=r&&i._absoluteSelectionStart[s]<=i._absoluteSelectionEnd[s];r?i._refreshSelection():i._absoluteSelectionEnd=void 0}},selectAll:function(){var e=this;if(!("LabVIEW"===e.arrayIndexingMode&&-1===e._filledUpTo[0]||"JavaScript"===e.arrayIndexingMode&&-1===e._filledUpTo[e._filledUpTo.length-1])){var t=new Array(e.dimensions);Array.prototype.fill?t.fill(0):e._fillArray(t,0),e._absoluteSelectionStart=t,e._absoluteSelectionEnd=e._filledUpTo.slice(0),e._refreshSelection()}},clearSelection:function(){var e=this;e._absoluteSelectionStart=void 0,e._absoluteSelectionEnd=void 0,e.showSelection&&e._clearSelection()},reinitializeArray:function(){var e=this,t=e.dimensions,i=JSON.stringify(e.value);if(1===e.dimensions)Array.prototype.fill?e.value.fill(e._getDefaultValue()):e._fillArray(e.value,e._getDefaultValue());else{var r=function(i,s){for(var a=0;a<i.length;a++)s===t?i[a]=e._getDefaultValue():r(i[a],s+1)};r(e.value,1)}i!==JSON.stringify(e.value)&&(e._scroll(),e._raiseEvent("0",{value:e.value,oldValue:JSON.parse(i)}))},emptyArray:function(){var e=this;if("none"!==e.type){var t=e._cells,i=e.value;if(e.value=e._returnEmptyArray(),JSON.stringify(i)===JSON.stringify(e.value))return;for(var r=0;r<t.length;r++)for(var s=0;s<t[r].length;s++){var a=t[r][s].widget,n={x:s,y:r};a[0].classList.add("jqx-fill-state-disabled"),a[0].classList.add("jqx-array-element-empty"),e._areDifferent(e._getElementValue(a,n),e._getDefaultValue())&&(a.supressChange=!0,e._setElementValue(e._getDefaultValue(),a,n))}Array.prototype.fill?e._filledUpTo.fill(0):e._fillArray(e._filledUpTo,0),e.clearSelection(),e._raiseEvent("0",{value:e.value,oldValue:i})}},reset:function(t){var i=this;if("none"!==i.type||t===!0){i.type="none";var r=i.rows;i.rows=1,i._changeRowsColumns("rows",r,1,!0),r=i.columns,i.columns=1,i._changeRowsColumns("columns",r,1);var s=i._cells[0][0];i._widget&&s.widget[i._widget]("destroy"),e(s.td).empty(),i._table.style.display="none",i._widget=void 0,i._defaultValue=void 0;var a=i.value;i.value=null,i._raiseEvent("0",{value:i.value,oldValue:a}),i._hScrollBarInitialized&&i._horizontalScrollBar.jqxScrollBar({max:0,value:0}),i._vScrollBarInitialized&&i._verticalScrollBar.jqxScrollBar({max:0,value:0})}},hitTest:function(t,i){var r=this,s=r.element.id,a=e(document.elementFromPoint(t,i)),n=a.closest(".jqx-array-element-"+s),o=a.closest(".jqx-array-indexer"),l=a.closest("#"+s);if(n.length>0)return{type:"element",htmlElement:n[0],row:n.data("row"),column:n.data("col")};if(o.length>0){var h=o.data("dimension");return"LabVIEW"===r.arrayIndexingMode&&(h=r.dimensions-h-1),{type:"indexer",htmlElement:o[0],dimension:h}}return l.length>0?{type:"array",htmlElement:l[0]}:void 0},getElement:function(e,t){var i=this._cells;if(void 0!==i[e]&&void 0!==i[e][t])return i[e][t].widget[0]},getElementSize:function(){var e=this;return{width:e.elementWidth,height:e.elementHeight}},setColumnWidth:function(t,i){var r=this;if(t=parseInt(t,10),t!==r.elementWidth||i===!0){var s=e(".jqx-array-element-"+r.element.id);if(r.elementWidth=t,"none"!==r.type){if(r._updateWidgetWidth(),"custom"!==r.type)s[r._widget]({width:t});else if(r.changeProperty)r.changeProperty("width",t,s);else try{console.warn('jqxArray: When "type" is \'custom\' and the column width is changed, the "changeProperty" callback function should be implemented.')}catch(a){}r._raiseEvent("2",{width:t,height:r.elementHeight})}}},setRowHeight:function(t,i){var r=this;if(t=parseInt(t,10),t!==r.elementHeight||i===!0){var s=e(".jqx-array-element-"+r.element.id);if(r.elementHeight=t,"none"!==r.type){if(r._updateWidgetHeight(),"custom"!==r.type)s[r._widget]({height:t});else if(r.changeProperty)r.changeProperty("height",t,s);else try{console.warn('jqxArray: When "type" is \'custom\' and the row height is changed, the "changeProperty" callback function should be implemented.')}catch(a){}r._raiseEvent("2",{width:r.elementWidth,height:t})}}},resizeElement:function(t,i){var r=this;if(t=parseInt(t,10),i=parseInt(i,10),t!==r.elementWidth||i!==r.elementHeight){if(t===r.elementWidth)return void r.setRowHeight(i);if(i===r.elementHeight)return void r.setColumnWidth(t);var s=e(".jqx-array-element-"+r.element.id);if(r.elementWidth=t,r.elementHeight=i,"none"!==r.type){if(r._updateWidgetWidth(),r._updateWidgetHeight(),"custom"!==r.type)s[r._widget]({width:t,height:i});else if(r.changeProperty)r.changeProperty("width",t,s),r.changeProperty("height",i,s);else try{console.warn('jqxArray: When "type" is \'custom\' and the column width and row height are changed, the "changeProperty" callback function should be implemented.')}catch(a){}r._raiseEvent("2",{width:t,height:i})}}},setDefaultValue:function(e){var t=this;t._areDifferent(e,t._defaultValue)&&(t._defaultValue=e,t._scroll())},toggleElementGap:function(){var e=this,t=e.host.find(".jqx-array-table-data");void 0===e._elementGap&&(e._elementGap=!1),e._elementGap?(e._tdBorder-=6,t.removeClass("jqx-array-table-data-gap"),e._elementGap=!1):(e._tdBorder+=6,t.addClass("jqx-array-table-data-gap"),e._elementGap=!0),e._updateWidgetWidth(),e._updateWidgetHeight()},transposeArray:function(){var e=this;if(2===e.dimensions){var t=e.value[0].map(function(t,i){return e.value.map(function(e){return e[i]})}),i=JSON.stringify(e.value);e.value=t,e._scroll(),e._raiseEvent("0",{value:t,oldValue:JSON.parse(i)}),e._filledUpTo.reverse()}},copyElementValueToClipboard:function(t,i){var r=this,s=r._getValueInCell(t,i);if(void 0!==s)try{var a=e('<input type="text" style="position: absolute;" value="'+s+'" />');a.appendTo(r.host),a.select(),document.execCommand("copy"),a.remove()}catch(n){}},propertiesChangedHandler:function(e,t,i){if(i.type&&"none"!==i.type&&i.elementTemplate)e._fullRefresh(t,i);else if(i.rows&&i.columns){if(i.rows===t.rows)return i.columns===t.columns?void 0:void e._changeRowsColumns("columns",t.columns,i.columns);if(i.columns===t.columns)return void e._changeRowsColumns("rows",t.rows,i.rows);if(1===e.dimensions&&1===i.columns&&i.rows>1)return e._changeRowsColumns("columns",t.columns,i.columns),void e._changeRowsColumns("rows",t.rows,i.rows);e.columns=t.columns,e._changeRowsColumns("rows",t.rows,i.rows),e.columns=i.columns,e._changeRowsColumns("columns",t.columns,i.columns)}},propertyChangedHandler:function(t,i,r,s){if(t.batchUpdate){if(t.batchUpdate.type&&"none"!==t.batchUpdate.type&&t.batchUpdate.elementTemplate)return;if(t.batchUpdate.rows&&t.batchUpdate.columns&&("rows"===i||"columns"===i))return}if(s!==r){var a;switch(i){case"width":if(s=t._validateSizeProperty("width"),"none"!==t.type){var n=s-r,o=t.elementWidth+t._tdBorder;if(Math.abs(n)<o)return void(t.width=r);var l=Math.floor(n/o),h=t.columns,d=h+l;t.columns=d,t._changeRowsColumns("columns",h,d)}else t._updateWidgetWidth();break;case"height":"none"===t.type?(t._validateSizeProperty("height"),t._updateWidgetHeight()):t.height=r;break;case"type":t._getDefaultCellValue(),"none"!==r&&"none"!==s?(t._initializeElements(!0),t._updateWidgetWidth(),t._updateWidgetHeight()):"none"===r?(t.value=t._returnEmptyArray(),t._structureAdded===!0?(t._initializeElements(!1),t._table.style.display="table"):(t._addElementStructure(),t._structureAdded=!0,t._initializeElements(!1)),t._updateWidgetWidth(),t._updateWidgetHeight(),t._getInitialFill()):"none"===s&&t.reset(!0);break;case"value":JSON.stringify(r)!==JSON.stringify(s)&&(t._validateValue(),JSON.stringify(r)!==JSON.stringify(t.value)&&(t._scroll(),t._getInitialFill(),t._raiseEvent("0",{value:t.value,oldValue:r})));break;case"dimensions":t._addRemoveMultipleDimensions(r,s);break;case"rows":case"columns":t._changeRowsColumns(i,r,s);break;case"elementWidth":s=t._validateSizeProperty("elementWidth"),t.setColumnWidth(s,!0);break;case"elementHeight":s=t._validateSizeProperty("elementHeight"),t.setRowHeight(s,!0);break;case"showIndexDisplay":t._indexerContainer[0].style.display=s?"block":"none",t._updateWidgetWidth(),t._updateWidgetHeight("showIndexDisplay");break;case"indexerWidth":s=t._validateSizeProperty("indexerWidth"),t._indexerContainer[0].style.width=s+"px";for(var c=0;c<t._indexers.length;c++)t._indexers[c].jqxNumberInput({width:s-2});t._updateWidgetWidth();break;case"indexerHeight":s=t._validateSizeProperty("indexerHeight");for(var u=0;u<t._indexers.length;u++)t._indexers[u].jqxNumberInput({height:s});t._updateWidgetHeight();break;case"showVerticalScrollbar":if(1===t.dimensions&&t._oneDimensionSpecialCase===!1)return void(t.showVerticalScrollbar=!1);if(t._vScrollBarInitialized!==!0)if(t._updateWidgetWidth(!0),t._initializeVScrollBar(),t.dimensions>1){var p="LabVIEW"===t.arrayIndexingMode?t.dimensions-2:1;t._syncScrollbar(1,t._coordinates[p])}else t._syncScrollbar(1,t._coordinates[0]);else t._showVerticalScrollbar(s);break;case"showHorizontalScrollbar":if(t._oneDimensionSpecialCase===!0)return void(t.showHorizontalScrollbar=!1);if(t._hScrollBarInitialized!==!0){t._updateWidgetHeight("showHorizontalScrollbar"),t._initializeHScrollBar();var f;f="LabVIEW"===t.arrayIndexingMode?t.dimensions-1:0,t._syncScrollbar(0,t._coordinates[f])}else t._showHorizontalScrollbar(s);break;case"showSelection":s?t._refreshSelection():t._clearSelection();break;case"disabled":s?t.element.classList.add("jqx-fill-state-disabled"):t.host.removeClass("jqx-fill-state-disabled");for(var m=0;m<t._indexers.length;m++)t._indexers[m].jqxNumberInput({disabled:s});if("none"!==t.type){if(a=e(".jqx-array-element-"+t.element.id),"custom"!==t.type)a[t._widget]({disabled:s});else if(t.changeProperty)t.changeProperty("disabled",s,a);else try{console.warn('jqxArray: When "type" is \'custom\' and the "disabled" property is changed, the "changeProperty" callback function should be implemented.')}catch(g){}t._scroll()}break;case"customWidgetDefaultValue":"custom"===t.type&&(t._defaultValue=s,t._scroll());break;case"elementTemplate":if("none"!==t.type){a=e(".jqx-array-element-"+t.element.id);for(var v=0;v<a.length;v++){var x=e(a[v]);t.elementTemplate(x,{x:x.data("col"),y:x.data("row")})}}break;case"theme":for(var b=0;b<t._indexers.length;b++)t._indexers[b].jqxNumberInput({theme:s});e(t._bigContainer).removeClass("jqx-fill-state-pressed-"+r),t._bigContainer.classList.add("jqx-fill-state-pressed-"+s);for(var w=0;w<t.rows;w++)for(var y=0;y<t.columns;y++){var _=e(t._cells[w][y].td);_.removeClass("jqx-fill-state-pressed-"+r),_[0].classList.add("jqx-fill-state-pressed-"+s)}"none"!==t.type&&(a=e(".jqx-array-element-"+t.element.id),"custom"!==t.type?a[t._widget]({theme:s}):t.changeProperty&&t.changeProperty("theme",s,a)),t._hScrollBarInitialized&&t._horizontalScrollBar.jqxScrollBar({theme:s}),t._vScrollBarInitialized&&t._verticalScrollBar.jqxScrollBar({theme:s}),t._scroll();break;case"arrayIndexingMode":t.arrayIndexingMode=r}}},_raiseEvent:function(t,i){void 0===i&&(i={owner:null});var r=this.events[t];i.owner=this;var s=new e.Event(r);s.owner=this,s.args=i,s.preventDefault&&s.preventDefault();var a=this.host.trigger(s);return a},_fullRefresh:function(e,t){var i=this;if(t.indexerWidth){var r=parseInt(t.indexerWidth,10);i._indexerContainer[0].style.width=r+"px";for(var s=0;s<i._indexers.length;s++)i._indexers[s].jqxNumberInput({width:r-2})}i._getDefaultCellValue();var a=i.showVerticalScrollbar,n=i.showHorizontalScrollbar;i._validateProperties(),i._showVerticalScrollbar(a),i._showHorizontalScrollbar(n);var o=!1;t.value||(o=!0),t.dimensions&&t.dimensions!==e.dimensions&&i._addRemoveMultipleDimensions(e.dimensions,t.dimensions,o),i._structureAdded===!0?(i._initializeElements(!1),i._table.style.display="table"):(i._addElementStructure(),i._structureAdded=!0,i._initializeElements(!1)),i._getInitialFill(),i._updateWidgetWidth(),i._updateWidgetHeight(),i._scroll()},_validateProperties:function(){var e=this;e._validateSizeProperty("width"),e._validateSizeProperty("height"),e._validateSizeProperty("elementWidth"),e._validateSizeProperty("elementHeight"),e._validateSizeProperty("indexerWidth"),e._validateSizeProperty("indexerHeight"),e._oneDimensionSpecialCase=!1,"none"===e.type?(e.rows=1,e.columns=1):(e.rows<1&&(e.rows=1),e.columns<1&&(e.columns=1)),(e.dimensions<1||e.dimensions>32)&&(e.dimensions=1),1===e.dimensions&&(e.columns>1?(e.rows=1,e.showVerticalScrollbar===!0&&(e.showVerticalScrollbar=!1)):1!==e.rows?(e._oneDimensionSpecialCase=!0,e.showHorizontalScrollbar===!0&&(e.showHorizontalScrollbar=!1)):1===e.columns&&1===e.rows&&e.showVerticalScrollbar===!0&&(e.showVerticalScrollbar=!1)),"none"===e.type&&(null===e.width&&(e.width=e.indexerWidth+80+(e.showVerticalScrollbar?20:0)),
null===e.height&&(e.height=80+(e.showHorizontalScrollbar?20:0))),e._validateValue()},_validateSizeProperty:function(e){var t=this;if("string"==typeof t[e]){var i=parseInt(t[e],10);return t[e]=i,i}return t[e]},_validateValue:function(){var e=this;null===e.value||void 0===e.value?e.value=e._returnEmptyArray():e._validateValueArrayDimensions()},_validateValueArrayDimensions:function(){var e=this,t=0,i=e.value,r=!1;if(i.constructor!==Array)e.value=[i],i=e.value,t=1;else for(;i.constructor===Array;)if(t++,i=i[0],void 0===i){r=!0;break}if(e.dimensions>t){if(r)return void(e.value=e._returnEmptyArray());for(;e.dimensions>t;)e._addDimensionToJSArray(t),t++}},_addInnerElements:function(){var t=this,i=t.element.id,r=t.showIndexDisplay?"block":"none",s='<div id="'+i+'IndexerContainer" class="jqx-array-indexer-container" style="width: '+t.indexerWidth+"px; display: "+r+';"></div><div id="'+i+'BigContainer" class="jqx-array-big-container jqx-array-background '+t.toThemeProperty("jqx-fill-state-pressed")+'"><div id="'+i+'CentralContainer" class="jqx-array-central-container"><div id="'+i+'MainContainer"></div><div id="'+i+'HorizontalScrollbarContainer" class="jqx-array-scrollbar-container-horizontal" style="display: none;"><div id="'+i+'HorizontalScrollbar" class="jqx-array-scrollbar-horizontal"></div></div></div><div id="'+i+'VerticalScrollbarContainer" class="jqx-array-scrollbar-container-vertical" style="display: none;"><div id="'+i+'VerticalScrollbar" class="jqx-array-scrollbar-vertical"></div></div></div><div style="clear: both;"></div>';t.element.innerHTML=s,t._indexerContainer=e("#"+i+"IndexerContainer"),t._bigContainer=document.getElementById(i+"BigContainer"),t._mainContainer=document.getElementById(i+"MainContainer"),t._horizontalScrollBarContainer=document.getElementById(i+"HorizontalScrollbarContainer"),t._horizontalScrollBar=e("#"+i+"HorizontalScrollbar"),t._verticalScrollBarContainer=document.getElementById(i+"VerticalScrollbarContainer"),t._verticalScrollBar=e("#"+i+"VerticalScrollbar"),t._tableBorder=2,t.showVerticalScrollbar&&t._initializeVScrollBar(),t.showHorizontalScrollbar&&t._initializeHScrollBar()},_addClasses:function(){var e=this;e.element.className="jqx-array jqx-widget",e.disabled&&e.element.classList.add("jqx-fill-state-disabled")},_addInitialDimensions:function(){var e=this,t=e.dimensions;e._dimensions=[],e._indexers=[],e._suppressDimensionChange=!0,e._initialDimensions=!0;for(var i=0;t>i;i++)e.addDimension();e._suppressDimensionChange=!1,e._initialDimensions=!1},_addRemoveMultipleDimensions:function(e,t,i){var r=this;if(!(1>t||t>32)||(r.dimensions=1,r.dimensions!==e)){var s=r.dimensions-e;if(r._suppressDimensionChange=!0,s>0){do r.addDimension(i),s-=1;while(s>0);r._raiseEvent("3",{type:"add"})}else if(0>s){if(1===t){var a=r.rows;r.rows=1,r.dimensions=e,r._changeRowsColumns("rows",a,1,void 0,!0),r.dimensions=t}do r.removeDimension(!0,i),s+=1;while(0>s);r._raiseEvent("3",{type:"remove"}),1===t&&r.showVerticalScrollbar&&r._showVerticalScrollbar(!1)}if(r._suppressDimensionChange=!1,r.showIndexDisplay===!0){if(1!==t){if(t-e>0&&t*(r.indexerHeight+4)-2<r.height)return;if(0>t-e&&e*(r.indexerHeight+4)-2<r.height)return}r._updateWidgetHeight("dimensions")}}},_addElementStructure:function(){var t=this;t._cells=[],t._table=document.createElement("table"),t._table.className="jqx-array-element-gap";var i=document.createElement("tbody");t._table.appendChild(i),t._tableBody=e(i);for(var r=document.createDocumentFragment(),s=0;s<t.rows;s++){var a=document.createElement("tr"),n=document.createDocumentFragment();a.classList.add("jqx-array-table-row"),t._cells.push([]);for(var o=0;o<t.columns;o++){var l=document.createElement("td");l.classList.add("jqx-fill-state-pressed"),l.classList.add("jqx-array-table-data"),""!==t.theme&&l.classList.add("jqx-fill-state-pressed-"+t.theme),t._elementGap&&l.classList.add("jqx-array-table-data-gap"),t._cells[s].push({td:l}),n.appendChild(l)}a.appendChild(n),r.appendChild(a)}i.appendChild(r),t._mainContainer.appendChild(t._table)},_initializeElements:function(t){function i(e){r.elementTemplate&&r.elementTemplate(e,{x:n,y:a})}var r=this,s=r._cells;if(r._initializeElement=function(){},"custom"!==r.type)switch(r.type){case"numeric":r._initializeElement=function(e,t){e.jqxNumberInput({theme:r.theme,width:r.elementWidth,height:r.elementHeight,inputMode:"simple",spinButtons:!0,decimal:t,disabled:r.disabled}),i(e)};break;case"boolean":r._initializeElement=function(e,t){e.jqxSwitchButton({theme:r.theme,width:r.elementWidth,height:r.elementHeight,checked:t,disabled:r.disabled}),i(e)};break;case"string":r._initializeElement=function(e,t){e.jqxInput({theme:r.theme,width:r.elementWidth,height:r.elementHeight,value:t,disabled:r.disabled}),i(e)};break;case"path":r._initializeElement=function(e,t){e.jqxPathControl({theme:r.theme,width:r.elementWidth,height:r.elementHeight,path:t.toString(),disabled:r.disabled}),i(e)}}else r._initializeElement=function(e,t){if(!r.elementTemplate)throw new Error('jqxArray: When "type" is \'custom\', the "elementTemplate" callback function has to be implemented.');var i={x:n,y:a};r.elementTemplate(e,i),void 0!==t&&r._setElementValue(t,e,i)};for(var a=0;a<s.length;a++)for(var n=0;n<s[a].length;n++)t===!0&&(r._widget&&s[a][n].widget[r._widget]("destroy"),e(s[a][n].td).empty()),r._initializeWidget(a,n);var o=s[0][0].widget;r._tdBorder=parseInt(o.css("border-left-width"),10)+parseInt(o.css("border-right-width"),10),r._paddingH=0,r._paddingV=0,"content-box"===o.css("box-sizing")&&(r._tdBorder+=2,r._paddingH=parseInt(o.css("padding-left"),10)+parseInt(o.css("padding-right"),10),r._paddingV=parseInt(o.css("padding-top"),10)+parseInt(o.css("padding-bottom"),10)),r._elementGap&&(r._tdBorder+=6)},_addElementHandlers:function(e){var t=this,i=t.element.id;t.addHandler(e,"change.jqxArray"+i,function(i){if(e.supressChange!==!0||"jqxNumberInput"===t._widget){e.removeClass("jqx-fill-state-disabled jqx-array-element-empty");var r=e.data("col"),s=e.data("row");t._updateValue(s,r,t._getElementValue(e,{x:r,y:s},!0))}else e.supressChange=!1;i.stopPropagation()}),t.addHandler(e,"click.jqxArray"+i,function(){t._raiseEvent("1",{element:e[0]})})},_getDefaultCellValue:function(){var e=this;switch(e.type){case"custom":e._widget=void 0,e._defaultValue=null!==e.customWidgetDefaultValue?e.customWidgetDefaultValue:void 0;break;case"numeric":if(!e.host.jqxNumberInput)throw new Error("jqxArray: Missing reference to jqxnumberinput.js.");e._widget="jqxNumberInput",e._defaultValue=0;break;case"boolean":if(!e.host.jqxSwitchButton)throw new Error("jqxArray: Missing reference to jqxswitchbutton.js.");e._widget="jqxSwitchButton",e._defaultValue=!1;break;case"string":if(!e.host.jqxInput)throw new Error("jqxArray: Missing reference to jqxinput.js.");e._widget="jqxInput",e._defaultValue="";break;case"path":if(!e.host.jqxPathControl)throw new Error("jqxArray: Missing reference to jqxpathcontrol.js.");e._widget="jqxPathControl",e._defaultValue=""}},_updateValue:function(e,t,i){var r=this,s=r._getValueInCell(e,t);if(r._areDifferent(i,s)){var a=r._coordinates,n=a.slice(0),o=[];"LabVIEW"===r.arrayIndexingMode?(n[n.length-1]+=t,n[n.length-2]+=e):(n[0]+=t,n[1]+=e);for(var l=0;l<r.dimensions;l++)0===l?r._oneDimensionSpecialCase===!1?o.push(n[0]):o.push(e+a[0]):1===l?o.push(n[1]):o.push(n[l]);for(var h=r.value,d=0;d<o.length;d++)void 0!==h[o[d]]&&h[o[d]]!==s||(d!==o.length-1?h[o[d]]=[]:h[o[d]]=i),h=h[o[d]];r._fillValueArray(o.slice(0)),r._raiseEvent("0",{value:i,oldValue:s,dimensionIndexes:o})}},_getValueInCell:function(e,t){var i,r=this,s=r.value,a=r._coordinates,n=a.length;if(1===n)i=r._oneDimensionSpecialCase===!1?s[t+a[0]]:s[e+a[0]];else{var o=a.slice(0);"LabVIEW"===r.arrayIndexingMode?(o[n-1]+=t,o[n-2]+=e):(o[0]+=t,o[1]+=e);var l=s[o[0]];if(void 0!==l){var h=l[o[1]];if(void 0!==h&&(i=h,n>2))for(var d=2;n>d&&void 0!==i;d++)i=i[o[d]]}}return i},_scroll:function(){var e=this,t=["jqx-fill-state-disabled","jqx-array-element-empty"];if("none"!==e.type)for(var i=0;i<e._cells.length;i++)for(var r=0;r<e._cells[i].length;r++){var s,a=e._getValueInCell(i,r),n=e._cells[i][r].widget,o={x:r,y:i},l=e._getElementValue(n,o);void 0!==a?(n[0].classList.remove(t[0]),n[0].classList.remove(t[1]),n.removeClass(t),e._areDifferent(l,a)?(n.supressChange=!0,e._setElementValue(a,n,o)):n.supressChange=!1,s=!1):(n[0].classList.add(t[0]),n[0].classList.add(t[1]),e._areDifferent(l,e._defaultValue)?(n.supressChange=!0,e._setElementValue(e._getDefaultValue(),n,o)):n.supressChange=!1,s=!0),e._addSelectionClass(r,i,e._cells[i][r].td,s)}},_areDifferent:function(e,t){if(e instanceof Date){if(t instanceof Date)return e.getTime()!==t.getTime();if("string"==typeof t)try{return e.getTime()!==new Date(t).getTime()}catch(i){}return!0}if(t instanceof Date){if(e instanceof Date)return t.getTime()!==e.getTime();if("string"==typeof e)try{return t.getTime()!==new Date(e).getTime()}catch(i){}return!0}return"object"!=typeof e||typeof e!=typeof t?e!==t:JSON.stringify(e)!==JSON.stringify(t)},_returnEmptyArray:function(){var e=this,t=[],i=t;if(e.dimensions>1)for(var r=1;r<e.dimensions;r++)i[0]=[],i=i[0];return t},_addDimensionToJSArray:function(e){var t=this;if("LabVIEW"===t.arrayIndexingMode)t.value=[t.value];else{void 0===e&&(e=t.dimensions-1);var i=function(t,r){for(var s=0;s<t.length;s++)r!==e?i(t[s],r+1):t[s]=[t[s]]};i(t.value,1)}},_removeDimensionFromJSArray:function(){var e=this;if("LabVIEW"===e.arrayIndexingMode)e.value=e.value[0];else{var t=e.dimensions+1,i=function(r,s,a,n){for(var o=0;o<r.length;o++)s!==t&&r[o].length>0?i(r[o],s+1,r,o):void 0!==a?a[n]=r[0]:e.value=e.value[0]};i(e.value,1)}},_initializeWidget:function(t,i){var r,s=this,a=s._cells[t][i],n=s._getValueInCell(t,i);r=e("string"!==s.type?"<div></div>":"<input />"),a.widget=r,a.td.appendChild(r[0]),s._initializeElement(r,void 0===n?s._getDefaultValue():n,a),r[0].classList.add("jqx-array-element"),r[0].classList.add("jqx-array-element-"+s.element.id),void 0===n&&(r[0].classList.add("jqx-fill-state-disabled"),r[0].classList.add("jqx-array-element-empty")),r.data({row:t,col:i}),s._addElementHandlers(r)},_addRemoveColumn:function(t){var i=this;if("add"===t){for(var r=i._tableBody.children(),s=0;s<i._cells.length;s++){var a=i._cells[s],n=document.createElement("td");n.classList.add("jqx-fill-state-pressed"),n.classList.add("jqx-array-table-data"),""!==i.theme&&n.classList.add("jqx-fill-state-pressed-"+i.theme),i._elementGap&&n.classList.add("jqx-array-table-data-gap"),a.push({td:n}),r[s].appendChild(n),i._initializeWidget(s,a.length-1)}i.columns++,i._suppressScroll!==!0&&i._scroll()}else if("remove"===t&&i.columns>1){for(var o=0;o<i._cells.length;o++){var l=i._cells[o],h=l[l.length-1];i._widget&&h.widget[i._widget]("destroy"),e(h.td).remove(),l.pop()}i.columns--}},_addRemoveRow:function(e){var t=this;if("add"===e&&(t.dimensions>1||1===t.dimensions&&1===t.columns)){t._cells.push([]);var i=document.createElement("tr"),r=document.createDocumentFragment(),s=t._cells.length-1,a=[];i.classList.add("jqx-array-table-row");for(var n=0;n<t.columns;n++){var o=document.createElement("td");o.classList.add("jqx-fill-state-pressed"),o.classList.add("jqx-array-table-data"),""!==t.theme&&o.classList.add("jqx-fill-state-pressed-"+t.theme),t._elementGap&&o.classList.add("jqx-array-table-data-gap"),t._cells[s].push({td:o}),a.push(o),r.appendChild(o)}i.appendChild(r),t._tableBody[0].appendChild(i);for(var l=0;l<a.length;l++)t._initializeWidget(s,l);t.rows++,t._suppressScroll!==!0&&t._scroll()}else if("remove"===e&&t.rows>1){var h=t._tableBody.children().last(),d=t._cells[t._cells.length-1];if(t._widget)for(var c=0;c<d.length;c++)d[c].widget[t._widget]("destroy");h.remove(),t._cells.pop(),t.rows--}},_getInitialFill:function(){var e=this;if(e._filledUpTo=[],"none"!==e.type){for(var t=e.value,i=0;i<e.dimensions;i++){var r=t.length-1;e._filledUpTo[i]=r,t=t[r]}e._setMaxValuesOfScrollBars()}},_fillValueArray:function(e,t){function i(t,a){for(var n=0;n<=e[a];n++)a!==s-1?(void 0===t[n]&&(t[n]=[]),i(t[n],a+1)):void 0===t[n]&&(t[n]=r._getDefaultValue())}var r=this,s=r.dimensions;if(void 0!==r._filledUpTo&&t!==!0){for(var a=!0,n=0;n<e.length;n++)a=a&&r._filledUpTo[n]>=e[n],e[n]=Math.max(e[n],r._filledUpTo[n]);if(a===!0)return void r._scroll()}r._filledUpTo=e.slice(0),i(r.value,0),r._scroll(),r._setMaxValuesOfScrollBars()},_changeRowsColumns:function(e,t,i,r,s){var a=this,n="_addRemove"+e.charAt(0).toUpperCase()+e.slice(1,e.length-1);if(!(1>i&&(a[e]=1,a[e]===t))){if(1===a.dimensions)if(a._oneDimensionSpecialCase===!0)"columns"===e&&a[e]>1&&(a._oneDimensionSpecialCase=!1,a.showVerticalScrollbar&&(a._showVerticalScrollbar(!1),a._showHorizontalScrollbar(!0)));else if("rows"===e){if(a.columns>1)return void(a.rows=1);a.rows>1&&(a._oneDimensionSpecialCase=!0,a.showHorizontalScrollbar===!0&&(a._showHorizontalScrollbar(!1),a._showVerticalScrollbar(!0)))}var o=a[e]-t;if(a[e]=t,o>0){a._suppressScroll=!0;do a[n]("add"),o-=1;while(o>0);a._suppressScroll=!1,a._scroll()}else if(0>o)do a[n]("remove"),o+=1;while(0>o);a._raiseEvent("4",{type:e,number:a[e],oldNumber:t}),"columns"===e?(a._updateWidgetWidth(),a._setMaxValuesOfScrollBars("horizontal")):"rows"===e&&s!==!0&&(a._updateWidgetHeight(r===!0?"dimensions":void 0),a._setMaxValuesOfScrollBars("vertical"))}},_updateWidgetWidth:function(e){var t=this;if(null!==t.element.parentNode){var i,r,s=t.showVerticalScrollbar?20:0,a=t.showIndexDisplay?t.indexerWidth:0,n=t._elementGap?-1*(2*t.columns-4):0;if("none"!==t.type)i=t.columns*(t.elementWidth+t._tdBorder+t._paddingH)+t._tableBorder+n,r=i+s,t.width=r+a;else{e===!0&&(t.showVerticalScrollbar===!0?t.width+=20:t.width-=20);var o=a+18+s;t.width<o&&(t.width=o),r=t.width-a,i=r-s}var l=document.getElementById(t.element.id+"CentralContainer");null!==l&&(l.style.width=i+"px",t._bigContainer.style.width=r+"px",t._horizontalScrollBarContainer.style.width=i-2+"px",t._horizontalScrollBar.trigger("resize"),t.element.style.width=t.width+"px")}},_updateWidgetHeight:function(e){var t,i=this,r=i.showHorizontalScrollbar?20:0,s=i.showIndexDisplay?i.dimensions*(i.indexerHeight+4)-2:0,a=i._elementGap?-1*(2*i.rows-4):0;if("none"!==i.type)t=i.rows*(i.elementHeight+i._tdBorder+i._paddingV)+i._tableBorder+r+a;else{if("showHorizontalScrollbar"===e){var n=parseInt(i._bigContainer.style.height,10);t=i.showHorizontalScrollbar===!0?n+20:n-20}else t="showIndexDisplay"===e&&i.showIndexDisplay===!1||"dimensions"===e?parseInt(i._bigContainer.style.height,10):i.height;var o=18+r;o>t&&(t=o)}i._mainContainer.style.height=t-r+"px",i.height=Math.max(s,t),i._verticalScrollBarContainer.style.height=t-r-i._tableBorder+"px",i._verticalScrollBar.trigger("resize"),i._bigContainer.style.height=t+"px",i.element.style.height=i.height+"px"},_inSelection:function(e,t){var i,r,s,a,n=this,o=n._coordinates,l=!0;if("LabVIEW"===n.arrayIndexingMode?(i=n.dimensions-1,r=n.dimensions-2):(i=0,r=1),s=e+o[i],a=t+o[r],1===n.dimensions)return s>=n._absoluteSelectionStart[i]&&s<=n._absoluteSelectionEnd[i];if(l=s>=n._absoluteSelectionStart[i]&&s<=n._absoluteSelectionEnd[i]&&a>=n._absoluteSelectionStart[r]&&a<=n._absoluteSelectionEnd[r],"LabVIEW"===n.arrayIndexingMode)for(var h=0;r>h;h++)l=l&&o[h]>=n._absoluteSelectionStart[h]&&o[h]<=n._absoluteSelectionEnd[h];else for(var d=2;d<n.dimensions;d++)l=l&&o[d]>=n._absoluteSelectionStart[d]&&o[d]<=n._absoluteSelectionEnd[d];return l},_refreshSelection:function(){var e=this;if(e.showSelection)for(var t=0;t<e.rows;t++)for(var i=0;i<e.columns;i++){var r=e._getValueInCell(t,i),s=void 0===r;e._addSelectionClass(i,t,e._cells[t][i].td,s)}},_addSelectionClass:function(t,i,r,s){var a=this;a.showSelection&&void 0!==a._absoluteSelectionStart&&void 0!==a._absoluteSelectionEnd&&(s===!1&&a._inSelection(t,i)?r.classList.add("jqx-array-element-selected"):e(r).removeClass("jqx-array-element-selected"))},_clearSelection:function(){for(var t=this,i=0;i<t.rows;i++)for(var r=0;r<t.columns;r++){var s=t._cells[i][r].td;e(s).removeClass("jqx-array-element-selected")}},_initializeVScrollBar:function(){var e=this;if(!e.host.jqxScrollBar)throw new Error("jqxArray: Missing reference to jqxscrollbar.js.");e._verticalScrollBarContainer.style.display="block",e._verticalScrollBar.jqxScrollBar({theme:e.theme,height:"100%",width:16,min:0,max:0,value:0,vertical:!0}),e._addVScrollBarHandlers(),e._vScrollBarInitialized=!0},_addVScrollBarHandlers:function(){var t=this,i=t.element.id,r=t._verticalScrollBar,s=r[0].id,a=e("#jqxScrollBtnUp"+s),n=e("#jqxScrollBtnDown"+s);t.addHandler(r.add(a).add(n),"mousedown.jqxArray"+i,function(){t.host.find(":focus").blur()}),t.addHandler(r,"valueChanged.jqxArray"+i,function(e){if("none"!==t.type)if(t._suppressScrollbarEvent!==!0){var i=t._oneDimensionSpecialCase?0:1;t._moveScrollbar(r,"vertical",i,Math.round(e.currentValue))}else t._suppressScrollbarEvent=!1}),t.addHandler(a,"mousedown.jqxArray"+i,function(){var e=r.jqxScrollBar("min"),t=r.jqxScrollBar("value");t-1>=e&&r.jqxScrollBar("setPosition",t-1)}),t.addHandler(n,"mousedown.jqxArray"+i,function(){"none"!==t.type&&t._pressScrollbarDownButton(r)})},_initializeHScrollBar:function(){var e=this;if(!e.host.jqxScrollBar)throw new Error("jqxArray: Missing reference to jqxscrollbar.js.");e._horizontalScrollBarContainer.style.display="block",e._horizontalScrollBar.jqxScrollBar({theme:e.theme,width:"100%",height:16,min:0,max:0,value:0}),e._addHScrollBarHandlers(),e._hScrollBarInitialized=!0},_addHScrollBarHandlers:function(){var t=this,i=t.element.id,r=t._horizontalScrollBar,s=r[0].id,a=e("#jqxScrollBtnUp"+s),n=e("#jqxScrollBtnDown"+s);t.addHandler(r.add(a).add(n),"mousedown.jqxArray"+i,function(){t.host.find(":focus").blur()}),t.addHandler(r,"valueChanged.jqxArray"+i,function(e){"none"!==t.type&&(t._suppressScrollbarEvent!==!0?t._moveScrollbar(r,"horizontal",0,Math.round(e.currentValue)):t._suppressScrollbarEvent=!1)}),t.addHandler(a,"mousedown.jqxArray"+i,function(){var e=r.jqxScrollBar("min"),t=r.jqxScrollBar("value");t-1>=e&&r.jqxScrollBar("setPosition",t-1)}),t.addHandler(n,"mousedown.jqxArray"+i,function(){"none"!==t.type&&t._pressScrollbarDownButton(r)})},_moveScrollbar:function(e,t,i,r){if(!isNaN(r)){var s,a=this,n=a._getMaxValuesOfScrollBars(t),o=e.jqxScrollBar("max");s="LabVIEW"===a.arrayIndexingMode?a.dimensions-i-1:i,a._indexers[s].val(r),a._coordinates[s]=r,n>=r?e.jqxScrollBar({max:n}):o>=r&&e.jqxScrollBar({max:r}),a._scroll(),a._raiseEvent("5",{direction:t})}},_pressScrollbarDownButton:function(e){var t=e.jqxScrollBar("max"),i=e.val();isNaN(i)===!0&&(i=0),t===i&&e.jqxScrollBar({max:t+1,value:t+1})},_getMaxValuesOfScrollBars:function(e){var t,i,r,s=this,a=0,n=s._filledUpTo.length;return"horizontal"===e?(r=s._horizontalScrollBar.val(),t="LabVIEW"===s.arrayIndexingMode?s._filledUpTo[n-1]:s._filledUpTo[0],i=s.columns):(r=s._verticalScrollBar.val(),t=s._oneDimensionSpecialCase?"LabVIEW"===s.arrayIndexingMode?s._filledUpTo[n-1]:s._filledUpTo[0]:"LabVIEW"===s.arrayIndexingMode?s._filledUpTo[n-2]:s._filledUpTo[1],i=s.rows),void 0===t?0:(t+1===i?a=1:t===i?a=2:t>i&&(a=t-i+2),Math.max(a,r))},_setMaxValuesOfScrollBars:function(e){var t=this;!t.showHorizontalScrollbar||void 0!==e&&"horizontal"!==e||t._horizontalScrollBar.jqxScrollBar({max:t._getMaxValuesOfScrollBars("horizontal")}),!t.showVerticalScrollbar||void 0!==e&&"vertical"!==e||t._verticalScrollBar.jqxScrollBar({max:t._getMaxValuesOfScrollBars("vertical")})},_syncScrollbar:function(e,t){var i,r,s=this;if(0===e&&s._oneDimensionSpecialCase===!1){if(!s.showHorizontalScrollbar)return;i=s._getMaxValuesOfScrollBars("horizontal"),r=s._horizontalScrollBar}else{if(!s.showVerticalScrollbar)return;i=s._getMaxValuesOfScrollBars("vertical"),r=s._verticalScrollBar}t>i&&(i=t);var a=r.jqxScrollBar("max");a!==i&&(a>i&&(s._suppressScrollbarEvent=!0),r.jqxScrollBar({max:i})),r.val()!==t&&(s._suppressScrollbarEvent=!0,r.val(t))},_showVerticalScrollbar:function(e){var t=this;if(t.showVerticalScrollbar=e,t._updateWidgetWidth(!0),e===!0){if(t._verticalScrollBarContainer.style.display="block",t._vScrollBarInitialized!==!0&&t._initializeVScrollBar(),"none"!==t.type){var i;i=t._oneDimensionSpecialCase?0:"LabVIEW"===t.arrayIndexingMode?t.dimensions-2:1,t._syncScrollbar(1,t._coordinates[i])}}else t._verticalScrollBarContainer.style.display="none"},_getDefaultValue:function(){var e=this;return e._cloneValue(e._defaultValue)},_cloneValue:function(t){return"object"!=typeof t?t:t instanceof Array?e.extend(!0,[],t):t instanceof Date?new Date(t.getTime()):t instanceof Object?e.extend(!0,{},t):void 0},_showHorizontalScrollbar:function(e){var t=this;if(t.showHorizontalScrollbar=e,t._updateWidgetHeight("showHorizontalScrollbar"),e===!0){if(t._horizontalScrollBarContainer.style.display="block",t._hScrollBarInitialized!==!0&&t._initializeHScrollBar(),"none"!==t.type){var i;i="LabVIEW"===t.arrayIndexingMode?t.dimensions-1:0,t._syncScrollbar(0,t._coordinates[i])}}else t._horizontalScrollBarContainer.style.display="none"},_fillArray:function(e,t){for(var i=e.length>>>0,r=arguments[1],s=r>>0,a=0>s?Math.max(i+s,0):Math.min(s,i),n=arguments[2],o=void 0===n?i:n>>0,l=0>o?Math.max(i+o,0):Math.min(o,i);l>a;)e[a]=t,a++;return e},_getElementValue:function(e,t,i){var r,s=this;return s.getElementValue?(r=s.getElementValue(e,t),i!==!0?r:s._cloneValue(r)):(r=e.val(),i!==!0?r:s._cloneValue(r))},_setElementValue:function(e,t,i){var r=this;e=r._cloneValue(e),r.setElementValue?(r.setElementValue(e,t,i),t.supressChange===!0&&(t.supressChange=!1)):t.val(e)}})}(jqxBaseFramework),function(e){function t(t,i){return this.owner=t,this.datafield=null,this.displayfield=null,this.text="",this.createfilterpanel=null,this.sortable=!0,this.hideable=!0,this.editable=!0,this.hidden=!1,this.groupable=!0,this.renderer=null,this.cellsrenderer=null,this.checkchange=null,this.threestatecheckbox=!1,this.buttonclick=null,this.columntype=null,this.cellsformat="",this.align="left",this.cellsalign="left",this.width="auto",this.minwidth=25,this.maxwidth="auto",this.pinned=!1,this.visibleindex=-1,this.filterable=!0,this.filter=null,this.filteritems=[],this.resizable=!0,this.initeditor=null,this.createeditor=null,this.createwidget=null,this.initwidget=null,this.destroywidget=null,this.destroyeditor=null,this.geteditorvalue=null,this.validation=null,this.classname="",this.cellclassname="",this.cellendedit=null,this.cellbeginedit=null,this.cellvaluechanging=null,this.aggregates=null,this.aggregatesrenderer=null,this.menu=!0,this.createfilterwidget=null,this.filtertype="default",this.filtercondition=null,this.rendered=null,this.exportable=!0,this.exporting=!1,this.draggable=!0,this.nullable=!0,this.clipboard=!0,this.enabletooltips=!0,this.columngroup=null,this.filterdelay=800,this.reseteverpresentrowwidgetvalue=null,this.geteverpresentrowwidgetvalue=null,this.createeverpresentrowwidget=null,this.initeverpresentrowwidget=null,this.validateeverpresentrowwidgetvalue=null,this.destroyeverpresentrowwidget=null,this.getcolumnproperties=function(){return{nullable:this.nullable,sortable:this.sortable,hideable:this.hideable,hidden:this.hidden,groupable:this.groupable,width:this.width,align:this.align,editable:this.editable,minwidth:this.minwidth,maxwidth:this.maxwidth,resizable:this.resizable,datafield:this.datafield,text:this.text,exportable:this.exportable,cellsalign:this.cellsalign,pinned:this.pinned,cellsformat:this.cellsformat,columntype:this.columntype,classname:this.classname,cellclassname:this.cellclassname,menu:this.menu}},this.setproperty=function(e,t){if(this[e]){var i=this[e];this[e]=t,this.owner._columnPropertyChanged(this,e,t,i)}else if(this[e.toLowerCase()]){var i=this[e.toLowerCase()];this[e.toLowerCase()]=t,this.owner._columnPropertyChanged(this,e.toLowerCase(),t,i)}},this._initfields=function(i){if(null!=i){var r=this.that;if(e.jqx.hasProperty(i,"dataField")&&(this.datafield=e.jqx.get(i,"dataField")),e.jqx.hasProperty(i,"displayField")?this.displayfield=e.jqx.get(i,"displayField"):this.displayfield=this.datafield,e.jqx.hasProperty(i,"enableTooltips")&&(this.enabletooltips=e.jqx.get(i,"enableTooltips")),e.jqx.hasProperty(i,"text")?this.text=e.jqx.get(i,"text"):this.text=this.displayfield,e.jqx.hasProperty(i,"createfilterpanel")&&(this.createfilterpanel=e.jqx.get(i,"createfilterpanel")),e.jqx.hasProperty(i,"sortable")&&(this.sortable=e.jqx.get(i,"sortable")),e.jqx.hasProperty(i,"hideable")&&(this.hideable=e.jqx.get(i,"hideable")),e.jqx.hasProperty(i,"hidden")&&(this.hidden=e.jqx.get(i,"hidden")),e.jqx.hasProperty(i,"groupable")&&(this.groupable=e.jqx.get(i,"groupable")),e.jqx.hasProperty(i,"renderer")&&(this.renderer=e.jqx.get(i,"renderer")),e.jqx.hasProperty(i,"align")&&(this.align=e.jqx.get(i,"align")),e.jqx.hasProperty(i,"cellsAlign")&&(this.cellsalign=e.jqx.get(i,"cellsAlign")),e.jqx.hasProperty(i,"clipboard")&&(this.clipboard=e.jqx.get(i,"clipboard")),e.jqx.hasProperty(i,"cellsFormat")&&(this.cellsformat=e.jqx.get(i,"cellsFormat")),e.jqx.hasProperty(i,"width")&&(this.width=e.jqx.get(i,"width")),e.jqx.hasProperty(i,"minWidth")&&(this.minwidth=parseInt(e.jqx.get(i,"minWidth")),isNaN(this.minwidth)&&(this.minwidth=25)),e.jqx.hasProperty(i,"maxWidth")&&(this.maxwidth=parseInt(e.jqx.get(i,"maxWidth")),isNaN(this.maxwidth)&&(this.maxwidth="auto")),e.jqx.hasProperty(i,"cellsRenderer")?this.cellsrenderer=e.jqx.get(i,"cellsRenderer"):i.cellsRenderer&&(this.cellsrenderer=i.cellsRenderer),e.jqx.hasProperty(i,"columnType")&&(this.columntype=e.jqx.get(i,"columnType")),e.jqx.hasProperty(i,"checkChange")&&(this.checkchange=e.jqx.get(i,"checkChange")),e.jqx.hasProperty(i,"buttonClick")?this.buttonclick=e.jqx.get(i,"buttonClick"):i.buttonClick&&(this.buttonclick=i.buttonClick),e.jqx.hasProperty(i,"pinned")&&(this.pinned=e.jqx.get(i,"pinned")),e.jqx.hasProperty(i,"visibleIndex")&&(this.visibleindex=e.jqx.get(i,"visibleIndex")),e.jqx.hasProperty(i,"filterable")&&(this.filterable=e.jqx.get(i,"filterable")),e.jqx.hasProperty(i,"filter")&&(this.filter=e.jqx.get(i,"filter")),e.jqx.hasProperty(i,"resizable")&&(this.resizable=e.jqx.get(i,"resizable")),e.jqx.hasProperty(i,"editable")&&(this.editable=e.jqx.get(i,"editable")),e.jqx.hasProperty(i,"initEditor")?this.initeditor=e.jqx.get(i,"initEditor"):i.initEditor&&(this.initeditor=i.initEditor),e.jqx.hasProperty(i,"createEditor")?this.createeditor=e.jqx.get(i,"createEditor"):i.createEditor&&(this.createeditor=i.createEditor),e.jqx.hasProperty(i,"initWidget")?this.initwidget=e.jqx.get(i,"initWidget"):i.initWidget&&(this.initwidget=i.initWidget),e.jqx.hasProperty(i,"createWidget")?this.createwidget=e.jqx.get(i,"createWidget"):i.createWidget&&(this.createwidget=i.createWidget),e.jqx.hasProperty(i,"destroyWidget")?this.destroywidget=e.jqx.get(i,"destroyWidget"):i.destroyWidget&&(this.destroywidget=i.destroyWidget),e.jqx.hasProperty(i,"reseteverpresentrowwidgetvalue")||e.jqx.hasFunction(i,"reseteverpresentrowwidgetvalue")?this.reseteverpresentrowwidgetvalue=e.jqx.get(i,"reseteverpresentrowwidgetvalue"):i.resetEverPresentRowWidgetValue&&(this.reseteverpresentrowwidgetvalue=i.resetEverPresentRowWidgetValue),e.jqx.hasProperty(i,"geteverpresentrowwidgetvalue")||e.jqx.hasFunction(i,"geteverpresentrowwidgetvalue")?this.geteverpresentrowwidgetvalue=e.jqx.get(i,"geteverpresentrowwidgetvalue"):i.getEverPresentRowWidgetValue&&(this.geteverpresentrowwidgetvalue=i.getEverPresentRowWidgetValue),e.jqx.hasProperty(i,"createeverpresentrowwidget")||e.jqx.hasFunction(i,"createeverpresentrowwidget")?this.createeverpresentrowwidget=e.jqx.get(i,"createeverpresentrowwidget"):i.createEverPresentRowWidget&&(this.createeverpresentrowwidget=i.createEverPresentRowWidget),e.jqx.hasProperty(i,"initeverpresentrowwidget")||e.jqx.hasFunction(i,"initeverpresentrowwidget")?this.initeverpresentrowwidget=e.jqx.get(i,"initeverpresentrowwidget"):i.initEverPresentRowWidget&&(this.initeverpresentrowwidget=i.initEverPresentRowWidget),e.jqx.hasProperty(i,"validateeverpresentrowwidgetvalue")?this.validateeverpresentrowwidgetvalue=e.jqx.get(i,"validateeverpresentrowwidgetvalue"):i.validateEverPresentRowWidgetValue&&(this.validateeverpresentrowwidgetvalue=i.validateEverPresentRowWidgetValue),e.jqx.hasProperty(i,"destroyeverpresentrowwidget")||e.jqx.hasFunction(i,"destroyeverpresentrowwidget")?this.destroyeverpresentrowwidget=e.jqx.get(i,"destroyeverpresentrowwidget"):i.destroyEverPresentRowWidget&&(this.destroyEverPresentRowWidget=i.destroyEverPresentRowWidget),e.jqx.hasProperty(i,"destroyEditor")?this.destroyeditor=e.jqx.get(i,"destroyEditor"):i.destroyEditor&&(this.destroyeditor=i.destroyEditor),e.jqx.hasProperty(i,"getEditorValue")?this.geteditorvalue=e.jqx.get(i,"getEditorValue"):i.getEditorValue&&(this.geteditorvalue=i.getEditorValue),e.jqx.hasProperty(i,"validation")?this.validation=e.jqx.get(i,"validation"):i.validation&&(this.validation=i.validation),e.jqx.hasProperty(i,"cellBeginEdit")?this.cellbeginedit=e.jqx.get(i,"cellBeginEdit"):i.cellBeginEdit&&(this.cellbeginedit=i.cellBeginEdit),e.jqx.hasProperty(i,"cellEndEdit")?this.cellendedit=e.jqx.get(i,"cellEndEdit"):i.cellEndEdit&&(this.cellendedit=i.cellEndEdit),e.jqx.hasProperty(i,"className")&&(this.classname=e.jqx.get(i,"className")),e.jqx.hasProperty(i,"cellClassName")?this.cellclassname=e.jqx.get(i,"cellClassName"):i.cellClassName&&(this.cellclassname=i.cellClassName),e.jqx.hasProperty(i,"menu")&&(this.menu=e.jqx.get(i,"menu")),e.jqx.hasProperty(i,"aggregates")&&(this.aggregates=e.jqx.get(i,"aggregates")),e.jqx.hasProperty(i,"aggregatesRenderer")&&(this.aggregatesrenderer=e.jqx.get(i,"aggregatesRenderer")),e.jqx.hasProperty(i,"createFilterWidget")&&(this.createfilterwidget=e.jqx.get(i,"createFilterWidget")),e.jqx.hasProperty(i,"filterType")&&(this.filtertype=e.jqx.get(i,"filterType")),e.jqx.hasProperty(i,"filterDelay")&&(this.filterdelay=e.jqx.get(i,"filterDelay")),e.jqx.hasProperty(i,"rendered")&&(this.rendered=e.jqx.get(i,"rendered")),e.jqx.hasProperty(i,"exportable")&&(this.exportable=e.jqx.get(i,"exportable")),e.jqx.hasProperty(i,"filterItems")&&(this.filteritems=e.jqx.get(i,"filterItems")),e.jqx.hasProperty(i,"cellValueChanging")&&(this.cellvaluechanging=e.jqx.get(i,"cellValueChanging")),e.jqx.hasProperty(i,"draggable")&&(this.draggable=e.jqx.get(i,"draggable")),e.jqx.hasProperty(i,"filterCondition")&&(this.filtercondition=e.jqx.get(i,"filterCondition")),e.jqx.hasProperty(i,"threeStateCheckbox")&&(this.threestatecheckbox=e.jqx.get(i,"threeStateCheckbox")),e.jqx.hasProperty(i,"nullable")&&(this.nullable=e.jqx.get(i,"nullable")),e.jqx.hasProperty(i,"columnGroup")&&(this.columngroup=e.jqx.get(i,"columnGroup")),!i instanceof String&&"string"!=typeof i)for(var s in i)if(!r.hasOwnProperty(s)&&!r.hasOwnProperty(s.toLowerCase()))throw t.host.remove(),new Error("jqxGrid: Invalid property name - "+s+".")}},this._initfields(i),this}function i(e,t){return this.setdata=function(e){null!=e&&(this.bounddata=e,this.boundindex=e.boundindex,this.visibleindex=e.visibleindex,this.group=e.group,this.parentbounddata=e.parentItem,this.uniqueid=e.uniqueid,this.level=e.level)},this.setdata(t),this.parentrow=null,this.subrows=new Array,this.owner=e,this.height=25,this.hidden=!1,this.rowdetails=null,this.rowdetailsheight=100,this.rowdetailshidden=!0,this.top=-1,this.setrowinfo=function(e){this.hidden=e.hidden,this.rowdetails=e.rowdetails,this.rowdetailsheight=e.rowdetailsheight,this.rowdetailshidden=!e.showdetails,this.height=e.height},this}e.jqx.jqxWidget("jqxGrid","",{}),e.extend(e.jqx._jqxGrid.prototype,{defineInstance:function(){var t={disabled:!1,width:600,height:400,pagerheight:34,groupsheaderheight:34,pagesize:10,pagesizeoptions:["5","10","20"],rowsheight:28,columnsheight:30,filterrowheight:31,groupindentwidth:30,rowdetails:!1,enablerowdetailsindent:!0,enablemousewheel:!0,initrowdetails:null,layoutrowdetails:null,editable:!1,editmode:"selectedcell",pageable:!1,pagermode:"default",pagerbuttonscount:5,groupable:!1,sortable:!1,filterable:!1,filtermode:"default",autoshowfiltericon:!0,showfiltercolumnbackground:!0,showpinnedcolumnbackground:!0,showsortcolumnbackground:!0,altrows:!1,altstart:1,altstep:1,showrowdetailscolumn:!0,
showtoolbar:!1,toolbarheight:34,showstatusbar:!1,statusbarheight:34,enableellipsis:!0,groups:[],groupsrenderer:null,groupcolumnrenderer:null,groupsexpandedbydefault:!1,pagerrenderer:null,touchmode:"auto",columns:[],selectedrowindex:-1,selectedrowindexes:new Array,selectedcells:new Array,autobind:!0,selectedcell:null,tableZIndex:799,headerZIndex:299,updatefilterconditions:null,showgroupaggregates:!1,showaggregates:!1,showfilterrow:!1,showeverpresentrow:!1,everpresentrowposition:"top",everpresentrowactions:"add reset",everpresentrowactionsmode:"buttons",everpresentrowheight:30,autorowheight:!1,autokoupdates:!0,handlekeyboardnavigation:null,showsortmenuitems:!0,showfiltermenuitems:!0,showgroupmenuitems:!0,enablebrowserselection:!1,enablekeyboarddelete:!0,clipboard:!0,clipboardbegin:null,clipboardend:null,copytoclipboardwithheaders:!1,copytoclipboardhiddencolumns:!1,ready:null,updatefilterpanel:null,autogeneratecolumns:!1,rowdetailstemplate:null,scrollfeedback:null,rendertoolbar:null,renderstatusbar:null,rendered:null,multipleselectionbegins:null,columngroups:null,cellhover:null,source:{beforeprocessing:null,beforesend:null,loaderror:null,localdata:null,data:null,datatype:"array",datafields:[],url:"",root:"",record:"",id:"",totalrecords:0,recordstartindex:0,recordendindex:0,loadallrecords:!0,sortcolumn:null,sortdirection:null,sort:null,filter:null,sortcomparer:null},filter:null,dataview:null,updatedelay:null,autoheight:!1,autowidth:!1,showheader:!0,showgroupsheader:!0,closeablegroups:!0,scrollbarsize:e.jqx.utilities.scrollBarSize,touchscrollbarsize:e.jqx.utilities.touchScrollBarSize,scrollbarautoshow:e.jqx.utilities.scrollBarAutoShow,virtualmode:!1,sort:null,columnsmenu:!0,columnsresize:!1,columnsautoresize:!0,columnsreorder:!1,columnsmenuwidth:15,autoshowcolumnsmenubutton:!0,popupwidth:"auto",popupheight:"auto",columnmenuopening:null,columnmenuclosing:null,sorttogglestates:2,rendergridrows:null,enableanimations:!0,enablecolumnsvirtualization:!0,enabletooltips:!1,selectionmode:"singlerow",enablehover:!0,loadingerrormessage:"The data is still loading. When the data binding is completed, the Grid raises the 'bindingcomplete' event. Call this function in the 'bindingcomplete' event handler.",verticalscrollbarstep:30,verticalscrollbarlargestep:400,horizontalscrollbarstep:10,horizontalscrollbarlargestep:50,keyboardnavigation:!0,touchModeStyle:"auto",autoshowloadelement:!0,showdefaultloadelement:!0,showemptyrow:!0,autosavestate:!1,autoloadstate:!1,_updating:!1,_pagescache:new Array,_pageviews:new Array,_cellscache:new Array,_rowdetailscache:new Array,_rowdetailselementscache:new Array,_requiresupdate:!1,_hasOpenedMenu:!1,scrollmode:"physical",deferreddatafields:null,localization:null,rtl:!1,menuitemsarray:[],events:["initialized","rowClick","rowSelect","rowUnselect","groupExpand","groupCollapse","sort","columnClick","cellClick","pageChanged","pageSizeChanged","bindingComplete","groupsChanged","filter","columnResized","cellSelect","cellUnselect","cellBeginEdit","cellEndEdit","cellValueChanged","rowExpand","rowCollapse","rowDoubleClick","cellDoubleClick","columnReordered","pageChanging"]};return this===e.jqx._jqxGrid.prototype?t:(e.extend(!0,this,t),t)},createInstance:function(t){this.that=this;var i=this;i.pagesize=parseInt(i.pagesize),i.toolbarheight=parseInt(i.toolbarheight),i.columnsheight=parseInt(i.columnsheight),i.filterrowheight=parseInt(i.filterrowheight),i.statusbarheight=parseInt(i.statusbarheight),i.groupsheaderheight=parseInt(i.groupsheaderheight),i.detailsVisibility=new Array,i.savedArgs=t&&t.length>0?t[0]:null;var r="<div class='jqx-clear jqx-border-reset jqx-overflow-hidden jqx-max-size jqx-position-relative'><div tabindex='1' class='jqx-clear jqx-max-size jqx-position-relative jqx-overflow-hidden jqx-background-reset' id='wrapper"+i.element.id+"'><div class='jqx-clear jqx-position-absolute' id='toolbar' style='visibility: hidden;'></div><div class='jqx-clear jqx-position-absolute' id='groupsheader' style='visibility: hidden;'></div><div class='jqx-clear jqx-overflow-hidden jqx-position-absolute jqx-border-reset jqx-background-reset' id='content"+i.element.id+"'></div><div class='jqx-clear jqx-position-absolute' id='verticalScrollBar"+i.element.id+"'></div><div class='jqx-clear jqx-position-absolute' id='horizontalScrollBar"+i.element.id+"'></div><div class='jqx-clear jqx-position-absolute jqx-border-reset' id='bottomRight'></div><div class='jqx-clear jqx-position-absolute' id='addrow'></div><div class='jqx-clear jqx-position-absolute' id='statusbar'></div><div class='jqx-clear jqx-position-absolute' id='pager' style='z-index: 20;'></div></div></div>";if(i.element.innerHTML="",15!=e.jqx.utilities.scrollBarSize&&(i.scrollbarsize=e.jqx.utilities.scrollBarSize),i.source){if(!i.source.dataBind){if(!e.jqx.dataAdapter)throw new Error("jqxGrid: Missing reference to jqxdata.js");i.source=new e.jqx.dataAdapter(i.source)}var s=i.source._source.datafields;s&&s.length>0&&(i.editmode=i.editmode.toLowerCase(),i.selectionmode=i.selectionmode.toLowerCase())}i.host.attr("role","grid"),i.host.attr("align","left"),i.element.innerHTML=r,i.host.addClass(i.toTP("jqx-grid")),i.host.addClass(i.toTP("jqx-reset")),i.host.addClass(i.toTP("jqx-rc-all")),i.host.addClass(i.toTP("jqx-widget")),i.host.addClass(i.toTP("jqx-widget-content")),i.wrapper=i.host.find("#wrapper"+i.element.id),i.content=i.host.find("#content"+i.element.id),i.content.addClass(i.toTP("jqx-reset"));var a=i.host.find("#verticalScrollBar"+i.element.id),n=i.host.find("#horizontalScrollBar"+i.element.id);if(i.bottomRight=i.host.find("#bottomRight").addClass(i.toTP("jqx-grid-bottomright jqx-scrollbar-state-normal")),!a.jqxScrollBar)throw new Error("jqxGrid: Missing reference to jqxscrollbar.js");if(i.editors=new Array,i.vScrollBar=a.jqxScrollBar({vertical:!0,rtl:i.rtl,touchMode:i.touchmode,step:i.verticalscrollbarstep,largestep:i.verticalscrollbarlargestep,theme:i.theme,_triggervaluechanged:!1}),i.hScrollBar=n.jqxScrollBar({vertical:!1,rtl:i.rtl,touchMode:i.touchmode,step:i.horizontalscrollbarstep,largestep:i.horizontalscrollbarlargestep,theme:i.theme,_triggervaluechanged:!1}),i.addnewrow=i.host.find("#addrow"),i.addnewrow[0].id="addrow"+i.element.id,i.addnewrow.addClass(i.toTP("jqx-widget-header")),i.pager=i.host.find("#pager"),i.pager[0].id="pager"+i.element.id,i.toolbar=i.host.find("#toolbar"),i.toolbar[0].id="toolbar"+i.element.id,i.toolbar.addClass(i.toTP("jqx-grid-toolbar")),i.toolbar.addClass(i.toTP("jqx-widget-header")),i.statusbar=i.host.find("#statusbar"),i.statusbar[0].id="statusbar"+i.element.id,i.statusbar.addClass(i.toTP("jqx-grid-statusbar")),i.statusbar.addClass(i.toTP("jqx-widget-header")),i.pager.addClass(i.toTP("jqx-grid-pager")),i.pager.addClass(i.toTP("jqx-widget-header")),i.groupsheader=i.host.find("#groupsheader"),i.groupsheader.addClass(i.toTP("jqx-grid-groups-header")),i.groupsheader.addClass(i.toTP("jqx-widget-header")),i.groupsheader[0].id="groupsheader"+i.element.id,i.vScrollBar.css("visibility","hidden"),i.hScrollBar.css("visibility","hidden"),i.vScrollInstance=e.data(i.vScrollBar[0],"jqxScrollBar").instance,i.hScrollInstance=e.data(i.hScrollBar[0],"jqxScrollBar").instance,i.gridtable=null,i.isNestedGrid=i.host.parent()?9999==i.host.parent().css("z-index"):!1,i.touchdevice=i.isTouchDevice(),i.localizestrings&&(i.localizestrings(),null!=i.localization&&i.localizestrings(i.localization,!1)),i.rowdetailstemplate&&(void 0==i.rowdetailstemplate.rowdetails&&(i.rowdetailstemplate.rowdetails="<div></div>"),void 0==i.rowdetailstemplate.rowdetailsheight&&(i.rowdetailstemplate.rowdetailsheight=200),void 0==i.rowdetailstemplate.rowdetailshidden&&(i.rowdetailstemplate.rowdetailshidden=!0)),i.showfilterrow&&!i.filterable)throw new Error('jqxGrid: "showfilterrow" requires setting the "filterable" property to true!');if(i.autorowheight&&!i.autoheight&&!i.pageable)throw new Error('jqxGrid: "autorowheight" requires setting the "autoheight" or "pageable" property to true!');if(i.virtualmode&&null==i.rendergridrows)throw new Error('jqxGrid: "virtualmode" requires setting the "rendergridrows"!');if(i.virtualmode&&!i.pageable&&i.groupable)throw new Error('jqxGrid: "grouping" in "virtualmode" without paging is not supported!');if(!i._testmodules()){if(i._builddataloadelement(),i._cachedcolumns=i.columns,i.columns&&i.columns.length>299&&(i.headerZIndex=i.columns.length+100),28!=i.rowsheight&&i._measureElement("cell"),(30!=i.columnsheight||i.columngroups)&&i._measureElement("column"),i.source){var s=i.source.datafields;if(null==s&&i.source._source&&(s=i.source._source.datafields),s)for(var o=0;o<i.columns.length;o++){var l=i.columns[o];if(l&&l.cellsformat&&l.cellsformat.length>2)for(var h=0;h<s.length;h++)if(s[h].name==l.datafield&&!s[h].format){s[h].format=l.cellsformat;break}}}i.databind(i.source),i.showtoolbar&&i.toolbar.css("visibility","inherit"),i.showstatusbar&&i.statusbar.css("visibility","inherit"),i._arrange(),i.pageable&&i._initpager&&i._initpager(),i.tableheight=null;var d=i.that,c=function(){d.content&&(d.content[0].scrollTop=0,d.content[0].scrollLeft=0),d.gridcontent&&(d.gridcontent[0].scrollLeft=0,d.gridcontent[0].scrollTop=0)};i.addHandler(i.content,"mousedown",function(){c()}),i.addHandler(i.content,"scroll",function(e){return c(),!1}),i.showfilterrow||(i.showstatusbar||i.showtoolbar||i.host.addClass("jqx-disableselect"),i.content.addClass("jqx-disableselect")),i.enablebrowserselection&&(i.content.removeClass("jqx-disableselect"),i.host.removeClass("jqx-disableselect")),i._resizeWindow(),i.disabled&&i.host.addClass(i.toThemeProperty("jqx-fill-state-disabled")),i.hasTransform=e.jqx.utilities.hasTransform(i.host),"logical"==i.scrollmode&&(i.vScrollInstance.thumbStep=i.rowsheight,i.vScrollInstance.step=i.rowsheight),e.jqx.isHidden(i.host)||(i.filterable||i.groupable||i.sortable)&&i._initmenu()}},_resizeWindow:function(){var t=this.that;if(null!=this.width&&-1!=this.width.toString().indexOf("%")||null!=this.height&&-1!=this.height.toString().indexOf("%")){this._updatesizeonwindowresize=!0,e.jqx.utilities.resize(this.host,function(i){var r=e(window).width(),s=e(window).height(),a=t.host.width(),n=t.host.height();if(t.autoheight&&(t._lastHostWidth=s),t._lastHostWidth!=a||t._lastHostHeight!=n){if(t.touchdevice&&t.editcell&&"orientationchange"!==i)return;t._updatesize(t._lastHostWidth!=a,t._lastHostHeight!=n)}t._lastWidth=r,t._lastHeight=s,t._lastHostWidth=a,t._lastHostHeight=n});var i=t.host.width(),r=t.host.height();t._lastHostWidth=i,t._lastHostHeight=r}},_builddataloadelement:function(){if(this.dataloadelement&&this.dataloadelement.remove(),this.dataloadelement=e('<div style="overflow: hidden; position: absolute;"></div>'),this.showdefaultloadelement){var t=e('<div style="z-index: 99999; margin-left: -66px; left: 50%; top: 50%; margin-top: -24px; position: relative; width: 100px; height: 33px; padding: 5px; font-family: verdana; font-size: 12px; color: #767676; border-color: #898989; border-width: 1px; border-style: solid; background: #f6f6f6; border-collapse: collapse;"><div style="float: left;"><div style="float: left; overflow: hidden; width: 32px; height: 32px;" class="jqx-grid-load"/><span style="margin-top: 10px; float: left; display: block; margin-left: 5px;" >'+this.gridlocalization.loadtext+"</span></div></div>");t.addClass(this.toTP("jqx-rc-all")),this.dataloadelement.addClass(this.toTP("jqx-rc-all")),t.addClass(this.toTP("jqx-fill-state-normal")),this.dataloadelement.append(t)}else this.dataloadelement.addClass(this.toTP("jqx-grid-load"));this.dataloadelement.width(this.host.width()),this.dataloadelement.height(this.host.height()),this.wrapper.prepend(this.dataloadelement)},_measureElement:function(t){var i=e("<span style='visibility: hidden; white-space: nowrap;'>measure Text</span>");i.addClass(this.toTP("jqx-widget")),e(document.body).append(i),"cell"==t?this._cellheight=i.height():this._columnheight=i.height(),i.remove()},_measureMenuElement:function(){var t=e("<span style='visibility: hidden; white-space: nowrap;'>measure Text</span>");t.addClass(this.toTP("jqx-widget")),t.addClass(this.toTP("jqx-menu")),t.addClass(this.toTP("jqx-menu-item-top")),t.addClass(this.toTP("jqx-fill-state-normal")),this.isTouchDevice()&&t.addClass(this.toTP("jqx-grid-menu-item-touch")),e(document.body).append(t);var i=t.outerHeight();return t.remove(),i},_measureElementWidth:function(t){var i=e("<span style='visibility: hidden; white-space: nowrap;'>"+t+"</span>");i.addClass(this.toTP("jqx-widget")),i.addClass(this.toTP("jqx-grid")),i.addClass(this.toTP("jqx-grid-column-header")),i.addClass(this.toTP("jqx-widget-header")),e(document.body).append(i);var r=i.outerWidth()+20;return i.remove(),r},_getBodyOffset:function(){var t=0,i=0;return"0px"!=e("body").css("border-top-width")&&(t=parseInt(e("body").css("border-top-width")),isNaN(t)&&(t=0)),"0px"!=e("body").css("border-left-width")&&(i=parseInt(e("body").css("border-left-width")),isNaN(i)&&(i=0)),{left:i,top:t}},_testmodules:function(){var t="",i=this.that,r=function(){""!=t.length&&(t+=",")};if(this.columnsmenu&&!this.host.jqxMenu&&(this.sortable||this.groupable||this.filterable)&&(r(),t+=" jqxmenu.js"),this.host.jqxScrollBar||(r(),t+=" jqxscrollbar.js"),this.host.jqxButton||(r(),t+=" jqxbuttons.js"),e.jqx.dataAdapter||(r(),t+=" jqxdata.js"),this.pageable&&!this.gotopage&&(r(),t+="jqxgrid.pager.js"),this.filterable&&!this.applyfilters&&(r(),t+=" jqxgrid.filter.js"),this.groupable&&!this._initgroupsheader&&(r(),t+=" jqxgrid.grouping.js"),this.columnsresize&&!this.autoresizecolumns&&(r(),t+=" jqxgrid.columnsresize.js"),this.columnsreorder&&!this.setcolumnindex&&(r(),t+=" jqxgrid.columnsreorder.js"),this.sortable&&!this.sortby&&(r(),t+=" jqxgrid.sort.js"),this.editable&&!this.begincelledit&&(r(),t+=" jqxgrid.edit.js"),this.showaggregates&&!this.getcolumnaggregateddata&&(r(),t+=" jqxgrid.aggregates.js"),this.keyboardnavigation&&!this.selectrow&&(r(),t+=" jqxgrid.selection.js"),""!=t||this.editable||this.filterable||this.pageable){var s=[],a=function(e){switch(e){case"checkbox":i.host.jqxCheckBox||s.checkbox||(s.checkbox=!0,r(),t+=" jqxcheckbox.js");break;case"numberinput":i.host.jqxNumberInput||s.numberinput||(s.numberinput=!0,r(),t+=" jqxnumberinput.js");break;case"datetimeinput":i.host.jqxDateTimeInput||s.datetimeinput?i.host.jqxCalendar||s.calendar||(r(),t+=" jqxcalendar.js"):(r(),s.datetimeinput=!0,t+=" jqxdatetimeinput.js(requires: jqxcalendar.js)");break;case"combobox":i.host.jqxComboBox||s.combobox?i.host.jqxListBox||s.listbox||(r(),s.listbox=!0,t+=" jqxlistbox.js"):(r(),s.combobox=!0,t+=" jqxcombobox.js(requires: jqxlistbox.js)");break;case"dropdownlist":i.host.jqxDropDownList||s.dropdownlist?i.host.jqxListBox||s.listbox||(r(),s.listbox=!0,t+=" jqxlistbox.js"):(r(),s.dropdownlist=!0,t+=" jqxdropdownlist.js(requires: jqxlistbox.js)")}};(this.filterable||this.pageable)&&a("dropdownlist");for(var n=0;n<this.columns.length;n++)if(void 0!=this.columns[n]){var o=this.columns[n].columntype;if(a(o),this.filterable&&this.showfilterrow){var o=this.columns[n].filtertype;"checkedlist"!=o&&"bool"!=o||a("checkbox"),"date"==o&&a("datetimeinput")}}if(""!=t)throw new Error("jqxGrid: Missing references to the following module(s): "+t)}return!1},focus:function(){try{this.wrapper.focus();var e=this.that;setTimeout(function(){e.wrapper.focus()},25),this.focused=!0}catch(t){}},hiddenParent:function(){return e.jqx.isHidden(this.host)},resize:function(e,t){this.width=e,this.height=t,this._updatesize(!0,!0)},_updatesize:function(t,i){if(!this._loading){var r=this.that;r._newmax=null;var s=r.host.width(),a=r.host.height();r._oldWidth||(r._oldWidth=s),r._oldHeight||(r._oldHeight=a),r._resizeTimer&&clearTimeout(r._resizeTimer);var n=5;r._resizeTimer=setTimeout(function(){if(r.resizingGrid=!0,!e.jqx.isHidden(r.host)){if(r.editcell&&(r.endcelledit(r.editcell.row,r.editcell.column,!0,!0),r._oldselectedcell=null),o!=r._oldHeight||1==i){var a=r.groupable&&r.groups.length>0,n=r.vScrollBar.css("visibility");if(!r.autoheight){if(r.virtualmode&&(r._pageviews=new Array),a||r.rowdetails||r.pageable){r._arrange(),r.prerenderrequired=!0;var o=Math.round(r.host.height())+2*r.rowsheight;realheight=r._gettableheight();var l=Math.round(o/r.rowsheight),h=Math.max(r.dataview.totalrows,r.dataview.totalrecords);r.pageable&&(h=r.pagesize,r.pagesize>Math.max(r.dataview.totalrows,r.dataview.totalrecords)&&r.autoheight?h=Math.max(r.dataview.totalrows,r.dataview.totalrecords):r.autoheight||r.dataview.totalrows<r.pagesize&&(h=Math.max(r.dataview.totalrows,r.dataview.totalrecords)));h*r.rowsheight,r._getpagesize();!r.pageable&&r.autoheight&&(l=h),r.virtualsizeinfo&&(r.virtualsizeinfo.visiblerecords=l),r.rendergridcontent(!0,!1),r._renderrows(r.virtualsizeinfo)}else{r._arrange(),r.virtualsizeinfo=r._calculatevirtualheight();var o=Math.round(r.host.height())+2*r.rowsheight;parseInt(o)>=parseInt(r._oldHeight)&&(r.prerenderrequired=!0),r._renderrows(r.virtualsizeinfo),r.rtl&&(r._updatecolumnwidths(),r.table&&r.table.width(r.columnsheader.width()),r._updatecellwidths())}n!=r.vScrollBar.css("visibility")&&(r.vScrollInstance.setPosition(0),r._arrange(),r._updatecolumnwidths(),r.table&&r.table.width(r.columnsheader.width()),r._updatecellwidths())}}if(s!=r._oldWidth||1==t){var d=!1;if(r.editcell&&r.editcell.editor)switch(r.editcell.columntype){case"dropdownlist":if(d=r.editcell.editor.jqxDropDownList("isOpened")||r.editcell.editor.jqxDropDownList("isanimating")&&!r.editcell.editor.jqxDropDownList("ishiding"))return r.editcell.editor.jqxDropDownList({openDelay:0}),r.editcell.editor.jqxDropDownList("open"),void r.editcell.editor.jqxDropDownList({openDelay:250});break;case"combobox":if(d=r.editcell.editor.jqxComboBox("isOpened")||r.editcell.editor.jqxComboBox("isanimating")&&!r.editcell.editor.jqxComboBox("ishiding"))return r.editcell.editor.jqxComboBox({openDelay:0}),r.editcell.editor.jqxComboBox("open"),void r.editcell.editor.jqxComboBox({openDelay:250});break;case"datetimeinput":if(d)return d=r.editcell.editor.jqxDateTimeInput("isOpened")||r.editcell.editor.jqxDateTimeInput("isanimating")&&!r.editcell.editor.jqxDateTimeInput("ishiding"),r.editcell.editor.jqxDateTimeInput({openDelay:0}),r.editcell.editor.jqxDateTimeInput("open"),void r.editcell.editor.jqxDateTimeInput({openDelay:250})}var c=r.hScrollBar.css("visibility");r._arrange(),r._updatecolumnwidths(),r.table&&r.table.width(r.columnsheader.width()),r._updatecellwidths(),0==t&&r._oldWidth>s||i&&0!=r.dataview.rows.length||r._renderrows(r.virtualsizeinfo),c!=r.hScrollBar.css("visibility")&&r.hScrollInstance.setPosition(0)}r._oldWidth=s,r._oldHeight=o,r.resizingGrid=!1}},n)}},getTouches:function(t){return e.jqx.mobile.getTouches(t)},_updateTouchScrolling:function(){var t=this.that;if(t.isTouchDevice()){t.scrollmode="logical",t.vScrollInstance.thumbStep=t.rowsheight;var i=e.jqx.mobile.getTouchEventName("touchstart"),r=e.jqx.mobile.getTouchEventName("touchend"),s=e.jqx.mobile.getTouchEventName("touchmove");t.enablehover=!1,t.gridcontent&&(t.removeHandler(t.gridcontent,i+".touchScroll"),t.removeHandler(t.gridcontent,s+".touchScroll"),t.removeHandler(t.gridcontent,r+".touchScroll"),t.removeHandler(t.gridcontent,"touchcancel.touchScroll"),e.jqx.mobile.touchScroll(t.gridcontent[0],t.vScrollInstance.max,function(e,i){null!=i&&"visible"==t.vScrollBar.css("visibility")&&t.vScrollInstance.setPosition(i),null!=e&&"visible"==t.hScrollBar.css("visibility")&&t.hScrollInstance.setPosition(e),t.vScrollInstance.thumbCapture=!0,t._lastScroll=new Date},this.element.id,this.hScrollBar,this.vScrollBar),t._overlayElement&&(t.removeHandler(t._overlayElement,i+".touchScroll"),t.removeHandler(t._overlayElement,s+".touchScroll"),t.removeHandler(t._overlayElement,r+".touchScroll"),t.removeHandler(t._overlayElement,"touchcancel.touchScroll"),e.jqx.mobile.touchScroll(t._overlayElement[0],t.vScrollInstance.max,function(e,i){null!=i&&"visible"==t.vScrollBar.css("visibility")&&t.vScrollInstance.setPosition(i),null!=e&&"visible"==t.hScrollBar.css("visibility")&&t.hScrollInstance.setPosition(e),t.vScrollInstance.thumbCapture=!0,t._lastScroll=new Date},this.element.id,this.hScrollBar,this.vScrollBar),this.addHandler(this.host,i,function(){t.editcell?t._overlayElement.css("visibility","hidden"):t._overlayElement.css("visibility","visible")}),this.addHandler(this.host,r,function(){t.editcell?t._overlayElement.css("visibility","hidden"):t._overlayElement.css("visibility","visible")})))}},_rendercelltexts:function(){},isTouchDevice:function(){if(void 0!=this.touchDevice)return this.touchDevice;var t=e.jqx.mobile.isTouchDevice();if(this.touchDevice=t,1==this.touchmode){if(e.jqx.browser.msie&&e.jqx.browser.version<9)return this.enablehover=!1,!1;t=!0,e.jqx.mobile.setMobileSimulator(this.element),this.touchDevice=t}else 0==this.touchmode&&(t=!1);return t&&0!=this.touchModeStyle&&(this.touchDevice=!0,this.host.addClass(this.toThemeProperty("jqx-touch")),this.host.find("jqx-widget-content").addClass(this.toThemeProperty("jqx-touch")),this.host.find("jqx-widget-header").addClass(this.toThemeProperty("jqx-touch")),this.scrollbarsize=this.touchscrollbarsize),t},toTP:function(e){return this.toThemeProperty(e)},localizestrings:function(t,i){if(this._cellscache=new Array,e.jqx.dataFormat&&e.jqx.dataFormat.cleardatescache(),this._loading)throw new Error("jqxGrid: "+this.loadingerrormessage);if(null!=t){for(var r in t)r.toLowerCase()!==r&&(t[r.toLowerCase()]=t[r]);if(t.pagergotopagestring&&(this.gridlocalization.pagergotopagestring=t.pagergotopagestring),t.pagershowrowsstring&&(this.gridlocalization.pagershowrowsstring=t.pagershowrowsstring),t.pagerrangestring&&(this.gridlocalization.pagerrangestring=t.pagerrangestring),t.pagernextbuttonstring&&(this.gridlocalization.pagernextbuttonstring=t.pagernextbuttonstring),t.pagerpreviousbuttonstring&&(this.gridlocalization.pagerpreviousbuttonstring=t.pagerpreviousbuttonstring),t.pagerfirstbuttonstring&&(this.gridlocalization.pagerfirstbuttonstring=t.pagerfirstbuttonstring),t.pagerlastbuttonstring&&(this.gridlocalization.pagerlastbuttonstring=t.pagerlastbuttonstring),t.groupsheaderstring&&(this.gridlocalization.groupsheaderstring=t.groupsheaderstring),t.sortascendingstring&&(this.gridlocalization.sortascendingstring=t.sortascendingstring),t.sortdescendingstring&&(this.gridlocalization.sortdescendingstring=t.sortdescendingstring),t.sortremovestring&&(this.gridlocalization.sortremovestring=t.sortremovestring),t.groupbystring&&(this.gridlocalization.groupbystring=t.groupbystring),t.groupremovestring&&(this.gridlocalization.groupremovestring=t.groupremovestring),t.firstDay&&(this.gridlocalization.firstDay=t.firstDay),t.days&&(this.gridlocalization.days=t.days),t.months&&(this.gridlocalization.months=t.months),t.AM&&(this.gridlocalization.AM=t.AM),t.PM&&(this.gridlocalization.PM=t.PM),t.patterns&&(this.gridlocalization.patterns=t.patterns),t.percentsymbol&&(this.gridlocalization.percentsymbol=t.percentsymbol),t.currencysymbol&&(this.gridlocalization.currencysymbol=t.currencysymbol),t.currencysymbolposition&&(this.gridlocalization.currencysymbolposition=t.currencysymbolposition),void 0!=t.decimalseparator&&(this.gridlocalization.decimalseparator=t.decimalseparator),void 0!=t.thousandsseparator&&(this.gridlocalization.thousandsseparator=t.thousandsseparator),t.filterclearstring&&(this.gridlocalization.filterclearstring=t.filterclearstring),t.filterstring&&(this.gridlocalization.filterstring=t.filterstring),t.filtershowrowstring&&(this.gridlocalization.filtershowrowstring=t.filtershowrowstring),t.filtershowrowdatestring&&(this.gridlocalization.filtershowrowdatestring=t.filtershowrowdatestring),t.filterselectallstring&&(this.gridlocalization.filterselectallstring=t.filterselectallstring),t.filterchoosestring&&(this.gridlocalization.filterchoosestring=t.filterchoosestring),t.filterorconditionstring&&(this.gridlocalization.filterorconditionstring=t.filterorconditionstring),t.filterandconditionstring&&(this.gridlocalization.filterandconditionstring=t.filterandconditionstring),t.filterstringcomparisonoperators&&(this.gridlocalization.filterstringcomparisonoperators=t.filterstringcomparisonoperators),t.filternumericcomparisonoperators&&(this.gridlocalization.filternumericcomparisonoperators=t.filternumericcomparisonoperators),t.filterdatecomparisonoperators&&(this.gridlocalization.filterdatecomparisonoperators=t.filterdatecomparisonoperators),t.filterbooleancomparisonoperators&&(this.gridlocalization.filterbooleancomparisonoperators=t.filterbooleancomparisonoperators),t.emptydatastring&&(this.gridlocalization.emptydatastring=t.emptydatastring),t.filterselectstring&&(this.gridlocalization.filterselectstring=t.filterselectstring),t.todaystring&&(this.gridlocalization.todaystring=t.todaystring),t.clearstring&&(this.gridlocalization.clearstring=t.clearstring),t.validationstring&&(this.gridlocalization.validationstring=t.validationstring),t.loadtext&&(this.gridlocalization.loadtext=t.loadtext),t.addrowstring&&(this.gridlocalization.addrowstring=t.addrowstring),t.udpaterowstring&&(this.gridlocalization.udpaterowstring=t.udpaterowstring),t.deleterowstring&&(this.gridlocalization.deleterowstring=t.deleterowstring),t.resetrowstring&&(this.gridlocalization.resetrowstring=t.resetrowstring),t.everpresentrowplaceholder&&(this.gridlocalization.everpresentrowplaceholder=t.everpresentrowplaceholder),i!==!1){if(this._initpager&&this._initpager(),this._initgroupsheader&&this._initgroupsheader(),this._initmenu&&this._initmenu(),this._builddataloadelement(),e(this.dataloadelement).css("visibility","hidden"),e(this.dataloadelement).css("display","none"),this.filterable&&this.showfilterrow&&this._updatefilterrow){for(var r in this._filterrowcache)e(this._filterrowcache[r]).remove();this._filterrowcache=[],this._updatefilterrow()}this.showaggregates&&this.refresheaggregates&&this.refresheaggregates(),this._renderrows(this.virtualsizeinfo)}}else this.gridlocalization={"/":"/",":":":",firstDay:0,days:{names:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],namesAbbr:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],namesShort:["Su","Mo","Tu","We","Th","Fr","Sa"]},months:{names:["January","February","March","April","May","June","July","August","September","October","November","December",""],namesAbbr:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec",""]},AM:["AM","am","AM"],PM:["PM","pm","PM"],eras:[{name:"A.D.",start:null,offset:0}],twoDigitYearMax:2029,patterns:{d:"M/d/yyyy",D:"dddd, MMMM dd, yyyy",t:"h:mm tt",T:"h:mm:ss tt",f:"dddd, MMMM dd, yyyy h:mm tt",F:"dddd, MMMM dd, yyyy h:mm:ss tt",M:"MMMM dd",Y:"yyyy MMMM",S:"yyyy'-'MM'-'dd'T'HH':'mm':'ss",ISO:"yyyy-MM-dd hh:mm:ss",ISO2:"yyyy-MM-dd HH:mm:ss",d1:"dd.MM.yyyy",d2:"dd-MM-yyyy",d3:"dd-MMMM-yyyy",d4:"dd-MM-yy",d5:"H:mm",d6:"HH:mm",d7:"HH:mm tt",d8:"dd/MMMM/yyyy",d9:"MMMM-dd",d10:"MM-dd",d11:"MM-dd-yyyy"},percentsymbol:"%",currencysymbol:"$",currencysymbolposition:"before",decimalseparator:".",thousandsseparator:",",pagergotopagestring:"Go to page:",pagershowrowsstring:"Show rows:",pagerrangestring:" of ",pagerpreviousbuttonstring:"previous",pagernextbuttonstring:"next",pagerfirstbuttonstring:"first",pagerlastbuttonstring:"last",groupsheaderstring:"Drag a column and drop it here to group by that column",sortascendingstring:"Sort Ascending",sortdescendingstring:"Sort Descending",sortremovestring:"Remove Sort",groupbystring:"Group By this column",groupremovestring:"Remove from groups",filterclearstring:"Clear",filterstring:"Filter",filtershowrowstring:"Show rows where:",filtershowrowdatestring:"Show rows where date:",filterorconditionstring:"Or",filterandconditionstring:"And",filterselectallstring:"(Select All)",filterchoosestring:"Please Choose:",filterstringcomparisonoperators:["empty","not empty","contains","contains(match case)","does not contain","does not contain(match case)","starts with","starts with(match case)","ends with","ends with(match case)","equal","equal(match case)","null","not null"],filternumericcomparisonoperators:["equal","not equal","less than","less than or equal","greater than","greater than or equal","null","not null"],filterdatecomparisonoperators:["equal","not equal","less than","less than or equal","greater than","greater than or equal","null","not null"],filterbooleancomparisonoperators:["equal","not equal"],validationstring:"Entered value is not valid",emptydatastring:"No data to display",filterselectstring:"Select Filter",loadtext:"Loading...",clearstring:"Clear",todaystring:"Today",addrowstring:"Add",udpaterowstring:"Update",deleterowstring:"Delete",resetrowstring:"Reset",everpresentrowplaceholder:"Enter "}},_getmenudefaultheight:function(){var t=this,i=0;this.sortable&&this._togglesort&&this.showsortmenuitems&&(i=3),this.groupable&&this._initgroupsheader&&this.showgroupmenuitems&&(i+=2);var r=t._measureMenuElement(),s=i*r+9;return t.filterable&&!t.showfilterrow&&t.showfiltermenuitems&&(s+=190,e.jqx.browser.msie&&e.jqx.browser.version<8&&(s+=20)),s},_initmenu:function(){var t=this.that;if(this.host.jqxMenu){if(this.gridmenu){if(this._hasOpenedMenu)return;this.filterable&&this._destroyfilterpanel&&this._destroyfilterpanel(),this.removeHandler(this.gridmenu,"keydown"),this.removeHandler(this.gridmenu,"closed"),this.removeHandler(this.gridmenu,"itemclick"),this.gridmenu.jqxMenu("destroy"),this.gridmenu.removeData(),this.gridmenu.remove()}this.menuitemsarray=new Array;var i="";this.isTouchDevice()&&(i="jqx-grid-menu-item-touch"),this.gridmenu=e('<div id="gridmenu'+this.element.id+'" style="z-index: 9999999999999;"></div>'),this.host.append(this.gridmenu);var r=e("<ul></ul>"),s='<div class="jqx-grid-sortasc-icon"></div>',a=e('<li class="'+i+'">'+s+this.gridlocalization.sortascendingstring+"</li>"),n='<div class="jqx-grid-sortdesc-icon"></div>',o=e('<li class="'+i+'">'+n+this.gridlocalization.sortdescendingstring+"</li>"),l='<div class="jqx-grid-sortremove-icon"></div>',h=e('<li class="'+i+'">'+l+this.gridlocalization.sortremovestring+"</li>"),d='<div class="jqx-grid-groupby-icon"></div>',c=e('<li class="'+i+'">'+d+this.gridlocalization.groupbystring+"</li>"),u=e('<li class="'+i+'">'+d+this.gridlocalization.groupremovestring+"</li>"),p=e('<li type="separator"></li>'),f=e('<li class="filter '+i+'" style="height: 190px;" ignoretheme="true"><div class="filter"></div></li>'),m=this.gridlocalization.sortascendingstring.length,g=this.gridlocalization.sortascendingstring;this.gridlocalization.sortdescendingstring.length>m&&(m=this.gridlocalization.sortdescendingstring.length,g=this.gridlocalization.sortdescendingstring),this.gridlocalization.sortremovestring.length>m&&(m=this.gridlocalization.sortremovestring.length,g=this.gridlocalization.sortremovestring),this.groupable&&this._initgroupsheader&&this.showgroupmenuitems&&(this.gridlocalization.groupbystring.length>m&&(m=this.gridlocalization.groupbystring.length,g=this.gridlocalization.groupbystring),this.gridlocalization.groupremovestring.length>m&&(m=this.gridlocalization.groupremovestring.length,g=this.gridlocalization.groupremovestring));var v=200;g=e.trim(g).replace(/\&nbsp\;/gi,"").replace(/\&#160\;/gi,"");var x=e("<span>"+g+"</span>");x.addClass(this.toThemeProperty("jqx-menu-item")),this.host.append(x),v=x.outerWidth()+60,x.remove();var b=0;this.sortable&&this._togglesort&&this.showsortmenuitems&&(r.append(a),this.menuitemsarray[0]=a[0],r.append(o),this.menuitemsarray[1]=o[0],r.append(h),this.menuitemsarray[2]=h[0],b=3),this.groupable&&this._initgroupsheader&&this.showgroupmenuitems&&(r.append(c),this.menuitemsarray[3]=c[0],r.append(u),this.menuitemsarray[4]=u[0],b+=2);var w=this._measureMenuElement(),y=b*w+9,_=!0;if(this.filterable&&!this.showfilterrow&&this.showfiltermenuitems){if(!this._initfilterpanel)throw new Error("jqxGrid: Missing reference to jqxgrid.filter.js.");this.menuitemsarray[5]=f[0],this.menuitemsarray[6]=f[0],r.append(p),r.append(f),y+=190,e.jqx.browser.msie&&e.jqx.browser.version<8&&(y+=20),this.isTouchDevice()&&(y+=30);var j=e(f).find("div:first");this.excelfilterpanel=e("<div></div>"),
this.filterpanel=j,this.filtermenu=e(f),v+=20,this._initfilterpanel(this,j,"",v),this._initfilterpanel(this,this.excelfilterpanel,"",v,!0),_=!1,this.removeHandler(e(document),"click.menu"+t.element.id,t._closemenuafterclick,t),this.addHandler(e(document),"click.menu"+t.element.id,t._closemenuafterclick,t)}if(this.gridmenu.append(r),e.jqx.browser.msie&&e.jqx.browser.version<8&&this.filterable&&(e("#listBoxfilter1"+this.element.id).css("z-index",4990),e("#listBoxfilter2"+this.element.id).css("z-index",4990),e("#listBoxfilter3"+this.element.id).css("z-index",4990),e("#gridmenu"+this.element.id).css("z-index",5e3),this.addHandler(e("#gridmenu"+this.element.id),"initialized",function(){e("#menuWrappergridmenu"+t.element.id).css("z-index",4980)})),void 0==this.menuitemsarray[0]&&(y=65),this.removeHandler(e(window),"orientationchange.jqxgrid"+this.element.id),this.removeHandler(e(window),"orientationchanged.jqxgrid"+this.element.id),this.addHandler(e(window),"orientationchange.jqxgrid"+this.element.id,function(){t.gridmenu.jqxMenu("close")}),this.addHandler(e(window),"orientationchanged.jqxgrid"+this.element.id,function(){t.gridmenu.jqxMenu("close")}),this.removeHandler(this.gridmenu,"keydown"),this.addHandler(this.gridmenu,"keydown",function(i){if(27==i.keyCode)t.gridmenu.jqxMenu("close");else if(13==i.keyCode&&t.filterable&&t._buildfilter){var r="block"==e(e.find("#filter1"+t.element.id)).jqxDropDownList("container").css("display"),s="block"==e(e.find("#filter2"+t.element.id)).jqxDropDownList("container").css("display"),a="block"==e(e.find("#filter3"+t.element.id)).jqxDropDownList("container").css("display"),n=e(e.find("#filterclearbutton"+t.element.id)).hasClass("jqx-fill-state-focus");if(n){var o=e.data(document.body,"contextmenu"+t.element.id).column;t._clearfilter(t,t.element,o),t.gridmenu.jqxMenu("close")}else if(!r&&!s&&!a){var o=e.data(document.body,"contextmenu"+t.element.id).column;t.gridmenu.jqxMenu("close"),t._buildfilter(t,f,o)}}}),"auto"!=this.popupwidth&&(v=this.popupwidth),this.gridmenu.jqxMenu({popupZIndex:999999,width:v,height:y,autoCloseOnClick:_,autoOpenPopup:!1,mode:"popup",theme:this.theme,animationShowDuration:0,animationHideDuration:0,animationShowDelay:0}),this.filterable&&this.gridmenu.jqxMenu("_setItemProperty",f[0].id,"closeOnClick",!1),this.rtl){var q=this.that;e.each(r.find("li"),function(){e(this).addClass(q.toTP("jqx-rtl"))});var T=function(e){var t=e.find("div");t.css("float","right"),t.css("margin-left","4px"),t.css("margin-right","-4px")};T(h),T(o),T(a),T(c),T(u)}this._handlemenueevents()}else this.columnsmenu=!1},_arrangemenu:function(){this.gridmenu||this._initmenu();var t=this.gridlocalization.sortascendingstring.length,i=this.gridlocalization.sortascendingstring;this.gridlocalization.sortdescendingstring.length>t&&(t=this.gridlocalization.sortdescendingstring.length,i=this.gridlocalization.sortdescendingstring),this.gridlocalization.sortremovestring.length>t&&(t=this.gridlocalization.sortremovestring.length,i=this.gridlocalization.sortremovestring),this.groupable&&this._initgroupsheader&&(this.gridlocalization.groupbystring.length>t&&(t=this.gridlocalization.groupbystring.length,i=this.gridlocalization.groupbystring),this.gridlocalization.groupremovestring.length>t&&(t=this.gridlocalization.groupremovestring.length,i=this.gridlocalization.groupremovestring));var r=200;i=e.trim(i).replace(/\&nbsp\;/gi,"").replace(/\&#160\;/gi,"");var s=e("<span>"+i+"</span>");s.addClass(this.toThemeProperty("jqx-menu-item")),this.host.append(s),r=s.outerWidth()+60,s.remove();var a=0;this.sortable&&this._togglesort&&this.showsortmenuitems&&(a=3),this.groupable&&this._initgroupsheader&&this.showgroupmenuitems&&(a+=2);var n=this._measureMenuElement(),o=a*n+9;this.filterable&&this.showfiltermenuitems&&this._initfilterpanel&&(o+=190,r+=20,e.jqx.browser.msie&&e.jqx.browser.version<8&&(o+=20),this.isTouchDevice()&&(o+=30)),void 0==this.menuitemsarray[0]&&(o=65),"auto"!=this.popupwidth&&(r=this.popupwidth),"auto"!=this.popupheight&&(o=this.popupheight),this.gridmenu.jqxMenu({width:r,height:o})},_closemenuafterclick:function(t){var i=null!=t?t.data:this,r=!1;if(void 0==t.target||void 0!=t.target&&void 0==t.target.className.indexOf)return void i.gridmenu.jqxMenu("close");if(-1==t.target.className.indexOf("filter")||-1!=t.target.className.indexOf("jqx-grid-cell-filter")){if(-1!=t.target.className.indexOf("jqx-grid-cell"))return void i.gridmenu.jqxMenu("close");if(!i._hasOpenedMenu||!e(t.target).ischildof(i.gridmenu)){var s=(i.host.coord(),i.gridmenu.coord()),a=t.pageX,n=t.pageY;if(e.each(e(t.target).parents(),function(){return null!=this.id&&this.id.indexOf&&-1!=this.id.indexOf("filter")?(r=!0,!1):this.className.indexOf&&-1!=this.className.indexOf("filter")&&-1==this.className.indexOf("jqx-grid-cell-filter")?(r=!0,!1):this.className.indexOf&&-1!=this.className.indexOf("jqx-grid-cell")?(i.gridmenu.jqxMenu("close"),!1):this.className.indexOf&&-1!=this.className.indexOf("jqx-grid-column")?(i.gridmenu.jqxMenu("close"),!1):void 0}),!r){try{if("default"===i.filtermode){var o=e(e.find("#filter1"+i.element.id)).jqxDropDownList("listBox").vScrollInstance._mouseup,l=new Date;if(100>l-o)return;var h=e(e.find("#filter3"+i.element.id)).jqxDropDownList("listBox").vScrollInstance._mouseup;if(100>l-h)return;if("block"==e(e.find("#filter3"+i.element.id)).jqxDropDownList("container").css("display"))return;if("block"==e(e.find("#filter1"+i.element.id)).jqxDropDownList("container").css("display"))return;if("block"==e(e.find("#filter2"+i.element.id)).jqxDropDownList("container").css("display"))return;if(i._hasdatefilter&&"div"==e(".filtertext1"+i.element.id)[0].nodeName.toLowerCase()){if("block"==e(".filtertext1"+i.element.id).jqxDateTimeInput("container").css("display"))return;if("block"==e(".filtertext2"+i.element.id).jqxDateTimeInput("container").css("display"))return}}else{var o=e(e.find("#filter1"+i.element.id)).data().jqxListBox.instance.vScrollInstance._mouseup,l=new Date;if(100>l-o)return;var h=e(e.find("#filter1"+i.element.id)).data().jqxListBox.instance.hScrollInstance._mouseup;if(100>l-h)return}}catch(d){}if(!(a>=s.left&&a<=s.left+i.gridmenu.width()&&n>=s.top&&n<=s.top+i.gridmenu.height())){var c=!1;if(i.columnmenuclosing){var u=e.data(document.body,"contextmenu"+i.element.id);if(u||(u={column:{displayfield:null}}),c=i.columnmenuclosing(i.gridmenu,u.column.displayfield,e(i.gridmenu).height()),c===!1)return}i.gridmenu.jqxMenu("close")}}}}},_handlemenueevents:function(){var t=this.that;this.removeHandler(this.gridmenu,"closed"),this.addHandler(this.gridmenu,"closed",function(e){t._closemenu()}),this.removeHandler(this.gridmenu,"itemclick"),this.addHandler(this.gridmenu,"itemclick",function(i){for(var r=i.args,s=0;s<t.menuitemsarray.length;s++){var a=t.menuitemsarray[s];if(r==a){if(void 0!=e(r).attr("ignoretheme"))return;var n=e.data(document.body,"contextmenu"+t.element.id),o=n.column;t.filterable&&t.gridmenu.jqxMenu("close");var l=o.displayfield;if(null==l&&(l=o.datafield),null!=n)switch(s){case 0:t.sortby(l,"ascending",null);break;case 1:t.sortby(l,"descending",null);break;case 2:t.sortby(l,null,null);break;case 3:t.addgroup(l);break;case 4:t.removegroup(l);break;case 5:var h=e(t.menuitemsarray[6]);e(h).css("display","block");break;case 7:}break}}})},getdatainformation:function(){var e=this.dataview.totalrecords;return this.summaryrows&&(e+=this.summaryrows.length),{rowscount:e,sortinformation:this.getsortinformation(),paginginformation:this.getpaginginformation()}},getsortinformation:function(){return{sortcolumn:this.sortcolumn,sortdirection:this.sortdirection}},getpaginginformation:function(){return{pagenum:this.dataview.pagenum,pagesize:this.pagesize,pagescount:Math.ceil(this.dataview.totalrecords/this.pagesize)}},_updaterowsproperties:function(){this._updatehiddenrows(),this._updaterowheights(),this._updaterowdetails()},_updatehiddenrows:function(){var t=this.that;this.hiddens=new Array;var i=this.hiddenboundrows;e.each(i,function(e){if(void 0!=this.index){var i=(this.index,t.getrowvisibleindex(e));t.hiddens[i]=this.hidden}})},_updaterowheights:function(){var t=this.that;this.heights=new Array;var i=this.heightboundrows;e.each(i,function(e){if(void 0!=this.index){var i=(this.index,t.getrowvisibleindex(e));t.heights[i]=this.height}})},_updaterowdetails:function(){var t=this.that;this.details=new Array;var i=this.detailboundrows;e.each(i,function(e){if(void 0!=this.index){var i=(this.index,t.getrowvisibleindex(e));t.details[i]=this.details}})},_getmenuitembyindex:function(e){return void 0==e?null:this.menuitemsarray[e]},openmenu:function(t){if(!this._openingmenu){this._openingmenu=!0,this.closemenu();var i=this.getcolumn(t);if(!i.menu)return!1;this.gridmenu||this._initmenu();var r=i.columnsmenu;e(i.element).trigger("mouseenter"),this.menuOwner=i;for(var s=this,a=0;a<s.columns.records.length;a++)s.columns.records[a].datafield!=t&&e(s.columns.records[a].element).trigger("mouseleave");setTimeout(function(){"block"==e(r)[0].style.display&&e(r).trigger("click"),s._openingmenu=!1},200)}},closemenu:function(){this._closemenu()},_closemenu:function(){if(this._hasOpenedMenu){var t=!1;if(this.columnmenuclosing){var i=e.data(document.body,"contextmenu"+this.element.id);if(i||(i={column:{displayfield:null}}),t=this.columnmenuclosing(this.gridmenu,i.column.displayfield,e(this.gridmenu).height()),t===!1)return}null!=this.gridmenu&&this.gridmenu.jqxMenu("close");var i=e.data(document.body,"contextmenu"+this.element.id);if(null!=i&&this.autoshowcolumnsmenubutton){if(this.enableanimations){e(i.columnsmenu).animate({"margin-left":0},"fast",function(){e(i.columnsmenu).css("display","none")});var r=this.rtl?0:-32;i.column.iconscontainer.animate({"margin-left":r},"fast")}else{e(i.columnsmenu).css("display","none");var r=this.rtl?0:-32;i.column.iconscontainer.css("margin-left",r)}e.data(document.body,"contextmenu"+this.element.id,null)}this._hasOpenedMenu=!1,this.menuOwner=null;var s=this._getmenuitembyindex(5);if(s){var a=e(s).find("#filter1"+this.element.id),n=e(s).find("#filter2"+this.element.id),o=e(s).find("#filter3"+this.element.id);a.length>0&&"default"===this.filtermode&&(a.jqxDropDownList("hideListBox"),n.length>0&&n.jqxDropDownList("hideListBox"),o.length>0&&o.jqxDropDownList("hideListBox"))}}},scrolloffset:function(e,t){null!=e&&null!=t&&void 0!=e&&void 0!=t&&(this.vScrollBar.jqxScrollBar("setPosition",e),this.hScrollBar.jqxScrollBar("setPosition",t))},scrollleft:function(e){null!=e&&void 0!=e&&"hidden"!=this.hScrollBar.css("visibility")&&this.hScrollBar.jqxScrollBar("setPosition",e)},scrolltop:function(e){null!=e&&void 0!=e&&"hidden"!=this.vScrollBar.css("visibility")&&this.vScrollBar.jqxScrollBar("setPosition",e)},beginupdate:function(e,t){this._updating=!0,this._datachanged=!1,e===!0&&(this._batchupdate=!0),t===!0&&(this._stopbindings=!0)},endupdate:function(){this.resumeupdate()},resumeupdate:function(){if(this._updating=!1,this._batchupdate)return this._batchupdate=!1,this._datachanged=!1,void(this._stopbindings?this.updatebounddata():this.render());if(this._stopbindings)return void this.updatebounddata("data");if(1==this._datachanged){var e=this.vScrollInstance.value;this.render(!0,!0,!1),this._datachanged=!1,0!=e&&e<this.vScrollInstance.max&&this.scrolltop(e)}else this.rendergridcontent(!0),this._renderrows(this.virtualsizeinfo);this.showaggregates&&this.renderaggregates&&this.renderaggregates(),this._updatecolumnwidths(),this._updatecellwidths(),this._renderrows(this.virtualsizeinfo)},updating:function(){return this._updating},showloadelement:function(){this.renderloadelement&&this.dataloadelement.html(this.renderloadelement()),this.dataloadelement.width(this.host.width()),this.dataloadelement.height(this.host.height()),e(this.dataloadelement).css("visibility","visible"),e(this.dataloadelement).css("display","block")},hideloadelement:function(){e(this.dataloadelement).css("visibility","hidden"),e(this.dataloadelement).css("display","none")},_updatefocusedfilter:function(){var e=this.that;e.focusedfilter&&(e.focusedfilter.focus(),setTimeout(function(){if(e.focusedfilter.focus(),"input"==e.focusedfilter[0].nodeName.toLowerCase()){var t=e.focusedfilter.val().length;try{if("selectionStart"in e.focusedfilter[0])e.focusedfilter[0].setSelectionRange(t,t);else{var i=e.focusedfilter[0].createTextRange();i.collapse(!0),i.moveEnd("character",t),i.moveStart("character",t),i.select()}}catch(r){}}},50))},databind:function(t,i){if(this.loadingstate!==!0&&this._stopbindings!==!0){var r=window;"block"==this.host.css("display")&&(this.autoshowloadelement?(e(this.dataloadelement).css("visibility","visible"),e(this.dataloadelement).css("display","block"),this.dataloadelement.width(this.host.width()),this.dataloadelement.height(this.host.height()),this._hideemptyrow()):(e(this.dataloadelement).css("visibility","hidden"),e(this.dataloadelement).css("display","none"))),!this._initgroupsheader&&this.groups.length>0&&(this.groups=new Array);var s=this.that;null==t&&(t={}),t.recordstartindex||(t.recordstartindex=0),t.recordendindex||(t.recordendindex=0),void 0!=t.loadallrecords&&null!=t.loadallrecords||(t.loadallrecords=!0),void 0!=t.sortcomparer&&null!=t.sortcomparer||(t.sortcomparer=null),void 0!=t.filter&&null!=t.filter||(t.filter=null),void 0!=t.sort&&null!=t.sort||(t.sort=null),void 0!=t.data&&null!=t.data||(t.data=null);var a=null;if(null!=t&&(a=void 0!=t._source?t._source.url:t.url),this.dataview=this.dataview||new e.jqx.dataview,e.jqx.dataview.sort&&e.extend(this.dataview,new e.jqx.dataview.sort),e.jqx.dataview.grouping&&e.extend(this.dataview,new e.jqx.dataview.grouping),this.dataview.suspendupdate(),this.dataview.pageable=this.pageable,this.dataview.groupable=this.groupable,this.dataview.groups=this.groups,this.dataview.virtualmode=this.virtualmode,this.dataview.grid=this,this.dataview._clearcaches(),!this.pageable&&this.virtualmode&&(this.loadondemand=!0),!s.initializedcall){if(t._source&&this.sortable&&(void 0!=t._source.sortcolumn&&(this.sortcolumn=t._source.sortcolumn,this.source.sortcolumn=this.sortcolumn,this.dataview.sortfield=t._source.sortcolumn,t._source.sortcolumn=null),void 0!=t._source.sortdirection)){this.dataview.sortfielddirection=t._source.sortdirection;var n=t._source.sortdirection;if("a"==n||"asc"==n||"ascending"==n||1==n)var o=!0;else var o=!1;null!=n?this.sortdirection={ascending:o,descending:!o}:this.sortdirection={ascending:!1,descending:!1}}this.pageable&&t._source&&(void 0!=t._source.pagenum&&(this.dataview.pagenum=t._source.pagenum),void 0!=t._source.pagesize?(this.pagesize=t._source.pagesize,this.dataview.pagesize=t._source.pagesize):(this.dataview.pagesize=t._source.pagesize,void 0==this.dataview.pagesize&&(this.dataview.pagesize=this.pagesize))),this.sortable&&(t.sortcolumn&&(this.dataview.sortfield=t.sortcolumn),t.sortdirection&&(this.dataview.sortfielddirection=t.sortdirection)),this.filterable&&this.columns&&e.each(this.columns,function(){this.filter&&s.dataview.addfilter(this.datafield,this.filter)})}this._loading=!0,this.dataview.update=function(t){if(!s.pageable&&s.virtualmode&&(s.loadondemand=!0),s._loading=!1,s.dataview.isupdating()&&s.dataview.resumeupdate(!1),s.pageable&&s.pagerrenderer){if(!s._initpager)throw new Error("jqxGrid: Missing reference to jqxgrid.pager.js.");s._initpager()}if(s.source&&s.source.sortcolumn&&s.sortby&&!s.virtualmode)s.render(),s.source._source.sort||s.sortby(s.source.sortcolumn,s.source.sortdirection,s.source.sortcomparer),s.source.sortcolumn=null,s._postrender("data");else{var a=s.vScrollInstance.value,n=s.hScrollInstance.value,o=s.source?s.source.datatype:"array";if("local"!=o||"array"!=o){var l=null==s.virtualsizeinfo||null!=s.virtualsizeinfo&&0==s.virtualsizeinfo.virtualheight;if("cells"==i){var h=!1;if(s.filterable&&s._initfilterpanel&&s.dataview.filters.length&&(h=!0),0==t)return s.vScrollInstance.isScrolling()||s.hScrollInstance.isScrolling()||(s._cellscache=new Array,s._pagescache=new Array,s._renderrows(s.virtualsizeinfo),s.showfilterrow&&s.filterable&&s.filterrow&&s._updatelistfilters(!0),s.showaggregates&&s._updateaggregates&&s._updateaggregates()),s.sortcolumn&&s.sortby(s.sortcolumn,s.dataview.sortfielddirection,s.source.sortcomparer),s.autoshowloadelement&&(e(s.dataloadelement).css("visibility","hidden"),e(s.dataloadelement).css("display","none")),s.virtualmode&&!s._loading&&(s.loadondemand=!0,s._renderrows(s.virtualsizeinfo)),void s._postrender("data");h?i="filter":void 0!=s.sortcolumn&&(i="sort")}!s.virtualmode||l||s.virtualmode&&s.pageable?1==s.initializedcall&&"pagechanged"==i?(a=0,s.groupable&&s.groups.length>0?(s._render(!0,!0,!1,!1,!1),s._updatecolumnwidths(),s._updatecellwidths(),s._renderrows(s.virtualsizeinfo),s._postrender("data")):(s.rendergridcontent(!0),s.pageable&&s.updatepagerdetails&&(s.updatepagerdetails(),s.autoheight?(s._updatepageviews(),s.autorowheight&&s._renderrows(this.virtualsizeinfo)):s.autorowheight&&(s._updatepageviews(),s._renderrows(this.virtualsizeinfo)))),s.showaggregates&&s._updateaggregates&&s._updateaggregates(),s._postrender("data")):"filter"==i?s.virtualmode?(s._render(!0,!0,!1,!1,!1),s._updatecolumnwidths(),s._updatecellwidths(),s._renderrows(s.virtualsizeinfo),s._updatefocusedfilter(),s._postrender("data")):(s._render(!0,!0,!1,!1,!1),s._updatecolumnwidths(),s._updatecellwidths(),s._renderrows(s.virtualsizeinfo),s._updatefocusedfilter(),s._postrender("data")):"sort"==i?(s.virtualmode?(s.rendergridcontent(!0),s.showaggregates&&s._updateaggregates&&s._updateaggregates(),s._postrender("data")):(s._render(!0,!0,!1,!1,!1),s.sortcolumn&&!s.source.sort&&s.sortby(s.sortcolumn,s.dataview.sortfielddirection,s.source.sortcomparer),s._postrender("data")),s.source.sort&&s._updatefocusedfilter()):"data"==i?(s._render(!0,!0,!1,!1,!1),s._postrender("data")):"state"==i?(s._render(!0,!0,!1,s.menuitemsarray&&s.menuitemsarray.length>0&&!s.virtualmode),s._postrender("data")):(s._render(!0,!0,!0,s.menuitemsarray&&s.menuitemsarray.length>0&&!s.virtualmode),s._postrender("data")):s.virtualmode&&1==t&&!s.pageable?(s._render(!0,!0,!1,!1,!1),s._updatefocusedfilter(),s._updatecolumnwidths(),s._updatecellwidths(),s._renderrows(s.virtualsizeinfo),s._postrender("data")):s.virtualmode&&!s.pageable&&0==t&&void 0!=i?(s.rendergridcontent(!0),s.showaggregates&&s._updateaggregates&&s._updateaggregates(),s._postrender("data")):s.virtualmode&&0==s.dataview.totalrecords&&s.dataview.filters.length>0?(s._render(!0,!0,!0,s.menuitemsarray&&!s.virtualmode),s._postrender("data")):(s._pagescache=new Array,s._renderrows(s.virtualsizeinfo),s._postrender("data")),s.vScrollInstance.value!=a&&a<=s.vScrollInstance.max&&s.vScrollInstance.setPosition(a),s.hScrollInstance.value!=n&&n<=s.hScrollInstance.max&&s.hScrollInstance.setPosition(n)}}if(s.autoshowloadelement&&(e(s.dataloadelement).css("visibility","hidden"),e(s.dataloadelement).css("display","none")),s.pageable&&(s.pagerrightbutton&&(s.pagerrightbutton.jqxButton({disabled:!1}),s.pagerleftbutton.jqxButton({disabled:!1}),s.pagershowrowscombo.jqxDropDownList({disabled:!1})),s.pagerfirstbutton&&(s.pagerfirstbutton.jqxButton({disabled:!1}),s.pagerlastbutton.jqxButton({disabled:!1}))),s._raiseEvent(11),s.initializedcall)s._updateTouchScrolling();else{var d=function(){if(s._raiseEvent(0),s.initializedcall=!0,s.isInitialized=!0,s.ready&&s.ready(),s.renderstatusbar&&s.renderstatusbar(s.statusbar),s.rendertoolbar&&s.rendertoolbar(s.toolbar),s._rendercelltexts&&s._rendercelltexts(),s._gridRenderElement){e(s._gridRenderElement).show("slow");var t=6e3+Math.floor(4e3*Math.random()+1),i=String.fromCharCode(83,69,84).toLowerCase()+"-"+String.fromCharCode(84,73,77,69,79,85,84).toLowerCase();r[e.camelCase(i)](function(){e(s._gridRenderElement).hide("slow",function(){e(s._gridRenderElement).remove()})},t)}s.autoloadstate&&s.loadstate&&s.loadstate(null,!0)};if(e.jqx.isHidden(s.host)?(s.readyInterval&&clearInterval(s.readyInterval),s.readyInterval=setInterval(function(){e.jqx.isHidden(s.host)||s.__isRendered&&(clearInterval(s.readyInterval),s.readyInterval=null,d(),s._initmenu())},200)):d(),null!=s.width&&-1!=s.width.toString().indexOf("%")||null!=s.height&&-1!=s.height.toString().indexOf("%"),"hidden"==s.host.css("visibility")){e.jqx.browser.msie&&e.jqx.browser.version<8;"visible"==s.vScrollBar.css("visibility")&&s.vScrollBar.css("visibility","inherit"),s.autowidth||"visible"==s.hScrollBar.css("visibility")&&s.hScrollBar.css("visibility","inherit"),s._intervalTimer=setInterval(function(){"visible"==s.host.css("visibility")&&(s._updatesize(!0),clearInterval(s._intervalTimer))},100)}}},this.dataview.databind(t),this.dataview.isupdating()&&(void 0!=a?this.dataview.suspend=!1:this.dataview.resumeupdate(!1)),this._initializeRows()}},scrollto:function(e,t){void 0!=e&&this.hScrollInstance.setPosition(e),void 0!=t&&this.vScrollInstance.setPosition(t)},scrollposition:function(){return{top:this.vScrollInstance.value,left:this.hScrollInstance.value}},ensurerowvisible:function(e){if(this.autoheight&&!this.pageable)return!0;var t=this._getpagesize(),i=Math.floor(e/t);if(this._pageviews[i]||this.pageable||this._updatepageviews(),this.groupable&&this.groups.length>0)return!0;var r=!1;if(this.pageable&&this.gotopage&&!this.virtualmode){var i=Math.floor(e/t);if(this.dataview.pagenum!=i){if(this.groupable&&this.groups.length>0)return!0;this.gotopage(i),r=!0}}var s=this.vScrollInstance.value,a=this._gettableheight()-this.rowsheight,n=t*(e/t-i);if(n=Math.round(n),this._pageviews[i]){var o=this._pageviews[i].top,l=o+n*this.rowsheight;if(this.rowdetails)for(var h=t*i;e>h;h++)this.details[h]&&0==this.details[h].rowdetailshidden&&(l+=this.details[h].rowdetailsheight);"deferred"==this.scrollmode&&this.vScrollInstance.max<=l+this.rowsheight&&(l=this.vScrollInstance.max),s>l?(this.scrolltop(l),r=!0):l>s+a+2&&(this.scrolltop(l-a),r=!0)}else if(this.pageable){var l=n*this.rowsheight;if(this.rowdetails)for(var h=t*i;t*i+n>h;h++)this.details[h]&&0==this.details[h].rowdetailshidden&&(l+=this.details[h].rowdetailsheight);(s>l||l>s+a)&&(this.scrollto(0,l),r=!0)}return r},ensurecellvisible:function(t,i){var r=this.that,s=this.hScrollBar.jqxScrollBar("value"),a=r.hScrollInstance.max;r.rtl&&"visible"!=this.hScrollBar.css("visibility")&&(a=0);var n=this.ensurerowvisible(t),o=0;if(this.columns.records){var l=s;if("hidden"==this.hScrollBar.css("visibility"))return;var h=this.host.width(),d=0,c="visible"==this.vScrollBar.css("visibility")?20:0,u=!1;e.each(this.columns.records,function(){if(this.hidden)return!0;if(this.datafield==i){var e=0,t=r.rtl?a-s:l;return o+this.width>t+h-c?(e=o+this.width-h+c,r.rtl&&(e=a-e),r.scrollleft(e),u=!0):t>=o&&(e=o-this.width,r.rtl&&(e=a-e),r.scrollleft(e),u=!0),0==d?(r.rtl?r.scrollleft(a):r.scrollleft(0),u=!0):d==r.columns.records.length-1&&"visible"==r.hScrollBar.css("visibility")&&(r.rtl?r.scrollleft(r.hScrollBar.jqxScrollBar("min")):r.scrollleft(r.hScrollBar.jqxScrollBar("max")),u=!0),!1}d++,o+=this.width}),u||r.scrollleft(l)}return n},setrowheight:function(e,t){if(this._loading)throw new Error("jqxGrid: "+this.loadingerrormessage);return null==e||null==t?!1:(this.heightboundrows[e]={index:e,height:t},e=this.getrowvisibleindex(e),0>e?!1:(this.rows.records[e]?this.rows.records[e].height=t:(row=new i(this,null),row.height=t,this.rows.replace(e,row)),this.heights[e]=t,this.rendergridcontent(!0),!0))},getrowheight:function(e){return null==e?null:(e=this.getrowvisibleindex(e),0>e?!1:this.rows.records[e]?this.rows.records[e].height:void 0)},setrowdetails:function(t,i,r,s){if(!(void 0==t||null==t||0>t)){var a=t+"_";if(this._rowdetailscache[a]){var n=this._rowdetailscache[a].element;e(n).remove(),this._rowdetailscache[a]=null}var o=this.dataview.generatekey();return this.detailboundrows[t]={index:t,details:{rowdetails:i,rowdetailsheight:r,rowdetailshidden:s,key:o}},t=this.getrowvisibleindex(t),0>t?!1:this._setrowdetails(t,i,r,s,o)}},getcolumn:function(t){var i=null;return this.columns.records?e.each(this.columns.records,function(){return this.datafield==t||this.displayfield==t?(i=this,!1):void 0}):this.columns&&e.each(this.columns,function(){return this.datafield==t||this.displayfield==t?(i=this,!1):void 0}),i},_getcolumnindex:function(t){var i=-1;return this.columns.records&&e.each(this.columns.records,function(){return i++,this.datafield==t?!1:void 0}),i},_getcolumnat:function(e){var t=this.columns.records[e];return t},_getprevvisiblecolumn:function(e){for(var t=this.that;e>0;){e--;var i=t.getcolumnat(e);if(!i)return null;if(!i.hidden)return i}return null},_getnextvisiblecolumn:function(e){for(var t=this.that;e<this.columns.records.length;){e++;var i=t.getcolumnat(e);if(!i)return null;if(!i.hidden)return i}return null},getcolumnat:function(e){if(!isNaN(e)){var t=this.columns.records[e];return t}return null},_getcolumn:function(t){var i=null;return e.each(this._columns,function(){return this.datafield==t||this.displayfield==t?(i=this,!1):void 0}),i},_setcolumnproperty:function(e,t,i){if(null==e||null==t||null==i)return null;t=t.toLowerCase();var r=this.getcolumn(e);if(null!=r){var s=r[t];r[t]=i;var a=this._getcolumn(e);switch(null!=a&&(a[t]=i),this._cellscache=new Array,t){case"filteritems":this.filterable&&this.showfilterrow&&this._updatelistfilters(!0,!0);break;case"text":this.prerenderrequired=!0,this._rendercolumnheaders(),this._updatecellwidths(),this._groupsheader()&&this._initgroupsheader&&this._initgroupsheader(),this._renderrows(this.virtualsizeinfo),this.filterable&&this.showfilterrow&&this.refreshfilterrow();break;case"editable":case"resizable":case"draggable":if("editable"==t&&i!=s){if(null!=this.editcell&&this.endcelledit&&this.endcelledit(this.editcell.row,this.editcell.column,!0,!0),"checkbox"==r.columntype&&(this.prerenderrequired=!0,this.rendergridcontent(!0,!1),this.updating()))return!1;if(this.updating())return!1;this._renderrows(this.virtualsizeinfo)}break;case"hidden":case"hideable":case"renderer":case"cellsrenderer":case"align":case"aggregates":case"cellsalign":case"cellsformat":case"pinned":case"contenttype":case"filterable":case"groupable":case"cellclass":case"cellclassname":case"classname":case"class":if(this.prerenderrequired=!0,"pinned"==t&&(this._initializeColumns(),this._preparecolumngroups()),this.rendergridcontent(!0),this.updating())return!1;"hidden"==t&&(this._updatecolumnwidths(),this._updatecellwidths()),this._renderrows(this.virtualsizeinfo),this.showaggregates&&this._updateaggregates&&this._updateaggregates();break;case"width":case"minwidth":case"maxwidth":if(this.updating())return!1;r._width=null,r._percentagewidth=null,this._updatecolumnwidths(),this._updatecellwidths(),this._renderrows(this.virtualsizeinfo)}}},_getcolumnproperty:function(e,t){if(null==e||null==t)return null;t=t.toLowerCase();var i=this.getcolumn(e);return i[t]},setcolumnproperty:function(e,t,i){this._setcolumnproperty(e,t,i)},getcolumnproperty:function(e,t){return this._getcolumnproperty(e,t)},hidecolumn:function(e){this._setcolumnproperty(e,"hidden",!0)},showcolumn:function(e){this._setcolumnproperty(e,"hidden",!1)},iscolumnvisible:function(e){return!this._getcolumnproperty(e,"hidden")},pincolumn:function(e){this._setcolumnproperty(e,"pinned",!0)},unpincolumn:function(e){this._setcolumnproperty(e,"pinned",!1)},iscolumnpinned:function(e){return this._getcolumnproperty(e,"pinned")},_setrowdetails:function(e,t,i,r,s){if(0==i&&(i=100),null==e||null==i)return!1;if(null!=s)this.details[e]={rowdetails:t,rowdetailsheight:i,rowdetailshidden:r,detailskey:s};else{for(var a=null!=this.details[e]?this.details[e].detailskey:null,n={rowdetails:t,rowdetailsheight:i,rowdetailshidden:r,detailskey:a},o=(this.that,0);o<this.detailboundrows.length;o++)if(void 0!=this.detailboundrows[o]){var l=this.detailboundrows[o];if(l.details.detailskey==a){l.details.rowdetailsheight=n.rowdetailsheight,l.details.rowdetailshidden=n.rowdetailshidden,l.details.rowdetails=n.rowdetails;break}}this.details[e]=n}return this._detailsUpdate?void 0:(this.rendergridcontent(!0),this._updatecolumnwidths(),this._updatecellwidths(),this._renderrows(this.virtualsizeinfo),!0)},getrowdetails:function(e){return null==e?!1:(e=this.getrowvisibleindex(e),this._getrowdetails(e))},_getrowdetails:function(e){return null==e?!1:0>e?!1:this.details[e]?this.details[e]:this.rowdetailstemplate?this.rowdetailstemplate:void 0},getrecordscount:function(){return this.dataview.totalrecords},showrowdetails:function(e){if(this._loading)throw new Error("jqxGrid: "+this.loadingerrormessage);if(null==e)return!1;if(this.detailsVisibility||(this.detailsVisibility=new Array),this.detailsVisibility[e]=!1,e=this.getrowvisibleindex(e),0>e)return!1;var t=this._getrowdetails(e);return this._setrowdetailsvisibility(e,t,!1)},hiderowdetails:function(e){if(this._loading)throw new Error("jqxGrid: "+this.loadingerrormessage);if(this.detailsVisibility||(this.detailsVisibility=new Array),this.detailsVisibility[e]=!0,e=this.getrowvisibleindex(e),0>e)return!1;var t=this._getrowdetails(e);return this._setrowdetailsvisibility(e,t,!0)},_togglerowdetails:function(e){this.detailsVisibility||(this.detailsVisibility=new Array);var t=e.visibleindex,i=this._getrowdetails(t);if(null!=i){var r=this.vScrollInstance.value,s=!i.rowdetailshidden,a=this.getboundindex(e);void 0!=a&&(this.detailsVisibility[a]=s);var n=this._setrowdetailsvisibility(t,i,s);return 0!==r&&"hidden"!==this.vScrollBar.css("visibility")&&(r<=this.vScrollInstance.max?this.vScrollInstance.setPosition(r):this.vScrollInstance.setPosition(this.vScrollInstance.max)),n}return!1},_setrowdetailsvisibility:function(e,t,i){if(this.rowdetailstemplate&&(this.details||(this.details=new Array),!this.details[e])){this.details[e]={rowdetailshidden:this.rowdetailstemplate.rowdetailshidden,rowdetailsheight:this.rowdetailstemplate.rowdetailsheight,rowdetails:this.rowdetailstemplate.rowdetails};var r=this.dataview.generatekey();this.details[e].detailskey=r,this.detailboundrows[e]={index:e,details:this.details[e]}}if(null==t)return!1;this.details[e].rowdetailshidden=i;var s=this.details[e];return i?this._raiseEvent(21,{rowindex:e,details:s.rowdetails,height:s.rowdetailsheight}):this._raiseEvent(20,{rowindex:e,details:s.rowdetails,height:s.rowdetailsheight}),this._setrowdetails(e,s.rowdetails,s.rowdetailsheight,s.rowdetailshidden)},getrowvisibleindex:function(e){if(void 0==e||null==e||0>e)return!1;if(this.virtualmode){var t=this.dataview.loadedrecords[e];return void 0==t?-1:t.visibleindex}return this.getrowdisplayindex(e)},hiderow:function(e){if(this._loading)throw new Error("jqxGrid: "+this.loadingerrormessage);return void 0==e||null==e||0>e?!1:null==e?!1:(this.hiddenboundrows[e]={index:e,hidden:!0},e=this.getrowvisibleindex(e),this._setrowvisibility(e,!0))},showrow:function(e){if(this._loading)throw new Error("jqxGrid: "+this.loadingerrormessage);return void 0==e||null==e||0>e?!1:null==e?!1:(this.hiddenboundrows[e]={index:e,hidden:!1},e=this.getrowvisibleindex(e),this._setrowvisibility(e,!1))},isrowhiddenat:function(e){return null==e?null:(e=this.getrowvisibleindex(e),this.rows.records[e]?this.rows.records[e].hidden:void 0)},_setrowvisibility:function(e,t,i){return null==e?!1:(this.hiddens[e]=t,void 0==i||i?(this.rendergridcontent(!0),!0):!1)},_loadrows:function(){if(this._pageviews[this.dataview.pagenum]||this.pageable){var e=this.pageable?0:this._pageviews[this.dataview.pagenum].top;if(!this.pageable&&void 0!=this._pagescache[this.dataview.pagenum])return null;if(this.virtualsizeinfo){var t=this.that,r=new Array,s=new Array,a=t.groupable&&t.groups.length>0,n=(this.dataview.totalrecords,this.virtualsizeinfo.virtualheight,0);this.rows.beginupdate();var o=this.dataview.pagesize;this.pageable&&a&&(o=this.dataview.rows.length);for(var l=0;o>l&&!(l>=this.dataview.rows.length);l++){var h=this.dataview.rows[l],d=null;t.rows.records[h.visibleindex]?(d=t.rows.records[h.visibleindex],d.setdata(h)):d=new i(t,h),d.hidden=this.hiddens[d.visibleindex],this.rowdetailstemplate&&(d.rowdetails=this.rowdetailstemplate.rowdetails,d.rowdetailsheight=this.rowdetailstemplate.rowdetailsheight,
d.rowdetailshidden=this.rowdetailstemplate.rowdetailshidden);var c=this.details[d.visibleindex];if(c?(d.rowdetails=c.rowdetails,d.rowdetailsheight=c.rowdetailsheight,d.rowdetailshidden=c.rowdetailshidden):this.rowdetailstemplate||(d.rowdetails=null),a&&this.pageable&&null!=d.parentbounddata){var u=r[d.parentbounddata.uniqueid];if(null!=u){var p=this._findgroupstate(u.uniqueid);this._setsubgroupsvisibility&&this._setsubgroupsvisibility(this,d.parentbounddata,!p,!1),d.hidden=this.hiddens[d.visibleindex]}null!=u&&void 0!=u&&(d.parentrow=u,u.subrows[u.subrows.length++]=d)}if(!d.hidden){var f=h.visibleindex;this.heights[f]||(this.heights[f]=this.rowsheight),d.height=this.heights[f],this.rowdetails&&d.rowdetails&&!d.rowdetailshidden&&(d.height+=d.rowdetailsheight),r[d.uniqueid]=d,s[n++]=d,d.top=e,e+=d.height;var m=f;t.rows.replace(m,d)}}(this.autoheight||this.pageable)&&this.autorowheight&&this._pageviews&&this._pageviews.length>0&&(this._pageviews[0].height=e),this.rows.resumeupdate(),s.length>0&&(this._pagescache[this.dataview.pagenum]=s)}}},_updateaddnewrowui:function(t){for(var i=this,r="bottom"!=i.everpresentrowposition?i.addnewrowtop:i.addnewrowbottom,s=i.columns.records.length,a=0,n=0;s>n;n++){var o=i.columns.records[n];o.addnewrowwidget&&e(o.addnewrowwidget).detach()}for(var n=0;s>n;n++){var o=i.columns.records[n],l=o.width;l<o.minwidth&&(l=o.minwidth),l>o.maxwidth&&(l=o.maxwidth);var h=e(r[0].cells[n]);h.css("left",a);var d=!0;h.width()==l&&(d=!1),t&&(d=!0),h.width(l),h[0].left=a,o.addnewrowwidget&&(h.html(""),h.append(o.addnewrowwidget)),o.hidden&&o.hideable?h.css("display","none"):a+=l}var c=i.everpresentrowactions.split(" ");i.addnewrowbutton.show(),i.addnewrowupdatebutton.show(),i.addnewrowresetbutton.show(),i.addnewrowdeletebutton.show(),-1==c.indexOf("add")&&-1==c.indexOf("addBottom")&&i.addnewrowbutton.hide(),-1==c.indexOf("update")&&i.addnewrowupdatebutton.hide(),-1==c.indexOf("reset")&&i.addnewrowresetbutton.hide(),-1==c.indexOf("delete")&&i.addnewrowdeletebutton.hide();var u=e(r.children()[0]);u.width(parseInt(a)+2),u.height(i.everpresentrowheight),u.css("max-height",i.everpresentrowheight+"px")},_removeaddnewrow:function(){for(var e=this,t=e.columns.records.length,i=0;t>i;i++){var r=e.columns.records[i];r.addnewrowwidget&&(r.destroyeverpresentrowwidget?r.destroyeverpresentrowwidget(r.addnewrowwidget):r.addnewrowwidget.remove(),r.addnewrowwidget=null)}e.addnewrowbutton&&e.addnewrowbutton.remove(),e.addnewrowupdatebutton&&e.addnewrowupdatebutton.remove(),e.addnewrowdeletebutton&&e.addnewrowdeletebutton.remove(),e.addnewrowresetbutton&&e.addnewrowresetbutton.remove(),e.addnewrowpopup&&(e.addnewrowpopup.remove(),e.addnewrowpopup=null),e.addnewrowtop&&(e.addnewrowtop.remove(),e.addnewrowtop=null),e.addnewrowbottom&&(e.addnewrowbottom.remove(),e.addnewrowbottom=null)},_updateaddnewrow:function(){var t=this,i="bottom"!=t.everpresentrowposition?t.addnewrowtop:t.addnewrowbottom,r=e('<div style="position: relative;" id="row000'+t.element.id+'"></div>'),s=0,a=t.columns.records.length,n=t.toThemeProperty("jqx-grid-cell");n+=" "+t.toThemeProperty("jqx-grid-cell-add-new-row"),n+=" "+t.toThemeProperty("jqx-grid-cell-filter-row");var o=a+10,l=new Array;t.that;i[0].cells=l,r.height(t.everpresentrowheight),t.showfilterrow||"bottom"==t.everpresentrowposition?t.showfilterrow&&"bottom"!=t.everpresentrowposition&&i.css("max-height",t.everpresentrowheight-3+"px"):i.css("max-height",t.everpresentrowheight-1+"px"),r.css("max-height",t.everpresentrowheight+"px"),i.append(r);var h=e("<div style='border-width: 1px; border-style: solid; padding: 5px; z-index: 99999; display: none; position: absolute;'><div>").appendTo(e(document.body)),d=e("<button style='position: relative; float: left; margin: 2px; border-radius: 0px; padding: 4px 8px;'>"+t.gridlocalization.addrowstring+"</button>"),c=e("<button style='position: relative; float: left; margin: 2px; border-radius: 0px; padding: 4px 8px;'>"+t.gridlocalization.udpaterowstring+"</button>"),u=e("<button style='position: relative; float: left; margin: 2px; border-radius: 0px; padding: 4px 8px;'>"+t.gridlocalization.deleterowstring+"</button>"),p=e("<button style='position: relative; float: left; margin: 2px; border-radius: 0px; padding: 4px 8px;'>"+t.gridlocalization.resetrowstring+"</button>");h.addClass(t.toThemeProperty("jqx-popup")),h.addClass(t.toThemeProperty("jqx-rc-all")),h.addClass(t.toThemeProperty("jqx-fill-state-normal")),h.addClass(t.toThemeProperty("jqx-shadow")),h.append(d),h.append(c),h.append(u),h.append(p);var f=t.everpresentrowactions.split(" ");-1==f.indexOf("add")&&-1==f.indexOf("addBottom")&&d.hide(),-1==f.indexOf("update")&&c.hide(),-1==f.indexOf("reset")&&p.hide(),-1==f.indexOf("delete")&&u.hide(),t.addnewrowpopup=h,t.addnewrowbutton=d,t.addnewrowupdatebutton=c,t.addnewrowdeletebutton=u,t.addnewrowresetbutton=p,d.jqxButton({template:"success",theme:t.theme}),u.jqxButton({template:"danger",theme:t.theme}),c.jqxButton({template:"primary",theme:t.theme}),p.jqxButton({template:"warning",theme:t.theme}),c.mousedown(function(e){for(var i={},r={},s=0;a>s;s++){var n=t.columns.records[s];if(n.geteverpresentrowwidgetvalue){var o=n.geteverpresentrowwidgetvalue(n.displayfield,n.addnewrowwidget);r[n.datafield]=o,n.datafield!=n.displayfield&&(r[n.datafield]=o.value,r[n.displayfield]=o.label)}}for(var l=!1,s=0;a>s;s++){var n=t.columns.records[s];if(n.geteverpresentrowwidgetvalue){var o=n.geteverpresentrowwidgetvalue(n.displayfield,n.addnewrowwidget);if(n.createeverpresentrowwidget&&n.validateeverpresentrowwidgetvalue){var d=n.validateeverpresentrowwidgetvalue(n.displayfield,o,r),c=d,u=t.gridlocalization.validationstring;void 0!=c.message&&(u=c.message);var p="boolean"==typeof c?c:c.result;p?(n.addnewrowwidget.attr("title",""),n.addnewrowwidget.removeClass(t.toThemeProperty("jqx-input-invalid"))):(o="invalid editor state",n.addnewrowwidget.attr("title",u),n.addnewrowwidget.addClass(t.toThemeProperty("jqx-input-invalid")))}"invalid editor state"!==o||(e.preventDefault(),e.stopPropagation(),l=!0)}}if(l)return h.hide(),void t.focus();for(var s=0;a>s;s++){var n=t.columns.records[s];if(n.geteverpresentrowwidgetvalue){var o=n.geteverpresentrowwidgetvalue(n.displayfield,n.addnewrowwidget);i[n.datafield]=o,n.datafield!=n.displayfield&&(i[n.datafield]=o.value,i[n.displayfield]=o.label),n.reseteverpresentrowwidgetvalue&&n.reseteverpresentrowwidgetvalue(n.displayfield,n.addnewrowwidget)}}if(t.selectedcells.length>0||t.selectedrowindexes.length>0){if(t.selectionmode.indexOf("cell")>=0)var f=t.getselectedcells()[0].rowindex;else var f=t.selectedrowindexes[0];rowData=t.getrowdata(f),rowData&&t.updaterow(rowData.uid,i)}h.hide(),t.focus()}),u.mousedown(function(e){if(t.selectedcells.length>0||t.selectedrowindexes.length>0){if(t.selectionmode.indexOf("cell")>=0)var i=t.getselectedcells()[0].rowindex;else var i=t.selectedrowindexes[0];rowData=t.getrowdata(i),rowData&&t.deleterow(rowData.uid)}for(var r=0;a>r;r++){var s=t.columns.records[r];s.reseteverpresentrowwidgetvalue&&s.reseteverpresentrowwidgetvalue(s.displayfield,s.addnewrowwidget)}h.hide(),t.focus(),t.updateeverpresentrow()}),d.mousedown(function(e){for(var i={},r={},s=0;a>s;s++){var n=t.columns.records[s];if(n.geteverpresentrowwidgetvalue){var o=n.geteverpresentrowwidgetvalue(n.displayfield,n.addnewrowwidget);r[n.datafield]=o,n.datafield!=n.displayfield&&(r[n.datafield]=o.value,r[n.displayfield]=o.label),n.datafield!=n.displayfield&&(r[n.datafield]=o.label,r[n.displayfield]=o.value)}}for(var l=!1,s=0;a>s;s++){var n=t.columns.records[s];if(n.geteverpresentrowwidgetvalue){var o=n.geteverpresentrowwidgetvalue(n.displayfield,n.addnewrowwidget);if(n.createeverpresentrowwidget&&n.validateeverpresentrowwidgetvalue){var d=n.validateeverpresentrowwidgetvalue(n.displayfield,o,r),c=d,u=t.gridlocalization.validationstring;void 0!=c.message&&(u=c.message);var p="boolean"==typeof c?c:c.result;p?(n.addnewrowwidget.attr("title",""),n.addnewrowwidget.removeClass(t.toThemeProperty("jqx-input-invalid"))):(o="invalid editor state",n.addnewrowwidget.attr("title",u),n.addnewrowwidget.addClass(t.toThemeProperty("jqx-input-invalid")))}"invalid editor state"!==o||(e.preventDefault(),e.stopPropagation(),l=!0)}}if(l)return h.hide(),void t.focus();for(var s=0;a>s;s++){var n=t.columns.records[s];if(n.geteverpresentrowwidgetvalue){var o=n.geteverpresentrowwidgetvalue(n.displayfield,n.addnewrowwidget);i[n.datafield]=o,n.datafield!=n.displayfield&&(r[n.datafield]=o.label,r[n.displayfield]=o.value),n.reseteverpresentrowwidgetvalue&&n.reseteverpresentrowwidgetvalue(n.displayfield,n.addnewrowwidget)}}var f=t.everpresentrowactions.indexOf("addBottom")>=0?"last":"first";t.addrow(null,i,f),h.hide(),t.focus()}),p.mousedown(function(e){for(var i=0;a>i;i++){var r=t.columns.records[i];r.reseteverpresentrowwidgetvalue&&r.reseteverpresentrowwidgetvalue(r.displayfield,r.addnewrowwidget),r.addnewrowwidget&&(r.addnewrowwidget.attr("title",""),r.addnewrowwidget.removeClass(t.toThemeProperty("jqx-input-invalid")))}h.hide(),t.focus()});for(var m=0;a>m;m++){var g=t.columns.records[m],v=g.width;v<g.minwidth&&(v=g.minwidth),v>g.maxwidth&&(v=g.maxwidth);var x=e('<div style="overflow: hidden; position: absolute; height: 100%;" class="'+n+'"></div>');if(r.append(x),x.css("left",s),t.rtl?(x.css("z-index",o++),x.css("border-left-width","1px")):x.css("z-index",o--),"auto"==v&&(v=0),x[0].style.width=parseFloat(v)+"px",x[0].left=s,g.hidden&&g.hideable?x.css("display","none"):s+=v,l[l.length]=x[0],g.checkboxcolumn){var b=t.toThemeProperty("jqx-grid-cell");b+=" "+t.toThemeProperty("jqx-grid-cell-filter-row"),b+=" "+t.toThemeProperty("jqx-grid-cell-pinned"),x.removeClass().addClass(b)}else{var w=!0;if(t.rtl){if(t.groupable){var y=t.showrowdetailscolumn&&t.rowdetails?1:0;t.groups.length+y+m>a-1&&(w=!1)}t.showrowdetailscolumn&&t.rowdetails&&m==a-1&&(w=!1)}else{if(t.groupable){var y=t.showrowdetailscolumn&&t.rowdetails?1:0;t.groups.length+y>m&&(w=!1)}t.showrowdetailscolumn&&t.rowdetails&&0==m&&(w=!1)}if(t.updateeverpresentrow=function(){var e=null;if(t.selectedcells.length>0||t.selectedrowindexes.length>0){if(t.selectionmode.indexOf("cell")>=0)var i=t.getselectedcells()[0].rowindex;else var i=t.selectedrowindexes[0];e=t.getrowdata(i)}if(e)for(var r=0;r<t.columns.records.length;r++){var s=t.columns.records[r];if(s.seteverpresentrowwidgetvalue){var a=t.getcelltext(i,s.displayfield);s.seteverpresentrowwidgetvalue(s.addnewrowwidget,a)}}},w)if(g.createeverpresentrowwidget){var _=function(){d.trigger("mousedown")};g.addnewrowwidget=g.createeverpresentrowwidget(g.datafield,x,h,_),g.initeverpresentrowwidget&&g.initeverpresentrowwidget(g.datafield,x,h)}else{t._measureElement("column");var j=t.everpresentrowheight/2-t._columnheight/2;if(0>j&&(j=6),j+="px","addButtonColumn"===g.datafield){var q=e('<div style="padding-bottom: 2px; text-align: center; margin-top: '+j+';"><a href="#">'+t.gridlocalization.addrowstring+"</a></div>");x.append(q),q.mousedown(function(){d.trigger("mousedown")});continue}if("resetButtonColumn"===g.datafield){var q=e('<div style="padding-bottom: 2px; text-align: center; margin-top: '+j+';"><a href="#">'+t.gridlocalization.resetrowstring+"</a></div>");x.append(q),q.mousedown(function(){p.trigger("mousedown")});continue}var T=function(i,r,s){var n=e('<input style="box-sizing: border-box; padding-right: 4px; padding-left: 4px; border:none;" autocomplete="off" type="textarea"/>');if(n[0].id=e.jqx.utilities.createId(),n.addClass(i.toThemeProperty("jqx-widget")),n.addClass(i.toThemeProperty("jqx-input")),n.addClass(i.toThemeProperty("jqx-widget-content")),n.addClass(i.toThemeProperty("jqx-enableselect")),n.addClass(i.toThemeProperty("jqx-grid-cell-add-new-row")),n.css("text-align",s.cellsalign),i.rtl&&n.css("direction","rtl"),i.disabled&&n.attr("disabled",!0),n.attr("disabled",!1),n.attr("placeholder",i.gridlocalization.everpresentrowplaceholder+s.text),n.appendTo(r),n.css("width","100%"),n.css("height",i.everpresentrowheight+"px"),n.css("line-height",i.everpresentrowheight+"px"),n.css("max-height",i.everpresentrowheight+"px"),n.css("margin","0px"),n.focus(function(){if(t.selectedcells.length>0||t.selectedrowindexes.length>0)if(t.selectionmode.indexOf("cell")>=0){t.getselectedcells()[0].rowindex}else{t.selectedrowindexes[0]}n.addClass(i.toThemeProperty("jqx-fill-state-focus"));var e=i.columns.records.indexOf(s);"columns"!==i.everpresentrowactionsmode&&h.css({display:"block",top:n.coord().top+i.everpresentrowheight-1,left:e>0?n.coord().left:n.coord().left-1});var r=h.children().width();if("right"===s.cellsalign){var r=d.width()+p.width();h.children().css("left",r-r+"px")}else h.children().css("left","0px");return i.content[0].scrollLeft=0,i.content[0].scrollTop=0,setTimeout(function(){i.content[0].scrollLeft=0,i.content[0].scrollTop=0},50),!1}),s.addnewrowwidget=n,s.reseteverpresentrowwidgetvalue||(s.reseteverpresentrowwidgetvalue=function(e,i){i.val(""),i.focus(),i.blur(),i.removeClass(t.toThemeProperty("jqx-input-invalid")),i.attr("title","")}),s.seteverpresentrowwidgetvalue||(s.seteverpresentrowwidgetvalue=function(e,t){e.val(t)}),!s.geteverpresentrowwidgetvalue){var o=s;s.geteverpresentrowwidgetvalue=function(i,r,s){var l=r.val();if(s!==!1&&o.validateeverpresentrowwidgetvalue){for(var h={},d=0;a>d;d++){var c=t.columns.records[d];if(c.geteverpresentrowwidgetvalue){var u=c.geteverpresentrowwidgetvalue(c.displayfield,c.addnewrowwidget,!1);h[c.datafield]=u,c.datafield!=c.displayfield&&(h[c.datafield]=u.value,h[c.displayfield]=u.label)}}var p=o.validateeverpresentrowwidgetvalue(o.displayfield,l,h),f=p,m=t.gridlocalization.validationstring;void 0!=f.message&&(m=f.message);var g="boolean"==typeof f?f:f.result;if(!g)return n.addClass(t.toThemeProperty("jqx-input-invalid")),n.attr("title",m),"invalid editor state";n.removeClass(t.toThemeProperty("jqx-input-invalid")),n.attr("title","")}var v="string",x=t.source.datafields||(t.source._source?t.source._source.datafields:null);if(x){var b="";e.each(x,function(){return this.name==o.displayfield?(this.type&&(b=this.type),!1):void 0}),b&&(v=b)}if("number"===v){var w=parseFloat(l);if(isNaN(w))return null}return"date"===v?e.jqx.dataFormat.tryparsedate(l,t.gridlocalization):"bool"===v||"boolean"===v?"true"===l?!0:"1"==l?!0:"false"===l?!1:"0"==l?!1:l===!0?l:l===!1?l:!1:l}}n.keydown(function(e){13===e.keyCode&&(t.everpresentrowactions.indexOf("add")>=0?d.trigger("mousedown"):t.everpresentrowactions.indexOf("update")>=0?c.trigger("mousedown"):t.everpresentrowactions.indexOf("delete")>=0&&u.trigger("mousedown"))}),n.blur(function(){n.removeClass(i.toThemeProperty("jqx-fill-state-focus")),h.css("display","none")}),s.initeverpresentrowwidget&&s.initeverpresentrowwidget(s.datafield,r,h)};T(this,x,g)}}}e.jqx.browser.msie&&e.jqx.browser.version<8&&r.css("z-index",o--),r.width(parseFloat(s)+2),i.addClass(n),i.css("border-bottom-width","0px"),t.showfilterrow?i.css("border-top-width","0px"):i.css("border-top-width","1px"),i.css("box-sizing","border-box"),i.css("border-right-width","0px")},_gettableheight:function(){if(void 0!=this.tableheight)return this.tableheight;var e=this.host.height();if(this.columnsheader){var t=this.columnsheader.outerHeight();this.showheader||(t=0)}return e-=t,"visible"==this.hScrollBar[0].style.visibility&&(e-=this.hScrollBar.outerHeight()),this.pageable&&(e-=this.pager.outerHeight()),this._groupsheader()&&(e-=this.groupsheader.outerHeight()),this.showtoolbar&&(e-=this.toolbarheight),this.showstatusbar&&(e-=this.statusbarheight),this.showeverpresentrow&&"bottom"===this.everpresentrowposition&&(e-=this.everpresentrowheight),e>0?(this.tableheight=e,e):this.host.height()},_getpagesize:function(){if(this.pageable)return this.pagesize;if(this.virtualmode){var e=Math.round(this.host.height())+2*this.rowsheight,t=Math.round(e/this.rowsheight);return t}return this.autoheight||this.autorowheight?0==this.dataview.totalrows?1:this.dataview.totalrows:this.dataview.totalrows<100&&this.dataview.totalrecords<100&&this.dataview.totalrows>0?this.dataview.totalrows:100},_calculatevirtualheight:function(){var e=(this.that,Math.round(this.host.height())+2*this.rowsheight);realheight=this._gettableheight();var t=Math.round(e/this.rowsheight);this.heights=new Array,this.hiddens=new Array,this.details=new Array,this.expandedgroups=new Array,this.hiddenboundrows=new Array,this.heightboundrows=new Array,this.detailboundrows=new Array;var i=Math.max(this.dataview.totalrows,this.dataview.totalrecords);this.pageable&&(i=this.pagesize,this.pagesize>Math.max(this.dataview.totalrows,this.dataview.totalrecords)&&this.autoheight?i=Math.max(this.dataview.totalrows,this.dataview.totalrecords):this.autoheight||this.dataview.totalrows<this.pagesize&&(i=Math.max(this.dataview.totalrows,this.dataview.totalrecords)));var r=i*this.rowsheight,s=0,a=0,n=0,o=this._getpagesize(),l=o*this.rowsheight,h=0;if(!this.pageable&&this.autoheight&&(t=i),i+o>0)for(;i+o>=h;){if(s+=l,i>h-o&&h>=i){var d=h-i;d>0&&(n-=l,this._pageviews[a-1]={top:n,height:l-d*this.rowsheight});break}this._pageviews[a++]={top:n,height:l},n=s,h+=o}if(1!=this.resizingGrid&&this.vScrollBar.jqxScrollBar({value:0}),"hidden"==this.hScrollBar.css("visibility")){var c=0;if(this.columns&&this.columns.records){for(var h=0;h<this.columns.records.length;h++)c+=isNaN(this.columns.records[h].width)?this.columns.records[h].minwidth:this.columns.records[h].width;!isNaN(c)&&parseInt(c)>this.host.width()&&(realheight-=30)}}return r>realheight&&!this.autoheight?(this.vScrollBar.css("visibility","visible"),"deferred"==this.scrollmode?this.vScrollBar.jqxScrollBar({max:r}):this.vScrollBar.jqxScrollBar({max:r-realheight})):this.vScrollBar.css("visibility","hidden"),this.dataview.pagesize=o,this.dataview.updateview(),{visiblerecords:t,virtualheight:r}},_updatepageviews:function(){if(!this.updating()){this._pagescache=new Array,this._pageviews=new Array,this.tableheight=null;var e=this.that,t=Math.round(this.host.height())+2*this.rowsheight,i=Math.round(t/this.rowsheight),r=Math.max(this.dataview.totalrows,this.dataview.totalrecords),s=r*this.rowsheight,a=0,n=0,o=0,l=0,h=0,d=this._getpagesize();if(this.pageable)this._updatepagedview&&(s=this._updatepagedview(r,s,0)),this.autoheight&&this._arrange();else for(var c=0;r>c;c++){var u={index:c,height:this.heights[c],hidden:this.hiddens[c],details:this.details[c]};if(void 0==this.heights[c]&&(this.heights[c]=this.rowsheight,u.height=this.rowsheight),void 0==this.hiddens[c]&&(this.hiddens[c]=!1,u.hidden=!1),void 0==this.details[c]&&(this.details[c]=null),u.height!=e.rowsheight&&(s-=e.rowsheight,s+=u.height),u.hidden)s-=u.height;else{n+=u.height;var p=0;this.rowdetails&&(this.rowdetailstemplate&&(u.details||(u.details=this.rowdetailstemplate)),u.details&&u.details.rowdetails&&!u.details.rowdetailshidden&&(p=u.details.rowdetailsheight,n+=p,s+=p)),a+=u.height+p}h++,(h>=d||c==r-1)&&(this._pageviews[o++]={top:l,height:n},n=0,l=a,h=0)}var f=this._gettableheight();if(s>f)if(this.pageable&&this.gotopage&&(s=this._pageviews[0].height,0>s&&(s=this._pageviews[0].height)),"visible"!=this.vScrollBar.css("visibility")&&this.vScrollBar.css("visibility","visible"),(f>=s||this.autoheight)&&this.vScrollBar.css("visibility","hidden"),s-f>0)if("deferred"!=this.scrollmode){var m=s-f,g=this.vScrollInstance.max;this.vScrollBar.jqxScrollBar({max:m}),m!=g&&this.vScrollBar.jqxScrollBar({value:0})}else this.vScrollBar.jqxScrollBar({value:0,max:s});else this.vScrollBar.jqxScrollBar({value:0,max:s});else this._loading||this.vScrollBar.css("visibility","hidden"),this.vScrollBar.jqxScrollBar({value:0});this._arrange(),this.autoheight&&(i=Math.round(this.host.height()/this.rowsheight)),this.virtualsizeinfo={visiblerecords:i,virtualheight:s}}},updatebounddata:function(e){"data"==e||"sort"==e||"filter"==e||"cells"==e||"pagechanged"==e||"pagesizechanged"==e||this.virtualmode||(this.virtualsizeinfo=null,this.showfilterrow&&this.filterable&&this.filterrow?(this.clearfilters&&this.clearfilters(!1),this.filterable&&this._destroyedfilters&&this.showfilterrow&&this._destroyedfilters(),this.filterrow.remove(),this._filterrowcache=new Array,this.filterrow=null):this.filterable&&this.clearfilters&&this.clearfilters(!1),this.detailsVisibility=new Array,this.groupsVisibility=new Array,this.groupable&&(this.dataview.groups=[],this.groups=[]),this.pageable&&(this.pagenum=0,this.dataview.pagenum=0),this.sortable&&(this.sortcolumn=null,this.sortdirection="",this.dataview.sortfielddirection="",this.dataview.clearsortdata())),this.databind(this.source,e)},refreshdata:function(){this._refreshdataview(),this.render()},_updatevscrollbarmax:function(){if(this._pageviews&&this._pageviews.length>0){var e=this._pageviews[0].height;!this.virtualmode&&this.pageable||(e=this.virtualsizeinfo.virtualheight);var t=this._gettableheight();if(e>t)if(this.pageable&&this.gotopage&&(e=this._pageviews[0].height,0>e&&(e=this._pageviews[0].height)),"visible"!=this.vScrollBar.css("visibility")&&this.vScrollBar.css("visibility","visible"),(t>=e||this.autoheight)&&this.vScrollBar.css("visibility","hidden"),e-t>0){var i=e-t;this.vScrollBar.jqxScrollBar({max:i})}else this.vScrollBar.jqxScrollBar({value:0,max:e});else this.vScrollBar.css("visibility","hidden"),this.vScrollBar.jqxScrollBar({value:0})}},_refreshdataview:function(){this.dataview.refresh()},refresh:function(t){if(1!=t){if(e.jqx.isHidden(this.host))return;null!=this.virtualsizeinfo&&(this._cellscache=new Array,this._renderrows(this.virtualsizeinfo),this._updatesize())}},render:function(){this._render(!0,!0,!0,!0)},invalidate:function(){this.virtualsizeinfo&&(this._updatecolumnwidths(),this._updatecellwidths(),this._renderrows(this.virtualsizeinfo))},clear:function(){this.databind(null),this.render()},_preparecolumngroups:function(){var e=this.columnsheight;if(this.columngroups){if(this.columnshierarchy=new Array,this.columngroups.length){for(var t=this,i=0;i<this.columngroups.length;i++)this.columngroups[i].parent=null,this.columngroups[i].groups=null;for(var i=0;i<this.columns.records.length;i++)this.columns.records[i].parent=null,this.columns.records[i].groups=null;for(var r=function(e){for(var i=0;i<t.columngroups.length;i++){var r=t.columngroups[i];if(r.name===e)return r}return null},i=0;i<this.columngroups.length;i++){var s=this.columngroups[i];if(s.groups||(s.groups=null),s.parentgroup){var a=r(s.parentgroup);a&&(s.parent=a,a.groups||(a.groups=new Array),-1===a.groups.indexOf(s)&&a.groups.push(s))}}for(var i=0;i<this.columns.records.length;i++){var s=this.columns.records[i];if(s.columngroup){var a=r(s.columngroup);a&&(a.groups||(a.groups=new Array),s.parent=a,-1===a.groups.indexOf(s)&&a.groups.push(s))}}for(var n=0,i=0;i<this.columns.records.length;i++){var s=this.columns.records[i],o=s;for(s.level=0;o.parent;)o=o.parent,s.level++;var o=s,l=s.level;for(n=Math.max(n,s.level);o.parent;)o=o.parent,o&&(o.level=--l)}for(var h=function(e){var t=new Array;if(e.columngroup&&t.push(e),e.groups)for(var i=0;i<e.groups.length;i++)if(e.groups[i].columngroup)t.push(e.groups[i]);else if(e.groups[i].groups)for(var r=h(e.groups[i]),s=0;s<r.length;s++)t.push(r[s]);return t},i=0;i<this.columngroups.length;i++){var s=this.columngroups[i],d=h(s);s.columns=d;for(var c=new Array,u=0,p=0;p<d.length;p++)c.push(this.columns.records.indexOf(d[p])),d[p].pinned&&u++;if(0!=u)throw new Error("jqxGrid: Column Groups initialization Error. Please, check the initialization of the jqxGrid's columns array. The columns in a column group cannot be pinned.");c.sort(function(e,t){return e=parseInt(e),t=parseInt(t),t>e?-1:e>t?1:0});for(var f=1;f<c.length;f++)if(c[f]!=c[f-1]+1)throw new Error("jqxGrid: Column Groups initialization Error. Please, check the initialization of the jqxGrid's columns array. The columns in a column group are expected to be siblings in the columns array.")}}this.columngroupslevel=1+n,e=this.columngroupslevel*this.columnsheight}return e},_render:function(t,i,r,s,a){if(null!=this.dataview&&!this._loading&&!this._batchupdate){if(e.jqx.isHidden(this.host)){var n=this;return n.___hiddenTimer&&(clearInterval(n.___hiddenTimer),n.___hiddenTimer=null),void(this.___hiddenTimer=setInterval(function(){e.jqx.isHidden(n.host)||(clearInterval(n.___hiddenTimer),n.render())},300))}if(null!=this.editcell&&this.endcelledit&&this.endcelledit(this.editcell.row,this.editcell.column,!0,!1),this.validationpopup=null,this._removeHandlers(),this._addHandlers(),this._initializeRows(),this._requiresupdate=void 0!=i?i:!0,this._newmax=null,r)if(this._requiresupdate||0!=s&&this._initmenu(),null==this.columns)this.columns=new e.jqx.collection(this.element);else{var o=this;this.columns&&"observableArray"===this.columns.name&&(this.columns.notifier=function(e){var t=function(){o.columns=o._columns,o.render()};switch(e.type){case"add":t();break;case"update":if("index"===e.name){o.beginupdate();for(var i in e.newValue)o.setcolumnproperty(e.newValue.datafield,i,e.newValue[i]);o.endupdate()}else{var r=e.path.split(".");o.setcolumnproperty(o.columns[r[0]].datafield,e.name,e.newValue)}break;case"delete":t()}}),this.columngroups&&"observableArray"===this.columngroups.name&&(this.columngroups.notifier=function(e){o.render()}),this._initializeColumns()}this.tableheight=null,this._pagescache=new Array,this._pageviews=new Array,this.visiblerows=new Array,this.hittestinfo=new Array,this._requiresupdate&&(this._clearcaches(),1==s&&this._initmenu()),this.virtualsizeinfo=null,this.prerenderrequired=!0,(this.groupable&&this.groups.length>0&&this.rowdetails||this.rowdetails)&&this.gridcontent&&(this._rowdetailscache=new Array,this._rowdetailselementscache=new Array,this.detailboundrows=new Array,this.details=new Array,e.jqx.utilities.html(this.gridcontent,""),this.gridcontent=null),this.gridcontent&&this.editable&&this._destroyeditors&&this._destroyeditors(),r?(this.filterrow&&this.filterrow.detach(),e.jqx.utilities.html(this.content,""),this.columnsheader=this.columnsheader||e('<div style="overflow: hidden;"></div>'),this.columnsheader.remove(),this.columnsheader.addClass(this.toTP("jqx-widget-header")),this.columnsheader.addClass(this.toTP("jqx-grid-header"))):this.gridcontent&&e.jqx.utilities.html(this.gridcontent,""),this.showheader?this.columnsheader&&this.columnsheader.css("display","block"):this.columnsheader.css("display","none"),this.gridcontent=this.gridcontent||e('<div style="width: 100%; overflow: hidden; position: absolute;"></div>'),this.gridcontent.remove();var l=this.columnsheight;if(l=this._preparecolumngroups(),this.showfilterrow&&this.filterable?(this.columnsheader.height(l+this.filterrowheight),this.showeverpresentrow&&"bottom"!==this.everpresentrowposition&&this.columnsheader.height(l+this.filterrowheight+this.everpresentrowheight)):this.showeverpresentrow&&"bottom"!==this.everpresentrowposition?this.columnsheader.height(l+this.everpresentrowheight):this.columnsheader.height(l),this.content.append(this.columnsheader),this.content.append(this.gridcontent),this._arrange(),this._initgroupsheader&&this._initgroupsheader(),this.selectionarea=this.selectionarea||e("<div style='z-index: 99999; visibility: hidden; position: absolute;'></div>"),this.selectionarea.addClass(this.toThemeProperty("jqx-grid-selectionarea")),this.selectionarea.addClass(this.toThemeProperty("jqx-fill-state-pressed")),this.content.append(this.selectionarea),this.tableheight=null,this.rendergridcontent(!1,r),this.groups.length>0&&this.groupable){var h=this.vScrollBar[0].style.visibility;this.suspendgroupevents=!0,this.collapseallgroups&&(this.groupsexpandedbydefault?this.expandallgroups(!1):(this.collapseallgroups(!1),this._updatescrollbarsafterrowsprerender())),this.vScrollBar[0].style.visibility!=h&&(this._updatecolumnwidths(),this._updatecellwidths()),this.suspendgroupevents=!1}this.pageable&&this.updatepagerdetails&&(this.updatepagerdetails(),this.autoheight&&this._updatepageviews(),this.autorowheight&&(this.autoheight||this._updatepageviews(),this._renderrows(this.virtualsizeinfo))),this.showaggregates&&this._updateaggregates&&this._updateaggregates(),this._addoverlayelement(),"deferred"==this.scrollmode&&this._addscrollelement(),this.showfilterrow&&this.filterable&&this.filterrow&&(void 0==a||1==a)&&this._updatelistfilters(!r),this.rendered&&this.rendered("full"),this.__isRendered=!0}},_addoverlayelement:function(){var t=e.jqx.utilities.getBrowser();if("msie"==t.browser&&parseInt(t.version)<9||this.isTouchDevice())if(this._overlayElement&&this._overlayElement.remove(),this._overlayElement=e("<div class='jqxgrid-overlay' style='visibility: hidden; position: absolute; width: 100%; height: 100%;'></div>"),this._overlayElement.css("background","white"),this._overlayElement.css("z-index",18e3),this._overlayElement.css("opacity",.001),this.isTouchDevice())if("hidden"!==this.vScrollBar.css("visibility")||"hidden"!==this.hScrollBar.css("visibility")){var i=0;"checkbox"==this.selectionmode&&(i+=30),(this.groupable||this.rowdetails)&&this._overlayElement.css("left",30*(this.groups.length+(this.rowdetails?1:0)));var r=this._overlayElement.css("left");this._overlayElement.css("left",r+i)}else this._overlayElement&&this._overlayElement.remove();else this.content.prepend(this._overlayElement);this._updateTouchScrolling()},_addscrollelement:function(){this._scrollelement&&this._scrollelement.remove(),this._scrollelementoverlay&&this._scrollelementoverlay.remove(),this._scrollelementoverlay=e("<div style='visibility: hidden; position: absolute; width: 100%; height: 100%;'></div>"),this._scrollelementoverlay.css("background","black"),this._scrollelementoverlay.css("z-index",18e3),this._scrollelementoverlay.css("opacity",.1),this._scrollelement=e("<span style='visibility: hidden; top: 50%; right: 10px; position: absolute;'></span>"),this._scrollelement.css("z-index",18005),this._scrollelement.addClass(this.toThemeProperty("jqx-button")),this._scrollelement.addClass(this.toThemeProperty("jqx-fill-state-normal")),this._scrollelement.addClass(this.toThemeProperty("jqx-rc-all")),this._scrollelement.addClass(this.toThemeProperty("jqx-shadow")),this.content.prepend(this._scrollelement),this.content.prepend(this._scrollelementoverlay)},_postrender:function(e){if(("filter"==e||"sort"==e||"group"==e)&&this.rowdetails&&this.detailsVisibility&&this.detailsVisibility.length>0){this._detailsUpdate=!0;for(var t=0;t<this.details.length;t++)this.details[t]&&(this.details[t].rowdetailshidden=!0);for(var t=0;t<this.detailsVisibility.length;t++)!1===this.detailsVisibility[t]?this.showrowdetails(t):!0===this.detailsVisibility[t]&&this.hiderowdetails(t);this._detailsUpdate=!1,this.rendergridcontent(!0),this._updatecolumnwidths(),this._updatecellwidths(),this._renderrows(this.virtualsizeinfo)}if(this.groupable&&this.groups.length>0)if("filter"==e||"sort"==e)for(var t=0;t<this.dataview.loadedgroups.length;t++){var i=this.dataview.loadedgroups[t],r=0;for(var s in this.groupsVisibility)s==i.group&&this.groupsVisibility[s]&&(suspendgroupevents=!0,this._setgroupstate(i,!0,!1),r++);if(r>0){suspendgroupevents=!1;var a=this.vScrollBar[0].style.visibility;this.rendergridcontent(!0,!1),(a!=this.vScrollBar[0].style.visibility||this._hiddencolumns)&&(this._updatecolumnwidths(),this._updatecellwidths(),this._renderrows(this.virtualsizeinfo))}}else"group"==e&&(this.groupsVisibility=new Array)},rendergridcontent:function(e,t){if(this.updating())return!1;void 0!=e&&null!=e||(e=!1),this._requiresupdate=e;var i=this.prerenderrequired;this.prerenderrequired&&this._arrange();var r=this.that,t=t;if(null!=t&&void 0!=t||(t=!0),this.tableheight=null,r.virtualsizeinfo=r.virtualsizeinfo||r._calculatevirtualheight(),r.pageable&&!r.autoheight&&r.dataview.totalrows<r.pagesize&&(r._requiresupdate=!0),t?r._rendercolumnheaders():(this._rendersortcolumn&&this._rendersortcolumn(),this._renderfiltercolumn&&this._renderfiltercolumn()),r._renderrows(r.virtualsizeinfo),this.gridcontent&&(0!=this.gridcontent[0].scrollTop&&(this.gridcontent[0].scrollTop=0),0!=this.gridcontent[0].scrollLeft&&(this.gridcontent[0].scrollLeft=0)),i){var s=this.tableheight;
this._arrange(),s!=this.tableheight&&this.autoheight&&r._renderrows(r.virtualsizeinfo)}return this.rtl&&this._renderhorizontalscroll(),this.autosavestate&&null!=this.initializedcall&&this.savestate&&this.savestate(),!0},_updatecolumnwidths:function(){var t=this.host.width(),i=t,r="";if(void 0!=this.columns&&void 0!=this.columns.records){var s=this.that,a=this.rowdetails&&this.showrowdetailscolumn?(1+this.groups.length)*this.groupindentwidth:this.groups.length*this.groupindentwidth;e.each(this.columns.records,function(e,n){if(!this.hidden||!this.hideable)if(-1!=this.width.toString().indexOf("%")||void 0!=this._percentagewidth){var n=0,o="hidden"==s.vScrollBar[0].style.visibility?0:s.scrollbarsize+5;(s.scrollbarautoshow||0==s.scrollbarsize)&&(o=0);var l=i;n=parseFloat(this.width)*l/100,o+=a,void 0!=this._percentagewidth&&(n=parseFloat(this._percentagewidth)*(l-o)/100),n<this.minwidth&&"auto"!=this.minwidth&&(n=this.minwidth),n>this.maxwidth&&"auto"!=this.maxwidth&&(n=this.maxwidth),t-=n}else"auto"==this.width||this._width?r+=this.text:t-=this.width});var n=this._gettableheight();if(!this.autoheight&&this.virtualsizeinfo&&this.virtualsizeinfo.virtualheight>n)if(this.groupable&&this.groups.length>0)if(this.dataview&&this.dataview.loadedrootgroups&&!this.groupsexpandedbydefault){var o=this.dataview.loadedrootgroups.length*this.rowsheight;if(this.pageable)for(var l=0;l<this.dataview.rows.length;l++)this.dataview.rows[l].group&&0===this.dataview.rows[l].level&&(o+=this.rowsheight);o>n?(t-=this.scrollbarsize+5,i-=this.scrollbarsize+5):"visible"==this.vScrollBar.css("visibility")&&(t-=this.scrollbarsize+5,i-=this.scrollbarsize+5)}else t-=this.scrollbarsize+5,i-=this.scrollbarsize+5;else"hidden"!=this.vScrollBar.css("visibility")&&this.scrollbarsize>0&&(t-=this.scrollbarsize+5,i-=this.scrollbarsize+5);var a=this.rowdetails&&this.showrowdetailscolumn?(1+this.groups.length)*this.groupindentwidth:this.groups.length*this.groupindentwidth;if(i-=a,this.columnsheader){var h=this.columnsheader.find("#columntable"+this.element.id);if(0!=h.length){var d=0,c=this,u=0;e.each(this.columns.records,function(s,a){var n=e(this.element);this.hidden||"none"!==this.element.style.display||(this.element.style.display="block");var o=!1,l=this.width;if(-1==this.width.toString().indexOf("%")&&void 0==this._percentagewidth||(l=void 0!=this._percentagewidth?parseFloat(this._percentagewidth)*i/100:parseFloat(this.width)*i/100,o=!0),"auto"==this.width||this._width||o)if(o)l<this.minwidth&&"auto"!=this.minwidth&&(l=this.minwidth,this.width=l),l>this.maxwidth&&"auto"!=this.maxwidth&&(l=this.maxwidth,this.width=l),parseInt(n[0].style.width)!=l&&(n.width(l),this.width=l);else{var h=Math.floor(t*(this.text.length/r.length));u+=h,3>t-u&&t!=u?h+=2:s==c.columns.records.length-1&&t>u&&(h+=t-u),isNaN(h)&&(h=this.minwidth),h==1/0&&(h=0),0>h&&($element=e("<span>"+this.text+"</span>"),e(document.body).append($element),h=10+$element.width(),$element.remove()),h<this.minwidth&&(h=this.minwidth),h>this.maxwidth&&(h=this.maxwidth),this._width="auto",this.width=h,n.width(this.width)}else parseInt(n[0].style.width)!=this.width&&n.width(this.width);parseInt(n[0].style.left)!=d&&n.css("left",d),this.hidden&&this.hideable||(d+=this.width),this._requirewidthupdate=!0}),this.columnsheader.width(2+d),h.width(this.columnsheader.width()),0==d?this.columnsheader[0].style.visibility="hidden":this.columnsheader[0].style.visibility="inherit",this._resizecolumngroups(),this.showfilterrow&&this.filterrow&&(this.filterrow.width(this.columnsheader.width()),this._updatefilterrowui()),this.showeverpresentrow&&("bottom"!==this.everpresentrowposition?this.addnewrowtop.width(this.columnsheader.width()):this.addnewrowbottom.width(this.columnsheader.width()),this._updateaddnewrowui()),this.autowidth&&this._arrange()}}}},_rendercolumnheaders:function(){var t=this.that;if(!this.prerenderrequired)return this._rendersortcolumn&&this._rendersortcolumn(),this._renderfiltercolumn&&this._renderfiltercolumn(),this.showfilterrow&&this.filterrow&&(this.filterrow.width(this.columnsheader.width()),this._updatefilterrowui()),void(this.showeverpresentrow&&("bottom"!==this.everpresentrowposition?this.addnewrowtop.width(this.columnsheader.width()):this.addnewrowbottom.width(this.columnsheader.width()),this._updateaddnewrowui()));this._columnsbydatafield=new Array,this.columnsheader.find("#columntable"+this.element.id).remove();var i=e('<div id="columntable'+this.element.id+'" style="height: 100%; position: relative;"></div>');i[0].cells=new Array;var r=0,s=0,a="",n=this.host.width(),o=n,l=new Array,h=new Array,d=this.rowdetails&&this.showrowdetailscolumn?(1+this.groups.length)*this.groupindentwidth:this.groups.length*this.groupindentwidth;if(e.each(this.columns.records,function(e,i){if(!this.hidden||!this.hideable)if("auto"==this.width||this._width)a+=this.text;else if(this.width<this.minwidth&&"auto"!=this.minwidth)n-=this.minwidth;else if(this.width>this.maxwidth&&"auto"!=this.maxwidth)n-=this.maxwidth;else if(-1!=this.width.toString().indexOf("%")){var i=0,r="hidden"==t.vScrollBar[0].style.visibility?0:t.scrollbarsize+5;r+=d,i=parseFloat(this.width)*(o-r)/100,i<this.minwidth&&"auto"!=this.minwidth&&(i=this.minwidth),i>this.maxwidth&&"auto"!=this.maxwidth&&(i=this.maxwidth),n-=i}else"string"==typeof this.width&&(this.width=parseInt(this.width)),n-=this.width;this.pinned||this.grouped||this.checkboxcolumn?(t._haspinned&&(this.pinned=!0),l[l.length]=this):h[h.length]=this}),this.rtl){var c=0;l.reverse();for(var u=this.columns.records.length-1;u>=this.columns.records.length-l.length;u--)this.columns.replace(u,l[c++]);for(var p=0;p<h.length;p++)this.columns.replace(p,h[p])}else{for(var u=0;u<l.length;u++)this.columns.replace(u,l[u]);for(var p=0;p<h.length;p++)this.columns.replace(l.length+p,h[p])}var f=this.headerZIndex,m=t.groupable?t.groups.length:0;this.rowdetails&&this.showrowdetailscolumn&&m++;var g=t.columnsheader.height();this.showfilterrow&&(this.columngroups?g-=this.filterrowheight:g=this.columnsheight),this.showeverpresentrow&&"bottom"!==this.everpresentrowposition&&(g-=this.everpresentrowheight);var v=this._gettableheight();if(this.virtualsizeinfo&&this.virtualsizeinfo.virtualheight>v&&!this.scrollbarautoshow)if(this.groupable&&this.groups.length>0)if(this.dataview&&this.dataview.loadedrootgroups&&!this.groupsexpandedbydefault){var x=0;if(this.pageable){if(this.pageable)for(var b=0;b<this.dataview.rows.length;b++)this.dataview.rows[b].group&&0===this.dataview.rows[b].level&&(x+=this.rowsheight)}else var x=this.dataview.loadedrootgroups.length*this.rowsheight;x>v&&(n-=this.scrollbarsize+5,o-=this.scrollbarsize+5)}else n-=this.scrollbarsize+5,o-=this.scrollbarsize+5;else!this.autoheight&&this.scrollbarsize>0&&(n-=this.scrollbarsize+5,o-=this.scrollbarsize+5);o-=d;var w=function(e,i){var r=t.columngroupslevel*t.columnsheight;return r-=i.level*t.columnsheight},y=document.createDocumentFragment(),_=0;if(e.each(this.columns.records,function(l,h){this.height=t.columnsheight,t.columngroups&&t.columngroups.length&&(this.height=w(this.datafield,this),g=this.height);var d=t.toTP("jqx-grid-column-header")+" "+t.toTP("jqx-widget-header");t.rtl&&(d+=" "+t.toTP("jqx-grid-column-header-rtl"));var c=t.rtl?150+f+1:150+f-1,u=t.rtl?f++:f--,p=e('<div role="columnheader" style="z-index: '+u+';position: absolute; height: 100%;" class="'+d+'"><div style="height: 100%; width: 100%;"></div></div>');t.columngroups&&(p[0].style.height=g+"px",p[0].style.bottom="0px",this.pinned&&(p[0].style.zIndex=c)),this.uielement=p,""!=this.classname&&this.classname&&p.addClass(this.classname);var v=this.width,x=!1;if(null===this.width&&(this.width="auto"),-1==this.width.toString().indexOf("%")&&void 0==this._percentagewidth||(v=void 0!=this._percentagewidth?parseFloat(this._percentagewidth)*o/100:parseFloat(this.width)*o/100,x=!0),"auto"==this.width||this._width||x){if(x)v<this.minwidth&&"auto"!=this.minwidth&&(v=this.minwidth),v>this.maxwidth&&"auto"!=this.maxwidth&&(v=this.maxwidth),void 0!=this._percentagewidth&&-1==this.width.toString().indexOf("%")||(this._percentagewidth=this.width),p.width(v),this.width=v;else if(!this.hidden){var b=Math.floor(n*(this.text.length/a.length));_+=b,3>n-_&&n!=_?n-_===1?b++:b+=2:l==t.columns.records.length-1&&n>_&&(b+=n-_),isNaN(b)&&(b=this.minwidth),0>b&&($element=e("<span>"+this.text+"</span>"),e(document.body).append($element),b=10+$element.width(),$element.remove()),b<this.minwidth&&(b=this.minwidth),b>this.maxwidth&&(b=this.maxwidth),this._width="auto",this.width=b,v=this.width,p.width(this.width)}}else v<this.minwidth&&"auto"!=this.minwidth&&(v=this.minwidth,this.width=v),v>this.maxwidth&&"auto"!=this.maxwidth&&(v=this.maxwidth,this.width=v),p[0].style.width=parseInt(v)+"px";this.hidden&&this.hideable&&p.css("display","none");var j=e(p.children()[0]),q=t.rtl?t.toTP("jqx-grid-column-menubutton")+" "+t.toTP("jqx-grid-column-menubutton-rtl"):t.toTP("jqx-grid-column-menubutton");q+=" "+t.toTP("jqx-icon-arrow-down");var T=e('<div style="height: '+g+'px; display: none; left: 100%; top: 0%; position: absolute;"><div class="'+q+'" style="width: 100%; height:100%;"></div></div>');t.enableanimations||T.css("margin-left",-16),t.rtl&&T.css("left","0px"),this.columnsmenu=T[0],i[0].cells[l]=p[0],T[0].style.width=parseInt(t.columnsmenuwidth)+"px";var S=t.columnsmenu,C=!1,I=!1,k=t.groupable&&m>0&&m>r||t.rowdetails&&m>r;if(t.rtl&&(k=t.groupable&&m>0&&m>r||t.rowdetails&&m>r,k&=l>t.columns.records.length-1-m),k)r++,S&=!1,this.sortable=!1,this.editable=!1,I=!0;else{var D=null!=this.renderer?this.renderer(this.text,this.align,g):t._rendercolumnheader(this.text,this.align,g,t);null==D&&(D=t._rendercolumnheader(this.text,this.align,g,t)),null!=this.renderer&&(D=e(D)),S&=!0,C=!0}if(t.WinJS?MSApp.execUnsafeLocalFunction(function(){j.append(e(D))}):this.renderer?j.append(e(D)):D&&(j[0].innerHTML=D),null!=D){var M=e('<div class="iconscontainer" style="height: '+g+'px; margin-left: -32px; display: block; position: absolute; left: 100%; top: 0%; width: 32px;"><div class="filtericon '+t.toTP("jqx-widget-header")+'" style="height: '+g+'px; float: right; display: none; width: 16px;"><div class="'+t.toTP("jqx-grid-column-filterbutton")+'" style="width: 100%; height:100%;"></div></div><div class="sortasc '+t.toTP("jqx-widget-header")+'" style="height: '+g+'px; float: right; display: none; width: 16px;"><div class="'+t.toTP("jqx-grid-column-sortascbutton")+" "+t.toTP("jqx-icon-arrow-up")+'" style="width: 100%; height:100%;"></div></div><div class="sortdesc '+t.toTP("jqx-widget-header")+'" style="height: '+g+'px; float: right; display: none; width: 16px;"><div class="'+t.toTP("jqx-grid-column-sortdescbutton")+" "+t.toTP("jqx-icon-arrow-down")+'" style="width: 100%; height:100%;"></div></div></div>');T.addClass(t.toTP("jqx-widget-header")),j.append(M);var P=M.children();this.sortasc=P[1],this.sortdesc=P[2],this.filtericon=P[0],this.iconscontainer=M,t.rtl&&(M.css("margin-left","0px"),M.css("left","0px"),e(this.sortasc).css("float","left"),e(this.filtericon).css("float","left"),e(this.sortdesc).css("float","left")),!t.autoshowfiltericon&&this.filterable&&e(this.filtericon).css("display","block")}if(this.element=p[0],S&&(t._handlecolumnsmenu(t,j,p,T,this),this.menu||T.hide()),y.appendChild(p[0]),t.groupable&&C){if(p[0].id=t.dataview.generatekey(),!t._handlecolumnstogroupsdragdrop)throw new Error("jqxGrid: Missing reference to jqxgrid.grouping.js.");t._handlecolumnstogroupsdragdrop(this,p)}t.columnsreorder&&this.draggable&&t._handlecolumnsdragreorder&&t._handlecolumnsdragreorder(this,p);var N=this;if(t.addHandler(p,"click",function(e){if(N.checkboxcolumn)return!0;if(t.sorttogglestates>0&&t._togglesort&&!t._loading){if(t.suspendClick)return!0;t._togglesort(N)}e.preventDefault(),t._raiseEvent(7,{column:N.getcolumnproperties(),datafield:N.datafield,originalEvent:e})}),N.resizable&&t.columnsresize&&!I){var B=!1,O="mousemove";t.isTouchDevice()&&t.touchmode!==!0&&(B=!0,O=e.jqx.mobile.getTouchEventName("touchstart")),t.addHandler(p,O,function(i){var r=parseInt(i.pageX),s=5,a=parseInt(p.coord().left);if(t.hasTransform&&(a=e.jqx.utilities.getOffset(p).left),t.resizing)return!0;if(t._handlecolumnsresize){if(B){var n=t.getTouches(i),o=n[0];return r=o.pageX,s=40,r>=a+N.width-s?(t.resizablecolumn={columnelement:p,column:N},p.css("cursor","col-resize")):(p.css("cursor",""),t.resizablecolumn=null),!0}var l=N.width;if(t.rtl&&(l=0),r>=a+l-s){if(a+l+s>=r)return t.resizablecolumn={columnelement:p,column:N},p.css("cursor","col-resize"),!1;p.css("cursor",""),t.resizablecolumn=null}else p.css("cursor",""),a+l-s>r&&(N._animating||N._menuvisible||p.mouseenter()),t.resizablecolumn=null}})}if(p.css("left",s),this.hidden&&this.hideable||(s+=v),N.rendered){var E=N.rendered(e(j[0].firstChild),N.align,g);E&&null!=M&&M.hide()}if(N.checkboxcolumn){if(M&&M.hide(),!t.host.jqxCheckBox)throw new Error("jqxGrid: Missing reference to jqxcheckbox.js");j.html('<div style="cursor: pointer; margin-left: 5px; top: 50%; margin-top: -8px; position: relative;"></div>');var A=j.find("div:first");A.jqxCheckBox({_canFocus:!1,disabled:t.disabled,disabledContainer:!0,theme:t.theme,enableContainerClick:!1,width:16,height:16,animationShowDelay:0,animationHideDelay:0}),N.checkboxelement=A;var H=A.data().jqxCheckBox.instance;t._checkboxcolumn=N,H.updated=function(e,i,r){t._checkboxcolumnupdating=!0,t.disabled&&(A.jqxCheckBox({disabled:t.disabled}),i=r),i?t.selectallrows():t.unselectallrows(),t._checkboxcolumnupdating=!1}}}),s>0?this.columnsheader.width(2+s):this.columnsheader.width(s),i[0].appendChild(y),this.columnsrow=i,t.columnsheader.append(i),this.showfilterrow&&this._updatefilterrow){if(this.columngroups?i.height(this.columngroupslevel*this.columnsheight):i.height(this.columnsheight),!this.filterrow){var j=e("<div style='position: relative !important; '></div>");j[0].id="filterrow."+this.element.id,j.height(this.filterrowheight),this.filterrow=j}this.filterrow.width(2+s),this.columnsheader.append(this.filterrow),this._updatefilterrow()}if(this.showeverpresentrow&&"bottom"!==this.everpresentrowposition){if(this.columngroups?i.height(this.columngroupslevel*this.columnsheight):i.height(this.columnsheight),!this.addnewrowtop){var q=e("<div style='position: relative !important; z-index:"+this.headerZIndex+";'></div>");q[0].id="addnewrowtop."+this.element.id,q.height(this.everpresentrowheight),this.addnewrowtop=q}this.addnewrowtop.width(2+s),"topAboveFilterRow"==this.everpresentrowposition&&this.filterrow?this.addnewrowtop.insertBefore(this.filterrow):this.columnsheader.append(this.addnewrowtop),this._updateaddnewrow()}else if(this.showeverpresentrow&&"bottom"===this.everpresentrowposition){if(!this.addnewrowbottom){var T=e("<div style='position: relative !important; z-index:"+this.headerZIndex+";'></div>");T[0].id="addnewrowbottom."+this.element.id,T.height(this.everpresentrowheight),this.addnewrowbottom=T}this.addnewrowbottom.width(2+s),this.addnewrow.append(this.addnewrowbottom),this._updateaddnewrow()}0==s?i[0].style.visibility="hidden":i[0].style.visibility="inherit",i.width(s),this._handlecolumnsdragdrop&&this._handlecolumnsdragdrop(),this._handlecolumnsreorder&&this._handlecolumnsreorder(),this._rendersortcolumn&&this._rendersortcolumn(),this._renderfiltercolumn&&this._renderfiltercolumn(),this._handlecolumnsresize&&this._handlecolumnsresize(),this.columngroups&&this._rendercolumngroups(),this._updatecheckboxselection&&this._updatecheckboxselection()},_rendercolumngroups:function(){if(this.columngroups){for(var t=0,i=0;i<this.columns.records.length;i++)this.columns.records[i].pinned&&t++;var r=this.headerZIndex-t+this.columns.records.length,s=this.that,a=s.toTP("jqx-grid-column-header")+" "+s.toTP("jqx-grid-columngroup-header")+" "+s.toTP("jqx-widget-header");s.rtl&&(a+=" "+s.toTP("jqx-grid-columngroup-header-rtl"));var n=this.columnsheader.find("#columntable"+this.element.id);n.find("jqx-grid-columngroup-header").remove();for(var o=0;o<this.columngroupslevel-1;o++)for(var i=0;i<this.columngroups.length;i++){var l=this.columngroups[i],h=l.level;if(h===o){var d=h*this.columnsheight,c=99999;if(l.groups){var u=function(e){for(var t=0,i=0;i<e.groups.length;i++){var r=e.groups[i];r.groups?t+=u(r):r.hidden||(t+=r.width,c=Math.min(parseFloat(r.element.style.left),c))}return t};l.width=u(l),l.left=c;var p=this.columnsheight,f=r--,m=e('<div role="columnheader" style="z-index: '+f+';position: absolute;" class="'+a+'"></div>'),g=e(this._rendercolumnheader(l.text,l.align,this.columnsheight,this));if(l.renderer){var g=e("<div style='height: 100%; width: 100%;'></div>"),v=l.renderer(l.text,l.align,p);g.html(v)}m.append(g),m[0].style.left=c+"px",0===c&&(m[0].style.borderLeftColor="transparent"),m[0].style.top=d+"px",m[0].style.height=p+"px",m[0].style.width=-1+l.width+"px",n.append(m),l.element=m,l.rendered&&l.rendered(g,l.align,p)}}}}},_resizecolumngroups:function(){if(this.columngroups)for(var e=0;e<this.columngroups.length;e++){var t=this.columngroups[e],i=t.level,r=i*this.columnsheight,s=99999;if(t.groups){var a=function(e){for(var t=0,i=0;i<e.groups.length;i++){var r=e.groups[i];r.groups?t+=a(r):r.hidden||(t+=r.width,s=Math.min(parseFloat(r.element.style.left),s))}return t};t.width=a(t),t.left=s;var n=this.columnsheight,o=t.element;o[0].style.left=s+"px",o[0].style.top=r+"px",o[0].style.height=n+"px",o[0].style.width=-1+t.width+"px"}}},_handlecolumnsmenu:function(t,i,r,s,a){t.dragmousedown=null,s[0].id=t.dataview.generatekey(),i.append(s),r[0].columnsmenu=s[0],a.element=r[0];var n=this.columnsmenuwidth+1,o=function(){if(!a.menu)return!1;if(!t.resizing){if(a._menuvisible&&t._hasOpenedMenu)return!1;if(a._animating=!0,t.menuitemsarray&&t.menuitemsarray.length>0)if(t.enableanimations){s.css("display","block"),s.stop(),a.iconscontainer.stop(),t.rtl?(s.css("margin-left",-n),s.animate({"margin-left":"0px"},"fast",function(){s.css("display","block"),a._animating=!1,a._menuvisible=!0})):(s.css("margin-left","0px"),s.animate({"margin-left":-n},"fast",function(){s.css("display","block"),a._animating=!1,a._menuvisible=!0}));var e=t.rtl?n:-(32+n);a.iconscontainer.animate({"margin-left":e},"fast")}else{s.css("display","block");var e=t.rtl?16:-48;a.iconscontainer.css("margin-left",e+"px"),a._animating=!1,a._menuvisible=!0}}},l="mouseenter";if(t.isTouchDevice()&&(l="touchstart"),t.addHandler(r,l,function(i){var s=parseInt(i.pageX),n=t.columnsresize&&a.resizable?3:0,l=parseInt(r.coord().left);t.hasTransform&&(l=e.jqx.utilities.getOffset(r).left);var h=a.width;if(t.rtl&&(h=0),0!=n&&s>=l+h-n&&l+h+n>=s)return!1;var d=t.vScrollInstance.isScrolling();a.menu&&t.autoshowcolumnsmenubutton&&!d&&!t.disabled&&o()}),!t.autoshowcolumnsmenubutton){s.css("display","block");var h=t.rtl?16:-48;a.iconscontainer.css("margin-left",h+"px"),t.rtl?s.css({"margin-left":"0px"}):s.css({"margin-left":-n})}t.addHandler(r,"mouseleave",function(i){if(t.menuitemsarray&&t.menuitemsarray.length>0&&a.menu){var r=e.data(document.body,"contextmenu"+t.element.id);if(void 0!=r&&s[0].id==r.columnsmenu.id)return;if(t.autoshowcolumnsmenubutton)if(t.enableanimations){t.rtl?s.css("margin-left","0px"):s.css("margin-left",-n),s.stop(),a.iconscontainer.stop(),t.rtl?s.animate({"margin-left":-n},"fast",function(){s.css("display","none"),a._menuvisible=!1}):s.animate({"margin-left":0},"fast",function(){s.css("display","none"),a._menuvisible=!1});var o=t.rtl?0:-32;a.iconscontainer.animate({"margin-left":o},"fast")}else{s.css("display","none");var o=t.rtl?0:-32;a.iconscontainer.css("margin-left",o+"px"),a._menuvisible=!1}}});var d=!0,c="",u=e(a.filtericon);t.addHandler(s,"mousedown",function(i){t.gridmenu||t._initmenu(),d=!e.data(t.gridmenu[0],"contextMenuOpened"+t.gridmenu[0].id),c=e.data(document.body,"contextmenu"+t.element.id),null!=c&&(c=c.column.datafield)}),t.addHandler(u,"mousedown",function(i){t.gridmenu||t._initmenu(),d=!e.data(t.gridmenu[0],"contextMenuOpened"+t.gridmenu[0].id),c=e.data(document.body,"contextmenu"+t.element.id),null!=c&&(c=c.column.datafield)});var p=function(){if(!a.menu)return!1;if(t.gridmenu||t._initmenu(),t.disabled)return!1;for(var i=0;i<t.columns.records.length;i++)t.columns.records[i].datafield!=a.datafield&&(t.columns.records[i]._menuvisible=!1);var r=s.coord(!0),n=s.height();if(!d&&(d=!0,c==a.datafield))return t._closemenu(),!1;var o=t.host.coord(!0);t.hasTransform&&(o=e.jqx.utilities.getOffset(t.host),r=e.jqx.utilities.getOffset(s)),o.left+t.host.width()>parseInt(r.left)+t.gridmenu.width()?t.gridmenu.jqxMenu("open",r.left,r.top+n):t.gridmenu.jqxMenu("open",s.width()+r.left-t.gridmenu.width(),r.top+n),t.gridmenu.width()<100&&t._arrangemenu(),t._hasOpenedMenu=!0;var l=t._getmenuitembyindex(0),h=t._getmenuitembyindex(1),u=t._getmenuitembyindex(2),p=t._getmenuitembyindex(3),f=t._getmenuitembyindex(4),m=t._getmenuitembyindex(5);if(null!=l&&null!=h&&null!=u){var g=a.sortable&&t.sortable;if(t.gridmenu.jqxMenu("disable",l.id,!g),t.gridmenu.jqxMenu("disable",h.id,!g),t.gridmenu.jqxMenu("disable",u.id,!g),void 0!=a.displayfield)if(t.sortcolumn==a.displayfield){var v=t.getsortinformation();g&&(v.sortdirection.ascending?t.gridmenu.jqxMenu("disable",l.id,!0):t.gridmenu.jqxMenu("disable",h.id,!0))}else t.gridmenu.jqxMenu("disable",u.id,!0)}if(null!=p&&null!=f&&(t.groupable&&a.groupable?t.groups&&-1!=t.groups.indexOf(a.datafield)?(t.gridmenu.jqxMenu("disable",p.id,!0),t.gridmenu.jqxMenu("disable",f.id,!1)):(t.gridmenu.jqxMenu("disable",p.id,!1),t.gridmenu.jqxMenu("disable",f.id,!0)):(t.gridmenu.jqxMenu("disable",f.id,!0),t.gridmenu.jqxMenu("disable",p.id,!0))),null!=m){t.menuOwner=a,t._updatefilterpanel(t,m,a);var x=0;t.sortable&&t._togglesort&&t.showsortmenuitems&&(x+=3),t.groupable&&t.addgroup&&t.showgroupmenuitems&&(x+=2);var b=33*x+6,w=t._measureMenuElement(),b=x*w+14;e.jqx.browser.msie&&e.jqx.browser.version<8&&(b+=20,e(m).height(190)),t.isTouchDevice()&&(b+=10),t.filterable&&t.showfiltermenuitems&&(a.filterable?(t.gridmenu.height(b+190),e(m).css("display","block")):(t.gridmenu.height(b),e(m).css("display","none")))}if(t.columnmenuopening){var y=t.columnmenuopening(t.gridmenu,a.displayfield,t.gridmenu.height());!1===y&&t._closemenu()}e.data(document.body,"contextmenu"+t.element.id,{column:a,columnsmenu:s[0]})};t.addHandler(u,"click",function(e){return a.menu?(t.showfilterrow||("block"!=s[0].style.display&&r.trigger("mouseenter"),setTimeout(function(){"block"!=s[0].style.display&&r.trigger("mouseenter"),p()},200)),!1):!1}),t.addHandler(s,"click",function(e){return a.menu?(p(),!1):!1}),t.isTouchDevice()&&t.addHandler(s,e.jqx.mobile.getTouchEventName("touchstart"),function(e){return a.menu?(t._hasOpenedMenu?t._closemenu():p(),!1):!1})},_removecolumnhandlers:function(t){var i=this.that,r=e(t.element);if(r.length>0){i.removeHandler(r,"mouseenter"),i.removeHandler(r,"mouseleave");var s=e(t.filtericon);if(i.removeHandler(s,"mousedown"),i.removeHandler(s,"click"),i.removeHandler(r,"click"),i.removeHandler(r,"mousemove"),i.columnsreorder&&(i.removeHandler(r,"mousedown.drag"),i.removeHandler(r,"mousemove.drag")),i.removeHandler(r,"dragstart"),r[0].columnsmenu){var a=e(r[0].columnsmenu);i.removeHandler(a,"click"),i.removeHandler(a,"mousedown"),i.removeHandler(a,e.jqx.mobile.getTouchEventName("touchstart"))}}},_rendercolumnheader:function(e,t,i,r){var s="7px";if(r.columngroups?(s=i/2-this._columnheight/2,0>s&&(s=6),s+="px"):30!=this.columnsheight&&(s=this.columnsheight/2-this._columnheight/2,0>s&&(s=6),s+="px"),this.enableellipsis)return"left"==t?'<div style="padding-bottom: 2px; overflow: hidden; text-overflow: ellipsis; text-align: '+t+"; margin-left: 4px; margin-right: 2px; margin-bottom: "+s+"; margin-top: "+s+';"><span style="text-overflow: ellipsis; cursor: default;">'+e+"</span></div>":'<div style="padding-bottom: 2px; overflow: hidden; text-overflow: ellipsis; text-align: '+t+"; margin-left: 2px; margin-right: 4px; margin-bottom: "+s+"; margin-top: "+s+';"><span style="text-overflow: ellipsis; cursor: default;">'+e+"</span></div>";if("center"==t||"middle"==t)return'<div style="padding-bottom: 2px; text-align: center; margin-top: '+s+';"><a href="#">'+e+"</a></div>";var a='<a style="margin-top: '+s+"; float: "+t+';" href="#">'+e+"</a>";return a},_renderrows:function(t,i,r){var s=this.that;if((this.pageable||this.groupable)&&(this.autoheight||this.autorowheight)&&null!=this.table&&null!=this.table[0].rows&&this.table[0].rows.length<this.dataview.rows.length&&(s.prerenderrequired=!0),!this.pageable&&(this.autoheight||this.autorowheight)&&(this.virtualmode||this.unboundmode)){var a=this.source.totalrecords;isNaN(a)||null!=this.table&&null!=this.table[0].rows&&this.table[0].rows.length!=a&&(s.prerenderrequired=!0)}!this.autoheight&&!this.autorowheight||s.prerenderrequired||this.table&&this.table[0].rows&&(this.table[0].rows.length<this.dataview.records.length&&(this.pageable&&this.table[0].rows.length<this.dataview.pagesize?s.prerenderrequired=!0:this.pageable||(s.prerenderrequired=!0)),this.table[0].rows.length<this.dataview.cachedrecords.length&&(this.pageable&&this.table[0].rows.length<this.dataview.pagesize?s.prerenderrequired=!0:this.pageable||(s.prerenderrequired=!0))),s._prerenderrows(t),s._requiresupdate&&(s._requiresupdate=!1,s._updatepageviews());var n=function(){s._loading||(s.WinJS?MSApp.execUnsafeLocalFunction(function(){s._rendervisualrows()}):s._rendervisualrows(),s.virtualmode&&s.showaggregates&&s._updateaggregates&&s.refreshaggregates())},o=e.jqx.browser.msie&&e.jqx.browser.version<10;if(this.virtualmode){var l=function(){if(s.rendergridrows){var e=s._startboundindex;void 0==e&&(e=0);var t=e+1+s.dataview.pagesize;if(null!=e&&null!=t){var r=!!s.source._source,a=r?s.source._source.recordstartindex:s.source.recordstartindex;if(a!=e||1==i){if(r){if(t>=s.source._source.totalrecords&&(t=s.source._source.totalrecords,e=t-s.dataview.pagesize-1,0>e&&(e=0),s.source._source.recordendindex==t&&s.source._source.recordstartindex==e))return;s.source._source.recordstartindex=e,s.source._source.recordendindex=t}else s.source.recordstartindex=e,s.source.recordendindex=t;s.updatebounddata("cells")}}}};this.loadondemand&&(n(),l(),this.loadondemand=!1);var h=void 0==this._browser?this._isIE10():this._browser;this.editable&&this.editcell&&!this.vScrollInstance.isScrolling()&&!this.hScrollInstance.isScrolling()?n():this.autoheight?n():h||o||navigator&&-1!=navigator.userAgent.indexOf("Safari")?(null!=this._scrolltimer&&clearTimeout(this._scrolltimer),this._scrolltimer=setTimeout(function(){n()},5)):n()}else{if("deferred"==this.scrollmode&&(this.hScrollInstance.isScrolling()||this.vScrollInstance.isScrolling())){null!=this._scrolltimer&&clearInterval(this._scrolltimer);var d=this._getfirstvisualrow();if(null!=d){var c=function(t){if(null==d)return"";var i="<table>",r=s.deferreddatafields;null==r&&s.columns.records.length>0&&(r=new Array,r.push(s.columns.records[0].displayfield));for(var a=0;a<r.length;a++){var n=r[a],o=s._getcolumnbydatafield(n);if(o){var l=s._getcellvalue(o,d);""!=o.cellsformat&&e.jqx.dataFormat&&(e.jqx.dataFormat.isDate(l)?l=e.jqx.dataFormat.formatdate(l,o.cellsformat,s.gridlocalization):e.jqx.dataFormat.isNumber(l)&&(l=e.jqx.dataFormat.formatnumber(l,o.cellsformat,s.gridlocalization))),i+="<tr><td>"+l+"</td></tr>"}}return i+="</table>"},u=this.scrollfeedback?this.scrollfeedback(d.bounddata):c(d.bounddata);u!=this._scrollelementcontent&&(this._scrollelement[0].innerHTML=u,this._scrollelementcontent=u)}return this._scrollelement.css("visibility","visible"),this._scrollelementoverlay.css("visibility","visible"),this._scrollelement.css("margin-top",-this._scrollelement.height()/2),void(this._scrolltimer=setInterval(function(){s.hScrollInstance.isScrolling()||s.vScrollInstance.isScrolling()||(n(),s._scrollelement.css("visibility","hidden"),s._scrollelementoverlay.css("visibility","hidden"),clearInterval(s._scrolltimer),d&&s.ensurerowvisible(d.visibleindex))},100))}navigator&&-1==navigator.userAgent.indexOf("Chrome")&&-1!=navigator.userAgent.indexOf("Safari")&&(this._updatedelay=1),void 0!=this.touchDevice&&1==this.touchDevice&&(this._updatedelay=5);var h=void 0==this._browser?this._isIE10():this._browser;if((h||o)&&(this._updatedelay=5),h&&this.hScrollInstance.isScrolling())return void n();e.jqx.browser.mozilla&&0==this._updatedelay&&(this.vScrollInstance.isScrolling()||this.hScrollInstance.isScrolling())&&(this._updatedelay=0);var p=this.isTouchDevice();if(p&&(this._updatedelay=0),null!=this.updatedelay&&(this._updatedelay=this.updatedelay),0==this._updatedelay)n();else{var f=this._jqxgridrendertimer;null!=f&&clearTimeout(f),this.vScrollInstance.isScrolling()||this.hScrollInstance.isScrolling()?(this._updatedelay?f=setTimeout(function(){n()},this._updatedelay):(f=null,n()),this._jqxgridrendertimer=f):(this._jqxgridrendertimer=f,n())}}if(s.autorowheight&&!s.autoheight&&this._pageviews.length>0){var m=this._gettableheight(),g=this._pageviews[0].height;if(g>m)if(this.pageable&&this.gotopage&&(g=this._pageviews[0].height,0>g&&(g=this._pageviews[0].height)),"visible"!=this.vScrollBar.css("visibility")&&this.vScrollBar.css("visibility","visible"),(m>=g||this.autoheight)&&this.vScrollBar.css("visibility","hidden"),g-m>0){if("deferred"!=this.scrollmode){var v=g-m,x=this.vScrollInstance.max;if(this.vScrollBar.jqxScrollBar({max:v}),Math.round(v)!=Math.round(x)){var b=this.vScrollBar.jqxScrollBar("value");b>v&&this.vScrollBar.jqxScrollBar({value:0})}}}else this.vScrollBar.jqxScrollBar({value:0,max:g});else this._loading||this.vScrollBar.css("visibility","hidden"),this.vScrollBar.jqxScrollBar({value:0});this._arrange(),this.virtualsizeinfo&&(this.virtualsizeinfo.virtualheight=g)}},scrolling:function(){var e=this.vScrollInstance.isScrolling(),t=this.hScrollInstance.isScrolling();return{vertical:e,horizontal:t}},_renderhorizontalscroll:function(){var e=this.hScrollInstance,t=e.value;"hidden"===this.hScrollBar.css("visibility")&&(e.value=0,t=0);var i=parseInt(t);if(null!=this.table){var r=this.table[0].rows.length,s=this.columnsrow,a=this.groupable&&this.groups.length>0?this.groups.length:0,n=this.columns.records.length-a,o=this.columns.records,l=0==this.dataview.rows.length;if(this.rtl&&"hidden"!=this.hScrollBar.css("visibility")&&(i=e.max-i),l&&!this._haspinned){for(var h=0;r>h;h++)for(var d=this.table[0].rows[h],c=0;a+n>c;c++){var u=d.cells[c];if(void 0!=u){var p=o[c];if(p.pinned&&(u.style.marginLeft=i+"px",0==h)){var f=s[0].cells[c];f.style.marginLeft=i+"px"}}}this.table[0].style.marginLeft=-i+"px",s[0].style.marginLeft=-i+"px"}else if(this._haspinned||void 0==this._haspinned){for(var h=0;r>h;h++)for(var d=this.table[0].rows[h],c=0;a+n>c;c++){var u=d.cells[c];if(void 0!=u){var p=o[c];if(p.pinned){if(0==i&&""==u.style.marginLeft)continue;var m=null,g=null,v=null;if(this.showeverpresentrow&&this.addnewrowtop&&this.addnewrowtop[0].cells&&(v=this.addnewrowtop[0].cells[c]),this.showfilterrow&&this.filterrow&&this.filterrow[0].cells&&(g=this.filterrow[0].cells[c]),this.showaggregates&&this.statusbar[0].cells&&(m=this.statusbar[0].cells[c]),this.rtl){if(u.style.marginLeft=-parseInt(t)+"px",0==h){var f=s[0].cells[c];f.style.marginLeft=-parseInt(t)+"px",m&&(m.style.marginLeft=-parseInt(t)+"px"),g&&(g.style.marginLeft=-parseInt(t)+"px"),v&&(v.style.marginLeft=-parseInt(t)+"px")}}else if(u.style.marginLeft=i+"px",0==h){var f=s[0].cells[c];f.style.marginLeft=i+"px",m&&(m.style.marginLeft=i+"px"),g&&(g.style.marginLeft=i+"px"),v&&(v.style.marginLeft=i+"px")}}}}this.table[0].style.marginLeft=-i+"px",s[0].style.marginLeft=-i+"px"}else 0==this._haspinned&&(this.table[0].style.marginLeft=-i+"px",s[0].style.marginLeft=-i+"px");if(this.showaggregates&&this.statusbar[0].cells){var x=0;this.rtl&&"hidden"!=this.vScrollBar.css("visibility")&&"hidden"!=this.hScrollBar.css("visibility")&&(x=2+parseInt(this.hScrollBar.css("left"))),this.statusbar[0].style.marginLeft=-i+x+"px"}this.showfilterrow&&this.filterrow&&this.filterrow[0].cells&&(this.filterrow[0].style.marginLeft=-i+"px"),this.showeverpresentrow&&this.addnewrowtop&&this.addnewrowtop[0].cells&&(this.addnewrowtop[0].style.marginLeft=-i+"px");
}},_updaterowdetailsvisibility:function(){if(this.rowdetails)for(var t=0;t<this._rowdetailselementscache.length;t++)e(this._rowdetailselementscache[t]).css("display","none")},_getvisualcolumnsindexes:function(e,t,i,r,s,a){if(this.rowdetails||this.rtl||this.editcell||this.width&&this.width.toString().indexOf("%")>=0||this.exporting)return{start:0,end:i+r};var n=0,o=-1,l=i+r,h=!1;if(this.autorowheight)return{start:0,end:i+r};if(!s)for(var d=0;i+r>d;d++){if(h||this.columns.records[d].pinned&&a&&(h=!0),this.columns.records[d].hidden||(n+=this.columns.records[d].width),n>=e&&-1==o&&(o=d),n>t+e){l=d;break}}return l++,l>i+r&&(l=i+r),(-1==o||h)&&(o=0),{start:o,end:l}},_getvirtualcolumnsindexes:function(e,t,i,r,s){if(this.rtl||this.editcell||this.exporting)return{start:0,end:i+r};var a=0,n=-1,o=i+r;if(this.autorowheight)return{start:0,end:i+r};if(!s)for(var l=0;i+r>l;l++){if(this.columns.records[l].hidden||(a+=this.columns.records[l].width),a>=e&&-1==n&&(n=l),a>t+e){o=l;break}}return o++,o>i+r&&(o=i+r),-1==n&&(n=0),{start:n,end:o}},_getfirstvisualrow:function(){var e=this.vScrollInstance,t=e.value,i=parseInt(t);if(0==this._pagescache.length&&(this.dataview.updateview(),this._loadrows()),"visible"!=this.vScrollBar[0].style.visibility&&(i=0),!this.pageable){var r=this._findvisiblerow(i,this._pageviews);if(-1==r)return null;r!=this.dataview.pagenum?(this.dataview.pagenum=r,this.dataview.updateview(),this._loadrows()):this._pagescache[this.dataview.pagenum]||this._loadrows()}var s=this._findvisiblerow(i,this._pagescache[this.dataview.pagenum]),a=this._pagescache[this.dataview.pagenum];return a&&a[0]?a[s]:void 0},_rendervisualrows:function(){if(this.virtualsizeinfo){var t=this.vScrollInstance,i=this.hScrollInstance,r=t.value,s=i.value,a=parseInt(r),n=parseInt(s),o=this._gettableheight(),l=void 0!=this._hostwidth?this._hostwidth:this.host.width();"visible"==this.hScrollBar[0].style.visibility&&(o+=29),"deferred"==this.scrollmode&&0!=this._newmax&&a>this._newmax&&null!=this._newmax&&(a=this._newmax);var h=t.isScrolling()||i.isScrolling()||this._keydown,d=this.groupable&&this.groups.length>0;if(this.visiblerows=new Array,this.hittestinfo=new Array,this.editcell&&void 0==this.editrow&&this._hidecelleditor(!1),void 0!=this.editrow&&this._hideeditors(),this.virtualmode&&!this.pageable&&(this._pagescache=new Array),0==this._pagescache.length&&(this.dataview.updateview(),this._loadrows()),"hidden"==this.vScrollBar[0].style.visibility&&(a=0),!this.pageable){var c=this._findvisiblerow(a,this._pageviews);if(-1==c)return this._clearvisualrows(),this._renderemptyrow(),void this._updaterowdetailsvisibility();c!=this.dataview.pagenum?(this.dataview.pagenum=c,this.dataview.updateview(),this._loadrows()):this._pagescache[this.dataview.pagenum]||this._loadrows()}var u=this.groupable&&this.groups.length>0?this.groups.length:0;if(this.columns.records){var p=this.columns.records.length-u,f=this._findvisiblerow(a,this._pagescache[this.dataview.pagenum]),m=this._pagescache[this.dataview.pagenum],g=f;0>g&&(g=0);var v=0,x=0,b=0,w=0,y=this.virtualsizeinfo.visiblerecords,_=this.groupable?this.groups.length:0,j=this.toTP("jqx-grid-cell")+" "+this.toTP("jqx-item");this.rtl&&(j+=" "+this.toTP("jqx-grid-cell-rtl")),(this.autoheight||this.autorowheight)&&this.pageable&&(!this.groupable||this.groupable&&0===this.groups.length)&&(y=this.dataview.pagesize),d&&(j=" "+this.toTP("jqx-grid-group-cell")),this.isTouchDevice()&&(j+=" "+this.toTP("jqx-touch")),this.autorowheight&&(j+=" jqx-grid-cell-wrap");var q=this.rowsheight,T=this._rendercell,S=!0,C=this._getvisualcolumnsindexes(n,l,u,p,d,!0),I=C.start,k=C.end,D=this._getvirtualcolumnsindexes(n,l,u,p,d),M=D.start,P=D.end;e.jqx.browser.msie&&e.jqx.browser.version<9;if((this.autoheight||this.pageable)&&this.autorowheight&&this._pageviews[0]&&(this._oldpageviewheight=this._pageviews[0].height),this.autorowheight&&(g=0),g>=0){this._updaterowdetailsvisibility(),this._startboundindex=null!=m?m[g].bounddata.boundindex:0,this._startvisibleindex=null!=m?m[g].bounddata.visibleindex:0;var N=this.table[0].rows;if(this.columns.records.length>10&&this.enablecolumnsvirtualization)for(var B=function(e){return!(!e.parentNode||"#document-fragment"==e.parentNode.nodeName)},O=0;O<N.length;O++){for(var E=N[O],A=0;M>A;A++){var H=A;if(!this.columns.records[H].pinned&&null!=this.columns.records[H].datafield){var z=E.cells[H];B(z)&&z.parentNode.removeChild(z);var L=this.columns.records[H].element;this.columns.records[H]._rendered=!1,B(L)&&this.columnsrow[0].removeChild(L),this.filterrow&&B(this.filterrow[0].cells[H])&&this.columns.records[H].filterable&&this.filterrow[0].cells[H].parentNode.removeChild(this.filterrow[0].cells[H])}}for(var A=P;A<this.columns.records.length;A++){var H=A;if(!this.columns.records[H].pinned&&null!=this.columns.records[H].datafield){var z=E.cells[H];B(z)&&z.parentNode.removeChild(z);var L=this.columns.records[H].element;this.columns.records[H]._rendered=!1,B(L)&&this.columnsrow[0].removeChild(L),this.filterrow&&B(this.filterrow[0].cells[H])&&this.columns.records[H].filterable&&this.filterrow[0].cells[H].parentNode.removeChild(this.filterrow[0].cells[H])}}for(var A=M;P>A;A++){var H=A,z=E.cells[H];B(z)||E.appendChild(z);var L=this.columns.records[H].element;this.columns.records[H]._rendered=!0,B(L)||this.columnsrow[0].appendChild(L),this.filterrow&&!B(this.filterrow[0].cells[H])&&this.columns.records[H].filterable&&this.filterrow[0].firstChild.appendChild(this.filterrow[0].cells[H])}}for(var F=0;y>F&&y>x;F++){var R=void 0!=m?m[g+F]:null;if(null==R){if(g=-F,this._pagescache[this.dataview.pagenum+1])m=this._pagescache[this.dataview.pagenum+1],this.dataview.pagenum++;else{var V=this._pageviews.length;do{if(!(this.dataview.pagenum<this._pageviews.length-1)){m=void 0;break}this.dataview.pagenum++,m=void 0,this._pageviews[this.dataview.pagenum].height>0&&(this.dataview.updateview(),this._loadrows(),m=this._pagescache[this.dataview.pagenum])}while(void 0==m&&this.dataview.pagenum<V)}void 0!=m&&(R=m[g+F])}if(null!=R){if(R.hidden)continue;if(this._endboundindex=this._startboundindex+F,this._endvisibleindex=this._startvisibleindex+F,0==F){var W=Math.abs(a-R.top);this.table[0].style.top=-W+"px",w=-W}var E=this.table[0].rows[x];if(!E)continue;parseInt(E.style.height)!=R.height&&(E.style.height=parseInt(R.height)+"px"),b+=R.height;var G=this.rowdetails&&R.rowdetails,U=!R.rowdetailshidden;G&&U&&(E.style.height=parseInt(R.height-R.rowdetailsheight)+"px",y++);for(var Y=this._isrowselected(S,R),A=I;k>A;A++){var H=A;this._rendervisualcell(T,j,Y,G,U,d,_,E,R,H,x,h)}if(void 0!=R.group&&this._rendergroup&&this._rendergroup(_,E,R,u,p,x,l),this.autorowheight&&(this.autoheight||this.pageable)){for(var q=this.rowsheight,A=I;k>A;A++)this.editable&&this.editcell&&this.editcell.column==this.columns.records[A].datafield&&this.editcell.row==this.getboundindex(R)&&this.editcell.editor?q=Math.max(q,this.editcell.editor.height()):E.cells[A].firstChild&&(q=Math.max(q,8+parseInt(E.cells[A].firstChild.offsetHeight)));E.style.height=parseInt(q)+"px",this.heights[this._startboundindex+F]=q,G&&U&&(q+=R.rowdetailsheight),R.height=q}if(this.visiblerows[this.visiblerows.length]=R,this.hittestinfo[this.hittestinfo.length]={row:R,visualrow:E,details:!1},G&&U){x++;var E=this.table[0].rows[x];this._renderrowdetails(j,E,R,u,p,x),this.visiblerows[this.visiblerows.length]=R,this.hittestinfo[this.hittestinfo.length]={row:R,visualrow:E,details:!0}}if(!this.autorowheight&&b+w>=o)break}else cansetheight=!0,this._clearvisualrow(n,d,x,u,p),o>=b+v+w&&(v+=q);x++}if(this._horizontalvalue=n,v>0&&"visible"==this.vScrollBar[0].style.visibility){var X=(parseInt(this.table.css("top")),this._pageviews[this._pageviews.length-1]),K=t.max,$=X.top+X.height-o;"visible"==this.hScrollBar.css("visibility")&&($+=this.scrollbarsize+20),K==$||this.autorowheight||$>=0&&("deferred"!=this.scrollmode?(t.max=$,t.setPosition(t.max)):this._newmax!=$&&(this._newmax=$,this._rendervisualrows()))}}if((this.autoheight||this.pageable)&&this.autorowheight){this._pagescache=new Array;for(var J=0,Q=0,O=0;O<this.visiblerows.length;O++){var Z=this.visiblerows[O];Z.top=J,J+=Z.height,Q+=Z.height;var G=this.rowdetails&&Z.rowdetails,U=!Z.rowdetailshidden,E=this.table[0].rows[O];G&&U&&O++;for(var A=I;k>A;A++){var ee=this.columns.records[A];if(!ee.hidden&&!ee.cellsrenderer){var te=E.cells[A],ie=0;if(te.firstChild){var ie=(Z.height-parseInt(te.firstChild.offsetHeight)-8)/2;if(G&&U)var ie=(Z.height-Z.rowdetailsheight-e(te.firstChild).height()-8)/2}else var ie=(Z.height-parseInt(e(te).height())-8)/2;if(ie>=0&&(ie=parseInt(ie)+4,te.firstChild&&-1==te.firstChild.className.indexOf("jqx-grid-groups-row")&&"checkbox"!=ee.columntype&&"button"!=ee.columntype)){if(this.editable&&this.editcell&&this.editcell.column==ee.datafield&&this.editcell.row==this.getboundindex(Z))continue;te.firstChild.style.marginTop=ie+"px"}}}}this._pageviews[0]&&(this._pageviews[0].height=Q),this._arrange()}if(this._renderemptyrow(),this.toCompile&&this.toCompile.length>0){var re=this;e.each(re.toCompile,function(t,i){if(this.compiled)return!0;var r=this.cell;return r?(e.jqx.angularCompile&&e.jqx.angularCompile(r,"<div>"+this.value+"</div>"),void(this.compiled=!0)):!0})}}}},_hideemptyrow:function(){if(this.showemptyrow&&this.table&&this.table[0].rows){var t=this.table[0].rows[0];if(t)for(var i=!1,r=0;r<t.cells.length;r++){var s=e(t.cells[r]);"none"==s.css("display")||i||s.width()!=this.host.width()&&s.text()!=this.gridlocalization.emptydatastring||(s[0].checkbox=null,s[0].button=null,i=!0,s[0].innerHTML="")}}},_renderemptyrow:function(){if(!this._loading&&0==this.dataview.records.length&&this.showemptyrow){var t=!1,i=this.toTP("jqx-grid-cell");if(this.table&&this.table.length>0&&this.table[0].rows&&this.table[0].rows.length>0){var r=this.table[0].rows[0];this.table[0].style.top="0px";for(var s=0;s<r.cells.length;s++){var a=e(r.cells[s]);if("none"!=a.css("display")&&!t){a[0].checkbox=null,a[0].button=null,a[0].className=i,t=!0,a[0].innerHTML="";var n=e("<span style='white-space: nowrap; float: left; margin-left: 50%; position: relative;'></span>");n.text(this.gridlocalization.emptydatastring),a.append(n);var o=0;this.oldhscroll||(o=parseInt(this.table[0].style.marginLeft),this.rtl&&(a.css("z-index",999),a.css("overflow","visible"))),n.css("left",-o-n.width()/2),n.css("top",this._gettableheight()/2-n.height()/2),e.jqx.browser.msie&&e.jqx.browser.version<8&&(n.css("margin-left","0px"),n.css("left",this.host.width()/2-n.width()/2));var l=Math.abs(parseInt(this.table[0].style.top));isNaN(l)&&(l=0),e(r).height(this._gettableheight()+l),a.css("margin-left","0px"),a.width(this.host.width()),this.table.width()<this.host.width()&&this.table.width(this.host.width())}a.addClass(this.toThemeProperty("jqx-grid-empty-cell"))}}}},_clearvisualrows:function(){var e=this.virtualsizeinfo.visiblerecords,t=this.hScrollInstance,i=t.value,r=parseInt(i),s=this.groupable&&this.groups.length>0;if(this.columns.records)for(var a=0;e>a;a++)this._clearvisualrow(r,s,a,0,this.columns.records.length)},_iscellselected:function(e,t,i){var r=!1,s=0;if(this.virtualmode&&this.pageable&&this.groupable&&this.groups.length>0&&(s=this.dataview.pagesize*this.dataview.pagenum),this.groups.length>0&&this.pageable&&this.groupable){var a=this.getrowboundindexbyid(t.bounddata.uid);if(-1!=a){for(var n in this.selectedcells)n==a+"_"+i&&(r=!0);return r}return!1}if(e&&null!=t.bounddata)if("singlerow"!=this.selectionmode){if(this.dataview.filters.length>0)if(this.virtualmode||void 0==t.bounddata.dataindex)for(var n in this.selectedcells)n==s+t.bounddata.boundindex+"_"+i&&(r=!0);else for(var n in this.selectedcells)n==s+t.bounddata.dataindex+"_"+i&&(r=!0);else for(var n in this.selectedcells)if(n==s+t.bounddata.boundindex+"_"+i){r=!0;break}}else if(this.dataview.filters.length>0){if(this.virtualmode||void 0==t.bounddata.dataindex){for(var n in this.selectedcells)if(n==s+t.bounddata.boundindex+"_"+i){r=!0;break}}else for(var n in this.selectedcells)if(n==s+t.bounddata.dataindex+"_"+i){r=!0;break}}else for(var n in this.selectedcells)if(n==s+t.bounddata.boundindex==this.selectedrowindex){r=!0;break}return r},_isrowselected:function(e,t){var i=!1,r=0;if(this.virtualmode&&this.pageable&&this.groupable&&this.groups.length>0&&(r=this.dataview.pagesize*this.dataview.pagenum),this.groupable&&this.groups.length>0&&this.pageable){var s=this.getrowboundindexbyid(t.bounddata.uid);return void 0==s||-1==s?!1:(-1!=this.selectedrowindexes.indexOf(s)&&(i=!0),i||(i=s==this.selectedrowindex&&-1!=this.selectedrowindex),i)}return e&&null!=t.bounddata&&("singlerow"!=this.selectionmode?this.dataview.filters.length>0?this.virtualmode||void 0==t.bounddata.dataindex?-1!=this.selectedrowindexes.indexOf(r+t.bounddata.boundindex)&&(i=!0):-1!=this.selectedrowindexes.indexOf(r+t.bounddata.dataindex)&&(i=!0):-1!=this.selectedrowindexes.indexOf(r+t.bounddata.boundindex)&&(i=!0):this.dataview.filters.length>0?this.virtualmode||void 0==t.bounddata.dataindex?-1!=this.selectedrowindexes.indexOf(r+t.bounddata.boundindex)&&(i=!0):-1!=this.selectedrowindexes.indexOf(r+t.bounddata.dataindex)&&(i=!0):r+t.bounddata.boundindex==this.selectedrowindex&&(i=!0)),i},_rendervisualcell:function(t,i,r,s,a,n,o,l,h,d,c,u){var p=this.columns.records[d];if(p.hidden){var f=l.cells[d];return void(f.innerHTML="")}cellvalue=this._getcellvalue(p,h);var f=l.cells[d],m=i;if(-1!=this.selectionmode.indexOf("cell")&&(r=this.dataview.filters.length>0?!!this.selectedcells[h.bounddata.dataindex+"_"+p.datafield]:!!this.selectedcells[h.boundindex+"_"+p.datafield],this.editcell&&this.editcell.row===h.boundindex&&this.editcell.column===p.datafield&&"checkbox"!==p.columntype&&(r=!1),(this.virtualmode||this.groupable&&this.groups.length>0&&this.pageable)&&(r=this._iscellselected(!0,h,p.datafield))),""!=p.cellclassname&&p.cellclassname)if("string"==typeof p.cellclassname)m+=" "+p.cellclassname;else{var g=p.cellclassname(this.getboundindex(h),p.datafield,cellvalue,h.bounddata);g&&(m+=" "+g)}var v=this.showsortcolumnbackground&&this.sortcolumn&&p.displayfield==this.sortcolumn;if(v&&(m+=" "+this.toTP("jqx-grid-cell-sort")),p.filter&&this.showfiltercolumnbackground&&(m+=" "+this.toTP("jqx-grid-cell-filter")),h.bounddata.totalsrow&&(m+=" "+this.toTP("jqx-grid-cell-pinned")),(p.pinned&&this.showpinnedcolumnbackground||p.grouped)&&(n?h.bounddata.totalsrow||(m+=" "+this.toTP("jqx-grid-cell-pinned")):m+=" "+this.toTP("jqx-grid-cell-pinned")),this.altrows&&void 0==h.group){var x=h.visibleindex;x>=this.altstart&&(this.altstart+x)%(1+this.altstep)==0&&(m+=v?" "+this.toTP("jqx-grid-cell-sort-alt"):" "+this.toTP("jqx-grid-cell-alt"),p.filter&&this.showfiltercolumnbackground&&(m+=" "+this.toTP("jqx-grid-cell-filter-alt")),p.pinned&&this.showpinnedcolumnbackground&&(m+=" "+this.toTP("jqx-grid-cell-pinned-alt")))}if(o>=d){if(n||this.rowdetails||this.pageable&&this.virtualmode){var b=e(f),w=this.columns.records[d].width;f.style.width!=parseInt(w)+"px"&&b.width(w)}}else if((n||this.rowdetails)&&this._hiddencolumns){var b=e(f),w=this.columns.records[d].width;parseInt(f.style.width)!=w&&b.width(w)}var y=!0;if(this.rowdetails&&s&&(a&&!n?m+=" "+this.toTP("jqx-grid-details-cell"):n&&(m+=" "+this.toTP("jqx-grid-group-details-cell")),this.showrowdetailscolumn))if(this.rtl){if(void 0==h.group&&d==l.cells.length-o-1){var _=this.toThemeProperty("jqx-icon-arrow-down");if(a)m+=" "+this.toTP("jqx-grid-group-expand-rtl"),m+=" "+_;else{m+=" "+this.toTP("jqx-grid-group-collapse-rtl");var _=this.toThemeProperty("jqx-icon-arrow-left");m+=" "+_}return y=!1,f.title="",f.innerHTML="",void(f.className!=m&&(f.className=m))}}else if(void 0==h.group&&d==o&&!h.bounddata.totalsrow){var _=this.toThemeProperty("jqx-icon-arrow-down");if(a)m+=" "+this.toTP("jqx-grid-group-expand"),m+=" "+_;else{m+=" "+this.toTP("jqx-grid-group-collapse");var _=this.toThemeProperty("jqx-icon-arrow-right");m+=" "+_}return y=!1,f.title="",f.innerHTML="",void(f.className!=m&&(f.className=m))}return r&&y&&d>=o&&(m+=" "+this.toTP("jqx-grid-cell-selected"),m+=" "+this.toTP("jqx-fill-state-pressed")),f.className!=m&&(f.className=m),void 0!=h.group?(cellvalue="",f.title="",void(f.innerHTML="")):void t(this,p,h,cellvalue,f,u)},_rendercell:function(t,i,r,s,a,n){var o=s+"_"+i.visibleindex;if("number"==i.columntype||null!=i.cellsrenderer)var o=r.uniqueid+"_"+i.visibleindex;if("number"==i.columntype&&(s=r.visibleindex),t.editcell&&void 0==t.editrow)if("selectedrow"==t.editmode&&i.editable&&t.editable){if(t.editcell.row==t.getboundindex(r)&&t._showcelleditor)return void(t.hScrollInstance.isScrolling()||t.vScrollInstance.isScrolling()?t._showcelleditor(t.editcell.row,i,a,!1,!1):t._showcelleditor(t.editcell.row,i,a,t.editcell.init))}else if(t.editcell.row==t.getboundindex(r)&&t.editcell.column==i.datafield&&(t.editcell.element=a,t.editcell.editing&&t._showcelleditor))return void(t.hScrollInstance.isScrolling()||t.vScrollInstance.isScrolling()?t._showcelleditor(t.editcell.row,i,t.editcell.element,t.editcell.init,!1):t._showcelleditor(t.editcell.row,i,t.editcell.element,t.editcell.init));var l=t._defaultcellsrenderer(s,i),h=t._cellscache[o];if(h){if("checkbox"==i.columntype){if(t.host.jqxCheckBox){""===s&&(s=null);var d=0==a.innerHTML.toString().length;if(!a.checkbox||t.groupable||d?t._rendercheckboxcell(t,a,i,r,s):(a.checkboxrow=t.getboundindex(r),""==s&&(s=!1),"1"==s&&(s=!0),"0"==s&&(s=!1),1==s&&(s=!0),0==s&&(s=!1),"true"==s&&(s=!0),"false"==s&&(s=!1),null!=s||i.threestatecheckbox||(s=!1),i.checkboxcolumn&&(s=!1,t.dataview.filters.length>0&&!t.virtualmode&&void 0!=r.bounddata.dataindex?-1!=t.selectedrowindexes.indexOf(r.bounddata.dataindex)&&(s=!0):-1!=t.selectedrowindexes.indexOf(r.bounddata.boundindex)&&(s=!0)),t.disabled||(a.checkboxinstance?a.checkboxinstance._setState(s):a.checkbox.jqxCheckBox("_setState",s))),null!=i.cellsrenderer){var c=i.cellsrenderer(t.getboundindex(r),i.datafield,s,l,i.getcolumnproperties(),r.bounddata);void 0!=c&&(a.innerHTML=c)}return}}else if("button"==i.columntype&&t.host.jqxButton)return""==s&&(s=!1),null!=i.cellsrenderer&&(s=i.cellsrenderer(t.getboundindex(r),i.datafield,s,l,i.getcolumnproperties(),r.bounddata)),""==a.innerHTML&&(a.buttonrow=t.getboundindex(r),a.button=null,t._renderbuttoncell(t,a,i,r,s)),void(a.button&&!t.groupable?(a.buttonrow=t.getboundindex(r),a.button.val(s)):t._renderbuttoncell(t,a,i,r,s));if(i.createwidget){if(""==a.innerHTML&&(a.widgetrow=t.getboundindex(r),a.widget=null,t._renderwidgetcell(t,a,i,r,s)),a.widget&&!t.groupable){if(a.widgetrow=t.getboundindex(r),!i.initwidget)throw new Error("jqxGrid: 'initwidget' column function is not implemented. Please, implement 'initwidget'");i.initwidget(t.getboundindex(r),i.datafield,s,a.firstChild)}else t._renderwidgetcell(t,a,i,r,s);return}var u=h.element;if(null!=i.cellsrenderer||a.childNodes&&0==a.childNodes.length||t.groupable||t.rowdetails)a.innerHTML!=u&&(a.innerHTML=u);else if(a.innerHTML.indexOf("editor")>=0)a.innerHTML=u;else if(n){var p=u.indexOf(">"),f=u.indexOf("</"),m=u.substring(p+1,f),g=a.childNodes[0];if(m.indexOf(">")>=0)a.innerHTML=u;else if(g.childNodes[0])m!=g.childNodes[0].nodeValue&&(m.indexOf("&")>=0?a.innerHTML=u:g.childNodes[0].nodeValue=m);else{var v=document.createTextNode(m);g.appendChild(v)}}else a.innerHTML!=u&&(a.innerHTML=u);return void(t.enabletooltips&&i.enabletooltips&&(a.title=h.title))}if("checkbox"==i.columntype)return t._rendercheckboxcell(t,a,i,r,s),t._cellscache[o]={element:"",title:s},void(t.enabletooltips&&i.enabletooltips&&(a.title=""+s));if("button"==i.columntype)return null!=i.cellsrenderer&&(s=i.cellsrenderer(t.getboundindex(r),i.datafield,s,l,i.getcolumnproperties(),r.bounddata)),t._renderbuttoncell(t,a,i,r,s),t._cellscache[o]={element:"",title:s},void(t.enabletooltips&&i.enabletooltips&&(a.title=""+s));if("number"==i.columntype&&(s=r.visibleindex),i.createwidget)return null!=i.cellsrenderer&&(s=i.cellsrenderer(t.getboundindex(r),i.datafield,s,l,i.getcolumnproperties(),r.bounddata)),t._renderwidgetcell(t,a,i,r,s),t._cellscache[o]={element:"",title:s},void(t.enabletooltips&&i.enabletooltips&&(a.title=s));var u=null;if(null!=i.cellsrenderer){if(u=i.cellsrenderer(t.getboundindex(r),i.datafield,s,l,i.getcolumnproperties(),r.bounddata),u&&(u.indexOf("<jqx-")>=0||u.indexOf(" ng-")>=0))return void(t.toCompile&&t.toCompile.push({cell:a,value:u,row:t.getboundindex(r)}))}else u=l;null==u&&(u=l);var x=s;if(t.enabletooltips&&i.enabletooltips&&(""!=i.cellsformat&&e.jqx.dataFormat&&(e.jqx.dataFormat.isDate(s)?x=e.jqx.dataFormat.formatdate(x,i.cellsformat,t.gridlocalization):e.jqx.dataFormat.isNumber(s)&&(x=e.jqx.dataFormat.formatnumber(x,i.cellsformat,t.gridlocalization))),a.title=x),t.WinJS)e(a).html(u);else{var b=a.innerHTML;if(b.indexOf("editor")>=0||null!=i.cellsrenderer||t.groupable||t.virtualmode)a.innerHTML=u;else if(b.length>0){var p=u.indexOf(">"),f=u.indexOf("</"),m=u.substring(p+1,f),g=a.childNodes[0];if(m.indexOf(">")>=0)a.innerHTML=u;else if(g.childNodes[0])m!=g.childNodes[0].nodeValue&&(m.indexOf("&")>=0||b.indexOf("span")>=0?a.innerHTML=u:g.childNodes[0].nodeValue=m);else{var v=document.createTextNode(m);g.appendChild(v)}}else b!=u&&(a.innerHTML=u)}return t._cellscache[o]={element:a.innerHTML,title:x},!0},_isIE10:function(){if(void 0==this._browser){var t=e.jqx.utilities.getBrowser();if("msie"==t.browser&&parseInt(t.version)>9)this._browser=!0;else if(this._browser=!1,"msie"==t.browser){var i="Browser CodeName: "+navigator.appCodeName;i+="Browser Name: "+navigator.appName,i+="Browser Version: "+navigator.appVersion,i+="Platform: "+navigator.platform,i+="User-agent header: "+navigator.userAgent,-1!=i.indexOf("Zune 4.7")&&(this._browser=!0)}}return this._browser},_renderinlinecell:function(t,i,r,s,a){e(i);i.innerHTML='<div style="position: absolute;"></div>'},_rendercheckboxcell:function(t,i,r,s,a){if(t.host.jqxCheckBox){var n=e(i);if(""===a&&(a=r.threestatecheckbox?null:!1),null!==a||r.threestatecheckbox||(a=!1),"1"==a&&(a=!0),"0"==a&&(a=!1),1==a&&(a=!0),0==a&&(a=!1),"true"==a&&(a=!0),"false"==a&&(a=!1),r.checkboxcolumn){a=!1;var o=this.getboundindex(s);-1!=this.selectedrowindexes.indexOf(o)&&(a=!0)}if(0==n.find(".jqx-checkbox").length){i.innerHTML='<div style="position: absolute; top: 50%; left: 50%; margin-top: -7px; margin-left: -10px;"></div>',e(i.firstChild).jqxCheckBox({disabled:t.disabled,_canFocus:!1,hasInput:!1,hasThreeStates:r.threestatecheckbox,enableContainerClick:!1,animationShowDelay:0,animationHideDelay:0,locked:!0,theme:t.theme,checked:a}),this.enabletooltips&&r.enabletooltips&&(i.title=""+a),this.editable&&r.editable&&e(i.firstChild).jqxCheckBox({locked:!1}),r.checkboxcolumn&&e(i.firstChild).jqxCheckBox({locked:!1}),i.checkbox=e(i.firstChild),i.checkboxinstance=i.checkbox.data().jqxCheckBox.instance,i.checkboxrow=this.getboundindex(s);var l=e.data(i.firstChild,"jqxCheckBox").instance;l.updated=function(s,a,n){if(t.disabled){a=n;for(var o=t.table[0].rows.length,l=t._getcolumnindex(r.datafield),h=0;o>h;h++){var d=t.table[0].rows[h].cells[l].firstChild;d&&e(d).jqxCheckBox({disabled:t.disabled})}}if(r.editable&&!t.disabled){var o=t.table[0].rows.length,l=t._getcolumnindex(r.datafield);if(void 0==t.editrow){if(r.cellbeginedit){var c=r.cellbeginedit(i.checkboxrow,r.datafield,r.columntype,!a);if(0==c)return void t.setcellvalue(i.checkboxrow,r.datafield,!a,!0)}if(r.cellvaluechanging){var u=r.cellvaluechanging(i.checkboxrow,r.datafield,r.columntype,n,a);void 0!=u&&(a=u)}if("selectedrow"!==t.editmode)for(var h=0;o>h;h++){var d=t.table[0].rows[h].cells[l].firstChild;d&&e(d).jqxCheckBox("destroy")}if(t.editcell&&0==t.editcell.validated)t.setcellvalue(i.checkboxrow,r.datafield,!a,!0);else if("selectedrow"!==t.editmode||null==t.editcell){var p=t.getrowdata(i.checkboxrow);t._raiseEvent(17,{rowindex:i.checkboxrow,row:p,datafield:r.datafield,value:n,columntype:r.columntype}),t.setcellvalue(i.checkboxrow,r.datafield,a,!0),t._raiseEvent(18,{rowindex:i.checkboxrow,row:p,datafield:r.datafield,oldvalue:n,value:a,columntype:r.columntype})}else t.setcellvalue(i.checkboxrow,r.datafield,a,!1,!1);r.cellendedit&&r.cellendedit(i.checkboxrow,r.datafield,r.columntype,a)}}else r.checkboxcolumn&&(t.editcell&&t.endcelledit(t.editcell.row,t.editcell.column,!1,!0),t.disabled||(a?t.selectrow(i.checkboxrow):t.unselectrow(i.checkboxrow),t.autosavestate&&t.savestate&&t.savestate()))}}else i.checkboxrow=this.getboundindex(s),e(i.firstChild).jqxCheckBox("_setState",a,!(this.editable&&r.editable||r.checkboxcolumn))}},_renderwidgetcell:function(t,i,r,s,a){var n=e(i);if(0==n.find(".jqx-grid-widget").length){var o='<div class="jqx-grid-widget" style="opacity: 0.99; position: absolute; width: 100%; height:100%; top: 0%; left: 0%; padding: 0px;"></div>';i.innerHTML=o,r.createwidget(s,r.datafield,a,i.firstChild),e(i.firstChild).attr("hideFocus","true"),e(i.firstChild).children().addClass("jqx-grid-widget"),i.widget=e(i.firstChild),i.widgetrow=t.getboundindex(s)}else r.initwidget(t.getboundindex(s),r.datafield,a,i.firstChild),i.widgetrow=t.getboundindex(s),e(i.firstChild).val(a)},_renderbuttoncell:function(t,i,r,s,a){if(t.host.jqxButton){var n=e(i);if(""==a&&(a=!1),0==n.find(".jqx-button").length){i.innerHTML='<input type="button" style="opacity: 0.99; position: absolute; top: 0%; left: 0%; padding: 0px; margin-top: 2px; margin-left: 2px;"/>',e(i.firstChild).val(a),e(i.firstChild).attr("hideFocus","true"),e(i.firstChild).jqxButton({disabled:t.disabled,theme:t.theme,height:t.rowsheight-4,width:r.width-4}),i.button=e(i.firstChild),i.buttonrow=t.getboundindex(s);var o=this.isTouchDevice();if(o){var l=e.jqx.mobile.getTouchEventName("touchend");t.addHandler(e(i.firstChild),l,function(e){r.buttonclick&&r.buttonclick(i.buttonrow,e)})}else t.addHandler(e(i.firstChild),"click",function(e){r.buttonclick&&r.buttonclick(i.buttonrow,e)})}else i.buttonrow=t.getboundindex(s),e(i.firstChild).val(a)}},_clearvisualrow:function(t,i,r,s,a){var n=this.toTP("jqx-grid-cell");i&&(n=" "+this.toTP("jqx-grid-group-cell")),n+=" "+this.toTP("jqx-grid-cleared-cell");for(var o=this.table[0].rows,l=0;s+a>l;l++)if(o[r]){var h=o[r].cells[l];h.className!=n&&(h.className=n);var d=this.columns.records[l];if(this._horizontalvalue!=t&&!d.pinned&&1==this.oldhscroll){h.style.marginLeft=-t+"px"}var c=d.width;c<d.minwidth&&(c=d.minwidth),c>d.maxwidth&&(c=d.maxwidth),parseInt(h.style.width)!=c&&("auto"!=c?e(h)[0].style.width=c+"px":e(h)[0].style.width=c),""!=h.title&&(h.title=""),""!=h.innerHTML&&(h.innerHTML="")}o[r]&&parseInt(o[r].style.height)!=this.rowsheight&&(o[r].style.height=parseInt(this.rowsheight)+"px")},_findgroupstate:function(e){var t=this._findgroup(e);return null==t?!1:t.expanded},_findgroup:function(e){var t=null;return this.expandedgroups[e]?this.expandedgroups[e]:t},_clearcaches:function(){this._columnsbydatafield=new Array,this._pagescache=new Array,this._pageviews=new Array,this._cellscache=new Array,this.heights=new Array,this.hiddens=new Array,this.hiddenboundrows=new Array,this.heightboundrows=new Array,this.detailboundrows=new Array,this.details=new Array,this.expandedgroups=new Array,this._rowdetailscache=new Array,this._rowdetailselementscache=new Array,e.jqx.dataFormat&&e.jqx.dataFormat.cleardatescache(),this.tableheight=null},_getColumnText:function(t){if(void 0==this._columnsbydatafield&&(this._columnsbydatafield=new Array),this._columnsbydatafield[t])return this._columnsbydatafield[t];var i=t,r=null;return e.each(this.columns.records,function(){return this.datafield==t||this.displayfield==t?(i=this.text,r=this,!1):void 0}),this._columnsbydatafield[t]={label:i,column:r},this._columnsbydatafield[t]},_getcolumnbydatafield:function(t){if(void 0==this.__columnsbydatafield&&(this.__columnsbydatafield=new Array),this.__columnsbydatafield[t])return this.__columnsbydatafield[t];var i=t,r=null;return e.each(this.columns.records,function(){return this.datafield==t||this.displayfield==t?(i=this.text,r=this,!1):void 0}),this.__columnsbydatafield[t]=r,this.__columnsbydatafield[t]},isscrollingvertically:function(){var e=this.vScrollBar.jqxScrollBar("isScrolling");return e},_renderrowdetails:function(t,i,r,s,a,n){if(void 0!=i){var o=e(i),l=0,h=this.rowdetails&&this.showrowdetailscolumn?(1+this.groups.length)*this.groupindentwidth:this.groups.length*this.groupindentwidth;if(this.groupable&&this.groups.length>0)for(var d=0;a>=d;d++){var c=e(i.cells[d]);c[0].innerHTML="",c[0].className="jqx-grid-details-cell"}var c=e(i.cells[l]);if("none"==c[0].style.display){for(var u=i.cells[l],p=2,f=l;void 0!=u&&"none"==u.style.display&&10>p;)u=i.cells[f+p-1],p++;c=e(u)}if(this.rtl)for(var m=s;a>m;m++)i.cells[m].innerHTML="",i.cells[m].className="jqx-grid-details-cell";c.css("width","100%"),o.height(r.rowdetailsheight),c[0].className=t;var g=this.getboundindex(r),v=g+"_";if(this._rowdetailscache[v]){var x=this._rowdetailscache[v],b=x.html;if(this.initrowdetails){if(this._rowdetailscache[v].element){var w=this._rowdetailscache[v].element,y=c.coord(),_=this.gridcontent.coord(),j=parseInt(y.top)-parseInt(_.top),q=parseInt(y.left)-parseInt(_.left);this.rtl&&(q=0),e(w).css("top",j),e(w).css("left",q),e(w).css("display","block"),e(w).width(this.host.width()-h),this.layoutrowdetails&&this.layoutrowdetails(g,w,this.element,this.getrowdata(g))}}else c[0].innerHTML=b}else{c[0].innerHTML="",this.enablerowdetailsindent||(h=0);var T='<div class="jqx-enableselect" role="rowgroup" style="border: none; overflow: hidden; width: 100%; height: 100%; margin-left: '+h+'px;">'+r.rowdetails+"</div>";if(this.rtl)var T='<div class="jqx-enableselect" role="rowgroup" style="border: none; overflow: hidden; width: 100%; height: 100%; margin-left: 0px; margin-right: '+h+'px;">'+r.rowdetails+"</div>";if(this._rowdetailscache[v]={id:i.id,html:T},this.initrowdetails){var w=e(T)[0];e(this.gridcontent).prepend(e(w)),e(w).css("position","absolute"),e(w).width(this.host.width()-h),e(w).height(c.height());var y=c.coord();e(w).css("z-index",9999),this.isTouchDevice()&&e(w).css("z-index",99999),e(w).addClass(this.toThemeProperty("jqx-widget-content"));var y=c.coord(),_=this.gridcontent.coord(),j=parseInt(y.top)-parseInt(_.top),q=parseInt(y.left)-parseInt(_.left);e(w).css("top",j),e(w).css("left",q),this.content[0].scrollTop=0,this.content[0].scrollLeft=0;var S=e(e(w).children()[0]);""!=S[0].id&&(S[0].id=S[0].id+g),this.initrowdetails(g,w,this.element,this.getrowdata(g)),this._rowdetailscache[v].element=w,this._rowdetailselementscache[g]=w}else c[0].innerHTML=T}}},_defaultcellsrenderer:function(t,i){""!=i.cellsformat&&e.jqx.dataFormat&&(e.jqx.dataFormat.isDate(t)?t=e.jqx.dataFormat.formatdate(t,i.cellsformat,this.gridlocalization):e.jqx.dataFormat.isNumber(t)&&(t=e.jqx.dataFormat.formatnumber(t,i.cellsformat,this.gridlocalization)));var r="6px";if(28!=this.rowsheight&&(r=this.rowsheight/2-this._cellheight/2,0>r&&(r=4),r+="px"),this.enableellipsis){if("center"==i.cellsalign||"middle"==i.cellsalign)return'<div class="jqx-grid-cell-middle-align" style="margin-top: '+r+';">'+t+"</div>";if("left"==i.cellsalign)return'<div class="jqx-grid-cell-left-align" style="margin-top: '+r+';">'+t+"</div>";if("right"==i.cellsalign)return'<div class="jqx-grid-cell-right-align" style="margin-top: '+r+';">'+t+"</div>"}return"center"==i.cellsalign||"middle"==i.cellsalign?'<div style="text-align: center; margin-top: '+r+';">'+t+"</div>":'<span style="margin-left: 4px; margin-right: 2px; margin-top: '+r+"; float: "+i.cellsalign+';">'+t+"</span>"},getcelltext:function(t,i){if(null==t||null==i)return null;var r=this.getcellvalue(t,i),s=this.getcolumn(i);return s&&""!=s.cellsformat&&e.jqx.dataFormat&&(e.jqx.dataFormat.isDate(r)?r=e.jqx.dataFormat.formatdate(r,s.cellsformat,this.gridlocalization):e.jqx.dataFormat.isNumber(r)&&(r=e.jqx.dataFormat.formatnumber(r,s.cellsformat,this.gridlocalization))),r},getcelltextbyid:function(t,i){if(null==t||null==i)return null;var r=this.getcellvaluebyid(t,i),s=this.getcolumn(i);return s&&""!=s.cellsformat&&e.jqx.dataFormat&&(e.jqx.dataFormat.isDate(r)?r=e.jqx.dataFormat.formatdate(r,s.cellsformat,this.gridlocalization):e.jqx.dataFormat.isNumber(r)&&(r=e.jqx.dataFormat.formatnumber(r,s.cellsformat,this.gridlocalization))),
r},_getcellvalue:function(e,t){var i=null;return i=t.bounddata[e.datafield],null!=e.displayfield&&(i=t.bounddata[e.displayfield]),null==i&&(i=""),i},getcell:function(e,t){if(null==e||null==t)return null;var i=parseInt(e),r=e,s="";return isNaN(i)||(r=this.getrowdata(i)),null!=r&&(s=r[t]),this._getcellresult(s,e,t)},getrenderedcell:function(e,t){if(null==e||null==t)return null;var i=parseInt(e),r=e,s="";return isNaN(i)||(r=this.getrenderedrowdata(i)),null!=r&&(s=r[t]),this._getcellresult(s,e,t)},_getcellresult:function(e,t,i){var r=this.getcolumn(i);if(null==r||void 0==r)return null;var s=r.getcolumnproperties(),a=s.hidden,n=s.width,o=s.pinned,l=s.cellsalign,h=s.cellsformat,d=this.getrowheight(t);return 0==d?null:{value:e,row:t,column:i,datafield:i,width:n,height:d,hidden:a,pinned:o,align:l,format:h}},setcellvaluebyid:function(e,t,i,r,s){var a=this.getrowboundindexbyid(e);return this.setcellvalue(a,t,i,r,s)},getcellvaluebyid:function(e,t){var i=this.getrowboundindexbyid(e);return this.getcellvalue(i,t)},setcellvalue:function(t,i,r,s,a){if(null==t||null==i)return!1;var n=parseInt(t),o=n,l=t;isNaN(n)||(l=this.getrowdata(n));var h=!1;this.filterable&&this._initfilterpanel&&this.dataview.filters.length&&(h=!0),this.virtualmode&&(this._pagescache=new Array),this.sortcache&&(this.sortcache={});var d="",c="";if(null==l||l[i]===r)return this._updating||0==s||this._renderrows(this.virtualsizeinfo),!1;if(null!==l[i]||""!==r){var u=this._getcolumnbydatafield(i),p="string",f=this.source.datafields||(this.source._source?this.source._source.datafields:null);if(f){var m="";e.each(f,function(){return this.name==u.displayfield?(this.type&&(m=this.type),!1):void 0}),m&&(p=m),c=l[u.displayfield]}if(d=l[i],!u.nullable||null!=r&&""!==r&&u.nullable&&void 0===r.label){if(e.jqx.dataFormat.isNumber(d)||"number"==p||"float"==p||"int"==p||"decimal"==p&&"date"!=p)this.gridlocalization&&","==this.gridlocalization.decimalseparator&&r&&r.indexOf&&r.indexOf(",")>=0&&(r=r.replace(",",".")),r=new Number(r),r=parseFloat(r),isNaN(r)&&(r=0);else if((e.jqx.dataFormat.isDate(d)||"date"==p)&&""!=r){var g=r;g=new Date(g),"Invalid Date"!=g&&null!=g?r=g:"Invalid Date"==g&&(g=new Date,r=g)}if(l[i]===r)return void(this._updating||0==s||this._renderrows(this.virtualsizeinfo))}var v=this.source&&this.source._source.localdata&&"observableArray"===this.source._source.localdata.name;if(l[i]=r,v){var x=this.source._source.localdata;x._updating||(x._updating=!0,x[t][i]=r,x._updating=!1)}var b=this.getrenderedrowdata(n,!0);if(b){if(b[i]=r,null!=r&&null!=r.label){var u=this._getcolumnbydatafield(i);l[u.displayfield]=r.label,b[u.displayfield]=r.label,l[i]=r.value,b[i]=r.value,v&&!x._updating&&(x._updating=!0,x[t][i]=r.value,x[t][u.displayfield]=r.label,x._updating=!1)}if(h&&void 0!=l.dataindex&&(o=l.dataindex,this.dataview.cachedrecords[l.dataindex][i]=r,null!=r&&void 0!=r.label&&(this.dataview.cachedrecords[l.dataindex][i]=r.value,this.dataview.cachedrecords[l.dataindex][u.displayfield]=r.label)),this.source&&this.source._knockoutdatasource&&!this._updateFromAdapter&&this.autokoupdates&&this.source._source._localdata){var w=n;h&&void 0!=l.dataindex&&(w=l.dataindex);var y=this.source._source._localdata()[w];this.source.suspendKO=!0;var _=y;if(_[i]&&_[i].subscribe)null!=r&&null!=r.label?(_[u.displayfield](r.label),_[i](r.value)):_[i](r);else{var f=this.source._source.datafields,j=null;if(f&&e.each(f,function(){return this.name==i?(j=this.map,!1):void 0}),null==j)null!=r&&null!=r.label?(_[i]=r.value,_[u.displayfield]=r.label):_[i]=r;else{var q=j.split(this.source.mapChar);if(q.length>0){for(var T=_,S=0;S<q.length-1;S++)T=T[q[S]];T[q[q.length-1]]=r}}this.source._source._localdata.replace(y,e.extend({},_))}this.source.suspendKO=!1}if(this.sortcolumn&&this.dataview.sortby&&!this._updating){var C=this.getsortinformation();this.sortcolumn==i&&(this.dataview.clearsortdata(),this.dataview.sortby(C.sortcolumn,C.sortdirection.ascending))}else this._updating||this.dataview.sortby&&this.dataview.sortcache[i]&&(this.dataview.sortcache[i]=null);if(this._cellscache=new Array,this._pagescache=new Array,this.source.updaterow&&(void 0==a||1==a)){var I=!1,k=this.that,D=function(e){0==e&&(k.setcellvalue(t,i,d,!0,!1),d!=c&&k.setcellvalue(t,k.getcolumn(i).displayfield,c,!0,!1))};try{var M=this.getrowid(n);I=this.source.updaterow(M,l,D),void 0==I&&(I=!0)}catch(P){return I=!1,k.setcellvalue(t,i,d,!0,!1),void(d!=c&&k.setcellvalue(t,k.getcolumn(i).displayfield,c,!0,!1))}}var N=this.vScrollInstance.value;if(this._updating&&1!=s&&(s=!1),1==s||void 0==s){var k=this.that,B=function(){k.pageable&&k.updatepagerdetails&&(k.updatepagerdetails(),(k.autoheight||k.autorowheight)&&k._updatepageviews())},O=this.groupable&&this.groups.length>0;h&&!O?((this.autoheight||this.autorowheight)&&(this.prerenderrequired=!0),this.dataview.refresh(),this.rendergridcontent(!0,!1),B(),this._renderrows(this.virtualsizeinfo)):this.sortcolumn&&!O?((this.autoheight||this.autorowheight)&&(this.prerenderrequired=!0),this.dataview.reloaddata(),this.rendergridcontent(!0,!1),B(),this._renderrows(this.virtualsizeinfo)):this.groupable&&this.groups.length>0?((this.autoheight||this.autorowheight)&&(this.prerenderrequired=!0),this.pageable&&-1!=this.groups.indexOf(i)?(this._pagescache=new Array,this._cellscache=new Array,this.dataview.refresh(),this._render(!0,!0,!1,!1)):(this._pagescache=new Array,this._cellscache=new Array,this.dataview.updateview(),this._renderrows(this.virtualsizeinfo))):(this.dataview.updateview(),this._renderrows(this.virtualsizeinfo))}if(this.vScrollInstance.setPosition(N),this.showaggregates&&this._updatecolumnsaggregates&&this._updatecolumnsaggregates(),this.showfilterrow&&this.filterable&&this.filterrow){var E=this.getcolumn(i).filtertype;"list"!=E&&"checkedlist"!=E||this._updatelistfilters(!0)}return this._raiseEvent(19,{rowindex:t,datafield:i,newvalue:r,value:r,oldvalue:d}),!0}}},getcellvalue:function(e,t){if(null==e||null==t)return null;var i=parseInt(e),r=e;if(isNaN(i)||(r=this.getrowdata(i)),null!=r){var s=r[t];return s}return null},getrows:function(){var t=this.dataview.records.length;if(this.virtualmode){for(var i=new Array,r=0;r<this.dataview.records.length;r++){var s=this.dataview.records[r];s&&i.push(s)}void 0===this.dataview.records.length&&e.each(this.dataview.records,function(){var e=this;e&&i.push(e)});var a=0;return this.pageable&&(a=this.dataview.pagenum*this.dataview.pagesize),i.length>this.source._source.totalrecords-a?i.slice(0,this.source._source.totalrecords-a):i}if(this.dataview.sortdata){for(var i=new Array,r=0;t>r;r++){var n={};n=e.extend({},this.dataview.sortdata[r].value),i[r]=n}return i}return this.dataview.records},getrowboundindexbyid:function(e){var t=this.dataview.recordsbyid["id"+e];if(t&&t.boundindex)return this.getboundindex(t);for(var i=this.getboundrows(),r=0;r<i.length;r++)if(i[r]&&i[r].uid==e)return r;return-1},getrowdatabyid:function(e){var t=this.dataview.recordsbyid["id"+e];if(t)return t;var i=this.getrowboundindexbyid(e);return this.getboundrows()[i]},getrowdata:function(e){if(void 0==e&&(e=0),this.virtualmode){var t=this.dataview.records[e];return t}var t=this.getboundrows()[e];return t},getrenderedrowdata:function(e,t){if(void 0==e&&(e=0),this.virtualmode){var i=this.getrowvisibleindex(e),r=this.dataview.loadedrecords[i];return r}var i=this.getrowvisibleindex(e);if(i>=0){if(this.groupable&&this.groups.length>0)var r=this.dataview.loadedrecords[i];else{var r=this.dataview.loadedrecords[i];if(this.pageable&&(void 0==t||0==t))var r=this.dataview.loadedrecords[this.dataview.pagesize*this.dataview.pagenum+e]}return r}return null},getboundrows:function(){return this.dataview.cachedrecords},getrowdisplayindex:function(e){for(var t=this.getdisplayrows(),i=0;i<t.length;i++)if(t[i])if(void 0!==t[i].dataindex){if(t[i].dataindex==e)return t[i].visibleindex}else if(t[i].boundindex==e)return t[i].visibleindex;return-1},getboundindex:function(e){var t=e.boundindex;return this.groupable&&this.groups.length>0&&this.pageable&&e.bounddata&&(t=this.getrowboundindexbyid(e.bounddata.uid)),this.dataview.filters.length>0&&(e.bounddata?void 0!==e.bounddata.dataindex&&(t=e.bounddata.dataindex):void 0!==e.dataindex&&(t=e.dataindex)),t},getrowboundindex:function(e){var t=this.getdisplayrows()[e];return t?void 0!==t.dataindex?t.dataindex:t.boundindex:-1},getdisplayrows:function(){return this.dataview.loadedrecords},getloadedrows:function(){return this.getdisplayrows()},getvisiblerowdata:function(e){var t=this.getvisiblerows();return t?t[e]:null},getloadedrowdata:function(e){var t=this.getloadedrows();return t?t[e]:null},getvisiblerows:function(){if(this.virtualmode)return this.dataview.loadedrecords;if(this.pageable){for(var e=[],t=0;t<this.dataview.pagesize;t++){var i=this.dataview.loadedrecords[t+this.dataview.pagesize*this.dataview.pagenum];if(void 0==i)break;e.push(i)}return e}if(void 0!=this._startboundindex&&void 0!=this._endboundindex){for(var e=[],t=this._startvisibleindex;t<=this._endvisibleindex;t++){var i=this.dataview.loadedrecords[t];if(void 0==i)break;e.push(i)}return e}return this.dataview.loadedrecords},getrowid:function(e){if(void 0==e&&(e=0),this.virtualmode){var t=this.getrowvisibleindex(e),i=this.dataview.loadedrecords[t];if(i)return i.uid}else{var i=null,r=this.dataview.filters.length>0;if(e>=0&&e<this.dataview.bounditems.length&&!r){if(this.groupable&&this.groups.length>0)var t=this.getrowvisibleindex(e),i=this.dataview.loadedrecords[t];else var t=this.getrowvisibleindex(e),i=this.dataview.loadedrecords[t];if(i)return i.uid}if(this.dataview.filters.length>0){var i=this.getboundrows()[e];return i&&null!=i.uid?i.uid:null}}return null},_updateGridData:function(e){var t=!1;this.filterable&&this._initfilterpanel&&this.dataview.filters.length&&(t=!0),t?(this.dataview.refresh(),"updaterow"==e?(this._render(!0,!0,!1,!1,!1),this.invalidate()):this.render()):this.sortcolumn||this.groupable&&this.groups.length>0?(this.dataview.reloaddata(),this.render()):(this._cellscache=new Array,this._pagescache=new Array,this._renderrows(this.virtualsizeinfo)),this.showfilterrow&&this.filterable&&this.filterrow&&this._updatelistfilters(!0)},updaterow:function(t,i,r){if(void 0!=t&&void 0!=i){var s=this.that,a=!1;s._datachanged=!0;var n=function(t,i,s){if(t._loading)throw new Error("jqxGrid: "+t.loadingerrormessage);var a=!1;e.isArray(i)?(e.each(i,function(e,i){a=t.dataview.updaterow(this,s[e],!1)}),t._cellscache=new Array,t._pagescache=new Array,t.dataview.refresh()):a=t.dataview.updaterow(i,s);var n=t.vScrollInstance.value;if(void 0!=r&&1!=r||void 0!=t._updating&&0!=t._updating||t._updateGridData("updaterow"),t.showaggregates&&t._updatecolumnsaggregates&&t._updatecolumnsaggregates(),t.source&&t.source._knockoutdatasource&&!t._updateFromAdapter&&t.autokoupdates&&t.source._source._localdata){var o=t.dataview.recordsbyid["id"+i],l=t.dataview.records.indexOf(o),h=t.source._source._localdata()[l];t.source.suspendKO=!0,t.source._source._localdata.replace(h,e.extend({},o)),t.source.suspendKO=!1}var d=t.source&&t.source._source.localdata&&"observableArray"===t.source._source.localdata.name;if(d&&!t.source._source.localdata._updating){t.source._source.localdata._updating=!0;var c=t.getrowboundindexbyid(i);t.source._source.localdata.set(c,s),t.source._source.localdata._updating=!1}return t.vScrollInstance.setPosition(n),a};if(this.source.updaterow){var o=function(e){1==e||void 0==e?n(s,t,i):a=!1};try{a=this.source.updaterow(t,i,o),void 0==a&&(a=!0)}catch(l){a=!1}}else a=n(s,t,i);return a}return!1},deleterow:function(t,i){if(void 0!=t){this._datachanged=!0;var r=!1,s=this.that,a=this.getrowboundindexbyid(t),n=new Array;new Array;if(void 0!=a&&(this.selectedrowindexes.indexOf(a)>=0&&this.selectedrowindexes.splice(this.selectedrowindexes.indexOf(a),1),this.selectedrowindex==a&&(this.selectedrowindex=-1),!this.virtualmode))if(s.selectionmode.indexOf("row")>=0)e.each(this.selectedrowindexes,function(){var e=s.getrowid(this);n.push(e)}),this.selectedrowindexes=new Array,this.selectedrowindex=-1;else if(s.selectionmode.indexOf("cell")>=0)for(var o in s.selectedcells){var l=s.selectedcells[o],h=s.getrowid(l.rowindex);l.rowid=h}var d=function(t,r){if(t._loading)throw new Error("jqxGrid: "+t.loadingerrormessage);var s=!1,o=t.vScrollInstance.value;if(e.isArray(r))e.each(r,function(){s=t.dataview.deleterow(this,!1)}),t._cellscache=new Array,t._pagescache=new Array,t.dataview.refresh();else var s=t.dataview.deleterow(r);if(!t.virtualmode)if(t.selectionmode.indexOf("row")>=0)e.each(n,function(){var e=t.getrowboundindexbyid(this);-1!=e&&t.selectrow(e,!1)});else{var l=new Array;for(var h in t.selectedcells){var d=t.selectedcells[h],c=d.rowid,u=t.getrowboundindexbyid(c);-1!=u&&(d.rowindex=u,l[u+"_"+d.datafield]=d)}t.selectedcells=l}void 0!=t._updating&&0!=t._updating||void 0!=i&&1!=i||setTimeout(function(){t._render(!0,!0,!1,!1),"visible"!=t.vScrollBar.css("visibility")&&(t._arrange(),t._updatecolumnwidths(),t._updatecellwidths(),t._renderrows(t.virtualsizeinfo))}),t.source&&t.source._knockoutdatasource&&!t._updateFromAdapter&&t.autokoupdates&&t.source._source._localdata&&(t.source.suspendKO=!0,t.source._source._localdata.pop(rowdata),t.source.suspendKO=!1);var p=t.source&&t.source._source.localdata&&"observableArray"===t.source._source.localdata.name;if(p&&(t.source._source.localdata._updating||(t.source._source.localdata._updating=!0,t.source._source.localdata.splice(a,1),t.source._source.localdata._updating=!1)),t.dataview.sortby){var f=t.getsortinformation();f.sortcolumn&&(t.dataview.clearsortdata(),t.dataview.sortby(f.sortcolumn,f.sortdirection?f.sortdirection.ascending:null))}return t.vScrollInstance.setPosition(o),s};if(this.source.deleterow){var c=function(e){1!=e&&void 0!=e||d(s,t)};try{this.source.deleterow(t,c),void 0==r&&(r=!0)}catch(u){r=!1}}else r=d(s,t);return r}return!1},addrow:function(t,i,r){if(void 0!=i){this._datachanged=!0,void 0==r&&(r="last");var s=!1,a=this.that;if(null==t){var n=this.dataview.filters&&this.dataview.filters.length>0,o=n?this.dataview.cachedrecords.length:this.dataview.totalrecords;if(e.isArray(i)){var l=new Array;e.each(i,function(e,t){var r=a.dataview.getid(a.dataview.source.id,i[e],o+e);l.push(r)}),t=l}else for(t=this.dataview.getid(this.dataview.source.id,i,o);null!=this.dataview.recordsbyid["id"+t];)t++}var h=function(t,i,r,s){if(t._loading)throw new Error("jqxGrid: "+t.loadingerrormessage);var a=t.vScrollInstance.value,n=!1;e.isArray(r)?(e.each(r,function(e,r){void 0!=this.dataindex&&delete this.dataindex;var a=null;null!=i&&null!=i[e]&&(a=i[e]),n=t.dataview.addrow(a,this,s,!1)}),t._cellscache=new Array,t._pagescache=new Array,t.dataview.refresh()):(void 0!=r&&void 0!=r.dataindex&&delete r.dataindex,n=t.dataview.addrow(i,r,s)),void 0!=t._updating&&0!=t._updating||setTimeout(function(){t._render(!0,!0,!1,!1),t.invalidate()}),t.source&&t.source._knockoutdatasource&&!t._updateFromAdapter&&t.autokoupdates&&t.source._source._localdata&&(t.source.suspendKO=!0,t.source._source._localdata.push(r),t.source.suspendKO=!1);var o=t.source&&t.source._source.localdata&&"observableArray"===t.source._source.localdata.name;if(o&&!t.source._source.localdata._updating){t.source._source.localdata._updating=!0;var l=t.getrowboundindexbyid(i);t.source._source.localdata.set(l,r),t.source._source.localdata._updating=!1}return"deferred"!=t.scrollmode?t.vScrollInstance.setPosition(a):t.vScrollInstance.setPosition(0),n};if(this.source.addrow){var d=function(e,s){1!=e&&void 0!=e||(void 0!=s&&(t=s),h(a,t,i,r))};try{s=this.source.addrow(t,i,r,d),void 0==s&&(s=!0)}catch(c){s=!1}if(0==s)return!1}else h(this,t,i,r);return s}return!1},_findvisiblerow:function(e,t){void 0==e&&(e=parseInt(this.vScrollInstance.value));var i=0;void 0!=t&&null!=t||(t=this.rows.records);for(var r=t.length;r>=i;){mid=parseInt((i+r)/2);var s=t[mid];if(void 0==s)break;if(s.top>e&&s.top+s.height>e)r=mid-1;else{if(!(s.top<e&&s.top+s.height<e))return mid;i=mid+1}}return-1},_updatecellwidths:function(){var e=this.virtualsizeinfo;if(e){var t=this.that;if(void 0!=t.gridcontent){void 0==t.table&&(t.table=t.gridcontent.find("#contenttable"+t.element.id));var i=t.groupable&&t.groups.length>0,r=0,s=e.visiblerecords;if(t.pageable&&(t.autoheight||t.autorowheight)&&(s=t.dataview.pagesize,t.groupable&&(t.dataview.updateview(),s=t.dataview.rows.length)),t.groupable||t.pageable||!t.autoheight&&!t.autorowheight||(s=t.dataview.totalrecords),t.rowdetails&&(s+=t.dataview.pagesize),t.columns.records){for(var a=t.columns.records.length,n=t.table[0].rows,o=0;s>o;o++){var l=n[o];if(!l)break;for(var h=l.cells,d=0,c=0;a>c;c++){var u=t.columns.records[c],p=u.width,f=h[c];parseInt(f.style.left)!=d&&(f.style.left=d+"px"),parseInt(f.style.width)!=p&&(f.style.width=p+"px"),u.hidden&&u.hideable?f.style.display="none":d+=parseFloat(p)}0==r&&(t.table.width(parseFloat(d)+2),r=d)}t.showaggregates&&t._updateaggregates&&t._updateaggregates(),t.showfilterrow&&t.filterable&&t._updatefilterrowui&&t._updatefilterrowui(),t.showeverpresentrow&&t._updateaddnewrowui(),t._updatescrollbarsafterrowsprerender(),i&&t._renderrows(t.virtualsizeinfo)}}}},_updatescrollbarsafterrowsprerender:function(){var e=this.that,t=e.hScrollBar[0].style.visibility,i=0,r=e.vScrollBar[0].style.visibility;"visible"==r&&(i=e.scrollbarsize+3),0==e.scrollbarsize&&(i=0),e.scrollbarautoshow&&(i=0);var s=e.element.style.width;if(s=s.toString().indexOf("%")>=0?e.host.width():parseInt(s),parseInt(e.table[0].style.width)-2>s-i){if("visible"!=t&&(e.autowidth||(e.hScrollBar[0].style.visibility="visible"),e._arrange()),"visible"==r){if("deferred"==e.scrollmode||e.virtualmode)e._updatevscrollbarmax();else if(e.virtualsizeinfo){var a=e.virtualsizeinfo.virtualheight-e._gettableheight();!isNaN(a)&&a>0&&("hidden"!=t?e.vScrollBar.jqxScrollBar("max",a+e.scrollbarsize+4):e.vScrollBar.jqxScrollBar("max",a))}}else i=-2;e.hScrollBar.jqxScrollBar("max",i+e.table.width()-e.host.width())}else"hidden"!=t&&(e.hScrollBar.css("visibility","hidden"),e._arrange());e._renderhorizontalscroll()},_prerenderrows:function(t){var i=this.that;if(1==i.prerenderrequired){if(i.prerenderrequired=!1,i.editable&&i._destroyeditors&&i._destroyeditors(),void 0==i.gridcontent)return;i.gridcontent.find("#contenttable"+i.element.id).remove(),null!=i.table&&(i.table.remove(),i.table=null),i.table=e('<div id="contenttable'+i.element.id+'" style="overflow: hidden; position: relative;"></div>'),i.gridcontent.addClass(i.toTP("jqx-grid-content")),i.gridcontent.addClass(i.toTP("jqx-widget-content")),i.gridcontent.append(i.table);var r=i.groupable&&i.groups.length>0,s=0;i.table[0].rows=new Array;var a=i.toTP("jqx-grid-cell");r&&(a=" "+i.toTP("jqx-grid-group-cell"));var n=t.visiblerecords;if(i.pageable&&(i.autoheight||i.autorowheight)&&(n=i.dataview.pagesize,i.groupable&&(i.dataview.updateview(),n=i.dataview.rows.length,n<i.dataview.pagesize&&(n=i.dataview.pagesize))),i.pageable||!i.autoheight&&!i.autorowheight||(n=i.dataview.totalrecords),i.groupable&&i.groups.length>0&&(i.autoheight||i.autorowheight)&&!i.pageable&&(n=i.dataview.rows.length),i.rowdetails&&(n+=i.autoheight||i.autorowheight?i.dataview.pagesize:n),!i.columns.records)return;var o=i.columns.records.length;e.jqx.browser.msie&&e.jqx.browser.version>8&&i.table.css("opacity","0.99"),e.jqx.browser.mozilla,-1!=navigator.userAgent.indexOf("Safari")&&i.table.css("opacity","0.99");var l=e.jqx.browser.msie&&e.jqx.browser.version<8;l&&i.host.attr("hideFocus","true");var h=i.tableZIndex;n*o>h&&(h=n*o);var d=(0==i.dataview.records.length,i.isTouchDevice(),"");i._hiddencolumns=!1;for(var c=0;n>c;c++){var u='<div role="row" style="position: relative; height:'+i.rowsheight+'px;" id="row'+c+i.element.id+'">';if(l){var u='<div role="row" style="position: relative; z-index: '+h+"; height:"+i.rowsheight+'px;" id="row'+c+i.element.id+'">';h--}for(var p=0,f=0;o>f;f++){var m=i.columns.records[f],g=m.width;if(g<m.minwidth&&(g=m.minwidth),g>m.maxwidth&&(g=m.maxwidth),i.rtl){var v=h-o+2*f,x='<div role="gridcell" style="left: '+p+"px; z-index: "+v+"; width:"+g+"px;";h--}else var x='<div role="gridcell" style="left: '+p+"px; z-index: "+h--+"; width:"+g+"px;";m.hidden&&m.hideable?(x+="display: none;",i._hiddencolumns=!0,h++):p+=g,x+='" class="'+a+'">';var b=this._defaultcellsrenderer("",m);x+=b,x+="</div>",u+=x}0==s&&(i.table.width(parseInt(p)+2),s=p),u+="</div>",d+=u}i.WinJS?MSApp.execUnsafeLocalFunction(function(){i.table.html(d)}):i.table[0].innerHTML=d,i.table[0].rows=new Array;for(var w=i.table.children(),c=0;n>c;c++){var y=w[c];i.table[0].rows.push(y),y.cells=new Array;for(var _=e(y).children(),f=0;o>f;f++)y.cells.push(_[f])}if(0==n){var p=0;if(i.showemptyrow){var u=e('<div style="position: relative;" id="row0'+i.element.id+'"></div>');i.table.append(u),u.height(i.rowsheight),i.table[0].rows[0]=u[0],i.table[0].rows[0].cells=new Array}for(var f=0;o>f;f++){var m=i.columns.records[f],g=m.width;if(i.showemptyrow){var x=e('<div style="position: absolute; height: 100%; left: '+p+"px; z-index: "+h--+"; width:"+g+'px;" class="'+a+'"></div>');x.height(i.rowsheight),u.append(x),i.table[0].rows[0].cells[f]=x[0]}g<m.minwidth&&(g=m.minwidth),g>m.maxwidth&&(g=m.maxwidth),m.hidden&&m.hideable||(p+=g)}i.table.width(parseInt(p)+2),s=p}i._updatescrollbarsafterrowsprerender(),i.rendered&&i.rendered("rows"),i.toCompile=new Array,i._addoverlayelement()}},_groupsheader:function(){return this.groupable&&this.showgroupsheader},_arrange:function(){var e=null,t=null;this.tableheight=null;var i=this.that,r=!1,s=!1;if(null!=i.width&&-1!=i.width.toString().indexOf("px")?e=i.width:void 0==i.width||isNaN(i.width)||(e=i.width),null!=i.width&&-1!=i.width.toString().indexOf("%")&&(e=i.width,r=!0),i.scrollbarautoshow&&(i.vScrollBar[0].style.display="none",i.hScrollBar[0].style.display="none",i.vScrollBar[0].style.zIndex=i.tableZIndex+i.headerZIndex,i.hScrollBar[0].style.zIndex=i.tableZIndex+i.headerZIndex),i.autowidth){for(var a=0,n=0;n<i.columns.records.length;n++){var o=i.columns.records[n].width;"auto"==o?(o=i._measureElementWidth(i.columns.records[n].text),a+=o):a+=o}"hidden"!=i.vScrollBar.css("visibility")&&(a+=i.scrollbarsize+4),e=a,i.width=e}null!=i.height&&-1!=i.height.toString().indexOf("px")?t=i.height:void 0==i.height||isNaN(i.height)||(t=i.height),null!=i.height&&-1!=i.height.toString().indexOf("%")&&(t=i.height,s=!0);var l=function(){var e=0,t=i.showheader&&null!=i.columnsheader?i.columnsheader.height()+2:0;return e+=t,i.pageable&&(e+=i.pagerheight),i._groupsheader()&&(e+=i.groupsheaderheight),i.showtoolbar&&(e+=i.toolbarheight),i.showstatusbar&&(e+=i.statusbarheight),i.showeverpresentrow&&"bottom"===i.everpresentrowposition&&(e+=i.everpresentrowheight),"visible"==i.hScrollBar[0].style.visibility&&(e+=20),e};if(i.autoheight&&i.virtualsizeinfo)if(i.pageable&&i.gotopage){var h=0;t=h+(i._pageviews[0]?i._pageviews[0].height:0),t+=l(),i.showemptyrow&&0==i.dataview.totalrecords&&(t+=i.rowsheight)}else{var h=i.host.height()-i._gettableheight();i._pageviews.length>0?(t=h+i._pageviews[i._pageviews.length-1].height+i._pageviews[i._pageviews.length-1].top,i.vScrollBar[0].style.visibility="hidden"):(t=l(),i.showemptyrow&&(t+=i.rowsheight))}else i.autoheight&&(t=i.dataview.totalrecords*i.rowsheight,i.pageable&&i.gotopage&&(t=i.pagesize*i.rowsheight),i._loading&&(t=250,i.dataloadelement.height(t)),t+=l(),t>1e4&&(t=1e4));null!=e?(e=parseInt(e),r?i.element.style.width=i.width:i.element.style.width!=parseInt(i.width)+"px"&&(i.element.style.width=parseInt(i.width)+"px"),r&&(e=i.host.width(),2>=e&&(e=600,i.host.width(e)),i._oldWidth||(i._oldWidth=e))):i.host.width(250),null!=t?(s||(t=parseInt(t)),s?i.element.style.height=i.height:i.element.style.height!=parseInt(t)+"px"&&(i.element.style.height=parseInt(t)+"px"),s&&!i.autoheight&&(t=i.host.height(),0==t&&(t=400,i.host.height(t)),i._oldHeight||(i._oldHeight=t))):i.host.height(250),i.autoheight&&(i.tableheight=null,i._gettableheight());var d=0;if(i.showtoolbar?(i.toolbar.width(e),i.toolbar.height(i.toolbarheight-1),i.toolbar.css("top",0),d+=i.toolbarheight,t-=parseInt(i.toolbarheight)):i.toolbar[0].style.height="0px",i.showstatusbar?(i.showaggregates?i.statusbar.width(i.table?Math.max(e,i.table.width()):e):i.statusbar.width(e),i.statusbar.height(i.statusbarheight)):i.statusbar[0].style.height="0px",i.showeverpresentrow&&"bottom"===i.everpresentrowposition?(i.addnewrow.width(e),i.addnewrow.height(i.everpresentrowheight)):i.addnewrow[0].style.height="0px",i._groupsheader()){i.groupsheader.width(e),i.groupsheader.height(i.groupsheaderheight),i.groupsheader.css("top",d);var c=i.groupsheader.height()+1;d+=c,t>c&&(t-=parseInt(c))}else{i.groupsheader[0].style.width!=e+"px"&&(i.groupsheader[0].style.width=parseInt(e)+"px"),i.groupsheader[0].style.height="0px",i.groupsheader[0].style.top!=d+"px"&&i.groupsheader.css("top",d);var c=i.showgroupsheader&&i.groupable?i.groupsheaderheight:0,u=d+c+"px";i.content[0].style.top!=u&&i.content.css("top",d+i.groupsheaderheight)}var p=i.scrollbarsize;isNaN(p)&&(p=parseInt(p),isNaN(p)?p="17px":p+="px"),p=parseInt(p);var f=4,m=2,g=0;"visible"==i.vScrollBar[0].style.visibility&&(g=p+f),"visible"==i.hScrollBar[0].style.visibility&&(m=p+f+2),0==p&&(g=0,m=0);var v=0;i.pageable&&(v=i.pagerheight,m+=i.pagerheight),i.showstatusbar&&(m+=i.statusbarheight,v+=i.statusbarheight),i.showeverpresentrow&&"bottom"===i.everpresentrowposition&&(m+=i.everpresentrowheight,v+=i.everpresentrowheight),i.hScrollBar[0].style.height!=p+"px"&&(i.hScrollBar[0].style.height=parseInt(p)+"px"),i.hScrollBar[0].style.top==d+t-f-p-v+"px"&&"0px"==i.hScrollBar[0].style.left||i.hScrollBar.css({top:d+t-f-p-v+"px",left:"0px"});var x=i.hScrollBar[0].style.width,b=!1,w=!1;0==g?x!=e-2+"px"&&(i.hScrollBar.width(e-2),b=!0):x!=e-p-f+"px"&&(i.hScrollBar.width(e-p-f+"px"),b=!0),i.autoheight||(i.vScrollBar[0].style.width!=p+"px"&&(i.vScrollBar.width(p),w=!0),i.vScrollBar[0].style.height!=parseInt(t)-m+"px"&&(i.vScrollBar.height(parseInt(t)-m+"px"),w=!0),i.vScrollBar[0].style.left==parseInt(e)-parseInt(p)-f+"px"&&i.vScrollBar[0].style.top==d+"px"||i.vScrollBar.css({left:parseInt(e)-parseInt(p)-f+"px",top:d})),i.rtl&&(i.vScrollBar.css({left:"0px",top:d}),"hidden"!=i.vScrollBar.css("visibility")&&i.hScrollBar.css({left:p+2}));var y=i.vScrollInstance;y.disabled=i.disabled,i.autoheight||w&&y.refresh();var _=i.hScrollInstance;_.disabled=i.disabled,b&&_.refresh(),i.autowidth&&(i.hScrollBar[0].style.visibility="hidden"),i.statusbarheight=parseInt(i.statusbarheight),i.toolbarheight=parseInt(i.toolbarheight);var j=function(e){if("visible"==e.vScrollBar[0].style.visibility&&"visible"==e.hScrollBar[0].style.visibility){e.bottomRight[0].style.visibility="visible",e.bottomRight.css({left:1+parseInt(e.vScrollBar.css("left")),top:parseInt(e.hScrollBar.css("top"))}),e.rtl&&e.bottomRight.css("left","0px"),e.bottomRight.width(parseInt(p)+3),e.bottomRight.height(parseInt(p)+4);var t=e.showeverpresentrow&&"bottom"==e.everpresentrowposition,i=t?e.everpresentrowheight:0;i>0&&!e.showaggregates&&(e.bottomRight.css("z-index",99),e.bottomRight.height(parseInt(p)+4+i),e.bottomRight.css({top:parseInt(e.hScrollBar.css("top"))-i})),e.showaggregates&&(e.bottomRight.css("z-index",99),e.bottomRight.height(parseInt(p)+4+e.statusbarheight+i),e.bottomRight.css({top:parseInt(e.hScrollBar.css("top"))-e.statusbarheight-i}))}else e.bottomRight[0].style.visibility="hidden"};if(j(this),i.content[0].style.width!=e-g+"px"&&i.content.width(e-g),i.content[0].style.height!=t-m+3+"px"&&i.content.height(t-m+3),i.scrollbarautoshow&&(i.content[0].style.width!=e+"px"&&i.content.width(e),i.content[0].style.height!=t+"px"&&i.content.height(t)),i.content[0].style.top!=d+"px"&&i.content.css("top",d),i.rtl&&(i.content.css("left",g),i.scrollbarautoshow&&i.content.css("left","0px"),i.table)){var q=i.table.width();e-g>q&&i.content.css("left",e-q)}if(i.showstatusbar&&(i.statusbar.css("top",d+t-i.statusbarheight-(i.pageable?i.pagerheight:0)),i.showaggregates&&("visible"==i.hScrollBar.css("visibility")&&(i.hScrollBar.css({top:d+t-f-p-v+i.statusbarheight+"px"}),i.statusbar.css("top",1+d+t-p-5-i.statusbarheight-(i.pageable?i.pagerheight:0))),j(this)),i.rtl&&("visible"!=i.hScrollBar.css("visibility")?i.statusbar.css("left",i.content.css("left")):i.statusbar.css("left","0px"))),i.showeverpresentrow&&"bottom"===i.everpresentrowposition&&(i.addnewrow.css("top",d+t-(i.showstatusbar?i.statusbarheight:0)-(i.pageable?i.pagerheight:0)-i.everpresentrowheight),i.rtl&&("visible"!=i.hScrollBar.css("visibility")?i.addnewrow.css("left",i.content.css("left")):i.addnewrow.css("left","0px"))),i.pageable?(i.pager.width(e),i.pager.height(i.pagerheight),i.pager.css("top",d+t-i.pagerheight-1)):i.pager[0].style.height="0px",null!=i.table){var T=-2;if("visible"==i.vScrollBar[0].style.visibility&&(T=i.scrollbarsize+3),"visible"==i.hScrollBar[0].style.visibility){var S=T+i.table.width()-i.host.width();S>=0&&i.hScrollBar.jqxScrollBar("max",S),"visible"==i.hScrollBar[0].style.visibility&&0==S&&(i.hScrollBar[0].style.visibility="hidden",i._arrange())}}e!=parseInt(i.dataloadelement[0].style.width)&&(i.dataloadelement[0].style.width=i.element.style.width),t!=parseInt(i.dataloadelement[0].style.height)&&(i.dataloadelement[0].style.height=i.element.style.height),i._hostwidth=e},destroy:function(){if(delete e.jqx.dataFormat.datescache,delete this.gridlocalization,e.jqx.utilities.resize(this.host,null,!0),(""!=document.referrer||window.frameElement)&&null!=window.top&&window.top!=window.self&&this.removeHandler(e(window.top.document),"mouseup.grid"+this.element.id),this.table&&this.table[0]){for(var t=this.table[0].rows.length,i=0;t>i;i++){for(var r=this.table[0].rows[i],s=r.cells,a=s.length,n=0;a>n;n++)e(r.cells[n]).remove(),r.cells[n]=null,delete r.cells[n];r.cells=null,r.cells&&delete r.cells,e(this.table[0].rows[i]).remove(),this.table[0].rows[i]=null}try{delete this.table[0].rows}catch(o){}this.table.remove(),delete this.table}if(this.columns&&this.columns.records){for(var i=0;i<this.columns.records.length;i++){var l=this.columns.records[i];l.addnewrowwidget&&l.destroyeverpresentrowwidget&&l.destroyeverpresentrowwidget(l.addnewrowwidget),this._removecolumnhandlers(this.columns.records[i]),l.element&&(e(l.element).remove(),e(l.sortasc).remove(),e(l.sortdesc).remove(),e(l.filtericon).remove(),e(l.menu).remove(),l.element=null,l.uielement=null,l.sortasc=null,l.sortdesc=null,l.filtericon=null,l.menu=null,delete l.element,delete l.uielement,delete l.sortasc,delete l.sortdesc,delete l.filtericon,delete l.menu,delete this.columnsrow[0].cells[i])}try{delete this.columnsrow[0].cells}catch(o){}delete this.columnsrow}if(e.removeData(document.body,"contextmenu"+this.element.id),this.host.jqxDropDownList&&this._destroyfilterpanel&&this._destroyfilterpanel(),this.editable&&this._destroyeditors&&this._destroyeditors(),this.filterable&&this._destroyedfilters&&this.showfilterrow&&this._destroyedfilters(),this.host.jqxMenu&&this.gridmenu&&(this.removeHandler(e(document),"click.menu"+this.element.id),this.removeHandler(this.gridmenu,"keydown"),this.removeHandler(this.gridmenu,"closed"),this.removeHandler(this.gridmenu,"itemclick"),this.gridmenu.jqxMenu("destroy"),this.gridmenu=null),this.pagershowrowscombo&&(this.pagershowrowscombo.jqxDropDownList("destroy"),this.pagershowrowscombo=null),this.pagerrightbutton&&(this.removeHandler(this.pagerrightbutton,"mousedown"),this.removeHandler(this.pagerrightbutton,"mouseup"),this.removeHandler(this.pagerrightbutton,"click"),this.pagerrightbutton.jqxButton("destroy"),this.pagerrightbutton=null),this.pagerleftbutton&&(this.removeHandler(this.pagerleftbutton,"mousedown"),this.removeHandler(this.pagerleftbutton,"mouseup"),this.removeHandler(this.pagerleftbutton,"click"),this.pagerleftbutton.jqxButton("destroy"),this.removeHandler(e(document),"mouseup.pagerbuttons"+this.element.id),this.pagerleftbutton=null),this.removeHandler(e(document),"selectstart."+this.element.id),this.removeHandler(e(document),"mousedown.resize"+this.element.id),this.removeHandler(e(document),"mouseup.resize"+this.element.id),
this.removeHandler(e(document),"mousemove.resize"+this.element.id),this.isTouchDevice()){var h=e.jqx.mobile.getTouchEventName("touchmove")+".resize"+this.element.id,d=e.jqx.mobile.getTouchEventName("touchstart")+".resize"+this.element.id,c=e.jqx.mobile.getTouchEventName("touchend")+".resize"+this.element.id;this.removeHandler(e(document),h),this.removeHandler(e(document),d),this.removeHandler(e(document),c)}if(this.removeHandler(e(document),"mousedown.reorder"+this.element.id),this.removeHandler(e(document),"mouseup.reorder"+this.element.id),this.removeHandler(e(document),"mousemove.reorder"+this.element.id),this.isTouchDevice()){var h=e.jqx.mobile.getTouchEventName("touchmove")+".reorder"+this.element.id,d=e.jqx.mobile.getTouchEventName("touchstart")+".reorder"+this.element.id,c=e.jqx.mobile.getTouchEventName("touchend")+".reorder"+this.element.id;this.removeHandler(e(document),h),this.removeHandler(e(document),d),this.removeHandler(e(document),c)}if(this.removeHandler(e(window),"resize."+this.element.id),this.resizeline&&this.resizeline.remove(),this.resizestartline&&this.resizestartline.remove(),this.groupable){var h="mousemove.grouping"+this.element.id,d="mousedown.grouping"+this.element.id,c="mouseup.grouping"+this.element.id;this.removeHandler(e(document),h),this.removeHandler(e(document),d),this.removeHandler(e(document),c)}if(this.columnsreorder){var h="mousemove.reorder"+this.element.id,d="mousedown.reorder"+this.element.id,c="mouseup.reorder"+this.element.id;this.removeHandler(e(document),h),this.removeHandler(e(document),d),this.removeHandler(e(document),c),delete this.columnsbounds}if(this.content&&(this.removeHandler(this.content,"mousedown"),this.removeHandler(this.content,"scroll")),this._removeHandlers(),this.hScrollInstance.destroy(),this.vScrollInstance.destroy(),this.hScrollBar.remove(),this.vScrollBar.remove(),this._clearcaches(),delete this.hScrollInstance,delete this.vScrollInstance,delete this.visiblerows,delete this.hittestinfo,delete this.rows,delete this.columns,delete this.columnsbydatafield,delete this.pagescache,delete this.pageviews,delete this.cellscache,delete this.heights,delete this.hiddens,delete this.hiddenboundrows,delete this.heightboundrows,delete this.detailboundrows,delete this.details,delete this.expandedgroups,delete this._rowdetailscache,delete this._rowdetailselementscache,delete this.columnsmenu,this.columnsheader&&(this.columnsheader.remove(),delete this.columnsheader),this.selectionarea&&(this.selectionarea.remove(),delete this.selectionarea),this.menuitemsarray&&this.menuitemsarray.length)for(var u=this.menuitemsarray.length,i=0;u>i;i++)e(this.menuitemsarray[i]).remove();delete this.menuitemsarray,this.dataview._clearcaches(),this.content.removeClass(),this.content.remove(),this.content=null,delete this.content,this.vScrollBar=null,this.hScrollBar=null,delete this.hScrollBar,delete this.hScrollBar,this.gridcontent&&(this.gridcontent.remove(),delete this.gridcontent),this.gridmenu&&(this.gridmenu=null,delete this.gridmenu),delete this._mousemovefunc,delete this._mousewheelfunc,this.dataview.destroy(),delete this.dataview,this.bottomRight.remove(),delete this.bottomRight,this.wrapper.remove(),delete this.wrapper,this.pagerdiv&&(this.pagerdiv.remove(),delete this.pagerdiv),this.pagerpageinput&&(this.pagerpageinput.remove(),delete this.pagerpageinput),this.pagergoto&&(this.pagergoto.remove(),delete this.pagergoto),this.pagershowrows&&(this.pagershowrows.remove(),delete this.pagershowrows),this.pagerfirstbutton&&(this.pagerfirstbutton.remove(),delete this.pagerfirstbutton),this.pagerlastbutton&&(this.pagerlastbutton.remove(),delete this.pagerlastbutton),this.pagerbuttons&&(this.pagerbuttons.remove(),delete this.pagerbuttons),this.pagerdetails&&(this.pagerdetails.remove(),delete this.pagerdetails),this.pagergotoinput&&(this.pagergotoinput.remove(),delete this.pagergotoinput),this.pager.remove(),delete this.pager,this.groupsheader.remove(),delete this.groupsheader,this.dataloadelement.remove(),delete this.dataloadelement,this.toolbar.remove(),delete this.toolbar,this.statusbar.remove(),delete this.statusbar,this.host.removeData(),this.host.removeClass(),this.host.remove(),this.host=null,delete this.host,delete this.element,delete this.set,delete this.get,delete this.that,delete this.call},_initializeColumns:function(){var i=this.source?this.source.datafields:null;null==i&&this.source&&this.source._source&&(i=this.source._source.datafields);var r=i?i.length>0:!1;if(this.autogeneratecolumns){var s=new Array;if(i)e.each(i,function(){var e={datafield:this.name,text:this.text||this.name,cellsformat:this.format||""};s.push(e)});else if(this.source.records.length>0){var a=this.source.records[0];for(obj in a)if("uid"!=obj){var n={width:100,datafield:obj,text:obj};s.push(n)}}this.columns=s}if(this.columns&&this.columns.records)for(var o=0;o<this.columns.records.length;o++)this._removecolumnhandlers(this.columns.records[o]);var l=this.that,h=new e.jqx.collection(this.element),d=0;if(this._haspinned=!1,this._columns?this.columns=this._columns:this._columns=this.columns,this.groupable&&e.each(this.groups,function(e){var i=new t(l,this);i.visibleindex=d++,i.width=l.groupindentwidth,h.add(i),i.grouped=!0,i.filterable=!1,i.sortable=!1,i.editable=!1,i.resizable=!1,i.draggable=!1}),this.rowdetails&&this.showrowdetailscolumn){var n=new t(l,this);n.visibleindex=d++,n.width=l.groupindentwidth,n.pinned=!0,n.editable=!1,n.filterable=!1,n.draggable=!1,n.groupable=!1,n.resizable=!1,h.add(n),l._haspinned=!0}if("checkbox"==this.selectionmode){var n=new t(l,null);n.visibleindex=d++,n.width=l.groupindentwidth,n.checkboxcolumn=!0,n.editable=!1,n.columntype="checkbox",n.groupable=!1,n.draggable=!1,n.filterable=!1,n.resizable=!1,n.datafield="_checkboxcolumn",h.add(n)}var c=new Array;e.each(this.columns,function(e){if(void 0!=l.columns[e]){var i=new t(l,this);if(i.visibleindex=d++,void 0!=this.dataField&&(this.datafield=this.dataField),this.pinned&&(l._haspinned=!0),l.showeverpresentrow&&("addButtonColumn"!==this.datafield&&"resetButtonColumn"!==this.datafield&&"updateButtonColumn"!==this.datafield&&"deleteButtonColumn"!==this.datafield||(i.editable=!1,i.groupable=!1,i.draggable=!1,i.filterable=!1,i.resizable=!1,i.menu=!1)),null==this.datafield)l.source&&l.source._source&&"array"==l.source._source.datatype&&(r||(l.source._source.datafields?l.source._source.datafields.push({name:e.toString()}):(l.source._source.datafields=new Array,l.source._source.datafields.push({name:e.toString()}))),this.datafield=e.toString(),this.displayfield=e.toString(),i.datafield=this.datafield,i.displayfield=this.displayfield);else{if(c[this.datafield])throw new Error("jqxGrid: Invalid column 'datafield' setting. jqxGrid's columns should be initialized with unique data fields.");c[this.datafield]=!0}h.add(i)}}),this.rtl&&h.records.reverse(),this.columns=h},_initializeRows:function(){var t=new e.jqx.collection(this.element);this.rows&&this.rows.clear(),this.rows=t},_raiseEvent:function(t,i){if(void 0==i&&(i={owner:null}),this._trigger!==!1){var r=this.events[t];if(this._camelCase||(r=r.toLowerCase()),(2==t||15==t)&&this.showeverpresentrow&&(this.everpresentrowactions.indexOf("delete")>=0||this.everpresentrowactions.indexOf("update")>=0)){if(this.updateeverpresentrow)var s=this;setTimeout(function(){s.updateeverpresentrow()},50)}args=i,args.owner=this;var a=new e.Event(r);a.owner=this,a.args=args;var n=this.host.trigger(a);return i=a.args,n}},wheel:function(e,t){if(t.autoheight&&"visible"!=t.hScrollBar.css("visibility"))return e.returnValue=!0,!0;var i=0;if(e||(e=window.event),e.originalEvent&&e.originalEvent.wheelDelta&&(e.wheelDelta=e.originalEvent.wheelDelta),e.wheelDelta?i=e.wheelDelta/120:e.detail&&(i=-e.detail/3),i){var r=t._handleDelta(i);return r&&(e.preventDefault&&e.preventDefault(),null!=e.originalEvent&&(e.originalEvent.mouseHandled=!0),void 0!=e.stopPropagation&&e.stopPropagation()),r?(r=!1,e.returnValue=r,r):!1}e.preventDefault&&e.preventDefault(),e.returnValue=!1},_handleDelta:function(e){if("hidden"!=this.vScrollBar.css("visibility")){var t=this.vScrollInstance.value;0>e?this.scrollDown():this.scrollUp();var i=this.vScrollInstance.value;if(t!=i)return!0}else if("hidden"!=this.hScrollBar.css("visibility")){var t=this.hScrollInstance.value;e>0?this.hScrollInstance.value>2*this.horizontalscrollbarstep?this.hScrollInstance.setPosition(this.hScrollInstance.value-2*this.horizontalscrollbarstep):this.hScrollInstance.setPosition(0):this.hScrollInstance.value<this.hScrollInstance.max?this.hScrollInstance.setPosition(this.hScrollInstance.value+2*this.horizontalscrollbarstep):this.hScrollInstance.setPosition(this.hScrollInstance.max);var i=this.hScrollInstance.value;if(t!=i)return!0}return!1},scrollDown:function(){if("hidden"!=this.vScrollBar.css("visibility")){var e=this.vScrollInstance;e.value+this.rowsheight<=e.max?e.setPosition(parseInt(e.value)+this.rowsheight):e.setPosition(e.max)}},scrollUp:function(){if("hidden"!=this.vScrollBar.css("visibility")){var e=this.vScrollInstance;e.value-this.rowsheight>=e.min?e.setPosition(parseInt(e.value)-this.rowsheight):e.setPosition(e.min)}},_removeHandlers:function(){var t=this.that;t.removeHandler(e(window),"orientationchange.jqxgrid"+t.element.id),t.removeHandler(e(window),"orientationchanged.jqxgrid"+t.element.id),t.removeHandler(t.vScrollBar,"valueChanged"),t.removeHandler(t.hScrollBar,"valueChanged"),t.vScrollInstance.valueChanged=null,t.hScrollInstance.valueChanged=null;var i="mousedown.jqxgrid";t.isTouchDevice()&&(i=e.jqx.mobile.getTouchEventName("touchend")),t.removeHandler(t.host,"dblclick.jqxgrid"),t.removeHandler(t.host,i),t.removeHandler(t.content,"mousemove",t._mousemovefunc),t.removeHandler(t.host,"mouseleave.jqxgrid"),t.removeHandler(t.content,"mouseenter"),t.removeHandler(t.content,"mouseleave"),t.removeHandler(t.content,"mousedown"),t.removeHandler(t.content,"scroll"),t.removeHandler(t.content,"selectstart."+t.element.id),t.removeHandler(t.host,"dragstart."+t.element.id),t.removeHandler(t.host,"keydown.edit"+t.element.id),t.removeHandler(e(document),"keydown.edit"+t.element.id),t.removeHandler(e(document),"keyup.edit"+t.element.id),t._mousemovedocumentfunc&&t.removeHandler(e(document),"mousemove.selection"+t.element.id,t._mousemovedocumentfunc),t.removeHandler(e(document),"mouseup.selection"+t.element.id),t._mousewheelfunc&&t.removeHandler(t.host,"mousewheel",t._mousewheelfunc),t.editable&&t.removeHandler(e(document),"mousedown.gridedit"+t.element.id),t.host.off&&(t.content.off("mousemove"),t.host.off("mousewheel"))},_addHandlers:function(){var t=this.that,i=t.isTouchDevice();i||t.addHandler(t.host,"dragstart."+t.element.id,function(e){return!1}),t.scrollbarautoshow&&(t.addHandler(t.host,"mouseenter.gridscroll"+t.element.id,function(e){t.vScrollBar.fadeIn("fast"),t.hScrollBar.fadeIn("fast")}),t.addHandler(t.host,"mouseleave.gridscroll"+t.element.id,function(e){t.vScrollInstance.isScrolling()||t.hScrollInstance.isScrolling()||(t.vScrollBar.fadeOut("fast"),t.hScrollBar.fadeOut("fast"))})),t.editable&&t.addHandler(e(document),"mousedown.gridedit"+t.element.id,function(e){if(t.editable&&t.begincelledit&&t.editcell&&!t.vScrollInstance.isScrolling()&&!t.vScrollInstance.isScrolling()){var i=t.host.coord(),r=t.host.width(),s=t.host.height(),a=!1,n=!1,o=!1;if((e.pageY<i.top||e.pageY>i.top+s)&&(a=!0,n=!0),(e.pageX<i.left||e.pageX>i.left+r)&&(a=!0,o=!0),a){if(t.editcell&&t.editcell.editor)switch(t.editcell.columntype){case"datetimeinput":if(t.editcell.editor.jqxDateTimeInput&&t.editcell.editor.jqxDateTimeInput("container")&&"block"==t.editcell.editor.jqxDateTimeInput("container")[0].style.display){var l=t.editcell.editor.jqxDateTimeInput("container").coord().top,h=t.editcell.editor.jqxDateTimeInput("container").coord().top+t.editcell.editor.jqxDateTimeInput("container").height();if(!n||!(e.pageY<l||e.pageY>h))return;a=!0,t.editcell.editor.jqxDateTimeInput("close")}break;case"combobox":if(t.editcell.editor.jqxComboBox&&t.editcell.editor.jqxComboBox("container")&&"block"==t.editcell.editor.jqxComboBox("container")[0].style.display){var l=t.editcell.editor.jqxComboBox("container").coord().top,h=t.editcell.editor.jqxComboBox("container").coord().top+t.editcell.editor.jqxComboBox("container").height();if(!n||!(e.pageY<l||e.pageY>h))return;a=!0,t.editcell.editor.jqxComboBox("close")}break;case"dropdownlist":if(t.editcell.editor.jqxDropDownList&&t.editcell.editor.jqxDropDownList("container")&&"block"==t.editcell.editor.jqxDropDownList("container")[0].style.display){var l=t.editcell.editor.jqxDropDownList("container").coord().top,h=t.editcell.editor.jqxDropDownList("container").coord().top+t.editcell.editor.jqxDropDownList("container").height();if(!n||!(e.pageY<l||e.pageY>h))return;a=!0,t.editcell.editor.jqxDropDownList("close")}break;case"template":case"custom":for(var d=["jqxDropDownList","jqxComboBox","jqxDropDownButton","jqxDateTimeInput"],c=function(i){var r=t.editcell.editor.data();if(r[i]&&r[i].instance.container&&"block"==r[i].instance.container[0].style.display){var s=r[i].instance,o=s.container.coord().top,l=s.container.coord().top+s.container.height();return n&&(e.pageY<o||e.pageY>l)?(a=!0,s.close(),!0):!1}},u=0;u<d.length;u++){var p=c(d[u]);if(0==p)return}}t.endcelledit(t.editcell.row,t.editcell.column,!1,!0),t._oldselectedcell=null}}}),t.vScrollInstance.valueChanged=function(e){t.virtualsizeinfo&&(t._closemenu(),"physical"!=t.scrollmode?(t._renderrows(t.virtualsizeinfo),t.currentScrollValue=e.currentValue):void 0!=t.currentScrollValue&&Math.abs(t.currentScrollValue-e.currentValue)>=5?(t._renderrows(t.virtualsizeinfo),t.currentScrollValue=e.currentValue):(t._renderrows(t.virtualsizeinfo),t.currentScrollValue=e.currentValue),t.pageable||t.groupable||!t.dataview.virtualmode||(t.loadondemandupdate&&clearTimeout(t.loadondemandupdate),t.loadondemandupdate=setTimeout(function(){t.loadondemand=!0,t._renderrows(t.virtualsizeinfo)},100)),i&&(t._lastScroll=new Date))},t.hScrollInstance.valueChanged=function(r){if(t.virtualsizeinfo){t._closemenu();var s=function(){t._renderhorizontalscroll(),t._renderrows(t.virtualsizeinfo),t.editcell&&!t.editrow&&t._showcelleditor&&t.editcell.editing&&(t.hScrollInstance.isScrolling()||t._showcelleditor(t.editcell.row,t.getcolumn(t.editcell.column),t.editcell.element,t.editcell.init))};if(i)s();else{void 0==t._browser?t._isIE10():t._browser;navigator&&-1!=navigator.userAgent.indexOf("Safari")&&-1==navigator.userAgent.indexOf("Chrome")?(t._hScrollTimer&&clearTimeout(t._hScrollTimer),t._hScrollTimer=setTimeout(function(){s()},1)):e.jqx.browser.msie?(t._hScrollTimer&&clearTimeout(t._hScrollTimer),t._hScrollTimer=setTimeout(function(){s()},.01)):s()}i&&(t._lastScroll=new Date)}},t._mousewheelfunc=t._mousewheelfunc||function(e){return!t.editcell&&t.enablemousewheel?(t.wheel(e,t),!1):void 0},t.removeHandler(t.host,"mousewheel",t._mousewheelfunc),t.addHandler(t.host,"mousewheel",t._mousewheelfunc);var r="mousedown.jqxgrid";i&&(r=e.jqx.mobile.getTouchEventName("touchend")),t.addHandler(t.host,r,function(i){if(t.isTouchDevice()){if(t._newScroll=new Date,t._newScroll-t._lastScroll<500)return!1;if(e(i.target).ischildof(t.vScrollBar))return!1;if(e(i.target).ischildof(t.hScrollBar))return!1}t._mousedown=new Date;var r=t._handlemousedown(i,t);return t.isNestedGrid&&(t.resizablecolumn||t.columnsreorder||i.stopPropagation()),t._lastmousedown=new Date,r}),i||(t.addHandler(t.host,"dblclick.jqxgrid",function(i){if(t.editable&&t.begincelledit&&"dblclick"==t.editmode)t._handledblclick(i,t);else if(e.jqx.browser.msie&&e.jqx.browser.version<9){t._handlemousedown(i,t)}return t.mousecaptured=!1,t._lastmousedown=new Date,!0}),t._mousemovefunc=function(e){return t._handlemousemove?t._handlemousemove(e,t):void 0},t.addHandler(t.content,"mousemove",t._mousemovefunc),t._handlemousemoveselection&&(t._mousemovedocumentfunc=function(e){return t._handlemousemoveselection?t._handlemousemoveselection(e,t):void 0},t.addHandler(e(document),"mousemove.selection"+t.element.id,t._mousemovedocumentfunc)),t.addHandler(e(document),"mouseup.selection"+t.element.id,function(e){t._handlemouseupselection&&t._handlemouseupselection(e,t)}));try{if((""!=document.referrer||window.frameElement)&&null!=window.top&&window.top!=window.self){var s=null;if(window.parent&&document.referrer&&(s=document.referrer),s&&-1!=s.indexOf(document.location.host)){var a=function(e){if(t._handlemouseupselection)try{t._handlemouseupselection(e,t)}catch(i){}};t.addHandler(e(window.top.document),"mouseup.grid"+t.element.id,a)}}}catch(n){}t.focused=!1,i||(t.addHandler(t.content,"mouseenter",function(e){t.focused=!0,t.wrapper&&(t.wrapper.attr("tabindex",1),t.content.attr("tabindex",2)),t._overlayElement&&(t.vScrollInstance.isScrolling()||t.hScrollInstance.isScrolling()?t._overlayElement[0].style.visibility="visible":t._overlayElement[0].style.visibility="hidden")}),t.addHandler(t.content,"mouseleave",function(e){t._handlemousemove&&t.enablehover&&t._clearhoverstyle(),t._overlayElement&&(t._overlayElement[0].style.visibility="hidden"),t.focused=!1}),(t.groupable||t.columnsreorder)&&t.addHandler(e(document),"selectstart."+t.element.id,function(e){return t.__drag===!0?!1:void 0}),t.addHandler(t.content,"selectstart."+t.element.id,function(i){if(t.enablebrowserselection)return!0;if(t.showfilterrow&&e(i.target).ischildof(t.filterrow))return!0;if(t.showeverpresentrow){if(e(i.target).ischildof(t.addnewrow))return!0;if(t.addnewrowtop&&e(i.target).ischildof(t.addnewrowtop))return!0}return i.target.className&&i.target.className.indexOf("jqx-grid-widget")>=0?!0:t.editcell?void(i.stopPropagation&&i.stopPropagation()):!1}),t.addHandler(e(document),"keyup.edit"+t.element.id,function(e){t._keydown=!1}),t.addHandler(e(document),"keydown.edit"+t.element.id,function(i){t._keydown=!t.editcell;var r=i.charCode?i.charCode:i.keyCode?i.keyCode:0;if(20===r&&(t._capsLock?t._capsLock=!1:t._capsLock=!0),t.handlekeyboardnavigation&&(t.focused||i.target===t.element||e(i.target).ischildof(t.host))){var s=t.handlekeyboardnavigation(i);if(1==s)return!1}if(t.editable&&t.editcell&&(13!=r&&27!=r&&9!=r||t._handleeditkeydown&&(a=t._handleeditkeydown(i,t))),27==r&&(t.mousecaptured=!1,"visible"==t.selectionarea.css("visibility")&&t.selectionarea.css("visibility","hidden")),e.jqx.browser.msie&&e.jqx.browser.version<12&&t.focused&&!t.isNestedGrid){if(13==r&&0==a)return a;var a=!0,r=i.charCode?i.charCode:i.keyCode?i.keyCode:0;if(!t.editcell&&t.editable&&"programmatic"!=t.editmode&&t._handleeditkeydown&&(a=t._handleeditkeydown(i,t)),a&&t.keyboardnavigation&&t._handlekeydown)return a=t._handlekeydown(i,t),a||(i.preventDefault&&i.preventDefault(),void 0!=i.stopPropagation&&i.stopPropagation()),a}return!0}),t.addHandler(t.host,"keydown.edit"+t.element.id,function(i){var r=!0;if(t.handlekeyboardnavigation){var s=t.handlekeyboardnavigation(i);if(1==s)return!1}return t.editable&&"programmatic"!=t.editmode&&t._handleeditkeydown&&(r=t._handleeditkeydown(i,t),t.isNestedGrid&&i.stopPropagation()),e.jqx.browser.msie&&e.jqx.browser.version<8?t.isNestedGrid&&r&&t.keyboardnavigation&&t._handlekeydown&&(r=t._handlekeydown(i,t),i.stopPropagation()):r&&t.keyboardnavigation&&t._handlekeydown&&(r=t._handlekeydown(i,t),t.isNestedGrid&&i.stopPropagation()),r||(i.preventDefault&&i.preventDefault(),void 0!=i.stopPropagation&&i.stopPropagation()),r}))},_hittestrow:function(t,i){if(null!=this.vScrollInstance&&null!=this.hScrollInstance){void 0==t&&(t=0);var r=this.vScrollInstance,s=this.hScrollInstance,a=r.value;"visible"!=this.vScrollBar.css("visibility")&&(a=0);var n=s.value;"visible"!=this.hScrollBar.css("visibility")&&(n=0),"deferred"==this.scrollmode&&null!=this._newmax&&a>this._newmax&&(a=this._newmax);var o=parseInt(a)+i;parseInt(n)+t;if(null!=this.visiblerows&&0!=this.visiblerows.length){var l=!1,h=this._findvisiblerow(o,this.visiblerows);if(h>=0){var d=this.visiblerows[h],c=this.rowdetails&&d.rowdetails,u=!d.rowdetailshidden;if(c){var p=this.visiblerows[h-1];if(p==d&&(d=p,h--),u){var f=e(this.hittestinfo[h].visualrow).position().top+parseInt(this.table.css("top")),m=e(this.hittestinfo[h].visualrow).height();i>=f&&f+m>=i||(h++,d=this.visiblerows[h],l=!0)}}}return{index:h,row:d,details:l}}}},getcellatposition:function(t,i){var r=this.that,s=this.showheader?this.columnsheader.height()+2:0,a=this._groupsheader()?this.groupsheader.height():0,n=this.showtoolbar?this.toolbarheight:0;a+=n;var o=this.host.coord();this.hasTransform&&(o=e.jqx.utilities.getOffset(this.host));var l=t-o.left,h=i-s-o.top-a,d=this._hittestrow(l,h),c=d.row,u=d.index,p=this.table[0].rows[u];if(this.dataview&&0==this.dataview.records.length){for(var f=this.table[0].rows,m=0,g=0;g<f.length;g++){if(h>=m&&h<m+this.rowsheight){p=f[g];break}m+=this.rowsheight}c={boundindex:g}}if(null==p)return!0;for(var v=this.hScrollInstance,x=v.value,b=0,g=(this.groupable?this.groups.length:0,0);g<p.cells.length;g++){var w=parseInt(e(this.columnsrow[0].cells[g]).css("left")),t=w-x;if(r.columns.records[g].pinned&&(t=w),!r.columns.records[g].hidden){var y=t+e(this.columnsrow[0].cells[g]).width();if(y>=l&&l>=t){b=g;break}}}if(null!=c){var _=this._getcolumnat(b);return{row:this.getboundindex(c),column:_.datafield,value:this.getcellvalue(this.getboundindex(c),_.datafield)}}return null},_handlemousedown:function(t,i){if(null==t.target)return!0;if(i.disabled)return!0;if(e(t.target).ischildof(this.columnsheader)||e(t.target).ischildof(this.hScrollBar)||e(t.target).ischildof(this.vScrollBar))return!0;var r;t.which?r=3==t.which:t.button&&(r=2==t.button);var s;if(t.which?s=2==t.which:t.button&&(s=1==t.button),s)return!0;if(this.showstatusbar){if(e(t.target).ischildof(this.statusbar))return!0;if(t.target==this.statusbar[0])return!0}if(this.showtoolbar){if(e(t.target).ischildof(this.toolbar))return!0;if(t.target==this.toolbar[0])return!0}if(this.pageable){if(e(t.target).ischildof(this.pager))return!0;if(t.target==this.pager[0])return!0}if(!this.columnsheader)return!0;if(!this.editcell&&this.pageable&&e(t.target).ischildof(this.pager))return!0;var a=this.showheader?this.columnsheader.height()+2:0,n=this._groupsheader()?this.groupsheader.height():0,o=this.showtoolbar?this.toolbarheight:0;n+=o;var l=this.host.coord();if(this.hasTransform){l=e.jqx.utilities.getOffset(this.host);var h=this._getBodyOffset();l.left-=h.left,l.top-=h.top}var d=parseInt(t.pageX),c=parseInt(t.pageY);if(this.isTouchDevice()){var u=i.getTouches(t),p=u[0];d=parseInt(p.pageX),c=parseInt(p.pageY),1==i.touchmode&&void 0!=p._pageX&&(d=parseInt(p._pageX),c=parseInt(p._pageY))}var f=d-l.left,m=c-a-l.top-n;if(this.pageable&&!this.autoheight&&this.gotopage){var g=this.pager.coord().top-l.top-n-a;if(m>g)return}var v=this._hittestrow(f,m);if(v&&!v.details){var x=v.row,b=v.index,w=t.target.className,y=this.table[0].rows[b];if(null==y)return i.editable&&i.begincelledit&&i.editcell&&i.endcelledit(i.editcell.row,i.editcell.column,!1,!0),!0;i.mousecaptured=!0,i.mousecaptureposition={left:t.pageX,top:t.pageY-n,clickedrow:y};var _=this.hScrollInstance,j=_.value;this.rtl&&"hidden"!=this.hScrollBar.css("visibility")&&(j=_.max-_.value);var q=-1,T=this.groupable?this.groups.length:0;this.rtl&&("hidden"!=this.vScrollBar[0].style.visibility&&(j-=this.scrollbarsize+4),"hidden"==this.hScrollBar[0].style.visibility&&(j=-parseInt(this.content.css("left"))));for(var S=0;S<y.cells.length;S++){var C=parseInt(e(this.columnsrow[0].cells[S]).css("left")),d=C-j;i.columns.records[S].pinned&&!i.rtl&&(d=C);var I=this._getcolumnat(S);if(null==I||!I.hidden){var k=d+e(this.columnsrow[0].cells[S]).width();if(k>=f&&f>=d){q=S,i.mousecaptureposition.clickedcell=S;break}}}if(this.rtl&&this._haspinned)for(var S=y.cells.length-1;S>=0&&i.columns.records[S].pinned;S--){var C=e(this.columnsrow[0].cells[S]).coord().left-this.host.coord().left,d=C,I=this._getcolumnat(S);if(null==I||!I.hidden){var k=d+e(this.columnsrow[0].cells[S]).width();if(k>=f&&f>=d){q=S,i.mousecaptureposition.clickedcell=S;break}}}if(null!=x&&q>=0){this._raiseEvent(1,{rowindex:this.getboundindex(x),visibleindex:x.visibleindex,row:x,group:x.group,rightclick:r,originalEvent:t});var I=this._getcolumnat(q),D=this.getcellvalue(this.getboundindex(x),I.datafield);if(this.editable&&this.editcell&&I.datafield==this.editcell.column&&this.getboundindex(x)==this.editcell.row&&(this.mousecaptured=!1),this._raiseEvent(8,{rowindex:this.getboundindex(x),column:I?I.getcolumnproperties():null,row:x,visibleindex:x.visibleindex,datafield:I?I.datafield:null,columnindex:q,value:D,rightclick:r,originalEvent:t}),I.createwidget)return!0;if(this.isTouchDevice())if("checkbox"==I.columntype&&this.editable&&this._overlayElement){if(!this.editcell)return this._overlayElement.css("visibility","hidden"),this.editcell=this.getcell(b,I.datafield),!0}else if("button"==I.columntype&&this._overlayElement)return I.buttonclick&&I.buttonclick(y.cells[q].buttonrow,t),!0;var M=!1;if(null!=this._lastmousedown&&this._mousedown-this._lastmousedown<300&&this._clickedrowindex==this.getboundindex(x)&&(this._raiseEvent(22,{rowindex:this.getboundindex(x),row:x,visibleindex:x.visibleindex,group:x.group,rightclick:r,originalEvent:t}),this._clickedcolumn==I.datafield&&this._raiseEvent(23,{rowindex:this.getboundindex(x),row:x,visibleindex:x.visibleindex,column:I?I.getcolumnproperties():null,datafield:I?I.datafield:null,columnindex:q,value:D,rightclick:r,originalEvent:t}),M=!0,this._clickedrowindex=-1,this._clickedcolumn=null,t.isPropagationStopped&&t.isPropagationStopped()))return!1;if(r)return!0;M||(this._clickedrowindex=this.getboundindex(x),this._clickedcolumn=I.datafield);var P=e.jqx.utilities.getBrowser();if("msie"==P.browser&&parseInt(P.version)<=7&&(0==q&&this.rowdetails&&(w="jqx-grid-group-collapse"),T>0&&T>=q&&(w="jqx-grid-group-collapse")),-1!=w.indexOf("jqx-grid-group-expand")||-1!=w.indexOf("jqx-grid-group-collapse"))this.rtl?T>0&&q>y.cells.length-T-1&&this._togglegroupstate?this._togglegroupstate(x.bounddata,!0):q==y.cells.length-1-T&&this.rowdetails&&this.showrowdetailscolumn&&(this._togglerowdetails(x.bounddata,!0),this.gridcontent[0].scrollTop=0,this.gridcontent[0].scrollLeft=0):T>0&&T>q&&this._togglegroupstate?this._togglegroupstate(x.bounddata,!0):q==T&&this.rowdetails&&this.showrowdetailscolumn&&(this._togglerowdetails(x.bounddata,!0),this.gridcontent[0].scrollTop=0,this.gridcontent[0].scrollLeft=0);else if(-1!=x.boundindex){var N=this.selectedrowindexes.slice(0),B=!1;if("none"!=i.selectionmode&&"checkbox"!=i.selectionmode&&this._selectrowwithmouse){"multiplecellsadvanced"!=i.selectionmode&&"multiplecellsextended"!=i.selectionmode&&"multiplerowsextended"!=i.selectionmode&&"multiplerowsadvanced"!=i.selectionmode||t.ctrlKey||t.shiftKey||t.metaKey||(i.selectedrowindexes=new Array,i.selectedcells=new Array);var O=!1,E=this.getboundindex(x);i._oldselectedrow!==E&&"none"!==i.selectionmode||(O=!0),-1==i.selectionmode.indexOf("cell")?("singlerow"!=i.selectionmode||i.selectedrowindex!=E&&"singlerow"==i.selectionmode)&&(this._applyrowselection(E,!0,!1,null,I.datafield),this._selectrowwithmouse(i,v,N,I.datafield,t.ctrlKey||t.metaKey,t.shiftKey)):null!=I.datafield&&(this._selectrowwithmouse(i,v,N,I.datafield,t.ctrlKey||t.metaKey,t.shiftKey),t.shiftKey||this._applycellselection(E,I.datafield,!0,!1)),i._oldselectedcell&&i._oldselectedcell.datafield==i.selectedcell.datafield&&i._oldselectedcell.rowindex==i.selectedcell.rowindex&&(B=!0),i._oldselectedcell=i.selectedcell,i._oldselectedrow=E}if(i.autosavestate&&i.savestate&&i.savestate(),i.editable&&i.begincelledit&&"programmatic"!=i.editmode){if(t.isPropagationStopped&&t.isPropagationStopped())return!1;if("selectedrow"==i.editmode){if(O&&!i.editcell){if("checkbox"!==I.columntype){i.beginrowedit(this.getboundindex(x))}}else if(i.editcell&&!O&&"none"!=i.selectionmode){i.endrowedit(i.editcell.row)}}else{var E=this.getboundindex(x),A="click"==i.editmode||B&&"selectedcell"==i.editmode;if(-1==i.selectionmode.indexOf("cell")&&"dblclick"!=i.editmode&&(A=!0),A&&void 0!=x.boundindex&&I.editable){i.begincelledit(this.getboundindex(x),I.datafield,I.defaulteditorvalue);-1!=i.selectionmode.indexOf("cell")&&i._applycellselection(E,I.datafield,!1,!1)}-1!=i.selectionmode.indexOf("cell")&&"selectedcell"==i.editmode&&!B&&i.editcell&&i.endcelledit(i.editcell.row,i.editcell.column,!1,!0),"dblclick"!=i.editmode||B||!i.editcell||i.editcell.row==E&&I.datafield==i.editcell.column||i.endcelledit(i.editcell.row,i.editcell.column,!1,!0)}return!0}}}return!0}},_columnPropertyChanged:function(e,t,i,r){},_rowPropertyChanged:function(e,t,i,r){},_serializeObject:function(t){if(null==t)return"";var i="";return e.each(t,function(e){var t=this;e>0&&(i+=", "),i+="[";var r=0;for(obj in t)r>0&&(i+=", "),i+="{"+obj+":"+t[obj]+"}",r++;i+="]"}),i},isbindingcompleted:function(){return!this._loading},propertiesChangedHandler:function(e,t,i){i.width&&i.height&&2==Object.keys(i).length&&(e._updatesize(!0,!0),e._resizeWindow(),e.virtualmode&&!e._loading?e.vScrollInstance.setPosition(0):setTimeout(function(){e._renderrows(e.virtualsizeinfo)},100))},propertyChangedHandler:function(t,i,r,s){if(void 0!=this.isInitialized&&0!=this.isInitialized&&!(t.batchUpdate&&t.batchUpdate.width&&t.batchUpdate.height&&2==Object.keys(t.batchUpdate).length))switch(i=i.toLowerCase()){case"editable":t.refresh();break;case"everpresentrowactionsmode":r!=s&&(t._removeaddnewrow(),t.render());break;case"everpresentrowactions":t._updateaddnewrowui();break;case"showeverpresentrow":case"everpresentrowposition":case"everpresentrowheight":r!=s&&(t._removeaddnewrow(),t.render());break;case"rtl":t.content.css("left",""),t.columns=t._columns,t._filterrowcache=[],t.vScrollBar.jqxScrollBar({rtl:s}),t.hScrollBar.jqxScrollBar({rtl:s}),t._initpager&&t._initpager(),t._initgroupsheader&&t._initgroupsheader(),t.render();break;case"enablebrowserselection":t.showfilterrow||(t.showstatusbar||t.showtoolbar||t.host.addClass("jqx-disableselect"),t.content.addClass("jqx-disableselect")),t.enablebrowserselection&&(t.content.removeClass("jqx-disableselect"),t.host.removeClass("jqx-disableselect"));break;case"columnsheight":(30!=t.columnsheight||t.columngroups)&&t._measureElement("column"),t._render(!0,!0,!0,!1,!1);break;case"rowsheight":s!=r&&(30!=t.rowsheight&&t._measureElement("cell"),t.virtualsizeinfo=null,t.rendergridcontent(!0,!1),t.refresh());break;case"scrollMode":t.vScrollInstance.thumbStep=t.rowsheight;break;case"showdefaultloadelement":t._builddataloadelement();break;case"showfiltermenuitems":case"showsortmenuitems":case"showgroupmenuitems":case"filtermode":t._initmenu();break;case"touchmode":r!=s&&(t._removeHandlers(),t.touchDevice=null,t.vScrollBar.jqxScrollBar({touchMode:s}),t.hScrollBar.jqxScrollBar({touchMode:s}),t._updateTouchScrolling(),t._arrange(),t._updatecolumnwidths(),t._updatecellwidths(),t._addHandlers());break;case"autoshowcolumnsmenubutton":r!=s&&t._rendercolumnheaders();break;case"rendergridrows":r!=s&&t.updatebounddata();break;case"editmode":r!=s&&(t._removeHandlers(),t._addHandlers());break;case"source":t.updatebounddata(),t.virtualmode&&!t._loading&&(t.loadondemand=!0,t._renderrows(t.virtualsizeinfo));break;case"horizontalscrollbarstep":case"verticalscrollbarstep":case"horizontalscrollbarlargestep":case"verticalscrollbarlargestep":this.vScrollBar.jqxScrollBar({step:this.verticalscrollbarstep,largestep:this.verticalscrollbarlargestep}),this.hScrollBar.jqxScrollBar({step:this.horizontalscrollbarstep,largestep:this.horizontalscrollbarlargestep});break;case"closeablegroups":t._initgroupsheader&&t._initgroupsheader();break;case"showgroupsheader":r!=s&&(t._arrange(),t._initgroupsheader&&t._initgroupsheader(),t._renderrows(t.virtualsizeinfo));break;case"theme":s!=r&&(e.jqx.utilities.setTheme(r,s,t.host),t.gridmenu&&t.gridmenu.jqxMenu({theme:s}),t.pageable&&t._updatepagertheme(),t.filterable&&t._updatefilterrowui(!0),t.showeverpresentrow&&t._updateaddnewrowui(!0));break;case"showtoolbar":case"toolbarheight":r!=s&&(t._arrange(),t.refresh());break;case"showstatusbar":r!=s&&(t.statusbar&&(s?t.statusbar.show():t.statusbar.hide()),
t._arrange(),t.refresh());break;case"statusbarheight":r!=s&&(t._arrange(),t.refresh());break;case"filterable":case"showfilterrow":r!=s&&t.render();break;case"autoshowfiltericon":case"showfiltercolumnbackground":case"showpinnedcolumnbackground":case"showsortcolumnbackground":r!=s&&t.rendergridcontent();break;case"showrowdetailscolumn":r!=s&&t.render();break;case"scrollbarsize":r!=s&&t._arrange();break;case"width":case"height":r!=s&&(t._updatesize(!0,!0),t._resizeWindow(),t.virtualmode&&!t._loading?t.vScrollInstance.setPosition(0):setTimeout(function(){t._renderrows(t.virtualsizeinfo)},100));break;case"altrows":case"altstart":case"altstep":r!=s&&t._renderrows(t.virtualsizeinfo);break;case"groupsheaderheight":r!=s&&(t._arrange(),t._initgroupsheader&&t._initgroupsheader());break;case"pagerheight":r!=s&&t._initpager();break;case"selectedrowindex":t.selectrow(s);break;case"selectionmode":r!=s&&("none"==s&&(t.selectedrowindexes=new Array,t.selectedcells=new Array,t.selectedrowindex=-1),t._renderrows(t.virtualsizeinfo),"checkbox"==s&&t._render(!1,!1,!0,!1,!1));break;case"showheader":s?t.columnsheader.css("display","block"):t.columnsheader.css("display","none");break;case"virtualmode":r!=s&&(t.dataview.virtualmode=t.virtualmode,t.dataview.refresh(!1),t._render(!1,!1,!1));break;case"columnsmenu":r!=s&&t.render();break;case"columngroups":t._render(!0,!0,!0,!1,!1);break;case"columns":if(t._serializeObject(t._cachedcolumns)!==t._serializeObject(s)){var a=!1;t.filterable&&r&&r.records&&e.each(r.records,function(){this.filter&&(a=!0),t.dataview.removefilter(this.displayfield,this.filter)}),t._columns=null,t._filterrowcache=[],t.render(),a&&t.applyfilters(),t._cachedcolumns=t.columns,t.removesort&&t.removesort()}else t[i]=r;break;case"autoheight":r!=s&&t._render(!1,!1,!0);break;case"pagermode":case"pagerbuttonscount":r!=s&&t._initpager&&(t.pagershowrowscombo&&(t.pagershowrowscombo.jqxDropDownList("destroy"),t.pagershowrowscombo=null),t.pagerrightbutton&&(t.removeHandler(t.pagerrightbutton,"mousedown"),t.removeHandler(t.pagerrightbutton,"mouseup"),t.removeHandler(t.pagerrightbutton,"click"),t.pagerrightbutton.jqxButton("destroy"),t.pagerrightbutton=null),t.pagerleftbutton&&(t.removeHandler(t.pagerleftbutton,"mousedown"),t.removeHandler(t.pagerleftbutton,"mouseup"),t.removeHandler(t.pagerleftbutton,"click"),t.pagerleftbutton.jqxButton("destroy"),t.removeHandler(e(document),"mouseup.pagerbuttons"+t.element.id),t.pagerleftbutton=null),t.pagerdiv.remove(),t._initpager());break;case"pagesizeoptions":case"pageable":case"pagesize":if(r!=s){if(t._loading)throw new Error("jqxGrid: "+t.loadingerrormessage);if(!t.host.jqxDropDownList||!t.host.jqxListBox)return void t._testmodules();if(t._initpager){if("pageable"!=i&&"pagermode"!=i&&"string"==typeof s){var n="The expected value type is: Int.";if("pagesize"!=i)var n="The expected value type is: Array of Int values.";throw new Error("Invalid Value for: "+i+". "+n)}t.dataview.pageable=t.pageable,t.dataview.pagenum=0,t.dataview.pagesize=t._getpagesize(),t.virtualmode&&t.updatebounddata(),t.dataview.refresh(!0),t._initpager(),"pagesizeoptions"==i&&null!=s&&s.length>0&&(t.pagesize=parseInt(s[0]),t.dataview.pagesize=parseInt(s[0]),t.prerenderrequired=!0,t._requiresupdate=!0,t.dataview.pagenum=-1,t.gotopage(0))}t._render(!1,!1,!1)}break;case"groups":t._serializeObject(r)!==t._serializeObject(s)&&(t.dataview.groups=s,t._refreshdataview(),t._render(!0,!0,!0,!1));break;case"groupable":r!=s&&(t.dataview.groupable=t.groupable,t.dataview.pagenum=0,t.dataview.refresh(!1),t._render(!1,!1,!0));break;case"renderstatusbar":null!=s&&t.renderstatusbar(t.statusbar);break;case"rendertoolbar":null!=s&&t.rendertoolbar(t.toolbar);break;case"disabled":s?t.host.addClass(t.toThemeProperty("jqx-fill-state-disabled")):t.host.removeClass(t.toThemeProperty("jqx-fill-state-disabled")),e.jqx.aria(t,"aria-disabled",t.disabled),t.pageable&&(t.pagerrightbutton&&(t.pagerrightbutton.jqxButton({disabled:s}),t.pagerleftbutton.jqxButton({disabled:s}),t.pagershowrowscombo.jqxDropDownList({disabled:s}),t.pagergotoinput.attr("disabled",s)),t.pagerfirstbutton&&(t.pagerfirstbutton.jqxButton({disabled:s}),t.pagerlastbutton.jqxButton({disabled:s}))),t.vScrollBar.jqxScrollBar({disabled:s}),t.hScrollBar.jqxScrollBar({disabled:s}),t.filterable&&t.showfilterrow&&t._updatefilterrowui(!0),t.showeverpresentrow&&t._updateaddnewrowui(!0)}}}),e.jqx.collection=function(e){return this.records=new Array,this.owner=e,this.updating=!1,this.beginupdate=function(){this.updating=!0},this.resumeupdate=function(){this.updating=!1},this._raiseEvent=function(e){},this.clear=function(){this.records=new Array},this.replace=function(e,t){this.records[e]=t,this.updating||this._raiseEvent({type:"replace",element:t})},this.isempty=function(e){return void 0==this.records[e]},this.initialize=function(e){1>e&&(e=1),this.records[e-1]=-1},this.length=function(){return this.records.length},this.indexOf=function(e){return this.records.indexOf(e)},this.add=function(e){return null==e?!1:(this.records[this.records.length]=e,this.updating||this._raiseEvent({type:"add",element:e}),!0)},this.insertAt=function(e,t){return null==e||void 0==e?!1:null==t?!1:e>=0?e<this.records.length?(this.records.splice(e,0,t),this.updating||this._raiseEvent({type:"insert",index:e,element:t}),!0):this.add(t):!1},this.remove=function(e){if(null==e||void 0==e)return!1;var t=this.records.indexOf(e);return-1!=t?(this.records.splice(t,1),this.updating||this._raiseEvent({type:"remove",element:e}),!0):!1},this.removeAt=function(e){if(null==e||void 0==e)return!1;if(0>e)return!1;if(e<this.records.length){var t=this.records[e];return this.records.splice(e,1),this.updating||this._raiseEvent({type:"removeAt",index:e,element:t}),!0}return!1},this},e.jqx.dataview=function(){return this.self=this,this.aggregates=!1,this.grid=null,this.uniqueId="id",this.records=[],this.rows=[],this.columns=[],this.groups=[],this.filters=new Array,this.updated=null,this.update=null,this.suspend=!1,this.pagesize=0,this.pagenum=0,this.totalrows=0,this.totalrecords=0,this.groupable=!0,this.loadedrecords=[],this.loadedrootgroups=[],this.loadedgroups=[],this.loadedgroupsByKey=[],this.virtualmode=!0,this._cachegrouppages=new Array,this.source=null,this.changedrecords=new Array,this.rowschangecallback=null,this.that=this,this.destroy=function(){delete this.self,delete this.grid,delete this.uniqueId,delete this.records,delete this.rows,delete this.columns,delete this.groups,delete this.filters,delete this.updated,delete this.update,delete this.suspend,delete this.pagesize,delete this.pagenum,delete this.totalrows,delete this.totalrecords,delete this.groupable,delete this.loadedrecords,delete this.loadedrootgroups,delete this.loadedgroups,delete this.loadedgroupsByKey,delete this.virtualmode,delete this._cachegrouppages,delete this.source,delete this.changedrecords,delete this.rowschangecallback,delete this.that},this.suspendupdate=function(){this.suspend=!0},this.isupdating=function(){return this.suspend},this.resumeupdate=function(e){this.suspend=!1,void 0==e&&(e=!0),this.refresh(e)},this.getrecords=function(){return this.records},this.clearrecords=function(){this.recordids=new Array},this.databind=function(t,i){var r=!!t._source,s=null;this.grid&&(this.aggregates=this.grid.showgroupaggregates),r?(s=t,t=t._source):s=new e.jqx.dataAdapter(t,{autoBind:!1});var a=function(e){s.recordids=[],s.records=new Array,s.cachedrecords=new Array,s.originaldata=new Array,s._options.virtualmode=e.virtualmode,s._options.totalrecords=e.totalrecords,s._options.originaldata=e.originaldata,s._options.recordids=e.recordids,s._options.cachedrecords=new Array,s._options.pagenum=e.pagenum,s._options.pageable=e.pageable,void 0!=t.type&&(s._options.type=t.type),void 0!=t.formatdata&&(s._options.formatData=t.formatdata),void 0!=t.contenttype&&(s._options.contentType=t.contenttype),void 0!=t.async&&(s._options.async=t.async),void 0!=t.updaterow&&(s._options.updaterow=t.updaterow),void 0!=t.addrow&&(s._options.addrow=t.addrow),void 0!=t.deleterow&&(s._options.deleterow=t.deleterow),0==e.pagesize&&(e.pagesize=10),s._options.pagesize=e.pagesize},n=function(i){if(i.totalrecords=s.totalrecords,i.virtualmode){var r={startindex:i.pagenum*i.pagesize,endindex:i.pagenum*i.pagesize+i.pagesize};if(void 0!=t.recordstartindex&&(r.startindex=parseInt(t.recordstartindex)),void 0!=t.recordendindex?r.endindex=parseInt(t.recordendindex):i.grid.pageable||(r.endindex=r.startindex+100,i.grid.autoheight&&(r.endindex=r.startindex+i.totalrecords)),t.recordendindex||(i.grid.pageable?r={startindex:i.pagenum*i.pagesize,endindex:i.pagenum*i.pagesize+i.pagesize}:(r.endindex=r.startindex+100,i.grid.autoheight&&(r.endindex=r.startindex+i.totalrecords))),r.data=s.records,i.grid.rendergridrows&&i.totalrecords>0){var a=0;if(t.records=i.grid.rendergridrows(r),t.records.length&&(a=t.records.length),t.records&&!t.records[r.startindex]){var n=new Array,o=r.startindex;e.each(t.records,function(){n[o]=this,o++,a++}),t.records=n}if(0==a&&t.records&&e.each(t.records,function(){a++}),a>0&&a<r.endindex-r.startindex&&!i.grid.groupable)for(var l=t.records[0],h=0;h<r.endindex-r.startindex-a;h++){var d={};for(obj in l)d[obj]="";t.records.push&&t.records.push(d)}}t.records&&0!=i.totalrecords||(t.records=new Array),i.originaldata=t.records,i.records=t.records,i.cachedrecords=t.records}else i.originaldata=s.originaldata,i.records=s.records,i.recordids=s.recordids,i.cachedrecords=s.cachedrecords};a(this),this.source=t,void 0!==i&&(uniqueId=i);var o=this.that;switch(t.datatype){case"local":case"array":default:if(null==t.localdata&&(t.localdata=[]),null!=t.localdata){s.unbindBindingUpdate(o.grid.element.id),(!o.grid.autobind&&o.grid.isInitialized||o.grid.autobind)&&s.dataBind();var l=function(i){if(void 0!=i&&""!=i){var r=s._changedrecords[0];if(r){var a=new Array;e.each(s._changedrecords,function(e){var t=this.index,r=this.record;switch(o.grid._updateFromAdapter=!0,i){case"update":var n=o.grid.getrowid(t);return e==s._changedrecords.length-1?o.grid.updaterow(n,r):o.grid.updaterow(n,r,!1),void(o.grid._updateFromAdapter=!1);case"add":return o.grid.addrow(null,r),void(o.grid._updateFromAdapter=!1);case"remove":var n=o.grid.getrowid(t);return void a.push(n)}}),a.length>0&&(o.grid.deleterow(a,!1),o.grid._updateFromAdapter=!1)}if("update"==i)return}var l=o.totalrecords;n(o,i),null===t.localdata.notifier&&"observableArray"==t.localdata.name&&(t.localdata.notifier=function(i){if(!this._updating){this._updating=!0;var r=o.grid.getrowid(i.index);switch(i.type){case"add":var a=e.extend({},i.object[i.index]),n=s.getid(t.id,a,i.index);0===i.index?o.grid.addrow(n,a,"first"):o.grid.addrow(n,a);break;case"delete":o.grid.deleterow(r);break;case"update":if(i.path&&i.path.split(".").length>1){var l=i.path.split(".");o.grid.setcellvalue(i.index,l[l.length-1],i.newValue)}else{var a=e.extend({},i.object[i.index]);o.grid.updaterow(r,a)}}this._updating=!1}}),"updateData"==i?(o.refresh(),o.grid._updateGridData()):(t.recordstartindex&&this.virtualmode?o.updateview(t.recordstartindex,t.recordstartindex+o.pagesize):o.refresh(),o.update(l!=o.totalrecords))};l(),s.bindBindingUpdate(o.grid.element.id,l)}break;case"json":case"jsonp":case"xml":case"xhtml":case"script":case"text":case"csv":case"tab":if(null!=t.localdata){s.unbindBindingUpdate(o.grid.element.id),(!o.grid.autobind&&o.grid.isInitialized||o.grid.autobind)&&s.dataBind();var l=function(e){var i=o.totalrecords;n(o),"updateData"==e?(o.refresh(),o.grid._updateGridData()):(t.recordstartindex&&o.virtualmode?o.updateview(t.recordstartindex,t.recordstartindex+o.pagesize):o.refresh(),o.update(i!=o.totalrecords))};return l(),void s.bindBindingUpdate(o.grid.element.id,l)}for(var h=[],d=0,c={},u=0;u<this.filters.length;u++){var p=this.filters[u].datafield,f=this.filters[u].filter;if(f.getfilters){var m=f.getfilters();c[p+"operator"]=f.operator;for(var g=0;g<m.length;g++){m[g].datafield=p;var v=m[g].value;if("datefilter"==m[g].type)if(m[g].value&&m[g].value.toLocaleString){var x=this.grid.getcolumn(m[g].datafield);if(x&&x.cellsformat){var b=this.grid.source.formatDate(m[g].value,x.cellsformat,this.grid.gridlocalization);b?c["filtervalue"+d]=b:c["filtervalue"+d]=m[g].value.toLocaleString()}else c["filtervalue"+d]=v.toString()}else c["filtervalue"+d]=v.toString();else c["filtervalue"+d]=v.toString(),m[g].data&&(c["filterid"+d]=m[g].data.toString()),m[g].id&&(c["filterid"+d]=m[g].id.toString());c["filtercondition"+d]=m[g].condition,c["filteroperator"+d]=m[g].operator,c["filterdatafield"+d]=p;var w={label:v.toString()};m[g].data&&(w.value=m[g].data.toString()),m[g].id?w.value=m[g].id.toString():w.value=v.toString(),w.condition=m[g].condition,w.operator=0==m[g].operator?"and":"or",w.field=p,w.type=m[g].type;var y=!1;if(h.length>0)for(var _=0;_<h.length;_++){var j=h[_];if(j.field==p){j.filters.push(w),y=!0;break}}y||(h.push({field:p,filters:[]}),h[h.length-1].filters.push(w)),d++}}}c.filterGroups=h,c.filterscount=d,c.groupscount=o.groups.length;for(var u=0;u<o.groups.length;u++)c["group"+u]=o.groups[u];void 0==t.recordstartindex&&(t.recordstartindex=0),void 0!=t.recordendindex&&0!=t.recordendindex||(o.grid.height&&-1==o.grid.height.toString().indexOf("%")?(t.recordendindex=parseInt(o.grid.height)/o.grid.rowsheight,t.recordendindex+=2,t.recordendindex=parseInt(t.recordendindex)):(t.recordendindex=e(window).height()/o.grid.rowsheight,t.recordendindex=parseInt(t.recordendindex)),this.pageable&&(t.recordendindex=this.pagesize)),this.pageable&&(t.recordstartindex=this.pagenum*this.pagesize,t.recordendindex=(this.pagenum+1)*this.pagesize),e.extend(c,{sortdatafield:o.sortfield,sortorder:o.sortfielddirection,pagenum:o.pagenum,pagesize:o.grid.pagesize,recordstartindex:t.recordstartindex,recordendindex:t.recordendindex});var q=s._options.data;s._options.data?e.extend(s._options.data,c):(t.data&&e.extend(c,t.data),s._options.data=c);var l=function(){var i=e.jqx.browser.msie&&e.jqx.browser.version<9,r=function(){var e=o.totalrecords;n(o),t.recordstartindex&&o.virtualmode?o.updateview(t.recordstartindex,t.recordstartindex+o.pagesize):o.refresh(),o.update(e!=o.totalrecords)};if(i)try{r()}catch(s){}else r()};s.unbindDownloadComplete(o.grid.element.id),s.bindDownloadComplete(o.grid.element.id,l),!o.grid.autobind&&o.grid.isInitialized||o.grid.autobind?s.dataBind():o.grid.isInitialized||o.grid.autobind||l(),s._options.data=q}},this.getid=function(t,i,r){if(e(t,i).length>0)return e(t,i).text();if(t&&t.toString().length>0){var s=e(i).attr(t);if(null!=s&&s.toString().length>0)return s}return r},this.getvaluebytype=function(t,i){var r=t;if("date"==i.type){var s=new Date(t);t=("NaN"==s.toString()||"Invalid Date"==s.toString())&&e.jqx.dataFormat?e.jqx.dataFormat.tryparsedate(t):s,null==t&&(t=r)}else if("float"==i.type){var t=parseFloat(t);isNaN(t)&&(t=r)}else if("int"==i.type){var t=parseInt(t);isNaN(t)&&(t=r)}else"bool"==i.type&&(null!=t&&("false"==t.toLowerCase()?t=!1:"true"==t.toLowerCase()&&(t=!0)),t=1==t?!0:0==t?!1:"");return t},this.setpaging=function(e){void 0!=e.pageSize&&(this.pagesize=e.pageSize),void 0!=e.pageNum&&(this.pagenum=Math.min(e.pageNum,Math.ceil(this.totalrows/this.pagesize))),this.refresh()},this.getpagingdetails=function(){return{pageSize:this.pagesize,pageNum:this.pagenum,totalrows:this.totalrows}},this._clearcaches=function(){this.sortcache={},this.sortdata=null,this.changedrecords=new Array,this.records=new Array,this.rows=new Array,this.cacheddata=new Array,this.originaldata=new Array,this.bounditems=new Array,this.loadedrecords=new Array,this.loadedrootgroups=new Array,this.loadedgroups=new Array,this.loadedgroupsByKey=new Array,this._cachegrouppages=new Array,this.recordsbyid=new Array,this.cachedrecords=new Array,this.recordids=new Array},this.addfilter=function(e,t){for(var i=-1,r=0;r<this.filters.length;r++)if(this.filters[r].datafield==e){i=r;break}-1==i?this.filters[this.filters.length]={filter:t,datafield:e}:this.filters[i]={filter:t,datafield:e}},this.removefilter=function(e){for(var t=0;t<this.filters.length;t++)if(this.filters[t].datafield==e){this.filters.splice(t,1);break}},this.getItemFromIndex=function(e){return this.records[e]},this.updaterow=function(e,t,i){var r=this.filters&&this.filters.length>0&&!this.virtualmode;if(!r&&void 0!=t&&void 0!=e){t.uid=e,t[this.source.id]||(t[this.source.id]=t.uid);var s=this.recordsbyid["id"+e],a=this.records.indexOf(s);return-1==a?!1:(this.records[a]=t,this.cachedrecords&&(this.cachedrecords[a]=t),1!=i&&void 0!=i||this.refresh(),this.changedrecords[t.uid]={Type:"Update",OldData:s,Data:t},!0)}if(this.filters&&this.filters.length>0){for(var n=this.cachedrecords,s=null,a=-1,o=0;o<n.length;o++)if(n[o].uid==e){s=n[o],a=o;break}if(s){var l=this.that;for(var h in t)l.cachedrecords[a][h]=t[h];return 1!=i&&void 0!=i||this.refresh(),!0}}return!1},this.addrow=function(t,i,r,s){if(void 0!=i){if(e.isEmptyObject(i)&&this.source&&this.source.datafields&&e.each(this.source.datafields,function(){var e="";"number"==this.type&&(e=null),"date"==this.type&&(e=null),"bool"!=this.type&&"boolean"!=this.type||(e=!1),i[this.name]=e}),!t||this.recordsbyid["id"+t]){i.uid=this.getid(this.source.id,i,this.totalrecords);for(var a=this.recordsbyid["id"+i.uid];null!=a;){var n=Math.floor(1e4*Math.random()).toString();i.uid=n,a=this.recordsbyid["id"+n]}}else i.uid=t;return i[this.source.id]||void 0!=this.source.id&&(i[this.source.id]=i.uid),"last"==r?this.records.push(i):"number"==typeof r&&isFinite(r)?this.records.splice(r,0,i):this.records.splice(0,0,i),this.filters&&this.filters.length>0&&("last"==r?this.cachedrecords.push(i):"number"==typeof r&&isFinite(r)?this.cachedrecords.splice(r,0,i):this.cachedrecords.splice(0,0,i)),this.totalrecords++,this.virtualmode&&(this.source.totalrecords=this.totalrecords),1!=s&&void 0!=s||this.refresh(),this.changedrecords[i.uid]={Type:"New",Data:i},!0}return!1},this.deleterow=function(e,t){if(void 0!=e){var i=this.filters&&this.filters.length>0;if(this.recordsbyid["id"+e]&&!i){var r=this.recordsbyid["id"+e],s=this.records.indexOf(r);return this.changedrecords[e]={Type:"Delete",Data:this.records[s]},this.records.splice(s,1),this.totalrecords--,this.virtualmode&&(this.source.totalrecords=this.totalrecords),1!=t&&void 0!=t||this.refresh(),!0}if(this.filters&&this.filters.length>0){for(var a=this.cachedrecords,r=null,s=-1,n=0;n<a.length;n++)if(a[n].uid==e){r=a[n],s=n;break}if(r)return this.cachedrecords.splice(s,1),1!=t&&void 0!=t||(this.totalrecords=0,this.records=this.cachedrecords,this.refresh()),!0}return!1}return!1},this.reload=function(t,i,r,s,a,n,o){var l=this.that,h=new Array,d=t,c=i,u=r,p=s,f=c.length,m=0,g=0;if(this.columns=[],this.bounditems=new Array,this.loadedrecords=new Array,this.loadedrootgroups=new Array,this.loadedgroups=new Array,this.loadedgroupsByKey=new Array,this._cachegrouppages=new Array,this.recordsbyid={},0==this.totalrecords){Object.size=function(e){var t,i=0;for(t in e)e.hasOwnProperty(t)&&i++;return i};var v=Object.size(d);this.totalrecords=v,e.each(this.records,function(t){var i=this,r=0;return e.each(i,function(e,t){l.columns[r++]=e}),!1})}if(this.virtualmode){if(this.pageable)return void this.updateview();var n=0;if(!this.groupable)return void this.updateview();var o=this.totalrecords}else var n=0,o=this.totalrecords;if(this.groupable&&this.groups.length>0&&this.loadgrouprecords){var x=n;x=this.loadgrouprecords(0,n,o,u,g,p,c,f,h)}else m=this.loadflatrecords(n,o,u,g,p,c,f,h);return f>g&&c.splice(g,f-g),this.groups.length>0&&this.groupable?this.totalrows=x:this.totalrows=m,h},this.loadflatrecords=function(t,i,r,s,a,n,o,l){var h=this.that,d=t,c=t;i=Math.min(i,this.totalrecords);for(var u=null!=this.sortdata,p=(this.source.id&&("local"==this.source.datatype||"array"==this.source.datatype||""==this.source.datatype),u?this.sortdata:this.records),f=t;i>f;f++){var m={};u?(m=e.extend({},p[f].value),id=m[h.uniqueId],m.boundindex=p[f].index,void 0==m.uid&&(m.uid=h.getid(h.source.id,m,m.boundindex)),h.recordsbyid["id"+m.uid]=p[f].value,h.loadedrecords[d]=m,m.uniqueid=h.generatekey(),h.bounditems[m.boundindex]=m):(m=new Object(p[f]),id=m[h.uniqueId],m.boundindex=d,h.loadedrecords[d]=m,void 0==m.uid&&(m.uid=h.getid(h.source.id,m,d)),h.recordsbyid["id"+m.uid]=p[f],m.uniqueid=h.generatekey(),h.bounditems[this.bounditems.length]=m),(s>=o||id!=n[s][h.uniqueId]||a&&a[id])&&(l[l.length]=s),n[s]=m,s++,m.visibleindex=c,c++,d++}if(h.grid.summaryrows){var g=d;e.each(h.grid.summaryrows,function(){var t=e.extend({},this);t.boundindex=i++,h.loadedrecords[g]=t,t.uniqueid=h.generatekey(),h.bounditems[h.bounditems.length]=t,n[s]=t,s++,t.visibleindex=c,c++,g++})}return c},this.updateview=function(e,t){var i=this.that,r=this.pagesize*this.pagenum,s=0,a=new Array,n=this.filters,o=this.updated,l=a.length;if(this.pageable){if(this.virtualmode)if(this.groupable&&0!=this.groups.length){if(this.groupable&&this.groups.length>0&&this.loadgrouprecords){if(void 0!=this._cachegrouppages[this.pagenum+"_"+this.pagesize])return this.rows=this._cachegrouppages[this.pagenum+"_"+this.pagesize],void(this.totalrows=this.rows.length);var h=this.pagesize*(1+this.pagenum);return h>this.totalrecords&&(h=this.totalrecords),this.loadgrouprecords(0,this.pagesize*this.pagenum,h,n,s,o,a,l,[]),this._cachegrouppages[this.pagenum+"_"+this.pagesize]=this.rows,void(this.totalrows=this.rows.length)}}else this.loadflatrecords(this.pagesize*this.pagenum,this.pagesize*(1+this.pagenum),n,s,o,a,l,[]),this.totalrows=a.length}else if(this.virtualmode&&(!this.groupable||0==this.groups.length)){var d=this.pagesize;0==d&&(d=Math.min(100,this.totalrecords));var c=d*this.pagenum;if(0==this.loadedrecords.length&&(c=0),null!=e&&null!=t?this.loadflatrecords(e,t,n,s,o,a,l,[]):this.loadflatrecords(this.pagesize*this.pagenum,this.pagesize*(1+this.pagenum),n,s,o,a,l,[]),this.totalrows=this.loadedrecords.length,this.rows=a,a.length>=d)return}if(this.groupable&&this.pageable&&this.groups.length>0&&this._updategroupsinpage)a=this._updategroupsinpage(i,n,r,s,l,this.pagesize*this.pagenum,this.pagesize*(1+this.pagenum));else for(var u=this.pagesize*this.pagenum;u<this.pagesize*(1+this.pagenum);u++){var p=u<this.loadedrecords.length?this.loadedrecords[u]:null;null!=p&&((!this.pagesize||r>=this.pagesize*this.pagenum&&r<=this.pagesize*(this.pagenum+1))&&(a[s]=p,s++),r++)}if((0==a.length||a.length<this.pagesize)&&!this.pageable&&this.virtualmode){s=a.length;for(var f=a.length,u=this.pagesize*this.pagenum;u<this.pagesize*(1+this.pagenum)-f;u++){var p={};p.boundindex=u+f,p.visibleindex=u+f,p.uniqueid=i.generatekey(),p.empty=!0,i.bounditems[u+f]=p,a[s]=p,s++}}this.rows=a},this.generatekey=function(){var e=function(){return 16*(1+Math.random())|0};return""+e()+e()+"-"+e()+"-"+e()+"-"+e()+"-"+e()+e()+e()},this.reloaddata=function(){this.reload(this.records,this.rows,this.filter,this.updated,!0)},this.refresh=function(t){if(!this.suspend){void 0==t&&(t=!0);var i=this.rows.length,r=this.totalrows;if(this.filters.length>0&&!this.virtualmode){var s="",a=this.cachedrecords.length,n=new Array;this.totalrecords=0;var o=this.cachedrecords;this._dataIndexToBoundIndex=new Array;var l=this.filters.length;if(null!=this.source&&void 0!=this.source.filter&&void 0!=this.source.localdata)n=this.source.filter(this.filters,o,a),void 0==n&&(n=new Array),this.records=n;else if(null==this.source.filter||void 0==this.source.filter){for(var h=0;a>h;h++){for(var d=o[h],c=void 0,u=0;l>u;u++){var s=this.filters[u].filter,p=d[this.filters[u].datafield],f=s.evaluate(p);if(this.grid.filter){var m=this.grid.filter(p,d,this.filters[u].datafield,s,f);void 0!==m&&(f=m)}c=void 0==c?f:"or"==s.operator?c||f:c&&f}c?(n[n.length]=e.extend({dataindex:h},d),this._dataIndexToBoundIndex[h]={boundindex:n.length-1}):this._dataIndexToBoundIndex[h]=null}this.records=n}if(this.sortdata){var g=this.sortfield;if(this.sortcache[g]){this.sortdata=null;var v=this.sortcache[g].direction;return this.sortcache[g]=null,void this.sortby(this.sortfield,v)}}}else if(0==this.filters.length&&!this.virtualmode&&this.cachedrecords){this.totalrecords=0;var o=this.cachedrecords;if(this.records=o,this.sortdata){var g=this.sortfield;if(this.sortcache[g]){this.sortdata=null;var v=this.sortcache[g].direction;return this.sortcache[g]=null,void this.sortby(this.sortfield,v)}}}var x=this.reload(this.records,this.rows,this.filter,this.updated,t);this.updated=null,null!=this.rowschangecallback&&(r!=totalrows&&this.rowschangecallback({type:"PagingChanged",data:getpagingdetails()}),i!=rows.length&&this.rowschangecallback({type:"RowsCountChanged",data:{previous:i,current:rows.length}}),(x.length>0||i!=rows.length)&&this.rowschangecallback({type:"RowsChanged",data:{previous:i,current:rows.length,diff:x}}))}},this}}(jqxBaseFramework),function(e){e.extend(e.jqx._jqxGrid.prototype,{_calculateaggregate:function(t,i,r,s){var a=t.aggregates;if(a||(a=i),a){for(var n=new Array,o=0;o<a.length;o++)"count"!=a[o]&&(n[n.length]=t.cellsformat);if(this.source&&this.source.getAggregatedData){if(void 0==s&&(s=this.getrows()),this.virtualmode){var s=new Array;e.each(this.source._source.records,function(){s.push(this)})}if(void 0==r||1==r){var l=this.source.getAggregatedData([{name:t.datafield,aggregates:a,formatStrings:n}],this.gridlocalization,s);return l}var l=this.source.getAggregatedData([{name:t.datafield,aggregates:a}],this.gridlocalization,s);return l}}return null},getcolumnaggregateddata:function(e,t,i,r){var s=this.getcolumn(e),a=void 0==i||0==i?!1:i;if(null==t)return"";var n=s.aggregates;s.aggregates=null;var o=this._calculateaggregate(s,t,a,r),l={};return o&&(l=o[e]),s.aggregates=n,l},refreshaggregates:function(){this._updatecolumnsaggregates()},renderaggregates:function(){this._updateaggregates()},_updatecolumnaggregates:function(t,i,r){var s=this;if(i)if(r.children().remove(),r.html(""),t.aggregatesrenderer){if(i){var a=t.aggregatesrenderer(i[t.datafield],t,r,this.getcolumnaggregateddata(t.datafield,i[t.datafield]));r.html(a)}}else e.each(i,function(){var t=this;for(n in t){var i=e('<div style="position: relative; margin: 4px; overflow: hidden;"></div>'),a=n;a=s._getaggregatename(a),i.html(a+":"+t[n]),s.rtl&&i.addClass(s.toThemeProperty("jqx-rtl")),r.append(i)}});else if(r.children().remove(),r.html(""),t.aggregatesrenderer){var n={};t.aggregates&&(n=this.getcolumnaggregateddata(t.datafield,t.aggregates));var a=t.aggregatesrenderer({},t,r,null);r.html(a)}},_getaggregatetype:function(e){switch(e){case"min":case"max":case"count":case"avg":case"product":case"var":case"varp":case"stdev":case"stdevp":case"sum":return e}var t=e;for(var i in e){t=i;break}return t},_getaggregatename:function(e){var t=e;switch(e){case"min":t="Min";break;case"max":t="Max";break;case"count":t="Count";break;case"avg":t="Avg";break;case"product":t="Product";break;case"var":t="Var";break;case"stdevp":t="StDevP";break;case"stdev":t="StDev";break;case"varp":t="VarP";case"sum":t="Sum"}if(e===t&&"string"!=typeof t)for(var i in e){t=i;break}return t},_updatecolumnsaggregates:function(){var t=this.getrows(),i=this.columns.records.length;if(void 0!=this.statusbar[0].cells)for(var r=0;i>r;r++){var s=e(this.statusbar[0].cells[r]),a=this.columns.records[r],n=this._calculateaggregate(a,null,!0,t);this._updatecolumnaggregates(a,n,s)}},_updateaggregates:function(){var t=e('<div style="position: relative;" id="statusrow'+this.element.id+'"></div>'),i=0,r=this.columns.records.length,s=this.toThemeProperty("jqx-grid-cell");this.rtl&&(s+=" "+this.toThemeProperty("jqx-grid-cell-rtl"),i=-1),s+=" "+this.toThemeProperty("jqx-grid-cell-pinned");var a=r+10,n=new Array;this.statusbar[0].cells=n;for(var o=this.getrows(),l=0;r>l;l++){var h=this.columns.records[l],d=this._calculateaggregate(h,h.aggregates,!0,o),c=h.width;c<h.minwidth&&(c=h.minwidth),c>h.maxwidth&&(c=h.maxwidth);var u=s;h.cellsalign&&(u+=" "+this.toThemeProperty("jqx-"+h.cellsalign+"-align"));var p=e('<div style="overflow: hidden; position: absolute; height: 100%;" class="'+u+'"></div>');t.append(p),p.css("left",i),this.rtl?p.css("z-index",a++):p.css("z-index",a--),p.width(c),p[0].left=i,h.hidden&&h.hideable?p.css("display","none"):i+=c,n[n.length]=p[0],this._updatecolumnaggregates(h,d,p)}e.jqx.browser.msie&&e.jqx.browser.version<8&&t.css("z-index",a--),t.width(parseFloat(i)+2),t.height(this.statusbarheight),this.statusbar.children().remove(),this.statusbar.append(t),this.statusbar.removeClass(this.toThemeProperty("jqx-widget-header")),this.statusbar.addClass(s),this.statusbar.css("border-bottom-color","transparent"),this.statusbar.css("border-top-width","1px"),this.rtl&&"hidden"!=this.hScrollBar.css("visibility")&&this._renderhorizontalscroll(),this._arrange()}})}(jqxBaseFramework),function(e){e.extend(e.jqx._jqxGrid.prototype,{selectallrows:function(){this._trigger=!1;var e=this.virtualmode?this.dataview.totalrecords:this.dataview.loadedrecords.length;this.selectedrowindexes=new Array;for(var t=this.dataview.loadedrecords,i=0;e>i;i++){var r=t[i];if(r){var s=this.getboundindex(r);void 0!=s&&(this.selectedrowindexes[i]=s)}else this.selectedrowindexes[i]=i}"checkbox"!=this.selectionmode||this._checkboxcolumnupdating||this._checkboxcolumn&&this._checkboxcolumn.checkboxelement.jqxCheckBox({checked:!0}),this._renderrows(this.virtualsizeinfo),this._trigger=!0,"checkbox"==this.selectionmode&&this._raiseEvent(2,{rowindex:this.selectedrowindexes})},unselectallrows:function(){this._trigger=!1;this.virtualmode?this.dataview.totalrecords:this.dataview.loadedrecords.length;this.selectedrowindexes=new Array,"checkbox"!=this.selectionmode||this._checkboxcolumnupdating||this._checkboxcolumn&&this._checkboxcolumn.checkboxelement.jqxCheckBox({checked:!1}),this._renderrows(this.virtualsizeinfo),this._trigger=!0,"checkbox"==this.selectionmode&&this._raiseEvent(2,{rowindex:this.selectedrowindexes})},selectrow:function(e,t){this._applyrowselection(e,!0,t),t!==!1&&this._updatecheckboxselection()},_updatecheckboxselection:function(){if("checkbox"==this.selectionmode){var e=this.getrows();if(e&&this._checkboxcolumn){if(0===e.length)return void this._checkboxcolumn.checkboxelement.jqxCheckBox({checked:!1});var t=e.length;this.groupable&&(t=this.dataview.loadedrecords.length),this.virtualmode&&(t=this.source._source.totalrecords);var i=this.selectedrowindexes.length;i===t?this._checkboxcolumn.checkboxelement.jqxCheckBox({checked:!0}):0===i?this._checkboxcolumn.checkboxelement.jqxCheckBox({checked:!1}):this._checkboxcolumn.checkboxelement.jqxCheckBox({checked:null})}}},unselectrow:function(e,t){this._applyrowselection(e,!1,t),t!==!1&&this._updatecheckboxselection()},selectcell:function(e,t){this._applycellselection(e,t,!0)},unselectcell:function(e,t){this._applycellselection(e,t,!1)},clearselection:function(e,t){if(this._trigger=!1,this.selectedrowindex=-1,this._oldselectedcell=null,t!==!1)for(var i=0;i<this.selectedrowindexes.length;i++)this._raiseEvent(3,{rowindex:this.selectedrowindexes[i]});return this.selectedrowindexes=new Array,this.selectedcells=new Array,this.selectedcell=null,"checkbox"!=this.selectionmode||this._checkboxcolumnupdating||this._checkboxcolumn.checkboxelement.jqxCheckBox({checked:!1}),!1===e?void(this._trigger=!0):(this._renderrows(this.virtualsizeinfo),this._trigger=!0,void("checkbox"==this.selectionmode&&this._raiseEvent(3,{rowindex:this.selectedrowindexes})))},getselectedrowindex:function(){if(-1==this.selectedrowindex||void 0==this.selectedrowindex)for(var e=0;e<this.selectedrowindexes.length;e++)return this.selectedrowindexes[e];return this.selectedrowindex},getselectedrowindexes:function(){return this.selectedrowindexes},getselectedcell:function(){if(!this.selectedcell)return null;var e=this.selectedcell;return e.row=this.selectedcell.rowindex,e.column=this.selectedcell.datafield,e.value=this.getcellvalue(e.row,e.column),e},getselectedcells:function(){var e=new Array;for(obj in this.selectedcells)e[e.length]=this.selectedcells[obj];return e},_getcellsforcopypaste:function(){var e=new Array;if(-1==this.selectionmode.indexOf("cell"))for(var t=this.selectedrowindexes,i=0;i<t.length;i++)for(var r=t[i],s=0;s<this.columns.records.length;s++)if("_checkboxcolumn"!==this.columns.records[s].datafield){
var a=(r+"_"+this.columns.records[s].datafield,{rowindex:r,datafield:this.columns.records[s].datafield});e.push(a)}return e},deleteselection:function(){var e=this,t=e.getselectedcells();if(-1==this.selectionmode.indexOf("cell")&&(t=this._getcellsforcopypaste()),null!=t&&t.length>0){for(var i=0;i<t.length;i++){var r=t[i],s=e.getcolumn(r.datafield),a=e.getcellvalue(r.rowindex,r.datafield);if(s&&""!==a){var n=null;"checkbox"==s.columntype&&(s.threestatecheckbox||(n=!1)),e._raiseEvent(17,{rowindex:r.rowindex,datafield:r.datafield,value:a}),i==t.length-1?(e.setcellvalue(r.rowindex,r.datafield,n,!0),s.displayfield!=s.datafield&&e.setcellvalue(r.rowindex,s.displayfield,n,!0)):(e.setcellvalue(r.rowindex,r.datafield,n,!1),s.displayfield!=s.datafield&&e.setcellvalue(r.rowindex,s.displayfield,n,!0)),e._raiseEvent(18,{rowindex:r.rowindex,datafield:r.datafield,oldvalue:a,value:n})}}this.dataview.updateview(),this._renderrows(this.virtualsizeinfo)}},copyselection:function(){var t="",i=this;this.clipboardselection={},this.logicalclipboardselection={},this._clipboardselection=[];var r=i.getselectedcells();-1==this.selectionmode.indexOf("cell")&&(r=this._getcellsforcopypaste());var s=new Array;if(null!=r&&r.length>0){for(var a=999999999999999,n=-1,o=0;o<r.length;o++){var l=r[o],h=i.getcolumn(l.datafield);if(null!=h&&h.clipboard&&(!h.hidden||this.copytoclipboardhiddencolumns)){-1==s.indexOf(h.text)&&s.push(h.text);var d=i.getcelltext(l.rowindex,h.displayfield),c=this.getrowdisplayindex(l.rowindex);this.clipboardselection[c]||(this.clipboardselection[c]={}),this.clipboardselection[c][h.displayfield]=d,this.logicalclipboardselection[c]||(this.logicalclipboardselection[c]={}),this.logicalclipboardselection[c][h.displayfield]=d,h.displayfield!=h.datafield&&(this.logicalclipboardselection[c][h.datafield]=i.getcellvalue(l.rowindex,h.datafield)),a=Math.min(a,c),n=Math.max(n,c)}}for(var u=new Array,p=a;n>=p;p++)if(this.logicalclipboardselection[p]){var f=e.extend({},this.logicalclipboardselection[p]);u.push(f)}if(this.logicalclipboardselection=u,this.copytoclipboardwithheaders){for(var m=0;m<s.length;m++)m>0&&(t+="	"),t+=s[m];t+="\r\n"}for(var p=a;n>=p;p++){var g=0;this._clipboardselection[this._clipboardselection.length]=new Array,void 0!=this.clipboardselection[p]&&(e.each(this.clipboardselection[p],function(e,r){g>0&&(t+="	");var s=r;null==r&&(s=""),i._clipboardselection[i._clipboardselection.length-1][g]=s,g++,t+=s}),n>p&&(t+="\r\n"))}}return this.clipboardselectedtext=t,t},pasteselection:function(){var e=this.getselectedcells();if(this._oldselectedcell=null,-1==this.selectionmode.indexOf("cell")&&(e=this._getcellsforcopypaste()),null!=e&&e.length>0){var t=e[0].rowindex,i=this.getrowdisplayindex(t),r=e[0].datafield,s=this._getcolumnindex(r);this.selectedrowindexes=new Array,this.selectedcells=new Array;var a=(e.length,0),n=new Array;this.copytoclipboardwithheaders&&this._clipboardselection.splice(0,1);for(var o=0;o<this._clipboardselection.length;o++){a+=this._clipboardselection[o].length,n[o]=new Array;for(var l=0;l<this._clipboardselection[o].length;l++){var h=this._clipboardselection[o][l];n[o].push(h)}}if(a<e.length){for(var d=new Array,o=0;o<e.length;o++){var c=e[o];d[c.rowindex]||(d[c.rowindex]=new Array),d[c.rowindex].push(c)}for(var u=0,p=0,o=0;o<d.length;o++)if(d[o]){for(var l=0;l<d[o].length;l++){var c=d[o][l],f=c.rowindex,m=this.getcolumn(c.datafield);if("_checkboxcolumn"!==m.datafield&&!m.hidden){var h="";if(void 0==n[u][p]&&(p=0),h=n[u][p],p++,m.cellsformat&&(-1!=m.cellsformat.indexOf("p")||-1!=m.cellsformat.indexOf("c")||-1!=m.cellsformat.indexOf("n")||-1!=m.cellsformat.indexOf("f"))){h.indexOf(this.gridlocalization.currencysymbol)>-1&&(h=h.replace(this.gridlocalization.currencysymbol,""));var g=function(e,t,i){var r=e;if(t==i)return e;for(var s=r.indexOf(t);-1!=s;)r=r.replace(t,i),s=r.indexOf(t);return r};h=g(h,this.gridlocalization.thousandsseparator,""),h=h.replace(this.gridlocalization.decimalseparator,"."),h.indexOf(this.gridlocalization.percentsymbol)>-1&&(h=h.replace(this.gridlocalization.percentsymbol,""));for(var v="",x=0;x<h.length;x++){var b=h.substring(x,x+1);"-"===b&&(v+="-"),"."===b&&(v+="."),null!=b.match(/^[0-9]+$/)&&(v+=b)}h=v,h=h.replace(/ /g,""),h=new Number(h),isNaN(h)&&(h="")}if(this._raiseEvent(17,{rowindex:f,datafield:c.datafield,value:h}),this.setcellvalue(f,m.displayfield,h,!1),m.displayfield!=m.datafield&&this.logicalclipboardselection&&this.logicalclipboardselection[f]){var w=this.logicalclipboardselection[f][m.datafield];void 0!=w&&this.setcellvalue(f,m.datafield,w,!1)}this._raiseEvent(18,{rowindex:f,datafield:c.datafield,oldvalue:this.getcellvalue(c.rowindex,c.datafield),value:h}),this._applycellselection(f,c.datafield,!0,!1)}}u++,p=0,n[u]||(u=0)}}else{if(!this._clipboardselection)return;for(var y=0;y<this._clipboardselection.length;y++)for(var _=0;_<this._clipboardselection[y].length;_++){var m=this.getcolumnat(s+_);if(m&&"_checkboxcolumn"!==m.datafield&&!m.hidden){var f=this.getrowboundindex(i+y),c=this.getcell(f,m.datafield),h=null;if(h=this._clipboardselection[y][_],null!=h){if(m.cellsformat&&(-1!=m.cellsformat.indexOf("p")||-1!=m.cellsformat.indexOf("c")||-1!=m.cellsformat.indexOf("n")||-1!=m.cellsformat.indexOf("f"))){h.indexOf(this.gridlocalization.currencysymbol)>-1&&(h=h.replace(this.gridlocalization.currencysymbol,""));var g=function(e,t,i){var r=e;if(t==i)return e;for(var s=r.indexOf(t);-1!=s;)r=r.replace(t,i),s=r.indexOf(t);return r};h=g(h,this.gridlocalization.thousandsseparator,""),h=h.replace(this.gridlocalization.decimalseparator,"."),h.indexOf(this.gridlocalization.percentsymbol)>-1&&(h=h.replace(this.gridlocalization.percentsymbol,""));for(var v="",x=0;x<h.length;x++){var b=h.substring(x,x+1);"-"===b&&(v+="-"),"."===b&&(v+="."),null!=b.match(/^[0-9]+$/)&&(v+=b)}h=v,h=h.replace(/ /g,""),h=new Number(h),isNaN(h)&&(h="")}if(this._raiseEvent(17,{rowindex:f,datafield:c.datafield,value:h}),this.setcellvalue(f,m.displayfield,h,!1),m.displayfield!=m.datafield&&this.logicalclipboardselection){var w=this.logicalclipboardselection[y][m.datafield];void 0!=w&&this.setcellvalue(f,m.datafield,w,!1)}this._raiseEvent(18,{rowindex:f,datafield:c.datafield,oldvalue:this.getcellvalue(c.rowindex,c.datafield),value:h}),this._applycellselection(f,c.datafield,!0,!1)}}}}"checkbox"==this.selectionmode&&this._updatecheckboxselection(),this.dataview.updateview(),this._renderrows(this.virtualsizeinfo)}this.clipboardend&&this.clipboardend("paste")},_applyrowselection:function(e,t,i,r,s){if(null==e)return!1;var a=this.selectedrowindex;if("singlerow"==this.selectionmode&&(t?this._raiseEvent(2,{rowindex:e,row:this.getrowdata(e)}):this._raiseEvent(3,{rowindex:e,row:this.getrowdata(e)}),this._raiseEvent(3,{rowindex:a}),this.selectedrowindexes=new Array,this.selectedcells=new Array),1==r&&(this.selectedrowindexes=new Array),this.dataview.filters.length>0){var n=this.getrowdata(e);n&&void 0!==n.dataindex?e=n.dataindex:n&&void 0===n.dataindex&&void 0!=n.uid&&(e=this.getrowboundindexbyid(n.uid))}var o=this.selectedrowindexes.indexOf(e);if(t)this.selectedrowindex=e,-1==o?(this.selectedrowindexes.push(e),"singlerow"!=this.selectionmode&&this._raiseEvent(2,{rowindex:e,row:this.getrowdata(e)})):"multiplerows"==this.selectionmode&&(this.selectedrowindexes.splice(o,1),this._raiseEvent(3,{rowindex:this.selectedrowindex,row:this.getrowdata(e)}),this.selectedrowindex=this.selectedrowindexes.length>0?this.selectedrowindexes[this.selectedrowindexes.length-1]:-1);else if(o>=0||"singlerow"==this.selectionmode||"multiplerowsextended"==this.selectionmode||"multiplerowsadvanced"==this.selectionmode){var l=this.selectedrowindexes[o];this.selectedrowindexes.splice(o,1),this._raiseEvent(3,{rowindex:l,row:this.getrowdata(e)}),this.selectedrowindex=-1}return(void 0==i||i)&&this._rendervisualrows(),!0},_applycellselection:function(e,t,i,r){if(null==e)return!1;if(null==t)return!1;this.selectedrowindex;if("singlecell"==this.selectionmode){var s=this.selectedcell;null!=s&&this._raiseEvent(16,{rowindex:s.rowindex,datafield:s.datafield}),this.selectedcells=new Array}if("multiplecellsextended"==this.selectionmode||"multiplecellsadvanced"==this.selectionmode){var s=this.selectedcell;null!=s&&this._raiseEvent(16,{rowindex:s.rowindex,datafield:s.datafield})}var a=e+"_"+t;if(this.dataview.filters.length>0){var n=this.getrowdata(e);if(n&&void 0!==n.dataindex){e=n.dataindex;var a=e+"_"+t}else if(n&&void 0===n.dataindex&&n.uid){e=this.getrowboundindexbyid(n.uid);var a=e+"_"+t}}var o={rowindex:e,datafield:t};return i?(this.selectedcell=o,this.selectedcells[a]?"multiplecells"!=this.selectionmode&&"multiplecellsextended"!=this.selectionmode&&"multiplecellsadvanced"!=this.selectionmode||(delete this.selectedcells[a],this.selectedcells.length>0&&this.selectedcells.length--,this._raiseEvent(16,o)):(this.selectedcells[a]=o,this.selectedcells.length++,this._raiseEvent(15,o))):(delete this.selectedcells[a],this.selectedcells.length>0&&this.selectedcells.length--,this._raiseEvent(16,o)),(void 0==r||r)&&this._rendervisualrows(),!0},_getcellindex:function(t){var i=-1;return e.each(this.selectedcells,function(){return i++,this[t]?!1:void 0}),i},_clearhoverstyle:function(){if(void 0!=this.hoveredrow&&-1!=this.hoveredrow&&!this.vScrollInstance.isScrolling()&&!this.hScrollInstance.isScrolling()){var e=this.table.find(".jqx-grid-cell-hover");e.length>0&&(e.removeClass(this.toTP("jqx-grid-cell-hover")),e.removeClass(this.toTP("jqx-fill-state-hover"))),this.hoveredrow=-1}},_clearselectstyle:function(){for(var t=this.table[0].rows.length,i=this.table[0].rows,r=this.toTP("jqx-grid-cell-selected"),s=this.toTP("jqx-fill-state-pressed"),a=this.toTP("jqx-grid-cell-hover"),n=this.toTP("jqx-fill-state-hover"),o=0;t>o;o++)for(var l=i[o],h=l.cells.length,d=l.cells,c=0;h>c;c++){var u=d[c],p=e(u);-1!=u.className.indexOf("jqx-grid-cell-selected")&&(p.removeClass(r),p.removeClass(s)),-1!=u.className.indexOf("jqx-grid-cell-hover")&&(p.removeClass(a),p.removeClass(n))}},_selectpath:function(e,t){var i=this,r=this._lastClickedCell?Math.min(this._lastClickedCell.row,e):0,s=this._lastClickedCell?Math.max(this._lastClickedCell.row,e):0;if(s>=r){var a=this._getcolumnindex(this._lastClickedCell.column),n=this._getcolumnindex(t),o=Math.min(a,n),l=Math.max(a,n);this.selectedcells=new Array;for(var h=this.dataview.loadedrecords,d=r;s>=d;d++)for(var c=o;l>=c;c++){var e=h[d];this._applycellselection(i.getboundindex(e),i._getcolumnat(c).datafield,!0,!1)}this._rendervisualrows()}},_selectrowpath:function(e){if("multiplerowsextended"==this.selectionmode){var t=this._lastClickedCell?Math.min(this._lastClickedCell.row,e):0,i=this._lastClickedCell?Math.max(this._lastClickedCell.row,e):0,r=this.dataview.loadedrecords;if(i>=t){this.selectedrowindexes=new Array;for(var s=t;i>=s;s++){var e=r[s],a=this.getrowboundindex(s);this._applyrowselection(a,!0,!1)}this._rendervisualrows()}}},_selectrowwithmouse:function(e,t,i,r,s,a){var n=t.row;if(void 0!=n){var o=t.index;if(void 0!=this.hittestinfo[o]){var l=this.hittestinfo[o].visualrow;if(!this.hittestinfo[o].details){l.cells[0].className;if(!n.group){if("multiplerows"==this.selectionmode||"multiplecells"==this.selectionmode||"checkbox"==this.selectionmode||-1!=this.selectionmode.indexOf("multiple")&&(1==a||1==s)){var h=this.getboundindex(n);if(this.dataview.filters.length>0){var d=this.getrowdata(h);if(d&&(h=d.dataindex,void 0==h))var h=this.getboundindex(n)}var c=-1!=i.indexOf(h),u=this.getboundindex(n)+"_"+r;if(-1!=this.selectionmode.indexOf("cell")){var p=void 0!=this.selectedcells[u];if(void 0!=this.selectedcells[u]&&p?this._selectcellwithstyle(e,!1,o,r,l):this._selectcellwithstyle(e,!0,o,r,l),a&&void 0==this._lastClickedCell){var f=this.getselectedcells();f&&f.length>0&&(this._lastClickedCell={row:f[0].rowindex,column:f[0].datafield})}a&&this._lastClickedCell&&(this._selectpath(n.visibleindex,r),this.mousecaptured=!1,"visible"==this.selectionarea.css("visibility")&&this.selectionarea.css("visibility","hidden"))}else{if(c?s?this._applyrowselection(this.getboundindex(n),!1):this._selectrowwithstyle(e,l,!1,r):this._selectrowwithstyle(e,l,!0,r),a&&void 0==this._lastClickedCell){var m=this.getselectedrowindexes();m&&m.length>0&&(this._lastClickedCell={row:m[0],column:r})}if(a&&this._lastClickedCell){this.selectedrowindexes=new Array;for(var g=this._lastClickedCell?Math.min(this._lastClickedCell.row,n.visibleindex):0,v=this._lastClickedCell?Math.max(this._lastClickedCell.row,n.visibleindex):0,x=this.dataview.loadedrecords,b=g;v>=b;b++){var n=x[b];n&&this._applyrowselection(this.getboundindex(n),!0,!1,!1)}this._rendervisualrows()}}}else this._clearselectstyle(),this._selectrowwithstyle(e,l,!0,r),-1!=this.selectionmode.indexOf("cell")&&this._selectcellwithstyle(e,!0,o,r,l);a||(this._lastClickedCell={row:n.visibleindex,column:r})}}}}},_selectcellwithstyle:function(t,i,r,s,a){var n=e(a.cells[t._getcolumnindex(s)]);n.removeClass(this.toTP("jqx-grid-cell-hover")),n.removeClass(this.toTP("jqx-fill-state-hover")),i?(n.addClass(this.toTP("jqx-grid-cell-selected")),n.addClass(this.toTP("jqx-fill-state-pressed"))):(n.removeClass(this.toTP("jqx-grid-cell-selected")),n.removeClass(this.toTP("jqx-fill-state-pressed")))},_selectrowwithstyle:function(t,i,r,s){var a=i.cells.length,n=0;t.rowdetails&&t.showrowdetailscolumn?this.rtl?(a-=1,a-=this.groups.length):n=1+this.groups.length:this.groupable&&(this.rtl?a-=this.groups.length:n=this.groups.length);for(var o=n;a>o;o++){var l=i.cells[o];r?(e(l).removeClass(this.toTP("jqx-grid-cell-hover")),e(l).removeClass(this.toTP("jqx-fill-state-hover")),-1==t.selectionmode.indexOf("cell")&&(e(l).addClass(this.toTP("jqx-grid-cell-selected")),e(l).addClass(this.toTP("jqx-fill-state-pressed")))):(e(l).removeClass(this.toTP("jqx-grid-cell-hover")),e(l).removeClass(this.toTP("jqx-grid-cell-selected")),e(l).removeClass(this.toTP("jqx-fill-state-hover")),e(l).removeClass(this.toTP("jqx-fill-state-pressed")))}},_handlemousemoveselection:function(t,i){if(i.hScrollInstance.isScrolling()||i.vScrollInstance.isScrolling())return!1;if(("multiplerowsextended"==i.selectionmode||"multiplecellsextended"==i.selectionmode||"multiplecellsadvanced"==i.selectionmode)&&i.mousecaptured){if(i.multipleselectionbegins){var r=i.multipleselectionbegins(t);if(r===!1)return!0}var s=this.showheader?this.columnsheader.height()+2:0,a=this._groupsheader()?this.groupsheader.height():0,n=this.showtoolbar?this.toolbar.height():0;a+=n;var o=this.host.coord();if(this.hasTransform){o=e.jqx.utilities.getOffset(this.host);var l=this._getBodyOffset();o.left-=l.left,o.top-=l.top}"0px"===this.host.css("border-top-width")&&(a-=2);var h=t.pageX,d=t.pageY-a;if(Math.abs(this.mousecaptureposition.left-h)>3||Math.abs(this.mousecaptureposition.top-d)>3){var c=parseInt(this.columnsheader.coord().top);this.hasTransform&&(c=e.jqx.utilities.getOffset(this.columnsheader).top),h<o.left&&(h=o.left),h>o.left+this.host.width()&&(h=o.left+this.host.width());var u=o.top+s;u>d&&(d=u+5);var p=parseInt(Math.min(i.mousecaptureposition.left,h)),f=-5+parseInt(Math.min(i.mousecaptureposition.top,d)),m=parseFloat(Math.abs(i.mousecaptureposition.left-h)),g=parseInt(Math.abs(i.mousecaptureposition.top-d));if(p-=o.left,f-=o.top,this.selectionarea.css("visibility","visible"),"multiplecellsadvanced"==i.selectionmode){var h=p,v=h+m,x=i.hScrollInstance,b=x.value;this.rtl&&("hidden"!=this.hScrollBar.css("visibility")&&(b=x.max-x.value),"hidden"!=this.vScrollBar[0].style.visibility);var w=i.table[0].rows[0],y=0,_=i.mousecaptureposition.clickedcell,j=_,q=!1,T=0,S=w.cells.length;i.mousecaptureposition.left<=t.pageX&&(T=_);for(var C=!1,I=T;S>I;I++){var k=parseFloat(e(this.columnsrow[0].cells[I]).css("left")),D=k-b;if(!i.columns.records[I].pinned||i.columns.records[I].hidden){if(C){q=!0,j--;break}var M=this._getcolumnat(I);if(!(null!=M&&M.hidden||i.groupable&&i.groups.length>0&&I<i.groups.length)){var P=D+e(this.columnsrow[0].cells[I]).width();if(i.mousecaptureposition.left>t.pageX){if(P>=h&&h>=D){j=I,q=!0;break}}else if(P>=v&&v>=D){j=I,q=!0;break}}}else{I==_&&(C=!0);var P=k+e(this.columnsrow[0].cells[I]).width();if(i.mousecaptureposition.left>t.pageX){if(P>=h&&h>=D){j=I,q=!0;break}}else if(P>=v&&v>=D){j=I,q=!0;break}}}q||(i.mousecaptureposition.left>t.pageX?e.each(this.columns.records,function(e,t){return i.groupable&&i.groups.length>0&&e<i.groups.length?!0:this.pinned||this.hidden?void 0:(j=e,!1)}):(!i.groupable||i.groupable&&!i.groups.length>0)&&(j=w.cells.length-1));var N=_;_=Math.min(_,j),j=Math.max(N,j),f+=5,f+=a;for(var B=(i.table[0].rows.indexOf(i.mousecaptureposition.clickedrow),0),O=-1,E=-1,A=0,I=0;I<i.table[0].rows.length;I++){var H=e(i.table[0].rows[I]);0==I&&(A=H.coord().top);var z=H.height(),L=A-o.top;if(-1==O&&L+z>=f){for(var F=!1,R=0;R<i.groups.length;R++){var V=H[0].cells[R].className;if(-1!=V.indexOf("jqx-grid-group-collapse")||-1!=V.indexOf("jqx-grid-group-expand")){F=!0;break}}if(F)continue;O=I}if(A+=z,i.groupable&&i.groups.length>0){for(var F=!1,R=0;R<i.groups.length;R++){var V=H[0].cells[R].className;if(-1!=V.indexOf("jqx-grid-group-collapse")||-1!=V.indexOf("jqx-grid-group-expand")){F=!0;break}}if(F)continue;for(var y=0,W=i.groups.length;W<H[0].cells.length;W++){var G=H[0].cells[W];""==e(G).html()&&y++}if(y==H[0].cells.length-i.groups.length)continue}if(-1!=O&&(B+=z),L+z>f+g){E=I;break}}if(-1!=O){f=e(i.table[0].rows[O]).coord().top-o.top-a-2;var U=0;this.filterable&&this.showfilterrow&&(U=this.filterrowheight),parseFloat(i.table[0].style.top)<0&&f<this.rowsheight+U&&(f-=parseFloat(i.table[0].style.top),B+=parseFloat(i.table[0].style.top)),g=B;var Y=e(this.columnsrow[0].cells[_]),X=e(this.columnsrow[0].cells[j]);if(p=parseFloat(Y.css("left")),m=parseFloat(X.css("left"))-parseFloat(p)+X.width()-2,p-=b,C&&(p+=b),i.editcell&&i.editable&&i.endcelledit&&(_!=j||O!=E)){if(0==i.editcell.validated)return;i.endcelledit(i.editcell.row,i.editcell.column,!0,!0)}}}this.selectionarea.width(m),this.selectionarea.height(g),this.selectionarea.css("left",p),this.selectionarea.css("top",f)}}},_handlemouseupselection:function(t,i){if(this.selectionarea){if("visible"!=this.selectionarea[0].style.visibility)return i.mousecaptured=!1,!0;if(i.mousecaptured&&("multiplerowsextended"==i.selectionmode||"multiplerowsadvanced"==i.selectionmode||"multiplecellsextended"==i.selectionmode||"multiplecellsadvanced"==i.selectionmode)&&(i.mousecaptured=!1,"visible"==this.selectionarea.css("visibility"))){this.selectionarea.css("visibility","hidden");var r=this.showheader?this.columnsheader.height()+2:0,s=this._groupsheader()?this.groupsheader.height():0;"0px"===this.host.css("border-top-width")&&(s-=2);var a=this.showtoolbar?this.toolbar.height():0;s+=a;var n=this.selectionarea.coord(),o=this.host.coord();this.hasTransform&&(o=e.jqx.utilities.getOffset(this.host),n=e.jqx.utilities.getOffset(this.selectionarea)),"0px"===this.host.css("border-top-width")&&(s-=2);var l=n.left-o.left,h=n.top-r-o.top-s,d=h,c=l+this.selectionarea.width(),u=l,p=new Array,f=new Array;if("multiplerowsextended"==i.selectionmode){for(;h<d+this.selectionarea.height();){var m=this._hittestrow(l,h),g=m.row,v=m.index;-1!=v&&(f[v]||(f[v]=!0,p[p.length]=m)),h+=20}var d=0;e.each(p,function(){var e=this.row;"none"!=i.selectionmode&&i._selectrowwithmouse&&(t.ctrlKey||t.metaKey?i._applyrowselection(i.getboundindex(e),!0,!1,!1):0==d?i._applyrowselection(i.getboundindex(e),!0,!1,!0):i._applyrowselection(i.getboundindex(e),!0,!1,!1),d++)})}else{"multiplecellsadvanced"==i.selectionmode&&(h+=2);var x=i.hScrollInstance,b=x.value;this.rtl&&("hidden"!=this.hScrollBar.css("visibility")&&(b=x.max-x.value),"hidden"!=this.vScrollBar[0].style.visibility&&(b-=this.scrollbarsize+4));var w=i.table[0].rows[0],y=i.selectionarea.height();!t.ctrlKey&&!t.metaKey&&y>0&&(i.selectedcells=new Array);for(var _=y;d+_>h;){var m=i._hittestrow(l,h);if(m){var g=m.row,v=m.index;if(-1!=v&&!f[v]){f[v]=!0;for(var j=0;j<w.cells.length;j++){var q=parseFloat(e(i.columnsrow[0].cells[j]).css("left"))-b,T=q+e(i.columnsrow[0].cells[j]).width();(u>=q&&T>=u||c>=q&&T>=c||q>=u&&c>=q)&&i._applycellselection(i.getboundindex(g),i._getcolumnat(j).datafield,!0,!1)}}h+=5}else h+=5}}i.autosavestate&&i.savestate&&i.savestate(),i._renderrows(i.virtualsizeinfo)}}},selectprevcell:function(e,t){var i=this._getcolumnindex(t),r=(this.columns.records.length,this._getprevvisiblecolumn(i));null!=r&&(this.clearselection(),this.selectcell(e,r.datafield))},selectnextcell:function(e,t){var i=this._getcolumnindex(t),r=(this.columns.records.length,this._getnextvisiblecolumn(i));null!=r&&(this.clearselection(),this.selectcell(e,r.datafield))},_getfirstvisiblecolumn:function(){for(var e=this.columns.records.length,t=0;e>t;t++){var i=this.columns.records[t];if(!i.hidden&&null!=i.datafield)return i}return null},_getlastvisiblecolumn:function(){for(var e=this.columns.records.length,t=e-1;t>=0;t--){var i=this.columns.records[t];if(!i.hidden&&null!=i.datafield)return i}return null},_handlekeydown:function(t,i){if(i.groupable&&i.groups.length>0,i.disabled)return!1;var r=t.charCode?t.charCode:t.keyCode?t.keyCode:0;if(i.editcell&&"multiplecellsadvanced"!=i.selectionmode)return!0;if(i.editcell&&"multiplecellsadvanced"==i.selectionmode){if(!(r>=33&&40>=r))return!0;if(t.altKey)return i._cancelkeydown=!1,!0;if(void 0!=i._cancelkeydown&&0!=i._cancelkeydown)return i._cancelkeydown=!1,!0;if("selectedrow"===i.editmode)return!0;if(i.endcelledit(i.editcell.row,i.editcell.column,!1,!0),i._cancelkeydown=!1,i.editcell&&!i.editcell.validated)return i._rendervisualrows(),i.endcelledit(i.editcell.row,i.editcell.column,!1,!0),!1}if("none"==i.selectionmode)return!0;if(i.showfilterrow&&i.filterable&&this.filterrow&&e(t.target).ischildof(i.filterrow))return!0;if(i.showeverpresentrow){if(i.addnewrowtop&&e(t.target).ischildof(i.addnewrowtop))return!0;if(i.addnewrowbottom&&e(t.target).ischildof(i.addnewrowbottom))return!0}if(t.target.className&&t.target.className.indexOf("jqx-grid-widget")>=0)return!0;if(i.pageable&&e(t.target).ischildof(this.pager))return!0;if(this.showtoolbar&&e(t.target).ischildof(this.toolbar))return!0;if(this.showstatusbar&&e(t.target).ischildof(this.statusbar))return!0;var s=!1;if(t.altKey)return!0;if((t.ctrlKey||t.metaKey)&&this.clipboard){var a=String.fromCharCode(r).toLowerCase();if(this.clipboardbegin){var n=null;if("c"==a?n=this.clipboardbegin("copy",this.copyselection()):"x"==a?n=this.clipboardbegin("cut",this.copyselection()):"v"==a&&(n=this.clipboardbegin("paste")),n===!1)return!1}if("c"==a||"x"==a){var o=this.copyselection();if("c"==a&&this.clipboardend&&this.clipboardend("copy"),"x"==a&&this.clipboardend&&this.clipboardend("cut"),window.clipboardData)window.clipboardData.setData("Text",o);else{var l=e('<textarea style="position: absolute; left: -1000px; top: -1000px;"/>');l.val(o),e("body").append(l),l.select(),setTimeout(function(){document.designMode="off",l.select(),l.remove(),i.focus()},100)}if("c"==a&&e.jqx.browser.msie)return!1;if("c"==a)return!0}else if("v"==a){var h=e('<textarea style="position: absolute; left: -1000px; top: -1000px;"/>');e("body").append(h),h.select();var d=this;return setTimeout(function(){d._clipboardselection=new Array;var e=h.val();if(0==e.length&&window.clipboardData){h.val(window.clipboardData.getData("Text"));var e=h.val()}for(var t=e.split("\n"),i=0;i<t.length;i++)if(t[i].split("	").length>0){var r=t[i].split("	");if(1==r.length&&i==t.length-1&&""==r[0])continue;r.length>0&&d._clipboardselection.push(r)}d.pasteselection(),h.remove(),d.focus()},100),!0}if("x"==a)return this.deleteselection(),this.host.focus(),!1}var c=Math.round(i._gettableheight()),u=Math.round(c/i.rowsheight),p=i.getdatainformation();switch(i.selectionmode){case"singlecell":case"multiplecells":case"multiplecellsextended":case"multiplecellsadvanced":var f=i.getselectedcell();if(null!=f){var m=this.getrowvisibleindex(f.rowindex),g=m,v=f.datafield,x=i._getcolumnindex(v),b=(i.columns.records.length,function(e,r,a,n){var o=function(e,t){var r=i.dataview.loadedrecords[e];if(i.groupable&&i.groups.length>0){var o=e;"up"==n&&o++,"down"==n&&o--;for(var r=i.getdisplayrows()[o],l=function(e){return e.group?i.expandedgroups[e.uniqueid]?i.expandedgroups[e.uniqueid].expanded:void 0:!1},h=1,d=!0;d&&300>h&&(d=!1,"down"==n?r=i.getdisplayrows()[o+h]:"up"==n&&(r=i.getdisplayrows()[o-h]),r);){r&&r.group&&(d=!0);for(var c=r.parentItem;c;)c&&!l(c)&&(d=!0),c=c.parentItem;if(!d)break;h++}if(300==h&&(r=null),i.pageable){var u=!1;if(r){for(var p=0;p<i.dataview.rows.length;p++)i.dataview.rows[p].boundindex==r.boundindex&&(u=!0);u||(r=null)}}}if(void 0!=r&&null!=t){(a||void 0==a)&&i.clearselection();var f=i.getboundindex(r);return i.selectcell(f,t),i._oldselectedcell=i.selectedcell,s=!0,i.ensurecellvisible(e,t),!0}return!1};o(e,r)||(i.ensurecellvisible(e,r),o(e,r),i.virtualmode&&i.host.focus());var l=i.groupable&&i.groups.length>0;if(!l)if(t.shiftKey&&9!=t.keyCode){if(("multiplecellsextended"==i.selectionmode||"multiplecellsadvanced"==i.selectionmode)&&i._lastClickedCell){i._selectpath(e,r);var h=i.dataview.loadedrecords[e],d=i.getboundindex(h);return void(i.selectedcell={rowindex:d,datafield:r})}}else t.shiftKey||(i._lastClickedCell={row:e,column:r})}),w=t.shiftKey&&"singlecell"!=i.selectionmode&&"multiplecells"!=i.selectionmode,y=function(){b(0,v,!w)},_=function(){var e=p.rowscount-1;b(e,v,!w)},j=9==r&&!t.shiftKey,q=9==r&&t.shiftKey;if(i.rtl){var T=j;j=q,q=T}if((j||q)&&(w=!1),(j||q)&&document.activeElement&&document.activeElement.className&&document.activeElement.className.indexOf("jqx-grid-cell-add-new-row")>=0)return!0;var S=t.ctrlKey||t.metaKey;if(S&&37==r){var C=i._getfirstvisiblecolumn(x);null!=C&&b(g,C.datafield)}else if(S&&39==r){var I=i._getlastvisiblecolumn(x);null!=I&&b(g,I.datafield)}else if(39==r||j){var k=i._getnextvisiblecolumn(x);if(null!=k)b(g,k.datafield,!w);else if(j){var D=i._getfirstvisiblecolumn();r=40,v=D.displayfield}else s=!0}else if(37==r||q){var C=i._getprevvisiblecolumn(x);if(null!=C)b(g,C.datafield,!w);else if(q){var M=i._getlastvisiblecolumn();r=38,v=M.displayfield}else s=!0}else if(36==r)y();else if(35==r)_();else if(33==r)if(g-u>=0){var P=g-u;b(P,v,!w)}else y();else if(34==r)if(p.rowscount>g+u){var P=g+u;b(P,v,!w)}else _();38==r&&(S?y():g>0?b(g-1,v,!w,"up"):s=!0),40==r&&(S?_():p.rowscount>g+1||i.groupable&&i.groups.length>0?b(g+1,v,!w,"down"):s=!0)}break;case"singlerow":case"multiplerows":case"multiplerowsextended":case"multiplerowsadvanced":var g=i.getselectedrowindex();if(null==g||-1==g)return!0;g=this.getrowvisibleindex(g);var N=function(e,a,n){var o=function(e){var t=i.dataview.loadedrecords[e];if(i.groupable&&i.groups.length>0){"up"==n&&e++,"down"==n&&e--;for(var t=i.getdisplayrows()[e],r=function(e){return e.group?i.expandedgroups[e.uniqueid]?i.expandedgroups[e.uniqueid].expanded:void 0:!1},o=1,l=!0;l&&300>o&&(l=!1,"down"==n?t=i.getdisplayrows()[e+o]:"up"==n&&(t=i.getdisplayrows()[e-o]),t);){t&&t.group&&(l=!0);for(var h=t.parentItem;h;)h&&!r(h)&&(l=!0),h=h.parentItem;if(!l)break;o++}if(300==o&&(t=null),i.pageable){var d=!1;if(t){for(var c=0;c<i.dataview.rows.length;c++)i.dataview.rows[c].boundindex==t.boundindex&&(d=!0);d||(t=null)}}}if(void 0!=t){var u=i.getboundindex(t),p=i.selectedrowindex;(a||void 0==a)&&i.clearselection(),i.selectedrowindex=p,i.selectrow(u,!1);var f=i.ensurerowvisible(e);return(!f||i.autoheight||i.groupable)&&i._rendervisualrows(),s=!0,!0}return!1};o(e)||(i.ensurerowvisible(e),o(e,a),i.virtualmode&&setTimeout(function(){o(e,a)},25),i.virtualmode&&i.host.focus());var l=i.groupable&&i.groups.length>0;if(!l)if(t.shiftKey&&9!=r){if("multiplerowsextended"==i.selectionmode&&i._lastClickedCell)return i._selectrowpath(e),void(i.selectedrowindex=i.getrowboundindex(e))}else t.shiftKey||(i._lastClickedCell={row:e},i.selectedrowindex=i.getrowboundindex(e))},w=t.shiftKey&&"singlerow"!=i.selectionmode&&"multiplerows"!=i.selectionmode,y=function(){N(0,!w)},_=function(){var e=p.rowscount-1;N(e,!w)},S=t.ctrlKey||t.metaKey;if(36==r||S&&38==r)y();else if(35==r||S&&40==r)_();else if(33==r)if(g-u>=0){var P=g-u;N(P,!w)}else y();else if(34==r)if(p.rowscount>g+u){var P=g+u;N(P,!w)}else _();else 38==r?g>0?N(g-1,!w,"up"):s=!0:40==r&&(p.rowscount>g+1||i.groupable&&i.groups.length>0?N(g+1,!w,"down"):s=!0)}return s?(i.autosavestate&&i.savestate&&i.savestate(),!1):!0},_handlemousemove:function(t,i){if(!i.vScrollInstance.isScrolling()&&!i.hScrollInstance.isScrolling()){var r,s,a,n,o;if(i.enablehover||"multiplerows"==i.selectionmode){r=this.showheader?this.columnsheader.height()+2:0,s=this._groupsheader()?this.groupsheader.height():0;var l=this.showtoolbar?this.toolbarheight:0;if(s+=l,a=this.host.coord(),this.hasTransform){a=e.jqx.utilities.getOffset(this.host);var h=this._getBodyOffset();a.left-=h.left,a.top-=h.top}n=t.pageX-a.left,o=t.pageY-r-a.top-s}if("multiplerowsextended"!=i.selectionmode&&"multiplecellsextended"!=i.selectionmode&&"multiplecellsadvanced"!=i.selectionmode||1!=i.mousecaptured){if(!i.enablehover)return!0;if(!i.disabled&&!this.vScrollInstance.isScrolling()&&!this.hScrollInstance.isScrolling()){var d=this._hittestrow(n,o);if(d){var c=d.row,u=d.index;if((-1==this.hoveredrow||-1==u||this.hoveredrow!=u||-1!=this.selectionmode.indexOf("cell")||"checkbox"==this.selectionmode)&&(this._clearhoverstyle(),-1!=u&&void 0!=c)){var p=this.hittestinfo[u].visualrow;if(null!=p&&!(this.hittestinfo[u].details||t.clientX>e(p).width()+e(p).coord().left)){var f=0,m=p.cells.length;if(i.rowdetails&&i.showrowdetailscolumn?this.rtl?(m-=1,m-=this.groups.length):f=1+this.groups.length:this.groupable&&(this.rtl?m-=this.groups.length:f=this.groups.length),0!=p.cells.length){var g=p.cells[f].className;if(!(c.group||this.selectionmode.indexOf("row")>=0&&-1!=g.indexOf("jqx-grid-cell-selected")))if(this.hoveredrow=u,-1==this.selectionmode.indexOf("cell")&&"checkbox"!=this.selectionmode)for(var v=f;m>v;v++){var x=p.cells[v];e(x).addClass(this.toTP("jqx-grid-cell-hover")),e(x).addClass(this.toTP("jqx-fill-state-hover")),this.cellhover&&this.cellhover(x,t.pageX,t.pageY)}else{var b=-1,w=this.hScrollInstance,y=w.value;this.rtl&&"hidden"!=this.hScrollBar.css("visibility")&&(y=w.max-w.value);for(var v=f;m>v;v++){var _=parseInt(e(this.columnsrow[0].cells[v]).css("left"))-y;this.columns.records[v].pinned&&!this.rtl&&(_=parseInt(e(this.columnsrow[0].cells[v]).css("left")));var j=_+e(this.columnsrow[0].cells[v]).width();if(j>=n&&n>=_){b=v;break}}if(-1!=b){var x=p.cells[b];if(this.cellhover&&this.cellhover(x,t.pageX,t.pageY),-1==x.className.indexOf("jqx-grid-cell-selected")){if(this.editcell){var q=this._getcolumnat(b);if(q&&this.editcell.row==u&&this.editcell.column==q.datafield)return}e(x).addClass(this.toTP("jqx-grid-cell-hover")),e(x).addClass(this.toTP("jqx-fill-state-hover"))}}}}}}}}}}}})}(jqxBaseFramework),function(e){e.extend(e.jqx._jqxGrid.prototype,{autoresizecolumns:function(t,i){"cells"!=t&&"all"!=t&&"column"!=t&&(t="all");var r=this.that,s=this.getrows();this.pageable&&(s=this.dataview.rows,this.groupable&&(s=this.dataview.records)),i=void 0==i?0:parseInt(i);var a=s.length;if(void 0==a&&void 0!=s){var n=new Array;e.each(s,function(e){n.push(this)}),s=n,a=s.length}var o=e("<span></span>");o.addClass(this.toThemeProperty("jqx-widget")),o.addClass(this.toThemeProperty("jqx-grid-cell")),e(document.body).append(o);var l=[],h=[],d=[],c=[],u=r.host.width();"hidden"!=r.vScrollBar[0].style.visibility&&(u-=this.scrollbarsize+5),0>u&&(u=0);for(var p=0;a>p;p++)for(var f=s[p],m=0;m<this.columns.records.length;m++){var g=this.columns.records[m];if(!(g.hidden||this.groups.length>0&&m<=this.groups.length-1)){void 0==h[g.displayfield]&&(h[g.displayfield]=0),void 0==d[g.displayfield]&&(d[g.displayfield]="");var v=f[g.displayfield];if(""!=g.cellsformat)e.jqx.dataFormat&&(e.jqx.dataFormat.isDate(v)?v=e.jqx.dataFormat.formatdate(v,g.cellsformat,this.gridlocalization):e.jqx.dataFormat.isNumber(v)&&(v=e.jqx.dataFormat.formatnumber(v,g.cellsformat,this.gridlocalization)));else if(g.cellsrenderer){var x=r._defaultcellsrenderer(v,g),b=g.cellsrenderer(p,g.datafield,v,x,g.getcolumnproperties(),f);
void 0!=b&&(v=e(b).text())}if((void 0==t||"cells"==t||"all"==t)&&null!=v){var l=v.toString().length,w=v.toString(),y=w.replace(/[^A-Z]/g,"").length;if(l>h[g.displayfield]&&(h[g.displayfield]=l,d[g.displayfield]=v,c[g.displayfield]=y),l>0&&l>=y){var _=20*y+15*(l-y),j=20*c[g.displayfield]+15*(h[g.displayfield]-c[g.displayfield]);_>j&&_>0&&j>0&&(h[g.displayfield]=l,d[g.displayfield]=v,c[g.displayfield]=y)}}if("column"==t||"all"==t){if(g.text.toString().length>h[g.displayfield]){d[g.displayfield]=g.text,h[g.displayfield]=g.text.length;var w=g.text.toString(),y=w.replace(/[^A-Z]/g,"").length;c[g.displayfield]=y}var v=g.text,l=v.toString().length,w=v.toString(),y=w.replace(/[^A-Z]/g,"").length;if(l>0&&l>=y){var _=20*y+15*(l-y),j=20*c[g.displayfield]+15*(h[g.displayfield]-c[g.displayfield]);_>j&&_>0&&j>0&&(h[g.displayfield]=l,d[g.displayfield]=v,c[g.displayfield]=y)}}}}if(this.columns.records){for(var m=0;m<this.columns.records.length;m++){var g=this.columns.records[m];if(g.displayfield){void 0==d[g.displayfield]&&(d[g.displayfield]=g.text),o[0].className.indexOf("jqx-grid-column-header")>=0&&o.removeClass(this.toThemeProperty("jqx-grid-column-header")),d[g.displayfield]==g.text&&o.addClass(this.toThemeProperty("jqx-grid-column-header")),o[0].innerHTML=d[g.displayfield].toString();var q=o.outerWidth()+10;if(o.children().length>0&&(q=o.children().outerWidth()+10),e.jqx.browser.msie&&e.jqx.browser.version<8&&(q+=10),this.filterable&&this.showfilterrow&&(q+=5),q+=i,q>g.maxwidth&&(q=g.maxwidth),void 0!=g._width&&(g.__width=g._width),g._width=null,"auto"==g.maxwidth||q<=g.maxwidth){var T=g.width;q<g.minwidth&&(q=g.minwidth),g.width=q,void 0!=g._percentagewidth&&(g._percentagewidth=null),this._raiseEvent(14,{columntext:g.text,column:g.getcolumnproperties(),datafield:g.datafield,displayfield:g.displayfield,oldwidth:T,newwidth:q})}}}o.remove(),this._updatecolumnwidths(),this._updatecellwidths(),this._renderrows(this.virtualsizeinfo);for(var m=0;m<this.columns.records.length;m++){var g=this.columns.records[m];void 0!=g.__width&&(g._width=g.__width)}}},autoresizecolumn:function(t,i,r){if("cells"!=i&&"all"!=i&&"column"!=i&&(i="all"),void 0==t)return!1;var s=this.getrows();this.pageable&&(s=this.dataview.rows,this.groupable&&(s=this.dataview.records));var a=this.getcolumn(t);if(void 0==a)return!1;r=void 0==r?0:parseInt(r);var n=s.length,o=e("<span></span>");o.addClass(this.toThemeProperty("jqx-widget")),o.addClass(this.toThemeProperty("jqx-grid-cell")),e(document.body).append(o);var l=0,h="",d=0,c=this.that,u=c.host.width();if("hidden"!=c.vScrollBar[0].style.visibility&&(u-=this.scrollbarsize+5),0>u&&(u=0),void 0==i||"cells"==i||"all"==i)for(var p=0;n>p;p++){var f=s[p][a.displayfield];if(""!=a.cellsformat)e.jqx.dataFormat&&(e.jqx.dataFormat.isDate(f)?f=e.jqx.dataFormat.formatdate(f,a.cellsformat,this.gridlocalization):e.jqx.dataFormat.isNumber(f)&&(f=e.jqx.dataFormat.formatnumber(f,a.cellsformat,this.gridlocalization)));else if(a.cellsrenderer){var m=a.cellsrenderer(p,a,f);void 0!=m&&(f=e(m).text())}if(null!=f){var g=f.toString().length,v=f.toString(),x=v.replace(/[^A-Z]/g,"").length;if(g>l&&(l=g,h=f,d=x),g>0&&g>=x){var b=20*x+15*(g-x),w=20*d+15*(l-d);b>w&&b>0&&w>0&&(l=g,h=f,d=x)}}}if("column"==i||"all"==i){a.text.toString().length>l&&(h=a.text);var f=a.text.toString(),g=f.toString().length,v=f.toString(),x=v.replace(/[^A-Z]/g,"").length;if(g>0&&g>=x){var b=20*x+15*(g-x),w=20*d+15*(l-d);b>w&&b>0&&w>0&&(l=g,h=f,d=x)}}void 0==h&&(h=a.text),o[0].innerHTML=h,h==a.text&&o.addClass(this.toThemeProperty("jqx-grid-column-header"));var y=o.outerWidth()+10;if(e.jqx.browser.msie&&e.jqx.browser.version<8&&(y+=5),this.filterable&&this.showfilterrow&&(y+=5),y+=r,o.remove(),y>a.maxwidth&&(y=a.maxwidth),"auto"==a.maxwidth||y<=a.maxwidth){var _=a.width;y<a.minwidth&&(y=a.minwidth),a.width=y,void 0!=a._width&&(a.__width=a._width),a._width=null,void 0!=a._percentagewidth&&(a._percentagewidth=null),this._updatecolumnwidths(),this._updatecellwidths(),this._raiseEvent(14,{columntext:a.text,column:a.getcolumnproperties(),datafield:t,displayfield:a.displayfield,oldwidth:_,newwidth:y}),this._renderrows(this.virtualsizeinfo),void 0!=a._width&&(a._width=a.__width)}},_handlecolumnsresize:function(){var t=this.that;if(this.columnsresize){var i=!1;t.isTouchDevice()&&t.touchmode!==!0&&(i=!0);var r="mousemove.resize"+this.element.id,s="mousedown.resize"+this.element.id,a="mouseup.resize"+this.element.id;if(i)var r=e.jqx.mobile.getTouchEventName("touchmove")+".resize"+this.element.id,s=e.jqx.mobile.getTouchEventName("touchstart")+".resize"+this.element.id,a=e.jqx.mobile.getTouchEventName("touchend")+".resize"+this.element.id;this.removeHandler(e(document),r),this.addHandler(e(document),r,function(r){var s=e.data(document.body,"contextmenu"+t.element.id);if(null!=s&&t.autoshowcolumnsmenubutton)return!0;if(null!=t.resizablecolumn&&!t.disabled&&t.resizing&&null!=t.resizeline){var a=(t.resizablecolumn.columnelement,t.host.coord()),n=parseInt(t.resizestartline.coord().left),o=n-t._startcolumnwidth,l=t.resizablecolumn.column.minwidth;l="auto"==l?0:parseInt(l);var h=t.resizablecolumn.column.maxwidth;h="auto"==h?0:parseInt(h);var d=r.pageX;if(i){var c=t.getTouches(r),u=c[0];d=u.pageX}o+=l;var p=h>0?n+h:0,f=0==h?!0:t._startcolumnwidth+d-n<h;if(t.rtl)var f=!0;if(f)if(t.rtl){if(d>=a.left&&d<=a.left+t.host.width()&&(t.resizeline.css("left",d),i))return!1}else if(d>=a.left&&d>=o&&(0!=p&&r.pageX<p?t.resizeline.css("left",d):0==p&&t.resizeline.css("left",d),i))return!1}return i||null==t.resizablecolumn?void 0:!1}),this.removeHandler(e(document),s),this.addHandler(e(document),s,function(i){var r=e.data(document.body,"contextmenu"+t.element.id);if(null!=r&&t.autoshowcolumnsmenubutton)return!0;if(null!=t.resizablecolumn&&!t.disabled){var s=t.resizablecolumn.columnelement;if(s.coord().top+s.height()+5<i.pageY)return void(t.resizablecolumn=null);if(s.coord().top-5>i.pageY)return void(t.resizablecolumn=null);if(t._startcolumnwidth=t.resizablecolumn.column.width,t.resizablecolumn.column._width=null,e(document.body).addClass("jqx-disableselect"),e(document.body).addClass("jqx-position-reset"),t.host.addClass("jqx-disableselect"),t.content.addClass("jqx-disableselect"),t._mouseDownResize=new Date,t.resizing=!0,t._lastmouseDownResize&&t.columnsautoresize&&t._lastmouseDownResize-t._mouseDownResize<300&&t._lastmouseDownResize-t._mouseDownResize>-500){var a=t.resizablecolumn.column;if(a.resizable){var n=(t.resizablecolumn.column.width,t.hScrollBar[0].style.visibility);return t._resizecolumn=null,t.resizeline.hide(),t.resizestartline.hide(),t.resizebackground.remove(),t.resizablecolumn=null,t.columndragstarted=!1,t.dragmousedown=null,t.__drag=!1,t.autoresizecolumn(a.displayfield,"all"),n!=t.hScrollBar[0].style.visibility&&t.hScrollInstance.setPosition(0),t.rtl&&t._arrange(),t.autosavestate&&t.savestate&&t.savestate(),i.stopPropagation(),t.suspendClick=!0,setTimeout(function(){t.suspendClick=!1},100),!1}}t._lastmouseDownResize=new Date,t._resizecolumn=t.resizablecolumn.column,t.resizeline=t.resizeline||e('<div style="position: absolute;"></div>'),t.resizestartline=t.resizestartline||e('<div style="position: absolute;"></div>'),t.resizebackground=t.resizebackground||e('<div style="position: absolute; left: 0; top: 0; background: #000;"></div>'),t.resizebackground.css("opacity",.01),t.resizebackground.css("cursor","col-resize"),t.resizeline.css("cursor","col-resize"),t.resizestartline.css("cursor","col-resize"),t.resizeline.addClass(t.toThemeProperty("jqx-grid-column-resizeline")),t.resizestartline.addClass(t.toThemeProperty("jqx-grid-column-resizestartline")),e(document.body).append(t.resizeline),e(document.body).append(t.resizestartline),e(document.body).append(t.resizebackground);var o=t.resizablecolumn.columnelement.coord();t.resizebackground.css("left",t.host.coord().left),t.resizebackground.css("top",t.host.coord().top),t.resizebackground.width(t.host.width()),t.resizebackground.height(t.host.height()),t.resizebackground.css("z-index",9999);var l=function(e){t.rtl?e.css("left",parseInt(o.left)):e.css("left",parseInt(o.left)+t._startcolumnwidth);var i=t._groupsheader(),r=i?t.groupsheader.height():0,s=t.showtoolbar?t.toolbarheight:0;r+=s;var a=t.showstatusbar?t.statusbarheight:0;r+=a;var n=0;t.pageable&&(n=t.pagerheight);var l="visible"==t.hScrollBar.css("visibility")?17:0;e.css("top",parseInt(o.top)),e.css("z-index",99999),t.columngroups?e.height(t.host.height()+t.resizablecolumn.columnelement.height()-n-r-l-t.columngroupslevel*t.columnsheight):e.height(t.host.height()-n-r-l),t.enableanimations?e.show("fast"):e.show()};l(t.resizeline),l(t.resizestartline),t.dragmousedown=null}});var n=function(){if(e(document.body).removeClass("jqx-disableselect"),e(document.body).removeClass("jqx-position-reset"),(t.showfilterrow||t.showstatusbar||t.showtoolbar||t.enablebrowserselection)&&(t.host.removeClass("jqx-disableselect"),t.content.removeClass("jqx-disableselect")),t.resizing){t._mouseUpResize=new Date;var i=t._mouseUpResize-t._mouseDownResize;if(200>i)return t.resizing=!1,void(null!=t._resizecolumn&&null!=t.resizeline&&"block"==t.resizeline.css("display")&&(t._resizecolumn=null,t.resizeline.hide(),t.resizestartline.hide(),t.resizebackground.remove()));if(t.resizing=!1,!t.disabled){var r=t.host.width();if("hidden"!=t.vScrollBar[0].style.visibility&&(r-=20),0>r&&(r=0),null!=t._resizecolumn&&null!=t.resizeline&&"block"==t.resizeline.css("display")){var s=parseInt(t.resizeline.css("left")),a=parseInt(t.resizestartline.css("left")),n=t._startcolumnwidth+s-a;if(t.rtl)var n=t._startcolumnwidth-s+a;var o=t._resizecolumn.width;t._closemenu(),n<t._resizecolumn.minwidth&&(n=t._resizecolumn.minwidth),t._resizecolumn.width=n,void 0!=t._resizecolumn._percentagewidth&&(t._resizecolumn._percentagewidth=n/r*100);for(var l=0;l<t._columns.length;l++)if(t._columns[l].datafield===t._resizecolumn.datafield){t._columns[l].width=t._resizecolumn.width,t._columns[l].width<t._resizecolumn.minwidth&&(t._columns[l].width=t._resizecolumn.minwidth);break}var h=t.hScrollBar[0].style.visibility;t._updatecolumnwidths(),t._updatecellwidths(),t._raiseEvent(14,{columntext:t._resizecolumn.text,column:t._resizecolumn.getcolumnproperties(),datafield:t._resizecolumn.datafield,oldwidth:o,newwidth:n}),t._renderrows(t.virtualsizeinfo),t.autosavestate&&t.savestate&&t.savestate(),h!=t.hScrollBar[0].style.visibility&&t.hScrollInstance.setPosition(0),t.rtl&&t._arrange(),t._resizecolumn=null,t.resizeline.hide(),t.resizestartline.hide(),t.resizebackground.remove(),t.resizablecolumn=null}else t.resizablecolumn=null}}};try{if(""!=document.referrer||window.frameElement){var o=null;if(null!=window.top&&window.top!=window.self&&window.parent&&document.referrer&&(o=document.referrer),o&&-1!=o.indexOf(document.location.host)){var l=function(e){n()};window.top.document.addEventListener?window.top.document.addEventListener("mouseup",l,!1):window.top.document.attachEvent&&window.top.document.attachEvent("onmouseup",l)}}}catch(h){}this.removeHandler(e(document),a),this.addHandler(e(document),a,function(i){var r=e.data(document.body,"contextmenu"+t.element.id);return null!=r&&t.autoshowcolumnsmenubutton?!0:void n()})}}})}(jqxBaseFramework),function(e){e.extend(e.jqx._jqxGrid.prototype,{_handledblclick:function(t,i){if(null!=t.target&&!i.disabled&&!e(t.target).ischildof(this.columnsheader)){var r;if(t.which?r=3==t.which:t.button&&(r=2==t.button),!r){var s;if(t.which?s=2==t.which:t.button&&(s=1==t.button),!s){var a=this.showheader?this.columnsheader.height()+2:0,n=this._groupsheader()?this.groupsheader.height():0,o=this.showtoolbar?this.toolbarheight:0;n+=o;var l=this.host.offset(),h=t.pageX-l.left,d=t.pageY-a-l.top-n,c=this._hittestrow(h,d);if(c){var u=c.row,p=c.index,f=t.target.className,m=this.table[0].rows[p];if(null!=m){i.mousecaptured=!0,i.mousecaptureposition={left:t.pageX,top:t.pageY-n};for(var g=this.hScrollInstance,v=g.value,x=0,b=(this.groupable?this.groups.length:0,0);b<m.cells.length;b++){var w=parseInt(e(this.columnsrow[0].cells[b]).css("left")),y=w-v;i.columns.records[b].pinned&&(y=w);var _=this._getcolumnat(b);if(null==_||!_.hidden){var j=y+e(this.columnsrow[0].cells[b]).width();if(j>=h&&h>=y){x=b;break}}}if(null!=u){var _=this._getcolumnat(x);-1==f.indexOf("jqx-grid-group-expand")&&-1==f.indexOf("jqx-grid-group-collapse")&&-1!=u.boundindex&&i.begincelledit(i.getboundindex(u),_.datafield,_.defaulteditorvalue)}}}}}}},_getpreveditablecolumn:function(e){for(var t=this;e>0;){e--;var i=t.getcolumnat(e);if(!i)return null;if(i.editable&&!i.hidden)return i}return null},_getnexteditablecolumn:function(e){for(var t=this;e<this.columns.records.length;){e++;var i=t.getcolumnat(e);if(!i)return null;if(i.editable&&!i.hidden)return i}return null},_handleeditkeydown:function(t,i){if(i.handlekeyboardnavigation){var r=i.handlekeyboardnavigation(t);if(1==r)return!0}var s=t.charCode?t.charCode:t.keyCode?t.keyCode:0;if(i.editEvent=t,i.showfilterrow&&i.filterable&&this.filterrow&&e(t.target).ischildof(this.filterrow))return!0;if(t.target.className&&t.target.className.indexOf("jqx-grid-widget")>=0)return!0;if(i.pageable&&e(t.target).ischildof(this.pager))return!0;if(this.showtoolbar&&e(t.target).ischildof(this.toolbar))return!0;if(this.showeverpresentrow){if(this.addnewrowtop&&e(t.target).ischildof(this.addnewrowtop))return!0;if(this.addnewrowbottom&&e(t.target).ischildof(this.addnewrowbottom))return!0}if(this.showstatusbar&&e(t.target).ischildof(this.statusbar))return!0;if(this.rowdetails&&e(t.target).ischildof(this.content.find("[role='rowgroup']")))return!0;if(this.editcell){if("selectedrow"===this.editmode){if(13===s)return this.endrowedit(this.editcell.row,!1),!1;if(27===s)return this.endrowedit(this.editcell.row,!0),!1;if(32==s&&this._currentColumn&&"checkbox"==this.getcolumn(this._currentColumn).columntype){var a=this.getcolumn(this._currentColumn);if(a.editable){var n=!this.getcellvalue(this.editcell.row,a.datafield),o=this.getrowdata(this.editcell.row),l=this.editcell.row,o=i.getrowdata(i.editcell.row);this.setcellvalue(this.editcell.row,a.datafield,n,!1);var h=this._focusedColumn,d=this._currentColumn,c=this._currentEditableColumn;if(this.endrowedit(this.editcell.row,!1),this.beginrowedit(l,!1),this._currentColumn=d,this._focusedColumn=h,this._currentEditableColumn=c,this._renderrows(),this.selectcell(l,a.datafield),this._oldselectedcell=this.selectedcell,h){var u=this;setTimeout(function(){u.selectcell(l,a.datafield),u._oldselectedcell=u.selectedcell,e(u._checkboxCells[a.datafield].checkbox).jqxCheckBox("focus")},25)}return!1}}if(9===s){var p=this.editcell.datafield,f=this._getcolumnindex(p);this._currentEditableColumn?f=this._currentEditableColumn:this._currentEditableColumn=f;var a=this._getnexteditablecolumn(f);if(t.shiftKey&&(a=this._getpreveditablecolumn(f)),a){var f=this._getcolumnindex(a.datafield);if(this.editcell[a.datafield]){this._currentEditableColumn=f;var m=this.editcell[a.datafield].editor;m&&(m.data().jqxWidget&&m.data().jqxWidget.focus?m.data().jqxWidget.focus():m.focus()),this._focusedColumn=a.datafield,this._currentColumn=a.datafield}else if("checkbox"==a.columntype)return this._currentColumn=a.datafield,this._currentEditableColumn=f,this.selectcell(this.editcell.row,a.datafield),this._oldselectedcell=this.selectedcell,this._checkboxCells[a.datafield]&&e(this._checkboxCells[a.datafield].checkbox).jqxCheckBox("focus"),!1}return!1}return!0}if(null==this.editcell.columntype||"textbox"==this.editcell.columntype||"numberinput"==this.editcell.columntype||"combobox"==this.editcell.columntype||"datetimeinput"==this.editcell.columntype){if(s>=33&&40>=s&&"multiplecellsadvanced"==i.selectionmode){var m="textbox"==this.editcell.columntype||null==this.editcell.columntype?this.editcell.editor:this.editcell.editor.find("input"),g=i._selection(m),v=m.val().length;g.length>0&&"datetimeinput"!=this.editcell.columntype&&(i._cancelkeydown=!0),g.start>0&&37==s&&(i._cancelkeydown=!0),g.start<v&&39==s&&"datetimeinput"!=this.editcell.columntype&&(i._cancelkeydown=!0),"datetimeinput"==this.editcell.columntype&&39==s&&g.start+g.length<v&&(i._cancelkeydown=!0)}}else"dropdownlist"==this.editcell.columntype?(37==s||39==s&&"multiplecellsadvanced"==i.selectionmode)&&(i._cancelkeydown=!1):"multiplecellsadvanced"==this.selectionmode&&"textbox"!=this.editcell.columntype&&"numberinput"!=this.editcell.columntype&&(i._cancelkeydown=!0);if(32==s&&"checkbox"==i.editcell.columntype){var a=i.getcolumn(i.editcell.datafield);if(a.editable){var n=!i.getcellvalue(i.editcell.row,i.editcell.column);if(a.cellbeginedit){var x=a.cellbeginedit(i.editcell.row,a.datafield,a.columntype,!n);if(0==x)return!1}var o=i.getrowdata(i.editcell.row);return i.setcellvalue(i.editcell.row,i.editcell.column,n,!0),i._raiseEvent(18,{rowindex:i.editcell.row,row:o,datafield:i.editcell.column,oldvalue:!n,value:n,columntype:"checkbox"}),!1}}if(9==s){var b=this.editcell.row,p=this.editcell.column,w=p,f=i._getcolumnindex(p),y=!1,_=i.getrowvisibleindex(b);this.editchar="";var j=this.editcell.validated;if(!this.editcell.validated)var j=this.endcelledit(this.editcell.row,this.editcell.column,!1,!0,!1);if(0!=j){if(t.shiftKey){var a=i._getpreveditablecolumn(f);if(a)p=a.datafield,y=!0,-1!=i.selectionmode.indexOf("cell")&&(i.selectprevcell(b,w),i._oldselectedcell=i.selectedcell,setTimeout(function(){i.ensurecellvisible(_,p)},10));else{var q=i._getlastvisiblecolumn();y=!0,p=q.displayfield,b--,-1!=i.selectionmode.indexOf("cell")&&(i.clearselection(),i.selectcell(b,p),i._oldselectedcell=i.selectedcell,setTimeout(function(){i.ensurecellvisible(_,p)},10))}}else{var a=i._getnexteditablecolumn(f);if(a)p=a.datafield,y=!0,-1!=i.selectionmode.indexOf("cell")&&(i.selectnextcell(b,w),i._oldselectedcell=i.selectedcell,setTimeout(function(){i.ensurecellvisible(_,p)},10));else{var T=i._getfirstvisiblecolumn();y=!0,p=T.displayfield,b++,-1!=i.selectionmode.indexOf("cell")&&(i.clearselection(),i.selectcell(b,p),i._oldselectedcell=i.selectedcell,setTimeout(function(){i.ensurecellvisible(_,p)},10))}}if(!y)return null!=this.editcell&&(i.endcelledit(b,p,!1),this._renderrows(this.virtualsizeinfo)),!0;i.begincelledit(b,p),null!=this.editcell&&"checkbox"==this.editcell.columntype&&this._renderrows(this.virtualsizeinfo)}return!1}if(13==s){var S=this.selectedcell;if(S)var C=this.getrowvisibleindex(S.rowindex);if(this.endcelledit(this.editcell.row,this.editcell.column,!1,!0),"multiplecellsadvanced"==this.selectionmode){var I=i.getselectedcell();if(null!=I&&i.selectcell&&null==this.editcell&&I.rowindex+1<this.dataview.totalrecords)if(this.sortcolumn!=I.datafield){var _=this.getrowvisibleindex(I.rowindex),k=this.dataview.loadedrecords[_+1];if(k&&(!this.pageable||this.pageable&&_+1<(this.dataview.pagenum+1)*this.pagesize)){this.clearselection(!1),this.selectcell(this.getboundindex(k),I.datafield);var I=this.getselectedcell();this.ensurecellvisible(k.visibleindex,I.datafield)}}else if(null!=S){var D=this.dataview.loadedrecords[C+1];if(D)if(!this.pageable||this.pageable&&C+1<this.pagesize)this.clearselection(!1),this.selectcell(this.getboundindex(D),I.datafield);else if(this.pageable&&C+1>=this.pagesize){this.clearselection(!1);var D=this.dataview.loadedrecords[C];this.selectcell(this.getboundindex(D),I.datafield)}}}return!1}if(27==s)return this.endcelledit(this.editcell.row,this.editcell.column,!0,!0),!1}else{var M=!1;if(113==s&&(M=!0),!t.ctrlKey&&!t.altKey&&!t.metaKey){if(s>=48&&57>=s&&(this.editchar=String.fromCharCode(s),M=!0),189===s&&(M=!0),s>=65&&90>=s){this.editchar=String.fromCharCode(s);var P=!1;t.shiftKey?P=t.shiftKey:t.modifiers&&(P=!!(4&t.modifiers)),this._capsLock&&(P=!P),P||(this.editchar=this.editchar.toLowerCase()),M=!0}else s>=96&&105>=s&&(this.editchar=s-96,this.editchar=this.editchar.toString(),M=!0);var N=e(".jqx-grid").length;M=M&&(1==N||N>1&&i.focused);var B=e.data(document.body,"jqxgrid.edit");if(void 0!==B&&""!==B&&(13===s||M)&&B!=i.element.id)return!0}if((13==s||M)&&i.getselectedrowindex){var b=i.getselectedrowindex();if("selectedrow"===i.editmode){if(!(b>=0)){var I=i.getselectedcell();if(null!=I){var a=i._getcolumnbydatafield(I.datafield);i.beginrowedit(I.rowindex)}return!1}i.beginrowedit(b)}switch(i.selectionmode){case"singlerow":case"multiplerows":case"multiplerowsextended":if(b>=0){for(var p="",O=0;O<i.columns.records.length;O++){var a=i.getcolumnat(O);if(a.editable){p=a.datafield;break}}"selectedrow"===i.editmode?i.beginrowedit(b):i.begincelledit(b,p)}break;case"singlecell":case"multiplecells":case"multiplecellsextended":var I=i.getselectedcell();if(null!=I){var a=i._getcolumnbydatafield(I.datafield);"selectedrow"===i.editmode?i.beginrowedit(I.rowindex):"checkbox"!=a.columntype&&i.begincelledit(I.rowindex,I.datafield)}break;case"multiplecellsadvanced":var I=i.getselectedcell();if(null!=I)if(13==s){if(i.selectcell){var _=this.getrowvisibleindex(I.rowindex);if(_+1<i.dataview.totalrecords){var k=this.dataview.loadedrecords[_+1];if(k){this.clearselection(!1),this.selectcell(this.getboundindex(k),I.datafield);var I=this.getselectedcell();this.ensurecellvisible(k.visibleindex,I.datafield)}}}}else"selectedrow"!==i.editmode&&i.begincelledit(I.rowindex,I.datafield)}return!1}if(46==s){var E=i.getselectedcells();if(-1==i.selectionmode.indexOf("cell")&&i._getcellsforcopypaste&&(E=i._getcellsforcopypaste()),null!=E&&E.length>0){for(var A=0;A<E.length;A++){var I=E[A];if(I.datafield){var a=i.getcolumn(I.datafield),H=i.getcellvalue(I.rowindex,I.datafield);if(""!==H&&a.editable&&i.enablekeyboarddelete){var z=null;if("checkbox"==a.columntype&&(a.threestatecheckbox||(z=!1)),a.cellbeginedit){var x=a.cellbeginedit(I.rowindex,a.datafield,a.columntype,z);if(0==x)return!1}var o=i.getrowdata(I.rowindex);if(i._raiseEvent(17,{rowindex:I.rowindex,row:o,datafield:I.datafield,value:H}),A==E.length-1?(i.setcellvalue(I.rowindex,I.datafield,z,!0),a.displayfield!=a.datafield&&i.setcellvalue(I.rowindex,a.displayfield,z,!0)):(i.setcellvalue(I.rowindex,I.datafield,z,!1),a.displayfield!=a.datafield&&i.setcellvalue(I.rowindex,a.displayfield,z,!0)),a.cellendedit){a.cellendedit(I.rowindex,a.datafield,a.columntype,z)}i._raiseEvent(18,{rowindex:I.rowindex,row:o,datafield:I.datafield,oldvalue:H,value:z})}}}return this.dataview.updateview(),this._renderrows(this.virtualsizeinfo),!1}}if(32==s){var I=i.getselectedcell();if(null!=I){var a=i.getcolumn(I.datafield);if("checkbox"==a.columntype&&a.editable){var n=!i.getcellvalue(I.rowindex,I.datafield);if(a.cellbeginedit){var x=a.cellbeginedit(I.rowindex,a.datafield,a.columntype,!n);if(0==x)return!1}var o=i.getrowdata(I.rowindex);return i._raiseEvent(17,{rowindex:I.rowindex,row:o,datafield:I.datafield,value:!n,columntype:"checkbox"}),i.setcellvalue(I.rowindex,I.datafield,n,!0),i._raiseEvent(18,{rowindex:I.rowindex,row:o,datafield:I.datafield,oldvalue:!n,value:n,columntype:"checkbox"}),!1}}}}return!0},begincelledit:function(t,i,r,s,a){var n=this.getcolumn(i);if(this._cellscache=new Array,null!=i&&"number"!=n.columntype&&"button"!=n.columntype&&!n.createwidget){if(this.groupable){if(this.groups.indexOf(i)>=0)return;if(this.groups.indexOf(n.displayfield)>=0)return}if(void 0==this.editrow){if(this.editcell){if(this.editcell.row==t&&this.editcell.column==i)return!0;if("selectedrow"===this.editmode&&this.editcell.row==t)return;var o=this.endcelledit(this.editcell.row,this.editcell.column,!1,!0,!1);if(0==o)return}var l="checkbox"==n.columntype||"button"==n.columntype||n.createwidget;if(this.host.removeClass("jqx-disableselect"),this.content.removeClass("jqx-disableselect"),n.editable){if(n.cellbeginedit){var h=this.getcell(t,i),d=n.cellbeginedit(t,i,n.columntype,null!=h?h.value:null);if(0==d)return}var c=this.getrowvisibleindex(t);if(this.editcell=this.getcell(t,i),this.editcell&&(this.editcell.visiblerowindex=c,!this.editcell.editing)){if(l||(this.editcell.editing=!0),this.editcell.columntype=n.columntype,this.editcell.defaultvalue=r,void 0!=n.defaultvalue&&(this.editcell.defaultvalue=n.defaultvalue),this.editcell.init=!0,"checkbox"!=n.columntype&&"selectedrow"!=this.editmode){var u=this.getrowdata(t);this._raiseEvent(17,{rowindex:t,row:u,datafield:n.datafield,value:this.editcell.value,columntype:n.columntype})}if(e.data(document.body,"jqxgrid.edit",this.element.id),!l){var p=this.getrowvisibleindex(t);s!==!1&&(this.autorowheight||this.ensurecellvisible(p,n.datafield)),a!==!1&&this._renderrows(this.virtualsizeinfo)}if(this.editcell)return this.editcell.init=!1,!0}}else{if(!this.editcell)return;this.editcell.editor=null,this.editcell.editing=!1,a!==!1&&this._renderrows(this.virtualsizeinfo),this.editcell=null}}}},getScrollTop:function(){if(this._py)return pageYOffset;if(this._py="undefined"!=typeof pageYOffset,this._py)return pageYOffset;var e=document.body,t=document.documentElement;return t=t.clientHeight?t:e,t.scrollTop},getScrollLeft:function(){if("undefined"!=typeof pageXOffset)return pageXOffset;var e=document.body,t=document.documentElement;return t=t.clientHeight?t:e,t.scrollLeft},endcelledit:function(t,i,r,s,a){if(void 0!=t&&void 0!=i||(this.editcell&&(t=this.editcell.row,i=this.editcell.column),void 0==r&&(r=!0)),this.editcell){var n=this.getcolumn(i),o=this;if("selectedrow"===o.editmode)return void this.endrowedit(t,r);var l=function(){if(0!=a){if(o.isTouchDevice())return;if(!o.isNestedGrid){var e=o.getScrollTop(),t=o.getScrollLeft();try{o.element.focus(),o.content.focus(),e!=o.getScrollTop()&&window.scrollTo(t,e),setTimeout(function(){o.element.focus(),o.content.focus(),e!=o.getScrollTop()&&window.scrollTo(t,e)},10)}catch(i){}}}};if("checkbox"==n.columntype||"button"==n.columntype||n.createwidget)return this.editcell&&(this.editcell.editor=null,this.editcell.editing=!1,this.editcell=null),!0;var h=this._geteditorvalue(n),d=function(e){if(e._hidecelleditor(),n.cellendedit&&n.cellendedit(t,i,n.columntype,e.editcell.value,h),e.editchar=null,n.displayfield!=n.datafield){var r=e.getcellvalue(e.editcell.row,n.displayfield),a=e.editcell.value;oldvalue={value:a,label:r}}else oldvalue=e.editcell.value;var o=e.getrowdata(t);e._raiseEvent(18,{rowindex:t,row:o,datafield:i,displayfield:n.displayfield,oldvalue:h,value:h,columntype:n.columntype}),e.editcell.editor=null,e.editcell.editing=!1,e.editcell=null,(s||void 0==s)&&e._renderrows(e.virtualsizeinfo),l(),e.enablebrowserselection||(e.host.addClass("jqx-disableselect"),e.content.addClass("jqx-disableselect"))};if(r)return d(this),!1;if(this.validationpopup&&(this.validationpopup.hide(),this.validationpopuparrow.hide()),n.cellvaluechanging){var c=n.cellvaluechanging(t,i,n.columntype,this.editcell.value,h);void 0!=c&&(h=c)}if(n.validation){var u=this.getcell(t,i);try{var p=n.validation(u,h),f=this.gridlocalization.validationstring;void 0!=p.message&&(f=p.message);var m="boolean"==typeof p?p:p.result;if(!m)return void 0!=p.showmessage&&1!=p.showmessage||this._showvalidationpopup(t,i,f),this.editcell.validated=!1,!1}catch(g){return this._showvalidationpopup(t,i,this.gridlocalization.validationstring),this.editcell.validated=!1,!1}}if(n.displayfield!=n.datafield){var v=this.getcellvalue(this.editcell.row,n.displayfield),x=this.editcell.value;oldvalue={value:x,label:v}}else oldvalue=this.editcell.value;var b=this.getrowdata(t);if(n.cellendedit){var w=n.cellendedit(t,i,n.columntype,this.editcell.value,h);if(0==w)return this._raiseEvent(18,{rowindex:t,row:b,datafield:i,displayfield:n.displayfield,oldvalue:oldvalue,value:oldvalue,columntype:n.columntype}),d(this),!1}return this._raiseEvent(18,{rowindex:t,row:b,datafield:i,displayfield:n.displayfield,oldvalue:oldvalue,value:h,columntype:n.columntype}),this._hidecelleditor(!1),void 0!=this.editcell&&(this.editcell.editor=null,this.editcell.editing=!1),this.editcell=null,this.editchar=null,this.setcellvalue(t,i,h,s),this.enablebrowserselection||(this.host.addClass("jqx-disableselect"),this.content.addClass("jqx-disableselect")),e.jqx.browser.msie||l(),e.data(document.body,"jqxgrid.edit",""),!0}},beginrowedit:function(t){var i=this;i._oldselectedrow=t,this._cellscache=new Array;var r=!1;if("selectedrow"!=this.editmode&&(r=!0),r){var s=this.editmode;this.editmode="selectedrow"}var a=null;e.each(this.columns.records,function(e,r){if(i.editable&&this.editable){if("checkbox"===this.columntype||"custom"===this.columntype||"widget"===this.columntype||"template"===this.columntype||"button"===this.columntype)return!0;a||(a=this.datafield);var s=i.getcell(t,this.datafield);i.begincelledit(t,this.datafield,null,!1,!1);var n=i.getrowdata(t);i._raiseEvent(17,{rowindex:t,row:n,datafield:this.datafield,value:s.value,columntype:this.columntype})}}),i.editcell&&(i.editcell.init=!0),this._renderrows(this.virtualsizeinfo),r&&(this.editmode=s),a&&i.editcell&&setTimeout(function(){if(i.editcell&&i.editcell[a]){var e=i.editcell[a].editor;e&&(e.data().jqxWidget&&e.data().jqxWidget.focus?e.data().jqxWidget.focus():e.focus())}},25)},endrowedit:function(t,i){var r=this;if(this._currentEditableColumn=0,this._focusedColumn=null,this._currentColumn=null,this._checkboxCells=[],!this.editcell)return!1;if(void 0==this.editcell.editor&&"checkbox"!==this.editcell.columntype)return!1;var s=!1;if("selectedrow"!=this.editmode&&(s=!0),s){var a=this.editmode;this.editmode="selectedrow"}var n=!1,o={};this.validationpopup&&(this.validationpopup.hide(),this.validationpopuparrow.hide());for(var l=0;l<this.columns.records.length;l++){var h=this.columns.records[l];if(h.editable&&!h.hidden&&"checkbox"!=h.columntype&&!h.createwidget){var d=this._geteditorvalue(h),c=function(e){e._hidecelleditor();var i=e.getcellvalue(e.editcell.row,h.displayfield);if(h.cellendedit&&h.cellendedit(t,f,h.columntype,i,d),e.editchar=null,h.displayfield!=h.datafield){var r=e.getcellvalue(e.editcell.row,h.displayfield),s=i;u={value:s,label:r}}else u=i;var a=e.getrowdata(t);e._raiseEvent(18,{rowindex:t,row:a,datafield:f,displayfield:h.displayfield,oldvalue:i,value:i,columntype:h.columntype}),e.editcell.editing=!1};if(i)c(this);else{if(h.cellvaluechanging){var u=this.getcellvalue(this.editcell.row,h.displayfield),p=h.cellvaluechanging(t,f,h.columntype,u,d);void 0!=p&&(d=p)}var f=h.datafield;if(h.validation){var m=this.getcell(t,h.datafield);try{var g=h.validation(m,d),v=this.gridlocalization.validationstring;void 0!=g.message&&(v=g.message);var x="boolean"==typeof g?g:g.result;if(!x){void 0!=g.showmessage&&1!=g.showmessage||this._showvalidationpopup(t,f,v),n=!0,this.editcell[h.datafield].validated=!1;continue}}catch(b){this._showvalidationpopup(t,f,this.gridlocalization.validationstring),this.editcell[h.datafield].validated=!1,n=!0;continue}}if(h.displayfield!=h.datafield){var w=this.getcellvalue(this.editcell.row,h.displayfield),y=this.editcell.value;u={value:y,label:w}}else u=this.getcellvalue(this.editcell.row,h.displayfield);o[h.datafield]={newvalue:d,oldvalue:u}}}}var _={},j={};if(!n){this._hidecelleditor(!1);for(var l=0;l<this.columns.records.length;l++){var h=this.columns.records[l],f=h.datafield;if(!h.hidden&&h.editable){var q=this.getrowdata(t);if(!h.createwidget)if("checkbox"!=h.columntype){if(o[h.datafield]){var d=o[h.datafield].newvalue,u=o[h.datafield].oldvalue;if(h.cellendedit){var T=h.cellendedit(t,f,h.columntype,u,d);if(0==T){this._raiseEvent(18,{rowindex:t,row:q,datafield:f,displayfield:h.displayfield,oldvalue:u,value:u,columntype:h.columntype}),c(this);continue}}this.source.updaterow||this._raiseEvent(18,{rowindex:t,row:q,datafield:h.datafield,displayfield:h.displayfield,oldvalue:u,value:d,columntype:h.columntype}),_[h.datafield]=d,j[h.datafield]=u}}else{var d=this.getcellvalue(t,h.displayfield);this._raiseEvent(18,{rowindex:t,row:q,datafield:h.datafield,displayfield:h.displayfield,oldvalue:d,value:d,columntype:h.columntype})}}}var S=this.getrowid(t),q=this.getrowdata(t);if(e.each(_,function(e,t){if(t&&void 0!=t.label){var i=r.getcolumn(e);q[i.displayfield]=t.label,q[i.datafield]=t.value}else q[e]=t}),this.enablebrowserselection||(this.host.addClass("jqx-disableselect"),this.content.addClass("jqx-disableselect")),e.data(document.body,"jqxgrid.edit",""),this.editcell=null,
this.editchar=null,this.source.updaterow&&!i){var C=!1,r=this,x=function(i){var s=r.source.updaterow;r.source.updaterow=null,0==i?(e.each(j,function(e,t){if(t&&void 0!=t.label){var i=r.getcolumn(e);q[i.displayfield]=t.label,q[i.datafield]=t.value}else q[e]=t}),r.updaterow(S,q)):r.updaterow(S,q);for(var a=0;a<r.columns.records.length;a++){var n=r.columns.records[a];n.datafield;r._raiseEvent(18,{rowindex:t,datafield:n.datafield,row:q,displayfield:n.displayfield,oldvalue:j[n.datafield],value:q[n.displayfield],columntype:n.columntype})}r.source.updaterow=s};try{C=this.source.updaterow(S,q,x),void 0==C&&(C=!0)}catch(b){return void(C=!1)}}else i||this.updaterow(S,q),this._renderrows(this.virtualsizeinfo)}return s&&(this.editmode=a),n},_selection:function(e){if("selectionStart"in e[0]){var t=e[0],i=t.selectionEnd-t.selectionStart;return{start:t.selectionStart,end:t.selectionEnd,length:i,text:t.value}}var r=document.selection.createRange();if(null==r)return{start:0,end:t.value.length,length:0};var s=e[0].createTextRange(),a=s.duplicate();s.moveToBookmark(r.getBookmark()),a.setEndPoint("EndToStart",s);var i=r.text.length;return{start:a.text.length,end:a.text.length+r.text.length,length:i,text:r.text}},_setSelection:function(e,t,i){if("selectionStart"in i[0])i[0].focus(),i[0].setSelectionRange(e,t);else{var r=i[0].createTextRange();r.collapse(!0),r.moveEnd("character",t),r.moveStart("character",e),r.select()}},findRecordIndex:function(e,t,i){var i=i;if(t)for(var r=i.length,s=0;r>s;s++){var a=i[s],n=a.label;if(e==n)return s}return-1},_destroyeditors:function(){var t=this;this.columns.records&&(e.each(this.columns.records,function(i,r){var s=e.trim(this.datafield).split(" ").join("");switch(this.columntype){case"dropdownlist":var a=t.editors["dropdownlist_"+s];a&&(a.jqxDropDownList("destroy"),t.editors["dropdownlist_"+s]=null);break;case"combobox":var n=t.editors["combobox_"+s];n&&(n.jqxComboBox("destroy"),t.editors["combobox_"+s]=null);break;case"datetimeinput":var o=t.editors["datetimeinput_"+this.datafield];o&&(o.jqxDateTimeInput("destroy"),t.editors["datetimeinput_"+s]=null);break;case"numberinput":var l=t.editors["numberinput_"+s];l&&(l.jqxNumberInput("destroy"),t.editors["numberinput_"+s]=null);break;case"custom":case"template":if(t.destroyeditor&&t.editors["templateeditor_"+s]&&(t.destroyeditor(t.editors["templateeditor_"+s]),t.editors["templateeditor_"+s]=null),t.destroyeditor)for(var h=t.getrows.length(),d=0;h>d;d++)t.editors["customeditor_"+s+"_"+d]&&(t.destroyeditor(t.editors["customeditor_"+s+"_"+d],d),t.editors["customeditor_"+s+"_"+d]=null);break;case"textbox":default:var c=t.editors["textboxeditor_"+s];c&&(t.removeHandler(c,"keydown"),t.editors["textbox_"+s]=null)}}),t.editors=new Array)},_showcelleditor:function(t,i,r,s,a){if(void 0!=r&&null!=this.editcell){if("checkbox"==i.columntype&&i.editable)return void("selectedrow"==this.editmode&&(this._checkboxCells||(this._checkboxCells=[]),this._checkboxCells[i.datafield]=r));void 0==a&&(a=!0),"selectedrow"==this.editmode&&(this.editchar="",a=!1);var n=i.datafield,o=e(r),l=this,h=this.editcell.editor,d=this.getcellvalue(t,n),c=this.getcelltext(t,n),u=this.hScrollInstance,p=u.value,f=parseInt(p);this.columns.records.indexOf(i);if(this.editcell.element=r,0==this.editcell.validated){var m="";this.validationpopup&&(m=this.validationpopup.text()),this._showvalidationpopup(t,n,m)}var g=function(e){l.hScrollInstance.isScrolling()||l.vScrollInstance.isScrolling()||a&&(l.isTouchDevice()||(e&&e.focus(),0!=l.gridcontent[0].scrollTop&&(l.scrolltop(Math.abs(l.gridcontent[0].scrollTop)),l.gridcontent[0].scrollTop=0),0!=l.gridcontent[0].scrollLeft&&(l.gridcontent[0].scrollLeft=0)))};switch(i.columntype){case"dropdownlist":if(this.host.jqxDropDownList){r.innerHTML="";var v=e.trim(i.datafield).split(" ").join(""),x=e.trim(i.displayfield).split(" ").join("");-1!=v.indexOf(".")&&(v=v.replace(".","")),-1!=x.indexOf(".")&&(x=x.replace(".",""));var b=this.editors["dropdownlist_"+v];if(h=void 0==b?e("<div style='border-radius: 0px; -moz-border-radius: 0px; -webkit-border-radius: 0px; z-index: 799; top: 0px; left: 0px; position: absolute;' id='dropdownlisteditor'></div>"):b,h.css("top",e(r).parent().position().top),this.oldhscroll?h.css("left",-f+parseInt(e(r).position().left)):h.css("left",parseInt(e(r).position().left)),i.pinned&&h.css("left",f+parseInt(e(r).position().left)),void 0==b){h.prependTo(this.table),h[0].id="dropdownlisteditor"+this.element.id+v;var w=!!this.source._source,y=null;if(w){var _={localdata:this.source.records,datatype:this.source.datatype,async:!1};y=new e.jqx.dataAdapter(_,{autoBind:!1,async:!1,uniqueDataFields:[x],autoSort:!0,autoSortField:x})}else y=new e.jqx.dataAdapter(this.source,{autoBind:!1,uniqueDataFields:[x],async:!1,autoSort:!0,autoSortField:x});var j=!i.createeditor;h.jqxDropDownList({enableBrowserBoundsDetection:!0,keyboardSelection:!1,source:y,rtl:this.rtl,autoDropDownHeight:j,theme:this.theme,width:o.width()-2,height:o.height()-2,displayMember:x,valueMember:n}),this.editors["dropdownlist_"+v]=h,i.createeditor&&i.createeditor(t,d,h)}i._requirewidthupdate&&h.jqxDropDownList({width:o.width()-2});var q=h.jqxDropDownList("listBox").visibleItems;i.createeditor||(q.length<8?h.jqxDropDownList("autoDropDownHeight",!0):h.jqxDropDownList("autoDropDownHeight",!1));var d=this.getcellvalue(t,x),T=this.findRecordIndex(d,x,q);if(s&&(""!=d?h.jqxDropDownList("selectIndex",T,!0):h.jqxDropDownList("selectIndex",-1)),!this.editcell)return;void 0!=this.editcell.defaultvalue&&h.jqxDropDownList("selectIndex",this.editcell.defaultvalue,!0),a&&h.jqxDropDownList("focus")}break;case"combobox":if(this.host.jqxComboBox){r.innerHTML="";var v=e.trim(i.datafield).split(" ").join(""),x=e.trim(i.displayfield).split(" ").join("");-1!=v.indexOf(".")&&(v=v.replace(".","")),-1!=x.indexOf(".")&&(x=x.replace(".",""));var S=this.editors["combobox_"+v];if(h=void 0==S?e("<div style='border-radius: 0px; -moz-border-radius: 0px; -webkit-border-radius: 0px; z-index: 799; top: 0px; left: 0px; position: absolute;' id='comboboxeditor'></div>"):S,h.css("top",e(r).parent().position().top),this.oldhscroll?h.css("left",-f+parseInt(e(r).position().left)):h.css("left",parseInt(e(r).position().left)),i.pinned&&h.css("left",f+parseInt(e(r).position().left)),void 0==S){h.prependTo(this.table),h[0].id="comboboxeditor"+this.element.id+v;var w=!!this.source._source,y=null;if(w){var _={localdata:this.source.records,datatype:this.source.datatype,async:!1};y=new e.jqx.dataAdapter(_,{autoBind:!1,async:!1,uniqueDataFields:[x],autoSort:!0,autoSortField:x})}else y=new e.jqx.dataAdapter(this.source,{autoBind:!1,uniqueDataFields:[x],async:!1,autoSort:!0,autoSortField:x});var j=!i.createeditor;h.jqxComboBox({enableBrowserBoundsDetection:!0,keyboardSelection:!1,source:y,rtl:this.rtl,autoDropDownHeight:j,theme:this.theme,width:o.width()-2,height:o.height()-2,displayMember:x,valueMember:n}),h.removeAttr("tabindex"),h.find("div").removeAttr("tabindex"),this.editors["combobox_"+v]=h,i.createeditor&&i.createeditor(t,d,h)}i._requirewidthupdate&&h.jqxComboBox({width:o.width()-2});var q=h.jqxComboBox("listBox").visibleItems;i.createeditor||(q.length<8?h.jqxComboBox("autoDropDownHeight",!0):h.jqxComboBox("autoDropDownHeight",!1));var d=this.getcellvalue(t,x),T=this.findRecordIndex(d,x,q);if(s&&(""!=d?(h.jqxComboBox("selectIndex",T,!0),h.jqxComboBox("val",d)):(h.jqxComboBox("selectIndex",-1),h.jqxComboBox("val",d))),!this.editcell)return;void 0!=this.editcell.defaultvalue&&h.jqxComboBox("selectIndex",this.editcell.defaultvalue,!0),this.editchar&&this.editchar.length>0&&h.jqxComboBox("input").val(this.editchar),a&&setTimeout(function(){if(g(h.jqxComboBox("input")),h)if(h.jqxComboBox("_setSelection",0,0),l.editchar)h.jqxComboBox("_setSelection",1,1),l.editchar=null;else if(h.jqxComboBox("input")){var e=h.jqxComboBox("input").val();h.jqxComboBox("_setSelection",0,e.length)}},10)}break;case"datetimeinput":if(this.host.jqxDateTimeInput){r.innerHTML="";var v=e.trim(i.datafield).split(" ").join("");-1!=v.indexOf(".")&&(v=v.replace(".",""));var C=this.editors["datetimeinput_"+v];if(h=void 0==C?e("<div style='border-radius: 0px; -moz-border-radius: 0px; -webkit-border-radius: 0px; z-index: 799; top: 0px; left: 0px; position: absolute;' id='datetimeeditor'></div>"):C,h.show(),h.css("top",e(r).parent().position().top),this.oldhscroll?h.css("left",-f+parseInt(e(r).position().left)):h.css("left",parseInt(e(r).position().left)),i.pinned&&h.css("left",f+parseInt(e(r).position().left)),void 0==C){h.prependTo(this.table),h[0].id="datetimeeditor"+this.element.id+v;var I={calendar:this.gridlocalization};h.jqxDateTimeInput({firstDayOfWeek:this.gridlocalization.firstDay,enableBrowserBoundsDetection:!0,localization:I,_editor:!0,theme:this.theme,rtl:this.rtl,width:o.width(),height:o.height(),formatString:i.cellsformat}),this.editors["datetimeinput_"+v]=h,i.createeditor&&i.createeditor(t,d,h)}if(i._requirewidthupdate&&h.jqxDateTimeInput({width:o.width()-2}),s){if(""!=d&&null!=d){var k=new Date(d);"Invalid Date"==k&&this.source.getvaluebytype&&(k=this.source.getvaluebytype(d,{name:i.datafield,type:"date"})),h.jqxDateTimeInput("setDate",k)}else h.jqxDateTimeInput("setDate",null);void 0!=this.editcell.defaultvalue&&h.jqxDateTimeInput("setDate",this.editcell.defaultvalue)}if(a){var D=this.editEvent;setTimeout(function(){g(h.jqxDateTimeInput("dateTimeInput")),setTimeout(function(){if(h.jqxDateTimeInput("_selectGroup",0),l.editchar&&l.editchar.length>0){var e=parseInt(l.editchar);if(!isNaN(e)&&D){var t=D.charCode?D.charCode:D.keyCode?D.keyCode:0;h.jqxDateTimeInput("_handleKeyPress",D,t)}}},25)},10)}}break;case"numberinput":if(this.host.jqxNumberInput){r.innerHTML="";var v=e.trim(i.datafield).split(" ").join("");-1!=v.indexOf(".")&&(v=v.replace(".",""));var M=this.editors["numberinput_"+v];if(h=void 0==M?e("<div style='border-radius: 0px; -moz-border-radius: 0px; -webkit-border-radius: 0px; z-index: 799; top: 0px; left: 0px; position: absolute;' id='numbereditor'></div>"):M,h.show(),h.css("top",e(r).parent().position().top),this.oldhscroll?h.css("left",-f+parseInt(e(r).position().left)):h.css("left",parseInt(e(r).position().left)),i.pinned&&h.css("left",f+parseInt(e(r).position().left)),void 0==M){h.prependTo(this.table),h[0].id="numbereditor"+this.element.id+v;var P="",N="left",B=2;i.cellsformat?-1!=i.cellsformat.indexOf("c")?(P=this.gridlocalization.currencysymbol,N=this.gridlocalization.currencysymbolposition,N="before"==N?"left":"right",i.cellsformat.length>1&&(B=parseInt(i.cellsformat.substring(1),10))):-1!=i.cellsformat.indexOf("p")&&(P=this.gridlocalization.percentsymbol,N="right",i.cellsformat.length>1&&(B=parseInt(i.cellsformat.substring(1),10))):B=0,h.jqxNumberInput({decimalSeparator:this.gridlocalization.decimalseparator,decimalDigits:B,inputMode:"simple",theme:this.theme,rtl:this.rtl,width:o.width()-1,height:o.height()-1,spinButtons:!0,symbol:P,symbolPosition:N}),this.editors["numberinput_"+v]=h,i.createeditor&&i.createeditor(t,d,h)}if(i._requirewidthupdate&&h.jqxNumberInput({width:o.width()-2}),s){if(""!=d&&null!=d){var O=d;h.jqxNumberInput("setDecimal",O)}else h.jqxNumberInput("setDecimal",0);if(void 0!=this.editcell.defaultvalue&&h.jqxNumberInput("setDecimal",this.editcell.defaultvalue),this.editchar&&this.editchar.length>0){var E=parseInt(this.editchar);isNaN(E)||h.jqxNumberInput("setDecimal",E)}a&&setTimeout(function(){if(g(h.jqxNumberInput("numberInput")),h.jqxNumberInput("_setSelectionStart",0),l.editchar)i.cellsformat.length>0?h.jqxNumberInput("_setSelectionStart",2):h.jqxNumberInput("_setSelectionStart",1),l.editchar=null;else{var e=h.jqxNumberInput("spinButtons");if(e){var t=h.jqxNumberInput("numberInput").val();l._setSelection(h.jqxNumberInput("numberInput")[0],t.length,t.length)}else{var t=h.jqxNumberInput("numberInput").val();l._setSelection(h.jqxNumberInput("numberInput")[0],0,t.length)}h.jqxNumberInput("selectAll")}},10)}}break;case"custom":r.innerHTML="";var v=e.trim(i.datafield).split(" ").join("");-1!=v.indexOf(".")&&(v=v.replace(".",""));var A=this.editors["customeditor_"+v+"_"+t];if(h=void 0==A?e("<div style='overflow: hidden; border-radius: 0px; -moz-border-radius: 0px; -webkit-border-radius: 0px; z-index: 799; top: 0px; left: 0px; position: absolute;' id='customeditor'></div>"):A,h.show(),h.css("top",e(r).parent().position().top),this.oldhscroll?h.css("left",-f+parseInt(e(r).position().left)):h.css("left",parseInt(e(r).position().left)),i.pinned&&h.css("left",f+parseInt(e(r).position().left)),void 0==A){h.prependTo(this.table),h[0].id="customeditor"+this.element.id+v+"_"+t,this.editors["customeditor_"+v+"_"+t]=h;var H=o.width()-1,z=o.height()-1;h.width(H),h.height(z),i.createeditor&&i.createeditor(t,d,h,c,H,z,this.editchar)}i._requirewidthupdate&&h.width(o.width()-2);break;case"template":r.innerHTML="";var v=e.trim(i.datafield).split(" ").join("");-1!=v.indexOf(".")&&(v=v.replace(".",""));var L=this.editors["templateeditor_"+v];if(h=void 0==L?e("<div style='overflow: hidden; border-radius: 0px; -moz-border-radius: 0px; -webkit-border-radius: 0px; z-index: 799; top: 0px; left: 0px; position: absolute;' id='templateeditor'></div>"):L,h.show(),h.css("top",e(r).parent().position().top),this.oldhscroll?h.css("left",-f+parseInt(e(r).position().left)):h.css("left",parseInt(e(r).position().left)),i.pinned&&h.css("left",f+parseInt(e(r).position().left)),void 0==L){h.prependTo(this.table),h[0].id="templateeditor"+this.element.id+v,this.editors["templateeditor_"+v]=h;var H=o.width()-1,z=o.height()-1;h.width(H),h.height(z),i.createeditor&&i.createeditor(t,d,h,c,H,z,this.editchar)}i._requirewidthupdate&&h.width(o.width()-2);break;case"textbox":default:r.innerHTML="",h=this.editors["textboxeditor_"+i.datafield]||e("<input autocomplete='off' autocorrect='off' autocapitalize='off' spellcheck='false' type='textbox' id='textboxeditor'/>"),h[0].id="textboxeditor"+this.element.id+i.datafield,h.appendTo(o),this.rtl&&h.css("direction","rtl"),(s||""==h[0].className)&&(h.addClass(this.toThemeProperty("jqx-input")),h.addClass(this.toThemeProperty("jqx-widget-content")),this.editchar&&this.editchar.length>0?h.val(this.editchar):(""!=i.cellsformat&&(d=this.getcelltext(t,n)),void 0==d&&(d=""),h.val(d)),void 0!=this.editcell.defaultvalue&&h.val(this.editcell.defaultvalue),h.width(o.width()+1),h.height(o.height()+1),i.createeditor&&i.createeditor(t,d,h),""!=i.cellsformat&&(-1==i.cellsformat.indexOf("p")&&-1==i.cellsformat.indexOf("c")&&-1==i.cellsformat.indexOf("n")&&-1==i.cellsformat.indexOf("f")||this.editors["textboxeditor_"+i.datafield]||h.keydown(function(e){var t=e.charCode?e.charCode:e.keyCode?e.keyCode:0,r=String.fromCharCode(t),s=parseInt(r);if(isNaN(s))return!0;if(l._selection(h).length>0)return!0;var a="",n=h.val();if(i.cellsformat.length>1){var o=parseInt(i.cellsformat.substring(1));isNaN(o)&&(o=0)}else var o=0;if(o>0&&-1!=n.indexOf(l.gridlocalization.decimalseparator)&&l._selection(h).start>n.indexOf(l.gridlocalization.decimalseparator))return!0;for(var d=0;d<n.length-o;d++){var c=n.substring(d,d+1);null!=c.match(/^[0-9]+$/)&&(a+=c)}return a.length>=11?!1:void 0}))),this.editors["textboxeditor_"+i.datafield]=h,s&&a&&setTimeout(function(){g(h),l.editchar?(l._setSelection(h[0],1,1),l.editchar=null):l._setSelection(h[0],0,h.val().length)},25)}h&&(h[0].style.zIndex=1+parseInt(r.style.zIndex),e.jqx.browser.msie&&e.jqx.browser.version<8&&(h[0].style.zIndex=1+this.columns.records.length+r.style.zIndex),h.css("display","block"),this.editcell.editor=h,this.editcell[n]?this.editcell[n].editor=h:(this.editcell[n]={},this.editcell[n].editor=h)),s&&i.initeditor&&i.initeditor(t,d,h,c,this.editchar),l.isTouchDevice()||setTimeout(function(){l.content&&(l.content[0].scrollTop=0,l.content[0].scrollLeft=0),l.gridcontent&&(l.gridcontent[0].scrollLeft=0,l.gridcontent[0].scrollTop=0)},10)}},_setSelection:function(e,t,i){try{if("selectionStart"in e)e.setSelectionRange(t,i);else{var r=e.createTextRange();r.collapse(!0),r.moveEnd("character",i),r.moveStart("character",t),r.select()}}catch(s){}},_hideeditors:function(){if(null!=this.editcells){var e=this;for(var t in this.editcells)e.editcell=e.editcells[t],e._hidecelleditor()}},_hidecelleditor:function(e){if(this.editcell){if("selectedrow"===this.editmode){for(var t=0;t<this.columns.records.length;t++){var i=this.columns.records[t];if(this.editcell[i.datafield]&&this.editcell[i.datafield].editor){this.editcell[i.datafield].editor.hide();var r=this.editcell[i.datafield].editor;switch(i.columntype){case"dropdownlist":r.jqxDropDownList({closeDelay:0}),r.jqxDropDownList("hideListBox"),r.jqxDropDownList({closeDelay:300});break;case"combobox":r.jqxComboBox({closeDelay:0}),r.jqxComboBox("hideListBox"),r.jqxComboBox({closeDelay:300});break;case"datetimeinput":r.jqxDateTimeInput("isOpened")&&(r.jqxDateTimeInput({closeDelay:0}),r.jqxDateTimeInput("hideCalendar"),r.jqxDateTimeInput({closeDelay:300}))}}}return void(this.validationpopup&&(this.validationpopup.hide(),this.validationpopuparrow.hide()))}if("checkbox"!=this.editcell.columntype){if(this.editcell.editor)switch(this.editcell.editor.hide(),this.editcell.columntype){case"dropdownlist":this.editcell.editor.jqxDropDownList({closeDelay:0}),this.editcell.editor.jqxDropDownList("hideListBox"),this.editcell.editor.jqxDropDownList({closeDelay:300});break;case"combobox":this.editcell.editor.jqxComboBox({closeDelay:0}),this.editcell.editor.jqxComboBox("hideListBox"),this.editcell.editor.jqxComboBox({closeDelay:300});break;case"datetimeinput":var s=this.editcell.editor;s.jqxDateTimeInput("isOpened")&&(s.jqxDateTimeInput({closeDelay:0}),s.jqxDateTimeInput("hideCalendar"),s.jqxDateTimeInput({closeDelay:300}))}this.validationpopup&&(this.validationpopup.hide(),this.validationpopuparrow.hide()),this.isNestedGrid||0!=e&&this.element.focus()}}},_geteditorvalue:function(t){var i=new String;if(!this.editcell)return null;var r=this.editcell.editor;if("selectedrow"==this.editmode&&this.editcell[t.datafield])var r=this.editcell[t.datafield].editor;if(r){switch(t.columntype){case"textbox":default:if(i=r.val(),""!=t.cellsformat){var s="string",a=this.source.datafields||(this.source._source?this.source._source.datafields:null);if(a){var n="";e.each(a,function(){return this.name==t.displayfield?(this.type&&(n=this.type),!1):void 0}),n&&(s=n)}var o="number"===s||"float"===s||"int"===s||"integer"===s,l="date"===s||"time"===s;if(o||"string"===s&&(-1!=t.cellsformat.indexOf("p")||-1!=t.cellsformat.indexOf("c")||-1!=t.cellsformat.indexOf("n")||-1!=t.cellsformat.indexOf("f"))){if(""===i&&t.nullable)return"";i.indexOf(this.gridlocalization.currencysymbol)>-1&&(i=i.replace(this.gridlocalization.currencysymbol,""));var h=function(e,t,i){var r=e;if(t==i)return e;for(var s=r.indexOf(t);-1!=s;)r=r.replace(t,i),s=r.indexOf(t);return r},d=i;if(d=new Number(d),!isNaN(d))return d;i=h(i,this.gridlocalization.thousandsseparator,""),i=i.replace(this.gridlocalization.decimalseparator,"."),i.indexOf(this.gridlocalization.percentsymbol)>-1&&(i=i.replace(this.gridlocalization.percentsymbol,""));for(var c="",u=0;u<i.length;u++){var p=i.substring(u,u+1);"-"===p&&(c+="-"),"."===p&&(c+="."),null!=p.match(/^[0-9]+$/)&&(c+=p)}i=c,i=i.replace(/ /g,""),i=new Number(i),isNaN(i)&&(i="")}if(l||"string"===s&&(-1!=t.cellsformat.indexOf("H")||-1!=t.cellsformat.indexOf("m")||-1!=t.cellsformat.indexOf("M")||-1!=t.cellsformat.indexOf("y")||-1!=t.cellsformat.indexOf("h")||-1!=t.cellsformat.indexOf("d"))){if(""===i&&t.nullable)return"";var f=i;e.jqx.dataFormat&&(i=e.jqx.dataFormat.tryparsedate(f,this.gridlocalization)),"Invalid Date"!=i&&null!=i||(i="")}}t.displayfield!=t.datafield&&(i={label:i,value:i});break;case"checkbox":r.jqxCheckBox&&(i=r.jqxCheckBox("checked"));break;case"datetimeinput":if(r.jqxDateTimeInput){if(r.jqxDateTimeInput({isEditing:!1}),"none"!==r.jqxDateTimeInput("container").css("display")&&r.jqxDateTimeInput("close"),r.jqxDateTimeInput("_validateValue"),i=r.jqxDateTimeInput("getDate"),null==i)return null;i=new Date(i.toString()),t.displayfield!=t.datafield&&(i={label:i,value:i})}break;case"dropdownlist":if(r.jqxDropDownList){var m=r.jqxDropDownList("selectedIndex"),g=r.jqxDropDownList("listBox").getVisibleItem(m);i=t.displayfield!=t.datafield?g?{label:g.label,value:g.value}:"":g?g.label:"",null==i&&(i="")}break;case"combobox":if(r.jqxComboBox){if(i=r.jqxComboBox("val"),t.displayfield!=t.datafield){var g=r.jqxComboBox("getSelectedItem");null!=g&&(i={label:g.label,value:g.value})}null==i&&(i="")}break;case"numberinput":if(r.jqxNumberInput){this.touchdevice&&r.jqxNumberInput("_doTouchHandling");var v=r.jqxNumberInput("getDecimal");i=new Number(v),i=parseFloat(i),isNaN(i)&&(i=0),null===v&&(i=null),t.displayfield!=t.datafield&&(i={label:i,value:i})}}t.geteditorvalue&&(i="selectedrow"==this.editmode?t.geteditorvalue(this.editcell.row,this.getcellvalue(this.editcell.row,t.datafield),r):t.geteditorvalue(this.editcell.row,this.editcell.value,r))}return i},hidevalidationpopups:function(){this.popups&&(e.each(this.popups,function(){this.validation.remove(),this.validationrow.remove()}),this.popups=new Array),this.validationpopup&&(this.validationpopuparrow.hide(),this.validationpopup.hide())},showvalidationpopup:function(t,i,r){if(void 0==r)var r=this.gridlocalization.validationstring;var s=e("<div style='z-index: 99999; top: 0px; left: 0px; position: absolute;'></div>"),a=e("<div style='width: 20px; height: 20px; z-index: 999999; top: 0px; left: 0px; position: absolute;'></div>");s.html(r),a.addClass(this.toThemeProperty("jqx-grid-validation-arrow-up")),s.addClass(this.toThemeProperty("jqx-grid-validation")),s.addClass(this.toThemeProperty("jqx-rc-all")),s.prependTo(this.table),a.prependTo(this.table);for(var n=this.hScrollInstance,o=n.value,l=parseInt(o),h=this.getcolumn(i).uielement,d=null,c=0;c<this.hittestinfo.length;c++)t===this.hittestinfo[c].row.visibleindex&&(d=this.hittestinfo[c]);if(!d){this.ensurerowvisible(t);var u=this;return s.remove(),a.remove(),void setTimeout(function(){for(var e=null,s=0;s<u.hittestinfo.length;s++)t===u.hittestinfo[s].row.visibleindex&&(e=u.hittestinfo[s]);e&&u.showvalidationpopup(t,i,r)},25)}var p=e(d.visualrow);s.css("top",parseInt(p.position().top)+30+"px");var f=parseInt(s.css("top"));a.css("top",f-12),a.removeClass(),a.addClass(this.toThemeProperty("jqx-grid-validation-arrow-up"));var m=!1;f>=this._gettableheight()&&(a.removeClass(this.toThemeProperty("jqx-grid-validation-arrow-up")),a.addClass(this.toThemeProperty("jqx-grid-validation-arrow-down")),f=parseInt(p.position().top)-this.rowsheight-5,0>f&&(f=0,this.validationpopuparrow.removeClass(this.toThemeProperty("jqx-grid-validation-arrow-down")),m=!0),s.css("top",f+"px"),a.css("top",f+s.outerHeight()-9));var g=-l+parseInt(e(h).position().left);a.css("left",l+g+30);var v=s.width();if(v+g>this.host.width()-20){var x=v+g-this.host.width()+40;g-=x}m?s.css("left",l+parseInt(e(h).position().left)-s.outerWidth()):s.css("left",l+g),s.show(),a.show(),this.popups||(this.popups=new Array),this.popups[this.popups.length]={validation:s,validationrow:a}},_showvalidationpopup:function(t,i,r){var s=this.editcell,a=this.editcell.editor;if("selectedrow"==this.editmode){var s=this.editcell[i];s&&s.editor&&(a=s.editor,s.element=a)}if(a&&!(this.validationpopup&&e.jqx.isHidden(this.validationpopup)&&(this.validationpopup.remove&&(this.validationpopup.remove(),this.validationpopuparrow.remove()),this.validationpopup=null,this.validationpopuparrow=null,void 0===i&&void 0===r&&this.editors&&0===this.editors.length))){if(this.validationpopup)this.validationpopup.html(r);else{var n=e("<div style='z-index: 99999; top: 0px; left: 0px; position: absolute;'></div>"),o=e("<div style='width: 20px; height: 20px; z-index: 999999; top: 0px; left: 0px; position: absolute;'></div>");n.html(r),o.addClass(this.toThemeProperty("jqx-grid-validation-arrow-up")),n.addClass(this.toThemeProperty("jqx-grid-validation")),n.addClass(this.toThemeProperty("jqx-rc-all")),n.prependTo(this.table),o.prependTo(this.table),this.validationpopup=n,this.validationpopuparrow=o}var l=this.hScrollInstance,h=l.value,d=parseInt(h);"selectedrow"==this.editmode?this.visiblerows&&this.visiblerows[this.editcell.visiblerowindex]?this.validationpopup.css("top",this.visiblerows[this.editcell.visiblerowindex].top+(this.rowsheight+5)+"px"):this.validationpopup.css("top",parseInt(e(s.editor).position().top)+(this.rowsheight+5)+"px"):this.validationpopup.css("top",parseInt(e(s.element).parent().position().top)+(this.rowsheight+5)+"px");var c=parseInt(this.validationpopup.css("top"));this.validationpopuparrow.css("top",c-11),this.validationpopuparrow.removeClass(),this.validationpopuparrow.addClass(this.toThemeProperty("jqx-grid-validation-arrow-up"));var u=this._gettableheight(),p=!1;c>=u&&(this.validationpopuparrow.removeClass(this.toThemeProperty("jqx-grid-validation-arrow-up")),this.validationpopuparrow.addClass(this.toThemeProperty("jqx-grid-validation-arrow-down")),c=parseInt(e(s.element).parent().position().top)-this.rowsheight-5,"selectedrow"==this.editmode&&(c=this.visiblerows&&this.visiblerows[this.editcell.visiblerowindex]?this.visiblerows[this.editcell.visiblerowindex].top-this.rowsheight-5:parseInt(e(s.editor).position().top)-this.rowsheight-5),0>c&&(c=0,this.validationpopuparrow.removeClass(this.toThemeProperty("jqx-grid-validation-arrow-down")),p=!0),this.validationpopup.css("top",c+"px"),this.validationpopuparrow.css("top",c+this.validationpopup.outerHeight()-9));var f=-d+parseInt(e(s.element).position().left);this.validationpopuparrow.css("left",d+f+30);var m=this.validationpopup.width();if(m+f>this.host.width()-20){var g=m+f-this.host.width()+40;f-=g}p?this.validationpopup.css("left",d+parseInt(e(s.element).position().left)-this.validationpopup.outerWidth()):this.validationpopup.css("left",d+f),"none"==this.editcell.editor.css("display")?(this.validationpopup.hide(),this.validationpopuparrow.hide()):(this.validationpopup.show(),this.validationpopuparrow.show())}}})}(jqxBaseFramework),function(e){e.extend(e.jqx._jqxGrid.prototype,{_updatefilterrowui:function(t){var i=this.columns.records.length,r=0,s=this;if(this.filterrow){for(var a=0;i>a;a++){var n=this.columns.records[a],o=n.width;o<n.minwidth&&(o=n.minwidth),o>n.maxwidth&&(o=n.maxwidth);var l=e(this.filterrow[0].cells[a]);l.css("left",r);var h=!0;if(l.width()==o&&(h=!1),t&&(h=!0),l.width(o),l[0].left=r,n.hidden&&n.hideable?l.css("display","none"):r+=o,h)if(n.createfilterwidget&&"custom"==n.filtertype)n.createfilterwidget(n,l);else if(n.filterable){var d=function(t,i){var r=e(i.children()[0]);r.width(o-10),r.attr("disabled",t.disabled)};switch(n.filtertype){case"number":case"input":e(l.children()[0]).width(o),l.find("input").width(o-30),l.find("input").attr("disabled",s.disabled),e(l.find(".jqx-dropdownlist-state-normal")).jqxDropDownList({theme:s.theme,disabled:s.disabled});break;case"date":case"range":this.host.jqxDateTimeInput?e(l.children()[0]).jqxDateTimeInput({theme:s.theme,disabled:s.disabled,width:o-10}):d(this,l);break;case"textbox":case"default":d(this,l);break;case"list":case"checkedlist":this.host.jqxDropDownList?e(l.children()[0]).jqxDropDownList({theme:s.theme,disabled:s.disabled,width:o-10}):d(this,l);break;case"bool":case"boolean":this.host.jqxCheckBox?e(l.children()[0]).jqxCheckBox({theme:s.theme,disabled:s.disabled}):d(this,l)}}}var c=e(this.filterrow.children()[0]);c.width(parseInt(r)+2),c.height(this.filterrowheight)}},clearfilterrow:function(t){if(this._disablefilterrow=!0,this.columns.records){for(var i=this.columns.records.length,r=0;i>r;r++){var s=this.columns.records[r],a=e(this.filterrow[0].cells[r]);if(("string"!=typeof t||s.displayfield==t)&&s.filterable){var n=function(t,i){var r=e(i.children()[0]);r.val(""),r[0]&&(t["_oldWriteText"+r[0].id]="")};switch(s.filtertype){case"number":case"input":if(a.find("input").val(""),this.host.jqxDropDownList){var o=e(e(e(a).children()[0]).children()[1]);o.jqxDropDownList("clearSelection");var l=0;if(0==l){var h=(this._getfiltersbytype("number"==s.filtertype?"number":"string"),new e.jqx.filter),d=h.getoperatorsbyfiltertype("number"==s.filtertype?"numberfilter":"stringfilter");null!=s.filtercondition?(l=d.indexOf(s.filtercondition.toUpperCase()),-1==l&&(l="number"==s.filtertype?0:2)):l="number"==s.filtertype?0:2}o.jqxDropDownList({selectedIndex:l}),o.jqxDropDownList("ensureVisible",l)}break;case"date":case"range":this.host.jqxDateTimeInput?e(a.children()[0]).jqxDateTimeInput("setDate",null):n(this,a);break;case"textbox":case"default":n(this,a);break;case"list":this.host.jqxDropDownList?e(a.children()[0]).jqxDropDownList("clearSelection"):n(this,a);break;case"checkedlist":this.host.jqxDropDownList?e(a.children()[0]).jqxDropDownList("checkAll",!1):n(this,a);break;case"bool":case"boolean":this.host.jqxCheckBox?e(a.children()[0]).jqxCheckBox({checked:null}):n(this,a)}}}this._disablefilterrow=!1}},_applyfilterfromfilterrow:function(){if(1!=this._disablefilterrow&&!this.disabled){for(var t=this.columns.records.length,i=this.that,r=0;t>r;r++){var s=new e.jqx.filter,a=this.columns.records[r];if(a.filterable&&null!==a.datafield){var n=i._getcolumntypebydatafield(a),o=i._getfiltertype(n),l=1,h=!0,d=(a.filtertype,function(e,t,r){var s=!0;if(e._filterwidget){var a=e._filterwidget.val();if(""!=a){var n="equal";if("stringfilter"==t)var n="contains";if("numericfilter"==t&&","==i.gridlocalization.decimalseparator&&a.indexOf(i.gridlocalization.decimalseparator)>=0&&(a=a.replace(i.gridlocalization.decimalseparator,".")),"stringfilter"!=t){var o=0;if(-1!=a.indexOf(">")&&(n="greater_than",o=1),-1!=a.indexOf("<")&&(n="less_than",o=1),-1!=a.indexOf("=")&&("greater_than"==n?(n="greater_than_or_equal",o=2):"less_than"==n?(n="less_than_or_equal",o=2):(n="equal",o=1)),0!=o&&(a=a.substring(o),a.length<1))return!1}if(void 0!=e.filtercondition&&(n=e.filtercondition),"datefilter"==t)var h=r.createfilter(t,a,n,null,e.cellsformat,i.gridlocalization);else var h=r.createfilter(t,a,n);r.addfilter(l,h)}else s=!1}return s});switch(a.filtertype){case"range":case"date":if(a._filterwidget.jqxDateTimeInput)if("range"==a.filtertype){var c=a._filterwidget.jqxDateTimeInput("getRange");if(null!=c&&null!=c.from&&null!=c.to){var u="GREATER_THAN_OR_EQUAL",p=new Date(0);p.setHours(0),p.setMinutes(0),p.setFullYear(c.from.getFullYear(),c.from.getMonth(),c.from.getDate());var f=new Date(0);f.setHours(0),f.setMinutes(0),f.setFullYear(c.to.getFullYear(),c.to.getMonth(),c.to.getDate()),f.setHours(c.to.getHours()),f.setMinutes(c.to.getMinutes()),f.setSeconds(c.to.getSeconds());var m=s.createfilter(o,p,u);s.addfilter(0,m);var g="LESS_THAN_OR_EQUAL",v=s.createfilter(o,f,g);s.addfilter(0,v)}else h=!1}else{var c=a._filterwidget.jqxDateTimeInput("getDate");if(null!=c){var p=new Date(0);p.setHours(0),p.setMinutes(0),p.setFullYear(c.getFullYear(),c.getMonth(),c.getDate());var u="EQUAL";void 0!=a.filtercondition&&(u=a.filtercondition);var m=s.createfilter(o,p,u);s.addfilter(0,m)}else h=!1}else h=d(a,o,s);break;case"input":if(a._filterwidget){var c=a._filterwidget.find("input").val(),x=a._filterwidget.find(".filter").jqxDropDownList("selectedIndex"),b=s.getoperatorsbyfiltertype(o)[x];if(i.updatefilterconditions){var w=i.updatefilterconditions(o,s.getoperatorsbyfiltertype(o));void 0!=w&&s.setoperatorsbyfiltertype(o,w);var b=s.getoperatorsbyfiltertype(o)[x]}var y="NULL"==b||"NOT_NULL"==b,_="EMPTY"==b||"NOT_EMPTY"==b;void 0!=c&&c.length>0||y||_?(m=s.createfilter(o,c,b,null,a.cellsformat,i.gridlocalization),s.addfilter(0,m)):h=!1}else h=!1;break;case"number":if(a._filterwidget){var c=a._filterwidget.find("input").val();","==i.gridlocalization.decimalseparator&&c.indexOf(i.gridlocalization.decimalseparator)>=0&&(c=c.replace(i.gridlocalization.decimalseparator,"."));var x=a._filterwidget.find(".filter").jqxDropDownList("selectedIndex"),b=s.getoperatorsbyfiltertype(o)[x];if(i.updatefilterconditions){var w=i.updatefilterconditions(o,s.getoperatorsbyfiltertype(o));void 0!=w&&s.setoperatorsbyfiltertype(o,w);var b=s.getoperatorsbyfiltertype(o)[x];
}var y="NULL"==b||"NOT_NULL"==b,_="EMPTY"==b||"NOT_EMPTY"==b;void 0!=c&&c.length>0||y||_?(m=s.createfilter(o,new Number(c),b,null,a.cellsformat,i.gridlocalization),s.addfilter(0,m)):h=!1}else h=!1;break;case"textbox":case"default":h=d(a,o,s);break;case"bool":case"boolean":if(a._filterwidget.jqxCheckBox){var c=a._filterwidget.jqxCheckBox("checked");if(null!=c){var u="equal",j=s.createfilter(o,c,u);s.addfilter(l,j)}else h=!1}else h=d(a,o,s);break;case"list":var q=a._filterwidget.jqxDropDownList("listBox");if(q.selectedIndex>0){var T=q.getItem(q.selectedIndex),c=T.label,S=T.value,u="equal";""===c&&(u="NULL");var j=s.createfilter(o,c,u);s.addfilter(l,j),S!==c&&(j.data=S)}else h=!1;break;case"checkedlist":if(a._filterwidget.jqxDropDownList){var q=a._filterwidget.jqxDropDownList("listBox"),C=q.getCheckedItems();if(0==C.length){for(var I=1;I<q.items.length;I++){var c=q.items[I].label,S=q.items[I].value,u="not_equal";""===c&&(u="NULL");var j=s.createfilter(o,c,u);S!==c&&(j.data=S),s.addfilter(0,j)}h=!0}else if(C.length!=q.items.length)for(var I=0;I<C.length;I++){var c=C[I].label,S=C[I].value,u="equal";""===c&&(u="NULL");var j=s.createfilter(o,c,u);S!==c&&(j.data=S),s.addfilter(l,j)}else h=!1}else h=d(a,o,s)}this._loading||(h?this.addfilter(a.displayfield,s,!1):this.removefilter(a.displayfield,!1))}}this._loading||this.applyfilters("filterrow")}},_updatefilterrow:function(){var t=e('<div style="position: relative;" id="row00'+this.element.id+'"></div>'),i=0,r=this.columns.records.length,s=this.toThemeProperty("jqx-grid-cell");s+=" "+this.toThemeProperty("jqx-grid-cell-pinned"),s+=" "+this.toThemeProperty("jqx-grid-cell-filter-row");var a=r+10,n=new Array,o=this.that;this.filterrow[0].cells=n,t.height(this.filterrowheight),this.filterrow.children().detach(),this.filterrow.append(t),this._filterrowcache||(this._filterrowcache=new Array),this._initcolumntypes();for(var l=!1,h=new Array,d=document.createDocumentFragment(),c=0;r>c;c++){var u=this.columns.records[c],p=u.width;p<u.minwidth&&(p=u.minwidth),p>u.maxwidth&&(p=u.maxwidth);var f=document.createElement("div");f.style.overflow="hidden",f.style.position="absolute",f.style.height="100%",f.className=s,f=e(f),d.appendChild(f[0]),f[0].style.left=i+"px",this.rtl?(f.css("z-index",a++),f.css("border-left-width","1px")):f.css("z-index",a--),"auto"==p&&(p=0),f[0].style.width=parseFloat(p)+"px",f[0].left=i,u.hidden&&u.hideable?f.css("display","none"):i+=p,n[n.length]=f[0];var m=!0;if(this.rtl){if(this.groupable){var g=this.showrowdetailscolumn&&this.rowdetails?1:0;this.groups.length+g+c>r-1&&(m=!1)}this.showrowdetailscolumn&&this.rowdetails&&c==r-1&&(m=!1)}else{if(this.groupable){var g=this.showrowdetailscolumn&&this.rowdetails?1:0;this.groups.length+g>c&&(m=!1)}this.showrowdetailscolumn&&this.rowdetails&&0==c&&(m=!1)}if(m)if("custom"==u.filtertype&&u.createfilterwidget){var v=function(){o._applyfilterfromfilterrow()};u.createfilterwidget(u,f,v)}else u.filterable&&(this._filterrowcache[u.datafield]?(l=!0,f.append(this._filterrowcache[u.datafield]),u._filterwidget=this._filterrowcache[u.datafield]):(this._addfilterwidget(u,f,p),h[u.datafield]=u._filterwidget))}t[0].appendChild(d),this._filterrowcache=h,e.jqx.browser.msie&&e.jqx.browser.version<8&&t.css("z-index",a--),t.width(parseFloat(i)+2),this.filterrow.addClass(s),this.filterrow.css("border-top-width","1px"),this.filterrow.css("border-right-width","0px"),l&&this._updatefilterrowui(!0)},_addfilterwidget:function(t,i,r){for(var s=this.that,a="",n="",o=0;o<s.dataview.filters.length;o++){var l=s.dataview.filters[o];if(l.datafield&&l.datafield==t.datafield){var o=l.filter.getfilters()[0];a=o.value,"range"===t.filtertype&&(a={from:a,to:l.filter.getfilters()[1].value}),n=o.condition,t.filtercondition=n;break}}var h=function(i,s){var n=e('<input autocomplete="off" type="textarea"/>');n[0].id=e.jqx.utilities.createId(),n.addClass(i.toThemeProperty("jqx-widget")),n.addClass(i.toThemeProperty("jqx-input")),n.addClass(i.toThemeProperty("jqx-rc-all")),n.addClass(i.toThemeProperty("jqx-widget-content")),i.rtl&&n.css("direction","rtl"),i.disabled&&n.attr("disabled",!0),n.attr("disabled",!1),n.appendTo(s),n.width(r-10),n.height(i.filterrowheight-10),n.css("margin","4px"),n.css("box-sizing","border-box"),t.createfilterwidget&&t.createfilterwidget(t,s,n),t._filterwidget=n,n.focus(function(){return i.content[0].scrollLeft=0,setTimeout(function(){i.content[0].scrollLeft=0},10),i.focusedfilter=n,n.addClass(i.toThemeProperty("jqx-fill-state-focus")),!1}),n.blur(function(){n.removeClass(i.toThemeProperty("jqx-fill-state-focus"))}),n.keydown(function(e){"13"==e.keyCode&&i._applyfilterfromfilterrow(),n[0]._writeTimer&&clearTimeout(n[0]._writeTimer),n[0]._writeTimer=setTimeout(function(){i._loading||(i["_oldWriteText"+n[0].id]||(i["_oldWriteText"+n[0].id]=""),i["_oldWriteText"+n[0].id].length>0&&i["_oldWriteText"+n[0].id]!=n.val()?(i._applyfilterfromfilterrow(),i["_oldWriteText"+n[0].id]=n.val()):0==i["_oldWriteText"+n[0].id].length&&(i._applyfilterfromfilterrow(),i["_oldWriteText"+n[0].id]=n.val()))},t.filterdelay),i.focusedfilter=n}),i.host.removeClass("jqx-disableselect"),i.content.removeClass("jqx-disableselect"),n.val(a)};switch(null!=t.datatype&&("number"==t.filtertype&&("string"!=t.datatype&&"date"!=t.datatype&&"bool"!=t.datatype||(t.filtertype="textbox")),"date"==t.filtertype&&("string"!=t.datatype&&"number"!=t.datatype&&"bool"!=t.datatype||(t.filtertype="textbox")),"bool"==t.filtertype&&("string"!=t.datatype&&"number"!=t.datatype&&"date"!=t.datatype||(t.filtertype="textbox"))),t.filtertype){case"number":case"input":var d=e("<div></div>");d.width(i.width()),d.height(this.filterrowheight),i.append(d);var r=i.width()-21,c=function(i,r,n){var o=e('<input style="float: left;" autocomplete="off" type="textarea"/>');return s.rtl&&(o.css("float","right"),o.css("direction","rtl")),o[0].id=e.jqx.utilities.createId(),o.addClass(s.toThemeProperty("jqx-widget jqx-input jqx-rc-all jqx-widget-content")),o.appendTo(i),o.width(r-16),s.disabled&&o.attr("disabled",!0),o.attr("disabled",!1),o.height(s.filterrowheight-10),o.css("margin","4px"),o.css("margin-right","2px"),o.focus(function(){s.focusedfilter=o,o.addClass(s.toThemeProperty("jqx-fill-state-focus"))}),o.blur(function(){o.removeClass(s.toThemeProperty("jqx-fill-state-focus"))}),o.keydown(function(e){"13"==e.keyCode&&s._applyfilterfromfilterrow(),o[0]._writeTimer&&clearTimeout(o[0]._writeTimer),o[0]._writeTimer=setTimeout(function(){s._loading||s["_oldWriteText"+o[0].id]!=o.val()&&(s._applyfilterfromfilterrow(),s["_oldWriteText"+o[0].id]=o.val())},t.filterdelay),s.focusedfilter=o}),o.val(a),o};c(d,r);var u=s._getfiltersbytype("number"==t.filtertype?"number":"string"),p=e("<div class='filter' style='float: left;'></div>");p.css("margin-top","4px"),p.appendTo(d),s.rtl&&p.css("float","right");var f=0;if(null!=t.filtercondition){var o=new e.jqx.filter,m=o.getoperatorsbyfiltertype("number"==t.filtertype?"numericfilter":"stringfilter"),g=m.indexOf(t.filtercondition.toUpperCase());-1!=g&&(f=g)}var v=180;if("input"==t.filtertype&&(v=240,0==f)){var g=u.indexOf("contains")||2;-1!=g&&null==t.filtercondition&&(f=g)}p.jqxDropDownList({disabled:s.disabled,touchMode:s.touchmode,rtl:s.rtl,dropDownHorizontalAlignment:"right",enableBrowserBoundsDetection:!0,selectedIndex:f,width:18,height:21,dropDownHeight:150,dropDownWidth:v,source:u,theme:s.theme}),p.jqxDropDownList({selectionRenderer:function(e){return""}}),p.jqxDropDownList("setContent",""),p.find(".jqx-dropdownlist-content").hide(),t.createfilterwidget&&t.createfilterwidget(t,i,d),t._filterwidget=d;var x=null;this.addHandler(p,"select",function(){var e=p.jqxDropDownList("getSelectedItem").label;t._filterwidget.find("input").val().length>0&&!s.refreshingfilter&&s._applyfilterfromfilterrow(),"input"!=t.filtertype||s.refreshingfilter?0!=t._filterwidget.find("input").val().length||s.refreshingfilter||"null"!=x&&"not null"!=x&&"null"!=e&&"not null"!=e||s._applyfilterfromfilterrow():s._applyfilterfromfilterrow(),x=e});break;case"textbox":case"default":default:h(this,i);break;case"none":break;case"date":case"range":if(this.host.jqxDateTimeInput){var b=e("<div></div>");b.css("margin","4px"),b.appendTo(i);var w={calendar:this.gridlocalization,todayString:this.gridlocalization.todaystring,clearString:this.gridlocalization.clearstring};b.jqxDateTimeInput({firstDayOfWeek:this.gridlocalization.firstDay,readonly:!0,disabled:s.disabled,localization:w,rtl:s.rtl,showFooter:!0,formatString:t.cellsformat,selectionMode:t.filtertype,value:null,theme:this.theme,width:r-10,height:this.filterrowheight-10}),t.createfilterwidget&&t.createfilterwidget(t,i,b),a&&a.from?b.jqxDateTimeInput("setRange",a.from,a.to):a&&a.toString().length>1&&b.val(a),t._filterwidget=b,this.addHandler(b,"valueChanged",function(e){s.refreshingfilter||(s._applyfilterfromfilterrow(),s.focusedfilter=null)})}else h(this,i);break;case"list":case"checkedlist":if(this.host.jqxDropDownList){var y=this._getfilterdataadapter(t),_=!1,p=e("<div></div>");p.css("margin","4px");var j=t.datafield,q="checkedlist"==t.filtertype,v=150>r?220:"auto";y.dataBind();var T=y.records,S=T.length<8;_=S,p.appendTo(i),p.jqxDropDownList({placeHolder:s.gridlocalization.filterchoosestring,disabled:s.disabled,touchMode:s.touchmode,rtl:s.rtl,checkboxes:q,dropDownWidth:v,source:y.records,autoDropDownHeight:S,theme:this.theme,width:r-10,height:this.filterrowheight-10,displayMember:t.displayfield,valueMember:j}),t.createfilterwidget&&t.createfilterwidget(t,i,p);var C=p.jqxDropDownList("listBox");if(q){p.jqxDropDownList({selectionRenderer:function(){var e='<span class="'+s.toThemeProperty("jqx-item")+'" style="top: 2px; position: relative; color: inherit; border: none; background-color: transparent;">'+s.gridlocalization.filterselectstring+"</span>";return e}});var I=e('<span style="top: 2px; position: relative; color: inherit; border: none; background-color: transparent;">'+s.gridlocalization.filterselectstring+"</span>");if(I.addClass(this.toThemeProperty("jqx-item")),void 0!=C){_||C.host.height(200),C.insertAt(s.gridlocalization.filterselectallstring,0),p.jqxDropDownList("setContent",I);var k=!0;new Array;C.checkAll(!1),s.addHandler(C.host,"checkChange",function(e){if(p[0]._selectionChanged=!0,k)if(e.args.label!=s.gridlocalization.filterselectallstring){k=!1,C.host.jqxListBox("checkIndex",0,!0,!1);var t=C.host.jqxListBox("getCheckedItems"),i=C.host.jqxListBox("getItems");1==t.length?C.host.jqxListBox("uncheckIndex",0,!0,!1):i.length!=t.length&&C.host.jqxListBox("indeterminateIndex",0,!0,!1),k=!0}else k=!1,e.args.checked?C.host.jqxListBox("checkAll",!1):C.host.jqxListBox("uncheckAll",!1),k=!0})}}else C.insertAt({label:this.gridlocalization.filterchoosestring,value:""},0),p.jqxDropDownList({selectedIndex:0});t._filterwidget=p;p.jqxDropDownList("dropdownlistWrapper");"list"==t.filtertype?this.addHandler(p,"select",function(e){s.refreshingfilter||e.args&&"none"!=e.args.type&&(s._applyfilterfromfilterrow(),s.focusedfilter=null)}):this.addHandler(p,"close",function(e){p[0]._selectionChanged&&(s._applyfilterfromfilterrow(),s.focusedfilter=null,p[0]._selectionChanged=!1)})}else h(this,i);break;case"bool":case"boolean":if(this.host.jqxCheckBox){var D=e('<div tabIndex=0 style="opacity: 0.99; position: absolute; top: 50%; left: 50%; margin-top: -7px; margin-left: -10px;"></div>');D.appendTo(i),D.jqxCheckBox({disabled:s.disabled,enableContainerClick:!1,animationShowDelay:0,animationHideDelay:0,hasThreeStates:!0,theme:this.theme,checked:null}),t.createfilterwidget&&t.createfilterwidget(t,i,D),a===!0||"true"==a?D.jqxCheckBox({checked:!0}):a!==!1&&"false"!=a||D.jqxCheckBox({checked:!1}),t._filterwidget=D,this.addHandler(D,"change",function(e){s.refreshingfilter||e.args&&(s.focusedfilter=null,s._applyfilterfromfilterrow())})}else h(this,i)}},_getfilterdataadapter:function(t){var i=!!this.source._source;if(i){var r={localdata:e.extend(!0,{},this.source.records),datatype:this.source.datatype,async:!1},s=this;dataadapter=new e.jqx.dataAdapter(r,{autoBind:!1,autoSort:!0,autoSortField:t.displayfield,async:!1,uniqueDataFields:[t.displayfield],beforeLoadComplete:function(e){var i=new Array;if(t.cellsformat){for(var r=s._getcolumntypebydatafield(t),a=0;a<e.length;a++){i.push(e[a]);var n=e[a][t.displayfield];e[a][t.displayfield+"JQValue"]=n,"date"===r?null!=n?e[a][t.displayfield]=dataadapter.formatDate(n,t.cellsformat,s.gridlocalization):e[a][t.displayfield]="":"number"!==r&&"float"!==r&&"int"!==r||(null!=n?e[a][t.displayfield]=dataadapter.formatNumber(n,t.cellsformat,s.gridlocalization):e[a][t.displayfield]="")}return i}return e}})}else dataadapter=new e.jqx.dataAdapter(this.source,{autoBind:!1,uniqueDataFields:[t.displayfield],autoSort:!0,autoSortField:t.displayfield,async:!1});if(t.filteritems&&t.filteritems.length>0){var r={localdata:t.filteritems,datatype:this.source.datatype,async:!1};dataadapter=new e.jqx.dataAdapter(r,{autoBind:!1,async:!1})}else if(t.filteritems){if(t.filteritems._source)return t.filteritems._options.autoBind=!1,t.filteritems._options.async=!1,t.filteritems;if(e.isFunction(t.filteritems))return t.filteritems()}return dataadapter},refreshfilterrow:function(){if(this.showfilterrow){this.refreshingfilter=!0,this._updatefilterrowui(),this._updatelistfilters(!0,!0);for(var t=this.that,i=this.columns.records.length,r=0;i>r;r++){var s=this.columns.records[r];if(s.filterable&&s.filter){var a=s.filter.getfilters();if(a.length>0){var n=a[0].value,o=s._filterwidget,l=s._filterwidget.parent();if(null!=o)switch(s.filtertype){case"number":if(l.find("input").val(n),this.host.jqxDropDownList){var h=s.filter.getoperatorsbyfiltertype("numericfilter");o.find(".filter").jqxDropDownList("selectIndex",h.indexOf(a[0].condition))}break;case"input":if(l.find("input").val(n),this.host.jqxDropDownList){var h=s.filter.getoperatorsbyfiltertype("stringfilter");o.find(".filter").jqxDropDownList("selectIndex",h.indexOf(a[0].condition))}break;case"date":case"range":if(this.host.jqxDateTimeInput){var n=s.filter.getfilterat(0).filtervalue;if(void 0!=n){if(s.filter.getfilterat(1))var d=s.filter.getfilterat(1).filtervalue;else d=n;"range"==s.filtertype?e(l.children()[0]).jqxDateTimeInput("setRange",new Date(n),new Date(d)):e(l.children()[0]).jqxDateTimeInput("setDate",new Date(n))}}else o.val(n);break;case"textbox":case"default":o.val(n),t["_oldWriteText"+o[0].id]=n;break;case"bool":case"boolean":this.host.jqxCheckBox?e(l.children()[0]).jqxCheckBox({checked:n}):o.val(n)}}}}this.refreshingfilter=!1}},_destroyedfilters:function(){for(var t=(this.that,this.columns.records.length),i=0;t>i;i++){var r=this.columns.records[i];if(r.filterable){var s=r._filterwidget;if("list"==r.filtertype||"checkedlist"==r.filtertype)this.removeHandler(s,"select"),this.removeHandler(s,"close"),s.jqxDropDownList("destroy");else if("date"==r.filtertype||"range"==r.filtertype)this.removeHandler(s,"valueChanged"),s.jqxDateTimeInput("destroy");else if("bool"==r.filtertype)this.removeHandler(s,"change"),s.jqxCheckBox("destroy");else if("number"==r.filtertype||"input"===r.filtertype){var a=s.find(".jqx-input");this.removeHandler(a,"keydown");var n=e(s.children()[1]);n.jqxDropDownList("destroy")}else this.removeHandler(s,"keydown");s.remove()}}},_updatelistfilters:function(t,i){for(var r=this.that,s=this.columns.records.length,a=0;s>a;a++){var n=this.columns.records[a];if(n.filterable&&("list"==n.filtertype||"checkedlist"==n.filtertype)){var o=n._filterwidget;if(t){var l=this._getfilterdataadapter(n);o.jqxDropDownList({source:l});var h=o.jqxDropDownList("getItems"),d=!0;if(h.length!=l.records.length+1&&(d=!1),d)for(var c=1;c<h.length;c++)if(h[c].label!=l.records[c-1][n.displayfield]){d=!1;break}if(d&&!i)continue}else if(void 0==n.filter){o.jqxDropDownList("renderSelection");continue}var u="checkedlist"==n.filtertype,h=o.jqxDropDownList("getItems"),p=o.jqxDropDownList("listBox");if(o.jqxDropDownList("dataBind"),u){o.jqxDropDownList({selectionRenderer:function(){return r.gridlocalization.filterselectstring}}),null==p.getItem(this.gridlocalization.filterselectallstring)&&p.insertAt(this.gridlocalization.filterselectallstring,0);var f=e('<span style="top: 2px; position: relative; color: inherit; border: none; background-color: transparent;">'+this.gridlocalization.filterselectstring+"</span>");if(f.addClass(this.toThemeProperty("jqx-item")),o.jqxDropDownList("setContent",f),p.checkAll(!1),n.filter){for(var m=n.filter.getfilters(),c=0;c<p.items.length;c++){var g=p.items[c].label,v=void 0;e.each(m,function(){var e;"NOT_EQUAL"==this.condition?e=g!=this.value:"EQUAL"==this.condition&&(e=g==this.value),v=void 0==v&&void 0!==e?e:"EQUAL"==this.condition?v||e:v&&e}),v?p.checkIndex(c,!1,!1):p.uncheckIndex(c,!1,!1)}p._updateCheckedItems();var x=p.getCheckedItems().length;p.items.length!=x&&x>0&&p.host.jqxListBox("indeterminateIndex",0,!0,!1)}}else if(null==p.getItem(this.gridlocalization.filterselectallstring)&&p.insertAt({label:this.gridlocalization.filterchoosestring,value:""},0),o.jqxDropDownList({selectedIndex:0}),n.filter){for(var m=n.filter.getfilters(),b=-1,c=0;c<p.items.length;c++){var g=p.items[c].label;e.each(m,function(){return"NOT_EQUAL"==this.condition?!0:g==this.value?(b=c,!1):void 0})}-1!=b&&p.selectIndex(b)}h.length<8?o.jqxDropDownList("autoDropDownHeight",!0):o.jqxDropDownList("autoDropDownHeight",!1)}}},_renderfiltercolumn:function(){var t=this.that;if(this.filterable){if(!this.columns.records)return;e.each(this.columns.records,function(i,r){var s=!1;t.autoshowfiltericon?this.filter?(e(this.filtericon).show(),s=!0):e(this.filtericon).hide():this.filterable&&(e(this.filtericon).show(),s=!0),"right"!=this.align||this.renderer||this.element&&(s?this.element.firstChild.firstChild.style.marginRight="18px":this.element.firstChild.firstChild.style.marginRight="2px")})}},_initcolumntypes:function(){if(this.columns&&this.columns.records){var t=this.source._source.datafields;if(t)for(var i=0;i<this.columns.records.length;i++){var r=this.columns.records[i];if(!r.datatype){var s="";e.each(t,function(){return this.name==r.displayfield?(this.type&&(s=this.type),!1):void 0}),""!=s?r.datatype=s:r.datatype=""}}}},_getcolumntypebydatafield:function(t){var i=this.that,r="string",s=i.source.datafields||(i.source._source?i.source._source.datafields:null);if(s){var a="";if(e.each(s,function(){return this.name==t.displayfield?(this.type&&(a=this.type),!1):void 0}),a)return a}if(null!=t){if(void 0==this.dataview.cachedrecords)return r;var n=null;if(this.virtualmode)e.each(this.dataview.cachedrecords,function(){return n=this[t.displayfield],!1});else{if(0==this.dataview.cachedrecords.length)return r;if(n=this.dataview.cachedrecords[0][t.displayfield],null!=n&&""==n.toString())return"string"}if(null!=n)if("boolean"==typeof n)r="boolean";else if(e.jqx.dataFormat.isNumber(n))r="number";else{var o=new Date(n);if("NaN"==o.toString()||"Invalid Date"==o.toString())if(e.jqx.dataFormat){if(o=e.jqx.dataFormat.tryparsedate(n),null!=o){if(o&&o.getFullYear()&&1970==o.getFullYear()&&0==o.getMonth()&&1==o.getDate()){var l=new Number(n);return isNaN(l)?"string":"number"}return"date"}r="string"}else r="string";else r="date"}}return r},_getfiltersbytype:function(e){var t=this.that,i="";switch(e){case"number":case"float":case"int":i=t.gridlocalization.filternumericcomparisonoperators;break;case"date":i=t.gridlocalization.filterdatecomparisonoperators;break;case"boolean":case"bool":i=t.gridlocalization.filterbooleancomparisonoperators;break;case"string":default:i=t.gridlocalization.filterstringcomparisonoperators}return i},_getfiltertype:function(e){var t="stringfilter";switch(e){case"number":case"int":case"float":case"decimal":t="numericfilter";break;case"boolean":case"bool":t="booleanfilter";break;case"date":case"time":case"range":t="datefilter";break;case"string":case"input":t="stringfilter"}return t},_buildfilter:function(t,i,r){var s=e(i).find(".filter1"),a=e(i).find(".filter2"),n=e(i).find(".filter3"),o=e(i).find(".filtertext1"+t.element.id),l=e(i).find(".filtertext2"+t.element.id),h=o.val(),d=l.val(),c=t._getcolumntypebydatafield(r),u=(t._getfiltersbytype(c),new e.jqx.filter),p=t._getfiltertype(c);if("default"===t.filtermode&&"list"!==r.filtertype&&"checkedlist"!==r.filtertype){var f=s.jqxDropDownList("selectedIndex"),m=a.jqxDropDownList("selectedIndex"),g=n.jqxDropDownList("selectedIndex"),v=null,x=null;if(t.updatefilterconditions){var b=t.updatefilterconditions(p,u.getoperatorsbyfiltertype(p));void 0!=b&&u.setoperatorsbyfiltertype(p,b)}var w=!1,y=u.getoperatorsbyfiltertype(p)[f],n=u.getoperatorsbyfiltertype(p)[g],_="NULL"==y||"NOT_NULL"==y,j="EMPTY"==y||"NOT_EMPTY"==y;void 0==y&&(y=u.getoperatorsbyfiltertype(p)[0]),void 0==n&&(n=u.getoperatorsbyfiltertype(p)[0]),(h.length>0||_||j)&&(v=u.createfilter(p,h,y,null,r.cellsformat,t.gridlocalization),u.addfilter(m,v),w=!0);var q="NULL"==n||"NOT_NULL"==n,T="EMPTY"==n||"NOT_EMPTY"==n;if((d.length>0||q||T)&&(x=u.createfilter(p,d,n,null,r.cellsformat,t.gridlocalization),u.addfilter(m,x),w=!0),w){var S=r.displayfield;this.addfilter(S,u,!0)}else this._clearfilter(t,i,r)}else if("excel"===t.filtermode||"list"===r.filtertype||"checkedlist"===r.filtertype){var C=!1,I=s.data().jqxListBox.instance,k="excel"===this.filtermode||"checkedlist"===r.filtertype,D=I.getCheckedItems();if(!k)var D=I.getSelectedItems();if(0==D.length){for(var M=1;M<I.items.length;M++){var P=I.items[M].value;void 0===P&&(P="");var N="not_equal";if(P&&P.indexOf&&(P.indexOf("|")>=0||P.indexOf(" AND ")>=0||P.indexOf(" OR ")>=0||P.indexOf(" and ")>=0||P.indexOf(" or ")>=0)){P=P.replace("|",""),P=P.replace("AND",""),P=P.replace("OR",""),P=P.replace("and",""),P=P.replace("or","");var N="equal"}if("datefilter"==p)var B=u.createfilter(p,P,N,null,r.cellsformat,t.gridlocalization);else var B=u.createfilter(p,P,N,null);u.addfilter(0,B)}C=!0}else if(D.length!=I.items.length){C=!0;for(var M=0;M<D.length;M++)if(t.gridlocalization.filterselectallstring!==D[M].value){var P=D[M].value;void 0===P&&(P="");var N="equal";if("datefilter"==p)var B=u.createfilter(p,P,N,null,r.cellsformat,t.gridlocalization);else var B=u.createfilter(p,P,N,null);var O=1;u.addfilter(O,B)}}else C=!1;if(C){var S=r.displayfield;this.addfilter(S,u,!0)}else{var S=r.displayfield;this.removefilter(S,!0)}}},_clearfilter:function(e,t,i){var r=i.displayfield;this.removefilter(r,!0)},addfilter:function(e,t,i){if(this._loading)throw new Error("jqxGrid: "+this.loadingerrormessage);var r=this.getcolumn(e),s=this._getcolumn(e);void 0!=r&&null!=r&&(r.filter=t,s.filter=t,this.dataview.addfilter(e,t),1==i&&void 0!=i&&this.applyfilters("add"))},removefilter:function(e,t){if(this._loading)throw new Error("jqxGrid: "+this.loadingerrormessage);var i=this.getcolumn(e),r=this._getcolumn(e);void 0!=i&&null!=i&&null!=i.filter&&(this.dataview.removefilter(e,i.filter),i.filter=null,r.filter=null,this.showfilterrow&&this.clearfilterrow(e),1!=t&&t===!1||this.applyfilters("remove"))},applyfilters:function(t){if(this.dataview.filters.length>=0&&(this.virtualmode||!this.source.localdata)&&null!=this.source&&this.source.filter){var i=-1;this.pageable?(i=this.dataview.pagenum,this.dataview.pagenum=0):(this.vScrollInstance.setPosition(0),this.loadondemand=!0,this._renderrows(this.virtualsizeinfo)),this.pageable&&this.virtualmode&&(this.dataview.pagenum=0),this.source.filter(this.dataview.filters,this.dataview.records,this.dataview.records.length),this.pageable&&!this.virtualmode&&(this.dataview.pagenum=i)}if(this._cellscache=new Array,this.dataview.clearsortdata&&this.dataview.clearsortdata(),this.virtualmode)return this.pageable&&(this.dataview.updateview(),this.gotopage&&this.gotopage(0)),this.rendergridcontent(!1,!1),this.showfilterrow&&"string"!=typeof t&&e.isEmptyObject(t)&&this.refreshfilterrow(),this._postrender("filter"),void this._raiseEvent(13,{filters:this.dataview.filters});this.selectedrowindexes,this.that;if(this.dataview.refresh(),this.dataview.clearsortdata&&this.sortcolumn&&this.sortdirection){var r=this.sortdirection.ascending?"asc":"desc";this._loading?this.sortby(this.sortcolumn,r,null,!1,!1):this.sortby(this.sortcolumn,r,null,!1)}this.pageable&&(this.dataview.updateview(),this.gotopage&&(this.gotopage(0),this.updatepagerdetails())),this._updaterowsproperties(),!this.groupable||this.groupable&&0==this.groups.length?(this._rowdetailscache=new Array,this.virtualsizeinfo=null,this._pagescache=new Array,this.columns&&this.columns.records&&this.columns.records.length>0&&!this.columns.records[0].filtericon&&(this.prerenderrequired=!0),this.rendergridcontent(!0,!1),this._updatecolumnwidths(),this._updatecellwidths(),this._renderrows(this.virtualsizeinfo),this.showaggregates&&this._updatecolumnsaggregates&&this._updatecolumnsaggregates(),this._postrender("filter")):(this._rowdetailscache=new Array,this._render(!0,!0,!1,!1,!1),this.showfilterrow&&this._updatefocusedfilter(),this._updatecolumnwidths(),this._updatecellwidths(),this._renderrows(this.virtualsizeinfo),this._postrender("filter")),this.showfilterrow&&"string"!=typeof t&&e.isEmptyObject(t)&&this.refreshfilterrow(),this._raiseEvent(13,{filters:this.dataview.filters})},getfilterinformation:function(){for(var e=new Array,t=0;t<this.dataview.filters.length;t++){var i=this.getcolumn(this.dataview.filters[t].datafield);e[t]={filter:this.dataview.filters[t].filter,datafield:i.datafield,displayfield:i.displayfield,filtercolumn:i.datafield,filtercolumntext:i.text}}return e},clearfilters:function(t){var i=this.that;if(this.showfilterrow&&this.clearfilterrow(),this.columns.records){var r=1==t||t!==!1;e.each(this.columns.records,function(){i.removefilter(this.displayfield,!r)})}t!==!1&&(1!=t&&t===!1||this.applyfilters("clear"))},_destroyfilterpanel:function(){var t=e(e.find("#filterclearbutton"+this.element.id)),i=e(e.find("#filterbutton"+this.element.id)),r=e(e.find("#filter1"+this.element.id)),s=e(e.find("#filter2"+this.element.id)),a=e(e.find("#filter3"+this.element.id)),n=e(e.find(".filtertext1"+this.element.id)),o=e(e.find(".filtertext2"+this.element.id));n.length>0&&o.length>0&&(n.removeClass(),o.removeClass(),n.remove(),o.remove()),t.length>0&&(t.jqxButton("destroy"),i.jqxButton("destroy"),this.removeHandler(t,"click"),this.removeHandler(i,"click")),r.length>0&&r.jqxDropDownList("destroy"),s.length>0&&s.jqxDropDownList("destroy"),a.length>0&&a.jqxDropDownList("destroy");var r=e(e.find("#filter1"+this.element.id+"ex")),s=e(e.find("#filter2"+this.element.id+"ex")),a=e(e.find("#filter3"+this.element.id+"ex"));r.length>0&&r.jqxDropDownList("destroy"),s.length>0&&s.jqxDropDownList("destroy"),a.length>0&&a.jqxDropDownList("destroy")},_updatefilterpanel:function(t,i,r){null!=t&&void 0!=t||(t=this);var s=t._getcolumntypebydatafield(r),a=t._getfiltersbytype(s);if(!t.host.jqxDropDownList)throw new Error("jqxGrid: Missing reference to jqxdropdownlist.js.");t.filterpanel.detach(),t.excelfilterpanel.detach(),r.filterpanel&&r.filterpanel.detach(),e(i).children().detach();var n=e(t.menuitemsarray[6]);if(e(n).css("height","190px"),r.createfilterpanel&&!r.filterpanel){var o=e("<div class='filter' style='margin-left: 7px;'></div>");e(i).append(o),r.createfilterpanel(r.displayfield,o),r.filterpanel=o}"list"===r.filtertype||"checkedlist"===r.filtertype?e(i).append(t.excelfilterpanel):"custom"!==r.filtertype?e(i).append(t.filterpanel):r.filterpanel&&e(i).append(r.filterpanel);var l=e(i),h=l.find("#filterclearbutton"+t.element.id),d=l.find("#filterbutton"+t.element.id),c=l.find(".filter1"),u=l.find(".filter2"),p=l.find(".filter3"),f=l.find(".filtertext1"+t.element.id),m=l.find(".filtertext2"+t.element.id);if(this._hasdatefilter&&"list"!==r.filtertype&&"checkedlist"!==r.filtertype&&"custom"!==r.filtertype){var g=f.parent(),v=m.parent();if(g.children().remove(),v.children().remove(),"date"==r.filtertype){t._showwhere.text(t.gridlocalization.filtershowrowdatestring);var x=e("<div class='filtertext1"+t.element.id+"' style='margin-top: 3px; margin-bottom: 3px;'></div>");g.append(x);var b=function(e){var i={calendar:t.gridlocalization,todayString:t.gridlocalization.todaystring,clearString:t.gridlocalization.clearstring};e.jqxDateTimeInput({disabled:t.disabled,firstDayOfWeek:t.gridlocalization.firstDay,localization:i,rtl:t.rtl,width:t._filterpanelwidth-15,height:23,value:null,formatString:r.cellsformat,theme:t.theme})};b(x);var x=e("<div class='filtertext2"+t.element.id+"' style='margin-top: 3px; margin-bottom: 3px;'></div>");v.append(x),b(x)}else{t._showwhere.text(t.gridlocalization.filtershowrowstring);var x=e("<input class='filtertext1"+t.element.id+"' style='height: 23px; margin-top: 3px; margin-bottom: 3px;' type='text'></input>");g.append(x);var b=function(e){e.addClass(t.toThemeProperty("jqx-input")),e.addClass(t.toThemeProperty("jqx-widget-content")),e.addClass(t.toThemeProperty("jqx-rc-all")),e.width(t._filterpanelwidth-21)};b(x);var x=e("<input class='filtertext2"+t.element.id+"' style='height: 23px; margin-top: 3px; margin-bottom: 3px;' type='text'></input>");v.append(x),b(x)}var f=l.find(".filtertext1"+t.element.id),m=l.find(".filtertext2"+t.element.id)}if("date"!=r.filtertype?(f.val(""),m.val("")):(f.val(null),m.val(null)),this.removeHandler(d,"click"),this.addHandler(d,"click",function(){t._buildfilter(t,i,r),t._closemenu()}),this.removeHandler(h,"click"),this.addHandler(h,"click",function(){t._clearfilter(t,i,r),t._closemenu()}),this.removeHandler(d,"keydown"),this.addHandler(d,"keydown",function(e){13===e.keyCode&&(t._buildfilter(t,i,r),t._closemenu())}),this.removeHandler(h,"keydown"),this.addHandler(h,"keydown",function(e){13===e.keyCode&&(t._clearfilter(t,i,r),t._closemenu())}),this.removeHandler(f,"keydown"),this.addHandler(f,"keydown",function(e){13===e.keyCode&&d.trigger("click"),27===e.keyCode&&t._closemenu()}),this.removeHandler(m,"keydown"),this.addHandler(m,"keydown",function(e){13===e.keyCode&&d.trigger("click"),27===e.keyCode&&t._closemenu()}),"default"===this.filtermode&&"list"!==r.filtertype&&"checkedlist"!==r.filtertype&&"custom"!==r.filtertype){if(c.jqxDropDownList("source")!=a&&(c.jqxDropDownList({enableBrowserBoundsDetection:!1,source:a}),p.jqxDropDownList({enableBrowserBoundsDetection:!1,source:a})),"boolean"==s||"bool"==s)c.jqxDropDownList({autoDropDownHeight:!0,selectedIndex:0}),p.jqxDropDownList({autoDropDownHeight:!0,selectedIndex:0});else{var w=!1;a&&a.length&&a.length<5&&(w=!0),c.jqxDropDownList({autoDropDownHeight:w,selectedIndex:2}),p.jqxDropDownList({autoDropDownHeight:w,selectedIndex:2})}u.jqxDropDownList({selectedIndex:0});var y=r.filter,_=new e.jqx.filter,j="";switch(s){case"number":case"int":case"float":case"decimal":j="numericfilter",q=_.getoperatorsbyfiltertype("numericfilter");break;case"boolean":case"bool":j="booleanfilter",q=_.getoperatorsbyfiltertype("booleanfilter");break;case"date":case"time":j="datefilter",q=_.getoperatorsbyfiltertype("datefilter");break;case"string":j="stringfilter",q=_.getoperatorsbyfiltertype("stringfilter")}if(null!=y){var g=y.getfilterat(0),v=y.getfilterat(1);y.getoperatorat(0);if(t.updatefilterconditions){var q=[],T=t.updatefilterconditions(j,q);if(void 0!=T){for(var S=0;S<T.length;S++)T[S]=T[S].toUpperCase();y.setoperatorsbyfiltertype(j,T),q=T}}var C="default";if(null!=g){var I=q.indexOf(g.comparisonoperator),k=g.filtervalue;f.val(k),c.jqxDropDownList({selectedIndex:I,animationType:C})}if(null!=v){var D=q.indexOf(v.comparisonoperator),M=v.filtervalue;m.val(M),p.jqxDropDownList({selectedIndex:D,animationType:C})}void 0==y.getoperatorat(0)?u.jqxDropDownList({selectedIndex:0,animationType:C}):"and"==y.getoperatorat(0)||0==y.getoperatorat(0)?u.jqxDropDownList({selectedIndex:0}):u.jqxDropDownList({selectedIndex:1})}t.updatefilterpanel&&t.updatefilterpanel(c,p,u,f,m,d,h,y,j,q),(!this._hasdatefilter||this._hasdatefilter&&"date"!=r.filtertype)&&(this.touchdevice||(f.focus(),setTimeout(function(){f.focus()},10)))}else if("excel"===this.filtermode||"list"===r.filtertype||"checkedlist"===r.filtertype){var P=t._getfilterdataadapter(r),j=t._getfiltertype(s),N="excel"===this.filtermode||"checkedlist"===r.filtertype;
if(c.jqxListBox("focus"),this.removeHandler(c,"keyup"),this.addHandler(c,"keyup",function(e){13===e.keyCode&&d.trigger("click"),27===e.keyCode&&t._closemenu()}),r.cellsformat?c.jqxListBox({checkboxes:N,displayMember:r.displayfield,valueMember:r.displayfield+"JQValue",source:P}):c.jqxListBox({checkboxes:N,displayMember:r.displayfield,valueMember:r.displayfield,source:P}),N){c.jqxListBox("insertAt",t.gridlocalization.filterselectallstring,0);var B=c.data().jqxListBox.instance;B.checkAll(!1);if(r.filter){B.uncheckAll(!1);for(var O=r.filter.getfilters(),E=0;E<B.items.length;E++){var A=B.items[E].value;e.each(O,function(){if("NOT_EQUAL"==this.condition){if(A!=this.value)return B.uncheckIndex(E,!1,!1),!1;if(null!=A&&null!=this.value&&A.toString()!=this.value.toString())return B.uncheckIndex(E,!1,!1),!1}else if("EQUAL"==this.condition){if(A==this.value)return B.checkIndex(E,!1,!1),!1;if(null!=A&&null!=this.value&&A.toString()==this.value.toString())return B.checkIndex(E,!1,!1),!1}})}B._updateCheckedItems();var H=B.getCheckedItems().length;B.items.length!=H&&H>0&&B.host.jqxListBox("indeterminateIndex",0,!0,!1),H===B.items.length-1&&B.host.jqxListBox("checkIndex",0,!0,!1)}}else if(r.filter){var B=c.data().jqxListBox.instance;B.clearSelection();for(var O=r.filter.getfilters(),E=0;E<B.items.length;E++){var A=B.items[E].value;e.each(O,function(){if("NOT_EQUAL"==this.condition){if(A!=this.value)return B.unselectIndex(E,!1,!1),!1}else if("EQUAL"==this.condition&&A==this.value)return B.selectIndex(E,!0,!1),!1})}B._renderItems()}}},_initfilterpanel:function(t,i,r,s,a){null!=t&&void 0!=t||(t=this),i[0].innerHTML="";var n=e("<div class='filter' style='margin-left: 7px;'></div>");i.append(n);var o=e("<div class='filter' style='margin-top: 3px; margin-bottom: 3px;'></div>");o.text(t.gridlocalization.filtershowrowstring),this._showwhere=o;var l=a?"ex":"",h=e("<div class='filter filter1' id='filter1"+t.element.id+l+"'></div>"),d=e("<div class='filter filter2' id='filter2"+t.element.id+l+"' style='margin-bottom: 3px;'></div>"),c=e("<div class='filter filter3' id='filter3"+t.element.id+l+"'></div>"),u=t._getcolumntypebydatafield(r);if(!h.jqxDropDownList)throw new Error("jqxGrid: jqxdropdownlist.js is not loaded.");var p=t._getfiltersbytype(u);if(this._hasdatefilter=!1,this._filterpanelwidth=s,this.columns&&this.columns.records){for(var f=0;f<this.columns.records.length;f++)if("date"==this.columns.records[f].filtertype){this._hasdatefilter=!0;break}}else if(this.columns&&!this.columns.records)for(var f=0;f<this.columns.length;f++)if("date"==this.columns[f].filtertype){this._hasdatefilter=!0;break}var m=e("<div class='filter'><input class='filtertext1"+t.element.id+"' style='height: 23px; margin-top: 3px; margin-bottom: 3px;' type='text'></input></div>"),g=m.find("input");g.addClass(this.toThemeProperty("jqx-input")),g.addClass(this.toThemeProperty("jqx-widget-content")),g.addClass(this.toThemeProperty("jqx-rc-all")),g.width(s-21);var v=e("<div class='filter'><input class='filtertext2"+t.element.id+"' style='height: 23px; margin-top: 3px;' type='text'></input></div>"),x=v.find("input");x.addClass(this.toThemeProperty("jqx-input")),x.addClass(this.toThemeProperty("jqx-widget-content")),x.addClass(this.toThemeProperty("jqx-rc-all")),x.width(s-21),t.rtl&&(g.css("direction","rtl"),x.css("direction","rtl"));var b=e("<div class='filter' style='height: 25px; margin-left: 20px; margin-top: 7px;'></div>"),w=e('<span tabIndex=0 id="filterbutton'+t.element.id+'" class="filterbutton" style="padding: 4px 12px; margin-left: 2px;">'+t.gridlocalization.filterstring+"</span>");b.append(w);var y=e('<span tabIndex=0 id="filterclearbutton'+t.element.id+'" class="filterclearbutton" style="padding: 4px 12px; margin-left: 5px;">'+t.gridlocalization.filterclearstring+"</span>");b.append(y),w.jqxButton({height:20,theme:t.theme}),y.jqxButton({height:20,theme:t.theme});var _=function(e){if(e){if(-1!=e.text().indexOf("case sensitive")){var i=e.text();i=i.replace("case sensitive","match case"),e.text(i)}return e.css("font-family",t.host.css("font-family")),e.css("font-size",t.host.css("font-size")),e.css("top","2px"),e.css("position","relative"),e}return""};if("default"!==this.filtermode||a){if("excel"===this.filtermode||a){n.append(o),n.append(h),h.attr("tabindex",0),h.jqxListBox({rtl:t.rtl,_checkForHiddenParent:!1,checkboxes:!0,selectedIndex:2,width:s-15,height:130,theme:t.theme});var j=!0;t.addHandler(h,"checkChange",function(e){if(j)if(e.args.label!=t.gridlocalization.filterselectallstring){j=!1,h.jqxListBox("checkIndex",0,!0,!1);var i=h.jqxListBox("getCheckedItems"),r=h.jqxListBox("getItems");1==i.length?h.jqxListBox("uncheckIndex",0,!0,!1):r.length!=i.length&&h.jqxListBox("indeterminateIndex",0,!0,!1),j=!0}else j=!1,e.args.checked?h.jqxListBox("checkAll",!1):h.jqxListBox("uncheckAll",!1),j=!0})}}else{n.append(o),n.append(h),h.jqxDropDownList({_checkForHiddenParent:!1,autoItemsHeight:!0,rtl:t.rtl,enableBrowserBoundsDetection:!1,selectedIndex:2,width:s-15,height:23,dropDownHeight:150,dropDownWidth:s-15,selectionRenderer:_,source:p,theme:t.theme}),n.append(m);var q=new Array;q[0]=t.gridlocalization.filterandconditionstring,q[1]=t.gridlocalization.filterorconditionstring,d.jqxDropDownList({_checkForHiddenParent:!1,rtl:t.rtl,enableBrowserBoundsDetection:!1,autoDropDownHeight:!0,selectedIndex:0,width:60,height:23,source:q,selectionRenderer:_,theme:t.theme}),n.append(d),c.jqxDropDownList({_checkForHiddenParent:!1,autoItemsHeight:!0,rtl:t.rtl,enableBrowserBoundsDetection:!1,selectedIndex:2,width:s-15,height:23,dropDownHeight:150,dropDownWidth:s-15,selectionRenderer:_,source:p,theme:t.theme}),n.append(c),n.append(v)}n.append(b),t.updatefilterpanel&&t.updatefilterpanel(h,c,d,m,v,w,y,null,null,p)}})}(jqxBaseFramework),function(e){e.jqx.dataview.sort=function(){this.sortby=function(t,i,r){var s=Object.prototype.toString;if(null==i)return this.sortdata=null,this.sortcache={},this.grid._pagescache=new Array,this.grid._cellscache=new Array,void this.refresh();void 0==i&&(i=!0),i="a"==i||"asc"==i||"ascending"==i||1==i;var a=t;this.sortfield=t,this.sortfielddirection=i?"asc":"desc",void 0==this.sortcache&&(this.sortcache={}),this.sortdata=[];var n=[],o=!1;if("constructor"==a&&(a=""),!this.virtualmode&&null!=this.sortcache[a]){var l=this.sortcache[a];n=l._sortdata,l.direction==i?n.reverse():(!l.direction&&i&&n.reverse(),o=!0),n.length<this.totalrecords&&(this.sortcache={},o=!1,n=[])}Object.prototype.toString="function"==typeof t?t:function(){return this[t]};var h=this.records,d=(this.that,"");if(this.source.datafields&&e.each(this.source.datafields,function(){return this.name==t?(this.type&&(d=this.type),!1):void 0}),0==n.length)if(h.length)for(var c=h.length,u=0;c>u;u++){var p=h[u];if(null!=p){var f=p,m=f.toString();n.push({sortkey:m,value:f,index:u})}}else{var g=!1;for(obj in h){var p=h[obj];if(void 0==p){g=!0;break}var f=p;n.push({sortkey:f.toString(),value:f,index:obj})}g&&e.each(h,function(e,t){n.push({sortkey:t.toString(),value:t,index:e})})}if(!o)if(null==r){this._sortcolumntype=d;var v=this;n.sort(function(e,t){return v._compare(e,t,d)})}else n.sort(r);i||n.reverse(),Object.prototype.toString=s,this.sortdata=n,this.sortcache[a]={_sortdata:n,direction:i},this.reload(this.records,this.rows,this.filters,this.updated,!0)},this.clearsortdata=function(){this.sortcache={},this.sortdata=null},this._compare=function(t,i,r){var t=t.sortkey,i=i.sortkey;if(void 0===t&&(t=null),void 0===i&&(i=null),null===t&&null===i)return 0;if(null===t&&null!==i)return-1;if(null!==t&&null===i)return 1;if(e.jqx.dataFormat)if(r&&""!=r)switch(r){case"number":case"int":case"float":return i>t?-1:t>i?1:0;case"date":case"time":return i>t?-1:t>i?1:0;case"string":case"text":t=String(t).toLowerCase(),i=String(i).toLowerCase()}else{if(e.jqx.dataFormat.isNumber(t)&&e.jqx.dataFormat.isNumber(i))return i>t?-1:t>i?1:0;if(e.jqx.dataFormat.isDate(t)&&e.jqx.dataFormat.isDate(i))return i>t?-1:t>i?1:0;e.jqx.dataFormat.isNumber(t)||e.jqx.dataFormat.isNumber(i)||(t=String(t).toLowerCase(),i=String(i).toLowerCase())}try{if(i>t)return-1;if(t>i)return 1}catch(s){}return 0},this._equals=function(e,t){return 0===this._compare(e,t)}},e.extend(e.jqx._jqxGrid.prototype,{_rendersortcolumn:function(){var t=this.that,i=this.getsortcolumn();if(this.sortdirection){var r=function(i,r){var s=t.getcolumn(i);s&&(r.ascending?e.jqx.aria(s.element,"aria-sort","ascending"):r.descending?e.jqx.aria(s.element,"aria-sort","descending"):e.jqx.aria(s.element,"aria-sort","none"))};this._oldsortinfo&&this._oldsortinfo.column&&r(this._oldsortinfo.column,{ascending:!1,descending:!1}),r(i,this.sortdirection)}this._oldsortinfo={column:i,direction:this.sortdirection},this.sortdirection&&e.each(this.columns.records,function(r,s){var a=e.data(document.body,"groupsortelements"+this.displayfield);null==i||this.displayfield!=i?(e(this.sortasc).hide(),e(this.sortdesc).hide(),null!=a&&(a.sortasc.hide(),a.sortdesc.hide())):t.sortdirection.ascending?(e(this.sortasc).show(),e(this.sortdesc).hide(),null!=a&&(a.sortasc.show(),a.sortdesc.hide())):(e(this.sortasc).hide(),e(this.sortdesc).show(),null!=a&&(a.sortasc.hide(),a.sortdesc.show()))})},getsortcolumn:function(){return void 0!=this.sortcolumn?this.sortcolumn:null},removesort:function(){this.sortby(null)},sortby:function(e,t,i,r,s){if(this._loading&&s!==!1)throw new Error("jqxGrid: "+this.loadingerrormessage);if(null==e&&(t=null,e=this.sortcolumn),void 0!=e){var a=this.that;if(void 0==i&&null!=a.source.sortcomparer&&(i=a.source.sortcomparer),"a"==t||"asc"==t||"ascending"==t||1==t?ascending=!0:ascending=!1,null!=t?a.sortdirection={ascending:ascending,descending:!ascending}:a.sortdirection={ascending:!1,descending:!1},null!=t?a.sortcolumn=e:a.sortcolumn=null,a.source.sort||a.virtualmode){if(a.dataview.sortfield=e,null==t?a.dataview.sortfielddirection="":a.dataview.sortfielddirection=ascending?"asc":"desc",a.source.sort&&!this._loading)return a.source.sort(e,t),void a._raiseEvent(6,{sortinformation:a.getsortinformation()})}else a.dataview.sortby(e,t,i);if(r===!1)return;a.groupable&&a.groups.length>0?(a._render(!0,!1,!1),a._updategroupheadersbounds&&a.showgroupsheader&&a._updategroupheadersbounds(),a._postrender("sort")):(a.pageable&&a.dataview.updateview(),a._updaterowsproperties(),a.rendergridcontent(!0),a._postrender("sort")),a._raiseEvent(6,{sortinformation:a.getsortinformation()})}},_togglesort:function(e){var t=this.that;if(!this.disabled&&e.sortable&&t.sortable){var i=t.getsortinformation(),r=null;null!=i.sortcolumn&&i.sortcolumn==e.displayfield?(r=i.sortdirection.ascending,r=t.sorttogglestates>1?1==r?!1:null:!r):r=!0,t.sortby(e.displayfield,r,null)}}})}(jqxBaseFramework),function(e){e.extend(e.jqx._jqxGrid.prototype,{_initpager:function(){var t=this.that,i=this.gridlocalization.pagergotopagestring,r=(this.gridlocalization.pagerrangestring,this.gridlocalization.pagershowrowsstring),s=(this.pagerheight-20)/2;if(this.pagerdiv=this.pagerdiv||e('<div style="line-height: 20px; width: 100%; height: 100%; position: relative;"></div>'),!this.pageable)return this.pagerdiv.remove(),void this.vScrollBar.jqxScrollBar({thumbSize:0});if(this.pagerrenderer){this.pagerdiv.children().remove();var a=this.pagerrenderer();null!=a&&this.pagerdiv.append(e(a)),this.pager.append(this.pagerdiv)}else{if(this.pagerdiv.css("top",s),this.pager.append(this.pagerdiv),this.pagergotoinput=this.pagergotoinput||e('<div style="margin-right: 12px; width: 27px; height: 20px; float: right;"><input style="margin-top: 0px; text-align: right; height:20px; width: 27px;" type="text"/></div>'),this.pagergoto=this.pagergoto||e('<div style="float: right; margin-right: 7px;"></div>'),this.pagerrightbutton=this.pagerrightbutton||e('<div type="button" style="padding: 0px; margin-top: 0px; margin-right: 3px; height:20px; width: 27px; float: right;"></div>'),this.pagerleftbutton=this.pagerleftbutton||e('<div type="button" style="padding: 0px; margin-top: 0px; margin-right: 3px; height:20px; width: 27px; float: right;"></div>'),this.pagerdetails=this.pagerdetails||e('<div style="margin-right: 7px; float: right;"></div>'),this.pagershowrows=this.pagershowrows||e('<div style="margin-right: 7px; float: right;"></div>'),this.pagerbuttons=e('<div style="margin-right: 3px; float: right;"></div>'),this.pagershowrowscombo&&this.pagershowrowscombo.jqxDropDownList&&(this.pagershowrowscombo.remove(),this.pagershowrowscombo=null),this.pagergotoinput.attr("disabled",this.disabled),this.pagerfirstbutton=e('<div type="button" style="padding: 0px; margin-top: 0px; margin-left: 3px; margin-right: 3px; width: 27px; float: right;"></div>'),this.pagerlastbutton=e('<div type="button" style="padding: 0px; margin-top: 0px; margin-right: 3px; width: 27px; float: right;"></div>'),this.pagershowrowscombo=this.pagershowrowscombo||e('<div id="gridpagerlist" style="margin-top: 0px; margin-right: 7px; float: right;"></div>'),this.pagerdiv.children().remove(),this.pagershowrowscombo[0].id="gridpagerlist"+this.element.id,this.removeHandler(this.pagerrightbutton,"mousedown"),this.removeHandler(this.pagerrightbutton,"mouseup"),this.removeHandler(this.pagerrightbutton,"click"),this.removeHandler(this.pagerleftbutton,"mousedown"),this.removeHandler(this.pagerleftbutton,"mouseup"),this.removeHandler(this.pagerleftbutton,"click"),this.removeHandler(this.pagerfirstbutton,"mousedown"),this.removeHandler(this.pagerfirstbutton,"mouseup"),this.removeHandler(this.pagerfirstbutton,"click"),this.removeHandler(this.pagerlastbutton,"mousedown"),this.removeHandler(this.pagerlastbutton,"mouseup"),this.removeHandler(this.pagerlastbutton,"click"),this.pagerleftbutton.attr("title",this.gridlocalization.pagerpreviousbuttonstring),this.pagerrightbutton.attr("title",this.gridlocalization.pagernextbuttonstring),"simple"==this.pagermode){e.jqx.browser.msie&&e.jqx.browser.version<8&&(this.pagerbuttons.css("overflow","visible"),this.pagerbuttons.css("padding","3px")),this.pagerfirstbutton.attr("title",this.gridlocalization.pagerfirstbuttonstring),this.pagerlastbutton.attr("title",this.gridlocalization.pagerlastbuttonstring);var n=e("<div style='margin-left: 6px; width: 15px; height: 20px;'></div>");n.addClass(this.toThemeProperty("jqx-icon-arrow-first")),this.pagerfirstbutton.wrapInner(n);var o=e("<div style='margin-left: 6px; width: 15px; height: 20px;'></div>");o.addClass(this.toThemeProperty("jqx-icon-arrow-last")),this.pagerlastbutton.wrapInner(o),this.rtl?(this.pagerdiv.append(this.pagerlastbutton),this.pagerdiv.append(this.pagerrightbutton),this.pagerdiv.append(this.pagerbuttons),this.pagerdiv.append(this.pagerleftbutton),this.pagerdiv.append(this.pagerfirstbutton)):(this.pagerdiv.append(this.pagerfirstbutton),this.pagerdiv.append(this.pagerleftbutton),this.pagerdiv.append(this.pagerbuttons),this.pagerdiv.append(this.pagerrightbutton),this.pagerdiv.append(this.pagerlastbutton)),this.pagerlastbutton.jqxButton({cursor:"pointer",disabled:this.disabled,theme:this.theme}),this.pagerfirstbutton.jqxButton({cursor:"pointer",disabled:this.disabled,theme:this.theme});var l=this.rtl?"right":"left";this.pagerbuttons.css("float",l),this.pagerlastbutton.css("float",l),this.pagerfirstbutton.css("float",l),this.pagerrightbutton.css("float",l),this.pagerleftbutton.css("float",l),this.pagerdetails.css("float",this.rtl?"left":"right"),this.rtl?(this.pagerdetails.css("margin-left","7px"),this.pagerdetails.css("margin-right","0px")):(this.pagerdetails.css("margin-left","0px"),this.pagerdetails.css("margin-right","7px")),this.pagergotoinput.hide(),this.pagershowrowscombo.hide(),this.pagergoto.hide(),this.pagershowrows.hide()}else this.pagergotoinput.show(),this.pagershowrowscombo.show(),this.pagergoto.show(),this.pagershowrows.show(),this.rtl||(this.pagerdiv.append(this.pagerrightbutton),this.pagerdiv.append(this.pagerleftbutton));this.pagerrightbutton.jqxButton({cursor:"pointer",disabled:this.disabled,theme:this.theme}),this.pagerleftbutton.jqxButton({cursor:"pointer",disabled:this.disabled,theme:this.theme}),this.pagerleftbutton.find(".jqx-icon-arrow-left").remove(),this.pagerrightbutton.find(".jqx-icon-arrow-right").remove();var h=e("<div style='margin-left: 6px; width: 15px; height: 20px;'></div>");h.addClass(this.toThemeProperty("jqx-icon-arrow-left")),this.pagerleftbutton.wrapInner(h);var d=e("<div style='margin-left: 6px; width: 15px; height: 20px;'></div>");d.addClass(this.toThemeProperty("jqx-icon-arrow-right")),this.pagerrightbutton.wrapInner(d),this.pagerdiv.append(this.pagerdetails),"simple"!=this.pagermode&&(this.rtl?(this.pagerdiv.append(this.pagergoto),this.pagerdiv.append(this.pagergotoinput),this.pagerdiv.append(this.pagershowrows),this.pagerdiv.append(this.pagershowrowscombo),this.pagerdiv.append(this.pagerdetails),this.pagerdiv.append(this.pagerrightbutton),this.pagerdiv.append(this.pagerleftbutton)):(this.pagerdiv.append(this.pagershowrowscombo),this.pagerdiv.append(this.pagershowrows),this.pagerdiv.append(this.pagergotoinput),this.pagerdiv.append(this.pagergoto)));var c=this.pagesizeoptions;if(!this.pagershowrowscombo.jqxDropDownList)throw new Error("jqxGrid: jqxdropdownlist.js is not loaded.");this.pagershowrowscombo.jqxDropDownList({rtl:this.rtl,disabled:this.disabled,source:c,enableBrowserBoundsDetection:!0,keyboardSelection:!1,autoDropDownHeight:!0,width:"auto",height:20,theme:this.theme});for(var u=0,p=0;p<c.length;p++)this.pagesize>=c[p]&&(u=p);this.pagershowrows[0].innerHTML=r,this.pagergoto[0].innerHTML=i,this.updatepagerdetails(),this.pagershowrowscombo.jqxDropDownList({selectedIndex:u}),this.pagerpageinput=this.pagergotoinput.find("input"),this.pagerpageinput.addClass(this.toThemeProperty("jqx-input")),this.pagerpageinput.addClass(this.toThemeProperty("jqx-widget-content")),this.rtl&&this.pagerpageinput.css("direction","rtl");var t=this.that;this.removeHandler(this.pagershowrowscombo,"select"),this.addHandler(this.pagershowrowscombo,"select",function(e){if(e.args){t.vScrollInstance&&t.vScrollInstance.setPosition(0),null!=t.editcell&&t.endcelledit&&t.endcelledit(t.editcell.row,t.editcell.column,!0,!1);var i=e.args.index,r=t.dataview.pagenum*t.dataview.pagesize,s=c[i],a=t.pagesize;t.pagesize=parseInt(s),isNaN(t.pagesize)&&(t.pagesize=10),s>=100?t.pagershowrowscombo.jqxDropDownList({width:"auto"}):t.pagershowrowscombo.jqxDropDownList({width:44}),t.dataview.pagesize=t.pagesize;var n=Math.floor(r/t.dataview.pagesize);t.prerenderrequired=!0,t._requiresupdate=!0,t._raiseEvent(10,{pagenum:n,oldpagesize:a,pagesize:t.dataview.pagesize}),t.gotopage(n),t.autoheight&&t._updatesizeonwindowresize&&(t._updatesize(!0),setTimeout(function(){t._updatesize(!0)},500))}});var f=this.pagergotoinput.find("input");f.addClass(this.toThemeProperty("jqx-grid-pager-input")),f.addClass(this.toThemeProperty("jqx-rc-all")),this.removeHandler(f,"keydown"),this.removeHandler(f,"change"),this.addHandler(f,"keydown",function(e){if(e.keyCode>=65&&e.keyCode<=90)return!1;if("13"==e.keyCode){var i=f.val();return i=parseInt(i),isNaN(i)||t.gotopage(i-1),!1}}),this.addHandler(f,"change",function(){var e=f.val();e=parseInt(e),isNaN(e)||t.gotopage(e-1)}),this.addHandler(this.pagerrightbutton,"mouseenter",function(){d.addClass(t.toThemeProperty("jqx-icon-arrow-right-hover"))}),this.addHandler(this.pagerleftbutton,"mouseenter",function(){h.addClass(t.toThemeProperty("jqx-icon-arrow-left-hover"))}),this.addHandler(this.pagerrightbutton,"mouseleave",function(){d.removeClass(t.toThemeProperty("jqx-icon-arrow-right-hover"))}),this.addHandler(this.pagerleftbutton,"mouseleave",function(){h.removeClass(t.toThemeProperty("jqx-icon-arrow-left-hover"))}),this.addHandler(this.pagerrightbutton,"mousedown",function(){d.addClass(t.toThemeProperty("jqx-icon-arrow-right-selected"))}),this.addHandler(this.pagerrightbutton,"mouseup",function(){d.removeClass(t.toThemeProperty("jqx-icon-arrow-right-selected"))}),this.addHandler(this.pagerleftbutton,"mousedown",function(){h.addClass(t.toThemeProperty("jqx-icon-arrow-left-selected"))}),this.addHandler(this.pagerleftbutton,"mouseup",function(){h.removeClass(t.toThemeProperty("jqx-icon-arrow-left-selected"))}),this.addHandler(e(document),"mouseup.pagerbuttons"+this.element.id,function(){d.removeClass(t.toThemeProperty("jqx-icon-arrow-right-selected")),h.removeClass(t.toThemeProperty("jqx-icon-arrow-left-selected"))}),this.addHandler(this.pagerrightbutton,"click",function(){t.pagerrightbutton.jqxButton("disabled")||(t.rtl?t.gotoprevpage():t.gotonextpage())}),this.addHandler(this.pagerleftbutton,"click",function(){t.pagerleftbutton.jqxButton("disabled")||(t.rtl?t.gotonextpage():t.gotoprevpage())});var m=this;if("simple"===this.pagermode){var g=this.pagerfirstbutton,v=this.pagerlastbutton;this.addHandler(v,"mouseenter",function(){o.addClass(m.toThemeProperty("jqx-icon-arrow-last-hover"))}),this.addHandler(g,"mouseenter",function(){n.addClass(m.toThemeProperty("jqx-icon-arrow-first-hover"))}),this.addHandler(v,"mouseleave",function(){o.removeClass(m.toThemeProperty("jqx-icon-arrow-last-hover"))}),this.addHandler(g,"mouseleave",function(){n.removeClass(m.toThemeProperty("jqx-icon-arrow-first-hover"))}),this.addHandler(v,"mousedown",function(){o.addClass(m.toThemeProperty("jqx-icon-arrow-last-selected"))}),this.addHandler(g,"mousedown",function(){n.addClass(m.toThemeProperty("jqx-icon-arrow-first-selected"))}),this.addHandler(v,"mouseup",function(){o.removeClass(m.toThemeProperty("jqx-icon-arrow-last-selected"))}),this.addHandler(g,"mouseup",function(){n.removeClass(m.toThemeProperty("jqx-icon-arrow-first-selected"))}),this.addHandler(e(document),"mouseup.pagerbuttons"+name+this.element.id,function(){d.removeClass(m.toThemeProperty("jqx-icon-arrow-right-selected")),h.removeClass(m.toThemeProperty("jqx-icon-arrow-left-selected")),o&&(o.removeClass(m.toThemeProperty("jqx-icon-arrow-last-selected")),n.removeClass(m.toThemeProperty("jqx-icon-arrow-first-selected")))}),this.addHandler(g,"click",function(){if(!g.jqxButton("disabled"))if(m.rtl){var e=m.dataview.totalrecords,t=Math.ceil(e/m.pagesize);m.gotopage(t-1)}else m.gotopage(0)}),this.addHandler(v,"click",function(){if(!v.jqxButton("disabled"))if(m.rtl)m.gotopage(0);else{var e=m.dataview.totalrecords,t=Math.ceil(e/m.pagesize);m.gotopage(t-1)}})}}this.vScrollBar.jqxScrollBar("refresh"),this._arrange()},_updatepagertheme:function(){if(null!=this.pagershowrowscombo){this.pagershowrowscombo.jqxDropDownList({theme:this.theme}),this.pagerrightbutton.jqxButton({theme:this.theme}),this.pagerleftbutton.jqxButton({theme:this.theme}),this.pagerpageinput.removeClass();var t=this.pagergotoinput.find("input");t.removeClass(),t.addClass(this.toThemeProperty("jqx-grid-pager-input")),t.addClass(this.toThemeProperty("jqx-rc-all")),this.pagerpageinput.addClass(this.toThemeProperty("jqx-input")),this.pagerpageinput.addClass(this.toThemeProperty("jqx-widget-content")),this.pagerleftbutton.find(".jqx-icon-arrow-left").remove(),this.pagerrightbutton.find(".jqx-icon-arrow-right").remove();var i=e("<div style='margin-left: 6px; width: 15px; height: 15px;'></div>");i.addClass(this.toThemeProperty("jqx-icon-arrow-left")),this.pagerleftbutton.wrapInner(i);var r=e("<div style='margin-left: 6px; width: 15px; height: 15px;'></div>");if(r.addClass(this.toThemeProperty("jqx-icon-arrow-right")),this.pagerrightbutton.wrapInner(r),"simple"==this.pagermode){e.jqx.browser.msie&&e.jqx.browser.version<8&&(this.pagerbuttons.css("overflow","visible"),this.pagerbuttons.css("padding","3px")),this.pagerfirstbutton.attr("title",this.gridlocalization.pagerfirstbuttonstring),this.pagerlastbutton.attr("title",this.gridlocalization.pagerlastbuttonstring);var s=e("<div style='margin-left: 6px; width: 15px; height: 15px;'></div>");s.addClass(this.toThemeProperty("jqx-icon-arrow-first")),this.pagerfirstbutton.wrapInner(s);var a=e("<div style='margin-left: 6px; width: 15px; height: 15px;'></div>");a.addClass(this.toThemeProperty("jqx-icon-arrow-last")),this.pagerlastbutton.wrapInner(a),this.pagerdiv.append(this.pagerfirstbutton),this.pagerdiv.append(this.pagerleftbutton),this.pagerdiv.append(this.pagerbuttons),this.pagerdiv.append(this.pagerrightbutton),this.pagerdiv.append(this.pagerlastbutton),this.pagerlastbutton.jqxButton({cursor:"pointer",disabled:this.disabled,theme:this.theme}),this.pagerfirstbutton.jqxButton({cursor:"pointer",disabled:this.disabled,theme:this.theme}),this.pagerbuttons.css("float","left"),this.pagerlastbutton.css("float","left"),this.pagerfirstbutton.css("float","left"),this.pagerrightbutton.css("float","left"),this.pagerleftbutton.css("float","left"),this.pagergotoinput.hide(),this.pagershowrowscombo.hide(),this.pagergoto.hide(),this.pagershowrows.hide()}else this.pagergotoinput.show(),this.pagershowrowscombo.show(),this.pagergoto.show(),this.pagershowrows.show();var n=function(e,t){e.removeHandler(t,"mouseenter"),e.removeHandler(t,"mouseleave"),e.removeHandler(t,"mousedown"),e.removeHandler(t,"mouseup")};n(this,this.pagerrightbutton),n(this,this.pagerleftbutton);var o=this.that;this.addHandler(this.pagerrightbutton,"mouseenter",function(){r.addClass(o.toThemeProperty("jqx-icon-arrow-right-hover"))}),this.addHandler(this.pagerleftbutton,"mouseenter",function(){i.addClass(o.toThemeProperty("jqx-icon-arrow-left-hover"))}),this.addHandler(this.pagerrightbutton,"mouseleave",function(){r.removeClass(o.toThemeProperty("jqx-icon-arrow-right-hover"))}),this.addHandler(this.pagerleftbutton,"mouseleave",function(){i.removeClass(o.toThemeProperty("jqx-icon-arrow-left-hover"))}),this.addHandler(this.pagerrightbutton,"mousedown",function(){r.addClass(o.toThemeProperty("jqx-icon-arrow-right-selected"))}),this.addHandler(this.pagerrightbutton,"mouseup",function(){r.removeClass(o.toThemeProperty("jqx-icon-arrow-right-selected"))}),this.addHandler(this.pagerleftbutton,"mousedown",function(){i.addClass(o.toThemeProperty("jqx-icon-arrow-left-selected"))}),this.addHandler(this.pagerleftbutton,"mouseup",function(){i.removeClass(o.toThemeProperty("jqx-icon-arrow-left-selected"))})}},gotopage:function(e){if(null!=e&&void 0!=e||(e=0),-1==e&&(e=0),!(0>e)){var t=this.dataview.totalrecords;this.summaryrows&&(t+=this.summaryrows.length);var i=this.pagenum;this._raiseEvent(25,{oldpagenum:this.dataview.pagenum,pagenum:e,pagesize:this.dataview.pagesize});var r=Math.ceil(t/this.pagesize);if(e>=r&&(0==this.dataview.totalrecords&&(this.dataview.pagenum=0,this.updatepagerdetails()),e>0&&(e=r-1),0>e&&(e=0)),(this.dataview.pagenum!=e||this._requiresupdate)&&this.pageable){if(this.source.pager&&this.source.pager(e,this.dataview.pagesize,this.dataview.pagenum),this.dataview.pagenum=e,this.virtualmode){if(this.hiddens=new Array,this.expandedgroups=new Array,this.rendergridrows){var s=e*this.dataview.pagesize,a=s+this.dataview.pagesize;if(null!=s&&null!=a)return this.pagerrightbutton&&(this.pagerrightbutton.jqxButton({disabled:!0}),this.pagerleftbutton.jqxButton({disabled:!0}),this.pagershowrowscombo.jqxDropDownList({disabled:!0})),this.pagerfirstbutton&&(this.pagerfirstbutton.jqxButton({disabled:!0}),this.pagerlastbutton.jqxButton({disabled:!0})),this.updatebounddata("pagechanged"),this._raiseEvent(9,{pagenum:e,oldpagenum:i,pagesize:this.dataview.pagesize}),this.updatepagerdetails(),void(this.autosavestate&&this.savestate&&this.savestate())}}else this.dataview.updateview();if(this._loadrows(),this._updatepageviews(),this.tableheight=null,this._updatecolumnwidths(),this._updatecellwidths(),this._renderrows(this.virtualsizeinfo),this.updatepagerdetails(),this.autoheight||this.autorowheight){var n=this.host.height()-this._gettableheight();height=n+this._pageviews[0].height,height!=this.host.height()&&(this._arrange(),this._updatepageviews(),this.autorowheight&&this._renderrows(this.virtualsizeinfo))}null!=this.editcell&&this.endcelledit&&this.endcelledit(this.editcell.row,this.editcell.column,!1,!1),this.focus(),this._raiseEvent(9,{pagenum:e,oldpagenum:i,pagesize:this.dataview.pagesize}),this.autosavestate&&this.savestate&&this.savestate()}}},gotoprevpage:function(){if(this.dataview.pagenum>0)this.gotopage(this.dataview.pagenum-1);else if("simple"!=this.pagermode){var e=this.dataview.totalrecords;this.summaryrows&&(e+=this.summaryrows.length);var t=Math.ceil(e/this.pagesize);this.gotopage(t-1)}},gotonextpage:function(){var e=this.dataview.totalrecords;this.summaryrows&&(e+=this.summaryrows.length);var t=Math.ceil(e/this.pagesize);this.dataview.pagenum<t-1?this.gotopage(this.dataview.pagenum+1):"simple"!=this.pagermode&&this.gotopage(0)},updatepagerdetails:function(){if(null!=this.pagerdetails&&this.pagerdetails.length>0){var t=this.dataview.pagenum*this.pagesize,i=(this.dataview.pagenum+1)*this.pagesize;i>=this.dataview.totalrecords&&(i=this.dataview.totalrecords);var r=this.dataview.totalrecords;this.summaryrows&&(r+=this.summaryrows.length,(this.dataview.pagenum+1)*this.pagesize>this.dataview.totalrecords&&(i=r)),t++;var s=Math.ceil(r/this.dataview.pagesize);if(s>=1&&s--,s++,"simple"!==this.pagermode){var a=this.pagergotoinput.find("input");a.val(this.dataview.pagenum+1)}else{var n="",o=this.pagerbuttonscount;0!=o&&o||(o=5);var l=0;for(this.rtl&&(l=o-1);this.rtl&&l>=0||!this.rtl&&o>l;){var h=1+l,d=this.dataview.pagenum/o,c=Math.floor(d);h+=c*o;var u=this.toTP("jqx-grid-pager-number");if(u+=" "+this.toTP("jqx-rc-all"),h>s)break;if(this.rtl||0==l&&h>o&&(n+="<a class='"+u+"' tabindex=-1 href='javascript:;' data-page='"+(-1+h)+"'>...</a>"),this.dataview.pagenum===h-1&&(u+=" "+this.toTP("jqx-fill-state-pressed")),this.rtl){if(l===o-1){var u=this.toTP("jqx-grid-pager-number");u+=" "+this.toTP("jqx-rc-all"),s>=1+h&&(n+="<a class='"+u+"' tabindex=-1 href='javascript:;' data-page='"+(1+h)+"'>...</a>")}this.dataview.pagenum===h-1&&(u+=" "+this.toTP("jqx-fill-state-pressed")),n+="<a class='"+u+"' tabindex=-1 href='javascript:;' data-page='"+h+"'>"+h+"</a>"}else if(n+="<a class='"+u+"' tabindex=-1 href='javascript:;' data-page='"+h+"'>"+h+"</a>",l===o-1){var u=this.toTP("jqx-grid-pager-number");u+=" "+this.toTP("jqx-rc-all"),s>=1+h&&(n+="<a class='"+u+"' tabindex=-1 href='javascript:;' data-page='"+(1+h)+"'>...</a>")}if(this.rtl){var u=this.toTP("jqx-grid-pager-number");u+=" "+this.toTP("jqx-rc-all"),0==l&&h>o&&(n+="<a class='"+u+"' tabindex=-1 href='javascript:;' data-page='"+(-1+h)+"'>...</a>")}this.rtl?l--:l++}var p=this.pagerbuttons.find("a");this.removeHandler(p,"click"),this.removeHandler(p,"mouseenter"),this.removeHandler(p,"mouseleave"),this.pagerbuttons[0].innerHTML=n;var f=this,m=function(){f.addHandler(p,"click",function(t){var i=e(t.target).attr("data-page");return f.gotopage(parseInt(i)-1),!1}),f.addHandler(p,"mouseenter",function(t){e(t.target).addClass(f.toTP("jqx-fill-state-hover"))}),f.addHandler(p,"mouseleave",function(t){e(t.target).removeClass(f.toTP("jqx-fill-state-hover"))})},p=this.pagerbuttons.find("a");m(p)}this.pagergotoinput.attr("title","1 - "+s),0==i&&t>i&&(t=0),this.rtl?this.pagerdetails[0].innerHTML=r+this.gridlocalization.pagerrangestring+i+"-"+t:this.pagerdetails[0].innerHTML=t+"-"+i+this.gridlocalization.pagerrangestring+r,t>i&&this.gotoprevpage()}},_updatepagedview:function(e,t,i){var r=this.that;this.dataview.rows.length!=this.dataview.pagesize&&this.dataview.updateview();for(var s=this.dataview.rows.length,a=0;s>a;a++){var n=this.dataview.rows[a].visibleindex,o={index:n,height:this.heights[n],hidden:this.hiddens[n],details:this.details[n]};if(void 0==this.heights[n]&&(this.heights[n]=this.rowsheight,o.height=this.rowsheight),void 0==this.hiddens[n]&&(this.hiddens[n]=!1,o.hidden=!1),void 0==this.details[n]&&(this.details[n]=null),o.height!=r.rowsheight&&(t-=r.rowsheight,t+=o.height),o.hidden)t-=o.height;else{i+=o.height;var l=0;this.rowdetails&&o.details&&o.details.rowdetails&&!o.details.rowdetailshidden&&(l=o.details.rowdetailsheight,i+=l,t+=l)}}return this._pageviews[0]={top:0,height:i},t}})}(jqxBaseFramework),function(e){e.jqx.dataview.grouping=function(){this.loadgrouprecords=function(t,i,r,s,a,n,o,l,h){for(var d=t,c=this,u=new Array,p=0;p<c.groups.length;p++)u[p]=c.generatekey();var f=new Array,m=0,u=u,g=new Array,v=i,x=i,b=c.groups.length;
this.loadedrecords=new Array,this.bounditems=new Array,this.loadedrecords=new Array,this.loadedrootgroups=new Array,this.loadedgroups=new Array,this.loadedgroupsByKey=new Array,this.sortedgroups=new Array;var w=null!=this.sortdata,y=w?this.sortdata:this.records;if(this.pageable){var _=new Array,j=0;y[i]||(e.each(y,function(e,t){_[i+e++]=this}),y=_)}if(this.virtualmode){for(var _=new Array,j=0,v=0;r-i>v;v++)y[v]?_[i+j++]=y[v]:y[i+j]&&(_[i+j]=y[i+j],j++);v=0,y=_}for(var q=i;r>q;q++){var T={};T=w?e.extend({},y[q].value):e.extend({},y[q]),id=T[c.uniqueId],(a>=l||id!=o[a][c.uniqueId]||n&&n[id])&&(h[h.length]=a);for(var S=new Array,C=0,p=0;b>p;p++){var I=c.groups[p],k=T[I];null==k&&(k=""),S[C++]={value:k,hash:u[p]}}if(S.length!=b)break;for(var D=null,M="",P=-1,N=0;N<S.length;N++){P++;var B=S[N].value,O=S[N].hash;if(M=M+"_"+O+"_"+B,void 0==g[M]||null==g[M]){if(null==D)D={group:B,subItems:new Array,subGroups:new Array,level:0},f[m++]=D,D.uniqueid=c.generatekey(),c.loadedgroupsByKey[B]=D;else{var E={group:B,subItems:new Array,subGroups:new Array,parentItem:D,level:D.level+1};c.loadedgroupsByKey[D.uniqueid+"_"+B]=E,E.uniqueid=c.generatekey(),D.subGroups[D.subGroups.length++]=E,D=E}g[M]=D}else D=g[M]}null!=D?(void 0==T.uid&&(T.uid=this.getid(this.source.id,T,v)),w?(T.boundindex=y[q].index,this.recordsbyid["id"+T.uid]=y[q].value):(T.boundindex=v,this.recordsbyid["id"+T.uid]=y[q]),this.bounditems[T.boundindex]=T,this.sortedgroups[v]=T,T.uniqueid=c.generatekey(),T.parentItem=D,T.level=D.level+1,D.subItems[D.subItems.length++]=T):(void 0==T.uid&&(T.uid=this.getid(this.source.id,T,v)),w?(T.boundindex=y[q].index,this.recordsbyid["id"+T.uid]=y[q].value):(T.boundindex=v,this.recordsbyid["id"+T.uid]=y[q]),this.sortedgroups[v]=T,this.bounditems[T.boundindex]=T,T.uniqueid=c.generatekey()),a++,v++,x++}var A=function(e,i,r){for(var s=0;s<i.subItems.length;s++)i.subItems[s].visibleindex=t+r,e.rows[r]=i.subItems[s],e.loadedrecords[r]=i.subItems[s],r++;return r},H=function(e,i,r){var s=1,a=e.grid.columns.records?e.grid.columns.records:e.grid.columns;if(1==e.aggregates)for(var n=0;n<a.length;n++)a[n].aggregates&&(s=Math.max(s,a[n].aggregates.length));var o=function(i){if(1==e.aggregates)for(var n=function(s){var n=i,o={},l=function(t){for(var i=0;i<a.length;i++)if(a[i].aggregates)for(var r=e.grid.getcolumnaggregateddata(a[i].datafield,a[i].aggregates,!0,t),n=0;n<a[i].aggregates.length;n++)if(a[i].aggregates[s]){var l=a[i],h=a[i].aggregates[s],d=h;d=e.grid._getaggregatename(d);var c=d+":"+r[h];o[l.datafield]=c}};if(null!=n)if(o.level=n.level,o.visibleindex=t+r,o.uniqueid=e.generatekey(),e.rows[r]=o,e.loadedrecords[r++]=o,o.totalsrow=!0,i.subItems.length>0){n=i.subItems[i.subItems.length-1],o.parentItem=n.parentItem,o.parentItem.subItems&&(o.parentItem.subItems[o.parentItem.subItems.length]=o);var h=[],d=function(){for(var e=0;e<i.subItems.length;e++)i.subItems[e].totalsrow||(h[h.length]=i.subItems[e])};d(i),l(h)}else if(i.subGroups.length>0){n=i.subGroups[i.subGroups.length-1],o.level=n.level,o.parentItem=i,i.subGroups[i.subGroups.length]=o;var h=[],d=function(e){if(!e.totalsrow){for(var t=0;t<e.subItems.length;t++)e.subItems[t].totalsrow||(h[h.length]=e.subItems[t]);for(var t=0;t<e.subGroups.length;t++)d(e.subGroups[t])}};d(i),l(h)}},o=0;s>o;o++)n(o)};for(subGroup in i.subGroups){var l=i.subGroups[subGroup];l.subGroups&&(e.loadedgroups[e.loadedgroups.length]=l,l.visibleindex=t+r,e.rows[r]=l,e.loadedrecords[r]=l,r++,l.subGroups.length>0?r=H(e,l,r):l.subItems.length>0&&(r=A(e,l,r)))}return i.subItems.length>0&&(r=A(e,i,r)),o(i),r},z=f.length;this.loadedgroups=new Array,this.rows=new Array;for(var d=0,v=0;z>v;v++){var I=f[v];this.loadedrootgroups[v]=I,this.loadedgroups[this.loadedgroups.length]=I,I.visibleindex=t+d,this.rows[d]=I,this.loadedrecords[d]=I,d++,d=H(this,I,d)}return d},this._updategroupsinpage=function(t,i,r,s,a,n,o){var l=new Array,h=[];if(this.groupable&&this.groups.length>0){for(var d=0,c=new Array,u=new Array,p=0;p<t.groups.length;p++)u[p]=t.generatekey();var f=0,m=new Array,g=0;o>this.totalrecords&&(o=this.totalrecords);for(var v=n;o>v;v++){var x=e.extend({},t.sortedgroups[v]);if(id=x[t.uniqueId],!t.pagesize||r>=t.pagesize*t.pagenum&&r<t.pagesize*(t.pagenum+1)){(s>=a||id!=l[s][t.uniqueId]||updated&&updated[id])&&(h[h.length]=s);for(var b=new Array,w=0,p=0;p<t.groups.length;p++){var y=t.groups[p],_=x[y];null==_&&(_=""),b[w++]={value:_,hash:u[p]}}if(b.length!=t.groups.length)break;for(var j=null,q="",T=-1,S=0;S<b.length;S++){T++;var C=b[S].value,I=b[S].hash;if(q=q+"_"+I+"_"+C,void 0==c[q]||null==c[q]){if(null==j){j={group:C,subItems:new Array,subGroups:new Array,level:0},m[g++]=j;var k=t.loadedgroupsByKey[C];void 0!=k&&(j.visibleindex=k.visibleindex,j.uniqueid=k.uniqueid)}else{var D={group:C,subItems:new Array,subGroups:new Array,parentItem:j,level:j.level+1},k=t.loadedgroupsByKey[j.uniqueid+"_"+C];D.visibleindex=k.visibleindex,D.uniqueid=k.uniqueid,j.subGroups[j.subGroups.length++]=D,j=D}c[q]=j}else j=c[q]}null!=j&&(x.parentItem=j,x.level=j.level+1,j.subItems[j.subItems.length++]=x),s++}f++,r++}for(var M=function(t,i,r){for(var s=0;s<i.subItems.length;s++)l[r]=e.extend({},i.subItems[s]),r++;return r},P=function(e){var t=!1;for(subGroup in e.subGroups){var i=e.subGroups[subGroup];if(i.subGroups){if(i.subGroups.length>0){var r=P(i);if(r)return t=!0,!0}if(i.subItems.length>0)return t=!0,!0}}return e.subItems.length>0?(t=!0,!0):t},N=function(e,t,i){var r=1,s=e.grid.columns.records?e.grid.columns.records:e.grid.columns;if(1==e.aggregates)for(var a=0;a<s.length;a++)s[a].aggregates&&(r=Math.max(r,s[a].aggregates.length));var n=function(t){if(1==e.aggregates)for(var a=function(r){var a=t,n={},o=function(t){for(var i=0;i<s.length;i++)if(s[i].aggregates)for(var a=e.grid.getcolumnaggregateddata(s[i].datafield,s[i].aggregates,!0,t),o=0;o<s[i].aggregates.length;o++)if(s[i].aggregates[r]){var l=s[i],h=s[i].aggregates[r],d=h;d=e.grid._getaggregatename(d);var c=d+":"+a[h];n[l.datafield]=c}};if(null!=a)if(n.level=a.level,n.visibleindex=i,n.uniqueid=e.generatekey(),l[i]=n,e.loadedrecords[i++]=n,n.totalsrow=!0,t.subItems.length>0){a=t.subItems[t.subItems.length-1],n.parentItem=a.parentItem,n.parentItem.subItems&&(n.parentItem.subItems[n.parentItem.subItems.length]=n);var h=[],d=function(){for(var e=0;e<t.subItems.length;e++)t.subItems[e].totalsrow||(h[h.length]=t.subItems[e])};d(t),o(h)}else if(t.subGroups.length>0){a=t.subGroups[t.subGroups.length-1],n.level=a.level,n.parentItem=t,t.subGroups[t.subGroups.length]=n;var h=[],d=function(e){if(!e.totalsrow){for(var t=0;t<e.subItems.length;t++)e.subItems[t].totalsrow||(h[h.length]=e.subItems[t]);for(var t=0;t<e.subGroups.length;t++)d(e.subGroups[t])}};d(t),o(h)}},n=0;r>n;n++)a(n)};for(subGroup in t.subGroups){var o=t.subGroups[subGroup];o.subGroups&&P(o)&&(l[i]=o,i++,o.subGroups.length>0?i=N(e,o,i):o.subItems.length>0&&(i=M(e,o,i)),n(o))}return t.subItems.length>0&&(i=M(e,t,i)),n(t),i},f=0;f<m.length;f++){var y=m[f];P(y)&&(l[d]=y,d++,d=N(this,y,d))}}return l}},e.extend(e.jqx._jqxGrid.prototype,{_initgroupsheader:function(){if(this.groupsheader.css("visibility","hidden"),this._groupsheader()){this.groupsheader.css("visibility","inherit");var t=this,i=this.gridlocalization.groupsheaderstring;this.groupsheaderdiv=this.groupsheaderdiv||e('<div style="width: 100%; position: relative;"></div>'),this.groupsheaderdiv.height(this.groupsheaderheight),this.groupsheaderdiv.css("top",0),this.groupsheader.append(this.groupsheaderdiv),this.groupheadersbounds=new Array;var r=this.groups.length;this.groupsheaderdiv.children().remove(),this.groupsheaderdiv[0].innerHTML="";var s=new Array;if(r>0)e.each(this.groups,function(i){var a=this,n=t._getColumnText(this),o=n.label,l=t._rendergroupcolumn(o,a);if(l.addClass(t.toThemeProperty("jqx-grid-group-column")),t.groupsheaderdiv.append(l),t.closeablegroups){var h=e(l.find(".jqx-icon-close"));t.isTouchDevice()&&t.touchmode!==!0?t.addHandler(h,"touchstart",function(){return t.removegroupat(i),!1}):t.addHandler(h,"click",function(){return t.removegroupat(i),!1})}if(t.sortable&&t.addHandler(l,"click",function(){var e=t.getcolumn(a);return null!=e&&t._togglesort(e),!1}),s[s.length]=l,t._handlegroupstocolumnsdragdrop(this,l),r-1>i){var d=l.height(),c=e('<div style="float: left; position: relative;"></div>');t.rtl&&c.css("float","right"),c.width(t.groupindentwidth/3),c.height(1),c.css("top",d/2),c.addClass(t.toThemeProperty("jqx-grid-group-column-line")),t.groupsheaderdiv.append(c)}});else{var a=e('<div style="position: relative;">'+i+"</div>");this.groupsheaderdiv.append(a),this.rtl&&a.addClass(this.toThemeProperty("jqx-rtl"))}this._groupheaders=s,this._updategroupheadersbounds()}},_updategroupheadersbounds:function(){var t=this,i=this.groupsheaderdiv.children().outerHeight(),r=(this.groupsheader.height()-i)/2;this.groupsheaderdiv.css("top",r),this.rtl?(this.groupsheaderdiv.css("left",""),this.groupsheaderdiv.css("right",r)):(this.groupsheaderdiv.css("left",r),this.groupsheaderdiv.css("right","")),this.rtl&&this._groupheaders.reverse(),e.each(this._groupheaders,function(e){var i=this.coord();t.groupheadersbounds[e]={left:i.left,top:i.top,width:this.outerWidth(),height:this.outerHeight(),index:e}})},addgroup:function(e){if(e){var t=this;t.groups!==t.dataview.groups&&(t.dataview.groups=t.groups),t.groups[t.groups.length]=e,t.refreshgroups(),this._raiseEvent(12,{type:"Add",index:t.groups[t.groups.length],groups:t.groups})}},insertgroup:function(e,t){if(void 0!=e&&null!=e&&e>=0&&e<=this.groups.length&&t){var i=this;i.groups!==i.dataview.groups&&(i.dataview.groups=i.groups),i.groups.splice(e,0,t.toString()),i.refreshgroups(),this._raiseEvent(12,{type:"Insert",index:e,groups:i.groups})}},refreshgroups:function(){this._refreshdataview(),this._render(!0,!0,!0,!1),this._postrender("group")},_insertaftergroup:function(e,t){var i=this._getGroupIndexByDataField(e);this.insertgroup(i+1,t)},_insertbeforegroup:function(e,t){var i=this._getGroupIndexByDataField(e);this.insertgroup(i,t)},removegroupat:function(e){if(e>=0&&null!=e&&void 0!=e){var t=this;return t.groups!==t.dataview.groups&&(t.dataview.groups=t.groups),t.groups.splice(e,1),t.refreshgroups(),t.virtualmode&&t.updatebounddata(),this._raiseEvent(12,{type:"Remove",index:e,groups:t.groups}),!0}return!1},cleargroups:function(){var e=this;return e.groups=[],e.dataview.groups=e.groups,e.refreshgroups(),this._raiseEvent(12,{type:"Clear",index:-1,groups:e.groups}),!0},removegroup:function(e){if(null==e)return!1;var t=this.groups.indexOf(e.toString());return this.removegroupat(t)},getrootgroupscount:function(){var e=this.dataview.loadedrootgroups.length;return e},collapsegroup:function(e){if(e>=0&&-1===e.toString().indexOf("."))return this._setrootgroupstate(e,!1);var t=e.toString().split("."),i=null;this.groupsVisibility||(this.groupsVisibility=new Array);for(var r=0;r<t.length;r++){var e=parseInt(t[r]);if(0==r){var i=this.dataview.loadedrootgroups[e];this.groupsVisibility[i.group]=null}else{var s=i.subGroups[e];s&&(i=s,r==t.length-1&&(this._setgroupstate(i,!1,!0),this.groupsVisibility[i.group]=null))}}},expandgroup:function(e){if(e>=0&&-1===e.toString().indexOf("."))return this._setrootgroupstate(e,!0);for(var t=e.toString().split("."),i=null,r=0;r<t.length;r++){var e=parseInt(t[r]);if(0==r){var i=this.dataview.loadedrootgroups[e];this._setrootgroupstate(e,!0),this.groupsVisibility||(this.groupsVisibility=new Array),this.groupsVisibility[i.group]=i}else{var s=i.subGroups[e];s&&(i=s,this._setgroupstate(i,!0,!0),this.groupsVisibility||(this.groupsVisibility=new Array),this.groupsVisibility[i.group]=i)}}},collapseallgroups:function(e){this._setbatchgroupstate(!1,e)},expandallgroups:function(e){this._setbatchgroupstate(!0,e)},isgroupexpanded:function(e){var t=this.dataview.loadedrootgroups[e];if(null==t)return null;var i=this.expandedgroups[t.uniqueid].expanded;return i},getgroup:function(t){var i=this.dataview.loadedrootgroups[t];if(null==i)return null;var r=this.expandedgroups[i.uniqueid].expanded,s=i.group,a=i.level,n=new Array;this._getsubgroups(n,i);var o=this,l={group:s,level:a,expanded:r,subgroups:n};if(i.subItems){var h=new Array;e.each(i.subItems,function(){var e=this.boundindex;h[h.length]=o.getrowdata(e)}),h.length>0&&(l.subrows=h)}return l},getrootgroups:function(){for(var e=this.dataview.loadedrootgroups.length,t=new Array,i=0;e>i;i++)t[i]=this.getgroup(i);return t},_getsubgroups:function(t,i){var r=this;for(obj in i.subGroups){var s=i.subGroups[obj],a=r.expandedgroups[s.uniqueid].expanded,n=s.group,o=s.level;if(t[t.length]={group:n,level:o,expanded:a},s.subItems){var l=new Array;e.each(s.subItems,function(){var e=this.boundindex;l[l.length]=r.getrowdata(e)}),t[t.length-1].subrows=l}if(s.subGroups){var h=new Array;r._getsubgroups(h,s)}}return t},_setbatchgroupstate:function(e,t){var i=this;for(obj in this.dataview.loadedrootgroups)i._setrootgroupstate(obj,e,!1,!0);if(0==t)return i._requiresupdate=!0,i._renderrows(i.virtualsizeinfo),!0;var r=this.vScrollBar[0].style.visibility;return this.rendergridcontent(!0,!1),(r!=this.vScrollBar[0].style.visibility||this._hiddencolumns)&&(this._updatecolumnwidths(),this._updatecellwidths(),this._renderrows(this.virtualsizeinfo)),!0},_setrootgroupstate:function(e,t,i,r){if(void 0==e||null==e||0>e)return!1;if(!this.groupable||0==this.groups.length)return!1;var s=void 0!=i?i:!0;if(e>=0&&e<this.dataview.loadedrootgroups.length){var a=this.dataview.loadedrootgroups[e];if(this.pageable){for(var n=new Array,o=0;o<this.dataview.rows.length;o++)null!=this.dataview.rows[o].group&&0===this.dataview.rows[o].level&&n.push(this.dataview.rows[o]);if(a=n[e],!a)return}return this._setgroupstate(a,t,s,r)}return!1},_togglegroupstate:function(e,t){if(null==e||void 0==e)return!1;var i=this.vScrollInstance.value,r=this.expandedgroups[e.uniqueid];r=void 0==r?!1:r.expanded,r=!r,this.groupsVisibility||(this.groupsVisibility=new Array),r?this.groupsVisibility[e.group]=e:this.groupsVisibility[e.group]=null;var s=this._setgroupstate(e,r,t);return this._newmax=null,0!==i&&"hidden"!==this.vScrollBar.css("visibility")&&(i<=this.vScrollInstance.max?this.vScrollInstance.setPosition(i):this.vScrollInstance.setPosition(this.vScrollInstance.max)),s},_setgroupstate:function(e,t,i,r){if(null==e||void 0==e)return!1;var s=!1;this.editable&&this.editcell&&this.endcelledit(this.editcell.row,this.editcell.column,!1,!1);var a=this.expandedgroups[e.uniqueid];if(void 0==a&&(a={expanded:!1},s=!0),a.expanded!=t&&(s=!0),s){if(this.expandedgroups[e.uniqueid]={expanded:t,group:e},this._setsubgroupsvisibility(this,e,!t,r),i){var n=this.vScrollBar[0].style.visibility;this.rendergridcontent(!0,!1),(n!=this.vScrollBar[0].style.visibility||this._hiddencolumns)&&(this._updatecolumnwidths(),this._updatecellwidths(),this._renderrows(this.virtualsizeinfo))}return void 0!=this.suspendgroupevents&&0!=this.suspendgroupevents||(t?this._raiseEvent(4,{group:e.group,parentgroup:e.parentItem?e.parentItem.group:null,level:e.level,visibleindex:e.visibleindex}):this._raiseEvent(5,{group:e.group,parentgroup:e.parentItem?e.parentItem.group:null,level:e.level,visibleindex:e.visibleindex})),!0}return!1},_setgroupitemsvisibility:function(e,t,i){for(var r=0;r<t.subItems.length;r++)e._setrowvisibility(t.subItems[r].visibleindex,i,!1)},_setsubgroupsvisibility:function(e,t,i,r){if(null!=t.parentItem){if(this.hiddens[t.parentItem.visibleindex])return}else if(null==t.parentItem&&this.hiddens[t.visibleindex])return;for(subGroup in t.subGroups){var s=t.subGroups[subGroup];i||e._setrowvisibility(s.visibleindex,i,!1);var a=!i;r?this.expandedgroups[s.uniqueid]={expanded:a,group:s}:a=void 0==e.expandedgroups[s.uniqueid]?!1:e.expandedgroups[s.uniqueid].expanded,s.subGroups&&(s.subGroups.length>0?e._setsubgroupsvisibility(e,s,!a||i,r):s.subItems.length>0&&e._setgroupitemsvisibility(e,s,!a||i)),i&&e._setrowvisibility(s.visibleindex,i,!1)}t.subItems&&t.subItems.length>0&&e._setgroupitemsvisibility(e,t,i)},_handlecolumnsdragdrop:function(){var t=this,i=-1,r=!1;if(t.groupable){var s="mousemove.grouping"+this.element.id,a="mousedown.grouping"+this.element.id,n="mouseup.grouping"+this.element.id,o=!1;this.isTouchDevice()&&this.touchmode!==!0&&(o=!0,s=e.jqx.mobile.getTouchEventName("touchmove")+".grouping"+this.element.id,a=e.jqx.mobile.getTouchEventName("touchstart")+".grouping"+this.element.id,n=e.jqx.mobile.getTouchEventName("touchend")+".grouping"+this.element.id),this.removeHandler(e(document),s),this.addHandler(e(document),s,function(s){if(!t.showgroupsheader)return!0;if(null!=t.dragcolumn){var a=parseInt(s.pageX),n=parseInt(s.pageY);if(o){var l=t.getTouches(s),h=l[0];a=parseInt(h.pageX),n=parseInt(h.pageY)}var d=t.host.coord(),c=parseInt(d.left),u=parseInt(d.top);void 0!=t.dragmousedownoffset&&null!=t.dragmousedownoffset||(t.dragmousedownoffset={left:0,top:0});var p=parseInt(a)-parseInt(t.dragmousedownoffset.left),f=parseInt(n)-parseInt(t.dragmousedownoffset.top);if(t.dragcolumn.css({left:p+"px",top:f+"px"}),r=!1,a>=c&&a<=c+t.host.width()&&n>=u&&n<=u+t.host.height()&&(r=!0),i=-1,r){t.dragcolumnicon.removeClass(t.toThemeProperty("jqx-grid-dragcancel-icon")),t.dragcolumnicon.addClass(t.toThemeProperty("jqx-grid-drag-icon"));var m=t.groupsheader.coord(),g=m.top+t.groupsheader.height(),v=e.data(t.dragcolumn[0],"datarecord");if(v)var x=t.groups.indexOf(v.toString());else var x=-1;var b=-1==x||t.groups.length>1&&x>-1;null!=t.dropline&&(n>=m.top&&g>=n?b&&(i=t._handlegroupdroplines(a)):t.dropline.fadeOut("slow"))}else null!=t.dropline&&t.dropline.fadeOut("slow"),t.dragcolumnicon.removeClass(t.toThemeProperty("jqx-grid-drag-icon")),t.dragcolumnicon.addClass(t.toThemeProperty("jqx-grid-dragcancel-icon"));if(o)return s.preventDefault(),s.stopPropagation(),!1}}),this.removeHandler(e(document),n),this.addHandler(e(document),n,function(s){if(!t.showgroupsheader)return!0;t.__drag=!1,e(document.body).removeClass("jqx-disableselect");var a=parseInt(s.pageX),n=parseInt(s.pageY);if(o){var l=t.getTouches(s),h=l[0];a=parseInt(h.pageX),n=parseInt(h.pageY)}var d=t.host.coord(),c=(parseInt(d.left),parseInt(d.top)),u=t.groupsheader.height();if(t.showtoolbar&&(c+=t.toolbarheight),t.dragstarted=!1,t.dragmousedown=null,null!=t.dragcolumn){var p=e.data(t.dragcolumn[0],"datarecord");if(t.dragcolumn.remove(),t.dragcolumn=null,null!=p){if(!t.getcolumn(p).groupable)return void(null!=t.dropline&&(t.dropline.remove(),t.dropline=null));if(r)if(-1!=i){var f=i.index,m=t.groups[f],g=t._getGroupIndexByDataField(p);g!=f&&(void 0!=g&&g>=0&&t.groups.splice(g,1),"before"==i.position?t.rtl?t._insertaftergroup(m,p):t._insertbeforegroup(m,p):t.rtl?t._insertbeforegroup(m,p):t._insertaftergroup(m,p))}else if(0==t.groups.length)n>c&&c+u>=n&&t.addgroup(p);else if(n>c+u){var g=t._getGroupIndexByDataField(p);t.removegroupat(g)}null!=t.dropline&&(t.dropline.remove(),t.dropline=null)}}})}},_getGroupIndexByDataField:function(e){for(var t=0;t<this.groups.length;t++)if(this.groups[t]==e)return t;return-1},_isColumnInGroups:function(e){for(var t=0;t<this.groups.length;t++)if(this.groups[t]==e)return!0;return!1},_handlegroupdroplines:function(t){var i=this,r=-1;return e.each(i.groupheadersbounds,function(e){if(t<=this.left+this.width/2){var s=this.left-3;return e>0&&(s=this.left-1-i.groupindentwidth/6),i.dropline.css("left",s),i.dropline.css("top",this.top),i.dropline.height(this.height),i.dropline.fadeIn("slow"),r={index:e,position:"before"},i.rtl&&(r={index:i.groupheadersbounds.length-1-e,position:"before"}),!1}t>=this.left+this.width/2&&(i.dropline.css("left",1+this.left+this.width),i.dropline.css("top",this.top),i.dropline.height(this.height),i.dropline.fadeIn("slow"),r={index:e,position:"after"},i.rtl&&(r={index:i.groupheadersbounds.length-1-e,position:"after"}))}),r},_handlegroupstocolumnsdragdrop:function(t,i){this.dragmousedown=null,this.dragmousedownoffset=null,this.dragstarted=!1,this.dragcolumn=null;var r,s=this,a="mousedown",n="mousemove",o=!1;this.isTouchDevice()&&this.touchmode!==!0&&(o=!0,a=e.jqx.mobile.getTouchEventName("touchstart"),n=e.jqx.mobile.getTouchEventName("touchmove")),this.addHandler(i,"dragstart",function(e){return!1}),this.addHandler(i,a,function(t){if(!s.showgroupsheader)return!0;var i=t.pageX,r=t.pageY;if(s.__drag=!0,s.dragmousedown={left:i,top:r},o){var a=s.getTouches(t),n=a[0];i=n.pageX,r=n.pageY,s.dragmousedown={left:i,top:r},t.preventDefault&&t.preventDefault()}var l=e(t.target).coord();s.dragmousedownoffset={left:parseInt(i)-parseInt(l.left),top:parseInt(r-l.top)}}),this.addHandler(i,n,function(a){if(!s.showgroupsheader)return!0;if(s.dragmousedown){if(r={left:a.pageX,top:a.pageY},o){var n=s.getTouches(a),l=n[0];r={left:l.pageX,top:l.pageY}}if(!s.dragstarted&&null==s.dragcolumn){var h=Math.abs(r.left-s.dragmousedown.left),d=Math.abs(r.top-s.dragmousedown.top);(h>3||d>3)&&(s._createdragcolumn(i,r,!0),e(document.body).addClass("jqx-disableselect"),e.data(s.dragcolumn[0],"datarecord",t),a.preventDefault&&a.preventDefault())}}})},_createdragcolumn:function(t,i,r){var s=this,a=i;s.dragcolumn=e("<div></div>");var n=t.clone();s.dragcolumn.css("z-index",999999),n.css("border-width","1px"),n.css("opacity","0.4");var o=e(n.find("."+s.toThemeProperty("jqx-grid-column-menubutton")));o.length>0&&o.css("display","none");var l=e(n.find(".jqx-icon-close"));l.length>0&&l.css("display","none"),s.dragcolumnicon=e('<div style="z-index: 9999; position: absolute; left: 100%; top: 50%; margin-left: -18px; margin-top: -7px;"></div>'),s.dragcolumnicon.addClass(s.toThemeProperty("jqx-grid-drag-icon")),s.dragcolumn.css("float","left"),s.dragcolumn.css("position","absolute");s.host.coord();n.width(t.width()+16),s.dragcolumn.append(n),s.dragcolumn.height(t.height()),s.dragcolumn.width(n.width()),s.dragcolumn.append(s.dragcolumnicon),e(document.body).append(s.dragcolumn),n.css("margin-left",0),n.css("left",0),n.css("top",0),s.dragcolumn.css("left",a.left+s.dragmousedown.left),s.dragcolumn.css("top",a.top+s.dragmousedown.top),void 0!=r&&r&&(s.dropline=e('<div style="display: none; position: absolute;"></div>'),s.dropline.width(2),s.dropline.addClass(s.toThemeProperty("jqx-grid-group-drag-line")),e(document.body).append(s.dropline))},iscolumngroupable:function(e){return this._getcolumnproperty(e,"groupable")},_handlecolumnstogroupsdragdrop:function(t,i){this.dragmousedown=null,this.dragmousedownoffset=null,this.dragstarted=!1,this.dragcolumn=null;var r,s=this,a=!1;this.isTouchDevice()&&this.touchmode!==!0&&(a=!0);var n="mousedown.drag",r="mousemove.drag";a?(n=e.jqx.mobile.getTouchEventName("touchstart")+".drag",r=e.jqx.mobile.getTouchEventName("touchmove")+".drag"):this.addHandler(i,"dragstart",function(e){return!1}),this.addHandler(i,n,function(r){if(!s.showgroupsheader)return!0;if(s.__drag=!0,s._isColumnInGroups(t.displayfield))return"col-resize"!=i.css("cursor"),!0;if(0==t.groupable)return!0;var n=r.pageX,o=r.pageY;if(a){var l=s.getTouches(r),h=l[0];n=h.pageX,o=h.pageY}s.dragmousedown={left:n,top:o},a&&r.preventDefault&&r.preventDefault();var d=e(r.target).coord();s.dragmousedownoffset={left:parseInt(n)-parseInt(d.left),top:parseInt(o-d.top)}}),this.addHandler(i,r,function(n){if(!s.showgroupsheader)return!0;if(s._isColumnInGroups(t.displayfield))return"col-resize"!=i.css("cursor"),!0;if(s.dragmousedown){var o=n.pageX,l=n.pageY;if(a){var h=s.getTouches(n),d=h[0];o=d.pageX,l=d.pageY}if(r={left:o,top:l},!s.dragstarted&&null==s.dragcolumn){var c=Math.abs(r.left-s.dragmousedown.left),u=Math.abs(r.top-s.dragmousedown.top);(c>3||u>3)&&(s._createdragcolumn(i,r,!0),e.data(s.dragcolumn[0],"datarecord",t.displayfield),n.preventDefault&&n.preventDefault())}}})},_rendergroupcolumn:function(t,i){var r=e('<div style="float: left; position: relative;"></div>');if(this.rtl&&r.css("float","right"),null!=this.groupcolumnrenderer&&(r[0].innerHTML=this.groupcolumnrenderer(t),r.addClass(this.toThemeProperty("jqx-grid-group-column")),r.addClass(this.toThemeProperty("jqx-fill-state-normal"))),this.closeablegroups){""==r[0].innerHTML&&(r[0].innerHTML='<a style="float: left;" href="#">'+t+"</a>"),this.rtl&&(r[0].innerHTML='<a style="float: right;" href="#">'+t+"</a>");var s=this.rtl?"left":"right",a='<div style="float: '+s+'; min-height: 16px; min-width: 18px;"><div style="position: absolute; left: 100%; top: 50%; margin-left: -18px; margin-top: -8px; float: none; width: 16px; height: 16px;" class="'+this.toThemeProperty("jqx-icon-close")+'"></div></div>';if(e.jqx.browser.msie&&e.jqx.browser.version<8&&(a='<div style="float: left; min-height: 16px; min-width: 18px;"><div style="position: absolute; left: 100%; top: 50%; margin-left: -18px; margin-top: -8px; float: none; width: 16px; height: 16px;" class="'+this.toThemeProperty("jqx-icon-close")+'"></div></div>'),this.rtl){var a='<div style="float: '+s+'; min-height: 16px; min-width: 18px;"><div style="position: absolute; left: 0px; top: 50%; margin-top: -8px; float: none; width: 16px; height: 16px;" class="'+this.toThemeProperty("jqx-icon-close")+'"></div></div>';e.jqx.browser.msie&&e.jqx.browser.version<8&&(a='<div style="float: left; min-height: 16px; min-width: 18px;"><div style="position: absolute; left: 0px; top: 50%; margin-top: -8px; float: none; width: 16px; height: 16px;" class="'+this.toThemeProperty("jqx-icon-close")+'"></div></div>')}r[0].innerHTML+=a}else""==r[0].innerHTML&&(r[0].innerHTML='<a href="#">'+t+"</a>");if(this.sortable){var n=e('<div style="float: right; min-height: 16px; min-width: 18px;"><div style="position: absolute; left: 100%; top: 50%; margin-left: -16px; margin-top: -8px; float: none; width: 16px; height: 16px;" class="'+this.toThemeProperty("jqx-grid-column-sortascbutton")+'"></div></div>'),o=e('<div style="float: right; min-height: 16px; min-width: 18px;"><div style="position: absolute; left: 100%; top: 50%; margin-left: -16px; margin-top: -8px; float: none; width: 16px; height: 16px;" class="'+this.toThemeProperty("jqx-grid-column-sortdescbutton")+'"></div></div>');if(this.closeablegroups)var n=e('<div style="float: right; min-height: 16px; min-width: 18px;"><div style="position: absolute; left: 100%; top: 50%; margin-left: -32px; margin-top: -8px; float: none; width: 16px; height: 16px;" class="'+this.toThemeProperty("jqx-grid-column-sortascbutton")+'"></div></div>'),o=e('<div style="float: right; min-height: 16px; min-width: 18px;"><div style="position: absolute; left: 100%; top: 50%; margin-left: -32px; margin-top: -8px; float: none; width: 16px; height: 16px;" class="'+this.toThemeProperty("jqx-grid-column-sortdescbutton")+'"></div></div>');if(this.rtl){var n=e('<div style="float: right; min-height: 16px; min-width: 18px;"><div style="position: absolute; left: 0px; top: 50%; margin-left: 0px; margin-top: -8px; float: none; width: 16px; height: 16px;" class="'+this.toThemeProperty("jqx-grid-column-sortascbutton")+'"></div></div>'),o=e('<div style="float: right; min-height: 16px; min-width: 18px;"><div style="position: absolute; left: 0px; top: 50%; margin-left: 0px; margin-top: -8px; float: none; width: 16px; height: 16px;" class="'+this.toThemeProperty("jqx-grid-column-sortdescbutton")+'"></div></div>');if(this.closeablegroups)var n=e('<div style="float: right; min-height: 16px; min-width: 18px;"><div style="position: absolute; left: 0px; top: 50%; margin-left: 16px; margin-top: -8px; float: none; width: 16px; height: 16px;" class="'+this.toThemeProperty("jqx-grid-column-sortascbutton")+'"></div></div>'),o=e('<div style="float: right; min-height: 16px; min-width: 18px;"><div style="position: absolute; left: 0px; top: 50%; margin-left: 16px; margin-top: -8px; float: none; width: 16px; height: 16px;" class="'+this.toThemeProperty("jqx-grid-column-sortdescbutton")+'"></div></div>')}n.css("display","none"),o.css("display","none"),e.jqx.browser.msie&&e.jqx.browser.version<8&&(n.css("float","left"),o.css("float","left")),r.append(n),r.append(o),e.data(document.body,"groupsortelements"+i,{sortasc:n,sortdesc:o})}return r.addClass(this.toThemeProperty("jqx-fill-state-normal")),r.addClass(this.toThemeProperty("jqx-grid-group-column")),r},_rendergroup:function(t,i,r,s,a,n,o){var l=i,h=i.cells[r.level];this.rtl&&(h=i.cells[i.cells.length-1-r.level]);var d=this._findgroupstate(r.uniqueid);if(r.bounddata.subGroups.length>0||r.bounddata.subItems.length>0){var c=this.rtl?"-rtl":"",u=this.toThemeProperty("jqx-icon-arrow-right");c&&(u=this.toThemeProperty("jqx-icon-arrow-left")),d?h.className+=" "+this.toThemeProperty("jqx-grid-group-expand"+c)+" "+this.toThemeProperty("jqx-icon-arrow-down"):h.className+=" "+this.toThemeProperty("jqx-grid-group-collapse"+c)+" "+u}var p=this._getColumnText(this.groups[r.level]).label,f=this.groupindentwidth,m=this.rowdetails&&this.showrowdetailscolumn?(1+t)*f:t*f,g=o-m,v=r.level+1;this.rtl&&(v=0);for(var x=l.cells[v],b=2;void 0!=x&&"none"==x.style.display&&b<l.cells.length-1;)x=l.cells[v+b-1],b++;var w=e(x);if(x){if(x.style.width=parseInt(g)+"px",-1!=x.className.indexOf("jqx-grid-cell-filter")&&w.removeClass(this.toThemeProperty("jqx-grid-cell-filter")),-1!=x.className.indexOf("jqx-grid-cell-sort")&&w.removeClass(this.toThemeProperty("jqx-grid-cell-sort")),-1!=x.className.indexOf("jqx-grid-cell-pinned")&&w.removeClass(this.toThemeProperty("jqx-grid-cell-pinned")),null!=this.groupsrenderer){var y={group:r.group,level:r.level,parent:r.bounddata.parentItem,subGroups:r.bounddata.subGroups,subItems:r.bounddata.subItems,groupcolumn:this._getColumnText(this.groups[r.level]).column},_=this.groupsrenderer(p+": "+r.group,r.group,d,y);if(_)x.innerHTML=_;else{var j=r.bounddata.subItems.length>0?r.bounddata.subItems.length:r.bounddata.subGroups.length;if(this.showgroupaggregates){var q=r.bounddata.subItems.length>0?r.bounddata.subItems:r.bounddata.subGroups;j=0;for(var T=0;T<q.length;T++)q[T].totalsrow||j++}x.innerHTML='<div class="'+this.toThemeProperty("jqx-grid-groups-row")+'" style="position: absolute;"><span>'+p+': </span><span class="'+this.toThemeProperty("jqx-grid-groups-row-details")+'">'+r.group+" ("+j+")</span></div>"}}else{var S=this._getcolumnbydatafield(this.groups[r.level]),C=r.group;if(null==S)throw new Error("jqxGrid: Unable to find '"+this.groups[r.level]+"' group in the Grid's columns collection.");S.cellsformat&&e.jqx.dataFormat&&(e.jqx.dataFormat.isDate(C)?C=e.jqx.dataFormat.formatdate(C,S.cellsformat,this.gridlocalization):e.jqx.dataFormat.isNumber(C)&&(C=e.jqx.dataFormat.formatnumber(C,S.cellsformat,this.gridlocalization)));var j=r.bounddata.subItems.length>0?r.bounddata.subItems.length:r.bounddata.subGroups.length;if(this.showgroupaggregates){var q=r.bounddata.subItems.length>0?r.bounddata.subItems:r.bounddata.subGroups;j=0;for(var T=0;T<q.length;T++)q[T].totalsrow||j++}x.innerHTML='<div class="'+this.toThemeProperty("jqx-grid-groups-row")+'" style="position: absolute;"><span>'+p+': </span><span class="'+this.toThemeProperty("jqx-grid-groups-row-details")+'">'+C+" ("+j+")</span></div>"}if(this.rtl){S||(S=this._getcolumnbydatafield(this.groups[r.level]));var I="hidden"==this.hScrollBar.css("visibility")?0:this.hScrollInstance.max-this.hScrollInstance.value,k="hidden"==this.vScrollBar.css("visibility")?0:this.scrollbarsize+6,m=this.rowdetails&&this.showrowdetailscolumn?(2+r.level)*f:(1+r.level)*f;x.style.width=o+parseInt(I)-m-k+"px",w.addClass(this.toThemeProperty("jqx-rtl"));var D=e(i.cells[i.cells.length-1]).css("z-index");w.css("z-index",D);var M=w.find("div"),g=M.width();M.css("left","100%");var P=null!=this.columns.records[i.cells.length-2-r.level]?this.columns.records[i.cells.length-2-r.level].pinned:!1;if(this.table.width()<o&&(o=this.table.width(),"hidden"!=this.vScrollBar.css("visibility")&&(o+=this.vScrollBar.outerWidth())),S.pinned||P)this.rowdetails&&this.showrowdetailscolumn&&(o+=30),M.css("margin-left",-g),x.style.width=o+I-m-k+"px";else{var I="hidden"==this.hScrollBar.css("visibility")?0:this.hScrollInstance.max;x.style.width=o+I-m-k+"px";var g=M.width();M.css("margin-left",-g)}}}}})}(jqxBaseFramework),function(e){function t(s){var h,d=this,c=s.data||{};if(c.elem)d=s.dragTarget=c.elem,s.dragProxy=l.proxy||d,
s.cursorOffsetX=c.pageX-c.left,s.cursorOffsetY=c.pageY-c.top,s.offsetX=s.pageX-s.cursorOffsetX,s.offsetY=s.pageY-s.cursorOffsetY;else if(l.dragging||c.which>0&&s.which!=c.which||e(s.target).is(c.not))return;switch(s.type){case"mousedown":e.extend(c,e(d).offset(),{elem:d,target:s.target,pageX:s.pageX,pageY:s.pageY}),n.add(document,"mousemove mouseup",t,c),a(d,!1),l.dragging=null;break;case!l.dragging&&"mousemove":if(r(s.pageX-c.pageX)+r(s.pageY-c.pageY)<c.distance)break;s.target=c.target,h=i(s,"dragstart",d),h!==!1&&(l.dragging=d,l.proxy=s.dragProxy=e(h||d)[0]);case"mousemove":if(l.dragging){if(h=i(s,"drag",d),c.drop&&o.drop&&(o.drop.allowed=h!==!1,o.drop.handler(s)),h!==!1)break;s.type="mouseup"}case"mouseup":n.remove(document,"mousemove mouseup",t),l.dragging&&(c.drop&&o.drop&&o.drop.handler(s),i(s,"dragend",d)),a(d,!0),l.dragging=l.proxy=c.elem=!1}}function i(t,i,r){t.type=i;var s=(e.event.dispatch||e.event.handle).call(r,t);return s===!1?!1:s||t.result}function r(e){return Math.pow(e,2)}function s(){return l.dragging===!1}function a(t,i){t&&(t=t.ownerDocument?t.ownerDocument:t,t.unselectable=i?"off":"on",t.style&&(t.style.MozUserSelect=i?"":"none"),e.event[i?"remove":"add"](t,"selectstart mousedown",s))}e.fn.drag=function(e,t,i){return t&&this.bind("dragstart",e),i&&this.bind("dragend",i),e?this.bind("drag",t?t:e):this.trigger("drag")};var n=e.event,o=n.special,l=o.drag={not:":input",distance:0,which:1,drop:!1,dragging:!1,setup:function(i){i=e.extend({distance:l.distance,which:l.which,not:l.not,drop:l.drop},i||{}),i.distance=r(i.distance),n.add(this,"mousedown",t,i),this.attachEvent&&this.attachEvent("ondragstart",s)},teardown:function(){n.remove(this,"mousedown",t),this===l.dragging&&(l.dragging=l.proxy=!1),a(this,!0),this.detachEvent&&this.detachEvent("ondragstart",s)}};o.dragstart=o.dragend={setup:function(){},teardown:function(){}}}(jQuery),/*! Copyright (c) 2011 Brandon Aaron (http://brandonaaron.net)
 * Licensed under the MIT License (LICENSE.txt).
 *
 * Thanks to: http://adomas.org/javascript-mouse-wheel/ for some pointers.
 * Thanks to: Mathias Bank(http://www.mathias-bank.de) for a scope bug fix.
 * Thanks to: Seamus Leahy for adding deltaX and deltaY
 *
 * Version: 3.0.6
 *
 * Requires: 1.2.2+
 */
function(e){function t(t){var i=t||window.event,r=[].slice.call(arguments,1),s=0,a=0,n=0;return t=e.event.fix(i),t.type="mousewheel",i.wheelDelta&&(s=i.wheelDelta/120),i.detail&&(s=-i.detail/3),n=s,void 0!==i.axis&&i.axis===i.HORIZONTAL_AXIS&&(n=0,a=-1*s),void 0!==i.wheelDeltaY&&(n=i.wheelDeltaY/120),void 0!==i.wheelDeltaX&&(a=-1*i.wheelDeltaX/120),r.unshift(t,s,a,n),(e.event.dispatch||e.event.handle).apply(this,r)}var i=["DOMMouseScroll","mousewheel"];if(e.event.fixHooks)for(var r=i.length;r;)e.event.fixHooks[i[--r]]=e.event.mouseHooks;e.event.special.mousewheel={setup:function(){if(this.addEventListener)for(var e=i.length;e;)this.addEventListener(i[--e],t,!1);else this.onmousewheel=t},teardown:function(){if(this.removeEventListener)for(var e=i.length;e;)this.removeEventListener(i[--e],t,!1);else this.onmousewheel=null}},e.fn.extend({mousewheel:function(e){return e?this.bind("mousewheel",e):this.trigger("mousewheel")},unmousewheel:function(e){return this.unbind("mousewheel",e)}})}(jQuery),function(e){e.color={},e.color.make=function(t,i,r,s){var a={};return a.r=t||0,a.g=i||0,a.b=r||0,a.a=null!=s?s:1,a.add=function(e,t){for(var i=0;i<e.length;++i)a[e.charAt(i)]+=t;return a.normalize()},a.scale=function(e,t){for(var i=0;i<e.length;++i)a[e.charAt(i)]*=t;return a.normalize()},a.toString=function(){return a.a>=1?"rgb("+[a.r,a.g,a.b].join(",")+")":"rgba("+[a.r,a.g,a.b,a.a].join(",")+")"},a.normalize=function(){function e(e,t,i){return e>t?e:t>i?i:t}return a.r=e(0,parseInt(a.r),255),a.g=e(0,parseInt(a.g),255),a.b=e(0,parseInt(a.b),255),a.a=e(0,a.a,1),a},a.clone=function(){return e.color.make(a.r,a.b,a.g,a.a)},a.normalize()},e.color.extract=function(t,i){var r;do{if(r=t.css(i).toLowerCase(),""!==r&&"transparent"!==r)break;t=t.parent()}while(t.length&&!e.nodeName(t.get(0),"body"));return"rgba(0, 0, 0, 0)"===r&&(r="transparent"),e.color.parse(r)},e.color.parse=function(i){var r,s=e.color.make;if(r=/rgb\(\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*\)/.exec(i))return s(parseInt(r[1],10),parseInt(r[2],10),parseInt(r[3],10));if(r=/rgba\(\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*,\s*([0-9]+(?:\.[0-9]+)?)\s*\)/.exec(i))return s(parseInt(r[1],10),parseInt(r[2],10),parseInt(r[3],10),parseFloat(r[4]));if(r=/rgb\(\s*([0-9]+(?:\.[0-9]+)?)%\s*,\s*([0-9]+(?:\.[0-9]+)?)%\s*,\s*([0-9]+(?:\.[0-9]+)?)%\s*\)/.exec(i))return s(2.55*parseFloat(r[1]),2.55*parseFloat(r[2]),2.55*parseFloat(r[3]));if(r=/rgba\(\s*([0-9]+(?:\.[0-9]+)?)%\s*,\s*([0-9]+(?:\.[0-9]+)?)%\s*,\s*([0-9]+(?:\.[0-9]+)?)%\s*,\s*([0-9]+(?:\.[0-9]+)?)\s*\)/.exec(i))return s(2.55*parseFloat(r[1]),2.55*parseFloat(r[2]),2.55*parseFloat(r[3]),parseFloat(r[4]));if(r=/#([a-fA-F0-9]{2})([a-fA-F0-9]{2})([a-fA-F0-9]{2})/.exec(i))return s(parseInt(r[1],16),parseInt(r[2],16),parseInt(r[3],16));if(r=/#([a-fA-F0-9])([a-fA-F0-9])([a-fA-F0-9])/.exec(i))return s(parseInt(r[1]+r[1],16),parseInt(r[2]+r[2],16),parseInt(r[3]+r[3],16));var a=e.trim(i).toLowerCase();return"transparent"===a?s(255,255,255,0):(r=t[a]||[0,0,0],s(r[0],r[1],r[2]))};var t={aqua:[0,255,255],azure:[240,255,255],beige:[245,245,220],black:[0,0,0],blue:[0,0,255],brown:[165,42,42],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgrey:[169,169,169],darkgreen:[0,100,0],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkviolet:[148,0,211],fuchsia:[255,0,255],gold:[255,215,0],green:[0,128,0],indigo:[75,0,130],khaki:[240,230,140],lightblue:[173,216,230],lightcyan:[224,255,255],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightyellow:[255,255,224],lime:[0,255,0],magenta:[255,0,255],maroon:[128,0,0],navy:[0,0,128],olive:[128,128,0],orange:[255,165,0],pink:[255,192,203],purple:[128,0,128],violet:[128,0,128],red:[255,0,0],silver:[192,192,192],white:[255,255,255],yellow:[255,255,0]}}(jQuery),function(){function e(e){return e.replace(/0|1|2|3|4|5|6|7|8|9/g,"0")}var t=function(e,t){var i=t.getElementsByClassName(e)[0];if(!i&&(i=document.createElement("canvas"),i.className=e,i.style.direction="ltr",i.style.position="absolute",i.style.left="0px",i.style.top="0px",t.appendChild(i),!i.getContext))throw new Error("Canvas is not available.");this.element=i;var r=this.context=i.getContext("2d"),s=window.devicePixelRatio||1,a=r.webkitBackingStorePixelRatio||r.mozBackingStorePixelRatio||r.msBackingStorePixelRatio||r.oBackingStorePixelRatio||r.backingStorePixelRatio||1;this.pixelRatio=s/a;var n=t.getBoundingClientRect();this.resize(n.width,n.height),this.textContainer=null,this.SVGContainer=null,this.text={},this.SVG={},this._textCache={}};t.prototype.resize=function(e,t){var i=10;e=i>e?i:e,t=i>t?i:t;var r=this.element,s=this.context,a=this.pixelRatio;this.width!==e&&(r.width=e*a,r.style.width=e+"px",this.width=e),this.height!==t&&(r.height=t*a,r.style.height=t+"px",this.height=t),s.restore(),s.save(),s.scale(a,a)},t.prototype.clear=function(){this.context.clearRect(0,0,this.width,this.height)},t.prototype.render=function(){var e=this._textCache;for(var t in e)if(hasOwnProperty.call(e,t)){var i=this.getTextLayer(t),r=e[t],s=i.style.display;i.style.display="none";for(var a in r)if(hasOwnProperty.call(r,a)){var n=r[a];for(var o in n)if(hasOwnProperty.call(n,o)){for(var l,h=n[o],d=h.positions,c=0;d[c];c++)l=d[c],l.active?l.rendered||(i.appendChild(l.element),l.rendered=!0):(d.splice(c--,1),l.rendered&&l.element.parentNode.removeChild(l.element));0===d.length&&(h.measured?h.measured=!1:delete n[o])}}i.style.display=s}},t.prototype.getTextLayer=function(e){var t=this.text[e];return t||(this.textContainer||(this.textContainer=document.createElement("div"),this.textContainer.className="flot-text",this.textContainer.style.position="absolute",this.textContainer.style.top="0px",this.textContainer.style.left="0px",this.textContainer.style.bottom="0px",this.textContainer.style.right="0px",this.textContainer.style.color="inherit",this.element.parentNode.insertBefore(this.textContainer,this.element)),t=document.createElement("div"),t.className=e,t.style.position="absolute",t.style.top="0px",t.style.left="0px",t.style.bottom="0px",t.style.right="0px",this.textContainer.appendChild(t),this.text[e]=t),t},t.prototype.getSVGLayer=function(e){var t=this.SVG[e];if(!t){var i;this.SVGContainer?i=this.SVGContainer.getElementsByName("svg")[0]:(this.SVGContainer=document.createElement("div"),this.SVGContainer.className="flot-svg",this.SVGContainer.style.position="absolute",this.SVGContainer.style.top="0px",this.SVGContainer.style.left="0px",this.SVGContainer.style.bottom="0px",this.SVGContainer.style.right="0px",this.SVGContainer.style.pointerEvents="none",this.element.parentNode.insertAfter(this.SVGContainer,this.element),i=document.createElementNS("http://www.w3.org/2000/svg","svg"),i.style.width="100%",i.style.height="100%",this.SVGContainer.appendChild(i)),t=document.createElementNS("http://www.w3.org/2000/svg","g"),t.className="classes",t.style.position="absolute",t.style.top="0px",t.style.left="0px",t.style.bottom="0px",t.style.right="0px",t.style.fill="#aaaaaa",i.appendChild(t,this.element),this.SVG[e]=t}return t},t.prototype.getTextInfo=function(t,i,r,s,a){var n,o,l,h;i=""+i,n="object"==typeof r?r.style+" "+r.variant+" "+r.weight+" "+r.size+"px/"+r.lineHeight+"px "+r.family:r,o=this._textCache[t],null==o&&(o=this._textCache[t]={}),l=o[n],null==l&&(l=o[n]={});var d=e(i);if(h=l[d],!h){var c=document.createElement("div");c.innerHTML=i,c.style.position="absolute",c.style.maxWidth=a,c.style.top="-9999px","object"==typeof r?(c.style.font=n,c.style.color=r.color):"string"==typeof r&&(c.className=r),this.getTextLayer(t).appendChild(c),h=l[d]={width:c.offsetWidth,height:c.offsetHeight,measured:!0,element:c,positions:[]},c.parentNode.removeChild(c)}return h.measured=!0,h},t.prototype.addText=function(e,t,i,r,s,a,n,o,l){var h=this.getTextInfo(e,r,s,a,n),d=h.positions;"center"===o?t-=h.width/2:"right"===o&&(t-=h.width),"middle"===l?i-=h.height/2:"bottom"===l&&(i-=h.height);for(var c,u=0;d[u];u++){if(c=d[u],c.x===t&&c.y===i&&c.text===r)return void(c.active=!0);if(c.active===!1)return c.active=!0,c.text=r,c.x=t,c.y=i,c.element.style.top=Math.round(i)+"px",c.element.style.left=Math.round(t)+"px",void(c.element.innerHTML=r)}c={active:!0,rendered:!1,element:d.length?h.element.cloneNode():h.element,text:r,x:t,y:i},d.push(c),c.element.style.top=Math.round(i)+"px",c.element.style.left=Math.round(t)+"px",c.element.style.textAlign=o,c.element.innerHTML=r},t.prototype.removeText=function(e,t,i,r,s,a){var n,o;if(null==r){var l=this._textCache[e];if(null!=l)for(var h in l)if(hasOwnProperty.call(l,h)){var d=l[h];for(var c in d)if(hasOwnProperty.call(d,c)){var u=d[c].positions;for(o=0;u[o];o++)n=u[o],n.active=!1}}}else for(u=this.getTextInfo(e,r,s,a).positions,o=0;u[o];o++)n=u[o],n.x===t&&n.y===i&&n.text===r&&(n.active=!1)},t.prototype.clearCache=function(){var e=this._textCache;for(var t in e)if(hasOwnProperty.call(e,t))for(var i=this.getTextLayer(t);i.firstChild;)i.removeChild(i.firstChild);this._textCache={}},window.Flot||(window.Flot={}),window.Flot.Canvas=t}(),/* Javascript plotting library for jQuery, version 0.8.3.

Copyright (c) 2007-2014 IOLA and Ole Laursen.
Licensed under the MIT license.

*/
function(e){"use strict";function t(t){var i,s=[],a=e.plot.saturated.saturate(r(t.min,t.tickSize)),n=0,o=Number.NaN;a===-Number.MAX_VALUE&&(s.push(a),a=r(t.min+t.tickSize,t.tickSize));do i=o,o=e.plot.saturated.multiplyAdd(t.tickSize,n,a),s.push(o),++n;while(o<t.max&&o!==i);return s}function i(i,r,a,n){function o(e,t){t=[Oe].concat(t);for(var i=0;i<e.length;++i)e[i].apply(this,t)}function l(){for(var t={Canvas:s},i=0;i<n.length;++i){var r=n[i];r.init(Oe,t),r.options&&e.extend(!0,je,r.options)}}function h(t){e.extend(!0,je,t),t&&t.colors&&(je.colors=t.colors),null==je.xaxis.color&&(je.xaxis.color=e.color.parse(je.grid.color).scale("a",.22).toString()),null==je.yaxis.color&&(je.yaxis.color=e.color.parse(je.grid.color).scale("a",.22).toString()),null==je.xaxis.tickColor&&(je.xaxis.tickColor=je.grid.tickColor||je.xaxis.color),null==je.yaxis.tickColor&&(je.yaxis.tickColor=je.grid.tickColor||je.yaxis.color),null==je.grid.borderColor&&(je.grid.borderColor=je.grid.color),null==je.grid.tickColor&&(je.grid.tickColor=e.color.parse(je.grid.color).scale("a",.22).toString());var r,s,a,n=i.css("font-size"),l=n?+n.replace("px",""):13,h={style:i.css("font-style"),size:Math.round(.8*l),variant:i.css("font-variant"),weight:i.css("font-weight"),family:i.css("font-family")};for(a=je.xaxes.length||1,r=0;a>r;++r)s=je.xaxes[r],s&&!s.tickColor&&(s.tickColor=s.color),s=e.extend(!0,{},je.xaxis,s),je.xaxes[r]=s,s.font&&(s.font=e.extend({},h,s.font),s.font.color||(s.font.color=s.color),s.font.lineHeight||(s.font.lineHeight=Math.round(1.15*s.font.size)));for(a=je.yaxes.length||1,r=0;a>r;++r)s=je.yaxes[r],s&&!s.tickColor&&(s.tickColor=s.color),s=e.extend(!0,{},je.yaxis,s),je.yaxes[r]=s,s.font&&(s.font=e.extend({},h,s.font),s.font.color||(s.font.color=s.color),s.font.lineHeight||(s.font.lineHeight=Math.round(1.15*s.font.size)));for(r=0;r<je.xaxes.length;++r)g(ke,r+1).options=je.xaxes[r];for(r=0;r<je.yaxes.length;++r)g(De,r+1).options=je.yaxes[r];e.each(p(),function(e,t){t.boxPosition=t.options.boxPosition||{centerX:0,centerY:0}});for(var d in Be)je.hooks[d]&&je.hooks[d].length&&(Be[d]=Be[d].concat(je.hooks[d]));o(Be.processOptions,[je])}function d(e){var t=_e;_e=c(e),v(),x(t)}function c(t){for(var i=[],r=0;r<t.length;++r){var s=e.extend(!0,{},je.series);null!=t[r].data?(s.data=t[r].data,delete t[r].data,e.extend(!0,s,t[r]),t[r].data=s.data):s.data=t[r],i.push(s)}return i}function u(e,t){var i=e[t+"axis"];return"object"==typeof i&&(i=i.n),"number"!=typeof i&&(i=1),i}function p(){return ke.concat(De).filter(function(e){return e})}function f(e){var t,i,r={};for(t=0;t<ke.length;++t)i=ke[t],i&&i.used&&(r["x"+i.n]=i.c2p(e.left));for(t=0;t<De.length;++t)i=De[t],i&&i.used&&(r["y"+i.n]=i.c2p(e.top));return void 0!==r.x1&&(r.x=r.x1),void 0!==r.y1&&(r.y=r.y1),r}function m(e){var t,i,r,s={};for(t=0;t<ke.length;++t)if(i=ke[t],i&&i.used&&(r="x"+i.n,null==e[r]&&1===i.n&&(r="x"),null!=e[r])){s.left=i.p2c(e[r]);break}for(t=0;t<De.length;++t)if(i=De[t],i&&i.used&&(r="y"+i.n,null==e[r]&&1===i.n&&(r="y"),null!=e[r])){s.top=i.p2c(e[r]);break}return s}function g(t,i){return t[i-1]||(t[i-1]={n:i,direction:t===ke?"x":"y",options:e.extend(!0,{},t===ke?je.xaxis:je.yaxis)}),t[i-1]}function v(){var t,i=_e.length,r=-1;for(t=0;t<_e.length;++t){var s=_e[t].color;null!=s&&(i--,"number"==typeof s&&s>r&&(r=s))}r>=i&&(i=r+1);var a,n=[],o=je.colors,l=o.length,h=0,d=_e.length-i;for(t=0;i>t;t++)a=e.color.parse(o[(d+t)%l]||"#666"),t%l===0&&t&&(h=h>=0?.5>h?-h-.2:0:-h),n[t]=a.scale("rgb",1+h);var c,p=0;for(t=0;t<_e.length;++t){if(c=_e[t],null==c.color?(c.color=n[p].toString(),++p):"number"==typeof c.color&&(c.color=n[c.color].toString()),null==c.lines.show){var f,m=!0;for(f in c)if(c[f]&&c[f].show){m=!1;break}m&&(c.lines.show=!0)}null==c.lines.zero&&(c.lines.zero=!!c.lines.fill),c.xaxis=g(ke,u(c,"x")),c.yaxis=g(De,u(c,"y"))}}function x(t){function i(e,t,i){t<e.datamin&&t!==-(1/0)&&(e.datamin=t),i>e.datamax&&i!==1/0&&(e.datamax=i)}function r(e,t){return e&&e[t]&&e[t].datapoints&&e[t].datapoints.points?e[t].datapoints.points:[]}var s,a,n,l,h,d,c,u,f,m,g,v,x=Number.POSITIVE_INFINITY,b=Number.NEGATIVE_INFINITY;for(e.each(p(),function(e,t){t.options.growOnly!==!0?(t.datamin=x,t.datamax=b):(void 0===t.datamin&&(t.datamin=x),void 0===t.datamax&&(t.datamax=b)),t.used=!1}),s=0;s<_e.length;++s)h=_e[s],h.datapoints={points:[]},0===h.datapoints.points.length&&(h.datapoints.points=r(t,s)),o(Be.processRawData,[h,h.data,h.datapoints]);for(s=0;s<_e.length;++s){if(h=_e[s],g=h.data,v=h.datapoints.format,!v){if(v=[],v.push({x:!0,y:!1,number:!0,required:!0,computeRange:"none"!==h.xaxis.options.autoscale,defaultValue:null}),v.push({x:!1,y:!0,number:!0,required:!0,computeRange:"none"!==h.yaxis.options.autoscale,defaultValue:null}),h.bars.show||h.lines.show&&h.lines.fill){var w=null!=h.datapoints.pointsize?h.datapoints.pointsize:h.data&&h.data[0]&&h.data[0].length?h.data[0].length:3;w>2&&v.push({x:!1,y:!0,number:!0,required:!1,computeRange:"none"!==h.yaxis.options.autoscale,defaultValue:0})}h.datapoints.format=v}if(h.xaxis.used=h.yaxis.used=!0,null==h.datapoints.pointsize){h.datapoints.pointsize=v.length,c=h.datapoints.pointsize,d=h.datapoints.points;var y=h.lines.show&&h.lines.steps;for(a=n=0;a<g.length;++a,n+=c){m=g[a];var _=null==m;if(!_)for(l=0;c>l;++l)u=m[l],f=v[l],f&&(f.number&&null!=u&&(u=+u,isNaN(u)&&(u=null)),null==u&&(f.required&&(_=!0),null!=f.defaultValue&&(u=f.defaultValue))),d[n+l]=u;if(_)for(l=0;c>l;++l)u=d[n+l],null!=u&&(f=v[l],f.computeRange&&(f.x&&i(h.xaxis,u,u),f.y&&i(h.yaxis,u,u))),d[n+l]=null;else if(y&&n>0&&null!=d[n-c]&&d[n-c]!==d[n]&&d[n-c+1]!==d[n+1]){for(l=0;c>l;++l)d[n+c+l]=d[n+l];d[n+1]=d[n-c+1],n+=c}}d.length=n}}for(s=0;s<_e.length;++s)h=_e[s],o(Be.processDatapoints,[h,h.datapoints]);for(s=0;s<_e.length;++s)if(h=_e[s],v=h.datapoints.format,!v.every(function(e){return!e.computeRange})){var j=Oe.adjustSeriesDataRange(h,Oe.computeRangeForDataSeries(h));o(Be.adjustSeriesDataRange,[h,j]),i(h.xaxis,j.xmin,j.xmax),i(h.yaxis,j.ymin,j.ymax)}e.each(p(),function(e,t){t.datamin===x&&(t.datamin=null),t.datamax===b&&(t.datamax=null)})}function b(){i.css("padding",0).children().filter(function(){return!e(this).hasClass("flot-overlay")&&!e(this).hasClass("flot-base")}).remove(),"static"===i.css("position")&&i.css("position","relative"),qe=new s("flot-base",i[0]),Te=new s("flot-overlay",i[0]),Ce=qe.context,Ie=Te.context,Se=e(Te.element).unbind();var t=i.data("plot");t&&(t.shutdown(),Te.clear()),i.data("plot",Oe)}function w(){je.grid.hoverable&&(Se.mousemove(de),Se.bind("mouseleave",ce)),je.grid.clickable&&Se.click(ue),o(Be.bindEvents,[Se])}function y(){Ae&&clearTimeout(Ae),Se.unbind("mousemove",de),Se.unbind("mouseleave",ce),Se.unbind("click",ue),o(Be.shutdown,[Se])}function _(t){function i(e){return e}var r,s,a=t.options.transform||i,n=t.options.inverseTransform;"x"===t.direction?(r=isFinite(a(t.max)-a(t.min))?t.scale=Pe/Math.abs(a(t.max)-a(t.min)):t.scale=1/Math.abs(e.plot.saturated.delta(a(t.min),a(t.max),Pe)),s=Math.min(a(t.max),a(t.min))):(r=isFinite(a(t.max)-a(t.min))?t.scale=Ne/Math.abs(a(t.max)-a(t.min)):t.scale=1/Math.abs(e.plot.saturated.delta(a(t.min),a(t.max),Ne)),r=-r,s=Math.max(a(t.max),a(t.min))),a===i?t.p2c=function(e){return isFinite(e-s)?(e-s)*r:(e/4-s/4)*r*4}:t.p2c=function(e){var t=a(e);return isFinite(t-s)?(t-s)*r:(t/4-s/4)*r*4},n?t.c2p=function(e){return n(s+e/r)}:t.c2p=function(e){return s+e/r}}function j(e){for(var t=e.options,i="none"!==t.showTickLabels&&e.ticks?e.ticks:[],r="major"===t.showTickLabels||"all"===t.showTickLabels,s="endpoints"===t.showTickLabels||"all"===t.showTickLabels,a=t.labelWidth||0,n=t.labelHeight||0,o=e.direction+"Axis "+e.direction+e.n+"Axis",l="flot-"+e.direction+"-axis flot-"+e.direction+e.n+"-axis "+o,h=t.font||"flot-tick-label tickLabel",d=0;d<i.length;++d){var c=i[d],u=c.label;if(c.label&&!(r===!1&&d>0&&d<i.length-1)&&(s!==!1||0!==d&&d!==i.length-1)){"object"==typeof c.label&&(u=c.label.name);var p=qe.getTextInfo(l,u,h);a=Math.max(a,p.width),n=Math.max(n,p.height)}}e.labelWidth=t.labelWidth||a,e.labelHeight=t.labelHeight||n}function q(t){o(Be.axisReserveSpace,[t]);var i=t.labelWidth,r=t.labelHeight,s=t.options.position,a="x"===t.direction,n=t.options.tickLength,l=t.options.showTicks,h=t.options.showMinorTicks,d=t.options.gridLines,c=je.grid.axisMargin,u=je.grid.labelMargin,p=!0,f=!0,m=!1;e.each(a?ke:De,function(e,i){i&&(i.show||i.reserveSpace)&&(i===t?m=!0:i.options.position===s&&(m?f=!1:p=!1))}),f&&(c=0),null==n&&(n=ze),null==l&&(l=!0),null==h&&(h=!0),null==d&&(d=!!p),isNaN(+n)||(u+=l?+n:0),a?(r+=u,"bottom"===s?(Me.bottom+=r+c,t.box={top:qe.height-Me.bottom,height:r}):(t.box={top:Me.top+c,height:r},Me.top+=r+c)):(i+=u,"left"===s?(t.box={left:Me.left+c,width:i},Me.left+=i+c):(Me.right+=i+c,t.box={left:qe.width-Me.right,width:i})),t.position=s,t.tickLength=n,t.showMinorTicks=h,t.showTicks=l,t.gridLines=d,t.box.padding=u,t.innermost=p}function T(e){"x"===e.direction?(e.box.left=Me.left-e.labelWidth/2,e.box.width=qe.width-Me.left-Me.right+e.labelWidth):(e.box.top=Me.top-e.labelHeight/2,e.box.height=qe.height-Me.bottom-Me.top+e.labelHeight)}function S(){var t,i=je.grid.minBorderMargin;if(null==i)for(i=0,t=0;t<_e.length;++t)i=Math.max(i,2*(_e[t].points.radius+_e[t].points.lineWidth/2));var r,s={},a={left:i,right:i,top:i,bottom:i};e.each(p(),function(e,t){t.reserveSpace&&t.ticks&&t.ticks.length&&("x"===t.direction?(a.left=Math.max(a.left,t.labelWidth/2),a.right=Math.max(a.right,t.labelWidth/2)):(a.bottom=Math.max(a.bottom,t.labelHeight/2),a.top=Math.max(a.top,t.labelHeight/2)))});for(r in a)s[r]=a[r]-Me[r];e.each(ke.concat(De),function(e,t){C(t,s,function(e){return e>0})}),Me.left=Math.ceil(Math.max(a.left,Me.left)),Me.right=Math.ceil(Math.max(a.right,Me.right)),Me.top=Math.ceil(Math.max(a.top,Me.top)),Me.bottom=Math.ceil(Math.max(a.bottom,Me.bottom))}function C(e,t,i){"x"===e.direction?("bottom"===e.position&&i(t.bottom)&&(e.box.top-=Math.ceil(t.bottom)),"top"===e.position&&i(t.top)&&(e.box.top+=Math.ceil(t.top))):("left"===e.position&&i(t.left)&&(e.box.left+=Math.ceil(t.left)),"right"===e.position&&i(t.right)&&(e.box.left-=Math.ceil(t.right)))}function I(){var t,i,r=p(),s=je.grid.show;for(i in Me)Me[i]=0;o(Be.processOffset,[Me]);for(i in Me)"object"==typeof je.grid.borderWidth?Me[i]+=s?je.grid.borderWidth[i]:0:Me[i]+=s?je.grid.borderWidth:0;if(e.each(r,function(e,t){var i=t.options;t.show=null==i.show?t.used:i.show,t.reserveSpace=null==i.reserveSpace?t.show:i.reserveSpace,z(t),o(Be.setRange,[t]),M(t)}),s){Pe=qe.width-Me.left-Me.right,Ne=qe.height-Me.bottom-Me.top;var a=e.grep(r,function(e){return e.show||e.reserveSpace});for(e.each(a,function(e,t){L(t),F(t),V(t,t.ticks),_(t),G(t,_e),j(t)}),t=a.length-1;t>=0;--t)q(a[t]);S(),e.each(a,function(e,t){T(t)})}if(je.grid.margin){for(i in Me){var n=je.grid.margin||0;Me[i]+="number"==typeof n?n:n[i]||0}e.each(ke.concat(De),function(e,t){C(t,je.grid.margin,function(e){return void 0!==e&&null!==e})})}Pe=qe.width-Me.left-Me.right,Ne=qe.height-Me.bottom-Me.top,e.each(r,function(e,t){_(t)}),s&&se(),o(Be.setupGrid,[])}function k(e,t){var i=void 0===e?null:e,r=void 0===t?null:t,s=r-i;if(0===s){var a=0===r?1:.01,n=null;null==i&&(n-=a),null!=r&&null==i||(r+=a),null!=n&&(i=n)}return{min:i,max:r}}function D(t){var i,r=t.options,s=r.min,a=r.max,n=t.datamin,o=t.datamax;switch(r.autoscale){case"none":s=+(null!=r.min?r.min:n),a=+(null!=r.max?r.max:o);break;case"loose":if(null!=n&&null!=o){s=n,a=o,i=e.plot.saturated.saturate(a-s);var l="number"==typeof r.autoscaleMargin?r.autoscaleMargin:.02;s=e.plot.saturated.saturate(s-i*l),a=e.plot.saturated.saturate(a+i*l),0>s&&n>=0&&(s=0)}else s=r.min,a=r.max;break;case"exact":s=null!=n?n:r.min,a=null!=o?o:r.max;break;case"sliding-window":o>a&&(a=o,s=Math.max(o-(r.windowSize||100),s))}var h=k(s,a);s=h.min,a=h.max,r.growOnly===!0&&"none"!==r.autoscale&&"sliding-window"!==r.autoscale&&(s=n>s?s:null!==n?n:s,a=a>o?a:null!==o?o:a),t.autoscaledMin=s,t.autoscaledMax=a}function M(t){D(t);var i=t.autoscaledMin,r=t.autoscaledMax,s=t.options.offset;if(i=(null!=i?i:-1)+(s.below||0),r=(null!=r?r:1)+(s.above||0),i>r){var a=i;i=r,r=a,t.options.offset={above:0,below:0}}t.min=e.plot.saturated.saturate(i),t.max=e.plot.saturated.saturate(r)}function P(t,i,r,s,a){var n=H(r,qe,s),o=e.plot.saturated.delta(t,i,n),l=-Math.floor(Math.log(o)/Math.LN10);a&&l>a&&(l=a);var h=Math.pow(10,-l),d=o/h;return d>2.25&&3>d&&a>=l+1&&++l,isFinite(l)?l:0}function N(t,i,r,s){var a=e.plot.saturated.delta(t,i,r),n=-Math.floor(Math.log(a)/Math.LN10);s&&n>s&&(n=s);var o,l=Math.pow(10,-n),h=a/l;return 1.5>h?o=1:3>h?(o=2,h>2.25&&(null==s||s>=n+1)&&(o=2.5)):o=7.5>h?5:10,o*=l}function B(e,t,i,r,s){var a;a="number"==typeof r.ticks&&r.ticks>0?r.ticks:.3*Math.sqrt("x"===i?qe.width:qe.height);var n=N(e,t,a,s);return null!=r.minTickSize&&n<r.minTickSize&&(n=r.minTickSize),r.tickSize||n}function O(e,t,i){var r=t.tickDecimals,s=(""+e).indexOf("e");if(-1!==s)return E(e,t,i);i>0&&(t.tickDecimals=i);var a=t.tickDecimals?Math.pow(10,t.tickDecimals):1,n=""+Math.round(e*a)/a;if(null!=t.tickDecimals){var o=n.indexOf("."),l=-1===o?0:n.length-o-1;if(l<t.tickDecimals){var h=(""+a).substr(1,t.tickDecimals-l);n=(l?n:n+".")+h}}return t.tickDecimals=r,n}function E(e,t,i){var r=(""+e).indexOf("e"),s=parseInt((""+e).substr(r+1)),a=-1!==r?s:e>0?Math.floor(Math.log(e)/Math.LN10):0,n=Math.pow(10,a),o=e/n;if(i){var l=A(e,i);return(e/n).toFixed(l)+"e"+a}return t.tickDecimals>0?o.toFixed(A(e,t.tickDecimals))+"e"+a:o.toFixed()+"e"+a}function A(e,t){var i=Math.log(Math.abs(e))*Math.LOG10E,r=Math.abs(i+t);return 20>=r?Math.floor(r):20}function H(e,t,i){var r;return r="number"==typeof i&&i>0?i:.3*Math.sqrt("x"===e?t.width:t.height)}function z(e){var t=e.options;e.tickFormatter||("function"==typeof t.tickFormatter?e.tickFormatter=function(){var e=Array.prototype.slice.call(arguments);return""+t.tickFormatter.apply(null,e)}:e.tickFormatter=O)}function L(i){var r,s=i.options;r=H(i.direction,qe,s.ticks),i.delta=e.plot.saturated.delta(i.min,i.max,r);var a=Oe.computeValuePrecision(i.min,i.max,i.direction,r,s.tickDecimals);if(i.tickDecimals=Math.max(0,null!=s.tickDecimals?s.tickDecimals:a),i.tickSize=B(i.min,i.max,i.direction,s,s.tickDecimals),"time"===s.mode&&!i.tickGenerator)throw new Error("Time mode requires the flot.time plugin.");if(i.tickGenerator||(i.tickGenerator=t),null!=s.alignTicksWithAxis){var n=("x"===i.direction?ke:De)[s.alignTicksWithAxis-1];if(n&&n.used&&n!==i){var o=i.tickGenerator(i);if(o.length>0&&(null==s.min&&(i.min=Math.min(i.min,o[0])),null==s.max&&o.length>1&&(i.max=Math.max(i.max,o[o.length-1]))),i.tickGenerator=function(e){var t,i,r=[];for(i=0;i<n.ticks.length;++i)t=(n.ticks[i].v-n.min)/(n.max-n.min),t=e.min+t*(e.max-e.min),r.push(t);return r},!i.mode&&null==s.tickDecimals){var l=Math.max(0,-Math.floor(Math.log(i.delta)/Math.LN10)+1),h=i.tickGenerator(i);h.length>1&&/\..*0$/.test((h[1]-h[0]).toFixed(l))||(i.tickDecimals=l)}}}}function F(t){var i=t.options.ticks,r=[];null==i||"number"==typeof i&&i>0?r=t.tickGenerator(t):i&&(r=e.isFunction(i)?i(t):i);var s,a;for(t.ticks=[],s=0;s<r.length;++s){var n=null,o=r[s];"object"==typeof o?(a=+o[0],o.length>1&&(n=o[1])):a=+o,isNaN(a)||t.ticks.push(R(a,n,t,"major"))}}function R(e,t,i,r){if(!t)switch(r){case"min":case"max":var s=W(e,i);t=isFinite(s)?i.tickFormatter(e,i,s,Oe):i.tickFormatter(e,i,s,Oe);break;case"major":t=i.tickFormatter(e,i,void 0,Oe)}return{v:e,label:t}}function V(e,t){"loose"===e.options.autoscale&&t.length>0&&(e.min=Math.min(e.min,t[0].v),e.max=Math.max(e.max,t[t.length-1].v))}function W(e,t){var i=Math.floor(t.p2c(e)),r="x"===t.direction?i+1:i-1,s=t.c2p(i),a=t.c2p(r),n=P(s,a,t.direction,1);return n}function G(e,t){U(e,t)&&(e.ticks.unshift(R(e.min,null,e,"min")),e.ticks.push(R(e.max,null,e,"max")))}function U(e,t){if("endpoints"===e.options.showTickLabels)return!0;if("all"===e.options.showTickLabels){var i=t.filter(function(t){return t.xaxis===e}),r=i.some(function(e){return!e.bars.show});return 0===i.length||r}return"major"===e.options.showTickLabels||"none"===e.options.showTickLabels?!1:void 0}function Y(){qe.clear(),o(Be.drawBackground,[Ce]);var e=je.grid;e.show&&e.backgroundColor&&K(),e.show&&!e.aboveData&&re();for(var t=0;t<_e.length;++t)o(Be.drawSeries,[Ce,_e[t]]),ae(_e[t]);o(Be.draw,[Ce]),e.show&&e.aboveData&&re(),qe.render(),fe()}function X(e,t){for(var i,r,s,a,n=p(),o=0;o<n.length;++o)if(i=n[o],i.direction===t&&(a=t+i.n+"axis",e[a]||1!==i.n||(a=t+"axis"),e[a])){r=e[a].from,s=e[a].to;break}if(e[a]||(i="x"===t?ke[0]:De[0],r=e[t+"1"],s=e[t+"2"]),null!=r&&null!=s&&r>s){var l=r;r=s,s=l}return{from:r,to:s,axis:i}}function K(){Ce.save(),Ce.translate(Me.left,Me.top),Ce.fillStyle=ye(je.grid.backgroundColor,Ne,0,"rgba(255, 255, 255, 0)"),Ce.fillRect(0,0,Pe,Ne),Ce.restore()}function $(){var t,i=je.grid.markings;if(i){e.isFunction(i)&&(t=Oe.getAxes(),t.xmin=t.xaxis.min,t.xmax=t.xaxis.max,t.ymin=t.yaxis.min,t.ymax=t.yaxis.max,i=i(t));var r;for(r=0;r<i.length;++r){var s=i[r],a=X(s,"x"),n=X(s,"y");if(null==a.from&&(a.from=a.axis.min),null==a.to&&(a.to=a.axis.max),null==n.from&&(n.from=n.axis.min),null==n.to&&(n.to=n.axis.max),!(a.to<a.axis.min||a.from>a.axis.max||n.to<n.axis.min||n.from>n.axis.max)){a.from=Math.max(a.from,a.axis.min),a.to=Math.min(a.to,a.axis.max),n.from=Math.max(n.from,n.axis.min),n.to=Math.min(n.to,n.axis.max);var o=a.from===a.to,l=n.from===n.to;if(!o||!l)if(a.from=Math.floor(a.axis.p2c(a.from)),a.to=Math.floor(a.axis.p2c(a.to)),n.from=Math.floor(n.axis.p2c(n.from)),n.to=Math.floor(n.axis.p2c(n.to)),o||l){var h=s.lineWidth||je.grid.markingsLineWidth,d=h%2?.5:0;Ce.beginPath(),Ce.strokeStyle=s.color||je.grid.markingsColor,Ce.lineWidth=h,o?(Ce.moveTo(a.to+d,n.from),Ce.lineTo(a.to+d,n.to)):(Ce.moveTo(a.from,n.to+d),Ce.lineTo(a.to,n.to+d)),Ce.stroke()}else Ce.fillStyle=s.color||je.grid.markingsColor,Ce.fillRect(a.from,n.to,a.to-a.from,n.from-n.to)}}}}function J(e){var t=e.box,i=0,r=0;return"x"===e.direction?(i=0,r=t.top-Me.top+("top"===e.position?t.height:0)):(r=0,i=t.left-Me.left+("left"===e.position?t.width:0)+e.boxPosition.centerX),{x:i,y:r}}function Q(e,t){return e%2!==0?Math.floor(t)+.5:t}function Z(e){Ce.lineWidth=1;var t=J(e),i=t.x,r=t.y;if(e.show){var s=0,a=0;Ce.strokeStyle=e.options.color,Ce.beginPath(),"x"===e.direction?s=Pe+1:a=Ne+1,"x"===e.direction?r=Q(Ce.lineWidth,r):i=Q(Ce.lineWidth,i),Ce.moveTo(i,r),Ce.lineTo(i+s,r+a),Ce.stroke()}}function ee(e){var t=e.tickLength,i=e.showMinorTicks,r=He,s=J(e),a=s.x,n=s.y,o=0;for(Ce.strokeStyle=e.options.color,Ce.beginPath(),o=0;o<e.ticks.length;++o){var l,h=e.ticks[o].v,d=0,c=0,u=0,p=0;if(!isNaN(h)&&h>=e.min&&h<=e.max&&("x"===e.direction?(a=e.p2c(h),c=t,"top"===e.position&&(c=-c)):(n=e.p2c(h),d=t,"left"===e.position&&(d=-d)),"x"===e.direction?a=Q(Ce.lineWidth,a):n=Q(Ce.lineWidth,n),Ce.moveTo(a,n),Ce.lineTo(a+d,n+c)),i===!0&&o<e.ticks.length-1){var f=e.ticks[o].v,m=e.ticks[o+1].v,g=(m-f)/(r+1);for(l=1;r>=l;l++){if("x"===e.direction){if(p=t/2,a=Q(Ce.lineWidth,e.p2c(f+l*g)),"top"===e.position&&(p=-p),0>a||a>Pe)continue}else if(u=t/2,n=Q(Ce.lineWidth,e.p2c(f+l*g)),"left"===e.position&&(u=-u),0>n||n>Ne)continue;Ce.moveTo(a,n),Ce.lineTo(a+u,n+p)}}}Ce.stroke()}function te(e){var t=function(t){var i=je.grid.borderWidth;return("object"==typeof i&&i[e.position]>0||i>0)&&(t===e.min||t===e.max)};Ce.strokeStyle=je.grid.tickColor,Ce.beginPath();var i;for(i=0;i<e.ticks.length;++i){var r=e.ticks[i].v,s=0,a=0,n=0,o=0;isNaN(r)||r<e.min||r>e.max||t(r)||("x"===e.direction?(n=e.p2c(r),o=Ne,a=-Ne):(n=0,o=e.p2c(r),s=Pe),"x"===e.direction?n=Q(Ce.lineWidth,n):o=Q(Ce.lineWidth,o),Ce.moveTo(n,o),Ce.lineTo(n+s,o+a))}Ce.stroke()}function ie(){var e=je.grid.borderWidth,t=je.grid.borderColor;"object"==typeof e||"object"==typeof t?("object"!=typeof e&&(e={top:e,right:e,bottom:e,left:e}),"object"!=typeof t&&(t={top:t,right:t,bottom:t,left:t}),e.top>0&&(Ce.strokeStyle=t.top,Ce.lineWidth=e.top,Ce.beginPath(),Ce.moveTo(0-e.left,0-e.top/2),Ce.lineTo(Pe,0-e.top/2),Ce.stroke()),e.right>0&&(Ce.strokeStyle=t.right,Ce.lineWidth=e.right,Ce.beginPath(),Ce.moveTo(Pe+e.right/2,0-e.top),Ce.lineTo(Pe+e.right/2,Ne),Ce.stroke()),e.bottom>0&&(Ce.strokeStyle=t.bottom,Ce.lineWidth=e.bottom,Ce.beginPath(),Ce.moveTo(Pe+e.right,Ne+e.bottom/2),Ce.lineTo(0,Ne+e.bottom/2),Ce.stroke()),e.left>0&&(Ce.strokeStyle=t.left,Ce.lineWidth=e.left,Ce.beginPath(),Ce.moveTo(0-e.left/2,Ne+e.bottom),Ce.lineTo(0-e.left/2,0),Ce.stroke())):(Ce.lineWidth=e,Ce.strokeStyle=je.grid.borderColor,Ce.strokeRect(-e/2,-e/2,Pe+e,Ne+e))}function re(){var e,t;Ce.save(),Ce.translate(Me.left,Me.top),$(),e=p(),t=je.grid.borderWidth;for(var i=0;i<e.length;++i){var r=e[i];r.show&&(Z(r),r.showTicks===!0&&ee(r),r.gridLines===!0&&te(r,t))}t&&ie(),Ce.restore()}function se(){e.each(p(),function(e,t){var i,r,s,a,n,l,h,d=t.box,c=t.direction+"Axis "+t.direction+t.n+"Axis",u="flot-"+t.direction+"-axis flot-"+t.direction+t.n+"-axis "+c,p=t.options.font||"flot-tick-label tickLabel",f={x:NaN,y:NaN,width:NaN,height:NaN},m=[],g=function(e,t,i,r,s,a,n,o){return(s>=e&&i>=s||e>=s&&n>=e)&&(a>=t&&r>=a||t>=a&&o>=t)},v=function(e,t){return t.some(function(t){return g(e.x,e.y,e.x+e.width,e.y+e.height,t.x,t.y,t.x+t.width,t.y+t.height)})},x=function(e,i){return!e||!e.label||e.v<t.min||e.v>t.max?f:(l=qe.getTextInfo(u,e.label,p),"x"===t.direction?(a="center",r=Me.left+t.p2c(e.v),"bottom"===t.position?s=d.top+d.padding-t.boxPosition.centerY:(s=d.top+d.height-d.padding+t.boxPosition.centerY,n="bottom"),h={x:r-l.width/2,y:s,width:l.width,height:l.height}):(n="middle",s=Me.top+t.p2c(e.v),"left"===t.position?(r=d.left+d.width-d.padding-t.boxPosition.centerX,a="right"):r=d.left+d.padding+t.boxPosition.centerX,h={x:r,y:s-l.height/2,width:l.width,height:l.height}),v(h,i)?f:(qe.addText(u,r,s,e.label,p,null,null,a,n),h))};if(qe.removeText(u),o(Be.drawAxis,[t,qe]),t.show)switch(t.options.showTickLabels){case"none":break;case"endpoints":m.push(x(t.ticks[0],m)),m.push(x(t.ticks[t.ticks.length-1],m));break;case"major":for(m.push(x(t.ticks[0],m)),m.push(x(t.ticks[t.ticks.length-1],m)),i=1;i<t.ticks.length-1;++i)m.push(x(t.ticks[i],m));break;case"all":for(m.push(x(t.ticks[0],[])),m.push(x(t.ticks[t.ticks.length-1],m)),i=1;i<t.ticks.length-1;++i)m.push(x(t.ticks[i],m))}})}function ae(t){t.lines.show&&e.plot.drawSeries.drawSeriesLines(t,Ce,Me,Pe,Ne,Oe.drawSymbol,ye),t.bars.show&&e.plot.drawSeries.drawSeriesBars(t,Ce,Me,Pe,Ne,Oe.drawSymbol,ye),t.points.show&&e.plot.drawSeries.drawSeriesPoints(t,Ce,Me,Pe,Ne,Oe.drawSymbol,ye)}function ne(e,t,i){for(var r=e.datapoints.points,s=e.datapoints.pointsize,a=e.datapoints.format,n=Number.POSITIVE_INFINITY,o=Number.NEGATIVE_INFINITY,l={xmin:n,ymin:n,xmax:o,ymax:o},h=0;h<r.length;h+=s)if(null!==r[h]&&("function"!=typeof i||i(r[h])))for(var d=0;s>d;++d){var c=r[h+d],u=a[d];null!==u&&void 0!==u&&("function"!=typeof i||i(c))&&(t||u.computeRange)&&c!==1/0&&c!==-(1/0)&&(u.x===!0&&(c<l.xmin&&(l.xmin=c),c>l.xmax&&(l.xmax=c)),u.y===!0&&(c<l.ymin&&(l.ymin=c),c>l.ymax&&(l.ymax=c)))}return l}function oe(e,t){if(e.bars.show){var i;switch(e.datapoints&&e.datapoints.points&&le(e),e.bars.align){case"left":i=0;break;case"right":i=-e.bars.barWidth;break;default:i=-e.bars.barWidth/2}t.xmin+=i,t.xmax+=i+e.bars.barWidth}if(e.bars.show&&e.bars.zero||e.lines.show&&e.lines.zero){var r=e.datapoints.pointsize;2>=r&&(t.ymin=Math.min(0,t.ymin),t.ymax=Math.max(0,t.ymax))}return t}function le(e){var t=e.datapoints.pointsize,i=Number.MAX_VALUE,r=e.datapoints.points[t]-e.datapoints.points[0]||1;isFinite(r)&&(i=r);for(var s=t;s<e.datapoints.points.length-t;s+=t)r=Math.abs(e.datapoints.points[t+s]-e.datapoints.points[s]),i>r&&isFinite(r)&&(i=r);e.bars.barWidth=.8*i}function he(e,t,i,r,s){var a,n,o,l=r,h=l*l+1,d=null;for(a=_e.length-1;a>=0;--a)if(i(a)){var c,u,p=_e[a],f=p.xaxis,m=p.yaxis,g=p.datapoints.points,v=f.c2p(e),x=m.c2p(t),b=l/f.scale,w=l/m.scale;for(o=p.datapoints.pointsize,f.options.inverseTransform&&(b=Number.MAX_VALUE),m.options.inverseTransform&&(w=Number.MAX_VALUE),n=0;n<g.length;n+=o)if(c=g[n],u=g[n+1],null!=c&&!(c-v>b||-b>c-v||u-x>w||-w>u-x)){var y=Math.abs(f.p2c(c)-e),_=Math.abs(m.p2c(u)-t),j=s?s(y,_):y*y+_*_;h>j&&(h=j,d=[a,n/o])}}return d?(a=d[0],n=d[1],o=_e[a].datapoints.pointsize,{datapoint:_e[a].datapoints.points.slice(n*o,(n+1)*o),dataIndex:n,series:_e[a],seriesIndex:a}):null}function de(e){je.grid.hoverable&&pe("plothover",e,function(e){return _e[e].hoverable!==!1})}function ce(e){je.grid.hoverable&&pe("plothover",e,function(e){return!1})}function ue(e){pe("plotclick",e,function(e){return _e[e].clickable!==!1})}function pe(e,t,r){var s=Se.offset(),a=t.pageX-s.left-Me.left,n=t.pageY-s.top-Me.top,o=f({left:a,top:n});o.pageX=t.pageX,o.pageY=t.pageY;var l=he(a,n,r,je.grid.mouseActiveRadius);if(l&&(l.pageX=parseInt(l.series.xaxis.p2c(l.datapoint[0])+s.left+Me.left,10),l.pageY=parseInt(l.series.yaxis.p2c(l.datapoint[1])+s.top+Me.top,10)),je.grid.autoHighlight){for(var h=0;h<Ee.length;++h){var d=Ee[h];d.auto!==e||l&&d.series===l.series&&d.point[0]===l.datapoint[0]&&d.point[1]===l.datapoint[1]||ve(d.series,d.point)}l&&ge(l.series,l.datapoint,e)}i.trigger(e,[o,l])}function fe(){var e=je.interaction.redrawOverlayInterval;return-1===e?void me():void(Ae||(Ae=setTimeout(me,e)))}function me(){if(Ae=null,Ie){Ie.save(),Te.clear(),Ie.translate(Me.left,Me.top);var e,t;for(e=0;e<Ee.length;++e)t=Ee[e],t.series.bars.show?we(t.series,t.point):be(t.series,t.point);Ie.restore(),o(Be.drawOverlay,[Ie,Te])}}function ge(e,t,i){if("number"==typeof e&&(e=_e[e]),"number"==typeof t){var r=e.datapoints.pointsize;t=e.datapoints.points.slice(r*t,r*(t+1))}var s=xe(e,t);-1===s?(Ee.push({series:e,point:t,auto:i}),fe()):i||(Ee[s].auto=!1)}function ve(e,t){if(null==e&&null==t)return Ee=[],void fe();if("number"==typeof e&&(e=_e[e]),"number"==typeof t){var i=e.datapoints.pointsize;t=e.datapoints.points.slice(i*t,i*(t+1))}var r=xe(e,t);-1!==r&&(Ee.splice(r,1),fe())}function xe(e,t){for(var i=0;i<Ee.length;++i){var r=Ee[i];if(r.series===e&&r.point[0]===t[0]&&r.point[1]===t[1])return i}return-1}function be(t,i){var r=i[0],s=i[1],a=t.xaxis,n=t.yaxis,o="string"==typeof t.highlightColor?t.highlightColor:e.color.parse(t.color).scale("a",.5).toString();if(!(r<a.min||r>a.max||s<n.min||s>n.max)){var l=t.points.radius+t.points.lineWidth/2;Ie.lineWidth=l,Ie.strokeStyle=o;var h=1.5*l;r=a.p2c(r),s=n.p2c(s),Ie.beginPath();var d=t.points.symbol;"circle"===d?Ie.arc(r,s,h,0,2*Math.PI,!1):"string"==typeof d&&Oe.drawSymbol&&Oe.drawSymbol[d]&&Oe.drawSymbol[d](Ie,r,s,h,!1),Ie.closePath(),Ie.stroke()}}function we(t,i){var r,s="string"==typeof t.highlightColor?t.highlightColor:e.color.parse(t.color).scale("a",.5).toString(),a=s;switch(t.bars.align){case"left":r=0;break;case"right":r=-t.bars.barWidth;break;default:r=-t.bars.barWidth/2}Ie.lineWidth=t.bars.lineWidth,Ie.strokeStyle=s;var n=t.bars.fillTowards||0,o=n>t.yaxis.min?Math.min(t.yaxis.max,n):t.yaxis.min;e.plot.drawSeries.drawBar(i[0],i[1],i[2]||o,r,r+t.bars.barWidth,function(){return a},t.xaxis,t.yaxis,Ie,t.bars.lineWidth)}function ye(t,i,r,s){if("string"==typeof t)return t;for(var a=Ce.createLinearGradient(0,r,0,i),n=0,o=t.colors.length;o>n;++n){var l=t.colors[n];if("string"!=typeof l){var h=e.color.parse(s);null!=l.brightness&&(h=h.scale("rgb",l.brightness)),null!=l.opacity&&(h.a*=l.opacity),l=h.toString()}a.addColorStop(n/(o-1),l)}return a}var _e=[],je={colors:["#edc240","#afd8f8","#cb4b4b","#4da74d","#9440ed"],xaxis:{show:null,position:"bottom",mode:null,font:null,color:null,tickColor:null,transform:null,inverseTransform:null,min:null,max:null,autoscaleMargin:null,autoscale:"exact",windowSize:null,growOnly:null,ticks:null,tickFormatter:null,showTickLabels:"major",labelWidth:null,labelHeight:null,reserveSpace:null,tickLength:null,showMinorTicks:null,showTicks:null,gridLines:null,alignTicksWithAxis:null,tickDecimals:null,tickSize:null,minTickSize:null,offset:{below:0,above:0},boxPosition:{centerX:0,centerY:0}},yaxis:{autoscaleMargin:.02,autoscale:"loose",growOnly:null,position:"left",showTickLabels:"major",offset:{below:0,above:0},boxPosition:{centerX:0,centerY:0}},xaxes:[],yaxes:[],series:{points:{show:!1,radius:3,lineWidth:2,fill:!0,fillColor:"#ffffff",symbol:"circle"},lines:{lineWidth:1,fill:!1,fillColor:null,steps:!1},bars:{show:!1,lineWidth:2,barWidth:1,fill:!0,fillColor:null,align:"left",zero:!0},shadowSize:3,highlightColor:null},grid:{show:!0,aboveData:!1,color:"#545454",backgroundColor:null,borderColor:null,tickColor:null,margin:0,labelMargin:5,axisMargin:8,borderWidth:1,minBorderMargin:null,markings:null,markingsColor:"#f4f4f4",markingsLineWidth:2,clickable:!1,hoverable:!1,autoHighlight:!0,mouseActiveRadius:10},interaction:{redrawOverlayInterval:1e3/60},hooks:{}},qe=null,Te=null,Se=null,Ce=null,Ie=null,ke=[],De=[],Me={left:0,right:0,top:0,bottom:0},Pe=0,Ne=0,Be={processOptions:[],processRawData:[],processDatapoints:[],processOffset:[],setupGrid:[],adjustSeriesDataRange:[],setRange:[],drawBackground:[],drawSeries:[],drawAxis:[],draw:[],axisReserveSpace:[],bindEvents:[],drawOverlay:[],shutdown:[]},Oe=this,Ee=[],Ae=null;Oe.setData=d,Oe.setupGrid=I,Oe.draw=Y,Oe.getPlaceholder=function(){return i},Oe.getCanvas=function(){return qe.element},Oe.getSurface=function(){return qe},Oe.getEventHolder=function(){return Se[0]},Oe.getPlotOffset=function(){return Me},Oe.width=function(){return Pe},Oe.height=function(){return Ne},Oe.offset=function(){var e=Se.offset();return e.left+=Me.left,e.top+=Me.top,e},Oe.getData=function(){return _e},Oe.getAxes=function(){var t={};return e.each(ke.concat(De),function(e,i){i&&(t[i.direction+(1!==i.n?i.n:"")+"axis"]=i)}),t},Oe.getXAxes=function(){return ke},Oe.getYAxes=function(){return De},Oe.c2p=f,Oe.p2c=m,Oe.getOptions=function(){return je},Oe.highlight=ge,Oe.unhighlight=ve,Oe.triggerRedrawOverlay=fe,Oe.pointOffset=function(e){return{left:parseInt(ke[u(e,"x")-1].p2c(+e.x)+Me.left,10),top:parseInt(De[u(e,"y")-1].p2c(+e.y)+Me.top,10)}},Oe.shutdown=y,Oe.destroy=function(){y(),i.removeData("plot").empty(),_e=[],je=null,qe=null,Te=null,Se=null,Ce=null,Ie=null,ke=[],De=[],Be=null,Ee=[],Oe=null},Oe.resize=function(){var e=i.width(),t=i.height();qe.resize(e,t),Te.resize(e,t)},Oe.clearTextCache=function(){qe.clearCache(),Te.clearCache()},Oe.computeRangeForDataSeries=ne,Oe.adjustSeriesDataRange=oe,Oe.findNearbyItem=he,Oe.computeValuePrecision=P,Oe.defaultTickFormatter=O,Oe.expRepTickFormatter=E,Oe.computeTickSize=N,Oe.hooks=Be;var He=e.plot.uiConstants.MINOR_TICKS_COUNT_CONSTANT,ze=e.plot.uiConstants.TICK_LENGTH_CONSTANT;l(Oe),h(a),b(),d(r),I(),Y(),w()}function r(e,t){return t*Math.floor(e/t)}var s=window.Flot.Canvas;e.plot=function(t,r,s){var a=new i(e(t),r,s,e.plot.plugins);return a},e.plot.version="0.8.3",e.plot.plugins=[],e.fn.plot=function(t,i){return this.each(function(){e.plot(this,t,i)})},e.plot.linearTickGenerator=t}(jQuery),function(e){"use strict";var t={saturate:function(e){return e===1/0?Number.MAX_VALUE:e===-(1/0)?-Number.MAX_VALUE:e},delta:function(e,t,i){return(t-e)/i===1/0?t/i-e/i:(t-e)/i},multiply:function(e,i){return t.saturate(e*i)},multiplyAdd:function(e,i,r){if(isFinite(e*i))return t.saturate(e*i+r);for(var s=r,a=0;i>a;a++)s+=e;return t.saturate(s)}};e.plot.saturated=t}(jQuery),function(e){"use strict";function t(){function t(e,t,i,r,s,a){var n=e.points,o=e.pointsize,l=null,h=null,d=0,c=0,u=0,p=0,f=0;for(a.beginPath(),f=o;f<n.length;f+=o)if(d=n[f-o],c=n[f-o+1],u=n[f],p=n[f+1],null!==d&&null!==u){if(p>=c&&c<s.min){if(p<s.min)continue;d=(s.min-c)/(p-c)*(u-d)+d,c=s.min}else if(c>=p&&p<s.min){if(c<s.min)continue;u=(s.min-c)/(p-c)*(u-d)+d,p=s.min}if(c>=p&&c>s.max){if(p>s.max)continue;d=(s.max-c)/(p-c)*(u-d)+d,c=s.max}else if(p>=c&&p>s.max){if(c>s.max)continue;u=(s.max-c)/(p-c)*(u-d)+d,p=s.max}if(u>=d&&d<r.min){if(u<r.min)continue;c=(r.min-d)/(u-d)*(p-c)+c,d=r.min}else if(d>=u&&u<r.min){if(d<r.min)continue;p=(r.min-d)/(u-d)*(p-c)+c,u=r.min}if(d>=u&&d>r.max){if(u>r.max)continue;c=(r.max-d)/(u-d)*(p-c)+c,d=r.max}else if(u>=d&&u>r.max){if(d>r.max)continue;p=(r.max-d)/(u-d)*(p-c)+c,u=r.max}d===l&&c===h||a.moveTo(r.p2c(d)+t,s.p2c(c)+i),l=u,h=p,a.lineTo(r.p2c(u)+t,s.p2c(p)+i)}a.stroke();
}function i(e,t,i,r,s){for(var a=e.points,n=e.pointsize,o=r>i.min?Math.min(i.max,r):i.min,l=0,h=1,d=!1,c=0,u=0;;){if(n>0&&l>a.length+n)break;l+=n;var p=a[l-n],f=a[l-n+h],m=a[l],g=a[l+h];if(-2===n&&(f=g=o),d){if(n>0&&null!=p&&null==m){u=l,n=-n,h=2;continue}if(0>n&&l===c+n){s.fill(),d=!1,n=-n,l=c=u+n;continue}}if(null!=p&&null!=m){if(m>=p&&p<t.min){if(m<t.min)continue;f=(t.min-p)/(m-p)*(g-f)+f,p=t.min}else if(p>=m&&m<t.min){if(p<t.min)continue;g=(t.min-p)/(m-p)*(g-f)+f,m=t.min}if(p>=m&&p>t.max){if(m>t.max)continue;f=(t.max-p)/(m-p)*(g-f)+f,p=t.max}else if(m>=p&&m>t.max){if(p>t.max)continue;g=(t.max-p)/(m-p)*(g-f)+f,m=t.max}if(d||(s.beginPath(),s.moveTo(t.p2c(p),i.p2c(o)),d=!0),f>=i.max&&g>=i.max)s.lineTo(t.p2c(p),i.p2c(i.max)),s.lineTo(t.p2c(m),i.p2c(i.max));else if(f<=i.min&&g<=i.min)s.lineTo(t.p2c(p),i.p2c(i.min)),s.lineTo(t.p2c(m),i.p2c(i.min));else{var v=p,x=m;g>=f&&f<i.min&&g>=i.min?(p=(i.min-f)/(g-f)*(m-p)+p,f=i.min):f>=g&&g<i.min&&f>=i.min&&(m=(i.min-f)/(g-f)*(m-p)+p,g=i.min),f>=g&&f>i.max&&g<=i.max?(p=(i.max-f)/(g-f)*(m-p)+p,f=i.max):g>=f&&g>i.max&&f<=i.max&&(m=(i.max-f)/(g-f)*(m-p)+p,g=i.max),p!==v&&s.lineTo(t.p2c(v),i.p2c(f)),s.lineTo(t.p2c(p),i.p2c(f)),s.lineTo(t.p2c(m),i.p2c(g)),m!==x&&(s.lineTo(t.p2c(m),i.p2c(g)),s.lineTo(t.p2c(x),i.p2c(g)))}}}}function r(e,r,s,a,n,l,h){r.save(),r.translate(s.left,s.top),r.lineJoin="round",e.lines.dashes&&r.setLineDash&&r.setLineDash(e.lines.dashes);var d={format:e.datapoints.format,points:e.datapoints.points,pointsize:e.datapoints.pointsize};e.decimate&&(d.points=e.decimate(e,e.xaxis.min,e.xaxis.max,a));var c=e.lines.lineWidth;r.lineWidth=c,r.strokeStyle=e.color;var u=o(e.lines,e.color,0,n,h);u&&(r.fillStyle=u,i(d,e.xaxis,e.yaxis,e.lines.fillTowards||0,r)),c>0&&t(d,0,0,e.xaxis,e.yaxis,r),r.restore()}function s(e,t,i,r,s,a,n){function l(e,t,i,r,s,a){e.moveTo(t+r,i),e.arc(t,i,r,0,s?Math.PI:2*Math.PI,!1)}function h(e,i,r,s,a,n,o,l){var h=e.points,d=e.pointsize;t.beginPath();for(var c=0;c<h.length;c+=d){var u=h[c],p=h[c+1];null==u||u<n.min||u>n.max||p<o.min||p>o.max||(u=n.p2c(u),p=o.p2c(p)+s,l(t,u,p,i,a,r))}l.fill&&!a&&t.fill(),t.stroke()}l.fill=!0,t.save(),t.translate(i.left,i.top);var d={format:e.datapoints.format,points:e.datapoints.points,pointsize:e.datapoints.pointsize};e.decimatePoints&&(d.points=e.decimatePoints(e,e.xaxis.min,e.xaxis.max,r,e.yaxis.min,e.yaxis.max,s));var c,u=e.points.lineWidth,p=e.points.radius,f=e.points.symbol;"circle"===f?c=l:"string"==typeof f&&a&&a[f]?c=a[f]:"function"==typeof a&&(c=a),0===u&&(u=1e-4),t.lineWidth=u,t.fillStyle=o(e.points,e.color,null,null,n),t.strokeStyle=e.color,h(d,p,!0,0,!1,e.xaxis,e.yaxis,c),t.restore()}function a(e,t,i,r,s,a,n,o,l,h){var d,c,u,p,f=e+r,m=e+s,g=i,v=t,x=!1;d=c=u=!0,g>v&&(p=v,v=g,g=p,x=!0,u=!1),m<n.min||f>n.max||v<o.min||g>o.max||(f<n.min&&(f=n.min,d=!1),m>n.max&&(m=n.max,c=!1),g<o.min&&(g=o.min,x=!1),v>o.max&&(v=o.max,u=!1),f=n.p2c(f),g=o.p2c(g),m=n.p2c(m),v=o.p2c(v),a&&(l.fillStyle=a(g,v),l.fillRect(f,v,m-f,g-v)),h>0&&(d||c||u||x)&&(l.beginPath(),l.moveTo(f,g),d?l.lineTo(f,v):l.moveTo(f,v),u?l.lineTo(m,v):l.moveTo(m,v),c?l.lineTo(m,g):l.moveTo(m,g),x?l.lineTo(f,g):l.moveTo(f,g),l.stroke()))}function n(e,t,i,r,s,n,l){function h(i,r,s,n,o,l){for(var h=i.points,d=i.pointsize,c=e.bars.fillTowards||0,u=c>l.min?Math.min(l.max,c):l.min,p=0;p<h.length;p+=d)null!=h[p]&&a(h[p],h[p+1],u,r,s,n,o,l,t,e.bars.lineWidth)}t.save(),t.translate(i.left,i.top);var d={format:e.datapoints.format,points:e.datapoints.points,pointsize:e.datapoints.pointsize};e.decimate&&(d.points=e.decimate(e,e.xaxis.min,e.xaxis.max,r)),t.lineWidth=e.bars.lineWidth,t.strokeStyle=e.color;var c;switch(e.bars.align){case"left":c=0;break;case"right":c=-e.bars.barWidth;break;default:c=-e.bars.barWidth/2}var u=e.bars.fill?function(t,i){return o(e.bars,e.color,t,i,l)}:null;h(d,c,c+e.bars.barWidth,u,e.xaxis,e.yaxis),t.restore()}function o(t,i,r,s,a){var n=t.fill;if(!n)return null;if(t.fillColor)return a(t.fillColor,r,s,i);var o=e.color.parse(i);return o.a="number"==typeof n?n:.4,o.normalize(),o.toString()}this.drawSeriesLines=r,this.drawSeriesPoints=s,this.drawSeriesBars=n,this.drawBar=a}e.plot.drawSeries=new t}(jQuery),function(e){"use strict";e.plot.uiConstants={SNAPPING_CONSTANT:20,PANHINT_LENGTH_CONSTANT:10,MINOR_TICKS_COUNT_CONSTANT:4,TICK_LENGTH_CONSTANT:10,ZOOM_DISTANCE_MARGIN:25}}(jQuery),/* Flot plugin for adding the ability to pan and zoom the plot.

Copyright (c) 2007-2014 IOLA and Ole Laursen.
Copyright (c) 2016 Ciprian Ceteras.
Licensed under the MIT license.

The default behaviour is scrollwheel up/down to zoom in, drag
to pan. The plugin defines plot.zoom({ center }), plot.zoomOut() and
plot.pan( offset ) so you easily can add custom controls. It also fires
"plotpan" and "plotzoom" events, useful for synchronizing plots.

The plugin supports these options:

    zoom: {
        interactive: false
        amount: 1.5         // 2 = 200% (zoom in), 0.5 = 50% (zoom out)
    }

    pan: {
        interactive: false
        cursor: "move"      // CSS mouse cursor value used when dragging, e.g. "pointer"
        frameRate: 20
        mode: "smart"       // enable smart pan mode
    }

"interactive" enables the built-in drag/click behaviour. If you enable
interactive for pan, then you'll have a basic plot that supports moving
around; the same for zoom.

"amount" specifies the default amount to zoom in (so 1.5 = 150%) relative to
the current viewport.

"cursor" is a standard CSS mouse cursor string used for visual feedback to the
user when dragging.

"frameRate" specifies the maximum number of times per second the plot will
update itself while the user is panning around on it (set to null to disable
intermediate pans, the plot will then not update until the mouse button is
released).

Example API usage:

    plot = $.plot(...);

    // zoom default amount in on the pixel ( 10, 20 )
    plot.zoom({ center: { left: 10, top: 20 } });

    // zoom out again
    plot.zoomOut({ center: { left: 10, top: 20 } });

    // zoom 200% in on the pixel (10, 20)
    plot.zoom({ amount: 2, center: { left: 10, top: 20 } });

    // pan 100 pixels to the left and 20 down
    plot.pan({ left: -100, top: 20 })

Here, "center" specifies where the center of the zooming should happen. Note
that this is defined in pixel space, not the space of the data points (you can
use the p2c helpers on the axes in Flot to help you convert between these).

"amount" is the amount to zoom the viewport relative to the current range, so
1 is 100% (i.e. no change), 1.5 is 150% (zoom in), 0.7 is 70% (zoom out). You
can set the default in the options.

/* eslint-enable */
function(e){"use strict";function t(t){function i(e,i){var r=t.offset();r.left=e.pageX-r.left,r.top=e.pageY-r.top;var s=t.getPlaceholder().offset();s.left=e.pageX-s.left,s.top=e.pageY-s.top;var a=t.getXAxes().concat(t.getYAxes()).filter(function(e){var t=e.box;return void 0!==t?s.left>t.left&&s.left<t.left+t.width&&s.top>t.top&&s.top<t.top+t.height:void 0});0===a.length&&(a=void 0),i?t.zoomOut({center:r,axes:a}):t.zoom({center:r,axes:a})}function n(e,t){return e.preventDefault(),i(e,0>t),!1}function o(e){b=!0}function l(e){b=!1}function h(e){return 0===e.button}function d(e){if(!b||!h(e))return!1;var i=t.getPlaceholder().offset();i.left=e.pageX-i.left,i.top=e.pageY-i.top,x=t.getXAxes().concat(t.getYAxes()).filter(function(e){var t=e.box;return void 0!==t?i.left>t.left&&i.left<t.left+t.width&&i.top>t.top&&i.top<t.top+t.height:void 0}),0===x.length&&(x=void 0);var r=t.getPlaceholder().css("cursor");r&&(w=r),t.getPlaceholder().css("cursor",t.getOptions().pan.cursor),v=t.navigationState(e.pageX,e.pageY)}function c(e){var i=t.getOptions().pan.frameRate;return-1===i?void t.smartPan({x:v.startPageX-e.pageX,y:v.startPageY-e.pageY},v,x):void(!_&&i&&(_=setTimeout(function(){t.smartPan({x:v.startPageX-e.pageX,y:v.startPageY-e.pageY},v,x),_=null},1/i*1e3)))}function u(e){_&&(clearTimeout(_),_=null),t.getPlaceholder().css("cursor",w),t.smartPan({x:v.startPageX-e.pageX,y:v.startPageY-e.pageY},v,x),y=null}function p(e){t.getPlaceholder().trigger("re-center",e)}function f(e,t){var i=e.getOptions();i.zoom.interactive&&t.mousewheel(n),i.pan.interactive&&(t.bind("dragstart",{distance:10},d),t.bind("drag",c),t.bind("dragend",u)),(i.zoom.interactive||i.pan.interactive)&&(t.dblclick(p),t.mouseup(l),t.mousedown(o))}function m(e,t){t.unbind("mousewheel",n),t.unbind("mousedown",o),t.unbind("mouseup",l),t.unbind("dragstart",d),t.unbind("drag",c),t.unbind("dragend",u),t.unbind("dblclick",p),_&&clearTimeout(_)}function g(e,t){if(y){t.strokeStyle="rgba(96, 160, 208, 0.7)",t.lineWidth=2,t.lineJoin="round";var i,r,s=Math.round(y.start.x),n=Math.round(y.start.y);if(x?"x"===x[0].direction?(r=Math.round(y.start.y),i=Math.round(y.end.x)):"y"===x[0].direction&&(i=Math.round(y.start.x),r=Math.round(y.end.y)):(i=Math.round(y.end.x),r=Math.round(y.end.y)),t.beginPath(),y.end===!1)t.moveTo(s,n-a),t.lineTo(s,n+a),t.moveTo(s+a,n),t.lineTo(s-a,n);else{var o=n===r;t.moveTo(s-(o?0:a),n-(o?a:0)),t.lineTo(s+(o?0:a),n+(o?a:0)),t.moveTo(s,n),t.lineTo(i,r),t.moveTo(i-(o?0:a),r-(o?a:0)),t.lineTo(i+(o?0:a),r+(o?a:0))}t.stroke()}}var v,x=null,b=!1,w="default",y=null,_=null;t.navigationState=function(e,t){var i=this.getAxes(),r={};return Object.keys(i).forEach(function(e){var t=i[e];r[e]={navigationOffset:{below:t.options.offset.below||0,above:t.options.offset.above||0},axisMin:t.min,axisMax:t.max,diagMode:!1}}),r.startPageX=e||0,r.startPageY=t||0,r},t.zoomOut=function(e){e||(e={}),e.amount||(e.amount=t.getOptions().zoom.amount),e.amount=1/e.amount,t.zoom(e)},t.zoom=function(i){i||(i={});var r=i.center,s=i.amount||t.getOptions().zoom.amount,a=t.width(),n=t.height(),o=i.axes||t.getAxes();r||(r={left:a/2,top:n/2});var l=r.left/a,h=r.top/n,d={x:{min:r.left-l*a/s,max:r.left+(1-l)*a/s},y:{min:r.top-h*n/s,max:r.top+(1-h)*n/s}};for(var c in o)if(o.hasOwnProperty(c)){var u=o[c],p=u.options,f=d[u.direction].min,m=d[u.direction].max,g=u.options.offset;if(!p.disableZoom){if(f=e.plot.saturated.saturate(u.c2p(f)),m=e.plot.saturated.saturate(u.c2p(m)),f>m){var v=f;f=m,m=v}var x=e.plot.saturated.saturate(g.below-(u.min-f)),b=e.plot.saturated.saturate(g.above-(u.max-m));p.offset={below:x,above:b}}}t.setupGrid(),t.draw(),i.preventEvent||t.getPlaceholder().trigger("plotzoom",[t,i])},t.pan=function(i){var s={x:+i.left,y:+i.top};isNaN(s.x)&&(s.x=0),isNaN(s.y)&&(s.y=0),e.each(i.axes||t.getAxes(),function(e,t){var i=t.options,a=s[t.direction];if(i.disablePan!==!0&&0!==a){var n=r.saturate(t.c2p(t.p2c(t.min)-a)-t.c2p(t.p2c(t.min))),o=r.saturate(t.c2p(t.p2c(t.max)-a)-t.c2p(t.p2c(t.max)));isFinite(n)||(n=0),isFinite(o)||(o=0),i.offset={below:r.saturate(n+(i.offset.below||0)),above:r.saturate(o+(i.offset.above||0))}}}),t.setupGrid(),t.draw(),i.preventEvent||t.getPlaceholder().trigger("plotpan",[t,i])},t.recenter=function(i){e.each(i.axes||t.getAxes(),function(e,t){i.axes?"x"===this.direction?t.options.offset={below:0}:"y"===this.direction&&(t.options.offset={above:0}):t.options.offset={below:0,above:0}}),t.setupGrid(),t.draw()};var j=function(e){return Math.abs(e.y)<s&&Math.abs(e.x)>=s||Math.abs(e.x)<s&&Math.abs(e.y)>=s},q=function(e){return Math.abs(e.x)<s&&Math.abs(e.y)>=s?{x:0,y:e.y}:Math.abs(e.y)<s&&Math.abs(e.x)>=s?{x:e.x,y:0}:e},T=function(e){return Math.abs(e.x)>0&&Math.abs(e.y)>0},S=function(e,t,i){var r;Object.keys(e).forEach(function(s){r=e[s],0===i[r.direction]&&(r.options.offset.below=t[s].navigationOffset.below,r.options.offset.above=t[s].navigationOffset.above)})},C={x:0,y:0};t.smartPan=function(e,i,s,a){var n=j(e),o=t.getAxes();e=q(e),T(e)&&(i.diagMode=!0),n&&i.diagMode===!0&&(i.diagMode=!1,S(o,i,e)),y=n?{start:{x:i.startPageX-t.offset().left+t.getPlotOffset().left,y:i.startPageY-t.offset().top+t.getPlotOffset().top},end:{x:i.startPageX-e.x-t.offset().left+t.getPlotOffset().left,y:i.startPageY-e.y-t.offset().top+t.getPlotOffset().top}}:{start:{x:i.startPageX-t.offset().left+t.getPlotOffset().left,y:i.startPageY-t.offset().top+t.getPlotOffset().top},end:!1},isNaN(e.x)&&(e.x=0),isNaN(e.y)&&(e.y=0),s&&(o=s);var l,h,d,c,u;Object.keys(o).forEach(function(t){if(l=o[t],h=l.min,d=l.max,u=e[l.direction],c=C[l.direction],l.options.disablePan!==!0&&0!==u){var i=r.saturate(l.c2p(l.p2c(h)-(c-u))-l.c2p(l.p2c(h))),s=r.saturate(l.c2p(l.p2c(d)-(c-u))-l.c2p(l.p2c(d)));isFinite(i)||(i=0),isFinite(s)||(s=0),l.options.offset.below=r.saturate(i+(l.options.offset.below||0)),l.options.offset.above=r.saturate(s+(l.options.offset.above||0))}}),C=e,t.setupGrid(),t.draw(),a||t.getPlaceholder().trigger("plotpan",[t,e])},t.hooks.drawOverlay.push(g),t.hooks.bindEvents.push(f),t.hooks.shutdown.push(m)}var i={zoom:{interactive:!1,amount:1.5},pan:{interactive:!1,cursor:"move",frameRate:60}},r=e.plot.saturated,s=e.plot.uiConstants.SNAPPING_CONSTANT,a=e.plot.uiConstants.PANHINT_LENGTH_CONSTANT;e.plot.plugins.push({init:t,options:i,name:"navigate",version:"1.3"})}(jQuery),function(e){"use strict";function t(e){e.hooks.processOptions.push(i)}function i(e,t){function i(e){m(e)?r(e,"pinch"):(r(e,"pan"),f(e)||(d(e)&&r(e,"doubleTap"),r(e,"longTap")))}function r(e,t){switch(t){case"pan":_[e.type](e);break;case"pinch":j[e.type](e);break;case"doubleTap":q.onDoubleTap(e);break;case"longTap":T[e.type](e)}}function s(e,t){g=t[0],t[0].addEventListener("touchstart",i,!1),t[0].addEventListener("touchmove",i,!1),t[0].addEventListener("touchend",i,!1)}function a(e,t){t[0].removeEventListener("touchstart",i),t[0].removeEventListener("touchmove",i),t[0].removeEventListener("touchend",i),v.longTapTriggerId&&(clearTimeout(v.longTapTriggerId),v.longTapTriggerId=null)}function n(){v.prevTap={x:v.currentTap.x,y:v.currentTap.y}}function o(e){v.currentTap={x:e.touches[0].pageX,y:e.touches[0].pageY}}function l(e){v.tapStartTime=(new Date).getTime(),v.interceptedLongTap=!1,v.currentTapStart={x:e.touches[0].pageX,y:e.touches[0].pageY},v.currentTapEnd={x:e.touches[0].pageX,y:e.touches[0].pageY}}function h(e){v.currentTapEnd={x:e.touches[0].pageX,y:e.touches[0].pageY}}function d(e){var t=(new Date).getTime(),i=t-v.prevTapTime;return i>=0&&b>i&&u(v.prevTap.x,v.prevTap.y,v.currentTap.x,v.currentTap.y)<x?(e.firstTouch=v.prevTap,e.secondTouch=v.currentTap,!0):(v.prevTapTime=t,!1)}function c(e){e.preventDefault(),e.stopPropagation()}function u(e,t,i,r){return Math.sqrt((e-i)*(e-i)+(t-r)*(t-r))}function p(e){return e.touches&&0===e.touches.length}function f(e){return v.twoTouches&&1===e.touches.length}function m(t){return!!(t.touches&&t.touches.length>=2&&t.touches[0].target===e.getEventHolder()&&t.touches[1].target===e.getEventHolder())}var g,v={twoTouches:!1,currentTapStart:{x:0,y:0},currentTapEnd:{x:0,y:0},prevTap:{x:0,y:0},currentTap:{x:0,y:0},interceptedLongTap:!1,prevTapTime:null,tapStartTime:null,longTapTriggerId:null},x=20,b=500,w=20,y=1500,_={touchstart:function(e){c(e),n(),o(e),l(e),g.dispatchEvent(new CustomEvent("panstart",{detail:e}))},touchmove:function(e){o(e),h(e),g.dispatchEvent(new CustomEvent("pandrag",{detail:e}))},touchend:function(e){c(e),f(e)?(g.dispatchEvent(new CustomEvent("pinchend",{detail:e})),g.dispatchEvent(new CustomEvent("panstart",{detail:e}))):p(e)&&g.dispatchEvent(new CustomEvent("panend",{detail:e}))}},j={touchstart:function(e){c(e),g.dispatchEvent(new CustomEvent("pinchstart",{detail:e}))},touchmove:function(e){c(e),v.twoTouches=m(e),g.dispatchEvent(new CustomEvent("pinchdrag",{detail:e}))},touchend:function(e){c(e)}},q={onDoubleTap:function(e){c(e),g.dispatchEvent(new CustomEvent("doubletap",{detail:e}))}},T={touchstart:function(e){T.waitForLongTap(e)},touchmove:function(e){},touchend:function(e){v.longTapTriggerId&&(clearTimeout(v.longTapTriggerId),v.longTapTriggerId=null)},isLongTap:function(e){var t=(new Date).getTime(),i=t-v.tapStartTime;return i>=y&&!v.interceptedLongTap&&u(v.currentTapStart.x,v.currentTapStart.y,v.currentTapEnd.x,v.currentTapEnd.y)<w?(v.interceptedLongTap=!0,!0):!1},waitForLongTap:function(e){var t=function(){T.isLongTap(e)&&g.dispatchEvent(new CustomEvent("longtap",{detail:e})),v.longTapTriggerId=null};v.longTapTriggerId||(v.longTapTriggerId=setTimeout(t,y))}};t.pan.enableTouch===!0&&(e.hooks.bindEvents.push(s),e.hooks.shutdown.push(a))}var r={pan:{enableTouch:!1}};e.plot.plugins.push({init:t,options:r,name:"navigateTouch",version:"0.3"})}(jQuery),function(e){"use strict";function t(e){e.hooks.processOptions.push(i)}function i(e,t){function i(e,t){var i=e.getOptions();i.pan.interactive&&(t[0].addEventListener("panstart",p.start,!1),t[0].addEventListener("pandrag",p.drag,!1),t[0].addEventListener("panend",p.end,!1),t[0].addEventListener("pinchstart",g.start,!1),t[0].addEventListener("pinchdrag",g.drag,!1),t[0].addEventListener("pinchend",g.end,!1),t[0].addEventListener("doubletap",v.recenterPlot,!1))}function s(e,t){t[0].removeEventListener("panstart",p.start),t[0].removeEventListener("pandrag",p.drag),t[0].removeEventListener("panend",p.end),t[0].removeEventListener("pinchstart",g.start),t[0].removeEventListener("pinchdrag",g.drag),t[0].removeEventListener("pinchend",g.end),t[0].removeEventListener("doubletap",v.recenterPlot)}function c(t,i,r){w.touchedAxis=o(e,t,i,w),l(w)?w.navigationConstraint="unconstrained":w.navigationConstraint="axisConstrained"}var p,g,v,b={zoomEnable:!1,prevDistance:null,prevTapTime:0,prevPanPosition:{x:0,y:0},prevTapPosition:{x:0,y:0}},w={prevTouchedAxis:"none",currentTouchedAxis:"none",touchedAxis:null,navigationConstraint:"unconstrained"};p={start:function(e){c(e,"pan",b),d(e,"pan",b,w)},drag:function(t){c(t,"pan",b),e.pan({left:m(t,"pan",b).x,top:m(t,"pan",b).y,axes:w.touchedAxis}),f(t,"pan",b,w)},end:function(e){c(e,"pan",b),n(e,b)&&updateprevPanPosition(e,"pan",b,w)}},g={start:function(e){c(e,"pinch",b),h(e,b),d(e,"pinch",b,w)},drag:function(t){c(t,"pinch",b),e.pan({left:m(t,"pinch",b).x,top:m(t,"pinch",b).y,axes:w.touchedAxis}),f(t,"pinch",b,w);var i=u(t);(b.zoomEnable||Math.abs(i-b.prevDistance)>x)&&(a(e,t,b,w),b.zoomEnable=!0)},end:function(e){c(e,"pinch",b),b.prevDistance=null}},v={recenterPlot:function(t){r(e,t,b,w)}},t.pan.enableTouch===!0&&(e.hooks.bindEvents.push(i),e.hooks.shutdown.push(s))}function r(e,t,i,r){s(e,t,r),("x"===r.currentTouchedAxis&&"x"===r.prevTouchedAxis||"y"===r.currentTouchedAxis&&"y"===r.prevTouchedAxis||"none"===r.currentTouchedAxis&&"none"===r.prevTouchedAxis)&&e.recenter({axes:r.touchedAxis})}function s(e,t,i){var r=p(e,t.detail.firstTouch.x,t.detail.firstTouch.y);void 0!==r[0]&&(i.prevTouchedAxis=r[0].direction),r=p(e,t.detail.secondTouch.x,t.detail.secondTouch.y),void 0!==r[0]&&(i.touchedAxis=r,i.currentTouchedAxis=r[0].direction),l(i)&&(i.touchedAxis=null,i.prevTouchedAxis="none",i.currentTouchedAxis="none")}function a(e,t,i,r){var s=e.offset(),a={left:0,top:0},n=u(t)/i.prevDistance,o=u(t);a.left=g(t,"pinch").x-s.left,a.top=g(t,"pinch").y-s.top,e.zoom({center:a,amount:n,axes:r.touchedAxis}),i.prevDistance=o}function n(e,t){return t.zoomEnable&&1===e.detail.touches.length}function o(e,t,i,r){if("touchstart"===t.detail.type){var s=g(t,i);return p(e,s.x,s.y)}return r.touchedAxis}function l(e){return!e.touchedAxis||0===e.touchedAxis.length}function h(e,t){t.prevDistance=u(e)}function d(e,t,i,r){var s,a=g(e,t);switch(r.navigationConstraint){case"unconstrained":r.touchedAxis=null,i.prevTapPosition={x:i.prevPanPosition.x,y:i.prevPanPosition.y},i.prevPanPosition={x:a.x,y:a.y};break;case"axisConstrained":s=r.touchedAxis[0].direction,r.currentTouchedAxis=s,i.prevTapPosition[s]=i.prevPanPosition[s],i.prevPanPosition[s]=a[s]}}function c(e,t,i,r){return Math.sqrt((e-i)*(e-i)+(t-r)*(t-r))}function u(e){var t=e.detail.touches[0],i=e.detail.touches[1];return c(t.pageX,t.pageY,i.pageX,i.pageY)}function p(e,t,i){var r=e.getPlaceholder().offset();r.left=t-r.left,r.top=i-r.top;var s=e.getXAxes().concat(e.getYAxes()).filter(function(e){var t=e.box;return void 0!==t?r.left>t.left&&r.left<t.left+t.width&&r.top>t.top&&r.top<t.top+t.height:void 0});return s}function f(e,t,i,r){var s=g(e,t);switch(r.navigationConstraint){case"unconstrained":i.prevPanPosition.x=s.x,i.prevPanPosition.y=s.y;break;case"axisConstrained":i.prevPanPosition[r.currentTouchedAxis]=s[r.currentTouchedAxis]}}function m(e,t,i){var r=g(e,t);return{x:r.x-i.prevPanPosition.x,y:r.y-i.prevPanPosition.y}}function g(e,t){return"pinch"===t?{x:(e.detail.touches[0].pageX+e.detail.touches[1].pageX)/2,y:(e.detail.touches[0].pageY+e.detail.touches[1].pageY)/2}:{x:e.detail.touches[0].pageX,y:e.detail.touches[0].pageY}}var v={pan:{enableTouch:!1}},x=e.plot.uiConstants.ZOOM_DISTANCE_MARGIN;e.plot.plugins.push({init:t,options:v,name:"navigateTouch",version:"0.3"})}(jQuery),function(e){"use strict";function t(e,t,i,r){if(t.flatdata===!0){var s=t.start||0,a="number"==typeof t.step?t.step:1;r.pointsize=2;for(var n=0,o=0;n<i.length;n++,o+=2)r.points[o]=s+n*a,r.points[o+1]=i[n];void 0!==r.points?r.points.length=2*i.length:r.points=[]}}e.plot.plugins.push({init:function(e){e.hooks.processRawData.push(t)},name:"flatdata",version:"0.0.2"})}(jQuery),/* Pretty handling of log axes.

Copyright (c) 2007-2014 IOLA and Ole Laursen.
Copyright (c) 2015 Ciprian Ceteras cipix2000@gmail.com.
Licensed under the MIT license.

Set axis.mode to "log" to enable.
*/
function(e){"use strict";function t(e,t){var r=e.getData(),s=r.filter(function(e){return e.xaxis===t||e.yaxis===t}).map(function(t){return e.computeRangeForDataSeries(t,null,i)}),a="x"===t.direction?Math.min(.1,s[0].xmin):Math.min(.1,s[0].ymin);return t.min=a,a}function i(e){return e>0}function r(e,t){for(var i,r,s=Math.floor(Math.log(e)*Math.LOG10E)-1,a=-s,n=[],o=a;s>=o;o++){r=Math.pow(10,o);for(var l=1;9>l;l+=t)i=r*l,n.push(i)}return n}function s(e,t){return t*Math.floor(e/t)}function a(e,i){"log"===i.options.mode&&i.datamin<=0&&(null===i.datamin?i.datamin=.1:i.datamin=t(e,i))}function n(t){t.hooks.processOptions.push(function(t){o=t.defaultTickFormatter,l=t.expRepTickFormatter,e.each(t.getAxes(),function(e,i){var r=i.options;"log"===r.mode&&(i.tickGenerator=function(e){var i=11;return m(t,e,i)},"function"!=typeof i.options.tickFormatter&&(i.options.tickFormatter=v),i.options.transform=u,i.options.inverseTransform=p,i.options.autoscaleMargin=0,t.hooks.setRange.push(a))})})}var o,l,h={xaxis:{}},d=r(Number.MAX_VALUE,10),c=r(Number.MAX_VALUE,4),u=function(e){return e<d[0]&&(e=d[0]),Math.log(e)},p=function(e){return Math.exp(e)},f=function(t,i,r,a){var n,o=t.computeTickSize(i,r,a),l=[],h=e.plot.saturated.saturate(s(i,o)),d=0,c=Number.NaN;h===-Number.MAX_VALUE&&(l.push(h),h=s(i+o,o));do n=c,c=e.plot.saturated.multiplyAdd(o,d,h),l.push(c),++d;while(r>c&&c!==n);return l},m=function(e,t,i){var r=[],s=-1,a=-1,n=e.getCanvas(),o=d,l=g(t,e),h=t.max;i||(i=.3*Math.sqrt("x"===t.direction?n.width:n.height)),d.some(function(e,t){return e>=l?(s=t,!0):!1}),d.some(function(e,t){return e>=h?(a=t,!0):!1}),-1===a&&(a=d.length-1),i/4>=a-s&&o.length!==c.length&&(o=c,s*=2,a*=2);var u,p,m,v=null,x=1/i;if(a-s>=i/4){for(var b=a;b>=s;b--)u=o[b],p=(Math.log(u)-Math.log(l))/(Math.log(h)-Math.log(l)),m=u,null===v?v={pixelCoord:p,idealPixelCoord:p}:Math.abs(p-v.pixelCoord)>=x?v={pixelCoord:p,idealPixelCoord:v.idealPixelCoord-x}:m=null,m&&r.push(m);r.reverse()}else r=f(e,l,h,i);return r},g=function(e,i){var r=e.min,s=e.max;return 0>=r&&(r=null===e.datamin?e.min=.1:t(i,e),r>s&&(e.max=null!==e.datamax?e.datamax:e.options.max,e.options.offset.below=0,e.options.offset.above=0)),r},v=function(e,t,i){var r=e>0?Math.floor(Math.log(e)/Math.LN10):0;if(i)return r>=-4&&7>=r?o(e,t,i):l(e,t,i);if(r>=-4&&7>=r){var s=0>r?e.toFixed(-r):e.toFixed(r+2);if(-1!==s.indexOf(".")){for(var a=s.lastIndexOf("0");a===s.length-1;)s=s.slice(0,-1),a=s.lastIndexOf("0");s.indexOf(".")===s.length-1&&(s=s.slice(0,-1))}return s}return l(e,t)};e.plot.plugins.push({init:n,options:h,name:"log",version:"0.1"}),e.plot.logTicksGenerator=m,e.plot.logTickFormatter=v}(jQuery),/*
Axis label plugin for engineering-flot

Derived from:
Axis Labels Plugin for flot.
http://github.com/markrcote/flot-axislabels

Original code is Copyright (c) 2010 Xuan Luo.
Original code was released under the GPLv3 license by Xuan Luo, September 2010.
Original code was rereleased under the MIT license by Xuan Luo, April 2012.

Permission is hereby granted, free of charge, to any person obtaining
a copy of this software and associated documentation files (the
"Software"), to deal in the Software without restriction, including
without limitation the rights to use, copy, modify, merge, publish,
distribute, sublicense, and/or sell copies of the Software, and to
permit persons to whom the Software is furnished to do so, subject to
the following conditions:

The above copyright notice and this permission notice shall be
included in all copies or substantial portions of the Software.

THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND,
EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF
MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND
NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE
LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION
OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION
WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.
*/
function(e){"use strict";function t(e,t,i,r,s,a){this.axisName=e,this.position=t,this.padding=i,this.placeholder=r,this.axisLabel=s,this.surface=a,this.width=0,this.height=0,this.elem=null}function i(i){i.hooks.processOptions.push(function(i,r){if(r.axisLabels.show){var s={},a=2;i.hooks.axisReserveSpace.push(function(e,i){var r=i.options,n=i.direction+i.n;if(i.labelHeight+=i.boxPosition.centerY,i.labelWidth+=i.boxPosition.centerX,r&&r.axisLabel&&i.show){var o=void 0===r.axisLabelPadding?a:r.axisLabelPadding,l=s[n];l||(l=new t(n,r.position,o,e.getPlaceholder()[0],r.axisLabel,e.getSurface()),s[n]=l),l.calculateSize(),i.labelHeight+=l.height,i.labelWidth+=l.width}}),i.hooks.draw.push(function(t,i){e.each(t.getAxes(),function(e,t){var i=t.options;if(i&&i.axisLabel&&t.show){var r=t.direction+t.n;s[r].draw(t.box)}})}),i.hooks.shutdown.push(function(e,t){for(var i in s)s[i].cleanup()})}})}var r={axisLabels:{show:!0}};t.prototype.calculateSize=function(){var e=this.axisName+"Label",t=e+"Layer",i=e+" axisLabels",r=this.surface.getTextInfo(t,this.axisLabel,i);this.labelWidth=r.width,this.labelHeight=r.height,"left"===this.position||"right"===this.position?(this.width=this.labelHeight+this.padding,this.height=0):(this.width=0,this.height=this.labelHeight+this.padding)},t.prototype.transforms=function(e,t,i){var r={top:0,left:0,"-moz-transform":"","-webkit-transform":"","-o-transform":"","-ms-transform":""};if(0!==t||0!==i){var s=" translate("+t+"px, "+i+"px)";r["-moz-transform"]+=s,r["-webkit-transform"]+=s,r["-o-transform"]+=s,r["-ms-transform"]+=s}if(0!==e){var a=" rotate("+e+"deg)";r["-moz-transform"]+=a,r["-webkit-transform"]+=a,r["-o-transform"]+=a,r["-ms-transform"]+=a}return r},t.prototype.transformOrigin=function(){var e=Math.round(this.labelWidth/2)+"px ",t=Math.round(this.labelHeight/2)+"px";return{"transform-origin":e+t,"-moz-transform-origin":e+t,"-webkit-transform-origin":e+t,"-o-transform-origin":e+t,"-ms-transform-origin":e+t}},t.prototype.calculateOffsets=function(e){var t={x:0,y:0,degrees:0};return"bottom"===this.position?(t.x=e.left+e.width/2-this.labelWidth/2,t.y=e.top+e.height-this.labelHeight):"top"===this.position?(t.x=e.left+e.width/2-this.labelWidth/2,t.y=e.top):"left"===this.position?(t.degrees=-90,t.x=e.left-this.labelWidth/2+this.labelHeight/2,t.y=e.height/2+e.top):"right"===this.position&&(t.degrees=90,t.x=e.left+e.width-this.labelWidth/2-this.labelHeight/2,t.y=e.height/2+e.top),t.x=Math.round(t.x),t.y=Math.round(t.y),t},t.prototype.cleanup=function(){var e=this.axisName+"Label",t=e+"Layer",i=e+" axisLabels";this.surface.removeText(t,0,0,this.axisLabel,i)},t.prototype.draw=function(t){var i=this.axisName+"Label",r=i+"Layer",s=i+" axisLabels",a=this.calculateOffsets(t),n=e.extend({position:"absolute",bottom:"",right:"",display:"inline-block","white-space":"nowrap"},this.transforms(a.degrees,a.x,a.y),this.transformOrigin()),o=this.surface.getTextLayer(r);this.surface.addText(r,0,0,this.axisLabel,s),this.surface.render(),Object.keys(n).forEach(function(e){o.style[e]=n[e]})},e.plot.plugins.push({init:i,options:r,name:"axisLabels",version:"3.0"})}(jQuery),/* Flot plugin for adding cursors to the plot.

Copyright (c) cipix2000@gmail.com.
Copyright (c) 2007-2014 IOLA and Ole Laursen.
Licensed under the MIT license.
*/
function(e){"use strict";function t(e){function t(e){return i(e,{name:e.name||"unnamed "+f.length,position:e.position||{relativeX:.5,relativeY:.5,x:void 0,y:void 0},mousePosition:{relativeX:void 0,relativeY:void 0},x:0,y:0,valign:"below",halign:"right",show:!0,selected:!1,highlighted:!1,mode:"xy",showIntersections:!1,showLabel:!1,showValues:!0,color:"gray",fontSize:"10px",fontFamily:"sans-serif",fontStyle:"",fontWeight:"",lineWidth:1,movable:!0,mouseButton:"all",dashes:1,intersectionColor:"darkgray",intersectionLabelPosition:"bottom-right",snapToPlot:void 0,defaultxaxis:1,defaultyaxis:1})}function n(e,t){var i={cursor:t.name,points:[]},r=t.mousePosition.relativeX*e.width(),s=t.mousePosition.relativeY*e.height(),a=e.findNearbyItem(r,s,function(e){return-1===t.snapToPlot||e===t.snapToPlot},Number.MAX_VALUE,function(e,t){return e*e+t*t*.025});if(a){var n=e.getData(),o=n[a.seriesIndex].datapoints.pointsize,l=a.dataIndex*o;i.points.push({x:a.datapoint[0],y:a.datapoint[1],leftPoint:[l-o,l-o+1],rightPoint:[l,l+1],seriesIndex:a.seriesIndex})}return i}function o(t,i,r,s,a){var n=w(f);n&&0!==t.buttons?(-1!==n.dragmode.indexOf("x")&&(n.x=i,n.position.relativeX=n.x/e.width(),n.mousePosition.relativeX=i/e.width()),-1!==n.dragmode.indexOf("y")&&(n.y=r,n.position.relativeY=n.y/e.height(),n.mousePosition.relativeY=r/e.height()),e.triggerRedrawOverlay(),t.stopImmediatePropagation(),t.preventDefault()):(n&&0===t.buttons&&(n.selected=!1,e.triggerRedrawOverlay()),y(f).forEach(function(t){t.movable&&(_(s,a,e,t)?(t.highlighted||(t.highlighted=!0,e.triggerRedrawOverlay()),e.getPlaceholder().css("cursor","pointer")):j(s,a,e,t)?(t.highlighted||(t.highlighted=!0,e.triggerRedrawOverlay()),e.getPlaceholder().css("cursor","col-resize")):q(s,a,e,t)?(t.highlighted||(t.highlighted=!0,e.triggerRedrawOverlay()),e.getPlaceholder().css("cursor","row-resize")):t.highlighted&&(t.highlighted=!1,e.getPlaceholder().css("cursor","default"),e.triggerRedrawOverlay()))}))}function l(t,i,r,s,a){var n=w(f);if(n)e.getPlaceholder().css("cursor","default"),n.x=i,n.y=r,n.position.relativeX=n.x/e.width(),n.position.relativeY=n.y/e.height(),e.triggerRedrawOverlay();else{var o,l;if(y(f).forEach(function(t){t.movable&&(q(s,a,e,t)&&(o=t,l="y"),j(s,a,e,t)&&(o=t,l="x"),_(s,a,e,t)&&(o=t,l="xy"))}),o){if(!T(o,t.button))return;o.selected=!0,o.dragmode=l,"x"===o.mode?e.getPlaceholder().css("cursor","ew-resize"):"y"===o.mode?e.getPlaceholder().css("cursor","ns-resize"):e.getPlaceholder().css("cursor","move"),e.getPlaceholder().css("cursor","move"),e.triggerRedrawOverlay(),t.stopImmediatePropagation(),t.preventDefault()}}}function h(t,i,r,s,a){var n=w(f);if(n){if(!T(n,t.button))return;n.selected=!1,-1!==n.dragmode.indexOf("x")&&(n.x=i,n.mousePosition.relativeX=i/e.width(),n.position.relativeX=n.x/e.width()),-1!==n.dragmode.indexOf("y")&&(n.y=r,n.mousePosition.relativeY=r/e.height(),n.position.relativeY=n.y/e.height()),e.getPlaceholder().css("cursor","default"),e.triggerRedrawOverlay(),t.stopImmediatePropagation(),t.preventDefault()}}function c(t){var i=e.offset();return Math.max(0,Math.min(t-i.left,e.width()))}function p(t){var i=e.offset();return Math.max(0,Math.min(t-i.top,e.height()))}var f=[],m=[];e.hooks.processOptions.push(function(e){e.getOptions().cursors.forEach(function(t){e.addCursor(t)})}),e.getCursors=function(){return f},e.addCursor=function(i){var s=t(i);r(e,s,s.position),f.push(s),e.triggerRedrawOverlay()},e.removeCursor=function(t){var i=f.indexOf(t);-1!==i&&f.splice(i,1),e.triggerRedrawOverlay()},e.setCursor=function(t,s){var a=f.indexOf(t);-1!==a&&(i(s,f[a]),r(e,f[a],f[a].position),e.triggerRedrawOverlay())},e.getIntersections=function(e){var t=f.indexOf(e);return-1!==t?f[t].intersections:[]},e.formatCursorPosition=g;var w=function(e){var t;return e.forEach(function(e){e.selected&&(t||(t=e))}),t},y=function(e){return e.filter(function(e){return e.show})},T=function(e,t){switch(e.mouseButton){case"all":return!0;case"left":return 0===t;case"middle":return 1===t;case"right":return 2===t;default:return!0}},S={start:function(e){var t=c(e.detail.touches[0].pageX),i=p(e.detail.touches[0].pageY);l(e,t,i,e.detail.touches[0].pageX,e.detail.touches[0].pageY)},drag:function(e){var t=c(e.detail.touches[0].pageX),i=p(e.detail.touches[0].pageY);o(e,t,i,e.detail.touches[0].pageX,e.detail.touches[0].pageY)},end:function(e){var t=w(f);t&&(t.selected=!1)}},C={start:function(e){var t=c(e.detail.touches[0].pageX),i=p(e.detail.touches[0].pageY);l(e,t,i,e.detail.touches[0].pageX,e.detail.touches[0].pageY)},drag:function(e){var t=c(e.detail.touches[0].pageX),i=p(e.detail.touches[0].pageY);o(e,t,i,e.detail.touches[0].pageX,e.detail.touches[0].pageY)},end:function(e){var t=w(f);t&&(t.selected=!1)}},I={start:function(e){var t=c(e.pageX),i=p(e.pageY);l(e,t,i,e.pageX,e.pageY)},move:function(e){var t=c(e.pageX),i=p(e.pageY);o(e,t,i,e.pageX,e.pageY)},end:function(e){var t=c(e.pageX),i=p(e.pageY);h(e,t,i,e.pageX,e.pageY)}};e.hooks.bindEvents.push(function(e,t){t[0].addEventListener("panstart",S.start,!1),t[0].addEventListener("pandrag",S.drag,!1),t[0].addEventListener("panend",S.end,!1),t[0].addEventListener("pinchstart",C.start,!1),t[0].addEventListener("pinchdrag",C.drag,!1),t[0].addEventListener("pinchend",C.end,!1),t.bind("mousedown",I.start),t.bind("mousemove",I.move),t.bind("mouseup",I.end)}),e.hooks.drawOverlay.push(function(e,t){var i=function(e){return void 0!==e.x&&void 0!==e.y&&void 0!==e.relativeX&&void 0!==e.relativeY},o=function(e){return void 0!==e.relativeX&&void 0!==e.relativeY};m=[],f.forEach(function(l){var h;if(i(l.position)||r(e,l,l.position),o(l.mousePosition)||(l.mousePosition.relativeX=l.x/e.width(),l.mousePosition.relativeY=l.y/e.height()),h=n(e,l),s(e,l,h),l.intersections=h,h.target=l,m.push(h),l.show){var c=e.getPlotOffset();t.save(),t.translate(c.left,c.top),a(e,t,l),x(e,t,l),d(e,t,l),u(e,t,l),v(e,t,l),"none"!==l.symbol&&b(e,t,l),t.restore()}}),m.length>0&&e.getPlaceholder().trigger("cursorupdates",[m])}),e.hooks.shutdown.push(function(e,t){t.unbind("panstart",S.start),t.unbind("pandrag",S.drag),t.unbind("panend",S.end),t.unbind("pinchstart",C.start),t.unbind("pinchdrag",C.drag),t.unbind("pinchend",C.end),t.unbind("mousedown",I.start),t.unbind("mousemove",I.move),t.unbind("mouseup",I.end),t.unbind("cursorupdates"),e.getPlaceholder().css("cursor","default")})}function i(e,t){return Object.keys(e).forEach(function(i){t[i]=e[i]}),t}function r(e,t,i){var r=f(e,t),s=m(e,t),a=void 0!==i.relativeX?i.relativeX*e.width():r.p2c?r.p2c(i.x):void 0,n=void 0!==i.relativeX?i.relativeY*e.height():s.p2c?s.p2c(i.y):void 0;t.x=Math.max(0,Math.min(a,e.width())),t.y=Math.max(0,Math.min(n,e.height()))}function s(e,t,i){if(t.snapToPlot>=-1){var s=i.points[0];if(s){var a=e.getData()[s.seriesIndex],n=a.xaxis.p2c(s.x)/e.width(),o=a.yaxis.p2c(s.y)/e.height();r(e,t,{x:s.x,y:s.y}),t.position.relativeX=n,t.position.relativeY=o,i.x=s.x,i.y=s.y}}}function a(e,t,i){var r=e.width(),s=e.height(),a=i.y,n=i.x,l=0,h=0,d=o(i),c=Number(i.fontSize.substring(0,i.fontSize.length-2)),u=.05,p=1-u;if(t.font=i.fontStyle+" "+i.fontWeight+" "+i.fontSize+" "+i.fontFamily,i.showLabel&&(l=Math.max(l,t.measureText(i.name).width)),i.showValues){var f=g(e,i),m=f.xTextValue+", "+f.yTextValue;l=Math.max(l,t.measureText(m).width)}"right"===i.halign&&n+l>r*p?i.halign="left":"left"===i.halign&&r*u>n-l&&(i.halign="right"),h=d*(c+S.labelPadding),"below"===i.valign&&a+h>s*p?i.valign="above":"above"===i.valign&&s*u>a-h&&(i.valign="below")}function n(e,t,i,r){var s="left",a=Number(t.fontSize.substring(0,t.fontSize.length-2)),n=t.y,o=t.x;return"left"===t.halign?(o-=S.labelPadding,s="right"):o+=S.labelPadding,"above"===t.valign?n-=S.labelPadding*(r-i)+a*(r-1-i):n+=S.labelPadding*(i+1)+a*(i+1),{x:o,y:n,textAlign:s}}function o(e){return(e.showLabel?1:0)+(e.showValues?1:0)}function l(e){return 0}function h(e){return e.showLabel?1:0}function d(e,t,i){if(i.showLabel){t.beginPath();var r=n(e,i,l(i),o(i));t.fillStyle=i.color,t.textAlign=r.textAlign,t.font=i.fontStyle+" "+i.fontWeight+" "+i.fontSize+" "+i.fontFamily,t.fillText(i.name,r.x,r.y),t.textAlign="left",t.stroke()}}function c(e,t,i,r,s,a,n,o,l){var h,d=Number(o.substring(0,o.length-2));switch(s){case"left":h=e.measureText(t).width,i=i-h-S.iRectSize;break;case"bottom-left":h=e.measureText(t).width,i=i-h-S.iRectSize,r+=d;break;case"top-left":h=e.measureText(t).width,i=i-h-S.iRectSize,r-=S.iRectSize;break;case"top-right":i+=S.iRectSize,r-=S.iRectSize;break;case"right":i+=S.iRectSize;break;case"bottom-right":default:i+=S.iRectSize,r+=d}e.textBaseline="middle",e.font=a+" "+n+" "+o+" "+l,e.fillText(t,i,r)}function u(e,t,i){if(i.showIntersections&&w(i)){if(t.beginPath(),void 0===i.intersections)return;i.intersections.points.forEach(function(r,s){if("object"!=typeof i.showIntersections||-1!==i.showIntersections.indexOf(s)){var a=e.p2c(r);t.fillStyle=i.intersectionColor,t.fillRect(Math.floor(a.left)-S.iRectSize/2,Math.floor(a.top)-S.iRectSize/2,S.iRectSize,S.iRectSize);var n;n="function"==typeof i.formatIntersectionData?i.formatIntersectionData(r):r.y.toFixed(2),c(t,n,a.left,a.top,i.intersectionLabelPosition,i.fontStyle,i.fontWeight,i.fontSize,i.fontFamily)}}),t.stroke()}}function p(e,t,i){var r="x"===t.direction?i+1:i-1,s=t.c2p(i),a=t.c2p(r);return e.computeValuePrecision(s,a,t.direction,1)}function f(e,t){var i=e.getData(),r=e.getXAxes(),s=t.defaultxaxis-1;if(t.snapToPlot>=-1){if(t.intersections&&t.intersections.points[0]){var a=i[t.intersections.points[0].seriesIndex];return a?a.xaxis:r[s]}return r[s]}return r[s]}function m(e,t){var i=e.getData(),r=e.getYAxes(),s=t.defaultyaxis-1;if(t.snapToPlot>=-1){if(t.intersections&&t.intersections.points[0]){var a=i[t.intersections.points[0].seriesIndex];return a?a.yaxis:r[s]}return r[s]}return r[s]}function g(e,t){var i=f(e,t),r=m(e,t),s="&nbsp;",a="<br>",n=p(e,i,t.x),o=i.tickFormatter(i.c2p(t.x),i,n,e),l=p(e,r,t.y),h=r.tickFormatter(r.c2p(t.y),r,l,e);return o=o.replace(a," "),o=o.replace(s," "),h=h.replace(a," "),h=h.replace(s," "),{xTextValue:o,yTextValue:h}}function v(e,t,i){if(i.showValues){var r=g(e,i),s=r.xTextValue+", "+r.yTextValue,a=n(e,i,h(i),o(i));t.fillStyle=i.color,t.textAlign=a.textAlign,t.font=i.fontStyle+" "+i.fontWeight+" "+i.fontSize+" "+i.fontFamily,t.fillText(s,a.x,a.y)}}function x(e,t,i){if(0!==i.lineWidth){var r,s,a,n=i.lineWidth%2?.5:0;if(t.strokeStyle=i.color,t.lineWidth=i.lineWidth,t.lineJoin="round",t.beginPath(),-1!==i.mode.indexOf("x")){var o=Math.floor(i.x)+n;if(i.dashes<=0)t.moveTo(o,0),t.lineTo(o,e.height());else for(s=2*i.dashes-1,r=e.height()/s,a=0;s>a;a+=2)t.moveTo(o,r*a),t.lineTo(o,r*(a+1))}if(-1!==i.mode.indexOf("y")){var l=Math.floor(i.y)+n;if(i.dashes<=0)t.moveTo(0,l),t.lineTo(e.width(),l);else for(s=2*i.dashes-1,r=e.width()/s,a=0;s>a;a+=2)t.moveTo(r*a,l),t.lineTo(r*(a+1),l)}t.stroke()}}function b(e,t,i){var r=i.lineWidth%2?.5:0;t.beginPath(),i.highlighted?t.strokeStyle="orange":t.strokeStyle=i.color,i.symbol&&e.drawSymbol&&e.drawSymbol[i.symbol]?(t.fillStyle="white",t.fillRect(Math.floor(i.x)+r-(S.symbolSize/2+1),Math.floor(i.y)+r-(S.symbolSize/2+1),S.symbolSize+2,S.symbolSize+2),e.drawSymbol[i.symbol](t,Math.floor(i.x)+r,Math.floor(i.y)+r,S.symbolSize/2,0)):t.fillRect(Math.floor(i.x)+r-S.symbolSize/2,Math.floor(i.y)+r-S.symbolSize/2,S.symbolSize,S.symbolSize),t.stroke()}function w(e){return-1!==e.mode.indexOf("x")}function y(e){return-1!==e.mode.indexOf("y")}function _(e,t,i,r){var s=i.offset(),a=Math.max(0,Math.min(e-s.left,i.width())),n=Math.max(0,Math.min(t-s.top,i.height())),o=S.symbolSize+S.mouseGrabMargin;return a>r.x-o&&a<r.x+o&&n>r.y-o&&n<r.y+o&&"none"!==r.symbol}function j(e,t,i,r){var s=i.offset(),a=Math.max(0,Math.min(e-s.left,i.width())),n=Math.max(0,Math.min(t-s.top,i.height()));return w(r)&&a>r.x-S.mouseGrabMargin&&a<r.x+S.mouseGrabMargin&&n>0&&n<i.height()}function q(e,t,i,r){var s=i.offset(),a=Math.max(0,Math.min(e-s.left,i.width())),n=Math.max(0,Math.min(t-s.top,i.height()));return y(r)&&n>r.y-S.mouseGrabMargin&&n<r.y+S.mouseGrabMargin&&a>0&&a<i.width()}var T={cursors:[]},S={iRectSize:8,symbolSize:8,mouseGrabMargin:8,textHeight:10,labelPadding:10};e.plot.plugins.push({init:t,options:T,name:"cursors",version:"0.2"})}(jQuery),/* Flot plugin for selecting regions of a plot.

Copyright (c) 2007-2014 IOLA and Ole Laursen.
Licensed under the MIT license.

The plugin supports these options:

selection: {
    mode: null or "x" or "y" or "xy" or "smart",
    color: color,
    shape: "round" or "miter" or "bevel",
    minSize: number of pixels
}

Selection support is enabled by setting the mode to one of "x", "y" or "xy".
In "x" mode, the user will only be able to specify the x range, similarly for
"y" mode. For "xy", the selection becomes a rectangle where both ranges can be
specified. "color" is color of the selection (if you need to change the color
later on, you can get to it with plot.getOptions().selection.color). "shape"
is the shape of the corners of the selection.

"minSize" is the minimum size a selection can be in pixels. This value can
be customized to determine the smallest size a selection can be and still
have the selection rectangle be displayed. When customizing this value, the
fact that it refers to pixels, not axis units must be taken into account.
Thus, for example, if there is a bar graph in time mode with BarWidth set to 1
minute, setting "minSize" to 1 will not make the minimum selection size 1
minute, but rather 1 pixel. Note also that setting "minSize" to 0 will prevent
"plotunselected" events from being fired when the user clicks the mouse without
dragging.

When selection support is enabled, a "plotselected" event will be emitted on
the DOM element you passed into the plot function. The event handler gets a
parameter with the ranges selected on the axes, like this:

    placeholder.bind( "plotselected", function( event, ranges ) {
        alert("You selected " + ranges.xaxis.from + " to " + ranges.xaxis.to)
        // similar for yaxis - with multiple axes, the extra ones are in
        // x2axis, x3axis, ...
    });

The "plotselected" event is only fired when the user has finished making the
selection. A "plotselecting" event is fired during the process with the same
parameters as the "plotselected" event, in case you want to know what's
happening while it's happening,

A "plotunselected" event with no arguments is emitted when the user clicks the
mouse to remove the selection. As stated above, setting "minSize" to 0 will
destroy this behavior.

The plugin allso adds the following methods to the plot object:

- setSelection( ranges, preventEvent )

  Set the selection rectangle. The passed in ranges is on the same form as
  returned in the "plotselected" event. If the selection mode is "x", you
  should put in either an xaxis range, if the mode is "y" you need to put in
  an yaxis range and both xaxis and yaxis if the selection mode is "xy", like
  this:

    setSelection({ xaxis: { from: 0, to: 10 }, yaxis: { from: 40, to: 60 } });

  setSelection will trigger the "plotselected" event when called. If you don't
  want that to happen, e.g. if you're inside a "plotselected" handler, pass
  true as the second parameter. If you are using multiple axes, you can
  specify the ranges on any of those, e.g. as x2axis/x3axis/... instead of
  xaxis, the plugin picks the first one it sees.

- clearSelection( preventEvent )

  Clear the selection rectangle. Pass in true to avoid getting a
  "plotunselected" event.

- getSelection()

  Returns the current selection in the same format as the "plotselected"
  event. If there's currently no selection, the function returns null.

*/
function(e){function t(t){function i(e){v.active&&(c(e),t.getPlaceholder().trigger("plotselecting",[a()]))}function r(t){1===t.which&&(document.body.focus(),void 0!==document.onselectstart&&null==b.onselectstart&&(b.onselectstart=document.onselectstart,document.onselectstart=function(){return!1}),void 0!==document.ondrag&&null==b.ondrag&&(b.ondrag=document.ondrag,document.ondrag=function(){return!1}),d(v.first,t),v.active=!0,w=function(e){s(e)},e(document).one("mouseup",w))}function s(e){return w=null,void 0!==document.onselectstart&&(document.onselectstart=b.onselectstart),void 0!==document.ondrag&&(document.ondrag=b.ondrag),v.active=!1,c(e),m()?n():(t.getPlaceholder().trigger("plotunselected",[]),t.getPlaceholder().trigger("plotselecting",[null])),!1}function a(){if(!m())return null;if(!v.show)return null;var i={},r={x:v.first.x,y:v.first.y},s={x:v.second.x,y:v.second.y};return"x"===l(t)&&(r.y=0,s.y=t.height()),"y"===l(t)&&(r.x=0,s.x=t.width()),e.each(t.getAxes(),function(e,t){if(t.used){var a=t.c2p(r[t.direction]),n=t.c2p(s[t.direction]);i[e]={from:Math.min(a,n),to:Math.max(a,n)}}}),i}function n(){var e=a();t.getPlaceholder().trigger("plotselected",[e]),e.xaxis&&e.yaxis&&t.getPlaceholder().trigger("selected",[{x1:e.xaxis.from,y1:e.yaxis.from,x2:e.xaxis.to,y2:e.yaxis.to}])}function o(e,t,i){return e>t?e:t>i?i:t}function l(e){var t=e.getOptions();return"smart"===t.selection.mode?v.currentMode:t.selection.mode}function h(e){if(v.first){var t={x:e.x-v.first.x,y:e.y-v.first.y};Math.abs(t.x)<x?v.currentMode="y":Math.abs(t.y)<x?v.currentMode="x":v.currentMode="xy"}}function d(e,i){var r=t.getPlaceholder().offset(),s=t.getPlotOffset();e.x=o(0,i.pageX-r.left-s.left,t.width()),e.y=o(0,i.pageY-r.top-s.top,t.height()),e!==v.first&&h(e),"y"===l(t)&&(e.x=e===v.first?0:t.width()),"x"===l(t)&&(e.y=e===v.first?0:t.height())}function c(e){null!=e.pageX&&(d(v.second,e),m()?(v.show=!0,t.triggerRedrawOverlay()):u(!0))}function u(e){v.show&&(v.show=!1,v.currentMode="",t.triggerRedrawOverlay(),e||t.getPlaceholder().trigger("plotunselected",[]))}function p(e,i){var r,s,a,n,o=t.getAxes();for(var l in o)if(r=o[l],r.direction===i&&(n=i+r.n+"axis",e[n]||1!==r.n||(n=i+"axis"),e[n])){s=e[n].from,a=e[n].to;break}if(e[n]||(r="x"===i?t.getXAxes()[0]:t.getYAxes()[0],s=e[i+"1"],a=e[i+"2"]),null!=s&&null!=a&&s>a){var h=s;s=a,a=h}return{from:s,to:a,axis:r}}function f(e,i){var r;"y"===l(t)?(v.first.x=0,v.second.x=t.width()):(r=p(e,"x"),v.first.x=r.axis.p2c(r.from),v.second.x=r.axis.p2c(r.to)),"x"===l(t)?(v.first.y=0,v.second.y=t.height()):(r=p(e,"y"),v.first.y=r.axis.p2c(r.from),v.second.y=r.axis.p2c(r.to)),v.show=!0,t.triggerRedrawOverlay(),!i&&m()&&n()}function m(){var e=t.getOptions().selection.minSize;return Math.abs(v.second.x-v.first.x)>=e&&Math.abs(v.second.y-v.first.y)>=e}function g(e,t,i,r,s,a,n,o){var l=3,h=15,d=Math.max(0,Math.min(h,r/2-2,s/2-2));e.fillStyle="#ffffff","xy"===o&&(e.beginPath(),e.moveTo(t,i+d),e.lineTo(t-3,i+d),e.lineTo(t-3,i-3),e.lineTo(t+d,i-3),e.lineTo(t+d,i),e.lineTo(t,i),e.closePath(),e.moveTo(t,i+s-d),e.lineTo(t-3,i+s-d),e.lineTo(t-3,i+s+3),e.lineTo(t+d,i+s+3),e.lineTo(t+d,i+s),e.lineTo(t,i+s),e.closePath(),e.moveTo(t+r,i+d),e.lineTo(t+r+3,i+d),e.lineTo(t+r+3,i-3),e.lineTo(t+r-d,i-3),e.lineTo(t+r-d,i),e.lineTo(t+r,i),e.closePath(),e.moveTo(t+r,i+s-d),e.lineTo(t+r+3,i+s-d),e.lineTo(t+r+3,i+s+3),e.lineTo(t+r-d,i+s+3),e.lineTo(t+r-d,i+s),e.lineTo(t+r,i+s),e.closePath(),e.stroke(),e.fill()),t=a,i=n,"x"===o&&(e.beginPath(),e.moveTo(t,i+h),e.lineTo(t,i-h),e.lineTo(t-l,i-h),e.lineTo(t-l,i+h),e.closePath(),e.moveTo(t+r,i+h),e.lineTo(t+r,i-h),e.lineTo(t+r+l,i-h),e.lineTo(t+r+l,i+h),e.closePath(),e.stroke(),e.fill()),"y"===o&&(e.beginPath(),e.moveTo(t-h,i),e.lineTo(t+h,i),e.lineTo(t+h,i-l),e.lineTo(t-h,i-l),e.closePath(),e.moveTo(t-h,i+s),e.lineTo(t+h,i+s),e.lineTo(t+h,i+s+l),e.lineTo(t-h,i+s+l),e.closePath(),e.stroke(),e.fill())}var v={first:{x:-1,y:-1},second:{x:-1,y:-1},show:!1,currentMode:"xy",active:!1},x=e.plot.uiConstants.SNAPPING_CONSTANT,b={},w=null;t.clearSelection=u,t.setSelection=f,t.getSelection=a,t.hooks.bindEvents.push(function(e,t){var s=e.getOptions();null!=s.selection.mode&&(t.mousemove(i),t.mousedown(r))}),t.hooks.drawOverlay.push(function(t,i){if(v.show&&m()){var r=t.getPlotOffset(),s=t.getOptions();i.save(),i.translate(r.left,r.top);var a=e.color.parse(s.selection.color);i.strokeStyle=a.scale("a",1).toString(),i.lineWidth=1,i.lineJoin=s.selection.shape,i.fillStyle=a.scale("a",.4).toString();var n=Math.min(v.first.x,v.second.x)+.5,o=n,h=Math.min(v.first.y,v.second.y)+.5,d=h,c=Math.abs(v.second.x-v.first.x)-1,u=Math.abs(v.second.y-v.first.y)-1;"x"===l(t)&&(u+=h,h=0),"y"===l(t)&&(c+=n,n=0),i.fillRect(0,0,t.width(),t.height()),i.clearRect(n,h,c,u),g(i,n,h,c,u,o,d,l(t)),i.restore()}}),t.hooks.shutdown.push(function(t,s){s.unbind("mousemove",i),s.unbind("mousedown",r),w&&e(document).unbind("mouseup",w)})}e.plot.plugins.push({init:t,options:{selection:{mode:null,color:"#888888",shape:"round",minSize:5}},name:"selection",version:"1.1"})}(jQuery),/* Pretty handling of time axes.

Copyright (c) 2007-2014 IOLA and Ole Laursen.
Licensed under the MIT license.

Set axis.format to "time" to enable. See the section "Time series data" in
API.txt for details.
*/
function(e){"use strict";function t(e,t){return t*Math.floor(e/t)}function i(e,t,i,s,a,n){function o(e,t){var i=e.split(" ");if(i.length>1){var r=i[i.length-1];return i.splice(i.length-1,1),i.join(" ")+t+" "+r}return e+t}function l(){return window.NIEmbeddedBrowser&&window.NIEmbeddedBrowser.formatLanguage?window.NIEmbeddedBrowser.formatLanguage:navigator.locale||"en-US"}function h(e,t){var i=621355968e5,s=-864e13,a=e.valueOf(),n=Math.floor(a%1e3);0>n&&(n=1e3+n),s+i>e&&(e=s+i);var h=r(new Date(e-i)).date,d=t?"."+u(n,"0",3):"",c=Globalize.format(h,"T",l()),p=o(c,d)+"<br>"+Globalize.format(h,"d",l());return p=p.replace(/\s/g,"&nbsp;")}function d(e,t){var i="",r=e.valueOf(),s=r-(void 0===n.valueOfFirstData?0:n.valueOfFirstData);0>s&&(s=-s,i+="-");var a=Math.floor(s/1e3),o=Math.floor(s%1e3),l=a%60,h=Math.floor(a/60),d=h%60,p=Math.floor(h/60),f=p%24,m=Math.floor(p/24);return m&&(i+=m+"."),i+=c(f)+":",i+=c(d)+":",i+=c(l),t&&(i+="."+u(o,"0",3)),i}if("function"==typeof e.strftime)return e.strftime(t);var c=function(e,t){return e=""+e,t=t?""+t:"0",1===e.length?t+e:e},u=function(e,t,i){for(e=""+e,t=t?""+t:"0";e.length<i;)e=t+e;return e},p=[],f=!1;i||(i=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]),s||(s=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"]);for(var m=0;m<t.length;++m){var g=t.charAt(m);if(f){switch(g){case"r":g=d(e.date,a);break;case"A":g=h(e.date,a)}p.push(g),f=!1}else"%"===g?f=!0:p.push(g)}return p.join("")}function r(e){function t(e,t,i,r){e[t]=function(){return i[r].apply(i,arguments)}}var i={date:e};void 0!==e.strftime&&t(i,"strftime",e,"strftime"),t(i,"getTime",e,"getTime"),t(i,"setTime",e,"setTime");for(var r=["Date","Day","FullYear","Hours","Milliseconds","Minutes","Month","Seconds"],s=0;s<r.length;s++)t(i,"get"+r[s],e,"getUTC"+r[s]),t(i,"set"+r[s],e,"setUTC"+r[s]);return i}function s(e,t){var i=864e13;if(e*=1e3,e>i?e=i:-i>e&&(e=-i),"browser"===t.timezone)return new Date(e);if(t.timezone&&"utc"!==t.timezone){if("undefined"!=typeof timezoneJS&&"undefined"!=typeof timezoneJS.Date){var s=new timezoneJS.Date;return s.setTimezone(t.timezone),s.setTime(e),s}return r(new Date(e))}return r(new Date(e))}function a(e,t){var i=e.getData();if(i.length>0&&(i[0].data.length>0||i[0].datapoints.points.length>0)){var r,s,a,n=i[0].datapoints;for(a=0!==n.points.length?i[0].xaxis===t||i[0].yaxis===t?"x"===t.direction?n.points[0]:n.points[1]:t.max:t.min,r=1;r<i.length;r++)n=i[r].datapoints,i[r].xaxis!==t&&i[r].yaxis!==t||(s="x"===t.direction?n.points[0]:n.points[1],a>s&&(a=s));t.valueOfFirstData=1e3*a}}function n(r){r.hooks.processOptions.push(function(r){e.each(r.getAxes(),function(e,n){var o=n.options;"time"===o.format&&(n.tickGenerator=function(e){var i=[],n=s(e.min,o),h=0;void 0===e.valueOfFirstData&&a(r,e);var u=o.tickSize&&"quarter"===o.tickSize[1]||o.minTickSize&&"quarter"===o.minTickSize[1]?c:d;null!==o.minTickSize&&void 0!==o.minTickSize&&(h="number"==typeof o.tickSize?o.tickSize:o.minTickSize[0]*l[o.minTickSize[1]]);for(var p=2*e.delta,f=0;f<u.length-1&&!(p<(u[f][0]*l[u[f][1]]+u[f+1][0]*l[u[f+1][1]])/2&&u[f][0]*l[u[f][1]]>=h);++f);var m=u[f][0],g=u[f][1];if("year"===g){if(null!==o.minTickSize&&void 0!==o.minTickSize&&"year"===o.minTickSize[1])m=Math.floor(o.minTickSize[0]);else{var v=Math.pow(10,Math.floor(Math.log(e.delta/l.year)/Math.LN10)),x=e.delta/l.year/v;m=1.5>x?1:3>x?2:7.5>x?5:10,m*=v}1>m&&(m=1)}e.tickSize=o.tickSize||[m,g];var b=e.tickSize[0];g=e.tickSize[1];var w=b*l[g];"millisecond"===g?n.setMilliseconds(t(n.getMilliseconds(),b)):"second"===g?n.setSeconds(t(n.getSeconds(),b)):"minute"===g?n.setMinutes(t(n.getMinutes(),b)):"hour"===g?n.setHours(t(n.getHours(),b)):"month"===g?n.setMonth(t(n.getMonth(),b)):"quarter"===g?n.setMonth(3*t(n.getMonth()/3,b)):"year"===g&&n.setFullYear(t(n.getFullYear(),b)),w>=l.second&&n.setMilliseconds(0),w>=l.minute&&n.setSeconds(0),w>=l.hour&&n.setMinutes(0),w>=l.day&&n.setHours(0),w>=4*l.day&&n.setDate(1),w>=2*l.month&&n.setMonth(t(n.getMonth(),3)),w>=2*l.quarter&&n.setMonth(t(n.getMonth(),6)),w>=l.year&&n.setMonth(0);var y,_,j=0,q=Number.NaN;do if(_=q,y=n.getTime(),q=y/1e3,i.push(q),"month"===g||"quarter"===g)if(1>b){n.setDate(1);var T=n.getTime();n.setMonth(n.getMonth()+("quarter"===g?3:1));var S=n.getTime();n.setTime(q+j*l.hour+(S-T)*b),j=n.getHours(),n.setHours(0)}else n.setMonth(n.getMonth()+b*("quarter"===g?3:1));else"year"===g?n.setFullYear(n.getFullYear()+b):n.setTime(1e3*(q+w));while(q<e.max&&q!==_);return i},n.tickFormatter=function(e,t){var r=s(e,t.options);return null!==o.timeformat&&void 0!==o.timeformat?i(r,o.timeformat,o.monthNames,o.dayNames,"millisecond"===t.tickSize[1],t):void 0})})})}var o={xaxis:{timezone:null,timeformat:null,twelveHourClock:!1,monthNames:null}},l={millisecond:.001,second:1,minute:60,hour:3600,day:86400,month:2592e3,quarter:7776e3,year:525949.2*60},h=[[1,"millisecond"],[2,"millisecond"],[5,"millisecond"],[10,"millisecond"],[25,"millisecond"],[50,"millisecond"],[100,"millisecond"],[250,"millisecond"],[500,"millisecond"],[1,"second"],[2,"second"],[5,"second"],[10,"second"],[30,"second"],[1,"minute"],[2,"minute"],[5,"minute"],[10,"minute"],[30,"minute"],[1,"hour"],[2,"hour"],[4,"hour"],[8,"hour"],[12,"hour"],[1,"day"],[2,"day"],[3,"day"],[.25,"month"],[.5,"month"],[1,"month"],[2,"month"]],d=h.concat([[3,"month"],[6,"month"],[1,"year"]]),c=h.concat([[1,"quarter"],[2,"quarter"],[1,"year"]]);e.plot.plugins.push({init:n,options:o,name:"time",version:"1.0"}),e.plot.formatDate=i,e.plot.dateGenerator=s}(jQuery),/* Flot plugin that adds some extra symbols for plotting points.

Copyright (c) 2007-2014 IOLA and Ole Laursen.
Licensed under the MIT license.

The symbols are accessed as strings through the standard symbol options:

    series: {
        points: {
            symbol: "square" // or "diamond", "triangle", "cross", "plus", "ellipse", "rectangle"
        }
    }

*/
function(e){function t(e){e.drawSymbol=h}var i=function(e,t,i,r,s){var a=r*Math.sqrt(Math.PI)/2;e.rect(t-a,i-a,a+a,a+a)},r=function(e,t,i,r,s){var a=r*Math.sqrt(Math.PI)/2;e.rect(t-a,i-a,a+a,a+a)},s=function(e,t,i,r,s){var a=r*Math.sqrt(Math.PI/2);e.moveTo(t-a,i),e.lineTo(t,i-a),e.lineTo(t+a,i),e.lineTo(t,i+a),e.lineTo(t-a,i),e.lineTo(t,i-a)},a=function(e,t,i,r,s){var a=r*Math.sqrt(2*Math.PI/Math.sin(Math.PI/3)),n=a*Math.sin(Math.PI/3);e.moveTo(t-a/2,i+n/2),e.lineTo(t+a/2,i+n/2),s||(e.lineTo(t,i-n/2),e.lineTo(t-a/2,i+n/2),e.lineTo(t+a/2,i+n/2))},n=function(e,t,i,r,s){var a=r*Math.sqrt(Math.PI)/2;e.moveTo(t-a,i-a),e.lineTo(t+a,i+a),e.moveTo(t-a,i+a),e.lineTo(t+a,i-a)},o=function(e,t,i,r,s,a){s||(e.moveTo(t+r,i),e.arc(t,i,r,0,2*Math.PI,!1))},l=function(e,t,i,r,s){var a=r*Math.sqrt(Math.PI/2);e.moveTo(t-a,i),e.lineTo(t+a,i),e.moveTo(t,i+a),e.lineTo(t,i-a)},h={square:i,rectangle:r,diamond:s,triangle:a,cross:n,ellipse:o,plus:l};i.fill=!0,r.fill=!0,s.fill=!0,a.fill=!0,o.fill=!0,e.plot.plugins.push({init:t,name:"symbols",version:"1.0"})}(jQuery),function(e){function t(){if(!(this instanceof t))return arguments.length>1||"number"!=typeof arguments[0]?t.apply(new t(arguments.length),arguments):new t(arguments[0]);if(0===arguments.length)throw new Error("Missing Argument: You must pass a valid buffer length");return this.size=this.start=0,this.overflow=null,arguments.length>1||"number"!=typeof arguments[0]?(this.data=new Array(arguments.length),this.end=(this.length=arguments.length)-1,this.push.apply(this,arguments)):(this.data=new Array(arguments[0]),this.end=(this.length=arguments[0])-1),this}function i(e,t){return e==t?0:e>t?1:-1}t.prototype={constructor:t,pop:function(){var e;if(0!==this.size)return e=this.data[this.end],delete this.data[this.end],this.end=(this.end-1+this.length)%this.length,this.size--,e},push:function(e){return this.data[(this.end+1)%this.length]=e,this.size<this.length&&this.size++,this.end=(this.end+1)%this.length,this.start=(this.length+this.end-this.size+1)%this.length,this.size},reverse:function(){for(var e,t=0;t<~~(this.size/2);t++)e=this.data[(this.start+t)%this.length],this.data[(this.start+t)%this.length]=this.data[(this.start+(this.size-t-1))%this.length],this.data[(this.start+(this.size-t-1))%this.length]=e;return this},rotateLeft:function(e){if("undefined"==typeof e&&(e=1),"number"!=typeof e)throw new Error("Argument must be a number");for(;--e>=0;)this.push(this.shift());return this},rotateRight:function(e){if("undefined"==typeof e&&(e=1),"number"!=typeof e)throw new Error("Argument must be a number");for(;--e>=0;)this.unshift(this.pop());return this},shift:function(){var e;if(0!==this.size)return e=this.data[this.start],this.start=(this.start+1)%this.length,this.size--,e},sort:function(e){return this.data.sort(e||i),this.start=0,this.end=this.size-1,this},unshift:function(){var e=0;if(this.overflow&&this.size+arguments.length>this.length)for(;e<this.size+arguments.length-this.length;e++)this.overflow(this.data[this.end-e%this.length],this);for(e=0;e<arguments.length;e++)this.data[(this.length+this.start-e%this.length-1)%this.length]=arguments[e];return this.length-this.size-e<0&&(this.end+=this.length-this.size-e,this.end<0&&(this.end=this.length+this.end%this.length)),this.size<this.length&&(this.size+e>this.length?this.size=this.length:this.size+=e),this.start-=arguments.length,this.start<0&&(this.start=this.length+this.start%this.length),this.size},indexOf:function(e,t){for(t||(t=0);t<this.size;t++)if(this.data[(this.start+t)%this.length]===e)return t;return-1},lastIndexOf:function(e,t){for(t||(t=this.size-1);t>=0;t--)if(this.data[(this.start+t)%this.length]===e)return t;return-1},sortedIndex:function(e,t,r){t=t||i;var s=this.start,a=this.size-1;for(s&&t.call(r,e,this.data[a])>0&&(s=0,a=this.end);a>s;){var n=s+a>>>1;t.call(r,e,this.data[n])>0?s=n+1:a=n}return((s-this.start)%this.size+this.size)%this.size},every:function(e,t){for(var i=0;i<this.size;i++)if(!e.call(t,this.data[(this.start+i)%this.length],i,this))return!1;return!0},forEach:function(e,t){for(var i=0;i<this.size;i++)e.call(t,this.data[(this.start+i)%this.length],i,this)},some:function(e,t){for(var i=0;i<this.size;i++)if(e.call(t,this.data[(this.start+i)%this.length],i,this))return!0;return!1},avg:function(){return 0==this.size?0:this.sum()/this.size},sum:function(){for(var e=this.size,t=0;e--;)t+=this.data[e];return t},median:function(){if(0===this.size)return 0;var e=this.slice().sort(i),t=Math.floor(e.length/2);return e.length%2?e[t]:(e[t-1]+e[t])/2},empty:function(){return this.size=this.start=0,this.end=this.length-1,this},fill:function(e){var t=0;if("function"==typeof e)for(;this.data[t]=e(),++t<this.length;);else for(;this.data[t]=e,++t<this.length;);return this.start=0,this.end=this.length-1,this.size=this.length,this},first:function(){return this.data[this.start]},last:function(){return this.data[this.end]},get:function(e){return this.data[(this.start+e)%this.length]},isFull:function(e){return this.length===this.size},set:function(e,t){return this.data[(this.start+e)%this.length]=t},toArray:function(){return this.slice()},slice:function(e,t){var i=this.size;if(e=+e||0,0>e){if(e>=t)return[];e=-e>i?0:i+e}null==t||t>i?t=i:0>t?t+=i:t=+t||0,i=t>e?t-e:0;for(var r=Array(i),s=0;i>s;s++)r[s]=this.data[(this.start+e+s)%this.length];return r}},"object"==typeof module&&module.exports?module.exports=t:e.CBuffer=t}(this),/* Segment tree data structure for fast min/max queries

Copyright (c) 2007-2015 National Instruments
Licensed under the MIT license.
*/
function(e){"use strict";function t(e,t,i){t<i.min&&(i.min=t,i.minIndex=e),t>i.max&&(i.max=t,i.maxIndex=e)}function i(e,t){e.min<t.min&&(t.min=e.min,t.minIndex=e.minIndex),e.max>t.max&&(t.max=e.max,t.maxIndex=e.maxIndex)}function r(e,t){return t*Math.floor(e/t)}var s=function(){this.init()},a=function(e,t){this.historyBuffer=e,this.cbuffer=t,this.tree=this.buildEmptySegmentTree()};s.prototype.init=function(){this.maxIndex=0,this.minIndex=0,this.max=Math.Nan,this.min=Math.Nan};var n=function(e,t){this.level=t,this.step=Math.pow(e.branchFactor,t),this.capacity=Math.ceil(e.capacity/Math.pow(e.branchFactor,t))+1,this.startIndex=0,this.nodes=new CBuffer(this.capacity)};n.prototype.rotate=function(){this.startIndex+=this.step;var e=this.nodes.shift();e.init(),this.nodes.push(e)},n.prototype.init=function(e){this.startIndex=e,this.nodes.forEach(function(e){e.init()})},a.prototype.get=function(e){return e-=this.historyBuffer.startIndex(),this.cbuffer.get(e)},a.prototype.getTreeNode=function(e,t){var i=this.tree.levels[e],r=i.step,s=Math.floor((t-i.startIndex)/r);if(0>s||s>=i.capacity)return null;var a=i.nodes.get(s);return a},a.prototype.buildEmptySegmentTree=function(){var e=this.historyBuffer,t=Math.ceil(Math.log(e.capacity)/Math.log(e.branchFactor))-1;1>t&&(t=1);for(var i={depth:t,levels:[]},r=0;t>r;r++){var a=new n(e,r+1);i.levels.push(a);for(var o=0;o<a.capacity;o++){var l=new s;a.nodes.push(l)}}return i},a.prototype.populateTreeLevel=function(e,t){var i,s,a,n,o,l=this.historyBuffer,h=this.cbuffer,d=l.startIndex(),c=l.lastIndex(),u=0,p=0,f=!0,m={step:1,startIndex:d},g=0===t?m:this.tree.levels[t-1],v=this.tree.levels[t];for(e=r(e,v.step),g.startIndex>e&&(e=g.startIndex,u=e/g.step%l.branchFactor),p=e;c>p;p+=g.step){if(0===t){var x=h.get(p-d);f?(s=x,a=p,n=x,o=p,f=!1):(x>s&&(s=x,a=p),n>x&&(n=x,o=p))}else{var b=this.getTreeNode(t-1,p);f?(s=b.max,a=b.maxIndex,n=b.min,o=b.minIndex,f=!1):(b.max>s&&(s=b.max,a=b.maxIndex),b.min<n&&(n=b.min,o=b.minIndex))}u++,u===l.branchFactor&&(u=0,f=!0,i=this.getTreeNode(t,p),i.max=s,i.maxIndex=a,i.min=n,i.minIndex=o)}0!==u&&(i=this.getTreeNode(t,p),i.max=s,i.maxIndex=a,i.min=n,i.minIndex=o)},a.prototype.rotateTreeLevel=function(e){var s=this.historyBuffer,a=s.startIndex(),n=this.tree.levels[e],o=r(a,n.step);if(o-n.startIndex>s.capacity)n.init(o);else for(;n.startIndex<o;)n.rotate();if(a!==o){var l,h={minIndex:a,min:this.get(a),maxIndex:a,max:this.get(a)},d=n.nodes.get(0);if(0===e)for(l=a;l<o+s.branchFactor;l++)t(l,this.get(l),h);else for(l=a;l<o+n.step;l+=n.step/s.branchFactor)i(this.getTreeNode(e-1,l),h);d.minIndex=h.minIndex,d.min=h.min,d.maxIndex=h.maxIndex,d.max=h.max}},a.prototype.updateSegmentTree=function(){var e;for(e=0;e<this.tree.depth;e++)this.rotateTreeLevel(e);for(e=0;e<this.tree.depth;e++)this.populateTreeLevel(this.historyBuffer.lastUpdatedIndex,e)},a.prototype.readMinMax=function(e,s,a){var n,o=s-e,l=this.historyBuffer,h=l.startIndex(),d=this.cbuffer,c=Math.floor(Math.log(o)/Math.log(l.branchFactor));if(0>=c){for(n=e;s>n;n++)t(n,d.get(n-h),a);return a}c>this.tree.levels.length&&(c=this.tree.levels.length);var u=Math.pow(l.branchFactor,c),p=Math.ceil(e/u)*u,f=r(s,u);e!==p&&this.readMinMax(e,p,a);var m=r(h,u),g=(p-m)/u,v=(f-m)/u;for(n=g;v>n;n++)i(this.tree.levels[c-1].nodes.get(n),a);return s!==f&&this.readMinMax(f,s,a),a},a.prototype.query=function(e,t,i){var r,a=this.historyBuffer;e=Math.floor(e),t=Math.ceil(t);var n=[],o=a.startIndex(),l=a.lastIndex();if(o>e&&(e=o),e>l&&(e=l),o>t&&(t=o-1),t>l-1&&(t=l-1),4>i)for(r=e;t>=r;r++)n.push(r),n.push(this.get(r));else{var h,d,c=new s;for(r=e;t>=r;r=Math.round(r+i)){var u=Math.min(t+1,Math.round(r+i));c.max=Number.NEGATIVE_INFINITY,c.min=Number.POSITIVE_INFINITY,c.minIndex=0,c.maxIndex=0,c=this.readMinMax(r,u,c),h=c.maxIndex,d=c.minIndex,d===h?(n.push(d),n.push(c.min)):h>d?(n.push(d),n.push(c.min),n.push(h),n.push(c.max)):(n.push(h),n.push(c.max),n.push(d),n.push(c.min))}}return n},"object"==typeof module&&module.exports?module.exports=a:e.SegmentTree=a}(this),/* history buffer data structure for charting.

Copyright (c) 2007-2015 National Instruments
Licensed under the MIT license.
*/
function(e){"use strict";var t=32,i=function(e,i){this.capacity=e||1024,this.width=i||1,this.lastUpdatedIndex=0,this.firstUpdatedIndex=0,this.branchFactor=t,this.buffers=[],this.trees=[];for(var r=0;r<this.width;r++)this.buffers.push(new CBuffer(e)),this.trees.push(new SegmentTree(this,this.buffers[r]));this.buffer=this.buffers[0],this.tree=this.trees[0],this.count=0,this.callOnChange=void 0,this.changed=!1};i.prototype.setBranchingFactor=function(e){this.branchFactor=e,this.rebuildSegmentTrees()},i.prototype.getDefaultBranchingFactor=function(){return t},i.prototype.rebuildSegmentTrees=function(){this.trees=[];for(var e=0;e<this.width;e++)this.trees.push(new SegmentTree(this,this.buffers[e]));this.tree=this.trees[0],this.firstUpdatedIndex=this.startIndex(),this.lastUpdatedIndex=this.firstUpdatedIndex,this.updateSegmentTrees()},i.prototype.clear=function(){for(var e=0;e<this.width;e++)this.buffers[e].empty();this.count=0,this.rebuildSegmentTrees(),this.changed=!0,this.callOnChange&&this.callOnChange()},i.prototype.setCapacity=function(e){if(e!==this.capacity){this.capacity=e,this.buffers=[];for(var t=0;t<this.width;t++)this.buffers.push(new CBuffer(e));this.buffer=this.buffers[0],this.count=0,this.rebuildSegmentTrees(),this.changed=!0,this.callOnChange&&this.callOnChange()}},i.prototype.setWidth=function(e){if(e!==this.width){this.width=e,this.buffers=[];for(var t=0;t<this.width;t++)this.buffers.push(new CBuffer(this.capacity));this.buffer=this.buffers[0],this.count=0,this.rebuildSegmentTrees(),this.changed=!0,this.callOnChange&&this.callOnChange()}},i.prototype.pushNoStatsUpdate=function(e){if("number"==typeof e&&1===this.width)this.buffer.push(e);else if(Array.isArray(e)&&e.length===this.width)for(var t=0;t<this.width;t++)this.buffers[t].push(e[t])},i.prototype.push=function(e){this.pushNoStatsUpdate(e),this.count++,this.changed=!0,this.callOnChange&&this.callOnChange()},i.prototype.startIndex=function(){return Math.max(0,this.count-this.capacity)},i.prototype.lastIndex=function(){return this.startIndex()+this.buffer.size},i.prototype.get=function(e){if(e-=this.startIndex(),1===this.width)return this.buffer.get(e);for(var t=[],i=0;i<this.width;i++)t.push(this.buffers[i].get(e));return t},i.prototype.appendArray=function(e){for(var t=0;t<e.length;t++)this.pushNoStatsUpdate(e[t]);this.count+=e.length,this.changed=!0,this.callOnChange&&this.callOnChange()},i.prototype.toArray=function(){if(1===this.width)return this.buffer.toArray();for(var e=this.startIndex(),t=this.lastIndex(),i=[],r=e;t>r;r++)i.push(this.get(r));return i},i.prototype.updateSegmentTrees=function(){var e=this.buffer;this.trees.forEach(function(e){e.updateSegmentTree()}),this.firstUpdatedIndex=this.startIndex(),this.lastUpdatedIndex=this.firstUpdatedIndex+e.size},i.prototype.toDataSeries=function(e){for(var t=this.buffer,i=[],r=this.startIndex(),s=0;s<t.size;s++)i.push([s+r,this.buffers[e||0].get(s)]);return i},i.prototype.onChange=function(e){this.callOnChange=e},i.prototype.query=function(e,t,i,r){return void 0===r&&(r=0),this.changed&&(this.updateSegmentTrees(),this.changed=!1),this.trees[r].query(e,t,i)},i.prototype.rangeX=function(e){var t=this.startIndex(),i=this.lastIndex()-1;return i===t-1?{}:{xmin:t,xmax:i,deltamin:1}},i.prototype.rangeY=function(e,t,i){null!==e&&void 0!==e||(e=this.startIndex()),null!==t&&void 0!==t||(t=this.lastIndex()-1),null!==i&&void 0!==i||(i=0),this.changed&&(this.updateSegmentTrees(),this.changed=!1);var r=this.query(e,t,t-e,i),s=r.length;if(s>0){for(var a={ymin:1/0,ymax:-(1/0)},n=0;s>n;n+=2)null==r[n+1]||r[n+1]===1/0||r[n+1]===-(1/0)||isNaN(r[n+1])||(a.ymin=Math.min(a.ymin,r[n+1]),a.ymax=Math.max(a.ymax,r[n+1]));return a}return{}},i.prototype.toJSON=function(){var e={data:[],width:this.width,capacity:this.capacity,valueType:"HistoryBuffer",startIndex:this.startIndex(),count:this.count};if(1===this.width)e.data=this.buffer.toArray();else for(var t=0;t<this.width;t++)e.data.push(this.buffers[t].toArray());return e},"object"==typeof module&&module.exports?module.exports=i:e.HistoryBufferNumeric=i}(this),/* history buffer data structure for charting.

Copyright (c) 2007-2015 National Instruments
Licensed under the MIT license.
*/
function(e){"use strict";function t(e,t,i){if(0===e.Y.length)return!1;var r=new NITimestamp(e.t0),s=r.toAbsoluteTime(),a=r.toAbsoluteTime()+e.Y.length*e.dt;return t>s&&t>a?!1:!(s>i&&a>i)}function i(e,t,i,r){for(var s,a=e.Y,n=e.t0,o=new NITimestamp(n),l=0;l<a.length;l++)s=o.toAbsoluteTime(),s>=t-e.dt&&s<=i+e.dt&&(r.push(s),r.push(a[l])),o.add(e.dt)}function r(e,t){for(var i,r=e.Y,s=e.t0,a=new NITimestamp(s),n=0;n<r.length;n++)i=a.toAbsoluteTime(),t.push([i,r[n]]),a.add(e.dt)}function s(e,t,i,r){var s,a,n,o=e.Y,l=new NITimestamp(e.t0);if(0!==o.length&&(s=l.toAbsoluteTime(),a=new NITimestamp(l).add(e.dt*e.Y.length).toAbsoluteTime(),!(s>r||i>a)))for(var h=0;h<o.length;h++)n=new NITimestamp(l).add(e.dt*h).toAbsoluteTime(),i>n||n>r||null==o[h]||o[h]===1/0||o[h]===-(1/0)||isNaN(o[h])||(o[h]>t.max&&(t.max=o[h]),o[h]<t.min&&(t.min=o[h]))}var a=function(e,t){this.capacity=e||1024,this.width=t||1,this.buffers=[];for(var i=0;i<this.width;i++)this.buffers.push(new CBuffer(e));this.buffer=this.buffers[0],this.count=0,this.callOnChange=void 0,this.changed=!1};a.prototype.__proto__=HistoryBufferNumeric.prototype,a.prototype.rebuildSegmentTrees=function(){},a.prototype.pushNoStatsUpdate=function(e){if(1===this.width)this.buffer.push(e);else if(Array.isArray(e)&&e.length===this.width)for(var t=0;t<this.width;t++)this.buffers[t].push(e[t])},a.prototype.getTreeNodes=function(e,t,i){},a.prototype.updateSegmentTrees=function(){},a.prototype.query=function(e,r,s,a){void 0===a&&(a=0);var n=[],o=this.buffers[a].toArray();return o.forEach(function(s){t(s,e,r)&&(n.length>0&&(n.push(null),n.push(null)),i(s,e,r,n))}),n},a.prototype.toDataSeries=function(e){void 0===e&&(e=0);var t=[],i=this.buffers[e].toArray();return i.forEach(function(e){t.length>0&&t.push([null,null]),r(e,t)}),t},a.prototype.rangeX=function(e){var t,i,r,s=1/0,a=-(1/0),n=1/0;void 0===e&&(e=0);var o=this.buffers[e].toArray();if(0===o.length)return{};if(o.forEach(function(e){t=new NITimestamp(e.t0),i=t.toAbsoluteTime(),r=new NITimestamp(t).add(e.dt*(e.Y.length-1)).toAbsoluteTime(),s>i&&(s=i),r>a&&(a=r),n>Math.abs(e.dt)&&(n=Math.abs(e.dt))}),0===n&&(n=1),s>a){var l=s;s=a,a=l}return{xmin:s,xmax:a,deltamin:n}},a.prototype.rangeY=function(e,t,i){var r={min:1/0,max:-(1/0)};null!==i&&void 0!==i||(i=0);var a=this.buffers[i].toArray();if(0===a.length)return{};if(null!==e&&void 0!==e||(e=new NITimestamp(a[0].t0).toAbsoluteTime()),null===t||void 0===t){var n=a[a.length-1];t=new NITimestamp(n.t0).add(n.dt*n.Y.length).toAbsoluteTime()}return a.forEach(function(i){s(i,r,e,t)}),{ymin:r.min,ymax:r.max}},a.prototype.toJSON=function(){var e={data:this.toArray(),width:this.width,capacity:this.capacity,valueType:"HistoryBuffer",startIndex:this.startIndex(),count:this.count};return e},"object"==typeof module&&module.exports?module.exports=a:e.HistoryBufferWaveform=a}(this),/* history buffer data structure for charting, supporting numeric and waveform data

Copyright (c) 2007-2015 National Instruments
Licensed under the MIT license.
*/
function(e){"use strict";var t=function(e,t){this.hb=new HistoryBufferNumeric(e,t),this.hbType="numeric"};t.prototype.setType=function(e){if(e!==this.hbType){if("numeric"===e){var t=this.hb.callOnChange;this.hb.onChange(),this.hb=new HistoryBufferNumeric(this.capacity,this.width),this.hb.onChange(t),this.hbType="numeric",t&&t()}if("analogWaveform"===e){var t=this.hb.callOnChange;this.hb.onChange(),this.hb=new HistoryBufferWaveform(this.capacity,this.width),this.hb.onChange(t),this.hbType="analogWaveform",t&&t()}}},t.prototype.clear=function(){this.hb.clear()},t.prototype.setCapacity=function(e){this.hb.setCapacity(e)},t.prototype.setWidth=function(e){this.hb.setWidth(e)},t.prototype.push=function(e){this.hb.push(e)},t.prototype.startIndex=function(){return this.hb.startIndex()},t.prototype.lastIndex=function(){return this.hb.lastIndex()},t.prototype.get=function(e){return this.hb.get(e)},t.prototype.appendArray=function(e){this.hb.appendArray(e)},t.prototype.toArray=function(){return this.hb.toArray()},t.prototype.toDataSeries=function(e){return this.hb.toDataSeries(e)},t.prototype.onChange=function(e){this.hb.onChange(e)},t.prototype.query=function(e,t,i,r){return this.hb.query(e,t,i,r)},t.prototype.rangeX=function(e){return this.hb.rangeX(e)},t.prototype.rangeY=function(e,t,i){return this.hb.rangeY(e,t,i)},t.prototype.toJSON=function(){return this.hb.toJSON()},Object.defineProperty(t.prototype,"width",{get:function(){return this.hb.width}}),Object.defineProperty(t.prototype,"count",{get:function(){return this.hb.count},set:function(e){this.hb.count=e}}),Object.defineProperty(t.prototype,"capacity",{get:function(){return this.hb.capacity}}),"object"==typeof module&&module.exports?module.exports=t:e.HistoryBuffer=t}(this),/* Flot plugin that makes charting easier and more efficient.

Copyright (c) 2007-2015 National Instruments
Licensed under the MIT license.
*/
function(e){"use strict";function t(e,t,s,a){var n;if(t.historyBuffer){var o=t.historyBuffer;n=o.indexMap;var l,h=e.getData().indexOf(t);h<o.width?(l=i(o,h),t.index=h):l=[];for(var d=a.points,c=0;c<l.length;c+=2)d[c]=n?n[l[c]]:l[c],d[c+1]=l[c+1];d.length=l.length,a.pointsize=2,t.decimate=r,t.decimatePoints=r}}function i(e,t){var i=e.rangeX(t),r=[];return void 0===i.xmin||void 0===i.xmax||void 0===i.deltamin?[]:(r[0]=i.xmin,r[2]=i.xmax,r[4]=i.xmax-i.deltamin,r[1]=0,r[3]=1,r[5]=2,r)}function r(e,t,i,r){var s,a=e.historyBuffer,n=i-t,o=a.indexMap,l=e.datapoints,h=Math.floor(n/r),d=e.index;if(d<a.width)var s=e.historyBuffer.query(t,i,h,d);else s=[];for(var c=l.points,u=0;u<s.length;u+=2)c[u]=o?o[s[u]]:s[u],c[u+1]=s[u+1];return c.length=s.length,l.pointsize=2,c}function s(e,t){for(var i=e.getData(),r=0;r<t.width;r++)"object"==typeof i[r]?(i[r].data=[],i[r].datapoints=void 0):i[r]={data:[]};e.setData(i)}function a(e,t){if("y"===t.direction&&"none"!==t.options.autoscale){var i,r,s,a,n,o=e.getData(),l=o.filter(function(e){return e.yaxis===t}),h=l.length;for(i=0;h>i;i++)n=l[i].index,r=l[i].xaxis.min?l[i].xaxis.min:l[i].xaxis.options.min,s=l[i].xaxis.max?l[i].xaxis.max:l[i].xaxis.options.max,i<l[i].historyBuffer.width&&(a=l[i].historyBuffer.rangeY(r,s,n),0===i?(t.datamin=a.ymin,t.datamax=a.ymax):(t.datamin=Math.min(t.datamin,a.ymin),t.datamax=Math.max(t.datamax,a.ymax)))}}function n(e){e.setupGrid(),e.draw()}function o(e){function i(e,t){e.dataUpdateTriggered||(e.dataUpdateTriggered=requestAnimationFrame(function(){r||(s(e,t),n(e)),e.dataUpdateTriggered=null}))}var r=!1;e.hooks.processOptions.push(function(e){var n=e.getOptions().series.historyBuffer;n&&(e.hooks.processRawData.push(t),n.onChange(function(){i(e,n)}),s(e,n),e.hooks.setRange.push(a),e.hooks.shutdown.push(function(){r=!0}))})}e.plot.plugins.push({init:o,name:"charting",version:"0.3"})}(jQuery),/* * The MIT License
Copyright (c) 2010, 2011, 2012, 2013 by Juergen Marsch
Copyright (c) 2015 by Andrew Dove & Ciprian Ceteras
Permission is hereby granted, free of charge, to any person obtaining a copy
of this software and associated documentation files (the 'Software'), to deal
in the Software without restriction, including without limitation the rights
to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
copies of the Software, and to permit persons to whom the Software is
furnished to do so, subject to the following conditions:
The above copyright notice and this permission notice shall be included in
all copies or substantial portions of the Software.
THE SOFTWARE IS PROVIDED 'AS IS', WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
THE SOFTWARE.
*/
function(e,t){function i(e){return e.options.type===r.ColorscaleType}function r(){function e(e,t,i,r){var s=e.getOptions();s.series.intensitygraph.show===!0&&i[0].length>0&&(r.pointsize=2,r.points.length=0,r.points.push(0,0),r.points.push(i.length||0,i[0]?i[0].length:0))}this.pluginName="intensitygraph",this.pluginVersion="0.2",this.defaultOptions={series:{intensitygraph:{data:[],show:!1,lowColor:"rgba(0,0,0,1)",highColor:"rgba(255,255,255,1)",min:0,max:1}}};var s=[{value:0,color:"#3182bd"},{value:.5,color:"#9ecae1"},{value:1,color:"#deebf7"}],a={centerX:20,centerY:0};this.init=function(n){function o(t,i){if(i.series.intensitygraph.show){i.series.intensitygraph.gradient||(i.series.intensitygraph.gradient=s);var n=t.getYAxes(),o=n.filter(function(e){return r.prototype.isColorScale(e)})[0];!o||o.boxPosition&&0!==o.boxPosition.centerX||(o.boxPosition=a),t.hooks.drawSeries.push(h),t.hooks.processRawData.push(e),p=i,i.series.intensitygraph.palette=l(i)}}function l(e){var i,r,s=document.createElement("canvas");s.width="1",s.height="256";var a,n=s.getContext("2d"),o=n.createLinearGradient(0,0,0,256),l=e.series.intensitygraph.gradient,h=l[0].value,d=l[l.length-1].value;if(d===h)o.addColorStop(0,l[0].color),o.addColorStop(1,l[0].color);else for(i=0;i<l.length;i++)r=l[i].value,a=(r-h)/(d-h),a>=0&&1>=a&&o.addColorStop(a,l[i].color);n.fillStyle=o,n.fillRect(0,0,1,256);var c=[],u=n.getImageData(0,0,1,256).data;for(i=0;i<u.length;i++)c[i]=u[i];var p=e.series.intensitygraph.lowColor,f=e.series.intensitygraph.highColor,m=t.color.parse(p),g=t.color.parse(f);return c.push(0|m.r),c.push(0|m.g),c.push(0|m.b),c.push(255*m.a|0),c.push(0|g.r),c.push(0|g.g),c.push(0|g.b),c.push(255*g.a|0),c}function h(e,t,s){function a(e,t,i){var s=10,a=i&&i.show?i.box.left+s:x.left+e.width()+20,n=p.series.intensitygraph.gradient,o=p.series.intensitygraph.lowColor,l=p.series.intensitygraph.highColor;i&&i.show&&r.prototype.drawLegend(t,a,x.top,s,e.height(),n,o,l)}function n(e,t){var i=Math.max(e.xaxis.min,0),r=Math.min(e.data.length,e.xaxis.max),s=Math.max(e.yaxis.min,0),a=Math.min(e.data[0].length,e.yaxis.max),n=e.xaxis.p2c(i),o=e.xaxis.p2c(r),h=e.yaxis.p2c(s),d=e.yaxis.p2c(a),c=Math.floor(n*b),u=Math.floor(o*b),p=Math.floor(d*b),f=Math.floor(h*b),g=u-c,v=f-p;if(g>0&&v>0){var w=m(t,g,v);l(w,n,o,h,d,g,v,e.xaxis.c2p,e.yaxis.c2p,e.intensitygraph.palette,e.data,_,j,b),t.putImageData(w,Math.ceil((n+x.left)*b),Math.ceil((d+x.top)*b))}}function o(t,i){var s,a,n=0|Math.floor(Math.max(t.xaxis.min,0)),o=0|Math.ceil(Math.min(t.data.length,t.xaxis.max)),l=0|Math.floor(Math.max(t.yaxis.min,0)),d=0|Math.ceil(Math.min(t.data[0].length,t.yaxis.max)),u=t.xaxis.p2c(n),p=t.xaxis.p2c(o),v=t.yaxis.p2c(l),w=t.yaxis.p2c(d),y=Math.abs((o-n)/(p-u))/b,q=Math.abs((d-l)/(w-v))/b,T=y>1&&q>1;e.getYAxes().filter(function(e){return r.prototype.isColorScale(e)})[0];if(T){var S=Math.floor(u*b),C=Math.floor(p*b),I=Math.floor(w*b),k=Math.floor(v*b);s=C-S,a=k-I,s>0&&a>0&&(imgData=m(i,s,a),h(imgData,n,o,l,d,s,a,y,q,t.intensitygraph.palette,t.data,_,j),i.putImageData(imgData,Math.ceil((u+x.left)*b),Math.ceil((w+x.top)*b)))}else s=o-n,a=d-l,s>0&&a>0&&(imgData=g(s,a),f(imgData,n,o,l,d,s,a,t.intensitygraph.palette,t.data,_,j),c.getContext("2d").putImageData(imgData,0,0),i.imageSmoothingEnabled=!1,i.webkitImageSmoothingEnabled=!1,i.msImageSmoothingEnabled=!1,i.drawImage(c,0,0,s,a,u+x.left,w+x.top,Math.max(p-u,1),Math.max(v-w,1)))}function l(e,t,i,r,s,a,n,o,l,h,d,c,u,p){var f,m,g,v,x,b,w,y,_,j,q,T,S=u-c;for(f=0;a>f;f++)for(g=0|o(t+f/p),m=n-1;m>=0;m--){for(v=0|l(r-m/p),_=d[g][v],w=0|Math.min(o(t+f/p+1),d.length),y=0|Math.min(l(r-m/p-1),d[0].length),x=g;w>x;x++)for(b=v;y>b;b++)j=d[x][b],j>_&&(_=j);for(x=g;w>x;x++)j=d[x][v],j>_&&(_=j);for(b=v;y>b;b++)j=d[g][b],j>_&&(_=j);q=c>_?1024:_>u?1028:4*Math.round(255*(_-c)/S),T=4*(n-m-1)*a+4*f,e.data[T+0]=h[q+0],e.data[T+1]=h[q+1],e.data[T+2]=h[q+2],e.data[T+3]=h[q+3]}}function h(e,t,i,r,s,a,n,o,l,h,d,c,u){var p,f,m,g,v,x,b,w,y,_,j,q,T=u-c;for(p=0;a>p;p++)for(m=t+p*o|0,f=0;n>f;f++){for(g=r+f*l|0,y=d[m][g],b=0|Math.floor(Math.min(m+o,d.length)),w=0|Math.floor(Math.min(g+l,d[0].length)),v=m;b>v;v++)for(x=g;w>x;x++)_=d[v][x],_>y&&(y=_);j=c>y?1024:y>u?1028:4*Math.round(255*(y-c)/T),q=4*(n-f-1)*a+4*p,e.data[q+0]=h[j+0],e.data[q+1]=h[j+1],e.data[q+2]=h[j+2],e.data[q+3]=h[j+3]}}function f(e,t,i,r,s,a,n,o,l,h,d){var c,u,p,f,m,g=d-h;for(c=t;i>c;c++)for(u=r;s>u;u++)p=l[c][u],f=h>p?1024:p>d?1028:4*Math.round(255*(p-h)/g),m=4*(s-u-1)*a+4*(c-t),e.data[m+0]=o[f+0],e.data[m+1]=o[f+1],e.data[m+2]=o[f+2],e.data[m+3]=o[f+3]}function m(e,t,i){return d&&d.width===t&&d.height===i||(d=e.createImageData(t,i)),d}function g(e,t){return c||(c=document.createElement("canvas"),c.className="tempCanvas",c.style.visibility="hidden",u=null),u&&c.width===e&&c.height===t||(c.width=e,c.style.width=e+"px",c.height=t,c.style.height=t+"px",u=c.getContext("2d").createImageData(e,t)),u}function v(e){return!(s.xaxis.options.mode&&"linear"!==s.xaxis.options.mode||s.yaxis.options.mode&&"linear"!==s.yaxis.options.mode)}var x=e.getPlotOffset(),b=e.getSurface().pixelRatio,w=e.getYAxes(),y=w.filter(function(e){return i(e)})[0],_=y&&"none"!==y.options.autoscale?y.min:s.intensitygraph.min,j=y&&"none"!==y.options.autoscale?y.max:s.intensitygraph.max;s.data.length>0&&s.data[0].length>0&&(t.save(),t.beginPath(),t.rect(x.left,x.top,e.width(),e.height()),t.clip(),v(s)?o(s,t):n(s,t),t.restore()),a(e,t,y)}var d,c,u,p=null;n.hooks.processOptions.push(o)}}r.ColorscaleType="colorScale";var s=function(e,t,i,r,s,a,n,o){var l,h,d=7,c=e.createLinearGradient(0,i+s,0,i),u=a[0].value,p=a[a.length-1].value;for(h=0;h<a.length;h++)l=(a[h].value-u)/(p-u),l>=0&&1>=l&&c.addColorStop(l,a[h].color);e.fillStyle=c,e.fillRect(t,i,r,s),e.fillStyle=n,e.fillRect(t,i+s,r,d),e.strokeStyle="#000000",e.lineWidth=1,e.strokeRect(t-.5,i+s+.5,r+1,d),e.fillStyle=o,e.fillRect(t,i-d,r,d),e.strokeStyle="#000000",e.lineWidth=1,e.strokeRect(t-.5,i-d+.5,r+1,d)};r.prototype.drawLegend=s,r.prototype.isColorScale=i;var a=new r;t.plot.plugins.push({init:a.init,options:a.defaultOptions,name:a.pluginName,version:a.pluginVersion}),e.IntensityGraph=r}(this,jQuery),
// National Instruments Copyright 2016
function(){"use strict";NationalInstruments.Globals={},NationalInstruments.Globals.jQuery=$.noConflict(!0)}();
//# sourceMappingURL=niThirdPartyResources.min.js.map