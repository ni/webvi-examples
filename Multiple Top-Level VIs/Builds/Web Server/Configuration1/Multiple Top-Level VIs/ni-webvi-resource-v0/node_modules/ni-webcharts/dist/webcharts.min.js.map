{"version":3,"sources":["niDataPipeline.js","niGraphDataPipeline.js","niChartDataPipeline.js","ni-cartesian-graph-base.js","ni-cartesian-graph.js","ni-chart.js","ni-intensity-graph.js","ni-cartesian-axis.js","ni-color-scale.js","ni-cartesian-plot.js","ni-cartesian-plot-renderer.js","ni-cursor.js"],"names":["NationalInstruments","HtmlVI","DataPipeline","decimateAW","series","start","end","buckets","startIndex","step","endIndex","decimate1D","i","index","iindex","length","data","datapoints","points","res","newBucket","max","Infinity","maxIndex","min","minIndex","Math","floor","nextBucket","ArrayBuffer","isView","isViewToStrings","dataStr","Object","prototype","toString","call","indexOf","GraphDataPipeline","DataTypesEnum","freeze","niAnalogWaveform","niAnalogWaveformArray","XYClusterOfArrays","XYArrayOfClusters","XYArrayOfClusterOfArrays","XYArrayOfArrayOfClusters","oneDimensionNumericArray","twoDimensionsNumericArray","oneDimensionComplexArray","twoDimensionsComplexArray","empty","unknown","graphDataPipeline","ComplexNumber","window","NIComplex","AnalogWaveform","NIAnalogWaveform","proto","toFlot","graph","value","valueType","convertToFlotFormat","isWaveform","Array","isArray","Y","isWaveformArray","isXYClusterOfArrays","keys","every","key","isXYArrayOfClusters","isXYArrayOfClusterOfArrays","isXYArrayOfArrayOfClusters","is1DComplexArray","is2DComplexArray","inferDataType","waveformToFlotFormat","waveform","flatdata","t0","toAbsoluteTime","dt","decimate","xyClusterOfArraysToFlotFormat","xydata","result","count","push","xyArrayOfClustersToFlotFormat","xyArrayOfClusterOfArraysToFlotFormat","xyDataArray","map","xyArrayOfArrayOfClustersToFlotFormat","dataValuesArray2D","j","dataValuesArray","channelName","updatePlotName","parseFromString","NI_SUPPORT","NISupport","ChartDataPipeline","loadValueIntoHistoryBuffer","historyBuffer","appendArray","width","setWidth","col","error","this","chart","Elements","CartesianGraphBase","child","parent","$","Globals","jQuery","inheritFromParent","plotsUpdatesEnabled","graphConfigPending","getSettings","lines","show","lineWidth","shadowSize","axisLabels","xaxes","yaxes","zoom","interactive","trigger","pan","selection","mode","grid","configureGraph","cartesianGraphSettings","plotAreaMargin","margin","JSON","parse","cursors","axes","axis","a","getViewConfig","position","cursor","c","graphTools","allowsScrollWheelZoom","allowsPan","updateGraphConfig","childElement","graphdiv","undefined","cartesianGraphData","createData","plots","parsedValue","setHover","setGridStyle","gridEl","plot","that","getCursors","forEach","cookie","setCursor","log","message","onCursorUpdates","event","cursordata","target","updateCursorElement","throttlePlotUpdates","throttle","updateGraphConfigWhenPlotsUpdatesAreEnabled","name","label","dataSeries","plotConfig","setData","setupGrid","draw","addAllProperties","targetPrototype","addProperty","propertyName","defaultValue","fireEvent","addNonSignalingProperty","isElementValueProperty","createdCallback","plotLegend","cursorLegend","scaleLegend","tooltip","findGraphItems_early","myChildItems","axisItemName","CartesianPlot","elementInfo","tagName","toUpperCase","plotItemName","CartesianAxis","children","forceResize","size","clearTextCache","resize","createGraph","document","createElement","style","height","className","appendChild","id","uniqueId","fakeGrid","visibility","e","bind","pos","item","seriesIndex","x","datapoint","y","hoverFormat","str","format","html","css","top","pageY","offsetTop","left","pageX","offsetLeft","fadeIn","hide","getPlaceholder","attachedCallback","graphChildElements","firstCall","addGraphItemListeners","attachLegends","childElements","addEventListener","evt","detail","element","splice","notifyPlotLegend","notifyScaleLegend","notifyCursorLegend","originalSource","registerPlotLegend","eventConfig","bubbles","cancelable","dispatchEvent","CustomEvent","registerCursorLegend","registerScaleLegend","registerGraphTools","on","ranges","notifyGraphTools","graphElement","legendTags","parentElement","myLegends","graphName","niControlId","legend","attachToGraph","propertyUpdated","args","arguments","replace","match","number","parseInt","toFixed","toExponential","graphData","graphSettings","isHoverable","hoverable","getComputedStyle","borderStyle","borderBottomWidth","borderTopWidth","borderLeftWidth","borderRightWidth","borderWidth","Number","bottom","right","color","borderColor","bgColor","backgroundColor","Visual","CartesianGraph","updateData","defineElementInfo","Chart","global","chartDataPipeline","setHistoryBuffer","getHistoryBuffer","HistoryBuffer","bufferSize","settings","IntensityGraph","ScaleTypeEnum","COLORSCALE","COLORSCALEGRADIENT","SCALETYPE_ENUM","parsedData","dataRange","dataMin","dataMax","sqrt","h","tempMin","tempMax","buf","autoScaleColor","intensitygraph","colorScaleMin","colorScaleMax","colorScaleLabel","colorScaleShow","colorScaleShowTickLabels","colorScaleFont","gradient","defaultData","isColorScale","type","markers","autoscale","range","lowColor","highColor","axisLabel","showTickLabels","font","showMinorTicks","showTicks","gridLines","reserveSpace","labelWidth","labelHeight","disablePan","disableZoom","graphdata","NINumericFormatters","escapeHtmlString","string","entityMap","&","<",">","\"","'","/","`","String","s","isTimeAxis","toFlotTimeFormat","reduceNumberOfDecimals","num","tickDecimals","log10Max","abs","LOG10E","log10Min","orderSizeDif","log10Value","decimals","ceil","siTickFormatter","precision","options","precisionDecimals","toSiNotation","roundUsing","roundFunction","precisionDigits","pow","tempNumber","getDecTickFormatter","len","slice","toDecPrecisionNotation","toDecFixedNotation","chooseTickFormatter","decFormatTypeSubstring","getDefaultAutoScale","scaletype","_parentGraph","nodeName","axisPosition","getWindowSize","windowSize","_defaultMax","_defaultMin","_minimum","_maximum","sendEventToParentGraph","detachedCallback","setFont","fontSize","fontFamily","fontWeight","fontStyle","textDecoration","currStyle","grow","test","autoScale","showLabel","minimum","maximum","growOnly","logScale","timeformat","tickFormatter","offset","_navigationOffset","below","above","parseFloat","weight","family","getFlotAxis","getAxes","filter","scaleOnce","flot","allSeries","getData","xaxis","yaxis","computeRangeForDataSeries","defaultRange","xmin","POSITIVE_INFINITY","ymin","xmax","NEGATIVE_INFINITY","ymax","reduce","p","direction","syncWithFlot","ColorScale","getYAxes","defaultPlotConfig","addPlotItemListeners","plotRenderer","getYAxisIndexByNIControlID","axisRef","getXAxisIndexByNIControlID","enableHover","CartesianPlotRenderer","_parentPlot","sendEventToParentPlot","toFlotLineStyle","toFillTowards","areaBaseLine","getColor","lineStroke","pointColor","areaFill","barFill","fill","zero","fillTowards","dashes","lineStyle","radius","pointSize","symbol","pointShape","bars","barWidth","align","Cursor","_x","relativeX","_y","relativeY","crosshairStyle","showValuesRelativeToSeries","showValue","cursorColor","snapToPlot","snapToData","targetShape"],"mappings":"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","file":"webcharts.min.js","sourcesContent":["//****************************************\n// GraphDataPipeline\n// common utility functions for conversion of LabVIEW datatypes flot data series\n// used by graphs and charts.\n// National Instruments Copyright 2016\n//****************************************\n\n(function () {\n    'use strict';\n\n    NationalInstruments.HtmlVI.DataPipeline = {};\n\n    NationalInstruments.HtmlVI.DataPipeline.decimateAW = function (series, start, end, buckets) {\n        var startIndex = (start - series.start) / series.step,\n        endIndex = (end - series.start) / series.step;\n\n        return NationalInstruments.HtmlVI.DataPipeline.decimate1D(series, startIndex, endIndex, buckets);\n    }\n\n    NationalInstruments.HtmlVI.DataPipeline.decimate1D = function (series, start, end, buckets) {\n        var i,\n            j,\n            index = 0,\n            iindex = 0,\n            length = 0,\n            step = buckets / (end - start),\n            data = series.datapoints.points,\n            res = [],\n            newBucket = true,\n            max = -Infinity, maxIndex= -1,\n            min = Infinity, minIndex= -1;\n\n        var startIndex = Math.min(Math.max(0, Math.floor(start)), data.length/2);\n        var endIndex = (end > 0) ? Math.min((data.length/2), Math.floor(end+2)) : 0;\n\n        var nextBucket = function () {\n            if (minIndex === maxIndex) {\n                res[iindex] = minIndex;\n                res[iindex + 1] = min;\n                iindex += 2;\n            } else {\n                if (minIndex < maxIndex) {\n                    res[iindex] = minIndex;\n                    res[iindex + 1] = min;\n                    res[iindex + 2] = maxIndex;\n                    res[iindex + 3] = max;\n                } else {\n                    res[iindex] = maxIndex;\n                    res[iindex + 1] = max;\n                    res[iindex + 2] = minIndex;\n                    res[iindex + 3] = min;\n                }\n                iindex += 4;\n            }\n        }\n\n        var prepareBucket = function () {\n            max = -Infinity;\n            maxIndex= -1;\n            min = Infinity;\n            minIndex= -1;\n        }\n\n        length = endIndex - startIndex;\n\n        if (buckets > length) {\n            step = 1;\n        }\n\n        for (i = startIndex * 2; i < endIndex * 2; i += 2) {\n            if (newBucket) {\n                prepareBucket();\n                newBucket = false;\n            }\n\n            if (data[i+1] < min) {\n                minIndex = data[i];\n                min = data[i+1];\n            }\n            if (data[i+1] > max) {\n                maxIndex = data[i];\n                max = data[i+1];\n            }\n\n            if (Math.floor(index) !== Math.floor(index + step)) {\n                nextBucket();\n                newBucket = true;\n            }\n\n            index += step;\n        }\n\n        if (!newBucket) {\n            nextBucket();\n        }\n\n        return res;\n    }\n\n    // Make sure ArrayBuffer.isView is available\n    if (typeof ArrayBuffer.isView !== 'function') {\n        // is that you PhantomJS ?\n        ArrayBuffer.isView = function (data) {\n            var isViewToStrings = [\n              // The TypedArray types\n              '[object Int8Array]',\n              '[object Uint8Array]',\n              '[object Uint8ClampedArray]',\n              '[object Int16Array]',\n              '[object Uint16Array]',\n              '[object Int32Array]',\n              '[object Uint32Array]',\n              '[object Float32Array]',\n              '[object Float64Array]',\n              // The DataView type\n              '[object DataView]'\n            ];\n\n            var dataStr = Object.prototype.toString.call(data);\n\n            return isViewToStrings.indexOf(dataStr) !== -1;\n        }\n    }\n}());\n","//****************************************\n// GraphDataPipeline\n// Utility functions that convert LabVIEW datatypes allowed for graphs to flot data series\n// National Instruments Copyright 2016\n//****************************************\n\n/**\n## Data types supported by the ni-cartesian-graph\n\nData can be passed to a graph either through writing to the element value\nproperty or using API access (the setData() method on the element).\n\nHere is a list of supported data types:\n*/\n\n(function () {\n    'use strict';\n\n    // Static private reference aliases\n    // None\n\n    NationalInstruments.HtmlVI.DataPipeline.GraphDataPipeline = function () {\n        // Private variables\n    };\n\n    var DataTypesEnum = Object.freeze({\n        niAnalogWaveform: 'niAnalogWaveform',\n        niAnalogWaveformArray: 'niAnalogWaveformArray',\n        XYClusterOfArrays: 'XYClusterOfArrays',\n        XYArrayOfClusters: 'XYArrayOfClusters',\n        XYArrayOfClusterOfArrays: 'XYArrayOfClusterOfArrays',\n        XYArrayOfArrayOfClusters: 'XYArrayOfArrayOfClusters',\n        oneDimensionNumericArray: '1DNumericArray',\n        twoDimensionsNumericArray: '2DNumericArray',\n        oneDimensionComplexArray: '1DComplexArray',\n        twoDimensionsComplexArray: '2DComplexArray',\n        empty: 'empty',\n        unknown: 'unknown'\n    });\n\n    var graphDataPipeline = NationalInstruments.HtmlVI.DataPipeline.GraphDataPipeline;\n    var ComplexNumber = window.NIComplex || NationalInstruments.HtmlVI.NIComplex;\n    var AnalogWaveform = window.NIAnalogWaveform || NationalInstruments.HtmlVI.NIAnalogWaveform;\n\n    var proto = graphDataPipeline.prototype;\n\n    // Public prototype methods\n    proto.toFlot = function (graph, value, valueType) {\n        return convertToFlotFormat(graph, value, valueType);\n    };\n\n    // Private methods\n    var isWaveform = function (value) {\n        return (!Array.isArray(value)) && typeof value === 'object' && Array.isArray(value.Y);\n    };\n\n    var isWaveformArray = function (value) {\n        return (Array.isArray(value)) && isWaveform(value[0]);\n    };\n\n    var isXYClusterOfArrays = function (value) {\n        return (!Array.isArray(value)) && typeof value === 'object' &&\n            Object.keys(value).length === 2 &&\n            Object.keys(value).every(function (key) {\n            return Array.isArray(value[key]);\n        });\n    };\n\n    var isXYArrayOfClusters = function (value) {\n        return (Array.isArray(value)) && (!Array.isArray(value[0])) &&\n            typeof value[0] === 'object' && Object.keys(value[0]).length === 2 &&\n            typeof value[0][Object.keys(value[0])[0]] === 'number';\n    };\n\n    var isXYArrayOfClusterOfArrays = function (value) {\n        return Array.isArray(value) && isXYClusterOfArrays(value[0]);\n    };\n\n    var isXYArrayOfArrayOfClusters = function (value) {\n        return Array.isArray(value) && isXYArrayOfClusters(value[0]);\n    };\n\n    var is1DComplexArray = function (value) {\n        return Array.isArray(value) &&\n        (typeof value[0] === 'string' || value[0] instanceof ComplexNumber);\n    };\n\n    var is2DComplexArray = function (value) {\n        return Array.isArray(value) && Array.isArray(value[0]) &&\n        (typeof value[0][0] === 'string' || value[0][0] instanceof ComplexNumber);\n    };\n\n    var inferDataType = function (data) {\n        if (isWaveform(data)) {\n            return DataTypesEnum.niAnalogWaveform;\n        }\n\n        if (isWaveformArray(data)) {\n            return DataTypesEnum.niAnalogWaveformArray;\n        }\n\n        if (isXYClusterOfArrays(data)) {\n            return DataTypesEnum.XYClusterOfArrays;\n        }\n\n        if (isXYArrayOfClusters(data)) {\n            return DataTypesEnum.XYArrayOfClusters;\n        }\n\n        if (!(Array.isArray(data) || ArrayBuffer.isView(data))) {\n            return DataTypesEnum.unknown;\n        }\n\n        if (data.length === 0) {\n            return DataTypesEnum.empty;\n        }\n\n        if (typeof data[0] === 'number') {\n            return DataTypesEnum.oneDimensionNumericArray;\n        }\n\n        if (isXYArrayOfClusterOfArrays(data)) {\n            return DataTypesEnum.XYArrayOfClusterOfArrays;\n        }\n\n        if (isXYArrayOfArrayOfClusters(data)) {\n            return DataTypesEnum.XYArrayOfArrayOfClusters;\n        }\n\n        if (is1DComplexArray(data)) {\n            return DataTypesEnum.oneDimensionComplexArray;\n        }\n\n        if (is2DComplexArray(data)) {\n            return DataTypesEnum.twoDimensionsComplexArray;\n        }\n\n        if (Array.isArray(data[0]) || ArrayBuffer.isView(data[0])) {\n            return DataTypesEnum.twoDimensionsNumericArray;\n        }\n\n        return DataTypesEnum.unknown;\n    };\n\n    proto.inferDataType = inferDataType;\n\n    var waveformToFlotFormat = function (waveform) {\n        return {flatdata: true, data: waveform.Y, start: waveform.t0.toAbsoluteTime(), step: waveform.dt, decimate: NationalInstruments.HtmlVI.DataPipeline.decimateAW};\n    };\n\n    var xyClusterOfArraysToFlotFormat = function (xydata) {\n        var result = [];\n        var keys = Object.keys(xydata);\n        var count = Math.min(xydata[keys[0]].length, xydata[keys[1]].length);\n\n        for (var i = 0; i < count; i++) {\n            result.push([xydata[keys[0]][i], xydata[keys[1]][i]]);\n        }\n\n        return result;\n    };\n\n    var xyArrayOfClustersToFlotFormat = function (xydata) {\n        var result = [];\n\n        var keys = Object.keys(xydata[0] || {});\n\n        for (var i = 0; i < xydata.length; i++) {\n            result.push([xydata[i][keys[0]], xydata[i][keys[1]]]);\n        }\n\n        return result;\n    };\n\n    var xyArrayOfClusterOfArraysToFlotFormat = function (xyDataArray) {\n        return xyDataArray.map(function (xydata) {\n            return xyClusterOfArraysToFlotFormat(xydata);\n        });\n    };\n\n    var xyArrayOfArrayOfClustersToFlotFormat = function (xyDataArray) {\n        return xyDataArray.map(function (xydata) {\n            return xyArrayOfClustersToFlotFormat(xydata);\n        });\n    };\n\n    var convertToFlotFormat = function (graph, data, valueType) {\n        // jshint unused: vars\n        var dataValuesArray = [];\n        var dataValuesArray2D, waveform;\n\n        var i, j;\n\n        switch (inferDataType(data)) {\n\n            /**\n            * **A 1D array of numerics**\n            ```js\n            [a1, a2, a3]\n            ```\n            Will be drawn as a single plot. It's an efficient and fast way to\n            pass data to the graph.\n\n            A typed array view is also allowed.\n            */\n            case DataTypesEnum.oneDimensionNumericArray:\n                return [{flatdata: true, data: data, start: 0, step: 1, decimate: NationalInstruments.HtmlVI.DataPipeline.decimate1D}];\n\n            /**\n            * **A 2D array of numerics**\n            ```js\n            [[a1, a2, a3], [b1, b2, b3]]\n            ```\n            Will be drawn as multiple plots. It's an efficient and fast way to\n            pass data to the graph.\n\n            An array of typed array views is also allowed.\n            */\n            case DataTypesEnum.twoDimensionsNumericArray:\n                dataValuesArray2D = [];\n                for (j = 0; j < data.length; j++) {\n                    dataValuesArray = [];\n\n                    dataValuesArray2D.push({flatdata: true, start: 0, step: 1, data: data[j], decimate: NationalInstruments.HtmlVI.DataPipeline.decimate1D});\n                }\n\n                return dataValuesArray2D;\n\n            /**\n            * **An analogWaveform**\n            ```js\n            var data = new NIAnalogWaveform({\n                t0: new NITimestamp(),\n                dt: 0.001, // 1 ms\n                Y: [a1, a2, a3]\n            });\n            ```\n            Will be drawn as a single plot. It's an\n            efficient and fast way to pass data to the graph\n            */\n            case DataTypesEnum.niAnalogWaveform:\n                if (data instanceof AnalogWaveform) {\n                    waveform = data;\n                } else {\n                    waveform = new AnalogWaveform(data);\n                }\n                if (typeof waveform.channelName === 'string' && waveform.channelName.length > 0) {\n                    graph.updatePlotName(0, waveform.channelName);\n                }\n\n                return [waveformToFlotFormat(waveform)];\n\n            /**\n            * **An array of analogWaveforms**\n            ```js\n            var aw0 = new NIAnalogWaveform({\n                t0: new NITimestamp(),\n                dt: 0.001, // 1 ms\n                Y: [a1, a2, a3]\n            });\n            var aw1 = new NIAnalogWaveform({\n                t0: new NITimestamp(),\n                dt: 0.001, // 1 ms\n                Y: [b1, b2, b3]\n            });\n            var data = [aw0, aw1];\n            ```\n            Will be drawn as multiple plots. It's an efficient and fast way to\n            pass data to the graph.\n            */\n            case DataTypesEnum.niAnalogWaveformArray:\n                dataValuesArray2D = [];\n                for (j = 0; j < data.length; j++) {\n                    if (data[j] instanceof AnalogWaveform) {\n                        waveform = data[j];\n                    } else {\n                        waveform = new AnalogWaveform(data[j]);\n                    }\n                    if (typeof waveform.channelName === 'string' && waveform.channelName.length > 0) {\n                        graph.updatePlotName(j, waveform.channelName);\n                    }\n\n                    dataValuesArray2D.push(waveformToFlotFormat(waveform));\n                }\n\n                return dataValuesArray2D;\n\n            /**\n            * **An object (cluster) of arrays**\n            ```js\n            var data = {a: [a1, a2, a3], b: [b1, b2, b3]};\n            ```\n             Will be drawn as a single XY plot,\n            the first array will hold the X coordinates and the second the Y\n            coordinates. This format is only recomended when you want to display\n            XY data, it's not particulary efficient or fast.\n            */\n            case DataTypesEnum.XYClusterOfArrays:\n                return [xyClusterOfArraysToFlotFormat(data)];\n\n            /**\n            * **An array of objects (clusters) of arrays**\n            ```js\n            var data = [\n                {a: [a1, a2, a3], b: [b1, b2, b3]},\n                {c: [c1, c2, c3], d: [d1, d2, d3]}\n            ];\n            ```\n            Will be drawn as multiple XY plots, the first array in the object\n            (cluster) will hold the X coordinates and the second the Y coordinates.\n            This format is only recomended when you want to display XY data,\n            it's not particulary efficient or fast.\n            */\n            case DataTypesEnum.XYArrayOfClusterOfArrays:\n                return xyArrayOfClusterOfArraysToFlotFormat(data);\n\n            /**\n            * **An array of objects (clusters)**\n            ```js\n            var data = [\n                {x: a1, y: b1},\n                {x: a2, y: b2},\n                {x: a3, y: b3},\n            ];\n            ```\n            Will be drawn as a single XY plot, the first element in the cluster\n            will hold the X coordinates and the second the Y coordinates. This\n            format is only recomended when you want to display XY data, it's not\n            particulary efficient or fast.\n            */\n            case DataTypesEnum.XYArrayOfClusters:\n                return [xyArrayOfClustersToFlotFormat(data)];\n\n            /**\n            * **An array of array of objects (clusters)**\n            ```js\n            var data = [\n                [{x: a1, y: b1}, {x: a2, y: b2}, {x: a3, y: b3}],\n                [{x: c1, y: d1}, {x: c2, y: d2}, {x: c3, y: d3}]\n            ];\n            ```\n            Will be drawn as multiple XY plots, the first element in the cluster\n            will hold the X coordinates and the second the Y coordinates. This\n            format is only recomended when you want to display XY data, it's not\n            particulary efficient or fast.\n            */\n            case DataTypesEnum.XYArrayOfArrayOfClusters:\n                return xyArrayOfArrayOfClustersToFlotFormat(data);\n\n            /**\n            * **An 1D array of Complex Numbers**\n            ```js\n            var a1 = new NIComplex(1, 2);\n            var a2 = new NIComplex(2, 3);\n            var a3 = new NIComplex(3, 4);\n            var data = [a1, a2, a3]; // array of complex numbers\n            var data2 = ['1+2i', '2+3i', '3+4i']; // also accepted as input\n            ```\n            Will be drawn as a single plot.\n            */\n            case DataTypesEnum.oneDimensionComplexArray:\n                for (i = 0; i < data.length; i++) {\n                    dataValuesArray.push(ComplexNumber.prototype.parseFromString(data[i]));\n                }\n\n                return [dataValuesArray];\n\n            /**\n            * **A 2D array of Complex Numbers**\n            ```js\n            var a1 = new NIComplex(1, 2);\n            var a2 = new NIComplex(2, 3);\n            var b1 = new NIComplex(3, 4);\n            var b2 = new NIComplex(4, 5);\n            var data = [[a1, a2], [b1, b2]]; // arrays of complex numbers\n            var data2 = [['1+2i', '2+3i'], ['3+4i', '4+5i']]; // also accepted as input\n            ```\n            Will be drawn as multiple plots.\n            */\n            case DataTypesEnum.twoDimensionsComplexArray:\n                dataValuesArray2D = [];\n                for (j = 0; j < data.length; j++) {\n                    dataValuesArray = [];\n                    for (i = 0; i < data[j].length; i++) {\n                        dataValuesArray.push(ComplexNumber.prototype.parseFromString(data[j][i]));\n                    }\n\n                    dataValuesArray2D.push(dataValuesArray);\n                }\n\n                return dataValuesArray2D;\n            default:\n        }\n\n        return dataValuesArray2D || [dataValuesArray];\n    };\n}());\n","//****************************************\n// ChartDataPipeline\n// Utility functions that load LabVIEW datatypes allowed for charts into history\n// buffers\n// National Instruments Copyright 2016\n//****************************************\n\n(function () {\n    'use strict';\n\n    // Static private reference aliases\n    var NI_SUPPORT = NationalInstruments.HtmlVI.NISupport;\n\n    NationalInstruments.HtmlVI.DataPipeline.ChartDataPipeline = function () {\n        // Private variables\n    };\n\n    var graphDataPipeline = NationalInstruments.HtmlVI.DataPipeline.GraphDataPipeline;\n\n    var proto = NationalInstruments.HtmlVI.DataPipeline.ChartDataPipeline.prototype;\n\n    // Public prototype methods\n    proto.loadValueIntoHistoryBuffer = function (value, historyBuffer) {\n        switch (graphDataPipeline.prototype.inferDataType(value)) {\n            case '1DNumericArray':\n                historyBuffer.appendArray(value);\n                break;\n            case '2DNumericArray':\n                var width = value.length;\n                historyBuffer.setWidth(width);\n                for (var i = 0; i < value[0].length; i++) {\n                    var col = [];\n                    for (var j = 0; j < width; j++) {\n                        col[j] = value[j][i];\n                    }\n                    historyBuffer.push(col);\n                }\n                break;\n            case 'empty':\n                break;\n            default:\n                NI_SUPPORT.error('Unsupported value', this.value);\n                break;\n        }\n    };\n\n    proto.toFlot = function (chart, value, valueType) {\n        // the chart is not using the element value as data, but the history buffer.\n        // We return an array of empty data series with the length equal with the\n        // width of the history buffer\n        var res = [];\n        var width = chart.historyBuffer.width;\n        for (var i = 0; i < width; i++) {\n            res[i] = [];\n        }\n        return res;\n    }\n\n}());\n","//****************************************\n// Cartesian Graph Base Prototype\n// DOM Registration: HTMLNICartesianGraph\n// National Instruments Copyright 2015\n//****************************************\n\n// Constructor Function: Empty (Not Invoked)\nNationalInstruments.HtmlVI.Elements.CartesianGraphBase = function () {\n    'use strict';\n};\n\n// Static Public Variables\n// None\n\n(function (child, parent) {\n    'use strict';\n    // Static Private Reference Aliases\n    var $ = NationalInstruments.Globals.jQuery;\n    var NI_SUPPORT = NationalInstruments.HtmlVI.NISupport;\n    var graphDataPipeline = NationalInstruments.HtmlVI.DataPipeline.GraphDataPipeline;\n\n    NI_SUPPORT.inheritFromParent(child, parent);\n    var proto = child.prototype;\n    var plotsUpdatesEnabled = true;\n    var graphConfigPending = false;\n\n    // Static Private Variables\n    // None\n\n    // Static Private Functions\n    // None\n\n    // Public Prototype Methods\n    proto.getSettings = function () {\n        var settings = {\n            lines: {\n                show: true,\n                lineWidth: 1\n            },\n            series: {\n                shadowSize: 0, // Drawing is faster without shadows\n                points: {\n                    lineWidth: 2 // in pixels\n                    //,fill: false // it's way faster if we don't fill the shapes. TODO: enable this\n                },\n            },\n            axisLabels: {\n                show: true\n            },\n            xaxes: [{}],\n            yaxes: [{}],\n            zoom: {\n                interactive: true,\n                trigger: null\n            },\n            pan: {\n                interactive: true\n            },\n            selection: {\n                mode: null\n            },\n            grid: {\n            }\n        };\n\n        return settings;\n    };\n\n    proto.configureGraph = function () {\n        var i;\n        var cartesianGraphSettings = this.getSettings();\n        if (this.plotAreaMargin !== '') {\n            cartesianGraphSettings.grid.margin = JSON.parse(this.plotAreaMargin);\n        }\n\n        // Apply Settings from host\n        cartesianGraphSettings.xaxes = [];\n        cartesianGraphSettings.yaxes = [];\n        cartesianGraphSettings.cursors = [];\n\n        for (i = 0; i < this.axes.length; i++) {\n            var axis = this.axes[i];\n            var a = axis.getViewConfig();\n\n            if (a) {\n                if (a.position && ((a.position === 'left') || (a.position === 'right'))) {\n                    cartesianGraphSettings.yaxes.push(a);\n                }\n\n                if (a.position && ((a.position === 'top') || (a.position === 'bottom'))) {\n                    cartesianGraphSettings.xaxes.push(a);\n                }\n            }\n        }\n\n        for (i = 0; i < this.cursors.length; i++) {\n            var cursor = this.cursors[i];\n            var c = cursor.getViewConfig();\n            cartesianGraphSettings.cursors.push(c);\n        }\n\n        if (this.graphTools) {\n            cartesianGraphSettings.zoom.interactive = this.graphTools.allowsScrollWheelZoom();\n            cartesianGraphSettings.pan.interactive = this.graphTools.allowsPan();\n            cartesianGraphSettings.selection.mode = this.graphTools.mode === 'zoom' ? 'smart' : null;\n        }\n\n        return cartesianGraphSettings;\n    };\n\n    proto.updateGraphConfig = function () {\n        var childElement = this.graphdiv;\n        if (childElement === undefined) {\n            return; // not ready yet\n        }\n\n        var cartesianGraphData = this.createData(this.plots, this.convertToFlotFormat(this.parsedValue));\n        var cartesianGraphSettings = this.configureGraph();\n        this.setHover(cartesianGraphData, cartesianGraphSettings);\n        this.setGridStyle(this.gridEl, cartesianGraphSettings);\n\n        try {\n            this.graph = $.plot(childElement, cartesianGraphData, cartesianGraphSettings);\n            var that = this;\n            this.graph.getCursors().forEach(function (cursor, i) {\n                /* place a cookie on the cursor */\n                cursor.cookie = that.cursors[i];\n                that.cursors[i].setCursor(cursor);\n            });\n        } catch (error) {\n            NI_SUPPORT.log(error.message);\n        }\n    };\n\n    proto.onCursorUpdates = function (event, cursordata) {\n        cursordata.forEach(function (cursor, i) {\n            cursor.target.cookie.updateCursorElement(cursordata[i]);\n        });\n    };\n\n    proto.throttlePlotUpdates = function (throttle) {\n        plotsUpdatesEnabled = !throttle;\n        if (plotsUpdatesEnabled && graphConfigPending) {\n            this.updateGraphConfig(); // keep the graph in sync\n            graphConfigPending = false;\n        }\n    };\n\n    proto.updateGraphConfigWhenPlotsUpdatesAreEnabled = function () {\n        if (plotsUpdatesEnabled) {\n            this.updateGraphConfig();\n            graphConfigPending = false;\n        } else {\n            graphConfigPending = true;\n        }\n    };\n\n    proto.convertToFlotFormat = function (value) {\n        return graphDataPipeline.prototype.toFlot(this, value);\n    };\n\n    proto.updatePlotName = function (index, name) {\n        if (name) {\n            if (this.plots[index]) {\n                this.plots[index].label = name;\n            }\n        }\n    };\n\n    proto.createData = function (plots, dataSeries) {\n        var plotConfig = [];\n\n        dataSeries.forEach(function (data, i) {\n            var plot = plots[i];\n            if (Array.isArray(data)) {\n                data = {data: data};\n            }\n\n            if (plot) {\n                plotConfig[i] = plot.getViewConfig();\n                plotConfig[i].data = (plot.show) ? data.data : [];\n                // TODO mix the properties in a better way\n                plotConfig[i].flatdata = data.flatdata;\n                plotConfig[i].start = data.start;\n                plotConfig[i].step = data.step;\n                plotConfig[i].decimate = data.decimate;\n            } else {\n                plotConfig[i] = data;\n            }\n        });\n\n        return plotConfig;\n    };\n\n    proto.setData = function (data) {\n        var graph = this.graph;\n\n        this.parsedValue = data;\n        graph.setData(this.createData(this.plots, this.convertToFlotFormat(data)));\n        graph.setupGrid();\n        graph.draw();\n    };\n\n    proto.addAllProperties = function (targetPrototype) {\n        parent.prototype.addAllProperties.call(this, targetPrototype);\n\n        proto.addProperty(targetPrototype, {\n            propertyName: 'value',\n            defaultValue: '[]',\n            fireEvent: true,\n            addNonSignalingProperty: true,\n            isElementValueProperty: true\n        });\n\n        /** **graph-ref** - a graph id used to bind legends to the graph*/\n        proto.addProperty(targetPrototype, {\n            propertyName: 'graphRef',\n            defaultValue: '',\n        });\n\n        /** **plot-area-margin** - TODO - document this*/\n        proto.addProperty(targetPrototype, {\n            propertyName: 'plotAreaMargin',\n            defaultValue: ''\n        });\n    };\n\n    proto.createdCallback = function () {\n        parent.prototype.createdCallback.call(this);\n\n        // Public Instance Properties\n        this.plots = [];\n        this.axes = [];\n        this.cursors = [];\n        this.plotLegend = null;\n        this.cursorLegend = null;\n        this.scaleLegend = null;\n        this.graphTools = null;\n        this.graphdiv = undefined;\n        this.tooltip = null;\n        this.parsedValue = null;\n\n        // Private Instance Properties\n        // None\n    };\n\n    proto.findGraphItems_early = function () {\n        var myChildItems = [],\n            axisItemName = NationalInstruments.HtmlVI.Elements.CartesianPlot.prototype.elementInfo.tagName.toUpperCase(),\n            plotItemName = NationalInstruments.HtmlVI.Elements.CartesianAxis.prototype.elementInfo.tagName.toUpperCase(),\n            i;\n\n        for (i = 0; i < this.children.length; i++) {\n            if (this.children[i].tagName === plotItemName) {\n                myChildItems.push(this.children[i]);\n            } else if (this.children[i].tagName === axisItemName) {\n                myChildItems.push(this.children[i]);\n            }\n        }\n\n        return myChildItems;\n    };\n\n    proto.forceResize = function (size) {\n        parent.prototype.forceResize.call(this, size);\n        var plot = this.graph;\n        if (plot !== undefined) {\n            plot.clearTextCache();\n            plot.resize();\n            plot.setupGrid();\n            plot.draw();\n        }\n    };\n\n    proto.createGraph = function () {\n        var that = this;\n        var childElement = document.createElement('div');\n        childElement.style.width = '100%';\n        childElement.style.height = '100%';\n        childElement.className = 'webchart-drawing-layer';\n        this.appendChild(childElement);\n        var tooltip = document.createElement('div');\n        tooltip.id = 'tooltip' + NI_SUPPORT.uniqueId();\n        tooltip.className = 'ni-graph-tooltip';\n        this.appendChild(tooltip);\n        this.tooltip = tooltip;\n        var fakeGrid = document.createElement('ni-grid-div');\n        fakeGrid.style.visibility = 'hidden';\n        this.appendChild(fakeGrid);\n        this.gridEl = fakeGrid;\n\n        this.graphdiv = childElement;\n\n        var cartesianGraphData = this.createData(this.plots, this.convertToFlotFormat(this.parsedValue));\n        var cartesianGraphSettings = this.configureGraph();\n        this.setHover(cartesianGraphData, cartesianGraphSettings);\n        this.setGridStyle(this.gridEl, cartesianGraphSettings);\n\n        try {\n            this.graph = $.plot(childElement, cartesianGraphData, cartesianGraphSettings);\n        } catch (e) {\n            NI_SUPPORT.log('Failed to create a flot chart. Make sure that the placeholder element has a non-zero size !');\n        }\n\n        $(childElement).bind('plothover', function (event, pos, item) {\n            if (item && that.plots[item.seriesIndex]) {\n                var x = item.datapoint[0],\n                    y = item.datapoint[1],\n                    hoverFormat = that.plots[item.seriesIndex].hoverFormat || '{0}, {1}',\n                    str = that.format(hoverFormat, x, y);\n\n                $(tooltip).html(str)\n                    .css({ top: item.pageY - that.offsetTop + 5, left: item.pageX - that.offsetLeft + 5 })\n                    .fadeIn(100);\n            } else {\n                $(tooltip).hide();\n            }\n        });\n\n        try {\n            this.graph.getPlaceholder().bind('cursorupdates', this.onCursorUpdates);\n            this.graph.getCursors().forEach(function (cursor, i) {\n                /* place a cookie on the cursor */\n                cursor.cookie = that.cursors[i];\n                that.cursors[i].setCursor(cursor);\n            });\n        } catch (e) { }\n    };\n\n    proto.attachedCallback = function () {\n        var firstCall = parent.prototype.attachedCallback.call(this), graphChildElements;\n\n        if (firstCall === true) {\n            graphChildElements = this.findGraphItems_early();\n            this.addGraphItemListeners(graphChildElements);\n            this.parsedValue = JSON.parse(this.value);\n            this.createGraph();\n            this.attachLegends();\n        }\n\n        return firstCall;\n    };\n\n    proto.addGraphItemListeners = function (childElements) {\n        var that = this;\n        that.addEventListener('ni-cartesian-plot-attached', function (evt) {\n            var i;\n\n            if (evt.target === that) {\n                that.plots.push(evt.detail.element);\n                for (i = 0; i < childElements.length; i++) {\n                    if (childElements[i] === evt.detail.element) {\n                        childElements.splice(i, 1);\n                        break;\n                    }\n                }\n\n                that.updateGraphConfigWhenPlotsUpdatesAreEnabled();\n                that.notifyPlotLegend('ni-cartesian-plot-attached', evt.detail.element);\n            }\n        });\n\n        that.addEventListener('ni-cartesian-plot-detached', function (evt) {\n            var i;\n\n            that.notifyPlotLegend('ni-cartesian-plot-detached', evt.detail.element);\n\n            if (evt.target === that) {\n                for (i = 0; i < that.plots.length; i++) {\n                    if (that.plots[i] === evt.detail.element) {\n                        that.plots.splice(i, 1);\n                        break;\n                    }\n                }\n\n                that.updateGraphConfigWhenPlotsUpdatesAreEnabled();\n            }\n        });\n\n        that.addEventListener('ni-cartesian-axis-attached', function (evt) {\n            var i;\n\n            if (evt.target === that) {\n                that.axes.push(evt.detail.element);\n                for (i = 0; i < childElements.length; i++) {\n                    if (childElements[i] === evt.detail.element) {\n                        childElements.splice(i, 1);\n                        break;\n                    }\n                }\n\n                that.updateGraphConfig();\n                that.notifyScaleLegend('ni-cartesian-axis-attached', evt.detail.element);\n            }\n        });\n\n        that.addEventListener('ni-cartesian-axis-detached', function (evt) {\n            var i;\n\n            if (evt.target === that) {\n                for (i = 0; i < that.axes.length; i++) {\n                    if (that.axes[i] === evt.detail.element) {\n                        that.axes.splice(i, 1);\n                        break;\n                    }\n                }\n\n                that.updateGraphConfig();\n                that.notifyScaleLegend('ni-cartesian-axis-detached', evt.detail.element);\n            }\n        });\n\n        that.addEventListener('ni-cursor-attached', function (evt) {\n            var i;\n\n            if (evt.target === that) {\n                that.cursors.push(evt.detail.element);\n                for (i = 0; i < childElements.length; i++) {\n                    if (childElements[i] === evt.detail.element) {\n                        childElements.splice(i, 1);\n                        break;\n                    }\n                }\n\n                that.updateGraphConfig();\n                that.notifyCursorLegend('ni-cursor-attached', evt.detail.element);\n            }\n        });\n\n        that.addEventListener('ni-cursor-detached', function (evt) {\n            var i;\n\n            if (evt.target === that) {\n                for (i = 0; i < that.cursors.length; i++) {\n                    if (that.cursors[i] === evt.detail.element) {\n                        that.cursors.splice(i, 1);\n                        break;\n                    }\n                }\n\n                that.updateGraphConfig();\n                that.notifyCursorLegend('ni-cursor-detached', evt.detail.element);\n            }\n        });\n\n        that.addEventListener('ni-axis-changed', function (evt) {\n            that.updateGraphConfig();\n            that.notifyScaleLegend('ni-axis-changed', evt.detail.element);\n        });\n\n        that.addEventListener('ni-cursor-changed', function (evt) {\n            that.updateGraphConfig();\n            that.notifyCursorLegend('ni-cursor-changed', evt.detail.element);\n        });\n\n        that.addEventListener('ni-cartesian-plot-changed', function (evt) {\n            that.updateGraphConfigWhenPlotsUpdatesAreEnabled();\n            that.notifyPlotLegend('ni-cartesian-plot-changed', evt.detail.element);\n        });\n\n        that.addEventListener('ni-cartesian-plot-renderer-changed', function (evt) {\n            that.updateGraphConfigWhenPlotsUpdatesAreEnabled();\n            that.notifyPlotLegend('ni-cartesian-plot-renderer-changed', evt.detail.originalSource);\n        });\n\n        that.addEventListener('ni-cartesian-plot-renderer-attached', function (evt) {\n            that.updateGraphConfigWhenPlotsUpdatesAreEnabled();\n            that.notifyPlotLegend('ni-cartesian-plot-renderer-attached', evt.detail.originalSource);\n        });\n\n        that.addEventListener('ni-cartesian-plot-renderer-detached', function (evt) {\n            that.updateGraphConfigWhenPlotsUpdatesAreEnabled();\n            that.notifyPlotLegend('ni-cartesian-plot-renderer-detached', evt.detail.originalSource);\n        });\n\n        that.addEventListener('ni-graph-tools-changed', function () {\n            that.updateGraphConfig();\n        });\n    };\n\n    proto.registerPlotLegend = function (plotLegend) {\n        this.plotLegend = plotLegend;\n    };\n\n    proto.notifyPlotLegend = function (name, originalSource) {\n        var eventConfig;\n\n        if (this.plotLegend !== null) {\n            eventConfig = {\n                bubbles: false,\n                cancelable: true,\n                detail: {\n                    element: this,\n                    originalSource: originalSource\n                }\n            };\n\n            this.plotLegend.dispatchEvent(new CustomEvent(name, eventConfig));\n        }\n    };\n\n    proto.registerCursorLegend = function (cursorLegend) {\n        var i;\n        this.cursorLegend = cursorLegend;\n        if (this.cursors.length > 0) {\n            for (i = 0; i < this.cursors.length; i++) {\n                this.notifyCursorLegend('ni-cursor-attached', this.cursors[i]);\n            }\n        }\n    };\n\n    proto.notifyCursorLegend = function (name, originalSource) {\n        var eventConfig;\n\n        if (this.cursorLegend !== null) {\n            eventConfig = {\n                bubbles: false,\n                cancelable: true,\n                detail: {\n                    element: this,\n                    originalSource: originalSource\n                }\n            };\n\n            this.cursorLegend.dispatchEvent(new CustomEvent(name, eventConfig));\n        }\n    };\n\n    proto.registerScaleLegend = function (scaleLegend) {\n        var i;\n        this.scaleLegend = scaleLegend;\n        if (this.axes.length > 0) {\n            for (i = 0; i < this.axes.length; i++) {\n                this.notifyScaleLegend('ni-cartesian-axis-attached', this.axes[i]);\n            }\n        }\n    };\n\n    proto.notifyScaleLegend = function (name, originalSource) {\n        var eventConfig;\n\n        if (this.scaleLegend !== null) {\n            eventConfig = {\n                bubbles: false,\n                cancelable: true,\n                detail: {\n                    element: this,\n                    originalSource: originalSource\n                }\n            };\n\n            this.scaleLegend.dispatchEvent(new CustomEvent(name, eventConfig));\n        }\n    };\n\n    proto.registerGraphTools = function (graphTools) {\n        var that = this;\n        this.graphTools = graphTools;\n\n        this.updateGraphConfig();\n\n        $(this.graphdiv).on('plotselected', function (event, ranges) {\n            that.notifyGraphTools('ni-cartesian-graph-box-selected', { ranges: ranges });\n        });\n\n        $(this.graphdiv).on('plotpan', function (event, ranges) {\n            that.notifyGraphTools('ni-cartesian-graph-interaction', { ranges: ranges });\n        });\n\n        $(this.graphdiv).on('plotzoom', function (event, ranges) {\n            that.notifyGraphTools('ni-cartesian-graph-interaction', { ranges: ranges });\n        });\n\n        $(this.graphdiv).on('re-center', function (event) {\n            that.notifyGraphTools('ni-cartesian-graph-reCenter', event);\n        });\n    };\n\n    proto.notifyGraphTools = function (name, originalSource) {\n        var eventConfig;\n\n        if (this.graphTools !== null) {\n            eventConfig = {\n                bubbles: false,\n                cancelable: true,\n                detail: {\n                    element: this,\n                    originalSource: originalSource\n                }\n            };\n\n            this.graphTools.dispatchEvent(new CustomEvent(name, eventConfig));\n        }\n    };\n\n    // find the graph legend elements that were created before the graph element and attach them\n    proto.attachLegends = function () {\n\t\t var graphElement = this,\n            legendTags = [\n                'ni-cursor-legend'.toUpperCase(),\n                'ni-plot-legend'.toUpperCase(),\n                'ni-cursor-legend'.toUpperCase(),\n                'ni-graph-tools'.toUpperCase()\n            ],\n\n            children = this.parentElement.children,\n            myLegends = [];\n\n        for (var i = 0; i < children.length; i++) {\n            var element = children[i];\n            if ((legendTags.indexOf(element.tagName) !== -1) && (element.graphName === this.niControlId)) {\n                // this is a legend element that references this graph element\n                myLegends.push(element);\n            }\n        }\n\n        myLegends.forEach(function (legend) {\n            if (legend.attachToGraph) {\n                legend.attachToGraph(graphElement);\n            }\n        });\n    };\n\n    proto.propertyUpdated = function (propertyName) {\n        parent.prototype.propertyUpdated.call(this, propertyName);\n\n        switch (propertyName) {\n            case 'value':\n                this.setData(JSON.parse(this.value));\n                break;\n            case 'plotAreaMargin':\n                this.updateGraphConfig();\n                break;\n        }\n    };\n\n    proto.format = function () {\n        var args = arguments;\n        var str = args[0];\n        return str.replace(/{(\\d+)}/g, function (match, number) {\n            var index = parseInt(number) + 1;\n            var item = args[index];\n\n            if (typeof item !== 'undefined') {\n                var len1 = item.toFixed(2).length;\n                var len2 = item.toExponential(2).length;\n                if (len1 < len2) {\n                    return item.toFixed(2);\n                } else {\n                    return item.toExponential(2);\n                }\n            } else {\n                return match;\n            }\n        });\n    };\n\n    proto.setHover = function (graphData, graphSettings) {\n        var i,\n            isHoverable = false;\n\n        for (i = 0; i < graphData.length; i++) {\n            if (graphData[i].hoverable) {\n                isHoverable = true;\n                break;\n            }\n        }\n\n        if (isHoverable === true) {\n            if (graphSettings.grid === undefined) {\n                graphSettings.grid = {};\n            }\n\n            graphSettings.grid.hoverable = isHoverable;\n        } else {\n            if (this.tooltip !== null) {\n                $(this.tooltip).hide();\n            }\n        }\n    };\n\n    proto.setGridStyle = function (gridEl, graphSettings) {\n        var grid = graphSettings.grid;\n        var style = window.getComputedStyle(gridEl);\n        var borderStyle = style.borderStyle;\n\n        var borderBottomWidth = style.borderBottomWidth.replace('px','');\n        var borderTopWidth = style.borderTopWidth.replace('px','');\n        var borderLeftWidth = style.borderLeftWidth.replace('px','');\n        var borderRightWidth = style.borderRightWidth.replace('px','');\n        var borderWidth = {top: Number(borderTopWidth), bottom: Number(borderBottomWidth),\n            left: Number(borderLeftWidth), right: Number(borderRightWidth)};\n\n        var color = style.borderColor;\n        var bgColor = style.backgroundColor;\n\n        grid.borderWidth = (borderStyle === 'solid') ? borderWidth : 0;\n        grid.borderColor = color;\n        grid.color = style.color;\n        grid.backgroundColor = bgColor;\n    };\n\n}(NationalInstruments.HtmlVI.Elements.CartesianGraphBase, NationalInstruments.HtmlVI.Elements.Visual));\n","//****************************************\n// Cartesian Graph Prototype\n// DOM Registration: HTMLNICartesianGraph\n// National Instruments Copyright 2017\n//****************************************\n\n/**\n## ni-cartesian-graph\n\n> A custom element that allows to graph one or multiple data sets.\n\nAn ni-cartesian-graph is a declarative way, that uses custom elements, to add a graph\nto a web page. Specify your data sets using the value attribute and customize how\nthe data is renderended using nested custom elements such as *ni-cartesian-axis*,\n*ni-cartesian-plot*, *ni-cartesian-plot-renderer* or *ni-cursor*.\n\nExample showing how you can render a graph of prime number versus fibonacci numbers.\n```html\n<ni-cartesian-graph value=\"[[2, 3, 5, 7, 11, 13, 17, 19],\n                          [0, 1, 1, 2, 3, 5, 8, 13]]\">\n  <ni-cartesian-axis show label=\"Index\" axis-position=\"bottom\"></ni-cartesian-axis>\n  <ni-cartesian-axis show label=\"Value\" axis-position=\"left\"></ni-cartesian-axis>\n  <ni-cartesian-plot show label=\"Prime Numbers\">\n    <ni-cartesian-plot-renderer line-width=\"2\" line-stroke=\"red\">\n    </ni-cartesian-plot-renderer>\n  </ni-cartesian-plot>\n  <ni-cartesian-plot show label=\"Fibonacci Numbers\">\n    <ni-cartesian-plot-renderer line-width=\"2\" line-stroke=\"blue\">\n    </ni-cartesian-plot-renderer>\n  </ni-cartesian-plot>\n</ni-cartesian-graph>\n```\n*/\n\nNationalInstruments.HtmlVI.Elements.CartesianGraph = function () {\n    'use strict';\n};\n\n(function (child, parent) {\n    'use strict';\n    // Static Private Reference Aliases\n    var $ = NationalInstruments.Globals.jQuery;\n    var NI_SUPPORT = NationalInstruments.HtmlVI.NISupport;\n\n    NI_SUPPORT.inheritFromParent(child, parent);\n    var proto = child.prototype;\n    /** ### ni-cartesian-graph properties*/\n\n    /// include ./ni-cartesian-graph-base.js\n\n\n    /**\n    ### ni-cartesian-graph methods\n\n    **setData** is the prefered method to write data to a graph. The other\n    option, writing to the *value* property of the element is only recomended\n    for rarely changed small datasets, since it consumes more memory and CPU\n    due to the serialization/deserialization needed.\n\n    ```js\n    // graph needs to be ready before calling any methods on it\n    var graph = document.querySelector('#myGraph');\n    graph.setData([1, 2, 3, 4, 5]);\n    ```\n    */\n    proto.updateData = function () {\n        var graph = this.graph;\n\n        graph.setData(this.createData(this.plots, this.convertToFlotFormat(JSON.parse(this.value))));\n        graph.setupGrid();\n        graph.draw();\n    };\n\n    /// include ./DataPipeline/niGraphDataPipeline.js\n\n    proto.defineElementInfo(proto, 'ni-cartesian-graph', 'HTMLNICartesianGraph');\n}(NationalInstruments.HtmlVI.Elements.CartesianGraph, NationalInstruments.HtmlVI.Elements.CartesianGraphBase));\n","//****************************************\n// Chart custom element\n// DOM Registration: HTMLNIChart\n// National Instruments Copyright 2017\n//****************************************\n\n/**\n## ni-chart\n\n> A custom element that allows to chart one or multiple data sets.\n\nThe difference between a graph and a chart is that a graph plots directly the data\nsets provided but the chart uses a buffer of historical values, called a\nHistoryBuffer for data handling.\n\nAs you append new values to the charts' History buffer the chart is updated as\nneeded, on the next browser animation frame.\n\nExample:\n\n```html\n<ni-chart id=\"chart1\" bufferSize=\"1024\">\n    <ni-cartesian-axis show label=\"Time\" axis-position=\"bottom\"></ni-cartesian-axis>\n    <ni-cartesian-axis show label=\"Amplitude\" axis-position=\"left\"></ni-cartesian-axis>\n    <ni-cartesian-plot show label=\"Plot 1\">\n      <ni-cartesian-plot-renderer line-width=\"2\" line-stroke=\"#a84716\"></ni-cartesian-plot-renderer>\n    </ni-cartesian-plot>\n</ni-chart>\n\n<script>\n  var historyBuffer = $('#chart1').getHistoryBuffer();\n\n  // write 1000 values into the chart's history buffer\n  for (var i = 0; i < 10; i++) {\n    historyBuffer.push(Math.sin(i));\n    i += 0.01;\n  }\n</script>\n```\n\nThe HistoryBuffer API is described [here](historyBuffer.md).\n\n## Data types supported by ni-chart\n\nTo add data to the chart you need to write it into the history buffer. Here are\nexamples for adding numbers and arrays of numbers to the history buffer.\n\n* **Numbers**\n```js\n    var chart = document.querySelector('#myChart');\n    var hb = chart.getHistoryBuffer();\n\n    hb.push(5); // add 5 to the history buffer\n```\nThis will render a single plot\n\n* **multiple Numbers**\n```js\n    var chart = document.querySelector('#myChart');\n    var hb = chart.getHistoryBuffer();\n\n    hb.push([5, 7, 8]); // adds 5 to first data series,\n                        // 7 to the second one and 8 to the third one\n```\nThis will render 3 plots\n\n* **array of Numbers**\n```js\n    var chart = document.querySelector('#myChart');\n    var hb = chart.getHistoryBuffer();\n\n    hb.appendArray([5, 7, 8]); // add 5, 7 and 8 to first data series\n```\nThis will render a single plot.\n\n* **arrays of arrays of Numbers**\n```js\n    var chart = document.querySelector('#myChart');\n    var hb = chart.getHistoryBuffer();\n\n    hb.appendArray([[5, 7], [8, 9]]); // add 5 and 7 to first data series\n                                     // and 8 and 9 to the second one\n```\nThis will render two plots.\n\n\nWhen writing values to multiple plots make sure the history buffer is the same\nsize as the number of data series you write to. Use [history buffer's](historyBuffer.md) *setWidth*\nmethod to change the number of data series in the chart.\n*/\n\nNationalInstruments.HtmlVI.Elements.Chart = function () {\n    'use strict';\n};\n\n(function (child, parent, global) {\n    'use strict';\n    // Static Private Reference Aliases\n    var NI_SUPPORT = NationalInstruments.HtmlVI.NISupport;\n    var chartDataPipeline = NationalInstruments.HtmlVI.DataPipeline.ChartDataPipeline;\n\n    NI_SUPPORT.inheritFromParent(child, parent);\n    var proto = child.prototype;\n\n    // Static Private Variables\n    // None\n\n    // Static Private Functions\n    // None\n\n    /** ### ni-chart properties*/\n    proto.addAllProperties = function (targetPrototype) {\n        parent.prototype.addAllProperties.call(this, targetPrototype);\n\n        /** **buffer-size** (number) - the size of the chart history buffer */\n        proto.addProperty(targetPrototype, {\n            propertyName: 'bufferSize',\n            defaultValue: 1024\n        });\n    };\n\n    /** ### ni-chart methods*/\n\n    /** **setHistoryBuffer(historyBuffer)** - changes the internal history buffer\n    of the chart to the provided one*/\n    proto.setHistoryBuffer = function (historyBuffer) {\n        this.historyBuffer = historyBuffer;\n    };\n\n    /** **getHistoryBuffer()** - returns a reference to the internal history\n    buffer of the chart*/\n    proto.getHistoryBuffer = function () {\n        return this.historyBuffer;\n    };\n\n    proto.createdCallback = function () {\n        parent.prototype.createdCallback.call(this);\n\n        // Public Instance Properties\n        this.historyBuffer = new global.HistoryBuffer(this.bufferSize, 1);\n        NationalInstruments.HtmlVI.DataPipeline.ChartDataPipeline.prototype.loadValueIntoHistoryBuffer(JSON.parse(this.value), this.historyBuffer);\n\n        // Private Instance Properties\n        // None\n    };\n\n    proto.convertToFlotFormat = function (value) {\n        return chartDataPipeline.prototype.toFlot(this, value);\n    };\n\n    proto.getSettings = function () {\n        var settings = parent.prototype.getSettings.call(this);\n\n        settings.series.historyBuffer = this.historyBuffer;\n\n        return settings;\n    };\n\n    proto.defineElementInfo(proto, 'ni-chart', 'HTMLNIChart');\n}(NationalInstruments.HtmlVI.Elements.Chart, NationalInstruments.HtmlVI.Elements.CartesianGraphBase, typeof global === 'object' && global ? global : this));\n","//****************************************\n// IntensityGraph Custom Element\n// DOM Registration: HTMLNIIntensityGraph\n// National Instruments Copyright 2017\n//****************************************\n\n/**\n## ni-intensity-graph\n\n> A custom element that allows to plot a 2D data set as a gradient map.\n\nAn ni-intensity-graph is a declarative way, that uses custom elements, to add an\nintensity graph to a web page. Specify your data sets using the value attribute\nand customize how the data is renderended using nested custom elements such as\n*ni-cartesian-axis*, *ni-color-scale*.\n\nExample:\n```html\n<ni-intensity-graph id=\"graph1\" value=\"[[0.1, 0.2], [0.3, 0.4], [0.5, 0.6]]\">\n    <ni-cartesian-axis label=\"X\" show show-label axis-position=\"bottom\" grid-lines></ni-cartesian-axis>\n    <ni-cartesian-axis label=\"Y\" show show-label axis-position=\"left\" grid-lines></ni-cartesian-axis>\n    <ni-color-scale label=\"Color Scale\" show show-label\n        markers='[{\"value\":0,\"color\":\"rgba(0,0,0,1)\"},{\"value\":50,\"color\":\"rgba(0,0,255,1)\"},{\"value\":100,\"color\":\"rgba(255,255,255,1)\"}]'\n        high-color=\"rgba(255,255,255,1)\" low-color=\"rgba(0,0,0,1)\">\n    </ni-color-scale>\n</ni-intensity-graph>\n```\n*/\n\nNationalInstruments.HtmlVI.Elements.IntensityGraph = function () {\n    'use strict';\n};\n\n// Static Public Variables\nNationalInstruments.HtmlVI.Elements.IntensityGraph.ScaleTypeEnum = Object.freeze({\n    COLORSCALE: 'colorScale',\n    COLORSCALEGRADIENT: 'colorScaleGradient'\n});\n\n(function (child, parent) {\n    'use strict';\n    // Static Private Reference Aliases\n    var NI_SUPPORT = NationalInstruments.HtmlVI.NISupport;\n    var SCALETYPE_ENUM = NationalInstruments.HtmlVI.Elements.IntensityGraph.ScaleTypeEnum;\n\n    NI_SUPPORT.inheritFromParent(child, parent);\n    var proto = child.prototype;\n\n    // Static Private Variables\n    var h = 50;\n    var w = 100;\n    var parsedData = null;\n\n    // Static Private Functions\n    // None\n\n    // Public Prototype Methods\n    proto.dataRange = function () {\n        if (parsedData === null || parsedData.length === 0) {\n            return { dataMin: 0, dataMax: Math.sqrt(h * h + w * w) };\n        } else {\n            var tempMin = Math.min();\n            var tempMax = Math.max();\n            for (var i = 0; i < parsedData.length; i++) {\n                var buf = parsedData[i];\n                for (var j = 0; j < buf.length; j++) {\n                    if (buf[j] > tempMax) {\n                        tempMax = buf[j];\n                    }\n\n                    if (buf[j] < tempMin) {\n                        tempMin = buf[j];\n                    }\n                }\n            }\n\n            return { dataMin: tempMin, dataMax: tempMax };\n        }\n    };\n\n    proto.createdCallback = function () {\n        parent.prototype.createdCallback.call(this);\n\n        // Public Instance Properties\n        this.autoScaleColor = false;\n\n        // Private Instance Properties\n        // None\n    };\n\n    proto.getSettings = function () {\n        var settings = {\n            series: {\n                intensitygraph: {\n                    show: true,\n                    legend: true\n                }\n            },\n            axisLabels: {\n                show: true\n            },\n            xaxes: [{}],\n            yaxes: [{}],\n            zoom: {\n                interactive: true,\n                trigger: null\n            },\n            pan: {\n                interactive: true\n            },\n            selection: {\n                mode: null\n            },\n            grid: {\n            }\n        };\n\n        return settings;\n    };\n\n    proto.configureGraph = function () {\n        var i, j, gradient = [];\n        var colorScaleAutoScale = \"exact\", colorScaleMin, colorScaleMax, colorScaleLabel, colorScaleShow, colorScaleShowTickLabels, colorScaleFont;\n        var cartesianGraphSettings = this.getSettings();\n        if (this.plotAreaMargin !== '') {\n            if (cartesianGraphSettings.grid === undefined) {\n                cartesianGraphSettings.grid = {};\n            }\n\n            cartesianGraphSettings.grid.margin = JSON.parse(this.plotAreaMargin);\n        }\n\n        var data = JSON.parse(this.value);\n        cartesianGraphSettings.series.intensitygraph.data =  data.length > 0 ? data : this.defaultData();\n        cartesianGraphSettings.xaxes = [];\n        cartesianGraphSettings.yaxes = [];\n        for (i = 0; i < this.axes.length; i++) {\n            var axis = this.axes[i];\n            var a = axis.getViewConfig();\n\n            if (a) {\n                var isColorScale = a.type === SCALETYPE_ENUM.COLORSCALE;\n                if (!isColorScale && (a.position === 'left' || a.position === 'right')) {\n                    cartesianGraphSettings.yaxes.push(a);\n                }\n\n                if (!isColorScale && (a.position === 'bottom' || a.position === 'top')) {\n                    cartesianGraphSettings.xaxes.push(a);\n                }\n\n                if (isColorScale) {\n                    var markers = JSON.parse(a.markers);\n                    for (j = 0; j < markers.length; j++) {\n                        gradient[j] = { value: markers[j].value, color: markers[j].color };\n                    }\n\n                    if (a.autoscale === 'none') {\n                        colorScaleMin = markers[0].value;\n                        colorScaleMax = markers[markers.length - 1].value;\n                        cartesianGraphSettings.series.intensitygraph.min = colorScaleMin;\n                        cartesianGraphSettings.series.intensitygraph.max = colorScaleMax;\n                    } else {\n                        this.autoScaleColor = true;\n                        var range = this.dataRange();\n                        colorScaleMin = range.dataMin;\n                        colorScaleMax = range.dataMax;\n                        cartesianGraphSettings.series.intensitygraph.min = range.dataMin;\n                        cartesianGraphSettings.series.intensitygraph.max = range.dataMax;\n                    }\n\n                    cartesianGraphSettings.series.intensitygraph.gradient = gradient;\n                    cartesianGraphSettings.series.intensitygraph.lowColor = a.lowColor;\n                    cartesianGraphSettings.series.intensitygraph.highColor = a.highColor;\n\n                    colorScaleAutoScale = a.autoscale;\n                    colorScaleLabel = a.axisLabel;\n                    colorScaleShow = a.show;\n                    colorScaleShowTickLabels = a.showTickLabels;\n                    colorScaleFont = a.font;\n                }\n            }\n        }\n\n        // when no axis is specified, let flot create the default X and Y axis\n        if(colorScaleShow) {\n            // add color scale after adding the invisible Y axis\n            cartesianGraphSettings.yaxes.push({\n                type: SCALETYPE_ENUM.COLORSCALEGRADIENT,\n                position: 'right',\n                show: false,\n                min: -0,\n                max: 50,\n                showMinorTicks: false,\n                showTicks: false,\n                gridLines: false,\n                reserveSpace: colorScaleShow === true,\n                labelWidth: 20,\n                labelHeight: 50,\n                disablePan: true,\n                disableZoom: true\n            });\n\n            cartesianGraphSettings.yaxes.push({\n                type: SCALETYPE_ENUM.COLORSCALE,\n                position: 'right',\n                min: colorScaleMin,\n                max: colorScaleMax,\n                axisLabel: colorScaleLabel,\n                show: colorScaleShow === true,\n                showMinorTicks: true,\n                showTicks: true,\n                gridLines: false,\n                showTickLabels: colorScaleShowTickLabels,\n                font: colorScaleFont,\n                autoscale: 'none',\n                disablePan: true,\n                disableZoom: true\n            });\n        }\n\n        if (this.graphTools) {\n            cartesianGraphSettings.zoom.interactive = this.graphTools.allowsScrollWheelZoom();\n            cartesianGraphSettings.pan.interactive = this.graphTools.allowsPan();\n            cartesianGraphSettings.selection.mode = this.graphTools.mode === 'zoom' ? 'smart' : null;\n        }\n\n        return cartesianGraphSettings;\n    };\n\n    proto.defaultData = function () {\n        return [[]];\n    };\n\n    proto.createData = function (plots, data) {\n        var plotConfig = {};\n\n        if (plots.length > 0) {\n            plotConfig = plots[0].getViewConfig();\n        }\n\n        // the data is placed in the config not the series because it does not match the series data type (and converting it might be expensive)\n        var graphdata = data.length > 0 ? data : this.defaultData();\n        parsedData = graphdata;\n        plotConfig.data = graphdata;\n        var cartesianGraphData = [plotConfig];\n\n        return cartesianGraphData;\n    };\n\n    proto.updateData = function () {\n        var graph = this.graph;\n        var data = this.createData(this.plots, JSON.parse(this.value));\n\n        if (!this.autoScaleColor) {\n            graph.setData(data);\n            graph.setupGrid();\n        } else {\n            this.updateGraphConfig();\n        }\n\n        graph.draw();\n    };\n\n    proto.convertToFlotFormat = function (data) {\n        return data;\n    };\n\n    proto.defineElementInfo(proto, 'ni-intensity-graph', 'HTMLNIIntensityGraph');\n}(NationalInstruments.HtmlVI.Elements.IntensityGraph, NationalInstruments.HtmlVI.Elements.CartesianGraphBase));\n","/*jslint nomen: true, devel:true*/\n/*global NationalInstruments*/\n//****************************************\n// Cartesian Axis Custom Element\n// DOM Registration: HTMLNICartesianAxis\n// National Instruments Copyright 2017\n//****************************************\n\n/**\n## ni-cartesian-axis\n\n> Add axes to a graph.\n\n```html\n<ni-cartesian-graph>\n  <ni-cartesian-axis show grid-lines show-label label=\"Axis 1\" axis-position='bottom'>\n  </ni-cartesian-axis>\n  <ni-cartesian-axis show grid-lines show-label label=\"Axis 2\" axis-position='top'>\n  </ni-cartesian-axis>\n  <ni-cartesian-axis show grid-lines show-label label=\"Axis 3\" axis-position='left'>\n  </ni-cartesian-axis>\n</ni-cartesian-graph>\n```\nMultiple vertical and horizontal axes can be added to a graph and configured.\n\nAxes can be placed to the right, left and on top or bottom of a graph, can use a\nlogarithmic scale if desired and can show time. A relative time format is supported\nalong with the absolute time format.\n\nThe minimum and maximum value of an axis can be specified. Autoscaling according\nto the data ranges dispayed is also possible.\n*/\n\nNationalInstruments.HtmlVI.Elements.CartesianAxis = function () {\n    'use strict';\n};\n\n// Static Public Variables\n// None\n\n(function (child, parent) {\n    'use strict';\n    // Static Private Reference Aliases\n    var NI_SUPPORT = NationalInstruments.HtmlVI.NISupport;\n\n    NI_SUPPORT.inheritFromParent(child, parent);\n    var proto = child.prototype;\n    var NINumericFormatters = window.NINumericFormatters;\n\n    // Static Private Variables\n    // None\n\n    // Static Private Functions\n    // None\n\n    var escapeHtmlString = function (string) {\n        var entityMap = {\n            '&': '&amp;',\n            '<': '&lt;',\n            '>': '&gt;',\n            '\"': '&quot;',\n            \"'\": '&apos;',\n            '/': '&#x2F;',\n            '`': '&#x60;'\n        };\n\n        return String(string).replace(/[&<>\"'`\\/]/g, function fromEntityMap (s) {\n            return entityMap[s];\n        });\n    };\n\n    var isTimeAxis = function (format) {\n        return (format.indexOf('LVTime') === 0) || (format.indexOf('LVRelativeTime') === 0);\n    };\n\n    var toFlotTimeFormat = function (format) {\n        if (format.indexOf('LVTime') === 0) {\n            return '%A';\n        }\n\n        if (format.indexOf('LVRelativeTime') === 0) {\n            return '%r';\n        }\n\n        return null;\n    };\n\n    //heuristic for reducing the number of decimals to [|log10(|num|) + tickDecimals|]\n    //where tickDecimals is compunted based on axis.max-axis.min\n    var reduceNumberOfDecimals = function(num, tickDecimals, max, min) {\n        var log10Max =  Math.log(Math.abs(max)) * Math.LOG10E,\n            log10Min = min !== 0 ? Math.log(Math.abs(min)) * Math.LOG10E : 0,\n            orderSizeDif = Math.floor(Math.abs(log10Max - log10Min)),\n            //the log10Value will be negative for small numbers\n            log10Value = num !== 0 ? Math.log(Math.abs(num)) * Math.LOG10E : 0,\n            //the precision computed in flot will be positive for small interval and negative otherwise\n            decimals = Math.abs(log10Value + tickDecimals);\n\n        //the range of axis is big so we need to reduce the no om decimals\n        if(orderSizeDif > 3) {\n          return Math.ceil(decimals * 3 / orderSizeDif);\n        }\n\n        return Math.ceil(decimals);\n    };\n\n    var siTickFormatter = function (num, axis, precision) {\n        var decimals = axis.tickDecimals;\n\n        if(axis.tickDecimals !== axis.options.tickDecimals) {\n            // tickDecimals was not computed based on user's decision and we have small numbers\n            decimals = reduceNumberOfDecimals(num, axis.tickDecimals, axis.max, axis.min);\n        }\n\n        if(precision) {\n              var precisionDecimals = reduceNumberOfDecimals(num, precision, axis.max, axis.min);\n              if(precisionDecimals > decimals) {\n                  //the precision of endpoints should not be smaller then the one used for major ticks\n                  return NINumericFormatters.prototype.toSiNotation(num, precisionDecimals);\n              }\n        }\n\n        return NINumericFormatters.prototype.toSiNotation(num, decimals);\n    };\n\n    var roundUsing = function (roundFunction, number, precisionDigits) {\n        var precision = Math.pow(10, precisionDigits);\n        var tempNumber = number * precision;\n        tempNumber = roundFunction(tempNumber);\n\n        return tempNumber / precision;\n    };\n\n    // Nx or Gx\n    // where N is for Fixed Notation and G for Significant Digits Precision\n    // x is a natural number representing the number of decimals/digits\n    var getDecTickFormatter = function (options) {\n        if (options.indexOf('G') === -1 && options.indexOf('N') === -1) {\n            //use flot default tick formatter\n            return null;\n        }\n\n        return function (num) {\n            var len = parseInt(options.slice(1));\n            var value = num;\n\n            if (options.indexOf('G') === 0) {\n                return NINumericFormatters.prototype.toDecPrecisionNotation(value, len);\n            } else {\n                value = roundUsing(Math.floor, num, len);\n                return NINumericFormatters.prototype.toDecFixedNotation(value, len);\n            }\n        };\n    };\n\n    var chooseTickFormatter = function (format, showTickLabels) {\n        if (format.indexOf('LVSI') === 0) {\n            return siTickFormatter;\n        }\n        // 'LVRelativeSeconds:Nx' or 'LVRelativeSeconds:Gx'\n        // Ex: 'LVRelativeSeconds:N4'\n        // where N represents the Fixed Notation,\n        // G represents the Significant Digits Precision and\n        // x is a number representing the number of decimals/digits\n        if (format.indexOf('LVRelativeSeconds') === 0) {\n            var colonMarkIndex = 18,\n                decFormatTypeSubstring = format.slice(colonMarkIndex);\n            return getDecTickFormatter(decFormatTypeSubstring);\n        }\n\n        // use flot tick formatter\n        return null;\n    };\n\n    var getDefaultAutoScale = function (axis, scaletype) {\n        if(scaletype === \"auto\") {\n            if(axis._parentGraph.nodeName === \"NI-INTENSITY-GRAPH\") {\n                return \"exact\";\n            } else {\n                if(axis._parentGraph.nodeName === \"NI-CHART\") {\n                    return (axis.axisPosition === \"bottom\" || axis.axisPosition === \"top\")\n                        ? \"sliding-window\"\n                        : \"loose\";\n                }\n\n                return (axis.axisPosition === \"bottom\" || axis.axisPosition === \"top\")\n                    ? \"exact\"\n                    : \"loose\";\n            }\n        }\n\n        return scaletype;\n    };\n\n    var getWindowSize = function (axis) {\n        if(axis._parentGraph.nodeName === \"NI-CHART\" && (axis.axisPosition === \"bottom\" || axis.axisPosition === \"top\")) {\n            var windowSize = (axis._defaultMax - axis._defaultMin);\n            return (windowSize > 1 ? windowSize : 1024);\n        }\n\n        return undefined;\n    }\n\n    /**### ni-cartesian-axis properties*/\n    proto.addAllProperties = function (targetPrototype) {\n        parent.prototype.addAllProperties.call(this, targetPrototype);\n\n        /** **axis-ref** - an axis id used to bind plots to the axes. Default: ''*/\n        proto.addProperty(targetPrototype, {\n            propertyName: 'axisRef',\n            defaultValue: '',\n        });\n\n        /** **show** (boolean) - if true the axis will be visible. Default: false*/\n        proto.addProperty(targetPrototype, {\n            propertyName: 'show',\n            defaultValue: false\n        });\n\n        /** **label** (string) - the name of the axis. Default: '' */\n        proto.addProperty(targetPrototype, {\n            propertyName: 'label',\n            defaultValue: ''\n        });\n\n        /**\n        **axis-position** (string) - the position of the axis. Default: 'left'\n         Accepted values: 'top', 'bottom', 'left' and 'right'\n        */\n        proto.addProperty(targetPrototype, {\n            propertyName: 'axisPosition',\n            defaultValue: 'left'\n        });\n\n        /** **show-label** (boolean) - if true the axis label will be visible.\n        Default: false */\n        proto.addProperty(targetPrototype, {\n            propertyName: 'showLabel',\n            defaultValue: false\n        });\n\n        /** **minimum** (number) - the minimum axis value. Default: 0*/\n        proto.addProperty(targetPrototype, {\n            propertyName: 'minimum',\n            defaultValue: 0\n        });\n\n        /** **maximum** (number) - the maximum axis value. Default: 1*/\n        proto.addProperty(targetPrototype, {\n            propertyName: 'maximum',\n            defaultValue: 1\n        });\n\n        /** **auto-scale** (string) - if 'exact' or 'loose' the axis will adapt to the data\n        ranges of the plots assigned to that axis. if 'none', the axis will adapt to the\n        minimum and maximum options. For 'growexact' and 'growloose' the axis will adapt only when\n        the new data value is bigger than the old one. Default: 'auto'*/\n        proto.addProperty(targetPrototype, {\n            propertyName: 'autoScale',\n            defaultValue: 'auto'\n        });\n\n        /** **log-scale** (boolean) - if true the axis will be a log axis. Default: false*/\n        proto.addProperty(targetPrototype, {\n            propertyName: 'logScale',\n            defaultValue: false\n        });\n\n        /**\n        **format** (string) - the format of the tick labels. Default: ''\n        TODO: document the format\n        */\n        proto.addProperty(targetPrototype, {\n            propertyName: 'format',\n            defaultValue: ''\n        });\n\n        /** **show-tick-labels** (string) - which of the tick labels are visible.\n        Possible values: 'none', 'endpoints', 'major' and 'all'. Default: 'all'.\n        For 'endpoints' only the minimum and the maximum values will be visible\n        at the edges of the axis. To make some intermediary values visible use\n        'major', and 'all' to show all of them.*/\n        proto.addProperty(targetPrototype, {\n            propertyName: 'showTickLabels',\n            defaultValue: 'all'\n        });\n\n        /** **grid-lines** (boolean) - if true the grid lines for the axis will\n        be visible. Default: false*/\n        proto.addProperty(targetPrototype, {\n            propertyName: 'gridLines',\n            defaultValue: false\n        });\n\n        /** **show-ticks** (boolean) - if true the tick lines for the axis will\n        be visible. A tick line is a short line which connects the tick label with\n        the axis. Default: false*/\n        proto.addProperty(targetPrototype, {\n            propertyName: 'showTicks',\n            defaultValue: false\n        });\n\n        /** **show-minor-ticks** (boolean) - if true the minor tick lines for the axis\n        will be visible. Minor tick lines are short lines (half of the tick line\n        length) which subdivide the interval between tick lines in five intervals.\n        Default: false*/\n        proto.addProperty(targetPrototype, {\n            propertyName: 'showMinorTicks',\n            defaultValue: false\n        });\n    };\n\n    proto.createdCallback = function () {\n        parent.prototype.createdCallback.call(this);\n\n        // Public Instance Properties\n        // None\n\n        // Private Instance Properties\n        this._defaultMin = this._minimum;\n        this._defaultMax = this._maximum;\n        this._parentGraph = undefined;\n    };\n\n    proto.sendEventToParentGraph = function (name) {\n        var eventConfig;\n\n        if (this._parentGraph !== undefined) {\n            eventConfig = {\n                bubbles: true,\n                cancelable: true,\n                detail: {\n                    element: this\n                }\n            };\n\n            this._parentGraph.dispatchEvent(new CustomEvent(name, eventConfig));\n        }\n    };\n\n    proto.attachedCallback = function () {\n        var firstCall = parent.prototype.attachedCallback.call(this);\n\n        if (this.parentElement instanceof NationalInstruments.HtmlVI.Elements.CartesianGraphBase) {\n            this._parentGraph = this.parentElement;\n            this.sendEventToParentGraph('ni-cartesian-axis-attached');\n        } else {\n            NI_SUPPORT.error('Axis with following id does not have a parentGraph', this.niControlId);\n            this._parentGraph = undefined;\n        }\n\n        this._defaultMin = this._minimum;\n        this._defaultMax = this._maximum;\n        return firstCall;\n    };\n\n    proto.propertyUpdated = function (propertyName) {\n        parent.prototype.propertyUpdated.call(this, propertyName);\n\n        this.sendEventToParentGraph('ni-axis-changed');\n    };\n\n    proto.detachedCallback = function () {\n        parent.prototype.detachedCallback.call(this);\n\n        this.sendEventToParentGraph('ni-cartesian-axis-detached');\n        this._parentGraph = undefined;\n    };\n\n    proto.setFont = function (fontSize, fontFamily, fontWeight, fontStyle, textDecoration) {\n        parent.prototype.setFont.call(this, fontSize, fontFamily, fontWeight, fontStyle, textDecoration);\n\n        this.sendEventToParentGraph('ni-axis-changed');\n    };\n\n    // here we transform the configuration from the one used by the custom element to the one understood by Flot\n    proto.getViewConfig = function () {\n        var currStyle = window.getComputedStyle(this),\n            grow = (/grow/).test(this.autoScale),\n            scaletype = grow ? this.autoScale.replace(/grow/, '') : this.autoScale;\n\n        var flotConfig = {\n            axisLabel: this.showLabel ? escapeHtmlString(this.label) : undefined,\n            show: this.show,\n            position: this.axisPosition,\n            min: this.minimum,\n            max: this.maximum,\n            autoscale: getDefaultAutoScale(this, scaletype),\n            windowSize: getWindowSize(this),\n            growOnly: grow,\n            mode: this.logScale ? 'log' : 'linear',\n            element: this,\n            format: isTimeAxis(this.format) ? 'time' : null,\n            timeformat: toFlotTimeFormat(this.format),\n            tickFormatter: chooseTickFormatter(this.format, this.showTickLabels),\n            showTickLabels: this.showTickLabels,\n            gridLines: this.gridLines,\n            showTicks: this.showTicks,\n            showMinorTicks: this.showMinorTicks,\n            color: currStyle.color,\n            offset: this._navigationOffset || {below: 0, above: 0},\n            font: {\n                size: parseFloat(currStyle.fontSize),\n                style: currStyle.fontStyle,\n                weight: currStyle.fontWeight,\n                family: currStyle.fontFamily,\n                color: 'inherit'\n            }\n        };\n\n        return flotConfig;\n    };\n\n    // get the flot axis coresponding to this element\n    proto.getFlotAxis = function () {\n        var graph = this._parentGraph.graph;\n        var axes = graph.getAxes();\n        var that = this;\n\n        var key =  Object.keys(axes).filter(function (axis) {\n            return axes[axis].options.element === that;\n        })[0];\n\n        return axes[key];\n    };\n\n    // set the axis min and max to the data min and max\n    proto.scaleOnce = function () {\n        var axis = this.getFlotAxis(),\n            flot = this._parentGraph.graph,\n            allSeries = flot.getData(),\n            ranges = allSeries\n                .filter(function(series) {\n                    return series.xaxis === axis || series.yaxis === axis;\n                })\n                .map(function(series) {\n                    return flot.computeRangeForDataSeries(series, true);\n                }),\n            defaultRange = {\n                xmin: Number.POSITIVE_INFINITY,\n                ymin: Number.POSITIVE_INFINITY,\n                xmax: Number.NEGATIVE_INFINITY,\n                ymax: Number.NEGATIVE_INFINITY\n            },\n            range = ranges.reduce(function(p, c) {\n                return {\n                    xmin: Math.min(p.xmin, c.xmin),\n                    ymin: Math.min(p.ymin, c.ymin),\n                    xmax: Math.max(p.xmax, c.xmax),\n                    ymax: Math.max(p.ymax, c.ymax)\n                };\n            }, defaultRange);\n\n        this._navigationOffset = axis.options.offset = {below: 0, above: 0};\n\n        var min = axis.direction === 'x' ? range.xmin : range.ymin;\n        var max = axis.direction === 'x' ? range.xmax : range.ymax;\n\n        this.minimum = min !== Number.POSITIVE_INFINITY ? min : this._defaultMin;\n        this.maximum = max !== Number.NEGATIVE_INFINITY ? max : this._defaultMax;\n    };\n\n    // called after an user interacts with the plot so the attributes of the element are in sync with the plot\n    proto.syncWithFlot = function () {\n        var axis = this.getFlotAxis();\n\n        if (typeof axis.options.min === 'number') {\n            this._minimum = axis.options.min;\n            this._maximum = axis.options.max;\n        }\n\n        if(typeof axis.options.offset === 'object') {\n            this._navigationOffset = {\n                below: axis.options.offset.below,\n                above: axis.options.offset.above\n            };\n        }\n\n        if (this._parentGraph !== undefined) {\n            this._parentGraph.notifyScaleLegend('ni-axis-changed', this);\n        }\n    };\n\n    proto.defineElementInfo(proto, 'ni-cartesian-axis', 'HTMLNICartesianAxis');\n\n}(NationalInstruments.HtmlVI.Elements.CartesianAxis, NationalInstruments.HtmlVI.Elements.Visual));\n","/*jslint nomen: true, devel:true*/\n/*global NationalInstruments*/\n//****************************************\n// Color scale Custom Element\n// DOM Registration: HTMLNIColorScale\n// National Instruments Copyright 2017\n//****************************************\n\n/**\n## ni-color-scale\n\n> A color scale added to an intensity graph is used to configure the color\ngradients.\n\n```html\n<ni-intensity-graph>\n  <ni-cartesian-axis ...></ni-cartesian-axis>\n  <ni-cartesian-axis ...></ni-cartesian-axis>\n  <ni-color-scale show show-label label=\"Color Scale\" low-color=\"blue\" high-color=\"red\">\n  </ni-color-scale>\n</ni-intensity-graph>\n```\n\nA single color scale can be added to an intensity graph to visualize and control\nthe maping from values to the color gradient displayed.\n\nColor scales are only supported by intensity graphs, when added to other types of\nwebcharts they do nothing.\n\nThe color gradients are described by an array of stops, for example this:\n\n```js\n[\n{\"value\":0,\"color\":\"rgba(0,0,0,1)\"},\n{\"value\":0.5,\"color\":\"rgba(0,0,255,1)\"},\n{\"value\":1,\"color\":\"rgba(255,255,255,1)\"}\n]\n```\n\ndescribes a color gradient going from black at the stop with the value 0, to\nblue at the stop with the value 0.5 and then to white at the stop with the value\n1.\n*/\n\n// Constructor Function: Empty (Not Invoked)\nNationalInstruments.HtmlVI.Elements.ColorScale = function () {\n    'use strict';\n};\n\n// Static Public Variables\n// None\n\n(function (child, parent) {\n    'use strict';\n    // Static Private Reference Aliases\n    var NI_SUPPORT = NationalInstruments.HtmlVI.NISupport;\n    var SCALETYPE_ENUM = NationalInstruments.HtmlVI.Elements.IntensityGraph.ScaleTypeEnum;\n\n    NI_SUPPORT.inheritFromParent(child, parent);\n    var proto = child.prototype;\n\n    // Static Private Variables\n    // None\n\n    // Static Private Functions\n    // None\n\n    /** ### ni-color-scale properties*/\n    proto.addAllProperties = function (targetPrototype) {\n        parent.prototype.addAllProperties.call(this, targetPrototype);\n\n        /** **label** (string) - the name of the color scale. Default: '' */\n        proto.addProperty(targetPrototype, {\n            propertyName: 'label',\n            defaultValue: ''\n        });\n\n        /** **show** (boolean) - if true the color scale will be visible. Default: false */\n        proto.addProperty(targetPrototype, {\n            propertyName: 'show',\n            defaultValue: false\n        });\n\n        /** **show-label** (boolean) - if true the color scale label will be visible. Default: false */\n        proto.addProperty(targetPrototype, {\n            propertyName: 'showLabel',\n            defaultValue: false\n        });\n\n        /** **axis-position** (string) - the position of the color scale. Default: 'right'.\n        Accepted values: *'left'*, *'right'* */\n        proto.addProperty(targetPrototype, {\n            propertyName: 'axisPosition',\n            defaultValue: 'right'\n        });\n\n        /** **show-tick-labels** (string) - which of the tick labels are visible.\n        Possible values: 'none', 'endpoints', 'major' and 'all'. Default: 'all'.\n        For 'endpoints' only the minimum and the maximum values will be visible\n        at the edges of the axis. To make some intermediary values visible use\n        'major', and 'all' to show all of them.*/\n        proto.addProperty(targetPrototype, {\n            propertyName: 'showTickLabels',\n            defaultValue: 'all'\n        });\n\n        /** **high-color** (string) - the color assigned to the values bigger than\n        the color scale maximum. Default: '#ffffff'.\n        Accepted values: a CSS color string*/\n        proto.addProperty(targetPrototype, {\n            propertyName: 'highColor',\n            defaultValue: '#ffffff'\n        });\n\n        /** **low-color** (string) - the color assigned to the values smaller than\n        the color scale minimum. Default: '#000000'.\n        Accepted values: a CSS color string*/\n        proto.addProperty(targetPrototype, {\n            propertyName: 'lowColor',\n            defaultValue: '#000000'\n        });\n\n        /** **markers** (string) - the color gradient used to map values to colorScaleAxis. Default: ''.\n        TODO: document the gradient format, better default value*/\n        proto.addProperty(targetPrototype, {\n            propertyName: 'markers',\n            defaultValue: '' // json string for an array of markers\n        });\n\n        /** **auto-scale** (string) - if 'exact' the color gradient will strech to adapt to the\n        range of the data set provided. Default: 'auto'*/\n        proto.addProperty(targetPrototype, {\n            propertyName: 'autoScale',\n            defaultValue: 'auto'\n        });\n\n        /** **minimum** (number) - the minimum axis value. Default: 0*/\n        proto.addProperty(targetPrototype, {\n            propertyName: 'minimum',\n            defaultValue: 0\n        });\n\n        /** **maximum** (number) - the maximum axis value. Default: 1*/\n        proto.addProperty(targetPrototype, {\n            propertyName: 'maximum',\n            defaultValue: 1\n        });\n    };\n\n    proto.createdCallback = function () {\n        parent.prototype.createdCallback.call(this);\n\n        // Public Instance Properties\n        // None\n\n        // Private Instance Properties\n        this._parentGraph = undefined;\n    };\n\n    proto.sendEventToParentGraph = function (name) {\n        var eventConfig;\n\n        if (this._parentGraph !== undefined) {\n            eventConfig = {\n                bubbles: true,\n                cancelable: true,\n                detail: {\n                    element: this\n                }\n            };\n\n            this._parentGraph.dispatchEvent(new CustomEvent(name, eventConfig));\n        }\n    };\n\n    proto.attachedCallback = function () {\n        var firstCall = parent.prototype.attachedCallback.call(this);\n\n        if (this.parentElement instanceof NationalInstruments.HtmlVI.Elements.IntensityGraph) {\n            this._parentGraph = this.parentElement;\n            this.sendEventToParentGraph('ni-cartesian-axis-attached');\n        } else {\n            NI_SUPPORT.error('Color scale with following id does not have an intensity-graph parent', this.niControlId);\n            this._parentGraph = undefined;\n        }\n\n        return firstCall;\n    };\n\n    proto.propertyUpdated = function (propertyName) {\n        parent.prototype.propertyUpdated.call(this, propertyName);\n\n        this.sendEventToParentGraph('ni-axis-changed');\n    };\n\n    proto.detachedCallback = function () {\n        parent.prototype.detachedCallback.call(this);\n\n        this.sendEventToParentGraph('ni-cartesian-axis-detached');\n        this._parentGraph = undefined;\n    };\n\n    proto.setFont = function (fontSize, fontFamily, fontWeight, fontStyle, textDecoration) {\n        parent.prototype.setFont.call(this, fontSize, fontFamily, fontWeight, fontStyle, textDecoration);\n\n        this.sendEventToParentGraph('ni-axis-changed');\n    };\n\n    // getViewConfig transforms the configuration from the one used by the custom element to the one understood by Flot */\n    proto.getViewConfig = function () {\n        var currStyle = window.getComputedStyle(this),\n            grow = (/grow/).test(this.autoScale),\n            autoscale = grow ? this.autoScale.replace(/grow/, '') : this.autoScale;\n\n        var flotConfig = {\n            type: SCALETYPE_ENUM.COLORSCALE,\n            axisLabel: this.showLabel ? this.label : undefined,\n            show: this.show,\n            autoscale: ((autoscale === \"auto\") ? \"none\" : autoscale),\n            growOnly: grow,\n            min: this.minimum,\n            max: this.maximum,\n            position: this.axisPosition,\n            lowColor: this.lowColor,\n            highColor: this.highColor,\n            markers: this.markers,\n            showTickLabels: this.showTickLabels,\n            font: {\n                size: parseFloat(currStyle.fontSize),\n                style: currStyle.fontStyle,\n                weight: currStyle.fontWeight,\n                family: currStyle.fontFamily,\n                color: 'inherit'\n            },\n            disableZoom: true,\n            disablePan: true\n        };\n\n        return flotConfig;\n    };\n\n    // get the flot axis coresponding to this element\n    proto.getFlotAxis = function () {\n        if (this._parentGraph) {\n            var colorScaleAxis = this._parentGraph.graph\n                    .getYAxes()\n                    .filter(function (axis) {\n                        return axis.options.type === SCALETYPE_ENUM.COLORSCALE;\n                    })[0];\n            return colorScaleAxis;\n        }\n\n    };\n\n    proto.defineElementInfo(proto, 'ni-color-scale', 'HTMLNIColorScale');\n}(NationalInstruments.HtmlVI.Elements.ColorScale, NationalInstruments.HtmlVI.Elements.Visual));\n","/*jslint nomen: true, devel:true*/\n/*global NationalInstruments*/\n//****************************************\n// Cartesian Plot\n// DOM Registration: HTMLNICartesianPlot\n// National Instruments Copyright 2017\n//****************************************\n\n/**\n## ni-cartesian-plot\n\n> A custom element that, along with a nested ni-cartesian-plot-renderer describes\nthe way a data plot is rendered.\n\nA plot is the graphic representation of a data set. A graph or chart can show\nsimultaneously multiple data sets (plots). To customize how a data set, or plot\nis rendered use ni-cartesian-plot elements nested inside a graph or chart\nelement.\n\n```html\n<ni-cartesian-graph>\n  <ni-cartesian-axis axis-ref=\"axis1ref\" show axis-position=\"bottom\"></ni-cartesian-axis>\n  <ni-cartesian-axis axis-ref=\"axis2ref\" show axis-position=\"left\"></ni-cartesian-axis>\n  <ni-cartesian-plot show label=\"plot 1\" xaxis=\"axis1ref\" yaxis=\"axis2ref\">\n    add an ni-cartesian-plot-renderer here\n  </ni-cartesian-plot>\n</ni-cartesian-graph>\n```\n*/\n\n\nNationalInstruments.HtmlVI.Elements.CartesianPlot = function () {\n    'use strict';\n};\n\n// Static Public Variables\n// None\n\n(function (child, parent) {\n    'use strict';\n    // Static Private Reference Aliases\n    var NI_SUPPORT = NationalInstruments.HtmlVI.NISupport;\n\n    NI_SUPPORT.inheritFromParent(child, parent);\n    var proto = child.prototype;\n\n    // Static Private Variables\n    var defaultPlotConfig = {\n        lines: {\n            show: false\n        }\n    };\n\n    // Static Private Functions\n    // None\n\n    /** ### ni-cartesian-plot properties */\n    proto.addAllProperties = function (targetPrototype) {\n        parent.prototype.addAllProperties.call(this, targetPrototype);\n\n        /** **show** (boolean) - if true the plot will be shown. Default: false */\n        proto.addProperty(targetPrototype, {\n            propertyName: 'show',\n            defaultValue: false\n        });\n\n        /** **label** (string) - the name of the plot. Default: '' */\n        proto.addProperty(targetPrototype, {\n            propertyName: 'label',\n            defaultValue: ''\n        });\n\n        /** **xaxis** (string) - the X axis that this plot will use. Default: ''.\n        Accepted values: an axis-ref. In case an xaxis with the specified axis-ref\n        is not found the first xaxis is used*/\n        proto.addProperty(targetPrototype, {\n            propertyName: 'xaxis',\n            defaultValue: ''\n        });\n\n        /** **yaxis** (string) - the Y axis that this plot will use. Default: ''.\n        Accepted values: an axis-ref. In case an yaxis with the specified axis-ref\n        is not found the first yaxis is used*/\n        proto.addProperty(targetPrototype, {\n            propertyName: 'yaxis',\n            defaultValue: ''\n        });\n\n        /** **enable-hover** (boolean) - if true, when the mouse hovers close to a point on the plot\n        a tooltip with the point value will be shown */\n        proto.addProperty(targetPrototype, {\n            propertyName: 'enableHover',\n            defaultValue: false\n        });\n\n        /** **hover-format** (string) - specifies the format of the text shown in the tooltip. TODO: document the format*/\n        proto.addProperty(targetPrototype, {\n            propertyName: 'hoverFormat',\n            defaultValue: ''\n        });\n    };\n\n    proto.createdCallback = function () {\n        parent.prototype.createdCallback.call(this);\n\n        // Public Instance Properties\n        // None\n\n        // Private Instance Properties\n        this._parentGraph = undefined;\n    };\n\n    proto.sendEventToParentGraph = function (name, originalSource) {\n        var eventConfig;\n\n        if (this._parentGraph !== undefined) {\n            eventConfig = {\n                bubbles: false,\n                cancelable: true,\n                detail: {\n                    element: this,\n                    originalSource: originalSource\n                }\n            };\n\n            this._parentGraph.dispatchEvent(new CustomEvent(name, eventConfig));\n        }\n    };\n\n    proto.attachedCallback = function () {\n        var firstCall = parent.prototype.attachedCallback.call(this);\n\n        if (this.parentElement instanceof NationalInstruments.HtmlVI.Elements.CartesianGraph || this.parentElement instanceof NationalInstruments.HtmlVI.Elements.Chart) {\n            this._parentGraph = this.parentElement;\n            this.addPlotItemListeners();\n            this.sendEventToParentGraph('ni-cartesian-plot-attached');\n        } else {\n            NI_SUPPORT.error('Plot with following id does not have a parentGraph', this.niControlId);\n            this._parentGraph = undefined;\n        }\n\n        return firstCall;\n    };\n\n    proto.addPlotItemListeners = function () {\n        var that = this;\n        that.addEventListener('ni-cartesian-plot-renderer-attached', function (evt) {\n            if (evt.target === that) {\n                this.plotRenderer = evt.detail.element;\n                this.sendEventToParentGraph('ni-cartesian-plot-renderer-attached', evt.detail.element);\n            }\n        });\n\n        that.addEventListener('ni-cartesian-plot-renderer-detached', function (evt) {\n            if (evt.target === that) {\n                this.plotRenderer = undefined;\n                this.sendEventToParentGraph('ni-cartesian-plot-renderer-detached', evt.detail.element);\n            }\n        });\n\n        that.addEventListener('ni-cartesian-plot-renderer-changed', function (evt) {\n            if (evt.target === that) {\n                this.sendEventToParentGraph('ni-cartesian-plot-renderer-changed', evt.detail.element);\n            }\n        });\n    };\n\n    proto.detachedCallback = function () {\n        parent.prototype.detachedCallback.call(this);\n\n        this.sendEventToParentGraph('ni-cartesian-plot-detached');\n        this._parentGraph = undefined;\n    };\n\n    proto.propertyUpdated = function (propertyName) {\n        parent.prototype.propertyUpdated.call(this, propertyName);\n\n        this.sendEventToParentGraph('ni-cartesian-plot-changed');\n    };\n\n    var getYAxisIndexByNIControlID = function (graph, id) {\n        var index = 0;\n\n        for (var i = 0; i < graph.axes.length; i++) {\n            var axis = graph.axes[i];\n            if ((axis.axisPosition === 'left') || (axis.axisPosition ==='right')) {\n                index ++;\n                if (axis.axisRef === id || axis.niControlId === id) {\n                    return index;\n                }\n            }\n        }\n\n        return 1;\n    }\n\n    var getXAxisIndexByNIControlID = function (graph, id) {\n        var index = 0;\n\n        for (var i = 0; i < graph.axes.length; i++) {\n            var axis = graph.axes[i];\n            if ((axis.axisPosition === 'top') || (axis.axisPosition ==='bottom')) {\n                index ++;\n                if (axis.axisRef === id || axis.niControlId === id) {\n                    return index;\n                }\n            }\n        }\n\n        return 1;\n    }\n\n    proto.getViewConfig = function () {\n        var plotConfig = defaultPlotConfig;\n        if (this.plotRenderer !== undefined && this.show === true) {\n            plotConfig = this.plotRenderer.getViewConfig();\n            plotConfig.hoverable = this.enableHover;\n        }\n\n        plotConfig.xaxis = getXAxisIndexByNIControlID(this._parentGraph, this.xaxis);\n        plotConfig.yaxis = getYAxisIndexByNIControlID(this._parentGraph, this.yaxis);\n\n        return plotConfig;\n    };\n\n    proto.defineElementInfo(proto, 'ni-cartesian-plot', 'HTMLNICartesianPlot');\n}(NationalInstruments.HtmlVI.Elements.CartesianPlot, NationalInstruments.HtmlVI.Elements.Visual));\n","/*jslint nomen: true, devel:true*/\n/*global NationalInstruments*/\n//****************************************\n// Cartesian Plot Renderer\n// DOM Registration: HTMLNICartesianPlotRenderer\n// National Instruments Copyright 2017\n//****************************************\n\n/**\n## ni-cartesian-plot-renderer\n\n> Describes the way a plot is rendered\n\nThe four ways to render a plot are the line renderer, the area fill renderer,\nthe points renderer and the bar renderer. You can combine these in any way you\nlike for a single plot and different plots can have different renderers.\n\nThe fastest one is the line renderer and this is the recomended one for large\ndata sets and if you care about performance.\n\nThe render can be further customized by using the renderer properties.\n*/\n// Constructor Function: Empty (Not Invoked)\nNationalInstruments.HtmlVI.Elements.CartesianPlotRenderer = function () {\n    'use strict';\n};\n\n// Static Public Variables\n// None\n\n(function (child, parent) {\n    'use strict';\n    // Static Private Reference Aliases\n    var NI_SUPPORT = NationalInstruments.HtmlVI.NISupport;\n\n    NI_SUPPORT.inheritFromParent(child, parent);\n    var proto = child.prototype;\n\n    // Static Private Variables\n    // None\n\n    // Static Private Functions\n    // None\n\n    /** ### ni-cartesian-plot-renderer properties */\n    proto.addAllProperties = function (targetPrototype) {\n        parent.prototype.addAllProperties.call(this, targetPrototype);\n\n        /** **line-stroke** (string) - the color of the line drawn. Default: 'auto'.\n        Accepted values: a CSS color string, an empty string or 'auto'. If an empty string\n        is passed the line rendering for the plot is disabled. If 'auto' is passed a color\n        will be automatically assigned to the plot.\n        */\n        proto.addProperty(targetPrototype, {\n            propertyName: 'lineStroke',\n            defaultValue: 'auto'\n        });\n\n        /** **line-width** (number) - the width of the line. Use 1 for maximum\n        performance as thicker lines can be slower, depending on the browser and\n        the graphic card used. Default: 1*/\n        proto.addProperty(targetPrototype, {\n            propertyName: 'lineWidth',\n            defaultValue: 1\n        });\n\n        /** **line-style** (string) - the style of the line drawn. Default: 'solid'.\n        Accepted values: *'solid'*, *'dot'*, *'mediumdash'*, *'dashdot'* and *'largedash'*\n        */\n        proto.addProperty(targetPrototype, {\n            propertyName: 'lineStyle',\n            defaultValue: 'solid'\n        });\n\n        /** **area-fill** (string) - the color of the area fill drawn under/over\n        the line. Default: ''.\n        Accepted values: a CSS color string, an empty string or auto. If an empty string\n        is passed the area fill for the plot is disabled. If 'auto' is passed a color\n        will be automatically assigned to the fill.\n        */\n        proto.addProperty(targetPrototype, {\n            propertyName: 'areaFill',\n            defaultValue: ''\n        });\n\n        /**\n        **area-base-line** (string) - determines the direction the area fill.\n        Default: 'zero'. Accepted values:\n\n        * 'zero': fill the line towards 0\n        * '-infinity': fill the line towards -Infinity.\n        * 'infinity': fill the line towards Infinity.\n        */\n        proto.addProperty(targetPrototype, {\n            propertyName: 'areaBaseLine',\n            defaultValue: 'zero'\n        });\n\n        /** **bar-fill** (string) - the color of the bars drawn. Default: ''.\n        Accepted values: a CSS color string, an empty string or auto. If an empty\n        string is passed the bars rendering for the plot is disabled. If 'auto'\n        is passed a color will be automatically assigned to the bars.\n        */\n        proto.addProperty(targetPrototype, {\n            propertyName: 'barFill',\n            defaultValue: ''\n        });\n\n        /** **point-color** (string) - the color of the points drawn. Default: ''.\n        Accepted values: a CSS color string, an empty string or auto. If an empty\n        string is passed the points rendering for the plot is disabled. If 'auto'\n        is passed a color will be automatically assigned to the points.\n        */\n        proto.addProperty(targetPrototype, {\n            propertyName: 'pointColor',\n            defaultValue: ''\n        });\n\n        /** **point-size** (number) - the size of the points drawn. Default: 5.*/\n        proto.addProperty(targetPrototype, {\n            propertyName: 'pointSize',\n            defaultValue: 5\n        });\n\n        /** **point-shape** (string) - determines the shape of the points.\n        Default: 'ellipse'. Accepted values: 'ellipse', 'square', 'diamond',\n        'triangle', 'cross'\n        */\n        proto.addProperty(targetPrototype, {\n            propertyName: 'pointShape',\n            defaultValue: 'ellipse'\n        });\n    };\n\n    proto.createdCallback = function () {\n        parent.prototype.createdCallback.call(this);\n\n        // Public Instance Properties\n        // None\n\n        // Private Instance Properties\n        this._parentPlot = undefined;\n    };\n\n    proto.sendEventToParentPlot = function (name) {\n        var eventConfig;\n\n        if (this._parentPlot !== undefined) {\n            eventConfig = {\n                bubbles: false,\n                cancelable: true,\n                detail: {\n                    element: this\n                }\n            };\n\n            this._parentPlot.dispatchEvent(new CustomEvent(name, eventConfig));\n        }\n    };\n\n    proto.attachedCallback = function () {\n        var firstCall = parent.prototype.attachedCallback.call(this);\n\n        if (this.parentElement instanceof NationalInstruments.HtmlVI.Elements.CartesianPlot) {\n            this._parentPlot = this.parentElement;\n            this.sendEventToParentPlot('ni-cartesian-plot-renderer-attached');\n        } else {\n            NI_SUPPORT.error('Plot renderer with following id does not have a parentPlot', this.niControlId);\n            this._parentPlot = undefined;\n        }\n\n        return firstCall;\n    };\n\n    proto.propertyUpdated = function (propertyName) {\n        parent.prototype.propertyUpdated.call(this, propertyName);\n\n        this.sendEventToParentPlot('ni-cartesian-plot-renderer-changed');\n    };\n\n    proto.detachedCallback = function () {\n        parent.prototype.detachedCallback.call(this);\n\n        this.sendEventToParentPlot('ni-cartesian-plot-renderer-detached');\n    };\n\n    proto.toFlotLineStyle = function (style) {\n        switch (style) {\n            case 'solid':\n                return undefined;\n            case 'dot':\n                return [this.lineWidth, this.lineWidth * 2];\n            case 'mediumdash':\n                return [this.lineWidth * 3, this.lineWidth * 2];\n            case 'dashdot':\n                return [this.lineWidth * 3, this.lineWidth * 2, this.lineWidth, this.lineWidth * 2];\n            case 'largedash':\n                return [this.lineWidth * 5, this.lineWidth * 3];\n            default:\n                return undefined;\n        }\n    };\n\n    var toFillTowards = function (areaBaseLine) {\n        switch (areaBaseLine) {\n            case 'zero':\n                return 0;\n            case 'infinity':\n                return Infinity;\n            case 'positiveinfinity':\n                return Infinity;\n            case '-infinity':\n                return -Infinity;\n            case 'negativeinfinity':\n                return -Infinity;\n            default:\n                return undefined;\n        }\n    };\n\n    var areaFillOpacity = 0.6;\n\n    proto.getColor = function () {\n        var color = this.lineStroke || this.pointColor || this.areaFill || this.barFill;\n        if (color === 'auto') {\n            return null;\n        }\n\n        return color;\n    }\n\n    proto.getViewConfig = function () {\n        return {\n            color: this.getColor(),\n            lines: {\n                show: this.lineStroke !== '' || this.areaFill !== '',\n                lineWidth: this.lineWidth,\n                fill: this.areaFill !== '' ? areaFillOpacity : false,\n                zero: false,\n                fillTowards: toFillTowards(this.areaBaseLine),\n                dashes: this.toFlotLineStyle(this.lineStyle)\n            },\n            points: {\n                show: this.pointColor !== '',\n                radius: this.pointSize ? this.pointSize / 2 : 2,\n                symbol: this.pointShape\n            },\n            bars: {\n                show: this.barFill !== '',\n                barWidth: 0.75, // TODO this is only valid if the distance between points is 1\n                align: 'center',\n                zero: false\n            }\n        };\n    };\n\n    proto.defineElementInfo(proto, 'ni-cartesian-plot-renderer', 'HTMLNICartesianPlotRenderer');\n}(NationalInstruments.HtmlVI.Elements.CartesianPlotRenderer, NationalInstruments.HtmlVI.Elements.Visual));\n","//****************************************\n// Cursor Custom Element\n// DOM Registration: HTMLNICursor\n// National Instruments Copyright 2017\n//****************************************\n\n/**\n## ni-cursor\n\n> Add cursors to a graph.\n\nSometimes you want to take a measurement off a graph you have made. Cursors allow\nyou to do that.\n\n```html\n<ni-cartesian-graph>\n  <ni-cartesian-axis show grid-lines show-label label=\"Axis 1\" axis-position='bottom'>\n  </ni-cartesian-axis>\n  <ni-cartesian-axis show grid-lines show-label label=\"Axis 2\" axis-position='top'>\n  </ni-cartesian-axis>\n  <ni-cursor label=\"Cursor 1\" show show-label snap-to-data cursor-color=\"#40d387\"></ni-cursor>\n</ni-cartesian-graph>\n```\nMultiple cursors can be added to a graph and configured.\n*/\n\n// Constructor Function: Empty (Not Invoked)\nNationalInstruments.HtmlVI.Elements.Cursor = function () {\n    'use strict';\n};\n\n// Static Public Variables\n// None\n\n(function (child, parent) {\n    'use strict';\n    // Static Private Reference Aliases\n    var $ = NationalInstruments.Globals.jQuery;\n    var NI_SUPPORT = NationalInstruments.HtmlVI.NISupport;\n\n    NI_SUPPORT.inheritFromParent(child, parent);\n    var proto = child.prototype;\n\n    // Static Private Functions\n    // None\n\n    /** ### ni-cursor properties\n    */\n    proto.addAllProperties = function (targetPrototype) {\n        parent.prototype.addAllProperties.call(this, targetPrototype);\n\n        /** **show** (boolean) - if true the cursor will be visible. Default: false*/\n        proto.addProperty(targetPrototype, {\n            propertyName: 'show',\n            defaultValue: false\n        });\n\n        /** **label** (string) - the label of the cursor. Default: '' */\n        proto.addProperty(targetPrototype, {\n            propertyName: 'label',\n            defaultValue: ''\n        });\n\n        /** **show-label** (boolean) - if true the cursor label will be visible.\n        Default: false */\n        proto.addProperty(targetPrototype, {\n            propertyName: 'showLabel',\n            defaultValue: false\n        });\n\n        /**\n        **target-shape** (string) - the shape of cursor. Default: 'ellipse'.\n        Accepted values: 'ellipse', 'square', 'diamond', 'triangle', 'cross'\n        */\n        proto.addProperty(targetPrototype, {\n            propertyName: 'targetShape',\n            defaultValue: 'ellipse'\n        });\n\n        /**\n        **color** (string) - the color of the cursor. Default: 'black'.\n        Accepted values: a CSS color string\n        */\n        proto.addProperty(targetPrototype, {\n            propertyName: 'cursorColor',\n            defaultValue: '#000000'\n        });\n\n        /**\n        **crosshair-style** (string) - the shape of crosshair. Default: 'both'.\n        Accepted values: 'both', 'vertical', 'horizontal', 'none'\n        */\n        proto.addProperty(targetPrototype, {\n            propertyName: 'crosshairStyle',\n            defaultValue: 'both'\n        });\n\n        /** **show-value** (boolean) - if true the coordinates of the cursor will\n        be visible. Default: false */\n        proto.addProperty(targetPrototype, {\n            propertyName: 'showValue',\n            defaultValue: false\n        });\n\n        /** **snap-to-data** (boolean) - if true the cursor will snap to data.\n        Default: false */\n        proto.addProperty(targetPrototype, {\n            propertyName: 'snapToData',\n            defaultValue: false\n        });\n\n        /** **x** (number) - the x target coordinate of the cursor. This coordinate\n        is relative to the visible area of the graph, in the interval 0 to 1.\n        0 is on the left edge and 1 on the one to the right.\n        Default: 0.5 */\n        proto.addProperty(targetPrototype, {\n            propertyName: 'x',\n            defaultValue: 0.5\n        });\n\n        /** **y** (number) - the y target coordinate of the cursor. This coordinate\n        is relative to the visible area of the graph, in the interval 0 to 1.\n        0 is on the bottom edge and 1 on the top one.\n        Default: 0.5 */\n        proto.addProperty(targetPrototype, {\n            propertyName: 'y',\n            defaultValue: 0.5\n        });\n\n        /** **font-family** (string) - the font used for cursor label and values.\n        Default: 'sans-serif' */\n        proto.addProperty(targetPrototype, {\n            propertyName: 'fontFamily',\n            defaultValue: 'sans-serif'\n        });\n\n        /** **font-size** (string) - the font size used for cursor label and values.\n        Default: '10px' */\n        proto.addProperty(targetPrototype, {\n            propertyName: 'fontSize',\n            defaultValue: '10px'\n        });\n\n        /** **font-style** (string) - the font style used for cursor label and values.\n        Default: '' */\n        proto.addProperty(targetPrototype, {\n            propertyName: 'fontStyle',\n            defaultValue: ''\n        });\n\n        /** **font-size** (string) - the font weight used for cursor label and values.\n        Default: '10px' */\n        proto.addProperty(targetPrototype, {\n            propertyName: 'fontWeight',\n            defaultValue: ''\n        });\n    };\n\n    proto.createdCallback = function () {\n        parent.prototype.createdCallback.call(this);\n\n        // Public Instance Properties\n        this.cursor = null;\n\n        // Private Instance Properties\n        this._parentGraph = undefined;\n    };\n\n    proto.sendEventToParentGraph = function (name) {\n        var eventConfig;\n\n        if (this._parentGraph !== undefined) {\n            eventConfig = {\n                bubbles: true,\n                cancelable: true,\n                detail: {\n                    element: this\n                }\n            };\n\n            this._parentGraph.dispatchEvent(new CustomEvent(name, eventConfig));\n        }\n    };\n\n    proto.attachedCallback = function () {\n        var firstCall = parent.prototype.attachedCallback.call(this);\n\n        if (this.parentElement instanceof NationalInstruments.HtmlVI.Elements.CartesianGraph ||\n            this.parentElement instanceof NationalInstruments.HtmlVI.Elements.Chart) {\n            this._parentGraph = this.parentElement;\n            this.sendEventToParentGraph('ni-cursor-attached');\n        } else {\n            NI_SUPPORT.error('Cursor with the following id does not have a parentGraph', this.niControlId);\n            this._parentGraph = undefined;\n        }\n\n        return firstCall;\n    };\n\n    /** TODO: clean up and document the events generated by cursors*/\n    proto.propertyUpdated = function (propertyName) {\n        parent.prototype.propertyUpdated.call(this, propertyName);\n\n        this.sendEventToParentGraph('ni-cursor-changed');\n    };\n\n    proto.detachedCallback = function () {\n        parent.prototype.detachedCallback.call(this);\n\n        this.sendEventToParentGraph('ni-cursor-detached');\n        this._parentGraph = undefined;\n    };\n\n    proto.setCursor = function (cursor) {\n        this.cursor = cursor;\n    };\n\n    proto.updateCursorElement = function (data) {\n        // TODO mraj this._x and this._y are underlying private properties and should not be assigned to directly\n        this._x = this.cursor.position.relativeX;\n        this._y = this.cursor.position.relativeY;\n        $(this).trigger('cursorUpdated', data);\n    };\n\n    proto.getViewConfig = function () {\n        var style = window.getComputedStyle(this);\n        var crosshairStyle =  this.crosshairStyle;\n        var mode;\n\n        if (crosshairStyle === 'both') {\n            mode = 'xy';\n        } else if (crosshairStyle === 'horizontal') {\n            mode = 'y';\n        } else if (crosshairStyle === 'vertical') {\n            mode = 'x';\n        } else if (crosshairStyle === 'none') {\n            mode = '';\n        } else {\n            mode = null;\n        }\n\n        return {\n            show: this.show,\n            showLabel: this.showLabel,\n            showValuesRelativeToSeries: this.showValue ? 0 : undefined,\n            name: this.label,\n            color: this.cursorColor,\n            snapToPlot: this.snapToData ? 0 : undefined,\n            mode: mode,\n            symbol: this.targetShape,\n            fontSize: style.fontSize,\n            fontFamily: style.fontFamily,\n            fontStyle: style.fontStyle,\n            fontWeight: style.fontWeight,\n            position: {\n                relativeX: this.x,\n                relativeY: this.y\n            }\n        };\n    };\n\n    proto.setFont = function (fontSize, fontFamily, fontWeight, fontStyle, textDecoration) {\n        parent.prototype.setFont.call(this, fontSize, fontFamily, fontWeight, fontStyle, textDecoration);\n        this.sendEventToParentGraph('ni-cursor-changed');\n    };\n\n    proto.defineElementInfo(proto, 'ni-cursor', 'HTMLNICursor');\n}(NationalInstruments.HtmlVI.Elements.Cursor, NationalInstruments.HtmlVI.Elements.Visual));\n"]}