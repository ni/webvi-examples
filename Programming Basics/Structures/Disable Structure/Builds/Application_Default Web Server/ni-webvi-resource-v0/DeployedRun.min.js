window.NationalInstrumentsMainModuleLoaded=!0,async function(){await(await Promise.resolve().then(function(){return e})).default()}()
var e=Object.freeze({default:async function(){await Promise.resolve().then(function(){return t}),await(await Promise.resolve().then(function(){return i})).default(),await(await Promise.resolve().then(function(){return n})).default(),await(await Promise.resolve().then(function(){return r})).default(),await(await Promise.resolve().then(function(){return o})).default(),await(await Promise.resolve().then(function(){return a})).default(),await(await Promise.resolve().then(function(){return s})).default(),await(await Promise.resolve().then(function(){return l})).default()}})
!function(){window.NationalInstruments=window.NationalInstruments||{}
const e={module:window.module,define:window.define}
Object.keys(e).forEach(e=>{try{window[e]=void 0}catch(e){window.console&&window.console.error&&window.console.error(e)}}),window.NationalInstruments.savedModuleLoaders=e}()
var t=Object.freeze({})
var i=Object.freeze({default:async function(){await Promise.resolve().then(function(){return d}),await Promise.resolve().then(function(){return c}),await Promise.resolve().then(function(){return h}),await Promise.resolve().then(function(){return u}),await Promise.resolve().then(function(){return p}),window.dialogPolyfill=(await Promise.resolve().then(function(){return I})).default,await Promise.resolve().then(function(){return E}),await Promise.resolve().then(function(){return D}),await Promise.resolve().then(function(){return k}),await Promise.resolve().then(function(){return A}),await Promise.resolve().then(function(){return j}),await Promise.resolve().then(function(){return M}),await Promise.resolve().then(function(){return N}),await Promise.resolve().then(function(){return q}),await Promise.resolve().then(function(){return H}),await Promise.resolve().then(function(){return V}),await Promise.resolve().then(function(){return z}),await Promise.resolve().then(function(){return U}),await Promise.resolve().then(function(){return G}),await Promise.resolve().then(function(){return W}),await Promise.resolve().then(function(){return X}),await Promise.resolve().then(function(){return J}),await Promise.resolve().then(function(){return Y}),await Promise.resolve().then(function(){return Q}),await Promise.resolve().then(function(){return K}),await Promise.resolve().then(function(){return Z}),await Promise.resolve().then(function(){return ee}),await Promise.resolve().then(function(){return te}),await Promise.resolve().then(function(){return ie}),await Promise.resolve().then(function(){return ne}),await Promise.resolve().then(function(){return re}),await Promise.resolve().then(function(){return oe}),await Promise.resolve().then(function(){return ae}),await Promise.resolve().then(function(){return se}),await Promise.resolve().then(function(){return le}),await Promise.resolve().then(function(){return de}),await Promise.resolve().then(function(){return ce}),await Promise.resolve().then(function(){return he}),await Promise.resolve().then(function(){return ue}),await Promise.resolve().then(function(){return pe}),await Promise.resolve().then(function(){return me}),await Promise.resolve().then(function(){return fe}),await Promise.resolve().then(function(){return ge}),await Promise.resolve().then(function(){return ve}),await Promise.resolve().then(function(){return be}),await Promise.resolve().then(function(){return ye}),await Promise.resolve().then(function(){return we}),await Promise.resolve().then(function(){return xe}),await Promise.resolve().then(function(){return Ce}),await Promise.resolve().then(function(){return Se}),await Promise.resolve().then(function(){return Te}),await Promise.resolve().then(function(){return Ie}),await Promise.resolve().then(function(){return Ee}),await Promise.resolve().then(function(){return Pe}),await Promise.resolve().then(function(){return De}),await Promise.resolve().then(function(){return ke}),await Promise.resolve().then(function(){return Ae}),await Promise.resolve().then(function(){return je}),await Promise.resolve().then(function(){return Me}),await Promise.resolve().then(function(){return Ne}),await Promise.resolve().then(function(){return qe}),await Promise.resolve().then(function(){return Oe}),await Promise.resolve().then(function(){return Be}),await Promise.resolve().then(function(){return Le}),await Promise.resolve().then(function(){return Re}),await Promise.resolve().then(function(){return He}),await Promise.resolve().then(function(){return Ve}),await Promise.resolve().then(function(){return Fe}),await Promise.resolve().then(function(){return ze}),await Promise.resolve().then(function(){return $e}),await Promise.resolve().then(function(){return Ue}),await Promise.resolve().then(function(){return Ge}),await Promise.resolve().then(function(){return We}),await Promise.resolve().then(function(){return Xe}),await Promise.resolve().then(function(){return Je}),await Promise.resolve().then(function(){return Ye}),await Promise.resolve().then(function(){return Qe}),await Promise.resolve().then(function(){return Ke}),await Promise.resolve().then(function(){return Ze}),await Promise.resolve().then(function(){return et}),await Promise.resolve().then(function(){return tt}),await Promise.resolve().then(function(){return nt}),await Promise.resolve().then(function(){return rt}),await Promise.resolve().then(function(){return Ke}),await Promise.resolve().then(function(){return ot}),await Promise.resolve().then(function(){return at}),await Promise.resolve().then(function(){return st}),await Promise.resolve().then(function(){return lt}),await Promise.resolve().then(function(){return dt}),await Promise.resolve().then(function(){return ct}),await Promise.resolve().then(function(){return ht}),await Promise.resolve().then(function(){return ut}),await Promise.resolve().then(function(){return pt}),await Promise.resolve().then(function(){return mt}),await Promise.resolve().then(function(){return ft}),await Promise.resolve().then(function(){return gt}),await Promise.resolve().then(function(){return vt}),await Promise.resolve().then(function(){return bt}),await Promise.resolve().then(function(){return yt}),await Promise.resolve().then(function(){return _t}),await Promise.resolve().then(function(){return wt}),await Promise.resolve().then(function(){return xt})}})
var n=Object.freeze({default:async function(){await Promise.resolve().then(function(){return Xt})}})
var r=Object.freeze({default:async function(){await Promise.resolve().then(function(){return Jt}),await Promise.resolve().then(function(){return Yt}),await Promise.resolve().then(function(){return Qt}),await Promise.resolve().then(function(){return Kt}),await Promise.resolve().then(function(){return Zt}),await Promise.resolve().then(function(){return ei}),await Promise.resolve().then(function(){return ti}),await Promise.resolve().then(function(){return ii}),await Promise.resolve().then(function(){return ni}),await Promise.resolve().then(function(){return ri}),await Promise.resolve().then(function(){return oi}),await Promise.resolve().then(function(){return ai}),await Promise.resolve().then(function(){return si}),await Promise.resolve().then(function(){return li}),await Promise.resolve().then(function(){return di}),await Promise.resolve().then(function(){return ci}),await Promise.resolve().then(function(){return hi}),await Promise.resolve().then(function(){return ui}),await Promise.resolve().then(function(){return pi}),await Promise.resolve().then(function(){return mi}),await Promise.resolve().then(function(){return fi}),await Promise.resolve().then(function(){return gi}),await Promise.resolve().then(function(){return vi}),await Promise.resolve().then(function(){return bi}),await Promise.resolve().then(function(){return yi}),await Promise.resolve().then(function(){return _i}),await Promise.resolve().then(function(){return wi}),await Promise.resolve().then(function(){return xi}),await Promise.resolve().then(function(){return Ci}),await Promise.resolve().then(function(){return Si}),await Promise.resolve().then(function(){return Ti}),await Promise.resolve().then(function(){return Ii}),await Promise.resolve().then(function(){return Ei}),await Promise.resolve().then(function(){return Pi}),await Promise.resolve().then(function(){return Di}),await Promise.resolve().then(function(){return ki}),await Promise.resolve().then(function(){return Ai}),await Promise.resolve().then(function(){return ji}),await Promise.resolve().then(function(){return Mi})}})
var o=Object.freeze({default:async function(){await Promise.resolve().then(function(){return rn}),await Promise.resolve().then(function(){return on}),await Promise.resolve().then(function(){return an})}})
var a=Object.freeze({default:async function(){await Promise.resolve().then(function(){return sn}),await Promise.resolve().then(function(){return dn})}})
var s=Object.freeze({default:async function(){await Promise.resolve().then(function(){return pn}),await Promise.resolve().then(function(){return ua}),await Promise.resolve().then(function(){return ka}),await Promise.resolve().then(function(){return Aa}),await Promise.resolve().then(function(){return ja}),await Promise.resolve().then(function(){return Ma}),await Promise.resolve().then(function(){return Na}),await Promise.resolve().then(function(){return qa}),await Promise.resolve().then(function(){return Ha}),await Promise.resolve().then(function(){return es}),await Promise.resolve().then(function(){return os}),await Promise.resolve().then(function(){return ss}),await Promise.resolve().then(function(){return Bs}),await Promise.resolve().then(function(){return $s}),await Promise.resolve().then(function(){return Ws}),await Promise.resolve().then(function(){return tl}),await Promise.resolve().then(function(){return rl}),await Promise.resolve().then(function(){return sl}),await Promise.resolve().then(function(){return ml}),await Promise.resolve().then(function(){return Il}),await Promise.resolve().then(function(){return Fl}),await Promise.resolve().then(function(){return Ul}),await Promise.resolve().then(function(){return Wl}),await Promise.resolve().then(function(){return td}),await Promise.resolve().then(function(){return ud}),await Promise.resolve().then(function(){return bd}),await Promise.resolve().then(function(){return Cd}),await Promise.resolve().then(function(){return Dd}),await Promise.resolve().then(function(){return Nd}),await Promise.resolve().then(function(){return Ld}),await Promise.resolve().then(function(){return Wd}),await Promise.resolve().then(function(){return rc}),await Promise.resolve().then(function(){return uc}),await Promise.resolve().then(function(){return _c}),await Promise.resolve().then(function(){return Cc}),await Promise.resolve().then(function(){return Dc}),await Promise.resolve().then(function(){return Qc}),await Promise.resolve().then(function(){return nh}),await Promise.resolve().then(function(){return sh}),await Promise.resolve().then(function(){return Ph}),await Promise.resolve().then(function(){return Ah}),await Promise.resolve().then(function(){return Nh}),await Promise.resolve().then(function(){return Bh}),await Promise.resolve().then(function(){return Hh}),await Promise.resolve().then(function(){return Gh}),await Promise.resolve().then(function(){return Iu}),await Promise.resolve().then(function(){return rp}),await Promise.resolve().then(function(){return sp}),await Promise.resolve().then(function(){return vp}),await Promise.resolve().then(function(){return Cp}),await Promise.resolve().then(function(){return Ap}),await Promise.resolve().then(function(){return Up}),await Promise.resolve().then(function(){return Jp}),await Promise.resolve().then(function(){return Kp}),await Promise.resolve().then(function(){return tm}),await Promise.resolve().then(function(){return rm}),await Promise.resolve().then(function(){return sm}),await Promise.resolve().then(function(){return hm}),await Promise.resolve().then(function(){return gm}),await Promise.resolve().then(function(){return Om}),await Promise.resolve().then(function(){return Um}),await Promise.resolve().then(function(){return cf}),await Promise.resolve().then(function(){return mf}),await Promise.resolve().then(function(){return xf}),await Promise.resolve().then(function(){return Ef}),await Promise.resolve().then(function(){return Df}),await Promise.resolve().then(function(){return Af}),await Promise.resolve().then(function(){return Of}),await Promise.resolve().then(function(){return Lf}),await Promise.resolve().then(function(){return Vf}),await Promise.resolve().then(function(){return zf}),await Promise.resolve().then(function(){return Gf}),await Promise.resolve().then(function(){return Xf}),await Promise.resolve().then(function(){return Jr})}})
var l=Object.freeze({default:async function(){await Promise.resolve().then(function(){return Jf}),await Promise.resolve().then(function(){return Yf})}})
!function(e,t){"object"==typeof module&&"object"==typeof module.exports?module.exports=e.document?t(e,!0):function(e){if(!e.document)throw new Error("jQuery requires a window with a document")
return t(e)}:t(e)}("undefined"!=typeof window?window:void 0,function(e,t){var i=[],n=Object.getPrototypeOf,r=i.slice,o=i.flat?function(e){return i.flat.call(e)}:function(e){return i.concat.apply([],e)},a=i.push,s=i.indexOf,l={},d=l.toString,c=l.hasOwnProperty,h=c.toString,u=h.call(Object),p={},m=function(e){return"function"==typeof e&&"number"!=typeof e.nodeType},f=function(e){return null!=e&&e===e.window},g=e.document,v={type:!0,src:!0,nonce:!0,noModule:!0}
function b(e,t,i){var n,r,o=(i=i||g).createElement("script")
if(o.text=e,t)for(n in v)(r=t[n]||t.getAttribute&&t.getAttribute(n))&&o.setAttribute(n,r)
i.head.appendChild(o).parentNode.removeChild(o)}function y(e){return null==e?e+"":"object"==typeof e||"function"==typeof e?l[d.call(e)]||"object":typeof e}var _=function(e,t){return new _.fn.init(e,t)}
function w(e){var t=!!e&&"length"in e&&e.length,i=y(e)
return!m(e)&&!f(e)&&("array"===i||0===t||"number"==typeof t&&t>0&&t-1 in e)}_.fn=_.prototype={jquery:"3.5.1",constructor:_,length:0,toArray:function(){return r.call(this)},get:function(e){return null==e?r.call(this):e<0?this[e+this.length]:this[e]},pushStack:function(e){var t=_.merge(this.constructor(),e)
return t.prevObject=this,t},each:function(e){return _.each(this,e)},map:function(e){return this.pushStack(_.map(this,function(t,i){return e.call(t,i,t)}))},slice:function(){return this.pushStack(r.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},even:function(){return this.pushStack(_.grep(this,function(e,t){return(t+1)%2}))},odd:function(){return this.pushStack(_.grep(this,function(e,t){return t%2}))},eq:function(e){var t=this.length,i=+e+(e<0?t:0)
return this.pushStack(i>=0&&i<t?[this[i]]:[])},end:function(){return this.prevObject||this.constructor()},push:a,sort:i.sort,splice:i.splice},_.extend=_.fn.extend=function(){var e,t,i,n,r,o,a=arguments[0]||{},s=1,l=arguments.length,d=!1
for("boolean"==typeof a&&(d=a,a=arguments[s]||{},s++),"object"==typeof a||m(a)||(a={}),s===l&&(a=this,s--);s<l;s++)if(null!=(e=arguments[s]))for(t in e)n=e[t],"__proto__"!==t&&a!==n&&(d&&n&&(_.isPlainObject(n)||(r=Array.isArray(n)))?(i=a[t],o=r&&!Array.isArray(i)?[]:r||_.isPlainObject(i)?i:{},r=!1,a[t]=_.extend(d,o,n)):void 0!==n&&(a[t]=n))
return a},_.extend({expando:"jQuery"+("3.5.1"+Math.random()).replace(/\D/g,""),isReady:!0,error:function(e){throw new Error(e)},noop:function(){},isPlainObject:function(e){var t,i
return!(!e||"[object Object]"!==d.call(e))&&(!(t=n(e))||"function"==typeof(i=c.call(t,"constructor")&&t.constructor)&&h.call(i)===u)},isEmptyObject:function(e){var t
for(t in e)return!1
return!0},globalEval:function(e,t,i){b(e,{nonce:t&&t.nonce},i)},each:function(e,t){var i,n=0
if(w(e))for(i=e.length;n<i&&!1!==t.call(e[n],n,e[n]);n++);else for(n in e)if(!1===t.call(e[n],n,e[n]))break
return e},makeArray:function(e,t){var i=t||[]
return null!=e&&(w(Object(e))?_.merge(i,"string"==typeof e?[e]:e):a.call(i,e)),i},inArray:function(e,t,i){return null==t?-1:s.call(t,e,i)},merge:function(e,t){for(var i=+t.length,n=0,r=e.length;n<i;n++)e[r++]=t[n]
return e.length=r,e},grep:function(e,t,i){for(var n=[],r=0,o=e.length,a=!i;r<o;r++)!t(e[r],r)!==a&&n.push(e[r])
return n},map:function(e,t,i){var n,r,a=0,s=[]
if(w(e))for(n=e.length;a<n;a++)null!=(r=t(e[a],a,i))&&s.push(r)
else for(a in e)null!=(r=t(e[a],a,i))&&s.push(r)
return o(s)},guid:1,support:p}),"function"==typeof Symbol&&(_.fn[Symbol.iterator]=i[Symbol.iterator]),_.each("Boolean Number String Function Array Date RegExp Object Error Symbol".split(" "),function(e,t){l["[object "+t+"]"]=t.toLowerCase()})
var x=function(e){var t,i,n,r,o,a,s,l,d,c,h,u,p,m,f,g,v,b,y,_="sizzle"+1*new Date,w=e.document,x=0,C=0,S=le(),T=le(),I=le(),E=le(),P=function(e,t){return e===t&&(h=!0),0},D={}.hasOwnProperty,k=[],A=k.pop,j=k.push,M=k.push,N=k.slice,q=function(e,t){for(var i=0,n=e.length;i<n;i++)if(e[i]===t)return i
return-1},O="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",B="[\\x20\\t\\r\\n\\f]",L="(?:\\\\[\\da-fA-F]{1,6}"+B+"?|\\\\[^\\r\\n\\f]|[\\w-]|[^\0-\\x7f])+",R="\\["+B+"*("+L+")(?:"+B+"*([*^$|!~]?=)"+B+"*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|("+L+"))|)"+B+"*\\]",H=":("+L+")(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|"+R+")*)|.*)\\)|)",V=new RegExp(B+"+","g"),F=new RegExp("^"+B+"+|((?:^|[^\\\\])(?:\\\\.)*)"+B+"+$","g"),z=new RegExp("^"+B+"*,"+B+"*"),$=new RegExp("^"+B+"*([>+~]|"+B+")"+B+"*"),U=new RegExp(B+"|>"),G=new RegExp(H),W=new RegExp("^"+L+"$"),X={ID:new RegExp("^#("+L+")"),CLASS:new RegExp("^\\.("+L+")"),TAG:new RegExp("^("+L+"|[*])"),ATTR:new RegExp("^"+R),PSEUDO:new RegExp("^"+H),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+B+"*(even|odd|(([+-]|)(\\d*)n|)"+B+"*(?:([+-]|)"+B+"*(\\d+)|))"+B+"*\\)|)","i"),bool:new RegExp("^(?:"+O+")$","i"),needsContext:new RegExp("^"+B+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+B+"*((?:-\\d)?\\d*)"+B+"*\\)|)(?=[^-]|$)","i")},J=/HTML$/i,Y=/^(?:input|select|textarea|button)$/i,Q=/^h\d$/i,K=/^[^{]+\{\s*\[native \w/,Z=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,ee=/[+~]/,te=new RegExp("\\\\[\\da-fA-F]{1,6}"+B+"?|\\\\([^\\r\\n\\f])","g"),ie=function(e,t){var i="0x"+e.slice(1)-65536
return t||(i<0?String.fromCharCode(i+65536):String.fromCharCode(i>>10|55296,1023&i|56320))},ne=/([\0-\x1f\x7f]|^-?\d)|^-$|[^\0-\x1f\x7f-\uFFFF\w-]/g,re=function(e,t){return t?"\0"===e?"�":e.slice(0,-1)+"\\"+e.charCodeAt(e.length-1).toString(16)+" ":"\\"+e},oe=function(){u()},ae=_e(function(e){return!0===e.disabled&&"fieldset"===e.nodeName.toLowerCase()},{dir:"parentNode",next:"legend"})
try{M.apply(k=N.call(w.childNodes),w.childNodes),k[w.childNodes.length].nodeType}catch(e){M={apply:k.length?function(e,t){j.apply(e,N.call(t))}:function(e,t){for(var i=e.length,n=0;e[i++]=t[n++];);e.length=i-1}}}function se(e,t,n,r){var o,s,d,c,h,m,v,b=t&&t.ownerDocument,w=t?t.nodeType:9
if(n=n||[],"string"!=typeof e||!e||1!==w&&9!==w&&11!==w)return n
if(!r&&(u(t),t=t||p,f)){if(11!==w&&(h=Z.exec(e)))if(o=h[1]){if(9===w){if(!(d=t.getElementById(o)))return n
if(d.id===o)return n.push(d),n}else if(b&&(d=b.getElementById(o))&&y(t,d)&&d.id===o)return n.push(d),n}else{if(h[2])return M.apply(n,t.getElementsByTagName(e)),n
if((o=h[3])&&i.getElementsByClassName&&t.getElementsByClassName)return M.apply(n,t.getElementsByClassName(o)),n}if(i.qsa&&!E[e+" "]&&(!g||!g.test(e))&&(1!==w||"object"!==t.nodeName.toLowerCase())){if(v=e,b=t,1===w&&(U.test(e)||$.test(e))){for((b=ee.test(e)&&ve(t.parentNode)||t)===t&&i.scope||((c=t.getAttribute("id"))?c=c.replace(ne,re):t.setAttribute("id",c=_)),s=(m=a(e)).length;s--;)m[s]=(c?"#"+c:":scope")+" "+ye(m[s])
v=m.join(",")}try{return M.apply(n,b.querySelectorAll(v)),n}catch(t){E(e,!0)}finally{c===_&&t.removeAttribute("id")}}}return l(e.replace(F,"$1"),t,n,r)}function le(){var e=[]
return function t(i,r){return e.push(i+" ")>n.cacheLength&&delete t[e.shift()],t[i+" "]=r}}function de(e){return e[_]=!0,e}function ce(e){var t=p.createElement("fieldset")
try{return!!e(t)}catch(e){return!1}finally{t.parentNode&&t.parentNode.removeChild(t),t=null}}function he(e,t){for(var i=e.split("|"),r=i.length;r--;)n.attrHandle[i[r]]=t}function ue(e,t){var i=t&&e,n=i&&1===e.nodeType&&1===t.nodeType&&e.sourceIndex-t.sourceIndex
if(n)return n
if(i)for(;i=i.nextSibling;)if(i===t)return-1
return e?1:-1}function pe(e){return function(t){return"input"===t.nodeName.toLowerCase()&&t.type===e}}function me(e){return function(t){var i=t.nodeName.toLowerCase()
return("input"===i||"button"===i)&&t.type===e}}function fe(e){return function(t){return"form"in t?t.parentNode&&!1===t.disabled?"label"in t?"label"in t.parentNode?t.parentNode.disabled===e:t.disabled===e:t.isDisabled===e||t.isDisabled!==!e&&ae(t)===e:t.disabled===e:"label"in t&&t.disabled===e}}function ge(e){return de(function(t){return t=+t,de(function(i,n){for(var r,o=e([],i.length,t),a=o.length;a--;)i[r=o[a]]&&(i[r]=!(n[r]=i[r]))})})}function ve(e){return e&&void 0!==e.getElementsByTagName&&e}for(t in i=se.support={},o=se.isXML=function(e){var t=e.namespaceURI,i=(e.ownerDocument||e).documentElement
return!J.test(t||i&&i.nodeName||"HTML")},u=se.setDocument=function(e){var t,r,a=e?e.ownerDocument||e:w
return a!=p&&9===a.nodeType&&a.documentElement?(m=(p=a).documentElement,f=!o(p),w!=p&&(r=p.defaultView)&&r.top!==r&&(r.addEventListener?r.addEventListener("unload",oe,!1):r.attachEvent&&r.attachEvent("onunload",oe)),i.scope=ce(function(e){return m.appendChild(e).appendChild(p.createElement("div")),void 0!==e.querySelectorAll&&!e.querySelectorAll(":scope fieldset div").length}),i.attributes=ce(function(e){return e.className="i",!e.getAttribute("className")}),i.getElementsByTagName=ce(function(e){return e.appendChild(p.createComment("")),!e.getElementsByTagName("*").length}),i.getElementsByClassName=K.test(p.getElementsByClassName),i.getById=ce(function(e){return m.appendChild(e).id=_,!p.getElementsByName||!p.getElementsByName(_).length}),i.getById?(n.filter.ID=function(e){var t=e.replace(te,ie)
return function(e){return e.getAttribute("id")===t}},n.find.ID=function(e,t){if(void 0!==t.getElementById&&f){var i=t.getElementById(e)
return i?[i]:[]}}):(n.filter.ID=function(e){var t=e.replace(te,ie)
return function(e){var i=void 0!==e.getAttributeNode&&e.getAttributeNode("id")
return i&&i.value===t}},n.find.ID=function(e,t){if(void 0!==t.getElementById&&f){var i,n,r,o=t.getElementById(e)
if(o){if((i=o.getAttributeNode("id"))&&i.value===e)return[o]
for(r=t.getElementsByName(e),n=0;o=r[n++];)if((i=o.getAttributeNode("id"))&&i.value===e)return[o]}return[]}}),n.find.TAG=i.getElementsByTagName?function(e,t){return void 0!==t.getElementsByTagName?t.getElementsByTagName(e):i.qsa?t.querySelectorAll(e):void 0}:function(e,t){var i,n=[],r=0,o=t.getElementsByTagName(e)
if("*"===e){for(;i=o[r++];)1===i.nodeType&&n.push(i)
return n}return o},n.find.CLASS=i.getElementsByClassName&&function(e,t){if(void 0!==t.getElementsByClassName&&f)return t.getElementsByClassName(e)},v=[],g=[],(i.qsa=K.test(p.querySelectorAll))&&(ce(function(e){var t
m.appendChild(e).innerHTML="<a id='"+_+"'></a><select id='"+_+"-\r\\' msallowcapture=''><option selected=''></option></select>",e.querySelectorAll("[msallowcapture^='']").length&&g.push("[*^$]="+B+"*(?:''|\"\")"),e.querySelectorAll("[selected]").length||g.push("\\["+B+"*(?:value|"+O+")"),e.querySelectorAll("[id~="+_+"-]").length||g.push("~="),(t=p.createElement("input")).setAttribute("name",""),e.appendChild(t),e.querySelectorAll("[name='']").length||g.push("\\["+B+"*name"+B+"*="+B+"*(?:''|\"\")"),e.querySelectorAll(":checked").length||g.push(":checked"),e.querySelectorAll("a#"+_+"+*").length||g.push(".#.+[+~]"),e.querySelectorAll("\\\f"),g.push("[\\r\\n\\f]")}),ce(function(e){e.innerHTML="<a href='' disabled='disabled'></a><select disabled='disabled'><option/></select>"
var t=p.createElement("input")
t.setAttribute("type","hidden"),e.appendChild(t).setAttribute("name","D"),e.querySelectorAll("[name=d]").length&&g.push("name"+B+"*[*^$|!~]?="),2!==e.querySelectorAll(":enabled").length&&g.push(":enabled",":disabled"),m.appendChild(e).disabled=!0,2!==e.querySelectorAll(":disabled").length&&g.push(":enabled",":disabled"),e.querySelectorAll("*,:x"),g.push(",.*:")})),(i.matchesSelector=K.test(b=m.matches||m.webkitMatchesSelector||m.mozMatchesSelector||m.oMatchesSelector||m.msMatchesSelector))&&ce(function(e){i.disconnectedMatch=b.call(e,"*"),b.call(e,"[s!='']:x"),v.push("!=",H)}),g=g.length&&new RegExp(g.join("|")),v=v.length&&new RegExp(v.join("|")),t=K.test(m.compareDocumentPosition),y=t||K.test(m.contains)?function(e,t){var i=9===e.nodeType?e.documentElement:e,n=t&&t.parentNode
return e===n||!(!n||1!==n.nodeType||!(i.contains?i.contains(n):e.compareDocumentPosition&&16&e.compareDocumentPosition(n)))}:function(e,t){if(t)for(;t=t.parentNode;)if(t===e)return!0
return!1},P=t?function(e,t){if(e===t)return h=!0,0
var n=!e.compareDocumentPosition-!t.compareDocumentPosition
return n||(1&(n=(e.ownerDocument||e)==(t.ownerDocument||t)?e.compareDocumentPosition(t):1)||!i.sortDetached&&t.compareDocumentPosition(e)===n?e==p||e.ownerDocument==w&&y(w,e)?-1:t==p||t.ownerDocument==w&&y(w,t)?1:c?q(c,e)-q(c,t):0:4&n?-1:1)}:function(e,t){if(e===t)return h=!0,0
var i,n=0,r=e.parentNode,o=t.parentNode,a=[e],s=[t]
if(!r||!o)return e==p?-1:t==p?1:r?-1:o?1:c?q(c,e)-q(c,t):0
if(r===o)return ue(e,t)
for(i=e;i=i.parentNode;)a.unshift(i)
for(i=t;i=i.parentNode;)s.unshift(i)
for(;a[n]===s[n];)n++
return n?ue(a[n],s[n]):a[n]==w?-1:s[n]==w?1:0},p):p},se.matches=function(e,t){return se(e,null,null,t)},se.matchesSelector=function(e,t){if(u(e),i.matchesSelector&&f&&!E[t+" "]&&(!v||!v.test(t))&&(!g||!g.test(t)))try{var n=b.call(e,t)
if(n||i.disconnectedMatch||e.document&&11!==e.document.nodeType)return n}catch(e){E(t,!0)}return se(t,p,null,[e]).length>0},se.contains=function(e,t){return(e.ownerDocument||e)!=p&&u(e),y(e,t)},se.attr=function(e,t){(e.ownerDocument||e)!=p&&u(e)
var r=n.attrHandle[t.toLowerCase()],o=r&&D.call(n.attrHandle,t.toLowerCase())?r(e,t,!f):void 0
return void 0!==o?o:i.attributes||!f?e.getAttribute(t):(o=e.getAttributeNode(t))&&o.specified?o.value:null},se.escape=function(e){return(e+"").replace(ne,re)},se.error=function(e){throw new Error("Syntax error, unrecognized expression: "+e)},se.uniqueSort=function(e){var t,n=[],r=0,o=0
if(h=!i.detectDuplicates,c=!i.sortStable&&e.slice(0),e.sort(P),h){for(;t=e[o++];)t===e[o]&&(r=n.push(o))
for(;r--;)e.splice(n[r],1)}return c=null,e},r=se.getText=function(e){var t,i="",n=0,o=e.nodeType
if(o){if(1===o||9===o||11===o){if("string"==typeof e.textContent)return e.textContent
for(e=e.firstChild;e;e=e.nextSibling)i+=r(e)}else if(3===o||4===o)return e.nodeValue}else for(;t=e[n++];)i+=r(t)
return i},(n=se.selectors={cacheLength:50,createPseudo:de,match:X,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(e){return e[1]=e[1].replace(te,ie),e[3]=(e[3]||e[4]||e[5]||"").replace(te,ie),"~="===e[2]&&(e[3]=" "+e[3]+" "),e.slice(0,4)},CHILD:function(e){return e[1]=e[1].toLowerCase(),"nth"===e[1].slice(0,3)?(e[3]||se.error(e[0]),e[4]=+(e[4]?e[5]+(e[6]||1):2*("even"===e[3]||"odd"===e[3])),e[5]=+(e[7]+e[8]||"odd"===e[3])):e[3]&&se.error(e[0]),e},PSEUDO:function(e){var t,i=!e[6]&&e[2]
return X.CHILD.test(e[0])?null:(e[3]?e[2]=e[4]||e[5]||"":i&&G.test(i)&&(t=a(i,!0))&&(t=i.indexOf(")",i.length-t)-i.length)&&(e[0]=e[0].slice(0,t),e[2]=i.slice(0,t)),e.slice(0,3))}},filter:{TAG:function(e){var t=e.replace(te,ie).toLowerCase()
return"*"===e?function(){return!0}:function(e){return e.nodeName&&e.nodeName.toLowerCase()===t}},CLASS:function(e){var t=S[e+" "]
return t||(t=new RegExp("(^|"+B+")"+e+"("+B+"|$)"))&&S(e,function(e){return t.test("string"==typeof e.className&&e.className||void 0!==e.getAttribute&&e.getAttribute("class")||"")})},ATTR:function(e,t,i){return function(n){var r=se.attr(n,e)
return null==r?"!="===t:!t||(r+="","="===t?r===i:"!="===t?r!==i:"^="===t?i&&0===r.indexOf(i):"*="===t?i&&r.indexOf(i)>-1:"$="===t?i&&r.slice(-i.length)===i:"~="===t?(" "+r.replace(V," ")+" ").indexOf(i)>-1:"|="===t&&(r===i||r.slice(0,i.length+1)===i+"-"))}},CHILD:function(e,t,i,n,r){var o="nth"!==e.slice(0,3),a="last"!==e.slice(-4),s="of-type"===t
return 1===n&&0===r?function(e){return!!e.parentNode}:function(t,i,l){var d,c,h,u,p,m,f=o!==a?"nextSibling":"previousSibling",g=t.parentNode,v=s&&t.nodeName.toLowerCase(),b=!l&&!s,y=!1
if(g){if(o){for(;f;){for(u=t;u=u[f];)if(s?u.nodeName.toLowerCase()===v:1===u.nodeType)return!1
m=f="only"===e&&!m&&"nextSibling"}return!0}if(m=[a?g.firstChild:g.lastChild],a&&b){for(y=(p=(d=(c=(h=(u=g)[_]||(u[_]={}))[u.uniqueID]||(h[u.uniqueID]={}))[e]||[])[0]===x&&d[1])&&d[2],u=p&&g.childNodes[p];u=++p&&u&&u[f]||(y=p=0)||m.pop();)if(1===u.nodeType&&++y&&u===t){c[e]=[x,p,y]
break}}else if(b&&(y=p=(d=(c=(h=(u=t)[_]||(u[_]={}))[u.uniqueID]||(h[u.uniqueID]={}))[e]||[])[0]===x&&d[1]),!1===y)for(;(u=++p&&u&&u[f]||(y=p=0)||m.pop())&&((s?u.nodeName.toLowerCase()!==v:1!==u.nodeType)||!++y||(b&&((c=(h=u[_]||(u[_]={}))[u.uniqueID]||(h[u.uniqueID]={}))[e]=[x,y]),u!==t)););return(y-=r)===n||y%n==0&&y/n>=0}}},PSEUDO:function(e,t){var i,r=n.pseudos[e]||n.setFilters[e.toLowerCase()]||se.error("unsupported pseudo: "+e)
return r[_]?r(t):r.length>1?(i=[e,e,"",t],n.setFilters.hasOwnProperty(e.toLowerCase())?de(function(e,i){for(var n,o=r(e,t),a=o.length;a--;)e[n=q(e,o[a])]=!(i[n]=o[a])}):function(e){return r(e,0,i)}):r}},pseudos:{not:de(function(e){var t=[],i=[],n=s(e.replace(F,"$1"))
return n[_]?de(function(e,t,i,r){for(var o,a=n(e,null,r,[]),s=e.length;s--;)(o=a[s])&&(e[s]=!(t[s]=o))}):function(e,r,o){return t[0]=e,n(t,null,o,i),t[0]=null,!i.pop()}}),has:de(function(e){return function(t){return se(e,t).length>0}}),contains:de(function(e){return e=e.replace(te,ie),function(t){return(t.textContent||r(t)).indexOf(e)>-1}}),lang:de(function(e){return W.test(e||"")||se.error("unsupported lang: "+e),e=e.replace(te,ie).toLowerCase(),function(t){var i
do{if(i=f?t.lang:t.getAttribute("xml:lang")||t.getAttribute("lang"))return(i=i.toLowerCase())===e||0===i.indexOf(e+"-")}while((t=t.parentNode)&&1===t.nodeType)
return!1}}),target:function(t){var i=e.location&&e.location.hash
return i&&i.slice(1)===t.id},root:function(e){return e===m},focus:function(e){return e===p.activeElement&&(!p.hasFocus||p.hasFocus())&&!!(e.type||e.href||~e.tabIndex)},enabled:fe(!1),disabled:fe(!0),checked:function(e){var t=e.nodeName.toLowerCase()
return"input"===t&&!!e.checked||"option"===t&&!!e.selected},selected:function(e){return e.parentNode&&e.parentNode.selectedIndex,!0===e.selected},empty:function(e){for(e=e.firstChild;e;e=e.nextSibling)if(e.nodeType<6)return!1
return!0},parent:function(e){return!n.pseudos.empty(e)},header:function(e){return Q.test(e.nodeName)},input:function(e){return Y.test(e.nodeName)},button:function(e){var t=e.nodeName.toLowerCase()
return"input"===t&&"button"===e.type||"button"===t},text:function(e){var t
return"input"===e.nodeName.toLowerCase()&&"text"===e.type&&(null==(t=e.getAttribute("type"))||"text"===t.toLowerCase())},first:ge(function(){return[0]}),last:ge(function(e,t){return[t-1]}),eq:ge(function(e,t,i){return[i<0?i+t:i]}),even:ge(function(e,t){for(var i=0;i<t;i+=2)e.push(i)
return e}),odd:ge(function(e,t){for(var i=1;i<t;i+=2)e.push(i)
return e}),lt:ge(function(e,t,i){for(var n=i<0?i+t:i>t?t:i;--n>=0;)e.push(n)
return e}),gt:ge(function(e,t,i){for(var n=i<0?i+t:i;++n<t;)e.push(n)
return e})}}).pseudos.nth=n.pseudos.eq,{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})n.pseudos[t]=pe(t)
for(t in{submit:!0,reset:!0})n.pseudos[t]=me(t)
function be(){}function ye(e){for(var t=0,i=e.length,n="";t<i;t++)n+=e[t].value
return n}function _e(e,t,i){var n=t.dir,r=t.next,o=r||n,a=i&&"parentNode"===o,s=C++
return t.first?function(t,i,r){for(;t=t[n];)if(1===t.nodeType||a)return e(t,i,r)
return!1}:function(t,i,l){var d,c,h,u=[x,s]
if(l){for(;t=t[n];)if((1===t.nodeType||a)&&e(t,i,l))return!0}else for(;t=t[n];)if(1===t.nodeType||a)if(c=(h=t[_]||(t[_]={}))[t.uniqueID]||(h[t.uniqueID]={}),r&&r===t.nodeName.toLowerCase())t=t[n]||t
else{if((d=c[o])&&d[0]===x&&d[1]===s)return u[2]=d[2]
if(c[o]=u,u[2]=e(t,i,l))return!0}return!1}}function we(e){return e.length>1?function(t,i,n){for(var r=e.length;r--;)if(!e[r](t,i,n))return!1
return!0}:e[0]}function xe(e,t,i,n,r){for(var o,a=[],s=0,l=e.length,d=null!=t;s<l;s++)(o=e[s])&&(i&&!i(o,n,r)||(a.push(o),d&&t.push(s)))
return a}function Ce(e,t,i,n,r,o){return n&&!n[_]&&(n=Ce(n)),r&&!r[_]&&(r=Ce(r,o)),de(function(o,a,s,l){var d,c,h,u=[],p=[],m=a.length,f=o||function(e,t,i){for(var n=0,r=t.length;n<r;n++)se(e,t[n],i)
return i}(t||"*",s.nodeType?[s]:s,[]),g=!e||!o&&t?f:xe(f,u,e,s,l),v=i?r||(o?e:m||n)?[]:a:g
if(i&&i(g,v,s,l),n)for(d=xe(v,p),n(d,[],s,l),c=d.length;c--;)(h=d[c])&&(v[p[c]]=!(g[p[c]]=h))
if(o){if(r||e){if(r){for(d=[],c=v.length;c--;)(h=v[c])&&d.push(g[c]=h)
r(null,v=[],d,l)}for(c=v.length;c--;)(h=v[c])&&(d=r?q(o,h):u[c])>-1&&(o[d]=!(a[d]=h))}}else v=xe(v===a?v.splice(m,v.length):v),r?r(null,a,v,l):M.apply(a,v)})}function Se(e){for(var t,i,r,o=e.length,a=n.relative[e[0].type],s=a||n.relative[" "],l=a?1:0,c=_e(function(e){return e===t},s,!0),h=_e(function(e){return q(t,e)>-1},s,!0),u=[function(e,i,n){var r=!a&&(n||i!==d)||((t=i).nodeType?c(e,i,n):h(e,i,n))
return t=null,r}];l<o;l++)if(i=n.relative[e[l].type])u=[_e(we(u),i)]
else{if((i=n.filter[e[l].type].apply(null,e[l].matches))[_]){for(r=++l;r<o&&!n.relative[e[r].type];r++);return Ce(l>1&&we(u),l>1&&ye(e.slice(0,l-1).concat({value:" "===e[l-2].type?"*":""})).replace(F,"$1"),i,l<r&&Se(e.slice(l,r)),r<o&&Se(e=e.slice(r)),r<o&&ye(e))}u.push(i)}return we(u)}return be.prototype=n.filters=n.pseudos,n.setFilters=new be,a=se.tokenize=function(e,t){var i,r,o,a,s,l,d,c=T[e+" "]
if(c)return t?0:c.slice(0)
for(s=e,l=[],d=n.preFilter;s;){for(a in i&&!(r=z.exec(s))||(r&&(s=s.slice(r[0].length)||s),l.push(o=[])),i=!1,(r=$.exec(s))&&(i=r.shift(),o.push({value:i,type:r[0].replace(F," ")}),s=s.slice(i.length)),n.filter)!(r=X[a].exec(s))||d[a]&&!(r=d[a](r))||(i=r.shift(),o.push({value:i,type:a,matches:r}),s=s.slice(i.length))
if(!i)break}return t?s.length:s?se.error(e):T(e,l).slice(0)},s=se.compile=function(e,t){var i,r=[],o=[],s=I[e+" "]
if(!s){for(t||(t=a(e)),i=t.length;i--;)(s=Se(t[i]))[_]?r.push(s):o.push(s);(s=I(e,function(e,t){var i=t.length>0,r=e.length>0,o=function(o,a,s,l,c){var h,m,g,v=0,b="0",y=o&&[],_=[],w=d,C=o||r&&n.find.TAG("*",c),S=x+=null==w?1:Math.random()||.1,T=C.length
for(c&&(d=a==p||a||c);b!==T&&null!=(h=C[b]);b++){if(r&&h){for(m=0,a||h.ownerDocument==p||(u(h),s=!f);g=e[m++];)if(g(h,a||p,s)){l.push(h)
break}c&&(x=S)}i&&((h=!g&&h)&&v--,o&&y.push(h))}if(v+=b,i&&b!==v){for(m=0;g=t[m++];)g(y,_,a,s)
if(o){if(v>0)for(;b--;)y[b]||_[b]||(_[b]=A.call(l))
_=xe(_)}M.apply(l,_),c&&!o&&_.length>0&&v+t.length>1&&se.uniqueSort(l)}return c&&(x=S,d=w),y}
return i?de(o):o}(o,r))).selector=e}return s},l=se.select=function(e,t,i,r){var o,l,d,c,h,u="function"==typeof e&&e,p=!r&&a(e=u.selector||e)
if(i=i||[],1===p.length){if((l=p[0]=p[0].slice(0)).length>2&&"ID"===(d=l[0]).type&&9===t.nodeType&&f&&n.relative[l[1].type]){if(!(t=(n.find.ID(d.matches[0].replace(te,ie),t)||[])[0]))return i
u&&(t=t.parentNode),e=e.slice(l.shift().value.length)}for(o=X.needsContext.test(e)?0:l.length;o--&&(d=l[o],!n.relative[c=d.type]);)if((h=n.find[c])&&(r=h(d.matches[0].replace(te,ie),ee.test(l[0].type)&&ve(t.parentNode)||t))){if(l.splice(o,1),!(e=r.length&&ye(l)))return M.apply(i,r),i
break}}return(u||s(e,p))(r,t,!f,i,!t||ee.test(e)&&ve(t.parentNode)||t),i},i.sortStable=_.split("").sort(P).join("")===_,i.detectDuplicates=!!h,u(),i.sortDetached=ce(function(e){return 1&e.compareDocumentPosition(p.createElement("fieldset"))}),ce(function(e){return e.innerHTML="<a href='#'></a>","#"===e.firstChild.getAttribute("href")})||he("type|href|height|width",function(e,t,i){if(!i)return e.getAttribute(t,"type"===t.toLowerCase()?1:2)}),i.attributes&&ce(function(e){return e.innerHTML="<input/>",e.firstChild.setAttribute("value",""),""===e.firstChild.getAttribute("value")})||he("value",function(e,t,i){if(!i&&"input"===e.nodeName.toLowerCase())return e.defaultValue}),ce(function(e){return null==e.getAttribute("disabled")})||he(O,function(e,t,i){var n
if(!i)return!0===e[t]?t.toLowerCase():(n=e.getAttributeNode(t))&&n.specified?n.value:null}),se}(e)
_.find=x,_.expr=x.selectors,_.expr[":"]=_.expr.pseudos,_.uniqueSort=_.unique=x.uniqueSort,_.text=x.getText,_.isXMLDoc=x.isXML,_.contains=x.contains,_.escapeSelector=x.escape
var C=function(e,t,i){for(var n=[],r=void 0!==i;(e=e[t])&&9!==e.nodeType;)if(1===e.nodeType){if(r&&_(e).is(i))break
n.push(e)}return n},S=function(e,t){for(var i=[];e;e=e.nextSibling)1===e.nodeType&&e!==t&&i.push(e)
return i},T=_.expr.match.needsContext
function I(e,t){return e.nodeName&&e.nodeName.toLowerCase()===t.toLowerCase()}var E=/^<([a-z][^\/\0>:\x20\t\r\n\f]*)[\x20\t\r\n\f]*\/?>(?:<\/\1>|)$/i
function P(e,t,i){return m(t)?_.grep(e,function(e,n){return!!t.call(e,n,e)!==i}):t.nodeType?_.grep(e,function(e){return e===t!==i}):"string"!=typeof t?_.grep(e,function(e){return s.call(t,e)>-1!==i}):_.filter(t,e,i)}_.filter=function(e,t,i){var n=t[0]
return i&&(e=":not("+e+")"),1===t.length&&1===n.nodeType?_.find.matchesSelector(n,e)?[n]:[]:_.find.matches(e,_.grep(t,function(e){return 1===e.nodeType}))},_.fn.extend({find:function(e){var t,i,n=this.length,r=this
if("string"!=typeof e)return this.pushStack(_(e).filter(function(){for(t=0;t<n;t++)if(_.contains(r[t],this))return!0}))
for(i=this.pushStack([]),t=0;t<n;t++)_.find(e,r[t],i)
return n>1?_.uniqueSort(i):i},filter:function(e){return this.pushStack(P(this,e||[],!1))},not:function(e){return this.pushStack(P(this,e||[],!0))},is:function(e){return!!P(this,"string"==typeof e&&T.test(e)?_(e):e||[],!1).length}})
var D,k=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]+))$/;(_.fn.init=function(e,t,i){var n,r
if(!e)return this
if(i=i||D,"string"==typeof e){if(!(n="<"===e[0]&&">"===e[e.length-1]&&e.length>=3?[null,e,null]:k.exec(e))||!n[1]&&t)return!t||t.jquery?(t||i).find(e):this.constructor(t).find(e)
if(n[1]){if(t=t instanceof _?t[0]:t,_.merge(this,_.parseHTML(n[1],t&&t.nodeType?t.ownerDocument||t:g,!0)),E.test(n[1])&&_.isPlainObject(t))for(n in t)m(this[n])?this[n](t[n]):this.attr(n,t[n])
return this}return(r=g.getElementById(n[2]))&&(this[0]=r,this.length=1),this}return e.nodeType?(this[0]=e,this.length=1,this):m(e)?void 0!==i.ready?i.ready(e):e(_):_.makeArray(e,this)}).prototype=_.fn,D=_(g)
var A=/^(?:parents|prev(?:Until|All))/,j={children:!0,contents:!0,next:!0,prev:!0}
function M(e,t){for(;(e=e[t])&&1!==e.nodeType;);return e}_.fn.extend({has:function(e){var t=_(e,this),i=t.length
return this.filter(function(){for(var e=0;e<i;e++)if(_.contains(this,t[e]))return!0})},closest:function(e,t){var i,n=0,r=this.length,o=[],a="string"!=typeof e&&_(e)
if(!T.test(e))for(;n<r;n++)for(i=this[n];i&&i!==t;i=i.parentNode)if(i.nodeType<11&&(a?a.index(i)>-1:1===i.nodeType&&_.find.matchesSelector(i,e))){o.push(i)
break}return this.pushStack(o.length>1?_.uniqueSort(o):o)},index:function(e){return e?"string"==typeof e?s.call(_(e),this[0]):s.call(this,e.jquery?e[0]:e):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(e,t){return this.pushStack(_.uniqueSort(_.merge(this.get(),_(e,t))))},addBack:function(e){return this.add(null==e?this.prevObject:this.prevObject.filter(e))}}),_.each({parent:function(e){var t=e.parentNode
return t&&11!==t.nodeType?t:null},parents:function(e){return C(e,"parentNode")},parentsUntil:function(e,t,i){return C(e,"parentNode",i)},next:function(e){return M(e,"nextSibling")},prev:function(e){return M(e,"previousSibling")},nextAll:function(e){return C(e,"nextSibling")},prevAll:function(e){return C(e,"previousSibling")},nextUntil:function(e,t,i){return C(e,"nextSibling",i)},prevUntil:function(e,t,i){return C(e,"previousSibling",i)},siblings:function(e){return S((e.parentNode||{}).firstChild,e)},children:function(e){return S(e.firstChild)},contents:function(e){return null!=e.contentDocument&&n(e.contentDocument)?e.contentDocument:(I(e,"template")&&(e=e.content||e),_.merge([],e.childNodes))}},function(e,t){_.fn[e]=function(i,n){var r=_.map(this,t,i)
return"Until"!==e.slice(-5)&&(n=i),n&&"string"==typeof n&&(r=_.filter(n,r)),this.length>1&&(j[e]||_.uniqueSort(r),A.test(e)&&r.reverse()),this.pushStack(r)}})
var N=/[^\x20\t\r\n\f]+/g
function q(e){return e}function O(e){throw e}function B(e,t,i,n){var r
try{e&&m(r=e.promise)?r.call(e).done(t).fail(i):e&&m(r=e.then)?r.call(e,t,i):t.apply(void 0,[e].slice(n))}catch(e){i.apply(void 0,[e])}}_.Callbacks=function(e){e="string"==typeof e?function(e){var t={}
return _.each(e.match(N)||[],function(e,i){t[i]=!0}),t}(e):_.extend({},e)
var t,i,n,r,o=[],a=[],s=-1,l=function(){for(r=r||e.once,n=t=!0;a.length;s=-1)for(i=a.shift();++s<o.length;)!1===o[s].apply(i[0],i[1])&&e.stopOnFalse&&(s=o.length,i=!1)
e.memory||(i=!1),t=!1,r&&(o=i?[]:"")},d={add:function(){return o&&(i&&!t&&(s=o.length-1,a.push(i)),function t(i){_.each(i,function(i,n){m(n)?e.unique&&d.has(n)||o.push(n):n&&n.length&&"string"!==y(n)&&t(n)})}(arguments),i&&!t&&l()),this},remove:function(){return _.each(arguments,function(e,t){for(var i;(i=_.inArray(t,o,i))>-1;)o.splice(i,1),i<=s&&s--}),this},has:function(e){return e?_.inArray(e,o)>-1:o.length>0},empty:function(){return o&&(o=[]),this},disable:function(){return r=a=[],o=i="",this},disabled:function(){return!o},lock:function(){return r=a=[],i||t||(o=i=""),this},locked:function(){return!!r},fireWith:function(e,i){return r||(i=[e,(i=i||[]).slice?i.slice():i],a.push(i),t||l()),this},fire:function(){return d.fireWith(this,arguments),this},fired:function(){return!!n}}
return d},_.extend({Deferred:function(t){var i=[["notify","progress",_.Callbacks("memory"),_.Callbacks("memory"),2],["resolve","done",_.Callbacks("once memory"),_.Callbacks("once memory"),0,"resolved"],["reject","fail",_.Callbacks("once memory"),_.Callbacks("once memory"),1,"rejected"]],n="pending",r={state:function(){return n},always:function(){return o.done(arguments).fail(arguments),this},catch:function(e){return r.then(null,e)},pipe:function(){var e=arguments
return _.Deferred(function(t){_.each(i,function(i,n){var r=m(e[n[4]])&&e[n[4]]
o[n[1]](function(){var e=r&&r.apply(this,arguments)
e&&m(e.promise)?e.promise().progress(t.notify).done(t.resolve).fail(t.reject):t[n[0]+"With"](this,r?[e]:arguments)})}),e=null}).promise()},then:function(t,n,r){var o=0
function a(t,i,n,r){return function(){var s=this,l=arguments,d=function(){var e,d
if(!(t<o)){if((e=n.apply(s,l))===i.promise())throw new TypeError("Thenable self-resolution")
d=e&&("object"==typeof e||"function"==typeof e)&&e.then,m(d)?r?d.call(e,a(o,i,q,r),a(o,i,O,r)):(o++,d.call(e,a(o,i,q,r),a(o,i,O,r),a(o,i,q,i.notifyWith))):(n!==q&&(s=void 0,l=[e]),(r||i.resolveWith)(s,l))}},c=r?d:function(){try{d()}catch(e){_.Deferred.exceptionHook&&_.Deferred.exceptionHook(e,c.stackTrace),t+1>=o&&(n!==O&&(s=void 0,l=[e]),i.rejectWith(s,l))}}
t?c():(_.Deferred.getStackHook&&(c.stackTrace=_.Deferred.getStackHook()),e.setTimeout(c))}}return _.Deferred(function(e){i[0][3].add(a(0,e,m(r)?r:q,e.notifyWith)),i[1][3].add(a(0,e,m(t)?t:q)),i[2][3].add(a(0,e,m(n)?n:O))}).promise()},promise:function(e){return null!=e?_.extend(e,r):r}},o={}
return _.each(i,function(e,t){var a=t[2],s=t[5]
r[t[1]]=a.add,s&&a.add(function(){n=s},i[3-e][2].disable,i[3-e][3].disable,i[0][2].lock,i[0][3].lock),a.add(t[3].fire),o[t[0]]=function(){return o[t[0]+"With"](this===o?void 0:this,arguments),this},o[t[0]+"With"]=a.fireWith}),r.promise(o),t&&t.call(o,o),o},when:function(e){var t=arguments.length,i=t,n=Array(i),o=r.call(arguments),a=_.Deferred(),s=function(e){return function(i){n[e]=this,o[e]=arguments.length>1?r.call(arguments):i,--t||a.resolveWith(n,o)}}
if(t<=1&&(B(e,a.done(s(i)).resolve,a.reject,!t),"pending"===a.state()||m(o[i]&&o[i].then)))return a.then()
for(;i--;)B(o[i],s(i),a.reject)
return a.promise()}})
var L=/^(Eval|Internal|Range|Reference|Syntax|Type|URI)Error$/
_.Deferred.exceptionHook=function(t,i){e.console&&e.console.warn&&t&&L.test(t.name)&&e.console.warn("jQuery.Deferred exception: "+t.message,t.stack,i)},_.readyException=function(t){e.setTimeout(function(){throw t})}
var R=_.Deferred()
function H(){g.removeEventListener("DOMContentLoaded",H),e.removeEventListener("load",H),_.ready()}_.fn.ready=function(e){return R.then(e).catch(function(e){_.readyException(e)}),this},_.extend({isReady:!1,readyWait:1,ready:function(e){(!0===e?--_.readyWait:_.isReady)||(_.isReady=!0,!0!==e&&--_.readyWait>0||R.resolveWith(g,[_]))}}),_.ready.then=R.then,"complete"===g.readyState||"loading"!==g.readyState&&!g.documentElement.doScroll?e.setTimeout(_.ready):(g.addEventListener("DOMContentLoaded",H),e.addEventListener("load",H))
var V=function(e,t,i,n,r,o,a){var s=0,l=e.length,d=null==i
if("object"===y(i))for(s in r=!0,i)V(e,t,s,i[s],!0,o,a)
else if(void 0!==n&&(r=!0,m(n)||(a=!0),d&&(a?(t.call(e,n),t=null):(d=t,t=function(e,t,i){return d.call(_(e),i)})),t))for(;s<l;s++)t(e[s],i,a?n:n.call(e[s],s,t(e[s],i)))
return r?e:d?t.call(e):l?t(e[0],i):o},F=/^-ms-/,z=/-([a-z])/g
function $(e,t){return t.toUpperCase()}function U(e){return e.replace(F,"ms-").replace(z,$)}var G=function(e){return 1===e.nodeType||9===e.nodeType||!+e.nodeType}
function W(){this.expando=_.expando+W.uid++}W.uid=1,W.prototype={cache:function(e){var t=e[this.expando]
return t||(t={},G(e)&&(e.nodeType?e[this.expando]=t:Object.defineProperty(e,this.expando,{value:t,configurable:!0}))),t},set:function(e,t,i){var n,r=this.cache(e)
if("string"==typeof t)r[U(t)]=i
else for(n in t)r[U(n)]=t[n]
return r},get:function(e,t){return void 0===t?this.cache(e):e[this.expando]&&e[this.expando][U(t)]},access:function(e,t,i){return void 0===t||t&&"string"==typeof t&&void 0===i?this.get(e,t):(this.set(e,t,i),void 0!==i?i:t)},remove:function(e,t){var i,n=e[this.expando]
if(void 0!==n){if(void 0!==t){i=(t=Array.isArray(t)?t.map(U):(t=U(t))in n?[t]:t.match(N)||[]).length
for(;i--;)delete n[t[i]]}(void 0===t||_.isEmptyObject(n))&&(e.nodeType?e[this.expando]=void 0:delete e[this.expando])}},hasData:function(e){var t=e[this.expando]
return void 0!==t&&!_.isEmptyObject(t)}}
var X=new W,J=new W,Y=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,Q=/[A-Z]/g
function K(e,t,i){var n
if(void 0===i&&1===e.nodeType)if(n="data-"+t.replace(Q,"-$&").toLowerCase(),"string"==typeof(i=e.getAttribute(n))){try{i=function(e){return"true"===e||"false"!==e&&("null"===e?null:e===+e+""?+e:Y.test(e)?JSON.parse(e):e)}(i)}catch(e){}J.set(e,t,i)}else i=void 0
return i}_.extend({hasData:function(e){return J.hasData(e)||X.hasData(e)},data:function(e,t,i){return J.access(e,t,i)},removeData:function(e,t){J.remove(e,t)},_data:function(e,t,i){return X.access(e,t,i)},_removeData:function(e,t){X.remove(e,t)}}),_.fn.extend({data:function(e,t){var i,n,r,o=this[0],a=o&&o.attributes
if(void 0===e){if(this.length&&(r=J.get(o),1===o.nodeType&&!X.get(o,"hasDataAttrs"))){for(i=a.length;i--;)a[i]&&0===(n=a[i].name).indexOf("data-")&&(n=U(n.slice(5)),K(o,n,r[n]))
X.set(o,"hasDataAttrs",!0)}return r}return"object"==typeof e?this.each(function(){J.set(this,e)}):V(this,function(t){var i
if(o&&void 0===t)return void 0!==(i=J.get(o,e))?i:void 0!==(i=K(o,e))?i:void 0
this.each(function(){J.set(this,e,t)})},null,t,arguments.length>1,null,!0)},removeData:function(e){return this.each(function(){J.remove(this,e)})}}),_.extend({queue:function(e,t,i){var n
if(e)return t=(t||"fx")+"queue",n=X.get(e,t),i&&(!n||Array.isArray(i)?n=X.access(e,t,_.makeArray(i)):n.push(i)),n||[]},dequeue:function(e,t){t=t||"fx"
var i=_.queue(e,t),n=i.length,r=i.shift(),o=_._queueHooks(e,t)
"inprogress"===r&&(r=i.shift(),n--),r&&("fx"===t&&i.unshift("inprogress"),delete o.stop,r.call(e,function(){_.dequeue(e,t)},o)),!n&&o&&o.empty.fire()},_queueHooks:function(e,t){var i=t+"queueHooks"
return X.get(e,i)||X.access(e,i,{empty:_.Callbacks("once memory").add(function(){X.remove(e,[t+"queue",i])})})}}),_.fn.extend({queue:function(e,t){var i=2
return"string"!=typeof e&&(t=e,e="fx",i--),arguments.length<i?_.queue(this[0],e):void 0===t?this:this.each(function(){var i=_.queue(this,e,t)
_._queueHooks(this,e),"fx"===e&&"inprogress"!==i[0]&&_.dequeue(this,e)})},dequeue:function(e){return this.each(function(){_.dequeue(this,e)})},clearQueue:function(e){return this.queue(e||"fx",[])},promise:function(e,t){var i,n=1,r=_.Deferred(),o=this,a=this.length,s=function(){--n||r.resolveWith(o,[o])}
for("string"!=typeof e&&(t=e,e=void 0),e=e||"fx";a--;)(i=X.get(o[a],e+"queueHooks"))&&i.empty&&(n++,i.empty.add(s))
return s(),r.promise(t)}})
var Z=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,ee=new RegExp("^(?:([+-])=|)("+Z+")([a-z%]*)$","i"),te=["Top","Right","Bottom","Left"],ie=g.documentElement,ne=function(e){return _.contains(e.ownerDocument,e)},re={composed:!0}
ie.getRootNode&&(ne=function(e){return _.contains(e.ownerDocument,e)||e.getRootNode(re)===e.ownerDocument})
var oe=function(e,t){return"none"===(e=t||e).style.display||""===e.style.display&&ne(e)&&"none"===_.css(e,"display")}
function ae(e,t,i,n){var r,o,a=20,s=n?function(){return n.cur()}:function(){return _.css(e,t,"")},l=s(),d=i&&i[3]||(_.cssNumber[t]?"":"px"),c=e.nodeType&&(_.cssNumber[t]||"px"!==d&&+l)&&ee.exec(_.css(e,t))
if(c&&c[3]!==d){for(l/=2,d=d||c[3],c=+l||1;a--;)_.style(e,t,c+d),(1-o)*(1-(o=s()/l||.5))<=0&&(a=0),c/=o
c*=2,_.style(e,t,c+d),i=i||[]}return i&&(c=+c||+l||0,r=i[1]?c+(i[1]+1)*i[2]:+i[2],n&&(n.unit=d,n.start=c,n.end=r)),r}var se={}
function le(e){var t,i=e.ownerDocument,n=e.nodeName,r=se[n]
return r||(t=i.body.appendChild(i.createElement(n)),r=_.css(t,"display"),t.parentNode.removeChild(t),"none"===r&&(r="block"),se[n]=r,r)}function de(e,t){for(var i,n,r=[],o=0,a=e.length;o<a;o++)(n=e[o]).style&&(i=n.style.display,t?("none"===i&&(r[o]=X.get(n,"display")||null,r[o]||(n.style.display="")),""===n.style.display&&oe(n)&&(r[o]=le(n))):"none"!==i&&(r[o]="none",X.set(n,"display",i)))
for(o=0;o<a;o++)null!=r[o]&&(e[o].style.display=r[o])
return e}_.fn.extend({show:function(){return de(this,!0)},hide:function(){return de(this)},toggle:function(e){return"boolean"==typeof e?e?this.show():this.hide():this.each(function(){oe(this)?_(this).show():_(this).hide()})}})
var ce,he,ue=/^(?:checkbox|radio)$/i,pe=/<([a-z][^\/\0>\x20\t\r\n\f]*)/i,me=/^$|^module$|\/(?:java|ecma)script/i
ce=g.createDocumentFragment().appendChild(g.createElement("div")),(he=g.createElement("input")).setAttribute("type","radio"),he.setAttribute("checked","checked"),he.setAttribute("name","t"),ce.appendChild(he),p.checkClone=ce.cloneNode(!0).cloneNode(!0).lastChild.checked,ce.innerHTML="<textarea>x</textarea>",p.noCloneChecked=!!ce.cloneNode(!0).lastChild.defaultValue,ce.innerHTML="<option></option>",p.option=!!ce.lastChild
var fe={thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]}
function ge(e,t){var i
return i=void 0!==e.getElementsByTagName?e.getElementsByTagName(t||"*"):void 0!==e.querySelectorAll?e.querySelectorAll(t||"*"):[],void 0===t||t&&I(e,t)?_.merge([e],i):i}function ve(e,t){for(var i=0,n=e.length;i<n;i++)X.set(e[i],"globalEval",!t||X.get(t[i],"globalEval"))}fe.tbody=fe.tfoot=fe.colgroup=fe.caption=fe.thead,fe.th=fe.td,p.option||(fe.optgroup=fe.option=[1,"<select multiple='multiple'>","</select>"])
var be=/<|&#?\w+;/
function ye(e,t,i,n,r){for(var o,a,s,l,d,c,h=t.createDocumentFragment(),u=[],p=0,m=e.length;p<m;p++)if((o=e[p])||0===o)if("object"===y(o))_.merge(u,o.nodeType?[o]:o)
else if(be.test(o)){for(a=a||h.appendChild(t.createElement("div")),s=(pe.exec(o)||["",""])[1].toLowerCase(),l=fe[s]||fe._default,a.innerHTML=l[1]+_.htmlPrefilter(o)+l[2],c=l[0];c--;)a=a.lastChild
_.merge(u,a.childNodes),(a=h.firstChild).textContent=""}else u.push(t.createTextNode(o))
for(h.textContent="",p=0;o=u[p++];)if(n&&_.inArray(o,n)>-1)r&&r.push(o)
else if(d=ne(o),a=ge(h.appendChild(o),"script"),d&&ve(a),i)for(c=0;o=a[c++];)me.test(o.type||"")&&i.push(o)
return h}var _e=/^key/,we=/^(?:mouse|pointer|contextmenu|drag|drop)|click/,xe=/^([^.]*)(?:\.(.+)|)/
function Ce(){return!0}function Se(){return!1}function Te(e,t){return e===function(){try{return g.activeElement}catch(e){}}()==("focus"===t)}function Ie(e,t,i,n,r,o){var a,s
if("object"==typeof t){for(s in"string"!=typeof i&&(n=n||i,i=void 0),t)Ie(e,s,i,n,t[s],o)
return e}if(null==n&&null==r?(r=i,n=i=void 0):null==r&&("string"==typeof i?(r=n,n=void 0):(r=n,n=i,i=void 0)),!1===r)r=Se
else if(!r)return e
return 1===o&&(a=r,(r=function(e){return _().off(e),a.apply(this,arguments)}).guid=a.guid||(a.guid=_.guid++)),e.each(function(){_.event.add(this,t,r,n,i)})}function Ee(e,t,i){i?(X.set(e,t,!1),_.event.add(e,t,{namespace:!1,handler:function(e){var n,o,a=X.get(this,t)
if(1&e.isTrigger&&this[t]){if(a.length)(_.event.special[t]||{}).delegateType&&e.stopPropagation()
else if(a=r.call(arguments),X.set(this,t,a),n=i(this,t),this[t](),a!==(o=X.get(this,t))||n?X.set(this,t,!1):o={},a!==o)return e.stopImmediatePropagation(),e.preventDefault(),o.value}else a.length&&(X.set(this,t,{value:_.event.trigger(_.extend(a[0],_.Event.prototype),a.slice(1),this)}),e.stopImmediatePropagation())}})):void 0===X.get(e,t)&&_.event.add(e,t,Ce)}_.event={global:{},add:function(e,t,i,n,r){var o,a,s,l,d,c,h,u,p,m,f,g=X.get(e)
if(G(e))for(i.handler&&(i=(o=i).handler,r=o.selector),r&&_.find.matchesSelector(ie,r),i.guid||(i.guid=_.guid++),(l=g.events)||(l=g.events=Object.create(null)),(a=g.handle)||(a=g.handle=function(t){return void 0!==_&&_.event.triggered!==t.type?_.event.dispatch.apply(e,arguments):void 0}),d=(t=(t||"").match(N)||[""]).length;d--;)p=f=(s=xe.exec(t[d])||[])[1],m=(s[2]||"").split(".").sort(),p&&(h=_.event.special[p]||{},p=(r?h.delegateType:h.bindType)||p,h=_.event.special[p]||{},c=_.extend({type:p,origType:f,data:n,handler:i,guid:i.guid,selector:r,needsContext:r&&_.expr.match.needsContext.test(r),namespace:m.join(".")},o),(u=l[p])||((u=l[p]=[]).delegateCount=0,h.setup&&!1!==h.setup.call(e,n,m,a)||e.addEventListener&&e.addEventListener(p,a)),h.add&&(h.add.call(e,c),c.handler.guid||(c.handler.guid=i.guid)),r?u.splice(u.delegateCount++,0,c):u.push(c),_.event.global[p]=!0)},remove:function(e,t,i,n,r){var o,a,s,l,d,c,h,u,p,m,f,g=X.hasData(e)&&X.get(e)
if(g&&(l=g.events)){for(d=(t=(t||"").match(N)||[""]).length;d--;)if(p=f=(s=xe.exec(t[d])||[])[1],m=(s[2]||"").split(".").sort(),p){for(h=_.event.special[p]||{},u=l[p=(n?h.delegateType:h.bindType)||p]||[],s=s[2]&&new RegExp("(^|\\.)"+m.join("\\.(?:.*\\.|)")+"(\\.|$)"),a=o=u.length;o--;)c=u[o],!r&&f!==c.origType||i&&i.guid!==c.guid||s&&!s.test(c.namespace)||n&&n!==c.selector&&("**"!==n||!c.selector)||(u.splice(o,1),c.selector&&u.delegateCount--,h.remove&&h.remove.call(e,c))
a&&!u.length&&(h.teardown&&!1!==h.teardown.call(e,m,g.handle)||_.removeEvent(e,p,g.handle),delete l[p])}else for(p in l)_.event.remove(e,p+t[d],i,n,!0)
_.isEmptyObject(l)&&X.remove(e,"handle events")}},dispatch:function(e){var t,i,n,r,o,a,s=new Array(arguments.length),l=_.event.fix(e),d=(X.get(this,"events")||Object.create(null))[l.type]||[],c=_.event.special[l.type]||{}
for(s[0]=l,t=1;t<arguments.length;t++)s[t]=arguments[t]
if(l.delegateTarget=this,!c.preDispatch||!1!==c.preDispatch.call(this,l)){for(a=_.event.handlers.call(this,l,d),t=0;(r=a[t++])&&!l.isPropagationStopped();)for(l.currentTarget=r.elem,i=0;(o=r.handlers[i++])&&!l.isImmediatePropagationStopped();)l.rnamespace&&!1!==o.namespace&&!l.rnamespace.test(o.namespace)||(l.handleObj=o,l.data=o.data,void 0!==(n=((_.event.special[o.origType]||{}).handle||o.handler).apply(r.elem,s))&&!1===(l.result=n)&&(l.preventDefault(),l.stopPropagation()))
return c.postDispatch&&c.postDispatch.call(this,l),l.result}},handlers:function(e,t){var i,n,r,o,a,s=[],l=t.delegateCount,d=e.target
if(l&&d.nodeType&&!("click"===e.type&&e.button>=1))for(;d!==this;d=d.parentNode||this)if(1===d.nodeType&&("click"!==e.type||!0!==d.disabled)){for(o=[],a={},i=0;i<l;i++)void 0===a[r=(n=t[i]).selector+" "]&&(a[r]=n.needsContext?_(r,this).index(d)>-1:_.find(r,this,null,[d]).length),a[r]&&o.push(n)
o.length&&s.push({elem:d,handlers:o})}return d=this,l<t.length&&s.push({elem:d,handlers:t.slice(l)}),s},addProp:function(e,t){Object.defineProperty(_.Event.prototype,e,{enumerable:!0,configurable:!0,get:m(t)?function(){if(this.originalEvent)return t(this.originalEvent)}:function(){if(this.originalEvent)return this.originalEvent[e]},set:function(t){Object.defineProperty(this,e,{enumerable:!0,configurable:!0,writable:!0,value:t})}})},fix:function(e){return e[_.expando]?e:new _.Event(e)},special:{load:{noBubble:!0},click:{setup:function(e){var t=this||e
return ue.test(t.type)&&t.click&&I(t,"input")&&Ee(t,"click",Ce),!1},trigger:function(e){var t=this||e
return ue.test(t.type)&&t.click&&I(t,"input")&&Ee(t,"click"),!0},_default:function(e){var t=e.target
return ue.test(t.type)&&t.click&&I(t,"input")&&X.get(t,"click")||I(t,"a")}},beforeunload:{postDispatch:function(e){void 0!==e.result&&e.originalEvent&&(e.originalEvent.returnValue=e.result)}}}},_.removeEvent=function(e,t,i){e.removeEventListener&&e.removeEventListener(t,i)},_.Event=function(e,t){if(!(this instanceof _.Event))return new _.Event(e,t)
e&&e.type?(this.originalEvent=e,this.type=e.type,this.isDefaultPrevented=e.defaultPrevented||void 0===e.defaultPrevented&&!1===e.returnValue?Ce:Se,this.target=e.target&&3===e.target.nodeType?e.target.parentNode:e.target,this.currentTarget=e.currentTarget,this.relatedTarget=e.relatedTarget):this.type=e,t&&_.extend(this,t),this.timeStamp=e&&e.timeStamp||Date.now(),this[_.expando]=!0},_.Event.prototype={constructor:_.Event,isDefaultPrevented:Se,isPropagationStopped:Se,isImmediatePropagationStopped:Se,isSimulated:!1,preventDefault:function(){var e=this.originalEvent
this.isDefaultPrevented=Ce,e&&!this.isSimulated&&e.preventDefault()},stopPropagation:function(){var e=this.originalEvent
this.isPropagationStopped=Ce,e&&!this.isSimulated&&e.stopPropagation()},stopImmediatePropagation:function(){var e=this.originalEvent
this.isImmediatePropagationStopped=Ce,e&&!this.isSimulated&&e.stopImmediatePropagation(),this.stopPropagation()}},_.each({altKey:!0,bubbles:!0,cancelable:!0,changedTouches:!0,ctrlKey:!0,detail:!0,eventPhase:!0,metaKey:!0,pageX:!0,pageY:!0,shiftKey:!0,view:!0,char:!0,code:!0,charCode:!0,key:!0,keyCode:!0,button:!0,buttons:!0,clientX:!0,clientY:!0,offsetX:!0,offsetY:!0,pointerId:!0,pointerType:!0,screenX:!0,screenY:!0,targetTouches:!0,toElement:!0,touches:!0,which:function(e){var t=e.button
return null==e.which&&_e.test(e.type)?null!=e.charCode?e.charCode:e.keyCode:!e.which&&void 0!==t&&we.test(e.type)?1&t?1:2&t?3:4&t?2:0:e.which}},_.event.addProp),_.each({focus:"focusin",blur:"focusout"},function(e,t){_.event.special[e]={setup:function(){return Ee(this,e,Te),!1},trigger:function(){return Ee(this,e),!0},delegateType:t}}),_.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},function(e,t){_.event.special[e]={delegateType:t,bindType:t,handle:function(e){var i,n=e.relatedTarget,r=e.handleObj
return n&&(n===this||_.contains(this,n))||(e.type=r.origType,i=r.handler.apply(this,arguments),e.type=t),i}}}),_.fn.extend({on:function(e,t,i,n){return Ie(this,e,t,i,n)},one:function(e,t,i,n){return Ie(this,e,t,i,n,1)},off:function(e,t,i){var n,r
if(e&&e.preventDefault&&e.handleObj)return n=e.handleObj,_(e.delegateTarget).off(n.namespace?n.origType+"."+n.namespace:n.origType,n.selector,n.handler),this
if("object"==typeof e){for(r in e)this.off(r,t,e[r])
return this}return!1!==t&&"function"!=typeof t||(i=t,t=void 0),!1===i&&(i=Se),this.each(function(){_.event.remove(this,e,i,t)})}})
var Pe=/<script|<style|<link/i,De=/checked\s*(?:[^=]|=\s*.checked.)/i,ke=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g
function Ae(e,t){return I(e,"table")&&I(11!==t.nodeType?t:t.firstChild,"tr")&&_(e).children("tbody")[0]||e}function je(e){return e.type=(null!==e.getAttribute("type"))+"/"+e.type,e}function Me(e){return"true/"===(e.type||"").slice(0,5)?e.type=e.type.slice(5):e.removeAttribute("type"),e}function Ne(e,t){var i,n,r,o,a,s
if(1===t.nodeType){if(X.hasData(e)&&(s=X.get(e).events))for(r in X.remove(t,"handle events"),s)for(i=0,n=s[r].length;i<n;i++)_.event.add(t,r,s[r][i])
J.hasData(e)&&(o=J.access(e),a=_.extend({},o),J.set(t,a))}}function qe(e,t,i,n){t=o(t)
var r,a,s,l,d,c,h=0,u=e.length,f=u-1,g=t[0],v=m(g)
if(v||u>1&&"string"==typeof g&&!p.checkClone&&De.test(g))return e.each(function(r){var o=e.eq(r)
v&&(t[0]=g.call(this,r,o.html())),qe(o,t,i,n)})
if(u&&(a=(r=ye(t,e[0].ownerDocument,!1,e,n)).firstChild,1===r.childNodes.length&&(r=a),a||n)){for(l=(s=_.map(ge(r,"script"),je)).length;h<u;h++)d=r,h!==f&&(d=_.clone(d,!0,!0),l&&_.merge(s,ge(d,"script"))),i.call(e[h],d,h)
if(l)for(c=s[s.length-1].ownerDocument,_.map(s,Me),h=0;h<l;h++)d=s[h],me.test(d.type||"")&&!X.access(d,"globalEval")&&_.contains(c,d)&&(d.src&&"module"!==(d.type||"").toLowerCase()?_._evalUrl&&!d.noModule&&_._evalUrl(d.src,{nonce:d.nonce||d.getAttribute("nonce")},c):b(d.textContent.replace(ke,""),d,c))}return e}function Oe(e,t,i){for(var n,r=t?_.filter(t,e):e,o=0;null!=(n=r[o]);o++)i||1!==n.nodeType||_.cleanData(ge(n)),n.parentNode&&(i&&ne(n)&&ve(ge(n,"script")),n.parentNode.removeChild(n))
return e}_.extend({htmlPrefilter:function(e){return e},clone:function(e,t,i){var n,r,o,a,s,l,d,c=e.cloneNode(!0),h=ne(e)
if(!(p.noCloneChecked||1!==e.nodeType&&11!==e.nodeType||_.isXMLDoc(e)))for(a=ge(c),n=0,r=(o=ge(e)).length;n<r;n++)s=o[n],l=a[n],d=void 0,"input"===(d=l.nodeName.toLowerCase())&&ue.test(s.type)?l.checked=s.checked:"input"!==d&&"textarea"!==d||(l.defaultValue=s.defaultValue)
if(t)if(i)for(o=o||ge(e),a=a||ge(c),n=0,r=o.length;n<r;n++)Ne(o[n],a[n])
else Ne(e,c)
return(a=ge(c,"script")).length>0&&ve(a,!h&&ge(e,"script")),c},cleanData:function(e){for(var t,i,n,r=_.event.special,o=0;void 0!==(i=e[o]);o++)if(G(i)){if(t=i[X.expando]){if(t.events)for(n in t.events)r[n]?_.event.remove(i,n):_.removeEvent(i,n,t.handle)
i[X.expando]=void 0}i[J.expando]&&(i[J.expando]=void 0)}}}),_.fn.extend({detach:function(e){return Oe(this,e,!0)},remove:function(e){return Oe(this,e)},text:function(e){return V(this,function(e){return void 0===e?_.text(this):this.empty().each(function(){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||(this.textContent=e)})},null,e,arguments.length)},append:function(){return qe(this,arguments,function(e){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||Ae(this,e).appendChild(e)})},prepend:function(){return qe(this,arguments,function(e){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var t=Ae(this,e)
t.insertBefore(e,t.firstChild)}})},before:function(){return qe(this,arguments,function(e){this.parentNode&&this.parentNode.insertBefore(e,this)})},after:function(){return qe(this,arguments,function(e){this.parentNode&&this.parentNode.insertBefore(e,this.nextSibling)})},empty:function(){for(var e,t=0;null!=(e=this[t]);t++)1===e.nodeType&&(_.cleanData(ge(e,!1)),e.textContent="")
return this},clone:function(e,t){return e=null!=e&&e,t=null==t?e:t,this.map(function(){return _.clone(this,e,t)})},html:function(e){return V(this,function(e){var t=this[0]||{},i=0,n=this.length
if(void 0===e&&1===t.nodeType)return t.innerHTML
if("string"==typeof e&&!Pe.test(e)&&!fe[(pe.exec(e)||["",""])[1].toLowerCase()]){e=_.htmlPrefilter(e)
try{for(;i<n;i++)1===(t=this[i]||{}).nodeType&&(_.cleanData(ge(t,!1)),t.innerHTML=e)
t=0}catch(e){}}t&&this.empty().append(e)},null,e,arguments.length)},replaceWith:function(){var e=[]
return qe(this,arguments,function(t){var i=this.parentNode
_.inArray(this,e)<0&&(_.cleanData(ge(this)),i&&i.replaceChild(t,this))},e)}}),_.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(e,t){_.fn[e]=function(e){for(var i,n=[],r=_(e),o=r.length-1,s=0;s<=o;s++)i=s===o?this:this.clone(!0),_(r[s])[t](i),a.apply(n,i.get())
return this.pushStack(n)}})
var Be=new RegExp("^("+Z+")(?!px)[a-z%]+$","i"),Le=function(t){var i=t.ownerDocument.defaultView
return i&&i.opener||(i=e),i.getComputedStyle(t)},Re=function(e,t,i){var n,r,o={}
for(r in t)o[r]=e.style[r],e.style[r]=t[r]
for(r in n=i.call(e),t)e.style[r]=o[r]
return n},He=new RegExp(te.join("|"),"i")
function Ve(e,t,i){var n,r,o,a,s=e.style
return(i=i||Le(e))&&(""!==(a=i.getPropertyValue(t)||i[t])||ne(e)||(a=_.style(e,t)),!p.pixelBoxStyles()&&Be.test(a)&&He.test(t)&&(n=s.width,r=s.minWidth,o=s.maxWidth,s.minWidth=s.maxWidth=s.width=a,a=i.width,s.width=n,s.minWidth=r,s.maxWidth=o)),void 0!==a?a+"":a}function Fe(e,t){return{get:function(){if(!e())return(this.get=t).apply(this,arguments)
delete this.get}}}!function(){function t(){if(c){d.style.cssText="position:absolute;left:-11111px;width:60px;margin-top:1px;padding:0;border:0",c.style.cssText="position:relative;display:block;box-sizing:border-box;overflow:scroll;margin:auto;border:1px;padding:1px;width:60%;top:1%",ie.appendChild(d).appendChild(c)
var t=e.getComputedStyle(c)
n="1%"!==t.top,l=12===i(t.marginLeft),c.style.right="60%",a=36===i(t.right),r=36===i(t.width),c.style.position="absolute",o=12===i(c.offsetWidth/3),ie.removeChild(d),c=null}}function i(e){return Math.round(parseFloat(e))}var n,r,o,a,s,l,d=g.createElement("div"),c=g.createElement("div")
c.style&&(c.style.backgroundClip="content-box",c.cloneNode(!0).style.backgroundClip="",p.clearCloneStyle="content-box"===c.style.backgroundClip,_.extend(p,{boxSizingReliable:function(){return t(),r},pixelBoxStyles:function(){return t(),a},pixelPosition:function(){return t(),n},reliableMarginLeft:function(){return t(),l},scrollboxSize:function(){return t(),o},reliableTrDimensions:function(){var t,i,n,r
return null==s&&(t=g.createElement("table"),i=g.createElement("tr"),n=g.createElement("div"),t.style.cssText="position:absolute;left:-11111px",i.style.height="1px",n.style.height="9px",ie.appendChild(t).appendChild(i).appendChild(n),r=e.getComputedStyle(i),s=parseInt(r.height)>3,ie.removeChild(t)),s}}))}()
var ze=["Webkit","Moz","ms"],$e=g.createElement("div").style,Ue={}
function Ge(e){var t=_.cssProps[e]||Ue[e]
return t||(e in $e?e:Ue[e]=function(e){for(var t=e[0].toUpperCase()+e.slice(1),i=ze.length;i--;)if((e=ze[i]+t)in $e)return e}(e)||e)}var We=/^(none|table(?!-c[ea]).+)/,Xe=/^--/,Je={position:"absolute",visibility:"hidden",display:"block"},Ye={letterSpacing:"0",fontWeight:"400"}
function Qe(e,t,i){var n=ee.exec(t)
return n?Math.max(0,n[2]-(i||0))+(n[3]||"px"):t}function Ke(e,t,i,n,r,o){var a="width"===t?1:0,s=0,l=0
if(i===(n?"border":"content"))return 0
for(;a<4;a+=2)"margin"===i&&(l+=_.css(e,i+te[a],!0,r)),n?("content"===i&&(l-=_.css(e,"padding"+te[a],!0,r)),"margin"!==i&&(l-=_.css(e,"border"+te[a]+"Width",!0,r))):(l+=_.css(e,"padding"+te[a],!0,r),"padding"!==i?l+=_.css(e,"border"+te[a]+"Width",!0,r):s+=_.css(e,"border"+te[a]+"Width",!0,r))
return!n&&o>=0&&(l+=Math.max(0,Math.ceil(e["offset"+t[0].toUpperCase()+t.slice(1)]-o-l-s-.5))||0),l}function Ze(e,t,i){var n=Le(e),r=(!p.boxSizingReliable()||i)&&"border-box"===_.css(e,"boxSizing",!1,n),o=r,a=Ve(e,t,n),s="offset"+t[0].toUpperCase()+t.slice(1)
if(Be.test(a)){if(!i)return a
a="auto"}return(!p.boxSizingReliable()&&r||!p.reliableTrDimensions()&&I(e,"tr")||"auto"===a||!parseFloat(a)&&"inline"===_.css(e,"display",!1,n))&&e.getClientRects().length&&(r="border-box"===_.css(e,"boxSizing",!1,n),(o=s in e)&&(a=e[s])),(a=parseFloat(a)||0)+Ke(e,t,i||(r?"border":"content"),o,n,a)+"px"}function et(e,t,i,n,r){return new et.prototype.init(e,t,i,n,r)}_.extend({cssHooks:{opacity:{get:function(e,t){if(t){var i=Ve(e,"opacity")
return""===i?"1":i}}}},cssNumber:{animationIterationCount:!0,columnCount:!0,fillOpacity:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,gridArea:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnStart:!0,gridRow:!0,gridRowEnd:!0,gridRowStart:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{},style:function(e,t,i,n){if(e&&3!==e.nodeType&&8!==e.nodeType&&e.style){var r,o,a,s=U(t),l=Xe.test(t),d=e.style
if(l||(t=Ge(s)),a=_.cssHooks[t]||_.cssHooks[s],void 0===i)return a&&"get"in a&&void 0!==(r=a.get(e,!1,n))?r:d[t]
"string"===(o=typeof i)&&(r=ee.exec(i))&&r[1]&&(i=ae(e,t,r),o="number"),null!=i&&i==i&&("number"!==o||l||(i+=r&&r[3]||(_.cssNumber[s]?"":"px")),p.clearCloneStyle||""!==i||0!==t.indexOf("background")||(d[t]="inherit"),a&&"set"in a&&void 0===(i=a.set(e,i,n))||(l?d.setProperty(t,i):d[t]=i))}},css:function(e,t,i,n){var r,o,a,s=U(t)
return Xe.test(t)||(t=Ge(s)),(a=_.cssHooks[t]||_.cssHooks[s])&&"get"in a&&(r=a.get(e,!0,i)),void 0===r&&(r=Ve(e,t,n)),"normal"===r&&t in Ye&&(r=Ye[t]),""===i||i?(o=parseFloat(r),!0===i||isFinite(o)?o||0:r):r}}),_.each(["height","width"],function(e,t){_.cssHooks[t]={get:function(e,i,n){if(i)return!We.test(_.css(e,"display"))||e.getClientRects().length&&e.getBoundingClientRect().width?Ze(e,t,n):Re(e,Je,function(){return Ze(e,t,n)})},set:function(e,i,n){var r,o=Le(e),a=!p.scrollboxSize()&&"absolute"===o.position,s=(a||n)&&"border-box"===_.css(e,"boxSizing",!1,o),l=n?Ke(e,t,n,s,o):0
return s&&a&&(l-=Math.ceil(e["offset"+t[0].toUpperCase()+t.slice(1)]-parseFloat(o[t])-Ke(e,t,"border",!1,o)-.5)),l&&(r=ee.exec(i))&&"px"!==(r[3]||"px")&&(e.style[t]=i,i=_.css(e,t)),Qe(0,i,l)}}}),_.cssHooks.marginLeft=Fe(p.reliableMarginLeft,function(e,t){if(t)return(parseFloat(Ve(e,"marginLeft"))||e.getBoundingClientRect().left-Re(e,{marginLeft:0},function(){return e.getBoundingClientRect().left}))+"px"}),_.each({margin:"",padding:"",border:"Width"},function(e,t){_.cssHooks[e+t]={expand:function(i){for(var n=0,r={},o="string"==typeof i?i.split(" "):[i];n<4;n++)r[e+te[n]+t]=o[n]||o[n-2]||o[0]
return r}},"margin"!==e&&(_.cssHooks[e+t].set=Qe)}),_.fn.extend({css:function(e,t){return V(this,function(e,t,i){var n,r,o={},a=0
if(Array.isArray(t)){for(n=Le(e),r=t.length;a<r;a++)o[t[a]]=_.css(e,t[a],!1,n)
return o}return void 0!==i?_.style(e,t,i):_.css(e,t)},e,t,arguments.length>1)}}),_.Tween=et,et.prototype={constructor:et,init:function(e,t,i,n,r,o){this.elem=e,this.prop=i,this.easing=r||_.easing._default,this.options=t,this.start=this.now=this.cur(),this.end=n,this.unit=o||(_.cssNumber[i]?"":"px")},cur:function(){var e=et.propHooks[this.prop]
return e&&e.get?e.get(this):et.propHooks._default.get(this)},run:function(e){var t,i=et.propHooks[this.prop]
return this.options.duration?this.pos=t=_.easing[this.easing](e,this.options.duration*e,0,1,this.options.duration):this.pos=t=e,this.now=(this.end-this.start)*t+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),i&&i.set?i.set(this):et.propHooks._default.set(this),this}},et.prototype.init.prototype=et.prototype,et.propHooks={_default:{get:function(e){var t
return 1!==e.elem.nodeType||null!=e.elem[e.prop]&&null==e.elem.style[e.prop]?e.elem[e.prop]:(t=_.css(e.elem,e.prop,""))&&"auto"!==t?t:0},set:function(e){_.fx.step[e.prop]?_.fx.step[e.prop](e):1!==e.elem.nodeType||!_.cssHooks[e.prop]&&null==e.elem.style[Ge(e.prop)]?e.elem[e.prop]=e.now:_.style(e.elem,e.prop,e.now+e.unit)}}},et.propHooks.scrollTop=et.propHooks.scrollLeft={set:function(e){e.elem.nodeType&&e.elem.parentNode&&(e.elem[e.prop]=e.now)}},_.easing={linear:function(e){return e},swing:function(e){return.5-Math.cos(e*Math.PI)/2},_default:"swing"},_.fx=et.prototype.init,_.fx.step={}
var tt,nt,rt=/^(?:toggle|show|hide)$/,ot=/queueHooks$/
function at(){nt&&(!1===g.hidden&&e.requestAnimationFrame?e.requestAnimationFrame(at):e.setTimeout(at,_.fx.interval),_.fx.tick())}function st(){return e.setTimeout(function(){tt=void 0}),tt=Date.now()}function lt(e,t){var i,n=0,r={height:e}
for(t=t?1:0;n<4;n+=2-t)r["margin"+(i=te[n])]=r["padding"+i]=e
return t&&(r.opacity=r.width=e),r}function dt(e,t,i){for(var n,r=(ct.tweeners[t]||[]).concat(ct.tweeners["*"]),o=0,a=r.length;o<a;o++)if(n=r[o].call(i,t,e))return n}function ct(e,t,i){var n,r,o=0,a=ct.prefilters.length,s=_.Deferred().always(function(){delete l.elem}),l=function(){if(r)return!1
for(var t=tt||st(),i=Math.max(0,d.startTime+d.duration-t),n=1-(i/d.duration||0),o=0,a=d.tweens.length;o<a;o++)d.tweens[o].run(n)
return s.notifyWith(e,[d,n,i]),n<1&&a?i:(a||s.notifyWith(e,[d,1,0]),s.resolveWith(e,[d]),!1)},d=s.promise({elem:e,props:_.extend({},t),opts:_.extend(!0,{specialEasing:{},easing:_.easing._default},i),originalProperties:t,originalOptions:i,startTime:tt||st(),duration:i.duration,tweens:[],createTween:function(t,i){var n=_.Tween(e,d.opts,t,i,d.opts.specialEasing[t]||d.opts.easing)
return d.tweens.push(n),n},stop:function(t){var i=0,n=t?d.tweens.length:0
if(r)return this
for(r=!0;i<n;i++)d.tweens[i].run(1)
return t?(s.notifyWith(e,[d,1,0]),s.resolveWith(e,[d,t])):s.rejectWith(e,[d,t]),this}}),c=d.props
for(!function(e,t){var i,n,r,o,a
for(i in e)if(r=t[n=U(i)],o=e[i],Array.isArray(o)&&(r=o[1],o=e[i]=o[0]),i!==n&&(e[n]=o,delete e[i]),(a=_.cssHooks[n])&&"expand"in a)for(i in o=a.expand(o),delete e[n],o)i in e||(e[i]=o[i],t[i]=r)
else t[n]=r}(c,d.opts.specialEasing);o<a;o++)if(n=ct.prefilters[o].call(d,e,c,d.opts))return m(n.stop)&&(_._queueHooks(d.elem,d.opts.queue).stop=n.stop.bind(n)),n
return _.map(c,dt,d),m(d.opts.start)&&d.opts.start.call(e,d),d.progress(d.opts.progress).done(d.opts.done,d.opts.complete).fail(d.opts.fail).always(d.opts.always),_.fx.timer(_.extend(l,{elem:e,anim:d,queue:d.opts.queue})),d}_.Animation=_.extend(ct,{tweeners:{"*":[function(e,t){var i=this.createTween(e,t)
return ae(i.elem,e,ee.exec(t),i),i}]},tweener:function(e,t){m(e)?(t=e,e=["*"]):e=e.match(N)
for(var i,n=0,r=e.length;n<r;n++)i=e[n],ct.tweeners[i]=ct.tweeners[i]||[],ct.tweeners[i].unshift(t)},prefilters:[function(e,t,i){var n,r,o,a,s,l,d,c,h="width"in t||"height"in t,u=this,p={},m=e.style,f=e.nodeType&&oe(e),g=X.get(e,"fxshow")
for(n in i.queue||(null==(a=_._queueHooks(e,"fx")).unqueued&&(a.unqueued=0,s=a.empty.fire,a.empty.fire=function(){a.unqueued||s()}),a.unqueued++,u.always(function(){u.always(function(){a.unqueued--,_.queue(e,"fx").length||a.empty.fire()})})),t)if(r=t[n],rt.test(r)){if(delete t[n],o=o||"toggle"===r,r===(f?"hide":"show")){if("show"!==r||!g||void 0===g[n])continue
f=!0}p[n]=g&&g[n]||_.style(e,n)}if((l=!_.isEmptyObject(t))||!_.isEmptyObject(p))for(n in h&&1===e.nodeType&&(i.overflow=[m.overflow,m.overflowX,m.overflowY],null==(d=g&&g.display)&&(d=X.get(e,"display")),"none"===(c=_.css(e,"display"))&&(d?c=d:(de([e],!0),d=e.style.display||d,c=_.css(e,"display"),de([e]))),("inline"===c||"inline-block"===c&&null!=d)&&"none"===_.css(e,"float")&&(l||(u.done(function(){m.display=d}),null==d&&(c=m.display,d="none"===c?"":c)),m.display="inline-block")),i.overflow&&(m.overflow="hidden",u.always(function(){m.overflow=i.overflow[0],m.overflowX=i.overflow[1],m.overflowY=i.overflow[2]})),l=!1,p)l||(g?"hidden"in g&&(f=g.hidden):g=X.access(e,"fxshow",{display:d}),o&&(g.hidden=!f),f&&de([e],!0),u.done(function(){for(n in f||de([e]),X.remove(e,"fxshow"),p)_.style(e,n,p[n])})),l=dt(f?g[n]:0,n,u),n in g||(g[n]=l.start,f&&(l.end=l.start,l.start=0))}],prefilter:function(e,t){t?ct.prefilters.unshift(e):ct.prefilters.push(e)}}),_.speed=function(e,t,i){var n=e&&"object"==typeof e?_.extend({},e):{complete:i||!i&&t||m(e)&&e,duration:e,easing:i&&t||t&&!m(t)&&t}
return _.fx.off?n.duration=0:"number"!=typeof n.duration&&(n.duration in _.fx.speeds?n.duration=_.fx.speeds[n.duration]:n.duration=_.fx.speeds._default),null!=n.queue&&!0!==n.queue||(n.queue="fx"),n.old=n.complete,n.complete=function(){m(n.old)&&n.old.call(this),n.queue&&_.dequeue(this,n.queue)},n},_.fn.extend({fadeTo:function(e,t,i,n){return this.filter(oe).css("opacity",0).show().end().animate({opacity:t},e,i,n)},animate:function(e,t,i,n){var r=_.isEmptyObject(e),o=_.speed(t,i,n),a=function(){var t=ct(this,_.extend({},e),o);(r||X.get(this,"finish"))&&t.stop(!0)}
return a.finish=a,r||!1===o.queue?this.each(a):this.queue(o.queue,a)},stop:function(e,t,i){var n=function(e){var t=e.stop
delete e.stop,t(i)}
return"string"!=typeof e&&(i=t,t=e,e=void 0),t&&this.queue(e||"fx",[]),this.each(function(){var t=!0,r=null!=e&&e+"queueHooks",o=_.timers,a=X.get(this)
if(r)a[r]&&a[r].stop&&n(a[r])
else for(r in a)a[r]&&a[r].stop&&ot.test(r)&&n(a[r])
for(r=o.length;r--;)o[r].elem!==this||null!=e&&o[r].queue!==e||(o[r].anim.stop(i),t=!1,o.splice(r,1))
!t&&i||_.dequeue(this,e)})},finish:function(e){return!1!==e&&(e=e||"fx"),this.each(function(){var t,i=X.get(this),n=i[e+"queue"],r=i[e+"queueHooks"],o=_.timers,a=n?n.length:0
for(i.finish=!0,_.queue(this,e,[]),r&&r.stop&&r.stop.call(this,!0),t=o.length;t--;)o[t].elem===this&&o[t].queue===e&&(o[t].anim.stop(!0),o.splice(t,1))
for(t=0;t<a;t++)n[t]&&n[t].finish&&n[t].finish.call(this)
delete i.finish})}}),_.each(["toggle","show","hide"],function(e,t){var i=_.fn[t]
_.fn[t]=function(e,n,r){return null==e||"boolean"==typeof e?i.apply(this,arguments):this.animate(lt(t,!0),e,n,r)}}),_.each({slideDown:lt("show"),slideUp:lt("hide"),slideToggle:lt("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(e,t){_.fn[e]=function(e,i,n){return this.animate(t,e,i,n)}}),_.timers=[],_.fx.tick=function(){var e,t=0,i=_.timers
for(tt=Date.now();t<i.length;t++)(e=i[t])()||i[t]!==e||i.splice(t--,1)
i.length||_.fx.stop(),tt=void 0},_.fx.timer=function(e){_.timers.push(e),_.fx.start()},_.fx.interval=13,_.fx.start=function(){nt||(nt=!0,at())},_.fx.stop=function(){nt=null},_.fx.speeds={slow:600,fast:200,_default:400},_.fn.delay=function(t,i){return t=_.fx&&_.fx.speeds[t]||t,i=i||"fx",this.queue(i,function(i,n){var r=e.setTimeout(i,t)
n.stop=function(){e.clearTimeout(r)}})},function(){var e=g.createElement("input"),t=g.createElement("select").appendChild(g.createElement("option"))
e.type="checkbox",p.checkOn=""!==e.value,p.optSelected=t.selected,(e=g.createElement("input")).value="t",e.type="radio",p.radioValue="t"===e.value}()
var ht,ut=_.expr.attrHandle
_.fn.extend({attr:function(e,t){return V(this,_.attr,e,t,arguments.length>1)},removeAttr:function(e){return this.each(function(){_.removeAttr(this,e)})}}),_.extend({attr:function(e,t,i){var n,r,o=e.nodeType
if(3!==o&&8!==o&&2!==o)return void 0===e.getAttribute?_.prop(e,t,i):(1===o&&_.isXMLDoc(e)||(r=_.attrHooks[t.toLowerCase()]||(_.expr.match.bool.test(t)?ht:void 0)),void 0!==i?null===i?void _.removeAttr(e,t):r&&"set"in r&&void 0!==(n=r.set(e,i,t))?n:(e.setAttribute(t,i+""),i):r&&"get"in r&&null!==(n=r.get(e,t))?n:null==(n=_.find.attr(e,t))?void 0:n)},attrHooks:{type:{set:function(e,t){if(!p.radioValue&&"radio"===t&&I(e,"input")){var i=e.value
return e.setAttribute("type",t),i&&(e.value=i),t}}}},removeAttr:function(e,t){var i,n=0,r=t&&t.match(N)
if(r&&1===e.nodeType)for(;i=r[n++];)e.removeAttribute(i)}}),ht={set:function(e,t,i){return!1===t?_.removeAttr(e,i):e.setAttribute(i,i),i}},_.each(_.expr.match.bool.source.match(/\w+/g),function(e,t){var i=ut[t]||_.find.attr
ut[t]=function(e,t,n){var r,o,a=t.toLowerCase()
return n||(o=ut[a],ut[a]=r,r=null!=i(e,t,n)?a:null,ut[a]=o),r}})
var pt=/^(?:input|select|textarea|button)$/i,mt=/^(?:a|area)$/i
function ft(e){return(e.match(N)||[]).join(" ")}function gt(e){return e.getAttribute&&e.getAttribute("class")||""}function vt(e){return Array.isArray(e)?e:"string"==typeof e&&e.match(N)||[]}_.fn.extend({prop:function(e,t){return V(this,_.prop,e,t,arguments.length>1)},removeProp:function(e){return this.each(function(){delete this[_.propFix[e]||e]})}}),_.extend({prop:function(e,t,i){var n,r,o=e.nodeType
if(3!==o&&8!==o&&2!==o)return 1===o&&_.isXMLDoc(e)||(t=_.propFix[t]||t,r=_.propHooks[t]),void 0!==i?r&&"set"in r&&void 0!==(n=r.set(e,i,t))?n:e[t]=i:r&&"get"in r&&null!==(n=r.get(e,t))?n:e[t]},propHooks:{tabIndex:{get:function(e){var t=_.find.attr(e,"tabindex")
return t?parseInt(t,10):pt.test(e.nodeName)||mt.test(e.nodeName)&&e.href?0:-1}}},propFix:{for:"htmlFor",class:"className"}}),p.optSelected||(_.propHooks.selected={get:function(e){var t=e.parentNode
return t&&t.parentNode&&t.parentNode.selectedIndex,null},set:function(e){var t=e.parentNode
t&&(t.selectedIndex,t.parentNode&&t.parentNode.selectedIndex)}}),_.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){_.propFix[this.toLowerCase()]=this}),_.fn.extend({addClass:function(e){var t,i,n,r,o,a,s,l=0
if(m(e))return this.each(function(t){_(this).addClass(e.call(this,t,gt(this)))})
if((t=vt(e)).length)for(;i=this[l++];)if(r=gt(i),n=1===i.nodeType&&" "+ft(r)+" "){for(a=0;o=t[a++];)n.indexOf(" "+o+" ")<0&&(n+=o+" ")
r!==(s=ft(n))&&i.setAttribute("class",s)}return this},removeClass:function(e){var t,i,n,r,o,a,s,l=0
if(m(e))return this.each(function(t){_(this).removeClass(e.call(this,t,gt(this)))})
if(!arguments.length)return this.attr("class","")
if((t=vt(e)).length)for(;i=this[l++];)if(r=gt(i),n=1===i.nodeType&&" "+ft(r)+" "){for(a=0;o=t[a++];)for(;n.indexOf(" "+o+" ")>-1;)n=n.replace(" "+o+" "," ")
r!==(s=ft(n))&&i.setAttribute("class",s)}return this},toggleClass:function(e,t){var i=typeof e,n="string"===i||Array.isArray(e)
return"boolean"==typeof t&&n?t?this.addClass(e):this.removeClass(e):m(e)?this.each(function(i){_(this).toggleClass(e.call(this,i,gt(this),t),t)}):this.each(function(){var t,r,o,a
if(n)for(r=0,o=_(this),a=vt(e);t=a[r++];)o.hasClass(t)?o.removeClass(t):o.addClass(t)
else void 0!==e&&"boolean"!==i||((t=gt(this))&&X.set(this,"__className__",t),this.setAttribute&&this.setAttribute("class",t||!1===e?"":X.get(this,"__className__")||""))})},hasClass:function(e){var t,i,n=0
for(t=" "+e+" ";i=this[n++];)if(1===i.nodeType&&(" "+ft(gt(i))+" ").indexOf(t)>-1)return!0
return!1}})
var bt=/\r/g
_.fn.extend({val:function(e){var t,i,n,r=this[0]
return arguments.length?(n=m(e),this.each(function(i){var r
1===this.nodeType&&(null==(r=n?e.call(this,i,_(this).val()):e)?r="":"number"==typeof r?r+="":Array.isArray(r)&&(r=_.map(r,function(e){return null==e?"":e+""})),(t=_.valHooks[this.type]||_.valHooks[this.nodeName.toLowerCase()])&&"set"in t&&void 0!==t.set(this,r,"value")||(this.value=r))})):r?(t=_.valHooks[r.type]||_.valHooks[r.nodeName.toLowerCase()])&&"get"in t&&void 0!==(i=t.get(r,"value"))?i:"string"==typeof(i=r.value)?i.replace(bt,""):null==i?"":i:void 0}}),_.extend({valHooks:{option:{get:function(e){var t=_.find.attr(e,"value")
return null!=t?t:ft(_.text(e))}},select:{get:function(e){var t,i,n,r=e.options,o=e.selectedIndex,a="select-one"===e.type,s=a?null:[],l=a?o+1:r.length
for(n=o<0?l:a?o:0;n<l;n++)if(((i=r[n]).selected||n===o)&&!i.disabled&&(!i.parentNode.disabled||!I(i.parentNode,"optgroup"))){if(t=_(i).val(),a)return t
s.push(t)}return s},set:function(e,t){for(var i,n,r=e.options,o=_.makeArray(t),a=r.length;a--;)((n=r[a]).selected=_.inArray(_.valHooks.option.get(n),o)>-1)&&(i=!0)
return i||(e.selectedIndex=-1),o}}}}),_.each(["radio","checkbox"],function(){_.valHooks[this]={set:function(e,t){if(Array.isArray(t))return e.checked=_.inArray(_(e).val(),t)>-1}},p.checkOn||(_.valHooks[this].get=function(e){return null===e.getAttribute("value")?"on":e.value})}),p.focusin="onfocusin"in e
var yt=/^(?:focusinfocus|focusoutblur)$/,_t=function(e){e.stopPropagation()}
_.extend(_.event,{trigger:function(t,i,n,r){var o,a,s,l,d,h,u,p,v=[n||g],b=c.call(t,"type")?t.type:t,y=c.call(t,"namespace")?t.namespace.split("."):[]
if(a=p=s=n=n||g,3!==n.nodeType&&8!==n.nodeType&&!yt.test(b+_.event.triggered)&&(b.indexOf(".")>-1&&(y=b.split("."),b=y.shift(),y.sort()),d=b.indexOf(":")<0&&"on"+b,(t=t[_.expando]?t:new _.Event(b,"object"==typeof t&&t)).isTrigger=r?2:3,t.namespace=y.join("."),t.rnamespace=t.namespace?new RegExp("(^|\\.)"+y.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,t.result=void 0,t.target||(t.target=n),i=null==i?[t]:_.makeArray(i,[t]),u=_.event.special[b]||{},r||!u.trigger||!1!==u.trigger.apply(n,i))){if(!r&&!u.noBubble&&!f(n)){for(l=u.delegateType||b,yt.test(l+b)||(a=a.parentNode);a;a=a.parentNode)v.push(a),s=a
s===(n.ownerDocument||g)&&v.push(s.defaultView||s.parentWindow||e)}for(o=0;(a=v[o++])&&!t.isPropagationStopped();)p=a,t.type=o>1?l:u.bindType||b,(h=(X.get(a,"events")||Object.create(null))[t.type]&&X.get(a,"handle"))&&h.apply(a,i),(h=d&&a[d])&&h.apply&&G(a)&&(t.result=h.apply(a,i),!1===t.result&&t.preventDefault())
return t.type=b,r||t.isDefaultPrevented()||u._default&&!1!==u._default.apply(v.pop(),i)||!G(n)||d&&m(n[b])&&!f(n)&&((s=n[d])&&(n[d]=null),_.event.triggered=b,t.isPropagationStopped()&&p.addEventListener(b,_t),n[b](),t.isPropagationStopped()&&p.removeEventListener(b,_t),_.event.triggered=void 0,s&&(n[d]=s)),t.result}},simulate:function(e,t,i){var n=_.extend(new _.Event,i,{type:e,isSimulated:!0})
_.event.trigger(n,null,t)}}),_.fn.extend({trigger:function(e,t){return this.each(function(){_.event.trigger(e,t,this)})},triggerHandler:function(e,t){var i=this[0]
if(i)return _.event.trigger(e,t,i,!0)}}),p.focusin||_.each({focus:"focusin",blur:"focusout"},function(e,t){var i=function(e){_.event.simulate(t,e.target,_.event.fix(e))}
_.event.special[t]={setup:function(){var n=this.ownerDocument||this.document||this,r=X.access(n,t)
r||n.addEventListener(e,i,!0),X.access(n,t,(r||0)+1)},teardown:function(){var n=this.ownerDocument||this.document||this,r=X.access(n,t)-1
r?X.access(n,t,r):(n.removeEventListener(e,i,!0),X.remove(n,t))}}})
var wt=e.location,xt={guid:Date.now()},Ct=/\?/
_.parseXML=function(t){var i
if(!t||"string"!=typeof t)return null
try{i=(new e.DOMParser).parseFromString(t,"text/xml")}catch(e){i=void 0}return i&&!i.getElementsByTagName("parsererror").length||_.error("Invalid XML: "+t),i}
var St=/\[\]$/,Tt=/\r?\n/g,It=/^(?:submit|button|image|reset|file)$/i,Et=/^(?:input|select|textarea|keygen)/i
function Pt(e,t,i,n){var r
if(Array.isArray(t))_.each(t,function(t,r){i||St.test(e)?n(e,r):Pt(e+"["+("object"==typeof r&&null!=r?t:"")+"]",r,i,n)})
else if(i||"object"!==y(t))n(e,t)
else for(r in t)Pt(e+"["+r+"]",t[r],i,n)}_.param=function(e,t){var i,n=[],r=function(e,t){var i=m(t)?t():t
n[n.length]=encodeURIComponent(e)+"="+encodeURIComponent(null==i?"":i)}
if(null==e)return""
if(Array.isArray(e)||e.jquery&&!_.isPlainObject(e))_.each(e,function(){r(this.name,this.value)})
else for(i in e)Pt(i,e[i],t,r)
return n.join("&")},_.fn.extend({serialize:function(){return _.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var e=_.prop(this,"elements")
return e?_.makeArray(e):this}).filter(function(){var e=this.type
return this.name&&!_(this).is(":disabled")&&Et.test(this.nodeName)&&!It.test(e)&&(this.checked||!ue.test(e))}).map(function(e,t){var i=_(this).val()
return null==i?null:Array.isArray(i)?_.map(i,function(e){return{name:t.name,value:e.replace(Tt,"\r\n")}}):{name:t.name,value:i.replace(Tt,"\r\n")}}).get()}})
var Dt=/%20/g,kt=/#.*$/,At=/([?&])_=[^&]*/,jt=/^(.*?):[ \t]*([^\r\n]*)$/gm,Mt=/^(?:GET|HEAD)$/,Nt=/^\/\//,qt={},Ot={},Bt="*/".concat("*"),Lt=g.createElement("a")
function Rt(e){return function(t,i){"string"!=typeof t&&(i=t,t="*")
var n,r=0,o=t.toLowerCase().match(N)||[]
if(m(i))for(;n=o[r++];)"+"===n[0]?(n=n.slice(1)||"*",(e[n]=e[n]||[]).unshift(i)):(e[n]=e[n]||[]).push(i)}}function Ht(e,t,i,n){var r={},o=e===Ot
function a(s){var l
return r[s]=!0,_.each(e[s]||[],function(e,s){var d=s(t,i,n)
return"string"!=typeof d||o||r[d]?o?!(l=d):void 0:(t.dataTypes.unshift(d),a(d),!1)}),l}return a(t.dataTypes[0])||!r["*"]&&a("*")}function Vt(e,t){var i,n,r=_.ajaxSettings.flatOptions||{}
for(i in t)void 0!==t[i]&&((r[i]?e:n||(n={}))[i]=t[i])
return n&&_.extend(!0,e,n),e}Lt.href=wt.href,_.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:wt.href,type:"GET",isLocal:/^(?:about|app|app-storage|.+-extension|file|res|widget):$/.test(wt.protocol),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":Bt,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/\bxml\b/,html:/\bhtml/,json:/\bjson\b/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":JSON.parse,"text xml":_.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(e,t){return t?Vt(Vt(e,_.ajaxSettings),t):Vt(_.ajaxSettings,e)},ajaxPrefilter:Rt(qt),ajaxTransport:Rt(Ot),ajax:function(t,i){"object"==typeof t&&(i=t,t=void 0),i=i||{}
var n,r,o,a,s,l,d,c,h,u,p=_.ajaxSetup({},i),m=p.context||p,f=p.context&&(m.nodeType||m.jquery)?_(m):_.event,v=_.Deferred(),b=_.Callbacks("once memory"),y=p.statusCode||{},w={},x={},C="canceled",S={readyState:0,getResponseHeader:function(e){var t
if(d){if(!a)for(a={};t=jt.exec(o);)a[t[1].toLowerCase()+" "]=(a[t[1].toLowerCase()+" "]||[]).concat(t[2])
t=a[e.toLowerCase()+" "]}return null==t?null:t.join(", ")},getAllResponseHeaders:function(){return d?o:null},setRequestHeader:function(e,t){return null==d&&(e=x[e.toLowerCase()]=x[e.toLowerCase()]||e,w[e]=t),this},overrideMimeType:function(e){return null==d&&(p.mimeType=e),this},statusCode:function(e){var t
if(e)if(d)S.always(e[S.status])
else for(t in e)y[t]=[y[t],e[t]]
return this},abort:function(e){var t=e||C
return n&&n.abort(t),T(0,t),this}}
if(v.promise(S),p.url=((t||p.url||wt.href)+"").replace(Nt,wt.protocol+"//"),p.type=i.method||i.type||p.method||p.type,p.dataTypes=(p.dataType||"*").toLowerCase().match(N)||[""],null==p.crossDomain){l=g.createElement("a")
try{l.href=p.url,l.href=l.href,p.crossDomain=Lt.protocol+"//"+Lt.host!=l.protocol+"//"+l.host}catch(e){p.crossDomain=!0}}if(p.data&&p.processData&&"string"!=typeof p.data&&(p.data=_.param(p.data,p.traditional)),Ht(qt,p,i,S),d)return S
for(h in(c=_.event&&p.global)&&0==_.active++&&_.event.trigger("ajaxStart"),p.type=p.type.toUpperCase(),p.hasContent=!Mt.test(p.type),r=p.url.replace(kt,""),p.hasContent?p.data&&p.processData&&0===(p.contentType||"").indexOf("application/x-www-form-urlencoded")&&(p.data=p.data.replace(Dt,"+")):(u=p.url.slice(r.length),p.data&&(p.processData||"string"==typeof p.data)&&(r+=(Ct.test(r)?"&":"?")+p.data,delete p.data),!1===p.cache&&(r=r.replace(At,"$1"),u=(Ct.test(r)?"&":"?")+"_="+xt.guid+++u),p.url=r+u),p.ifModified&&(_.lastModified[r]&&S.setRequestHeader("If-Modified-Since",_.lastModified[r]),_.etag[r]&&S.setRequestHeader("If-None-Match",_.etag[r])),(p.data&&p.hasContent&&!1!==p.contentType||i.contentType)&&S.setRequestHeader("Content-Type",p.contentType),S.setRequestHeader("Accept",p.dataTypes[0]&&p.accepts[p.dataTypes[0]]?p.accepts[p.dataTypes[0]]+("*"!==p.dataTypes[0]?", "+Bt+"; q=0.01":""):p.accepts["*"]),p.headers)S.setRequestHeader(h,p.headers[h])
if(p.beforeSend&&(!1===p.beforeSend.call(m,S,p)||d))return S.abort()
if(C="abort",b.add(p.complete),S.done(p.success),S.fail(p.error),n=Ht(Ot,p,i,S)){if(S.readyState=1,c&&f.trigger("ajaxSend",[S,p]),d)return S
p.async&&p.timeout>0&&(s=e.setTimeout(function(){S.abort("timeout")},p.timeout))
try{d=!1,n.send(w,T)}catch(e){if(d)throw e
T(-1,e)}}else T(-1,"No Transport")
function T(t,i,a,l){var h,u,g,w,x,C=i
d||(d=!0,s&&e.clearTimeout(s),n=void 0,o=l||"",S.readyState=t>0?4:0,h=t>=200&&t<300||304===t,a&&(w=function(e,t,i){for(var n,r,o,a,s=e.contents,l=e.dataTypes;"*"===l[0];)l.shift(),void 0===n&&(n=e.mimeType||t.getResponseHeader("Content-Type"))
if(n)for(r in s)if(s[r]&&s[r].test(n)){l.unshift(r)
break}if(l[0]in i)o=l[0]
else{for(r in i){if(!l[0]||e.converters[r+" "+l[0]]){o=r
break}a||(a=r)}o=o||a}if(o)return o!==l[0]&&l.unshift(o),i[o]}(p,S,a)),!h&&_.inArray("script",p.dataTypes)>-1&&(p.converters["text script"]=function(){}),w=function(e,t,i,n){var r,o,a,s,l,d={},c=e.dataTypes.slice()
if(c[1])for(a in e.converters)d[a.toLowerCase()]=e.converters[a]
for(o=c.shift();o;)if(e.responseFields[o]&&(i[e.responseFields[o]]=t),!l&&n&&e.dataFilter&&(t=e.dataFilter(t,e.dataType)),l=o,o=c.shift())if("*"===o)o=l
else if("*"!==l&&l!==o){if(!(a=d[l+" "+o]||d["* "+o]))for(r in d)if((s=r.split(" "))[1]===o&&(a=d[l+" "+s[0]]||d["* "+s[0]])){!0===a?a=d[r]:!0!==d[r]&&(o=s[0],c.unshift(s[1]))
break}if(!0!==a)if(a&&e.throws)t=a(t)
else try{t=a(t)}catch(e){return{state:"parsererror",error:a?e:"No conversion from "+l+" to "+o}}}return{state:"success",data:t}}(p,w,S,h),h?(p.ifModified&&((x=S.getResponseHeader("Last-Modified"))&&(_.lastModified[r]=x),(x=S.getResponseHeader("etag"))&&(_.etag[r]=x)),204===t||"HEAD"===p.type?C="nocontent":304===t?C="notmodified":(C=w.state,u=w.data,h=!(g=w.error))):(g=C,!t&&C||(C="error",t<0&&(t=0))),S.status=t,S.statusText=(i||C)+"",h?v.resolveWith(m,[u,C,S]):v.rejectWith(m,[S,C,g]),S.statusCode(y),y=void 0,c&&f.trigger(h?"ajaxSuccess":"ajaxError",[S,p,h?u:g]),b.fireWith(m,[S,C]),c&&(f.trigger("ajaxComplete",[S,p]),--_.active||_.event.trigger("ajaxStop")))}return S},getJSON:function(e,t,i){return _.get(e,t,i,"json")},getScript:function(e,t){return _.get(e,void 0,t,"script")}}),_.each(["get","post"],function(e,t){_[t]=function(e,i,n,r){return m(i)&&(r=r||n,n=i,i=void 0),_.ajax(_.extend({url:e,type:t,dataType:r,data:i,success:n},_.isPlainObject(e)&&e))}}),_.ajaxPrefilter(function(e){var t
for(t in e.headers)"content-type"===t.toLowerCase()&&(e.contentType=e.headers[t]||"")}),_._evalUrl=function(e,t,i){return _.ajax({url:e,type:"GET",dataType:"script",cache:!0,async:!1,global:!1,converters:{"text script":function(){}},dataFilter:function(e){_.globalEval(e,t,i)}})},_.fn.extend({wrapAll:function(e){var t
return this[0]&&(m(e)&&(e=e.call(this[0])),t=_(e,this[0].ownerDocument).eq(0).clone(!0),this[0].parentNode&&t.insertBefore(this[0]),t.map(function(){for(var e=this;e.firstElementChild;)e=e.firstElementChild
return e}).append(this)),this},wrapInner:function(e){return m(e)?this.each(function(t){_(this).wrapInner(e.call(this,t))}):this.each(function(){var t=_(this),i=t.contents()
i.length?i.wrapAll(e):t.append(e)})},wrap:function(e){var t=m(e)
return this.each(function(i){_(this).wrapAll(t?e.call(this,i):e)})},unwrap:function(e){return this.parent(e).not("body").each(function(){_(this).replaceWith(this.childNodes)}),this}}),_.expr.pseudos.hidden=function(e){return!_.expr.pseudos.visible(e)},_.expr.pseudos.visible=function(e){return!!(e.offsetWidth||e.offsetHeight||e.getClientRects().length)},_.ajaxSettings.xhr=function(){try{return new e.XMLHttpRequest}catch(e){}}
var Ft={0:200,1223:204},zt=_.ajaxSettings.xhr()
p.cors=!!zt&&"withCredentials"in zt,p.ajax=zt=!!zt,_.ajaxTransport(function(t){var i,n
if(p.cors||zt&&!t.crossDomain)return{send:function(r,o){var a,s=t.xhr()
if(s.open(t.type,t.url,t.async,t.username,t.password),t.xhrFields)for(a in t.xhrFields)s[a]=t.xhrFields[a]
for(a in t.mimeType&&s.overrideMimeType&&s.overrideMimeType(t.mimeType),t.crossDomain||r["X-Requested-With"]||(r["X-Requested-With"]="XMLHttpRequest"),r)s.setRequestHeader(a,r[a])
i=function(e){return function(){i&&(i=n=s.onload=s.onerror=s.onabort=s.ontimeout=s.onreadystatechange=null,"abort"===e?s.abort():"error"===e?"number"!=typeof s.status?o(0,"error"):o(s.status,s.statusText):o(Ft[s.status]||s.status,s.statusText,"text"!==(s.responseType||"text")||"string"!=typeof s.responseText?{binary:s.response}:{text:s.responseText},s.getAllResponseHeaders()))}},s.onload=i(),n=s.onerror=s.ontimeout=i("error"),void 0!==s.onabort?s.onabort=n:s.onreadystatechange=function(){4===s.readyState&&e.setTimeout(function(){i&&n()})},i=i("abort")
try{s.send(t.hasContent&&t.data||null)}catch(e){if(i)throw e}},abort:function(){i&&i()}}}),_.ajaxPrefilter(function(e){e.crossDomain&&(e.contents.script=!1)}),_.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/\b(?:java|ecma)script\b/},converters:{"text script":function(e){return _.globalEval(e),e}}}),_.ajaxPrefilter("script",function(e){void 0===e.cache&&(e.cache=!1),e.crossDomain&&(e.type="GET")}),_.ajaxTransport("script",function(e){var t,i
if(e.crossDomain||e.scriptAttrs)return{send:function(n,r){t=_("<script>").attr(e.scriptAttrs||{}).prop({charset:e.scriptCharset,src:e.url}).on("load error",i=function(e){t.remove(),i=null,e&&r("error"===e.type?404:200,e.type)}),g.head.appendChild(t[0])},abort:function(){i&&i()}}})
var $t,Ut=[],Gt=/(=)\?(?=&|$)|\?\?/
_.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var e=Ut.pop()||_.expando+"_"+xt.guid++
return this[e]=!0,e}}),_.ajaxPrefilter("json jsonp",function(t,i,n){var r,o,a,s=!1!==t.jsonp&&(Gt.test(t.url)?"url":"string"==typeof t.data&&0===(t.contentType||"").indexOf("application/x-www-form-urlencoded")&&Gt.test(t.data)&&"data")
if(s||"jsonp"===t.dataTypes[0])return r=t.jsonpCallback=m(t.jsonpCallback)?t.jsonpCallback():t.jsonpCallback,s?t[s]=t[s].replace(Gt,"$1"+r):!1!==t.jsonp&&(t.url+=(Ct.test(t.url)?"&":"?")+t.jsonp+"="+r),t.converters["script json"]=function(){return a||_.error(r+" was not called"),a[0]},t.dataTypes[0]="json",o=e[r],e[r]=function(){a=arguments},n.always(function(){void 0===o?_(e).removeProp(r):e[r]=o,t[r]&&(t.jsonpCallback=i.jsonpCallback,Ut.push(r)),a&&m(o)&&o(a[0]),a=o=void 0}),"script"}),p.createHTMLDocument=(($t=g.implementation.createHTMLDocument("").body).innerHTML="<form></form><form></form>",2===$t.childNodes.length),_.parseHTML=function(e,t,i){return"string"!=typeof e?[]:("boolean"==typeof t&&(i=t,t=!1),t||(p.createHTMLDocument?((n=(t=g.implementation.createHTMLDocument("")).createElement("base")).href=g.location.href,t.head.appendChild(n)):t=g),o=!i&&[],(r=E.exec(e))?[t.createElement(r[1])]:(r=ye([e],t,o),o&&o.length&&_(o).remove(),_.merge([],r.childNodes)))
var n,r,o},_.fn.load=function(e,t,i){var n,r,o,a=this,s=e.indexOf(" ")
return s>-1&&(n=ft(e.slice(s)),e=e.slice(0,s)),m(t)?(i=t,t=void 0):t&&"object"==typeof t&&(r="POST"),a.length>0&&_.ajax({url:e,type:r||"GET",dataType:"html",data:t}).done(function(e){o=arguments,a.html(n?_("<div>").append(_.parseHTML(e)).find(n):e)}).always(i&&function(e,t){a.each(function(){i.apply(this,o||[e.responseText,t,e])})}),this},_.expr.pseudos.animated=function(e){return _.grep(_.timers,function(t){return e===t.elem}).length},_.offset={setOffset:function(e,t,i){var n,r,o,a,s,l,d=_.css(e,"position"),c=_(e),h={}
"static"===d&&(e.style.position="relative"),s=c.offset(),o=_.css(e,"top"),l=_.css(e,"left"),("absolute"===d||"fixed"===d)&&(o+l).indexOf("auto")>-1?(a=(n=c.position()).top,r=n.left):(a=parseFloat(o)||0,r=parseFloat(l)||0),m(t)&&(t=t.call(e,i,_.extend({},s))),null!=t.top&&(h.top=t.top-s.top+a),null!=t.left&&(h.left=t.left-s.left+r),"using"in t?t.using.call(e,h):("number"==typeof h.top&&(h.top+="px"),"number"==typeof h.left&&(h.left+="px"),c.css(h))}},_.fn.extend({offset:function(e){if(arguments.length)return void 0===e?this:this.each(function(t){_.offset.setOffset(this,e,t)})
var t,i,n=this[0]
return n?n.getClientRects().length?(t=n.getBoundingClientRect(),i=n.ownerDocument.defaultView,{top:t.top+i.pageYOffset,left:t.left+i.pageXOffset}):{top:0,left:0}:void 0},position:function(){if(this[0]){var e,t,i,n=this[0],r={top:0,left:0}
if("fixed"===_.css(n,"position"))t=n.getBoundingClientRect()
else{for(t=this.offset(),i=n.ownerDocument,e=n.offsetParent||i.documentElement;e&&(e===i.body||e===i.documentElement)&&"static"===_.css(e,"position");)e=e.parentNode
e&&e!==n&&1===e.nodeType&&((r=_(e).offset()).top+=_.css(e,"borderTopWidth",!0),r.left+=_.css(e,"borderLeftWidth",!0))}return{top:t.top-r.top-_.css(n,"marginTop",!0),left:t.left-r.left-_.css(n,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){for(var e=this.offsetParent;e&&"static"===_.css(e,"position");)e=e.offsetParent
return e||ie})}}),_.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(e,t){var i="pageYOffset"===t
_.fn[e]=function(n){return V(this,function(e,n,r){var o
if(f(e)?o=e:9===e.nodeType&&(o=e.defaultView),void 0===r)return o?o[t]:e[n]
o?o.scrollTo(i?o.pageXOffset:r,i?r:o.pageYOffset):e[n]=r},e,n,arguments.length)}}),_.each(["top","left"],function(e,t){_.cssHooks[t]=Fe(p.pixelPosition,function(e,i){if(i)return i=Ve(e,t),Be.test(i)?_(e).position()[t]+"px":i})}),_.each({Height:"height",Width:"width"},function(e,t){_.each({padding:"inner"+e,content:t,"":"outer"+e},function(i,n){_.fn[n]=function(r,o){var a=arguments.length&&(i||"boolean"!=typeof r),s=i||(!0===r||!0===o?"margin":"border")
return V(this,function(t,i,r){var o
return f(t)?0===n.indexOf("outer")?t["inner"+e]:t.document.documentElement["client"+e]:9===t.nodeType?(o=t.documentElement,Math.max(t.body["scroll"+e],o["scroll"+e],t.body["offset"+e],o["offset"+e],o["client"+e])):void 0===r?_.css(t,i,s):_.style(t,i,r,s)},t,a?r:void 0,a)}})}),_.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(e,t){_.fn[t]=function(e){return this.on(t,e)}}),_.fn.extend({bind:function(e,t,i){return this.on(e,null,t,i)},unbind:function(e,t){return this.off(e,null,t)},delegate:function(e,t,i,n){return this.on(t,e,i,n)},undelegate:function(e,t,i){return 1===arguments.length?this.off(e,"**"):this.off(t,e||"**",i)},hover:function(e,t){return this.mouseenter(e).mouseleave(t||e)}}),_.each("blur focus focusin focusout resize scroll click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup contextmenu".split(" "),function(e,t){_.fn[t]=function(e,i){return arguments.length>0?this.on(t,null,e,i):this.trigger(t)}})
var Wt=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g
_.proxy=function(e,t){var i,n,o
if("string"==typeof t&&(i=e[t],t=e,e=i),m(e))return n=r.call(arguments,2),(o=function(){return e.apply(t||this,n.concat(r.call(arguments)))}).guid=e.guid=e.guid||_.guid++,o},_.holdReady=function(e){e?_.readyWait++:_.ready(!0)},_.isArray=Array.isArray,_.parseJSON=JSON.parse,_.nodeName=I,_.isFunction=m,_.isWindow=f,_.camelCase=U,_.type=y,_.now=Date.now,_.isNumeric=function(e){var t=_.type(e)
return("number"===t||"string"===t)&&!isNaN(e-parseFloat(e))},_.trim=function(e){return null==e?"":(e+"").replace(Wt,"")},"function"==typeof define&&define.amd&&define("jquery",[],function(){return _})
var Xt=e.jQuery,Jt=e.$
return _.noConflict=function(t){return e.$===_&&(e.$=Jt),t&&e.jQuery===_&&(e.jQuery=Xt),_},void 0===t&&(e.jQuery=e.$=_),_})
var d=Object.freeze({});(function(){var e=new Set("annotation-xml color-profile font-face font-face-src font-face-uri font-face-format font-face-name missing-glyph".split(" "))
function t(t){var i=e.has(t)
return t=/^[a-z][.0-9_a-z]*-[\-.0-9_a-z]*$/.test(t),!i&&t}function i(e){var t=e.isConnected
if(void 0!==t)return t
for(;e&&!(e.__CE_isImportDocument||e instanceof Document);)e=e.parentNode||(window.ShadowRoot&&e instanceof ShadowRoot?e.host:void 0)
return!(!e||!(e.__CE_isImportDocument||e instanceof Document))}function n(e,t){for(;t&&t!==e&&!t.nextSibling;)t=t.parentNode
return t&&t!==e?t.nextSibling:null}function r(e,t,i){i=void 0===i?new Set:i
for(var o=e;o;){if(o.nodeType===Node.ELEMENT_NODE){var a=o
t(a)
var s=a.localName
if("link"===s&&"import"===a.getAttribute("rel")){if((o=a.import)instanceof Node&&!i.has(o))for(i.add(o),o=o.firstChild;o;o=o.nextSibling)r(o,t,i)
o=n(e,a)
continue}if("template"===s){o=n(e,a)
continue}if(a=a.__CE_shadowRoot)for(a=a.firstChild;a;a=a.nextSibling)r(a,t,i)}o=o.firstChild?o.firstChild:n(e,o)}}function o(e,t,i){e[t]=i}function a(){this.a=new Map,this.g=new Map,this.c=[],this.f=[],this.b=!1}function s(e,t){e.b&&r(t,function(t){return l(e,t)})}function l(e,t){if(e.b&&!t.__CE_patched){t.__CE_patched=!0
for(var i=0;i<e.c.length;i++)e.c[i](t)
for(i=0;i<e.f.length;i++)e.f[i](t)}}function d(e,t){var i=[]
for(r(t,function(e){return i.push(e)}),t=0;t<i.length;t++){var n=i[t]
1===n.__CE_state?e.connectedCallback(n):u(e,n)}}function c(e,t){var i=[]
for(r(t,function(e){return i.push(e)}),t=0;t<i.length;t++){var n=i[t]
1===n.__CE_state&&e.disconnectedCallback(n)}}function h(e,t,i){var n=(i=void 0===i?{}:i).u||new Set,o=i.i||function(t){return u(e,t)},a=[]
if(r(t,function(t){if("link"===t.localName&&"import"===t.getAttribute("rel")){var i=t.import
i instanceof Node&&(i.__CE_isImportDocument=!0,i.__CE_hasRegistry=!0),i&&"complete"===i.readyState?i.__CE_documentLoadHandled=!0:t.addEventListener("load",function(){var i=t.import
if(!i.__CE_documentLoadHandled){i.__CE_documentLoadHandled=!0
var r=new Set(n)
r.delete(i),h(e,i,{u:r,i:o})}})}else a.push(t)},n),e.b)for(t=0;t<a.length;t++)l(e,a[t])
for(t=0;t<a.length;t++)o(a[t])}function u(e,t){if(void 0===t.__CE_state){var n=t.ownerDocument
if((n.defaultView||n.__CE_isImportDocument&&n.__CE_hasRegistry)&&(n=e.a.get(t.localName))){n.constructionStack.push(t)
var r=n.constructorFunction
try{try{if(new r!==t)throw Error("The custom element constructor did not produce the element being upgraded.")}finally{n.constructionStack.pop()}}catch(e){throw t.__CE_state=2,e}if(t.__CE_state=1,t.__CE_definition=n,n.attributeChangedCallback)for(n=n.observedAttributes,r=0;r<n.length;r++){var o=n[r],a=t.getAttribute(o)
null!==a&&e.attributeChangedCallback(t,o,null,a,null)}i(t)&&e.connectedCallback(t)}}}function p(e){var t=document
this.c=e,this.a=t,this.b=void 0,h(this.c,this.a),"loading"===this.a.readyState&&(this.b=new MutationObserver(this.f.bind(this)),this.b.observe(this.a,{childList:!0,subtree:!0}))}function m(e){e.b&&e.b.disconnect()}function f(){var e=this
this.b=this.a=void 0,this.c=new Promise(function(t){e.b=t,e.a&&t(e.a)})}function g(e){if(e.a)throw Error("Already resolved.")
e.a=void 0,e.b&&e.b(void 0)}function v(e){this.c=!1,this.a=e,this.j=new Map,this.f=function(e){return e()},this.b=!1,this.g=[],this.o=new p(e)}a.prototype.connectedCallback=function(e){var t=e.__CE_definition
t.connectedCallback&&t.connectedCallback.call(e)},a.prototype.disconnectedCallback=function(e){var t=e.__CE_definition
t.disconnectedCallback&&t.disconnectedCallback.call(e)},a.prototype.attributeChangedCallback=function(e,t,i,n,r){var o=e.__CE_definition
o.attributeChangedCallback&&-1<o.observedAttributes.indexOf(t)&&o.attributeChangedCallback.call(e,t,i,n,r)},p.prototype.f=function(e){var t=this.a.readyState
for("interactive"!==t&&"complete"!==t||m(this),t=0;t<e.length;t++)for(var i=e[t].addedNodes,n=0;n<i.length;n++)h(this.c,i[n])},v.prototype.l=function(e,i){var n=this
if(!(i instanceof Function))throw new TypeError("Custom element constructors must be functions.")
if(!t(e))throw new SyntaxError("The element name '"+e+"' is not valid.")
if(this.a.a.get(e))throw Error("A custom element with name '"+e+"' has already been defined.")
if(this.c)throw Error("A custom element is already being defined.")
this.c=!0
try{var r=function(e){var t=o[e]
if(void 0!==t&&!(t instanceof Function))throw Error("The '"+e+"' callback must be a function.")
return t},o=i.prototype
if(!(o instanceof Object))throw new TypeError("The custom element constructor's prototype is not an object.")
var a=r("connectedCallback"),s=r("disconnectedCallback"),l=r("adoptedCallback"),d=r("attributeChangedCallback"),c=i.observedAttributes||[]}catch(e){return}finally{this.c=!1}i={localName:e,constructorFunction:i,connectedCallback:a,disconnectedCallback:s,adoptedCallback:l,attributeChangedCallback:d,observedAttributes:c,constructionStack:[]},function(e,t,i){e.a.set(t,i),e.g.set(i.constructorFunction,i)}(this.a,e,i),this.g.push(i),this.b||(this.b=!0,this.f(function(){return function(e){if(!1!==e.b){e.b=!1
for(var t=e.g,i=[],n=new Map,r=0;r<t.length;r++)n.set(t[r].localName,[])
for(h(e.a,document,{i:function(t){if(void 0===t.__CE_state){var r=t.localName,o=n.get(r)
o?o.push(t):e.a.a.get(r)&&i.push(t)}}}),r=0;r<i.length;r++)u(e.a,i[r])
for(;0<t.length;){var o=t.shift()
r=o.localName,o=n.get(o.localName)
for(var a=0;a<o.length;a++)u(e.a,o[a]);(r=e.j.get(r))&&g(r)}}}(n)}))},v.prototype.i=function(e){h(this.a,e)},v.prototype.get=function(e){if(e=this.a.a.get(e))return e.constructorFunction},v.prototype.m=function(e){if(!t(e))return Promise.reject(new SyntaxError("'"+e+"' is not a valid custom element name."))
var i=this.j.get(e)
return i?i.c:(i=new f,this.j.set(e,i),this.a.a.get(e)&&!this.g.some(function(t){return t.localName===e})&&g(i),i.c)},v.prototype.s=function(e){m(this.o)
var t=this.f
this.f=function(i){return e(function(){return t(i)})}},window.CustomElementRegistry=v,v.prototype.define=v.prototype.l,v.prototype.upgrade=v.prototype.i,v.prototype.get=v.prototype.get,v.prototype.whenDefined=v.prototype.m,v.prototype.polyfillWrapFlushCallback=v.prototype.s
var b=window.Document.prototype.createElement,y=window.Document.prototype.createElementNS,_=window.Document.prototype.importNode,w=window.Document.prototype.prepend,x=window.Document.prototype.append,C=window.DocumentFragment.prototype.prepend,S=window.DocumentFragment.prototype.append,T=window.Node.prototype.cloneNode,I=window.Node.prototype.appendChild,E=window.Node.prototype.insertBefore,P=window.Node.prototype.removeChild,D=window.Node.prototype.replaceChild,k=Object.getOwnPropertyDescriptor(window.Node.prototype,"textContent"),A=window.Element.prototype.attachShadow,j=Object.getOwnPropertyDescriptor(window.Element.prototype,"innerHTML"),M=window.Element.prototype.getAttribute,N=window.Element.prototype.setAttribute,q=window.Element.prototype.removeAttribute,O=window.Element.prototype.getAttributeNS,B=window.Element.prototype.setAttributeNS,L=window.Element.prototype.removeAttributeNS,R=window.Element.prototype.insertAdjacentElement,H=window.Element.prototype.insertAdjacentHTML,V=window.Element.prototype.prepend,F=window.Element.prototype.append,z=window.Element.prototype.before,$=window.Element.prototype.after,U=window.Element.prototype.replaceWith,G=window.Element.prototype.remove,W=window.HTMLElement,X=Object.getOwnPropertyDescriptor(window.HTMLElement.prototype,"innerHTML"),J=window.HTMLElement.prototype.insertAdjacentElement,Y=window.HTMLElement.prototype.insertAdjacentHTML,Q=new function(){}
function K(e,t,n){function r(t){return function(n){for(var r=[],o=0;o<arguments.length;++o)r[o]=arguments[o]
o=[]
for(var a=[],s=0;s<r.length;s++){var l=r[s]
if(l instanceof Element&&i(l)&&a.push(l),l instanceof DocumentFragment)for(l=l.firstChild;l;l=l.nextSibling)o.push(l)
else o.push(l)}for(t.apply(this,r),r=0;r<a.length;r++)c(e,a[r])
if(i(this))for(r=0;r<o.length;r++)(a=o[r])instanceof Element&&d(e,a)}}void 0!==n.h&&(t.prepend=r(n.h)),void 0!==n.append&&(t.append=r(n.append))}var Z,ee=window.customElements
if(!ee||ee.forcePolyfill||"function"!=typeof ee.define||"function"!=typeof ee.get){var te=new a
Z=te,window.HTMLElement=function(){function e(){var e=this.constructor,t=Z.g.get(e)
if(!t)throw Error("The custom element being constructed was not registered with `customElements`.")
var i=t.constructionStack
if(0===i.length)return i=b.call(document,t.localName),Object.setPrototypeOf(i,e.prototype),i.__CE_state=1,i.__CE_definition=t,l(Z,i),i
var n=i[t=i.length-1]
if(n===Q)throw Error("The HTMLElement constructor was either called reentrantly for this constructor or called multiple times.")
return i[t]=Q,Object.setPrototypeOf(n,e.prototype),l(Z,n),n}return e.prototype=W.prototype,Object.defineProperty(e.prototype,"constructor",{writable:!0,configurable:!0,enumerable:!1,value:e}),e}(),function(){var e=te
o(Document.prototype,"createElement",function(t){if(this.__CE_hasRegistry){var i=e.a.get(t)
if(i)return new i.constructorFunction}return t=b.call(this,t),l(e,t),t}),o(Document.prototype,"importNode",function(t,i){return t=_.call(this,t,!!i),this.__CE_hasRegistry?h(e,t):s(e,t),t}),o(Document.prototype,"createElementNS",function(t,i){if(this.__CE_hasRegistry&&(null===t||"http://www.w3.org/1999/xhtml"===t)){var n=e.a.get(i)
if(n)return new n.constructorFunction}return t=y.call(this,t,i),l(e,t),t}),K(e,Document.prototype,{h:w,append:x})}(),K(te,DocumentFragment.prototype,{h:C,append:S}),function(){function e(e,n){Object.defineProperty(e,"textContent",{enumerable:n.enumerable,configurable:!0,get:n.get,set:function(e){if(this.nodeType===Node.TEXT_NODE)n.set.call(this,e)
else{var r=void 0
if(this.firstChild){var o=this.childNodes,a=o.length
if(0<a&&i(this)){r=Array(a)
for(var s=0;s<a;s++)r[s]=o[s]}}if(n.set.call(this,e),r)for(e=0;e<r.length;e++)c(t,r[e])}}})}var t=te
o(Node.prototype,"insertBefore",function(e,n){if(e instanceof DocumentFragment){var r=Array.prototype.slice.apply(e.childNodes)
if(e=E.call(this,e,n),i(this))for(n=0;n<r.length;n++)d(t,r[n])
return e}return r=i(e),n=E.call(this,e,n),r&&c(t,e),i(this)&&d(t,e),n}),o(Node.prototype,"appendChild",function(e){if(e instanceof DocumentFragment){var n=Array.prototype.slice.apply(e.childNodes)
if(e=I.call(this,e),i(this))for(var r=0;r<n.length;r++)d(t,n[r])
return e}return n=i(e),r=I.call(this,e),n&&c(t,e),i(this)&&d(t,e),r}),o(Node.prototype,"cloneNode",function(e){return e=T.call(this,!!e),this.ownerDocument.__CE_hasRegistry?h(t,e):s(t,e),e}),o(Node.prototype,"removeChild",function(e){var n=i(e),r=P.call(this,e)
return n&&c(t,e),r}),o(Node.prototype,"replaceChild",function(e,n){if(e instanceof DocumentFragment){var r=Array.prototype.slice.apply(e.childNodes)
if(e=D.call(this,e,n),i(this))for(c(t,n),n=0;n<r.length;n++)d(t,r[n])
return e}r=i(e)
var o=D.call(this,e,n),a=i(this)
return a&&c(t,n),r&&c(t,e),a&&d(t,e),o}),k&&k.get?e(Node.prototype,k):function(e,t){e.b=!0,e.c.push(t)}(t,function(t){e(t,{enumerable:!0,configurable:!0,get:function(){for(var e=[],t=0;t<this.childNodes.length;t++){var i=this.childNodes[t]
i.nodeType!==Node.COMMENT_NODE&&e.push(i.textContent)}return e.join("")},set:function(e){for(;this.firstChild;)P.call(this,this.firstChild)
null!=e&&""!==e&&I.call(this,document.createTextNode(e))}})})}(),function(){function e(e,t){Object.defineProperty(e,"innerHTML",{enumerable:t.enumerable,configurable:!0,get:t.get,set:function(e){var n=this,o=void 0
if(i(this)&&(o=[],r(this,function(e){e!==n&&o.push(e)})),t.set.call(this,e),o)for(var l=0;l<o.length;l++){var d=o[l]
1===d.__CE_state&&a.disconnectedCallback(d)}return this.ownerDocument.__CE_hasRegistry?h(a,this):s(a,this),e}})}function t(e,t){o(e,"insertAdjacentElement",function(e,n){var r=i(n)
return e=t.call(this,e,n),r&&c(a,n),i(e)&&d(a,n),e})}function n(e,t){function i(e,t){for(var i=[];e!==t;e=e.nextSibling)i.push(e)
for(t=0;t<i.length;t++)h(a,i[t])}o(e,"insertAdjacentHTML",function(e,n){if("beforebegin"===(e=e.toLowerCase())){var r=this.previousSibling
t.call(this,e,n),i(r||this.parentNode.firstChild,this)}else if("afterbegin"===e)r=this.firstChild,t.call(this,e,n),i(this.firstChild,r)
else if("beforeend"===e)r=this.lastChild,t.call(this,e,n),i(r||this.firstChild,null)
else{if("afterend"!==e)throw new SyntaxError("The value provided ("+String(e)+") is not one of 'beforebegin', 'afterbegin', 'beforeend', or 'afterend'.")
r=this.nextSibling,t.call(this,e,n),i(this.nextSibling,r)}})}var a=te
A&&o(Element.prototype,"attachShadow",function(e){e=A.call(this,e)
var t=a
if(t.b&&!e.__CE_patched){e.__CE_patched=!0
for(var i=0;i<t.c.length;i++)t.c[i](e)}return this.__CE_shadowRoot=e}),j&&j.get?e(Element.prototype,j):X&&X.get?e(HTMLElement.prototype,X):function(e,t){e.b=!0,e.f.push(t)}(a,function(t){e(t,{enumerable:!0,configurable:!0,get:function(){return T.call(this,!0).innerHTML},set:function(e){var t="template"===this.localName,i=t?this.content:this,n=y.call(document,this.namespaceURI,this.localName)
for(n.innerHTML=e;0<i.childNodes.length;)P.call(i,i.childNodes[0])
for(e=t?n.content:n;0<e.childNodes.length;)I.call(i,e.childNodes[0])}})}),o(Element.prototype,"setAttribute",function(e,t){if(1!==this.__CE_state)return N.call(this,e,t)
var i=M.call(this,e)
N.call(this,e,t),t=M.call(this,e),a.attributeChangedCallback(this,e,i,t,null)}),o(Element.prototype,"setAttributeNS",function(e,t,i){if(1!==this.__CE_state)return B.call(this,e,t,i)
var n=O.call(this,e,t)
B.call(this,e,t,i),i=O.call(this,e,t),a.attributeChangedCallback(this,t,n,i,e)}),o(Element.prototype,"removeAttribute",function(e){if(1!==this.__CE_state)return q.call(this,e)
var t=M.call(this,e)
q.call(this,e),null!==t&&a.attributeChangedCallback(this,e,t,null,null)}),o(Element.prototype,"removeAttributeNS",function(e,t){if(1!==this.__CE_state)return L.call(this,e,t)
var i=O.call(this,e,t)
L.call(this,e,t)
var n=O.call(this,e,t)
i!==n&&a.attributeChangedCallback(this,t,i,n,e)}),J?t(HTMLElement.prototype,J):R?t(Element.prototype,R):console.warn("Custom Elements: `Element#insertAdjacentElement` was not patched."),Y?n(HTMLElement.prototype,Y):H?n(Element.prototype,H):console.warn("Custom Elements: `Element#insertAdjacentHTML` was not patched."),K(a,Element.prototype,{h:V,append:F}),function(e){function t(t){return function(n){for(var r=[],o=0;o<arguments.length;++o)r[o]=arguments[o]
o=[]
for(var a=[],s=0;s<r.length;s++){var l=r[s]
if(l instanceof Element&&i(l)&&a.push(l),l instanceof DocumentFragment)for(l=l.firstChild;l;l=l.nextSibling)o.push(l)
else o.push(l)}for(t.apply(this,r),r=0;r<a.length;r++)c(e,a[r])
if(i(this))for(r=0;r<o.length;r++)(a=o[r])instanceof Element&&d(e,a)}}var n=Element.prototype
void 0!==z&&(n.before=t(z)),void 0!==z&&(n.after=t($)),void 0!==U&&o(n,"replaceWith",function(t){for(var n=[],r=0;r<arguments.length;++r)n[r]=arguments[r]
r=[]
for(var o=[],a=0;a<n.length;a++){var s=n[a]
if(s instanceof Element&&i(s)&&o.push(s),s instanceof DocumentFragment)for(s=s.firstChild;s;s=s.nextSibling)r.push(s)
else r.push(s)}for(a=i(this),U.apply(this,n),n=0;n<o.length;n++)c(e,o[n])
if(a)for(c(e,this),n=0;n<r.length;n++)(o=r[n])instanceof Element&&d(e,o)}),void 0!==G&&o(n,"remove",function(){var t=i(this)
G.call(this),t&&c(e,this)})}(a)}(),document.__CE_hasRegistry=!0
var ie=new v(te)
Object.defineProperty(window,"customElements",{configurable:!0,enumerable:!0,value:ie})}}).call(void 0)
var c=Object.freeze({})
window.NodeList&&!NodeList.prototype.forEach&&(NodeList.prototype.forEach=function(e,t){t=t||window
for(var i=0;i<this.length;i++)e.call(t,this[i],i,this)})
var h=Object.freeze({})
!function(){if("function"!=typeof HTMLElement){var e=function(){}
e.prototype=HTMLElement.prototype,HTMLElement=e}if(Array.prototype.findIndex||Object.defineProperty(Array.prototype,"findIndex",{value:function(e){if(null==this)throw new TypeError("Array.prototype.findIndex called on null or undefined")
if("function"!=typeof e)throw new TypeError("predicate must be a function")
for(var t,i=Object(this),n=i.length>>>0,r=arguments[1],o=0;o<n;o++)if(t=i[o],e.call(r,t,o,i))return o
return-1},enumerable:!1,configurable:!1,writable:!1}),Array.prototype.find||Object.defineProperty(Array.prototype,"find",{value:function(e){if(null==this)throw new TypeError("Array.prototype.find called on null or undefined")
if("function"!=typeof e)throw new TypeError("predicate must be a function")
for(var t,i=Object(this),n=i.length>>>0,r=arguments[1],o=0;o<n;o++)if(t=i[o],e.call(r,t,o,i))return t}}),"function"!=typeof Object.assign&&(Object.assign=function(e){if(null==e)throw new TypeError("Cannot convert undefined or null to object")
for(var t=Object(e),i=1;i<arguments.length;i++){var n=arguments[i]
if(null!=n)for(var r in n)n.hasOwnProperty(r)&&(t[r]=n[r])}return t}),String.prototype.startsWith||(String.prototype.startsWith=function(e,t){return t=t||0,this.substr(t,e.length)===e}),Math.log10||(Math.log10=function(e){var t,i=+e
return i>0&&/^(?:10*|0\.0*1)$/.test(t=""+i)?i<1?2-t.length:t.length-1:Math.log(i)/Math.LN10}),Math.sign||(Math.sign=function(e){return(e>0)-(e<0)||+e}),String.prototype.endsWith||(String.prototype.endsWith=function(e,t){var i=this.toString();("number"!=typeof t||!isFinite(t)||Math.floor(t)!==t||t>i.length)&&(t=i.length),t-=e.length
var n=i.lastIndexOf(e,t)
return-1!==n&&n===t}),Number.isInteger=Number.isInteger||function(e){return"number"==typeof e&&isFinite(e)&&Math.floor(e)===e},"KeyboardEvent"in window||!("key"in KeyboardEvent.prototype)){var t,i={keys:{3:"Cancel",6:"Help",8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",28:"Convert",29:"NonConvert",30:"Accept",31:"ModeChange",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",41:"Select",42:"Print",43:"Execute",44:"PrintScreen",45:"Insert",46:"Delete",48:["0",")"],49:["1","!"],50:["2","@"],51:["3","#"],52:["4","$"],53:["5","%"],54:["6","^"],55:["7","&"],56:["8","*"],57:["9","("],59:[";",":"],91:"OS",93:"ContextMenu",96:["0"],97:["1"],98:["2"],99:["3"],100:["4"],101:["5"],102:["6"],103:["7"],104:["8"],105:["9"],106:["*"],107:["+"],109:["-"],110:["."],111:["/"],144:"NumLock",145:"ScrollLock",173:["-","_"],181:"VolumeMute",182:"VolumeDown",183:"VolumeUp",186:[";",":"],187:["=","+"],188:[",","<"],189:["-","_"],190:[".",">"],191:["/","?"],192:["`","~"],219:["[","{"],220:["\\","|"],221:["]","}"],222:["'",'"'],224:"Meta",225:"AltGraph",246:"Attn",247:"CrSel",248:"ExSel",249:"EraseEof",250:"Play",251:"ZoomOut"}}
for(t=1;t<25;t++)i.keys[111+t]="F"+t
var n=""
for(t=65;t<91;t++)n=String.fromCharCode(t),i.keys[t]=[n.toLowerCase(),n.toUpperCase()]
var r={get:function(e){var t=i.keys[this.which||this.keyCode]
return Array.isArray(t)&&(t=t[+this.shiftKey]),t}}
Object.defineProperty(KeyboardEvent.prototype,"key",r)}var o,a,s,l,d
Array.from||(Array.from=(o=Object.prototype.toString,a=function(e){return"function"==typeof e||"[object Function]"===o.call(e)},s=Math.pow(2,53)-1,l=function(e){var t=function(e){var t=Number(e)
return isNaN(t)?0:0!==t&&isFinite(t)?(t>0?1:-1)*Math.floor(Math.abs(t)):t}(e)
return Math.min(Math.max(t,0),s)},function(e){var t=Object(e)
if(null==e)throw new TypeError("Array.from requires an array-like object - not null or undefined")
var i,n=arguments.length>1?arguments[1]:void 0
if(void 0!==n){if(!a(n))throw new TypeError("Array.from: when provided, the second argument must be a function")
arguments.length>2&&(i=arguments[2])}for(var r,o=l(t.length),s=a(this)?Object(new this(o)):new Array(o),d=0;d<o;)r=t[d],s[d]=n?void 0===i?n(r,d):n.call(i,r,d):r,d+=1
return s.length=o,s})),Element.prototype.matches||(Element.prototype.matches=Element.prototype.msMatchesSelector||Element.prototype.webkitMatchesSelector),Element.prototype.closest||(Element.prototype.closest=function(e){var t=this
if(!document.documentElement.contains(t))return null
do{if(t.matches(e))return t
t=t.parentElement||t.parentNode}while(null!==t&&1===t.nodeType)
return null}),String.prototype.repeat||(String.prototype.repeat=function(e){if(null==this)throw new TypeError("can't convert "+this+" to object")
var t=""+this
if((e=+e)!=e&&(e=0),e<0)throw new RangeError("repeat count must be non-negative")
if(e==1/0)throw new RangeError("repeat count must be less than infinity")
if(e=Math.floor(e),0==t.length||0==e)return""
if(t.length*e>=1<<28)throw new RangeError("repeat count must not overflow maximum string size")
for(var i="",n=0;n<e;n++)i+=t
return i}),Array.prototype.fill||Object.defineProperty(Array.prototype,"fill",{value:function(e){if(null==this)throw new TypeError("this is null or not defined")
for(var t=Object(this),i=t.length>>>0,n=arguments[1]>>0,r=n<0?Math.max(i+n,0):Math.min(n,i),o=arguments[2],a=void 0===o?i:o>>0,s=a<0?Math.max(i+a,0):Math.min(a,i);r<s;)t[r]=e,r++
return t}}),(d=window.Node||window.Element)&&d.prototype&&null==d.prototype.children&&Object.defineProperty(d.prototype,"children",{get:function(){for(var e,t=0,i=this.childNodes,n=[];e=i[t++];)1===e.nodeType&&n.push(e)
return n}}),"document"in self&&("classList"in document.createElement("_")&&(!document.createElementNS||"classList"in document.createElementNS("http://www.w3.org/2000/svg","g"))||function(e){if("Element"in e){var t=e.Element.prototype,i=Object,n=String.prototype.trim||function(){return this.replace(/^\s+|\s+$/g,"")},r=Array.prototype.indexOf||function(e){for(var t=0,i=this.length;t<i;t++)if(t in this&&this[t]===e)return t
return-1},o=function(e,t){this.name=e,this.code=DOMException[e],this.message=t},a=function(e,t){if(""===t)throw new o("SYNTAX_ERR","The token must not be empty.")
if(/\s/.test(t))throw new o("INVALID_CHARACTER_ERR","The token must not contain space characters.")
return r.call(e,t)},s=function(e){for(var t=n.call(e.getAttribute("class")||""),i=t?t.split(/\s+/):[],r=0,o=i.length;r<o;r++)this.push(i[r])
this._updateClassName=function(){e.setAttribute("class",this.toString())}},l=s.prototype=[],d=function(){return new s(this)}
if(o.prototype=Error.prototype,l.item=function(e){return this[e]||null},l.contains=function(e){return~a(this,e+"")},l.add=function(){var e,t=arguments,i=0,n=t.length,r=!1
do{e=t[i]+"",~a(this,e)||(this.push(e),r=!0)}while(++i<n)
r&&this._updateClassName()},l.remove=function(){var e,t,i=arguments,n=0,r=i.length,o=!1
do{for(e=i[n]+"",t=a(this,e);~t;)this.splice(t,1),o=!0,t=a(this,e)}while(++n<r)
o&&this._updateClassName()},l.toggle=function(e,t){var i=this.contains(e),n=i?!0!==t&&"remove":!1!==t&&"add"
return n&&this[n](e),!0===t||!1===t?t:!i},l.replace=function(e,t){var i=a(e+"")
~i&&(this.splice(i,1,t),this._updateClassName())},l.toString=function(){return this.join(" ")},i.defineProperty){var c={get:d,enumerable:!0,configurable:!0}
try{i.defineProperty(t,"classList",c)}catch(e){void 0!==e.number&&-2146823252!==e.number||(c.enumerable=!1,i.defineProperty(t,"classList",c))}}else i.prototype.__defineGetter__&&t.__defineGetter__("classList",d)}}(self),function(){var e=document.createElement("_")
if(e.classList.add("c1","c2"),!e.classList.contains("c2")){var t=function(e){var t=DOMTokenList.prototype[e]
DOMTokenList.prototype[e]=function(e){var i,n=arguments.length
for(i=0;i<n;i++)e=arguments[i],t.call(this,e)}}
t("add"),t("remove")}if(e.classList.toggle("c3",!1),e.classList.contains("c3")){var i=DOMTokenList.prototype.toggle
DOMTokenList.prototype.toggle=function(e,t){return 1 in arguments&&!this.contains(e)==!t?t:i.call(this,e)}}"replace"in document.createElement("_").classList||(DOMTokenList.prototype.replace=function(e,t){var i=this.toString().split(" "),n=i.indexOf(e+"")
~n&&(i=i.slice(n),this.remove.apply(this,i),this.add(t),this.add.apply(this,i.slice(1)))}),e=null}()),document.elementsFromPoint||(document.msElementsFromPoint?document.elementsFromPoint=document.msElementsFromPoint:document.elementsFromPoint=function(e,t){var i=[],n=void 0
do{n!==document.elementFromPoint(e,t)?(n=document.elementFromPoint(e,t),i.push(n),n.style.pointerEvents="none"):n=!1}while(n)
return i.forEach(function(e){return e.style.pointerEvents="all"}),i}),Node.prototype.hasOwnProperty("getRootNode")||Object.defineProperty(Node.prototype,"getRootNode",{value:function(){return document}})}(),function(e){var t,i=e.babelHelpers={}
i.typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i.jsx=(t="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,function(e,i,n,r){var o=e&&e.defaultProps,a=arguments.length-3
if(i||0===a||(i={}),i&&o)for(var s in o)void 0===i[s]&&(i[s]=o[s])
else i||(i=o||{})
if(1===a)i.children=r
else if(a>1){for(var l=Array(a),d=0;d<a;d++)l[d]=arguments[d+3]
i.children=l}return{$$typeof:t,type:e,key:void 0===n?null:""+n,ref:null,props:i,_owner:null}}),i.asyncIterator=function(e){if("function"==typeof Symbol){if(Symbol.asyncIterator){var t=e[Symbol.asyncIterator]
if(null!=t)return t.call(e)}if(Symbol.iterator)return e[Symbol.iterator]()}throw new TypeError("Object is not async iterable")},i.asyncGenerator=function(){function e(e){this.value=e}function t(t){var i,n
function r(i,n){try{var a=t[i](n),s=a.value
s instanceof e?Promise.resolve(s.value).then(function(e){r("next",e)},function(e){r("throw",e)}):o(a.done?"return":"normal",a.value)}catch(e){o("throw",e)}}function o(e,t){switch(e){case"return":i.resolve({value:t,done:!0})
break
case"throw":i.reject(t)
break
default:i.resolve({value:t,done:!1})}(i=i.next)?r(i.key,i.arg):n=null}this._invoke=function(e,t){return new Promise(function(o,a){var s={key:e,arg:t,resolve:o,reject:a,next:null}
n?n=n.next=s:(i=n=s,r(e,t))})},"function"!=typeof t.return&&(this.return=void 0)}return"function"==typeof Symbol&&Symbol.asyncIterator&&(t.prototype[Symbol.asyncIterator]=function(){return this}),t.prototype.next=function(e){return this._invoke("next",e)},t.prototype.throw=function(e){return this._invoke("throw",e)},t.prototype.return=function(e){return this._invoke("return",e)},{wrap:function(e){return function(){return new t(e.apply(this,arguments))}},await:function(t){return new e(t)}}}(),i.asyncGeneratorDelegate=function(e,t){var i={},n=!1
function r(i,r){return n=!0,r=new Promise(function(t){t(e[i](r))}),{done:!1,value:t(r)}}return"function"==typeof Symbol&&Symbol.iterator&&(i[Symbol.iterator]=function(){return this}),i.next=function(e){return n?(n=!1,e):r("next",e)},"function"==typeof e.throw&&(i.throw=function(e){if(n)throw n=!1,e
return r("throw",e)}),"function"==typeof e.return&&(i.return=function(e){return r("return",e)}),i},i.asyncToGenerator=function(e){return function(){var t=e.apply(this,arguments)
return new Promise(function(e,i){return function n(r,o){try{var a=t[r](o),s=a.value}catch(e){return void i(e)}if(!a.done)return Promise.resolve(s).then(function(e){n("next",e)},function(e){n("throw",e)})
e(s)}("next")})}},i.classCallCheck=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")},i.createClass=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i]
n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}(),i.defineEnumerableProperties=function(e,t){for(var i in t){var n=t[i]
n.configurable=n.enumerable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,i,n)}return e},i.defaults=function(e,t){for(var i=Object.getOwnPropertyNames(t),n=0;n<i.length;n++){var r=i[n],o=Object.getOwnPropertyDescriptor(t,r)
o&&o.configurable&&void 0===e[r]&&Object.defineProperty(e,r,o)}return e},i.defineProperty=function(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e},i.extends=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t]
for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e},i.get=function e(t,i,n){null===t&&(t=Function.prototype)
var r=Object.getOwnPropertyDescriptor(t,i)
if(void 0===r){var o=Object.getPrototypeOf(t)
return null===o?void 0:e(o,i,n)}if("value"in r)return r.value
var a=r.get
return void 0!==a?a.call(n):void 0},i.inherits=function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t)
e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)},i.instanceof=function(e,t){return null!=t&&"undefined"!=typeof Symbol&&t[Symbol.hasInstance]?t[Symbol.hasInstance](e):e instanceof t},i.interopRequireDefault=function(e){return e&&e.__esModule?e:{default:e}},i.interopRequireWildcard=function(e){if(e&&e.__esModule)return e
var t={}
if(null!=e)for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])
return t.default=e,t},i.newArrowCheck=function(e,t){if(e!==t)throw new TypeError("Cannot instantiate an arrow function")},i.objectDestructuringEmpty=function(e){if(null==e)throw new TypeError("Cannot destructure undefined")},i.objectWithoutProperties=function(e,t){var i={}
for(var n in e)t.indexOf(n)>=0||Object.prototype.hasOwnProperty.call(e,n)&&(i[n]=e[n])
return i},i.possibleConstructorReturn=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called")
return!t||"object"!=typeof t&&"function"!=typeof t?e:t},i.selfGlobal=void 0===e?self:e,i.set=function e(t,i,n,r){var o=Object.getOwnPropertyDescriptor(t,i)
if(void 0===o){var a=Object.getPrototypeOf(t)
null!==a&&e(a,i,n,r)}else if("value"in o&&o.writable)o.value=n
else{var s=o.set
void 0!==s&&s.call(r,n)}return n},i.slicedToArray=function(){return function(e,t){if(Array.isArray(e))return e
if(Symbol.iterator in Object(e))return function(e,t){var i=[],n=!0,r=!1,o=void 0
try{for(var a,s=e[Symbol.iterator]();!(n=(a=s.next()).done)&&(i.push(a.value),!t||i.length!==t);n=!0);}catch(e){r=!0,o=e}finally{try{!n&&s.return&&s.return()}finally{if(r)throw o}}return i}(e,t)
throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),i.slicedToArrayLoose=function(e,t){if(Array.isArray(e))return e
if(Symbol.iterator in Object(e)){for(var i,n=[],r=e[Symbol.iterator]();!(i=r.next()).done&&(n.push(i.value),!t||n.length!==t););return n}throw new TypeError("Invalid attempt to destructure non-iterable instance")},i.taggedTemplateLiteral=function(e,t){return Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))},i.taggedTemplateLiteralLoose=function(e,t){return e.raw=t,e},i.temporalRef=function(e,t,i){if(e===i)throw new ReferenceError(t+" is not defined - temporal dead zone")
return e},i.temporalUndefined={},i.toArray=function(e){return Array.isArray(e)?e:Array.from(e)},i.toConsumableArray=function(e){if(Array.isArray(e)){for(var t=0,i=Array(e.length);t<e.length;t++)i[t]=e[t]
return i}return Array.from(e)}}("undefined"==typeof global?self:global),function(){var e,t="undefined"==typeof HTMLTemplateElement;/Trident/.test(navigator.userAgent)&&(e=document.importNode,document.importNode=function(){var t=e.apply(document,arguments)
if(t.nodeType===Node.DOCUMENT_FRAGMENT_NODE){var i=document.createDocumentFragment()
return i.appendChild(t),i}return t})
var i=function(){if(!t){var e=document.createElement("template"),i=document.createElement("template")
i.content.appendChild(document.createElement("div")),e.content.appendChild(i)
var n=e.cloneNode(!0)
return 0===n.content.childNodes.length||0===n.content.firstChild.content.childNodes.length}}(),n=function(){}
if(t){var r=document.implementation.createHTMLDocument("template"),o=!0,a=document.createElement("style")
a.textContent="template{display:none;}"
var s=document.head
s.insertBefore(a,s.firstElementChild),n.prototype=Object.create(HTMLElement.prototype),n.decorate=function(e){if(!e.content){var t
for(e.content=r.createDocumentFragment();t=e.firstChild;)e.content.appendChild(t)
if(e.cloneNode=function(e){return n.cloneNode(this,e)},o)try{Object.defineProperty(e,"innerHTML",{get:function(){for(var e="",t=this.content.firstChild;t;t=t.nextSibling)e+=t.outerHTML||t.data.replace(c,h)
return e},set:function(e){for(r.body.innerHTML=e,n.bootstrap(r);this.content.firstChild;)this.content.removeChild(this.content.firstChild)
for(;r.body.firstChild;)this.content.appendChild(r.body.firstChild)},configurable:!0})}catch(e){o=!1}n.bootstrap(e.content)}},n.bootstrap=function(e){for(var t,i=e.querySelectorAll("template"),r=0,o=i.length;r<o&&(t=i[r]);r++)n.decorate(t)},document.addEventListener("DOMContentLoaded",function(){n.bootstrap(document)})
var l=document.createElement
document.createElement=function(){var e=l.apply(document,arguments)
return"template"===e.localName&&n.decorate(e),e}
var d=document.createElementNS
document.createElementNS=function(){var e=d.apply(document,arguments)
return"http://www.w3.org/1999/xhtml"===e.namespaceURI&&"template"===e.localName&&n.decorate(e),e}
var c=/[&\u00A0<>]/g
function h(e){switch(e){case"&":return"&amp;"
case"<":return"&lt;"
case">":return"&gt;"
case" ":return"&nbsp;"}}}if(t||i){var u=Node.prototype.cloneNode
n.cloneNode=function(e,t){var i=u.call(e,!1)
return this.decorate&&this.decorate(i),t&&(i.content.appendChild(u.call(e.content,!0)),this.fixClonedDom(i.content,e.content)),i},n.fixClonedDom=function(e,t){if(t.querySelectorAll)for(var i,n,r=t.querySelectorAll("template"),o=e.querySelectorAll("template"),a=0,s=o.length;a<s;a++)n=r[a],i=o[a],this.decorate&&this.decorate(n),i.parentNode.replaceChild(n.cloneNode(!0),i)}
var p=document.importNode
Node.prototype.cloneNode=function(e){var t=u.call(this,e)
return e&&n.fixClonedDom(t,this),t},document.importNode=function(e,t){if("template"===e.localName)return n.cloneNode(e,t)
var i=p.call(document,e,t)
return t&&n.fixClonedDom(i,e),i},i&&(HTMLTemplateElement.prototype.cloneNode=function(e){return n.cloneNode(this,e)})}t&&(window.HTMLTemplateElement=n)}()
var u=Object.freeze({})
!function(){const e=[]
let t="JQX"
if(window[t]&&window[t].Version){if("7.2.0"===window[t].Version)return
if("7.2.0"!==window[t].Version)t+="7.2.0"
else{let e=2
for(;window[t];)t+=e.toString(),e++}}const i=navigator.userAgent.indexOf("Edge")>-1&&navigator.appVersion.indexOf("Edge")>-1
document.elementsFromPoint||(document.elementsFromPoint=document.msElementsFromPoint)
class n{static isBoolean(e){return"boolean"==typeof e}static isFunction(e){return!!(e&&e.constructor&&e.call&&e.apply)}static isArray(e){return Array.isArray(e)}static isObject(e){return e&&("object"==typeof e||this.isFunction(e))||!1}static isDate(e){return e instanceof Date}static isString(e){return"string"==typeof e}static isNumber(e){return"number"==typeof e}static getType(e){const t=this,i=["Boolean","Number","String","Function","Array","Date","Object"].find(i=>{if(t["is"+i](e))return i})
return i?i.toLowerCase():void 0}}class r{static animate(e,i,n,r){const o=e
if(!o||o instanceof HTMLElement==!1)return
if(0===o.getElementsByClassName("jqx-ripple").length){const e=document.createElement("span")
e.classList.add("jqx-ripple"),e.setAttribute("role","presentation")
let i=!0,n=null
if(window[t].EnableShadowDOM&&o.enableShadowDOM&&!0!==o.isInShadowDOM){for(let e=0;e<o.shadowRoot.host.shadowRoot.children.length;e++)"link"!==o.shadowRoot.host.shadowRoot.children[e].tagName.toLowerCase()&&(n=o.shadowRoot.host.shadowRoot.children[e])
o.shadowRoot.host.shadowRoot.querySelector(".jqx-ripple")&&(i=!1)}else n=o.firstElementChild
i&&(n&&!n.noRipple&&n.offsetHeight>0?n.appendChild(e):o.appendChild(e))}let a=null
if(!(a=window[t].EnableShadowDOM&&o.shadowRoot?o.shadowRoot.host.shadowRoot.querySelector(".jqx-ripple"):o.getElementsByClassName("jqx-ripple")[0]))return
a.innerHTML="",a.classList.remove("jqx-animate"),a.style.height=a.style.width=Math.max(o.offsetHeight,o.offsetWidth)+"px"
const s=window.getComputedStyle(a.parentElement),l=parseInt(s.borderLeftWidth)||0,d=parseInt(s.borderTopWidth)||0,c=o.getBoundingClientRect(),h=i-(c.left+window.pageXOffset)-a.offsetWidth/2-l,u=n-(c.top+window.pageYOffset)-a.offsetHeight/2-d
a.style.left=h+"px",a.style.top=u+"px",a.classList.add("jqx-animate"),a.addEventListener("animationend",function e(){a.parentElement&&a.parentElement.removeChild(a),r&&r(),a.removeEventListener("animationend",e),a.removeEventListener("animationcancel",e)}),a.addEventListener("animationcancel",function e(){a.parentElement&&a.parentElement.removeChild(a),r&&r(),a.removeEventListener("animationcancel",e),a.removeEventListener("animationend",e)})}}class o{static easeInQuad(e,t,i,n){return i*(e/=n)*e+t}static easeOutQuad(e,t,i,n){return-i*(e/=n)*(e-2)+t}static easeInOutQuad(e,t,i,n){return(e/=n/2)<1?i/2*e*e+t:-i/2*(--e*(e-2)-1)+t}static easeInCubic(e,t,i,n){return i*(e/=n)*e*e+t}static easeOutCubic(e,t,i,n){return i*((e=e/n-1)*e*e+1)+t}static easeInOutCubic(e,t,i,n){return(e/=n/2)<1?i/2*e*e*e+t:i/2*((e-=2)*e*e+2)+t}static easeInQuart(e,t,i,n){return i*(e/=n)*e*e*e+t}static easeOutQuart(e,t,i,n){return-i*((e=e/n-1)*e*e*e-1)+t}static easeInOutQuart(e,t,i,n){return(e/=n/2)<1?i/2*e*e*e*e+t:-i/2*((e-=2)*e*e*e-2)+t}static easeInQuint(e,t,i,n){return i*(e/=n)*e*e*e*e+t}static easeOutQuint(e,t,i,n){return i*((e=e/n-1)*e*e*e*e+1)+t}static easeInOutQuint(e,t,i,n){return(e/=n/2)<1?i/2*e*e*e*e*e+t:i/2*((e-=2)*e*e*e*e+2)+t}static easeInSine(e,t,i,n){return-i*Math.cos(e/n*(Math.PI/2))+i+t}static easeOutSine(e,t,i,n){return i*Math.sin(e/n*(Math.PI/2))+t}static easeInOutSine(e,t,i,n){return-i/2*(Math.cos(Math.PI*e/n)-1)+t}static easeInExpo(e,t,i,n){return 0===e?t:i*Math.pow(2,10*(e/n-1))+t}static easeOutExpo(e,t,i,n){return e===n?t+i:i*(1-Math.pow(2,-10*e/n))+t}static easeInOutExpo(e,t,i,n){return 0===e?t:e===n?t+i:(e/=n/2)<1?i/2*Math.pow(2,10*(e-1))+t:i/2*(2-Math.pow(2,-10*--e))+t}static easeInCirc(e,t,i,n){return-i*(Math.sqrt(1-(e/=n)*e)-1)+t}static easeOutCirc(e,t,i,n){return i*Math.sqrt(1-(e=e/n-1)*e)+t}static easeInOutCirc(e,t,i,n){return(e/=n/2)<1?-i/2*(Math.sqrt(1-e*e)-1)+t:i/2*(Math.sqrt(1-(e-=2)*e)+1)+t}static easeInElastic(e,t,i,n){let r=1.70158,o=0,a=i
return 0===e?t:1==(e/=n)?t+i:(o||(o=.3*n),a<Math.abs(i)?(a=i,r=o/4):r=o/(2*Math.PI)*Math.asin(i/a),-a*Math.pow(2,10*(e-=1))*Math.sin((e*n-r)*(2*Math.PI)/o)+t)}static easeOutElastic(e,t,i,n){let r=1.70158,o=0,a=i
return 0===e?t:1==(e/=n)?t+i:(o||(o=.3*n),a<Math.abs(i)?(a=i,r=o/4):r=o/(2*Math.PI)*Math.asin(i/a),a*Math.pow(2,-10*e)*Math.sin((e*n-r)*(2*Math.PI)/o)+i+t)}static easeInOutElastic(e,t,i,n){let r=1.70158,o=0,a=i
return 0===e?t:2==(e/=n/2)?t+i:(o||(o=n*(.3*1.5)),a<Math.abs(i)?(a=i,r=o/4):r=o/(2*Math.PI)*Math.asin(i/a),e<1?a*Math.pow(2,10*(e-=1))*Math.sin((e*n-r)*(2*Math.PI)/o)*-.5+t:a*Math.pow(2,-10*(e-=1))*Math.sin((e*n-r)*(2*Math.PI)/o)*.5+i+t)}static easeInBack(e,t,i,n,r){return void 0===r&&(r=1.70158),i*(e/=n)*e*((r+1)*e-r)+t}static easeOutBack(e,t,i,n,r){return void 0===r&&(r=1.70158),i*((e=e/n-1)*e*((r+1)*e+r)+1)+t}static easeInOutBack(e,t,i,n,r){return void 0===r&&(r=1.70158),(e/=n/2)<1?i/2*(e*e*((1+(r*=1.525))*e-r))+t:i/2*((e-=2)*e*((1+(r*=1.525))*e+r)+2)+t}static easeInBounce(e,t,i,n){return i-this.easeOutBounce(n-e,0,i,n)+t}static easeOutBounce(e,t,i,n){return(e/=n)<1/2.75?i*(7.5625*e*e)+t:e<2/2.75?i*(7.5625*(e-=1.5/2.75)*e+.75)+t:e<2.5/2.75?i*(7.5625*(e-=2.25/2.75)*e+.9375)+t:i*(7.5625*(e-=2.625/2.75)*e+.984375)+t}static easeInOutBounce(e,t,i,n){return e<n/2?.5*this.easeInBounce(2*e,0,i,n)+t:.5*this.easeOutBounce(2*e-n,0,i,n)+.5*i+t}}class a{static get isMobile(){return/(iphone|ipod|ipad|android|iemobile|blackberry|bada)/.test(window.navigator.userAgent.toLowerCase())}static get Browser(){let e
const t=function(t){let i=t.indexOf(e)
if(-1===i)return
const n=t.indexOf("rv:")
return"Trident"===e&&-1!==n?parseFloat(t.substring(n+3)):parseFloat(t.substring(i+e.length+1))}
let i={}
return i[function(){const t=[{string:navigator.userAgent,subString:"Edge",identity:"Edge"},{string:navigator.userAgent,subString:"MSIE",identity:"IE"},{string:navigator.userAgent,subString:"Trident",identity:"IE"},{string:navigator.userAgent,subString:"Firefox",identity:"Firefox"},{string:navigator.userAgent,subString:"Opera",identity:"Opera"},{string:navigator.userAgent,subString:"OPR",identity:"Opera"},{string:navigator.userAgent,subString:"Chrome",identity:"Chrome"},{string:navigator.userAgent,subString:"Safari",identity:"Safari"}]
for(let i=0;i<t.length;i++){let n=t[i].string
if(e=t[i].subString,-1!==n.indexOf(t[i].subString))return t[i].identity}return"Other"}()]=!0,i.version=t(navigator.userAgent)||t(navigator.appVersion)||"Unknown",i}static toCamelCase(e){return e.replace(/-([a-z])/g,function(e){return e[1].toUpperCase()})}static toDash(e){return e.split(/(?=[A-Z])/).join("-").toLowerCase()}static unescapeHTML(e){return(new DOMParser).parseFromString(e,"text/html").documentElement.textContent}static escapeHTML(e){const t={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;","`":"&#x60;","=":"&#x3D;"}
return String(e).replace(/[&<>"'`=\/]/g,e=>t[e])}static createGUID(){function e(){return Math.floor(65536*(1+Math.random())).toString(16).substring(1)}return e()+e()+"-"+e()+"-"+e()+"-"+e()+"-"+e()+e()+e()}static getScriptLocation(){if("./"!==window[t].BaseUrl)return window[t].BaseUrl
return function(){if(document.currentScript){let e=document.currentScript.src,t=e.lastIndexOf("/")
return e=e.substring(0,t)}const e=new Error
let t="(",i=")"
if(JQX.Utilities.Core.Browser.Safari&&(t="@",i="\n"),e.fileName)return e.fileName.replace("/jqxelement.js","")
let n=e.stack.split(t)
return(n=(n=(n=n[1]).split(i)[0]).split(":")).splice(-2,2),(n=n.join(":")).replace("/jqxelement.js","")}()}static CSSVariablesSupport(){return window.CSS&&window.CSS.supports&&window.CSS.supports("(--fake-var: 0)")}static assign(e,t){const i=e=>e&&"object"==typeof e&&!Array.isArray(e)&&null!==e
let n=Object.assign({},e)
return i(e)&&i(t)&&Object.keys(t).forEach(r=>{i(t[r])&&r in e?n[r]=this.assign(e[r],t[r]):Object.assign(n,{[r]:t[r]})}),n}static html(e,t){const i=this
let n="",r=e.childNodes
if(!t){for(let e,t=0,o=r.length;t<o&&(e=r[t]);t++){const t=["strong"]
if(e instanceof HTMLElement||e.tagName&&t.indexOf(e.tagName.toLowerCase())>=0){const t=e.tagName.toLowerCase(),r=e.attributes
let o="<"+t
for(let e,t=0;e=r[t];t++)o+=" "+e.name+'="'+e.value.replace(/[&\u00A0"]/g,g.Core.escapeHTML)+'"'
o+=">",["area","base","br","col","command","embed","hr","img","input","keygen","link","meta","param","source","track","wbr"][t]&&(n+=o),n=n+o+i.html(e)+"</"+t+">"}else{if(8===e.nodeType)continue
n+=e.textContent.replace(/[&\u00A0<>]/g,g.Core.escapeHTML)}}return n}{const i=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/gi
e.innerHTML=t.replace(i,"<$1></$2>")}}}let s=[]
class l{static watch(e){s.push(e),l.interval&&clearInterval(l.interval),l.interval=setInterval(function(){l.observe()},100)}static observeElement(e){const t=e
let i=e._computedStyle||"resize"!==t.hasStyleObserver?document.defaultView.getComputedStyle(t,null):{},n=!0,r="resize"!==t.hasStyleObserver?["paddingLeft","paddingRight","paddingTop","paddingBottom","borderLeftWidth","borderRightWidth","borderTopWidth","borderBottomWidth","display","visibility","font-size","font-family","font-style","font-weight","max-height","min-height","max-width","min-width","overflow","overflow-x","overflow-y"]:[]
if(e.styleProperties&&(r=r.concat(e.styleProperties)),e.observableStyleProperties&&(r=e.observableStyleProperties),!t._styleInfo){t._styleInfo=[]
for(let e=0;e<r.length;e++){const n=r[e],o=n.startsWith("--")?i.getPropertyValue(n):i[n]
t._styleInfo[n]=o}return}if(e.isHidden||"none"!==i.display&&(0!==e.offsetWidth&&0!==e.offsetHeight||(e.isHidden=!0)),e.isHidden){if(e.visibilityChangedHandler(),e.isHidden)return
n=!1}let o=[]
for(let e=0;e<r.length;e++){const n=r[e],a=n.startsWith("--")?i.getPropertyValue(n):i[n]
t._styleInfo[n]!==a&&(o[n]={oldValue:t._styleInfo[n],value:a},o.length++),t._styleInfo[n]=a}o.length>0&&(t.$.fireEvent("styleChanged",{styleProperties:o},{bubbles:!1,cancelable:!0}),o.display&&n&&t.$.fireEvent("resize",t,{bubbles:!1,cancelable:!0}))}static observe(){for(let e=0;e<s.length;e++){const t=s[e]
this.observeElement(t)}}static unwatch(e){l.interval&&clearInterval(l.interval)
const t=s.indexOf(e);-1!==t&&s.splice(t,1),s.length>0&&(l.interval=setInterval(function(){l.observe()},100))}}let d=[]
const c=[],h=["resize","down","up","move","tap","taphold","swipeleft","swiperight","swipetop","swipebottom"]
class u{constructor(e){const t=this
t.target=e,t.$target=new m(e),t.$document=e.$document?e.$document:new m(document),t.id=(Date.now().toString(36)+Math.random().toString(36).substr(2,5)).toUpperCase()
let i={handlers:{},boundEventTypes:[],listen:t.listen.bind(t),unlisten:t.unlisten.bind(t)}
return t.tapHoldDelay=750,t.swipeMin=10,t.swipeMax=5e3,t.swipeDelay=1e3,t.tapHoldDelay=750,t.inputEventProperties=["clientX","clientY","pageX","pageY","screenX","screenY"],h.forEach(e=>{i[e]=(t=>{i.handlers[e]=t}),t[e]=(e=>{if(!i.handlers[e.type]){if(("mousemove"===e.type||"pointermove"===e.type||"touchmove"===e.type)&&i.handlers.move){const n=t.createEvent(e,"move")
i.handlers.move(n)}return!0}return i.handlers[e.type](e)})}),t.listen(),t.handlers=i.handlers,i}listen(e){const i=this
if("resize"===e&&!i.target.resizeTrigger&&i.target!==document&&i.target!==window&&!1!==i.target.hasResizeObserver){const e=document.createElement("div")
e.className="jqx-resize-trigger-container",e.innerHTML='<div class="jqx-resize-trigger-container"><div class="jqx-resize-trigger"></div></div><div class="jqx-resize-trigger-container"><div class="jqx-resize-trigger-shrink"></div></div>',e.setAttribute("aria-hidden",!0),window[t].EnableShadowDOM&&i.target.shadowRoot?i.target.shadowRoot.appendChild(e):i.target.appendChild(e),i.target.resizeTrigger=e
const n=e.childNodes[0],r=n.childNodes[0],o=e.childNodes[1],a=function(){r.style.width="100000px",r.style.height="100000px",n.scrollLeft=1e5,n.scrollTop=1e5,o.scrollLeft=1e5,o.scrollTop=1e5}
let s,l,d,c,h=i.target.offsetWidth,u=i.target.offsetHeight
if(0===h||0===u){const e=function(){a(),i.target.removeEventListener("resize",e)}
i.target.addEventListener("resize",e),a()}else a()
i.target.resizeHandler=function(){l||(l=requestAnimationFrame(function(){if(l=0,d=i.target.offsetWidth,c=i.target.offsetHeight,s=d!==h||c!==u,i.target.requiresLayout&&(s=!0),!s)return
h=d,u=c
const e=new CustomEvent("resize",{bubbles:!1,cancelable:!0})
i.resize(e),i.target.requiresLayout=!1})),a()},n.addEventListener("scroll",i.target.resizeHandler),o.addEventListener("scroll",i.target.resizeHandler)}if(!i.isListening){if(i.isListening=!0,i.isPressed=!1,i.isReleased=!1,i.isInBounds=!1,window.PointerEvent)i.$target.listen("pointerdown.inputEvents"+i.id,i.pointerDown.bind(i)),i.$target.listen("pointerup.inputEvents"+i.id,i.pointerUp.bind(i)),i.$target.listen("pointermove.inputEvents"+i.id,i.pointerMove.bind(i)),i.$target.listen("pointercancel.inputEvents"+i.id,i.pointerCancel.bind(i))
else{"ontouchstart"in window&&(i.$target.listen("touchmove.inputEvents"+i.id,i.touchMove.bind(i)),i.$target.listen("touchstart.inputEvents"+i.id,i.touchStart.bind(i)),i.$target.listen("touchend.inputEvents"+i.id,i.touchEnd.bind(i)),i.$target.listen("touchcancel.inputEvents"+i.id,i.touchCancel.bind(i))),i.$target.listen("mousedown.inputEvents"+i.id,i.mouseDown.bind(i)),i.$target.listen("mouseup.inputEvents"+i.id,i.mouseUp.bind(i)),i.$target.listen("mousemove.inputEvents"+i.id,i.mouseMove.bind(i)),i.$target.listen("mouseleave.inputEvents"+i.id,i.mouseLeave.bind(i))}i.target._handleDocumentUp||(i.target._handleDocumentUp=i.handleDocumentUp.bind(i),i.target._handleDocumentUpId=i.id,i.$document.listen("mouseup.inputEvents"+i.target._handleDocumentUpId,i.target._handleDocumentUp))}}unlisten(e){const t=this
if(t.isListening=!1,window.PointerEvent)t.$target.unlisten("pointerdown.inputEvents"+t.id),t.$target.unlisten("pointerup.inputEvents"+t.id),t.$target.unlisten("pointermove.inputEvents"+t.id),t.$target.unlisten("pointercancel.inputEvents"+t.id)
else{"ontouchstart"in window&&(t.$target.unlisten("touchstart.inputEvents"+t.id),t.$target.unlisten("touchmove.inputEvents"+t.id),t.$target.unlisten("touchend.inputEvents"+t.id),t.$target.unlisten("touchcancel.inputEvents"+t.id)),t.$target.unlisten("mousedown.inputEvents"+t.id),t.$target.unlisten("mouseup.inputEvents"+t.id),t.$target.unlisten("mousemove.inputEvents"+t.id),t.$target.unlisten("mouseleave.inputEvents"+t.id)}if(t.target._handleDocumentUp&&(t.$document.unlisten("mouseup.inputEvents"+t.target._handleDocumentUpId,t.target._handleDocumentUp),delete t.target._handleDocumentUp,delete t.target._handleDocumentUpId),"resize"===e&&t.target.resizeTrigger){const e=t.target.resizeTrigger,i=e.childNodes[0],n=e.childNodes[1]
i.removeEventListener("scroll",t.target.resizeHandler),n.removeEventListener("scroll",t.target.resizeHandler),t.target.resizeHandler=null,e.parentNode.removeChild(e),delete t.target.resizeTrigger}}handleDocumentUp(e){this.isPressed=!1,this.isReleased=!1,this.resetSwipe(e)}createEvent(e,t){const i=this,n=e.touches,r=e.changedTouches,o=n&&n.length?n[0]:r&&r.length?r[0]:void 0,a=new CustomEvent(t,{bubbles:!0,cancelable:!0,composed:void 0!==i.$target.element.getRootNode().host})
if(a.originalEvent=e,o){for(let e=0;e<i.inputEventProperties.length;e++){const t=i.inputEventProperties[e]
a[t]=o[t]}return a}for(let t in e)t in a||(a[t]=e[t])
return a}fireTap(e){const t=this
if(clearTimeout(this.tapHoldTimeout),!this.tapHoldFired&&this.isInBounds){const i=t.createEvent(e,"tap")
t.tap(i)}}initTap(e){const t=this
t.isInBounds=!0,t.tapHoldFired=!1,t.tapHoldTimeout=setTimeout(function(){if(t.isInBounds){t.tapHoldFired=!0
const i=t.createEvent(e,"taphold")
t.taphold(i)}},t.tapHoldDelay)}pointerDown(e){return this.handleDown(e)}mouseDown(e){if(!(this.isPressed||this.touchStartTime&&new Date-this.touchStartTime<500))return this.handleDown(e)}touchStart(e){return this.touchStartTime=new Date,this.isTouchMoved=!0,this.handleDown(e)}mouseUp(e){if(!(this.isReleased||this.touchEndTime&&new Date-this.touchEndTime<500))return this.handleUp(e)}handleDown(e){const t=this
t.isReleased=!1,t.isPressed=!0
const i=t.createEvent(e,"down")
return(t.handlers.tap||t.handlers.taphold)&&t.initTap(i),(t.handlers.swipeleft||t.handlers.swiperight||t.handlers.swipetop||t.handlers.swipebottom)&&t.initSwipe(i),t.down(i)}handleUp(e){const t=this
t.isReleased=!0,t.isPressed=!1
const i=t.createEvent(e,"up"),n=t.up(i)
return(t.handlers.tap||t.handlers.taphold)&&t.fireTap(i),t.resetSwipe(i),n}handleMove(e){const t=this
let i=t.move(e)
return t.isPressed&&(t._maxSwipeVerticalDistance=Math.max(t._maxSwipeVerticalDistance,Math.abs(t._startY-e.pageY)),t._maxSwipeHorizontalDistance=Math.max(t._maxSwipeHorizontalDistance,Math.abs(t._startX-e.pageX)),i=t.handleSwipeEvents(e)),i}touchEnd(e){return this.touchEndTime=new Date,this.handleUp(e)}pointerUp(e){return this.handleUp(e)}pointerCancel(e){this.pointerUp(e)}touchCancel(e){this.touchEnd(e)}mouseLeave(){this.isInBounds=!1}mouseMove(e){if(!this.isTouchMoved)return this.handleMove(e)}pointerMove(e){return this.handleMove(e)}touchMove(e){const t=this,i=e.touches,n=e.changedTouches,r=i&&i.length?i[0]:n&&n.length?n[0]:void 0
for(let i=0;i<t.inputEventProperties.length;i++){const n=t.inputEventProperties[i]
void 0===e[n]&&(e[n]=r[n])}return t.isTouchMoved=!0,t.handleMove(e)}handleSwipeEvents(e){let t=!0
return(this.handlers.swipetop||this.handlers.swipebottom)&&(t=this.handleVerticalSwipeEvents(e)),!1===t?t:((this.handlers.swipeleft||this.handlers.swiperight)&&(t=this.handleHorizontalSwipeEvents(e)),t)}handleVerticalSwipeEvents(e){let t,i
return i=(t=e.pageY)-this._startY,this.swiped(e,i,"vertical")}handleHorizontalSwipeEvents(e){let t,i
return i=(t=e.pageX)-this._startX,this.swiped(e,i,"horizontal")}swiped(e,t,i){const n=this
if(i=i||0,Math.abs(t)>=n.swipeMin&&!n._swipeEvent&&!n._swipeLocked){let r=t<0?"swipeleft":"swiperight"
if("horizontal"===i?n._swipeEvent=n.createEvent(e,r):(r=t<0?"swipetop":"swipebottom",n._swipeEvent=n.createEvent(e,t<0?"swipetop":"swipebottom")),n[r]&&(n[r](this._swipeEvent),Math.abs(t)<=this.swipeMax))return e.stopImmediatePropagation(),!1}return!0}resetSwipe(){this._swipeEvent=null,clearTimeout(this._swipeTimeout)}initSwipe(e){const t=this
t._maxSwipeVerticalDistance=0,t._maxSwipeHorizontalDistance=0,t._startX=e.pageX,t._startY=e.pageY,t._swipeLocked=!1,t._swipeEvent=null,t._swipeTimeout=setTimeout(function(){t._swipeLocked=!0},t.swipeDelay)}}class p{get scrollWidth(){const e=this
return e.horizontalScrollBar?e.horizontalScrollBar.max:-1}set scrollWidth(e){const t=this
e<0&&(e=0),t.horizontalScrollBar&&(t.horizontalScrollBar.max=e)}get scrollHeight(){const e=this
return e.verticalScrollBar?e.verticalScrollBar.max:-1}set scrollHeight(e){const t=this
e<0&&(e=0),t.verticalScrollBar&&(t.verticalScrollBar.max=e)}get scrollLeft(){const e=this
return e.horizontalScrollBar?e.horizontalScrollBar.value:-1}set scrollLeft(e){const t=this
e<0&&(e=0),t.horizontalScrollBar&&(t.horizontalScrollBar.value=e)}get scrollTop(){const e=this
return e.verticalScrollBar?e.verticalScrollBar.value:-1}set scrollTop(e){const t=this
e<0&&(e=0),t.verticalScrollBar&&(t.verticalScrollBar.value=e)}get vScrollBar(){return this.verticalScrollBar}get hScrollBar(){return this.horizontalScrollBar}constructor(e,t,i){this.container=e,this.horizontalScrollBar=t,this.verticalScrollBar=i,this.disableSwipeScroll=!1,this.listen()}listen(){const e=this,t=a.isMobile,i=e.horizontalScrollBar,n=e.verticalScrollBar
e.inputEvents=new u(e.container)
let r,o,s,l,d,c,h,p,m=500
const f=function(e){return{amplitude:0,delta:0,initialValue:0,min:0,max:e.max,previousValue:0,pointerPosition:0,targetValue:0,scrollBar:e,value:0,velocity:0}},v=f(i),b=f(n),y=function(){const t=e.container.touchVelocityCoefficient||50
c=Date.now(),h=c-l,l=c
const i=function(e){e.delta=e.value-e.previousValue,e.previousValue=e.value
let i=t*e.delta/(1+h)
e.velocity=.8*i+.2*e.velocity}
i(b),i(v)},_=function(e){return p.value=e>p.max?p.max:e<p.min?p.min:e,p.scrollBar.value=p.value,e>p.max?"max":e<p.min?"min":"value"}
function w(){let t,i
p.amplitude&&(e.container.$.fireEvent("kineticScroll"),t=Date.now()-l,(i=-p.amplitude*Math.exp(-t/m))>5||i<-5?(_(p.targetValue+i),cancelAnimationFrame(o),o=0,o=requestAnimationFrame(w)):_(p.targetValue))}let x
e.inputEvents.down(function(i){if(!t)return
const n=i.originalEvent.target,o=n&&n.closest?n.closest("jqx-scroll-bar"):void 0
if(o===e.horizontalScrollBar||o===e.verticalScrollBar)return
s=!0,r=!1
const a=function(e,t){e.amplitude=0,e.pointerPosition=t,e.previousValue=e.value,e.value=e.scrollBar.value,e.initialValue=e.value,e.max=e.scrollBar.max}
a(b,i.clientY),a(v,i.clientX),l=Date.now(),clearInterval(d),d=setInterval(y,m)}),e.inputEvents.up(function(){if(!s)return!0
if(clearInterval(d),e.disableSwipeScroll)return void(s=!1)
const t=function(e){p=e,e.amplitude=.8*e.velocity,e.targetValue=Math.round(e.value+e.amplitude),l=Date.now(),cancelAnimationFrame(o),o=requestAnimationFrame(w),e.velocity=0}
b.velocity>10||b.velocity<-10?t(b):(v.velocity>10||v.velocity<-10)&&t(v),s=!1}),e.inputEvents.move(function(t){if(!s)return!0
if(e.disableSwipeScroll)return
if(r&&(t.originalEvent.preventDefault(),t.originalEvent.stopPropagation()),v.visible=i.offsetHeight>0,b.visible=n.offsetWidth>0,!s||!v.visible&&!b.visible)return
const o=e.container.touchScrollRatio
let a,l
o&&("number"==typeof o?(a=-o,l=-o):"function"==typeof o&&(a=o(b.max,b.scrollBar.offsetHeight),l=o(v.max,v.scrollBar.offsetWidth))),b.ratio=a||-b.max/b.scrollBar.offsetHeight,b.delta=(t.clientY-b.pointerPosition)*b.ratio,v.ratio=l||-v.max/v.scrollBar.offsetWidth,v.delta=(t.clientX-v.pointerPosition)*v.ratio
let d="value"
const c=function(t,i,n){return t.delta>5||t.delta<-5?(p=t,"min"===(d=t.initialValue+t.delta>p.max?"max":t.initialValue+t.delta<p.min?"min":"value")&&0===t.initialValue||("max"===d&&t.initialValue===t.max||(!t.visible||(e.container.$.fireEvent("kineticScroll"),_(t.initialValue+t.delta),y(),n.originalEvent.preventDefault(),n.originalEvent.stopPropagation(),r=!0,!1)))):null}
let h=c(b,t.clientY,t)
if(null!==h)return h
{let e=c(v,t.clientX,t)
if(null!==e)return e}}),e.scrollTo=function(t,i){const n=!1===i?v:b
let r=!1
l||(l=Date.now()),x||(x=Date.now()),Math.abs(Date.now()-x)>375?l=Date.now():r=!0,x=Date.now(),n.value=n.scrollBar.value,n.delta=t-n.value,n.max=n.scrollBar.max,t<=n.min&&(t=n.min),t>=n.max&&(t=n.max),n.targetValue=t
const a=t
let s=n.value
n.velocity=100*n.delta/(1+n.max),n.from=s
const d=function(e){return n.value=e>n.max?n.max:e<n.min?n.min:e,n.scrollBar.value=n.value,e>n.max?"max":e<n.min?"min":"value"},c=function(){let i,h=Date.now()-x,u=Math.min(1e3,Date.now()-l),p=n.velocity*Math.exp(u/175)
if(r)p<0&&n.value<=t?p=0:p>0&&n.value>=t&&(p=0),(n.value+p<=n.min||n.value+p>=n.max)&&(p=0),p>.5||p<-.5?(d(n.value+p),cancelAnimationFrame(o),o=0,o=requestAnimationFrame(c)):d(n.targetValue)
else{if(h>=175)return cancelAnimationFrame(o),e.container.$.fireEvent("kineticScroll"),void(o=0)
i=g.Animation.Easings.easeInSine(h,s,a-s,175),d(i),cancelAnimationFrame(o),o=0,o=requestAnimationFrame(c)}}
cancelAnimationFrame(o),o=requestAnimationFrame(c)},e.inputEvents.listen()}unlisten(){const e=this
e.inputEvents&&e.inputEvents.unlisten(),delete e.inputEvents}}class m{constructor(e){this.events={},this.handlers={},this.element=e}hasClass(e){const t=this,i=e.split(" ")
for(let e=0;e<i.length;e++){if(!t.element.classList.contains(i[e]))return!1}return!0}addClass(e){const t=this
if(t.hasClass(e))return
const i=e.split(" ")
for(let e=0;e<i.length;e++)t.element.classList.add(i[e])
t.isNativeElement||l.observeElement(t.element)}removeClass(e){const t=this
if(0===arguments.length)return void t.element.removeAttribute("class")
const i=e.split(" ")
for(let e=0;e<i.length;e++)t.element.classList.remove(i[e])
""===t.element.className&&t.element.removeAttribute("class"),t.isNativeElement||l.observeElement(t.element)}get isCustomElement(){return!!this.element.tagName.startsWith(t)||(this.element instanceof window[t].BaseElement==!0||"DIV"!==this.element.tagName&&"SPAN"!==this.element.tagName&&"BUTTON"!==this.element.tagName&&"INPUT"!==this.element.tagName&&"UL"!==this.element.tagName&&"LI"!==this.element.tagName&&document.createElement(this.element.nodeName)instanceof window[t].BaseElement==!0)}get isNativeElement(){return!this.isCustomElement}dispatch(e){const t=this,i=t.events[e.type]
let n=!1
if(i.length>1)for(let e=0;e<i.length;e++){const t=i[e]
if(t.namespace&&t.namespace.indexOf("_")>=0){n=!0
break}}n&&i.sort(function(e,t){let i=e.namespace,n=t.namespace
return(i=-1===i.indexOf("_")?0:parseInt(i.substring(i.indexOf("_")+1)))<(n=-1===n.indexOf("_")?0:parseInt(n.substring(n.indexOf("_")+1)))?-1:i>n?1:0})
for(let n=0;n<i.length;n++){const r=i[n]
if(e.namespace=r.namespace,e.context=r.context,e.defaultPrevented)break
const o=r.handler.apply(t.element,[e])
if(void 0!==o&&(e.result=o,!1===o)){e.preventDefault(),e.stopPropagation()
break}}return e.result}fireEvent(e,t,i){const n=this
i||(i={bubbles:!0,cancelable:!0,composed:n.isInShadowDOM}),i.detail=t||{}
const r=new CustomEvent(e,i)
return r.originalStopPropagation=r.stopPropagation,r.stopPropagation=function(){return r.isPropagationStopped=!0,r.originalStopPropagation()},n.dispatchEvent(r),r}get isPassiveSupported(){const e=this
if(void 0!==e.supportsPassive)return e.supportsPassive
e.supportsPassive=!1
try{let t=Object.defineProperty({},"passive",{get:function(){e.supportsPassive=!0}})
window.addEventListener("testPassive",null,t),window.removeEventListener("testPassive",null,t)}catch(e){}return e.supportsPassive}dispatchEvent(e){const t=this,i=e.type,n=t.element.context,r=i.substring(0,1).toUpperCase()+i.substring(1)
t.element.context=document,t.element["on"+r]?t.element["on"+r](e):t.element["on"+i.toLowerCase()]?t.element["on"+i.toLowerCase()](e):t.element.dispatchEvent(e),t.element.context=n}listen(e,t){const i=this,n=e.split("."),r=n.slice(1).join("."),o=n[0]
i.events[o]||(i.events[o]=[])
const a={type:o,handler:t,context:i.element,namespace:r}
h.indexOf(o)>=0&&(i.inputEvents||(i.inputEvents=new u(i.element)),i.inputEvents[o](function(e){i.dispatchEvent(e)}),i.inputEvents.boundEventTypes.push(o),i.inputEvents.listen(o)),0===i.events[o].length&&(i.handlers[o]=i.dispatch.bind(i),"wheel"===o?i.element.addEventListener("wheel",i.handlers[o],!!i.isPassiveSupported&&{passive:!1}):i.element.addEventListener(o,i.handlers[o],!1)),i.events[o].push(a)}unlisten(e){const t=this,i=e.split("."),n=i.slice(1).join("."),r=i[0]
let o=t.events[r]
if(t.inputEvents&&t.inputEvents.boundEventTypes.indexOf(r)>=0&&(t.inputEvents.boundEventTypes.splice(t.inputEvents.boundEventTypes.indexOf(r),1),0===t.inputEvents.boundEventTypes.length&&t.inputEvents.unlisten(r)),o){for(let e=0;e<o.length;e++){if(""!==n){let e=o.findIndex(e=>e.namespace===n)
o.splice(e,1)
break}o=[]}0===o.length&&(t.element.removeEventListener(r,t.handlers[r]),t.events[r]=[],delete t.handlers[r])}}getAttributeValue(e,t){const i=this,n=i.element.getAttribute(e)
if(i.isNativeElement)return i.deserialize(n,t)
const r=i.element.propertyByAttributeName[e]
return void 0===r.deserialize?i.deserialize(n,t,r.nullable):i.element[r.deserialize](n)}setAttributeValue(e,t,i){const n=this
let r,o=!1
if(n.isNativeElement){if(r=n.serialize(t,i),"boolean"===i){if(["checked","selected","async","autofocus","autoplay","controls","defer","disabled","hidden","ismap","loop","multiple","open","readonly","required","scoped"].indexOf(e)>=0)return void(t?n.element.setAttribute(e,""):n.element.removeAttribute(e))}}else{const a=n.element.propertyByAttributeName[e]
o=!a||a.nullable,r=a&&a.serialize?n.element[a.serialize](t):n.serialize(t,i,o)}"array"!==i&&"object"!==i||"[]"!==r&&"{}"!==r?void 0===r?(n.element.removeAttribute(e),n.element.shadowRoot&&n.element.$.root&&n.element.$.root.removeAttribute(e)):(n.element.setAttribute(e,r),n.element.shadowRoot&&n.element.$.root&&n.element.$.root.setAttribute(e,r)):n.element.removeAttribute(e)}serialize(e,t,i){if(void 0===t&&(t=g.Types.getType(e)),void 0===e||!i&&null===e)return
if(i&&null===e)return"null"
if("string"===t)return e
if("boolean"===t||"bool"===t){if(!0===e||"true"===e||1===e||"1"===e)return""
if(!1===e||"false"===e||0===e||"0"===e)return}if("array"===t)return JSON.stringify(e)
return["string","number","int","integer","float","date","any","function"].indexOf(t)>=0?e.toString():"object"===t?JSON.stringify(e):void 0}deserialize(e,t,i){const n="null"===e
if(void 0!==e&&(!n||i)){if(n&&i)return null
if("boolean"===t||"bool"===t)return null!==e
if("number"===t||"float"===t)return"NaN"===e?NaN:"Infinity"===e?1/0:"-Infinity"===e?-1/0:parseFloat(e)
if("int"===t||"integer"===t)return"NaN"===e?NaN:"Infinity"===e?1/0:"-Infinity"===e?-1/0:parseInt(e)
if("string"===t)return e
if("any"===t)return e
if("date"===t)return new Date(e)
if("function"===t){if("function"==typeof window[e])return window[e]}else if("array"===t||"object"===t)try{const i=JSON.parse(e)
if(i)return i}catch(i){if(window[e]&&"object"==typeof window[e])return window[e]
if("array"===t&&e.indexOf("[")>=0){if(e.indexOf("{")>=0){let t=e.replace(/{/gi,"").replace("[","").replace("]","").replace(/'/gi,"").replace(/"/gi,"").trim()
t=t.split("},")
for(let e=0;e<t.length;e++){let i={},n=t[e].trim().split(",")
for(let e=0;e<n.length;e++){const t=n[e].split(":")[0].trim(),r=n[e].split(":")[1].trim()
i[t]=r}t[e]=i}return t}return e.replace("[","").replace("]","").replace(/'/gi,"").replace(/"/gi,"").trim().split(",")}}}}}class f{static get Ripple(){return r}static get Easings(){return o}}class g{static get Types(){return n}static get Core(){return a}static get Animation(){return f}static get Scroll(){return p}static get InputEvents(){return u}static Extend(e){return new m(e)}static Assign(e,t){if(e.indexOf(".")>=0){const i=e.split(".")
return g[i[0]]||(g[i[0]]={}),void(g[i[0]][i[1]]=t)}g[e]=t}}const v=g.Extend(document)
class b{}b.cache={}
class y extends HTMLElement{static get properties(){return{animation:{value:"advanced",type:"string",allowedValues:["none","simple","advanced"]},unfocusable:{value:!1,type:"boolean"},disabled:{value:!1,type:"boolean"},dataContext:{value:null,reflectToAttribute:!1,type:"any"},debugMode:{value:!0,type:"boolean",reflectToAttribute:!1},locale:{value:"en",type:"string",reflectToAttribute:!1},localizeFormatFunction:{value:void 0,type:"function",reflectToAttribute:!1},messages:{value:{en:{propertyUnknownName:"Invalid property name: '{{name}}'!",propertyUnknownType:"'{{name}}' property is with undefined 'type' member!",propertyInvalidValue:"Invalid '{{name}}' property value! Actual value: '{{actualValue}}', Expected value: '{{value}}'!",propertyInvalidValueType:"Invalid '{{name}}' property value type! Actual type: '{{actualType}}', Expected type: '{{type}}'!",methodInvalidValueType:"Invalid '{{name}}' method argument value type! Actual type: '{{actualType}}', Expected type: '{{type}}' for argument with index: '{{argumentIndex}}'!",methodInvalidArgumentsCount:"Invalid '{{name}}' method arguments count! Actual arguments count: '{{actualArgumentsCount}}', Expected at least: '{{argumentsCount}}' argument(s)!",methodInvalidReturnType:"Invalid '{{name}}' method return type! Actual type: '{{actualType}}', Expected type: '{{type}}'!",elementNotInDOM:"Element does not exist in DOM! Please, add the element to the DOM, before invoking a method.",moduleUndefined:"Module is undefined.",missingReference:"{{elementType}}: Missing reference to '{{files}}'.",htmlTemplateNotSuported:"{{elementType}}: Web Browser doesn't support HTMLTemplate elements.",invalidTemplate:"{{elementType}}: '{{property}}' property accepts a string that must match the id of an HTMLTemplate element from the DOM."}},reflectToAttribute:!1,inherit:!0,type:"object"},props:{value:null,reflectToAttribute:!1,isHierarchicalProperty:!0,type:"any"},readonly:{value:!1,type:"boolean"},renderMode:{value:"auto",type:"string",reflectToAttribute:!1,allowedValues:["auto","manual"]},rightToLeft:{value:!1,type:"boolean"},rethrowError:{value:!0,type:"boolean",reflectToAttribute:!1},theme:{value:window[t].Theme,type:"string"},visibility:{value:"visible",allowedValues:["visible","collapsed","hidden"],type:"string"},wait:{value:!1,type:"boolean"}}}getBindings(e,t){const i=this
let n=0,r={},o=(e=>{if(e instanceof HTMLElement)return i.parseAttributes(e)
{let t=i.parseProperty(e.data?e.data.trim():null,"textContent",e)
if(t)return i&&e.parentNode===i.$.content&&(t.value=""!==i.$.html?i.$.html:void 0,i.innerHTML=""),{textContent:t}}})(e)
o&&(r.data=o),t||(r.mapping=[],t=r),e.getAttribute&&(r.nodeId=e.getAttribute("jqx-id"),t&&o&&(t.mapping[r.nodeId]=o)),r.node=e,e.firstChild&&(r.children={})
for(let o=e.firstChild;o;o=o.nextSibling)r.children[n++]=i.getBindings(o,t)
return r}_addRemovePropertyBinding(e,t,i,n,r){if(!e||!t||!i)return
const o=this,a=o.bindings,s=i.getAttribute("jqx-id"),l=e.indexOf("{{")>=0
let d=!1;(e=e.replace("{{","").replace("}}","").replace("[[","").replace("]]","")).indexOf("!")>=0&&(e=e.replace("!",""),d=!0)
const c=o._properties[e],h={name:e,reflectToAttribute:c.reflectToAttribute,twoWay:l,type:c.type,not:d}
if(r&&!n){const i={},n={name:e,targetPropertyName:t,reflectToAttribute:c.reflectToAttribute,twoWay:l,type:c.type,not:d}
i[e]=n,a.mapping[s]=i}const u=function(e){for(let r in e){const a=e[r]
if(a.nodeId===s){a.data||(a.data={}),n?(a.data[t]=null,delete a.data[t]):a.data[t]=h
break}if(a.children)u(a.children)
else if(a.node&&a.node.children&&a.node===i.parentElement){const e=a.node
if(!e.firstChild)continue
a.children={}
let t=0
for(let i=e.firstChild;i;i=i.nextSibling)a.children[t++]=o.getBindings(i)
u(a.children)}}}
u(a.children),n?delete o.boundProperties[e]:o.boundProperties[e]=!0,o.updateBoundNodes(e)}addPropertyBinding(e,t,i,n){this._addRemovePropertyBinding(e,t,i,!1,n)}removePropertyBinding(e,t,i,n){this._addRemovePropertyBinding(e,t,i,!0,n)}parseAttributes(e){const t=this
let i=void 0
for(let n=0;n<e.attributes.length;n++){const r=e.attributes[n],o=r.name,a=r.value
b.cache["toCamelCase"+o]||(b.cache["toCamelCase"+o]=g.Core.toCamelCase(o))
const s=b.cache["toCamelCase"+o]
if(o.indexOf("(")>=0){let n=o.substring(1,o.length-1)
if(t&&!t.dataContext){t.templateListeners[e.getAttribute("jqx-id")+"."+n]=a,e.removeAttribute(o)
continue}{i||(i={})
const e=a.substring(0,a.indexOf("("))
i[s]={isEvent:!0,name:n,value:e}
continue}}let l=t.parseProperty(a,o,e)
l&&(i||(i={}),i[s]=l)}return i}parseProperty(e,t){if(!e||!e.length)return
const i=this
let n,r=e.length,o=0,a=0,s=0,l=!0
for(;a<r;){o=e.indexOf("{{",a)
let t=e.indexOf("[[",a),i="}}"
if(t>=0&&(o<0||t<o)&&(o=t,l=!1,i="]]"),(s=o<0?-1:e.indexOf(i,o+2))<0)return
n=n||{}
let r=e.slice(o+2,s).trim()
n.name=r,a=s+2}const d=n.name,c=i?i._properties[d]:null
if(n.twoWay=l,n.ready=!1,i&&(d.indexOf("::")>=0?i.boundProperties[d.substring(0,d.indexOf("::"))]=!0:i.boundProperties[d]=!0),c)n.type=c.type,n.reflectToAttribute=c.reflectToAttribute
else{["checked","selected","async","autofocus","autoplay","controls","defer","disabled","hidden","ismap","loop","multiple","open","readonly","required","scoped"].indexOf(t)>=0?n.type="boolean":n.type="string",n.reflectToAttribute=!0}return n}updateTextNodes(){this.updateTextNode(this.shadowRoot||this,this.bindings,this)}updateTextNode(e,t,i){const n=this
if(!t)return
let r=0
for(let o=e.firstChild;o&&t.children;o=o.nextSibling)n.updateTextNode(o,t.children[r++],i)
if(t&&t.data)for(let e in t.data){const n=t.data[e],r=n.name
"textContent"===e&&n.twoWay&&!n.updating&&void 0!==n.value&&(i[r]=n.value)}}updateBoundProperty(e,t){if(t.updating)return
const i=this
t.updating=!0,i[e]=t.value,t.updating=!1}updateBoundNodes(e){const t=this
if(t.updateBoundNode(t.shadowRoot||t,t.bindings,t,e),t.detachedChildren.length>0)for(let i=0;i<t.detachedChildren.length;i++){const n=t.detachedChildren[i],r=n.getAttribute("jqx-id"),o=function(e){if(e.nodeId===r)return e
for(let t in e.children){const i=e.children[t]
if((i.getAttribute?i.getAttribute("jqx-id"):"")===r)return e
if(i.children){const e=o(i)
if(e)return e}}return null},a=o(t.bindings)
if(a)t.updateBoundNode(n,a,t,e,!0)
else if(n.getAttribute&&t.bindings.mapping){const i=t,n=t.bindings
if(n)for(let r in n.mapping){const o=i.querySelector('[jqx-id="'+r+'"]')
if(o){const a=n.mapping[r]
t.updateBoundData(o,a,i,e)}}}}}updateBoundMappedNodes(){const e=this,t=e.bindings,i=e
if(t.mapping)for(let n in t.mapping){let r=i.querySelector('[jqx-id="'+n+'"]')
if(i.shadowRoot&&((r=i.querySelector('[id="'+n+'"]'))||(r=i.shadowRoot.querySelector('[id="'+n+'"]')||i.shadowRoot.querySelector('[jqx-id="'+n+'"]'))),r){const o=t.mapping[n]
e.updateBoundData(r,o,i)}else if(i.getAttribute("aria-controls")){let o=document.getElementById(i.getAttribute("aria-controls"))
if(!o&&i.shadowRoot&&(o=i.shadowRoot.getElementById(i.getAttribute("aria-controls"))),r=o.querySelector('[jqx-id="'+n+'"]')){const o=t.mapping[n]
e.updateBoundData(r,o,i)}}}}updateBoundNode(e,t,i,n,r){const o=this
if(!t)return
let a=0
if(r){if(r&&!t.data)for(let s=e.firstChild;s&&t.children;s=s.nextSibling)if(s.getAttribute){const e=s.getAttribute("jqx-id"),r=function(){for(let i in t.children)if(t.children[i].nodeId===e)return t.children[i]}()
o.updateBoundNode(s,r,i,n),a++}else o.updateBoundNode(s,t.children[a++],i,n,r)}else for(let r=e.firstChild;r&&t.children;r=r.nextSibling)if(r.getAttribute){const e=r.getAttribute("jqx-id"),s=function(){for(let i in t.children)if(t.children[i].nodeId===e)return t.children[i]}()
o.updateBoundNode(r,s,i,n),a++}else o.updateBoundNode(r,t.children[a++],i,n)
if(!t||!t.data)return
const s=t.data
o.updateBoundData(e,s,i,n)}updateBoundData(e,t,i,n){const r=this
for(let o in t){const a=t[o]
let s=a.name
if(!a.updating&&(s.indexOf("::")>=0&&(s=s.substring(0,s.indexOf("::"))),void 0===n||n===s)){if(s.indexOf("(")>=0){let e=s.substring(s.indexOf("("))
const t=s.substring(0,s.indexOf("("))
if((e=(e=(e=e.substring(1,e.length-1)).replace(/ /gi,"")).split(",")).length>0&&""!==e[0]){let n=[]
for(let t=0;t<e.length;t++)n.push(i[e[t]])
a.value=i[t].apply(i,n)}else a.value=i[t]()
a.type=typeof a.value}else a.value=i[s]
if("innerHTML"===s?e[o].toString().trim()!==i[s].toString().trim()&&(a.ready?e[o]=a.value.toString().trim():i._properties[s].defaultValue!==a.value&&(e[o]=a.value.toString().trim())):a.not?(e[o]=!a.value,a.targetPropertyName&&(e[a.targetPropertyName]=!a.value)):(e[o]=a.value,a.targetPropertyName&&(e[a.targetPropertyName]=a.value)),e.$&&e.$.isNativeElement){b.cache["toDash"+o]||(b.cache["toDash"+o]=g.Core.toDash(o))
const t=b.cache["toDash"+o],i=e.$.getAttributeValue(t,a.type)
!a.reflectToAttribute||i===a.value&&a.ready||e.$.setAttributeValue(t,a.value,a.type),a.reflectToAttribute||e.$.setAttributeValue(t,null,a.type)}if(!a.ready){if(e.$&&e.$.isCustomElement){b.cache["toDash"+o]||(b.cache["toDash"+o]=g.Core.toDash(o))
const t=b.cache["toDash"+o]
e._properties||(e._beforeCreatedProperties=e._properties=e.propertyByAttributeName=[]),e._properties[o]||(e._properties[o]={attributeName:t},e._beforeCreatedProperties&&(e._beforeCreatedProperties[o]=e._properties[o]),e.propertyByAttributeName[t]=e._properties[o])
const i=e._properties[o]
i.isUpdating=!0,a.reflectToAttribute&&(a.not?e.$.setAttributeValue(i.attributeName,!a.value,a.type):e.$.setAttributeValue(i.attributeName,a.value,a.type)),a.reflectToAttribute||e.$.setAttributeValue(i.attributeName,null,a.type),i.isUpdating=!1}if(a.twoWay){const t=function(t){if(a.value=t,e.$&&e.$.isNativeElement){b.cache["toDash"+o]||(b.cache["toDash"+o]=g.Core.toDash(o))
const t=b.cache["toDash"+o],i=e.$.getAttributeValue(t,a.type)
a.reflectToAttribute&&i!==a.value&&e.$.setAttributeValue(t,a.value,a.type),a.reflectToAttribute||e.$.setAttributeValue(t,null,a.type)}}
if(a.name.indexOf("::")>=0){const i=a.name.indexOf("::"),n=a.name.substring(i+2)
r["$"+e.getAttribute("jqx-id")].listen(n,function(){t(e[o])
const i=a.name.substring(0,a.name.indexOf("::"))
r.updateBoundProperty(i,a)})}if(e.$&&e.$.isCustomElement){e._properties[o]&&(e._properties[o].notify=!0),b.cache["toDash"+o]||(b.cache["toDash"+o]=g.Core.toDash(o))
const i=b.cache["toDash"+o]
r["$"+e.getAttribute("jqx-id")].listen(i+"-changed",function(e){let i=e.detail
t(i.value)
const n=r.context
e.context!==document&&(r.context=r),r.updateBoundProperty(a.name,a),r.context=n})}}}a.ready=!0}}}static clearCache(){this.cache={}}addMessages(e,t){Object.assign(this.messages[e],t)}localize(e,t){const i=this
if(!i.messages||!i.messages[i.locale])return
let n=i.messages[i.locale][e]
if(""===n)return""
if(!n)return
const r=n
for(let e in t){let i=t[e]
n=n.replace(new RegExp("{{"+e+"}}","g"),i)}return i.localizeFormatFunction&&i.localizeFormatFunction(r,n,t),n}static get requires(){return{}}static get listeners(){return{"theme-changed":function(e){this.theme=e.detail.newValue}}}static get methods(){return{}}get classNamesMap(){return{animation:"jqx-animate",rippleAnimation:"jqx-ripple"}}get hasAnimation(){return"none"!==this.animation}get hasRippleAnimation(){return"none"!==this.animation&&"advanced"===this.animation}static get modules(){return window[t].Modules}get properties(){const e=this
return e._properties||(e._properties=[]),e._properties}get parents(){const e=this
let i=[],n=e.parentNode
for(;n&&9!==n.nodeType;)n instanceof HTMLElement==!0&&i.push(n),n=n.parentNode
return window[t].EnableShadowDOM&&e.isInShadowDOM&&e.shadowParent&&(i=i.concat(e.shadowParent.parents)),i}log(e){this._logger("log",e)}warn(e){this._logger("warn",e)}error(e){this._logger("error",e)}_logger(e,t){if(this.debugMode){const i=t instanceof Error?t.message:t.toString()
console[e](i)}if(this.rethrowError&&"error"===e)throw t}get focused(){return this.contains(document.activeElement)}template(){return"<div></div>"}registered(){const e=this
e.onRegistered&&e.onRegistered()}created(){const e=this
e.isReady=!1,e._initElement(e),e._setModuleState("created"),e.onCreated&&e.onCreated()}completed(){const e=this
e.isCompleted=!0,e._onCompleted&&e._onCompleted(),e.onCompleted&&e.onCompleted()}whenReady(e){const t=this
t.isCompleted?e():(t.whenReadyCallbacks||(t.whenReadyCallbacks=[]),t.whenReadyCallbacks.push(e))}whenRendered(e){const t=this
t.isRendered?e():(t.whenRenderedCallbacks||(t.whenRenderedCallbacks=[]),t.whenRenderedCallbacks.push(e))}addThemeClass(){const e=this
""!==e.theme&&e.classList.add("jqx-"+e.theme)}addDefaultClass(){this.classList.add(t.toLowerCase()+"-element"),this.classList.add(this.nodeName.toLowerCase())}_renderShadowRoot(){const e=this
if(e.shadowRoot){e.$.root.classList.add(e.nodeName.toLowerCase())
for(let t=0;t<e.attributes.length;t++){const i=e.attributes[t]
"class"===i.name||"id"===i.name||"style"===i.name||"tabindex"===i.name||i.name.indexOf("aria")>=0||e.$.root.setAttribute(i.name,i.value)}for(let t=0;t<e.classList.length;t++){const i=e.classList[t]
"jqx-element-init"!==i&&"jqx-element"!==i&&"jqx-hidden"!==i&&"jqx-visibility-hidden"!==i&&e.$.root.classList.add(i)}}}render(){const e=this
if(!e.isRendered&&(e.isRendered=!0,e.isRendering=!1,e.context=document,e._renderShadowRoot(),e.whenRenderedCallbacks)){for(let t=0;t<e.whenRenderedCallbacks.length;t++)e.whenRenderedCallbacks[t]()
e.whenRenderedCallbacks=[]}e.onRender&&e.onRender(),e.disabled&&e.setAttribute("aria-disabled",!0),e.readonly&&-1!==["checkbox","combobox","grid","gridcell","listbox","radiogroup","slider","spinbutton","textbox"].indexOf(e.getAttribute("role"))&&e.setAttribute("aria-readonly",!0)}ready(){const e=this
if(e._setId(),e.addThemeClass(),e.addDefaultClass(),"collapsed"===e.visibility?e.classList.add("jqx-hidden"):"hidden"===e.visibility&&e.classList.add("jqx-visibility-hidden"),e.dataContext&&e.applyDataContext(),e.onReady&&e.onReady(),e.shadowRoot&&JQX(e._selector)){if(JQX(e._selector).styleUrls){const t=JQX(e._selector).styleUrls
for(let i=0;i<t.length;i++)e.importStyle(t[i])}if(JQX(e._selector).styles){const t=document.createElement("style")
t.innerHTML=JQX(e._selector).styles,e.shadowRoot.insertBefore(t,e.shadowRoot.firstChild)}}JQX(e._selector)&&JQX(e._selector).ready&&JQX(e._selector).ready()}_setId(){const e=this
if(!e.id){const t=e.elementName
e.id=t.slice(0,1).toLowerCase()+t.slice(1)+Math.floor(65536*(1+Math.random())).toString(16).substring(1)}}checkLicense(){}logWatermark(){const e=document.createElement("a")
e.href="https://www.htmlelements.com/",e.innerHTML="https://www.htmlelements.com/",e.style.position="absolute",e.style.right="5px",e.style.bottom="5px",e.style.color="#fff",e.style.padding="20px",e.style.borderRadius="5px",e.style.background="#20C933",e.style.cursor="pointer",e.style.zIndex="999999",e.style.display="block",e.style.fontSize="24px",e.style.textDecoration="none",e.style.fontWeight="bold",e.style.opacity=0,e.style.transition="opacity .35s ease-in-out",e.id="watermark",document.getElementById("watermark")||setTimeout(()=>{document.getElementById("watermark")||(document.body.appendChild(e),setTimeout(()=>{e.style.opacity=1}),setTimeout(()=>{e.style.opacity=0,setTimeout(()=>{e.parentNode.removeChild(e)},350)},6e3))},1e3)}logLicense(){console.log("****************************************************************************************************************"),console.log("****************************************************************************************************************"),console.log("****************************************************************************************************************"),console.log("*JQX HTML Elements License Key Not Found."),console.log("*This is an evaluation only version, it is not licensed for development projects intended for production."),console.log("*if you want to hide the watermark, please send an email to: info@htmlelements.com for a license."),console.log("****************************************************************************************************************"),console.log("****************************************************************************************************************"),console.log("****************************************************************************************************************")}get _selector(){const e=this
return e.id?"#"+e.id:e.classList.length>0?"."+e.classList[0]:void 0}applyDataContext(e){const t=this
let i="string"==typeof t.dataContext?window[t.dataContext]||document[t.dataContext]:t.dataContext
if(e&&(i=e,t.dataContext=e),i){if(!i._uid){i._uid=(Date.now().toString(36)+Math.random().toString(36).substr(2,5)).toUpperCase(),i._properties=[]
for(let e in i){const n=i[e]
"function"!=typeof n&&"_properties"!==e&&"_uid"!==e&&(i._properties[e]=n,Object.defineProperty(i,e,{configurable:!1,enumerable:!0,get:()=>i._properties[e],set(n){const r=i._properties[e]
i._properties[e]=n
let o=[]
o[e]={oldValue:r,value:n},o.length++,t.updatingDataContext=!0,v.fireEvent("dataContextPropertyChanged",{dataContext:i,properties:o},{bubbles:!1,cancelable:!0}),t.updatingDataContext=!1}}))}}if(t.dataContextProperties=t.parseAttributes(t),t.dataContextPropertiesMap={},t.dataContextListeners={},t.dataContextProperties){t.updatingDataContext=!0
for(let e in t.dataContextProperties){const n=t.dataContextProperties[e],r=n.name
if(n.propertyName=e,t.dataContextPropertiesMap[r]=e,b.cache["toDash"+e]||(b.cache["toDash"+e]=g.Core.toDash(r)),n.isEvent){const e=n.value
t.dataContextListeners[r]&&t.removeEventListener(r,t.dataContextListeners[r]),t.dataContextListeners[r]=function(t){i[e](t)},t.addEventListener(r,t.dataContextListeners[r])}if(r.indexOf(".")>=0){const n=r.split(".")
let o=i[n[0]]
for(let e=1;e<n.length;e++)o=o[n[e]]
void 0!==o&&(t[e]=o)}else t[e]=i[r]}t.dataContextPropertyChangedHandler=function(e){const i=e.detail.properties
if(e.detail.dataContext===("string"==typeof t.dataContext?window[t.dataContext]||document[t.dataContext]:t.dataContext))for(let e in i){const n=t.dataContextPropertiesMap[e],r=t.context
n&&(t.context=document,t[n]=i[e].value,t.context=r)}},v.listen("dataContextPropertyChanged",t.dataContextPropertyChangedHandler),t.updatingDataContext=!1}else t.dataContextProperties=null}else{t.dataContextProperties=null
const e=function(){("string"==typeof t.dataContext?window[t.dataContext]||document[t.dataContext]:t.dataContext)&&(t.applyDataContext(),window.removeEventListener("load",e))}
window.addEventListener("load",e)}}updateDataContextProperty(e){const t=this,i="string"==typeof t.dataContext?window[t.dataContext]||document[t.dataContext]:t.dataContext,n=t.dataContextProperties[e]
if(!t.updatingDataContext&&n.twoWay){const r=n.name
if(r.indexOf(".")>=0){const n=r.split(".")
let o=i[n[0]]
for(let e=1;e<n.length;e++)o=o[n[e]]
void 0!==o&&(o=t[e],d[i._uid]&&(d[i._uid][e]=o))}else i[r]=t[e],d[i._uid]&&(d[i._uid][e]=i[r])}}static get version(){return window[t].Version}initProperties(){const e=this
if(JQX(e._selector)&&JQX(e._selector).properties&&(e._initProperties=JQX(e._selector).properties),e.hasAttribute("props")&&!e.props?e._initProperties=window[e.getAttribute("props")]:e.props&&(e._initProperties=e.props),e._initProperties){const t=Object.keys(e._initProperties)
for(let i=0;i<t.length;i++){const n=t[i],r=e._initProperties[n]
if(r.constructor===JQX.ObservableArray||r instanceof JQX.ObservableArray)e[n]=r.toArray()
else if(r.constructor===JQX.DataAdapter||"jqxDataAdapter"===r.constructor.name||"object"==typeof r&&JQX.DataAdapter&&r instanceof JQX.DataAdapter||r instanceof JQX.Observable||r.constructor===JQX.Observable||"object"!=typeof r||g.Types.isArray(r)){if(void 0===e[n]&&-1===["onReady","onAttached","onDetached","onCreated","onCompleted"].indexOf(n)){const t=e.localize("propertyUnknownName",{name:n})
e.log(t)}e[n]=r}else if("messages"!==n){if("object"==typeof r){const t=function(i,n){const r=Object.keys(i)
for(let o=0;o<r.length;o++){const a=r[o],s=i[a],l=e._properties[n+"_"+a]
if(l&&null===l.value){if(void 0===e[n+"_"+a]){const t=e.localize("propertyUnknownName",{name:n+"_"+a})
e.log(t)}e[n+"_"+a]=s}else if("object"==typeof s&&!g.Types.isArray(s)&&s&&s.constructor!==Date)t(s,n+"_"+a)
else{if(void 0===e[n+"_"+a]){const t=e.localize("propertyUnknownName",{name:n+"_"+a})
e.log(t)}e[n+"_"+a]=s}}}
t(r,n)}}else e[n]=r}}}setup(){const e=this
if(e.context=this,e.isReady&&!e.isCompleted)return
if(e.isReady)return e._setModuleState("attached"),e.isAttached=!0,e.attached(),e._handleListeners("listen"),void(e.context=document)
e.ownerElement&&e.ownerElement.detachedChildren.indexOf(e)>=0&&e.ownerElement.detachedChildren.splice(e.ownerElement.detachedChildren.indexOf(e),1),e.isReady=!0,e.methods=e.getStaticMember("methods"),e.initProperties(),a.isMobile&&e.classList.add("jqx-mobile")
for(let t=0;t<e.attributes.length;t+=1){const i=e.propertyByAttributeName[e.attributes[t].name]
if(!i)continue
let n=e.$.getAttributeValue(i.attributeName,i.type)
const r=n?n.toString():""
if(!(r.indexOf("{{")>=0||r.indexOf("[[")>=0)&&(("object"===i.type||"array"===i.type||!(e.attributes[t].value.indexOf("{{")>=0||e.attributes[t].value.indexOf("[[")>=0))&&void 0!==n&&i.value!==n)){const r=g.Types.getType(n),o=e.attributes[t].value
if(("any"===i.type||"object"===i.type)&&""+e[i.name]===n)continue
if("array"===i.type&&e[i.name]&&JSON.stringify(e[i.name])===n)continue
if("number"===r&&isNaN(n)&&"NaN"!==o&&"Infinity"!==o&&"-Infinity"!==o){const t=e.localize("propertyInvalidValueType",{name:i.name,actualType:"string",type:i.type})
e.log(t)}i.isUpdatingFromAttribute=!0,e[i.name]=n,i.isUpdatingFromAttribute=!1}}for(let t in e._properties){const i=e._properties[t]
if("innerHTML"===t&&i.value===i.defaultValue&&(i.value=i.defaultValue=g.Core.html(e)),"boolean"!==i.type&&"bool"!==i.type||"false"===e.getAttribute(i.attributeName)&&(i.isUpdating=!0,e.setAttribute(i.attributeName,""),i.isUpdating=!1),i.defaultReflectToAttribute&&i.reflectToAttribute){if(i.defaultReflectToAttribute&&i.defaultReflectToAttributeConditions){let t=!0
for(let n=0;n<i.defaultReflectToAttributeConditions.length;n++){const r=i.defaultReflectToAttributeConditions[n]
let o,a
for(let e in r)o=e,a=r[e]
e._properties[o]&&e._properties[o].value!==a&&(t=!1)}if(!t)continue}i.isUpdating=!0,e.$.setAttributeValue(i.attributeName,i.value,i.type),i.isUpdating=!1}}const t=[]
if(e.children.length>0)for(let i=0;i<e.children.length;i++){const n=e.children[i]
g.Extend(n).isCustomElement&&t.push(n)}e.applyTemplate(),e.complete=function(){if(!e.templateBindingsReady){const t=e=>{e.templateBindingsReady||(e.templateBindingsReady=!0,e.updateTextNodes(),e.updateBoundNodes())}
if(e.ownerElement){let i=e.ownerElement,n=[]
for(;i;)n.push(i),i=i.ownerElement
for(let e=n.length-1;e>=0;e--)t(n[e])
t(e)}else t(e)}const t=()=>{if(e._setModuleState("ready"),e.ready(),"auto"!==e.renderMode||e.isRendered||e.render(),e.isAttached=!0,e._setModuleState("attached"),e.attached(),e._handleListeners("listen"),e.isHidden||0!==e.offsetWidth&&0!==e.offsetHeight||(e.isHidden=!0),e.completed(),e.isRendered&&(e.context=document),e.whenReadyCallbacks){for(let t=0;t<e.whenReadyCallbacks.length;t++)e.whenReadyCallbacks[t]()
e.whenReadyCallbacks=[]}}
if(e.wait)e.classList.add("jqx-visibility-hidden")
else if(e.classList.contains("jqx-async"))requestAnimationFrame(()=>{t()})
else{const i=e.shadowParent
e.shadowParent=null
const n=e.parents
if(e.shadowParent=i,0===n.length)return
const r=()=>{let t=e.ownerElement,i=[]
for(;t;)i.push(t),t=t.ownerElement
for(let e=i.length-1;e>=0;e--)i[e].updateBoundMappedNodes()}
e.ownerElement&&"HTML"!==n[n.length-1].nodeName?e.ownerElement&&"HTML"===e.ownerElement.parents[e.ownerElement.parents.length-1].nodeName?(r(),t()):e.checkIsInDomInterval=setInterval(()=>{const i=e.parents
"HTML"===i[i.length-1].nodeName&&(clearInterval(e.checkIsInDomInterval),r(),t())},100):t()}}
let i=[].slice.call(e.querySelectorAll("[jqx-id]")).concat(t)
if(e.enableShadowDOM&&!0!==e.isInShadowDOM&&(i=[].slice.call(e.shadowRoot.querySelectorAll("[jqx-id]")).concat(t)),0===i.length)e.complete()
else{e._completeListeners=0
for(let t=0;t<i.length;t++){const n=i[t]
if(g.Extend(n).isCustomElement){const t=function(){e._completeListeners--,0===e._completeListeners&&(e.complete(),delete e._completeListeners)}.bind(e)
n.isCompleted||n.isUtilityElement||!0===n.wait||(e._completeListeners++,n._onCompleted||(n.completeHandlers=[],n._onCompleted=function(){for(let e=0;e<n.completeHandlers.length;e++)n.completeHandlers[e]()}),n.completeHandlers.push(t))}}0===e._completeListeners&&e.complete()}}visibilityChangedHandler(){const e=this
e.isReady&&requestAnimationFrame(()=>{0===e.offsetWidth||0===e.offsetHeight?e.isHidden=!0:(e.isHidden=!1,e.$.fireEvent("resize",e,{bubbles:!1,cancelable:!0}))})}attributeChangedCallback(e,t,i){const n=this,r=n.propertyByAttributeName[e]
if("class"!==e&&"style"!==e||n.visibilityChangedHandler(),r||n.attributeChanged(e,t,i),!r||r&&r.isUpdating)return
let o=n.$.getAttributeValue(r.attributeName,r.type)
void 0!==i&&n[r.name]!==o&&(r.isUpdatingFromAttribute=!0,n[r.name]=void 0!==o?o:n._properties[r.name].defaultValue,r.isUpdatingFromAttribute=!1)}attributeChanged(e,t,i){}set hasStyleObserver(e){const t=this
void 0===t._hasStyleObserver&&(t._hasStyleObserver=e),e?l.watch(t):l.unwatch(t)}get hasStyleObserver(){const e=this
return void 0===e._hasStyleObserver||e._hasStyleObserver}attached(){const e=this
e.hasStyleObserver&&l.watch(e),e.onAttached&&e.onAttached(),JQX(e._selector)&&JQX(e._selector).attached&&JQX(e._selector).attached()}detached(){const e=this
e.hasStyleObserver&&l.unwatch(e),e._setModuleState("detached"),e.isAttached=!1,e.ownerElement&&-1===e.ownerElement.detachedChildren.indexOf(e)&&e.ownerElement.detachedChildren.push(e),e._handleListeners("unlisten"),e.onDetached&&e.onDetached(),JQX(e._selector)&&JQX(e._selector).detached&&JQX(e._selector).detached()}propertyChangedHandler(e,t,i){const n=this
t!==i&&("theme"===e&&(""!==t&&n.classList.remove("jqx-"+t),""!==i&&n.classList.add("jqx-"+i)),"visibility"===e?("collapsed"===t?n.classList.remove("jqx-hidden"):"hidden"===t&&n.classList.remove("jqx-visibility-hidden"),"collapsed"===i?n.classList.add("jqx-hidden"):"hidden"===i&&n.classList.add("jqx-visibility-hidden")):"disabled"===e?n._ariaPropertyChangedHandler(e,i):"readonly"===e&&n._ariaPropertyChangedHandler(e,i),n.propertyChanged&&n.propertyChanged(e,t,i))}_ariaPropertyChangedHandler(e,t){const i=this
"readonly"===e&&-1===["checkbox","combobox","grid","gridcell","listbox","radiogroup","slider","spinbutton","textbox"].indexOf(i.getAttribute("role"))||(t?i.setAttribute("aria-"+e,!0):i.removeAttribute("aria-"+e))}_handleListeners(e){const t=this,i=t.tagName.toLowerCase(),n=n=>{for(let r in n){const o=r.split(".")
let a=o[0],s=t.$
if(o[1])if(a=o[1],s=t["$"+o[0]],"document"===o[0]){let e=t.jqxId
""===e&&(e=g.Core.toCamelCase(i)),a=a+"."+e}else t.jqxId&&(a=a+"."+t.jqxId+"_"+t.parents.length)
else t.jqxId&&(a=a+"."+t.jqxId)
const l=n[r],d=function(e){const i=t.context
t.context=t,t[l]&&t[l].apply(t,[e]),t.context=i}
s&&s[e](a,d)}}
n(t.getStaticMember("listeners")),n(t.templateListeners),JQX(t._selector)&&JQX(t._selector).properties&&n(JQX(t._selector).listeners)}parseTemplate(){const t=this,n=t.template(),r=document.createDocumentFragment()
if(e[t.nodeName]&&!i)return e[t.nodeName].cloneNode(!0)
if(""===n)return null
let o=document.createElement("div")
r.appendChild(o),o.innerHTML=n
let a=o.childNodes
o.parentNode.removeChild(o)
for(let e=0;e<a.length;e++)r.appendChild(a[e])
return e[t.nodeName]=r,i?r:r.cloneNode(!0)}applyTemplate(){const e=this,t=e.parseTemplate()
if(!t)return
if(!t.hasChildNodes)return
const i=t.childNodes[0],n=(t,i)=>{e["$"+t]=i.$=g.Extend(i),e.$[t]=i,i.ownerElement=e}
let r=i
if(i.getElementsByTagName("content").length>0){let e=i.getElementsByTagName("content")[0];(r=e.parentNode).removeChild(e)}else{const e=t.querySelectorAll("[inner-h-t-m-l]")
e&&e.length>0&&(r=e[0])}e.$.template="template"===i.nodeName.toLowerCase()?i:i.querySelector("template")
let o=t.querySelectorAll("[id]")
0===o.length&&(o=t.querySelectorAll("*")),n("root",i),n("content",r),e.$.html=e.innerHTML.toString().trim()
for(let t=0;t<o.length;t+=1){let i=o[t]
""===i.id&&(i.id="child"+t),n(i.id,i),i.setAttribute("jqx-id",i.id),e.shadowRoot?i.shadowParent=e:i.removeAttribute("id")}for(!1!==e.hasTemplateBindings?e.bindings=e.getBindings(t):e.bindings=[],e.$root.addClass("jqx-container");e.childNodes.length;)r.appendChild(e.firstChild)
if(e.appendTemplate(t),e.$.template){const t=document.createElement("div")
t.classList.add("jqx-template-container"),e.$.templateContainer=t,e.$.template.parentNode.insertBefore(t,e.$.template),e.refreshTemplate()}}refreshTemplate(){const e=this
if(!e.$.templateContainer)return
e.templateDetached(e.$.templateContainer)
const t=e.$.template.content.cloneNode(!0)
e.templateBindings=e.getBindings(t),e.templateProperties=[]
let i=document.createDocumentFragment()
const n=function(t,i,r){for(let o in t){const a=t[o],s=a.node.cloneNode()
i.appendChild(s)
let l=[],d=!1
if(a.data)for(let t in a.data){const n=a.data[t],o=n.name
if(e.templateProperties[o]=!0,s.removeAttribute(g.Core.toDash(t)),"*items"===t)l=e[o],d=!0
else if(o.indexOf("item.")>=0&&void 0!==r)n.value=r[o.substring("item.".length)],s[t]=n.value
else if(o.indexOf("item")>=0&&void 0!==r)n.value=r,s[t]=n.value
else if("*if"===t)if(o.indexOf("(")>=0){let t,n=o.substring(o.indexOf("("))
const r=o.substring(0,o.indexOf("("))
if((n=(n=(n=n.substring(1,n.length-1)).replace(/ /gi,"")).split(",")).length>0&&""!==n[0]){let i=[]
for(let t=0;t<n.length;t++)i.push(e[n[t]])
t=e[r].apply(e,i)}else t=e[r]()
!1===t&&i.removeChild(s)}else e[o]||i.removeChild(s)
else e.updateBoundNode(s,a,e,o)}if(l.length>0||d){for(let e=0;e<l.length;e++)a.children&&n(a.children,s,l[e])
if("number"==typeof l)for(let e=0;e<l;e++)a.children&&n(a.children,s,e)}else a.children&&n(a.children,s,r)}}
n(e.templateBindings.children,i),e.$.templateContainer.innerHTML="",e.$.templateContainer.appendChild(i),e.templateAttached(e.$.templateContainer)}templateAttached(){}templateDetached(){}appendTemplate(e){this.appendChild(e)}defineElementModules(){const e=this,t=e.constructor.prototype
if("BaseElement"===t.elementName){t.modules=e.constructor.modules
const i=t.modules
for(let t=0;t<i.length;t+=1)e.addModule(i[t])}else{const i=t.modules
for(let t=0;t<i.length;t+=1){const n=i[t],r=n.prototype
e.defineElementMethods(r.methodNames,r),e.defineElementProperties(n.properties)}}}watch(e,t){const i=this
i._watch=null!==e&&null!==t?{properties:e,propertyChangedCallback:t}:null}unwatch(){this._watch=null}set(e,t,i){const n=this,r=n.context
n.context=!0===i?document:n,n[e]=t,n.context=r}get(e){return this[e]}_setModuleState(e,t){const i=this,n="is"+e.substring(0,1).toUpperCase()+e.substring(1),r="on"+e.substring(0,1).toUpperCase()+e.substring(1)
for(let o=0;o<i.modulesList.length;o++){const a=i.modulesList[o]
a[n]=!0,a[e]&&a[e](t),a[r]&&a[r](t)}}addModule(e,t){const i=this
if(!e)return
const n=i.modules.slice(0),r=e.prototype,o=Object.getPrototypeOf(e)
if(o.name&&o.name!==e.name&&i.addModule(o),!e.moduleName&&e.name&&(e.moduleName=e.name),-1===n.findIndex(t=>e.moduleName===t.moduleName)&&n.push(e),i.defineModule(e),i.defineElementMethods(r.methodNames,r),i.defineElementProperties(e.properties),i.constructor.prototype.modules=n,t)for(let t in JQX.Elements.tagNames){const n=JQX.Elements.tagNames[t]
let r=Object.getPrototypeOf(n),o=[]
for(;r!==HTMLElement;)o.push(r.prototype),r=Object.getPrototypeOf(r)
o.indexOf(i)>=0&&n!==i&&n.prototype.addModule(e)}}defineModule(e){if(e.isDefined)return
e.prototype._initModule=function(e){this.ownerElement=e}
const t=e.properties||{},i=Object.keys(t),n=Object.getOwnPropertyNames(e.prototype)
e.prototype.methodNames=n
for(let n=0;n<i.length;n+=1){const r=i[n],o=t[r]
Object.defineProperty(e.prototype,r,{configurable:!1,enumerable:!0,get(){return this.ownerElement?this.ownerElement[r]:o.value},set(e){this.ownerElement[r]=e}})}e.isDefined=!0}getStaticMember(e,i){const n=window[t][this.elementName],r=n[e]
i||(i="")
let o="array"===i?[]:"string"===i?"":{},a=Object.getPrototypeOf(n),s=[]
for(;a[e];)s.push(a[e]),a=Object.getPrototypeOf(a)
for(let e=s.length-1;e>=0;e--)if("array"===i)for(let t=0;t<s[e].length;t++)-1===o.indexOf(s[e][t])&&o.push(s[e][t])
else"string"===i?-1===o.indexOf(s[e])&&(o+=s[e]):o=g.Core.assign(o,s[e])
if("array"===i){for(let e=0;e<r.length;e++)-1===o.indexOf(r[e])&&o.push(r[e])
return o}return"string"===i?(-1===o.indexOf(r)&&(o+=r),o):g.Core.assign(o,r)}defineElementHierarchicalProperties(e,t){const i=this,n=[]
!function(e){const i=Object.keys(e)
for(let r=0;r<i.length;r++){const o=i[r]
if("messages"===o)continue
const a=e[o],s=Object.keys(a),l=s.indexOf("value")>=0&&s.indexOf("type")>=0&&"object"==typeof a.value
if("propertyObject"===a.type||l){const e=function(i,r){if(!i.value)return
const o=Object.keys(i.value)
for(let a=0;a<o.length;a++){const s=o[a],l=i.value[s],d=r+"_"+s
if("object"!=typeof l||null===l)break
const c=Object.keys(l)
if(!(c.indexOf("value")>=0&&c.indexOf("type")>=0))break
if("array"!==i.type&&(i.isHierarchicalProperty=!0),l.parentPropertyName=r,t){const e=t._properties[d]
if(i.value.hasOwnProperty(s)){if(e.isDefined)continue
delete i.value[s]}e.isDefined=!0,Object.defineProperty(i.value,s,{configurable:!1,enumerable:!0,get:()=>t._properties[d].value,set(e){t.updateProperty(t,t._properties[d],e)}})}n[d]||(n[d]=l,n.length++),("propertyObject"===l.type||"object"==typeof l.value&&"array"!==l.type)&&e(t?t._properties[d]:l,d)}}
e(a,o)}}}(e),n.length>0&&!t&&i.defineElementProperties(n)}defineElement(){const e=this.constructor.prototype,t=this.getStaticMember("properties"),i=Object.getOwnPropertyNames(e)
e.extendedProperties={},e.boundProperties={},e.templateListeners={},this.defineElementModules(),this.defineElementMethods(i,e),this.defineElementProperties(t),this.defineElementHierarchicalProperties(this.extendedProperties),e._initElement=function(){const t=this,i=e.extendedProperties,n=Object.keys(i),r=t.modules
t.$=g.Extend(t),t.$document=v,t.jqxId=(Date.now().toString(36)+Math.random().toString(36).substr(2,5)).toUpperCase(),t.isCreated||(t.modulesList=[],t._properties=[],t._beforeCreatedProperties&&(t._properties=t._beforeCreatedProperties,delete t._beforeCreatedProperties),t.detachedChildren=[],t.propertyByAttributeName=[])
for(let e=0;e<r.length;e+=1){let i=new(0,r[e])
i._initModule(t),t.modulesList.push(i)}for(let e=0;e<n.length;e+=1){const r=n[e],o=i[r]
let a=o.value
if(t._properties[r]){if(void 0!==t._properties[r].notify)continue
delete t._properties[r]}if(C&&"innerHTML"===r&&delete t[r],-1===window.navigator.userAgent.indexOf("PhantomJS")&&t.hasOwnProperty(r)&&(a=t[r],delete t[r]),"array"===o.type&&null!=a&&(a=a.slice(0)),"object"===o.type&&null!=a&&(a=Array.isArray(a)?a.slice(0):Object.assign({},a)),t._properties[r]={name:r,notify:o.notify,allowedValues:o.allowedValues,type:o.type,nullable:o.nullable,reflectToAttribute:o.reflectToAttribute,defaultReflectToAttribute:o.defaultReflectToAttribute,defaultReflectToAttributeConditions:o.defaultReflectToAttributeConditions,value:a,readOnly:o.readOnly,defaultValue:a,attributeName:o.attributeName,observer:o.observer,inherit:o.inherit,extend:o.extend,validator:o.validator},t.propertyByAttributeName[o.attributeName]=t._properties[r],!o.hasOwnProperty("type")){const e=t.localize("propertyUnknownType",{name:r})
t.log(e)}if("any"===o.type||"propertyObject"===o.type)continue
const s=g.Types.getType(a)
if(null!=a&&o.type!==s&&!o.validator){if("object"===o.type&&"array"===s)continue
if("number"===s){if(["integer","int","float"].findIndex(e=>e===o.type)>=0)continue}const e=t.localize("propertyInvalidValueType",{name:r,actualType:s,type:o.type})
t.log(e)}}t.defineElementHierarchicalProperties(t._properties,t),t.isCreated=!0},e.registered()}defineElementMethods(e,t){const i=this.constructor.prototype,n=function(e,t){const i=Array.prototype.slice.call(arguments,2)
return function(){if(!this.isReady&&"localize"!==t&&"localize"!==t&&"cloneNode"!==t&&"importStyle"!==t&&"log"!==t&&"parseAttributes"!==t){const e=this.localize("elementNotInDOM")
this.log(e)}let n=this
for(let e=0;e<this.modulesList.length;e++){let i=this.modulesList[e]
if(t in i){n=i
break}}const r=this.context,o=i.concat(Array.prototype.slice.call(arguments))
let a=null
const s=function(e,t){return e===t||"number"===e&&("int"===t||"integer"===t||"float"===t)||"bool"===e&&"boolean"===t||"boolean"===e&&"bool"===t||"object"===e&&"any"===t||void 0}
if(this.methods){const e=this.methods[t]
if(e){const i=e.split(":")
a=i[i.length-1].trim()
const n=[],r=e.substring(1+e.indexOf("("),e.lastIndexOf(")")).split(",")
let l=""
for(let e=0;e<r.length;e++){const t=r[e]
l+=t,t.indexOf(":")>=0?(n.push(l),l=""):l+=","}let d=n.length
for(let e=0;e<n.length;e++){const i=n[e].trim().split(":"),r=i[0].split("=")[0].trim().indexOf("?")>=0,a=i[1].indexOf("?")>=0,l=i[1].replace(/\?/gi,"").trim(),c=l.split("|")
let h=i[0].split("=")[1]
const u=g.Types.getType(o[e])
if(void 0===o[e]&&h){switch(h=h.trim(),l[0]){case"date":{let e=h.substring(h.indexOf("(")+1,h.lastIndexOf(")"))
h=0===(e=e.length>0?e.split(",").map(e=>parseInt(e)):[]).length?new Date:new Date(e[0],e[1],e[2])
break}case"bool":case"boolean":h="true"===h||"1"===h
break
case"int":case"integer":h=parseInt(h)
break
case"float":case"number":h=parseFloat(h)
break
case"any":case"object":h=h.indexOf("{")>=0?JSON.parse(h):h}o.push(h)}else r&&d--
if(l!==u&&u){let i=!0
for(let e=0;e<c.length;e++)if(s(u,c[e])){i=!1
break}if(i&&(null!==o[e]||!a)){const i=this.localize("methodInvalidValueType",{name:t,actualType:u,type:l,argumentIndex:e})
this.log(i)}}if(o.length<d){const e=this.localize("methodInvalidArgumentsCount",{name:t,actualArgumentsCount:o.length,argumentsCount:d})
this.log(e)}}}}this.context=this
const l=e.apply(n,o)
if(a){const e=void 0===g.Types.getType(l)?"void":g.Types.getType(l)
if(!s(e,a)){const i=this.localize("methodInvalidReturnType",{name:t,actualType:e,type:a})
this.log(i)}}return this.context=r,l}},r=["constructor","ready","created","render","attached","detached","appendChild","insertBefore","removeChild","connect","disconnectedCallback","connectedCallback","attributeChangedCallback","propertyChangedHandler","enableShadowDOM","isInShadowDOM","addPropertyBindings"]
for(let o in e){let a=e[o]
a.startsWith("_")||void 0!==r.find(e=>e===a)||(i.extendedProperties[a]||g.Types.isFunction(t[a])&&(i[a]=n(t[a],a)))}}defineElementProperties(e){if(!e)return
const t=this.constructor.prototype,i=Object.keys(e),n=this.getStaticMember("properties")
Object.assign(t.extendedProperties,e),this.updateProperty=function(e,t,i){const n=e
if(!t||t.readOnly)return
if(t.allowedValues){let e=!1
for(let n=0;n<t.allowedValues.length;n++)if(t.allowedValues[n]===i){e=!0
break}if(!e){const e=JSON.stringify(t.allowedValues).replace(/\[|\]/gi,"").replace(",",", ").replace(/"/gi,"'"),r="'"+i+"'",o=n.localize("propertyInvalidValue",{name:t.name,actualValue:r,value:e})
return void n.log(o)}}const r=t.name,o=n._properties[r].value
if(t.validator&&n[t.validator]){const e=n.context
n.context=n
const r=n[t.validator](o,i)
void 0!==r&&(i=r),n.context=e}if(o!==i){if(n.propertyChanging){const e=n.propertyChanging(r,o,i)
if(!1===e||null===e)return}if(!t.hasOwnProperty("type")){const e=n.localize("propertyUnknownType",{name:r})
n.log(e)}if("array"!==t.type||JSON.stringify(o)!==JSON.stringify(i)){if(null!=i&&"any"!==t.type&&"propertyObject"!==t.type&&t.type!==g.Types.getType(i)&&!t.validator||null===i&&!t.nullable){let e=!0
if("object"===t.type&&"array"===g.Types.getType(i)&&(e=!1),"number"===g.Types.getType(i)){["integer","int","float"].findIndex(e=>e===t.type)>=0&&(e=!1)}if(e){const e=n.localize("propertyInvalidValueType",{name:r,actualType:g.Types.getType(i),type:t.type})
return void n.error(e)}}if(t.isUpdating=!0,t.isHierarchicalProperty){const e=function(t,i){const r=Object.keys(t)
for(let o=0;o<r.length;o++){const a=r[o],s=t[a]
"object"==typeof s&&!g.Types.isArray(s)&&s&&s.constructor!==Date?e(s,i+"_"+a):n[i+"_"+a]=s}}
e(i,r)}else n._properties[r].value=i
if(!t.isUpdatingFromAttribute&&t.reflectToAttribute&&n.$.setAttributeValue(t.attributeName,i,t.type),n.isReady&&(!n.ownerElement||n.ownerElement&&n.ownerElement.isReady)){if("wait"===r&&(i||!o||n.isCompleted||(n.classList.remove("jqx-visibility-hidden"),n.ownerElement&&n.ownerElement.updateBoundMappedNodes(),n.updateBoundMappedNodes(),n.complete())),"renderMode"===r)return
if(n.context!==n&&!n.wait){const e=n.context
n.context=n,n.propertyChangedHandler(r,o,i),n.context=e,t.observer&&n[t.observer]&&(n.context=n,n[t.observer](o,i),n.context=document),n._watch&&n._watch.properties.indexOf(r)>=0&&n._watch.propertyChangedCallback(r,o,i)}const e=t.notify||n.boundProperties[r]
e&&(n.$.fireEvent(t.attributeName+"-changed",{context:n.context,oldValue:o,value:n[r]}),n.boundProperties[r]&&n.updateBoundNodes(r)),e&&n.templateProperties&&n.templateProperties[r]&&n.refreshTemplate(),n.dataContextProperties&&("dataContext"===r?n.applyDataContext():n.dataContextProperties[r]&&n.updateDataContextProperty(r))}t.isUpdating=!1}}}
for(let r=0;r<i.length;r+=1){const o=i[r],a=e[o],s=g.Core.toDash(o),l=a.type||"any",d=l.indexOf("?")>=0||"any"===l
d&&"any"!==l&&(a.type=l.substring(0,l.length-1)),a.nullable=d,a.attributeName=s.toLowerCase(),a.name=o,a.reflectToAttribute=void 0===a.reflectToAttribute||a.reflectToAttribute,a.inherit&&n[o]&&(a.value=n[o].value),a.extend&&n[o]&&g.Core.assign(a.value,n[o].value),t.hasOwnProperty(o)||Object.defineProperty(t,o,{configurable:!1,enumerable:!0,get(){if(this._properties[o])return this._properties[o].value},set(e){this.updateProperty(this,this._properties[o],e)}})}}}let _=[],w=[],x=[],C=!1
const S=navigator.userAgent.match(/Chrom(e|ium)\/([0-9]+)\./)
if(S){parseInt(S[2],10)<=50&&(C=!0)}class T{static register(e,i){const n=i.prototype
let r=a.toCamelCase(e).replace(/[a-z]+/,""),o=i.version||window[t].Version
if(window.customElements.get(e)&&window.customElements.get(e).version===o)return
let s=e
for(o=o.split(".");window.customElements.get(e);)e=s+"-"+o.join("."),o[2]=parseInt(o[2])+1
if(!_[e]){if(e.startsWith(t.toLowerCase()))_[e]=window[t][r]=window[t.toLowerCase()+r]=i
else{let n=e.split("-")[0]
n=n.substring(0,1).toUpperCase()+n.substring(1),window[t][n]||(window[t][n]={}),_[e]=window[t][n][r]=window[n.toLowerCase()+r]=i,window[t][r]&&(r=a.toCamelCase(e)),window[t][r]=i}n.elementName=r,n.defineElement(),w[e]&&w[e](n),window.customElements.define(e,i)}}static registerElements(){const e=this
if(e.toRegister){e.isRegistering=!0
for(let t=0;t<e.toRegister.length;t++){const i=e.toRegister[t]
e.register(i.tagName,i.element)}e.isRegistering=!1}}static get(e){if(_[e])return _[e]}static whenRegistered(e,t){if(!e)throw new Error("Syntax Error: Invalid tag name")
const i=w[e],n=this.get(e),r=n?n.modules.length:3
try{i||n?!i&&n?(t(n.prototype),w[e]=void 0):i&&!n?w[e]=function(e){i(e),t(e)}:i&&n&&(n.proto&&(i(n.proto),t(n.proto)),w[e]=void 0):w[e]=function(e){try{t(e)}catch(e){const t=e instanceof Error?e.message:e.toString()
console.log(t)}}}catch(e){const t=e instanceof Error?e.message:e.toString()
console.log(t)}if(n&&r!==n.prototype.modules.length){const t=document.querySelectorAll(e)
for(let e=0;e<t.length;e++){const i=t[e]
i.isCreated&&i._initElement()}}}}T.lazyRegister=!1,T.tagNames=[]
class I{constructor(){const e=this
e.name="observableArray",e.observables=arguments.length<3?null:arguments[2]
const t=new Proxy(e,{deleteProperty:function(e,t){return delete e[t],!0},apply:function(e,t,i){return e.apply(t,i)},get:function(t,i){return t[i]||isNaN(parseInt(i))?t[i]:e.getItem(parseInt(i))},set:function(t,i,n){return t[i]||isNaN(parseInt(i))?(t[i]=n,!0):(e.setItem(parseInt(i),n),!0)}})
if(e._addArgs={eventName:"change",object:t,action:"add",index:null,removed:new Array,addedCount:1},e._removeArgs={eventName:"change",object:t,action:"remove",index:null,removed:null,addedCount:0},arguments.length>=1&&Array.isArray(arguments[0])){e._array=[]
const t=arguments[0]
for(let i=0,n=t.length;i<n;i++){const n=e._getItem(e._array.length,t[i])
e._array.push(n)}}else e._array=Array.apply(null,arguments)
return 2===arguments.length&&(e.notifyFn=arguments[1]),t}get canNotify(){const e=this
return void 0===e._canNotify&&(e._canNotify=!0),e._canNotify}set canNotify(e){this._canNotify=e}_notify(e){const t=this
t.canNotify&&t.notifyFn&&t.notifyFn(e)}notify(e){e&&(this.notifyFn=e)}toArray(){return this._array}_getItem(e,t){const i=this
return"string"==typeof t?t:"number"==typeof t?t:void 0===t?t:new Proxy(t,{deleteProperty:function(e,t){delete e[t]},set:function(t,n,r){const o=t[n]
return t[n]=r,!i._canNotify||!1===t.canNotify||(!(!i.observables||i.observables[n])||(i._notify({eventName:"change",object:i,target:t,action:"update",index:e,path:e+"."+n,oldValue:o,newValue:r,propertyName:n}),!0))}})}getItem(e){return this._array[e]}setItem(e,t){const i=this._array[e]
this._array[e]=this._getItem(e,t),this._notify({eventName:"change",object:this._array,action:"update",index:e,removed:[i],addedCount:1})}get length(){return this._array.length}set length(e){const t=this
n.isNumber(e)&&t._array&&t._array.length!==e&&t.splice(e,t._array.length-e)}toString(){return this._array.toString()}toLocaleString(){return this._array.toLocaleString()}concat(){this._addArgs.index=this._array.length
const e=this._array.concat.apply(this._array,arguments)
return new JQX.ObservableArray(e)}join(e){return this._array.join(e)}pop(){this._removeArgs.index=this._array.length-1,delete this[this._array.length-1]
const e=this._array.pop()
return this._removeArgs.removed=[e],this._notify(this._removeArgs),this._notifyLengthChange(),e}push(){const e=this
if(e._addArgs.index=e._array.length,1===arguments.length&&Array.isArray(arguments[0])){const t=arguments[0]
for(let i=0,n=t.length;i<n;i++){const n=e._getItem(e._array.length,t[i])
e._array.push(n)}}else{const t=e._getItem(e._addArgs.index,arguments[0])
e._array.push.apply(e._array,[t])}return e._addArgs.addedCount=e._array.length-e._addArgs.index,e._notify(e._addArgs),e._notifyLengthChange(),e._array.length}_notifyLengthChange(){if(!this.canNotify)return
const e=this._createPropertyChangeData("length",this._array.length)
this._notify(e)}_createPropertyChangeData(e,t,i){return{eventName:"change",object:this,action:e,value:t,oldValue:i}}reverse(){return this._array.reverse()}shift(){const e=this._array.shift()
return this._removeArgs.index=0,this._removeArgs.removed=[e],this._notify(this._removeArgs),this._notifyLengthChange(),e}slice(e,t){return this._array.slice(e,t)}sort(e){return this._array.sort(e)}splice(e,t,i){const n=this,r=n._array.length
let o
if(i&&i.length)for(let r=0;r<i.length;r++)o=n._array.splice(e+r,t,i[r])
else o=n._array.splice.apply(n._array,arguments)
if(i){let t=n.canNotify
if(n.canNotify=!1,i.length)for(let t=0;t<i.length;t++)n.setItem(e+t,i[t])
else n.setItem(e,i)
n.canNotify=t,n._notify({eventName:"change",object:this,action:"add",index:e,added:o,addedCount:n._array.length>r?n._array.length-r:0})}else n._notify({eventName:"change",object:this,action:"remove",index:e,removed:o,addedCount:n._array.length>r?n._array.length-r:0})
return n._array.length!==r&&n._notifyLengthChange(),o}unshift(){const e=this._array.length,t=this._array.unshift.apply(this._array,arguments)
return this._addArgs.index=0,this._addArgs.addedCount=t-e,this._notify(this._addArgs),this._notifyLengthChange(),t}indexOf(e,t){const i=this
for(let n=t||0,r=i._array.length;n<r;n++)if(i._array[n]===e)return n
return-1}lastIndexOf(e,t){const i=this
for(let n=t||i._array.length-1;n>=0;n--)if(i._array[n]===e)return n
return-1}find(e,t){return this._array.find(e,t)}findIndex(e,t){return this._array.findIndex(e,t)}every(e,t){return this._array.every(e,t)}some(e,t){return this._array.some(e,t)}forEach(e,t){this._array.forEach(e,t)}map(e,t){return this._array.map(e,t)}filter(e,t){return this._array.filter(e,t)}reduce(e,t){return void 0!==t?this._array.reduce(e,t):this._array.reduce(e)}reduceRight(e,t){return void 0!==t?this._array.reduceRight(e,t):this._array.reduceRight(e)}move(e,t){this.splice(t,0,this.splice(e,1)[0])}}let E={}
window[t]&&(E=window[t]),window[t]=function(e,i){let n=e
if(e){if(e.indexOf("#")>=0||e.indexOf(".")>=0)return c[e]?c[e]:i?(c[e]=new i,function(e,t){const i=t.properties
t._properties=[]
const n=function(i,r){const o=Object.keys(i)
for(let a=0;a<o.length;a++){const s=o[a],l=i[s]
t._properties[r+s]=l,Array.isArray(l)?t._properties[r+s]=new I(l,function(t){const i=s+"."+t.path,n=t.newValue,r=document.querySelector(e)
if(r){const e=i.split(".")
let t=r
for(let i=0;i<e.length;i++)t=t[e[i]]
t=n}}):(Object.defineProperty(i,s,{configurable:!1,enumerable:!0,get:()=>t._properties[r+s],set(e){t._properties[r+s]=e}}),l&&"DataAdapter"===l.constructor.name||l&&"object"==typeof l&&JQX.DataAdapter&&l instanceof JQX.DataAdapter||"object"==typeof l&&l&&Object.keys(l).length>0&&n(l,r+s+"."))}}
n(i,""),Object.defineProperty(t,"properties",{configurable:!1,enumerable:!0,get:()=>i})
const r=document.querySelector(e)
if(r&&r.isReady)for(let e in i)r[e]=i[e]}(e,c[e]),c[e]):void 0
if(i){if(T.tagNames[e]=i,T.lazyRegister){T.toRegister||(T.toRegister=[])
const e=a.toCamelCase(n).replace(/[a-z]+/,"")
return window[t][e]=i,void T.toRegister.push({tagName:n,element:i})}T.register(n,i)}}},window.addEventListener("load",function(){const e=window[t].Elements.tagNames
let i=[]
for(let n in e){const r=e[n]
let o=document.querySelectorAll("["+n+"]")
for(let e=0;e<o.length;e++){const t=o[e]
t instanceof HTMLDivElement&&(t.__proto__=r.prototype,t.created(),t.connectedCallback()),t.classList.add("jqx-element-ready")}let a=r.name
"Item"===a&&(a="ListItem"),o=document.querySelectorAll('[is="'+t.toLocaleLowerCase()+a+'"]')
for(let e=0;e<o.length;e++)i.push(o[e])}if(i.length>0){const e=e=>{let t=[],i=e.parentNode
for(;i&&9!==i.nodeType;)i instanceof HTMLElement==!0&&t.push(i),i=i.parentNode
return t}
i.sort(function(t,i){let n=e(t).length,r=e(i).length
return n<r?1:n>r?-1:0})
for(let e=0;e<i.length;e++){const t=i[e],n=t.getAttribute("is")
let r;(r="jqxItem"===n?new window.jqxListItem(t):new window[n](t)).removeAttribute("is")}}})
const P=function(){if("complete"===document.readyState&&"manual"!==window[t].RenderMode){x.sort(function(e,t){let i=e.element.parents.length,n=t.element.parents.length
return i<n?-1:i>n?1:0})
for(let e=0;e<x.length;e++)x[e].element.isLoading=!1,x[e].callback()
x=[],document.removeEventListener("readystatechange",P)}}
Object.assign(window[t],{Elements:T,Modules:[],BaseElement:class extends y{static get observedAttributes(){let e=this,t=["external-style"]
for(let i in e.prototype.extendedProperties){const n=e.prototype.extendedProperties[i]
t.push(n.attributeName)}return t}static get styleUrls(){return[]}static get styles(){return""}get styleUrl(){return this._styleUrl}set styleUrl(e){this._styleUrl=e}get isInShadowDOM(){const e=this
if(e.shadowParent)return!0
let t=!1
return void 0!==e.enableShadowDOM&&(t=(t=>{for(;t;t=t.parentNode)if(t.host||t.enableShadowDOM||t.shadowRoot)return e.shadowParent=t.host?t.host:t,!0
return!1})(e.parentNode)),t}get enableShadowDOM(){return window[t].EnableShadowDOM}importStyle(e,t){this._importStyle(e,t)}_importStyle(e,t){const i=this
if(!i.shadowRoot||!e)return
const n=e=>{const n=i.shadowRoot.children
for(let i=0;i<n.length;i++){const r=n[i]
if(r instanceof HTMLLinkElement&&r.href===e)return t&&t(),null}const r=document.createElement("link")
return r.rel="stylesheet",r.type="text/css",r.href=e,r.onload=t,r},r=(()=>{const e=i.shadowRoot.children
let t=null
for(let i=0;i<e.length;i++){const n=e[i]
n instanceof HTMLLinkElement&&(t=n)}return t})(),o=(e,t)=>{t.parentNode.insertBefore(e,t.nextSibling)}
if(Array.isArray(e)){const t=document.createDocumentFragment()
for(let i=0;i<e.length;i++){const r=n(e[i])
r&&t.appendChild(r)}r?o(t,r):i.shadowRoot.insertBefore(t,i.shadowRoot.firstChild)}else{const t=n(e)
if(!t)return
r?o(t,r):i.shadowRoot.insertBefore(t,i.shadowRoot.firstChild)}}attributeChanged(e,t,i){"style-url"===e&&(this.styleUrl=i)}attributeChangedCallback(e,t,i){this.isReady&&super.attributeChangedCallback(e,t,i)}constructor(e,t){super()
const i=this
if(e){t&&(i._initProperties=t)
const n=e=>{if("string"==typeof e?document.querySelector(e):e){const n="string"==typeof e?document.querySelector(e):e
if(n instanceof HTMLDivElement){const r=document.createElement(i.tagName)
for(let e of n.attributes)r.setAttribute(e.name,n.getAttribute(e.name))
for(;n.childNodes.length;)r.appendChild(n.firstChild)
return"string"==typeof e&&(r.id=e.substring(1)),r._initProperties=t,n.parentNode&&n.parentNode.replaceChild(r,n),r}if(t){const e=n.context
if(n._initProperties=t,n.isReady){n.context=n
const i={},r={}
for(let e in t)i[e]=n[e],r[e]=t[e]
Object.getOwnPropertyNames(t).length>0&&(n.initProperties(),n.propertyChangedHandler(t,i,r)),n.context=e}}return n}}
if("string"==typeof e){const t=document.querySelectorAll(e),i=[]
if(t.length>1){for(let e=0;e<t.length;e++){const r=n(t[e])
i.push(r)}return i}}else if(e&&e.length>0){const t=e
if(t.length>1){for(let e=0;e<t.length;e++){const i=n(t[e])
_.push(i)}return _}}return n(e)}i._styleUrl="",i.isUtilityElement||i.created()}_getRootShadowParent(){let e=this.shadowParent
for(;e;){if(!e.shadowParent)return e
e=e.shadowParent}return e||this.shadowParent}_getStyleUrl(e){let i=g.Core.getScriptLocation()+window[t].StyleBaseUrl+e
return this.shadowParent&&(i=i.replace("scoped/","")),i}_getStyleUrls(){const e=this
e.nodeName.startsWith(t)
const i=e.getStaticMember("styleUrls","array"),n=[]
for(let t=0;t<i.length;t++){const r=i[t],o=e._getStyleUrl(r)
n.push(o)}return n}_setupShadowRoot(){const e=this
e.classList.add("jqx-element-init")
const i=i=>{i.$.root&&(i.$.root.classList.add(t.toLowerCase()+"-element"),i.$.root.classList.add(e.nodeName.toLowerCase())),i.setup(),i.classList.remove("jqx-element-init")}
if(document.adoptedStyleSheets)if(window[t].AdoptedStyleSheets)window[t].AdoptedStyleSheetsLoaded?(e.shadowRoot.adoptedStyleSheets=window[t].AdoptedStyleSheets,i(e)):(e.shadowRoot.adoptedStyleSheets=window[t].AdoptedStyleSheets,window[t].AdoptedStyleSheetsLoadedQueue||(window[t].AdoptedStyleSheetsLoadedQueue=[]),window[t].AdoptedStyleSheetsLoadedQueue.push(e))
else{const n=new CSSStyleSheet
let r=g.Core.getScriptLocation()+"/styles/jqx.default.css"
n.replace('@import url("'+r+'")').then(()=>{if(i(e),window[t].AdoptedStyleSheetsLoaded=!0,window[t].AdoptedStyleSheetsLoadedQueue){const e=window[t].AdoptedStyleSheetsLoadedQueue
for(let t=0;t<e.length;t++){const n=e[t]
i(n)}delete window[t].AdoptedStyleSheetsLoadedQueue}}).catch(e=>{console.error("Failed to load:",e)}),window[t].AdoptedStyleSheets=[n],document.adoptedStyleSheets=[n],e.shadowRoot.adoptedStyleSheets=window[t].AdoptedStyleSheets}}connect(){const e=this
e.enableShadowDOM&&!e.shadowRoot&&!0!==e.isInShadowDOM&&(e.attachShadow({mode:"open"}),e.shadowRoot&&e.$.root&&(e.shadowRoot.appendChild(e.$.root),e.$.root.classList.add(e.nodeName.toLowerCase()))),e.shadowRoot||e.shadowParent?e.shadowRoot?e._setupShadowRoot():(e.shadowParent&&e.enableShadowDOM,e.setup()):e.setup()}connectedCallback(){const e=this
if(e.isLoading||e.isUtilityElement)return
e.classList.add("jqx-element-init")
const i=function(){e.classList.remove("jqx-element-init")}
if("complete"===document.readyState&&"manual"!==window[t].RenderMode){const t=e.parents
t.length&&"HTML"===t[t.length-1].nodeName?(e.checkIsInDomTimer&&clearInterval(e.checkIsInDomTimer),i(),e.connect()):(e.checkIsInDomTimer&&clearInterval(e.checkIsInDomTimer),t.length>0&&(e.checkIsInDomTimer=setInterval(()=>{const t=e.parents
0===t.length&&clearInterval(e.checkIsInDomTimer),t.length>0&&"HTML"===t[t.length-1].nodeName&&(clearInterval(e.checkIsInDomTimer),i(),e.connect())},100)))}else e.isLoading=!0,x.push({element:this,callback:function(){this.isReady||(i(),this.connect())}.bind(e)})}disconnectedCallback(){const e=this
e.isAttached?(e.shadowParent=null,e.detached()):e._resetShadowParent()}adoptedCallback(){this.setup()}appendTemplate(e){const t=this
t.shadowRoot?t.shadowRoot.appendChild(e):t.appendChild(e)}_resetShadowParent(){const e=this
if(!e.enableShadowDOM||null===e.shadowParent)return
const t=[]
let i=e.parentNode
for(;i&&9!==i.nodeType;){if(i instanceof HTMLElement==1)t.push(i)
else if(11===i.nodeType&&i.host){i=i.host
continue}i=i.parentNode}for(let i=0;i<t.length;i++)if(t[i]===e.shadowParent)return
t.length>0&&"HTML"===t[t.length-1].nodeName&&(e.shadowParent=null)}},Utilities:g,Import:function(e,t){let i=0
const n=function(e,t){return new Promise(i=>{const n=document.createElement("script")
n.src=e,n.onload=i
for(let e=0;e<document.head.children.length;e++){const n=document.head.children[e]
if(n.src&&n.src.toString().indexOf(t)>=0)return void i()}document.head.appendChild(n)})}
return new Promise(r=>{const o=g.Core.getScriptLocation(),a=function(t){if(!e[t])return
const s=o+"/"+e[t]
n(s,e[t]).then(function(){++i===e.length&&r(),a(t+1)})}
if(t)for(let t=0;t<e.length;t++){const a=o+"/"+e[t]
n(a,e[t]).then(function(){++i===e.length&&r()})}else a(0)})},ObservableArray:I,Observable:class{constructor(e,t){const i=this
var n
return this.name="observable",e&&Object.assign(i,e),n=e,Object.getOwnPropertyNames(Object.getPrototypeOf(n)).forEach(e=>"constructor"===e||!!e.startsWith("_")||void(i[e]=n[e])),new Proxy(i,{deleteProperty:function(e,t){return delete e[t],!0},get:function(e,t){return e[t]},set:function(e,n,r){const o=e[n]
return o===r||(e[n]=r,!("notifyFn"!==n&&!n.startsWith("_")&&"canNotify"!==n&&(!t||-1!==t.indexOf(n))&&i.canNotify&&(i._notify({target:e,propertyName:n,oldValue:o,newValue:r}),0)))}})}get canNotify(){const e=this
return void 0===e._canNotify&&(e._canNotify=!0),e._canNotify}set canNotify(e){this._canNotify=e}_notify(e){const t=this
if(t.canNotify&&t.notifyFn)for(let i=0;i<t.notifyFn.length;i++)t.notifyFn[i](e)}notify(e){const t=this
e&&(t.notifyFn||(t.notifyFn=[]),t.notifyFn.push(e))}},Component:class{constructor(e,t){const i=this.name
let n=null
return e?n=new window[i](e,t):(n=new window[i])._initProperties=t,this._element=n,n}get name(){return"Component"}get element(){return this._element}},Theme:E.Theme||"",EnableShadowDOM:!1,BaseUrl:"./",StyleBaseUrl:"/styles/default/",Version:"7.2.0",RenderMode:E.RenderMode||"auto",Render:function(){const e=()=>{window[t].RenderMode="",P()}
"complete"===document.readyState?e():(window.removeEventListener("load",e),window.addEventListener("load",e))},License:"Evaluation"})
let D=window[t].Theme
"manual"!==window[t].RenderMode&&document.addEventListener("readystatechange",P),Object.defineProperty(window[t],"Theme",{configurable:!1,enumerable:!0,get:()=>D,set(e){const t=D
D=e,v.fireEvent("theme-changed",{oldValue:t,newValue:e},{bubbles:!0,cancelable:!0})}}),window[t]("jqx-base-element",window[t].BaseElement),window[t]("jqx-content-element",class extends window[t].BaseElement{static get properties(){return{content:{type:"any",reflectToAttribute:!1},innerHTML:{type:"string",reflectToAttribute:!1}}}template(){return"<div inner-h-t-m-l='[[innerHTML]]'></div>"}ready(){super.ready()
this.applyContent()}clearContent(){const e=this
for(;e.$.content.firstChild;)e.$.content.removeChild(e.$.content.firstChild)}applyContent(){const e=this
if(void 0===e.content)return void(e.content=e.$.content)
if(""===e.content||null===e.content)return void e.clearContent()
if(e.content instanceof HTMLElement)return e.clearContent(),void e.$.content.appendChild(e.content)
const t=document.createDocumentFragment()
let i=document.createElement("div")
t.appendChild(i),e.content instanceof HTMLElement?i.appendChild(e.content):i.innerHTML=e.content
let n=Array.from(i.childNodes)
i.parentNode.removeChild(i)
for(let e=0;e<n.length;e++)t.appendChild(n[e])
e.clearContent(),e.$.content.appendChild(t)}propertyChangedHandler(e,t,i){super.propertyChangedHandler(e,t,i)
const n=this
t!==i&&("innerHTML"===e&&(n.content=i,n.applyContent(),n.innerHTML=n.content=g.Core.html(n.$.content)),"content"===e&&n.applyContent())}}),window[t]("jqx-scroll-viewer",class extends window[t].ContentElement{static get properties(){return{horizontalScrollBarVisibility:{type:"string",value:"auto",allowedValues:["auto","disabled","hidden","visible"]},touchScrollRatio:{type:"any",value:null},touchVelocityCoefficient:{type:"number",value:50},verticalScrollBarVisibility:{type:"string",value:"auto",allowedValues:["auto","disabled","hidden","visible"]}}}static get listeners(){return{"horizontalScrollBar.change":"_horizontalScrollbarHandler","verticalScrollBar.change":"_verticalScrollbarHandler",touchmove:"_touchmoveHandler",touchstart:"_touchstartHandler",wheel:"_mouseWheelHandler","document.up":"_upHandler"}}static get styleUrls(){return["jqx.scrollviewer.css"]}template(){return'<div id="container" class="jqx-container" role="presentation">\n                        <div id="scrollViewerContainer" class="jqx-scroll-viewer-container" role="presentation">\n                            <div id="scrollViewerContentContainer" inner-h-t-m-l=\'[[innerHTML]]\' class="jqx-scroll-viewer-content-container" role="presentation">\n                                <content></content>\n                            </div>\n                        </div>\n                        <jqx-scroll-bar id="verticalScrollBar" animation="[[animation]]" disabled="[[disabled]]" right-to-left="[[rightToLeft]]" orientation="vertical"></jqx-scroll-bar>\n                        <jqx-scroll-bar id="horizontalScrollBar" animation="[[animation]]" disabled="[[disabled]]" right-to-left="[[rightToLeft]]"></jqx-scroll-bar>\n                    </div>'}appendChild(e){const t=this
if(e){if(!t.isCompleted||e.classList&&e.classList.contains("jqx-resize-trigger-container")){const e=Array.prototype.slice.call(arguments,2)
return HTMLElement.prototype.appendChild.apply(t,e.concat(Array.prototype.slice.call(arguments)))}t.$.scrollViewerContentContainer.appendChild(e)}}removeChild(e){const t=this
if(e){if(!t.isCompleted||e.classList&&e.classList.contains("jqx-resize-trigger-container")){const e=Array.prototype.slice.call(arguments,2)
return HTMLElement.prototype.removeChild.apply(t,e.concat(Array.prototype.slice.call(arguments)))}t.$.scrollViewerContentContainer.removeChild(e)}}removeAll(){const e=this
e.isCompleted&&(e.$.scrollViewerContentContainer.innerHTML="")}_horizontalScrollbarHandler(e){const t=this
t.$.scrollViewerContentContainer.style.left=(t.rightToLeft?1:-1)*t.scrollLeft+"px",e.stopPropagation(),t.onHorizontalChange&&t.onHorizontalChange(e)}_verticalScrollbarHandler(e){const t=this
t.$.scrollViewerContentContainer.style.top=-t.scrollTop+"px",e.stopPropagation(),t.onVerticalChange&&t.onVerticalChange(e)}_touchmoveHandler(e){const t=this
if(t._touchmoveInside&&e.cancelable)return e.preventDefault(),void e.stopPropagation()
const i=t.computedVerticalScrollBarVisibility,n=t._touchCoords
if(!t.computedHorizontalScrollBarVisibility&&!i||!n)return
const r=e.touches[0]
let o,a,s,l
t._touchCoords=[r.pageX,r.pageY],i?(o=t.scrollTop,a=t.scrollHeight,s=r.pageY,l=n[1]):(o=t.scrollLeft,a=t.scrollWidth,s=r.pageX,l=n[0])
const d=parseFloat(s.toFixed(5)),c=parseFloat(l.toFixed(5))
0===o&&d>=c||o===a&&d<=c||(s!==l&&(t._touchmoveInside=!0),e.cancelable&&(e.preventDefault(),e.stopPropagation()))}_touchstartHandler(e){const t=e.touches[0]
this._touchCoords=[t.pageX,t.pageY]}_mouseWheelHandler(e){const t=this
if(!t.disabled&&(t.computedHorizontalScrollBarVisibility||t.computedVerticalScrollBarVisibility))if(t.computedVerticalScrollBarVisibility){const i=t.scrollTop
if(0===i&&e.deltaY<0||i===t.scrollHeight&&e.deltaY>0)return
e.stopPropagation(),e.preventDefault(),t.scrollHeight>0&&t.scrollTo(t.scrollTop+t._getScrollCoefficient(e,t.offsetHeight))}else if(t.computedHorizontalScrollBarVisibility){const i=t.scrollLeft
if(0===i&&e.deltaX<0||i===t.scrollHeight&&e.deltaX>0)return
e.stopPropagation(),e.preventDefault(),t.scrollWidth>0&&t.scrollTo(void 0,t.scrollLeft+t._getScrollCoefficient(e,t.offsetWidth))}}_overriddenHandler(){}_upHandler(){delete this._touchCoords,delete this._touchmoveInside}_getScrollCoefficient(e,t){const i=e.deltaMode,n=Math.abs(e.deltaY)
let r
return 0===i?r=n<100/3?n:t:1===i?r=n<1?n*(100/3):t:2===i&&(r=t),e.deltaY<0?-r:r}applyContent(){super.applyContent(),this.refresh()}get computedHorizontalScrollBarVisibility(){const e=this
return e._scrollView&&e._scrollView.hScrollBar?!e._scrollView.hScrollBar.$.hasClass("jqx-hidden"):null}get computedVerticalScrollBarVisibility(){const e=this
return e._scrollView&&e._scrollView.vScrollBar?!e._scrollView.vScrollBar.$.hasClass("jqx-hidden"):null}scrollTo(e,t){const i=this
i._scrollView&&(void 0!==e&&i._scrollView.scrollTo(e),void 0!==t&&i._scrollView.scrollTo(t,!1))}refreshScrollBarsVisibility(){const e=this
e._scrollView&&(e._scrollView.hScrollBar.disabled=e.disabled,e._scrollView.vScrollBar.disabled=e.disabled,"disabled"===e.horizontalScrollBarVisibility&&(e._scrollView.hScrollBar.disabled=!0),"disabled"===e.verticalScrollBarVisibility&&(e._scrollView.vScrollBar.disabled=!0),e.scrollWidth>0?e._scrollView.hScrollBar.$.removeClass("jqx-hidden"):"visible"!==e.horizontalScrollBarVisibility&&e._scrollView.hScrollBar.$.addClass("jqx-hidden"),e.scrollHeight>0?e._scrollView.vScrollBar.$.removeClass("jqx-hidden"):"visible"!==e.verticalScrollBarVisibility&&e._scrollView.vScrollBar.$.addClass("jqx-hidden"),"hidden"===e.horizontalScrollBarVisibility&&e._scrollView.hScrollBar.$.addClass("jqx-hidden"),"hidden"===e.verticalScrollBarVisibility&&e._scrollView.vScrollBar.$.addClass("jqx-hidden"),"visible"===e.horizontalScrollBarVisibility&&e._scrollView.hScrollBar.$.removeClass("jqx-hidden"),"visible"===e.verticalScrollBarVisibility&&(e._scrollView.vScrollBar.$.removeClass("jqx-hidden"),e.disabled||(e._scrollView.vScrollBar.disabled=e.scrollHeight<=0)),e.computedHorizontalScrollBarVisibility&&e.computedVerticalScrollBarVisibility?(e._scrollView.hScrollBar.$.addClass("bottom-corner"),e._scrollView.vScrollBar.$.addClass("bottom-corner")):(e._scrollView.hScrollBar.$.removeClass("bottom-corner"),e._scrollView.vScrollBar.$.removeClass("bottom-corner")))}ready(){super.ready()
const e=this
e.$.verticalScrollBar.setAttribute("aria-controls",e.id),e.$.horizontalScrollBar.setAttribute("aria-controls",e.id),e._customScrollView||(e._scrollView=new JQX.Utilities.Scroll(e,e.$.horizontalScrollBar,e.$.verticalScrollBar)),e.refresh()}refresh(){const e=this
function t(){const t=e.$.scrollViewerContentContainer.offsetWidth-e.$.scrollViewerContainer.offsetWidth
return t>0&&"hidden"!==e.horizontalScrollBarVisibility||"visible"===e.horizontalScrollBarVisibility?e.$.scrollViewerContainer.classList.add("hscroll"):e.$.scrollViewerContainer.classList.remove("hscroll"),t}function i(){let t
if(JQX.Utilities.Core.Browser.Safari){const i=e.$.scrollViewerContentContainer.getBoundingClientRect().height,n=e.$.scrollViewerContainer.getBoundingClientRect().height
t=i&&n?parseInt(i)-parseInt(n):e.$.scrollViewerContentContainer.offsetHeight-e.$.scrollViewerContainer.offsetHeight}else t=e.$.scrollViewerContentContainer.offsetHeight-e.$.scrollViewerContainer.offsetHeight
return t>0&&"hidden"!==e.verticalScrollBarVisibility||"visible"===e.verticalScrollBarVisibility?e.$.scrollViewerContainer.classList.add("vscroll"):e.$.scrollViewerContainer.classList.remove("vscroll"),t}if(!e.$.scrollViewerContentContainer)return
let n=e.scrollWidth,r=e.scrollHeight
e.scrollWidth=t(),e.scrollHeight=i(),e.scrollHeight&&r===e.scrollHeight||(e.scrollWidth=t()),e.scrollWidth&&n===e.scrollWidth||(e.scrollHeight=i()),e.computedVerticalScrollBarVisibility&&(e.scrollHeight+=e._scrollView.hScrollBar.offsetHeight),e.computedHorizontalScrollBarVisibility&&(e.scrollWidth+=e._scrollView.vScrollBar.offsetWidth)}attached(){const e=this
super.attached(),e._scrollView||e._customScrollView||(e._scrollView=new JQX.Utilities.Scroll(e,e.$.horizontalScrollBar,e.$.verticalScrollBar))}detached(){const e=this
super.detached(),e._scrollView&&(e._scrollView.unlisten(),delete e._scrollView)}get scrollWidth(){const e=this
return e._scrollView&&e._scrollView.hScrollBar?1===e._scrollView.hScrollBar.max&&"visible"===e.horizontalScrollBarVisibility?0:e._scrollView.hScrollBar.max:-1}set scrollWidth(e){const t=this
e<0&&(e=0),t._scrollView&&t._scrollView.hScrollBar&&(0===e&&"visible"===t.horizontalScrollBarVisibility?t._scrollView.hScrollBar.max=0:t._scrollView.hScrollBar.max=e,t.refreshScrollBarsVisibility())}get scrollHeight(){const e=this
return e._scrollView&&e._scrollView.vScrollBar?1===e._scrollView.vScrollBar.max&&"visible"===e.verticalScrollBarVisibility?0:e._scrollView.vScrollBar.max:0}set scrollHeight(e){const t=this
e<0&&(e=0),t._scrollView&&t._scrollView.vScrollBar&&(0===e&&"visible"===t.verticalScrollBarVisibility?t._scrollView.vScrollBar.max=1:t._scrollView.vScrollBar.max=e,t.refreshScrollBarsVisibility())}get scrollLeft(){const e=this
return e._scrollView&&e._scrollView.hScrollBar?e._scrollView.hScrollBar.value:0}set scrollLeft(e){const t=this
e<0&&(e=0),t._scrollView&&t._scrollView.hScrollBar&&(t._scrollView.hScrollBar.value=e)}get scrollTop(){const e=this
return e._scrollView&&e._scrollView.vScrollBar?e._scrollView.vScrollBar.value:0}set scrollTop(e){const t=this
e<0&&(e=0),t._scrollView&&t._scrollView.vScrollBar&&(t._scrollView.vScrollBar.value=e)}propertyChangedHandler(e,t,i){const n=this
super.propertyChangedHandler(e,t,i),"animation"!==e&&"theme"!==e&&n.refresh()}}),window[t].Utilities.Assign("PositionDetection",class{constructor(e,t,i,n){if(t){const i="dropDown"+Math.floor(65536*(1+Math.random())).toString(16).substring(1)
t.id=i,e.setAttribute("aria-owns",i)}this.context=e,this.dropDown=t,this.defaultParent=i,this.closeMethod=n}handleAutoPositioning(){const e=this,t=e.context
if("auto"!==t.dropDownPosition||t.disabled)return
const i=(()=>window.requestAnimationFrame)()
let n,r=Date.now()
return n=i(function o(){n=i(o),"auto"===t.dropDownPosition&&!t.disabled&&(t.isInShadowDOM?document.body.contains(t.shadowParent):document.body.contains(t))||cancelAnimationFrame(n),Date.now()-r>=200&&(e.scrollHandler(),r=Date.now())})}checkBrowserBounds(e){const t=this.context
if("auto"===t.dropDownPosition&&!t.disabled)switch(e){case"vertically":this.checkBrowserBoundsVertically()
break
case"horizontally":this.checkBrowserBoundsHorizontally()
break
default:this.checkBrowserBoundsVertically(),this.checkBrowserBoundsHorizontally()}}checkBrowserBoundsHorizontally(){const e=this.context,t=this.dropDown
let i,n=0
a.isMobile||window.innerWidth===document.documentElement.clientWidth||(n=window.innerWidth-document.documentElement.clientWidth),null!==e._dropDownParent?i=!0:t.style.left=""
const r=window.innerWidth-n
let o=e.getBoundingClientRect().left
if(o<0&&(t.style.left=(i?0:Math.abs(o))+"px",o=parseFloat(t.style.left)),o+t.offsetWidth>r){let e=o-Math.abs(r-o-t.offsetWidth)
i&&(e+=window.pageXOffset),t.style.left=(i?e:e-o)+"px",window.innerWidth===document.documentElement.clientWidth&&(t.style.left=parseFloat(t.style.left)+n+"px"),i&&window.innerHeight===document.documentElement.clientHeight&&this.positionDropDown(!0)}}checkBrowserBoundsVertically(e){const t=this.context,i=this.dropDown,n=t._dropDownListPosition
e||(e=t.getBoundingClientRect()),0!==e.height&&(document.documentElement.clientHeight-Math.abs(e.top+e.height+i.offsetHeight)>=0?t._dropDownListPosition="bottom":e.top-i.offsetHeight>=0?t._dropDownListPosition="top":t._dropDownListPosition="overlay-center",this.updatePositionAttribute(n,t._dropDownListPosition))}scrollHandler(){const e=this.context
if(!e.parentElement)return
const t=e.getBoundingClientRect()
if(t.top===e._positionTop)return
const i=e._dropDownListPosition
this.checkBrowserBoundsVertically(t),e._dropDownListPosition!==i&&this.positionDropDown(),e._positionTop=t.top}getDropDownParent(e){const t=this.context,i=this.dropDown
let n=t.dropDownAppendTo
t._positionedParent=null,null===n?t._dropDownParent=null:"body"===n||n===document.body?t._dropDownParent=document.body:n instanceof HTMLElement?t._dropDownParent=n:"string"==typeof n&&(n=document.getElementById(n))instanceof HTMLElement?t._dropDownParent=n:(t.dropDownAppendTo=null,t._dropDownParent=null)
let r=t._dropDownParent
if(null!==r){for(;r&&"static"===window.getComputedStyle(r).position&&r!==document.body;)r=r.parentElement
r===document.body?t._positionedParent=null:t._positionedParent=r,i&&(i.setAttribute("animation",t.animation),""!==t.theme&&i.$.addClass(t.theme),e&&(t._dropDownParent.appendChild(i),i.$.addClass("jqx-drop-down-repositioned")),-1===t.detachedChildren.indexOf(i)&&t.detachedChildren.push(i))}}dropDownAppendToChangedHandler(){const e=this.context,t=this.dropDown,i=e._dropDownParent
this.getDropDownParent(),e._dropDownParent!==i&&(e[this.closeMethod](),["left","top","font-size","font-family","font-style","font-weight"].forEach(e=>t.style[e]=null),null===e._dropDownParent?(this.defaultParent.appendChild(t),t.$.removeClass("jqx-drop-down-repositioned")):(e._dropDownParent.appendChild(t),t.$.addClass("jqx-drop-down-repositioned")))}dropDownPositionChangedHandler(){this.dropDown.style.transition="none",this.context[this.closeMethod](),this.setDropDownPosition(),this.handleAutoPositioning()}dropDownAttached(e){const t=this.context
null!==t._dropDownParent&&(t._dropDownParent.appendChild(this.dropDown),this.handleAutoPositioning(),e&&t[e]())}dropDownDetached(){const e=this.context
null!==e._dropDownParent&&document.body.contains(this.dropDown)&&document.body.contains(e._dropDownParent)&&e._dropDownParent.removeChild(this.dropDown)}setDropDownPosition(){const e=this.context,t=e.dropDownPosition,i=e._dropDownListPosition
"auto"===t?this.checkBrowserBounds():e._dropDownListPosition=t,this.updatePositionAttribute(i,e._dropDownListPosition)}updatePositionAttribute(e,t){const i=this.context,n=this.dropDown
i.$.dropDownButton&&!i.$.dropDownButton.hasAttribute(t)&&(i.$.dropDownButton.removeAttribute(e),i.$.dropDownButton.setAttribute(t,"")),n.hasAttribute(t)||(n.style.transition="none",n.removeAttribute(e),n.setAttribute(t,""),requestAnimationFrame(function(){n.style.transition=null}))}positionDropDown(e){const t=this.context,i=this.dropDown
if(!t.opened||null===t._dropDownParent)return
const n=t.getBoundingClientRect()
let r,o
if(this.customPositionDropDown){const e=this.customPositionDropDown(n)
r=e.left,o=e.top}else switch(r=n.left,o=n.top,t._dropDownListPosition){case"bottom":o+=t.$.container.offsetHeight-1
break
case"center-bottom":o+=t.$.container.offsetHeight-1,r+=t.offsetWidth-i.offsetWidth/2
break
case"center-top":o-=i.offsetHeight-1,r+=t.offsetWidth-i.offsetWidth/2
break
case"top":o-=i.offsetHeight-1
break
case"overlay-bottom":break
case"overlay-center":o-=i.offsetHeight/2-t.offsetHeight/2
break
case"overlay-top":o-=i.offsetHeight-t.offsetHeight}const a=this.getDropDownOffset()
i.style.top=o+a.y+"px",e||(i.style.left=r+a.x+"px")}getDropDownOffset(){const e=this.context._positionedParent
let t,i
if(e){const n=e.getBoundingClientRect()
t=-n.left,i=-n.top}else t=window.pageXOffset,i=window.pageYOffset
return{x:t,y:i}}placeOverlay(){const e=this.context
if(!e.dropDownOverlay||e._overlay)return
const t=document.createElement("div")
t.classList.add("jqx-drop-down-overlay"),t.style.width=document.documentElement.scrollWidth+"px",t.style.height=document.documentElement.scrollHeight+"px",document.body.appendChild(t),e._overlay=t}removeOverlay(e){const t=this,i=t.context
i._overlay&&(i.hasAnimation&&e?requestAnimationFrame(function e(){t.dropDown.getBoundingClientRect().height>0?requestAnimationFrame(e):(document.body.removeChild(i._overlay),delete i._overlay)}):(document.body.removeChild(i._overlay),delete i._overlay))}})}()
var p=Object.freeze({}),m=window.CustomEvent
function f(e){for(;e;){if("dialog"===e.localName)return e
e=e.parentElement}return null}function g(e){e&&e.blur&&e!==document.body&&e.blur()}function v(e,t){for(var i=0;i<e.length;++i)if(e[i]===t)return!0
return!1}function b(e){return!(!e||!e.hasAttribute("method"))&&"dialog"===e.getAttribute("method").toLowerCase()}function y(e){if(this.dialog_=e,this.replacedStyleTop_=!1,this.openAsModal_=!1,e.hasAttribute("role")||e.setAttribute("role","dialog"),e.show=this.show.bind(this),e.showModal=this.showModal.bind(this),e.close=this.close.bind(this),"returnValue"in e||(e.returnValue=""),"MutationObserver"in window){new MutationObserver(this.maybeHideModal.bind(this)).observe(e,{attributes:!0,attributeFilter:["open"]})}else{var t,i=!1,n=function(){i?this.downgradeModal():this.maybeHideModal(),i=!1}.bind(this),r=function(r){if(r.target===e){var o="DOMNodeRemoved"
i|=r.type.substr(0,o.length)===o,window.clearTimeout(t),t=window.setTimeout(n,0)}};["DOMAttrModified","DOMNodeRemoved","DOMNodeRemovedFromDocument"].forEach(function(t){e.addEventListener(t,r)})}Object.defineProperty(e,"open",{set:this.setOpen.bind(this),get:e.hasAttribute.bind(e,"open")}),this.backdrop_=document.createElement("div"),this.backdrop_.className="backdrop",this.backdrop_.addEventListener("click",this.backdropClick_.bind(this))}m&&"object"!=typeof m||((m=function(e,t){t=t||{}
var i=document.createEvent("CustomEvent")
return i.initCustomEvent(e,!!t.bubbles,!!t.cancelable,t.detail||null),i}).prototype=window.Event.prototype),y.prototype={get dialog(){return this.dialog_},maybeHideModal:function(){this.dialog_.hasAttribute("open")&&document.body.contains(this.dialog_)||this.downgradeModal()},downgradeModal:function(){this.openAsModal_&&(this.openAsModal_=!1,this.dialog_.style.zIndex="",this.replacedStyleTop_&&(this.dialog_.style.top="",this.replacedStyleTop_=!1),this.backdrop_.parentNode&&this.backdrop_.parentNode.removeChild(this.backdrop_),_.dm.removeDialog(this))},setOpen:function(e){e?this.dialog_.hasAttribute("open")||this.dialog_.setAttribute("open",""):(this.dialog_.removeAttribute("open"),this.maybeHideModal())},backdropClick_:function(e){if(this.dialog_.hasAttribute("tabindex"))this.dialog_.focus()
else{var t=document.createElement("div")
this.dialog_.insertBefore(t,this.dialog_.firstChild),t.tabIndex=-1,t.focus(),this.dialog_.removeChild(t)}var i=document.createEvent("MouseEvents")
i.initMouseEvent(e.type,e.bubbles,e.cancelable,window,e.detail,e.screenX,e.screenY,e.clientX,e.clientY,e.ctrlKey,e.altKey,e.shiftKey,e.metaKey,e.button,e.relatedTarget),this.dialog_.dispatchEvent(i),e.stopPropagation()},focus_:function(){var e=this.dialog_.querySelector("[autofocus]:not([disabled])")
if(!e&&this.dialog_.tabIndex>=0&&(e=this.dialog_),!e){var t=["button","input","keygen","select","textarea"].map(function(e){return e+":not([disabled])"})
t.push('[tabindex]:not([disabled]):not([tabindex=""])'),e=this.dialog_.querySelector(t.join(", "))}g(document.activeElement),e&&e.focus()},updateZIndex:function(e,t){if(e<t)throw new Error("dialogZ should never be < backdropZ")
this.dialog_.style.zIndex=e,this.backdrop_.style.zIndex=t},show:function(){this.dialog_.open||(this.setOpen(!0),this.focus_())},showModal:function(){if(this.dialog_.hasAttribute("open"))throw new Error("Failed to execute 'showModal' on dialog: The element is already open, and therefore cannot be opened modally.")
if(!document.body.contains(this.dialog_))throw new Error("Failed to execute 'showModal' on dialog: The element is not in a Document.")
if(!_.dm.pushDialog(this))throw new Error("Failed to execute 'showModal' on dialog: There are too many open modal dialogs.");(function(e){for(;e&&e!==document.body;){var t=window.getComputedStyle(e),i=function(e,i){return!(void 0===t[e]||t[e]===i)}
if(t.opacity<1||i("zIndex","auto")||i("transform","none")||i("mixBlendMode","normal")||i("filter","none")||i("perspective","none")||"isolate"===t.isolation||"fixed"===t.position||"touch"===t.webkitOverflowScrolling)return!0
e=e.parentElement}return!1})(this.dialog_.parentElement)&&console.warn("A dialog is being shown inside a stacking context. This may cause it to be unusable. For more information, see this link: https://github.com/GoogleChrome/dialog-polyfill/#stacking-context"),this.setOpen(!0),this.openAsModal_=!0,_.needsCentering(this.dialog_)?(_.reposition(this.dialog_),this.replacedStyleTop_=!0):this.replacedStyleTop_=!1,this.dialog_.parentNode.insertBefore(this.backdrop_,this.dialog_.nextSibling),this.focus_()},close:function(e){if(!this.dialog_.hasAttribute("open"))throw new Error("Failed to execute 'close' on dialog: The element does not have an 'open' attribute, and therefore cannot be closed.")
this.setOpen(!1),void 0!==e&&(this.dialog_.returnValue=e)
var t=new m("close",{bubbles:!1,cancelable:!1})
this.dialog_.dispatchEvent(t)}}
var _={reposition:function(e){var t=document.body.scrollTop||document.documentElement.scrollTop,i=t+(window.innerHeight-e.offsetHeight)/2
e.style.top=Math.max(t,i)+"px"},isInlinePositionSetByStylesheet:function(e){for(var t=0;t<document.styleSheets.length;++t){var i=document.styleSheets[t],n=null
try{n=i.cssRules}catch(e){}if(n)for(var r=0;r<n.length;++r){var o=n[r],a=null
try{a=document.querySelectorAll(o.selectorText)}catch(e){}if(a&&v(a,e)){var s=o.style.getPropertyValue("top"),l=o.style.getPropertyValue("bottom")
if(s&&"auto"!==s||l&&"auto"!==l)return!0}}}return!1},needsCentering:function(e){return"absolute"===window.getComputedStyle(e).position&&(!("auto"!==e.style.top&&""!==e.style.top||"auto"!==e.style.bottom&&""!==e.style.bottom)&&!_.isInlinePositionSetByStylesheet(e))},forceRegisterDialog:function(e){if((window.HTMLDialogElement||e.showModal)&&console.warn("This browser already supports <dialog>, the polyfill may not work correctly",e),"dialog"!==e.localName)throw new Error("Failed to register dialog: The element is not a dialog.")
new y(e)},registerDialog:function(e){e.showModal||_.forceRegisterDialog(e)},DialogManager:function(){this.pendingDialogStack=[]
var e=this.checkDOM_.bind(this)
this.overlay=document.createElement("div"),this.overlay.className="_dialog_overlay",this.overlay.addEventListener("click",function(t){this.forwardTab_=void 0,t.stopPropagation(),e([])}.bind(this)),this.handleKey_=this.handleKey_.bind(this),this.handleFocus_=this.handleFocus_.bind(this),this.zIndexLow_=1e5,this.zIndexHigh_=100150,this.forwardTab_=void 0,"MutationObserver"in window&&(this.mo_=new MutationObserver(function(t){var i=[]
t.forEach(function(e){for(var t,n=0;t=e.removedNodes[n];++n)t instanceof Element&&("dialog"===t.localName&&i.push(t),i=i.concat(t.querySelectorAll("dialog")))}),i.length&&e(i)}))}}
if(_.DialogManager.prototype.blockDocument=function(){document.documentElement.addEventListener("focus",this.handleFocus_,!0),document.addEventListener("keydown",this.handleKey_),this.mo_&&this.mo_.observe(document,{childList:!0,subtree:!0})},_.DialogManager.prototype.unblockDocument=function(){document.documentElement.removeEventListener("focus",this.handleFocus_,!0),document.removeEventListener("keydown",this.handleKey_),this.mo_&&this.mo_.disconnect()},_.DialogManager.prototype.updateStacking=function(){for(var e,t=this.zIndexHigh_,i=0;e=this.pendingDialogStack[i];++i)e.updateZIndex(--t,--t),0===i&&(this.overlay.style.zIndex=--t)
var n=this.pendingDialogStack[0]
n?(n.dialog.parentNode||document.body).appendChild(this.overlay):this.overlay.parentNode&&this.overlay.parentNode.removeChild(this.overlay)},_.DialogManager.prototype.containedByTopDialog_=function(e){for(;e=f(e);){for(var t,i=0;t=this.pendingDialogStack[i];++i)if(t.dialog===e)return 0===i
e=e.parentElement}return!1},_.DialogManager.prototype.handleFocus_=function(e){if(!this.containedByTopDialog_(e.target)&&document.activeElement!==document.documentElement&&(e.preventDefault(),e.stopPropagation(),g(e.target),void 0!==this.forwardTab_)){var t=this.pendingDialogStack[0]
return t.dialog.compareDocumentPosition(e.target)&Node.DOCUMENT_POSITION_PRECEDING&&(this.forwardTab_?t.focus_():e.target!==document.documentElement&&document.documentElement.focus()),!1}},_.DialogManager.prototype.handleKey_=function(e){if(this.forwardTab_=void 0,27===e.keyCode){e.preventDefault(),e.stopPropagation()
var t=new m("cancel",{bubbles:!1,cancelable:!0}),i=this.pendingDialogStack[0]
i&&i.dialog.dispatchEvent(t)&&i.dialog.close()}else 9===e.keyCode&&(this.forwardTab_=!e.shiftKey)},_.DialogManager.prototype.checkDOM_=function(e){this.pendingDialogStack.slice().forEach(function(t){-1!==e.indexOf(t.dialog)?t.downgradeModal():t.maybeHideModal()})},_.DialogManager.prototype.pushDialog=function(e){var t=(this.zIndexHigh_-this.zIndexLow_)/2-1
return!(this.pendingDialogStack.length>=t)&&(1===this.pendingDialogStack.unshift(e)&&this.blockDocument(),this.updateStacking(),!0)},_.DialogManager.prototype.removeDialog=function(e){var t=this.pendingDialogStack.indexOf(e);-1!==t&&(this.pendingDialogStack.splice(t,1),0===this.pendingDialogStack.length&&this.unblockDocument(),this.updateStacking())},_.dm=new _.DialogManager,_.formSubmitter=null,_.useValue=null,void 0===window.HTMLDialogElement){var w=document.createElement("form")
if(w.setAttribute("method","dialog"),"dialog"!==w.method){var x=Object.getOwnPropertyDescriptor(HTMLFormElement.prototype,"method")
if(x){var C=x.get
x.get=function(){return b(this)?"dialog":C.call(this)}
var S=x.set
x.set=function(e){return"string"==typeof e&&"dialog"===e.toLowerCase()?this.setAttribute("method",e):S.call(this,e)},Object.defineProperty(HTMLFormElement.prototype,"method",x)}}document.addEventListener("click",function(e){if(_.formSubmitter=null,_.useValue=null,!e.defaultPrevented){var t=e.target
if(t&&b(t.form)){if(!("submit"===t.type&&["button","input"].indexOf(t.localName)>-1)){if("input"!==t.localName||"image"!==t.type)return
_.useValue=e.offsetX+","+e.offsetY}f(t)&&(_.formSubmitter=t)}}},!1)
var T=HTMLFormElement.prototype.submit
HTMLFormElement.prototype.submit=function(){if(!b(this))return T.call(this)
var e=f(this)
e&&e.close()},document.addEventListener("submit",function(e){var t=e.target
if(b(t)){e.preventDefault()
var i=f(t)
if(i){var n=_.formSubmitter
n&&n.form===t?i.close(_.useValue||n.value):i.close(),_.formSubmitter=null}}},!0)}var I=Object.freeze({default:_})
!function(){var e=Number.MAX_SAFE_INTEGER||9007199254740991,t=function(i){var n,r,o
if(this.epochDiffInSeconds=2082844800,"string"==typeof i){var a=i.split(":")
this.seconds=Math.floor(parseFloat(a[0]))
var s=parseFloat(a[1])
s>0xfffffffffffff800&&(s=0xfffffffffffff800),this.fractions=Math.ceil(s/2048)/(e+1)}else i instanceof Date?(n=i.getTime(),r=Math.floor(n/1e3),this.seconds=r+this.epochDiffInSeconds,o=(n%1e3+1e3)%1e3,this.fractions=o/1e3):"number"==typeof i?(r=Math.floor(i),this.seconds=r,this.fractions=i-r):i instanceof t?(this.seconds=i.seconds,this.fractions=i.fractions):(this.seconds=0,this.fractions=0)},i=t.prototype
i.toString=function(){return Math.floor(this.seconds)+":"+Math.round(this.fractions*(e+1)*2048)},i.toJSON=function(){return this.toString()},i.toDate=function(){return new Date(1e3*(this.seconds-this.epochDiffInSeconds+this.fractions))},i.valueOf=function(){return this.seconds+this.fractions},i.toAbsoluteTime=function(){return this.seconds+this.fractions+62135596800-2082844800},i.compare=function(e){return this.seconds<e.seconds?-1:this.seconds>e.seconds?1:this.fractions<e.fractions?-1:this.fractions>e.fractions?1:0},i.add=function(e){this.seconds+=Math.floor(e)
var t=e-Math.floor(e)
return(t+=this.fractions)>=1&&(t-=1,this.seconds+=1),this.fractions=t,this},window.NITimestamp=t}()
var E=Object.freeze({})
!function(){var e=window.NITimestamp,t=function(i){if("string"==typeof i)try{i=JSON.parse(i)}catch(e){throw"Can't create an analog waveform from this value"}if(i instanceof t)this.t0=new e(i.t0||"0:0"),this.channelName=i.channelName,this.dt=i.dt,this.Y=i.Y
else if("object"==typeof i)this.t0=new e(i.t0||"0:0"),this.channelName=i.channelName,this.dt=i.dt||0,this.Y=i.Y
else{if(void 0!==i)throw"Can't create an analog waveform from this value"
this.dt=0,this.Y=[],this.t0=new e}},i=t.prototype
i.sampleCount=function(){return this.Y.length},i.toTimeAndValueArray=function(){for(var e=[],t=0,i=this.t0;t<this.Y.length;t++,i=i.add(this.dt))e.push([i.toAbsoluteTime(),this.Y[t]])
return e},i.appendArray=function(e){if(Array.isArray(e))for(var t=0;t<e.length;t++)this.Y.push(e[t])},i.appendWaveform=function(e){if(e instanceof t)if(e.dt!==this.dt)this.t0=e.t0,this.dt=e.dt,this.Y=e.Y.slice(0)
else{var i=new window.NITimestamp(this.t0).add(this.dt*this.sampleCount())
0===e.t0.compare(i)?this.appendArray(e.Y):(this.t0=e.t0,this.dt=e.dt,this.Y=e.Y.slice(0))}},i.toJSON=function(){return{t0:this.t0.toString(),channelName:this.channelName,dt:this.dt,Y:this.Y}},window.NIAnalogWaveform=t}()
var P,D=Object.freeze({});(P=function(){}).isCssColorInRGBAFormat=function(e){return(e=e.trim()).startsWith("rgb")},P.isCssColorInHexFormat=function(e){return(e=e.trim()).startsWith("#")},P.isCssColorInRGBAOrHexFormat=function(e){return this.isCssColorInRGBAFormat(e)||this.isCssColorInHexFormat(e)},P.ARGBIntegerToCssRGBA=function(e){var t=(e>>>=0)>>>24
return"rgba("+[(16711680&e)>>>16,(65280&e)>>>8,255&e,t=Number((t/255).toFixed(2))].join(",")+")"},P.ARGBIntegerToCssHex=function(e){var t=255&(e>>>=0),i=(65280&e)>>>8,n=(16711680&e)>>>16,r=e>>>24
return 1===(n=n.toString(16)).length&&(n="0"+n),1===(i=i.toString(16)).length&&(i="0"+i),1===(t=t.toString(16)).length&&(t="0"+t),1===(r=r.toString(16)).length&&(r="0"+r),("#"+n+i+t+r).toUpperCase()},P.cssRGBAToARGBInteger=function(e){var t=function(e){if(0===e.indexOf("rgb"))return-1===e.indexOf("rgba")&&(e+=",1"),e.match(/[.\d]+/g).map(function(e){return+Number(e)})}(e=e.trim()),i=255&t[0],n=255&t[1],r=255&t[2]
return((255&Math.round(255*t[3]))<<24)+(i<<16)+(n<<8)+r>>>0},P.cssRGBAToCssHex=function(e){e=e.trim()
var t=this.cssRGBAToARGBInteger(e)
return this.ARGBIntegerToCssHex(t)},P.cssHexToARGBInteger=function(e){var t=(e=e.trim()).substring(1).split(""),i=["f","f"]
return 3===t.length?t=[t[0],t[0],t[1],t[1],t[2],t[2]]:8===t.length&&(i=[t[6],t[7]],t=t.slice(0,6)),t=i.join("")+t.join(""),parseInt(t,16)},P.cssHexToCssRGBA=function(e){e=e.trim()
var t=this.cssHexToARGBInteger(e)
return this.ARGBIntegerToCssRGBA(t)},P.cssColorToARGBInteger=function(e){return this.isCssColorInRGBAFormat(e)?this.cssRGBAToARGBInteger(e):this.isCssColorInHexFormat(e)?this.cssHexToARGBInteger(e):void 0},window.NIColorValueConverters=P
var k=Object.freeze({})
!function(){window.NIComplex=function(e,t){if("string"==typeof e){var i=this.parseFromString(e)
this.realPart=i[0],this.imaginaryPart=i[1]}else{if("number"!=typeof e)throw new Error("Can't create complex number")
if(this.realPart=e,"number"==typeof t)this.imaginaryPart=t
else{if(void 0!==t)throw new Error("Can't create complex number: invalid imaginary part")
this.imaginaryPart=0}}}
var e=/\s+/g,t=/([^eE][-+])|([eE][-+][iInN])/,i=/^[-+]?([0-9]+|[0-9]+\.|[0-9]*\.[0-9]+)$/,n=/^[-+]?([0-9]*|[0-9]+\.|[0-9]*\.[0-9]+)i$/,r=/^[-+]?([0-9]+|[0-9]+\.|[0-9]+\.|[0-9]*\.[0-9]+)[eE][-+]?[0-9]+$/,o=/^[-+]?([0-9]+|[0-9]+\.|[0-9]+\.|[0-9]*\.[0-9]+)[eE][-+]?[0-9]+i$/,a=/^[-+]?Infinity$/,s=/^[-+]?Infinityi$/,l=/[iI]nf(inity)?/g,d=/^[-+]?i$/,c=/^[-+]?NaNi?$/,h=/^[-+]?([0-9]+|[0-9]+\.[0-9]+)([eE][-+]?[0-9]+)?[-+]([0-9]+|[0-9]+\.[0-9]+)([eE][-+]?[0-9]+)?i$/,u=/^[+\-]?(?:0|[1-9]\d*)(?:\.\d*)?(?:[eE][+\-]?\d+)?$/,p=/^[+\-]?((?:0|[1-9]\d*)(?:\.\d*)?(?:[eE][+\-]?\d+)?)?i$/,m=/^([+\-]?(?:0|[1-9]\d*)(?:\.\d*)?(?:[eE][+\-]?\d+)?)(Y|Z|E|P|T|G|M|k|c|m|u|n|p|f|a|z|y){1}(?!i)$/,f=/^([+\-]?(?:0|[1-9]\d*)(?:\.\d*)?(?:[eE][+\-]?\d+)?)(Y|Z|E|P|T|G|M|k|c|m|u|n|p|f|a|z|y){1}i$/,g=/^([+\-]?(?:0|[1-9]\d*)(?:\.\d*)?(?:[eE][+\-]?\d+)?E)(?!i)([+\-]?(?:0|[1-9]\d*)(?:\.\d*)?(?:[eE][+\-]?\d+)?E)i$/,v=/^([+\-]?(?:0|[1-9]\d*)(?:\.\d*)?(?:[eE][+\-]?\d+)?E)i([+\-]?(?:0|[1-9]\d*)(?:\.\d*)?(?:[eE][+\-]?\d+)?E)$/,b=window.NIComplex.prototype,y=function(e){var t
if(""===e)return 0
if(c.test(e))return NaN
if(-1===e.search(/[eE]/)){if(!i.test(e)&&!a.test(e))throw new Error("Invalid real part format")
t=parseFloat(e)}else{if(!r.test(e))throw new Error("Invalid real part scientific notation")
t=parseFloat(e)}return t},_=function(e){var t
if(""===e)return 0
if(c.test(e))return NaN
var i=e.slice(0,-1)
if(-1===e.search(/[eE]/)){if(!n.test(e)&&!s.test(e))throw new Error("Invalid imaginary part format")
if(d.test(e))return parseFloat(i+"1")
t=parseFloat(i)}else{if(!o.test(e))throw new Error("Invalid imaginary part scientific notation")
t=parseFloat(i)}return t},w=function(e){var t=m.exec(e),i=t[1],n=t[2]
return parseFloat(i)*parseFloat("1e"+{Y:24,Z:21,E:18,P:15,T:12,G:9,M:6,k:3,c:-2,m:-3,u:-6,n:-9,p:-12,f:-15,a:-18,z:-21,y:-24}[n])}
b.parseFromString=function(i){if(i=i.replace(e,""),u.test(i))return[parseFloat(i),0]
if(p.test(i)){var n=i.slice(0,-1)
return d.test(i)&&(n+="1"),[0,parseFloat(n)]}return h.test(i)?function(e){var i=e.search(t)
return[parseFloat(e.substring(0,i+1)),parseFloat(e.substring(i+1,e.length-1))]}(i):function(e){var i,n
if(""===e||null==e)throw new Error("Invalid number format")
if(e=e.replace(l,"Infinity"),g.test(e)){var r=(a=g.exec(e))[1],o=a[2]
return[w(r),w(o)]}if(v.test(e)){var a
return r=(a=v.exec(e))[2],o=a[1],[w(r),w(o)]}var s=e.search(t)
s<e.search(/i[-+]|i$/)?(i=e.substring(0,s+1),n=e.substring(s+1)):(n=e.substring(0,s+1),i=e.substring(s+1))
var d,c,h=m.test(i),u=f.test(n)
if(h&&(d=w(i),isNaN(d)))throw new Error("Invalid real part format")
if(u&&(c=w(n.slice(0,n.length-1)),isNaN(c)))throw new Error("Invalid imaginary part format")
return void 0!==d&&void 0!==c?[d,c]:void 0!==d?[d,_(n)]:void 0!==c?[y(i),c]:[y(i),_(n)]}(i)},b.compare=function(e){var t=Math.sqrt(Math.pow(e.realPart,2)+Math.pow(e.imaginaryPart,2)),i=Math.sqrt(Math.pow(this.realPart,2)+Math.pow(this.imaginaryPart,2))
return i>t?1:i<t?-1:0},b.toString=function(){return this.imaginaryPart>=0?this.realPart+" + "+this.imaginaryPart+"i":this.realPart+" - "+Math.abs(this.imaginaryPart)+"i"}}()
var A=Object.freeze({})
!function(){window.NINumericFormatters=function(){}
var e=window.NINumericFormatters.prototype,t=function(e){var t=e
"string"!=typeof e&&(t=e.toString())
var i="";-1!==t.indexOf("e")&&(i=t.substring(t.indexOf("e"),t.length),t=t.substring(0,t.indexOf("e")))
var n=t.indexOf(".")
if(-1!==n){for(var r=t.lastIndexOf("0");r===t.length-1;)r=(t=t.slice(0,-1)).lastIndexOf("0")
n===t.length-1&&(t=t.slice(0,-1))}var o="0"
return"0"!==t&&"-0"!==t&&(o=t),o+i.toUpperCase()}
e.toSiNotation=function(e,i){var n,r,o=0
if(isFinite(i)&&null!==i&&(o=i>20?20:i<0?0:i),0===e)return"0"
if(null==e)return null===e?"null":"undefined"
if(!isFinite(e))return isNaN(e)?"NaN":e.toString()
var a,s=Math.floor((a=Math.abs(e),Math.log(a)*Math.LOG10E))
n=e/(r=function(e){var t=8
return e>=3?t=e>=24?16:Math.floor(e/3)+8:(e<=-3&&(t=e<=-24?0:Math.round((e-1)/3)+8),-2!==e&&-1!==e||(t=7)),{conversion:parseFloat("1e"+3*(t-8)),extension:["y","z","a","f","p","n","μ","m","","k","M","G","T","P","E","Z","Y"][t]}}(s)).conversion,(s>=45||s<=-45)&&(n=n.toExponential(o)),-1===n.toString().indexOf("e")&&(n=n.toFixed(o))
var l=t(n),d=""
return"0"!==l&&"-0"!==l&&(d=r.extension),l+d},e.toDecPrecisionNotation=function(e,i){if(null==e)return null===e?"null":"undefined"
if(!isFinite(e))return isNaN(e)?"NaN":e.toString()
var n
if(isFinite(i)&&null!==i){var r=Math.abs(e).toString(),o=r.indexOf("."),a=-1!==r.indexOf("e")||-1!==r.indexOf("E")
n=-1!==o&&o<i&&!a?e.toPrecision(i):i<1||21<i||i>r.length?e.toPrecision():e.toPrecision(i)}else n=e.toPrecision()
return t(n)},e.toDecFixedNotation=function(e,t){if(null==e)return null===e?"null":"undefined"
if(!isFinite(e))return isNaN(e)?"NaN":e.toString()
var i="",n=e
e<0&&(i="-",n=Math.abs(e))
return i+(isFinite(t)&&null!==t?t<0||20<t?n.toFixed():n.toFixed(t):n.toFixed()).toUpperCase()}}()
var j=Object.freeze({})
!function(){var e=Object.freeze({VOID:"Void",BOOLEAN:"Boolean",UINT8:"UInt8",UINT16:"UInt16",UINT32:"UInt32",UINT64:"UInt64",INT8:"Int8",INT16:"Int16",INT32:"Int32",INT64:"Int64",SINGLE:"Single",DOUBLE:"Double",COMPLEXSINGLE:"ComplexSingle",COMPLEXDOUBLE:"ComplexDouble",STRING:"String",PATH:"Path",TIMESTAMP:"Timestamp",ENUM:"Enum",CLUSTER:"Cluster",ARRAY:"Array",ANALOGWAVEFORM:"AnalogWaveform",DIGITALWAVEFORM:"DigitalWaveform"}),t=function(t){return t===e.SINGLE||t===e.DOUBLE},i=function(t){switch(t){case e.INT8:case e.INT16:case e.INT32:case e.INT64:return!0
default:return!1}},n=function(t){switch(t){case e.UINT8:case e.UINT16:case e.UINT32:case e.UINT64:return!0
default:return!1}},r=function(t){return t===e.INT64||t===e.UINT64},o=function(e){return i(e)||n(e)},a=function(t){return t===e.COMPLEXSINGLE||t===e.COMPLEXDOUBLE},s=function(e){return o(e)||a(e)||t(e)},l=function(t){if(s(t))return!1
switch(t){case e.VOID:case e.BOOLEAN:case e.STRING:case e.PATH:case e.TIMESTAMP:case e.DIGITALWAVEFORM:return!1}return!0},d=function(e){if(function(e,t){return Object.keys(e).length!==t}(e,1))throw new Error(e.name+' must only have the property "name".')},c=function(t){var i=t.subtype
if(!1===function(t){return t.name!==e.ARRAY}(i))throw new Error("Invalid Array subtype: "+i.name)
h(i)
var n=t.rank
if("number"!=typeof n||isNaN(n)||n<=0)throw new Error('Array type property "rank" must be an integer greater than 0.')
var r=t.size
if(void 0!==r){if(!1===Array.isArray(r))throw new Error('Array type property "size" must be an array of integers.')
if(!1===r.reduce(function(e,t){return e&&"number"==typeof t&&t>=0},!0))throw new Error('Array type property "size" must contain only natural numbers.')}},h=function(t){if(null===t||"object"!=typeof t)throw new Error("Descriptor should be a JSON encoded string or a valid format Object. Value found: "+t)
var i=t.name
if(l(i))switch(i){case e.ENUM:!function(e){var t=e.subtype
if(null===t||"object"!=typeof t)throw new Error("Enum subtype must be a valid descriptor.")
if(!1===n(t.name)||!0===r(t.name))throw new Error("Enum unsupported subtype: "+t.name)}(t)
break
case e.ARRAY:c(t)
break
case e.CLUSTER:!function(e){var t=e.fields,i=e.subtype
if(!1===Array.isArray(t))throw new Error('Cluster type must have a "fields" property of type array.')
if(!1===t.reduce(function(e,t){return e&&"string"==typeof t},!0))throw new Error('Cluster type property "fields", must be an array of strings.')
if(void 0!==i){if(!1===Array.isArray(i))throw new Error('Cluster type property "subtype" must be an array of types.')
if(t.length!==i.length)throw new Error('Cluster properties "fields" and "subtype", must be arrays with the same length.')
var n=0
try{for(;n<i.length;n++){var r=i[n]
h(r)}}catch(e){throw new Error('Cluster property "subtype" contains an invalid type descriptor.\n'+e.message)}}}(t)
break
case e.ANALOGWAVEFORM:!function(t){var i=t.subtype
if(void 0===i)throw new Error(e.ANALOGWAVEFORM+' must have a property called "subtype".')
if(!1===s(i.name))throw new Error(e.ANALOGWAVEFORM+" subtype only accepts numerics. "+i.name+" was found instead.")}(t)
break
default:throw new Error("Unknown type: "+i)}else d(t)},u=function(e){if("string"==typeof e)return{name:e}
for(var t in e)if(e.hasOwnProperty(t)){var i=e[t]
"subtype"===t&&(Array.isArray(i)?e[t]=i.map(u):e[t]=u(i))}return e},p=function(e){return null===e||"object"!=typeof e||l(e.name)?e:e.name},m=function(e,t){return"subtype"===e||""===e?Array.isArray(t)?t.map(p):p(t):t},f=function(e){var t=function(e){var t
return"string"==typeof e&&(t=l(e)?JSON.parse(e):e),null!==e&&"object"==typeof e&&(t=e),t=u(t)}(e)
h(t),this._descriptor=t},g=function(e){var t=function(){return this._descriptor.name===e}
try{Object.defineProperty(t,"name",{value:"is"+e})}catch(e){}return t},v=f.prototype
!function(t){var i=t.prototype
for(var n in e)if(e.hasOwnProperty(n)){var r=e[n]
i["is"+r]=g(r)}}(f),v.toJSON=function(){return JSON.stringify(this._descriptor)},v.toShortJSON=function(){return JSON.stringify(this._descriptor,m)},v.isNumeric=function(){return s(this._descriptor.name)},v.isFloat=function(){return t(this._descriptor.name)},v.isSignedInteger=function(){return i(this._descriptor.name)},v.isUnsignedInteger=function(){return n(this._descriptor.name)},v.is64BitInteger=function(){return r(this._descriptor.name)},v.isInteger=function(){return o(this._descriptor.name)},v.isComplex=function(){return a(this._descriptor.name)},v.isTimeStamp=function(){return this._descriptor.name===e.TIMESTAMP},v.isAggregateType=function(){return l(this._descriptor.name)},v.makeArray=function(t,i){if(this.isArray())throw new Error("Not possible to create an array from an array.")
void 0===t&&(t=1)
var n=JSON.parse(this.toShortJSON())
return new f({name:e.ARRAY,rank:t,subtype:n,size:i})},v.getName=function(){return this._descriptor.name},v.getSubtype=function(){if(void 0!==this._nisubtype)return this._nisubtype
var e=this._descriptor.subtype
return Array.isArray(e)?this._nisubtype=e.map(function(e){return new f(e)}):"object"==typeof e&&null!==e&&(this._nisubtype=new f(e)),this._nisubtype},v.getRank=function(){return this._descriptor.rank},v.getSize=function(){return this._descriptor.size},v.getFields=function(){return this._descriptor.fields},v.equals=function(e){return e instanceof f&&(e.getName()===this.getName()&&(s=e.getFields(),l=this.getFields(),!(Array.isArray(s)&&Array.isArray(l)?s.length!==l.length||!s.reduce(function(e,t,i){return e&&t===l[i]},!0):s!==l)&&(o=e.getSubtype(),a=this.getSubtype(),!!(void 0===o&&o===a||(o instanceof f&&a instanceof f?o.equals(a):Array.isArray(o)&&Array.isArray(a)&&o.reduce(function(e,t,i){return e&&t.equals(a[i])},!0)))&&(n=e.getRank(),r=this.getRank(),(void 0===n&&n===r||n===r)&&(t=e.getSize(),i=this.getSize(),!!(void 0===t&&t===i||t.length===i.length&&t.reduce(function(e,t,n){return e&&t===i[n]},!0)))))))
var t,i,n,r,o,a,s,l},window.NITypes=Object.freeze({VOID:new f('"Void"'),BOOLEAN:new f('"Boolean"'),UINT8:new f('"UInt8"'),UINT16:new f('"UInt16"'),UINT32:new f('"UInt32"'),UINT64:new f('"UInt64"'),INT8:new f('"Int8"'),INT16:new f('"Int16"'),INT32:new f('"Int32"'),INT64:new f('"Int64"'),SINGLE:new f('"Single"'),DOUBLE:new f('"Double"'),COMPLEXSINGLE:new f('"ComplexSingle"'),COMPLEXDOUBLE:new f('"ComplexDouble"'),STRING:new f('"String"'),PATH:new f('"Path"'),TIMESTAMP:new f('"Timestamp"'),DIGITALWAVEFORM:new f('"DigitalWaveform"')}),window.NIType=f,window.NITypeNames=e}()
var M=Object.freeze({})
window.JQX.Elements.lazyRegister=!0
var N=Object.freeze({})
JQX.Utilities.Assign("Complex",class{constructor(e,t){if("string"==typeof e)this.complexNumber=this.parseComplexNumber(e),this.realPart=this.complexNumber.realPart,this.imaginaryPart=this.complexNumber.imaginaryPart
else{if("number"!=typeof e)throw new Error("Can't create complex number")
if(this.realPart=e,"number"==typeof t)this.imaginaryPart=t
else{if(void 0!==t)throw new Error("Can't create complex number: invalid imaginary part")
this.imaginaryPart=0}this.complexNumber=this.parseComplexNumber(this.realPart,this.imaginaryPart)}}valueOf(){return 0===this.imaginaryPart?this.realPart:null}isNaN(){return isNaN(this.realPart)||isNaN(this.imaginaryPart)}isZero(){return!(0!==this.realPart&&-0!==this.realPart||0!==this.imaginaryPart&&-0!==this.imaginaryPart)}isFinite(){return isFinite(this.realPart)&&isFinite(this.imaginaryPart)}isInfinite(){return!(this.isNaN()||this.isFinite())}parseComplexNumber(e,t){const i={realPart:0,imaginaryPart:0}
if(null==e)i.realPart=i.imaginaryPart=0
else if(void 0!==t)i.realPart=e,i.imaginaryPart=t
else switch(typeof e){case"object":if("imaginaryPart"in e&&"realPart"in e)i.realPart=e.realPart,i.imaginaryPart=e.imaginaryPart
else{if(2!==e.length)throw SyntaxError("Invalid Complex Number Parameter")
i.realPart=e[0],i.imaginaryPart=e[1]}break
case"string":{i.imaginaryPart=i.realPart=0
const t=e.match(/\d+\.?\d*e[+-]?\d+|\d+\.?\d*|\.\d+|./g)
let n=1,r=0
if(null===t)throw SyntaxError("Invalid Complex Number Parameter")
for(let e=0;e<t.length;e++){const o=t[e]
if(" "===o||"\t"===o||"\n"===o);else if("+"===o)n++
else if("-"===o)r++
else if("i"===o||"I"===o){if(n+r===0)throw SyntaxError("Invalid Complex Number Parameter")
" "===t[e+1]||isNaN(t[e+1])?i.imaginaryPart+=parseFloat((r%2?"-":"")+"1"):(i.imaginaryPart+=parseFloat((r%2?"-":"")+t[e+1]),e++),n=r=0}else{if(n+r===0||isNaN(o))throw SyntaxError("Invalid Complex Number Parameter")
"i"===t[e+1]||"I"===t[e+1]?(i.imaginaryPart+=parseFloat((r%2?"-":"")+o),e++):i.realPart+=parseFloat((r%2?"-":"")+o),n=r=0}}if(n+r>0)throw SyntaxError("Invalid Complex Number Parameter")
break}case"number":i.imaginaryPart=0,i.realPart=e
break
default:throw SyntaxError("Invalid Complex Number Parameter")}return i}compare(e,t){const i=this.parseComplexNumber(e,t),n=this.parseComplexNumber("1e-16")
return Math.abs(i.realPart-this.realPart)<=n&&Math.abs(i.imaginaryPart-this.imaginaryPart)<=n}toString(){let e=this.realPart,t=this.imaginaryPart,i=""
return this.isNaN()?"NaN":this.isZero()?"0":this.isInfinite()?"Infinity":(0!==e&&(i+=e),0!==t&&(0!==e?i+=t<0?" - ":" + ":t<0&&(i+="-"),1!==(t=Math.abs(t))&&(i+=t),i+="i"),i||"0")}})
var q=Object.freeze({})
const O=-1*(new Date).getTimezoneOffset(),B=[{id:"Local",offset:O,offsetHours:O/60,displayName:"",supportsDaylightSavingTime:!1},{id:"Dateline Standard Time",offset:-720,offsetHours:-12,displayName:"(UTC-12:00) International Date Line West",supportsDaylightSavingTime:!1},{id:"UTC-11",offset:-660,offsetHours:-11,displayName:"(UTC-11:00) Coordinated Universal Time-11",supportsDaylightSavingTime:!1},{id:"Hawaiteratoran Standard Time",offset:-600,offsetHours:-10,displayName:"(UTC-10:00) Hawaiterator",supportsDaylightSavingTime:!1},{id:"Alaskan Standard Time",offset:-540,offsetHours:-9,displayName:"(UTC-09:00) Alaska",supportsDaylightSavingTime:!0},{id:"Pacific Standard Time (Mexico)",offset:-480,offsetHours:-8,displayName:"(UTC-08:00) Baja California",supportsDaylightSavingTime:!0},{id:"Pacific Standard Time",offset:-480,offsetHours:-8,displayName:"(UTC-08:00) Pacific Time (US & Canada)",supportsDaylightSavingTime:!0},{id:"US Mountain Standard Time",offset:-420,offsetHours:-7,displayName:"(UTC-07:00) Arizona",supportsDaylightSavingTime:!1},{id:"Mountain Standard Time (Mexico)",offset:-420,offsetHours:-7,displayName:"(UTC-07:00) Chihuahua, La Paz, Mazatlan",supportsDaylightSavingTime:!0},{id:"Mountain Standard Time",offset:-420,offsetHours:-7,displayName:"(UTC-07:00) Mountain Time (US & Canada)",supportsDaylightSavingTime:!0},{id:"Central Standard Time",offset:-360,offsetHours:-6,displayName:"(UTC-06:00) Central Time (US & Canada)",supportsDaylightSavingTime:!0},{id:"Central America Standard Time",offset:-360,offsetHours:-6,displayName:"(UTC-06:00) Central America",supportsDaylightSavingTime:!1},{id:"Canada Central Standard Time",offset:-360,offsetHours:-6,displayName:"(UTC-06:00) Saskatchewan",supportsDaylightSavingTime:!1},{id:"Central Standard Time (Mexico)",offset:-360,offsetHours:-6,displayName:"(UTC-06:00) Guadalajara, Mexico City, Monterrey",supportsDaylightSavingTime:!0},{id:"SA Pacific Standard Time",offset:-300,offsetHours:-5,displayName:"(UTC-05:00) Bogota, Lima, Quito, Rio Branco",supportsDaylightSavingTime:!1},{id:"Eastern Standard Time",offset:-300,offsetHours:-5,displayName:"(UTC-05:00) Eastern Time (US & Canada)",supportsDaylightSavingTime:!0},{id:"US Eastern Standard Time",offset:-300,offsetHours:-5,displayName:"(UTC-05:00) Indiana (East)",supportsDaylightSavingTime:!0},{id:"Venezuela Standard Time",offset:-270,offsetHours:-4.5,displayName:"(UTC-04:30) Caracas",supportsDaylightSavingTime:!1},{id:"Atlantic Standard Time",offset:-240,offsetHours:-4,displayName:"(UTC-04:00) Atlantic Time (Canada)",supportsDaylightSavingTime:!0},{id:"Paraguay Standard Time",offset:-240,offsetHours:-4,displayName:"(UTC-04:00) Asuncion",supportsDaylightSavingTime:!0},{id:"Central Brazilian Standard Time",offset:-240,offsetHours:-4,displayName:"(UTC-04:00) Cuiaba",supportsDaylightSavingTime:!0},{id:"Pacific SA Standard Time",offset:-240,offsetHours:-4,displayName:"(UTC-04:00) Santiago",supportsDaylightSavingTime:!0},{id:"SA Western Standard Time",offset:-240,offsetHours:-4,displayName:"(UTC-04:00) Georgetown, La Paz, Manaus, San Juan",supportsDaylightSavingTime:!1},{id:"Newfoundland Standard Time",offset:-210,offsetHours:-3.5,displayName:"(UTC-03:30) Newfoundland",supportsDaylightSavingTime:!0},{id:"SA Eastern Standard Time",offset:-180,offsetHours:-3,displayName:"(UTC-03:00) Cayenne, Fortaleza",supportsDaylightSavingTime:!1},{id:"Argentina Standard Time",offset:-180,offsetHours:-3,displayName:"(UTC-03:00) Buenos Aires",supportsDaylightSavingTime:!0},{id:"E. South America Standard Time",offset:-180,offsetHours:-3,displayName:"(UTC-03:00) Brasilia",supportsDaylightSavingTime:!0},{id:"Bahia Standard Time",offset:-180,offsetHours:-3,displayName:"(UTC-03:00) Salvador",supportsDaylightSavingTime:!0},{id:"Montevideo Standard Time",offset:-180,offsetHours:-3,displayName:"(UTC-03:00) Montevideo",supportsDaylightSavingTime:!0},{id:"Greenland Standard Time",offset:-180,offsetHours:-3,displayName:"(UTC-03:00) Greenland",supportsDaylightSavingTime:!0},{id:"UTC-02",offset:-120,offsetHours:-2,displayName:"(UTC-02:00) Coordinated Universal Time-02",supportsDaylightSavingTime:!1},{id:"Mid-Atlantic Standard Time",offset:-120,offsetHours:-2,displayName:"(UTC-02:00) Mid-Atlantic - Old",supportsDaylightSavingTime:!0},{id:"Azores Standard Time",offset:-60,offsetHours:-1,displayName:"(UTC-01:00) Azores",supportsDaylightSavingTime:!0},{id:"Cape Verde Standard Time",offset:-60,offsetHours:-1,displayName:"(UTC-01:00) Cape Verde Is.",supportsDaylightSavingTime:!1},{id:"Morocco Standard Time",offset:0,offsetHours:0,displayName:"(UTC) Casablanca",supportsDaylightSavingTime:!0},{id:"UTC",offset:0,offsetHours:0,displayName:"(UTC) Coordinated Universal Time",supportsDaylightSavingTime:!1},{id:"GMT Standard Time",offset:0,offsetHours:0,displayName:"(UTC) Dublin, Edinburgh, Lisbon, London",supportsDaylightSavingTime:!0},{id:"Greenwich Standard Time",offset:0,offsetHours:0,displayName:"(UTC) Monrovia, Reykjavik",supportsDaylightSavingTime:!1},{id:"Central European Standard Time",offset:60,offsetHours:1,displayName:"(UTC+01:00) Sarajevo, Skopje, Warsaw, Zagreb",supportsDaylightSavingTime:!0},{id:"Namibia Standard Time",offset:60,offsetHours:1,displayName:"(UTC+01:00) Windhoek",supportsDaylightSavingTime:!0},{id:"W. Central Africa Standard Time",offset:60,offsetHours:1,displayName:"(UTC+01:00) West Central Africa",supportsDaylightSavingTime:!1},{id:"W. Europe Standard Time",offset:60,offsetHours:1,displayName:"(UTC+01:00) Amsterdam, Berlin, Bern, Rome, Stockholm, Vienna",supportsDaylightSavingTime:!0},{id:"Central Europe Standard Time",offset:60,offsetHours:1,displayName:"(UTC+01:00) Belgrade, Bratislava, Budapest, Ljubljana, Prague",supportsDaylightSavingTime:!0},{id:"Romance Standard Time",offset:60,offsetHours:1,displayName:"(UTC+01:00) Brussels, Copenhagen, Madrid, Paris",supportsDaylightSavingTime:!0},{id:"FLE Standard Time",offset:120,offsetHours:2,displayName:"(UTC+02:00) Helsinki, Kyiv, Riga, Sofia, Tallinn, Vilnius",supportsDaylightSavingTime:!0},{id:"South Africa Standard Time",offset:120,offsetHours:2,displayName:"(UTC+02:00) Harare, Pretoria",supportsDaylightSavingTime:!1},{id:"Turkey Standard Time",offset:120,offsetHours:2,displayName:"(UTC+02:00) Istanbul",supportsDaylightSavingTime:!0},{id:"GTB Standard Time",offset:120,offsetHours:2,displayName:"(UTC+02:00) Athens, Bucharest",supportsDaylightSavingTime:!0},{id:"Libya Standard Time",offset:120,offsetHours:2,displayName:"(UTC+02:00) Tripoli",supportsDaylightSavingTime:!0},{id:"E. Europe Standard Time",offset:120,offsetHours:2,displayName:"(UTC+02:00) E. Europe",supportsDaylightSavingTime:!0},{id:"Jordan Standard Time",offset:120,offsetHours:2,displayName:"(UTC+02:00) Amman",supportsDaylightSavingTime:!0},{id:"Middle East Standard Time",offset:120,offsetHours:2,displayName:"(UTC+02:00) Beirut",supportsDaylightSavingTime:!0},{id:"Egypt Standard Time",offset:120,offsetHours:2,displayName:"(UTC+02:00) Cairo",supportsDaylightSavingTime:!0},{id:"Syria Standard Time",offset:120,offsetHours:2,displayName:"(UTC+02:00) Damascus",supportsDaylightSavingTime:!0},{id:"Israel Standard Time",offset:120,offsetHours:2,displayName:"(UTC+02:00) Jerusalem",supportsDaylightSavingTime:!0},{id:"Arab Standard Time",offset:180,offsetHours:3,displayName:"(UTC+03:00) Kuwait, Riyadh",supportsDaylightSavingTime:!1},{id:"E. Africa Standard Time",offset:180,offsetHours:3,displayName:"(UTC+03:00) Nairobi",supportsDaylightSavingTime:!1},{id:"Arabic Standard Time",offset:180,offsetHours:3,displayName:"(UTC+03:00) Baghdad",supportsDaylightSavingTime:!0},{id:"Kaliningrad Standard Time",offset:180,offsetHours:3,displayName:"(UTC+03:00) Kaliningrad, Minsk",supportsDaylightSavingTime:!0},{id:"Iran Standard Time",offset:210,offsetHours:3.5,displayName:"(UTC+03:30) Tehran",supportsDaylightSavingTime:!0},{id:"Mauritius Standard Time",offset:240,offsetHours:4,displayName:"(UTC+04:00) Port Louis",supportsDaylightSavingTime:!0},{id:"Georgian Standard Time",offset:240,offsetHours:4,displayName:"(UTC+04:00) Tbilisi",supportsDaylightSavingTime:!1},{id:"Caucasus Standard Time",offset:240,offsetHours:4,displayName:"(UTC+04:00) Yerevan",supportsDaylightSavingTime:!0},{id:"Arabian Standard Time",offset:240,offsetHours:4,displayName:"(UTC+04:00) Abu Dhabi, Muscat",supportsDaylightSavingTime:!1},{id:"Azerbaijan Standard Time",offset:240,offsetHours:4,displayName:"(UTC+04:00) Baku",supportsDaylightSavingTime:!0},{id:"Russian Standard Time",offset:240,offsetHours:4,displayName:"(UTC+04:00) Moscow, St. Petersburg, Volgograd",supportsDaylightSavingTime:!0},{id:"Afghanistan Standard Time",offset:270,offsetHours:4.5,displayName:"(UTC+04:30) Kabul",supportsDaylightSavingTime:!1},{id:"Pakistan Standard Time",offset:300,offsetHours:5,displayName:"(UTC+05:00) Islamabad, Karachi",supportsDaylightSavingTime:!0},{id:"West Asia Standard Time",offset:300,offsetHours:5,displayName:"(UTC+05:00) Ashgabat, Tashkent",supportsDaylightSavingTime:!1},{id:"India Standard Time",offset:330,offsetHours:5.5,displayName:"(UTC+05:30) Chennai, Kolkata, Mumbai, New Delhi",supportsDaylightSavingTime:!1},{id:"Sri Lanka Standard Time",offset:330,offsetHours:5.5,displayName:"(UTC+05:30) Sri Jayawardenepura",supportsDaylightSavingTime:!1},{id:"Nepal Standard Time",offset:345,offsetHours:5.75,displayName:"(UTC+05:45) Kathmandu",supportsDaylightSavingTime:!1},{id:"Central Asia Standard Time",offset:360,offsetHours:6,displayName:"(UTC+06:00) Astana",supportsDaylightSavingTime:!1},{id:"Bangladesh Standard Time",offset:360,offsetHours:6,displayName:"(UTC+06:00) Dhaka",supportsDaylightSavingTime:!0},{id:"Ekaterinburg Standard Time",offset:360,offsetHours:6,displayName:"(UTC+06:00) Ekaterinburg",supportsDaylightSavingTime:!0},{id:"Myanmar Standard Time",offset:390,offsetHours:6.5,displayName:"(UTC+06:30) Yangon (Rangoon)",supportsDaylightSavingTime:!1},{id:"SE Asia Standard Time",offset:420,offsetHours:7,displayName:"(UTC+07:00) Bangkok, Hanoi, Jakarta",supportsDaylightSavingTime:!1},{id:"N. Central Asia Standard Time",offset:420,offsetHours:7,displayName:"(UTC+07:00) Novosibirsk",supportsDaylightSavingTime:!0},{id:"Ulaanbaatar Standard Time",offset:480,offsetHours:8,displayName:"(UTC+08:00) Ulaanbaatar",supportsDaylightSavingTime:!1},{id:"China Standard Time",offset:480,offsetHours:8,displayName:"(UTC+08:00) Beijing, Chongqing, Hong Kong, Urumqi",supportsDaylightSavingTime:!1},{id:"Singapore Standard Time",offset:480,offsetHours:8,displayName:"(UTC+08:00) Kuala Lumpur, Singapore",supportsDaylightSavingTime:!1},{id:"North Asia Standard Time",offset:480,offsetHours:8,displayName:"(UTC+08:00) Krasnoyarsk",supportsDaylightSavingTime:!0},{id:"Taipei Standard Time",offset:480,offsetHours:8,displayName:"(UTC+08:00) Taipei",supportsDaylightSavingTime:!1},{id:"W. Australia Standard Time",offset:480,offsetHours:8,displayName:"(UTC+08:00) Perth",supportsDaylightSavingTime:!0},{id:"Korea Standard Time",offset:540,offsetHours:9,displayName:"(UTC+09:00) Seoul",supportsDaylightSavingTime:!1},{id:"North Asia East Standard Time",offset:540,offsetHours:9,displayName:"(UTC+09:00) Irkutsk",supportsDaylightSavingTime:!0},{id:"Tokyo Standard Time",offset:540,offsetHours:9,displayName:"(UTC+09:00) Osaka, Sapporo, Tokyo",supportsDaylightSavingTime:!1},{id:"AUS Central Standard Time",offset:570,offsetHours:9.5,displayName:"(UTC+09:30) Darwin",supportsDaylightSavingTime:!1},{id:"Cen. Australia Standard Time",offset:570,offsetHours:9.5,displayName:"(UTC+09:30) Adelaide",supportsDaylightSavingTime:!0},{id:"West Pacific Standard Time",offset:600,offsetHours:10,displayName:"(UTC+10:00) Guam, Port Moresby",supportsDaylightSavingTime:!1},{id:"Tasmania Standard Time",offset:600,offsetHours:10,displayName:"(UTC+10:00) Hobart",supportsDaylightSavingTime:!0},{id:"E. Australia Standard Time",offset:600,offsetHours:10,displayName:"(UTC+10:00) Brisbane",supportsDaylightSavingTime:!1},{id:"AUS Eastern Standard Time",offset:600,offsetHours:10,displayName:"(UTC+10:00) Canberra, Melbourne, Sydney",supportsDaylightSavingTime:!0},{id:"Yakutsk Standard Time",offset:600,offsetHours:10,displayName:"(UTC+10:00) Yakutsk",supportsDaylightSavingTime:!0},{id:"Vladivostok Standard Time",offset:660,offsetHours:11,displayName:"(UTC+11:00) Vladivostok",supportsDaylightSavingTime:!0},{id:"Central Pacific Standard Time",offset:660,offsetHours:11,displayName:"(UTC+11:00) Solomon Is., New Caledonia",supportsDaylightSavingTime:!1},{id:"Magadan Standard Time",offset:720,offsetHours:12,displayName:"(UTC+12:00) Magadan",supportsDaylightSavingTime:!0},{id:"Kamchatka Standard Time",offset:720,offsetHours:12,displayName:"(UTC+12:00) Petropavlovsk-Kamchatsky - Old",supportsDaylightSavingTime:!0},{id:"Fiji Standard Time",offset:720,offsetHours:12,displayName:"(UTC+12:00) Fiji",supportsDaylightSavingTime:!0},{id:"New Zealand Standard Time",offset:720,offsetHours:12,displayName:"(UTC+12:00) Auckland, Wellington",supportsDaylightSavingTime:!0},{id:"UTC+12",offset:720,offsetHours:12,displayName:"(UTC+12:00) Coordinated Universal Time+12",supportsDaylightSavingTime:!1},{id:"Tonga Standard Time",offset:780,offsetHours:13,displayName:"(UTC+13:00) Nuku'alofa",supportsDaylightSavingTime:!1},{id:"Samoa Standard Time",offset:780,offsetHours:13,displayName:"(UTC+13:00) Samoa",supportsDaylightSavingTime:!0}],L=[0,31,59,90,120,151,181,212,243,273,304,334,365],R=[0,31,60,91,121,152,182,213,244,274,305,335,366]
JQX.Utilities.Assign("TimeSpan",class{constructor(){const e=this
if(e.ticksPerMillisecond=1e4,e.millisecondsPerTick=1e-4,e.ticksPerSecond=1e7,e.secondsPerTick=1e-7,e.ticksPerMinute=6e8,e.minutesPerTick=1/6e8,e.ticksPerHour=36e9,e.hoursPerTick=1/36e9,e.ticksPerDay=864e9,e.daysPerTick=1/864e9,e.millisPerSecond=1e3,e.millisPerMinute=6e4,e.millisPerHour=36e5,e.millisPerDay=864e5,e._ticks=0,1===arguments.length){if(isNaN(arguments[0]))throw new Error("Argument must be a number.")
e._ticks=arguments[0]}else if(3===arguments.length)e._ticks=e.timeToMS(arguments[0],arguments[1],arguments[2],0)
else if(4===arguments.length){const t=1e3*(3600*arguments[0]*24+3600*arguments[1]+60*arguments[2]+arguments[3])+0
e._ticks=t*e.ticksPerMillisecond}else if(5===arguments.length){const t=1e3*(3600*arguments[0]*24+3600*arguments[1]+60*arguments[2]+arguments[3])+arguments[4]
e._ticks=t*e.ticksPerMillisecond}}ticks(){return this._ticks}days(){return parseInt(this._ticks/this.ticksPerDay)}timeToMS(e,t,i,n){return parseInt((3600*e+60*t+i+n/1e3)*this.ticksPerSecond)}hours(){return parseInt(this._ticks/this.ticksPerHour)%24}milliseconds(){return parseInt(this._ticks/this.ticksPerMillisecond)%1e3}minutes(){return parseInt(this._ticks/this.ticksPerMinute)%60}seconds(){return parseInt(this._ticks/this.ticksPerSecond)%60}totalDays(){return parseInt(this._ticks*this.daysPerTick)}totalHours(){return parseInt(this._ticks*this.hoursPerTick)}totalMilliseconds(){const e=this._ticks*this.millisecondsPerTick
return parseInt(e)}totalMinutes(){return parseInt(this._ticks*this.minutesPerTick)}totalSeconds(){return parseInt(this._ticks*this.secondsPerTick)}add(e){const t=this._ticks+e._ticks
return new JQX.Utilities.TimeSpan(t)}subtract(e){const t=this._ticks-e._ticks
return new JQX.Utilities.TimeSpan(t)}duration(){const e=this
return e._ticks>=0?new JQX.Utilities.TimeSpan(e._ticks):new JQX.Utilities.TimeSpan(-e._ticks)}equals(e){return this._ticks===e._ticks}valueOf(){return this._ticks}compare(e,t){return e._ticks>t._ticks?1:e._ticks<t._ticks?-1:0}interval(e,t){const i=e*t+(e>=0?.5:-.5)
return new JQX.Utilities.TimeSpan(i*this.ticksPerMillisecond)}fromDays(e){return this.interval(e,this.millisPerDay)}fromHours(e){return this.interval(e,this.millisPerHour)}fromMilliseconds(e){return this.interval(e,1)}fromMinutes(e){return this.interval(e,this.millisPerMinute)}fromSeconds(e){return this.interval(e,this.millisPerSecond)}fromTicks(e){return new JQX.Utilities.TimeSpan(e)}toString(){return this.totalMilliseconds().toString()}negate(){return new JQX.Utilities.TimeSpan(-this._ticks)}}),JQX.Utilities.Assign("DateTime",class{constructor(){function e(e){const n=t.regexISOString.exec(e)
i=new JQX.Utilities.DateTime(parseFloat(n[1]),parseFloat(n[2]),parseFloat(n[3]),parseFloat(n[4]),parseFloat(n[5]),parseFloat(n[6]),parseFloat(n[7]),0,0,0,0,0,0,0,"UTC")}const t=this
let i
if(t.ticksPerMillisecond=1e4,t.millisecondsPerTick=1e-4,t.ticksPerSecond=1e7,t.secondsPerTick=1e-7,t.ticksPerMinute=6e8,t.minutesPerTick=1/6e8,t.ticksPerHour=36e9,t.hoursPerTick=1/36e9,t.ticksPerDay=864e9,t.daysPerTick=1/864e9,t.millisPerSecond=1e3,t.millisPerMinute=6e4,t.millisPerHour=36e5,t.millisPerDay=864e5,t.daysPerYear=365,t.daysPer4Years=1461,t.daysPer100Years=36524,t.daysPer400Years=146097,t.daysTo1601=584388,t.daysTo1899=693593,t.daysTo10000=3652059,t.minTicks=0,t.maxTicks=3155378976e9,t.maxMillis=3155378976e5,t.datePartYear=0,t.datePartDayOfYear=1,t.datePartMonth=2,t.datePartDay=3,t.daysToMonth365=L,t.daysToMonth366=R,t.minValue=new Date(0),t.maxValue=new Date(3155378976e9),t.ticksMask=0x4000000000000000,t.flagsMask=0xc000000000000000,t.localMask=0x8000000000000000,t.ticksCeiling=0x4000000000000000,t.kindUnspecified=0,t.kindUtc=0x4000000000000000,t.kindLocal=0x8000000000000000,t.kindLocalAmbiguousDst=0xc000000000000000,t.kindShift=62,t.regexTrim=/^\s+|\s+$/g,t.regexInfinity=/^[+-]?infinity$/i,t.regexHex=/^0x[a-f0-9]+$/i,t.regexParseFloat=/^[+-]?\d*\.?\d*(e[+-]?\d+)?$/,t.regexISOString=/^(\d{4})-(\d{2})-(\d{2})T(\d{2}):(\d{2}):(\d{2}).(\d{3})Z$/,t.calendar={"/":"/",":":":",firstDay:0,days:{names:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],namesAbbr:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],namesShort:["Su","Mo","Tu","We","Th","Fr","Sa"]},months:{names:["January","February","March","April","May","June","July","August","September","October","November","December",""],namesAbbr:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec",""]},AM:["AM","am","AM"],PM:["PM","pm","PM"],eras:[{name:"A.D.",start:null,offset:0}],twoDigitYearMax:2029,patterns:{d:"M/d/yyyy",D:"dddd, MMMM dd, yyyy",t:"h:mm tt",T:"h:mm:ss tt",f:"dddd, MMMM dd, yyyy h:mm tt",F:"dddd, MMMM dd, yyyy h:mm:ss tt",M:"MMMM dd",Y:"yyyy MMMM",S:"yyyy'-'MM'-'dd'T'HH':'mm':'ss",ISO:"yyyy-MM-dd hh:mm:ss",ISO2:"yyyy-MM-dd HH:mm:ss",d1:"dd.MM.yyyy",d2:"dd-MM-yyyy",zone1:"yyyy-MM-ddTHH:mm:ss-HH:mm",zone2:"yyyy-MM-ddTHH:mm:ss+HH:mm",custom:"yyyy-MM-ddTHH:mm:ss.fff",custom2:"yyyy-MM-dd HH:mm:ss.fff",FP:"yyyy-MM-dd HH:mm:ss:fff:uu:nn:pp:ee:aa:xx:oo",FPA:"yyyy/MM/dd HH:mm:ss:fffuunnppeeaaxxoo",FPA2:"yyyy-MM-dd HH:mm:ss:fffuunnppeeaaxxoo",FT:"HH:mm:ss:fff:uu:nn:pp:ee:aa:xx:oo",PP:"yyyy-MM-dd HH:mm:ss:fff:uu:nn:pp",PT:"HH:mm:ss:fff:uu:nn:pp"},percentsymbol:"%",currencysymbol:"$",currencysymbolposition:"before",decimalseparator:".",thousandsseparator:","},t.dateData=0,t.timeZone=null,t.timeZones=B,t._codeToUnit={u:"_microsecond",uu:"_microsecond",n:"_nanosecond",nn:"_nanosecond",p:"_picosecond",pp:"_picosecond",e:"_femtosecond",ee:"_femtosecond",a:"_attosecond",aa:"_attosecond",x:"_zeptosecond",xx:"_zeptosecond",o:"_yoctosecond",oo:"_yoctosecond"},t._smallUnits=["_microsecond","_nanosecond","_picosecond","_femtosecond","_attosecond","_zeptosecond","_yoctosecond"],t._microsecond=0,t._nanosecond=0,t._picosecond=0,t._femtosecond=0,t._attosecond=0,t._zeptosecond=0,t._yoctosecond=0,0===arguments.length){const e=new Date
t.dateData=t.dateToMS(e.getFullYear(),e.getMonth()+1,e.getDate())+t.timeToMS(e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds())}else if(1===arguments.length){if(void 0===arguments[0]&&(arguments[0]="todayDate"),"number"==typeof arguments[0]&&isFinite(arguments[0])||"string"!=typeof arguments[0])if("number"==typeof arguments[0])t.dateData=arguments[0]
else if(arguments[0]instanceof Date){const e=arguments[0]
t.dateData=t.dateToMS(e.getFullYear(),e.getMonth()+1,e.getDate())+t.timeToMS(e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds())}else t.dateData=arguments[0]
else{let i
"today"===arguments[0]?i=new Date:"todayDate"===arguments[0]?(i=new Date).setHours(0,0,0,0):t.regexISOString.test(arguments[0])?e(arguments[0]):i=t.tryparseDate(arguments[0]),i&&(t.dateData=t.dateToMS(i.getFullYear(),i.getMonth()+1,i.getDate())+t.timeToMS(i.getHours(),i.getMinutes(),i.getSeconds(),i.getMilliseconds()))}}else if(2===arguments.length){if(void 0===arguments[0]&&(arguments[0]="todayDate"),"number"==typeof arguments[0]&&isFinite(arguments[0])||"string"!=typeof arguments[0])if("number"==typeof arguments[0])t.dateData=arguments[0]
else if(arguments[0]instanceof Date){const e=arguments[0]
t.dateData=t.dateToMS(e.getFullYear(),e.getMonth()+1,e.getDate())+t.timeToMS(e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds())}else t.dateData=arguments[0]
else{let i
"today"===arguments[0]?i=new Date:"todayDate"===arguments[0]?(i=new Date).setHours(0,0,0,0):t.regexISOString.test(arguments[0])?e(arguments[0]):i=t.tryparseDate(arguments[0]),i&&(t.dateData=t.dateToMS(i.getFullYear(),i.getMonth()+1,i.getDate())+t.timeToMS(i.getHours(),i.getMinutes(),i.getSeconds(),i.getMilliseconds()))}t.validateTimeZone(arguments[1])}else if(arguments.length>2)if("string"==typeof arguments[0]){const e=t.tryparseDate(arguments[0],arguments[2],arguments[1])
t.dateData=t.dateToMS(e.getFullYear(),e.getMonth()+1,e.getDate())+t.timeToMS(e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds())}else{const e=arguments[0],i=arguments[1]-1,n=arguments[2],r=arguments[3]||0,o=arguments[4]||0,a=arguments[5]||0,s=arguments[6]||0,l=arguments[7]||0,d=arguments[8]||0,c=arguments[9]||0,h=arguments[10]||0,u=arguments[11]||0,p=arguments[12]||0,m=arguments[13]||0,f=new Date(e,i,n,r,o,a,s)
e<1970&&f.setFullYear(e),t.dateData=t.dateToMS(f.getFullYear(),f.getMonth()+1,f.getDate())+t.timeToMS(f.getHours(),f.getMinutes(),f.getSeconds(),f.getMilliseconds()),t._microsecond=l,t._nanosecond=d,t._picosecond=c,t._femtosecond=h,t._attosecond=u,t._zeptosecond=p,t._yoctosecond=m,arguments[14]&&t.validateTimeZone(arguments[14])}if(t.timeZone||t.validateTimeZone("Local"),i){const e=i.toTimeZone(t.timeZone)
t.dateData=e.dateData}}static validateDate(e,t,i){if(e instanceof JQX.Utilities.DateTime)return e
if(e instanceof Date)return new JQX.Utilities.DateTime(e)
try{if(new RegExp(/^\d{1,2}\/\d{1,2}\/\d{4}(, \d{1,2}:\d{2}:\d{1,2} [A|P]M)?$/).test(e)){const t=new Date(e)
if(!isNaN(t.getTime()))return new JQX.Utilities.DateTime(t)}if("string"==typeof e)return this.parseDateString(e,t,i)
if("number"==typeof e)return new JQX.Utilities.DateTime(new Date(e))}catch(e){}return t}static parseDateString(e,t,i){const n=new Date(e)
if(!isNaN(n.getTime()))return new JQX.Utilities.DateTime(n)
const r=e.indexOf("Date("),o=e.indexOf("DateTime("),a=e.lastIndexOf(")")
let s=e
if(-1===r&&-1===o||-1===a){const t=new JQX.Utilities.DateTime,n=t.parseDate(e,i)
if(n)return s=new JQX.Utilities.DateTime(n),t.copySmallTimePartValues(s),s}else{if(""===(s=(s=-1!==r?e.slice(r+5,a):e.slice(o+9,a)).replace(/'/g,"").replace(/"/g,"").replace(/^\s+|\s+$|\s+(?=\s)/g,"")).trim())return new JQX.Utilities.DateTime
if(new RegExp(/(^(\d+)(\s*,\s*\d+)+(\s*,\s*[a-zA-Z ]+)?$)/g).test(s))return(s=s.split(",")).map(function(e,t){isNaN(s[t])?s[t]=e.trim():s[t]=parseInt(e)}),-1!==r&&s[1]++,s.unshift(null),s=new(Function.prototype.bind.apply(JQX.Utilities.DateTime,s))}if(""===s.trim())return t
if(!isNaN(s))return s=new Date(parseInt(s,10)),new JQX.Utilities.DateTime(s)
try{const e=s.split(",")
2===e.length?(e[1]=e[1].trim(),e.unshift(null),s=new(Function.prototype.bind.apply(JQX.Utilities.DateTime,e))):s=new JQX.Utilities.DateTime(s)}catch(e){s=t}return s}static fromFullTimeStamp(e){e=e.toString()
const t=new JQX.Utilities.DateTime(parseFloat(e.slice(0,e.length-21)))
let i=e.slice(e.length-21),n=0
for(;i.length>0;)t[t._smallUnits[n]]=parseInt(i.slice(0,3),10),i=i.slice(3),n++
return t}static getConstructorParameters(e){return[e.year(),e.month(),e.day(),e.hour(),e.minute(),e.second(),e.millisecond(),e._microsecond,e._nanosecond,e._picosecond,e._femtosecond,e._attosecond,e._zeptosecond,e._yoctosecond,e.timeZone]}static detectDisplayMode(e,t,i){if(e.calendar.patterns[t])return-1!==["d","D","M","Y","d1","d2"].indexOf(t)?"calendar":-1!==["t","T","FT","PT"].indexOf(t)?"timePicker":"default"
const n=["d","M","y"],r=["h","H","m","s","t","f","u","n","p","e","a","x","o"],o=i.groups
let a=!1,s=!1
for(let e=0;e<o.length;e++){const t=o[e].charAt(0)
if(-1!==n.indexOf(t)?a=!0:-1!==r.indexOf(t)&&(s=!0),a&&s)break}return a===s?"default":a?"calendar":"timePicker"}static getLocalizedNames(e){const t={names:[],namesAbbr:[],namesShort:[]},i={names:[],namesAbbr:[]}
if(this[e])return this[e]
for(let i=23;i<30;i++){const n=new Date(2017,6,i),r=n.toLocaleString(e,{weekday:"long"})
t.names.push(r),t.namesAbbr.push(n.toLocaleString(e,{weekday:"short"})),t.namesShort.push(r.substring(0,2))}for(let t=0;t<12;t++){const n=new Date(2017,t,1).toLocaleString(e,{month:"long"})
i.names.push(n),i.namesAbbr.push(n.substring(0,3))}return i.names.push(""),i.namesAbbr.push(""),this[e]={days:t,months:i},this[e]}internalMS(){return this.dateData}getDatePart(e){const t=this.internalMS()
let i=parseInt(t/this.millisPerDay)
const n=parseInt(i/this.daysPer400Years)
i-=n*this.daysPer400Years
let r=parseInt(i/this.daysPer100Years)
4===r&&(r=3),i-=r*this.daysPer100Years
const o=parseInt(i/this.daysPer4Years)
i-=o*this.daysPer4Years
let a=parseInt(i/this.daysPerYear)
if(4===a&&(a=3),e===this.datePartYear)return parseInt(400*n+100*r+4*o+a+1)
if(i-=a*this.daysPerYear,e===this.datePartDayOfYear)return parseInt(i+1)
const s=3===a&&(24!==o||3===r)?this.daysToMonth366:this.daysToMonth365
let l=i>>6
for(;i>=s[l];)l++
return e===this.datePartMonth?parseInt(l):parseInt(i-s[l-1]+1)}dayOfWeek(){const e=this.dateData
return parseInt(e/this.millisPerDay+1)%7}dayOfYear(){return this.getDatePart(this.datePartDayOfYear)}weekOfYear(e){const t=this.toDate(),i=e||this.calendar.firstDay,n=new Date(t.getFullYear(),0,1),r=Math.floor((t.getTime()-n.getTime()-6e4*(t.getTimezoneOffset()-n.getTimezoneOffset()))/864e5)+1
let o,a=n.getDay()-i
if((a=a>=0?a:a+7)<4){if((o=Math.floor((r+a-1)/7)+1)>52){let e=new Date(t.getFullYear()+1,0,1).getDay()-i
o=(e=e>=0?e:e+7)<4?1:53}}else o=Math.floor((r+a-1)/7)
return o}subtract(e){return new JQX.Utilities.TimeSpan(this.dateData*this.ticksPerMillisecond-e.dateData*this.ticksPerMillisecond)}dateToMS(e,t,i){const n=this
if(e>=1&&e<=9999&&t>=1&&t<=12){e=parseInt(e)
const r=n.isLeapYear(e)?n.daysToMonth366:n.daysToMonth365
if(i>=1&&i<=r[t]-r[t-1]){const o=e-1
return(365*o+parseInt(o/4)-parseInt(o/100)+parseInt(o/400)+r[t-1]+i-1)*n.millisPerDay}}}isLeapYear(e){if(e<1||e>9999)throw new Error("Year out of Range")
return e%4==0&&(e%100!=0||e%400==0)}timeToMS(e,t,i,n){const r=this
if(e>=0&&e<24&&t>=0&&t<60&&i>=0&&i<60){const o=parseInt(3600*e+60*t+i)
return n>0&&n<1e3?o*r.millisPerSecond+n:o*r.millisPerSecond}}daysInMonth(e,t){if(t<1||t>12)throw new Error("Month out of Range")
const i=this.isLeapYear(e)?this.daysToMonth366:this.daysToMonth365
return i[t]-i[t-1]}arrayIndexOf(e,t){return e.indexOf(t)}startsWith(e,t){return 0===e.indexOf(t)}endsWith(e,t){return e.substr(e.length-t.length)===t}trim(e){return(e+"").replace(this.regexTrim,"")}expandFormat(e,t){t=t||"F"
let i,n=e.patterns,r=t.length
if(n[t])return n[t]
if(1===r){if(!(i=n[t]))throw"Invalid date format string '"+t+"'."
t=i}else 2===r&&"%"===t.charAt(0)&&(t=t.charAt(1))
return t}getEra(e,t){if(!t)return 0
if("string"==typeof e)return 0
let i,n=e.getTime()
for(let e=0,r=t.length;e<r;e++)if(null===(i=t[e].start)||n>=i)return e
return 0}toUpper(e){return e.split(" ").join(" ").toUpperCase()}toUpperArray(e){const t=[]
for(let i=0,n=e.length;i<n;i++)t[i]=this.toUpper(e[i])
return t}getEraYear(e,t,i,n){let r=e.getFullYear()
return!n&&t.eras&&(r-=t.eras[i].offset),r}getDayIndex(e,t,i){const n=this,r=e.days
let o,a=e._upperDays
return a||(e._upperDays=a=[n.toUpperArray(r.names),n.toUpperArray(r.namesAbbr),n.toUpperArray(r.namesShort)]),t=t.toUpperCase(),i?-1===(o=n.arrayIndexOf(a[1],t))&&(o=n.arrayIndexOf(a[2],t)):o=n.arrayIndexOf(a[0],t),o}getMonthIndex(e,t,i){const n=this
let r=e.months,o=e.monthsGenitive||e.months,a=e._upperMonths,s=e._upperMonthsGen
a||(e._upperMonths=a=[n.toUpperArray(r.names),n.toUpperArray(r.namesAbbr)],e._upperMonthsGen=s=[n.toUpperArray(o.names),n.toUpperArray(o.namesAbbr)]),t=n.toUpper(t)
let l=n.arrayIndexOf(i?a[1]:a[0],t)
return l<0&&(l=n.arrayIndexOf(i?s[1]:s[0],t)),l}appendPreOrPostMatch(e,t){let i=0,n=!1
for(let r=0,o=e.length;r<o;r++){const o=e.charAt(r)
switch(o){case"'":n?t.push("'"):i++,n=!1
break
case"\\":n&&t.push("\\"),n=!n
break
default:t.push(o),n=!1}}return i}getTokenRegExp(){return/\/|dddd|ddd|dd|d|MMMM|MMM|MM|M|yyyyy|yyyy|yy|y|hh|h|HH|H|mm|m|ss|s|tt|t|fff|ff|f|uu|u|nn|n|pp|p|ee|e|aa|a|xx|x|oo|o|i{1,24}|zzz|zz|z|gg|g/g}tryparseDate(e,t,i){const n=this
if(null==t&&(t=n.calendar),void 0!==i){if(Array.isArray(i))for(let r=0;r<i.length;r++){const o=n.parseDate(e,i[r],t)
if(o)return o}const r=n.parseDate(e,i,t)
if(r)return r}if(""===e)return null
if(null==e||e.substring||(e=e.toString()),null!=e&&"/Date("===e.substring(0,6)){const t=/^\/Date\((-?\d+)(\+|-)?(\d+)?\)\/$/
let i=new Date(+e.replace(/\/Date\((\d+)\)\//,"$1"))
if("Invalid Date"===i){const t=e.match(/^\/Date\((\d+)([-+]\d\d)(\d\d)\)\/$/)
i=null,t&&(i=new Date(1*t[1]+36e5*t[2]+6e4*t[3]))}if(null==i||"Invalid Date"===i||isNaN(i)){const i=t.exec(e)
if(i){const e=new Date(parseInt(i[1]))
if(i[2]){let t=parseInt(i[3])
"-"===i[2]&&(t=-t)
const n=e.getUTCMinutes()
e.setUTCMinutes(n-t)}if(!isNaN(e.valueOf()))return e}}return i}const r={jqxdate:"yyyy-MM-dd HH:mm:ss",d:"M/d/yyyy",D:"dddd, MMMM dd, yyyy",t:"h:mm tt",T:"h:mm:ss tt",f:"dddd, MMMM dd, yyyy h:mm tt",F:"dddd, MMMM dd, yyyy h:mm:ss tt",M:"MMMM dd",Y:"yyyy MMMM",S:"yyyy'-'MM'-'dd'T'HH':'mm':'ss",ISO:"yyyy-MM-dd hh:mm:ss",ISO2:"yyyy-MM-dd HH:mm:ss",ISO8601:"yyyy-MM-ddTHH:mm:ss.sssZ",d1:"dd.MM.yyyy",d2:"dd-MM-yyyy",d3:"MM-dd-yyyy",d4:"MM.dd.yyyy",zone1:"yyyy-MM-ddTHH:mm:ss-HH:mm",zone2:"yyyy-MM-ddTHH:mm:ss+HH:mm",custom:"yyyy-MM-ddTHH:mm:ss.fff",custom2:"yyyy-MM-dd HH:mm:ss.fff",iso:"yyyy-MM-ddTHH:mm:ssZ",iso_date1:"yyyy-MM-dd",iso_date2:"yyyy-MM-dd",iso_date3:"yyyy-ddd",iso_date4:"yyyy-MM-dd HH:mm",iso_date5:"yyyy-MM-dd HH:mm Z",iso_date6:"yyyy-MMM-dd",iso_date7:"yyyy-MM",iso_date8:"yyyy-MMM",iso_date9:"yyyy-MMMM",iso_date10:"yyyy-MMMM-dd",iso_time1:"HH:mm:ss.tttt",iso_time2:"HH:mm:ss",iso_time3:"HH:mm",iso_time4:"HH",iso_time5:"yyyyyy-MM-dd",iso_time6:"yyyyyy-MM-dd"}
for(let i in r){const o=n.parseDate(e,r[i],t)
if(o)return o}const o=t.patterns
for(let i in o){const r=n.parseDate(e,o[i],t)
if(r){if("ISO"===i){const i=n.parseDate(e,o.ISO2,t)
if(i)return i}return r}}let a
if("string"==typeof e){const i=[":","/","-"," ",","]
let r="",o=e=function(e,t,i){return i.replace(new RegExp(e,"g"),t)}(", ",",",e=n.trim(e))
e.indexOf(":")>=0?(r=e.substring(e.indexOf(":")-2),r=n.trim(r),o=e.substring(0,e.indexOf(":")-2)):e.toUpperCase().indexOf("AM")>=0?(r=e.substring(e.toUpperCase().indexOf("AM")-2),r=n.trim(r),o=e.substring(0,e.toUpperCase().indexOf("AM")-2)):e.toUpperCase().indexOf("PM")>=0&&(r=e.substring(e.toUpperCase().indexOf("PM")-2),r=n.trim(r),o=e.substring(0,e.toUpperCase().indexOf("PM")-2))
let s=new Date,l=!1
if(o){for(let e=0;e<i.length;e++)if(o.indexOf(i[e])>=0){a=o.split(i[e])
break}if(!a)return null
let e=new Array,r=new Array,d=new Array,c=null,h=null
for(let i=0;i<a.length;i++){const r=a[i],o=n.parseDate(r,"d",t)||n.parseDate(r,"dd",t)||n.parseDate(r,"ddd",t)||n.parseDate(r,"dddd",t)
if(o&&(e.push(o.getDate()),r.length>2)){c=i
break}}for(let e=0;e<a.length;e++){const i=a[e],o=n.parseDate(i,"M",t)||n.parseDate(i,"MM",t)||n.parseDate(i,"MMM",t)||n.parseDate(i,"MMMM",t)
if(o){if(null!=c&&c===e)continue
if(r.push(o.getMonth()),i.length>2){h=e
break}}}for(let e=0;e<a.length;e++){const i=a[e],r=n.parseDate(i,"yyyy",t)
if(r){if(null!=c&&c===e)continue
if(null!=h&&h===e)continue
d.push(r.getFullYear())}}const u=new Array
for(let t=e.length-1;t>=0;t--)for(let i=0;i<r.length;i++)for(let n=0;n<d.length;n++){const o=new Date(d[n],r[i],e[t])
d[n]<1970&&o.setFullYear(d[n]),isNaN(o.getTime())||u.push(o)}u.length>0&&(s=u[0],l=!0)}if(r){const e=r.indexOf(":")>=0?r.split(":"):r,i=n.parseDate(r,"h:mm tt",t)||n.parseDate(r,"HH:mm:ss.fff",t)||n.parseDate(r,"HH:mm:ss.ff",t)||n.parseDate(r,"h:mm:ss tt",t)||n.parseDate(r,"HH:mm:ss.tttt",t)||n.parseDate(r,"HH:mm:ss",t)||n.parseDate(r,"HH:mm",t)||n.parseDate(r,"HH",t)
let o=0,a=0,d=0,c=0
i&&!isNaN(i.getTime())?(o=i.getHours(),a=i.getMinutes(),d=i.getSeconds(),c=i.getMilliseconds()):(1===e.length&&(o=parseInt(e[0])),2===e.length&&(o=parseInt(e[0]),a=parseInt(e[1])),3===e.length&&(o=parseInt(e[0]),a=parseInt(e[1]),e[2].indexOf(".")>=0?(d=parseInt(e[2].toString().split(".")[0]),c=parseInt(e[2].toString().split(".")[1])):d=parseInt(e[2])),4===e.length&&(o=parseInt(e[0]),a=parseInt(e[1]),d=parseInt(e[2]),c=parseInt(e[3]))),!s||isNaN(o)||isNaN(a)||isNaN(d)||isNaN(c)||(s.setHours(o,a,d,c),l=!0)}if(l)return s}if(null!=e){a=[":","/","-"]
let t=!0
for(let i=0;i<a.length;i++)-1!==e.indexOf(a[i])&&(t=!1)
if(t){const t=new Number(e)
if(!isNaN(t))return new Date(t)}}return null}getParseRegExp(e,t){const i=this
let n=e._parseRegExp
if(n){const e=n[t]
if(e)return e}else e._parseRegExp=n={}
let r,o=i.expandFormat(e,t).replace(/([\^\$\.\*\+\?\|\[\]\(\)\{\}])/g,"\\\\$1"),a=["^"],s=[],l=0,d=0,c=i.getTokenRegExp()
for(;null!==(r=c.exec(o));){const e=o.slice(l,r.index)
if(l=c.lastIndex,(d+=i.appendPreOrPostMatch(e,a))%2){a.push(r[0])
continue}let t,n=r[0],h=n.length
switch(n){case"dddd":case"ddd":case"MMMM":case"MMM":case"gg":case"g":t="(\\D+)"
break
case"tt":case"t":t="(\\D*)"
break
case"yyyyy":t="(\\d{1,4})"
break
case"yyyy":t="(\\d{"+h+"})"
break
case"fff":case"ff":case"f":t="(\\d{1,"+h+"})"
break
case"dd":case"d":case"MM":case"M":case"yy":case"y":case"HH":case"H":case"hh":case"h":case"mm":case"m":case"ss":case"s":t="(\\d\\d?)"
break
case"uu":case"nn":case"pp":case"ee":case"aa":case"xx":case"oo":t="(\\d{1,3})"
break
case"zzz":t="([+-]?\\d\\d?:\\d{2})"
break
case"zz":case"z":t="([+-]?\\d\\d?)"
break
case"/":t="/"
break
default:if(!/i{1,24}/.test(n))throw"Invalid date format pattern '"+n+"'."
t="(\\d{"+n.length+"})"}t&&a.push(t),"/"!==n&&s.push(r[0])}i.appendPreOrPostMatch(o.slice(l),a),a.push("$")
const h={regExp:a.join("").replace(/\s+/g,"\\s+"),groups:s}
return n[t]=h}outOfRange(e,t,i){return e<t||e>i}expandYear(e,t){const i=this,n=new Date,r=i.getEra(n)
if(t<100){let o=e.twoDigitYearMax
o="string"==typeof o?(new Date).getFullYear()%100+parseInt(o,10):o
const a=i.getEraYear(n,e,r);(t+=a-a%100)>o&&(t-=100)}return t}padZeros(e,t){let i,n=e+""
return t>1&&n.length<t?(i=["0","00","000"][t-2]+n).substr(i.length-t,t):i=n}parseDate(e,t,i){const n=this
null==i&&(i=n.calendar),e=n.trim(e)
const r=i,o=n.getParseRegExp(r,t),a=new RegExp(o.regExp).exec(e)
if(null===a)return null
let s,l=o.groups,d=null,c=null,h=null,u=null,p=null,m=0,f=0,g=0,v=0,b=null,y=!1
for(let e=0,t=l.length;e<t;e++){const t=a[e+1]
if(t){const i=l[e],o=i.length,a=parseInt(t,10)
switch(i){case"dd":case"d":if(u=a,n.outOfRange(u,1,31))return null
break
case"MMM":case"MMMM":case"MMMMM":case"MMMMMM":case"MMMMMMM":case"MMMMMMMM":if(h=n.getMonthIndex(r,t,3===o),n.outOfRange(h,0,11))return null
break
case"M":case"MM":if(h=a-1,n.outOfRange(h,0,11))return null
break
case"y":case"yy":case"yyyy":if(c=o<4?n.expandYear(r,a):a,n.outOfRange(c,0,9999))return null
break
case"h":case"hh":if(12===(m=a)&&(m=0),n.outOfRange(m,0,11))return null
break
case"H":case"HH":if(m=a,n.outOfRange(m,0,23))return null
break
case"m":case"mm":if(f=a,n.outOfRange(f,0,59))return null
break
case"s":case"ss":if(g=a,n.outOfRange(g,0,59))return null
break
case"tt":case"t":if(!(y=r.PM&&(t===r.PM[0]||t===r.PM[1]||t===r.PM[2]))&&(!r.AM||t!==r.AM[0]&&t!==r.AM[1]&&t!==r.AM[2]))return null
break
case"f":case"ff":case"fff":if(v=a*Math.pow(10,3-o),n.outOfRange(v,0,999))return null
break
case"uu":case"nn":case"pp":case"ee":case"aa":case"xx":case"oo":if(n.outOfRange(a,0,1e3))return null
n[n._codeToUnit[i]]=a
break
case"ddd":case"dddd":if(p=n.getDayIndex(r,t,3===o),n.outOfRange(p,0,6))return null
break
case"zzz":{const e=t.split(/:/)
if(2!==e.length)return null
if(s=parseInt(e[0],10),n.outOfRange(s,-12,13))return null
const i=parseInt(e[1],10)
if(n.outOfRange(i,0,59))return null
b=60*s+(n.startsWith(t,"-")?-i:i)
break}case"z":case"zz":if(s=a,n.outOfRange(s,-12,13))return null
b=60*s
break
case"g":case"gg":{let e=t
if(!e||!r.eras)return null
e=this.trim(e.toLowerCase())
for(let t=0,i=r.eras.length;t<i;t++)if(e===r.eras[t].nathat.toLowerCase()){d=t
break}if(null===d)return null
break}default:{let e=t
e.length%3==1?e+="00":e.length%3==2&&(e+="0"),v=parseInt(e.slice(0,3),10),e=e.slice(3)
let i=0
for(;e.length>0;)n[n._smallUnits[i]]=parseInt(e.slice(0,3),10),e=e.slice(3),i++}}}}let _,w=new Date,x=r.convert
if(_=w.getFullYear(),null===c?c=_:r.eras&&(c+=r.eras[d||0].offset),null===h&&(h=0),null===u&&(u=1),x){if(null===(w=x.toGregorian(c,h,u)))return null}else{if(w.setFullYear(c,h,u),w.getDate()!==u)return null
if(null!==p&&w.getDay()!==p)return null}if(y&&m<12&&(m+=12),w.setHours(m,f,g,v),null!==b){const e=w.getMinutes()-(b+w.getTimezoneOffset())
w.setHours(w.getHours()+parseInt(e/60,10),e%60)}return w}toString(e,t){const i=this
void 0===e&&(e="yyyy-MM-dd HH:mm:ss")
const n=i.dateData.toString()+i.getFractionsOfSecondStamp()+e+(i.timeZone||"")
if(JQX.Utilities.DateTime.cache&&JQX.Utilities.DateTime.cache[n])return JQX.Utilities.DateTime.cache[n]
const r=i.toDate()
if(null==t&&(t=i.calendar),"string"==typeof r)return r
if(!e||!e.length||"i"===e){let e
return e=i.formatDate(r,t.patterns.F,t)}const o=t.eras,a="s"===e
e=i.expandFormat(t,e)
const s=[]
let l,d,c=0,h=i.getTokenRegExp()
function u(e,t){if(d)return d[t]
if(void 0!==e.getMonth)switch(t){case 0:return e.getFullYear()
case 1:return e.getMonth()
case 2:return e.getDate()}}for(;;){const n=h.lastIndex,d=h.exec(e),p=e.slice(n,d?d.index:e.length)
if(c+=i.appendPreOrPostMatch(p,s),!d)break
if(c%2){s.push(d[0])
continue}const m=d[0],f=m.length
let g
if(/i{1,24}/.test(m))s.push(i.getFirstNDigitsOfPrecision(m.length))
else switch(m){case"ddd":case"dddd":{const e=3===f?t.days.namesAbbr:t.days.names
s.push(e[r.getDay()])
break}case"d":case"dd":s.push(i.padZeros(u(r,2),f))
break
case"MMM":case"MMMM":g=u(r,1),s.push(t.months[3===f?"namesAbbr":"names"][g])
break
case"M":case"MM":s.push(i.padZeros(u(r,1)+1,f))
break
case"y":case"yy":case"yyyy":g=i.getEraYear(r,t,i.getEra(r,o),a),f<4&&(g%=100),s.push(i.padZeros(g,f))
break
case"h":case"hh":0===(l=r.getHours()%12)&&(l=12),s.push(i.padZeros(l,f))
break
case"H":case"HH":s.push(i.padZeros(r.getHours(),f))
break
case"m":case"mm":s.push(i.padZeros(r.getMinutes(),f))
break
case"s":case"ss":s.push(i.padZeros(r.getSeconds(),f))
break
case"t":case"tt":g=r.getHours()<12?t.AM?t.AM[0]:" ":t.PM?t.PM[0]:" ",s.push(1===f?g.charAt(0):g)
break
case"f":case"ff":case"fff":s.push(i.padZeros(r.getMilliseconds(),3).substr(0,f))
break
case"u":case"n":case"p":case"e":case"a":case"x":case"o":s.push(i[i._codeToUnit[m]])
break
case"uu":case"nn":case"pp":case"ee":case"aa":case"xx":case"oo":s.push(i.padZeros(i[i._codeToUnit[m]],3))
break
case"z":case"zz":s.push((i.timeZoneOffsetHours>=0?"+":"-")+i.padZeros(Math.floor(Math.abs(i.timeZoneOffsetHours)),f))
break
case"zzz":s.push((i.timeZoneOffsetHours>=0?"+":"-")+i.padZeros(Math.floor(Math.abs(i.timeZoneOffsetHours)),2)+":"+i.padZeros(60*Math.abs(i.timeZoneOffsetHours%1),2))
break
case"g":case"gg":t.eras&&s.push(t.eras[i.getEra(r,o)].name)
break
case"/":s.push(t["/"])
break
default:throw"Invalid date format pattern '"+m+"'."}}const p=s.join("")
return JQX.Utilities.DateTime.cache||(JQX.Utilities.DateTime.cache=new Array),JQX.Utilities.DateTime.cache[n]=p,p}getFractionsOfSecondStamp(){return this._microsecond.toString()+this._nanosecond+this._picosecond+this._femtosecond+this._attosecond+this._zeptosecond+this._yoctosecond}getFirstNDigitsOfPrecision(e,t){return(""+(!0!==t?this.padZeros(this.millisecond(),3):"")+this.padZeros(this._microsecond,3)+this.padZeros(this._nanosecond,3)+this.padZeros(this._picosecond,3)+this.padZeros(this._femtosecond,3)+this.padZeros(this._attosecond,3)+this.padZeros(this._zeptosecond,3)+this.padZeros(this._yoctosecond,3)).slice(0,e)}copySmallTimePartValues(e){e._microsecond=this._microsecond,e._nanosecond=this._nanosecond,e._picosecond=this._picosecond,e._femtosecond=this._femtosecond,e._attosecond=this._attosecond,e._zeptosecond=this._zeptosecond,e._yoctosecond=this._yoctosecond}add(e,t,i){const n=this,r=n.internalMS()
if(void 0===t){if(!1===i)return n.dateData=r+parseInt(e._ticks/n.ticksPerMillisecond),n
const t=new JQX.Utilities.DateTime(r+parseInt(e._ticks/n.ticksPerMillisecond))
return n.copyTimeZone(t),n.copySmallTimePartValues(t),t}const o=e*t
if(o<=-n.maxMillis||o>=n.maxMillis)throw new Error("Out of Range")
if(!1===i)return n.dateData=r+o,n
const a=new JQX.Utilities.DateTime(r+o)
return n.copyTimeZone(a),n.copySmallTimePartValues(a),a}addDays(e,t){return this.add(e,this.millisPerDay,t)}clone(){const e=new JQX.Utilities.DateTime(this.dateData)
return this.copyTimeZone(e),this.copySmallTimePartValues(e),e}clearTime(){const e=this.month(),t=this.year(),i=this.day(),n=new JQX.Utilities.DateTime(t,e,i,0,0,0,0)
return this.copyTimeZone(n),n}addHours(e,t){return this.add(e,this.millisPerHour,t)}addDeciseconds(e,t){return this.add(100*e,1,t)}addCentiseconds(e,t){return this.add(10*e,1,t)}addMilliseconds(e,t){return this.add(e,1,t)}addMinutes(e,t){return this.add(e,this.millisPerMinute,t)}addMonths(e,t){const i=this
if(e<-12e4||e>12e4)throw new Error("Invalid Months Value")
let n=parseInt(i.getDatePart(i.datePartYear)),r=parseInt(i.getDatePart(i.datePartMonth)),o=parseInt(i.getDatePart(i.datePartDay))
if(e%12==0)n+=e/12
else{const t=r-1+e
t>=0?(r=t%12+1,n+=t/12):(r=12+(t+1)%12,n+=(t-11)/12),n=parseInt(n)}if(n<1||n>9999)throw new Error("Year out of range")
const a=i.daysInMonth(n,r)
if(o>a&&(o=a),!1===t)return i.dateData=i.dateToMS(n,r,o)+i.internalMS()%i.millisPerDay,i
const s=new JQX.Utilities.DateTime(i.dateToMS(n,r,o)+i.internalMS()%i.millisPerDay)
return i.copyTimeZone(s),i.copySmallTimePartValues(s),s}addSeconds(e,t){return this.add(e,this.millisPerSecond,t)}addYears(e,t){return this.addMonths(12*e,t)}addMicroseconds(e,t){if(0===e)return
const i=this
let n,r
e<0&&0===i.hour()&&0===i.minute()&&0===i.second()&&0===i.millisecond()&&0===i._microsecond&&(n=parseInt(e/1e3,10)-1,r=1e3+e%1e3)
const o=1e3*i.timeToMS(i.hour(),i.minute(),i.second(),i.millisecond())+i._microsecond,a=o+e
let s
if(void 0===n&&(n=parseInt(a/1e3,10)-parseInt(o/1e3,10)),void 0===r&&(r=parseInt(a%1e3,10)),0!==n&&(s=i.addMilliseconds(n,t)),!1!==t)return s||(s=i.clone()),s._microsecond=r,s
i._microsecond=r}addFractionsOfSecond(e,t,i,n,r){if(0===e)return
const o=this,a=1e3*o[n]+o[i],s=e+a
let l,d=parseInt(s/1e3,10)-parseInt(a/1e3,10),c=parseInt(s%1e3,10)
if(e<0&&s<0&&c<0&&(d--,c=1e3+c),0!==d&&(l=o[r](d,t)),!1!==t)return l||(l=o.clone()),l[i]=c,l
o[i]=c}addNanoseconds(e,t){return this.addFractionsOfSecond(e,t,"_nanosecond","_microsecond","addMicroseconds")}addPicoseconds(e,t){return this.addFractionsOfSecond(e,t,"_picosecond","_nanosecond","addNanoseconds")}addFemtoseconds(e,t){return this.addFractionsOfSecond(e,t,"_femtosecond","_picosecond","addPicoseconds")}addAttoseconds(e,t){return this.addFractionsOfSecond(e,t,"_attosecond","_femtosecond","addFemtoseconds")}addZeptoseconds(e,t){return this.addFractionsOfSecond(e,t,"_zeptosecond","_attosecond","addAttoseconds")}addYoctoseconds(e,t){return this.addFractionsOfSecond(e,t,"_yoctosecond","_zeptosecond","addZeptoseconds")}getTimeZoneOffset(){const e=new Date,t=new Date(e.getFullYear(),0,1),i=new Date(e.getFullYear(),6,1),n=e.getTimezoneOffset()<Math.max(t.getTimezoneOffset(),i.getTimezoneOffset())
return{offset:-e.getTimezoneOffset()/60,dst:+n}}isInDaylightSavingTime(){const e=new Date,t=new Date(e.getFullYear(),0,1),i=new Date(e.getFullYear(),6,1)
return this.date().getTimezoneOffset()<Math.max(t.getTimezoneOffset(),i.getTimezoneOffset())}supportsDaylightSavingTime(){const e=new Date,t=new Date(e.getFullYear(),0,1),i=new Date(e.getFullYear(),6,1)
return t.getTimezoneOffset()!==i.getTimezoneOffset()}date(){const e=this.month(),t=this.year(),i=this.day(),n=new JQX.Utilities.DateTime(t,e,i)
return this.copyTimeZone(n),n}isWeekend(){return 0===this.dayOfWeek()||6===this.dayOfWeek()}toDate(e){const t=this,i=t.month(),n=t.year(),r=t.day(),o=t.hour(),a=t.minute(),s=t.second(),l=t.millisecond()
let d=new Date(n,i-1,r)
if(n<1970&&d.setFullYear(n),d.setHours(o,a,s,l),e){const i=t.timeZones.filter(function(t){return t.id===e})
if(i.length){let e=i[0].offset
const n=d.getTime()
let r=60*d.getTimezoneOffset()*1e3
if(t.timeZone){const e=t.timeZones.filter(function(e){return e.id===t.timeZone})
e.length&&(r=60*-e[0].offset*1e3)}d=new Date(n+r+6e4*e)}}return d}toTimeZone(e){const t=this
let i=e
if(null==i&&(i="Local"),t.timeZone===i)return t.clone()
const n=t.timeZones.filter(function(e){return e.id===i})
if(0===n.length)return t.clone()
const r=this.toDate(i),o=new JQX.Utilities.DateTime(r)
return o.timeZone=i,o.timeZoneOffset=n[0].offset,o.timeZoneOffsetHours=n[0].offsetHours,t.copySmallTimePartValues(o),o}day(){return this.getDatePart(this.datePartDay)}month(){return this.getDatePart(this.datePartMonth)}year(){return this.getDatePart(this.datePartYear)}millisecond(){return parseInt(this.internalMS()%1e3)}hour(){return parseInt(Math.floor(this.internalMS()/this.millisPerHour)%24)}minute(){return parseInt(this.internalMS()/this.millisPerMinute%60)}second(){return parseInt(this.internalMS()/this.millisPerSecond%60)}microsecond(){return this._microsecond}nanosecond(){return this._nanosecond}picosecond(){return this._picosecond}femtosecond(){return this._femtosecond}attosecond(){return this._attosecond}zeptosecond(){return this._zeptosecond}yoctosecond(){return this._yoctosecond}valueOf(){return this.dateData}equals(e){return this.dateData===e.dateData&&this._microsecond===e._microsecond&&this._nanosecond===e._nanosecond&&this._picosecond===e._picosecond&&this._femtosecond===e._femtosecond&&this._attosecond===e._attosecond&&this._zeptosecond===e._zeptosecond&&this._yoctosecond===e._yoctosecond}equalDateParts(e){return this.year()===e.year()&&this.month()===e.month()&&this.day()===e.day()}compare(e){const t=this
if(t.equals(e))return 0
const i=["dateData","_microsecond","_nanosecond","_picosecond","_femtosecond","_attosecond","_zeptosecond","_yoctosecond"]
for(let n=0;n<i.length;n++){const r=i[n]
if(t[r]>e[r])return 1
if(t[r]<e[r])return-1}return 0}toDateString(){return this.toDate().toDateString()}toLocaleDateString(){return this.toDate().toLocaleDateString(this.calendar.locale)}toLocaleString(){return this.toDate().toLocaleString(this.calendar.locale)}toLocaleTimeString(){return this.toDate().toLocaleTimeString(this.calendar.locale)}validateTimeZone(e){if("string"!=typeof e)return
const t=this.timeZones.filter(function(t){return t.id===e})
0!==t.length&&(this.timeZone=e,this.timeZoneOffset=t[0].offset,this.timeZoneOffsetHours=t[0].offsetHours)}copyTimeZone(e){e.timeZone=this.timeZone,e.timeZoneOffset=this.timeZoneOffset,e.timeZoneOffsetHours=this.timeZoneOffsetHours}getTimeStamp(){return new JQX.Utilities.BigNumber(this.dateData.toString()+this.getFirstNDigitsOfPrecision(void 0,!0))}})
var H=Object.freeze({})
JQX.Utilities.Assign("Draw",class{constructor(e,t){const i=this
i.host=e,i.renderEngine=t||"",i.refresh()
const n=["clear","removeElement","attr","getAttr","line","circle","rect","path","pieslice","pieSlicePath","text","measureText"]
for(let e in n)i._addFn(JQX.Utilities.Draw.prototype,n[e])}_addFn(e,t){e[t]||(e[t]=function(){return this.renderer[t].apply(this.renderer,arguments)})}_initRenderer(e){return this.createRenderer(this,e)}_internalRefresh(){const e=this
if(e.renderer||(e.host.innerHTML="",e._initRenderer(e.host)),"none"===window.getComputedStyle(e.host).display)return
const t=e.renderer
if(!t)return
const i=t.getRect()
e._render({x:1,y:1,width:i.width,height:i.height})}_render(e){this._plotRect=e}refresh(){this._internalRefresh()}getSize(){const e=this._plotRect
return{width:e.width,height:e.height}}toGreyScale(e){if(-1===e.indexOf("#"))return e
const t=this.cssToRgb(e)
t[0]=t[1]=t[2]=Math.round(.3*t[0]+.59*t[1]+.11*t[2])
const i=this.rgbToHex(t[0],t[1],t[2])
return"#"+i[0]+i[1]+i[2]}decToHex(e){return e.toString(16)}hexToDec(e){return parseInt(e,16)}rgbToHex(e,t,i){return[this.decToHex(e),this.decToHex(t),this.decToHex(i)]}hexToRgb(e,t,i){return[this.hexToDec(e),this.hexToDec(t),this.hexToDec(i)]}cssToRgb(e){return e.indexOf("rgb")<=-1?this.hexToRgb(e.substring(1,3),e.substring(3,5),e.substring(5,7)):e.substring(4,e.length-1).split(",")}hslToRgb(e){let t,i,n
const r=parseFloat(e[0]),o=parseFloat(e[1]),a=parseFloat(e[2])
if(0===o)t=i=n=a
else{const e=a<.5?a*(1+o):a+o-a*o,s=2*a-e
t=this.hueToRgb(s,e,r+1/3),i=this.hueToRgb(s,e,r),n=this.hueToRgb(s,e,r-1/3)}return[255*t,255*i,255*n]}hueToRgb(e,t,i){return i<0&&(i+=1),i>1&&(i-=1),i<1/6?e+6*(t-e)*i:i<.5?t:i<2/3?e+(t-e)*(2/3-i)*6:e}rgbToHsl(e){const t=parseFloat(e[0])/255,i=parseFloat(e[1])/255,n=parseFloat(e[2])/255,r=Math.max(t,i,n),o=Math.min(t,i,n)
let a,s,l=(r+o)/2
if(r===o)a=s=0
else{const e=r-o
switch(s=l>.5?e/(2-r-o):e/(r+o),r){case t:a=(i-n)/e+(i<n?6:0)
break
case i:a=(n-t)/e+2
break
case n:a=(t-i)/e+4}a/=6}return[a,s,l]}swap(e,t){const i=e
e=t,t=i}getNum(e){if(e.constructor!==Array){if(isNaN(e))return 0}else for(let t=0;t<e.length;t++)if(!isNaN(e[t]))return e[t]
return 0}_ptRotate(e,t,i,n,r){const o=Math.sqrt(Math.pow(Math.abs(e-i),2)+Math.pow(Math.abs(t-n),2)),a=Math.asin((e-i)/o)+r
return{x:e=i+Math.cos(a)*o,y:t=n+Math.sin(a)*o}}log(e,t){return Math.log(e)/(t?Math.log(t):1)}_mod(e,t){const i=Math.abs(e>t?t:e)
let n=1
if(0!==i)for(;i*n<100;)n*=10
return(e*=n)%(t*=n)/n}createRenderer(e,t){const i=e
let n=i.renderer=null
return document.createElementNS&&"HTML5"!==i.renderEngine&&(n=new JQX.Utilities.SvgRenderer(this)),null!==n||"HTML5"!==i.renderEngine&&void 0!==i.renderEngine||(n=new JQX.Utilities.HTML5Renderer(this)),n.init(t),i.renderer=n,n}getByPriority(e){let t=void 0
for(let i=0;i<e.length;i++){const n=e[i]
if(null!=n&&""!==n){t=n
break}}return t}get(e,t,i){return void 0!==i?e[t][i]:e[t]}min(e,t){let i=NaN
for(let n=0;n<e.length;n++){const r=this.get(e,n,t);(isNaN(i)||r<i)&&(i=r)}return i}max(e,t){let i=NaN
for(let n=0;n<e.length;n++){const r=this.get(e,n,t);(isNaN(i)||r>i)&&(i=r)}return i}sum(e,t){let i=0
for(let n=0;n<e.length;n++){const r=this.get(e,n,t)
isNaN(r)||(i+=r)}return i}count(e,t){let i=0
for(let n=0;n<e.length;n++){const r=this.get(e,n,t)
isNaN(r)||i++}return i}avg(e,t){return this.sum(e,t)/Math.max(1,this.count(e,t))}filter(e,t){if(!t)return e
const i=[]
for(let n=0;n<e.length;n++)t(e[n])&&i.push(e[n])
return i}scale(e,t,i,n){if(isNaN(e))return NaN
if((e<Math.min(t.min,t.max)||e>Math.max(t.min,t.max))&&(!n||!0!==n.ignore_range))return NaN
let r=NaN,o=1
if(void 0===t.type||"logarithmic"!==t.type){let i=Math.abs(t.max-t.min)
i||(i=1),o=Math.abs(e-Math.min(t.min,t.max))/i}else if("logarithmic"===t.type){let i=t.base
isNaN(i)&&(i=10)
let n=Math.min(t.min,t.max)
n<=0&&(n=1)
let r=Math.max(t.min,t.max)
r<=0&&(r=1)
const a=this.log(r,i)
r=Math.pow(i,a)
const s=this.log(n,i)
n=Math.pow(i,s)
const l=this.log(e,i)
o=Math.abs(l-s)/(a-s)}if("logarithmic"===i.type){let e=i.base
isNaN(e)&&(e=10)
const t=this.log(i.max,e),n=this.log(i.min,e)
i.flip&&(o=1-o)
const a=Math.min(n,t)+o*Math.abs(t-n)
r=Math.pow(e,a)}else r=Math.min(i.min,i.max)+o*Math.abs(i.max-i.min),i.flip&&(r=Math.max(i.min,i.max)-r+i.min)
return r}axis(e,t,i){if(i<=1)return[t,e];(isNaN(i)||i<2)&&(i=2)
let n=0
for(;Math.round(e)!==e&&Math.round(t)!==t&&n<10;)e*=10,t*=10,n++
let r=(t-e)/i
for(;n<10&&Math.round(r)!==r;)e*=10,t*=10,r*=10,n++
const o=[1,2,5]
let a,s=0
for(;;){let e=s%o.length,t=Math.floor(s/o.length),i=Math.pow(10,t)*o[e]
if(e=(s+1)%o.length,t=Math.floor((s+1)/o.length),a=Math.pow(10,t)*o[e],r>=i&&r<a)break
s++}const l=a,d=[]
let c=this.renderer._rnd(e,l,!1)
const h=n<=0?1:Math.pow(10,n)
for(;c<t+l;)d.push(c/h),c+=l
return d}_widgetToImage(e,t,i,n,r){let o=e
if(!o)return!1
void 0!==i&&""!==i||(i="image."+t)
let a=o.renderEngine,s=o.animation
if(o.animation="none",o.renderEngine="HTML5",o.renderEngine!==a)try{o.refresh()}catch(e){return o.renderEngine=a,o.refresh(),o.animation=s,!1}let l=o.renderer.getContainer().firstElementChild,d=!0
"function"==typeof n&&(d=n(e,l))
let c=!0
return d&&(c=this.exportImage(e,l,t,i,r)),o.renderEngine!==a&&(o.renderEngine=a,o.refresh(),o.animation=s),c}_saveAsImage(e,t){return this._widgetToImage(this,e,t)}saveAsPNG(e){return this._saveAsImage("png",e)}saveAsJPEG(e){return this._saveAsImage("jpeg",e)}exportImage(e,t,i,n,r){if(!t)return!1
let o="pdf"===i.toLowerCase()
o&&(i="jpeg"),void 0!==n&&""!==n||(n="image."+i)
let a=!0
if("print"!==i){try{if(t)if(o){r=r||"portrait"
const o={content:{image:t.toDataURL("image/"+i),width:Math.min(t.width/1.35,"portrait"===r?515:762)},pageOrientation:r}
try{pdfMake.createPdf(o).download(n)}catch(t){e.error(e.localize("missingReference",{files:"pdfmake.min.js"}))}}else{JQX.Utilities.DataExporter||e.error(e.localize("missingReference",{files:"jqxexport.js"}))
const r=new JQX.Utilities.DataExporter
t.toBlob(function(e){r.downloadFile(e,i,n)})}}catch(e){a=!1}return a}{const e=window.open("","","width=800,height=500"),i=e.document.open(),n='<!DOCTYPE html><html><head><meta charset="utf-8" /><title>jQWidgets Chart</title></head><body><img src="'+t.toDataURL()+'" /></html>'
try{i.write(n),i.close(),setTimeout(function(){e.print(),e.close()},100)}catch(e){}}}}),JQX.Utilities.Assign("Renderer",class{constructor(e){this.draw=e,this._gradients={},this._toRadiansCoefficient=2*Math.PI/360}pieSlicePath(e,t,i,n,r,o,a){n||(n=1)
const s=Math.abs(r-o),l=s>180?1:0
s>=360&&(o=r+359.99)
const d=r*this._toRadiansCoefficient,c=o*this._toRadiansCoefficient
let h=e,u=e,p=t,m=t
const f=!isNaN(i)&&i>0
f&&(a=0)
const g=Math.cos(d),v=Math.sin(d),b=Math.cos(c),y=Math.sin(c)
if(a+i>0){if(a>0){const i=(s/2+r)*this._toRadiansCoefficient
e+=a*Math.cos(i),t-=a*Math.sin(i)}f&&(h=e+i*g,p=t-i*v,u=e+i*b,m=t-i*y)}const _=e+n*g,w=e+n*b,x=t-n*v,C=t-n*y
let S=""
const T=Math.abs(Math.abs(o-r)-360)>.02
return f?(S="M "+u+","+m,S+=" a"+i+","+i,S+=" 0 "+l+",1 "+(h-u)+","+(p-m),S+=T?" L"+_+","+x:" M"+_+","+x,S+=" a"+n+","+n,S+=" 0 "+l+",0 "+(w-_)+","+(C-x),T&&(S+=" Z")):(S="M "+w+","+C,S+=" a"+n+","+n,S+=" 0 "+l+",1 "+(_-w)+","+(x-C),T&&(S+=" L"+e+","+t,S+=" Z")),S}measureText(e,t,i,n){const r=this._getTextParts(e,t,i),o=r.width
let a=r.height
!1===n&&(a/=.6)
let s={}
if(isNaN(t)&&(t=0),0===t)s={width:this._rup(o),height:this._rup(a)}
else{const e=t*Math.PI*2/360,i=Math.abs(Math.sin(e)),n=Math.abs(Math.cos(e)),r=Math.abs(o*i+a*n),l=Math.abs(o*n+a*i)
s={width:this._rup(l),height:this._rup(r)}}return n&&(s.textPartsInfo=r),s}alignTextInRect(e,t,i,n,r,o,a,s,l,d){const c=l*Math.PI*2/360,h=Math.sin(c),u=Math.cos(c),p=r*h,m=r*u
"center"===a||""===a||"undefined"===a?e+=i/2:"right"===a&&(e+=i),"center"===s||"middle"===s||""===s||"undefined"===s?t+=n/2:"bottom"===s?t+=n-o/2:"top"===s&&(t+=o/2)
let f="middle";-1!==(d=d||"").indexOf("top")?f="top":-1!==d.indexOf("bottom")&&(f="bottom")
let g="center"
return-1!==d.indexOf("left")?g="left":-1!==d.indexOf("right")&&(g="right"),"center"===g?(e-=m/2,t-=p/2):"right"===g&&(e-=m,t-=p),"top"===f?(e-=o*h,t+=o*u):"middle"===f&&(e-=o*h/2,t+=o*u/2),{x:e=this._rup(e),y:t=this._rup(t)}}adjustColor(e,t){if("string"!=typeof e)return"#000000"
if(-1===e.indexOf("#"))return e
const i=this.draw
let n=i.cssToRgb(e)
const r=i.rgbToHsl(n)
r[2]=Math.min(1,r[2]*t),r[1]=Math.min(1,r[1]*t*1.1),n=i.hslToRgb(r),e="#"
for(let t=0;t<3;t++){let r=Math.round(n[t])
1===(r=i.decToHex(r)).toString().length&&(e+="0"),e+=r}return e.toUpperCase()}_rup(e){let t=Math.round(e)
return e>t&&t++,t}_ptdist(e,t,i,n){return Math.sqrt((i-e)*(i-e)+(n-t)*(n-t))}_rnd(e,t,i,n){if(isNaN(e))return e
void 0===n&&(n=!0)
let r=e-(!0===n?e%t:this._mod(e,t))
return e===r?r:(i?e>r&&(r+=t):r>e&&(r-=t),1===t?Math.round(r):r)}_ptrnd(e){if(!document.createElementNS)return Math.round(e)===e?e:this._rnd(e,1,!1,!0)
const t=this._rnd(e,.5,!1,!0)
return.5!==Math.abs(t-Math.round(t))?t>e?t-.5:t+.5:t}_getContrastColor(e){if(void 0===e)return
let t=this.draw.hexToRgb(e.slice(1,3),e.slice(3,5),e.slice(5,7))
return(.299*t[0]+.61*t[1]+.114*t[2])/255>.6?"#000000":"#FFFFFF"}}),JQX.Utilities.Assign("SvgRenderer",class extends JQX.Utilities.Renderer{constructor(e){super(e)
this._svgns="http://www.w3.org/2000/svg",this._openGroups=[],this._clipId=0}init(e){const t=document.createElement("div")
t.className="drawContainer",t.onselectstart=function(){return!1},e.appendChild(t),this.host=e,this.container=t
try{const e=document.createElementNS(this._svgns,"svg")
e.setAttribute("version","1.1"),e.setAttribute("width","100%"),e.setAttribute("height","100%"),e.setAttribute("overflow","hidden"),t.appendChild(e),this.canvas=e}catch(e){return!1}return this._id=(new Date).getTime(),this.clear(),!0}getType(){return"SVG"}refresh(){}getRect(){return{x:0,y:0,width:Math.max(this._rup(this.host.offsetWidth)-1,0),height:Math.max(this._rup(this.host.offsetHeight)-1,0)}}getContainer(){return this.container}clear(){for(;this.canvas.childNodes.length>0;)this.removeElement(this.canvas.firstElementChild)
this._defaultParent=void 0,this._defs=document.createElementNS(this._svgns,"defs"),this._gradients={},this.canvas.appendChild(this._defs)}removeElement(e){if(void 0!==e)try{for(;e.firstChild;)this.removeElement(e.firstChild)
e.parentNode?e.parentNode.removeChild(e):this.canvas.removeChild(e)}catch(e){}}beginGroup(){const e=this._activeParent(),t=document.createElementNS(this._svgns,"g")
return e.appendChild(t),this._openGroups.push(t),t}endGroup(){0!==this._openGroups.length&&this._openGroups.pop()}_activeParent(){return 0===this._openGroups.length?this.canvas:this._openGroups[this._openGroups.length-1]}createClipRect(e){const t=document.createElementNS(this._svgns,"clipPath"),i=document.createElementNS(this._svgns,"rect")
return this.attr(i,{x:e.x,y:e.y,width:e.width,height:e.height,fill:"none"}),this._clipId=this._clipId||0,t.id="cl"+this._id+"_"+(++this._clipId).toString(),t.appendChild(i),this._defs.appendChild(t),t}getWindowHref(){let e=window.location.href
return e?e=(e=e.replace(/([\('\)])/g,"\\$1")).replace(/#.*$/,""):e}setClip(e,t){const i="url("+this.getWindowHref()+"#"+t.id+")"
return this.attr(e,{"clip-path":i})}addHandler(e,t,i){e.addEventListener(t,i)}removeHandler(){}on(e,t,i){this.addHandler(e,t,i)}off(e,t,i){this.removeHandler(e,t,i)}shape(e,t){const i=document.createElementNS(this._svgns,e)
if(i){for(let e in t)i.setAttribute(e,t[e])
return this._activeParent().appendChild(i),i}}_getTextParts(e,t,i){const n={width:0,height:0,parts:[]}
if(void 0===e)return n
const r=e.toString().split("<br>"),o=this._activeParent(),a=document.createElementNS(this._svgns,"text")
this.attr(a,i)
for(let e=0;e<r.length;e++){const t=r[e],i=a.ownerDocument.createTextNode(t)
let s
a.appendChild(i),o.appendChild(a)
try{s=a.getBBox()}catch(e){}const l=this._rup(s.width),d=this._rup(.6*s.height)
a.removeChild(i),n.width=Math.max(n.width,l),n.height+=d+(e>0?4:0),n.parts.push({width:l,height:d,text:t})}return o.removeChild(a),n}_measureText(e,t,i,n){return super.measureText(e,t,i,n)}measureText(e,t,i){return this._measureText(e,t,i,!1)}text(e,t,i,n,r,o,a,s,l,d,c){const h=this._measureText(e,o,a,!0,this).textPartsInfo,u=h.parts,p=this._getContrastColor(arguments[11])
let m
if(l||(l="center"),d||(d="center"),(u.length>1||s)&&(m=this.beginGroup()),s){const e=this.createClipRect({x:this._rup(t)-1,y:this._rup(i)-1,width:this._rup(n)+2,height:this._rup(r)+2})
this.setClip(m,e)}let f=this._activeParent(),g=0,v=0
g=h.width,v=h.height,(isNaN(n)||n<=0)&&(n=g),(isNaN(r)||r<=0)&&(r=v)
const b=n||0,y=r||0
let _=0
if(!o||0===o){let e
i+=v,"center"===d||"middle"===d?i+=(y-v)/2:"bottom"===d&&(i+=y-v),n||(n=g),r||(r=v),f=this._activeParent()
for(let n=u.length-1;n>=0;n--){e=document.createElementNS(this._svgns,"text"),this.attr(e,a),this.attr(e,{cursor:"default"})
const r=e.ownerDocument.createTextNode(u[n].text)
e.appendChild(r)
let o=t
const s=u[n].width,d=u[n].height
"center"===l?o+=(b-s)/2:"right"===l&&(o+=b-s),this.attr(e,{x:this._rup(o),y:this._rup(i+_),width:this._rup(s),height:this._rup(d)}),void 0!==p&&(e.style.fill=p),f.appendChild(e),_-=u[n].height+4}return m?(this.endGroup(),m):e}const w=this.alignTextInRect(t,i,n,r,g,v,l,d,o,c)
t=w.x,i=w.y
const x=this.shape("g",{transform:"translate("+t+","+i+")"}),C=this.shape("g",{transform:"rotate("+o+")"})
x.appendChild(C),_=0
for(let e=u.length-1;e>=0;e--){const t=document.createElementNS(this._svgns,"text")
this.attr(t,a),this.attr(t,{cursor:"default"})
const i=t.ownerDocument.createTextNode(u[e].text)
t.appendChild(i)
let n=0
const r=u[e].width,o=u[e].height
"center"===l?n+=(h.width-r)/2:"right"===l&&(n+=h.width-r),this.attr(t,{x:this._rup(n),y:this._rup(_),width:this._rup(r),height:this._rup(o)}),C.appendChild(t),_-=o+4}return f.appendChild(x),m&&this.endGroup(),x}line(e,t,i,n,r){const o=this.shape("line",{x1:e,y1:t,x2:i,y2:n})
return this.attr(o,r),o}path(e,t){const i=this.shape("path")
return i.setAttribute("d",e),t&&this.attr(i,t),i}rect(e,t,i,n,r){e=this._ptrnd(e),t=this._ptrnd(t),i=Math.max(1,this._rnd(i,1,!1)),n=Math.max(1,this._rnd(n,1,!1))
const o=this.shape("rect",{x:e,y:t,width:i,height:n})
return r&&this.attr(o,r),o}circle(e,t,i,n){const r=this.shape("circle",{cx:e,cy:t,r:i})
return n&&this.attr(r,n),r}pieslice(e,t,i,n,r,o,a,s){const l=this.pieSlicePath(e,t,i,n,r,o,a),d=this.shape("path")
return d.setAttribute("d",l),s&&this.attr(d,s),d}attr(e,t){if(e&&t)for(let i in t)"textContent"===i?e.textContent=t[i]:"width"===i||"height"===i?e.setAttribute(i,Math.max(0,t[i])):e.setAttribute(i,t[i])}removeAttr(e,t){if(e&&t)for(let i in t)"textContent"===i?e.textContent="":e.removeAttribute(t[i])}getAttr(e,t){return e.getAttribute(t)}_toLinearGradient(e,t,i){const n="grd"+this._id+e.replace("#","")+(t?"v":"h"),r="url("+this.getWindowHref()+"#"+n+")"
if(this._gradients[r])return r
const o=document.createElementNS(this._svgns,"linearGradient")
this.attr(o,{x1:"0%",y1:"0%",x2:t?"0%":"100%",y2:t?"100%":"0%",id:n})
for(let t=0;t<i.length;t++){const n=i[t],r=document.createElementNS(this._svgns,"stop"),a="stop-color:"+this.adjustColor(e,n[1])
this.attr(r,{offset:n[0]+"%",style:a}),o.appendChild(r)}return this._defs.appendChild(o),this._gradients[r]=!0,r}_toRadialGradient(e,t,i){const n="grd"+this._id+e.replace("#","")+"r"+(void 0!==i?i.key:""),r="url("+this.getWindowHref()+"#"+n+")"
if(this._gradients[r])return r
const o=document.createElementNS(this._svgns,"radialGradient")
void 0===i?this.attr(o,{cx:"50%",cy:"50%",r:"100%",fx:"50%",fy:"50%",id:n}):this.attr(o,{cx:i.x,cy:i.y,r:i.outerRadius,id:n,gradientUnits:"userSpaceOnUse"})
for(let i=0;i<t.length;i++){const n=t[i],r=document.createElementNS(this._svgns,"stop"),a="stop-color:"+this.adjustColor(e,n[1])
this.attr(r,{offset:n[0]+"%",style:a}),o.appendChild(r)}return this._defs.appendChild(o),this._gradients[r]=!0,r}}),JQX.Utilities.Assign("HTML5Renderer",class extends JQX.Utilities.Renderer{constructor(e){super(e)
this._renderers=new JQX.Utilities.HTML5RenderHelpers(this)}init(e){try{this.host=e
const t=document.createElement("div"),i=document.createElement("canvas")
t.className="chartContainer",t.style.position="relative",t.onselectstart=function(){return!1},i.id="__jqxCanvasWrap",i.style.width="100%",i.style.height="100%",t.appendChild(i),e.appendChild(t),this.canvas=i,i.width=e.offsetWidth,i.height=e.offsetHeight,this.ctx=i.getContext("2d"),this._elements={},this._maxId=0,this._gradientId=0,this._gradients={},this._currentPoint={x:0,y:0},this._lastCmd="",this._pos=0}catch(e){return!1}return!0}getType(){return"HTML5"}getContainer(){return this.host.getElementsByClassName("chartContainer")[0]}getRect(){return{x:0,y:0,width:this.canvas.width-1,height:this.canvas.height-1}}beginGroup(){}endGroup(){}setClip(){}createClipRect(){}addHandler(){}removeHandler(){}on(e,t,i){this.addHandler(e,t,i)}off(e,t,i){this.removeHandler(e,t,i)}clear(){this._elements={},this._maxId=0,this._renderers._gradients={},this._gradientId=0}removeElement(e){void 0!==e&&this._elements[e.id]&&delete this._elements[e.id]}shape(e,t){let i={type:e,id:this._maxId++}
for(let e in t)i[e]=t[e]
return this._elements[i.id]=i,i}attr(e,t){for(let i in t)e[i]=t[i]}removeAttr(e,t){for(let i in t)delete e[t[i]]}rect(e,t,i,n,r){if(isNaN(e))throw'Invalid value for "x"'
if(isNaN(t))throw'Invalid value for "y"'
if(isNaN(i))throw'Invalid value for "width"'
if(isNaN(n))throw'Invalid value for "height"'
let o=this.shape("rect",{x:e,y:t,width:i,height:n})
return r&&this.attr(o,r),o}path(e,t){let i=this.shape("path",t)
return this.attr(i,{d:e}),i}line(e,t,i,n,r){return this.path("M "+e+","+t+" L "+i+","+n,r)}circle(e,t,i,n){let r=this.shape("circle",{x:e,y:t,r:i})
return n&&this.attr(r,n),r}pieslice(e,t,i,n,r,o,a,s){let l=this.path(this.pieSlicePath(e,t,i,n,r,o,a),s)
return this.attr(l,{x:e,y:t,innerRadius:i,outerRadius:n,angleFrom:r,angleTo:o}),l}_getCSSStyle(e){const t=document.createElement("div")
t.className=e,t.style.position="absolute",t.style.visibility="hidden",this.host.appendChild(t)
let i=window.getComputedStyle(t)
return i={color:i.color,fontFamily:i.fontFamily,fontSize:i.fontSize,fontWeight:i.fontWeight},this.host.removeChild(t),i}_getTextParts(e,t,i){let n="Arial",r="10pt",o=""
if(i&&i.class){let e=this._getCSSStyle(i.class)
e.fontSize&&(r=e.fontSize),e.fontFamily&&(n=e.fontFamily),e.fontWeight&&(o=e.fontWeight)}this.ctx.font=o+" "+r+" "+n
let a={width:0,height:0,parts:[]},s=e.toString().split("<br>")
for(let e=0;e<s.length;e++){let t=s[e],i=this.ctx.measureText(t).width,n=document.createElement("span")
n.className="jqxchart",n.font=this.ctx.font,n.textContent=t,this.host.appendChild(n)
let r=.6*n.offsetHeight
this.host.removeChild(n),a.width=Math.max(a.width,this._rup(i)),a.height+=r+(e>0?4:0),a.parts.push({width:i,height:r,text:t})}return a}_measureText(e,t,i,n){return super.measureText(e,t,i,n)}measureText(e,t,i){return this._measureText(e,t,i,!1)}text(e,t,i,n,r,o,a,s,l,d,c){let h=this.shape("text",{text:e,x:t,y:i,width:n,height:r,angle:o,clip:s,halign:l,valign:d,rotateAround:c})
if(a&&this.attr(h,a),h.fontFamily="Arial",h.fontSize="10pt",h.fontWeight="",h.color=this._getContrastColor(arguments[11]),a&&a.class){let e=this._getCSSStyle(a.class)
h.fontFamily=e.fontFamily||h.fontFamily,h.fontSize=e.fontSize||h.fontSize,h.fontWeight=e.fontWeight||h.fontWeight,h.color=h.color||e.color}h.color=h.color||"#000000"
let u=this._measureText(e,0,a,!0)
return this.attr(h,{textPartsInfo:u.textPartsInfo,textWidth:u.width,textHeight:u.height}),(n<=0||isNaN(n))&&this.attr(h,{width:u.width}),(r<=0||isNaN(r))&&this.attr(h,{height:u.height}),h}_toLinearGradient(e,t,i){if(this._renderers._gradients[e])return e
let n=[]
for(let t=0;t<i.length;t++)n.push({percent:i[t][0]/100,color:this.adjustColor(e,i[t][1])})
let r="gr"+this._gradientId++
return this.createGradient(r,t?"vertical":"horizontal",n),r}_toRadialGradient(e,t){if(this._renderers._gradients[e])return e
let i=[]
for(let n=0;n<t.length;n++)i.push({percent:t[n][0]/100,color:this.adjustColor(e,t[n][1])})
let n="gr"+this._gradientId++
return this.createGradient(n,"radial",i),n}createGradient(e,t,i){this._renderers.createGradient(this,e,t,i)}refresh(){this.ctx.clearRect(0,0,this.canvas.width,this.canvas.height)
for(let e in this._elements){let t=this._elements[e]
this._renderers.setFillStyle(this,t),this._renderers.setStroke(this,t),this._renderers[this._elements[e].type](this.ctx,t)}}}),JQX.Utilities.Assign("HTML5RenderHelpers",class{constructor(e){this.HTML5Renderer=e,this._cmds="mlcazq"}ptrnd(e){if(.5===Math.abs(Math.round(e)-e))return e
let t=Math.round(e)
return t<e&&(t-=1),t+.5}createGradient(e,t,i,n){e._gradients[t]={orientation:i,colorStops:n}}setStroke(e,t){let i=e.ctx,n=t["stroke-width"]
i.strokeStyle=t.stroke||"transparent",i.lineWidth=0===n?.01:void 0!==n?n:1,void 0!==t["fill-opacity"]?i.globalAlpha=t["fill-opacity"]:void 0!==t.opacity?i.globalAlpha=t.opacity:i.globalAlpha=1,i.setLineDash&&(t["stroke-dasharray"]?i.setLineDash(t["stroke-dasharray"].split(",")):i.setLineDash([]))}setFillStyle(e,t){let i=e.ctx
if(i.fillStyle="transparent",void 0!==t["fill-opacity"]?i.globalAlpha=t["fill-opacity"]:void 0!==t.opacity?i.globalAlpha=t.opacity:i.globalAlpha=1,t.fill&&-1===t.fill.indexOf("#")&&e._gradients[t.fill]){let n,r="horizontal"!==e._gradients[t.fill].orientation,o="radial"===e._gradients[t.fill].orientation,a=this.ptrnd(t.x),s=this.ptrnd(t.y),l=this.ptrnd(t.x+(r?0:t.width)),d=this.ptrnd(t.y+(r?t.height:0))
if(("circle"===t.type||"path"===t.type||"rect"===t.type)&&o){let e=this.ptrnd(t.x),r=this.ptrnd(t.y)
const o=t.innerRadius||0,a=t.outerRadius||t.r||0
"rect"===t.type&&(e+=t.width/2,r+=t.height/2),n=i.createRadialGradient(e,r,o,e,r,a)}o||((isNaN(a)||isNaN(l)||isNaN(s)||isNaN(d))&&(a=0,s=0,l=r?0:i.canvas.width,d=r?i.canvas.height:0),n=i.createLinearGradient(a,s,l,d))
let c=e._gradients[t.fill].colorStops
for(let e=0;e<c.length;e++)n.addColorStop(c[e].percent,c[e].color)
i.fillStyle=n}else t.fill&&(i.fillStyle=t.fill)}rect(e,t){0!==t.width&&0!==t.height&&(e.fillRect(this.ptrnd(t.x),this.ptrnd(t.y),t.width,t.height),e.strokeRect(this.ptrnd(t.x),this.ptrnd(t.y),t.width,t.height))}circle(e,t){0!==t.r&&(e.beginPath(),e.arc(this.ptrnd(t.x),this.ptrnd(t.y),t.r,0,2*Math.PI,!1),e.closePath(),e.fill(),e.stroke())}_parsePoint(e){return{x:this._parseNumber(e),y:this._parseNumber(e)}}_parseNumber(e){let t,i=!1
for(t=this._pos;t<e.length;t++)if(e[t]>="0"&&e[t]<="9"||"."===e[t]||"e"===e[t]||"-"===e[t]&&!i||"-"===e[t]&&t>=1&&"e"===e[t-1])i=!0
else{if(i||" "!==e[t]&&","!==e[t])break
this._pos++}let n=parseFloat(e.substring(this._pos,t))
if(!isNaN(n))return this._pos=t,n}_isRelativeCmd(e){return-1!==this._cmds.indexOf(e)}_parseCmd(e){for(let t=this._pos;t<e.length;t++){if(-1!==this._cmds.toLowerCase().indexOf(e[t].toLowerCase()))return this._pos=t+1,this._lastCmd=e[t],this._lastCmd
if(" "!==e[t]){if(e[t]>="0"&&e[t]<="9"){if(this._pos=t,""===this._lastCmd)break
return this._lastCmd}}else this._pos++}}_toAbsolutePoint(e){return{x:this._currentPoint.x+e.x,y:this._currentPoint.y+e.y}}path(e,t){let i=t.d
this._pos=0,this._lastCmd=""
let n=void 0
for(this._currentPoint={x:0,y:0},e.beginPath();this._pos<i.length;){let t=this._parseCmd(i)
if(void 0===t)break
if("M"!==t&&"m"!==t)if("L"!==t&&"l"!==t)if("A"!==t&&"a"!==t)if("Z"!==t&&"z"!==t||void 0===n)if("C"!==t&&"c"!==t)if("Q"!==t&&"q"!==t);else{let t=this._parsePoint(i),n=this._parsePoint(i)
e.quadraticCurveTo(t.x,t.y,n.x,n.y),this._currentPoint=n}else{let t=this._parsePoint(i),n=this._parsePoint(i),r=this._parsePoint(i)
e.bezierCurveTo(t.x,t.y,n.x,n.y,r.x,r.y),this._currentPoint=r}else e.lineTo(n.x,n.y),this._currentPoint=n
else{let n=this._parseNumber(i),r=this._parseNumber(i),o=this._parseNumber(i)*(Math.PI/180),a=this._parseNumber(i),s=this._parseNumber(i),l=this._parsePoint(i)
if(this._isRelativeCmd(t)&&(l=this._toAbsolutePoint(l)),0===n||0===r)continue
let d=this._currentPoint,c={x:Math.cos(o)*(d.x-l.x)/2+Math.sin(o)*(d.y-l.y)/2,y:-Math.sin(o)*(d.x-l.x)/2+Math.cos(o)*(d.y-l.y)/2},h=Math.pow(c.x,2)/Math.pow(n,2)+Math.pow(c.y,2)/Math.pow(r,2)
h>1&&(n*=Math.sqrt(h),r*=Math.sqrt(h))
let u=(a===s?-1:1)*Math.sqrt((Math.pow(n,2)*Math.pow(r,2)-Math.pow(n,2)*Math.pow(c.y,2)-Math.pow(r,2)*Math.pow(c.x,2))/(Math.pow(n,2)*Math.pow(c.y,2)+Math.pow(r,2)*Math.pow(c.x,2)))
isNaN(u)&&(u=0)
let p={x:u*n*c.y/r,y:u*-r*c.x/n},m={x:(d.x+l.x)/2+Math.cos(o)*p.x-Math.sin(o)*p.y,y:(d.y+l.y)/2+Math.sin(o)*p.x+Math.cos(o)*p.y},f=function(e){return Math.sqrt(Math.pow(e[0],2)+Math.pow(e[1],2))},g=function(e,t){return(e[0]*t[0]+e[1]*t[1])/(f(e)*f(t))},v=function(e,t){return(e[0]*t[1]<e[1]*t[0]?-1:1)*Math.acos(g(e,t))},b=v([1,0],[(c.x-p.x)/n,(c.y-p.y)/r]),y=[(c.x-p.x)/n,(c.y-p.y)/r],_=[(-c.x-p.x)/n,(-c.y-p.y)/r],w=v(y,_)
g(y,_)<=-1&&(w=Math.PI),g(y,_)>=1&&(w=0),0===s&&w>0&&(w-=2*Math.PI),1===s&&w<0&&(w+=2*Math.PI)
let x=n>r?n:r,C=n>r?1:n/r,S=n>r?r/n:1
e.translate(m.x,m.y),e.rotate(o),e.scale(C,S),e.arc(0,0,x,b,b+w,1-s),e.scale(1/C,1/S),e.rotate(-o),e.translate(-m.x,-m.y)}else{let t=this._parsePoint(i)
if(void 0===t)break
e.lineTo(t.x,t.y),this._currentPoint=t}else{let t=this._parsePoint(i)
if(void 0===t)break
e.moveTo(t.x,t.y),this._currentPoint=t,void 0===n&&(n=t)}}e.fill(),e.stroke(),e.closePath()}text(e,t){let i=this.ptrnd(t.x),n=this.ptrnd(t.y),r=this.ptrnd(t.width),o=this.ptrnd(t.height),a=t.halign,s=t.valign,l=t.angle,d=t.rotateAround,c=t.textPartsInfo,h=c.parts,u=t.clip
void 0===u&&(u=!0),e.save(),a||(a="center"),s||(s="center"),u&&(e.rect(i,n,r,o),e.clip())
let p=t.textWidth,m=t.textHeight,f=r||0,g=o||0
if(e.fillStyle=t.color,e.font=t.fontWeight+" "+t.fontSize+" "+t.fontFamily,!l||0===l){n+=m,"center"===s||"middle"===s?n+=(g-m)/2:"bottom"===s&&(n+=g-m),r||(r=p),o||(o=m)
let t=0
for(let r=h.length-1;r>=0;r--){let o=h[r],s=i,l=h[r].width
"center"===a?s+=(f-l)/2:"right"===a&&(s+=f-l),e.fillText(o.text,s,n+t),t-=o.height+(r>0?4:0)}return void e.restore()}let v=this.HTML5Renderer.alignTextInRect(i,n,r,o,p,m,a,s,l,d)
i=v.x,n=v.y
let b=l*Math.PI*2/360
e.translate(i,n),e.rotate(b)
let y=0,_=c.width
for(let t=h.length-1;t>=0;t--){let i=0
"center"===a?i+=(_-h[t].width)/2:"right"===a&&(i+=_-h[t].width),e.fillText(h[t].text,i,y),y-=h[t].height+4}e.restore()}}),JQX.Utilities.Assign("Plot",class{constructor(e){this.renderer=e}get(e,t,i){return void 0!==i?e[t][i]:e[t]}min(e,t){let i=NaN
for(let n=0;n<e.length;n++){let r=this.get(e,n,t);(isNaN(i)||r<i)&&(i=r)}return i}max(e,t){let i=NaN
for(let n=0;n<e.length;n++){let r=this.get(e,n,t);(isNaN(i)||r>i)&&(i=r)}return i}sum(e,t){let i=0
for(let n=0;n<e.length;n++){let r=this.get(e,n,t)
isNaN(r)||(i+=r)}return i}count(e,t){let i=0
for(let n=0;n<e.length;n++){let r=this.get(e,n,t)
isNaN(r)||i++}return i}avg(e,t){return this.sum(e,t)/Math.max(1,this.count(e,t))}filter(e,t){if(!t)return e
let i=[]
for(let n=0;n<e.length;n++)t(e[n])&&i.push(e[n])
return i}scale(e,t,i,n){if(isNaN(e))return NaN
if((e<Math.min(t.min,t.max)||e>Math.max(t.min,t.max))&&(!n||!0!==n.ignore_range))return NaN
let r=NaN,o=1
if(void 0===t.type||"logarithmic"!==t.type){let i=Math.abs(t.max-t.min)
i||(i=1),o=Math.abs(e-Math.min(t.min,t.max))/i}else if("logarithmic"===t.type){let i=t.base
isNaN(i)&&(i=10)
let n=Math.min(t.min,t.max)
n<=0&&(n=1)
let r=Math.max(t.min,t.max)
r<=0&&(r=1)
let a=Math.log(r)/Math.log(i)
r=Math.pow(i,a)
let s=Math.log(n)/Math.log(i)
n=Math.pow(i,s)
let l=Math.log(e)/Math.log(i)
o=Math.abs(l-s)/(a-s)}if("logarithmic"===i.type){let e=i.base
isNaN(e)&&(e=10)
let t=Math.log(i.max)/Math.log(e),n=Math.log(i.min)/Math.log(e)
i.flip&&(o=1-o)
let a=Math.min(n,t)+o*Math.abs(t-n)
r=Math.pow(e,a)}else r=Math.min(i.min,i.max)+o*Math.abs(i.max-i.min),i.flip&&(r=Math.max(i.min,i.max)-r+i.min)
return r}axis(e,t,i){if(i<=1)return[t,e];(isNaN(i)||i<2)&&(i=2)
let n=0
for(;Math.round(e)!==e&&Math.round(t)!==t&&n<10;)e*=10,t*=10,n++
let r=(t-e)/i
for(;n<10&&Math.round(r)!==r;)e*=10,t*=10,r*=10,n++
let o,a=[1,2,5],s=0
for(;;){let e=s%a.length,t=Math.floor(s/a.length),i=Math.pow(10,t)*a[e]
if(e=(s+1)%a.length,t=Math.floor((s+1)/a.length),o=Math.pow(10,t)*a[e],r>=i&&r<o)break
s++}let l=o,d=[],c=this.renderer._rnd(e,l,!1),h=n<=0?1:Math.pow(10,n)
for(;c<t+l;)d.push(c/h),c+=l
return d}})
var V=Object.freeze({})
let F
try{BigInt,F=!0}catch(e){F=!1}JQX.Utilities.Assign("BigNumber",class{constructor(e,t,i){var n,r=this
if(JQX.Utilities.BigNumber.bigIntSupport){if(e instanceof JQX.Utilities.BigNumber){if(!Array.isArray(e._d))return new JQX.Utilities.BigNumber(e._d)
e=(e._s?"-":"")+(e._d.slice(0,e._f).join("")||"0")+(e._f!=e._d.length?"."+e._d.slice(e._f).join(""):"")}try{null===e?r._d=BigInt(0):"string"==typeof e&&-1!==e.toLowerCase().indexOf("e")?r._d=BigInt(parseFloat(e)):r._d=BigInt(e)}catch(t){try{const t=e.toString().split(".")
let i=BigInt(t[0]),n=parseInt(t[1].charAt(0))
if(i>=0&&n>=5)i+=BigInt(1)
else if(i<0)if(n>5)i-=BigInt(1)
else if(5===n){let e=1,n=t[1].charAt(e),r=!1
for(;""!==n;)if(e++,"0"!==(n=t[1].charAt(e))){r=!0
break}r&&(i-=BigInt(1))}r._d=i}catch(e){r._d=BigInt(0)}}return r._f=r._d.toString().replace("-","").length,void(r._s=r._d<0)}if(e instanceof JQX.Utilities.BigNumber){if("bigint"==typeof e._d)return new JQX.Utilities.BigNumber(e._d.toString())
for(n in{precision:0,roundType:0,_s:0,_f:0})r[n]=e[n]
return r._d=e._d.slice(),void(e._s&&1===e._d.length&&0===e._d[0]&&(r._s=!1))}if(void 0!==e&&("-0"===e&&(e="0"),new RegExp(/e/i).test(e))){var o=e.toString().toLowerCase(),a=o.indexOf("e"),s=new JQX.Utilities.BigNumber(o.slice(0,a)),l=o.slice(a+2),d=o.slice(a+1,a+2),c=new JQX.Utilities.BigNumber(10).pow(d+l)
e=s.multiply(c).toString()}for(r.precision=isNaN(t=Math.abs(t))?JQX.Utilities.BigNumber.defaultPrecision:t,r.roundType=isNaN(i=Math.abs(i))?JQX.Utilities.BigNumber.defaultRoundType:i,r._s="-"==(e+="").charAt(0),r._f=((e=e.replace(/[^\d.]/g,"").split(".",2))[0]=e[0].replace(/^0+/,"")||"0").length,n=(e=r._d=(e.join("")||"0").split("")).length;n;e[--n]=+e[n]);r.round()}static get defaultPrecision(){return 40}static get defaultRoundType(){return 4}static get bigIntSupport(){return F&&!0!==JQX.Utilities.BigNumber.ignoreBigIntNativeSupport}add(e){if(JQX.Utilities.BigNumber.bigIntSupport)return new JQX.Utilities.BigNumber(this._d+new JQX.Utilities.BigNumber(e)._d)
let t=this.normalizeOperand(this)
if(e=t.normalizeOperand(e),t.isZero()&&t._s&&(t._s=!1),0===e||e.constructor===JQX.Utilities.BigNumber&&1===e._d.length&&0===e._d[0])return new JQX.Utilities.BigNumber(t)
if(t._s!=(e=new JQX.Utilities.BigNumber(e))._s)return e._s^=1,t.subtract(e)
var i,n,r=new JQX.Utilities.BigNumber(t),o=r._d,a=e._d,s=r._f,l=e._f
for(e=Math.max(s,l),s!=l&&((l=s-l)>0?r._zeroes(a,l,1):r._zeroes(o,-l,1)),i=(s=o.length)==(l=a.length)?o.length:((l=s-l)>0?r._zeroes(a,l):r._zeroes(o,-l)).length,n=0;i;n=(o[--i]=o[i]+a[i]+n)/10>>>0,o[i]%=10);return n&&++e&&o.unshift(n),r._f=e,r.round()}subtract(e){if(JQX.Utilities.BigNumber.bigIntSupport)return new JQX.Utilities.BigNumber(this._d-new JQX.Utilities.BigNumber(e)._d)
let t=this.normalizeOperand(this)
if(e=t.normalizeOperand(e),t.isZero()&&t._s&&(t._s=!1),0===e||e.constructor===JQX.Utilities.BigNumber&&1===e._d.length&&0===e._d[0])return new JQX.Utilities.BigNumber(t)
if(t._s!=(e=new JQX.Utilities.BigNumber(e))._s)return e._s^=1,t.add(e)
var i,n,r=new JQX.Utilities.BigNumber(t),o=r.abs().compare(e.abs())+1,a=o?r:e,s=o?e:r,l=a._f,d=s._f,c=l
for(a=a._d,s=s._d,l!=d&&((d=l-d)>0?r._zeroes(s,d,1):r._zeroes(a,-d,1)),i=(l=a.length)==(d=s.length)?a.length:((d=l-d)>0?r._zeroes(s,d):r._zeroes(a,-d)).length;i;){if(a[--i]<s[i]){for(n=i;n&&!a[--n];a[n]=9);--a[n],a[i]+=10}s[i]=a[i]-s[i]}return o||(r._s^=1),r._f=c,r._d=s,r.round()}multiply(e){if(JQX.Utilities.BigNumber.bigIntSupport)return new JQX.Utilities.BigNumber(this._d*new JQX.Utilities.BigNumber(e)._d)
let t=this.normalizeOperand(this)
e=t.normalizeOperand(e)
var i,n,r,o=new JQX.Utilities.BigNumber(t),a=o._d.length>=(e=new JQX.Utilities.BigNumber(e))._d.length,s=(a?o:e)._d,l=(a?e:o)._d,d=s.length,c=l.length,h=new JQX.Utilities.BigNumber
for(i=c;i;a&&r.unshift(a),h.set(h.add(new JQX.Utilities.BigNumber(r.join("")))))for(r=new Array(c- --i).join("0").split(""),a=0,n=d;n;a+=s[--n]*l[i],r.unshift(a%10),a=a/10>>>0);return o._s=o._s!=e._s,o._f=((a=d+c-o._f-e._f)>=(n=(o._d=h._d).length)?t._zeroes(o._d,a-n+1,1).length:n)-a,o.round()}divide(e){if(JQX.Utilities.BigNumber.bigIntSupport)return new JQX.Utilities.BigNumber(this._d/new JQX.Utilities.BigNumber(e)._d)
let t=this.normalizeOperand(this)
if(e=t.normalizeOperand(e),"0"==(e=new JQX.Utilities.BigNumber(e)))throw new Error("Division by 0")
if("0"==t)return new JQX.Utilities.BigNumber
var i,n,r,o=new JQX.Utilities.BigNumber(t),a=o._d,s=e._d,l=a.length-o._f,d=s.length-e._f,c=new JQX.Utilities.BigNumber,h=0,u=1,p=0,m=0
for(c._s=o._s!=e._s,c.precision=Math.max(o.precision,e.precision),c._f=+c._d.pop(),l!=d&&o._zeroes(l>d?s:a,Math.abs(l-d)),e._f=s.length,(s=e)._s=!1,s=s.round(),e=new JQX.Utilities.BigNumber;"0"==a[0];a.shift());e:do{for(r=p=0,"0"==e&&(e._d=[],e._f=0);h<a.length&&-1==e.compare(s);++h){if(r=h+1==a.length,(!u&&++p>1||(m=r&&"0"==e&&"0"==a[h]))&&(c._f==c._d.length&&++c._f,c._d.push(0)),"0"==a[h]&&"0"==e||(e._d.push(a[h]),++e._f),m)break e
if(r&&-1==e.compare(s)&&(c._f==c._d.length&&++c._f,1)||(r=0))for(;c._d.push(0),e._d.push(0),++e._f,-1==e.compare(s););}if(u=0,-1==e.compare(s)&&!(r=0))for(;r?c._d.push(0):r=1,e._d.push(0),++e._f,-1==e.compare(s););var f
for(n=new JQX.Utilities.BigNumber,i=0;e.compare(f=n.add(s))+1&&++i;n.set(f));e.set(e.subtract(n)),!r&&c._f==c._d.length&&++c._f,c._d.push(i)}while((h<a.length||"0"!=e)&&c._d.length-c._f<=c.precision)
return c.round()}mod(e){if(JQX.Utilities.BigNumber.bigIntSupport)return new JQX.Utilities.BigNumber(this._d%new JQX.Utilities.BigNumber(e)._d)
let t=this.normalizeOperand(this)
e=t.normalizeOperand(e)
var i=t.subtract(t.divide(e).intPart().multiply(e))
return i.isZero()&&i._s&&(i._s=!i._s),i}pow(e){if(JQX.Utilities.BigNumber.bigIntSupport){let t=BigInt(1)
for(let i=BigInt(0);i<new JQX.Utilities.BigNumber(e)._d;i+=BigInt(1))t*=this._d
return new JQX.Utilities.BigNumber(t)}let t=this.normalizeOperand(this)
e=t.normalizeOperand(e)
var i,n=new JQX.Utilities.BigNumber(t)
if(0==(e=new JQX.Utilities.BigNumber(e).intPart()))return n.set(1)
for(i=Math.abs(e);--i;n.set(n.multiply(t)));return e<0?n.set(new JQX.Utilities.BigNumber(1).divide(n)):n}set(e){return e=new JQX.Utilities.BigNumber(e),this._d=e._d,this._f=e._f,this._s=e._s,this}compare(e){if(JQX.Utilities.BigNumber.bigIntSupport){const t=new JQX.Utilities.BigNumber(e)._d
return this._d===t?0:this._d>t?1:-1}let t=this.normalizeOperand(this)
e=t.normalizeOperand(e)
var i,n,r,o=t,a=t._f,s=new JQX.Utilities.BigNumber(e),l=s._f,d=[-1,1]
if(o.isZero()&&s.isZero())return 0
if(o._s!=s._s)return o._s?-1:1
if(a!=l)return d[a>l^o._s]
for(a=(r=o._d).length,l=(s=s._d).length,i=-1,n=Math.min(a,l);++i<n;)if(r[i]!=s[i])return d[r[i]>s[i]^o._s]
return a!=l?d[a>l^o._s]:0}negate(){if(JQX.Utilities.BigNumber.bigIntSupport)return new JQX.Utilities.BigNumber(this._d*BigInt(-1))
let e=this.normalizeOperand(this)
var t=new JQX.Utilities.BigNumber(e)
return t._s^=1,t}abs(){if(JQX.Utilities.BigNumber.bigIntSupport)return new JQX.Utilities.BigNumber(this._d<0?this._d*BigInt(-1):this._d)
let e=this.normalizeOperand(this)
var t=new JQX.Utilities.BigNumber(e)
return t._s=0,t}intPart(){if(JQX.Utilities.BigNumber.bigIntSupport)return new JQX.Utilities.BigNumber(this._d)
let e=this.normalizeOperand(this)
return new JQX.Utilities.BigNumber((e._s?"-":"")+(e._d.slice(0,e._f).join("")||"0"))}valueOf(e,t){return this.normalizeOperand(this).toString(e,t)}toString(e,t,i){function n(e){var t,i,n=new JQX.Utilities.BigNumber(2),o=[]
i=void 0===e?r:e
do{t=i.mod(n),o.push(t.toString()),i=i.subtract(t).divide(n).intPart()}while(1===i.compare(new JQX.Utilities.BigNumber(0)))
return o.reverse().join("")}let r,o,a
if(JQX.Utilities.BigNumber.bigIntSupport?(r=this,o=Array.isArray(r._d)?(r._s?"-":"")+(r._d.slice(0,r._f).join("")||"0")+(r._f!=r._d.length?"."+r._d.slice(r._f).join(""):""):this._d.toString()):o=((r=this.normalizeOperand(this))._s?"-":"")+(r._d.slice(0,r._f).join("")||"0")+(r._f!=r._d.length?"."+r._d.slice(r._f).join(""):""),void 0===e||10===e)return o
if(r.compare(0)>-1)switch(e){case 2:a=n(),i&&(a=a.padStart(t,"0"))
break
case 8:a=function(e){for(var t="";e.length%3!=0;)e="0"+e
for(var i=e.length/3;i>=1;i--){var n=e[3*i-3]+""+e[3*i-2]+e[3*i-1]
t=parseInt(n,2).toString(8)+""+t}return t}(n())
break
case 16:a=function(e){for(var t="";e.length%4!=0;)e="0"+e
for(var i=e.length/4;i>=1;i--){var n=e[4*i-4]+""+e[4*i-3]+e[4*i-2]+e[4*i-1]
t=parseInt(n,2).toString(16)+""+t}return t}(n()).toUpperCase(),i&&(a=a.padStart(t/4,"0"))}else a=function(e,t,i){var n=""
for(String.prototype.repeat&&(e="0".repeat(i-e.length)+e);e.length<i;)e="0"+e
for(var r=!0,o="",a=(n=(n=(n=(n=e.replace(/0/g,"a")).replace(/1/g,"b")).replace(/a/g,"1")).replace(/b/g,"0")).length-1;a>=0;a--){var s
"0"===n.charAt(a)?!0===r?(s="1",r=!1):s="0":s=!0===r?"0":"1",o=s+""+o}switch(t){case 2:return o
case 8:var l,d
switch(i){case 8:l=3,d="0"
break
case 16:l=6,d="00"
break
case 32:l=11,d="0"
break
case 64:l=22,d="00"}o=d+o
for(var c="",h=l;h>=1;h--){var u=o[3*h-3]+""+o[3*h-2]+o[3*h-1]
c=parseInt(u,2).toString(8)+""+c}return c
case 16:var p
switch(i){case 8:p=2
break
case 16:p=4
break
case 32:p=8
break
case 64:p=16}for(var m="",f=p;f>=1;f--){var g=o[4*f-4]+""+o[4*f-3]+o[4*f-2]+o[4*f-1]
m=parseInt(g,2).toString(16)+""+m}return m.toUpperCase()}}(n(r.negate()),e,t)
return a}_zeroes(e,t,i){var n=["push","unshift"][i||0]
for(++t;--t;e[n](0));return e}round(){if("_rounding"in this)return this
var e,t,i,n,r=JQX.Utilities.BigNumber,o=this.roundType,a=this._d
for(this._rounding=!0;this._f>1&&!a[0];--this._f,a.shift());for(e=this._f,i=a[t=this.precision+e];a.length>e&&!a[a.length-1];a.pop());return n=(this._s?"-":"")+(t-e?"0."+this._zeroes([],t-e-1).join(""):"")+1,a.length>t&&(i&&o!=r.DOWN&&(o==r.UP||(o==r.CEIL?!this._s:o==r.FLOOR?this._s:o==r.HALF_UP?i>=5:o==r.HALF_DOWN?i>5:o==r.HALF_EVEN&&(i>=5&&1&a[t-1])))&&this.add(n),a.splice(t,a.length-t)),delete this._rounding,this}isZero(){return 1===this._d.length&&0===this._d[0]}normalizeOperand(e){return e instanceof JQX.Utilities.BigNumber&&"bigint"==typeof e._d?new JQX.Utilities.BigNumber(e._d.toString()):e}})
var z=Object.freeze({})
JQX.Utilities.Assign("NumericProcessor",class{constructor(e,t){switch(e[t]){case"integer":return new JQX.Utilities.IntegerNumericProcessor(e,t)
case"floatingPoint":return new JQX.Utilities.DecimalNumericProcessor(e,t)
case"complex":return new JQX.Utilities.ComplexNumericProcessor(e,t)}}}),JQX.Utilities.Assign("BaseNumericProcessor",class{constructor(e,t){const i=this
i.context=e,i._longestLabelSize=0,i.numericFormatProperty=t,i.regexScientificNotation=new RegExp(/^([+\-]?(?:0|[1-9]\d*)(?:\.\d*)?(?:[eE][+\-]?\d+)?)(Y|Z|E|P|T|G|M|k|m|u|n|p|f|a|z|y){1}$/),i.regexNoLeadingZero=new RegExp(/^(-)?[.]\d+$/),i.regexLeadingZero=new RegExp(/^[+\-]?(0+)[1-9]+|^[+\-]?(0{2,})[.]|^(0{2,})$/),i.prefixesToPowers={Y:24,Z:21,E:18,P:15,T:12,G:9,M:6,k:3,m:-3,u:-6,n:-9,p:-12,f:-15,a:-18,z:-21,y:-24},window.NIComplex?i.complexConstructor=window.NIComplex:i.complexConstructor=JQX.Utilities.Complex}prepareForValidation(e,t,i){const n=this.context,r=e||void 0!==t
if(i=(i=i.toString()).replace(/\s/g,""),i=n._discardDecimalSeparator(i),this.regexLeadingZero.test(i)){const e=this.regexLeadingZero.exec(i)
i=e[1]?i.replace(e[1],""):e[2]?i.replace(e[2],"0"):i.replace(e[3],"0")}this.regexNoLeadingZero.test(i)?i="-"===i.charAt(0)?"-0"+i.slice(1):"0"+i:("integer"===n[this.numericFormatProperty]&&(10===n._radixNumber||r)||"floatingPoint"===n[this.numericFormatProperty])&&this.regexScientificNotation.test(i)&&(i=this.scientificToDecimal(i))
let o,a=!1
if("complex"===n[this.numericFormatProperty]&&!1===n._regexSpecial.nonNumericValue.test(i))try{if(n._regexSpecial.exaValue.test(i)){const e=i.indexOf("E"),t=parseFloat(i.slice(0,e))*Math.pow(10,18),n=parseFloat(i.slice(e+1,-1))
o=new this.complexConstructor(t,n)}else o=new this.complexConstructor(i)
a=!0}catch(e){a=!1}if(!1!==a||!(!r&&!1===n._regex[n._radixNumber].test(i)||r&&!1===n._regex[10].test(i)))return{value:i,enteredComplexNumber:o}
n._handleNonNumericValue(e,t,i)}isENotation(e){return new RegExp(/e/i).test(e.toString())}scientificToDecimal(e){const t=this.regexScientificNotation.exec(e),i=t[1],n=t[2]
return parseFloat(i)*Math.pow(10,this.prefixesToPowers[n])}_createMeasureLabel(){const e=this.context,t=document.createElement("div")
return t.className="jqx-label",t.style.position="absolute",t.style.visibility="hidden","far"!==e.scalePosition?e._measureLabelScale=e.$.scaleNear:e._measureLabelScale=e.$.scaleFar,e._measureLabelScale.appendChild(t),t}_addMajorTickAndLabel(e,t,i,n,r){const o=this.context,a=o._settings.leftOrTop,s=this.valueToPx(n)
let l="",d=""
if(parseInt(s)>parseInt(o._measurements.trackLength))return{tick:l,label:d}
if(o.logarithmicScale&&(e=o._formatLabel(Math.pow(10,n))),"jqx-tank"===o.nodeName.toLowerCase()||o._intervalHasChanged){let t=o._tickIntervalHandler.labelsSize
if(r){o._labelDummy.innerHTML=e
let r=this.valueToPx(n),a=this.valueToPx(o._drawMax),s=this.valueToPx(o._drawMin),l=o._labelDummy[o._settings.size],d="vertical"===o.orientation?o._labelDummy.offsetWidth:o._labelDummy.offsetHeight,c=(l+t.minLabelSize)/2,h=(l+t.maxLabelSize)/2
i=o._normalLayout?r+h<a&&r-c>s:r-h>a&&r+c<s,d>this._longestLabelSize&&(this._longestLabelSize=d)}else this._longestLabelSize=Math.max(t.minLabelOtherSize,t.maxLabelOtherSize,this._longestLabelSize)}if(o._tickValues.push(n),l='<div style="'+a+": "+s+'px;" class="jqx-tick"></div>',!1!==i){void 0===t&&(o._labelDummy.innerHTML=e,t=o._labelDummy[o._settings.size]),d+='<div class="jqx-label'+(r?" jqx-label-middle":"")+'" style="'+a+": "+(s-t/2)+'px;">'+e+"</div>"}return{tick:l,label:d}}getWordLength(e){switch(this.context._unsigned="u"===e.charAt(0),e){case"int8":case"uint8":return 8
case"int16":case"uint16":return 16
case"int32":case"uint32":return 32
case"int64":case"uint64":return 64}}getAngleByValue(e,t,i){const n=this.context
!1!==t&&n.logarithmicScale&&(e=Math.log10(e))
const r=(e-n._drawMin)*n._angleRangeCoefficient
let o
return o=void 0===n.inverted||!n.inverted&&!n.rightToLeft||n.rightToLeft&&n.inverted?n.endAngle-r:n.startAngle+r,i?o:o*Math.PI/180+Math.PI/2}getValueByAngle(e,t){const i=this.context
let n,r,o
for(void 0===i.inverted||!i.inverted&&!i.rightToLeft||i.rightToLeft&&i.inverted?(n=i.endAngle,r=e):(n=e,r=i._normalizedStartAngle);n<r;)n+=360
if(o=(n-r)/i._angleDifference*i._range+parseFloat(i._drawMin),i.logarithmicScale){if(i.customInterval)return parseFloat(Math.pow(10,this.getCoercedValue(o,!0)).toFixed(12))
o=Math.pow(10,o)}return t&&!i.coerce?Math.round(o):(o=this.createDescriptor(o,void 0,!0,!0),this.getCoercedValue(o,!1))}updateGaugeValue(e){const t=this.context,i=t.value
t.value=e,t._drawValue=t.logarithmicScale?Math.log10(e).toString():e,t._number=this.createDescriptor(t.value),t.$.digitalDisplay.value=e,t.$.fireEvent("change",{value:e,oldValue:i}),t._setAriaValue("valuenow"),delete t._valueBeforeCoercion}validateColorRange(e){const t=this.context
return Math.min(Math.max(e,t.min),t.max)}getActualValue(e){return this.context.logarithmicScale?Math.pow(10,e):e}drawGaugeLogarithmicScaleMinorTicks(e,t,i){const n=this.context
let r
t instanceof JQX.Utilities.BigNumber&&(t=parseFloat(t.toString()))
for(let t in e)if(r=t,t>=0&&t%1==0)break
for(let e=parseFloat(r);e<n._drawMax;e+=t)for(let r=2;r<=9;r++){const o=r*Math.pow(10,e+t-1)
o<n.max&&i(o)}for(let e=parseFloat(r);e>n._drawMin;e-=t)for(let t=2;t<=9;t++){const r=t*Math.pow(10,e-1)
r>n.min&&i(r)}}_getAngleDifference(e,t){const i=Math.abs(t-e)%360
return i>180?360-i:i}addCustomTicks(){const e=this,t=e.context,i=!t.logarithmicScale
let n="",r=""
function o(o){const a=t.customTicks[o],s=i?e.createDescriptor(a):Math.log10(a),l=o>0&&o<t.customTicks.length-1,d=e._addMajorTickAndLabel(t._formatLabel(a),void 0,!0,s,l)
n+=d.tick,r+=d.label}if(e._longestLabelSize=0,t._tickValues=[],t._labelDummy=e._createMeasureLabel(),t._normalLayout)for(let e=0;e<t.customTicks.length;e++)o(e)
else for(let e=t.customTicks.length-1;e>=0;e--)o(e)
"jqx-tank"===t.nodeName.toLowerCase()&&t._updateScaleWidth(e._longestLabelSize),t._appendTicksAndLabelsToScales(n,r)}addGaugeCustomTicks(){const e=this,t=e.context,i=t._distance,n=t._measurements.radius-i.majorTickDistance
let r,o
function a(i){const n=t.customTicks[i],a=e.createDescriptor(n),s=e.getAngleByValue(a,!0),l=i>0&&i<t.customTicks.length-1
r(s),o(s,n,l)}r="none"!==t.ticksVisibility&&!1!==t._plotTicks?function(e){t._drawTick(e,n,"major")}:function(){},o="none"!==t.labelsVisibility&&!1!==t._plotLabels?function(e,n,r){t._drawLabel(e,n,i.labelDistance,r)}:function(){}
for(let e=t.customTicks.length-1;e>=0;e--)a(e)}}),JQX.Utilities.Assign("IntegerNumericProcessor",class extends JQX.Utilities.BaseNumericProcessor{constructor(e,t){super(e,t)
this.context=e,this.defaultMins={int8:"-128",uint8:"0",int16:"-32768",uint16:"0",int32:"-2147483648",uint32:"0",int64:"-9223372036854775808",uint64:"0"},this.defaultMaxs={int8:"127",uint8:"255",int16:"32767",uint16:"65535",int32:"2147483647",uint32:"4294967295",int64:"9223372036854775807",uint64:"18446744073709551615"}}createDescriptor(e,t,i,n,r){const o=this.context
let a
if(e.constructor!==JQX.Utilities.BigNumber){let i=!r&&o._radixNumber?o._radixNumber:10
10===i&&t&&e.constructor!==JQX.Utilities.BigNumber&&this.isENotation(e)&&(e=JQX.Utilities.BigNumber.bigIntSupport?new JQX.Utilities.BigNumber(Math.round(e)):new JQX.Utilities.NumberRenderer(e).largeExponentialToDecimal()),a=o._toBigNumberDecimal?o._toBigNumberDecimal(e.toString(i,o._wordLengthNumber),i):new JQX.Utilities.BigNumber(e)}else a=new JQX.Utilities.BigNumber(e)
return i&&(o._unsigned&&-1===a.compare(0)&&(a=a.set(0)),n&&(a=this.validate(a,o._minObject,o._maxObject)),a=this.round(a)),a}round(e){const t=this.context
if(e instanceof window.JQX.Utilities.BigNumber&&"bigint"==typeof e._d)return e
if(e instanceof window.JQX.Utilities.BigNumber==!1||!t._wordLengthNumber||t._wordLengthNumber<64)return new JQX.Utilities.BigNumber(Math.round(e.toString()))
const i=e.mod(1)
return 1===i._d.length&&0===i._d[0]||((e=e.intPart())._s?(i._d[1]>5||5===i._d[1]&&i._d[2])&&(e=e.add(-1)):i._d[1]>4&&(e=e.add(1))),e}validate(e,t,i){let n
return n=-1===e.compare(t)?t:1===e.compare(i)?i:e}validateMinMax(e,t){const i=this.context
let n=this.defaultMins[i.wordLength],r=new JQX.Utilities.BigNumber(n),o=this.defaultMaxs[i.wordLength],a=new JQX.Utilities.BigNumber(o),s="date"!==i.mode
if(void 0===i._numberRenderer&&(i._numberRenderer=new JQX.Utilities.NumberRenderer),e&&s){null!==i.min&&(i.min=i.min.toString().replace(/\s/g,""),this.regexScientificNotation.test(i.min)&&(i.min=this.scientificToDecimal(i.min)))
let e=this.round(new JQX.Utilities.BigNumber(i.min))
null===i.min||i._minIsNull&&i._initialized||!(e.compare(r)>=0)?(i._minIsNull=!0,i.min=n,i._minObject=r):i._minObject=e}if(t&&s){null!==i.max&&(i.max=i.max.toString().replace(/\s/g,""),this.regexScientificNotation.test(i.max)&&(i.max=this.scientificToDecimal(i.max)))
let e=this.round(new JQX.Utilities.BigNumber(i.max))
null===i.max||i._maxIsNull&&i._initialized||!(e.compare(a)<=0)?(i._maxIsNull=!0,i.max=o,i._maxObject=a):i._maxObject=e}s||(i._minObject=new JQX.Utilities.BigNumber(i.min),i._maxObject=new JQX.Utilities.BigNumber(i.max)),this.compare(i._minObject,i._maxObject)||(i._minObject=r,i._maxObject=a,i._drawMin=i.logarithmicScale?0:n,i._drawMax=i.logarithmicScale?10:o,i.min=n,i.max=o),s||(i._minDate=JQX.Utilities.DateTime.fromFullTimeStamp(i.min),i._maxDate=JQX.Utilities.DateTime.fromFullTimeStamp(i.max))}valueToPx(e){const t=JQX.Utilities.BigNumber.ignoreBigIntNativeSupport
JQX.Utilities.BigNumber.ignoreBigIntNativeSupport=!0
const i=this.context,n=new JQX.Utilities.BigNumber(i._measurements.trackLength).divide(new JQX.Utilities.BigNumber(i._range))
let r
if(i._normalLayout){const t=i._drawMin instanceof JQX.Utilities.BigNumber?i._drawMin:new JQX.Utilities.BigNumber(i._drawMin)
e=new JQX.Utilities.BigNumber(e),r=parseFloat(n.multiply(e.subtract(t)).toString())}else{const t=i._drawMax instanceof JQX.Utilities.BigNumber?i._drawMax:new JQX.Utilities.BigNumber(i._drawMax)
r=parseFloat(this.round(t.subtract(e).multiply(n)).toString())}return JQX.Utilities.BigNumber.ignoreBigIntNativeSupport=t,r}pxToValue(e){const t=this.context,i=JQX.Utilities.BigNumber.ignoreBigIntNativeSupport
let n
if(JQX.Utilities.BigNumber.ignoreBigIntNativeSupport=!0,n=t._normalLayout?t._valuePerPx.multiply(e-t._trackStart):t._valuePerPx.multiply(t._trackEnd-e),n=this.round(n).toString(),JQX.Utilities.BigNumber.ignoreBigIntNativeSupport=i,t.logarithmicScale){let e=parseFloat(n)+parseFloat(t._drawMin)
return new JQX.Utilities.BigNumber(Math.round(Math.pow(10,e)))}return this.createDescriptor(t._minObject.add(n),!1,!0,!0)}compare(e,t,i){if((null===e||null===t)&&e!==t)return!0
e.constructor!==JQX.Utilities.BigNumber&&(e=new JQX.Utilities.BigNumber(e))
const n=e.compare(t)
return!0!==i?0!==n:n}incrementDecrement(e,t,i){const n=this.context
let r
if(e.constructor!==JQX.Utilities.BigNumber&&(e=new JQX.Utilities.BigNumber(e)),"add"===t){if(r=e.add(i),void 0!==n._drawMax)return r.compare(n._drawMax)>0?new JQX.Utilities.BigNumber(n._drawMax):r}else if(r=e.subtract(i),void 0!==n._drawMin)return r.compare(n._drawMin)<0?new JQX.Utilities.BigNumber(n._drawMin):r
return r}render(e,t){const i=this.context
if(!i.scientificNotation&&!0===t)return new JQX.Utilities.NumberRenderer(new JQX.Utilities.BigNumber(e)).bigNumberToExponent(i.significantDigits)
let n=e
return i.scientificNotation&&!0===t?n=new JQX.Utilities.NumberRenderer(n).toScientific(i.significantDigits,i.precisionDigits):"string"!=typeof e&&(n=e.toString(i._radixNumber,i._wordLengthNumber,i.leadingZeros)),n}addTicksAndLabels(){const e=JQX.Utilities.BigNumber.ignoreBigIntNativeSupport
JQX.Utilities.BigNumber.ignoreBigIntNativeSupport=!0
const t=this.context,i=t._measurements.trackLength,n=t._normalLayout,r=t._majorTicksInterval,o=this.round(new JQX.Utilities.BigNumber(t._range).divide(r)),a=i/o,s=new JQX.Utilities.BigNumber(t._drawMin),l=new JQX.Utilities.BigNumber(t._drawMax)
let d,c,h,u,p,m,f,g,v,b="",y=""
t._tickValues=[],this._longestLabelSize=0,n?(d=s,h=(c=r.add(d.subtract(d.mod(r)))).subtract(d),p=t._formatLabel(s),m=t._tickIntervalHandler.labelsSize.minLabelSize,u=l,f=t._formatLabel(l),g=t._tickIntervalHandler.labelsSize.maxLabelSize):(c=(d=l).subtract(d.mod(r)),h=d.subtract(c),p=t._formatLabel(l),m=t._tickIntervalHandler.labelsSize.maxLabelSize,u=s,f=t._formatLabel(s),g=t._tickIntervalHandler.labelsSize.minLabelSize),t._labelDummy=this._createMeasureLabel(),b+=(v=this._addMajorTickAndLabel(p,m,!0,d)).tick,y+=v.label
const _=h.divide(r).multiply(a)
if(0!==c.compare(t.max)&&_.compare(i)<0){const e=t._formatLabel(c.toString()),i=_.compare(m)>0
b+=(v=this._addMajorTickAndLabel(e,void 0,i,c,!0)).tick,y+=v.label}b+=(v=this.addMiddleMajorTicks(o,a,_,h,n,r)).tick,y+=v.label,b+=(v=this._addMajorTickAndLabel(f,g,!0,u)).tick,y+=v.label,"date"!==t.mode&&(b+=this.addMinorTicks(n)),t._measureLabelScale.removeChild(t._labelDummy),delete t._labelDummy,delete t._measureLabelScale,"jqx-tank"===t.nodeName.toLowerCase()&&t._updateScaleWidth(this._longestLabelSize),t._appendTicksAndLabelsToScales(b,y),JQX.Utilities.BigNumber.ignoreBigIntNativeSupport=e}addMiddleMajorTicks(e,t,i,n,r,o){const a=this.context
let s,l="",d=""
for(let c=1;c<e;c++){let h,u=i.add(c*t)
if(r?h=o.multiply(c).add(n.add(new JQX.Utilities.BigNumber(a._drawMin))):(h=new JQX.Utilities.BigNumber(a._drawMax).subtract(n).subtract(o.multiply(c)),c===e-1&&0===h.compare(0)&&(a._numberRenderer.numericValue=a._tickIntervalHandler.nearestPowerOfTen,s=a._numberRenderer.bigNumberToExponent(1))),0!==h.compare(a._drawMax)){let i=a._formatLabel(h.toString()),n=!0
a._labelDummy.innerHTML=s||i
let r=a._labelDummy[a._settings.size]
u.add(r).compare(e*t)>=0&&(n=!1)
const o=this._addMajorTickAndLabel(i,void 0,n,h,!0)
l+=o.tick,d+=o.label}}return{tick:l,label:d}}addMinorTicks(e){function t(e){-1===n.indexOf(e)&&e%o==0&&(c+='<div style="'+a+": "+i._numericProcessor.valueToPx(e)+'px;" class="jqx-tick jqx-tick-minor"></div>')}const i=this.context,n=i._tickValues,r=i._tickIntervalHandler.nearestPowerOfTen,o=i._minorTicksInterval,a=i._settings.leftOrTop
let s,l,d,c=""
if(e?(s=n[0],l=n[1],d=n[n.length-1]):(s=n[n.length-1],l=n[n.length-2],d=n[0]),i.logarithmicScale)!function(){let e=i._measurements.trackLength/n.length,t=.1
e<20?t=1:e>=20&&e<40?t=l-s>1?1:.5:e>=40&&e<80&&(t=.2)
let r=Math.floor(i._drawMax),o=i._drawMax-r,d=i._drawMax-i._drawMin>n.length
for(let e=i._drawMax;e>0;e-=1){let n=o>0?Math.pow(10,e-o+1):Math.pow(10,e),r=n*t
for(let e=n;e>0;e-=r)if(e<i.max&&e>i.min){let t=new JQX.Utilities.BigNumber(Math.log10(e));(t%1==0&&d||!d)&&(c+='<div style="'+a+": "+i._numericProcessor.valueToPx(t)+'px;" class="jqx-tick jqx-tick-minor"></div>')}}}()
else{for(let e=l;s.compare(e)<0;e=e.subtract(r))t(e)
for(let e=l.add(r);d.compare(e)>0;e=e.add(r))t(e)}return c}validateCustomTicks(){const e=this.context,t="date"!==e.mode
let i=[]
for(let n=0;n<e.customTicks.length;n++){let r=e.customTicks[n]
t?r=this.createDescriptor(r,!1,!0):void 0===r._d&&(r=JQX.Utilities.DateTime.validateDate(r).getTimeStamp()),r.compare(e._minObject)>=0&&r.compare(e._maxObject)<=0&&i.push(r)}if(i.sort(function(e,t){return e.compare(t)}),t){for(let e=0;e<i.length;e++)i[e]=i[e].toString()
i=i.filter(function(e,t,i){return!t||e!==i[t-1]})}e.customTicks=i.slice(0)}addGaugeTicksAndLabels(){const e=JQX.Utilities.BigNumber.ignoreBigIntNativeSupport
JQX.Utilities.BigNumber.ignoreBigIntNativeSupport=!0
const t=this.context,i=this,n=Math.max(t._tickIntervalHandler.labelsSize.minLabelSize,t._tickIntervalHandler.labelsSize.maxLabelSize),r=t._majorTicksInterval,o=t._minorTicksInterval,a={},s=t._distance,l=t._measurements.radius,d=l-s.majorTickDistance,c=l-s.minorTickDistance,h=new JQX.Utilities.BigNumber(t._drawMin),u=new JQX.Utilities.BigNumber(t._drawMax)
let p,m,f,g,v,b
"none"!==t.ticksVisibility&&!1!==t._plotTicks?(p=function(e){t._drawTick(e,d,"major")},m=function(e){t._drawTick(i.getAngleByValue(e,!0),c,"minor")}):(p=function(){},m=function(){}),f="none"!==t.labelsVisibility&&!1!==t._plotLabels?function(e,i,n){t._drawLabel(e,i,s.labelDistance,n)}:function(){},void 0===t.inverted||!t.inverted&&!t.rightToLeft||t.rightToLeft&&t.inverted?(v=t.endAngle,b=t.startAngle):(v=t.startAngle,b=t.endAngle),p(g=i.getAngleByValue(h,!1)),a[t._drawMin.toString()]=!0,f(g,t.min,!1)
let y,_,w=h.subtract(h.mod(r));-1!==h.compare(0)&&(w=w.add(r))
for(let e=new JQX.Utilities.BigNumber(w);-1!==e.compare(h);e=e.subtract(o))y=e
for(p(g=i.getAngleByValue(w,!1)),a[w.toString()]=!0,2*Math.PI*t._measurements.innerRadius*(this._getAngleDifference(v,i.getAngleByValue(w,!1,!0))/360)>n&&f(g,this.getActualValue(w),-1===w.compare(u)),_=w.add(r);-1===_.compare(u.subtract(r));_=_.add(r))p(g=i.getAngleByValue(_,!1)),a[_.toString()]=!0,f(g,this.getActualValue(_),!0)
if(void 0===a[_.toString()]&&1!==_.compare(u)&&(p(g=i.getAngleByValue(_,!1)),a[_.toString()]=!0,2*Math.PI*t._measurements.innerRadius*(this._getAngleDifference(b,i.getAngleByValue(_,!1,!0))/360)>=n&&f(g,this.getActualValue(_),!0),t._normalizedStartAngle!==t.endAngle&&(p(g=i.getAngleByValue(u,!1)),2*Math.PI*t._measurements.innerRadius*(this._getAngleDifference(b,v)/360)>=n&&f(g,t.max,!1))),"date"!==t.mode){if(t.logarithmicScale)this.drawGaugeLogarithmicScaleMinorTicks(a,r,m)
else for(let e=y;-1===e.compare(u);e=e.add(o))a[e.toString()]||m(e)
JQX.Utilities.BigNumber.ignoreBigIntNativeSupport=e}else JQX.Utilities.BigNumber.ignoreBigIntNativeSupport=e}updateToolTipAndValue(e,t,i){const n=this.context,r=n.logarithmicScale
n._updateTooltipValue(e.toString()),r&&(e=parseFloat(Math.pow(10,parseFloat(e)).toFixed(11)))
const o=(e=e instanceof JQX.Utilities.BigNumber?e:new JQX.Utilities.BigNumber(e)).toString()
n._number=e,n._drawValue=r?Math.log10(o):e,0!==e.compare(t)&&i&&("numeric"===n.mode?(n.value=o,e=o):(t=n._valueDate,n._valueDate=JQX.Utilities.DateTime.fromFullTimeStamp(o),n.value=e,e=n._valueDate),n._programmaticValueIsSet||n.$.fireEvent("change",{value:e,oldValue:t}),n.$.hiddenInput&&(n.$.hiddenInput.value=e),n._setAriaValue("valuenow"))}validateInterval(e){const t=this.context,i=t._maxObject.subtract(t._minObject)
t._validInterval=new JQX.Utilities.BigNumber(e),t._validInterval=this.round(t._validInterval),t._validInterval.compare(0)<=0&&(t._validInterval=new JQX.Utilities.BigNumber(1)),1===t._validInterval.compare(i)&&(t._validInterval=i),t.interval=t._validInterval.toString()}getCoercedValue(e,t,i){const n=this.context
if(!n.coerce)return e
const r=!n.logarithmicScale
let o,a
if(e=e instanceof JQX.Utilities.BigNumber?e:new JQX.Utilities.BigNumber(e),n.customInterval){const t=n.customTicks
if(0===t.length)return e
let a,s
if(r||i){a=(o=n._minObject).subtract(e).abs(),s=o
for(let i=0;i<t.length;i++){const n=this.createDescriptor(t[i]),r=n.subtract(e).abs();-1===r.compare(a)&&(a=r,s=n)}}else{o=n._drawMin,a=Math.abs(o-parseFloat(e.toString())),s=o
for(let i=0;i<t.length;i++){const n=Math.log10(t[i]),r=Math.abs(n-e)
r<a&&(a=r,s=n)}s=new JQX.Utilities.BigNumber(s)}return s}let s=n._validInterval
if("date"===n.mode){if("addYears"===n._dateIncrementMethod)return this.coerceYear(e)
if("addMonths"===n._dateIncrementMethod)return this.coerceMonth(e)
s=new JQX.Utilities.BigNumber(n._dateIntervalNumber).multiply(s)}!1!==t?(o=new JQX.Utilities.BigNumber(n._drawMin),a=new JQX.Utilities.BigNumber(n._drawMax)):(o=new JQX.Utilities.BigNumber(n.min),a=new JQX.Utilities.BigNumber(n.max))
let l=e.subtract(o),d=l.mod(s)
if(0===d.compare(0))return e
let c=l.subtract(d),h=c.add(s)
if(l.subtract(c).abs().compare(l.subtract(h).abs())<0)return c.add(o)
{const e=h.add(o)
return e.compare(a)<=0?e:c.add(o)}}coerceMonth(e){const t=this.context,i=parseFloat(t._validInterval),n=JQX.Utilities.DateTime.fromFullTimeStamp(e),r=n.year(),o=n.month(),a=n.day(),s=t._minDate.year(),l=t._minDate.month(),d=12*(t._maxDate.year()-s-1)+12-l+t._maxDate.month()
let c=12*(r-1-s)+(12-l)+o
1===i&&(-1!==[1,3,5,7,8,10,12].indexOf(o)?(a>16||16===a&&n.hour()>11)&&c++:2===o?n.isLeapYear(r)?(a>15||15===a&&n.hour()>11)&&c++:a>14&&c++:a>15&&c++),c=this.getCoercedTimePart(0,d,c,i)
let h=t._minDate.addMonths(c,!0)
return 1===h.compare(t._maxDate)&&(h=t._minDate.addMonths(c-i,!0)),t._drawValue=new JQX.Utilities.BigNumber(h.getTimeStamp()),t._drawValue}coerceYear(e){const t=this.context,i=parseFloat(t._validInterval),n=JQX.Utilities.DateTime.fromFullTimeStamp(e),r=t._maxDate.year(),o=JQX.Utilities.DateTime.getConstructorParameters(t._minDate)
let a=n.year()
n.month()>6&&a++
let s=this.getCoercedTimePart(t._minDate.year(),r,a,i)
s>r&&(s-=i),o[0]=s,o.unshift(null)
const l=new(Function.prototype.bind.apply(JQX.Utilities.DateTime,o))
return t._drawValue=new JQX.Utilities.BigNumber(l.getTimeStamp()),t._drawValue}getCoercedTimePart(e,t,i,n){let r=i-e,o=r%n
if(0===o)return i
let a=parseFloat((r-o).toFixed(12)),s=a+n
if(t-e<=n)return i>=e+(t-e)/2?t:e
if(Math.abs(r-a)<Math.abs(r-s))return a+e
{const i=s+e
return i>t?a+e:i}}updateValue(e){const t=this.context
e=e instanceof JQX.Utilities.BigNumber?e:new JQX.Utilities.BigNumber(e)
const i=this.validate(e,t._minObject,t._maxObject)
let n,r,o=t.value
t._number=i,t._drawValue=t.logarithmicScale?Math.log10(i):i,"numeric"===t.mode?(n=e.toString(),t.value=n,r=this.compare(e,o)):(o=JQX.Utilities.DateTime.fromFullTimeStamp(o),t._valueDate=JQX.Utilities.DateTime.fromFullTimeStamp(e),t.value=e,n=e=t._valueDate,r=0!==e.compare(o)),t._programmaticValueIsSet||!r&&!t._scaleTypeChangedFlag||t.$.fireEvent("change",{value:n,oldValue:o}),t.$.hiddenInput&&(t.$.hiddenInput.value=e),t._setAriaValue("valuenow"),t._moveThumbBasedOnValue(t._drawValue)}getValuePerPx(e,t){const i=JQX.Utilities.BigNumber.ignoreBigIntNativeSupport
JQX.Utilities.BigNumber.ignoreBigIntNativeSupport=!0
const n=new JQX.Utilities.BigNumber(e).divide(t)
return JQX.Utilities.BigNumber.ignoreBigIntNativeSupport=i,n}restrictValue(e){e[1].constructor===JQX.Utilities.BigNumber?-1===e[1].compare(e[0])&&e[1].set(e[0]):e[1]<e[0]&&(e[1]=e[0])}getAngleByValue(e,t,i){const n=this.context,r=JQX.Utilities.BigNumber.ignoreBigIntNativeSupport
if(JQX.Utilities.BigNumber.ignoreBigIntNativeSupport=!0,n._wordLengthNumber<64)return JQX.Utilities.BigNumber.ignoreBigIntNativeSupport=r,super.getAngleByValue(parseFloat(e.toString()),t,i)
e instanceof JQX.Utilities.BigNumber==!1&&(e=new JQX.Utilities.BigNumber(e)),!1!==t&&n.logarithmicScale&&(e=new JQX.Utilities.BigNumber(Math.log10(e.toString())))
const o=e.subtract(n._drawMin).multiply(n._angleRangeCoefficient)
let a
return a=void 0===n.inverted||!n.inverted&&!n.rightToLeft||n.rightToLeft&&n.inverted?o.multiply(-1).add(n.endAngle):o.add(n.startAngle),a=parseFloat(a.toString()),JQX.Utilities.BigNumber.ignoreBigIntNativeSupport=r,i?a:a*Math.PI/180+Math.PI/2}getValueByAngle(e){const t=this.context
if(t._wordLengthNumber<64)return super.getValueByAngle(e,!0)
const i=JQX.Utilities.BigNumber.ignoreBigIntNativeSupport
let n,r,o,a
for(JQX.Utilities.BigNumber.ignoreBigIntNativeSupport=!0,void 0===t.inverted||!t.inverted&&!t.rightToLeft||t.rightToLeft&&t.inverted?(n=t.endAngle,r=e):(n=e,r=t._normalizedStartAngle);n<r;)n+=360
return o=new JQX.Utilities.BigNumber((n-r)/t._angleDifference).multiply(t._range).add(t._drawMin),t.logarithmicScale&&(o=new JQX.Utilities.BigNumber(Math.pow(10,o.toString()))),a=t.coerce?this.getCoercedValue(o,!1):this.round(o),JQX.Utilities.BigNumber.ignoreBigIntNativeSupport=i,new JQX.Utilities.BigNumber(a)}updateGaugeValue(e){if(e instanceof JQX.Utilities.BigNumber==!1)return super.updateGaugeValue(e)
const t=this.context,i=t._getEventValue()
"numeric"===t.mode?(t.value=e.toString(),t.$.digitalDisplay.value=t.value):(t._valueDate=JQX.Utilities.DateTime.fromFullTimeStamp(e),t.value=e),t._drawValue=t.logarithmicScale?Math.log10(t.value).toString():t.value,t._number=e,t.$.fireEvent("change",{value:t._getEventValue(),oldValue:i}),t._setAriaValue("valuenow")}validateColorRange(e){const t=this.context
if(t._wordLengthNumber<64)return super.validateColorRange(e)
e="numeric"===t.mode?new JQX.Utilities.BigNumber(e):(e=JQX.Utilities.DateTime.validateDate(e)).getTimeStamp()
const i=new JQX.Utilities.BigNumber(t.min),n=new JQX.Utilities.BigNumber(t.max)
return-1===e.compare(i)&&(e=i),1===e.compare(n)&&(e=n),e}lockRotation(e,t){const i=this.context
if(t instanceof JQX.Utilities.BigNumber==!1&&(t=new JQX.Utilities.BigNumber(t)),e&&-1===t.compare(i._number)){if(i._lockCW=!0,-1===t.compare(i._maxObject))return new JQX.Utilities.BigNumber(i._maxObject)}else if(!e&&1===t.compare(i._number)&&(i._lockCCW=!0,1===t.compare(i._minObject)))return new JQX.Utilities.BigNumber(i._minObject)}getAngleRangeCoefficient(){const e=this.context,t=JQX.Utilities.BigNumber.ignoreBigIntNativeSupport
JQX.Utilities.BigNumber.ignoreBigIntNativeSupport=!0,e._angleRangeCoefficient=new JQX.Utilities.BigNumber(e._angleDifference).divide(e._range),JQX.Utilities.BigNumber.ignoreBigIntNativeSupport=t}}),JQX.Utilities.Assign("DecimalNumericProcessor",class extends JQX.Utilities.BaseNumericProcessor{constructor(e,t){super(e,t),this.context=e}getPreciseModulo(e,t,i){const n=e>=0?1:-1
if(e=Math.abs(e),t=Math.abs(t),void 0===i){const i=e.toExponential(),r=t.toExponential(),o=parseInt(i.slice(i.indexOf("e")+1),10),a=parseInt(r.slice(r.indexOf("e")+1),10),s=o<0?Math.abs(o):0,l=a<0?Math.abs(a):0,d=Math.max(s,l)
if(this.roundCoefficient=d,e<t)return n*e
if(e===t)return 0
if((e<-1||e>1)&&(t<-1||t>1||1===t)){if(e%1==0&&t%1==0)return n*(e%t)
{const i=JQX.Utilities.BigNumber.ignoreBigIntNativeSupport
JQX.Utilities.BigNumber.ignoreBigIntNativeSupport=!0
const r=n*parseFloat(new JQX.Utilities.BigNumber(e).mod(t).toString())
return JQX.Utilities.BigNumber.ignoreBigIntNativeSupport=i,r}}const c=Math.pow(10,d)
return n*(e*c%(t*c)/c)}return n*(Math.round(e*i)%Math.round(t*i))}createDescriptor(e,t,i,n){let r=parseFloat(e)
return n&&(r=this.validate(r,this.context._minObject,this.context._maxObject)),r}round(e){return Math.round(e)}validate(e,t,i){let n
return n=e<t?t:e>i?i:e}validateMinMax(e,t){const i=this.context,n=void 0!==i._regexSpecial&&i._regexSpecial.inf.test(i.min),r=void 0!==i._regexSpecial&&i._regexSpecial.inf.test(i.max)
e&&(null===i.min||n?(i.min=-1/0,i._minObject=-1/0):(i.min=i.min.toString().replace(/\s/g,""),this.regexScientificNotation.test(i.min)&&(i.min=this.scientificToDecimal(i.min)),i._minObject=i._discardDecimalSeparator(i.min))),t&&(null===i.max||r?(i.max=1/0,i._maxObject=1/0):(i.max=i.max.toString().replace(/\s/g,""),this.regexScientificNotation.test(i.max)&&(i.max=this.scientificToDecimal(i.max)),i._maxObject=i._discardDecimalSeparator(i.max))),this.compare(i._minObject,i._maxObject)||(i._maxObject=parseFloat(i._maxObject)+1,i.max=i._maxObject)}valueToPx(e){const t=this.context,i=t._measurements.trackLength/t._range
let n
return n=t._normalLayout?i*(e-t._drawMin):i*(t._drawMax-e),Math.round(n)}pxToValue(e){const t=this.context
let i
if(i=t._normalLayout?(e-t._trackStart)*t._valuePerPx:(t._trackEnd-e)*t._valuePerPx,t.logarithmicScale){const e=i+parseFloat(t._drawMin)
return Math.pow(10,e)}return this.validate(i+t._minObject,t._minObject,t._maxObject)}compare(e,t,i){return e=parseFloat(e),t=parseFloat(t),!0!==i?e!==t:e<t?-1:e>t?1:0}incrementDecrement(e,t,i){const n=this.context
let r
if("add"===t){if(r=parseFloat(e)+parseFloat(i),void 0!==n._drawMax)return r>parseFloat(n._drawMax)?n._drawMax:r}else if(r=parseFloat(e)-parseFloat(i),void 0!==n._drawMin)return r<parseFloat(n._drawMin)?n._drawMin:r
return r}render(e){const t=this.context
if(void 0!==t._regexSpecial&&t._regexSpecial.nonNumericValue.test(e))return e
{const i=new JQX.Utilities.NumberRenderer(e)
return t.scientificNotation?i.toScientific(t.significantDigits,t.precisionDigits):i.toDigits(t.significantDigits,t.precisionDigits)}}addTicksAndLabels(){const e=this.context,t=e._measurements.trackLength,i=e._normalLayout,n=e._majorTicksInterval,r=Math.round(e._range/parseFloat(n.toString())),o=t/r,a=parseFloat(e._drawMin),s=parseFloat(e._drawMax)
let l,d,c,h,u,p,m,f,g,v="",b=""
e._tickValues=[],this._longestLabelSize=0,i?(l=a,c=(d=e.logarithmicScale&&a<0&&-1!==a?parseFloat(l-this.getPreciseModulo(l,n)):parseFloat(l-this.getPreciseModulo(l,n)+parseFloat(n)))-l,u=e._formatLabel(a),p=e._tickIntervalHandler.labelsSize.minLabelSize,h=s,m=e._formatLabel(s),f=e._tickIntervalHandler.labelsSize.maxLabelSize):(c=(l=s)-(d=parseFloat(l-this.getPreciseModulo(l,n))),u=e._formatLabel(s),p=e._tickIntervalHandler.labelsSize.maxLabelSize,h=a,m=e._formatLabel(a),f=e._tickIntervalHandler.labelsSize.minLabelSize),e._labelDummy=this._createMeasureLabel(),v+=(g=this._addMajorTickAndLabel(u,p,!0,l)).tick,b+=g.label
const y=c/n*o
if(d.toString()!==e._drawMax.toString()&&y<t){const t=e._formatLabel(d.toString()),i=p<y
v+=(g=this._addMajorTickAndLabel(t,void 0,i,d,!0)).tick,b+=g.label}v+=(g=this.addMiddleMajorTicks(r,o,y,c,i,n)).tick,b+=g.label,v+=(g=this._addMajorTickAndLabel(m,f,!0,h)).tick,b+=g.label,v+=this.addMinorTicks(i),e._measureLabelScale.removeChild(e._labelDummy),delete e._labelDummy,delete e._measureLabelScale,"jqx-tank"===e.nodeName.toLowerCase()&&e._updateScaleWidth(this._longestLabelSize),e._appendTicksAndLabelsToScales(v,b)}addMiddleMajorTicks(e,t,i,n,r,o){const a=this.context
let s="",l=""
for(let d=1;d<e;d++){let c,h=d*t+i
if((c=r?parseFloat(a._drawMin)+o*d+n:parseFloat(a._drawMax)-o*d-n).toString()!==a._drawMax.toString()){let i=a._formatLabel(c.toString()),n=!0
a._labelDummy.innerHTML=i,h+a._labelDummy[a._settings.size]>=e*t&&(n=!1)
const r=this._addMajorTickAndLabel(i,void 0,n,c,!0)
s+=r.tick,l+=r.label}}return{tick:s,label:l}}addMinorTicks(e){function t(e){return parseFloat(e.toFixed(s))}function i(e){-1===r.indexOf(e)&&0===n._numericProcessor.getPreciseModulo(e,a,l)&&(p+='<div style="'+d+": "+n._numericProcessor.valueToPx(e)+'px;" class="jqx-tick jqx-tick-minor"></div>')}const n=this.context,r=n._tickValues,o=n._tickIntervalHandler.nearestPowerOfTen,a=n._minorTicksInterval,s=Math.log10(o)<0?Math.round(Math.abs(Math.log10(o))):0,l=Math.pow(10,s),d=n._settings.leftOrTop
let c,h,u,p=""
if(e?(c=r[0],h=r[1],u=r[r.length-1]):(c=r[r.length-1],h=r[r.length-2],u=r[0]),n.logarithmicScale)!function(){let e=n._measurements.trackLength/r.length,t=.1
e<20?t=1:e>=20&&e<40?t=h-c>1?1:.5:e>=40&&e<80&&(t=.2)
let i=Math.floor(n._drawMax),o=n._drawMax-i,a=n._drawMax-n._drawMin>r.length
for(let e=n._drawMax;e>n._drawMin-1;e-=1){let i=o>0?Math.pow(10,e-o+1):Math.pow(10,e),r=i*t
for(let e=i;e>0;e-=r)if(e<n.max&&e>n.min){let t=new JQX.Utilities.BigNumber(Math.log10(e));(t%1==0&&a||!a)&&(p+='<div style="'+d+": "+n._numericProcessor.valueToPx(t)+'px;" class="jqx-tick jqx-tick-minor"></div>')}}}()
else{for(let e=h;e>c;e=t(e-o))i(e)
for(let e=t(h+o);e<u;e=t(e+o))i(e)}return p}validateCustomTicks(){const e=this.context
let t=[]
for(let i=0;i<e.customTicks.length;i++){const n=e.customTicks[i],r=this.createDescriptor(n)
r>=e._minObject&&r<=e._maxObject&&t.push(r.toString())}t.sort(function(e,t){return e-t}),t=t.filter(function(e,t,i){return!t||e!==i[t-1]}),e.customTicks=t.slice(0)}addGaugeTicksAndLabels(){const e=this.context,t=this,i=Math.max(e._tickIntervalHandler.labelsSize.minLabelSize,e._tickIntervalHandler.labelsSize.maxLabelSize),n=e._majorTicksInterval,r=e._minorTicksInterval,o={},a=e._distance,s=e._measurements.radius,l=s-a.majorTickDistance,d=s-a.minorTickDistance
let c,h,u,p,m,f
"none"!==e.ticksVisibility&&!1!==e._plotTicks?(c=function(t){e._drawTick(t,l,"major")},h=function(i){e._drawTick(t.getAngleByValue(i,!0),d,"minor")}):(c=function(){},h=function(){}),u="none"!==e.labelsVisibility&&!1!==e._plotLabels?function(t,i,n){e._drawLabel(t,i,a.labelDistance,n)}:function(){},void 0===e.inverted||!e.inverted&&!e.rightToLeft||e.rightToLeft&&e.inverted?(m=e.endAngle,f=e.startAngle):(m=e.startAngle,f=e.endAngle),c(p=t.getAngleByValue(e._drawMin,!1)),o[e._drawMin]=!0,u(p,e.min,!1)
let g,v,b=e._drawMin-t.getPreciseModulo(e._drawMin,n)
e._drawMin>=0&&(b+=n)
for(let t=b;t>=e._drawMin;t-=r)g=t
for(c(p=t.getAngleByValue(b,!1)),o[b]=!0,2*Math.PI*e._measurements.innerRadius*(this._getAngleDifference(m,t.getAngleByValue(b,!1,!0))/360)>i&&u(p,this.getActualValue(b),b<e._drawMax),v=b+n;v<e._drawMax-n;v+=n)c(p=t.getAngleByValue(v,!1)),o[v]=!0,u(p,this.getActualValue(v),!0)
if(void 0===o[v]&&v<=e._drawMax&&(c(p=t.getAngleByValue(v,!1)),o[v]=!0,2*Math.PI*e._measurements.innerRadius*(this._getAngleDifference(f,t.getAngleByValue(v,!1,!0))/360)>=i&&u(p,this.getActualValue(v),!0),e._normalizedStartAngle!==e.endAngle&&(c(p=t.getAngleByValue(e._drawMax,!1)),o[e._drawMax]=!0,2*Math.PI*e._measurements.innerRadius*(this._getAngleDifference(f,m)/360)>=i&&u(p,e.max,!1))),e.logarithmicScale)this.drawGaugeLogarithmicScaleMinorTicks(o,n,h)
else for(let t=g;t<e._drawMax;t+=r)o[t]||h(t)}updateToolTipAndValue(e,t,i){const n=this.context,r=n.logarithmicScale
n._updateTooltipValue(e),r&&(e=parseFloat(Math.pow(10,parseFloat(e)).toFixed(11)))
const o=e.toString()
n._number=e,n._drawValue=r?Math.log10(o):e,o!==t&&i&&(n.value=n._discardDecimalSeparator(o),n._programmaticValueIsSet||n.$.fireEvent("change",{value:n.value,oldValue:t}),n.$.hiddenInput&&(n.$.hiddenInput.value=n.value),n._setAriaValue("valuenow"))}validateInterval(e){const t=this.context,i=t._maxObject-t._minObject
e<=0&&(e=1),t._validInterval=Math.min(parseFloat(e),i),t.interval=t._validInterval}getCoercedValue(e,t,i){const n=this.context
if(!n.coerce)return e
let r,o,a=!n.logarithmicScale
if(n.customInterval){const o=n.customTicks
if(0===o.length)return e
a=a||i,r=!1!==t?parseFloat(n._drawMin):n._minObject
let s=Math.abs(r-e),l=r
for(let t=0;t<o.length;t++){const i=this.createDescriptor(o[t]),n=a?i:Math.log10(i),r=Math.abs(n-e)
r<s&&(s=r,l=n)}return l}!1!==t?(r=parseFloat(n._drawMin),o=parseFloat(n._drawMax)):(r=parseFloat(n.min),o=parseFloat(n.max))
let s=e-r,l=this.getPreciseModulo(s,parseFloat(n.interval)),d=this.roundCoefficient
if(0===l)return e
0===this.roundCoefficient&&(d=12)
let c=parseFloat((s-l).toFixed(d)),h=c+parseFloat(n.interval)
if(n.max-n.min<=parseFloat(n.interval)&&a){let t=r,i=o
return e>=t+(i-t)/2?i:t}if(Math.abs(s-c)<Math.abs(s-h))return c+r
{const e=h+r
return e>o?c+r:e}}updateValue(e){const t=this.context,i=this.validate(e,t._minObject,t._maxObject),n=t.value
e.toString()!==n.toString()||t._scaleTypeChangedFlag?(t.value=e.toString(),t._number=i,t._programmaticValueIsSet||t.$.fireEvent("change",{value:t.value,oldValue:n})):t.value="string"==typeof e?e:e.toString(),t._drawValue=t.logarithmicScale?Math.log10(i).toString():i.toString(),t._moveThumbBasedOnValue(t._drawValue),t.$.hiddenInput&&(t.$.hiddenInput.value=t.value),t._setAriaValue("valuenow")}getValuePerPx(e,t){return parseFloat(e)/t}restrictValue(e){e[1]<e[0]&&(e[1]=e[0])}lockRotation(e,t){const i=this.context
if(e&&t<i._number){if(i._lockCW=!0,t<i._maxObject)return i._maxObject}else if(!e&&t>i._number&&(i._lockCCW=!0,t>i._minObject))return i._minObject}getAngleRangeCoefficient(){const e=this.context
e._angleRangeCoefficient=e._angleDifference/e._range}}),JQX.Utilities.Assign("ComplexNumericProcessor",class extends JQX.Utilities.BaseNumericProcessor{constructor(e,t){super(e,t),this.context=e}createDescriptor(e,t,i,n,r,o){let a
return a=o||(e.constructor===this.complexConstructor?new this.complexConstructor(e.realPart,e.imaginaryPart):new this.complexConstructor(e)),n&&(a=this.validate(a,this.context._minObject,this.context._maxObject)),a}validate(e,t,i){let n=e
return t!==-1/0?-1===this.compareComplexNumbers(e,t)&&(n=new this.complexConstructor(t.realPart,t.imaginaryPart)):i!==1/0&&1===this.compareComplexNumbers(e,i)&&(n=new this.complexConstructor(i.realPart,i.imaginaryPart)),n}compare(e,t,i){return!0!==i?0!==this.compareComplexNumbers(e,t):this.compareComplexNumbers(e,t)}validateMinMax(e,t){const i=this.context
e&&(null===i.min||i._regexSpecial.inf.test(i.min)?(i.min=-1/0,i._minObject=-1/0):i._minObject=new this.complexConstructor(i.min)),t&&(null===i.max||i._regexSpecial.inf.test(i.max)?(i.max=1/0,i._maxObject=1/0):i._maxObject=new this.complexConstructor(i.max))}incrementDecrement(e,t){let i=new this.complexConstructor(e.realPart,e.imaginaryPart),n=this.context._spinButtonsStepObject
return"add"===t?(i.realPart+=n.realPart,i.imaginaryPart+=n.imaginaryPart):(i.realPart-=n.realPart,i.imaginaryPart-=n.imaginaryPart),i}render(e){let t=e
if(!1===this.context._regexSpecial.nonNumericValue.test(e)){let e,i=t.realPart,n=t.imaginaryPart,r=this.context.significantDigits,o=this.context.precisionDigits
n>=0?e="+":(e="-",n=Math.abs(n))
const a=new JQX.Utilities.NumberRenderer(i),s=new JQX.Utilities.NumberRenderer(n)
this.context.scientificNotation?(i=a.toScientific(r,o),n=s.toScientific(r,o)):(i=a.toDigits(r,o),n=s.toDigits(r,o)),t=`${i} ${e} ${n}i`}return t}compareComplexNumbers(e,t){if(e instanceof this.complexConstructor==!1||t instanceof this.complexConstructor==!1)return-1
const i=e.realPart,n=t.realPart
if(i<n)return-1
if(i>n)return 1
{const i=e.imaginaryPart,n=t.imaginaryPart
return i<n?-1:i>n?1:0}}}),JQX.Utilities.Assign("NumberRenderer",class{constructor(e){this.numericValue=e,this.powersToPrefixes={24:"Y",21:"Z",18:"E",15:"P",12:"T",9:"G",6:"M",3:"k",0:"","-3":"m","-6":"u","-9":"n","-12":"p","-15":"f","-18":"a","-21":"z","-24":"y"},this.localizationObject={currencysymbol:"$",currencysymbolposition:"before",decimalseparator:".",thousandsseparator:",",defaultPrecision:2}}isENotation(e){return new RegExp(/e/i).test(e)}largeExponentialToDecimal(e){let t
void 0===e&&(e=this.numericValue,t=!0)
let i=e.toString().toLowerCase(),n=i.indexOf("e"),r=new JQX.Utilities.BigNumber(i.slice(0,n)),o=i.slice(n+1,n+2)
"+"!==o&&"-"!==o&&(i=i.slice(0,n)+"e+"+i.slice(n+1),o="+")
let a=i.slice(n+2),s=new JQX.Utilities.BigNumber(10).pow(o+(t?Math.min(20,a):a))
return r.multiply(s).toString()}bigNumberToExponent(e,t){let i=this.numericValue
i.constructor!==JQX.Utilities.BigNumber&&(i=new JQX.Utilities.BigNumber(i))
const n=i._f
let r=i.toString()
if(n<=10)return t?parseFloat(r).toExponential(null!==e?e-1:void 0):new JQX.Utilities.NumberRenderer(parseFloat(r)).toDigits(e)
if(e>=n&&!t)return r
{let o
!1===i._s?o="":(o="-",r=r.slice(1)),parseFloat(r.slice(e,e+1))>=5&&(r=new JQX.Utilities.BigNumber(r.slice(0,e)).add(1).toString())
let a=r.slice(1,e)
if(t)e--,a.length>0&&e>a.length?a+="0".repeat(e-a.length):0===a.length&&(a="0".repeat(e))
else for(;a.length>0&&"0"===a.charAt(a.length-1);)a=a.slice(0,a.length-1)
const s=a.length>0?".":"",l=n-1
return o+r.slice(0,1)+s+a+"E+"+l}}toScientific(){const e=this
let t
if(t=e.numericValue._d?e.bigNumberToExponent(null!==arguments[0]?arguments[0]:arguments[1]+1,!0).toLowerCase():e.numericValue<=-1||e.numericValue>=1?Number(e.toDigits(arguments[0],arguments[1])).toExponential():Number(e.numericValue).toExponential(),isNaN(t))return t
const i=t.indexOf("e")
let n=parseInt(t.slice(i+1),10),r=parseFloat(t.slice(0,i)),o=new JQX.Utilities.NumberRenderer(r)
if(n<0){let t=o.toDigits(arguments[0],arguments[1])
if("0"===(t=parseFloat(t).toExponential()).charAt(t.length-1)){let t=0
for(;n%3!=0;)n--,t++
if(t){const e=JQX.Utilities.BigNumber.ignoreBigIntNativeSupport
JQX.Utilities.BigNumber.ignoreBigIntNativeSupport=!0,r=parseFloat(new JQX.Utilities.BigNumber(r).multiply(Math.pow(10,t)).toString()),JQX.Utilities.BigNumber.ignoreBigIntNativeSupport=e}o.numericValue=r,r=o.toDigits(arguments[0],arguments[1]),o.numericValue=r/1e3
const i=o.toDigits(arguments[0],arguments[1])
return i>=1&&(r=i,n+=3),r+e.powersToPrefixes[n.toString()]}}let a=0
if(Math.abs(n)>24){a=n-24*(n/Math.abs(n))}else a=n%3
if(a>0)for(let e=0;e<a;e++)r*=10
else if(a<0){const e=JQX.Utilities.BigNumber.ignoreBigIntNativeSupport
JQX.Utilities.BigNumber.ignoreBigIntNativeSupport=!0,r=parseFloat(new JQX.Utilities.BigNumber(r).multiply(Math.pow(10,a)).toString()),JQX.Utilities.BigNumber.ignoreBigIntNativeSupport=e}if(n>0){const e=r>=0?0:1,n=t.slice(e,i).length-a-2
n>=0&&(r=r.toFixed(n))}let s=Number(r).toExponential()
s=parseFloat(s.charAt(s.length-1)),o.numericValue=r,r=o.toDigits(arguments[0],arguments[1])
let l=Number(r).toExponential(),d=0;(l=parseFloat(l.charAt(l.length-1)))!==s&&l%3==0&&(r=parseFloat(r)/Math.pow(10,l),o.numericValue=r,r=o.toDigits(arguments[0],arguments[1]),d=l)
const c=n-a+d
return r+e.powersToPrefixes[c.toString()]}bigNumberToScientific(){const e=this.numericValue._f-1,t=parseInt(e,10)%3,i=parseInt(e,10)-t
let n,r,o=this.numericValue.toString()
if("-"===o.charAt(0)?(n="-",o=o.slice(1)):n="",null!==arguments[0])for(r=o.slice(0,arguments[0]),parseFloat(o.slice(arguments[0],arguments[0]+1))>=5&&(r=new JQX.Utilities.BigNumber(r).add(1).toString());r.length>1+t&&"0"===r.charAt(r.length-1);)r=r.slice(0,r.length-1)
else null!==arguments[1]&&(r=o.slice(0,arguments[1]+1),parseFloat(o.slice(arguments[1]+1,arguments[1]+2))>=5&&(r=new JQX.Utilities.BigNumber(r).add(1).toString()),arguments[1]+t>r.length-1&&(r+="0".repeat(arguments[1]+t-r.length+1)))
return r.length>1+t&&(r=r.slice(0,1+t)+"."+r.slice(1+t)),n+r+this.powersToPrefixes[i.toString()]}toDigits(e,t){const i=this
let n
return n=null!==e?i.applySignificantDigits(e):null!==t?i.applyPrecisionDigits(t):i.applySignificantDigits(8)}applySignificantDigits(e){const t=this
function i(e){for(;"0"===e.charAt(e.length-1);)e=e.slice(0,-1)
return"."===e.charAt(e.length-1)&&(e=e.slice(0,-1)),e}e=Math.max(1,Math.min(e,21))
let n=parseFloat(t.numericValue).toPrecision(e).toUpperCase()
if(-1!==n.indexOf("."))if(t.isENotation(n)){const e=n.indexOf("."),t=n.indexOf("E")
let r=n.slice(e,t)
r=i(r),n=n.slice(0,e)+r+n.slice(t)}else n=i(n)
return n}applyPrecisionDigits(e){const t=this
e=Math.max(0,Math.min(e,20))
let i=parseFloat(t.numericValue).toFixed(e)
return t.isENotation(i)&&(i=t.largeExponentialToDecimal(i)+"."+"0".repeat(e)),i}getLogarithm(e){const t=this.numericValue
let i
if(void 0===e&&(e=10),10===e)try{i=Math.log10(t)}catch(e){i=Math.log(t)/Math.log(10)}else i=Math.log(t)/Math.log(e)
return i}applySeparators(e,t){const i=this,n=(e=e.toString()).indexOf(".")
if(-1!==n){const r=e.slice(0,n),o=e.slice(n+1)
return i.applyThousandsSeparator(r,t)+i.localizationObject.decimalseparator+o}return i.applyThousandsSeparator(e,t)}applyThousandsSeparator(e,t){if(t)return e
let i=""
"-"===(e=e.toString()).charAt(0)&&(i="-",e=e.slice(1))
let n=e.split("").reverse()
for(let e=2;e<n.length-1;e+=3)n[e]=this.localizationObject.thousandsseparator+n[e]
return n.reverse(),i+(n=n.join(""))}formatNumber(e,t,i){const n=this
if(void 0===arguments[3]&&delete n._ignoreMinus,delete n._wordLengthNumber,!/^([a-zA-Z]\d*)$/g.test(t))try{return n.applyCustomFormat(e,t)}catch(t){return e.toString()}const r=t.slice(0,1)
let o=t.slice(1)
if(""!==o&&(isNaN(parseFloat(o))||parseFloat(o)<0||parseFloat(o)>99?o="":parseFloat(o)%1!=0&&(o=Math.round(o))),e._d)n.inputFormat="integer"
else{if(e.imaginaryPart)return n.formatComplexNumber(e,t,r,o)
n.inputFormat="floatingPoint"}let a,s=new JQX.Utilities.NumericProcessor(n,"inputFormat"),l=s.createDescriptor(e)
switch(n._wordLengthNumber=s.getWordLength(i||"int32"),"integer"===n.inputFormat&&(l=s.round(l)),n.numericValue=l,r){case"C":case"c":return""===o&&(o=n.localizationObject.defaultPrecision),o=parseFloat(o),a="floatingPoint"===n.inputFormat?n.applyPrecisionDigits(o):l.toString()+(o>0?"."+"0".repeat(o):""),a=n.applySeparators(a),"before"===n.localizationObject.currencysymbolposition?"-"===a.charAt(0)?"-"+n.localizationObject.currencysymbol+a.slice(1):n.localizationObject.currencysymbol+a:a+" "+n.localizationObject.currencysymbol
case"D":case"d":{if(a=l,"floatingPoint"===n.inputFormat&&(a=Math.round(l)),a=a.toString(),""===o)return a
let e=""
"-"===a.charAt(0)&&(e="-",a=a.slice(1))
const t=o-a.length
return t>0&&(a="0".repeat(t)+a),e+a}case"E":case"e":case"U":case"u":{""===o&&(o=6)
const e=(a="floatingPoint"===n.inputFormat?l.toExponential(o):n.bigNumberToExponent(parseFloat(o)+1,!0).toLowerCase()).indexOf("e"),t=a.slice(e+2).length
return t<3&&(a=a.slice(0,e+2)+"0".repeat(3-t)+a.slice(e+2)),"u"===r.toLowerCase()?n.exponentialToSuperscript(n.applySeparators(a,!0)):("E"===r&&(a=a.toUpperCase()),n.applySeparators(a,!0))}case"F":case"f":case"N":case"n":return""===o&&(o=n.localizationObject.defaultPrecision),o=parseFloat(o),a="floatingPoint"===n.inputFormat?n.applyPrecisionDigits(o):l.toString()+(o>0?"."+"0".repeat(o):""),n.applySeparators(a,"f"===r.toLowerCase())
case"G":case"g":{if(""===o||"0"===o)if("floatingPoint"===n.inputFormat)o=15
else switch(i){case"int8":case"uint8":o=3
break
case"int16":case"uint16":o=5
break
case"int64":o=19
break
case"uint64":o=20
break
default:o=10}o=parseFloat(o)
let t=n.formatNumber(e,"E"+o,i),a=t.indexOf("E")
const s=parseInt(t.slice(a+1),10)
if(s>-5&&s<o)return"floatingPoint"===n.inputFormat?n.applySeparators(n.applySignificantDigits(o),!0):l.toString()
if(s>-100&&s<100&&(t=t.slice(0,a+2)+t.slice(a+3)),-1!==t.indexOf(n.localizationObject.decimalseparator)){for(;"0"===t.charAt(a-1);)a=(t=t.slice(0,a-1)+t.slice(a)).indexOf("E")
t.charAt(a-1)===n.localizationObject.decimalseparator&&(t=t.slice(0,a-1)+t.slice(a))}return"g"===r&&(t=t.toLowerCase()),t}case"P":case"p":return""===o&&(o=n.localizationObject.defaultPrecision),o=parseFloat(o),"floatingPoint"===n.inputFormat?(n.numericValue=100*l,a=n.applyPrecisionDigits(o)):a=l.multiply(100).toString()+(o>0?"."+"0".repeat(o):""),n.applySeparators(a)+" %"
case"B":case"b":case"O":case"o":case"X":case"x":{let t
switch("integer"!==n.inputFormat&&(n.inputFormat="integer",l=(s=new JQX.Utilities.NumericProcessor(n,"inputFormat")).round(s.createDescriptor(e))),r){case"B":case"b":t=2
break
case"O":case"o":t=8
break
default:t=16}if(a=l.toString(t,n._wordLengthNumber),""!==o){const e=parseFloat(o)-a.length
e>0&&(a="0".repeat(e)+a)}return"x"===r&&(a=a.toLowerCase()),a}case"S":case"s":return""===o&&(o=n.localizationObject.defaultPrecision),o=parseFloat(o),n.toScientific(null,o).replace(".",n.localizationObject.decimalseparator)
default:return e.toString()}}formatComplexNumber(e,t,i){const n=this
switch(i){case"E":case"e":case"U":case"u":case"F":case"f":case"G":case"g":case"N":case"n":case"S":case"s":return e.imaginaryPart>=0?n.formatNumber(e.realPart,t)+" + "+n.formatNumber(e.imaginaryPart,t)+"i":n.formatNumber(e.realPart,t)+" - "+n.formatNumber(Math.abs(e.imaginaryPart),t)+"i"
default:return e.toString()}}toString(e,t,i){return t?this.formatNumber(e,t,i):e.toString()}applyCustomFormat(e,t){const i=this,n=(t=(t=t.replace(/_.|\[\w*\]|\*/g,"")).replace(/\?/g,"#")).split(";")
if("string"==typeof e&&isNaN(e))return n[n.length-1].replace(/"/g,"").replace(/@/g,e.toString())
if(e._d)i.inputFormat="integer"
else{if(e.imaginaryPart)return e.toString()
e=parseFloat(e),i.inputFormat="floatingPoint"}let r=new JQX.Utilities.NumericProcessor(i,"inputFormat"),o=r.createDescriptor(e)
"integer"===i.inputFormat&&(o=r.round(o)),i.numericProcessor=r
const a=i.getRelevantFormatSection(n,o)
if(void 0===a)return e.toString()
if(-1!==a.indexOf("@"))return n[n.length-1].replace(/"/g,"").replace(/@/g,e.toString())
const s=-1!==a.replace(/".*"/g,"").indexOf("%"),l=i.getTextParts(a)
if(-1!==l.main.toLowerCase().indexOf("e"))return i.applyCustomExponentialFormat(o,l,r)
if(-1!==l.main.indexOf("/"))return i.applyCustomFractionalFormat(o,l,r)
if(s&&("integer"===i.inputFormat?o=o.multiply(100):o*=100),""===l.main){if(!s)return l.suffix
let e=o.toString()
return i._ignoreMinus&&"-"===e.charAt(0)&&(e=e.slice(1)),e+l.suffix}let d=l.main.replace(/[^0#,. \/]/g,""),c=d.indexOf(".")
for(-1!==c&&("."===(d=d.substring(0,c+1)+d.substring(c+1).replace(/\./g,"")).charAt(d.length-1)&&(d=d.slice(0,d.length-1)),0===c&&(d="#"+d));","===d.charAt(d.length-1);)d=d.slice(0,d.length-1),"floatingPoint"===i.inputFormat?o/=1e3:o=o.multiply(.001)
"integer"===i.inputFormat&&(o=r.round(o))
const h=-1!==d.indexOf(","),u=(d=d.replace(/,/g,"")).split("."),p=u[0]
let m=u[1],f=""
if(1===u.length)return"floatingPoint"===i.inputFormat&&(o=r.round(o)),f=o.toString(),i.setTextParts(i.formatWholeNumber(f,p,h),l)
let g=(f=o.toString()).split("."),v=i.formatWholeNumber(g[0],p,h),b=g[1]||""
if(m.length<=b.length&&(g=(f=parseFloat(o.toFixed(m.length)).toString()).split("."),v=i.formatWholeNumber(g[0],p,h),b=g[1]||""))return i.setTextParts(v+i.localizationObject.decimalseparator+b.slice(0,m.length),l)
let y=(m=m.slice(b.length-m.length)).lastIndexOf("0")
return-1===y?""===b?i.setTextParts(v,l):i.setTextParts(v+i.localizationObject.decimalseparator+b,l):i.setTextParts(v+i.localizationObject.decimalseparator+b+"0".repeat(y+1),l)}getRelevantFormatSection(e,t){const i=this,n=i.numericProcessor.compare(t,0,!0)
if(1===n)return e[0]
let r,o
return e.length>=3?(i._ignoreMinus=!0,r=1,o=2):2===e.length?(i._ignoreMinus=!0,o=0,r=1):1===e.length&&(o=0,r=0),0===n?e[o]:-1===n?e[r]:void 0}getTextParts(e){const t=e.replace(/"[^"]*"/g,""),i=e.match(/"[^"]*"/g),n=t.search(/0|#|\./g),r=Math.max(t.lastIndexOf("0"),t.lastIndexOf("#"),t.lastIndexOf("."),t.lastIndexOf(",")),o=t.slice(n,r+1)
if(""===o)return{prefix:"",main:"",suffix:e.replace(/"/g,"")}
let a=e.indexOf(o),s=a+o.length
if(i)for(let t=0;t<i.length;t++){const n=e.indexOf(i[t])
a>=n&&s<=n+i[t].length&&(s=(a=e.indexOf(o,n+i[t].length))+o.length)}return{prefix:e.slice(0,a).replace(/"/g,""),main:o,suffix:e.slice(s).replace(/"/g,"")}}applyCustomExponentialFormat(e,t,i){const n=this
let r,o=t.main
const a=-1!==o.indexOf(","),s=(o=o.replace(/[^0#.eE+-]/g,"")).toLowerCase().indexOf("e"),l=(o=o.substring(0,s+1)+o.substring(s+1).replace(/[eE\.]/g,"")).charAt(s),d=o.indexOf(".");-1!==d&&(o=o.substring(0,d+1)+o.substring(d+1).replace(/\./g,"")),"."===o.charAt(o.length-1)&&(o=o.slice(0,o.length-1))
const c=o.split(l)
let h=c[0]
const u=h.split("."),p=u[0],m=u[1],f=c[1]
let g=e.toString().split(".")[0].replace(/-/,""),v=0
if("0"===g&&i.compare(e,0)){let t=p.length-1
for(;0===parseInt(e);)v++,e*=10
g=e.toString().split(".")[0].replace(/-/,""),v+=t,e*=Math.pow(10,t)}if(a&&(h=h.slice(0,1)+","+h.slice(1)),g.length<=p.length)r=n.formatNumber(e,h,void 0,!0)+l+n.formatExponent(0-v,f)
else{const t=g.length-p.length
let o="floatingPoint"===n.inputFormat?e/Math.pow(10,t):e.divide(Math.pow(10,t))
if(!m){r=n.applyThousandsSeparator(i.round(o).toString(),!a)+l+n.formatExponent(t-v,f)}let s=o.toString().split(".")[1]||""
s.length===m.length?r=n.applySeparators(o,!a)+l+n.formatExponent(t-v,f):s.length<m.length?r=n.formatNumber(o,h,void 0,!0)+l+n.formatExponent(t-v,f):(o="floatingPoint"===n.inputFormat?o.toFixed(m.length):o=i.round(e.divide(Math.pow(10,t-m.length))).divide(Math.pow(10,m.length)),r=n.formatNumber(parseFloat(o),h,void 0,!0)+l+n.formatExponent(t-v,f))}return n.setTextParts(r,t)}formatExponent(e,t){let i
return-1!==["+","-"].indexOf(t.charAt(0))&&(i=t.charAt(0),(e>0&&"-"===i||e<0&&"+"===i)&&(i=void 0)),e<0&&(e=Math.abs(e),i="-"),t=t.replace(/[+-]/g,""),(i||"")+(e=this.formatNumber(e,t,void 0,!0))}formatWholeNumber(e,t,i){const n=this
let r=""
if("-"===e.charAt(0)&&(n._ignoreMinus||(r="-"),e=e.slice(1)),"0"===e){if(t==="#".repeat(t.length))return r
e=""}if(t.length<=e.length)return r+n.applyThousandsSeparator(e,!i)
for(let i=(t=t.slice(0,t.length-e.length)).length-1;i>=0;i--)"0"===t.charAt(i)&&(e="0"+e)
return r+n.applyThousandsSeparator(e,!i)}setTextParts(e,t){return t.prefix+e+t.suffix}applyCustomFractionalFormat(e,t,i){const n=this,r=/^([0#,]+[ ]+)?([0#,]+\/[0#,]+)$/
let o,a=t.main.trim()
if(!r.test(a))return e.toString()
const s=r.exec(a)
if(s[2]=s[2].replace(/,/g,""),"integer"===n.inputFormat){const i=s[2].split("/")
return void 0===s[1]?o=n.formatNumber(e,i[0],void 0,!0)+"/"+n.formatNumber(1,i[1],void 0,!0):(o=n.formatNumber(e,s[1].trim(),void 0,!0),-1!==s[2].indexOf("0")&&(o+=" "+n.formatNumber(0,i[0],void 0,!0)+"/"+n.formatNumber(1,i[1],void 0,!0))),n.setTextParts(o,t)}if(void 0===s[1])o=(e<0?"-":"")+n.formatAsFraction(Math.abs(e),s[2])
else{const t=s[1].trim(),r=s[2]
o=n.formatNumber(parseInt(e,10),t,void 0,!0)+" "+n.formatAsFraction(i.getPreciseModulo(Math.abs(e),1),r)}return n.setTextParts(o.trim(),t)}formatAsFraction(e,t){const i=this,n=t.split("/")
if(0===e)return-1===t.indexOf("0")?"":i.formatNumber(0,n[0],void 0,!0)+"/"+i.formatNumber(1,n[1],void 0,!0)
if(e%1==0)return i.formatNumber(e,n[0],void 0,!0)+"/"+i.formatNumber(1,n[1],void 0,!0)
const r=[]
i.approximateFractions(e,r)
const o=n[1].length>=2?2:1
let a=[],s=[]
r.forEach(function(t,i){const n=t.denominator.toString().length,r=Math.abs(e-t.numerator/t.denominator)
if(void 0===a[n])return s[n]=i,void(a[n]=r)
r<a[n]&&(s[n]=i,a[n]=r)})
let l=s[o]?r[s[o]]:r[s[1]]
return i.formatNumber(l.numerator,n[0],void 0,!0)+"/"+i.formatNumber(l.denominator,n[1],void 0,!0)}approximateFractions(e,t){const i=[0,1],n=[1,0],r=this.getMaxNumerator(e)
let o,a=e,s=NaN
for(let l=2;l<1e3;l++){const d=Math.floor(a)
if(i[l]=d*i[l-1]+i[l-2],Math.abs(i[l])>r)return
if(n[l]=d*n[l-1]+n[l-2],(o=i[l]/n[l])===s)return
if(t.push({numerator:i[l],denominator:n[l]}),o===e)return
s=o,a=1/(a-d)}}getMaxNumerator(e){let t=null,i=e.toString().indexOf("E");-1===i&&(i=e.toString().indexOf("e"))
let n=null
const r=(t=-1===i?e.toString():e.toString().substring(0,i)).toString().indexOf(".");-1===r?n=t:0===r?n=t.substring(1,t.length):r<t.length&&(n=t.substring(0,r)+t.substring(r+1,t.length))
let o=n
const a=o.toString().length,s=e
let l=s.toString().length
0===s&&(l=0)
const d=a-l
for(let e=d;e>0&&o%2==0;e--)o/=2
for(let e=d;e>0&&o%5==0;e--)o/=5
return o}exponentialToSuperscript(e){const t=e.indexOf("e"),i=e.slice(t+1).replace(/0{1,2}/,"")
let n=e.slice(0,t+1)
return n=n.replace("e","×10"),n=(n+=this.toSuperscript(i)).replace("+","")}toSuperscript(e,t){const i="⁻⁰¹²³⁴⁵⁶⁷⁸⁹"
let n=""
for(let r=0;r<e.length;r++)if(!0===t){const t=i.indexOf(e.charAt(r))
n+=-1!==t?"-0123456789"[t]:e[r]}else{const t="-0123456789".indexOf(e.charAt(r))
n+=-1!==t?i[t]:e[r]}return n}})
var U=Object.freeze({})
JQX.Utilities.Assign("TickIntervalHandler",class{constructor(e,t,i,n,r,o,a){const s=this
s.context=e,s.minLabel=t,s.maxLabel=i,s.labelClass=n,s.dimension=r,s.logarithmic=a,e.customInterval?e.customTicks.length>0?s.labelsSize=s.getCustomTicksLabelSize():s.labelsSize={minLabelSize:0,minLabelOtherSize:0,maxLabelSize:0,maxLabelOtherSize:0}:s.labelsSize=s.getMinAndMaxLabelSize(),o?(s.getNiceInterval=s.getNiceIntervalInteger,s.getPossibleBiggerLabel=s.getPossibleBiggerLabelInteger):(s.getNiceInterval=s.getNiceIntervalFloatingPoint,s.getPossibleBiggerLabel=s.getPossibleBiggerLabelFloatingPoint)}getInterval(e,t,i,n){const r=this.context,o=r._measurements.innerRadius
let a,s,l=1
"radial"===e?(a=Math.max(this.labelsSize.minLabelSize,this.labelsSize.minLabelOtherSize,this.labelsSize.maxLabelSize,this.labelsSize.maxLabelOtherSize),l=1.35):(a=Math.max(this.labelsSize.minLabelSize,this.labelsSize.maxLabelSize),l=1.45),a*=l,s="radial"===e?function(){let e=2*Math.PI*o*(Math.abs(r.startAngle-r.endAngle)/360)
return Math.round(e)}():r[this.dimension]-this.labelsSize.minLabelSize/2-this.labelsSize.maxLabelSize/2,s=Math.max(10,s)
const d=Math.ceil(s/a),c="radial"===e?4*d:3*d
let h=this.getNiceInterval(t,i,d,!0),u=this.getNiceInterval(t,i,c)
if(r._cachedLabelsSize=this.labelsSize,d>2&&!r.customInterval){const o=this.getPossibleBiggerLabel(d,h)
if(o.length>Math.max(this.minLabel.length,this.maxLabel.length)){const a=this.minLabel
this.minLabel=o,this.labelsSize=this.getMinAndMaxLabelSize(),r._cachedLabelsSize=this.labelsSize
const s=this.getInterval(e,t,i,n)
return this.minLabel=a,this.labelsSize=this.getMinAndMaxLabelSize(),s}}return{major:h,minor:u}}getNiceIntervalFloatingPoint(e,t,i,n){const r=t-e,o=Math.floor(Math.log10(r)-Math.log10(i))
let a,s=Math.pow(10,o),l=i*s,d=(a=r<2*l?1:r<3*l?2:r<7*l?5:10)*s
if(n&&this.context._range/d>i){switch(a){case 5:a=10
break
case 2:a=5
break
case 1:a=2}d=a*s}return this.nearestPowerOfTen=s,this.logarithmic&&n?Math.max(1,d):d}getPossibleBiggerLabelFloatingPoint(e,t){const i=this.context
let n,r,o=parseFloat(i.min-i._numericProcessor.getPreciseModulo(parseFloat(i.min),t)+parseFloat(t)),a=o
this.logarithmic&&(o=Math.pow(10,o)),n=i._formatLabel(o)
for(let o=1;o<e&&!((a+=t)>=i._drawMax);o++)r=this.logarithmic?Math.pow(10,a):a,(r=i._formatLabel(r)).length>n.length&&(n=r)
return n}getNiceIntervalInteger(e,t,i,n){const r=new JQX.Utilities.BigNumber(t).subtract(new JQX.Utilities.BigNumber(e)),o=Math.floor(Math.log10(r.toString())-Math.log10(i)),a=new JQX.Utilities.BigNumber(10).pow(new JQX.Utilities.BigNumber(o)),s=new JQX.Utilities.BigNumber(i).multiply(a)
let l
l=-1===r.compare(new JQX.Utilities.BigNumber(2*s))?1:-1===r.compare(new JQX.Utilities.BigNumber(3*s))?2:-1===r.compare(new JQX.Utilities.BigNumber(7*s))?5:10
let d=new JQX.Utilities.BigNumber(l).multiply(a)
if(n&&1===new JQX.Utilities.BigNumber(this.context._range).divide(d).compare(i)){switch(l){case 5:l=10
break
case 2:l=5
break
case 1:l=2}d=new JQX.Utilities.BigNumber(l).multiply(a)}return-1===d.compare(1)&&(d=new JQX.Utilities.BigNumber(1)),this.nearestPowerOfTen=a,d}getPossibleBiggerLabelInteger(e,t){const i=this.context,n=new JQX.Utilities.BigNumber(10)
let r,o,a=new JQX.Utilities.BigNumber(i.min).subtract(new JQX.Utilities.BigNumber(i.min).mod(t)).add(t),s=a
this.logarithmic&&(a=n.pow(a)),r=i._formatLabel(a)
for(let a=1;a<e&&-1===(s=s.add(t)).compare(i._drawMax);a++)o=this.logarithmic?n.pow(s):s,(o=i._formatLabel(o)).length>r.length&&(r=o)
return r}getMinAndMaxLabelSize(){const e=this.context,t=e.$.container,i=document.createElement("span")
i.className=this.labelClass,i.style.position="absolute",i.style.visibility="hidden",t.appendChild(i),i.innerHTML=this.minLabel
const n=i[this.dimension],r=i[e._settings.otherSize]
i.innerHTML=this.maxLabel
const o=i[this.dimension],a=i[e._settings.otherSize]
return t.removeChild(i),{minLabelSize:n,minLabelOtherSize:r,maxLabelSize:o,maxLabelOtherSize:a}}getCustomTicksLabelSize(){const e=this,t=e.context,i=t.$.container,n=document.createElement("span"),r=t.customTicks
n.className=e.labelClass,n.style.position="absolute",n.style.visibility="hidden",i.appendChild(n),n.innerHTML=t._formatLabel(r[0])
let o=n[e.dimension],a=n[t._settings.otherSize]
for(let i=1;i<t.customTicks.length;i++){n.innerHTML=t._formatLabel(t.customTicks[i])
const r=n[e.dimension],s=n[t._settings.otherSize]
r>o&&(o=r),s>a&&(a=s)}return i.removeChild(n),{minLabelSize:o,minLabelOtherSize:a,maxLabelSize:o,maxLabelOtherSize:a}}})
var G=Object.freeze({})
JQX("jqx-scroll-bar",class extends JQX.BaseElement{static get properties(){return{clickRepeatDelay:{type:"integer",value:50},largeStep:{type:"integer",value:100},min:{type:"integer",value:0},max:{type:"integer",value:1e3},mechanicalAction:{value:"switchWhileDragging",allowedValues:["switchUntilReleased","switchWhenReleased","switchWhileDragging"],type:"string"},orientation:{type:"string",value:"horizontal",allowedValues:["horizontal","vertical"]},step:{type:"integer",value:10},showButtons:{type:"boolean",value:!0,defaultReflectToAttribute:!0},value:{type:"integer",value:0}}}static get styleUrls(){return["jqx.scrollbar.css"]}template(){return'<div id="container" class="jqx-container" role="presentation">\n                    <div id="nearButton" class="jqx-scroll-button jqx-arrow-left" role="presentation" aria-hidden="true"></div>\n                    <div  id="track" class="jqx-track" role="presentation">\n                        <div id="thumb" class="jqx-thumb" role="presentation"></div>\n                    </div>\n                    <div id="farButton" class="jqx-scroll-button jqx-arrow-right" role="presentation" aria-hidden="true"></div>\n            </div>'}static get listeners(){return{"nearButton.click":"_nearButtonClickHandler","nearButton.down":"_startRepeat","nearButton.up":"_stopRepeat","nearButton.pointerenter":"_updateInBoundsFlag","nearButton.pointerleave":"_updateInBoundsFlag","farButton.click":"_farButtonClickHandler","farButton.down":"_startRepeat","farButton.up":"_stopRepeat","farButton.pointerenter":"_updateInBoundsFlag","farButton.pointerleave":"_updateInBoundsFlag","track.down":"_trackDownHandler","track.click":"_trackClickHandler","track.move":"_trackMoveHandler","thumb.down":"_dragStartHandler","document.move":"_dragHandler","document.up":"_dragEndHandler",up:"_dragEndHandler","document.selectstart":"_selectStartHandler",resize:"_resizeHandler"}}_updateInBoundsFlag(e){const t=this,i=e.target
i._isPointerInBounds=!0,-1!==e.type.indexOf("leave")&&(i._isPointerInBounds=!1),1!==("buttons"in e?e.buttons:e.which)&&t._stopRepeat(e)}_startRepeat(e){const t=this
if(t.disabled)return
const i=e.target
i._initialTimer||(i._initialTimer=setTimeout(function(){i._repeatTimer=setInterval(()=>{if(i._isPointerInBounds){const t="buttons"in e?e.buttons:e.which
i.$.fireEvent("click",{buttons:t,clientX:e.clientX,clientY:e.clientY,pageX:e.pageX,pageY:e.pageY,screenX:e.screenX,screenY:e.screenY})}},t.clickRepeatDelay)},3*t.clickRepeatDelay))}_stopRepeat(e){if(this.disabled)return
const t=e.target
t._repeatTimer&&(clearInterval(t._repeatTimer),t._repeatTimer=null),t._initialTimer&&(clearTimeout(t._initialTimer),t._initialTimer=null)}_calculateThumbSize(e){const t=this,i=t.max-t.min,n="horizontal"===t.orientation?t.$.track.offsetWidth>10:t.$.track.offsetHeight>10
let r=0
return i>=1&&n?(r=e/(i+e)*e,t.$.thumb.className.indexOf("jqx-hidden")>=0&&t.$thumb.removeClass("jqx-hidden")):t.$thumb.addClass("jqx-hidden"),Math.max(10,Math.min(r,e))}_dragStartHandler(e){this.disabled||(this.thumbCapture=!0,this.dragStartX=e.clientX,this.dragStartY=e.clientY,this.dragStartValue=this.value,e.stopPropagation(),e.preventDefault())}_dragHandler(e){if(!0!==this.thumbCapture)return
this._isThumbDragged=!0
const t=(this.max-this.min)/(this.scrollBarSize-this.thumbSize),i="horizontal"===this.orientation?(e.clientX-this.dragStartX)*t:(e.clientY-this.dragStartY)*t
let n=i
this.rightToLeft&&"horizontal"===this.orientation&&(n=-i),this._updateValue(this.dragStartValue+n),e.stopPropagation(),e.preventDefault(),e.originalEvent&&(e.originalEvent.stopPropagation(),e.originalEvent.preventDefault())}_dragEndHandler(e){const t=this
t._trackDownTimer&&(clearInterval(t._trackDownTimer),t._trackDownTimer=null),t.thumbCapture&&(t.thumbCapture=!1,t._isThumbDragged=!1,"switchWhenReleased"===t.mechanicalAction?t._updateValue(t.dragStartValue,t.value):"switchUntilReleased"===this.mechanicalAction&&t._updateValue(t.dragStartValue),e.preventDefault(),e.stopPropagation(),e.originalEvent.preventDefault(),e.originalEvent.stopPropagation())}_farButtonClickHandler(){const e=this
if(e.disabled)return
const t=e.value
e._updateValue(e.value+("horizontal"===e.orientation&&e.rightToLeft?-1:1)*e.step),"switchUntilReleased"===e.mechanicalAction&&e._updateValue(t)}_nearButtonClickHandler(){const e=this
if(e.disabled)return
const t=e.value
e._updateValue(e.value-("horizontal"===e.orientation&&e.rightToLeft?-1:1)*e.step),"switchUntilReleased"===e.mechanicalAction&&e._updateValue(t)}propertyChangedHandler(e,t,i){super.propertyChangedHandler(e,t,i)
const n=this
switch(e){case"min":case"max":case"orientation":case"showButtons":n._layout(),"min"===e?n.setAttribute("aria-valuemin",i):"max"===e?n.setAttribute("aria-valuemax",i):"orientation"===e&&n.setAttribute("aria-orientation",i)
break
case"value":n._updateValue(t,i)
break
default:n._layout()}}render(){this.setAttribute("role","scrollbar"),this.setAttribute("aria-orientation",this.orientation),this.setAttribute("aria-valuemin",this.min),this.setAttribute("aria-valuemax",this.max),this.setAttribute("aria-valuenow",this.value),this._layout(),super.render()}_resizeHandler(){this._layout()}refresh(){this._layout()}_layout(){const e=this
e.scrollBarSize="horizontal"===e.orientation?e.$.track.offsetWidth:e.$.track.offsetHeight,e.thumbSize=e._calculateThumbSize(e.scrollBarSize),"horizontal"===e.orientation&&e.$.thumb.style.width!==e.thumbSize+"px"?e.$.thumb.style.width=e.thumbSize+"px":"vertical"===e.orientation&&e.$.thumb.style.height!==e.thumbSize+"px"&&(e.$.thumb.style.height=e.thumbSize+"px"),"horizontal"===e.orientation?(e.$.nearButton.classList.contains("jqx-arrow-up")&&e.$.nearButton.classList.remove("jqx-arrow-up"),e.$.farButton.classList.contains("jqx-arrow-down")&&e.$.farButton.classList.remove("jqx-arrow-down"),e.$.nearButton.classList.contains("jqx-arrow-left")||e.$.nearButton.classList.add("jqx-arrow-left"),e.$.farButton.classList.contains("jqx-arrow-right")||e.$.farButton.classList.add("jqx-arrow-right")):(e.$.nearButton.classList.contains("jqx-arrow-left")&&e.$.nearButton.classList.remove("jqx-arrow-left"),e.$.farButton.classList.contains("jqx-arrow-right")&&e.$.farButton.classList.remove("jqx-arrow-right"),e.$.nearButton.classList.contains("jqx-arrow-up")||e.$.nearButton.classList.add("jqx-arrow-up"),e.$.farButton.classList.contains("jqx-arrow-down")||e.$.farButton.classList.add("jqx-arrow-down")),e._updateThumbPosition(),(e.value>e.max||e.value<e.min)&&e._updateValue(e.value,e.value>e.max?e.max:e.min)}_selectStartHandler(e){this.thumbCapture&&e.preventDefault()}_trackDownHandler(e){const t=this
e.target===t.$.track&&(t._trackDownTimer&&clearInterval(t._trackDownTimer),t.thumbCapture||(t._trackDownTimer=setInterval(function(){t._trackClickHandler(e)},t.clickRepeatDelay),e.stopPropagation(),e.preventDefault()))}_trackClickHandler(e){const t=this
if(t.disabled)return
if(t._isThumbDragged)return clearInterval(t._trackDownTimer),void(t._trackDownTimer=null)
const i=t.$.thumb.getBoundingClientRect(),n=e.pageX-window.pageXOffset,r=e.pageY-window.pageYOffset,o=(t.rightToLeft?-1:1)*t.value
"horizontal"===t.orientation?n>(t._isThumbDragged?t.dragStartX:i.right)?t._updateValue(t.value+(t.rightToLeft?-1:1)*t.largeStep):n<(t._isThumbDragged?t.dragStartX:i.left)&&t._updateValue(t.value-(t.rightToLeft?-1:1)*t.largeStep):r>(t._isThumbDragged?t.dragStartY:i.bottom)?t._updateValue(t.value+t.largeStep):r<(t._isThumbDragged?t.dragStartY:i.top)&&t._updateValue(t.value-t.largeStep),"switchUntilReleased"===t.mechanicalAction&&t._updateValue(o)}_trackMoveHandler(e){"touchmove"===e.originalEvent.type&&e.originalEvent.preventDefault()}_updateValue(e,t){const i=this
if(1===arguments.length&&(t=e,e=i.value),(void 0===t||isNaN(t))&&(t=i.min),t>i.max&&(t=i.max),t<i.min&&(t=i.min),i.value=t,e!==t){if(i.setAttribute("aria-valuenow",t),i._updateThumbPosition(),i.thumbCapture&&"switchWhenReleased"===i.mechanicalAction)return
if(i.onChange)return void i.onChange({value:i.value,oldValue:e,min:i.min,max:i.max})
i.$.fireEvent("change",{value:i.value,oldValue:e,min:i.min,max:i.max})}}_updateThumbPosition(){const e=this,t=e.$.track.offsetHeight,i=e.$.track.offsetWidth,n="horizontal"===e.orientation?i:t,r=e._calculateThumbSize(n),o="horizontal"===e.orientation?i-r:t-r
let a=(n-r)/(e.max-e.min)*(e.value-e.min)
e.rightToLeft&&"horizontal"===e.orientation&&(a=(n-r)/(e.max-e.min)*(e.max-e.value-e.min)),a=Math.min(o,Math.max(0,a)),"vertical"===e.orientation&&e.$.thumb.style.top!==a+"px"?e.$.thumb.style.top=a+"px":"horizontal"===e.orientation&&e.$.thumb.style.left!==a+"px"&&(e.$.thumb.style.left=a+"px")}})
var W=Object.freeze({})
JQX("jqx-button",class extends JQX.ContentElement{static get properties(){return{value:{type:"string"},name:{type:"string"},type:{value:"button",type:"string"},clickMode:{allowedValues:["hover","press","release","pressAndRelease"],type:"string",value:"release"}}}static get styleUrls(){return["jqx.button.css"]}template(){return"<button class=\"jqx-button jqx-unselectable\" inner-h-t-m-l='[[innerHTML]]' id='button' type='[[type]]' name='[[name]]' value='[[value]]' disabled='[[disabled]]' role=\"presentation\"></button>"}static get listeners(){return{"button.down":"_downHandler","button.mouseenter":"_mouseEnterHandler","button.mouseleave":"_mouseLeaveHandler","button.touchend":"_touchEndHandler","button.click":"_clickHandler","button.up":"_upHandler",up:"_upHandler","button.focus":"_focusHandler","button.blur":"_blurHandler"}}focus(){const e=this
e.$.button?e.$.button.focus():HTMLElement.prototype.focus.call(e)}blur(){const e=this
e.$.button?e.$.button.blur():HTMLElement.prototype.blur.call(e)}_upHandler(e){e.stopPropagation(),this.$.setAttributeValue("active",!1)}_focusHandler(){this.$.setAttributeValue("focus",!0)}_blurHandler(){this.$.setAttributeValue("focus",!1)}_clickHandler(e){("release"!==this.clickMode&&"pressAndRelease"!==this.clickMode||this.readonly)&&(e.preventDefault(),e.stopPropagation())}_downHandler(e){const t=this
if(!(t.disabled||(t.hasRippleAnimation&&JQX.Utilities.Animation.Ripple.animate(t,e.pageX,e.pageY),t.$.setAttributeValue("active",!0),"press"!==t.clickMode&&"pressAndRelease"!==t.clickMode||t.readonly))){const i="buttons"in e?e.buttons:e.which
t.$.fireEvent("click",{buttons:i,clientX:e.clientX,clientY:e.clientY,pageX:e.pageX,pageY:e.pageY,screenX:e.screenX,screenY:e.screenY})}}_mouseEnterHandler(e){const t=this
if(!t.readonly&&(t.$button.setAttributeValue("hover",!0),t.$.setAttributeValue("hover",!0),"hover"===t.clickMode)){const i="buttons"in e?e.buttons:e.which
t.$.fireEvent("click",{buttons:i,clientX:e.clientX,clientY:e.clientY,pageX:e.pageX,pageY:e.pageY,screenX:e.screenX,screenY:e.screenY})}}_touchEndHandler(){const e=this
setTimeout(function(){e.$button.setAttributeValue("hover",!1),e.$.setAttributeValue("hover",!1)},300)}_mouseLeaveHandler(){this.$button.setAttributeValue("hover",!1),this.$.setAttributeValue("hover",!1)}propertyChangedHandler(e,t,i){super.propertyChangedHandler(e,t,i)
const n=this
"disabled"===e?(n._setFocusable(),n.$button&&n.$button.setAttributeValue("hover",!1),n.$.setAttributeValue("hover",!1),n instanceof JQX.RepeatButton&&n._stopRepeat()):"unfocusable"===e&&n._setFocusable()}_setFocusable(){const e=this.$.button?this.$.button:this
if(this.disabled||this.unfocusable)return e.removeAttribute("tabindex"),void(e.tabIndex=-1)
e.tabIndex=this.tabIndex>0?this.tabIndex:0}ready(){const e=this
super.ready(),e.setAttribute("role","button"),e._setFocusable(),e.enableShadowDOM&&e.$.hiddenInput&&e.appendChild(e.$.hiddenInput)}}),JQX("jqx-repeat-button",class extends JQX.Button{static get properties(){return{delay:{value:50,type:"number"},initialDelay:{value:150,type:"number"}}}static get listeners(){return{"button.down":"_startRepeat","button.mouseenter":"_overriddenHandler","button.mouseleave":"_overriddenHandler","button.pointerenter":"_updateInBoundsFlag","button.pointerleave":"_updateInBoundsFlag","button.touchmove":"_touchmoveHandler","document.up":"_stopRepeat"}}_clickHandler(e){const t=this;("release"!==t.clickMode||t.preventDefaultClick||t.readonly||t.disabled)&&(e.preventDefault(),e.stopPropagation(),t.preventDefaultClick=!1)}_updateInBoundsFlag(e){const t=this;-1!==e.type.indexOf("leave")?(t._isPointerInBounds=!1,t.$button.setAttributeValue("hover",!1),t.$.setAttributeValue("hover",!1)):(t._isPointerInBounds=!0,t.$button.setAttributeValue("hover",!0),t.$.setAttributeValue("hover",!0)),1!==("buttons"in e?e.buttons:e.which)&&t._stopRepeat(e)}_startRepeat(e){const t=this
t.setAttribute("active",""),t._initialTimer||t.readonly||(t._initialTimer=setTimeout(function(){t._repeatTimer=setInterval(()=>{if(t._isPointerInBounds){const i="buttons"in e?e.buttons:e.which
t.$.fireEvent("click",{buttons:i,clientX:e.clientX,clientY:e.clientY,pageX:e.pageX,pageY:e.pageY,screenX:e.screenX,screenY:e.screenY}),t.preventDefaultClick=!0}},t.delay)},t.initialDelay))}_stopRepeat(e){const t=this
t.readonly||e&&("pointercancel"===e.type||e.originalEvent&&"pointercancel"===e.originalEvent.type)||(t.$.setAttributeValue("active",!1),t._repeatTimer&&(clearInterval(t._repeatTimer),t._repeatTimer=null),t._initialTimer&&(clearTimeout(t._initialTimer),t._initialTimer=null))}_touchmoveHandler(e){this.preventDefaultClick&&e.cancelable&&(e.preventDefault(),e.stopPropagation())}_overriddenHandler(){}}),JQX("jqx-toggle-button",class extends JQX.Button{static get properties(){return{checked:{value:!1,type:"boolean?"},falseContent:{value:"",reflectToAttribute:!1,type:"string"},indeterminateContent:{value:"",reflectToAttribute:!1,type:"string"},indeterminate:{value:!1,type:"boolean"},trueContent:{value:"",reflectToAttribute:!1,type:"string"},indeterminateTemplate:{value:null,type:"any"},trueTemplate:{value:null,type:"any"},falseTemplate:{value:null,type:"any"},type:{value:"toggle",type:"string",defaultReflectToAttribute:!0,readonly:!0}}}static get listeners(){return{keydown:"_keyHandler",keyup:"_keyHandler",dragstart:"_dragStartHandler","button.click":"_buttonClickHandler","button.mouseenter":"_buttonMouseEnterHandler","button.mouseleave":"_buttonMouseLeaveHandler","document.up":"_documentUpHandler"}}ready(){super.ready(),this._setAriaState()}_setAriaState(){const e=this,t=e.checked
null!==t?e.setAttribute("aria-pressed",t):e.setAttribute("aria-pressed","mixed")}_buttonClickHandler(){}_buttonMouseLeaveHandler(){this.removeAttribute("hover")}_buttonMouseEnterHandler(){this.setAttribute("hover",""),this.disabled||this.readonly||"hover"!==this.clickMode||(this._changeCheckState("pointer"),this.focus(),this._updateHidenInputNameAndValue())}_documentUpHandler(e){this._pressed&&(this._pressed=!1,this.disabled||this.readonly||"press"===this.clickMode||"pointercancel"===e.originalEvent.type||(this._changeCheckState("pointer"),this.focus(),this._updateHidenInputNameAndValue()))}_downHandler(e){const t=this
t.disabled||t.readonly||(t.hasRippleAnimation&&JQX.Utilities.Animation.Ripple.animate(t,e.pageX,e.pageY),t._pressed=!0,"press"!==t.clickMode&&"pressAndRelease"!==t.clickMode||(t._changeCheckState("pointer"),t.$.fireEvent("click"),t._updateHidenInputNameAndValue()),"press"===t.clickMode&&(e.preventDefault(),e.stopPropagation()))}_dragStartHandler(e){e.preventDefault()}_keyHandler(e){const t=this
if(!0!==t.disabled&&!t.readonly&&32===e.keyCode){if("keydown"===e.type)return void e.preventDefault()
if("none"===t.switchMode)return
t._changeCheckState("keyboard"),t._updateHidenInputNameAndValue()}}_changeCheckState(e){const t=this
let i=null
null===t.checked?t.checked=!0:(i=t.checked,t.checked=!t.checked),t._handleTextSelection(),t.$.fireEvent("change",{value:t.checked,oldValue:i,changeType:e}),t._setAriaState()}_handleTextSelection(){const e=this
e.$.addClass("jqx-unselectable"),e.timer&&clearTimeout(e.timer),e.timer=setTimeout(()=>e.$.removeClass("jqx-unselectable"),500)}propertyChangedHandler(e,t,i){super.propertyChangedHandler(e,t,i)
const n=this
if("checked"===e)return n.$.fireEvent("change",{value:i,oldValue:t,changeType:"api"}),void n._setAriaState()
switch(e){case"trueTemplate":n._handleTemplate(!0)
break
case"falseTemplate":n._handleTemplate(!1)
break
case"indeterminateTemplate":n._handleTemplate()}}_htmlBindOnInitialization(){this._bindContentProperty("trueContent","jqx-true-content"),this._bindContentProperty("falseContent","jqx-false-content"),this._bindContentProperty("indeterminateContent","jqx-indeterminate-content")}_bindContentProperty(e,t){const i=this
if(!i.$[e+"Container"])return
let n=document.createElement("div")
n.innerHTML=i.innerHTML
let r,o=n.getElementsByClassName(t)
if(o.length>0)for(let e=0;e<o.length;e++)r=o[e]
""===i[e]&&(i[e]=void 0===r?"":r.outerHTML),i.$[e+"Container"].innerHTML=i[e]}_updateContentProperties(){const e=this
function t(t){e.$[t+"Container"]&&(e[t]=e.$[t+"Container"].innerHTML)}t("trueContent"),t("falseContent"),t("indeterminateContent")}_updateHidenInputValue(){const e=this
if(!e.$.hiddenInput)return
let t
t=null===e.checked?"null":!1===e.checked?"off":e.value||"on",e.$.hiddenInput.setAttribute("value",t)}_updateHidenInputName(){if(!this.$.hiddenInput)return
let e=!1===this.checked?"":this.name||""
this.$.hiddenInput.setAttribute("name",e)}_updateHidenInputNameAndValue(){this._updateHidenInputName(),this._updateHidenInputValue()}_handleTemplate(e,t){const i=this
let n,r,o
if(!0===e?(n=i.trueTemplate,r=i.$.trueContentContainer,o=i.trueContent):!1===e?(n=i.falseTemplate,r=i.$.falseContentContainer,o=i.falseContent):(n=i.indeterminateTemplate,r=i.$.indeterminateContentContainer,o=i.indeterminateContent),t&&(r.innerHTML=o||""),null===n||!n)return
if("function"==typeof n)return void n(r,{value:o})
if(!("content"in document.createElement("template")))return void i.error(i.localize("htmlTemplateNotSuported",{elementType:i.nodeName.toLowerCase()}))
if(null===(n=document.getElementById(n))||!("content"in n))return void i.error(i.localize("invalidTemplate",{elementType:i.nodeName.toLowerCase(),property:"template"}))
const a=n.content,s=a.childNodes.length,l=/{{\w+}}/g
let d,c=[]
for(let e=0;e<s;e++)for(d=l.exec(a.childNodes[e].innerHTML);d;)c.push({childNodeIndex:e,bindingString:d[0]}),d=l.exec(a.childNodes[e].innerHTML)
const h=c.length
let u,p,m=document.importNode(n.content,!0)
for(let e=0;e<h;e++){u=m.childNodes[c[e].childNodeIndex],p=c.length
for(let t=0;t<p;t++)u.innerHTML=u.innerHTML.replace(c[e].bindingString,o)}r.innerHTML=""
for(let e=0;e<m.childNodes.length;e++)m.childNodes[e].outerHTML&&(r.innerHTML+=m.childNodes[e].outerHTML)}})
var X=Object.freeze({})
JQX("jqx-check-box",class extends JQX.ToggleButton{static get properties(){return{checkMode:{value:"both",allowedValues:["both","input","label"],type:"string"},type:{value:"checkbox",type:"string",defaultReflectToAttribute:!0,readonly:!0}}}template(){return"<div id='container' class='jqx-container' role=\"presentation\">\n                    <div class='jqx-overlay' role=\"presentation\"></div>\n                    <span id='checkBoxInput' class='jqx-input' aria-hidden=\"true\"></span>\n                    <span id='checkBoxLabel' inner-h-t-m-l='[[innerHTML]]' class='jqx-label'><content></content></span>\n                    <input id='hiddenInput' class='jqx-hidden-input' type='hidden'>\n                </div>"}static get listeners(){return{down:"_downHandler","document.up":"_documentUpHandler","checkBoxInput.mouseenter":"_mouseEnterHandler","checkBoxInput.mouseleave":"_mouseLeaveHandler",focus:"_focusHandler",blur:"_blurHandler"}}static get styleUrls(){return["jqx.toggle.css"]}_focusHandler(){this.$.setAttributeValue("focus",!0)}_blurHandler(){this.$.setAttributeValue("focus",!1)}_mouseEnterHandler(){this.$.setAttributeValue("hover",!0)}_mouseLeaveHandler(){this.$.setAttributeValue("hover",!1)}ready(){const e=this
super.ready(),e.setAttribute("role","checkbox"),e.indeterminate&&(e._valueCache=e.checked,e.checked=null,e._setAriaState()),e.classList.add("jqx-toggle-box"),e._updateHidenInputNameAndValue()}propertyChangedHandler(e,t,i){super.propertyChangedHandler(e,t,i)
const n=this
switch(n._updateContentProperties(),e){case"indeterminate":i?(n._valueCache=n.checked,n.checked=null):n.checked=n._valueCache,n._setAriaState(),n._updateHidenInputNameAndValue()
break
case"value":case"checked":n._updateHidenInputNameAndValue()
break
case"name":n._updateHidenInputName()}}_documentUpHandler(e){if(!this._pressed||"pointercancel"===e.originalEvent.type)return
const t=this.enableShadowDOM?e.originalEvent.composedPath()[0]:e.originalEvent.target
if(this._pressed=!1,this.$.setAttributeValue("active",!1),!(this.disabled||this.readonly||"input"===this.checkMode&&t!==this.$.checkBoxInput||"label"===this.checkMode&&t!==this.$.checkBoxLabel)){if("press"===this.clickMode)return e.preventDefault(),void e.stopPropagation()
this._changeCheckState("pointer"),this.focus(),this._handleTextSelection(),this._updateHidenInputNameAndValue()}}_downHandler(e){const t=this,i=t.enableShadowDOM?e.originalEvent.composedPath()[0]:e.originalEvent.target
if(!(t.disabled||t.readonly||"input"===t.checkMode&&i!==t.$.checkBoxInput||"label"===t.checkMode&&i!==t.$.checkBoxLabel)){if(t.$.setAttributeValue("active",!0),t.hasRippleAnimation){const e=t.$.checkBoxInput.getBoundingClientRect(),i=window.scrollX||window.pageXOffset,n=window.scrollY||window.pageYOffset
JQX.Utilities.Animation.Ripple.animate(t.$.checkBoxInput,e.left+e.width/2+i,e.top+e.height/2+n)}t._pressed=!0,"press"!==t.clickMode&&"pressAndRelease"!==t.clickMode||(t._changeCheckState("pointer"),t.$.fireEvent("click"),t.focus(),t._updateHidenInputNameAndValue())}}_setAriaState(){const e=this,t=e.checked
null!==t?e.setAttribute("aria-checked",t):e.setAttribute("aria-checked","mixed")}})
var J=Object.freeze({})
JQX("jqx-led",class extends JQX.ToggleButton{static get properties(){return{shape:{value:"round",allowedValues:["round","square"],type:"string"}}}static get styleUrls(){return["jqx.led.css"]}template(){return"<div id='container' class='jqx-container' role=\"presentation\">\n                    <div id='ledAnimation' class='jqx-animation' role=\"presentation\"></div>\n                    <div id='button' class='jqx-input' role=\"presentation\">\n                        <span id='falseContentContainer' inner-h-t-m-l='[[falseContent]]' class='jqx-false-content-container'></span>\n                        <span id='indeterminateContentContainer' inner-h-t-m-l='[[indeterminateContent]]' class='jqx-indeterminate-content-container'></span>\n                        <span id='trueContentContainer' inner-h-t-m-l='[[trueContent]]' class='jqx-true-content-container'></span>\n                    </div>\n                    <input id='hiddenInput' class='jqx-hidden-input' type='hidden'>\n                </div>"}ready(){const e=this
super.ready(),e._htmlBindOnInitialization(),e.indeterminate&&(e._valueCashe=e.checked,e.checked=null),e._handleTemplate(!0),e._handleTemplate(!1),e._handleTemplate(),e._updateHidenInputNameAndValue()}propertyChangedHandler(e,t,i){super.propertyChangedHandler(e,t,i)
const n=this
switch(e){case"indeterminate":i?(n._valueCashe=n.checked,n.checked=null):n.checked=n._valueCashe,n._updateHidenInputNameAndValue()
break
case"trueContent":n.trueContent=i,n._handleTemplate(!0)
break
case"falseContent":n.falseContent=i,n._handleTemplate(!1)
break
case"indeterminateContent":n.indeterminateContent=i,n._handleTemplate()
break
case"value":case"checked":n._updateHidenInputNameAndValue()
break
case"name":n._updateHidenInputName()}}_documentUpHandler(e){const t=this
if(t._pressed&&!t.readonly){if("press"===t.clickMode)return e.preventDefault(),e.stopPropagation(),void(t._pressed=!1)
super._documentUpHandler(e),t.indeterminate=!1,t._updateHidenInputNameAndValue(),t._pressed=!1}}_mouseDownHandler(){const e=this
e.readonly||e.disabled||(e._pressed=!0,"press"!==e.clickMode&&"pressAndRelease"!==e.clickMode||(e._changeCheckState("pointer"),e.$.fireEvent("click"),e.indeterminate=!1,e._updateHidenInputNameAndValue()))}})
var Y=Object.freeze({})
JQX("jqx-power-button",class extends JQX.ToggleButton{static get styleUrls(){return["jqx.powerbutton.css"]}template(){return"<div id='container' class='jqx-container'>\n                    <div id='powerButtonAnimation' class='jqx-animation'></div>\n                    <span id='button' class='jqx-input' aria-hidden=\"true\"></span>\n                    <input id='hiddenInput' class='jqx-hidden-input' type='hidden'>\n                </div>"}ready(){super.ready(),this._updateHidenInputNameAndValue()}})
var Q=Object.freeze({})
JQX("jqx-radio-button",class extends JQX.ToggleButton{static get properties(){return{checkMode:{value:"both",allowedValues:["both","input","label"],type:"string"},type:{value:"radio",type:"string",defaultReflectToAttribute:!0,readonly:!0},groupName:{value:"",type:"string"}}}template(){return"<div  id='container' class='jqx-container'>\n                 <div class ='jqx-overlay'></div>\n                 <span id='radioButtonInput' class ='jqx-input'></span>\n                 <span id='radioButtonLabel' inner-h-t-m-l='[[innerHTML]]' class ='jqx-label'><content></content></span>\n                 <input id='hiddenInput' class ='jqx-hidden-input' type='hidden'>\n               </div>"}static get listeners(){return{down:"_downHandler","document.up":"_documentUpHandler",mouseenter:"_elementMouseEnterHandler","radioButtonInput.mouseenter":"_radioMouseEnterHandler","radioButtonInput.mouseleave":"_radioMouseLeaveHandler",focus:"_focusHandler",blur:"_blurHandler"}}static get styleUrls(){return["jqx.toggle.css"]}_radioMouseEnterHandler(){this.$.setAttributeValue("hover",!0)}_radioMouseLeaveHandler(){this.$.setAttributeValue("hover",!1)}_focusHandler(){this.$.setAttributeValue("focus",!0)}_blurHandler(){this.$.setAttributeValue("focus",!1)}_mouseEnterHandler(){this.$.setAttributeValue("hover",!0)}_mouseLeaveHandler(){this.$.setAttributeValue("hover",!1)}ready(){super.ready(),this.classList.add("jqx-toggle-box"),this._handleMultipleCheckedInstances(),this._updateHidenInputNameAndValue()}_downHandler(e){const t=this,i=t.enableShadowDOM?e.originalEvent.composedPath()[0]:e.originalEvent.target
if(!(t.disabled||t.readonly||"input"===t.checkMode&&i!==t.$.radioButtonInput||"label"===t.checkMode&&i!==t.$.radioButtonLabel)){if(t.$.setAttributeValue("active",!0),t.hasRippleAnimation){const e=t.$.radioButtonInput.getBoundingClientRect(),i=window.scrollX||window.pageXOffset,n=window.scrollY||window.pageYOffset
JQX.Utilities.Animation.Ripple.animate(t.$.radioButtonInput,e.left+e.width/2+i,e.top+e.height/2+n)}t._preventAction?t._preventAction=!1:("release"!==t.clickMode&&"pressAndRelease"!==t.clickMode||(t._pressed=!0),"press"!==t.clickMode&&"pressAndRelease"!==t.clickMode||("pressAndRelease"===t.clickMode&&(""===t.groupName?t._checkedBeforeChange=t.parentNode.querySelector("jqx-radio-button[checked]"):t._checkedBeforeChange=document.querySelector('jqx-radio-button[group-name="'+t.groupName+'"][checked]')),t._handleMouseInteraction()))}}_elementMouseEnterHandler(){const e=this
"hover"!==e.clickMode||e.disabled||e.readonly||e._handleMouseInteraction()}_documentUpHandler(e){const t=this,i=t.enableShadowDOM?e.originalEvent.composedPath()[0]:e.originalEvent.target
!t._pressed||t.disabled||t.readonly||"input"===t.checkMode&&i!==t.$.radioButtonInput||"label"===t.checkMode&&i!==t.$.radioButtonLabel||"pointercancel"===e.originalEvent.type||("release"===t.clickMode?t._handleMouseInteraction():(null===t._checkedBeforeChange?(t.$.fireEvent("change",{value:!1,oldValue:!0,changeType:"pointer"}),t.checked=!1):t._checkedBeforeChange._changeCheckState("pointer"),t.focus(),t._updateHidenInputNameAndValue()),t.$.setAttributeValue("active",!1),t._pressed=!1)}_handleMouseInteraction(){this._handleTextSelection(),this._changeCheckState("pointer"),this.focus(),this._updateHidenInputNameAndValue()}_handleMultipleCheckedInstances(){const e=Array.from(document.querySelectorAll('jqx-radio-button[group-name="'+this.groupName+'"][checked]')),t=e.length
t<2||e.forEach((e,i)=>i<t-1&&(e.checked=!1))}_changeCheckState(e){const t=this
let i=document.querySelectorAll('jqx-radio-button[group-name="'+t.groupName+'"]')
if(!0===t.checked&&"api"===e||!1===t.checked)if(i.length>0)t._changeCheckStateInGroup(i,e)
else{i=t.parentNode.querySelectorAll("jqx-radio-button:not([group-name])"),t._changeCheckStateInGroup(i,e)}}_changeCheckStateInGroup(e,t){const i=this
for(let n=0;n<e.length;n++)e[n]._isUpdating=!0,e[n]===i?(i.checked=!0,i.$.fireEvent("change",{value:!0,oldValue:!1,changeType:t})):e[n].checked&&(e[n].checked=!1),e[n]._isUpdating=!1}propertyChangedHandler(e,t,i){const n=this
switch(e){case"value":n._updateHidenInputNameAndValue()
break
case"checked":n._isUpdating||n._changeCheckState("api"),n._updateHidenInputNameAndValue()
break
case"name":n._updateHidenInputName()
break
default:super.propertyChangedHandler(e,t,i)}}})
var K=Object.freeze({})
JQX("jqx-switch-button",class extends JQX.ToggleButton{static get properties(){return{inverted:{value:!1,type:"boolean"},orientation:{value:"horizontal",allowedValues:["horizontal","vertical"],type:"string"},switchMode:{value:"default",allowedValues:["default","click","drag","none"],type:"string"},clickMode:{value:"release",allowedValues:["press","release","pressAndRelease"],type:"string"}}}static get listeners(){return{"container.down":"_mouseDownHandler","document.move":"_drag","container.move":"_moveHandler","document.up":"_switchThumbDropHandler",mouseenter:"_switchButtonOnMouseEnter",mouseleave:"_switchButtonOnMouseLeave",resize:"_resizeHandler","container.resize":"_resizeHandler","document.selectstart":"_selectStartHandler"}}static get styleUrls(){return["jqx.switchbutton.css"]}propertyChangedHandler(e,t,i){const n=this
switch(super.propertyChangedHandler(e,t,i),n._updateContentProperties(),e){case"indeterminate":i?(n._valueCache=n.checked,n.checked=null):n.checked=n._valueCache,n._setAriaState()
break
case"trueContent":n.trueContent=i
break
case"falseContent":n.falseContent=i
break
case"orientation":n._resizeHandler()}n._getContainersSizeAndBreakPoint(),n._removeDragStyles(),n._resizeHandler()}template(){return"<div  id='container' class='jqx-container' role=\"presentation\">\n                    <div id='innerContainer' class='jqx-inner-container' role=\"presentation\">\n                        <span id='falseContentContainer' inner-h-t-m-l='[[falseContent]]' class='jqx-false-content-container'></span>\n                        <span id='switchThumb' class='jqx-thumb' role=\"presentation\"></span>\n                        <span id='trueContentContainer' inner-h-t-m-l='[[trueContent]]' class='jqx-true-content-container'></span>\n                    </div>\n                    <input id='hiddenInput' class='jqx-hidden-input' type='hidden'>\n                </div>"}ready(){const e=this
super.ready(),e.setAttribute("role","switch")
let t=e.animation
e.hasAnimation&&(e.animation="none"),e._supportCSSVariables=JQX.Utilities.Core.CSSVariablesSupport()&&Boolean(window.getComputedStyle(e.$.container).getPropertyValue("--jqx-switch-button-default-width")),e._htmlBindOnInitialization(),e._resizeHandler(),e._initializePrivateVariables(),e._getContainersSizeAndBreakPoint(),e.indeterminate&&(e._valueCache=e.checked,e.checked=null),e._setAriaState(),e._handleTemplate(!0),e._handleTemplate(!1),e._handleTemplate(),e._updateHidenInputNameAndValue(),e._updateThumbPosition(),e.animation=t}_mouseDownHandler(e){const t=this
t.disabled||t.readonly||"none"===t.switchMode||(e.originalEvent.target.closest(".jqx-thumb")!==t.$.switchThumb||"default"!==t.switchMode&&"drag"!==t.switchMode||t._switchThumbDragStartHandler(e),t._isSwitchClicked=t,t._updateContentProperties(),"release"!==t.clickMode&&"click"===t.switchMode&&(t._updateStateOnClick(),t.$.fireEvent("click"),t.indeterminate=!1,t._updateHidenInputNameAndValue()))}_updateStateOnClick(){this._changeCheckState(),this.focus()}_drag(e){this._mouseDown&&(JQX.Utilities.Core.isMobile&&e.originalEvent.preventDefault(),this._switchThumbDragHandler(e))}_switchThumbDragStartHandler(e){this.disabled||("click"===this.switchMode&&"release"!==this.clickMode&&(e.preventDefault(),e.stopPropagation()),this._isInactiveOn("drag")||(this._mouseDown=!0,this._getContainersSizeAndBreakPoint(),this._pointerPosition="vertical"===this.orientation?e.pageY:e.pageX,e.preventDefault()))}_selectStartHandler(e){this._mouseDown&&e.preventDefault()}_switchThumbDragHandler(e){const t=this
if(t._isInactiveOn("drag"))return
if(!1===t._mouseDown)return void t._removeDragStyles()
if(!t.hasAttribute("dragged")){if(Math.abs(("vertical"===t.orientation?e.pageY:e.pageX)-t._pointerPosition)<=1.5)return
t.setAttribute("dragged","")}let i=t.$.innerContainer,n=t.$.container.getBoundingClientRect(),r="vertical"===t.orientation?document.body.scrollTop||document.documentElement.scrollTop:document.body.scrollLeft||document.documentElement.scrollLeft,o="vertical"===t.orientation?n.top+r:n.left+r,a="vertical"===t.orientation?t._pointerPosition-i.offsetTop:t._pointerPosition-i.offsetLeft,s=t._pointerPosition>=o&&t._pointerPosition<=o+t._switchContainerSize
const l=-1*(t.offsetWidth-t.$.switchThumb.offsetWidth),d=-1*(t.offsetHeight-t.$.switchThumb.offsetHeight)
if(t._pointerPosition="vertical"===t.orientation?e.pageY:e.pageX,s){let e=t._pointerPosition-a
e<-t._switchTrackLength&&(e=-t._switchTrackLength),e>0&&(e=0),"vertical"===t.orientation?t.$.innerContainer.style.top=Math.max(d,e)+"px":t.$.innerContainer.style.left=Math.max(l,e)+"px"}}_switchThumbDropHandler(){const e=this
e.hasAttribute("dragged")?e._endDrag():e._isSwitchClicked&&e._endClick(),e._mouseDown=!1,delete e._isSwitchClicked}_endDrag(){const e=this,t=e.inverted&&!e.rightToLeft||!e.inverted&&e.rightToLeft
if(e.indeterminate=!1,e._updateHidenInputNameAndValue(),e._isInactiveOn("drag")||!e._mouseDown)return
e.removeAttribute("dragged"),delete e._pointerPosition
const i=("vertical"===e.orientation?e.$.innerContainer.offsetTop+e.$.switchThumb.offsetTop+e.$.switchThumb.clientHeight/2:e.$.innerContainer.offsetLeft+e.$.switchThumb.offsetLeft+e.$.switchThumb.clientWidth/2)>e._switchBreakPoint
null!==e.checked?!t==(i===e.checked)&&e._changeCheckState(!e.checked):i?e._changeCheckState(t):e._changeCheckState(!t),e._removeDragStyles(),e._updateThumbPosition()}_endClick(){const e=this
e._resizeHandler(),e.disabled||e.readonly||e._isInactiveOn("click")||("release"!==e.clickMode&&"pressAndRelease"!==e.clickMode||e._updateStateOnClick(),e.indeterminate=!1,e._updateHidenInputNameAndValue())}_switchButtonOnMouseEnter(){this.disabled||this.readonly||this.$.addClass("hovered")}_switchButtonOnMouseLeave(){this.disabled||this.readonly||this.$.removeClass("hovered")}_isInactiveOn(e){const t=this.disabled||this.readonly||this.switchMode!==e
return"default"!==this.switchMode&&t}_keyUpHandler(e){this.disabled||this.readonly||32!==e.keyCode||"none"===this.switchMode||(this._getContainersSizeAndBreakPoint(),this._changeCheckState())}_initializePrivateVariables(){this._switchContainerSize=this._switchTrackLength=this._switchBreakPoint=this._pointerPosition=0,this._mouseDown=!1}_changeCheckState(e){const t=this
let i=t.checked
if(null===i&&void 0!==e)return t.$.fireEvent("change",{value:e,oldValue:null}),t.checked=e,void t._updateThumbPosition()
null===t.checked?t.checked=!0:t.checked=!t.checked,t._setAriaState(),t._updateThumbPosition(),t.$.fireEvent("change",{value:t.checked,oldValue:i}),t._updateHidenInputNameAndValue()}_getContainersSizeAndBreakPoint(){this._switchContainerSize="vertical"===this.orientation?this.$.container.clientHeight:this.$.container.clientWidth,this._switchTrackLength="vertical"===this.orientation?this._switchContainerSize-this.$.switchThumb.clientHeight:this._switchContainerSize-this.$.switchThumb.clientWidth,this._switchBreakPoint=this._switchContainerSize/2}_removeDragStyles(){this._supportCSSVariables?this.$.innerContainer.removeAttribute("style"):this.$.innerContainer.style.left="",this._supportCSSVariables?this.$.innerContainer.removeAttribute("style"):this.$.innerContainer.style.top="",this._mouseDown=!1}_moveHandler(e){"touchmove"===e.originalEvent.type&&e.originalEvent.preventDefault()}_resizeHandler(){const e=this
if(!document.body.contains(e))return
const t=window.getComputedStyle(e,null),i=parseInt(t.getPropertyValue("border-top-width")),n=parseInt(t.getPropertyValue("border-right-width")),r=parseInt(t.getPropertyValue("border-bottom-width")),o=parseInt(t.getPropertyValue("border-left-width")),a="vertical"===e.orientation?e.offsetHeight-(i+r):e.offsetWidth-(o+n)
e._getContainersSizeAndBreakPoint(),e._supportCSSVariables?e.$.container.style.setProperty("--jqx-switch-button-default-width",a+"px"):(e._innerContainerSize=a,e.$.innerContainer.style.height=e.$.innerContainer.style.width="",e.$.trueContentContainer.style.height=e.$.trueContentContainer.style.width="",e.$.falseContentContainer.style.height=e.$.falseContentContainer.style.width="","horizontal"===e.orientation?(e.$.innerContainer.style.setProperty("width",2*a-e.$.switchThumb.clientWidth+"px"),e.$.trueContentContainer.style.setProperty("width",e._switchTrackLength+"px"),e.$.falseContentContainer.style.setProperty("width",e._switchTrackLength+"px")):(e.$.innerContainer.style.setProperty("height",2*a-e.$.switchThumb.clientHeight+"px"),e.$.trueContentContainer.style.setProperty("height",e._switchTrackLength+"px"),e.$.falseContentContainer.style.setProperty("height",e._switchTrackLength+"px")),e._updateThumbPosition())}_updateThumbPosition(){const e=this,t=e.inverted&&!e.rightToLeft||!e.inverted&&e.rightToLeft
!e._supportCSSVariables&&(t?!0!==e.checked:!1!==e.checked)&&e._innerContainerSize?((t?!1===e.checked:e.checked)&&("horizontal"===e.orientation?(e.$.innerContainer.style.left=-1*(e._innerContainerSize-e.$.switchThumb.offsetWidth)+"px",e.$.innerContainer.style.top=""):(e.$.innerContainer.style.top=-1*(e._innerContainerSize-e.$.switchThumb.offsetHeight)+"px",e.$.innerContainer.style.left="")),null===e.checked&&("horizontal"===e.orientation?(e.$.innerContainer.style.left=-1*(e._innerContainerSize/2-e.$.switchThumb.offsetWidth/2)+"px",e.$.innerContainer.style.top=""):(e.$.innerContainer.style.top=-1*(e._innerContainerSize/2-e.$.switchThumb.offsetHeight/2)+"px",e.$.innerContainer.style.left=""))):e.$.innerContainer.style.left=e.$.innerContainer.style.top=""}_setAriaState(){const e=this,t=!!e.checked
e.setAttribute("aria-checked",t),t?(e.$.falseContentContainer.setAttribute("aria-hidden",!0),e.$.trueContentContainer.removeAttribute("aria-hidden")):(e.$.trueContentContainer.setAttribute("aria-hidden",!0),e.$.falseContentContainer.removeAttribute("aria-hidden"))}})
var Z=Object.freeze({})
JQX("jqx-list-item",class extends JQX.ContentElement{static get properties(){return{alternationIndex:{value:-1,type:"int"},color:{value:"",type:"string"},displayMode:{allowedValues:["plain","checkBox","radioButton"],value:"plain",type:"string"},grouped:{value:!1,type:"boolean"},selected:{value:!1,type:"boolean"},value:{value:"",type:"string"},label:{value:"",type:"string"},details:{value:"",type:"string"},group:{value:"",type:"string"},hidden:{value:!1,type:"boolean"},readonly:{value:!1,type:"boolean"}}}get hasStyleObserver(){return!1}get enableShadowDOM(){return!1}get _focused(){const e=this
return void 0===e.__focused&&(e.__focused=!1),e.__focused}set _focused(e){const t=this
t.__focused=e,e?(t.setAttribute("focus",""),t.ownerListBox&&t.ownerListBox.ownerElement&&JQX.ComboBox&&t.ownerListBox.ownerElement instanceof JQX.ComboBox&&t.ownerListBox.ownerElement.$.input.setAttribute("aria-activedescendant",t.id)):t.removeAttribute("focus")}template(){return'<div id="container">\n                   <span id=\'itemInput\' class=\'jqx-input jqx-hidden\'></span>\n                    <span class="jqx-overlay" id="overlay"></span>\n                    <div id="itemContainer" class="jqx-content jqx-list-item-container"><span class="jqx-content-label" inner-h-t-m-l=\'[[innerHTML]]\' role="presentation"><content></content></span><span inner-h-t-m-l=\'[[details]]\' id="details" class="jqx-content-details"></span></div>\n                </div>'}appendChild(e){const t=this
if(!t.isCompleted||e.classList.contains("jqx-ripple")){const e=Array.prototype.slice.call(arguments,2)
return HTMLElement.prototype.appendChild.apply(t,e.concat(Array.prototype.slice.call(arguments)))}t.$.itemContainer.innerHTML="",e instanceof HTMLElement&&t.$.itemContainer.appendChild(e)}insertBefore(e,t){const i=this
if(!i.isCompleted){const e=Array.prototype.slice.call(arguments,2)
return HTMLElement.prototype.insertBefore.apply(i,e.concat(Array.prototype.slice.call(arguments)))}t.parentNode.insertBefore(e,t)}removeChild(e){const t=this
if(!t.isCompleted||e.classList.contains("jqx-ripple")){const e=Array.prototype.slice.call(arguments,2)
return HTMLElement.prototype.removeChild.apply(t,e.concat(Array.prototype.slice.call(arguments)))}e instanceof HTMLElement&&t.$.itemContainer.removeChild(e)}attached(){super.attached(),this.ownerListBox=this.getListBox()}static get listeners(){return{mouseenter:"_itemOnMouseEnter",mouseleave:"_itemOnMouseLeave"}}ready(){super.ready()
const e=this
e.setAttribute("role","option"),""!==e.label?e.innerHTML=e.label:""!==e.innerHTML&&(e.label=e.innerHTML),e._setDisplayMode(e.displayMode),e._setItemColor(),e.$.container.noRipple=!0}propertyChangedHandler(e,t,i){const n=this
if(super.propertyChangedHandler(e,t,i),"hidden"===e)i?n.$.addClass("jqx-hidden"):n.$.removeClass("jqx-hidden")
else if("color"===e)n._setItemColor()
else if("displayMode"===e)n._setDisplayMode(i)
else if("label"===e||"value"===e){const t=n.context
n.context=document,"label"===e&&(n.innerHTML=i)
const r=n.getListBox()
r._applyTemplate(n),r.onItemUpdated(n),n.context=t}else if("details"===e){const e=n.context
n.context=document,n.$.details.innerHTML=i,n.getListBox().onItemUpdated(n),n.context=e}else if("innerHTML"===e){n.getListBox().onItemUpdated(n)}else if("selected"===e)if(i)n.setAttribute("aria-selected",!0)
else{const e=n.getListBox()
n.readonly||n.disabled||!e||-1===["oneOrManyExtended","zeroOrMany","oneOrMany","checkBox"].indexOf(e.selectionMode)?n.removeAttribute("aria-selected"):n.setAttribute("aria-selected",!1)}}getListBox(){const e=this
let t=e.parentNode
for(;t instanceof JQX.ListBox==!1&&null!==t;)t=t.parentNode
return!t&&JQX.EnableShadowDOM?e.getRootNode().host:t}_itemOnMouseEnter(){const e=this
!e.disabled&&e.ownerListBox&&(JQX.ListBox.DragDrop.Dragging&&e.ownerListBox.allowDrop&&(JQX.ListBox.DragDrop.DropDetails={item:e,position:"bottom"}),e.ownerListBox.$.verticalScrollBar.thumbCapture||e.ownerListBox.$.horizontalScrollBar.thumbCapture||e.setAttribute("hover",""))}_itemOnMouseMove(e){const t=this
if(t.ownerListBox&&JQX.ListBox.DragDrop.Dragging&&t.ownerListBox.allowDrop&&!JQX.Utilities.Core.isMobile){const i=[].slice.call(t.ownerListBox.getElementsByClassName("jqx-list-item-bottom-line-feedback"))
for(let e=0;e<i.length;e++)i[e].$.removeClass("jqx-list-item-line-feedback"),i[e].$.removeClass("jqx-list-item-bottom-line-feedback")
if(JQX.ListBox.DragDrop.DropDetails={item:t,position:"top"},!t.ownerListBox._areCSSVarsSupported){if(t.ownerListBox._indexOf(t)===t.ownerListBox._items.length-1||t.parentNode.lastElementChild===t){const i=t.getBoundingClientRect()
e.pageY-window.pageYOffset>i.top+i.height/2-1&&(JQX.ListBox.DragDrop.DropDetails={item:t,position:"bottom"})}return}if(t.$.removeClass("jqx-list-item-line-feedback"),t.$.removeClass("jqx-list-item-bottom-line-feedback"),t.ownerListBox.sorted&&t.ownerListBox.autoSort)return
const n=t.ownerListBox._items.filter(e=>!e.hidden)
if(n.indexOf(t)===n.length-1||t.parentNode.lastElementChild===t){const i=t.getBoundingClientRect()
e.pageY-window.pageYOffset>i.top+i.height/2-1?(t.$.addClass("jqx-list-item-bottom-line-feedback"),JQX.ListBox.DragDrop.DropDetails={item:t,position:"bottom"}):arguments[1]||t.$.addClass("jqx-list-item-line-feedback")}else arguments[1]||t.$.addClass("jqx-list-item-line-feedback")}}_itemOnMouseLeave(){const e=this
e.ownerListBox&&(JQX.ListBox.DragDrop.Dragging&&(e.$.removeClass("jqx-list-item-line-feedback"),e.$.removeClass("jqx-list-item-bottom-line-feedback")),e.removeAttribute("hover"))}_setDisplayMode(e){const t=this,i=t.getListBox()
if(i){const n="checkBox"===i.selectionMode||"radioButton"===i.selectionMode?i.selectionMode:"plain"
t.displayMode=e=n}"plain"!==e?t.$itemInput.removeClass("jqx-hidden"):t.$itemInput.addClass("jqx-hidden")}_setItemColor(){const e=this.querySelector(".jqx-content-label"),t=/(^#[0-9A-F]{3}$)|(^#[0-9A-F]{6}$)|(^#[0-9A-F]{8}$)/i.test(this.color)?this.color:""
e.style.backgroundColor=t,e.style.color=this._getContrastColor(t)}_getContrastColor(e){if(!e)return""
let t=(i=e.slice(1,3),n=e.slice(3,5),r=e.slice(5,7),[parseInt(i,16),parseInt(n,16),parseInt(r,16)])
var i,n,r
return parseFloat(((.299*t[0]+.61*t[1]+.114*t[2])/255).toFixed(2))>.65?"#000000":"#FFFFFF"}}),JQX("jqx-list-items-group",class extends JQX.ContentElement{static get properties(){return{label:{value:"",type:"string"}}}get enableShadowDOM(){return!1}template(){return'<div id="container" role="presentation">\n                 <span id="itemsLabel" class="jqx-list-items-group-label">[[label]]</span>\n                 <div id="listItemsGroupContainer" inner-h-t-m-l=\'[[innerHTML]]\' class="jqx-list-items-group-container" role="presentation">\n                    <content></content>\n                 </div>\n               </div>'}appendChild(e){const t=this
if(!t.isCompleted){const e=Array.prototype.slice.call(arguments,2)
return HTMLElement.prototype.appendChild.apply(t,e.concat(Array.prototype.slice.call(arguments)))}e instanceof HTMLElement&&t.$.listItemsGroupContainer.appendChild(e)}removeChild(e){const t=this
if(!t.isCompleted){const e=Array.prototype.slice.call(arguments,2)
return HTMLElement.prototype.removeChild.apply(t,e.concat(Array.prototype.slice.call(arguments)))}e instanceof HTMLElement&&t.$.listItemsGroupContainer.removeChild(e)}getListBox(){let e=this.parentNode
for(;e instanceof JQX.ListBox==!1&&null!==e;)e=e.parentNode
return e}attached(){const e=this
super.attached(),e.ownerListBox||(e.ownerListBox=e.getListBox()),e.setAttribute("role","group"),e.$.itemsLabel.id||(e.$.itemsLabel.id=e.id+"Label"),e.setAttribute("aria-labelledby",e.$.itemsLabel.id)}}),JQX("jqx-list-box",class extends JQX.ScrollViewer{static get properties(){return{allowDrag:{value:!1,type:"boolean"},allowDrop:{value:!1,type:"boolean"},alternationStart:{value:0,type:"int"},alternationEnd:{value:0,type:"int"},alternationCount:{value:0,type:"int"},autoSort:{value:!0,type:"boolean"},dataSource:{value:null,type:"any?",reflectToAttribute:!1},dragFeedbackFormatFunction:{value:null,type:"function?"},dragOffset:{value:[10,10],type:"array"},displayLoadingIndicator:{value:!1,type:"boolean"},displayMember:{value:"",type:"string"},shadowDomMode:{allowedValues:["light","shadow"],value:"shadow",type:"string"},dropAction:{value:"move",type:"string",allowedValues:["copy","move","none"]},editable:{value:!1,type:"boolean"},filterable:{value:!1,type:"boolean"},filterCallback:{value:null,type:"function?"},filterMode:{value:"containsIgnoreCase",allowedValues:["contains","containsIgnoreCase","doesNotContain","doesNotContainIgnoreCase","equals","equalsIgnoreCase","startsWith","startsWithIgnoreCase","endsWith","endsWithIgnoreCase","custom"],type:"string"},filterInputPlaceholder:{value:"",type:"string"},grouped:{value:!1,type:"boolean"},groupMember:{value:"",type:"string"},itemTemplate:{value:null,type:"any"},itemHeight:{value:null,type:"number?"},incrementalSearchDelay:{value:700,type:"number?"},incrementalSearchMode:{value:"startsWithIgnoreCase",allowedValues:["contains","containsIgnoreCase","doesNotContain","doesNotContainIgnoreCase","equals","equalsIgnoreCase","startsWith","startsWithIgnoreCase","endsWith","endsWithIgnoreCase"],type:"string"},itemMeasureMode:{value:"auto",allowedValues:["auto","precise"],type:"string"},loadingIndicatorPlaceholder:{value:"Loading...",type:"string"},loadingIndicatorPosition:{value:"center",allowedValues:["bottom","center","top"],type:"string"},messages:{extend:!0,value:{en:{overridingProperties:'{{elementType}}: Overriding properties {{property1}} and {{property2}} applied. The "{{property1}}" property is used by default.',invalidIndex:'{{elementType}}: "{{method}}" method accepts an index of type number or an Array of numbers.',indexOutOfBound:'{{elementType}}: Out of bound index/indexes in "{{method}}" method.',invalidItem:'{{elementType}}: "{{method}}" method accepts an object or an array of objects as it\'s second parameter.',invalidSettings:'{{elementType}}: "{{method}}" method accepts a string or an object as it\'s second parameter.'}},type:"object"},name:{value:"",type:"string"},placeholder:{value:"No Items",type:"string"},selectedIndexes:{value:[],type:"array"},selectedValues:{value:[],type:"array"},selectionMode:{value:"oneOrManyExtended",allowedValues:["none","oneOrManyExtended","zeroOrMany","oneOrMany","zeroOrOne","one","checkBox","radioButton"],type:"string"},selectionChangeAction:{value:"release",allowedValues:["press","release"],type:"string"},sorted:{value:!1,type:"boolean"},sortDirection:{value:"asc",type:"string"},topVisibleIndex:{value:-1,type:"int"},type:{value:"list",type:"string",defaultReflectToAttribute:!0,readonly:!0},valueMember:{value:"",type:"string"},virtualized:{value:!1,type:"boolean"}}}static get requires(){return{"JQX.ScrollBar":"jqxscrollbar.js"}}static get styleUrls(){return["jqx.listbox.css","jqx.dropdown.css","jqx.scrollbar.css"]}static get listeners(){return{focus:"_focusHandler",blur:"_blurHandler","container.wheel":"_mouseWheelHandler","editInput.change":"_editInputEventHandler","editInput.blur":"_editInputEventHandler","editInput.keydown":"_editInputEventHandler","horizontalScrollBar.change":"_horizontalScrollbarHandler","itemsInnerContainer.down":"_downHandler","itemsInnerContainer.dblclick":"_dblclickEventHandler","itemsInnerContainer.move":"_itemsContainerMoveHandler","itemsContainer.mouseleave":"_mouseLeaveHandler","itemsInnerContainer.touchmove":"_touchmoveHandler","itemsInnerContainer.touchstart":"_touchstartHandler","document.move":"_moveHandler",keydown:"_keyDownHandler",keyup:"_keyUpHandler",resize:"_resizeHandler",selectstart:"_selectStartHandler",styleChanged:"_styleChangedHandler",swipeleft:"_swipeLeftHandler",swiperight:"_swipeRightHandler",touchmove:"_overriddenHandler",touchstart:"_overriddenHandler","verticalScrollBar.change":"_verticalScrollbarHandler"}}template(){return'<div id="container" class="jqx-container" role="presentation">\n                    <div class="jqx-list-box-filter-input-container jqx-hidden" id="filterInputContainer" role="presentation"><input id="filterInput" disabled="[[disabled]]" placeholder=\'[[filterInputPlaceholder]]\' role="searchbox" aria-label="[[filterInputPlaceholder]]"></div>\n                    <div id="itemsContainer" class="jqx-list-items-container" role="presentation">\n                        <div id="placeholder" class="jqx-placeholder" role="presentation" aria-hidden="true">[[placeholder]]</div>\n                        <div id="itemsInnerContainer" inner-h-t-m-l=\'[[innerHTML]]\' class="jqx-list-items-inner-container" role="presentation">\n                            <content></content>\n                        </div>\n                        <input type="text" id="editInput" class= "jqx-hidden"/>\n                    </div>\n                    <jqx-scroll-bar wait right-to-left="[[rightToLeft]]" id="verticalScrollBar" disabled="[[disabled]]" orientation="vertical"></jqx-scroll-bar>\n                    <jqx-scroll-bar wait right-to-left="[[rightToLeft]]" id="horizontalScrollBar" disabled="[[disabled]]"></jqx-scroll-bar>\n                    <div id="loadingIndicatorContainer" class="jqx-loader-container" role="presentation">\n                        <span id="loadingIndicator" class="jqx-loader" role="img" aria-label="[[loadingIndicatorPlaceholder]]"></span>\n                        <span id="loadingIndicatorPlaceHolder" class="jqx-loader-label jqx-hidden">[[loadingIndicatorPlaceholder]]</span>\n                    </div>\n                    <input id="hiddenInput" type="hidden" name="[[name]]">\n                </div>'}get value(){const e=this
return e.isRendered&&e._selectedItems.length>0?e._selectedItems.map(e=>({label:e.label,value:e.value})):null}set value(e){const t=this
if(Array.isArray(e)){const i=t.context
t.context=t,t._isUpdating++,t.selectedValues=[],t.clearSelection()
for(let i=0;i<e.length;i++){const n=e[i],r=t.getItem(n)
r&&("oneOrManyExtended"===t.selectionMode?t._select(r):t.select(r))}return t.context=i,void t._isUpdating--}const i=t.getItem(e)
i&&t.select(i)}get _selectedItems(){const e=this,t=[]
if(e.isRendered)for(let i=0;i<e._items.length;i++){const n=e._items[i]
n.selected&&t.push(n)}return t}_mouseLeaveHandler(){const e=[].slice.call(this.getElementsByClassName("jqx-list-item-bottom-line-feedback"))
for(let t=0;t<e.length;t++)e[t].$.removeClass("jqx-list-item-line-feedback"),e[t].$.removeClass("jqx-list-item-bottom-line-feedback")}_downHandler(e){const t=this
if(t.disabled||t.displayLoadingIndicator||t.readonly)return
let i=e.originalEvent.target,n=null
if(!(i instanceof JQX.ListItem)||i.disabled||i.hidden||i instanceof JQX.ListItemsGroup)for(;i.parentElement;){if(i instanceof JQX.ListItem&&!i.disabled&&!i.hidden&&!(i instanceof JQX.ListItemsGroup)){n=i.dataItem
break}i=i.parentElement}else n=i.dataItem
JQX.ListBox.DragDrop.StartTime=new Date,JQX.ListBox.DragDrop.StartPosition={left:e.pageX,top:e.pageY},n&&(e.stopPropagation(),t.hasRippleAnimation&&(n.readonly||n.disabled||JQX.Utilities.Animation.Ripple.animate(i.$.overlay,e.pageX,e.pageY)),JQX.Utilities.Core.isMobile||"press"!==t.selectionChangeAction||(t._focus(n),t.select(n)),!JQX.ListBox.DragDrop.Feedback&&t.allowDrag&&(JQX.ListBox.DragDrop.DraggedFrom=t,JQX.ListBox.DragDrop.Feedback=document.createElement("span"),t.rightToLeft?JQX.ListBox.DragDrop.Feedback.setAttribute("right-to-left",!0):JQX.ListBox.DragDrop.Feedback.removeAttribute("right-to-left"),t.dragFeedbackFormatFunction?JQX.ListBox.DragDrop.Feedback.innerHTML=t.dragFeedbackFormatFunction(n):JQX.ListBox.DragDrop.Feedback.appendChild(n.offsetHeight?n.cloneNode(!0):t._createItem(n)),JQX.ListBox.DragDrop.Item=n,JQX.Utilities.Extend(JQX.ListBox.DragDrop.Feedback).addClass("jqx-popup jqx-list-item jqx-list-item-feedback")))}_dblclickEventHandler(e){const t=this
if(!t.editable)return
const i=e.target.closest("jqx-list-item")
i instanceof JQX.ListItem&&!i.disabled&&!i.readonly?(t.$.editInput.dir=t.rightToLeft?"rtl":"ltr",t.$.editInput.style.width=t.$.itemsInnerContainer.offsetWidth+"px",t.$.editInput.owner=i,t.$.editInput.value=i.label,t.$.editInput.style.height=i.offsetHeight+"px",t.$.editInput.style.top=i.offsetTop+t.$.itemsInnerContainer.offsetTop+"px",t.$.editInput.setAttribute("aria-label","Edit item "+i.label),t.$editInput.hasClass("jqx-hidden")&&t.$editInput.removeClass("jqx-hidden"),t.$.editInput.focus({preventScroll:!0})):t.$editInput.addClass("jqx-hidden")}_editInputEventHandler(e){const t=this
if("blur"===e.type||"keydown"===e.type&&"Escape"===e.key)return t.$editInput.hasClass("jqx-hidden")||t.$editInput.addClass("jqx-hidden"),void t.focus()
if("keydown"===e.type||t.$editInput.hasClass("jqx-hidden"))return
const i=e.target
if(e.stopPropagation(),i.owner.label!==i.value&&(i.owner.label=i.value,t.itemTemplate&&t._applyTemplate(i.owner),t.dataSource)){const e=i.owner.dataIndex,n=t.dataSource[e]
n&&(t.displayMember?n[t.displayMember]=i.value:n.label=i.value)}t.$editInput.addClass("jqx-hidden"),t.$.fireEvent("itemLabelChange",{selected:i.owner.selected,disabled:i.owner.disabled,index:t._indexOf(i.owner),label:i.owner.label,value:i.owner.value})}_pointerUpHandler(e){const t=this
let i=e.originalEvent,n=i.target;(t.shadowRoot||t.isInShadowDOM)&&(n=i.composedPath()[0])
const r=e=>{const i=e.ownerListBox
i.disabled||i!==t||i.displayLoadingIndicator||"none"===i.selectionMode||e.grouped||e.readonly||(i._focus(e),i.select(e),JQX.ListBox.DragDrop.StartPosition=null,t.$.fireEvent("itemClick",{selected:n.selected,disabled:n.disabled,index:t._indexOf(n),label:n.label,value:n.value}))}
if(!(i.target instanceof JQX.ListItem)||i.target.disabled||i.target instanceof JQX.ListItemsGroup){for(;n.parentElement;){if(n instanceof JQX.ListItem&&!n.disabled&&!(n instanceof JQX.ListItemsGroup))return void r(n.dataItem)
n=n.parentElement}if(this.shadowRoot&&"shadow"===this.shadowDomMode){const e=i.composedPath()
for(let t=0;t<e.length;t++){const i=e[t]
i instanceof JQX.ListItem&&!i.disabled&&r(i.dataItem)}}}else r(n.dataItem)}_upHandler(e){const t=this
if(super._upHandler(),!t.disabled&&!t.readonly&&JQX.ListBox.DragDrop.StartPosition){if(JQX.Utilities.Core.isMobile&&!JQX.ListBox.DragDrop.Dragging){const i=Math.abs(e.pageX-JQX.ListBox.DragDrop.StartPosition.left),n=Math.abs(e.pageY-JQX.ListBox.DragDrop.StartPosition.top)
let r=i>=0&&i<=3&&n>=0&&n<=3
if(JQX.Utilities.Core.isMobile&&new Date-JQX.ListBox.DragDrop.StartTime>=300&&(r=!1,JQX.ListBox.DragDrop.StartTime=null),r){const i=e.originalEvent.target.closest("jqx-list-box")
i?i._pointerUpHandler(e):t._pointerUpHandler(e),JQX.ListBox.DragDrop.StartPosition=null}else{let t=e.originalEvent.target
if(!(e.target instanceof JQX.ListItem)||t.readonly||e.target.disabled||e.target instanceof JQX.ListItemsGroup)for(;t.parentElement;){if(t instanceof JQX.ListItem&&!t.readonly&&!t.disabled&&!(t instanceof JQX.ListItemsGroup)){e.stopPropagation()
break}t=t.parentElement}else e.stopPropagation()}}else if(!JQX.Utilities.Core.isMobile&&!JQX.ListBox.DragDrop.Dragging&&"release"===t.selectionChangeAction){const i=(t.shadowRoot||t.isInShadowDOM?e.originalEvent.composedPath()[0]:e.originalEvent.target).closest("jqx-list-box")
i?i._pointerUpHandler(e):t._pointerUpHandler(e)}if(JQX.ListBox.DragDrop.Feedback){let t
if(JQX.ListBox.DragDrop.Feedback.parentNode&&JQX.ListBox.DragDrop.Feedback.parentNode.removeChild(JQX.ListBox.DragDrop.Feedback),JQX.ListBox.DragDrop.Feedback=null,JQX.Utilities.Core.isMobile&&JQX.ListBox.DragDrop.Dragging)for(let i=0;i<JQX.ListBox.DragDrop.ListBoxes.length;i++){const n=JQX.ListBox.DragDrop.ListBoxes[i],r=n.getBoundingClientRect()
if(n.allowDrop&&!n.closest(".jqx-visibility-hidden")&&(r.left<=e.clientX&&e.clientX<=r.left+r.width&&r.top<=e.clientY&&e.clientY<=r.top+r.height)){t=n
const i=n._items.filter(e=>!e.hidden)
for(let t=0;t<i.length;t++){const o=i[t],a=o.getBoundingClientRect()
if((i.indexOf(o)===i.length-1||o.parentNode.lastElementChild===o)&&e.clientY>=r.top+o.offsetTop-n.scrollTop+a.height/2&&e.clientY<=r.top-n.scrollTop+o.offsetTop+a.height){JQX.ListBox.DragDrop.DropDetails={item:o,position:"bottom"}
break}if(e.clientY>=r.top+o.offsetTop-n.scrollTop&&e.clientY<=r.top+o.offsetTop+a.height-n.scrollTop){JQX.ListBox.DragDrop.DropDetails={item:o,position:"top"}
break}}}}if(JQX.ListBox.DragDrop.Dragging){if(JQX.ListBox.DragDrop.DropDetails){let i=JQX.ListBox.DragDrop.DropDetails.item,n=JQX.ListBox.DragDrop.Item
const r=n.ownerListBox
if(t=!t&&e.originalEvent.target.closest?e.originalEvent.target.closest("jqx-list-box"):t,document.body.classList.remove("jqx-dragging"),i.$.removeClass("jqx-list-item-line-feedback"),i.$.removeClass("jqx-list-item-bottom-line-feedback"),t&&i.ownerListBox!==t&&t.items.length>0&&(i=t.items[t.items.length-1]),JQX.ListBox.DragDrop.Item===i||t!==i.ownerListBox&&!JQX.Utilities.Core.isMobile)t&&0===t._items.length&&"none"!==t.dropAction&&("move"===t.dropAction?JQX.ListBox.DragDrop.Item.ownerListBox.removeChild(JQX.ListBox.DragDrop.Item):"copy"===t.dropAction&&(n=n.cloneNode(!0)),t.appendChild(n))
else if("none"!==n.ownerListBox.dropAction){i.ownerListBox!==n.ownerListBox&&"move"===n.ownerListBox.dropAction&&JQX.ListBox.DragDrop.Item.ownerListBox.removeChild(JQX.ListBox.DragDrop.Item),"copy"===n.ownerListBox.dropAction&&(n=n.cloneNode(!0)),JQX.ListBox.DragDrop.Item.group=i.group
const e=i.ownerListBox
"checkBox"!==e.selectionMode&&"radioButton"!==e.selectionMode&&e.clearSelection(),"top"===JQX.ListBox.DragDrop.DropDetails.position?e.insertBefore(n,i):i.parentNode.lastElementChild===i?e.appendChild(n):e.appendChild(n,i),e.ensureVisible(n),"checkBox"===e.selectionMode||"radioButton"===e.selectionMode?(e._focus(n),e._refreshSelection()):(e.clearSelection(),e.select(n))}n.selected&&t!==r&&r._refreshSelection()
const o=JQX.ListBox.DragDrop.Item,a=o.ownerListBox
o.displayMode="checkBox"===a.selectionMode||"radioButton"===a.selectionMode?a.selectionMode:"plain",a.$.fireEvent("dragEnd",{item:o,target:i,data:JQX.ListBox.DragDrop,previousContainer:r,container:t,originalEvent:e}),a._focus(o)}else{const t=JQX.ListBox.DragDrop.Item,i=t.ownerListBox
t.displayMode="checkBox"===i.selectionMode||"radioButton"===i.selectionMode?i.selectionMode:"plain",document.body.classList.remove("jqx-dragging"),i.$.fireEvent("dragEnd",{item:t,target:null,data:JQX.ListBox.DragDrop,previousContainer:i,container:i,originalEvent:e}),i._focus(t)}e.preventDefault()}delete JQX.ListBox.DragDrop.DraggedFrom,JQX.ListBox.DragDrop.Dragging=!1,JQX.ListBox.DragDrop.Item=null,JQX.ListBox.DragDrop.DropDetails=null}for(let e=0;e<JQX.ListBox.DragDrop.ListBoxes.length;e++){const t=JQX.ListBox.DragDrop.ListBoxes[e]
t._dragInterval&&clearInterval(t._dragInterval)}}}_itemsContainerMoveHandler(e){const t=this
if(JQX.ListBox.DragDrop.Dragging)return t._applyItemFeedback(e),t._moveHandler(e),e.originalEvent.preventDefault(),e.originalEvent.stopPropagation(),!1}_touchmoveHandler(e){if(JQX.ListBox.DragDrop.Dragging&&e.cancelable)return e.preventDefault(),void e.stopPropagation()
super._touchmoveHandler(e)}_applyItemFeedback(e){const t=this,i=e.originalEvent.target,n=i.closest?i.closest("jqx-list-item"):i
JQX.Utilities.Core.isMobile?JQX.ListBox.DragDrop.DropDetails={item:JQX.ListBox.DragDrop.Item,position:"bottom"}:0!==t.items.length&&(n?n._itemOnMouseMove(e):t.items[t.items.length-1]._itemOnMouseMove(e,!0))}_moveHandler(e){const t=this
if(!JQX.ListBox.DragDrop.Feedback||JQX.ListBox.DragDrop.DraggedFrom!==t)return
const i=t.dragOffset
if(JQX.ListBox.DragDrop.Dragging){JQX.ListBox.DragDrop.Feedback.style.left=i[0]+e.pageX+"px",JQX.ListBox.DragDrop.Feedback.style.top=i[1]+e.pageY+"px",t.$.fireEvent("dragging",{item:JQX.ListBox.DragDrop.Item,data:JQX.ListBox.DragDrop,originalEvent:e.originalEvent})
for(let t=0;t<JQX.ListBox.DragDrop.ListBoxes.length;t++){const i=JQX.ListBox.DragDrop.ListBoxes[t]
i._dragInterval&&clearInterval(i._dragInterval),i._dragInterval=setInterval(function(){const t=i.getBoundingClientRect()
t.left<=e.clientX&&t.left+t.width>=e.clientX&&(e.clientY>=t.top&&e.clientY<=t.top+20?i.scrollTop-=2:e.clientY>=t.top+t.height-20&&e.clientY<=t.top+t.height&&(i.scrollTop+=2))},1)}return e.preventDefault(),e.stopPropagation(),e.originalEvent.preventDefault(),e.originalEvent.stopPropagation(),!1}{const t=Math.abs(e.pageX-JQX.ListBox.DragDrop.StartPosition.left),n=Math.abs(e.pageY-JQX.ListBox.DragDrop.StartPosition.top),r=new Date-JQX.ListBox.DragDrop.StartTime
let o=t>=5&&t<=15||n>=5&&n<=15
if(JQX.Utilities.Core.isMobile&&(r<300||r>1e3)&&(o=!1),o){JQX.ListBox.DragDrop.Dragging=!0,JQX.ListBox.DragDrop.Feedback.style.left=i[0]+e.pageX+"px",JQX.ListBox.DragDrop.Feedback.style.top=i[1]+e.pageY+"px",document.body.appendChild(JQX.ListBox.DragDrop.Feedback),e.preventDefault(),e.stopPropagation(),e.originalEvent.preventDefault(),e.originalEvent.stopPropagation()
const t=JQX.ListBox.DragDrop.Item,n=t.ownerListBox
n.$.fireEvent("dragStart",{item:t,data:JQX.ListBox.DragDrop,container:n,previousContainer:n,originalEvent:e.originalEvent}),document.body.classList.add("jqx-dragging")}}}_focusHandler(){this._focused=!0,this.setAttribute("focus","")}_blurHandler(){this._focused=!1,this.removeAttribute("focus")}appendChild(e){const t=this
if(!t.isCompleted){const e=Array.prototype.slice.call(arguments,2)
return HTMLElement.prototype.appendChild.apply(t,e.concat(Array.prototype.slice.call(arguments)))}t.isVirtualized?(t._items.indexOf(e)>-1&&t._items.splice(t._items.indexOf(e),1),t._items.push(e)):(e.dataItem=e,t.shadowRoot&&"light"===t.shadowDomMode?t.appendChild(e):t.$.itemsInnerContainer.appendChild(e),t._items.indexOf(e)>-1&&t._items.splice(t._items.indexOf(e),1),t._items.push(e)),t._refreshItems(),t._refreshSelection()}insertBefore(e,t){const i=this
if(!i.isCompleted){const e=Array.prototype.slice.call(arguments,2)
return HTMLElement.prototype.insertBefore.apply(i,e.concat(Array.prototype.slice.call(arguments)))}i.isVirtualized?(i._items.indexOf(e)>-1&&i._items.splice(i._items.indexOf(e),1),i._items.splice(i._indexOf(t),0,e)):(e.dataItem=e,t.parentNode.insertBefore(e,t),i._items.indexOf(e)>-1&&i._items.splice(i._items.indexOf(e),1),i._items.splice(i._indexOf(t),0,e)),i._refreshItems(),i._refreshSelection()}removeChild(e){const t=this
if(!t.isCompleted){const e=Array.prototype.slice.call(arguments,2)
return HTMLElement.prototype.removeChild.apply(t,e.concat(Array.prototype.slice.call(arguments)))}if(t.isVirtualized)t._items.splice(t._indexOf(e),1)
else if(e.parentNode){const i=t.selectedIndexes.slice(0),n=t.selectedValues.slice(0),r=i.indexOf(e.dataIndex)
e.parentNode.removeChild(e),r>-1&&(i.splice(r,1),n.splice(r,1),t.selectedIndexes=i,t.selectedValues=n)}t._refreshItems()}propertyChangedHandler(e,t,i){super.propertyChangedHandler(e,t,i)
const n=this
switch(e){case"innerHTML":n.clearSelection(),n._dataBind(),n.innerHTML=n.content=JQX.Utilities.Core.html(n.$.content)
break
case"dataSource":case"valueMember":case"groupMember":case"displayMember":n.clearSelection(),n._dataBind()
break
case"disabled":case"unfocusable":n._setFocusable()
break
case"displayLoadingIndicator":n._setLoadingIndicatorVisibility()
break
case"filterable":n._refreshFilter(),n._refreshLayout()
break
case"grouped":if(i?n._group():n._ungroup(),"radioButton"===n.selectionMode){if(n.selectedValues.length>0){const e=n.selectedValues
n.clearSelection(),n.select(e[0])}}else n._refreshSelection()
n._refreshLayout()
break
case"itemTemplate":{if(null===i||""===i)return n._items.map(e=>e.innerHTML=e.label),delete n._bindingDetails,void n._refreshLayout()
const e=n.querySelectorAll("jqx-list-item"),t=function(){n._handleItemTemplate(i)&&(n._items.map(e=>n._applyTemplate(e)),n._refreshLayout()),n.ownerElement&&n.ownerElement._setDropDownSize&&n.ownerElement._setDropDownSize(),n.$.fireEvent("bindingComplete")}
0===e.length?t():n._ensureItemsReady(e,t)
break}case"selectedIndexes":case"selectedValues":{let r=n.selectedIndexes.slice(0),o=n.selectedValues.slice(0)
if(!n._items||0===n._items.length)return n.selectedIndexes=[],n.selectedValues=[],void(n.$.hiddenInput.value=n.selectedValues.toString())
if(n._propertyChanging=!0,"selectedIndexes"===e){r=t.slice(0),n.clearSelection()
for(let e=0;e<i.length;e++){const t=i[e],r=n._items[t]
r&&("oneOrManyExtended"===n.selectionMode||"oneOrMany"===n.selectionMode?(n.selectedIndexes.length>0&&0===e&&n.clearSelection(),n._select(r)):n.select(r))}}else{o=t.slice(0),n.selectedValues=[],n.clearSelection()
for(let e=0;e<i.length;e++){const t=i[e],r=n.getItem(t)
r&&("oneOrManyExtended"===n.selectionMode?n._select(r):n.select(r))}}if(n.selectedIndexes.length>0&&n._focus(n._items[n.selectedIndexes[0]]),n._propertyChanging=!1,JSON.stringify(o)!==JSON.stringify(n.selectedValues.slice(0))){let e=[],t=[]
for(let e=0;e<r.length;e++)n.selectedIndexes.indexOf(r[e])<0&&t.push(n._items[r[e]])
for(let t=0;t<n.selectedIndexes.length;t++)r.indexOf(n.selectedIndexes[t])<0&&e.push(n._items[n.selectedIndexes[t]])
let i={addedItems:e,removedItems:t}
if(n.selectedIndexes.length>0){const e=n._items[n.selectedIndexes[n.selectedIndexes.length-1]]
void 0!==e&&(i.selected=e.selected,i.disabled=e.disabled,i.index=n._indexOf(e),i.label=e.label,i.value=e.value)}else i.selected=!1,i.disabled=!1,i.index=-1,i.label="",i.value=""
n.$.fireEvent("change",i)}break}case"selectionMode":{const e="checkBox"===n.selectionMode||"radioButton"===n.selectionMode?n.selectionMode:"plain",r=n.selectedIndexes.slice(0),o=n.selectedValues.slice(0)
n._propertyChanging=!0
const a=n.selectedValues
n.setAttribute("aria-multiselectable",-1!==["oneOrManyExtended","zeroOrMany","oneOrMany","checkBox","radioButton"].indexOf(i)),n.selectedValues=[],n.clearSelection()
for(let e=0;e<a.length;e++){const t=a[e],i=n.getItem(t)
i&&("oneOrManyExtended"===n.selectionMode?n._select(i):n.select(i))}if(n._items.forEach(t=>t.displayMode=e),n._recycle(),n._propertyChanging=!1,JSON.stringify(o)!==JSON.stringify(n.selectedValues.slice(0))){let e=[],t=[]
for(let e=0;e<r.length;e++)n.selectedIndexes.indexOf(r[e])<0&&t.push(n._items[r[e]])
for(let t=0;t<n.selectedIndexes.length;t++)r.indexOf(n.selectedIndexes[t])<0&&e.push(n._items[n.selectedIndexes[t]])
let i={addedItems:e,removedItems:t}
if(r.length>0){const e=n._items[r[r.length-1]]
e&&(i.selected=e.selected,i.disabled=e.disabled,i.index=n._indexOf(e),i.label=e.label,i.value=e.value)}n.$.fireEvent("change",i)}n._applyAriaSelected(),"checkBox"!==i&&"radioButton"!==i&&"checkBox"!==t&&"radioButton"!==t||n._refreshLayout()
break}case"topVisibleIndex":n._setTopVisibleIndex(i)
break
case"autoSort":n._canSort=i
break
case"sortDirection":case"sorted":{n._canSort=!0,i?n._sort():n._unsort()
const e=n.selectedValues
n.selectedValues=[],n._refreshSelection()
for(let t=0;t<e.length;t++){const i=e[t],r=n.getItem(i)
r&&("oneOrManyExtended"===n.selectionMode?n._select(r):n.select(r))}n._refreshLayout(),n._canSort=n.autoSort
break}}}_refreshSelection(){const e=this
if(!e._items||0===e._items.length)return
const t=e.selectedValues
e.selectedIndexes=[],e.selectedValues=[]
for(let i=0;i<e._items.length;i++){const n=e._items[i]
n.selected=!1,t.indexOf(n.value)>-1&&e.select(n)}e._recycle()}clearSelection(){const e=this
if(!e._items||0===e._items.length)return
let t=[]
for(let i=0;i<e._items.length;i++)e._items[i].selected&&t.push(e._items[i])
e._items.map(e=>e.selected=!1)
e.selectedValues.slice(0)
const i=e.selectedIndexes.slice(0)
if(e.selectedIndexes=[],e.selectedValues=[],e.$.hiddenInput.value=e.selectedValues.toString(),e._recycle(),e.context!==e){let n={addedItems:[],removedItems:t}
if(i.length>0){const t=e._items[i[i.length-1]]
t&&(n.selected=t.selected,n.disabled=t.disabled,n.index=e._indexOf(t),n.label=t.label,n.value=t.value)}e.$.fireEvent("change",n)}}ensureVisible(e){const t=this
if(e)return!("string"==typeof e&&!(e=t.getItem(e)))&&(t.isVirtualized||t.$.itemsContainer.scrollTop===t.scrollTop||(t.scrollTop=t.$.itemsContainer.scrollTop),e.top+e.height>=t.scrollTop+t.offsetHeight&&(t.scrollTop=t.scrollTop+e.height,t.isVirtualized||(t.$.itemsContainer.scrollTop=t.scrollTop)),(e.top<=t.scrollTop||e.top>=t.scrollTop+t.$.itemsContainer.offsetHeight)&&(t.scrollTop=e.top,t.isVirtualized||(t.$.itemsContainer.scrollTop=t.scrollTop)),0===t._indexOf(e)||1===t._indexOf(e)&&t._items.length>1&&t._items[0].grouped?(t.scrollTop=0,t.isVirtualized||(t.$.itemsContainer.scrollTop=t.scrollTop)):t._indexOf(e)===t._items.length-1&&(t.scrollTop=t.scrollHeight,t.isVirtualized||(t.$.itemsContainer.scrollTop=t.scrollTop)),!0)}get items(){const e=this
return e._filteredItems?e._filteredItems:e._items}ready(){super.ready()
const e=this
if(e.shadowRoot&&"light"===e.shadowDomMode){const t=document.createDocumentFragment();[].slice.call(e.$.itemsInnerContainer.children).map(e=>t.appendChild(e)),e.appendChild(t),e.$.itemsInnerContainer.appendChild(document.createElement("slot"))}e._areCSSVarsSupported=JQX.Utilities.Core.CSSVariablesSupport(),e.isUpdating=0,e._scrollView&&(e._scrollView=new JQX.Utilities.Scroll(e,e.$.horizontalScrollBar,e.$.verticalScrollBar),e._scrollView.hScrollBar.$.addClass("jqx-hidden"),e._scrollView.vScrollBar.$.addClass("jqx-hidden"))
const t=e._scrollView.vScrollBar,i=e._scrollView.hScrollBar
t.hasStyleObserver=!1,i.hasStyleObserver=!1,t.hasResizeObserver=!1,i.hasResizeObserver=!1,t.wait=!1,i.wait=!1,e._setFocusable()}render(){const e=this
e.setAttribute("role","listbox"),e.setAttribute("aria-orientation","vertical"),e.$.verticalScrollBar.setAttribute("aria-controls",e.id),e.$.horizontalScrollBar.setAttribute("aria-controls",e.id),e._keysPressed={},e._incrementalSearchQuery="",e._incrementalSearchItems=[],e._canSort=!0,e._previousEntry="",e._setLoadingIndicatorVisibility(),e._refreshFilter(),e._initializeInnerHTML(),e._dataBind(),e.enableShadowDOM&&HTMLElement.prototype.appendChild.apply(e,[e.$.hiddenInput]),e.setAttribute("aria-multiselectable",-1!==["oneOrManyExtended","zeroOrMany","oneOrMany","checkBox","radioButton"].indexOf(e.selectionMode)),super.render()}attached(){const e=this
super.attached(),JQX.ListBox.DragDrop||(JQX.ListBox.DragDrop={ListBoxes:[]}),JQX.ListBox.DragDrop.ListBoxes.push(e),e._scrollView||(e._scrollView=new JQX.Utilities.Scroll(e,e.$.horizontalScrollBar,e.$.verticalScrollBar)),e.selectedIndexes.length>0&&e._items&&e.ensureVisible(e._items[e.selectedIndexes[0]])}detached(){const e=this
if(super.detached(),e._scrollView&&(e._scrollView.unlisten(),delete e._scrollView),JQX.ListBox.DragDrop&&JQX.ListBox.DragDrop.ListBoxes){const t=JQX.ListBox.DragDrop.ListBoxes.indexOf(e)
JQX.ListBox.DragDrop.ListBoxes.splice(t,1)}}_createItem(e,t,i){const n="checkBox"===this.selectionMode||"radioButton"===this.selectionMode?this.selectionMode:"plain",r=i?{}:document.createElement("jqx-list-item")
r.ownerListBox=this,"number"==typeof e&&(e=""+e)
const o=function(t,i){return void 0!==e[t]?""+e[t]:e[i]}
let a="string"==typeof e?e:o(this.displayMember,"label"),s="string"==typeof e?e:o(this.valueMember,"value"),l=o(this.groupMember,"group")
return void 0===a&&(a=void 0!==t?""+t:""),r.label=r.innerHTML=""+a,void 0===s&&(s=void 0!==t?""+t:a),e.color&&(r.color=e.color),r.value=""+s,r.displayMode=n,r.selected=!!e.selected&&e.selected,r.disabled=!!e.disabled&&e.disabled,r.dataItem=r,void 0!==t&&(r.dataIndex=t),this._alternateItem(r),e.title&&(r.title=e.title),l&&(r.group=""+l),r}_alternateItem(e){const t=this,i=t.alternationStart,n=t.alternationEnd>0?t.alternationEnd:1/0
t.alternationCount<=0||(void 0===t._alternationIndexCounter&&(t._alternationIndexCounter=0),e.dataIndex>=i&&e.dataIndex<=n&&(e.alternationIndex=t._alternationIndexCounter++,t._alternationIndexCounter===t.alternationCount&&(t._alternationIndexCounter=0)))}_beginUpdate(){this.isUpdating++}_isUpdating(){return this.isUpdating>0}_endUpdate(){this.isUpdating--}get _scrollHeight(){const e=this
if(0===e._items.length||e._items.filter(e=>!e.hidden).length<2)return 0
let t=0
if(e.isVirtualized){if(e.__scrollHeight)return e.__scrollHeight
if(0===e._items.length)return 0
e.isUpdating++
const i=e._createItem(e.dataSource[0])
e.$.itemsInnerContainer.appendChild(i)
for(let n=0;n<e._items.length;n++){const r=e._items[n]
r.hidden?(r.height=0,r.top=t):(e.itemHeight?(e.itemHeight<32&&(e.itemHeight=32),r.height=e.itemHeight):(i.label=r.label,r.height=i.offsetHeight),r.top=t,t+=r.height)}e.$.itemsInnerContainer.removeChild(i),e.__scrollHeight=t-e.$.itemsInnerContainer.offsetHeight,e.filterable&&(e.__scrollHeight+=e.$.filterInput.offsetHeight),t=e.__scrollHeight,e.isUpdating--}else{for(let i=0;i<e._items.length;i++){const n=e._items[i]
n.hidden?(n.height=0,n.top=t):(e.itemHeight?"auto"!==e.itemHeight&&(n.height=e.itemHeight,n.style.height=n.height+"px"):n.height=n.offsetHeight,n.top=n.offsetTop,t+=n.height)}t=e.$.itemsInnerContainer.scrollHeight-e.$.itemsInnerContainer.offsetHeight,e.filterable&&t>0&&(t+=e.$.filterInput.offsetHeight),e.__scrollHeight=t}return t}_initializeRecyclingItems(){const e=this
if(!e.dataSource||e.dataSource&&0===e.dataSource.length||!e.isVirtualized)return
let t=0,i=e.offsetHeight
e.$.itemsInnerContainer.innerHTML="",e._recyclingItems=[]
const n=function(){for(let n=0;n<e.dataSource.length;n++){const r=e.dataSource[n],o=e._createItem(r)
if(e.itemHeight&&"auto"!==e.itemHeight&&(o.style.height=e.itemHeight+"px"),e.$.itemsInnerContainer.appendChild(o),t+=o.offsetHeight,o.dataItem=e._items[n],e._recyclingItems.push(o),t>1.5*i)break}}
n()
let r=0
for(;t<1.5*i&&++r<5;)n()}_dataBind(){const e=this
if(e._scrollView||(e._scrollView=new JQX.Utilities.Scroll(e,e.$.horizontalScrollBar,e.$.verticalScrollBar)),"function"==typeof e.dataSource&&(e._items=[],delete e._filteredItems),"string"==typeof e.dataSource&&(e.dataSource=JSON.parse(e.dataSource)),null!==e.dataSource&&Array.isArray(e.dataSource)){e.isUpdating++
const t=t=>{e._items=[],e._groups=[],delete e._filteredItems
const i=e.dataSource
for(let n=0;n<i.length;n++){const r=i[n],o=e._createItem(r,n,!t)
e._items[n]=o,t&&t.appendChild(o)}}
if(e.isVirtualized)t(),e._initializeRecyclingItems()
else{const i=document.createDocumentFragment()
e.$.itemsInnerContainer.innerHTML="",t(i),e.$.itemsInnerContainer.appendChild(i)}e.isUpdating--}const t=e.shadowRoot?e.shadowRoot.querySelectorAll("jqx-list-item"):e.querySelectorAll("jqx-list-item"),i=function(){e.isUpdating++,e.dataSource||(e._initializeHtmlListItems(),e._initializeHtmlListGroups()),e.grouped&&e._group(),e.sorted&&e._sort(),e._refreshLayout(),e._initializeSelection(),e.isInitialized=!0,e._canSort=e.autoSort,e.isUpdating--,e.itemTemplate&&e._handleItemTemplate(e.itemTemplate)&&(e._items.map(t=>e._applyTemplate(t)),e._refreshLayout()),e.__onCompleted&&(e._onCompleted=e.__onCompleted,e.__onCompleted=null,e._onCompleted()),e.topVisibleIndex>-1&&e._setTopVisibleIndex(e.topVisibleIndex),e.$.fireEvent("bindingComplete"),e._updateTopVisibleIndex(),0===e._items.length&&e.clearItems(),e._applyAriaSelected()}
0===t.length?i():(e._onCompleted&&(e.__onCompleted=e._onCompleted,e._onCompleted=null),e._ensureItemsReady(t,i))}_ensureItemsReady(e,t){const i=this,n=function(){const i=function(t){for(let i=0;i<e.length;i++)e[i].context="node"===t?e[i]:document}
i("node"),t(),i()}
if(0===e.length)n()
else{i._nodesReadyListeners=0
for(let t=0;t<e.length;t++){const r=e[t],o=function(){i._nodesReadyListeners--,0===i._nodesReadyListeners&&(n(),delete i._nodesReadyListeners)}.bind(i)
r.isCompleted||(i._nodesReadyListeners++,r._onCompleted=o)}0===i._nodesReadyListeners&&n()}}_initializeInnerHTML(){const e=this
e.$.itemsInnerContainer.innerHTML.indexOf("<option")>=0?e.$.itemsInnerContainer.innerHTML=e.$.itemsInnerContainer.innerHTML.replace(/<optgroup/gi,"<jqx-list-items-group").replace(/<\/optgroup/gi,"</jqx-list-items-group").replace(/<option/gi,"<jqx-list-item").replace(/<\/option/gi,"</jqx-list-item"):e.$.itemsInnerContainer.innerHTML.indexOf("<ul")>=0&&(e.$.itemsInnerContainer.innerHTML=e.$.itemsInnerContainer.innerHTML.replace(/<ul/gi,"<jqx-list-items-group").replace(/<\/ul/gi,"</jqx-list-items-group").replace(/<li/gi,"<jqx-list-item").replace(/<\/li/gi,"</jqx-list-item"))}_initializeHtmlListItems(){const e=this,t=e.shadowRoot&&"shadow"===e.shadowDomMode?e.shadowRoot.querySelectorAll("jqx-list-item"):e.querySelectorAll("jqx-list-item"),i="checkBox"===e.selectionMode||"radioButton"===e.selectionMode?e.selectionMode:"plain",n=function(e,t,i){return void 0!==e[t]?""+e[t]:e[i]}
e._items=[]
let r=0
for(let o=0;o<t.length;o++){const a=t[o]
a.dataIndex=o,a.label=a.innerHTML,a.dataItem=a,a.top||(a.top=r),a.height||(a.height=a.offsetHeight),r+=a.height,a.value||(a.value=""+o)
const s=n(a,e.displayMember,"label"),l=n(a,e.valueMember,"value"),d=n(a,e.groupMember,"group")
a.label!==s&&(a.label=s),a.value!==l&&(a.value=l),a.group!==d&&(a.group=d)
const c=a.context
a.context=document,a.displayMode=i,a.context=c,e._alternateItem(a),a.selected&&(e.selectedIndexes.push(o),e.selectedValues.push(a.value)),e._items.push(a)}e.itemTemplate&&e._handleItemTemplate(e.itemTemplate)&&e._items.map(t=>e._applyTemplate(t))}_group(){const e=this
e.isUpdating++
let t=[],i=[]
e._canSort&&e._unsort()
for(let i=0;i<e._items.length;i++){const n=e._items[i]
let r=n.group?n.group.trim():n.innerHTML.charAt(0)||n.label.charAt(0)
t[r+=" "]?t[r].items.push(n):t[t.length++]=t[r]={items:[n],label:r}}if(e.isVirtualized){e._groups=[]
for(let e=0;e<t.length;e++){const n=t[e]
n.dataIndex=e,n.grouped=!0,n.hidden=!1,n.displayMode="plain",i.push(n)
for(let r=0;r<t[e].items.length;r++){const e=n.items[r]
e.group=n,i.push(e)}}e._groups=t,e._items=i}else{for(;e.$.itemsInnerContainer.firstChild;)e.$.itemsInnerContainer.removeChild(e.$.itemsInnerContainer.firstChild)
const n=document.createDocumentFragment()
e._groups=[]
for(let r=0;r<t.length;r++){const o=t[r],a=document.createElement("jqx-list-items-group")
a.label=o.label,a.dataIndex=r
for(let e=0;e<t[r].items.length;e++){const t=o.items[e]
i.push(t),t.group=o.label,a.appendChild(t)}e._groups.push(a),n.appendChild(a)}e._items=i,/Trident|Edge/.test(navigator.userAgent)?setTimeout(function(){e.$.itemsInnerContainer.appendChild(n)},50):e.$.itemsInnerContainer.appendChild(n)}e.sorted&&e._sort(),e.isUpdating--}_ungroup(){const e=this
e.isUpdating++,e._groups=[],e._canSort&&e._unsort()
let t=[]
if(e.isVirtualized)for(let i=0;i<e._items.length;i++){const n=e._items[i]
n.grouped||t.push(n)}else{const i=document.createDocumentFragment()
for(let n=0;n<e._items.length;n++){const r=e._items[n]
i.appendChild(r),t.push(r)}t.length>0&&(e.$.itemsInnerContainer.innerHTML="",e.$.itemsInnerContainer.appendChild(i))}e._items=t,e.sorted&&e._sort(),e.isUpdating--}_initializeHtmlListGroups(){const e=this,t=e.$.itemsInnerContainer.querySelectorAll("jqx-list-items-group")
e._groups=[]
for(let i=0;i<t.length;i++){const n=t[i]
n.dataIndex=i,e._groups.push(n)}}_initializeSelection(){const e=this,t=e.selectedIndexes.slice(0),i=e.selectedValues.slice(0)
e.clearSelection(),"oneOrManyExtended"===e.selectionMode&&(e._keysPressed.Control=!0)
for(let n=0;n<e._items.length;n++){const r=e._items[n];(t.indexOf(n)>=0||i.indexOf(r.value||r.label)>=0)&&(e._focusedItem&&(e._focusedItem._focused=!1),e._focusedItem=null,e.select(r))}"oneOrManyExtended"===e.selectionMode&&(e._keysPressed.Control=!1)}onItemUpdated(){this.isInitialized&&!this._isUpdating()&&(this.isUpdating++,this._refreshLayout(),this.isUpdating--)}_refreshItems(){const e=this
if(e.isInitialized&&!e._isUpdating()){if(e.isUpdating++,e.grouped?e._ungroup():e.sorted&&e._canSort&&e._unsort(),!e.isVirtualized){e._items=[]
const t=e.shadowRoot?e.shadowRoot.querySelectorAll("jqx-list-item"):e.querySelectorAll("jqx-list-item")
for(let i=0;i<t.length;i++)t[i].dataIndex=i,e._alternateItem(t[i]),e._items.push(t[i])}e.grouped?e._group():e.sorted&&e._sort(),e._refreshLayout(),e.isUpdating--}}_applyIncrementalSearch(e){const t=this
null===t.incrementalSearchDelay||isNaN(t.incrementalSearchDelay)||["Shift","ArrowUp","ArrowDown","ArrowLeft","ArrowRight","Control","Home","End","PageUp","PageDown"].indexOf(e)>-1||(0!==t._incrementalSearchQuery.indexOf(e)&&(t._incrementalSearchQuery+=e),t._incrementalSearchTimer&&clearTimeout(t._incrementalSearchTimer),t._incrementalSearch(),t._incrementalSearchTimer=setTimeout(function(){t._incrementalSearchQuery=""},t.incrementalSearchDelay))}select(e){const t=this
if(("string"!=typeof e||(e=t.getItem(e)))&&("number"!=typeof e||(e=t.getItem(e)))&&!(e.grouped||e.readonly||!t._items.length||e instanceof HTMLElement&&!t.contains(e))){if("none"===t.selectionMode)return t.selectedIndexes=[],void(t.selectedValues=[])
switch(!t._focusedItem!==e&&"none"!==t.selectionMode&&(t._focusedItem&&(t._focusedItem._focused=!1),t._focusedItem=e,e._focused=!0),t.selectionMode){case"one":return(1!==t.selectedIndexes.length||t.selectedIndexes[0]!==t._indexOf(e))&&(t._previouslySelectedIndexes=t.selectedIndexes,t.selectedIndexes.length>=1&&t.clearSelection(),t._select(e),delete t._previouslySelectedIndexes,!0)
case"zeroOrOne":return 1===t.selectedIndexes.length&&t.selectedIndexes[0]===t._indexOf(e)?(t.unselect(e),!0):(t._previouslySelectedIndexes=t.selectedIndexes,t.selectedIndexes.length>=1&&t.clearSelection(),t._select(e),delete t._previouslySelectedIndexes,!0)
case"radioButton":if(t._previouslySelectedIndexes=t.selectedIndexes,t.$.itemsInnerContainer.querySelectorAll("jqx-list-items-group").length>0){const i=e.parentNode
if(!e.selected){for(let e in i.children){const n=i.children[e]
n.selected&&t.unselect(n)}t._select(e)}return delete t._previouslySelectedIndexes,!0}if(t.isVirtualized&&t._groups.length>0){const i=e.group
if(!e.selected){for(let e in i.items){const n=i.items[e]
n.selected&&t.unselect(n)}t._select(e)}return delete t._previouslySelectedIndexes,!0}return e.selected||(t.selectedIndexes.length>=1&&t.clearSelection(),t._select(e)),delete t._previouslySelectedIndexes,!0
case"oneOrMany":return e.selected?t.selectedIndexes.length>1&&t.unselect(e):t._select(e),!0
case"zeroOrMany":case"checkBox":return e.selected?t.unselect(e):t._select(e),!0
case"oneOrManyExtended":{const i=t.selectedValues
if(t._keysPressed.Control)return t.selectedIndexes.length>1&&e.selected?(t.unselect(e),t._focus(t._items[t.selectedIndexes[0]])):t._select(e),!0
if(t._keysPressed.Shift){const n=t._items[t.selectedIndexes[0]]
let r
t.clearSelection()
const o=i.indexOf(n.value)>=0||n.selected
if(t._select(n,o),t._indexOf(n)>t._indexOf(e))for(r=t._indexOf(n)-1;r>=t._indexOf(e);){const e=t._items[r],n=i.indexOf(e.value)>=0||e.selected
t._select(e,n),r--}else for(r=t._indexOf(n)+1;r<=t._indexOf(e);){const e=t._items[r],n=i.indexOf(e.value)>=0||e.selected
t._select(e,n),r++}const a=[]
for(let e=0;e<i.length;e++)a.push(t.getItem(i[e]))
if(a.length>0&&!t._propertyChanging){let n=[]
for(let e=0;e<t.selectedValues.length;e++){const r=t.selectedValues[e]
i.indexOf(r)<0&&n.push(t.getItem(r))}t.$.fireEvent("change",{addedItems:n,removedItems:a,selected:e.selected,disabled:e.disabled,index:t._indexOf(e),label:e.label,value:e.value})}return!0}for(let n=0;n<i.length;n++){const r=i[n],o=t.getItem(r)
e!==o&&t.unselect(o)}return t.clearSelection(),t._select(e,i.indexOf(e.value)>=0),!0}}return!1}}_applyTemplate(e,t){const i=this
if(null===i.itemTemplate)return
if("function"==typeof i.itemTemplate)return void i.itemTemplate(e,{label:e.label,value:e.value,index:i._items.indexOf(e)})
if(!i._bindingDetails||0===i._bindingDetails.length)return
const n=i._bindingDetails.length
let r,o,a=document.importNode(i._template.content,!0)
for(let t=0;t<n;t++){r=a.childNodes[i._bindingDetails[t].childNodeIndex],o=i._bindingDetails[t].bindingString.length
for(let n=0;n<o;n++){const o=i._bindingDetails[t].bindingString[n],a=o.indexOf("label")>=0?e.label:e.value
r.innerHTML=r.innerHTML.replace(o,a)}}e.innerHTML=""
for(let t=0;t<a.childNodes.length;t++)a.childNodes[t].outerHTML&&(e.innerHTML+=a.childNodes[t].outerHTML)
!1!==t&&(i._scrollHeightTimer&&(clearInterval(i._scrollHeightTimer),i._scrollHeightCounter=0),i._scrollHeightTimer=setInterval(function(){i._lastScrollHeight===i.$.itemsInnerContainer.scrollHeight&&10!==i._scrollHeightCounter||(i._refreshLayout(),clearInterval(i._scrollHeightTimer)),i._lastScrollHeight=i.$.itemsInnerContainer.scrollHeight,i._scrollHeightCounter++},50))}_filterItems(e,t,i){const n=this,r=n.$.filterInput.value
let o,a
const s=function(){if(0===a.length)return n._filteredItems=[],void(t&&t())
o=n._queryItems(r,n.filterMode)
for(let e=0;e<a.length;e++)a[e].hidden=!0,a[e].$.addClass("jqx-hidden")
for(let e=0;e<o.length;e++){const t=o[e]
t.hidden=!1,t.$.removeClass("jqx-hidden")}if(n.grouped&&n.isVirtualized)for(let e=0;e<n._groups.length;e++){const t=n._groups[e],i=t.items
let r=!0
for(let e=0;e<i.length;e++)i[e].hidden||(r=!1)
r&&(t.hidden=!0)}if(n.grouped&&!n.isVirtualized)for(let e=0;e<n._groups.length;e++){const t=n._groups[e],i=[].concat(...t.querySelectorAll("jqx-list-item"))
let r=!0
for(let e=0;e<i.length;e++)i[e].$.hasClass("jqx-hidden")||(r=!1)
r?t.$.addClass("jqx-hidden"):t.$.removeClass("jqx-hidden")}n._filteredItems=o,n._refreshLayout(),t&&t(),e||n._refreshSelection()}
if("function"==typeof n.dataSource)if(r||i){const e=function(e){(r||i)&&n.isAttached&&(n._updateListBoxAfterQuery=function(){o=a=n._items,s()},n.clearItems(),n.insert(0,e))},t=n.dataSource(r,e)
if(t){if(!r&&!i)return
n._updateListBoxAfterQuery=function(){o=a=n._items,s()},n.clearItems(),n.insert(0,t)}}else n.clearItems(),o=a=n._items,s(),n.$.fireEvent("bindingComplete")
else{if(0===(a=n._items).length)return
s()}}_getNextItem(e){const t=this._items,i=this._items.length
let n=Math.max(e+1,0)
for(;n<i;){const e=t[n]
if(!(e.disabled||e.hidden||e.grouped||e.readonly))return e
n++}return t[e]}_getPreviousItem(e){const t=this._items
let i=Math.max(e-1,0)
for(;i>-1;){const e=t[i]
if(!(e.disabled||e.hidden||e.grouped||e.readonly))return e
i--}return t[e]}get _scrollWidth(){const e=this,t=e._items
return e.__scrollWidth?e.__scrollWidth:(e.__scrollWidth=(()=>{const e=this,i=e.virtualized,n=e.itemMeasureMode
let r=0,o=""
function a(t){const i=e._createItem({label:t})
i.style.position="absolute",e.$.itemsContainer.appendChild(i),i.label=t,i.style.width="auto",i.isCompleted&&(i.$.itemContainer.style.width="auto")
const n=getComputedStyle(i),r=parseInt(n.paddingLeft)+parseInt(n.paddingRight),o=i.$.itemContainer||i,a=o.offsetWidth+o.offsetLeft+r
return i.parentNode.removeChild(i),a}for(let e=0;e<t.length;e++){const s=t[e]
if(!s.hidden)if("auto"===n){const e=i?s.label:s.textContent.trim()
e.length>o.length&&(o=e)}else r=Math.max(r,a(s.label))}return"auto"===n?a(o):r})(),e.__scrollWidth)}update(e,t){const i=this,n=i._items[e]
if(n){if("string"==typeof t)n.label=t,void 0===n.value&&(n.value=t)
else for(let e in t)"selected"===e&&n[e]!==t[e]?i.select(n):n[e]=t[e],"group"===e&&i._refreshItems();(i.sorted||i.grouped||i.isVirtualized)&&(i._refreshItems(),i._refreshSelection())}else i.error(i.localize("indexOutOfBound",{elementType:i.nodeName.toLowerCase(),method:"update"}))}insert(e,t){const i=this
let n=[]
if(e||(e=0),Array.isArray(t)){i.isUpdating++
for(let r=0;r<t.length;r++){const o=t[r],a=i._createItem(o)
n.push(a),e>=i._items.length||0===i._items.length?i.appendChild(a):i.insertBefore(a,i._items[e])}i.isUpdating--}else{const r=i._createItem(t)
n.push(r),e>=i._items.length||0===i._items.length?i.appendChild(r):i.insertBefore(r,i._items[e])}n.length>0?(n.map(e=>i._applyTemplate(e)),i._ensureItemsReady(n,function(){i._refreshItems(),0!==i._items.length&&(i._updateListBoxAfterQuery&&(i._updateListBoxAfterQuery(),delete i._updateListBoxAfterQuery),i._refreshSelection(),i.$.fireEvent("bindingComplete"))})):i._updateListBoxAfterQuery&&(i._updateListBoxAfterQuery(),delete i._updateListBoxAfterQuery)}removeAt(e){const t=this,i=t._items[e]
i?(i.selected&&t.unselect(i),t.isVirtualized?t._items.splice(e,1):i.parentNode.removeChild(i),t._refreshItems(),t._refreshSelection(),0===t.selectedIndexes.length&&t._items.length>0&&("oneOrMany"!==t.selectionMode&&"one"!==t.selectionMode&&"oneOrManyExtended"!==t.selectionMode||t.select(t._items[0]))):t.error(t.localize("indexOutOfBound",{elementType:t.nodeName.toLowerCase(),method:"remove"}))}_queryItems(e,t){const i=this,n=[],r=function(n,r){if(n.grouped)return n
switch(t){case"startsWith":if(0===n.label.indexOf(r))return n
break
case"startsWithIgnoreCase":if(0===n.label.toLowerCase().indexOf(r.toLowerCase()))return n
break
case"doesNotContain":if(n.label.indexOf(r)<0)return n
break
case"doesNotContainIgnoreCase":if(n.label.toLowerCase().indexOf(r.toLowerCase())<0)return n
break
case"contains":if(n.label.indexOf(r)>-1)return n
break
case"containsIgnoreCase":if(n.label.toLowerCase().indexOf(r.toLowerCase())>-1)return n
break
case"equals":if(0===n.label.localeCompare(r))return n
break
case"equalsIgnoreCase":if(0===n.label.toLowerCase().localeCompare(r.toLowerCase()))return n
break
case"endsWith":if(n.label.endsWith(r))return n
break
case"endsWithIgnoreCase":if(n.label.toLowerCase().endsWith(r.toLowerCase()))return n
break
case"custom":if(i.filterCallback(n,e))return n}return null}
if(0===e.length)return i._items
for(let t=0;t<i._items.length;t++){const o=r(i._items[t],e)
o&&n.push(o)}return n}_select(e,t){const i=this,n=i.selectedIndexes.indexOf(i._indexOf(e)),r=i.selectedIndexes.slice(0),o=i.selectedValues.slice(0)
if(e.selected=!0,-1!==n)return i._recycle(),!1
if(r.push(i._indexOf(e)),o.push(e.value||e.label),i.selectedIndexes=r,i.selectedValues=o,i._recycle(),i.$.hiddenInput.value=o.toString(),!i.isCompleted||t||!i.isInitialized||i._propertyChanging)return
let a=[]
if(i._previouslySelectedIndexes){for(let e=0;e<i._previouslySelectedIndexes.length;e++)i.selectedIndexes.indexOf(i._previouslySelectedIndexes[e])<0&&a.push(i._items[i._previouslySelectedIndexes[e]])
delete i._previouslySelectedIndexes}return i.$.fireEvent("change",{addedItems:[e],removedItems:a,selected:e.selected,disabled:e.disabled,index:i._indexOf(e),label:e.label,value:e.value}),!0}_setTopVisibleIndex(e){const t=this
if("number"==typeof e&&(t.topVisibleIndex=Math.max(0,e),e=t._items[t.topVisibleIndex]),!e)return!1
e.top!==t.scrollTop&&(t.scrollTop=e.top,t.isVirtualized||(t.$.itemsContainer.scrollTop=t.scrollTop),t.scrollHeight===t.scrollTop&&t._updateTopVisibleIndex())}_updateTopVisibleIndex(){const e=this,t=e.scrollTop+e._scrollView.verticalScrollBar.offsetHeight-e.offsetHeight
let i
if(e.scrollTop<e.scrollHeight/2){for(let n=0;n<e._items.length;n++)if(e._items[n].top>=t){i=e._items[n]
break}}else for(let n=e._items.length-1;n>=0&&!(e._items[n].top<t);n--)i=e._items[n]
i&&(e.topVisibleIndex=i.dataIndex)}unselect(e){const t=this
if(!e)return
if("string"==typeof e&&!(e=t.getItem(e)))return
if("none"===t.selectionMode)return void t.clearSelection()
const i=t.selectedIndexes.indexOf(t._indexOf(e)),n=t.selectedIndexes.slice(0),r=t.selectedValues.slice(0)
return e.selected=!1,i>=0&&(n.splice(i,1),r.splice(i,1),t.selectedIndexes=n,t.selectedValues=r,t.$.hiddenInput.value=r.toString(),t.isCompleted&&!t._propertyChanging?(t.$.fireEvent("change",{addedItems:[],removedItems:[e],selected:e.selected,disabled:e.disabled,index:t._indexOf(e),label:e.label,value:e.value}),t._recycle(),!0):void 0)}_handleItemTemplate(e){if(null===e||!e)return
if("function"==typeof e)return e
const t=this
if(!("content"in document.createElement("template")))return t.error(t.localize("htmlTemplateNotSuported",{elementType:t.nodeName.toLowerCase()})),void(t.itemTemplate=null)
if(null===(e=document.getElementById(e))||!("content"in e))return t.error(t.localize("invalidTemplate",{elementType:t.nodeName.toLowerCase(),property:"itemTemplate"})),void(t.itemTemplate=null)
const i=e.content,n=i.childNodes.length,r=/{{\w+}}/g
let o,a
t._bindingDetails=[],t._template=e
for(let e=0;e<n;e++){for(a=[];o=r.exec(i.childNodes[e].innerHTML);)a.push(o[0])
a.length>0&&t._bindingDetails.push({childNodeIndex:e,bindingString:a})}return!0}_handleKeyStrokes(e){const t=this,i="radioButton"===t.selectionMode||"checkBox"===t.selectionMode||"zeroOrMany"===t.selectionMode||"oneOrMany"===t.selectionMode||"zeroOrOne"===t.selectionMode
let n=t._items
if(t.filterable&&t.$.filterInput.value.length>0&&(n=t._filteredItems),!t.disabled&&!t.readonly&&n.length){switch(e){case"ArrowLeft":case"ArrowUp":t._handleArrowKeys(!0)
break
case"ArrowRight":case"ArrowDown":t._handleArrowKeys(!1)
break
case" ":{if(t.selectedIndexes.length<1&&!t._focusedItem)return
const e=t._focusedItem?t._focusedItem:t._items[t.selectedIndexes[t.selectedIndexes.length-1]],i=e=>{e.selected&&"radioButton"!==t.selectionMode?t.unselect(e):t.select(e)}
if("oneOrMany"===t.selectionMode)return void(e.selected&&t.selectedIndexes.length>1?i(e):e.selected||i(e))
i(e)
break}case"Home":if(0===n.length)return
i?t._focus(n[0]):(t._keysPressed.Shift||t.clearSelection(),t.select(n[0]),t._focus(n[0])),t.scrollTop=0
break
case"End":if(0===n.length)return
i?t._focus(n[n.length-1]):(t._keysPressed.Shift||t.clearSelection(),t.select(n[n.length-1]),t._focus(n[n.length-1])),t.scrollTop=t.scrollHeight
break
case"PageUp":t._pageUpKeyHandler(n)
break
case"PageDown":t._pageDownKeyHandler(n)}t._recycle()}}_horizontalScrollbarHandler(e){const t=this
e.stopPropagation(),t.isVirtualized?t._recycle():t.$.itemsContainer.scrollLeft=t._getScrollLeft(e.detail.value)}_getScrollLeft(e,t){const i=this
if(!i.rightToLeft)return e
if(JQX.Utilities.Core.Browser.Chrome){if(!t){const e=2*(parseInt(getComputedStyle(i.$.itemsInnerContainer).getPropertyValue("--jqx-list-item-horizontal-offset"))||0)
t=i._scrollWidth-i.$.itemsContainer.offsetWidth-e}e=t-e}else e*=-1
return e}_unsort(){const e=this
e.isUpdating++
const t=function(e,t){let i=e.dataIndex,n=t.dataIndex
return i<n?-1:i>n?1:0}
if(e.isVirtualized)if(e._groups.length>0){e._groups.sort(t)
let i=[]
for(let n=0;n<e._groups.length;n++){const r=e._groups[n],o=[].concat(...r.items)
o.sort(t),i.push(r),i=i.concat(o)}e._items=i}else e._items.sort(t)
else{if(e._groups.length>0){e._groups.sort(t)
let i=[]
for(let n=0;n<e._groups.length;n++){const r=e._groups[n],o=[].concat(...r.querySelectorAll("jqx-list-item"))
o.sort(t),i=i.concat(o)}e._items=i}else e._items.sort(t)
e._applySortOrder()}e.isUpdating--}_applySortOrder(){const e=function(e){for(let t=0;t<e.length;t++){const i=e[t],n=i.parentNode
n&&n.appendChild(i)}}
e(this._items),e(this._groups)}_sort(){const e=this
if(!e._canSort)return
e.isUpdating++
const t=function(t,i){let n=t.label,r=i.label
if("asc"===e.sortDirection){if(n<r)return-1
if(n>r)return 1}else{if(n<r)return 1
if(n>r)return-1}return 0}
if(e._groups.sort(t),e.isVirtualized)if(e._groups.length>0){let i=[]
for(let n=0;n<e._groups.length;n++){const r=e._groups[n],o=[].concat(...r.items)
i.push(r),o.sort(t),i=i.concat(o)}e._items=i}else e._items.sort(t)
else{if(e._groups.length>0){let i=[]
for(let n=0;n<e._groups.length;n++){const r=e._groups[n],o=[].concat(...r.querySelectorAll("jqx-list-item"))
o.sort(t),i=i.concat(o)}e._items=i}else e._items.sort(t)
e._applySortOrder()}e.isUpdating--}getItem(e){const t=this
for(let i=0;i<t._items.length;i++)if(t._items[i].value===e)return t._items[i]
return null}_focus(e){const t=this
!e||"none"===t.selectionMode||t.disabled||t.readonly||(t._focusedItem&&(t._focusedItem._focused=!1),t._focusedItem=e,t._focusedItem._focused=!0)}_keyDownHandler(e){const t=this,i=(t.shadowRoot||t.getRootNode()).activeElement||document.activeElement
let n=e.key
if(!t.disabled&&!t.readonly&&(!t.filterable||t.$.filterInput!==i)&&t._focused&&0!==t._items.length&&!t.disabled&&!t.displayLoadingIndicator){if(t.editable){if("F2"===n)return void t._dblclickEventHandler({target:t._focusedItem})
if(t.$.editInput===i)return}if("none"!==t.selectionMode){switch(e.stopPropagation(),n){case"Down":case"Right":case"Left":case"Up":n="Arrow"+n}if(t.filterable)switch(n){case"ArrowLeft":case"ArrowRight":return
case"ArrowUp":case"ArrowDown":e.preventDefault()}if(t._applyIncrementalSearch(n),!(["Shift","ArrowUp","ArrowDown","ArrowLeft","ArrowRight","Control"," ","Home","End","PageUp","PageDown"].indexOf(n)<0))if(e.preventDefault(),!t._focusedItem&&t._items.length>0)"one"===t.selectionMode||"oneOrMany"===t.selectionMode||"oneOrManyExtended"===t.selectionMode?t.select(t._items[0]):t._focus(t._items[0])
else switch(t.selectionMode){case"one":if("Shift"===n||"Control"===n||" "===n)return
t._handleKeyStrokes(n)
break
case"oneOrMany":case"zeroOrOne":case"zeroOrMany":case"radioButton":case"checkBox":if("Shift"===n||"Control"===n)return
t._handleKeyStrokes(n)
break
case"oneOrManyExtended":if(" "===n)return
t._keysPressed[n]="keydown"===e.type,t._handleKeyStrokes(n)}}}}_keyUpHandler(e){const t=this,i=(t.shadowRoot||t.getRootNode()).activeElement||document.activeElement
if(!t.editable||t.$.editInput!==i){if(t.filterable&&t.$.filterInput===i)return t._filterTimer&&clearTimeout(t._filterTimer),void(t._filterTimer=setTimeout(function(){const e=t.context
t.context=t,t._filterItems(),t.scrollTop=t.$.itemsContainer.scrollTop=0,t.scrollLeft=t.$.itemsContainer.scrollLeft=t._getScrollLeft(0),t.context=e},300))
if(t._focused){if(t._focusedItem&&t._focusedItem.hidden&&t._filteredItems.length>0){let e=t._filteredItems[0]
e.grouped&&t._filteredItems.length>1&&(e=t._filteredItems[1]),t._focus(e),t._recycle()}e.stopPropagation(),e.preventDefault(),t.disabled||["Shift","ArrowUp","ArrowDown","ArrowLeft","ArrowRight","Control"," ","PageUp","PageDown"].indexOf(e.key)<0||(t._keysPressed[e.key]=!1)}}}_mouseWheelHandler(e){const t=this
if((t.computedHorizontalScrollBarVisibility||t.computedVerticalScrollBarVisibility)&&!t.disabled&&t.computedVerticalScrollBarVisibility){const i=t.scrollTop
if(0===i&&e.deltaY<0||i===t.scrollHeight&&e.deltaY>0)return
e.stopPropagation(),e.preventDefault(),t.scrollTo(i+t._getScrollCoefficient(e,t.offsetHeight))}}_pageDownKeyHandler(e){const t=this
if(0===e.length)return
let i,n=t._items[t.selectedIndexes[t.selectedIndexes.length-1]]
if("checkBox"!==t.selectionMode&&"radioButton"!==t.selectionMode&&"zeroOrMany"!==t.selectionMode&&"oneOrMany"!==t.selectionMode&&"zeroOrOne"!==t.selectionMode||t._focusedItem&&(n=t._focusedItem),!n)return
const r=t._indexOf(n)
let o=n.top+t.$.itemsContainer.offsetHeight-n.height
for(let t=r;t<e.length;t++)if(e[t].top>=o){i=e[t]
break}i||(i=e[e.length-1]),"checkBox"===t.selectionMode||"radioButton"===t.selectionMode||"zeroOrMany"===t.selectionMode||"oneOrMany"===t.selectionMode||"zeroOrOne"===t.selectionMode?t._focus(i):i.selected||(t._keysPressed.Shift||t.clearSelection(),t.select(i),t._focus(i)),(i.height+i.top>t.$.itemsContainer.scrollTop+t.$.itemsContainer.offsetHeight||i.top<t.$.itemsContainer.scrollTop)&&(t.scrollTop=i.top-t.$.itemsContainer.offsetHeight+i.height)}_pageUpKeyHandler(e){const t=this
if(0===e.length)return
let i=t._items[t.selectedIndexes[t.selectedIndexes.length-1]]
if("checkBox"!==t.selectionMode&&"radioButton"!==t.selectionMode&&"zeroOrMany"!==t.selectionMode&&"oneOrMany"!==t.selectionMode&&"zeroOrOne"!==t.selectionMode||t._focusedItem&&(i=t._focusedItem),!i)return
const n=i.top-t.$.itemsContainer.offsetHeight
let r
for(let o=t._indexOf(i);o>0;o--)if(e[o].top<=n){r=e[o]
break}r||(r=e[0]),"checkBox"===t.selectionMode||"radioButton"===t.selectionMode||"zeroOrMany"===t.selectionMode||"oneOrMany"===t.selectionMode||"zeroOrOne"===t.selectionMode?t._focus(r):r.selected||(t._keysPressed.Shift||t.clearSelection(),t.select(r),t._focus(r)),t.scrollTop=r.top,0===t._indexOf(r)&&(t.scrollTop=0)}clearItems(){this.clearSelection(),this.$.itemsInnerContainer.innerHTML="",this._items=[],delete this._focusedItem,this.$placeholder.removeClass("jqx-hidden")}_resizeHandler(e){const t=this
e.target!==t||t._isUpdatingScrollBars||(t._isUpdatingScrollBars=!0,t._initializeRecyclingItems(),t._refreshLayout(),t._isUpdatingScrollBars=!1)}_indexOf(e){const t=this
if(!e)return-1
let i=t._items.indexOf(e)
return-1===i&&(i=t._items.indexOf(t.getItem(e.value))),i}_incrementalSearch(){const e=this,t="radioButton"!==e.selectionMode&&"checkBox"!==e.selectionMode&&"zeroOrMany"!==e.selectionMode&&"oneOrMany"!==e.selectionMode&&"zeroOrOne"!==e.selectionMode
let i,n=0
switch(e.incrementalSearchMode){case"containsIgnoreCase":case"equalsIgnoreCase":case"startsWithIgnoreCase":case"endsWithIgnoreCase":i=e._incrementalSearchQuery.toLowerCase()
break
default:i=e._incrementalSearchQuery}const r=function(i){i.grouped||i.readonly||(t?(e.selectedIndexes.length>0&&e.clearSelection(),e._focus(i),e.select(i)):e._focus(i),(i.height+i.top>e.$.itemsContainer.scrollTop+e.$.itemsContainer.offsetHeight||i.top<e.scrollTop)&&(e.scrollTop=i.top),0===e._indexOf(i)&&(e.scrollTop=0),e._indexOf(i)===e._items.length-1&&(e.scrollTop=e.scrollHeight))}
0!==e._previousEntry.localeCompare(i)&&(e._incrementalSearchItems=e._queryItems(e._incrementalSearchQuery,e.incrementalSearchMode),delete e._itemPosition),e._previousEntry=i
const o=e._incrementalSearchItems.length
if(0!==o)if(1!==o)for(void 0!==e._itemPosition?e._itemPosition<o-1?n=e._itemPosition:(n=0,t?(e._incrementalSearchItems[e._itemPosition].selected=!1,e.selectedIndexes=[],e.selectedValues=[]):e._incrementalSearchItems[e._itemPosition]._focused=!1):t&&e.clearSelection();n<o;n++)if(e._incrementalSearchItems[n].selected&&t)e._incrementalSearchItems[n].selected=!1,e.selectedIndexes=[],e.selectedValues=[]
else{if(t||!e._incrementalSearchItems[n]._focused)return r(e._incrementalSearchItems[n]),void(e._itemPosition=n)
e._incrementalSearchItems[n]._focused=!1}else r(e._incrementalSearchItems[0])}_selectStartHandler(e){const t=(this.shadowRoot||this.getRootNode()).activeElement
this.$.filterInput!==t&&this.$.editInput!==t&&e.preventDefault()}_handleArrowKeys(e){const t=this,i="radioButton"!==t.selectionMode&&"checkBox"!==t.selectionMode&&"zeroOrMany"!==t.selectionMode&&"oneOrMany"!==t.selectionMode&&"zeroOrOne"!==t.selectionMode
if(t.disabled||t.readonly)return
let n
if(t._focusedItem&&!t._keysPressed.Shift)n=t._indexOf(t._focusedItem),t._focusedItem._focused=!1
else{if(0===t.selectedIndexes.length)return
n=t.selectedIndexes[t.selectedIndexes.length-1]}const r=e?t._getPreviousItem(n):t._getNextItem(n)
t._focus(r),i&&(t._keysPressed.Shift?t.select(r):t._items[n]!==r&&(t.clearSelection(),t.select(r))),t.ensureVisible(r)}_refreshFilter(){const e=this
if(e.filterable)return e.$.filterInput.disabled=!(!e.disabled&&!e.displayLoadingIndicator),e.$filterInputContainer.removeClass("jqx-hidden"),void e.$itemsContainer.addClass("filter")
e.$.filterInput.disabled=!0,e.$filterInputContainer.addClass("jqx-hidden"),e.$itemsContainer.removeClass("filter")}_setFocusable(){const e=this
e.disabled||e.unfocusable?e.removeAttribute("tabindex"):e.tabIndex=e.tabIndex>0?e.tabIndex:0}_setLoadingIndicatorVisibility(){const e=this
e.displayLoadingIndicator?e.$loadingIndicatorContainer.hasClass("jqx-visibility-hidden")?e.$loadingIndicatorContainer.removeClass("jqx-visibility-hidden"):e.$loadingIndicatorContainer.removeClass("jqx-hidden"):e._areCSSVarsSupported?e.$loadingIndicatorContainer.addClass("jqx-hidden"):e.$loadingIndicatorContainer.addClass("jqx-visibility-hidden")}_refreshLayout(){const e=this,t=e._filteredItems||e._items
if(e.__scrollHeight=null,e.__scrollWidth=null,e._height=null,e._scrollView||(e._scrollView=new JQX.Utilities.Scroll(e,e.$.horizontalScrollBar,e.$.verticalScrollBar)),e.$itemsContainer.removeClass("hscroll"),e.$itemsContainer.removeClass("vscroll"),!t||null===t||0===t.length)return e.scrollWidth=0,e.scrollHeight=0,e.$filterInputContainer.removeClass("vscroll"),e.$placeholder.removeClass("jqx-hidden"),e.isVirtualized&&e._recycle(),void(e.$.itemsInnerContainer.style.width="")
e.$placeholder.addClass("jqx-hidden")
const i=2*(parseInt(getComputedStyle(e.$.itemsContainer).getPropertyValue("--jqx-list-item-horizontal-offset"))||0)
let n=e._scrollWidth-e.$.itemsContainer.offsetWidth-i,r=e._scrollHeight
if(e._refreshHorizontalScrollBarVisibility(n),e._refreshVerticalScrollBarVisibility(r),e.$.itemsInnerContainer.style.width="","hidden"===e.horizontalScrollBarVisibility?e.$.itemsInnerContainer.style.width=e.$.itemsContainer.offsetWidth-i:e.$.itemsInnerContainer.style.width=Math.max(e.$.itemsContainer.offsetWidth-i,-i+e.__scrollWidth)+"px",e.computedVerticalScrollBarVisibility)return n=e._scrollWidth-e.$.itemsContainer.offsetWidth-i,e._refreshHorizontalScrollBarVisibility(n),"hidden"!==e.horizontalScrollBarVisibility&&(e.$.itemsInnerContainer.style.width="",e.$.itemsInnerContainer.style.width=Math.max(e.$.itemsContainer.offsetWidth-i,-i+e.__scrollWidth)+"px"),e.computedHorizontalScrollBarVisibility&&("visible"!==e.horizontalScrollBarVisibility||0!==e.scrollWidth?e.__scrollHeight+=e._scrollView.hScrollBar.offsetHeight:"visible"===e.horizontalScrollBarVisibility&&(e.__scrollHeight+=e._scrollView.hScrollBar.offsetHeight),e.scrollHeight=e.__scrollHeight),void(e.isVirtualized&&e._recycle())
n=e._scrollWidth-e.$.itemsContainer.offsetWidth-i,e._refreshHorizontalScrollBarVisibility(n),e.computedHorizontalScrollBarVisibility&&(e.scrollHeight=e._scrollHeight,e._refreshVerticalScrollBarVisibility(e.scrollHeight),e.computedVerticalScrollBarVisibility&&(n=e._scrollWidth-e.$.itemsContainer.offsetWidth-e._scrollView.vScrollBar.offsetWidth,e._refreshHorizontalScrollBarVisibility(n)),e._scrollView.vScrollBar.$.hasClass("bottom-corner")&&e._scrollView.vScrollBar.refresh()),e.isVirtualized&&e._recycle()
const o=/Trident|Edge/.test(navigator.userAgent)
!e.isRefreshing&&o&&setTimeout(function(){e.isRefreshing=!0,e._refreshLayout(),e.isRefreshing=!1},50)}_styleChangedHandler(){this._refreshLayout()}_swipeLeftHandler(){}_swipeRightHandler(){}_refreshHorizontalScrollBarVisibility(e){const t=this
t.scrollWidth=e,t.computedHorizontalScrollBarVisibility?(t.scrollLeft=t._getScrollLeft(t.$.itemsContainer.scrollLeft,e),t.$itemsContainer.addClass("hscroll")):t.$itemsContainer.removeClass("hscroll")}_refreshVerticalScrollBarVisibility(e){const t=this
t.scrollHeight=e,t.computedVerticalScrollBarVisibility?(t.$itemsContainer.addClass("vscroll"),t.$filterInputContainer.addClass("vscroll")):(t.$itemsContainer.removeClass("vscroll"),t.$filterInputContainer.removeClass("vscroll"))}_validateTemplate(e,t){if(null===t||!t)return
const i=this
return"content"in document.createElement("template")?null!==(t=document.getElementById(t))&&"content"in t?t:(i.error(i.localize("invalidTemplate",{elementType:i.nodeName.toLowerCase(),property:e})),void(i[e]=null)):(i.error(i.localize("htmlTemplateNotSuported",{elementType:i.nodeName.toLowerCase()})),void(i[e]=null))}_getItemIndexByPosition(e){const t=this
return(i=>{let n=0,r=i.length-1
if(e<=0)return 0
if(i[i.length-1].top<=e)return i.length-1
for(;;){const o=Math.floor((n+r)/2),a=i[o]
if(t._isItemInPosition(a,e))return o
a.top<e?n=o+1:a.top>e&&(r=o-1)}})(t.filterable&&t.$.filterInput.value.length>0?t._filteredItems:t._items)}_isItemInPosition(e,t){const i=e.top,n=e.top+e.height
return i<=t&&n>t}get isVirtualized(){return this.virtualized&&this.dataSource&&this.dataSource.length>0}_recycle(){const e=this
if(!e._recyclingItems)return
let t=e._height
e._height||(t=e._height=e.$.itemsContainer.offsetHeight)
let i=0
const n=e.scrollTop,r=e._getItemIndexByPosition(n),o=e.filterable&&e.$.filterInput.value.length>0?e._filteredItems:e._items,a=o[r]
let s=a?a.top:0
if(e.$.itemsInnerContainer.style.left=-e.scrollLeft+"px",e.$.itemsInnerContainer.style.top=-n+s+"px",e.isUpdating++,r>=0){const a=o.length
for(let l=r;l<a;l++){const r=o[l]
if(0!==r.height){if(!(s+r.height>=n&&s<=n+t))break
{const t=e._recyclingItems[i++]
if(!t)break
t.setAttribute("aria-setsize",a),t.setAttribute("aria-posinset",l),t.context=document,t.dataItem=r,t.label=r.label,t.value=r.value,t.selected=r.selected,t._focused=r._focused,t.hidden=r.hidden,t.grouped=r.grouped,t.readonly=r.readonly,t.style.height=r.height+"px",e._alternateItem(t),r.title?t.title=r.title:t.title="",r.grouped?t.displayMode="plain":t.displayMode=r.displayMode,e.scrollWidth>0&&(t.style.width=e.$.itemsInnerContainer.offsetWidth+e.scrollWidth+"px"),e.itemTemplate&&e._handleItemTemplate(e.itemTemplate)&&e._applyTemplate(t,!1)}s+=r.height}}}if(i<e._recyclingItems.length)for(let t=i;t<e._recyclingItems.length;t++){const t=e._recyclingItems[i++],n=t.context
t.context=document,t.hidden=!0,t.context=n}e.isUpdating--}_verticalScrollbarHandler(e){const t=this,i=e.detail.value
e.stopPropagation(),t.isVirtualized?t._recycle():t.$.itemsContainer.scrollTop=i,t._updateTopVisibleIndex(),e.context.max!==e.context.value?e.context.min===e.context.value&&t.$.fireEvent("scrollTopReached"):t.$.fireEvent("scrollBottomReached")}_applyAriaSelected(){const e=this.isVirtualized?this._recyclingItems:this._items,t=this.selectionMode
for(let i=0;i<e.length;i++){const n=e[i]
n.selected?n.setAttribute("aria-selected",!0):n.readonly||n.disabled||-1===["oneOrManyExtended","zeroOrMany","oneOrMany","checkBox"].indexOf(t)?n.removeAttribute("aria-selected"):n.setAttribute("aria-selected",!1)}}})
var ee=Object.freeze({})
JQX("jqx-drop-down-list",class extends JQX.ContentElement{static get properties(){return{autoCloseDelay:{value:100,type:"number"},dataSource:{value:null,type:"any",reflectToAttribute:!1},displayLoadingIndicator:{value:!1,type:"boolean"},displayMember:{value:"",type:"string"},displayMode:{allowedValues:["outlined","filled","underlined"],value:"outlined",type:"string"},dropDownAppendTo:{value:null,type:"any"},dropDownButtonPosition:{allowedValues:["none","left","right","top","bottom"],value:"right",defaultReflectToAttribute:!0,type:"string"},dropDownMinHeight:{value:"",type:"any",validator:"_propertyValidator"},dropDownHeight:{value:"",type:"any",validator:"_propertyValidator"},dropDownMaxHeight:{value:"",type:"any",validator:"_propertyValidator"},dropDownOpenMode:{allowedValues:["none","default","dropDownButton","auto"],value:"default",type:"string"},dropDownOverlay:{value:!1,type:"boolean"},dropDownPlaceholder:{value:"No Items",type:"string"},dropDownPosition:{allowedValues:["auto","top","bottom","overlay-top","overlay-center","overlay-bottom","center-bottom","center-top"],value:"auto",type:"string"},dropDownMinWidth:{value:"",type:"any",validator:"_propertyValidator"},dropDownWidth:{value:"",type:"any",validator:"_propertyValidator"},dropDownMaxWidth:{value:"",type:"any",validator:"_propertyValidator"},filterable:{value:!1,type:"boolean"},filterInputPlaceholder:{value:"",type:"string"},filterCallback:{value:null,type:"function?"},filterMode:{value:"startsWithIgnoreCase",allowedValues:["contains","containsIgnoreCase","doesNotContain","doesNotContainIgnoreCase","equals","equalsIgnoreCase","startsWith","startsWithIgnoreCase","endsWith","endsWithIgnoreCase","custom"],type:"string"},grouped:{value:!1,type:"boolean"},groupMember:{value:"",type:"string"},hint:{value:"",type:"string"},horizontalScrollBarVisibility:{type:"string",value:"auto",allowedValues:["auto","disabled","hidden","visible"]},incrementalSearchDelay:{value:700,type:"number?"},incrementalSearchMode:{value:"startsWithIgnoreCase",allowedValues:["contains","containsIgnoreCase","doesNotContain","doesNotContainIgnoreCase","equals","equalsIgnoreCase","startsWith","startsWithIgnoreCase","endsWith","endsWithIgnoreCase"],type:"string"},itemMeasureMode:{value:"auto",allowedValues:["auto","precise"],type:"string"},inputMember:{value:"label",type:"string"},itemTemplate:{value:null,type:"any"},itemHeight:{value:null,type:"number?"},label:{value:"",type:"string"},loadingIndicatorPlaceholder:{value:"Loading...",type:"string"},loadingIndicatorPosition:{value:"center",allowedValues:["bottom","center","top"],type:"string"},messages:{extend:!0,value:{en:{invalidNode:'{{elementType}}: Invalid parameter "{{node}}" when calling {{method}}.'}},type:"object"},name:{value:"",type:"string"},opened:{value:!1,type:"boolean"},placeholder:{value:"",type:"string"},resizeMode:{value:"none",allowedValues:["none","horizontal","vertical","both"],type:"string"},resizeIndicator:{value:!1,type:"boolean"},selectionDisplayMode:{value:"plain",allowedValues:["plain","placeholder","tokens"],type:"string"},selectionMode:{value:"one",allowedValues:["none","oneOrManyExtended","zeroOrMany","oneOrMany","zeroOrOne","one","checkBox","radioButton"],type:"string"},selectedIndexes:{value:[],type:"array"},selectedValues:{value:[],type:"array"},sorted:{value:!1,type:"boolean"},sortDirection:{value:"asc",type:"string"},tokenTemplate:{value:null,type:"any"},type:{value:"list",type:"string",defaultReflectToAttribute:!0,readonly:!0},valueMember:{value:"",type:"string"},virtualized:{value:!1,type:"boolean"},verticalScrollBarVisibility:{type:"string",value:"auto",allowedValues:["auto","disabled","hidden","visible"]}}}static get listeners(){return{"actionButton.down":"_buttonsDownHandler","actionButton.mouseenter":"_buttonsMouseEventsHandler","actionButton.mouseleave":"_buttonsMouseEventsHandler","actionButton.focus":"_buttonsFocusHandler","actionButton.blur":"_buttonsFocusHandler","document.selectstart":"_selectStartHandler","document.dragstart":"_dragStartHandler","document.down":"_documentDownHandler","document.up":"_documentUpHandler","document.move":"_documentMoveHandler","dropDownButton.down":"_buttonsDownHandler","dropDownButton.mouseenter":"_buttonsMouseEventsHandler","dropDownButton.mouseleave":"_buttonsMouseEventsHandler",keydown:"_keyDownHandler",keyup:"_keyUpHandler",focus:"_focusEventHandler",blur:"_blurEventHandler","dropDownButton.focus":"_buttonsFocusHandler","dropDownButton.blur":"_buttonsFocusHandler","dropDownContainer.transitionend":"_dropDownTransitionendHandler","listBox.change":"_listBoxChangeHandler","listBox.itemClick":"_listBoxItemClickHandler","listBox.keydown":"_listBoxKeyDownHandler","listBox.bindingComplete":"_bindingCompleteHandler",mouseenter:"_mouseEnterHandler",mouseleave:"_mouseLeaveHandler",resize:"_resizeHandler","resizeBar.move":"_resizeBarMoveHandler",styleChanged:"_styleChangedHandler",wheel:"_mouseWheelHandler"}}template(){return'<div id="container" role="presentation">\n                    <span class="jqx-label" id="label">[[label]]</span>\n                    <div id="content" class="jqx-content" role="presentation">\n                        <div class="jqx-buttons-container" id="buttonsContainer" role="presentation">\n                            <span id="actionButton" class ="jqx-action-button" role="presentation">[[placeholder]]</span>\n                            <span id="dropDownButton" class="jqx-drop-down-button">\n                                <span class ="jqx-drop-down-button-icon" id="arrow" aria-hidden="true"></span>\n                            </span>\n                        </div>\n                        <div id="dropDownContainer" class="jqx-drop-down jqx-drop-down-container jqx-visibility-hidden" role="presentation">\n                            <jqx-list-box id="listBox" unfocusable\n                                    animation="[[animation]]"\n                                    data-source="[[dataSource]]"\n                                    disabled="[[disabled]]"\n                                    display-loading-indicator="[[displayLoadingIndicator]]"\n                                    display-member="[[displayMember]]"\n                                    filterable="[[filterable]]"\n                                    filter-callback="[[filterCallback]]"\n                                    filter-mode="[[filterMode]]"\n                                    filter-input-placeholder="[[filterInputPlaceholder]]"\n                                    grouped="[[grouped]]"\n                                    group-member="[[groupMember]]"\n                                    item-height="[[itemHeight]]"\n                                    item-measure-mode="[[itemMeasureMode]]"\n                                    item-template="[[itemTemplate]]"\n                                    incremental-search-delay="[[incrementalSearchDelay]]"\n                                    incremental-search-mode="[[incrementalSearchMode]]"\n                                    loading-indicator-placeholder="[[loadingIndicatorPlaceholder]]"\n                                    loading-indicator-position="[[loadingIndicatorPosition]]"\n                                    name="[[name]]"\n                                    placeholder="[[dropDownPlaceholder]]"\n                                    right-to-left="[[rightToLeft]]"\n                                    readonly="[[readonly]]"\n                                    selected-indexes="{{selectedIndexes}}"\n                                    selection-mode="[[selectionMode]]"\n                                    selected-values="{{selectedValues}}"\n                                    sorted="[[sorted]]"\n                                    sort-direction="[[sortDirection]]"\n                                    theme="[[theme]]"\n                                    value-member="[[valueMember]]"\n                                    horizontal-scroll-bar-visibility="[[horizontalScrollBarVisibility]]"\n                                    vertical-scroll-bar-visibility="[[verticalScrollBarVisibility]]"\n                                    virtualized="[[virtualized]]">\n                                <content></content>\n                            </jqx-list-box>\n                            <div id="resizeBar" class="jqx-drop-down-resize-bar" aria-label="Resize">\n                                <div></div>\n                            </div>\n                         </div>\n                    </div>\n                    <span class="jqx-hint" id="hint">[[hint]]</span>\n                </div>'}static get styleUrls(){return["jqx.dropdownlist.css","jqx.dropdown.css"]}propertyChangedHandler(e,t,i){super.propertyChangedHandler(e,t,i)
const n=this
switch(e){case"animation":n.$.dropDownContainer.setAttribute("animation",n.animation)
break
case"disabled":n._setFocusable(),n.close(),n._positionDetection.handleAutoPositioning()
break
case"dataSource":case"displayMember":case"inputMember":n.$.actionButton&&(n.$.actionButton.innerHTML=n.placeholder),n._setDropDownSize(),n._positionDetection.checkBrowserBounds("vertically"),n._positionDetection.positionDropDown(),n._positionDetection.checkBrowserBounds("horizontally")
break
case"dropDownAppendTo":n._positionDetection.dropDownAppendToChangedHandler()
break
case"dropDownOpenMode":n._setFocusable(),n.$dropDownContainer.addClass("jqx-visibility-hidden"),n.$.dropDownButton.removeAttribute("selected"),n.removeAttribute("drop-down-button-focus"),n.removeAttribute("action-button-focus"),n.opened=!1,n._ariaButton&&n._ariaButton.setAttribute("aria-expanded",!1),n._setAriaRelations()
break
case"dropDownOverlay":i||n._positionDetection.removeOverlay()
break
case"dropDownPosition":n._positionDetection.dropDownPositionChangedHandler()
break
case"dropDownMinWidth":case"dropDownWidth":case"dropDownMaxWidth":case"dropDownHeight":case"dropDownMinHeight":case"dropDownMaxHeight":n._setDropDownSize()
break
case"filterable":n.$.listBox.filterable=i,n._dropDownSize&&"auto"===n._dropDownSize.height&&n._setDropDownSize()
break
case"label":if(!n._ariaButton)return
i?n._ariaButton.setAttribute("aria-labelledby",n.$.label.id):"DropDownList"===n.elementName&&n._ariaButton.setAttribute("aria-labelledby",n.$.actionButton.id)
break
case"opened":if(n.disabled||n.readonly)return
i?n.open():n.close()
break
case"placeholder":n._applySelection()
break
case"readonly":n.close()
break
case"resizeIndicator":i?n.$.dropDownContainer.setAttribute("resize-indicator",""):n.$.dropDownContainer.removeAttribute("resize-indicator")
break
case"resizeMode":n.$.dropDownContainer.setAttribute("resize-mode",n.resizeMode)
break
case"selectedValues":case"selectedIndexes":0===i.length?n.$.actionButton.innerHTML=n.placeholder:n._applySelection()
break
case"selectionMode":n.$.listBox&&(n.$.listBox[e]=i,"checkBox"!==i&&"radioButton"!==i&&"checkBox"!==t&&"radioButton"!==t||n._setDropDownSize())
break
case"selectionDisplayMode":n._applySelection()
break
case"tokenTemplate":n._tokenTemplate=n._validateTemplate(n.tokenTemplate),n._applySelection()
break
case"unfocusable":n._setFocusable()}}appendChild(e){const t=this
if(!t.isCompleted||e instanceof HTMLElement&&e.classList.contains("jqx-resize-trigger-container")){const e=Array.prototype.slice.call(arguments,2)
return HTMLElement.prototype.appendChild.apply(t,e.concat(Array.prototype.slice.call(arguments)))}e?(t.$.listBox.appendChild(e),t._dropDownSize&&"auto"===t._dropDownSize.height&&t._setDropDownSize()):t.error(t.localize("invalidNode",{elementType:t.nodeName.toLowerCase(),method:"appendChild",node:"node"}))}attached(){const e=this
super.attached(),e.isCompleted&&e.$.dropDownContainer&&(e._positionDetection.dropDownAttached("_setDropDownSize"),e._positionDetection.checkBrowserBounds(),e.selectedIndexes&&e._applySelection())}detached(){const e=this
super.detached(),e.$.dropDownContainer&&(e.close(),e._positionDetection&&e._positionDetection.dropDownDetached())}clearItems(){this.$.listBox&&(this.$.listBox.clearItems(),this.$.actionButton.innerHTML=this.placeholder)}clearSelection(){this.$.listBox&&(this.$.listBox.clearSelection(),this.$.actionButton.innerHTML=this.placeholder)}close(){const e=this
e.$dropDownContainer.hasClass("jqx-visibility-hidden")||e.$.fireEvent("closing").defaultPrevented||(e.$dropDownContainer.addClass("jqx-visibility-hidden"),e.$.fireEvent("close"),e.$.dropDownButton&&e.$.dropDownButton.removeAttribute("selected"),e.opened=!1,e._ariaButton&&e._ariaButton.setAttribute("aria-expanded",!1),e._preventDropDownClose=!1,e._positionDetection.removeOverlay(!0),e.$.listBox.removeAttribute("focus"),e._edgeMacFF&&!e.hasAnimation&&e.$.dropDownContainer&&(e.$.dropDownContainer.style.top=e.$.dropDownContainer.style.left="",e.$dropDownContainer.addClass("not-in-view")))}cloneNode(){if(!this.$.listBox)return
let e=HTMLElement.prototype.cloneNode.apply(this,Array.prototype.slice.call(arguments,0,1))
return e.dataSource=this.dataSource,e}ensureVisible(e){this.$.listBox&&this.$.listBox.ensureVisible(e)}getItem(e){if(this.$.listBox)return this.$.listBox.getItem(e)}get items(){return this.$&&this.$.listBox?this.$.listBox.items:[]}get _focusedItem(){if(this.$&&this.$.listBox)return this.$.listBox._focusedItem}insert(e,t){const i=this
i.$.listBox&&(i.$.listBox.insert(e,t),i._applySelection(),i._dropDownSize&&"auto"===i._dropDownSize.height&&i._setDropDownSize())}insertBefore(e,t){const i=this
if(!i.isCompleted){const e=Array.prototype.slice.call(arguments,2)
return HTMLElement.prototype.insertBefore.apply(i,e.concat(Array.prototype.slice.call(arguments)))}e&&t?i.$.listBox&&(i.$.listBox.insertBefore(e,t),i._dropDownSize&&"auto"===i._dropDownSize.height&&i._setDropDownSize()):i.error(i.localize("invalidNode",{elementType:i.nodeName.toLowerCase(),method:"insertBefore",node:"newNode/referenceNode"}))}open(){const e=this,t=function(){for(let t=0;t<e.items.length;t++)if(!e.items[t].disabled)return e.items[t]}
if(!e.disabled&&e.offsetHeight&&e.$dropDownContainer.hasClass("jqx-visibility-hidden")){if(e.$dropDownContainer.hasClass("not-in-view")&&e.$dropDownContainer.removeClass("not-in-view"),e.$.dropDownContainer.style.transition=null,e.dropDownAppendTo&&e.dropDownAppendTo.length>0){const t=e.getBoundingClientRect()
if(e.$.container.contains(e.$.dropDownContainer)){let t=0
const i=setInterval(function(){const n=e.getBoundingClientRect()
t++,n.top===e._positionTop&&t<10||(e.open(),clearInterval(i),e._positionTop=n.top)},100)
return}t.top!==e._positionTop&&(e._positionTop=t.top)}e.$.fireEvent("opening").defaultPrevented||(e._shadowDOMStylesDelay&&(e._setDropDownSize(),delete e._shadowDOMStylesDelay),e.opened=!0,e._ariaButton&&e._ariaButton.setAttribute("aria-expanded",!0),e.$.listBox.setAttribute("focus",""),e._positionDetection.placeOverlay(),e._positionDetection.checkBrowserBounds("vertically"),e._positionDetection.positionDropDown(),e._positionDetection.checkBrowserBounds("horizontally"),e.$dropDownContainer.removeClass("jqx-visibility-hidden"),e.$.fireEvent("open"),e.$.dropDownButton&&("dropDownButton"===e.dropDownOpenMode?e.$.dropDownButton.setAttribute("selected",""):e.$.dropDownButton.removeAttribute("selected")),(e.$.listBox&&!e._focusedItem||e._focusedItem&&!e._focusedItem._focused)&&(e.selectedIndexes.length>0?e._focus(e.items[e.selectedIndexes[0]]):e._focus(t)),e.$.input&&!JQX.Utilities.Core.isMobile&&e.$.input.focus())}}ready(){super.ready()}render(){const e=this
e.rightToLeft&&(e.dropDownButtonPosition="right"===e.dropDownButtonPosition?"left":"right"),e.classList.add("jqx-drop-down-box"),e.$.dropDownContainer&&(e._positionDetection=new JQX.Utilities.PositionDetection(e,e.$.dropDownContainer,e.$.container,"close"),e._positionDetection.getDropDownParent(!0),e._positionDetection.setDropDownPosition(),e._calculateDropDownSize(),e.$.dropDownContainer.setAttribute("resize-mode",e.resizeMode),e.resizeIndicator&&e.$.dropDownContainer.setAttribute("resize-indicator",""),e._positionDetection.handleAutoPositioning()),e.opened&&e.open(),e._positionTop=e.getBoundingClientRect().top,e._edgeMacFF=JQX.Utilities.Core.Browser.Edge||JQX.Utilities.Core.Browser.Firefox&&-1!==navigator.platform.toLowerCase().indexOf("mac"),e._edgeMacFF&&e.hasAnimation&&e.$.dropDownContainer&&e.$dropDownContainer.addClass("not-in-view"),e.$.label&&!e.$.label.id&&(e.$.label.id=e.id+"Label"),e.$.actionButton&&!e.$.actionButton.id&&(e.$.actionButton.id=e.id+"ActionButton"),e.$.hint&&!e.$.hint.id&&(e.$.hint.id=e.id+"Hint"),e._createElement(),super.render()}removeAt(e){const t=this
t.$.listBox&&(t.$.listBox.removeAt(e),t._applySelection(),t._dropDownSize&&"auto"===t._dropDownSize.height&&t._setDropDownSize())}removeChild(e){const t=this
if(!t.isCompleted||e instanceof HTMLElement&&e.classList.contains("jqx-resize-trigger-container")){const e=Array.prototype.slice.call(arguments,2)
return HTMLElement.prototype.removeChild.apply(t,e.concat(Array.prototype.slice.call(arguments)))}e&&e instanceof JQX.ListItem?(t.$.listBox.removeChild(e),t._dropDownSize&&"auto"===t._dropDownSize.height&&t._setDropDownSize()):t.error(t.localize("invalidNode",{elementType:t.nodeName.toLowerCase(),method:"removeChild",node:"node"}))}get value(){return this.isRendered&&this.$.listBox?this.$.listBox.value:null}set value(e){return this.isRendered&&this.$.listBox?void(this.$.listBox.value=e):null}select(e){this.$.listBox&&this.$.listBox.select(e)}_setFocusable(){const e=this
if(e.disabled||e.unfocusable)return e.removeAttribute("tabindex"),e.$.actionButton.removeAttribute("tabindex"),void e.$.dropDownButton.removeAttribute("tabindex")
let t=e.tabIndex>0?e.tabIndex:0
"dropDownButton"===e.dropDownOpenMode?(e.removeAttribute("tabindex"),e.$.actionButton.setAttribute("tabindex",t),e.$.dropDownButton.setAttribute("tabindex",t)):(e.$.actionButton.removeAttribute("tabindex"),e.$.dropDownButton.removeAttribute("tabindex"),e.tabIndex=t)}static get requires(){return{"JQX.ListBox":"jqxlistbox.js"}}unselect(e){this.$.listBox&&this.$.listBox.unselect(e)}update(e,t){this.$.listBox&&(this.$.listBox.update(e,t),this._applySelection())}_resizeBarMoveHandler(e){"touchmove"===e.originalEvent.type&&e.originalEvent.preventDefault()}_createToken(){const e=this
let t,i=!1
const n=document.createDocumentFragment(),r=e.selectedIndexes[e.selectedIndexes.length-1]
"plain"!==e.selectionDisplayMode||"one"!==e.selectionMode&&"zeroOrOne"!==e.selectionMode&&"radioButton"!==e.selectionMode?"tokens"===e.selectionDisplayMode?1===e.selectedIndexes.length&&["oneOrManyExtended","oneOrMany","one","radioButton"].indexOf(e.selectionMode)>-1?t="":(t="&#10006",i=!0):t=1===e.selectedIndexes.length?"":",":t=""
const o=e.selectedIndexes,a=e.$.listBox._items
for(let s=0;s<o.length;s++){const l=o[s]
a[l]&&n.appendChild(e._applyTokenTemplate(a[l][e.inputMember],"tokens"!==e.selectionDisplayMode&&l===r?"":t,i))}return n}_applySelection(){const e=this
if("placeholder"!==e.selectionDisplayMode&&0!==e.selectedIndexes.length){if(e.$.listBox._items&&0!==e.$.listBox._items.length)if("plain"!==e.selectionDisplayMode)e.$.actionButton.innerHTML="",e.$.actionButton.appendChild(e._createToken())
else{const t=e.$.listBox.selectedIndexes,i=e.$.listBox._items
let n=[]
for(let r=0;r<t.length;r++){const o=t[r]
i[o]&&n.push(i[o][e.inputMember])}e.$.actionButton.innerHTML=n.length?`<span class="jqx-token">${n.join(", ").trim()}</span>`:""}}else e.$.actionButton.innerHTML=e.placeholder}_applyTokenTemplate(e,t,i){const n=this,r=document.createElement("span"),o=function(){return"<span class='jqx-drop-down-list-selection-label' role=\"presentation\">"+e+`</span><span class='jqx-drop-down-list-unselect-button' role="button"${i?' aria-label="Unselect"':""}>${t}</span>`}
if(r.classList.add("jqx-token"),n._tokenTemplate){let e=document.importNode(n._tokenTemplate.content,!0)
const t=e.childNodes.length,i=/{{\w+}}/g
let a
for(let n=0;n<t;n++)(a=i.exec(e.childNodes[n].innerHTML))&&(e.childNodes[n].innerHTML=e.childNodes[n].innerHTML.replace(a[0],o())),e.childNodes[n].outerHTML&&(r.innerHTML+=e.childNodes[n].outerHTML)}else"function"==typeof n.tokenTemplate?n.tokenTemplate(r,{label:e,iconSeparator:t}):r.innerHTML=o()
return r}_bindingCompleteHandler(){const e=this
e.$.listBox&&requestAnimationFrame(()=>{e._setDropDownSize(),e._positionDetection.checkBrowserBounds()})}_buttonsDownHandler(e){const t=this
if(!t.disabled){if(t.hasRippleAnimation)if(t.$.buttonsContainer&&"dropDownButton"!==t.dropDownOpenMode){const i=t.$.buttonsContainer
i.firstElementChild.noRipple=!0,JQX.Utilities.Animation.Ripple.animate(i,e.pageX,e.pageY),i.firstElementChild.noRipple=!1}else JQX.Utilities.Animation.Ripple.animate(e.target,e.pageX,e.pageY)
t._preventsSelectStart=!0,t.tagName.toLowerCase().indexOf("jqx-drop-down-")>-1&&"dropDownButton"===t.dropDownOpenMode&&e.target===t.$.actionButton&&t.$.actionButton.setAttribute("active",""),t.opened&&(t._preventDropDownClose=!0)}}_buttonsMouseEventsHandler(e){const t=this
t.disabled||("mouseenter"===e.type?(t.setAttribute("hover",""),e.target.setAttribute("hover","")):(t.removeAttribute("hover"),e.target.removeAttribute("hover")))}_calculateDropDownSize(){const e=this
e._dropDownSize={}
const t=window.getComputedStyle(e.$.dropDownContainer),i=parseFloat(t.getPropertyValue("border-top-width").trim()),n=parseFloat(t.getPropertyValue("border-bottom-width").trim()),r=parseFloat(t.getPropertyValue("margin-top").trim()),o=parseFloat(t.getPropertyValue("margin-bottom").trim()),a=parseFloat(t.getPropertyValue("padding-top").trim()),s=parseFloat(t.getPropertyValue("padding-bottom").trim())
JQX.Utilities.Core.CSSVariablesSupport()&&(e._dropDownSize.width=t.getPropertyValue("--jqx-drop-down-list-drop-down-width").trim(),e._dropDownSize.height=t.getPropertyValue("--jqx-drop-down-list-drop-down-height").trim()),(!e._dropDownSize.width||e._dropDownSize.width.indexOf("initial")>-1)&&(e._dropDownSize.width=e.offsetWidth),e._dropDownSize.height||(e._dropDownSize.height="auto"),e._dropDownSize.minHeight=parseFloat(t.getPropertyValue("min-height").trim()),e._dropDownSize.maxHeight=parseFloat(t.getPropertyValue("max-height").trim()),e._dropDownSize.borderWidth=(isNaN(i)?0:i)+(isNaN(n)?0:n),e._dropDownSize.paddingWidth=(isNaN(a)?0:a)+(isNaN(s)?0:s),e._dropDownSize.marginWidth=(isNaN(r)?0:r)+(isNaN(o)?0:o)}_createElement(){this._tokenTemplate=this._validateTemplate(this.tokenTemplate),this._applySelection(),this._setDropDownSize(),this._setFocusable(),this.$.arrow.noRipple=!0,this._shadowDOMStylesDelay=this.shadowRoot,this._setAriaRelations(!0)}_documentDownHandler(e){const t=this
if(t.disabled||t.readonly)return
let i=e.originalEvent.target
if(i===t._overlay&&(t._overlayDown=!0),t.shadowRoot){let n=(i=e.originalEvent.composedPath()[0]).getRootNode().host
for(;n;)n.closest(".jqx-drop-down-container")===t.$.dropDownContainer&&(t._isDropDownClicked=!0),n=n.getRootNode().host}else t.isInShadowDOM&&(i=e.originalEvent.composedPath()[0]),t._isDropDownClicked=i.closest(".jqx-drop-down-container")===t.$.dropDownContainer
if(t._buttonClicked=i.closest(".jqx-action-button")||i.closest(".jqx-drop-down-button"),t.$.listBox){let n=i.closest("jqx-list-item")
t.$.listBox.contains(n)||(n=void 0),t.hasRippleAnimation&&n&&JQX.Utilities.Animation.Ripple.animate(n,e.pageX,e.pageY),(n||i===t.$.listBox.$.filterInput||i.closest(".jqx-token"))&&(t._preventDropDownClose=!0)}if(t._isDropDownClicked&&(t._preventDropDownClose=!0),i!==t.$.resizeBar||"none"===t.resizeMode)return
t._resizeDetails||(t._resizeDetails={})
const n=t.$.dropDownContainer.getBoundingClientRect()
t._resizeDetails.started=!0,t._resizeDetails.x=e.pageX,t._resizeDetails.y=e.pageY,t._resizeDetails.width=t.$.dropDownContainer.offsetWidth,t._resizeDetails.height=t.$.dropDownContainer.offsetHeight,t._resizeDetails.offsetXL=e.clientX-n.left,t._resizeDetails.offsetXR=n.left+t.$.dropDownContainer.offsetWidth-e.clientX,t._resizeDetails.offsetY=n.top+t.$.dropDownContainer.offsetHeight-e.clientY,t._resizeDetails.offsetYtop=e.clientY-n.top,t._preventDropDownClose=!0}_documentMoveHandler(e){const t=this,i=t.shadowRoot||t.isInShadowDOM?e.originalEvent.composedPath()[0]:e.originalEvent.target
if("auto"===t.dropDownOpenMode&&null!==t.dropDownAppendTo&&(t.contains(i)||t.$.dropDownContainer.contains(i)?t._isElementHovered=!0:(t._isElementHovered=!1,t._autoClose())),!t._resizeDetails||t._resizeDetails&&!t._resizeDetails.started)return
t.setAttribute("resizing",""),t._resizeDetails.resizeEventFired||(t.$.fireEvent("resizeStart",{position:{left:e.pageX,top:e.pageY}}),t._resizeDetails.resizeEventFired=!0)
const n=document.documentElement,r=t.$.dropDownContainer.getBoundingClientRect(),o=t.getBoundingClientRect(),a=t.$.dropDownContainer.hasAttribute("top")?"top":"bottom"
let s
function l(){if(s=e.pageY-t._resizeDetails.y,"bottom"===a)t._resizeDetails.height=Math.min(n.clientHeight-r.top-6,Math.max(0,t._resizeDetails.height+s)),t._resizeDetails.y=Math.max(r.top+n.scrollTop-t._resizeDetails.offsetY,Math.min(n.clientHeight+n.scrollTop-1.5*t._resizeDetails.offsetY,e.pageY))
else{if(t._resizeDetails.height=Math.min(t._dropDownSize.maxHeight,Math.max(0,Math.min(o.top,t._resizeDetails.height-s))),s=Math.max(0,r.top+(r.height-Math.max(t._dropDownSize.minHeight,t._resizeDetails.height))),t.dropDownAppendTo&&t.dropDownAppendTo.length>0){const e=Math.abs(parseFloat(getComputedStyle(t.$.dropDownContainer).getPropertyValue("margin-bottom")))||0
t.$.dropDownContainer.style.top=t.dropDownAppendTo&&t.dropDownAppendTo.length>0?e+s+"px":""}const i=o.top+n.scrollTop+t._resizeDetails.offsetYtop
t._resizeDetails.y=Math.max(t._resizeDetails.offsetYtop,Math.min(i,Math.max(i-t._dropDownSize.maxHeight,e.pageY)))}t.$.dropDownContainer.style.height=t._resizeDetails.height+"px"}function d(){s=e.pageX-t._resizeDetails.x,t._resizeDetails.width=Math.min(n.clientWidth-r.left-6,Math.max(0,t._resizeDetails.width+s)),t.$.dropDownContainer.style.width=t._resizeDetails.width+"px",t._resizeDetails.x=Math.max(r.left+n.scrollLeft-t._resizeDetails.offsetXR,Math.min(n.clientWidth+n.scrollLeft-1.5*t._resizeDetails.offsetXR,e.pageX))}switch(t.resizeMode){case"vertical":l()
break
case"horizontal":d()
break
case"both":d(),l()}}_documentUpHandler(e){const t=this
if(t.$.actionButton.removeAttribute("active"),t._resizeDetails&&t._resizeDetails.started)return t._resizeDetails.started=t._resizeDetails.resizeEventFired=!1,t.removeAttribute("resizing"),t._preventDropDownClose=!1,t.focus(),void t.$.fireEvent("resizeEnd",{position:{left:e.pageX,top:e.pageY}})
if(t.disabled||t._isDropDownClicked||t.readonly)return void delete t._isDropDownClicked
if(t._overlayDown)return t.close(),void delete t._overlayDown
let i=e.originalEvent.target,n=i.closest?i.closest("jqx-drop-down-list"):void 0
if((t.enableShadowDOM||t.isInShadowDOM)&&(n=(i=e.originalEvent.composedPath()[0]).getRootNode().host),t._preventsSelectStart=!1,void 0===i||i===t.$.resizeBar)return
if("tokens"===t.selectionDisplayMode&&i.classList.contains("jqx-drop-down-list-selection-label")&&n===t){"none"!==t.dropDownOpenMode&&t.open()
let e=t.$.listBox._items.filter(e=>e[t.inputMember].toString()===i.textContent)[0]
return t.$.listBox._scrollView.scrollTop=e.offsetTop,void t._focus(e)}if("tokens"===t.selectionDisplayMode&&i.classList.contains("jqx-drop-down-list-unselect-button")&&n===t){if(1===t.selectedIndexes.length&&["zeroOrMany","zeroOrOne","checkBox"].indexOf(t.selectionMode)<0)return
return void t.unselect(t.$.listBox._items.filter(e=>e[t.inputMember].toString()===i.previousElementSibling.textContent)[0])}const r=i.closest(".jqx-action-button")
let o
if(t._buttonClicked&&("dropDownButton"===t.dropDownOpenMode&&r&&t._buttonClicked===t.$.actionButton?t.$.fireEvent("actionButtonClick"):i.closest(".jqx-drop-down-button")!==t._buttonClicked&&r!==t._buttonClicked||(o=!0,t.$.fireEvent("dropDownButtonClick"))),t._buttonClicked=void 0,r===t.$.actionButton||i.closest(".jqx-drop-down-button")===t.$.dropDownButton)return"dropDownButton"===t.dropDownOpenMode&&r===t.$.actionButton?void t.close():void(t.$dropDownContainer.hasClass("jqx-visibility-hidden")&&"none"!==t.dropDownOpenMode&&o&&"pointercancel"!==e.originalEvent.type?t.open():t.close())
void 0!==(i=t._getUpEventTarget(i))&&("dropDownContainer"!==i&&"item"!==i||"item"===i&&"checkBox"!==t.selectionMode&&t.selectionMode.indexOf("Many")<0)&&t.close()}_dragStartHandler(e){this._resizeDetails&&this._resizeDetails.started&&e.preventDefault()}_dropDownTransitionendHandler(){const e=this
e._edgeMacFF&&!e.opened&&e.hasAnimation&&(e.$.dropDownContainer.style.top=e.$.dropDownContainer.style.left="",e.$dropDownContainer.addClass("not-in-view"))}_focus(e){this.$.listBox._focus(e)}_blurEventHandler(){const e=this
e.$.dropDownButton&&(e.removeAttribute("focus"),e.$.dropDownButton.removeAttribute("focus")),e.$.actionButton&&(e.removeAttribute("focus"),e.$.actionButton.removeAttribute("focus")),e.nodeName&&"jqx-drop-down-list"===e.nodeName.toLowerCase()&&!e._preventDropDownClose&&e.close()}_focusEventHandler(){const e=this
e.$.dropDownButton&&(e.setAttribute("focus",""),e.$.dropDownButton.setAttribute("focus","")),e.$.actionButton&&(e.setAttribute("focus",""),e.$.actionButton.setAttribute("focus","")),e.removeAttribute("drop-down-button-focus"),e.removeAttribute("action-button-focus")}_buttonsFocusHandler(e){const t=this
e.target===t.$.dropDownButton?"focus"===e.type?t.setAttribute("drop-down-button-focus",""):(t.removeAttribute("drop-down-button-focus"),t.nodeName&&"jqx-drop-down-list"===t.nodeName.toLowerCase()&&!t._preventDropDownClose&&t.close()):"focus"===e.type?t.setAttribute("action-button-focus",""):t.removeAttribute("action-button-focus")}_getUpEventTarget(e){const t=this
let i=e
for(i=void 0===i.parentElement?i.getRootNode().host:i.parentElement;i;){if(i===t.$.dropDownContainer){i="dropDownContainer"
break}i=void 0===i.parentElement?i.getRootNode().host:i.parentElement}return i}_keyDownHandler(e){const t=this,i=t.enableShadowDOM&&t.shadowRoot.activeElement||document.activeElement,n=t.enableShadowDOM?e.composedPath()[0]:e.target
if(!(t.$.listBox&&n===t.$.listBox.$.filterInput||i!==t&&i!==t.$.dropDownButton&&i!==t.$.actionButton))switch(e.key){case"Enter":case" ":e.preventDefault(),n!==t.$.actionButton&&(t._keyPressed=!0,t.opened?(t._focusedItem&&t.select(t._focusedItem),("Enter"===e.key&&["none"].indexOf(t.selectionMode)<0||" "===e.key&&["none","one","radioButton"].indexOf(t.selectionMode)>-1)&&t.close()):t.opened||t.readonly||"none"===t.dropDownOpenMode||t.open()),"dropDownButton"===t.dropDownOpenMode&&n.setAttribute("active","")
break
case"End":case"Home":case"PageUp":case"PageDown":case"ArrowUp":case"ArrowDown":if(t.readonly)return
if(e.altKey)return t._keyPressed=!1,void(t.$dropDownContainer.hasClass("jqx-visibility-hidden")?t.open():t.close())
e.preventDefault(),t.$.listBox._handleKeyStrokes(e.key)
break
case"Escape":e.preventDefault(),t.close()
break
default:if(t.readonly)return
"oneOrManyExtended"===t.selectionMode&&(t.$.listBox._keysPressed[e.key]=!0),t.$.listBox._applyIncrementalSearch(e.key)}}_keyUpHandler(e){const t=this,i=t.enableShadowDOM?e.composedPath()[0]:e.target
t.$.listBox&&i===t.$.listBox.$.filterInput||("Enter"!==e.key&&" "!==e.key||(i.removeAttribute("active"),t.$dropDownContainer.hasClass("jqx-visibility-hidden")||(t._keyPressed=!1)),t.$.listBox&&"oneOrManyExtended"===t.selectionMode&&(t.$.listBox._keysPressed[e.key]=!1))}_listBoxChangeHandler(e){const t=this
if(e.target===t.$.listBox){if((t.dropDownAppendTo&&t.dropDownAppendTo.length>0||t.enableShadowDOM)&&t.$.fireEvent("change",e.detail),"list"===t.autoComplete&&e.detail){const i=t.$.listBox._items[e.detail.index]
t._lastSelectedItem=i&&i.selected?i:void 0}t._applySelection(t.selectionMode,e.detail)}else e.stopPropagation()}_listBoxItemClickHandler(e){const t=this;(t.dropDownAppendTo&&t.dropDownAppendTo.length>0||t.enableShadowDOM)&&t.$.fireEvent(e.type,e.detail),"checkBox"!==t.selectionMode&&t.selectionMode.indexOf("Many")<0&&t.close(),JQX.Utilities.Core.isMobile||t.focus(),delete t._isDropDownClicked}_listBoxKeyDownHandler(e){const t=this
if("Enter"===e.key)return t.close(),"dropDownButton"===t.dropDownOpenMode?t.$.dropDownButton.focus():t.focus(),void e.stopPropagation()
"Escape"!==e.key||t.close()}_mouseEnterHandler(){const e=this
e._isElementHovered=!0,e.tagName.toLowerCase().indexOf("jqx-drop-down-")>-1&&"auto"===e.dropDownOpenMode&&!e.disabled&&!e.readonly&&e.open()}_mouseLeaveHandler(){const e=this
e.removeAttribute("hover"),e._isElementHovered=!1,"auto"!==e.dropDownOpenMode||e.disabled||e.readonly||e._autoClose()}_mouseWheelHandler(e){const t=this
t.disabled||t.readonly||t.items&&0===t.items.length||t.$dropDownContainer&&!t.$dropDownContainer.hasClass("jqx-visibility-hidden")||t.$.listBox&&(e.preventDefault(),t.$.listBox._handleKeyStrokes(e.deltaY>0?"ArrowDown":"ArrowUp"))}_autoClose(){const e=this
e._autoCloseTimeout=setTimeout(function(){e._isElementHovered||e.close(),clearTimeout(e._autoCloseTimeout)}.bind(e),e.autoCloseDelay)}_propertyValidator(e,t){return"number"!=typeof t&&"string"!=typeof t?e:t}_resizeHandler(){const e=this
"none"===e.resizeMode&&(e._calculateDropDownSize(),e._setDropDownSize())}_selectStartHandler(e){this._preventsSelectStart&&e.preventDefault()}_setAriaRelations(e){const t=this
let i,n
"dropDownButton"!==t.dropDownOpenMode?((i=t.$.dropDownButton).setAttribute("aria-hidden",!0),n=t,t.$.actionButton.removeAttribute("role")):(i=t,(n=t.$.dropDownButton).removeAttribute("aria-hidden"),t.$.actionButton.setAttribute("role","button")),t._ariaButton=n,n.setAttribute("role","button"),n.setAttribute("aria-haspopup","listbox"),n.setAttribute("aria-owns",t.$.listBox.id),n.setAttribute("aria-describedby",t.$.hint.id),t.label?n.setAttribute("aria-labelledby",t.$.label.id):"DropDownList"===t.elementName&&n.setAttribute("aria-labelledby",t.$.actionButton.id),i.setAttribute("role","presentation"),i.removeAttribute("aria-owns"),e?n.setAttribute("aria-expanded",t.opened):(i.removeAttribute("aria-describedby"),i.removeAttribute("aria-expanded"),i.removeAttribute("aria-haspopup"),i.removeAttribute("aria-labelledby"))}_setDropDownSize(){const e=this
let t
if(e._dropDownSize||e._calculateDropDownSize(),["dropDownMinWidth","dropDownMaxWidth"].forEach(t=>{e.$.dropDownContainer.style[t.replace("dropDown","").replace(/^./,"m")]="initial"===e[t]?e.offsetWidth+"px":e[t]?parseFloat(e[t])+(e[t].toString().endsWith("%")?"%":"px"):null}),["dropDownMinHeight","dropDownMaxHeight"].forEach(t=>{e.$.dropDownContainer.style[t.replace("dropDown","").replace(/^./,"m")]=e[t]?parseFloat(e[t])+(e[t].toString().endsWith("%")?"%":"px"):null}),e.dropDownWidth?"auto"!==e.dropDownWidth?e.$.dropDownContainer.style.width=("initial"===e.dropDownWidth?e.offsetWidth:parseFloat(e.dropDownWidth))+"px":e.$.dropDownContainer.style.width="auto":e.$.dropDownContainer.style.width="auto"===e._dropDownSize.width?"auto":(parseFloat(e._dropDownSize.width)||0)+"px",e.dropDownHeight&&"auto"!==e.dropDownHeight)e.$.dropDownContainer.style.height=parseFloat(e.dropDownHeight)+((e.dropDownHeight+"").indexOf("%")>-1?"%":"px")
else if(!e.$.listBox||"auto"!==e._dropDownSize.height&&"auto"!==e.dropDownHeight)e.$.dropDownContainer.style.height=e._dropDownSize.height
else{e.$.dropDownContainer.style.height=""
let i=2*parseInt(window.getComputedStyle(e.$.listBox.$.itemsContainer).getPropertyValue("--jqx-list-item-vertical-offset"))
if(isNaN(i)&&(i=6),t=i,e.$.listBox.items.length>0?e.$.listBox.items.map(e=>t+=e.height||e.offsetHeight):t=e.$.listBox.$.placeholder.offsetHeight,e.filterable){const i=e.$.listBox.$.filterInputContainer
t+=i.offsetHeight+i.offsetTop}t=t+e._dropDownSize.paddingWidth+e._dropDownSize.borderWidth,e.$.dropDownContainer.style.height=t+"px"}if(e.$.listBox){if(e.$.listBox._refreshLayout(),void 0===t||!e.$.listBox.$)return
const i=Math.max(0,e._dropDownSize.minHeight-(t-e.$.listBox.$.horizontalScrollBar.offsetHeight))
i&&(e.$.dropDownContainer.style.height=t+i+"px")}}_styleChangedHandler(e){const t=this
if(t.dropDownAppendTo&&t.dropDownAppendTo.length>0){const i=e.detail.styleProperties,n=["font-size","font-family","font-style","font-weight"]
for(let e=0;e<n.length;e++)i[n[e]]&&(t.$.dropDownContainer.style[n[e]]=i[n[e]].value)}"auto"===t._dropDownSize.height&&t._setDropDownSize()}_validateTemplate(e){const t=this
if(e&&"function"!=typeof e)if("content"in document.createElement("template")){if(e instanceof HTMLTemplateElement||(e=document.getElementById(e)),null!==e&&"content"in e)return e
t.error(t.localize("invalidTemplate",{elementType:t.nodeName.toLowerCase(),property:"tokenTemplate"}))}else t.error(t.localize("htmlTemplateNotSuported",{elementType:t.nodeName.toLowerCase()}))}})
var te=Object.freeze({})
JQX("jqx-combo-box",class extends JQX.DropDownList{static get properties(){return{autoComplete:{allowedValues:["none","manual","auto","inline","list"],type:"string",value:"none"},autoCompleteDelay:{value:100,type:"number"},autoOpenShortcutKey:{value:[],type:"array"},dropDownOpenMode:{allowedValues:["none","default","dropDownButton","auto"],value:"dropDownButton",defaultReflectToAttribute:!0,type:"string"},escKeyMode:{allowedValues:["clearValue","firstPossibleValue","none","previousValue"],type:"string",value:"none"},inputPurpose:{type:"string",value:"off"},minLength:{type:"number",value:2},value:{value:"",type:"string"}}}static get listeners(){return{"input.focus":"_inputFocusHandler","input.blur":"_inputFocusHandler","dropDownButton.focus":"_dropDownButtonFocusHandler","dropDownButton.blur":"_dropDownButtonFocusHandler","input.change":"_inputChangeEventHandler","input.mouseenter":"_buttonsMouseEventsHandler","input.mouseleave":"_buttonsMouseEventsHandler","document.down":"_documentDownHandler","document.up":"_documentUpHandler","document.selectstart":"_selectStartHandler","dropDownButton.down":"_buttonsDownHandler","dropDownButton.mouseenter":"_buttonsMouseEventsHandler","dropDownButton.mouseleave":"_buttonsMouseEventsHandler",keydown:"_keyDownHandler",keyup:"_keyUpHandler","listBox.change":"_listBoxChangeHandler","listBox.itemClick":"_listBoxItemClickHandler","listBox.keydown":"_listBoxKeyDownHandler",wheel:"_mouseWheelHandler"}}static get styleUrls(){return["jqx.combobox.css"]}template(){return'<div id="container" role="presentation">\n                    <span class="jqx-label" id="label">[[label]]</span>\n                    <div id="content" class="jqx-content" role="presentation">\n                        <div class="jqx-buttons-container" id="buttonsContainer" role="presentation">\n                            <span id="actionButton" class="jqx-action-button" role="presentation">\n                                <input class="jqx-input" id="input" placeholder="[[placeholder]]" autocomplete="[[inputPurpose]]" role="textbox" aria-label="[[placeholder]]" />\n                                <div class="jqx-combo-box-auto-complete-string" id="autoCompleteString"></div>\n                            </span>\n                            <span id="dropDownButton" class="jqx-drop-down-button" role="button" aria-label="Toggle popup">\n                                <span class="jqx-drop-down-button-icon" id="arrow" aria-hidden="true"></span>\n                            </span>\n                        </div>\n                        <div id="dropDownContainer" class="jqx-drop-down jqx-drop-down-container jqx-visibility-hidden" role="presentation">\n                            <jqx-list-box id="listBox" unfocusable\n                                    animation="[[animation]]"\n                                    data-source="[[dataSource]]"\n                                    disabled="[[disabled]]"\n                                    display-loading-indicator="[[displayLoadingIndicator]]"\n                                    display-member="[[displayMember]]"\n                                    filterable="[[filterable]]"\n                                    filter-callback="[[filterCallback]]"\n                                    filter-mode="[[filterMode]]"\n                                    filter-input-placeholder="[[filterInputPlaceholder]]"\n                                    grouped="[[grouped]]"\n                                    group-member="[[groupMember]]"\n                                    item-height="[[itemHeight]]"\n                                    item-measure-mode="[[itemMeasureMode]]"\n                                    item-template="[[itemTemplate]]"\n                                    incremental-search-delay="[[incrementalSearchDelay]]"\n                                    incremental-search-mode="[[incrementalSearchMode]]"\n                                    loading-indicator-placeholder="[[loadingIndicatorPlaceholder]]"\n                                    loading-indicator-position="[[loadingIndicatorPosition]]"\n                                    name="[[name]]"\n                                    placeholder="[[dropDownPlaceholder]]"\n                                    readonly="[[readonly]]"\n                                    right-to-left="[[rightToLeft]]"\n                                    selected-indexes="{{selectedIndexes}}"\n                                    selection-mode="[[selectionMode]]"\n                                    selected-values="{{selectedValues}}"\n                                    sorted="[[sorted]]"\n                                    theme="[[theme]]"\n                                    value-member="[[valueMember]]"\n                                    horizontal-scroll-bar-visibility="[[horizontalScrollBarVisibility]]"\n                                    vertical-scroll-bar-visibility="[[verticalScrollBarVisibility]]"\n                                    virtualized="[[virtualized]]">\n                                <content></content>\n                            </jqx-list-box>\n                            <div id="resizeBar" class="jqx-drop-down-resize-bar" aria-label="Resize">\n                                <div></div>\n                            </div>\n                         </div>\n                    </div>\n                    <span class="jqx-hint" id="hint">[[hint]]</span>\n                </div>'}propertyChangedHandler(e,t,i){const n=this
switch(e){case"autoComplete":if("list"===i){n.$.listBox.$.filterInput.value=""
let e=n.$.listBox.context
n.$.listBox.context=n.$.listBox,n.$.listBox._filterItems(!0),n.$.listBox.context=e,n._setDropDownSize()}n._autoComplete(!0),n._setAriaAutocomplete()
break
case"dataSource":case"displayMember":n._clearSelection(!0),n._setDropDownSize(),n._positionDetection.checkBrowserBounds("vertically"),n._positionDetection.positionDropDown(),n._positionDetection.checkBrowserBounds("horizontally")
break
case"disabled":n.$.input.disabled=i,n._setFocusable(),n.close(),n._positionDetection&&n._positionDetection.handleAutoPositioning(),n._ariaPropertyChangedHandler("disabled",i)
break
case"readonly":n.$.input.readOnly=i,n.close(),n._ariaPropertyChangedHandler("readonly",i)
break
case"selectedValues":case"selectedIndexes":n._clearSelection(!0)
break
case"selectionMode":case"selectionDisplayMode":n._clearSelection(),n._applySelectionDisplayMode(),"tokens"===n.selectionDisplayMode&&(n._currentSelection=void 0),n._applySelection(n.selectionMode),"selectionMode"===e&&super.propertyChangedHandler(e,t,i)
break
case"tokenTemplate":if(n.$.selectionField)for(;"SPAN"===n.$.selectionField.firstElementChild.nodeName;)n.$.selectionField.removeChild(n.$.selectionField.firstElementChild)
n._tokenTemplate=n._validateTemplate(n.tokenTemplate),n._applySelection()
break
case"value":n.clearSelection(),n.value=n.$.input.value=n._oldValue=i,n._queryItems(!0),n._currentSelection&&!n._currentSelection.length&&n.$.fireEvent("change",{oldValue:t,value:n.$.input.value,addedItems:[],removedItems:[],selected:[],disabled:[],index:[],label:[]})
break
default:super.propertyChangedHandler(e,t,i)}}clearItems(){this.$.listBox.clearItems(),this._clearSelection(!0)}clearSelection(){this.$.listBox.clearSelection(),this._clearSelection(!arguments[0])}blur(){this.$.input.blur()}close(){super.close(),this.$.input.removeAttribute("aria-controls")}focus(){this.$.input.focus()}open(){super.open(),this.$.input.setAttribute("aria-controls",this.$.listBox.id)}_setFocusable(){const e=this
if(!e.disabled&&!e.unfocusable){let t=e.tabIndex>0?e.tabIndex:0
return e.$.input.tabIndex=t,void("dropDownButton"===e.dropDownOpenMode?e.$.dropDownButton.setAttribute("tabindex",t):e.$.dropDownButton.removeAttribute("tabindex"))}e.$.input.tabIndex=-1,e.$.dropDownButton.removeAttribute("tabindex")}_autoComplete(e){const t=this
if("list"===t.autoComplete)return
if(0===t.$.listBox._items.length&&"function"!=typeof t.dataSource)return void t.close()
const i=t.$.input.value.length<t.minLength?"":"escaped"===t.displayMode?t._toDefaultDisplayMode(t.$.input.value):t.$.input.value
let n
1===t.$.listBox.selectedValues.length&&(n=t.$.listBox.getItem(t.$.listBox.selectedValues[0])),t.$.autoCompleteString.textContent="",t.$.listBox.$.filterInput.value="none"===t.autoComplete||t.$.input.value.length<t.minLength?"":i
let r=t.$.listBox.context
t.$.listBox.context=t.$.listBox,t.$.listBox._filterItems(!!e,function(){if(!t.$.listBox.isAttached||!t.$.input)return
const e=t.enableShadowDOM?t.shadowRoot.activeElement:document.activeElement
if(t._setDropDownSize(),t.opened&&(t._positionDetection.positionDropDown(),t._positionDetection.checkBrowserBounds()),t.$.listBox._filteredItems&&t.$.listBox._filteredItems.length>0){if(t.$.listBox._scrollView.scrollTop=t.$.listBox._filteredItems[0].offsetTop,"none"!==t.autoComplete&&t.$.input.value.length>=t.minLength&&!function(e){for(let t=0;t<e.length;t++)if(e[t]._focused&&e[t].hasAttribute("focus"))return!0}(t.$.listBox._filteredItems)&&t._focus(t.$.listBox._filteredItems[0]),e===t.$.input&&"inline"===t.autoComplete&&t.$.input.value.length>=t.minLength&&t._updateAutoCompleteHelper(),n&&n[t.inputMember]===t.$.listBox._filteredItems[0][t.inputMember]&&n.value===t.$.listBox._filteredItems[0].value&&(t.$.listBox.context=t.$.listBox,t.$.listBox._select(t.$.listBox._filteredItems[0],!0),t.$.listBox.context=r),i!==t.$.listBox._filteredItems[0][t.inputMember]||JQX.TextBox&&t instanceof JQX.TextBox&&"auto"===t.dropDownOpenMode){if(t._closedFromKeyCombination)return void(t._closedFromKeyCombination=!1)
if(i.length<t.minLength&&!(JQX.TextBox&&t instanceof JQX.TextBox&&"auto"===t.dropDownOpenMode))return void t.close()
t.isCompleted&&"none"!==t.dropDownOpenMode&&e===t.$.input&&t.open()}}else t["function"==typeof t.dataSource?"open":"close"]()},JQX.TextBox&&t instanceof JQX.TextBox&&"auto"===t.dropDownOpenMode),t.$.listBox.context=r}_updateAutoCompleteHelper(){const e=this,t=e.$.autoCompleteString
if(t.style.width=e.$.input.offsetWidth+"px",t.style.height=e.$.input.offsetHeight+"px",t.style.left=e.$.input.offsetLeft+"px",t.style.top=e.$.input.offsetTop+"px",t.style.paddingLeft=e.selectedIndexes.length>0?0:null,!e._focusedItem)return void(t.textContent="")
const i=e.$.input.value,n=e._focusedItem[e.inputMember]
n.length!==i.length&&0===n.toLowerCase().indexOf(i.toLowerCase())&&(t.textContent=e.$.input.value+n.slice(i.length))}_applySelection(e,t){const i=this
if(i.$.selectionField||(i.$.selectionField=i.$.actionButton),i.$.autoCompleteString.textContent="",0!==i.selectedIndexes.length){if(i.$.listBox._items&&0!==i.$.listBox._items.length)if("one"===i.selectionMode||"zeroOrOne"===i.selectionMode||"radioButton"===i.selectionMode){if(i._currentSelection&&i._currentSelection.length>i.selectedIndexes.length)return i._currentSelection=i.selectedIndexes.map(e=>i.$.listBox._items[e][i.inputMember]),i.$.input.value=i._currentSelection.toString(),void(i._oldValue=i.value=i._currentSelection.toString())
i._clearSelection(),i._currentSelection=i.selectedIndexes.map(e=>i.$.listBox._items[e][i.inputMember]),i.$.input.value=i._currentSelection.toString(),i._oldValue=i.value=i._currentSelection.toString(),i.$.container.setAttribute("has-value",""),"none"!==i.autoComplete&&"function"!=typeof i.dataSource&&(i._autoComplete(!0),i._keyboardNavigation||i.close())}else{for(i.$.input.value="",i.$.input.placeholder="",i.$.container.setAttribute("has-value","");"SPAN"===i.$.selectionField.firstElementChild.nodeName;)i.$.selectionField.removeChild(i.$.selectionField.firstElementChild)
let e,t,n=document.createDocumentFragment()
t=1!==i.selectedIndexes.length||"oneOrManyExtended"!==i.selectionMode&&"oneOrMany"!==i.selectionMode?"tokens"===i.selectionDisplayMode?"&#10006":",":"",i.selectedIndexes.map(r=>{(e=i._applyTokenTemplate(i.$.listBox._items[r][i.inputMember],t))._value=i.$.listBox._items[r].value,n.appendChild(e)}),i.$.selectionField.insertBefore(n,i.$.input),i._currentSelection=i.selectedIndexes.map(e=>i.$.listBox._items[e][i.inputMember]),i._oldValue=i.value=i._currentSelection.toString(),i._positionDetection.positionDropDown()}}else i._clearSelection(t&&t.index>-1&&i.$.input.value===i.$.listBox._items[t.index][i.inputMember])}_applySelectionDisplayMode(){const e=this
"one"===e.selectionMode||"zeroOrOne"===e.selectionMode||"radioButton"===e.selectionMode?e.$.removeClass("auto-height"):e.$.addClass("auto-height")}_bindingCompleteHandler(){this._queryItems(),this._setDropDownSize()}_buttonsMouseEventsHandler(e){const t=this
t.disabled||t.readonly||("mouseenter"===e.type?(e.target.setAttribute("hover",""),t.setAttribute("hover",""),"auto"!==t.dropDownOpenMode||JQX.TextBox&&t instanceof JQX.TextBox||(e.target===t.$.dropDownButton?(t.open(),t.$.input.focus()):t.close())):(e.target.removeAttribute("hover"),t.removeAttribute("hover")))}_createElement(){const e=this
e.classList.add("jqx-drop-down-box"),e._tokenTemplate=e._validateTemplate(e.tokenTemplate),e._applySelectionDisplayMode(),e._applySelection(e.selectionMode),"none"!==e.autoComplete&&e._autoComplete(!0),e._setDropDownSize(),e.$.input.disabled=e.disabled,e.$.input.readOnly=e.readonly,e._setFocusable(),e.$.input.value.length>0&&0===e.selectedIndexes.length&&(e.$.container.setAttribute("has-value",""),e._oldValue=e.value=e.$.input.value),e.$.arrow.noRipple=!0,e.checkLicense(),e._setAriaRelations(!0)}_clearSelection(e){const t=this
if(e&&(t.$.input.value="",t.value=""),t.$.input.placeholder=t.placeholder,t.$.autoCompleteString.textContent="",t._currentSelection=[],t.$.selectionField)for(;"SPAN"===t.$.selectionField.firstElementChild.nodeName;)t.$.selectionField.removeChild(t.$.selectionField.firstElementChild)
"none"!==t.autoComplete&&"list"!==t.autoComplete&&t.$.input.value.length>0&&(t._autoCompleteTimer&&clearTimeout(t._autoCompleteTimer),"function"!=typeof t.dataSource&&(t._autoCompleteTimer=setTimeout(function(){t._autoComplete(!0)},t.autoCompleteDelay))),t.$.input.value.length||t.$.container.removeAttribute("has-value")}_documentDownHandler(e){const t=this
super._documentDownHandler(e)
let i=e.originalEvent.target;(t.shadowRoot||t.isInShadowDOM)&&(i=e.originalEvent.composedPath()[0]),i!==t.$.dropDownButton||"none"===t.dropDownOpenMode||JQX.Utilities.Core.isMobile||requestAnimationFrame(()=>t.$.input.focus())}_documentUpHandler(e){const t=this
let i=e.originalEvent.target,n=i.closest?i.closest("jqx-combo-box"):void 0;(t.shadowRoot||t.isInShadowDOM)&&(n=(i=e.originalEvent.composedPath()[0]).getRootNode().host)
const r=i
if(t._resizeDetails&&t._resizeDetails.started)return t._resizeDetails.started=t._resizeDetails.resizeEventFired=!1,t.removeAttribute("resizing"),t._dropDownResized=!0,void t.$.fireEvent("resizeEnd",{position:{left:e.pageX,top:e.pageY}})
if(t.disabled||t._isDropDownClicked||t.readonly)delete t._isDropDownClicked
else{if(t._overlayDown)return t.close(),void delete t._overlayDown
if(i!==t.$.input&&void 0!==i&&i!==t.$.resizeBar)if(i!==t.$.selectionField){if(i===t.$.dropDownButton&&"none"!==t.dropDownOpenMode)return t._preventDropDownClose=!0,i===t._buttonClicked&&t.$dropDownContainer.hasClass("jqx-visibility-hidden")&&"pointercancel"!==e.originalEvent.type?t.open():t.close(),JQX.Utilities.Core.isMobile||requestAnimationFrame(()=>t.$.input.focus()),void(t._buttonClicked=void 0)
if(i.classList.contains("jqx-drop-down-list-selection-label")&&n===t&&"none"!==t.dropDownOpenMode){const e=t.$.listBox._items.filter(e=>e[t.inputMember].toString()===i.textContent)[0]
if(!e||t.$.fireEvent("tokenClick",{index:t.$.listBox._items.indexOf(e),label:e.label,value:e.value}).defaultPrevented)return
return t.open(),t.$.input.focus(),t.$.listBox.ensureVisible(e),void t._focus(e)}if("tokens"===t.selectionDisplayMode&&i.classList.contains("jqx-drop-down-list-unselect-button")&&n===t){if(1===t.selectedIndexes.length&&["zeroOrMany","zeroOrOne","checkBox"].indexOf(t.selectionMode)<0)return
return t.unselect(t.$.listBox._items.filter(e=>e[t.inputMember].toString()===i.previousElementSibling.textContent)[0]),void t.$.input.focus()}void 0!==(i=t._getUpEventTarget(i))?((!t.$dropDownContainer.hasClass("jqx-visibility-hidden")&&"dropDownContainer"!==i&&"item"!==i||"item"===i&&t.selectionMode.indexOf("Many")<0&&"checkBox"!==t.selectionMode)&&t.close(),("item"===i||"dropDownContainer"===i&&r!==t.$.listBox.$.filterInput)&&t.$.input.focus()):t.$.input.focus()}else t.$.input.focus()}}_dropDownButtonFocusHandler(e){const t=this
"focus"===e.type?("dropDownButton"!==t.dropDownOpenMode&&t.$.input.focus(),t.setAttribute("focus","")):t.removeAttribute("focus")}_inputFocusHandler(e){const t=this
if(!t.disabled)if("focus"===e.type)t.setAttribute("focus",""),t._buttonClicked||(t._oldValue=t.$.input.value),t.$.fireEvent("focus")
else{if(t.removeAttribute("focus"),t.$.fireEvent("blur"),""!==e.target.value||0!==t.selectedIndexes.length&&""===e.target.value?t.$.container.setAttribute("has-value",""):t.$.container.removeAttribute("has-value"),t._preventDropDownClose||(t.opened&&("auto"===t.autoComplete||"inline"===t.autoComplete)&&t.$.input.value.length>0&&t._focusedItem&&!t._focusedItem.selected&&t.select(t._focusedItem),t.close()),!t._handleAutoCompleteModeList())return
"previousValue"===t.escKeyMode&&(t.value=t.$.input.value)}}_handleAutoCompleteModeList(){const e=this
if("list"===e.autoComplete&&!e._buttonClicked){if(e.opened&&e._isDropDownClicked)return!1
if(e.$.autoCompleteString.textContent="",e._lastSelectedItem)e._lastSelectedItem.selected||e.select(e._lastSelectedItem)
else if(e.$.input.value.length&&e._oldValue){const t=e.$.listBox._queryItems(e._oldValue,e.incrementalSearchMode)
for(let i=0;i<t.length;i++)if(!t[i].hidden){t[i].selected||e.select(t[i]),e._focus(t[i])
break}e.value=e.$.input.value=e._oldValue}else e.value=e.$.input.value=""}}_inputChangeEventHandler(e){const t=this
e.stopPropagation(),t._preventInputChangeEvent?delete t._preventInputChangeEvent:t._isDropDownClicked||t._oldValue===t.$.input.value||t.$.fireEvent("change",{oldValue:t._oldValue,value:t.$.input.value,addedItems:[],removedItems:[],selected:[],disabled:[],index:[],label:[]})}_keyDownHandler(e){const t=this,i=t.enableShadowDOM?e.composedPath()[0]:e.target
if(t.disabled||t.readonly||i===t.$.listBox.$.filterInput)return
const n="function"==typeof t._focusedItem?t._focusedItem():t._focusedItem
switch(e.key){case"Enter":if(delete t._preventInputChangeEvent,i===t.$.input&&n&&t.opened){if(n.selected&&"list"===t.autoComplete)return t.close(),t._unfocus(),void t._handleAutoCompleteModeList()
n.disabled||(t.select(n),t._preventInputChangeEvent=!0),!t.$dropDownContainer.hasClass("jqx-visibility-hidden")&&t.selectionMode.indexOf("one")>-1&&(t.close(),t._unfocus())}else i===t.$.dropDownButton?(t.$.dropDownButton.setAttribute("active",""),t.$dropDownContainer.hasClass("jqx-visibility-hidden")&&"none"!==t.dropDownOpenMode?t.open():t.close(),t.$.input.focus()):t.close()
return void t._handleAutoCompleteModeList()
case"Escape":switch(t.escKeyMode){case"none":t.$dropDownContainer.hasClass("jqx-visibility-hidden")||(t.close(),t._unfocus())
break
case"clearValue":t.value=t.$.input.value="",t.close()
break
case"previousValue":t.$.input.value=t._oldValue
break
case"firstPossibleValue":{const e=t.$.listBox._items.find(e=>!e.disabled&&!e.hidden&&!e.readonly)
if(e){const i=e[t.inputMember]
t.$.input.value===i&&t.close(),t.$.input.value=i}t.close()
break}}break
case"End":case"Home":case"PageUp":case"PageDown":case"ArrowUp":case"ArrowDown":if(!0===t._autoOpenOnKeyDown(e))return
if(e.altKey){if(t._closedFromKeyCombination=!0,t.$dropDownContainer.hasClass("jqx-visibility-hidden")&&"none"!==t.dropDownOpenMode){if("ArrowDown"===e.key&&t.open(),!t.opened)return
if(0===t.items.length)return
0===t.selectedIndexes.length?t._focus(t.items[0]):t.selectedIndexes.length>0&&!t.$.listBox._items[t.selectedIndexes[t.selectedIndexes.length-1]].hidden&&t._focus(t.items[t.selectedIndexes[t.selectedIndexes.length-1]])}else t.close()
return}if(i===t.$.input&&t.$dropDownContainer.hasClass("jqx-visibility-hidden"))return void(e.ctrlKey&&(e.preventDefault(),t._handleKeyStroke(e.key)))
if(("PageUp"===e.key||"PageDown"===e.key)&&!n||i===t.$.listBox.$.filterInput)return
if(e.preventDefault(),!n||n&&!n._focused)return void t._focus(t.items[0])
t._handleKeyStroke(e.key),"inline"!==t.autoComplete&&"list"!==t.autoComplete||t._updateAutoCompleteHelper()
break
case"Backspace":if(t.$.input.previousElementSibling){if(0===t.$.input.value.length){if(1===t.selectedIndexes.length&&["zeroOrMany","zeroOrOne","checkBox"].indexOf(t.selectionMode)<0)return
const e=t.$.listBox.getItem(t.$.input.previousElementSibling._value)
e?t.unselect(e):t.$.selectionField.firstElementChild&&"SPAN"===t.$.selectionField.firstElementChild.nodeName&&t.$.selectionField.removeChild(t.$.selectionField.firstElementChild)}return}t.selectedIndexes.length>1&&t.clearSelection(!0)
break
default:if(i===t.$.input&&"oneOrManyExtended"===t.selectionMode&&(t.$.listBox._keysPressed[e.key]=!0),!0===t._autoOpenOnKeyDown(e))return}}_handleKeyStroke(e){const t=this,i=t.$.listBox
if("none"===t.autoComplete)return void i._handleKeyStrokes(e)
const n=t.items
switch(e){case"ArrowLeft":case"ArrowUp":t._handleArrowKeys(!0)
break
case"ArrowRight":case"ArrowDown":t._handleArrowKeys(!1)
break
case"Home":case"End":{if(0===n.length)return
const r="Home"===e
t._focus(r?n[0]:n[n.length-1]),i.scrollTop=r?0:i.scrollHeight
break}case"PageUp":t._pageUpKeyHandler(n)
break
case"PageDown":t._pageDownKeyHandler(n)}i._recycle()}_handleArrowKeys(e){const t=this,i=t.$.listBox
let n
if(t._focusedItem)n=t.$.listBox._indexOf(t._focusedItem),t._focusedItem._focused=!1
else{if(0===t.selectedIndexes.length)return
n=t.selectedIndexes[t.selectedIndexes.length-1]}const r=e?i._getPreviousItem(n):i._getNextItem(n)
t._focus(r),"list"===t.autoComplete&&i._items[n]!==r&&(t._keyboardNavigation=!0,i.clearSelection(),i.select(r),delete t._keyboardNavigation),t.ensureVisible(r)}_pageDownKeyHandler(e){const t=this.$.listBox
let i,n=t._items[this.selectedIndexes[this.selectedIndexes.length-1]]
t._focusedItem&&(n=t._focusedItem)
const r=t._indexOf(n)
let o=n.top+t.$.itemsContainer.offsetHeight-n.height
for(let t=r;t<e.length;t++)if(e[t].top>=o){i=e[t]
break}i||(i=e[e.length-1]),this._focus(i),(i.height+i.top>t.$.itemsContainer.scrollTop+t.$.itemsContainer.offsetHeight||i.top<t.$.itemsContainer.scrollTop)&&(t.scrollTop=i.top-t.$.itemsContainer.offsetHeight+i.height)}_pageUpKeyHandler(e){const t=this.$.listBox
let i=t._items[this.selectedIndexes[this.selectedIndexes.length-1]]
t._focusedItem&&(i=t._focusedItem)
const n=i.top-t.$.itemsContainer.offsetHeight
let r
for(let o=t._indexOf(i);o>0;o--)if(e[o].top<=n){r=e[o]
break}r||(r=e[0]),t._focus(r),t.scrollTop=r.top,0===t._indexOf(r)&&(t.scrollTop=0)}_autoOpenOnKeyDown(e){const t=this
if(t.opened||!t.opened&&t.autoOpenShortcutKey.indexOf(e.key)<0)return
t.selectedIndexes.length&&t._focus(t.items[t.selectedIndexes[t.selectedIndexes.length-1]])
const i="function"==typeof t._focusedItem?t._focusedItem():t._focusedItem
return t.open(),(!i||i&&!i._focused)&&("ArrowDown"===e.key?t._focus(t.items[0]):"ArrowUp"===e.key&&t._focus(t.items[t.items.length-1]),t.ensureVisible(t._focusedItem)),!0}_keyUpHandler(e){const t=this,i=t.enableShadowDOM?e.composedPath()[0]:e.target
if(!(t.disabled||"none"===t.escKeyMode&&"Escape"===e.key||i===t.$.listBox.$.filterInput))if(delete t._preventInputChangeEvent,i===t.$.input&&"oneOrManyExtended"===t.selectionMode&&(t.$.listBox._keysPressed[e.key]=!1),["one","radioButton","zeroOrOne"].indexOf(t.selectionMode)>-1&&1===t.selectedIndexes.length&&t.$.input.value!==(t._currentSelection?t._currentSelection[0]:void 0)&&(t._preventInputChangeEvent=!0,t.unselect(t.$.listBox._items[t.selectedIndexes[0]])),"Enter"!==e.key){if(i===t.$.input&&e.key.indexOf("Arrow")<0&&["Control","Shift"].indexOf(e.key)<0){if(t.value===t.$.input.value)return
if(t._currentSelection?t.value=t._currentSelection.toString()+(t._currentSelection.length>0?",":"")+t.$.input.value:t.value=t.$.input.value,t.$.autoCompleteString.textContent="",t._closedFromKeyCombination)return void(t._closedFromKeyCombination=!1)
if("none"!==t.autoComplete&&"list"!==t.autoComplete?(t.$.input.value!==(t._currentSelection?t._currentSelection.toString():void 0)||t.$.listBox._filteredItems&&t.$.listBox._filteredItems.length!==t.$.listBox._items.length)&&(t._autoCompleteTimer&&clearTimeout(t._autoCompleteTimer),t._autoCompleteTimer=setTimeout(function(){t._autoComplete(!0)},t.autoCompleteDelay)):(t.$.input.value.length>0&&t._queryItems(),!t._focusedItem||"Escape"===e.key&&"firstPossibleValue"===t.escKeyMode||(t.open()," "!==e.key&&(t.$.listBox._scrollView.scrollTop=t._focusedItem.offsetTop))),"none"!==t.autoComplete&&"list"!==t.autoComplete&&t.$.listBox._filteredItems&&t.$.listBox._filteredItems.length===t.$.listBox._items.length)return void t.close()}}else t.$.dropDownButton.removeAttribute("active")}_queryItems(e){const t=this
if(!t.value||!t.$.input)return void t.close()
let i=t.$.listBox._queryItems(t.$.input.previousElementSibling?t.$.input.value:t.value,t.incrementalSearchMode)
0===i.length&&t._unfocus()
for(let n=0;n<i.length;n++)if(!i[n].hidden){e&&!i[n].selected&&t.select(i[n]),t._focus(i[n])
break}"list"===t.autoComplete&&(t.enableShadowDOM?t.shadowRoot.activeElement:document.activeElement)===t.$.input&&t.$.input.value.length>=t.minLength?(t._lastSelectedItem=t._focusedItem,t._updateAutoCompleteHelper()):t._lastSelectedItem=void 0}_selectStartHandler(e){this._resizeDetails&&this._resizeDetails.started&&e.preventDefault()}_unfocus(){this._focusedItem&&(this._focusedItem._focused=!1,this.$.listBox._focusedItem=void 0)}_setAriaRelations(){this.setAttribute("role","combobox"),this.setAttribute("aria-describedby",this.$.hint.id),this.setAttribute("aria-expanded",this.opened),this.setAttribute("aria-haspopup","listbox"),this.setAttribute("aria-labelledby",this.$.label.id),this._ariaButton=this,this._setAriaAutocomplete()}_setAriaAutocomplete(){const e=this.autoComplete,t=this.$.input
"none"===e?t.setAttribute("aria-autocomplete","none"):"auto"===e||"manual"===e?t.setAttribute("aria-autocomplete","list"):t.setAttribute("aria-autocomplete","both")}})
var ie=Object.freeze({})
JQX("jqx-text-box",class extends JQX.ComboBox{static get properties(){return{autoFocus:{value:!1,type:"boolean"},autoComplete:{allowedValues:["none","manual","auto","inline"],type:"string",value:"manual"},displayMode:{value:"default",allowedValues:["default","escaped"],type:"string"},dropDownOpenMode:{allowedValues:["none","default","auto"],value:"default",type:"string"},enterKeyBehavior:{value:"submit",allowedValues:["submit","clearOnSubmit"],type:"string"},form:{value:"",type:"string"},hint:{value:null,type:"any"},maxLength:{value:null,type:"number?"},minLength:{value:2,type:"number"},messages:{extend:!0,value:{en:{missingReference:"{{elementType}}: Missing reference to {{files}}."}},type:"object"},required:{value:!1,type:"boolean"},requiredMessage:{value:"",type:"string"},selectAllOnFocus:{value:!1,type:"boolean"},selectionMode:{value:"zeroOrOne",allowedValues:["none","oneOrManyExtended","zeroOrMany","oneOrMany","zeroOrOne","one","checkBox","radioButton"],type:"string"},type:{value:"input",type:"string",defaultReflectToAttribute:!0,readonly:!0},value:{value:"",type:"string"}}}static get listeners(){return{"document.up":"_documentUpHandler",focus:"_focusHandler",keydown:"_keyDownHandler",mouseenter:"_mouseEventsHandler",mouseleave:"_mouseEventsHandler","input.blur":"_focusHandler","input.change":"_textBoxChangeHandler","input.focus":"_focusHandler","input.keyup":"_textBoxKeyUpHandler","input.paste":"_textBoxChangeHandler","input.select":"_textBoxSelectHandler","listBox.bindingComplete":"_bindingCompleteHandler"}}template(){return'<div id="container" role="presentation">\n                    <span id="label" inner-h-t-m-l="[[label]]" class="jqx-label"></span>\n                    <div id="content" class="jqx-content" role="presentation">\n                        <input class="jqx-input" type="text" id="input"\n                            disabled="[[disabled]]"\n                            maxlength="[[maxLength]]"\n                            name="[[name]]"\n                            placeholder="[[placeholder]]"\n                            readonly="[[readonly]]"\n                            role="textbox"\n                            aria-label="[[placeholder]]"\n                            autocomplete="[[inputPurpose]]">\n                        <div id="autoCompleteString"></div>\n                        <div id="dropDownContainer" class="jqx-drop-down jqx-drop-down-container jqx-visibility-hidden" role="presentation">\n                            <jqx-list-box id="listBox"\n                                data-source="[[dataSource]]"\n                                unfocusable="true"\n                                disabled="[[disabled]]"\n                                display-loading-indicator="[[displayLoadingIndicator]]"\n                                display-member="[[displayMember]]"\n                                item-height="[[itemHeight]]"\n                                item-template="[[itemTemplate]]"\n                                item-measure-mode="[[itemMeasureMode]]"\n                                filter-callback="[[filterCallback]]"\n                                filter-mode="[[filterMode]]"\n                                loading-indicator-placeholder="[[loadingIndicatorPlaceholder]]"\n                                loading-indicator-position="[[loadingIndicatorPosition]]"\n                                placeholder="[[dropDownPlaceholder]]"\n                                readonly="[[readonly]]"\n                                right-to-left="[[rightToLeft]]"\n                                selection-mode="[[selectionMode]]"\n                                value-member="[[valueMember]]">\n                                <content></content>\n                            </jqx-list-box>\n                        </div>\n                    </div>\n                    <span id="hint" class ="jqx-hidden jqx-hint"></span>\n                </div>'}propertyChangedHandler(e,t,i){const n=this
switch(e){case"autoComplete":n.$.listBox._filteredItems&&n.$.listBox._filteredItems.length!==n.$.listBox._items.length&&super._autoComplete(!0),n._setAriaAutocomplete()
break
case"dataSource":case"valueMember":n._clearSelection(),n._setDropDownSize(),n._positionDetection.checkBrowserBounds("vertically"),n._positionDetection.positionDropDown(),n._positionDetection.checkBrowserBounds("horizontally")
break
case"displayMember":case"inputMember":{const e=n.$.listBox
if(e.selectedIndexes.length){const t=e._items[e.selectedIndexes[0]][n.inputMember]
n.$.listBox.$.filterInput.value=t,n.$.input.value="escaped"===n.displayMode?n._toEscapedDisplayMode(t):n._toDefaultDisplayMode(t),n.set("value",n._toDefaultDisplayMode(n.$.input.value))}break}case"displayMode":n.$.input.value="escaped"===i?n._toEscapedDisplayMode(n.value):n.value=n._toDefaultDisplayMode(n.$.input.value)
break
case"dropDownOpenMode":n._setFocusable(),n.$dropDownContainer.addClass("jqx-visibility-hidden"),n.opened=!1
break
case"value":(n.$.input!==document.activeElement||n.$.input===document.activeElement&&n.$.input.value===n._oldValue)&&(n.$.input.value="escaped"===n.displayMode?n._toEscapedDisplayMode(n.value):n.value,n._oldValue=t),n.value||n.clearSelection(),i.length>0?n.$.addClass("has-value"):n.$.removeClass("has-value")
break
case"hint":if(null===i)return n.$.hint.innerHTML="",void n.$.removeClass("invalid")
n._handleHintContainer()
break
default:super.propertyChangedHandler(e,t,i)}}static get requires(){return{"JQX.ComboBox":"jqxcombobox.js"}}static get styleUrls(){return["jqx.textbox.css"]}open(){0===this.$.listBox.items.length&&"function"!=typeof this.dataSource||"none"===this.autoComplete||(0===this.$.input.value.length&&this.$.listBox._filteredItems&&this.$.listBox._filteredItems.length!==this.$.listBox._items.length?super._autoComplete(!0):super.open())}close(){const e=this
super.close(),e.$.autoCompleteString.textContent="",e.$.listBox._focusedItem&&(e.$.listBox._focusedItem._focused=!1),"none"!==e.autoComplete&&e.$.input._filteredItems&&e.$.input._filteredItems[0]&&e.$.input._filteredItems[0]!==e.$.input.value&&super._autoComplete(!0)}cloneNode(){const e=this
let t=HTMLElement.prototype.cloneNode.apply(e,Array.prototype.slice.call(arguments,0,1))
return e.$.listBox&&(t.dataSource=e.dataSource),t}focus(){this.$.input.focus()}_setFocusable(){const e=this
e.disabled||e.unfocusable?e.$.input.tabIndex=-1:e.$.input.removeAttribute("tabindex")}reset(){const e=this
"escaped"===e.displayMode?(e.value=e._initializationValue,e.$.input.value=e._toEscapedDisplayMode(e._initializationValue)):e.$.input.value=e.value=e._initializationValue,!e.value&&e.$.listBox&&e.clearSelection()}_bindingCompleteHandler(){const e=this
e.$.listBox&&e.isRendered&&(e._setDropDownSize(),e._positionDetection.checkBrowserBounds())}_createElement(){const e=this
e._browserIsIEorEdge=JQX.Utilities.Core.Browser.IE||JQX.Utilities.Core.Browser.Edge,e.autoFocus&&e.$.input.focus(),e.value&&(e.$.input.value="escaped"===e.displayMode?e._toEscapedDisplayMode(e.value):e.value),e._setDropDownSize(),e._handleSelectedText(),e._setFocusable(),e._initializationValue=e._oldValue=e.value,e.value.length>0?e.$.addClass("has-value"):e.$.removeClass("has-value"),e._handleHintContainer(),e._setAriaRelations()}_focusHandler(e){const t=this
if(e.target===t&&t.hasAttribute("tabindex")&&(t.$.input.tabIndex=t.disabled||t.unfocusable?-1:t.tabIndex,t.removeAttribute("tabindex")),"blur"===e.type){if(t._isDropDownClicked||e.target===t)return
if(t.removeAttribute("focus"),t.$.autoCompleteString.textContent="",t.value.length>0?t.$.addClass("has-value"):t.$.removeClass("has-value"),("auto"===t.autoComplete||"inline"===t.autoComplete)&&t.$.input.value.length>0&&t.$.listBox._focusedItem&&t.$.listBox._focusedItem._focused){const e=t.$.listBox._focusedItem[t.inputMember]
t.$.input.value="escaped"===t.displayMode?t._toEscapedDisplayMode(e):t._toDefaultDisplayMode(e),t.set("value",t._toDefaultDisplayMode(e))}return t._preventDropDownClose||t.close(),t._oldValue!==t.value&&t.$.fireEvent("change",{oldValue:t._oldValue,value:t.value}),void t.$.fireEvent("blur")}t.disabled||(t.setAttribute("focus",""),t._oldValue=t.value,t.selectAllOnFocus&&t.$.input.select(),e.target===t&&t.$.input.focus(),!1!==t._canFireFocus&&(t._canFireFocus=!1,t.$.fireEvent("focus"),t._canFireFocus=!0))}_handlePointerInEscapedSymbol(e){const t=this
if("escaped"!==t.displayMode)return
let i=t.$.input.selectionStart,n=t.$.input.selectionEnd,r=t.$.input.value
if("\\"===r[i-1]&&r[i].match(/n|r|s|t|f/g)){if(i===n){let n="next"===e?1:-1
return t.$.input.selectionStart=i+n,void(t.$.input.selectionEnd=i+n)}t.$.input.selectionStart=i-1,"\\"===r[n-1]&&r[n].match(/n|r|s|t|f/g)&&(t.$.input.selectionEnd=n+1)}}_handleSelectedText(){null===this.selectionStart||null===this.selectionEnd||this.selectionStart===this.selectionEnd||this.selectAllOnFocus||(this.selectionStart=this.selectionStart<0?0:this.selectionStart,this.selectionEnd=this.selectionEnd>this.value.length?this.value.length:this.selectionEnd,this.$.input.setSelectionRange(this.selectionStart,this.selectionEnd))}_handleHintContainer(){const e=this
if(!e.hint)return
const t=e.$.hint
if("function"==typeof e.hint){const i=e.value
e.hint(i,t)?e.$.addClass("invalid"):e.$.removeClass("invalid")}else"string"==typeof e.hint&&(t.innerHTML=e.hint,e.$.removeClass("invalid"))}_keyDownHandler(e){const t=this
switch(t._showAutoCompleteHighlighter=!1,e.key){case"ArrowUp":case"ArrowDown":if(e.altKey)return e.preventDefault(),void("ArrowDown"===e.key?t.open():t.close())
if(t.opened){if(e.preventDefault(),t.$.listBox._handleKeyStrokes(e.key),"inline"!==t.autoComplete)break
t._showAutoCompleteHighlighter=!0,super._updateAutoCompleteHelper()}break
case"PageUp":case"PageDown":e.preventDefault(),t.$.input.selectionStart=t.$.input.selectionEnd="PageUp"===e.key?0:t.$.input.value.length
break
case"Enter":{const e="function"==typeof t.$.listBox._focusedItem?t.$.listBox._focusedItem():t.$.listBox._focusedItem
if(t.opened&&e&&e._focused&&(t.$.listBox.$.filterInput.value=e[t.inputMember],t.$.input.value="escaped"===t.displayMode?t._toEscapedDisplayMode(e[t.inputMember]):t._toDefaultDisplayMode(e[t.inputMember]),t.select(e),t.close()),"default"!==t.enterKeyBehavior){const e=t.$.input.value
t._oldValue!==e&&(t.close(),t.$.fireEvent("change",{oldValue:t._oldValue,value:e,type:"submit"}),"clearOnSubmit"===t.enterKeyBehavior&&(JQX.MaskedTextBox&&t instanceof JQX.MaskedTextBox?(t._cleanMask(),t._setMaskToInput(),t.$.input.selectionStart=t.$.input.selectionEnd=0):t.$.input.value=""),t._oldValue=t.value=t._toDefaultDisplayMode(t.$.input.value)),t._submitted=!0}break}case"Escape":if(t.$.dropDownContainer&&t.close(),t._closedFromKeyCombination=!0,"none"===t.escKeyMode)return
switch(t.escKeyMode){case"none":break
case"clearValue":t.value=t.$.input.value=""
break
case"previousValue":t.$.input.value="escaped"===t.displayMode?t._toEscapedDisplayMode(t._oldValue):t._oldValue}break
case" ":"escaped"===t.displayMode&&function(i){let n=t.$.input.selectionStart,r=t.$.input.selectionEnd,o=t.$.input.value
e.preventDefault(),o=o.substring(0,n)+i+o.substring(r,o.length),t.value=t._toDefaultDisplayMode(o),t.$.input.value=o,t.$.input.selectionStart=t.$.input.selectionEnd=n+2}("\\s")
break
case"Backspace":if("escaped"===t.displayMode&&t.$.input.selectionStart===t.$.input.selectionEnd){let e=t.$.input.selectionStart
"\\"!==t.$.input.value[e-2]||"s"!==t.$.input.value[e-1]&&"n"!==t.$.input.value[e-1]||(t.$.input.value=t.$.input.value.substring(0,e-2)+t.$.input.value.substring(e-2,t.$.input.value.length),t.$.input.selectionStart=e-2)}}}_keyUpHandler(e){const t=this
t.disabled||"Escape"===e.key||e.target===t.$.listBox.$.filterInput||e.target===t.$.input&&"oneOrManyExtended"===t.selectionMode&&(t.$.listBox._keysPressed[e.key]=!1)}_listBoxItemClickHandler(e){const t=this,i=e.detail
if(super._listBoxItemClickHandler(e),i.selected){if("escaped"===t.displayMode){const e=t.$.input.value
t.value=t._toDefaultDisplayMode(e),t.$.input.value=e}else t.value=t.$.input.value
t._oldValue!==t.value&&(t.$.fireEvent("change",{oldValue:t._oldValue,value:t.value}),t.$.input.focus())}}_submitKeyUpHandler(){const e=this
e._submitted&&("clearOnSubmit"===e.enterKeyBehavior&&(e.$.input.selectionStart=e.$.input.selectionEnd=0),e._submitted=!1)}_textBoxKeyUpHandler(e){const t=this
if(t.disabled||e.altKey||e.ctrlKey)return
if("escaped"===t.displayMode){const e=t.$.input.value
t.value=t._toDefaultDisplayMode(t.$.input.value),t.$.input.value=e}else t.value=t.$.input.value
let i
if(1===t.$.listBox.selectedIndexes.length&&(i=t.$.listBox.getItem(t.$.listBox.selectedValues[0]),t.value!==i[t.inputMember]&&t.unselect(i)),t._showAutoCompleteHighlighter||(t.$.autoCompleteString.textContent=""),"Alt"===e.key||"Control"===e.key||!t.opened&&"Escape"===e.key||"Enter"===e.key)t._closedFromKeyCombination=!1
else if(e.key&&e.key.indexOf("Arrow")>-1)t._handlePointerInEscapedSymbol("ArrowRight"===e.key?"next":void 0)
else{if("none"!==t.autoComplete&&(t.$.input.value.length>0||"auto"===t.dropDownOpenMode)){const e=super._autoComplete.bind(t)
if(t._autoCompleteTimer&&clearTimeout(t._autoCompleteTimer),0===t.$.listBox._items.length&&"function"!=typeof t.dataSource)return void t.close()
t._autoCompleteTimer=setTimeout(function(){e(!0)},t.autoCompleteDelay)}else t.close()
"Enter"===e.key&&t.value!=t.value&&t._browserIsIEorEdge&&(t.value=t.$.input.value,t.$.fireEvent("change",{oldValue:t._oldValue,value:t.value}))}}_listBoxChangeHandler(e){const t=this
if(e.stopPropagation(),e.detail.selected){const i=t.$.listBox._items[e.detail.index]
let n=""
i&&(n=i[t.inputMember]),t.$.listBox.$.filterInput.value=n,t.$.input.value="escaped"===t.displayMode?t._toEscapedDisplayMode(n):t._toDefaultDisplayMode(n),t.set("value",t._toDefaultDisplayMode(t.$.input.value))}"none"!==t.autoComplete&&"function"!=typeof t.dataSource&&t._autoComplete(!0)}_mouseEventsHandler(e){"mouseenter"===e.type?this.setAttribute("hover",""):this.removeAttribute("hover")}_textBoxChangeHandler(e){const t=this
if(e.stopPropagation(),"escaped"===t.displayMode){const i=t.$.input.value,n=t.$.input.selectionStart,r=t.$.input.selectionEnd,o=e.clipboardData||e.originalEvent&&e.originalEvent.clipboardData||window.clipboardData
if(o){let i=o.getData("text"),a=t.$.input.value
e.preventDefault(),i=t._toEscapedDisplayMode(i),t.$.input.value=a.substring(0,n)+i+a.substring(r,a.length)}t.value=t._toDefaultDisplayMode(t.$.input.value),t.$.input.value=i}else t.value=t.$.input.value
t._handleHintContainer()}_textBoxSelectHandler(){this.disabled||(this.selectionStart=this.$.input.selectionStart,this.selectionEnd=this.$.input.selectionEnd)}_toEscapedDisplayMode(e){const t=[{key:/\r\n|\n\r|\n|\r/g,value:"\\n"},{key:/\s/g,value:"\\s"},{key:/\n/g,value:"\\n"},{key:/\t/g,value:"\\t"},{key:/\f/g,value:"\\f"},{key:/\r/g,value:"\\r"}]
for(let i=0;i<t.length;i++)e=e.replace(t[i].key,t[i].value)
return e}_toDefaultDisplayMode(e){e||(e="")
const t=[{key:/\\s/g,value:" "},{key:/\\n/g,value:"\n"},{key:/\\t/g,value:"\t"},{key:/\\f/g,value:"\f"},{key:/\\r/g,value:"\r"}]
for(let i=0;i<t.length;i++)e=e.replace(t[i].key,t[i].value)
return e}_documentDownHandler(e){const t=this
if(t.disabled||t.readonly)return
let i=e.originalEvent.target
if(t.enableShadowDOM)if(i=e.originalEvent.composedPath()[0],null===t._dropDownParent)t._isDropDownClicked=i.closest(".jqx-drop-down-container")===t.$.dropDownContainer
else{let e=i.getRootNode().host
e&&e.closest(".jqx-drop-down-container")===t.$.dropDownContainer&&(t._isDropDownClicked=!0)}else t._isDropDownClicked=i.closest(".jqx-drop-down-container")===t.$.dropDownContainer;(e.originalEvent.target.closest("jqx-list-item")||t._isDropDownClicked)&&(t._preventDropDownClose=!0)}_documentMoveHandler(){}_documentUpHandler(e){const t=this
if(t.disabled)return
let i=t.enableShadowDOM?e.originalEvent.composedPath()[0]:e.originalEvent.target
if(i)if("escaped"===t.displayMode&&i===t.$.input&&t._handlePointerInEscapedSymbol(),t._isDropDownClicked||t.readonly)delete t._isDropDownClicked
else if(i!==t.$.input||"auto"!==t.dropDownOpenMode){for(;i;){if(i instanceof JQX.ListItem&&i.ownerListBox===t.$.listBox){if(i.unselectable||i.disabled)return
return"escaped"===t.displayMode?t.$.input.value=t._toEscapedDisplayMode(i[t.inputMember]):t.$.input.value=t._toDefaultDisplayMode(i[t.inputMember]),t.value=t.$.input.value,t.$.fireEvent("change",{oldValue:t._oldValue,value:t.value,type:"submit"}),t._oldValue=t.value,"clearOnSubmit"===t.enterKeyBehavior&&(t.$.input.value=t.value=""),super._autoComplete(!0),t.close(),i="item",void t.$.input.focus()}if(i===t.$.listBox)return void(i="listBox")
i=i.parentElement}"listBox"===i||"item"===i||t.close()}else super._autoComplete(!0)}})
var ne=Object.freeze({})
JQX("jqx-multiline-text-box",class extends JQX.TextBox{static get properties(){return{autoCapitalize:{value:"none",allowedValues:["none","words","characters"],type:"string"},autoComplete:{value:"off",allowedValues:["on","off"],type:"string"},autoExpand:{value:!1,type:"boolean"},cols:{value:20,type:"number?"},enterKeyBehavior:{value:"newLine",allowedValues:["submit","clearOnSubmit","newLine"],type:"string"},horizontalScrollBarVisibility:{type:"string",value:"auto",allowedValues:["auto","disabled","hidden","visible"]},minLength:{value:0,type:"number"},resizable:{value:!1,type:"boolean"},rows:{value:5,type:"number?"},selectionDirection:{value:"none",allowedValues:["forward","backward","none"],type:"string"},selectionEnd:{value:0,reflectToAttribute:!1,type:"number"},selectionStart:{value:0,reflectToAttribute:!1,type:"number"},spellCheck:{value:!1,type:"boolean"},type:{value:"textarea",type:"string",defaultReflectToAttribute:!0,readonly:!0},verticalScrollBarVisibility:{type:"string",value:"auto",allowedValues:["auto","disabled","hidden","visible"]},wrap:{value:"soft",allowedValues:["hard","soft","off"],type:"string"}}}static get styleUrls(){return["jqx.textbox.css","jqx.multilinetextbox.css"]}static get listeners(){return{"document.mousemove":"_documentSelectionOutsideHandler","container.resize":"_handleScrollbarsDisplay","document.move":"_resizeMoveHandler","document.up":"_upHandler",focus:"_focusHandler","horizontalScrollBar.change":"_horizontalScrollbarHandler",keydown:"_keyDownHandler",mouseenter:"_mouseEventsHandler",mouseleave:"_mouseEventsHandler",resize:"_handleScrollbarsDisplay","resizeElement.down":"_resizeDownHandler",styleChanged:"_handleScrollbarsDisplay","input.change":"_textBoxChangeHandler","input.focus":"_focusHandler","input.blur":"_blurHandler","input.keydown":"_textBoxKeyDownHandler","input.keyup":"_keyUpHandler","input.paste":"_textBoxChangeHandler","input.select":"_textBoxSelectHandler","input.touchmove":"_inputTouchmoveHandler","input.touchstart":"_inputTouchstartHandler",wheel:"_mouseWheelHandler","verticalScrollBar.change":"_verticalScrollbarHandler"}}attached(){const e=this
super.attached(),e._scrollView||(e._scrollView=new JQX.Utilities.Scroll(e.$.input,e.$.horizontalScrollBar,e.$.verticalScrollBar))}detached(){const e=this
super.detached(),e._scrollView&&(e._scrollView.unlisten(),delete e._scrollView)}static get requires(){return{"JQX.ScrollBar":"jqxscrollbar.js"}}template(){return'<div id="container" role="presentation">\n                    <span id="label" inner-h-t-m-l="[[label]]" class="jqx-label"></span>\n                    <div id="innerContainer" class="jqx-inner-container" role="presentation">\n                            <textarea class="jqx-input" id="input"\n                                autocapitalize="[[autoCapitalize]]"\n                                autocomplete="off"\n                                cols="[[cols]]"\n                                disabled="[[disabled]]"\n                                maxlength="[[maxLength]]"\n                                minlength="[[minLength]]"\n                                name="[[name]]"\n                                placeholder="[[placeholder]]"\n                                readonly="[[readonly]]"\n                                required="[[required]]"\n                                rows="[[rows]]"\n                                spellcheck="[[spellCheck]]"\n                                wrap="[[wrap]]"\n                                aria-label="[[placeholder]]"\n                                autocomplete="[[inputPurpose]]"></textarea>\n                            <jqx-scroll-bar id="verticalScrollBar" right-to-left="[[rightToLeft]]" animation="[[animation]]" disabled="[[disabled]]" orientation="vertical"></jqx-scroll-bar>\n                            <jqx-scroll-bar id="horizontalScrollBar" right-to-left="[[rightToLeft]]" animation="[[animation]]" disabled="[[disabled]]"></jqx-scroll-bar>\n                            <div id="resizeElement" class="jqx-resize-element" aria-label="Resize"></div>\n\n                            <textarea id="textBoxHidden"\n                            class="jqx-text-box-hidden"\n                            autocapitalize="[[autoCapitalize]]"\n                            autocomplete="off"\n                            cols="[[cols]]"\n                            disabled="[[disabled]]"\n                            inner-h-t-m-l="[[value]]"\n                            maxlength="[[maxLength]]"\n                            minlength="[[minLength]]"\n                            name="[[name]]"\n                            placeholder="[[placeholder]]"\n                            readonly="[[readonly]]"\n                            required="[[required]]"\n                            rows="[[rows]]"\n                            spellcheck="[[spellCheck]]"\n                            wrap="[[wrap]]"></textarea>\n                    </div>\n                    <span id="hint" class="jqx-hint"></span>\n                </div>'}propertyChangedHandler(e,t,i){const n=this
switch(e){case"autoExpand":n._autoExpandUpdate()
break
case"displayMode":switch(i){case"escaped":n.$.input.value=n._toEscapedDisplayMode(n.value)
break
default:n.$.input.value=n.value=n._toDefaultDisplayMode(n.$.input.value)}n._autoExpandUpdate(),n._handleScrollbarsDisplay()
break
case"value":switch(n._preventProgramaticValueChange?(n._userValue="escaped"===n.displayMode?n._toDefaultDisplayMode(n.$.input.value):n.$.input.value,n._programmaticValue=i):n._userValue=n._programmaticValue=i,n.displayMode){case"escaped":n.$.input.value=n._toEscapedDisplayMode(n._userValue)
break
default:n.$.input.value=n._userValue}n._oldValue=t,n._autoExpandUpdate(),n._handleScrollbarsDisplay()
break
case"horizontalScrollBarVisibility":case"verticalScrollBarVisibility":case"singleLine":case"wrap":case"resizable":case"placeholder":n._autoExpandUpdate(),n._handleScrollbarsDisplay()
break
case"selectionEnd":case"selectionStart":n._handleSelectedText()
break
case"rows":case"cols":n._updateSizeRowsCols()
break
case"disabled":n._setFocusable(),n._ariaPropertyChangedHandler("disabled",i)
break
case"animation":break
case"readonly":n._ariaPropertyChangedHandler("readonly",i)
break
default:super.propertyChangedHandler(e,t,i)}}selection(e){const t=this
let i=t.$.input.selectionStart,n=t.$.input.selectionEnd,r=t.value
return"escaped"===t.displayMode?(r=t.$.input.value.substring(i,n),"escaped"===e?r:t._toDefaultDisplayMode(r)):"escaped"===e?(r=r.substring(i,n),t._toEscapedDisplayMode(r)):r=r.substring(i,n)}select(e,t){const i=this,n=Array.from(arguments).slice(0,2)
let r,o
for(let e in n)n[e]=parseInt(n[e])||0
return 2===n.length?(r=Math.min([e,t]),o=Math.max([e,t])):r=n[0],2===n.length?(o<(r=(r=parseInt(r))>0?r<i.$.input.length?i.$.input.length:r:0)?o=r:o>i.$.input.length&&(r=0),i.$.input.focus(),void i.$.input.setSelectionRange(r,o)):1===n.length?(i.$.input.focus(),void i.$.input.setSelectionRange(r,r+1)):void i.$.input.select()}_autoExpandUpdate(){const e=this,t=e.$.input,i=e.$.textBoxHidden,n=e.$.verticalScrollBar
if(!e.autoExpand)return void(t.style.height=n.style.height=i.style.height=null)
const r=parseFloat(window.getComputedStyle(e).getPropertyValue("max-height"))
i.style.height=0,i.value=t.value
let o=0
if(e.resizeTrigger){(o=e.resizeTrigger.clientHeight)===e.clientHeight&&(o=0)}t.style.height=n.style.height=(isNaN(r)?i.scrollHeight:Math.min((r||0)-o,i.scrollHeight))+"px"}_blurHandler(){const e=this
e._outsideAutoScroll&&clearInterval(e._outsideAutoScroll),e.removeAttribute("focus"),e._preventProgramaticValueChange=!1,e._oldValue=e.value,e.value=e._userValue||e.value,e.$.fireEvent("blur")}_createElement(){const e=this
e.$.input.id||(e.$.input.id=e.id+"Input"),e.autoFocus&&(navigator.userAgent.match(/Edge/)?setTimeout(function(){e.$.input.focus(),e.setAttribute("focus","")},10):(e.$.input.focus(),e.setAttribute("focus","")))
const t=e.$.input.innerHTML
e.value?e.$.input.innerHTML="escaped"===e.displayMode?e._toEscapedDisplayMode(e.value):e.value:t.length>0&&"escaped"===e.displayMode?(e.value=t,e.$.input.innerHTML=e._toEscapedDisplayMode(t)):t.length>0&&(e.value=t),e._setFocusable(),e._syncTextBoxContentOnInitialization(),e._scrollView=new JQX.Utilities.Scroll(e.$.input,e.$.horizontalScrollBar,e.$.verticalScrollBar),e._autoExpandUpdate(),e._handleScrollbarsDisplay(),e._initializationValue=e._oldValue=e.value,e.value.length>0?e.$.addClass("has-value"):e.$.removeClass("has-value"),e._handleHintContainer(),e.setAttribute("role","textbox"),e.setAttribute("aria-multiline",!0),e.setAttribute("aria-describedby",e.$.hint.id),e.setAttribute("aria-labelledby",e.$.label.id),e.$.verticalScrollBar.setAttribute("aria-controls",e.$.input.id),e.$.horizontalScrollBar.setAttribute("aria-controls",e.$.input.id)}_handleScrollbarsDisplay(e){const t=this,i=t.$.input
requestAnimationFrame(()=>{switch(t._autoExpandUpdate(),t.horizontalScrollBarVisibility){case"disabled":t.$container.addClass("hscroll"),t.$.horizontalScrollBar.disabled=!0
break
case"hidden":t.$container.removeClass("hscroll")
break
case"visible":t.$container.addClass("hscroll"),t._scrollView.scrollWidth=i.scrollWidth-i.clientWidth,t._scrollView.scrollTo(t.$.input.scrollLeft,!0),t.$.horizontalScrollBar.disabled=!1
break
default:i.scrollWidth>i.clientWidth?(t.$container.addClass("hscroll"),t._scrollView.scrollWidth=i.scrollWidth-i.clientWidth,e&&"resize"===e.type?t.$.input.scrollLeft=t._scrollView.scrollLeft:t._scrollView.scrollTo(t.$.input.scrollLeft,!0)):t.$container.removeClass("hscroll"),t.$.horizontalScrollBar.disabled=!1}switch(t.verticalScrollBarVisibility){case"disabled":t.$container.addClass("vscroll"),t.$.verticalScrollBar.disabled=!0
break
case"hidden":t.$container.removeClass("vscroll")
break
case"visible":t.$container.addClass("vscroll"),t._scrollView.scrollHeight=i.scrollHeight-i.clientHeight,t._scrollView.scrollTo(t.$.input.scrollTop),t.$.verticalScrollBar.disabled=!1
break
default:i.scrollHeight>i.clientHeight?(t.$container.addClass("vscroll"),t._scrollView.scrollHeight=i.scrollHeight-i.clientHeight,e&&"resize"===e.type?t.$.input.scrollTop=t._scrollView.scrollTop:t._scrollView.scrollTo(t.$.input.scrollTop)):t.$container.removeClass("vscroll"),t.$.verticalScrollBar.disabled=!1}})}_focusHandler(e){const t=this
if(!t.disabled){if(e.target===t)return t.$.input.focus(),void(t._edgeSelect=!1)
if(t.setAttribute("focus",""),t.selectAllOnFocus)if(navigator.userAgent.match(/Edge/)){const e=t.$.input.scrollTop
if(t._edgeSelect)return void(t._edgeSelect=!1)
setTimeout(function(){t._edgeSelect=!0,t.$.input.select(),t.$.input.scrollTop=e},5)}else t.$.input.select()
t.$.fireEvent("focus")}}_getScrollLeft(e,t){const i=this
return i.rightToLeft?(JQX.Utilities.Core.Browser.Chrome?(t||(t=i.$.input.scrollWidth-i.$.input.offsetWidth),e=t-e):e*=-1,e):e}_horizontalScrollbarHandler(e){this.disabled||"hidden"===this.horizontalScrollBarVisibility||"disabled"===this.horizontalScrollBarVisibility||(e.stopPropagation(),this.$.input.scrollLeft=this._getScrollLeft(e.detail.value))}_keyDownHandler(e){const t=this,i=e.key,n=e.shiftKey,r=e.ctrlKey,o=t.$.input.value
function a(i){let n=t.$.input.selectionStart,r=t.$.input.selectionEnd,o=t.$.input.value
e.preventDefault(),t.$.input.value=o.substring(0,n)+i+o.substring(r,o.length),t.value=t._toDefaultDisplayMode(t.$.input.value),t.$.input.selectionStart=n+2,t.$.input.selectionEnd=n+2}if(t.allowVerticalScrollbar&&t.$.input.selectionEnd>t.$.input.value.length-5&&t._scrollView.scrollTo(t._scrollView.scrollTop+(e.deltaY<0?-t.offsetHeight:t.offsetHeight)),i.indexOf("Arrow")>-1)e.stopPropagation()
else switch(i){case"Enter":if("newLine"===t.enterKeyBehavior&&!r&&!n||"newLine"!==t.enterKeyBehavior&&(r||n)){"escaped"===t.displayMode&&a("\\n")
break}e.preventDefault(),t._userValue="escaped"===t.displayMode?t._toDefaultDisplayMode(t.$.input.value):t.$.input.value,t.value=t._userValue,("submit"===t.enterKeyBehavior||"clearOnSubmit"===t.enterKeyBehavior||""!==o&&t._userValue!==t._oldValue)&&t.$.fireEvent("change",{oldValue:t._oldValue,value:o,type:"submit"}),"clearOnSubmit"===t.enterKeyBehavior&&(t.$.input.value=""),t._oldValue=t.value=t._toDefaultDisplayMode(t.$.input.value),t._submitted=!0,"escaped"===t.displayMode&&t.enterKeyBehavior.toLowerCase().indexOf("submit")<0&&!r&&!n&&a("\\n"),("submit"===t.enterKeyBehavior||"newLine"===t.enterKeyBehavior&&r)&&t.$.input.blur()
break
case"Escape":if("none"===t.escKeyMode)return
switch(t.escKeyMode){case"none":break
case"clearValue":t.value=t.$.input.value=""
break
case"previousValue":t.$.input.value="escaped"===t.displayMode?t._toEscapedDisplayMode(t._oldValue):t._oldValue}break
case" ":"escaped"===t.displayMode&&a("\\s")
break
case"Backspace":if("escaped"===t.displayMode&&t.$.input.selectionStart===t.$.input.selectionEnd){let e=t.$.input.selectionStart
"\\"!==o[e-2]||"s"!==o[e-1]&&"n"!==o[e-1]||(t.$.input.value=t.$.input.value.substring(0,e-2)+t.$.input.value.substring(e-2,t.$.input.value.length),t.$.input.selectionStart=e-2)}t._scrollView&&t._handleScrollbarsDisplay()}}_keyUpHandler(e){const t=this
switch(e.key){case"ArrowLeft":case"ArrowUp":case"ArrowDown":t._handlePointerInEscapedSymbol()
break
case"ArrowRight":t._handlePointerInEscapedSymbol("next")}t._userValue="escaped"===t.displayMode?t._toDefaultDisplayMode(t.$.input.value):t.$.input.value,t._submitKeyUpHandler()}_textBoxKeyDownHandler(e){const t=this,i=e.key
t._scrollView&&t._handleScrollbarsDisplay(),t.value&&t.value.length>0?t.$.addClass("has-value"):t.$.removeClass("has-value"),-1===["Enter","Escape"].indexOf(i)&&(t._preventProgramaticValueChange=!0),["ArrowLeft","ArrowUp","ArrowDown","ArrowRight"].indexOf(i)>-1&&t._scrollView.scrollTo(t.$.input.scrollTop),["PageUp","PageDown"].indexOf(i)>-1&&JQX.Utilities.Core.Browser.Chrome&&("PageUp"===e.key&&(t.$.input.setSelectionRange(0,0),t.$.input.scrollTop=0),"PageDown"===e.key&&(t.$.input.setSelectionRange(t.$.input.value.length,t.$.input.value.length),t.$.input.scrollTop=t._scrollView.verticalScrollBar.max),e.preventDefault())}_mouseWheelHandler(e){this.disabled||this.$.verticalScrollBar.disabled||(this._scrollView.scrollTo(this._scrollView.scrollTop+(e.deltaY<0?-this.offsetHeight:this.offsetHeight)),this.$.input.scrollTop+=e.deltaY<0?-this.offsetHeight:this.offsetHeight,this.$.input.scrollTop>0&&e.preventDefault())}_syncTextBoxContentOnInitialization(){const e=this
let t
t=""===e.value?e.innerHTML:e.value,"escaped"!==e.displayMode?e.$.input.value=e.value=e._initializationValue=t:t.match(/\r\n|\n\r|\n|\r|\s|\t|\f|\r/g)?(e.value=e._initializationValue=t,e.$.input.value=e._toEscapedDisplayMode(t)):(e.value=e._initializationValue=e._toDefaultDisplayMode(t),e.$.input.value=t)}_textBoxChangeHandler(e){const t=this,i=e.clipboardData||e.originalEvent&&e.originalEvent.clipboardData||window.clipboardData,n=t.value
if("escaped"===t.displayMode){const n=t.$.input.selectionStart,r=t.$.input.selectionEnd
if(i){let o=i.getData("text"),a=t.$.input.value
e.preventDefault(),o=t._toEscapedDisplayMode(o),t.$.input.value=a.substring(0,n)+o+a.substring(r,a.length)}t.value=t._toDefaultDisplayMode(t.$.input.value)}else t.value=t.$.input.value
t._handleScrollbarsDisplay(),t.value.length>0?t.$.addClass("has-value"):t.$.removeClass("has-value"),i||t.$.fireEvent("change",{value:t.value,oldValue:n,type:"blur"}),t._handleHintContainer()}_inputTouchmoveHandler(e){const t=this
if((t._resizeStarted||t._touchmoveInside)&&e.cancelable)return e.preventDefault(),void e.stopPropagation()
const i=t.$.container.classList.contains("vscroll"),n=t._touchCoords
if(!t.$.container.classList.contains("hscroll")&&!i||!n)return
const r=t._scrollView,o=e.touches[0]
let a,s,l,d
t._touchCoords=[o.pageX,o.pageY],i?(a=r.scrollTop,s=r.scrollHeight,l=o.pageY,d=n[1]):(a=r.scrollLeft,s=r.scrollWidth,l=o.pageX,d=n[0])
const c=parseFloat(l.toFixed(5)),h=parseFloat(d.toFixed(5))
0===a&&c>=h||a===s&&c<=h||(l!==d&&(t._touchmoveInside=!0),e.cancelable&&(e.preventDefault(),e.stopPropagation()))}_inputTouchstartHandler(e){const t=e.touches[0]
this._touchCoords=[t.pageX,t.pageY]}_resizeDownHandler(){const e=this
!e.disabled&&e.resizable&&(e._resizeStarted=!0,e.$container.addClass("jqx-resize"),e.readonly||e.$.input.setAttribute("readonly",""))}_resizeMoveHandler(e){const t=this
if(t.disabled||!t.resizable||!t._resizeStarted)return
const i=t.getBoundingClientRect(),n=50,r=50,o=t.rightToLeft?i.width+i.left-e.clientX:e.clientX-i.left,a=e.clientY-i.top
o>n&&(t.style.width=o+"px"),a>r&&(t.style.height=a+"px")}_updateSizeRowsCols(){const e=this
e.$.container.removeAttribute("style"),setTimeout(function(){if(!("disabled"!==e.horizontalScrollBarVisibility&&"hidden"!==e.horizontalScrollBarVisibility||"disabled"!==e.verticalScrollBarVisibility&&"hidden"!==e.verticalScrollBarVisibility))return
const t=e.getBoundingClientRect()
e.$.container.style.width=t.width+"px",e.$.container.style.height=t.height+"px"},0)}_upHandler(e){const t=this
delete t._touchCoords,delete t._touchmoveInside,t._selectionStarted=!1,t.disabled||(e.originalEvent.target!==t.$.input?(t.$container.removeClass("jqx-resize"),t.readonly||t.$.input.removeAttribute("readonly"),t._resizeStarted&&t.$.input.focus(),t._resizeStarted=!1):t._handlePointerInEscapedSymbol())}_verticalScrollbarHandler(e){this.disabled||"disabled"===this.verticalScrollBarVisibility||"hidden"===this.verticalScrollBarVisibility||(e.stopPropagation(),this.$.input.scrollTop=e.detail.value)}_documentDownHandler(e){this._selectionStarted=!1,e.originalEvent&&this.$.input.contains(e.originalEvent.target)&&(this._selectionStarted=!0,this._selectionStartTime=new Date,this._pointerDown={pageX:e.pageX,pageY:e.pageY},this._edgeSelect=!1)}_documentSelectionOutsideHandler(e){const t=this
if(clearInterval(t._outsideAutoScroll),!t._selectionStarted)return
const i=t.$.input.getBoundingClientRect(),n=i.y+10,r=i.y+i.height-10
if(e.pageY>n&&e.pageY<r)return
function o(i){const n=t.getBoundingClientRect(),r=document.documentElement,o=i?"Left":"Top";(i?n.left+r.scrollLeft-e.pageX:n.top+r.scrollTop-e.pageY)>0?(t.$.input["scroll"+o]-=10,t._scrollView["scroll"+o]-=10):(t.$.input["scroll"+o]+=10,t._scrollView["scroll"+o]+=10)}!(new Date-t._selectionStartTime<300)&&(Math.abs(t._pointerDown.pageX-e.pageX)>=3||Math.abs(t._pointerDown.pageY-e.pageY)>=3)&&(t._outsideAutoScroll=setInterval(function(){o(),o(!0)},10))}_selectStartHandler(){}_styleChangedHandler(){}})
var re=Object.freeze({})
JQX("jqx-tank",class extends JQX.BaseElement{static get properties(){return{coerce:{value:!1,type:"boolean"},customInterval:{value:!1,type:"boolean"},customTicks:{reflectToAttribute:!1,value:["0","50","100"],type:"array"},dateLabelFormatString:{value:"d",type:"string"},decimalSeparator:{value:".",type:"string"},interval:{value:"1",type:"any"},inverted:{value:!1,type:"boolean"},labelFormatFunction:{value:null,type:"function?"},labelsVisibility:{value:"all",allowedValues:["all","endPoints","none"],type:"string"},logarithmicScale:{value:!1,type:"boolean"},max:{value:"100",type:"any"},mechanicalAction:{value:"switchWhileDragging",allowedValues:["switchUntilReleased","switchWhenReleased","switchWhileDragging"],type:"string"},messages:{value:{en:{missingReference:"{{elementType}}: Missing reference to {{files}}.",significantPrecisionDigits:"{{elementType}}: the properties significantDigits and precisionDigits cannot be set at the same time.",invalidMinOrMax:"{{elementType}}: Invalid {{property}} value. Max cannot be lower than Min.",noInteger:'{{elementType}}: precisionDigits could be set only on "floatingPoint" scaleType.'}},type:"object",extend:!0},min:{value:"0",type:"any"},mode:{value:"numeric",allowedValues:["numeric","date"],type:"string"},name:{value:"",type:"string"},orientation:{value:"vertical",allowedValues:["horizontal","vertical"],type:"string"},precisionDigits:{value:null,type:"number?"},scalePosition:{value:"near",allowedValues:["near","far","both","none"],type:"string"},scaleType:{value:"floatingPoint",allowedValues:["floatingPoint","integer"],type:"string"},scientificNotation:{value:!1,type:"boolean"},showThumbLabel:{value:!1,type:"boolean"},showTooltip:{value:!1,type:"boolean"},showUnit:{value:!1,type:"boolean"},significantDigits:{value:null,type:"number?"},thumbLabelPosition:{value:"near",allowedValues:["near","far"],type:"string"},ticksPosition:{value:"scale",allowedValues:["scale","track"],type:"string"},ticksVisibility:{value:"minor",allowedValues:["major","minor","none"],type:"string"},tooltipPosition:{value:"near",allowedValues:["near","far"],type:"string"},unit:{value:"kg",type:"string"},validation:{value:"strict",allowedValues:["strict","interaction"],type:"string"},value:{value:"0",type:"any"},wordLength:{value:"int32",allowedValues:["int8","uint8","int16","uint16","int32","uint32","int64","uint64"],type:"string"}}}static get listeners(){return{"track.down":"_trackDownHandler","track.move":"_trackMoveHandler","document.move":"_documentMoveHandler","document.up":"_documentUpHandler",keydown:"_keydownHandler",resize:"_resizeHandler",styleChanged:"_styleChangedHandler","document.selectstart":"_selectStartHandler","track.mouseenter":"_trackOnMouseEnterHandler","track.mouseleave":"_trackOnMouseLeaveHandler"}}static get requires(){return{"JQX.Utilities.BigNumber":"jqxmath.js","JQX.Utilities.NumericProcessor":"jqxnumeric.js","JQX.Utilities.TickIntervalHandler":"jqxtickintervalhandler.js"}}static get styleUrls(){return["jqx.tank.css"]}template(){return'<div id="container" class="jqx-container" role="presentation">\n                    <div id="scaleNear" class="jqx-scale jqx-scale-near" role="presentation" aria-hidden="true"></div>\n                    <div id="track" class="jqx-track" role="presentation">\n                        <div id="fill" class="jqx-value" role="presentation">\n                            <div id="bubbleContainer" class="jqx-bubble-container" role="presentation"></div>\n                            <div id="tooltip" class="jqx-tooltip" role="tooltip"><div id="tooltipContent" class="jqx-tooltip-content jqx-unselectable" role="presentation"></div></div>\n                            <div id="thumb" class="jqx-thumb">\n                                <div class="jqx-thumb-label-container">\n                                    <span id="thumbLabel" class="jqx-thumb-label"></span>\n                                </div>\n                            </div>\n                        </div>\n                        <div id="trackTicksContainer" class="jqx-track-ticks-container jqx-hidden" role="presentation"></div>\n                    </div>\n                    <div id="scaleFar" class="jqx-scale jqx-scale-far" role="presentation" aria-hidden="true"></div>\n                    <input id="hiddenInput" type="hidden" name="[[name]]">\n                </div>'}ready(){super.ready()
this._redefineProperty("customTicks"),this.checkLicense()}render(){const e=this
e.setAttribute("role","slider"),this._createElement(),e.enableShadowDOM&&e.$.hiddenInput&&e.appendChild(e.$.hiddenInput),super.render()}_createElement(){const e=this
e.$.tooltip.id||(e.$.tooltip.id=e.id+"Tooltip"),e.setAttribute("aria-describedby",e.$.tooltip.id),e.$.fill.style.transition="none","numeric"===e.mode?e._getEventValue=function(){return e.value}:e._handleDateScale(),e._setSettingsObject(),e._setDrawVariables(),e._getLayoutType(),e._numericProcessor=new JQX.Utilities.NumericProcessor(e,"scaleType"),e._numberRenderer=new JQX.Utilities.NumberRenderer,e._isVisible()?(e._renderingSuspended=!1,e._setInitialComponentDisplay(),e._measurements={},e._wordLengthNumber=e._numericProcessor.getWordLength(e.wordLength),e._validateInitialPropertyValues(),e._setTicksAndInterval(),e._validate(!0),e._updateTooltipValue(e._drawValue),e._setFocusable(),e._setTrackSize(),e._setBubbles(),e.$.fill.style.transition="",e.$.hiddenInput.value=e._getEventValue(),e.setAttribute("aria-orientation",e.orientation),e._setAriaValue("valuenow")):e._renderingSuspended=!0}val(e){const t=this
if(void 0===e)return t._getEventValue()
if("date"===t.mode){let i=JQX.Utilities.DateTime.validateDate(e)
return 0!==(i=i.getTimeStamp()).compare(t.value)?void t._validate(!1,i,void 0,!0):t._valueDate}if(t.value.toString().toUpperCase()===e.toString().toUpperCase())return t.value="string"==typeof e?e:e.toString()
{e=e.toString().replace(/\s/g,""),t._numericProcessor.regexScientificNotation.test(e)&&(e=t._numericProcessor.scientificToDecimal(e))
const i=t._discardDecimalSeparator(e.toString())
t._validate(!1,i,void 0,!0),delete t._valueBeforeCoercion}}_setBubbles(){if(!this.hasAnimation)return
let e,t=document.createDocumentFragment()
for(let i=0;i<5;i++)(e=document.createElement("div")).classList.add("bubble"),e.classList.add("bubble"+(i+1)),t.appendChild(e)
this.$.bubbleContainer.appendChild(t)}_setTrackSize(){const e=this
"vertical"===e.orientation?e._trackSize=e.$.track.offsetWidth:e._trackSize=e.$.track.offsetHeight}getOptimalSize(){const e=this
if(e._renderingSuspended)return{width:0,height:0}
let t,i,n
switch(e.labelsVisibility){case"all":i=e._numericProcessor._longestLabelSize
break
case"endPoints":i=Math.max(e._tickIntervalHandler.labelsSize.minLabelOtherSize,e._tickIntervalHandler.labelsSize.maxLabelOtherSize)
break
case"none":i=0}switch(e.orientation){case"horizontal":return t={marginA:"marginBottom",marginB:"marginTop",nearScaleDistance:"bottom",farScaleDistance:"top",paddingA:"paddingBottom",paddingB:"paddingTop",offset:"offsetWidth",distance:"left"},e._orientationChanged&&(t.offset="offsetHeight",e._trackChanged=!0),{width:(n=e._getSize(i,t)).optimalOtherSize,height:n.optimalSize}
case"vertical":return t={marginA:"marginLeft",marginB:"marginRight",nearScaleDistance:"right",farScaleDistance:"left",paddingA:"paddingLeft",paddingB:"paddingRight",offset:"offsetHeight",distance:"top"},e._orientationChanged&&(t.offset="offsetWidth",e._trackChanged=!0),{width:(n=e._getSize(i,t)).optimalSize,height:n.optimalOtherSize}}}propertyChangedHandler(e,t,i){super.propertyChangedHandler(e,t,i)
const n=this
if(n._isVisible()&&!n._renderingSuspended)if(i!=t)switch(e){case"labelsVisibility":case"ticksVisibility":return void n._updateScaleWidth(n._numericProcessor._longestLabelSize)
case"coerce":if(i){const e=n.value,t=i=n.logarithmicScale?Math.pow(10,n._numericProcessor.getCoercedValue(Math.log10(e))):n._numericProcessor.getCoercedValue(e)
n._validate(!1,t,!0,!0),n._valueBeforeCoercion=e}else void 0!==n._valueBeforeCoercion&&n._validate(!1,n._valueBeforeCoercion,!1,!0)
return
case"interval":{n._numericProcessor.validateInterval(i)
const e=i=n.logarithmicScale?Math.pow(10,n._numericProcessor.getCoercedValue(Math.log10(n.value))):n._numericProcessor.getCoercedValue(n.value)
n._validate(!1,e,n.coerce,!0)
break}case"min":case"max":{"date"===n.mode&&(delete n._dateInterval,n[e]=JQX.Utilities.DateTime.validateDate(i).getTimeStamp()),n._validateMinMax(e,!1,t)
const r=n._numericProcessor.createDescriptor(n._discardDecimalSeparator(n.value,n.decimalSeparator),void 0,!0,"strict"===n.validation)
n._setTicksAndInterval(),n._numericProcessor.updateValue(r)
let o=n.getOptimalSize(),a=n.getBoundingClientRect(),s=n.$.track.getBoundingClientRect()
o.width>a.width&&s.width<20&&(n.style.width=o.width+"px",n.style.height=o.height+"px")
break}case"inverted":case"rightToLeft":{n._getLayoutType(),n._normalLayout&&(n.$.fill.style[n._settings.margin]="0px")
let e=n._numericProcessor.createDescriptor(n.value),t=n._numericProcessor.validate(e,n._minObject,n._maxObject)
n._setTicksAndInterval(),n._numericProcessor.updateValue(t)
break}case"orientation":{const e=n.$.fill.style,t=n.$.container.style
switch(!0!==n._orientationChanged&&(n._orientationChanged=!0),n._tankSizeBeforeOrientation={width:n.offsetWidth,height:n.offsetHeight},n._setSettingsObject(),n._getLayoutType(),n.rightToLeft&&(e.marginLeft="0"),n.inverted&&(e.marginTop="0",e.marginLeft="0"),n.orientation){case"vertical":n.inverted||(e.marginTop="auto",e.marginLeft="0"),e.width="100%",t.paddingLeft="0",t.paddingRight="0"
break
case"horizontal":(!n.inverted||!n.inverted&&!n.rightToLeft||n.rightToLeft&&n.inverted)&&(e.marginTop="0",e.marginLeft="auto"),e.height="100%",t.paddingTop="0",t.paddingBottom="0"}n._validateMinMax("both")
const r=n._numericProcessor.createDescriptor(n.value),o=n._numericProcessor.validate(r,n._minObject,n._maxObject)
n._setTicksAndInterval(),n._setTicksAndInterval(),n._numericProcessor.updateValue(o),n._trackChanged=!0,n.setAttribute("aria-orientation",i)
break}case"significantDigits":case"precisionDigits":if("date"===n.mode)return
if("precisionDigits"===e&&"integer"===n.scaleType&&n.error(n.localize("noInteger",{elementType:n.nodeName.toLowerCase(),property:e})),"significantDigits"===e&&null!==n.precisionDigits?n.precisionDigits=null:"precisionDigits"===e&&null!==n.significantDigits&&(n.significantDigits=null),n._validateInitialPropertyValues(),n._setTicksAndInterval(),"horizontal"===n.orientation&&(n.inverted||n.rightToLeft)){const e=n._numericProcessor.valueToPx(n._numericProcessor.getCoercedValue(n._drawValue))
n.updateFillSizeAndPosition(e,n._settings.margin,i,!1)}break
case"decimalSeparator":{if("integer"===n.scaleType||"date"===n.mode)return
const e=n._discardDecimalSeparator(n.value,t),i=n._applyDecimalSeparator(e)
n.value=e,delete n._valueBeforeCoercion,n._numericProcessor.addTicksAndLabels(),n._updateTooltipValue(i)
break}case"value":if(n.value=t,null===i)return
if("date"===n.mode){let e=JQX.Utilities.DateTime.validateDate(i)
return void(0!==(e=e.getTimeStamp()).compare(t)&&n._validate(!1,e,void 0,!0))}if(i.toString().toUpperCase()!==t.toString().toUpperCase()){let e=void 0!==i?i.toString().replace(/\s/g,""):t.toString().replace(/\s/g,"")
n._numericProcessor.regexScientificNotation.test(e)&&(e=n._numericProcessor.scientificToDecimal(e)),n._validate(!1,e,void 0,!0),delete n._valueBeforeCoercion}else n.value="string"==typeof i?i:i.toString()
break
case"scaleType":if("date"===n.mode)return void(n.scaleType="integer")
n._changeScaleType(t,i)
break
case"disabled":case"unfocusable":n._setFocusable()
break
case"showUnit":case"unit":n._setTicksAndInterval(),n._moveThumbBasedOnValue(n._drawValue)
break
case"tooltipPosition":break
case"wordLength":{if("date"===n.mode)return void(n.wordLength="uint64")
n._wordLengthNumber=n._numericProcessor.getWordLength(i),n._validateMinMax("both")
const e=n._numericProcessor.createDescriptor(n.value),t=n._numericProcessor.validate(e,n._minObject,n._maxObject)
n._setTicksAndInterval(),n._numericProcessor.updateValue(t)
break}case"scalePosition":n._setInitialComponentDisplay(),n._setTicksAndInterval(),n._moveThumbBasedOnValue(n._drawValue)
break
case"labelFormatFunction":case"scientificNotation":{if("date"===n.mode&&"scientificNotation"===e)return
const t=n._discardDecimalSeparator(n.value,n.decimalSeparator)
n._setTicksAndInterval(),n._updateTooltipValue(t)
break}case"logarithmicScale":if("date"===n.mode)return void(n.logarithmicScale=!1)
n._validateMinMax("both"),n._setTicksAndInterval(),n._validate(!1,n.value,void 0,!0)
break
case"ticksPosition":"scale"===i?(n.$trackTicksContainer.addClass("jqx-hidden"),n.$.trackTicksContainer.innerHTML=""):n.$trackTicksContainer.removeClass("jqx-hidden"),n._numericProcessor.addTicksAndLabels()
break
case"customInterval":i?(n._customTicks&&(n.customTicks=n._customTicks),n._numericProcessor.validateCustomTicks()):"date"===n.mode&&(n._customTicks=n.customTicks),n._setTicksAndInterval(),n._coerceCustomInterval()
break
case"customTicks":if("date"===n.mode&&!n.customInterval)return n._customTicks=i,void(n.customTicks=t)
n._numericProcessor.validateCustomTicks(),n.customInterval&&(n._setTicksAndInterval(),n._coerceCustomInterval())
break
case"dateLabelFormatString":"date"===n.mode&&n._setTicksAndInterval()
break
case"mode":n.mode=t
break
case"showThumbLabel":i&&n.showTooltip&&(n.showTooltip=!1)
break
case"showTooltip":i&&n.showThumbLabel&&(n.showThumbLabel=!1)
break
case"validation":"strict"===i&&n._validate(!1,n.value)}else n[e]=t
else n._renderingSuspended=!0}_setSettingsObject(){const e=this
"horizontal"===e.orientation?e._settings={clientSize:"clientWidth",dimension:"width",leftOrTop:"left",margin:"marginLeft",offset:"offsetLeft",otherSize:"offsetHeight",size:"offsetWidth",page:"pageX"}:e._settings={clientSize:"clientHeight",dimension:"height",leftOrTop:"top",margin:"marginTop",offset:"offsetTop",otherSize:"offsetWidth",size:"offsetHeight",page:"pageY"}}_setInitialComponentDisplay(){const e=this
switch(e.scalePosition){case"near":e.$scaleNear.removeClass("jqx-hidden"),e.$scaleFar.addClass("jqx-hidden")
break
case"far":e.$scaleNear.addClass("jqx-hidden"),e.$scaleFar.removeClass("jqx-hidden")
break
case"both":e.$scaleFar.removeClass("jqx-hidden"),e.$scaleNear.removeClass("jqx-hidden")
break
case"none":e.$scaleFar.addClass("jqx-hidden"),e.$scaleNear.addClass("jqx-hidden")}e.$tooltip.addClass("jqx-hidden"),"track"===e.ticksPosition&&e.$trackTicksContainer.removeClass("jqx-hidden")}_styleChangedHandler(){const e=this
e._isVisible()?e._renderingSuspended?e._createElement():e._renderingSuspended||(e._setTicksAndInterval(),e._moveThumbBasedOnValue(e._drawValue)):e._renderingSuspended=!0}_validateInitialPropertyValues(){const e=this,t=typeof e.value===String?e.value.replace(/\s/g,""):e.value.toString().replace(/\s/g,"")
"numeric"===e.mode&&e._numericProcessor.regexScientificNotation.test(t)&&(e.value=e._numericProcessor.scientificToDecimal(t),delete e._valueBeforeCoercion),e.significantDigits=null!==e.significantDigits?Math.min(Math.max(e.significantDigits,1),21):null,null===e.significantDigits&&null===e.precisionDigits?e.significantDigits=8:null!==e.significantDigits&&null!==e.precisionDigits&&e.error(e.localize("significantPrecisionDigits",{elementType:e.nodeName.toLowerCase()})),e._validateMinMax("both",!0),e.showTooltip&&e.showThumbLabel&&(e.showTooltip=!1)}_validateMinMax(e,t,i){const n=this
let r="min"===e||"both"===e,o="max"===e||"both"===e
function a(e,i){n._numericProcessor.validateMinMax("min"===e||t,"max"===e||t)
const a=n["_"+e+"Object"];("min"===e?n._numericProcessor.compare(n.max,a,!0)<=0:n._numericProcessor.compare(n.min,a,!0)>0)?i?(n._numberRenderer=new JQX.Utilities.NumberRenderer(i),"min"===e?r=!1:o=!1,n[e]=i,n["_"+e+"Object"]=i):n.error(n.localize("invalidMinOrMax",{elementType:n.nodeName.toLowerCase(),property:e})):(n._numberRenderer=new JQX.Utilities.NumberRenderer(a),n[e]=n["_"+e+"Object"])}void 0===typeof t&&(t=!1),"both"===e?(a("min",i),a("max",i)):a(e,i),n.logarithmicScale?n._validateOnLogarithmicScale(r,o,i):(n._drawMin=n.min,n._drawMax=n.max),n.min=n.min.toString(),n.max=n.max.toString(),n._minObject=n._numericProcessor.createDescriptor(n.min),n._maxObject=n._numericProcessor.createDescriptor(n.max),"date"===n.mode&&(n._minDate=JQX.Utilities.DateTime.fromFullTimeStamp(n.min),n._maxDate=JQX.Utilities.DateTime.fromFullTimeStamp(n.max)),n._numericProcessor.validateInterval(n.interval),n.customInterval&&n._numericProcessor.validateCustomTicks(),n._setAriaValue("valueminmax")}_calculateTickInterval(){const e=this
let t=e._tickIntervalHandler.getInterval("linear",e._drawMin,e._drawMax,e.$.track,e.logarithmicScale)
t.major!==e._majorTicksInterval?(e._intervalHasChanged=!0,e._majorTicksInterval=t.major):e._intervalHasChanged=!0,e._minorTicksInterval=t.minor,"date"===e.mode&&e._calculateDateInterval(t.major)}_calculateDateInterval(e){const t=this,i={month:"2628000000000000000000000000000",day:"86400000000000000000000000000",hour:"3600000000000000000000000000",minute:"60000000000000000000000000",second:"1000000000000000000000000"}
let n="year",r=new JQX.Utilities.BigNumber("31536000000000000000000000000000"),o=r.subtract(e).abs(),a=new JQX.Utilities.BigNumber(t.min).subtract(t.max).abs(),s=a.divide(e).toString()
s<2&&(e=a.divide(3))
for(let t in i)if(i.hasOwnProperty(t)){const a=new JQX.Utilities.BigNumber(i[t]),s=a.subtract(e).abs()
if(-1!==s.compare(o))break
n=t,r=a,o=s}if("second"===n){if(t._numberRenderer.numericValue=parseFloat(e),t._numberRenderer.numericValue<1e3)return t._dateIncrementMethod="addYoctoseconds",void(t._dateIntervalNumber=1)
let i=t._numberRenderer.toScientific(10)
return i=i.charAt(i.length-1),t._dateIncrementMethod=t._unitToMethod[i],void(t._dateIntervalNumber=Math.pow(10,t._numericProcessor.prefixesToPowers[i]))}t._dateInterval=!0
const l=!t.customInterval
let d,c,h
switch(l&&(d=[new JQX.Utilities.BigNumber(t.min)],c=a.divide(r).toString(),h=Math.max(1,Math.floor(c/s))),n){case"year":if(l)for(let e=t._minDate.year()+h;e<t._maxDate.year();e+=h)d.push(new JQX.Utilities.BigNumber(new JQX.Utilities.DateTime(e,1,1).getTimeStamp()))
t._dateIncrementMethod="addYears"
break
case"month":if(l)for(let e=new JQX.Utilities.DateTime(t._minDate.year(),t._minDate.month()+h,1);-1===e.compare(t._maxDate);e.addMonths(h,!1))d.push(new JQX.Utilities.BigNumber(e.getTimeStamp()))
t._dateIncrementMethod="addMonths"
break
case"day":if(l)for(let e=new JQX.Utilities.DateTime(t._minDate.year(),t._minDate.month(),t._minDate.day()+h);-1===e.compare(t._maxDate);e.addDays(h,!1))d.push(new JQX.Utilities.BigNumber(e.getTimeStamp()))
t._dateIncrementMethod="addDays",t._dateIntervalNumber=8.64e28
break
case"hour":if(l)for(let e=new JQX.Utilities.DateTime(t._minDate.year(),t._minDate.month(),t._minDate.day(),t._minDate.hour()+h);-1===e.compare(t._maxDate);e.addHours(h,!1))d.push(new JQX.Utilities.BigNumber(e.getTimeStamp()))
t._dateIncrementMethod="addHours",t._dateIntervalNumber=3.6e27
break
case"minute":if(l)for(let e=new JQX.Utilities.DateTime(t._minDate.year(),t._minDate.month(),t._minDate.day(),t._minDate.hour(),t._minDate.minute()+h);-1===e.compare(t._maxDate);e.addMinutes(h,!1))d.push(new JQX.Utilities.BigNumber(e.getTimeStamp()))
t._dateIncrementMethod="addMinutes",t._dateIntervalNumber=6e25}l&&(-1===d[d.length-1].compare(t.max)&&d.push(new JQX.Utilities.BigNumber(t.max)),t.customTicks=d)}_formatNumber(e){const t=this
if("date"===t.mode){return JQX.Utilities.DateTime.fromFullTimeStamp(e).toString(t.dateLabelFormatString)}const i=t._numberRenderer
let n=parseFloat(e)
if(i.numericValue=e,t.scientificNotation)n=t._numberRenderer.toScientific(t.significantDigits,t.precisionDigits)
else switch(t.scaleType){case"floatingPoint":n=t._applyDecimalSeparator(i.toDigits(t.significantDigits,t.precisionDigits))
break
case"integer":n=i.isENotation(n)?Math.round(i.largeExponentialToDecimal(n)):Math.round(n),n=i.toDigits(t.significantDigits,0)}return n}_formatLabel(e,t){const i=this
let n
return i.labelFormatFunction&&("date"===i.mode&&(e=JQX.Utilities.DateTime.fromFullTimeStamp(e)),void 0!==(n=i.labelFormatFunction(e))&&""!==n)?n:(n=i._formatNumber(e),i._numberRenderer=new JQX.Utilities.NumberRenderer(n),i.showUnit&&(n+=!1!==t?' <span class="jqx-unselectable">'+i.unit+"</span>":" "+i.unit),n)}_layout(){const e=this,t=e.$.container.style,i=e._tickIntervalHandler.labelsSize.minLabelSize/2+"px",n=e._tickIntervalHandler.labelsSize.maxLabelSize/2+"px"
switch(e.orientation){case"horizontal":if("none"===e.scalePosition){t.paddingLeft="",t.paddingRight=""
break}!e.inverted&&!e.rightToLeft||e.rightToLeft&&e.inverted?(t.paddingLeft=i,t.paddingRight=n):(t.paddingLeft=n,t.paddingRight=i)
break
case"vertical":if("none"===e.scalePosition){t.paddingTop="",t.paddingBottom=""
break}e.inverted?(t.paddingBottom=n,t.paddingTop=i):(t.paddingBottom=i,t.paddingTop=n)}e._measurements.trackLength=e.$.track[this._settings.clientSize]}_trackDownHandler(e){const t=this
t.disabled||t.readonly||!JQX.Utilities.Core.isMobile&&0!==e.button||("switchUntilReleased"===t.mechanicalAction&&(t._cachedValue={},t._cachedValue._number=t._number,t._cachedValue._drawValue=t._drawValue,t._cachedValue.value=t.value,t._valueDate&&(t._cachedValue._valueDate=t._valueDate)),t._getTrackStartAndEnd(),t._moveThumbBasedOnCoordinates(e,!0,"switchWhenReleased"!==t.mechanicalAction),t._thumbDragged=!0,t.$track.addClass("jqx-dragged"),t.showTooltip&&t.$tooltip.removeClass("jqx-hidden"))}_trackMoveHandler(e){"touchmove"===e.originalEvent.type&&e.originalEvent.preventDefault()}_documentMoveHandler(e){const t=this
t._thumbDragged&&(e.originalEvent.preventDefault(),t._moveThumbBasedOnCoordinates(e,!0,"switchWhenReleased"!==t.mechanicalAction),t.$fill.addClass("disable-animation"))}_documentUpHandler(e){const t=this
if(t._thumbDragged){if("switchWhenReleased"===t.mechanicalAction)t._moveThumbBasedOnCoordinates(e,!0,!0)
else if("switchUntilReleased"===t.mechanicalAction&&t._numericProcessor.compare(t._number,t._cachedValue._number)){const e=t._getEventValue()
t._number=t._cachedValue._number,t._drawValue=t._cachedValue._drawValue,t._cachedValue._valueDate&&(t._valueDate=t._cachedValue._valueDate),t.value=t._cachedValue.value,t._moveThumbBasedOnValue(t._drawValue)
const i=t._getEventValue()
t.$.fireEvent("change",{value:i,oldValue:e}),t.$.hiddenInput.value=i,t._setAriaValue("valuenow")}t.showTooltip&&t.$tooltip.addClass("jqx-hidden"),t._thumbDragged=!1,t.$track.removeClass("jqx-dragged"),t.$fill.removeClass("disable-animation")}}_selectStartHandler(e){this._thumbDragged&&e.preventDefault()}_resizeHandler(){const e=this
e._isVisible()?e._renderingSuspended?e._createElement():e._renderingSuspended||(!0!==e._orientationChanged&&(e._setTicksAndInterval(),e._moveThumbBasedOnValue(e._drawValue)),e._trackChanged&&(e._measurements.trackLength=e.$.track[this._settings.clientSize],e._setTicksAndInterval(),e._moveThumbBasedOnValue(e._drawValue)),e._setTrackSize(),delete e._orientationChanged,delete e._trackChanged):e._renderingSuspended=!0}_moveThumbBasedOnCoordinates(e,t,i){const n=this
let r=t?Math.min(Math.max(e[n._settings.page],n._trackStart),n._trackEnd):e[n._settings.page],o=n._numericProcessor.pxToValue(r)
n.logarithmicScale?(n._drawValue=Math.log10(o),o=n._numericProcessor.getCoercedValue(n._drawValue)):(n._drawValue=o,o=n._numericProcessor.getCoercedValue(o))
const a=(r=Math.min(Math.max(n._numericProcessor.valueToPx(o)+n._trackStart,n._trackStart),n._trackEnd))-n._trackStart
n.updateFillSizeAndPosition(a,n._settings.margin,o,!0,i),e.originalEvent&&e.originalEvent.stopPropagation()}_moveThumbBasedOnValue(e){const t=this._numericProcessor.valueToPx(this._numericProcessor.getCoercedValue(e))
this.updateFillSizeAndPosition(t,this._settings.margin,e,!0)}updateFillSizeAndPosition(e,t,i,n,r){const o=this,a=o.$.fill.style
if(o._normalLayout?a[o._settings.dimension]=e+"px":(a[o._settings.dimension]=Math.min(o._measurements.trackLength,Math.max(0,o._measurements.trackLength-e))+"px",a[t]=e+"px"),n){const e=o.value
delete o._valueBeforeCoercion,o._numericProcessor.updateToolTipAndValue(i,e,r)}}_updateTooltipValue(e){const t=this
void 0===e&&(e=t.value),t.logarithmicScale&&(e=Math.pow(10,e.toString())),e=t._formatLabel(e),t.$.tooltipContent.innerHTML=e,t.$.thumbLabel.innerHTML=e}_getSize(e,t){const i=this,n=window.getComputedStyle(i),r=window.getComputedStyle(i.$.track),o=i._trackSize+parseFloat(r[t.marginA])+parseFloat(r[t.marginB])
let a,s,l,d,c,h,u
function p(e,t){const i=e.getElementsByClassName("jqx-label")
a=i[0],s=i[i.length-1]
const n=window.getComputedStyle(i[0])[t]
l+=parseFloat(n)}switch(l=o,i.scalePosition){case"none":return l+=parseFloat(n[t.paddingA])+parseFloat(n[t.paddingB]),d=void 0!==i._tankSizeBeforeOrientation?"horizontal"===i.orientation?i._tankSizeBeforeOrientation.height:i._tankSizeBeforeOrientation.width:"horizontal"===i.orientation?parseFloat(r.width):parseFloat(r.height),!0!==i._trackChanged&&(i._trackChanged=!0),{optimalSize:l,optimalOtherSize:d}
case"near":l+=e,p(i.$.scaleNear,t.nearScaleDistance)
break
case"far":l+=e,p(i.$.scaleFar,t.farScaleDistance)
break
case"both":l+=2*e,p(i.$.scaleNear,t.nearScaleDistance),p(i.$.scaleFar,t.farScaleDistance)}return l+=parseFloat(n[t.paddingA])+parseFloat(n[t.paddingB]),c=a.getBoundingClientRect(),h=s.getBoundingClientRect(),d=i[t.offset],(u=c[t.distance]+a[t.offset]-h[t.distance])>0&&(d=a[t.offset]+s[t.offset]),{optimalSize:l,optimalOtherSize:d}}_getRange(){const e=this
e.logarithmicScale?e._range=e._drawMax-e._drawMin:"floatingPoint"===e.scaleType?e._range=(e._drawMax-e._drawMin).toString():e._range=new JQX.Utilities.BigNumber(e._drawMax).subtract(e._drawMin).toString()}_getTrackStartAndEnd(){let e,t=this.$.track.getBoundingClientRect()
if("horizontal"===this.orientation){const i=document.body.scrollLeft||document.documentElement.scrollLeft
e=t.left+i}else{const i=document.body.scrollTop||document.documentElement.scrollTop
e=t.top+i}const i=e+this._measurements.trackLength,n=i-e
this._trackStart=e,this._trackEnd=i,this._valuePerPx=this._numericProcessor.getValuePerPx(this._range,n)}_updateScaleWidth(e){const t=this
let i="track"===t.ticksPosition?4:12
switch(t.labelsVisibility){case"all":e=t._numericProcessor._longestLabelSize
break
case"endPoints":e=Math.max(t._tickIntervalHandler.labelsSize.minLabelOtherSize,t._tickIntervalHandler.labelsSize.maxLabelOtherSize)
break
case"none":e=0}let n=i+e,r=window.getComputedStyle(t.$.track)
if(Boolean(r.getPropertyValue("--jqx-tank-scale-size")))t.$.container.style.setProperty("--jqx-tank-scale-size",n+"px")
else{const e=window.getComputedStyle(t),i=t.$.scaleNear.style,o=t.$.scaleFar.style,a=t.$.track.style,s=parseFloat(r.getPropertyValue("min-width"))
let l,d,c,h,u,p=(parseFloat(r.getPropertyValue("outline-width"))||0)+(parseFloat(r.getPropertyValue("outline-offset"))||0)
switch(t.orientation){case"horizontal":l="height",d="width",c=t.offsetHeight,u=parseFloat(e.getPropertyValue("padding-top"))+parseFloat(e.getPropertyValue("padding-bottom")),h=parseFloat(r.getPropertyValue("margin-top"))+parseFloat(r.getPropertyValue("margin-bottom"))
break
case"vertical":l="width",d="height",c=t.offsetWidth,u=parseFloat(e.getPropertyValue("padding-left"))+parseFloat(e.getPropertyValue("padding-right")),h=parseFloat(r.getPropertyValue("margin-left"))+parseFloat(r.getPropertyValue("margin-right"))}switch(t.scalePosition){case"near":i.setProperty(l,n+"px"),a.setProperty(l,Math.max(isNaN?0:s,c-u-n-4-h-p)+"px")
break
case"far":o.setProperty(l,n+"px"),a.setProperty(l,Math.max(isNaN?0:s,c-u-n-4-h-p)+"px")
break
case"both":i.setProperty(l,n+"px"),o.setProperty(l,n+"px"),a.setProperty(l,Math.max(isNaN?0:s,c-u-2*n-4-h-p)+"px")
break
case"none":a.setProperty(l,"")}a.setProperty(d,"100%"),i.setProperty(d,"100%"),o.setProperty(d,"100%")}}_appendTicksAndLabelsToScales(e,t){const i=this
function n(n){n.innerHTML=t,"scale"===i.ticksPosition&&(n.innerHTML+=e)}switch(i.scalePosition){case"near":n(i.$.scaleNear)
break
case"far":n(i.$.scaleFar)
break
case"both":n(i.$.scaleNear),n(i.$.scaleFar)}"track"===i.ticksPosition&&(i.$.trackTicksContainer.innerHTML=e)}_discardDecimalSeparator(e,t){if(void 0===t&&(t=this.decimalSeparator),"."!==t){let i=new RegExp(t,"g")
return"string"==typeof e?e.replace(i,"."):e.toString().replace(i,".")}return e}_applyDecimalSeparator(e){const t=this
return"string"!=typeof e&&(e=e.toString()),"."!==t.decimalSeparator&&(e=e.replace(/\./g,t.decimalSeparator)),e}_validate(e,t,i,n){const r=this
let o,a,s
r._programmaticValueIsSet=n&&"interaction"===r.validation,o=e?r.value:t,!0!==i&&r.coerce?(a=r._numericProcessor.createDescriptor(o,!0,!0,!0),s=a=r.logarithmicScale?Math.pow(10,r._numericProcessor.getCoercedValue(Math.log10(a))):r._numericProcessor.getCoercedValue(a)):"strict"===r.validation||!e&&!r._programmaticValueIsSet?s=a=r._numericProcessor.createDescriptor(o,!0,!0,!0):(a=r._numericProcessor.createDescriptor(o,!0,!0,!1),s=r._numericProcessor.validate(a,r._minObject,r._maxObject)),r._numericProcessor.regexScientificNotation.test(s)&&(s=r._numericProcessor.scientificToDecimal(s)),s=r._discardDecimalSeparator(s,r.decimalSeparator),e?(r._number=s,r._drawValue=r.logarithmicScale?Math.log10(s):s,"numeric"===r.mode?r.value=a.toString():(r._valueDate=JQX.Utilities.DateTime.fromFullTimeStamp(a),r.value=a),delete r._valueBeforeCoercion,r._moveThumbBasedOnValue(r._drawValue)):r._numericProcessor.updateValue(a),r._programmaticValueIsSet=!1}_changeScaleType(){this._numericProcessor=new JQX.Utilities.NumericProcessor(this,"scaleType"),this._validateMinMax("both"),this._setTicksAndInterval(),this._scaleTypeChangedFlag=!0,this._validate(!0,this._number.toString()),this._scaleTypeChangedFlag=!1}_setTicksAndInterval(){const e=this
if(!e._isVisible()||e._renderingSuspended)return void(e._renderingSuspended=!0)
let t=e._formatLabel(e.min),i=e._formatLabel(e.max)
e._getRange(),e._tickIntervalHandler=new JQX.Utilities.TickIntervalHandler(e,t,i,"jqx-label",e._settings.size,"integer"===e.scaleType,e.logarithmicScale),e._layout(),e.customInterval?("date"===e.mode&&e._calculateTickInterval(),e._intervalHasChanged=!0,e._numericProcessor.addCustomTicks()):(e._calculateTickInterval(),e._dateInterval?(e._intervalHasChanged=!0,e._numericProcessor.addCustomTicks()):e._numericProcessor.addTicksAndLabels())}_setFocusable(){const e=this
e.disabled||e.unfocusable?e.removeAttribute("tabindex"):e.tabIndex=e.tabIndex>0?e.tabIndex:0}_keyIncrementDecrement(e,t){const i=this,n="add"===e?1:-1,r=void 0===t
if(r&&(t=i.logarithmicScale?new JQX.Utilities.BigNumber(i._drawValue):i._drawValue),i.customInterval&&i.coerce){let o,a
r&&(i.logarithmicScale&&(t=i.value),"numeric"===i.mode&&(t=t.toString())),a="numeric"===i.mode?(o=-1!==i.customTicks.indexOf(i.min)?i.customTicks.slice(0):[i.min].concat(i.customTicks)).indexOf(t):(o=-1!==i.customTicks.findIndex(function(e){return 0===e.compare(i._drawMin)})?i.customTicks.slice(0):[i._drawMin].concat(i.customTicks)).findIndex(function(e){return 0===e.compare(t)})
const s=o[a+1*n]
return void 0!==s?s:t===i.max&&"subtract"===e?o[o.length-2]:t}if("numeric"===i.mode){let n=i._numericProcessor.incrementDecrement(t,e,i._validInterval)
return i.logarithmicScale&&(i._drawValue=n,n=Math.pow(10,Math.round(n))),n}return"interaction"!==i.validation||-1!==i._valueDate.compare(i._minDate)&&1!==i._valueDate.compare(i._maxDate)||(i._valueDate=JQX.Utilities.DateTime.fromFullTimeStamp(i._drawValue)),i._valueDate[i._dateIncrementMethod](n*parseFloat(i.interval),!1),i._drawValue=new JQX.Utilities.BigNumber(i._valueDate.getTimeStamp()),-1===i._drawValue.compare(i._drawMin)&&(i._drawValue=new JQX.Utilities.BigNumber(i._drawMin),i._valueDate=JQX.Utilities.DateTime.fromFullTimeStamp(i._drawValue)),1===i._drawValue.compare(i._drawMax)&&(i._drawValue=new JQX.Utilities.BigNumber(i._drawMax),i._valueDate=JQX.Utilities.DateTime.fromFullTimeStamp(i._drawValue)),i._drawValue}_keydownHandler(e){const t=this
if(t.disabled||t.readonly)return
const i=e.charCode?e.charCode:e.which
if(-1===[35,36,37,38,39,40].indexOf(i))return
const n=[35,38,39].indexOf(i)>-1,r=[36,37,40].indexOf(i)>-1
if(e.preventDefault(),"floatingPoint"===t.scaleType){if(parseFloat(t.value)<=parseFloat(t.min)&&r||parseFloat(t.value)>=parseFloat(t.max)&&n)return}else{let e=new JQX.Utilities.BigNumber(t._drawValue)
if(1!==e.compare(t._drawMin)&&r||-1!==e.compare(t._drawMax)&&n)return}let o
switch(i){case 40:case 37:o=t._keyIncrementDecrement("subtract")
break
case 38:case 39:o=t._keyIncrementDecrement("add")
break
case 36:t._drawValue=t._drawMin,o=t.min
break
case 35:t._drawValue=t._drawMax,o=t.max}return t._validate(!1,o,i),!1}_setDrawVariables(){const e=this
e.logarithmicScale?(e._drawValue=Math.log10(e.value),e._drawMin=Math.log10(e.min),e._drawMax=Math.log10(e.max)):(e._drawValue=e.value,e._drawMin=e.min,e._drawMax=e.max)}_validateOnLogarithmicScale(e,t){const i=this
function n(e){return Math.pow(10,Math.round(Math.log10(e)-Math.log10(5.5)+.5))}if(e)if(i.min<=0)i.min=1,i._drawMin=0
else if(Math.log10(i.min)%1!=0){let e=n(parseFloat(i.min))
e>i.min&&(e/=10),i._drawMin=Math.log10(i.min)}else i._drawMin=Math.log10(i.min)
if(t)if(i.max<=0)i.max=1,i._drawMax=0
else if(Math.log10(i.max)%1!=0){let e=n(parseFloat(i.max))
e<i.max&&(e*=10),i._drawMax=Math.log10(i.max)}else i._drawMax=Math.log10(i.max)
"integer"===i.scaleType&&(i._drawMin<0&&(i._drawMin=0,i.min=1),i._drawMax<0&&(i._drawMax=1,i.max=10)),i._drawMax===i._drawMin&&(i._drawMax=i._drawMin+1)}_getLayoutType(){const e=this.orientation,t=this.inverted,i=this.rightToLeft
this._normalLayout="horizontal"===e&&(!t&&!i||i&&t)||"vertical"===e&&t}_trackOnMouseEnterHandler(){const e=this
e.readonly||e.disabled||(e.$track.addClass("track-hovered"),e.$.track.setAttribute("hover",""))}_trackOnMouseLeaveHandler(){const e=this
e.readonly||e.disabled||(e.$track.removeClass("track-hovered"),e.$.track.removeAttribute("hover"))}_isVisible(){return!!(this.offsetWidth||this.offsetHeight||this.getClientRects().length)}_coerceCustomInterval(){if(!this.coerce)return
const e=this._valueBeforeCoercion,t=this.logarithmicScale?Math.pow(10,this._numericProcessor.getCoercedValue(Math.log10(this.value))):this._numericProcessor.getCoercedValue(this.value)
this._validate(!1,t,!0,!0),this._valueBeforeCoercion=e}_handleDateScale(){const e=this,t=JQX.Utilities.DateTime
t||e.error(e.localize("missingReference",{elementType:e.nodeName.toLowerCase(),files:"jqxdate.js"})),e._customTicks=e.customTicks,e._unitToMethod={Y:"addSeconds",Z:"addMilliseconds",E:"addMicroseconds",P:"addNanoseconds",T:"addPicoseconds",G:"addFemtoseconds",M:"addAttoseconds",k:"addZeptoseconds"},e._minDate=t.validateDate(e.min),e.min=e._minDate.getTimeStamp(),e._maxDate=t.validateDate(e.max),e.max=e._maxDate.getTimeStamp(),e.rangeSlider||(e._valueDate=t.validateDate(e.value),e.value=e._valueDate.getTimeStamp()),e._properties.min.serialize="_serializeMin",e._properties.max.serialize="_serializeMax",e._properties.value.serialize="_serializeValue",e.scaleType="integer",e.logarithmicScale=!1,e.wordLength="uint64"
const i=["min","max","value"]
for(let t=0;t<i.length;t++){const n=i[t]
Object.defineProperty(e,n,{get:function(){return e.context===e?e.properties[n].value:e["_"+n+"Date"]},set(t){e.updateProperty(e,e._properties[n],t)}})}e._getEventValue=function(t){return t?(e.setAttribute("aria-valuetext",e._valueDate.toString("f")),e.value.toString()):e._valueDate.clone()}}_serializeMin(){return this._minDate.toString()}_serializeMax(){return this._maxDate.toString()}_serializeValue(){return this._valueDate.toString()}_redefineProperty(e){const t=this
Object.defineProperty(t,e,{get:function(){return t.properties[e].value},set(i){function n(e,t){return t instanceof JQX.Utilities.BigNumber?t.toString():t}const r=t.properties[e].value
if(JSON.stringify(r,n)!==JSON.stringify(i,n)&&(t.properties[e].value=i,t.isReady&&(!t.ownerElement||t.ownerElement&&t.ownerElement.isReady)&&t.context!==t)){const n=t.context
t.context=t,t.propertyChangedHandler(e,r,i),t.context=n}}})}_setAriaValue(e){const t=this
"valuenow"===e?t.setAttribute("aria-valuenow",t._getEventValue(!0)):(t.setAttribute("aria-valuemin",t.min.toString()),t.setAttribute("aria-valuemax",t.max.toString()))}})
var oe=Object.freeze({})
JQX("jqx-gauge",class extends JQX.Tank{static get properties(){return{analogDisplayType:{value:"needle",allowedValues:["needle","fill","line"],type:"string"},animationDuration:{value:300,type:"number"},digitalDisplay:{value:!1,type:"boolean"},digitalDisplayPosition:{value:"bottom",allowedValues:["top","bottom","right","left","center"],type:"string"},drawNeedle:{value:null,type:"function?"},endAngle:{value:210,type:"number"},needlePosition:{value:"center",allowedValues:["center","edge"],type:"string"},ranges:{value:[],type:"array"},scalePosition:{value:"inside",allowedValues:["outside","inside","none"],type:"string"},showRanges:{value:!1,type:"boolean"},sizeMode:{value:"circle",allowedValues:["circle","auto","none"],type:"string"},startAngle:{value:-30,type:"number"}}}static get listeners(){return{down:"_downHandler",resize:"_resizeHandler",styleChanged:"_styleChangedHandler","document.move":"_documentMoveHandler","document.up":"_documentUpHandler","document.selectstart":"_selectStartHandler",keydown:"_keydownHandler",move:"_trackMoveHandler"}}static get requires(){return{"JQX.Utilities.Draw":"jqxdraw.js","JQX.NumericTextBox":"jqxnumerictextbox.js"}}static get styleUrls(){return["jqx.numerictextbox.css","jqx.gauge.css"]}template(){return'<div id="container" role="presentation">\n                <div id="svgContainer" class="jqx-svg-container" role="presentation" aria-hidden="true"></div>\n                <div class="jqx-digital-display-container" role="presentation">\n                    <jqx-numeric-text-box id="digitalDisplay"\n                                            class="jqx-digital-display"\n                                            decimal-separator="[[decimalSeparator]]"\n                                            max="[[max]]"\n                                            min="[[min]]"\n                                            name="[[name]]"\n                                            placeholder="Digital display"\n                                            readonly\n                                            right-to-left="[[rightToLeft]]"\n                                            input-format="[[scaleType]]"\n                                            scientific-notation="[[scientificNotation]]"\n                                            show-unit="[[showUnit]]"\n                                            unit="[[unit]]"\n                                            unfocusable\n                                            validation="interaction"\n                                            word-length="[[wordLength]]"\n                                            role="tooltip">\n                    </jqx-numeric-text-box>\n                </div>\n            </div>'}attached(){const e=this
super.attached(),e.isCompleted&&(e._trackListener&&(e._trackListener=new JQX.Utilities.InputEvents(e._track),e._trackListener.down(function(t){e._SVGElementDownHandler(t)})),e._fillListener&&(e._fillListener=new JQX.Utilities.InputEvents(e._fill),e._fillListener.down(function(t){e._SVGElementDownHandler(t)})),e._lineListener&&(e._lineListener=new JQX.Utilities.InputEvents(e._line),e._lineListener.down(function(t){e._SVGElementDownHandler(t)})))}detached(){super.detached(),this._unlisten()}ready(){super.ready()}getOptimalSize(){const e=this
return e._renderingSuspended?{width:0,height:0}:"auto"!==e.sizeMode?{width:e.offsetWidth,height:e._updateSize(!0)}:{width:e.offsetWidth,height:e.offsetHeight}}val(e){const t=this
if(void 0===e)return t._getEventValue()
if("date"===t.mode&&(e=(e=JQX.Utilities.DateTime.validateDate(e)).getTimeStamp()),t._numericProcessor.compare(e,t.value)){const i=t.value
if(t._validateValue(e,t.value),!t._isVisible()||t._renderingSuspended)return void(t._renderingSuspended=!0)
t._animate(i)}}_createElement(){const e=this
e.$.digitalDisplay.id||(e.$.digitalDisplay.id=e.id+"DigitalDisplay"),e.setAttribute("aria-describedby",e.$.digitalDisplay.id),"numeric"===e.mode?e._getEventValue=function(){return e.value}:(e._handleDateScale(),e.digitalDisplay=!1),e._numericProcessor=new JQX.Utilities.NumericProcessor(e,"scaleType"),e._numberRenderer=new JQX.Utilities.NumberRenderer,e._draw=new JQX.Utilities.Draw(e.$.svgContainer),e._isVisible()?(e._renderingSuspended=!1,e._setSettingsObject(),e._wordLengthNumber=e._numericProcessor.getWordLength(e.wordLength),e._measurements={},e._validateInitialPropertyValues(),e._getMeasurements(),e._setDrawVariables(),e._getRange(),e._numericProcessor.getAngleRangeCoefficient(),"numeric"!==e.mode&&e.coerce?e._coerceInitialDateValue=!0:e._validateValue(),e._initTickIntervalHandler(),e._renderAnalogItems(),delete e._preventResizeHandler,e._setFocusable(),e._setUpdatePointerMethod()):e._renderingSuspended=!0}propertyChangedHandler(e,t,i){function n(i,n,o,a){const s=i&&n?"both":e
r._validateMinMax(s,!1,t),"logarithmicScale"!==e&&"scaleType"!==e&&("wordLength"!==e&&r[e]===t||"wordLength"===e&&r.min===o&&r.max===a)||(r._setDrawVariables(),r._getRange(),r._numericProcessor.getAngleRangeCoefficient(),r._initTickIntervalHandler(),r._renderAnalogItems(),r._validateValue(r.value,r.value),r._updatePointer())}const r=this
if(r._isVisible()&&!r._renderingSuspended)switch(e){case"analogDisplayType":delete r._customSVGElements,r._getMeasurements(),"needle"===i&&"center"===r.digitalDisplayPosition?r.digitalDisplayPosition="bottom":"needle"===t&&"bottom"===r.digitalDisplayPosition&&(r.digitalDisplayPosition="center"),r._renderAnalogItems(),r._setUpdatePointerMethod()
break
case"coerce":if(i){const e=r.value
r._validateValue(e),r._updatePointer(),r._valueBeforeCoercion=e}else void 0!==r._valueBeforeCoercion&&(r._validateValue(r._valueBeforeCoercion),r._updatePointer())
break
case"customInterval":i?(r._customTicks&&(r.customTicks=r._customTicks),r._numericProcessor.validateCustomTicks()):"date"===r.mode&&(r._customTicks=r.customTicks),r._initTickIntervalHandler(),r._renderAnalogItems(),r._coerceCustomInterval()
break
case"customTicks":if("date"===r.mode&&!r.customInterval)return r._customTicks=i,void(r.customTicks=t)
r._numericProcessor.validateCustomTicks(),r.customInterval&&(r._initTickIntervalHandler(),r._renderAnalogItems(),r._coerceCustomInterval())
break
case"dateLabelFormatString":case"showUnit":case"unit":r._initTickIntervalHandler(),r._renderAnalogItems()
break
case"decimalSeparator":case"scientificNotation":if("date"===r.mode)return
r._initTickIntervalHandler(),r._renderAnalogItems()
break
case"digitalDisplay":case"digitalDisplayPosition":if("date"===r.mode)return void("digitalDisplay"===e&&(r.digitalDisplay=!1))
r._updateSize()
break
case"mechanicalAction":case"messages":break
case"disabled":case"readonly":case"unfocusable":super.propertyChangedHandler(e,t,i)
break
case"drawNeedle":if("needle"!==r.analogDisplayType)return
null===t&&r._draw.removeElement(r._needle),null!==i?r._updatePointer():(r._renderAnalogItems(),delete r._customSVGElements)
break
case"endAngle":case"startAngle":r._validateAngles(),r._numericProcessor.getAngleRangeCoefficient(),r._renderAnalogItems()
break
case"interval":r._numericProcessor.validateInterval(r.interval),r._validateValue(),r._updatePointer()
break
case"inverted":case"labelFormatFunction":case"rightToLeft":case"showRanges":r._renderAnalogItems()
break
case"labelsVisibility":if("all"===t&&"endPoints"===i||"endPoints"===t&&"all"===i)return
r._getMeasurements(),r._renderAnalogItems()
break
case"logarithmicScale":if("date"===r.mode)return void(r.logarithmicScale=!1)
r._initTickIntervalHandler(),n(!0,!0)
break
case"max":case"min":"date"===r.mode&&(delete r._dateInterval,r[e]=JQX.Utilities.DateTime.validateDate(i).getTimeStamp()),n("min"===e,"max"===e)
break
case"mode":r.mode=t
break
case"needlePosition":"needle"===r.analogDisplayType&&r._updatePointer()
break
case"precisionDigits":case"significantDigits":if("date"===r.mode)return
"precisionDigits"===e&&"integer"===r.scaleType&&r.error(r.localize("noInteger",{elementType:r.nodeName.toLowerCase(),property:e})),"significantDigits"===e&&null!==r.precisionDigits?r.precisionDigits=null:"precisionDigits"===e&&null!==r.significantDigits&&(r.significantDigits=null),null!==i&&(r.$.digitalDisplay.precisionDigits=r.precisionDigits,r.$.digitalDisplay.significantDigits=r.significantDigits),r._initTickIntervalHandler(),r._renderAnalogItems()
break
case"ranges":if(!r.showRanges)return
r._renderAnalogItems()
break
case"scaleType":if("date"===r.mode)return void(r.scaleType="integer")
r._numericProcessor=new JQX.Utilities.NumericProcessor(r,"scaleType"),n(!0,!0)
break
case"scalePosition":case"ticksPosition":r._getMeasurements(),r._renderAnalogItems()
break
case"sizeMode":if("none"===i)return
r._preventResizeHandler=!0,"circle"===i?(r.$.container.removeAttribute("style"),r.style.height=r.offsetWidth+"px",r._measurements.cachedHeight=r.offsetHeight):"auto"===i&&(r.$.container.style.height=r.offsetWidth+"px",r._updateSize())
break
case"theme":super.propertyChangedHandler(e,t,i),r._getMeasurements(),r._renderAnalogItems()
break
case"ticksVisibility":if("minor"===t&&"major"===i||"major"===t&&"minor"===i)return
r._getMeasurements(),r._renderAnalogItems()
break
case"validation":"strict"===i&&r._validateValue(r.value,r.value)
break
case"value":{"date"===r.mode&&(i=(i=JQX.Utilities.DateTime.validateDate(i)).getTimeStamp()),r._validateValue(i,t)
const e=i.toString()
r.value.toString()===e&&(r._drawValue=r.logarithmicScale?Math.log10(e).toString():e),r._animate(t)
break}case"wordLength":if("date"===r.mode)return void(r.wordLength="uint64")
r._wordLengthNumber=r._numericProcessor.getWordLength(r.wordLength),"integer"===r.scaleType&&n(!0,!0,r.min,r.max)
break
default:super.propertyChangedHandler(e,t,i)}else r._renderingSuspended=!0}_addAnalogDisplay(){const e=this,t=e._measurements,i=t.radius,n=e._draw
if("needle"===e.analogDisplayType){e._drawNeedle(!1)
const r=(t.needleWidth+5)/2
e._centralCircle=n.circle(i,i,r,{class:"jqx-needle-central-circle"}),e._minCoordinates.push(i-r),e._maxCoordinates.push(i+r)}else{const r=i-e._distance.trackDistance-t.trackBorderWidth/2-1
e._track=n.pieslice(i,i,r-t.trackWidth,r,e.startAngle,e.endAngle,0,{class:"jqx-track"}),e._trackListener=new JQX.Utilities.InputEvents(e._track),e._trackListener.down(function(t){e._SVGElementDownHandler(t)})}}_calculateTickAndLabelDistance(){const e=this,t=e._measurements
if("none"===e.scalePosition)return e._plotLabels=!1,e._plotTicks=!1,t.innerRadius=t.radius,{majorTickDistance:0,minorTickDistance:0,labelDistance:0,needleDistance:0,trackDistance:0}
const i=e._tickIntervalHandler.labelsSize,n=e._largestLabelSize||Math.max(i.minLabelSize,i.minLabelOtherSize,i.maxLabelSize,i.maxLabelOtherSize)
let r,o,a,s=1,l=0
return e._largestLabelSize=n,"outside"===e.scalePosition&&(r=(s=n)+t.majorTickSize-t.minorTickSize,o=0),"needle"===e.analogDisplayType?(a="outside"===e.scalePosition?s+t.majorTickSize:s+t.majorTickSize+n,"none"===e.ticksVisibility&&(o=0,a-=t.majorTickSize),"none"===e.labelsVisibility&&(a-=n,"outside"===e.scalePosition&&(s-=n,r-=n))):"none"===e.labelsVisibility&&"none"===e.ticksVisibility?l=0:"outside"===e.scalePosition?"scale"===e.ticksPosition?("none"===e.labelsVisibility&&(s=1,r=1+t.majorTickSize-t.minorTickSize),l="none"!==e.ticksVisibility?s+t.majorTickSize+2:n):"none"!==e.labelsVisibility?(r-=(t.trackWidth+t.trackBorderWidth)/4,l=s-1):(s=1,r=(t.trackWidth+t.trackBorderWidth)/4+1,l=0):"scale"===e.ticksPosition?(s=t.trackWidth+1.5*t.trackBorderWidth+2,"none"===e.ticksVisibility&&(o=s)):r=(t.trackWidth+t.trackBorderWidth)/4+1,void 0===r&&(r=s),void 0===o&&(o=s+t.majorTickSize),t.innerRadius=t.radius-o,delete e._plotLabels,delete e._plotTicks,delete e._equalToHalfRadius,"inside"===e.scalePosition?t.innerRadius<n&&(e._plotLabels=!1,"scale"===e.ticksPosition?"needle"!==e.analogDisplayType&&t.innerRadius<t.majorTickSize&&(e._plotTicks=!1):(e._equalToHalfRadius=!0,t.innerRadius=t.radius/2)):t.radius-l-t.trackBorderWidth<t.trackWidth&&(t.trackWidth=t.radius-l-t.trackBorderWidth,t.lineSize=t.trackWidth+t.trackBorderWidth,"track"===e.ticksPosition&&(t.majorTickSize=t.lineSize,t.minorTickSize=t.majorTickSize/2,r=s+(t.majorTickSize-t.minorTickSize)/2)),{majorTickDistance:s,minorTickDistance:r,labelDistance:o,needleDistance:a,trackDistance:l}}_calculateTickInterval(){const e=this,t=e._tickIntervalHandler.getInterval("radial",e._drawMin,e._drawMax,e.$.container,e.logarithmicScale)
t.major!==e._majorTicksInterval?(e._intervalHasChanged=!0,e._majorTicksInterval=t.major):e._intervalHasChanged=!0,e._minorTicksInterval=t.minor,"date"===e.mode&&e._calculateDateInterval(t.major)}_computeNeedlePointsCenter(e,t){const i=this,n=i._measurements,r=n.innerRadius,o=n.radius,a=Math.sin(t),s=Math.cos(t)
let l
return"M "+(o+e*s)+","+(o-e*a)+" L "+(o-e*s)+","+(o+e*a)+" L "+(o+(l="inside"===i.scalePosition?.9*(r-i._largestLabelSize):.9*(r-i._distance.needleDistance))*a)+","+(o+l*s)+" Z"}_computeNeedlePointsEdge(e,t,i){const n=this._measurements.radius,r=n-this._distance.needleDistance,o=r-i,a=Math.sin(t),s=Math.cos(t),l=n+o*a,d=n+o*s
return"M "+(l+e*s)+","+(d-e*a)+" L "+(l-e*s)+","+(d+e*a)+" L "+(n+r*a)+","+(n+r*s)+" Z"}_documentMoveHandler(e){if(!this._dragging)return
const t=this,i=t._getAngleByCoordinate(e.pageX,e.pageY),n=t._getQuadrant(i),r=t._getRotationDirection()
if(t._normalizedStartAngle===t.endAngle){let e
!t.inverted&&!t.rightToLeft||t.rightToLeft&&t.inverted?t._lockCW&&"ccw"===r?(e=t.endAngle,t._unlockRotation("_lockCW",i,n,e,{firstCondition:i>e,secondCondition:i<e})):t._lockCCW&&"cw"===r&&(e=t._normalizedStartAngle,t._unlockRotation("_lockCCW",i,n,e,{firstCondition:i<e,secondCondition:i>e})):t._lockCW&&"cw"===r?(e=t._normalizedStartAngle,t._unlockRotation("_lockCW",i,n,e,{firstCondition:i<e,secondCondition:i>e})):t._lockCCW&&"ccw"===r&&(e=t.endAngle,t._unlockRotation("_lockCCW",i,n,e,{firstCondition:i>e,secondCondition:i<e}))}else t._lockCW&&"ccw"===r&&!t._outsideRange&&t._numericProcessor._getAngleDifference(i,t._normalizedStartAngle)<10?t._lockCW=!1:t._lockCCW&&"cw"===r&&!t._outsideRange&&t._numericProcessor._getAngleDifference(i,t.endAngle)<10&&(t._lockCCW=!1)
if(t._angle=i,t._quadrant=n,e.originalEvent&&(e.originalEvent.stopPropagation(),e.originalEvent.preventDefault()),t._lockCW||t._lockCCW)return
let o=t._numericProcessor.getValueByAngle(i)
if(t._normalizedStartAngle===t.endAngle){const e=t._numericProcessor.lockRotation("cw"===r&&!t.inverted&&!t.rightToLeft||t.rightToLeft&&t.inverted||"ccw"===r&&(t.inverted||t.rightToLeft&&!t.inverted),o)
void 0!==e&&(o=e)}else"ccw"===r&&t._outsideEnd?t._lockCCW=!0:"cw"===r&&t._outsideStart&&(t._lockCW=!0)
void 0!==o&&t._numericProcessor.compare(o,t.value)&&(cancelAnimationFrame(t._animationFrameId),t._updatePointer(o),"switchWhenReleased"!==t.mechanicalAction?t._numericProcessor.updateGaugeValue(o):t._valueAtMoveEnd=o)}_documentUpHandler(){const e=this
if(e._dragging&&(e._lockCW=!1,e._lockCCW=!1,e._dragging=!1,e.removeAttribute("dragged"),"switchWhileDragging"!==e.mechanicalAction)){const t="switchUntilReleased"===e.mechanicalAction?e._valueAtDragStart:e._valueAtMoveEnd
e._numericProcessor.compare(t,e.value)&&("switchUntilReleased"===e.mechanicalAction&&e._animate(e.value,t),e._numericProcessor.updateGaugeValue(t))}}_downHandler(e,t){const i=this,n=i.enableShadowDOM||i.isInShadowDOM?e.originalEvent.composedPath()[0]:e.originalEvent.target
if("needle"!==i.analogDisplayType&&!t||i.disabled||i.readonly||i.$.digitalDisplay.contains(n)||!JQX.Utilities.Core.isMobile&&("buttons"in e&&1!==e.buttons||1!==e.which))return void e.stopPropagation()
const r=e.pageX,o=e.pageY
if(i._measurements.center=i._getCenterCoordinates(),"needle"===i.analogDisplayType){if(Math.sqrt(Math.pow(i._measurements.center.x-r,2)+Math.pow(i._measurements.center.y-o,2))>i._measurements.radius)return void e.stopPropagation()}"switchUntilReleased"===i.mechanicalAction&&(i._valueAtDragStart=i.value),i._angle=i._getAngleByCoordinate(r,o),i._quadrant=i._getQuadrant(i._angle)
const a=i._numericProcessor.getValueByAngle(i._angle)
void 0!==a&&i._numericProcessor.compare(a,i.value)&&(i._animate(i.value,a),"switchWhenReleased"!==i.mechanicalAction?i._numericProcessor.updateGaugeValue(a):i._valueAtMoveEnd=a),i._dragging=!0,i.setAttribute("dragged","")}_animate(e,t){const i=this,n=i.logarithmicScale,r=Math.max(1,Math.round(i.animationDuration/15))
if(cancelAnimationFrame(i._animationFrameId),!i.hasAnimation||1===r)return void i._updatePointer(t)
const o=i._numericProcessor
let a,s,l,d,c=1
void 0===t&&(t=i.value),e=parseFloat(o.validate(o.createDescriptor(e),i._minObject,i._maxObject)),t=parseFloat(o.validate(o.createDescriptor(t),i._minObject,i._maxObject)),n?(l=Math.log10(e),d=Math.log10(t)):(l=e,d=t)
const h=Math.abs(d-l)
function u(){a=s(),n&&(a=Math.pow(10,a))}s=t>e?function(){return Math.min(JQX.Utilities.Animation.Easings.easeInOutSine(c,l,h,r),d)}:function(){return Math.max(2*l-JQX.Utilities.Animation.Easings.easeInOutSine(c,l,h,r),d)},u(),i._animationFrameId=requestAnimationFrame(function e(){if(++c===r)return a=t,void i._updatePointer(a)
i._updatePointer(a),u(),i._animationFrameId=requestAnimationFrame(e)})}_drawFill(e,t){const i=this
if("needle"===i.analogDisplayType)return
void 0===t&&(t=i._number)
const n=i._measurements,r=n.radius,o=r-i._distance.trackDistance-n.trackBorderWidth/2-1
if("fill"===i.analogDisplayType){const a=i._numericProcessor.getAngleByValue(t,!0,!0)
let s,l
!i.inverted&&!i.rightToLeft||i.rightToLeft&&i.inverted?(s=a,l=i.endAngle):(s=i.startAngle,l=a),e?i._fill.setAttribute("d",i._draw.pieSlicePath(r,r,o-n.trackWidth,o,s,l,0)):(i._fill=i._draw.pieslice(r,r,o-n.trackWidth,o,s,l,0,{class:"jqx-value"}),i._fillListener=new JQX.Utilities.InputEvents(i._fill),i._fillListener.down(function(e){i._SVGElementDownHandler(e)}))}else{const a=o+n.trackBorderWidth/2,s=a-n.lineSize,l=i._numericProcessor.getAngleByValue(t),d=Math.sin(l),c=Math.cos(l),h=r+a*d,u=r+a*c,p=r+s*d,m=r+s*c
e?(i._line.setAttribute("x1",h),i._line.setAttribute("y1",u),i._line.setAttribute("x2",p),i._line.setAttribute("y2",m)):(i._line=i._draw.line(h,u,p,m,{class:"jqx-line"}),i._lineListener=new JQX.Utilities.InputEvents(i._line),i._lineListener.down(function(e){i._SVGElementDownHandler(e)}))}}_drawLabel(e,t,i,n){const r=this._measurements,o=r.radius,a={class:"jqx-label"+(!1!==n?" jqx-label-middle":""),"font-size":r.fontSize,"font-family":r.fontFamily,"font-weight":r.fontWeight,"font-style":r.fontStyle}
t=this._formatLabel(t.toString(),!1)
const s=this._draw.measureText(t,0,a),l=o-i-this._largestLabelSize/2,d=Math.round(o+l*Math.sin(e))-s.width/2,c=Math.round(o+l*Math.cos(e))-s.height/2,h=this._draw.text(t,d,c,s.width,s.height,0,a)
this._minCoordinates.push(c),this._maxCoordinates.push(c+h.getBBox().height)}_drawNeedle(e,t){const i=this,n=i._measurements
void 0===t&&(t=i._number)
const r=i._numericProcessor.getAngleByValue(t)
if(i.drawNeedle){if(i._customSVGElements=i.drawNeedle(i,i._draw,n.radius,r,i._distance.needleDistance),i._customSVGElements){const e=i._customSVGElements[0].parentElement||i._customSVGElements[0].parentNode
for(let t=0;t<i._customSVGElements.length;t++)e.insertBefore(i._customSVGElements[t],i._centralCircle)}}else{let t
t="center"===i.needlePosition?i._computeNeedlePointsCenter(n.needleWidth/2,r):i._computeNeedlePointsEdge(n.needleWidth/2,r,n.needleLength),e?i._needle.setAttribute("d",t):i._needle=i._draw.path(t,{class:"jqx-needle"})}}_drawRanges(){const e=this,t=e._numericProcessor,i=e.ranges
if(!e.showRanges||0===i.length)return
const n=e._measurements,r=n.radius
let o,a,s,l
"needle"===e.analogDisplayType?(a=n.rangeSize,"inside"===e.scalePosition?o=r-1:(o=r-e._distance.needleDistance-2,"none"===e.labelsVisibility&&"none"===e.ticksVisibility&&(o+=1))):(o=r-e._distance.trackDistance-n.trackBorderWidth/2-1,a=n.trackWidth),!e.inverted&&!e.rightToLeft||e.rightToLeft&&e.inverted?(s="startValue",l="endValue"):(s="endValue",l="startValue")
for(let n=0;n<i.length;n+=1){let d=i[n],c=t.validateColorRange(d[s]),h=t.validateColorRange(d[l])
const u=e._draw.pieslice(r,r,o-a,o,t.getAngleByValue(h,!0,!0),t.getAngleByValue(c,!0,!0),0,{class:"jqx-range "+d.className})
e._ranges.push(u)}}_drawTick(e,t,i){const n=this._measurements,r=n.radius
let o,a="jqx-tick"
"major"===i?o=n.majorTickSize:(o=n.minorTickSize,a+=" jqx-tick-minor")
const s=t-o,l=r+t*Math.sin(e),d=r+t*Math.cos(e),c=r+s*Math.sin(e),h=r+s*Math.cos(e)
this._draw.line(l,d,c,h,{class:a}),this._minCoordinates.push(Math.min(d,h)),this._maxCoordinates.push(Math.max(d,h))}_getAngleByCoordinate(e,t){const i=this,n=i._measurements.center
let r=-1*Math.atan2(t-n.y,e-n.x)*180/Math.PI
return r<0&&(r+=360),i._actualAngle=r,i._normalizedStartAngle===i.endAngle||function(e,t,i){for(;t<e;)t+=360
for(;i<e;)i+=360
return i>=e&&i<=t}(i._normalizedStartAngle,i.endAngle,r)?(i._outsideRange=!1,i._outsideStart=!1,i._outsideEnd=!1):(i._numericProcessor._getAngleDifference(r,i._normalizedStartAngle)<=i._numericProcessor._getAngleDifference(r,i.endAngle)?(r=i._normalizedStartAngle,i._outsideStart=!0,i._outsideEnd=!1):(r=i.endAngle,i._outsideEnd=!0,i._outsideStart=!1),i._outsideRange=!0),r}_getCenterCoordinates(){const e=this.$.container.getBoundingClientRect(),t=this._measurements.radius,i=document.body.scrollLeft||document.documentElement.scrollLeft,n=document.body.scrollTop||document.documentElement.scrollTop
return{x:e.left+i+t,y:e.top+n+t}}_getInlineColors(){const e=this
let t="",i="",n=""
return e._track&&(t=e._track.style.fill),e._fill&&(i=e._fill.style.fill),e._line&&(n=e._line.style.stroke),[t,i,n]}_getMeasurements(){const e=this
if(!e._isVisible()||e._renderingSuspended)return void(e._renderingSuspended=!0)
const t=e._measurements
t.cachedWidth=e.offsetWidth,t.cachedHeight=e.offsetHeight,t.radius=t.cachedWidth/2
const i=document.createElement("div")
e.shadowRoot?e.shadowRoot.appendChild(i):e.appendChild(i),i.className="jqx-tick",t.majorTickSize=i.offsetWidth,i.className+=" jqx-tick-minor",t.minorTickSize=i.offsetWidth,i.className="jqx-label"
const n=window.getComputedStyle(i)
t.fontSize=n.fontSize,t.fontFamily=n.fontFamily,t.fontWeight=n.fontWeight,t.fontStyle=n.fontStyle,t.trackWidth=0,t.trackBorderWidth=0,"needle"===e.analogDisplayType?(i.className="jqx-needle",t.needleWidth=i.offsetWidth,t.needleLength=i.offsetHeight,i.className="jqx-range",t.rangeSize=i.offsetWidth):(i.className="jqx-track",t.trackBorderWidth=parseFloat(n.strokeWidth),t.trackWidth=Math.min(i.offsetWidth,t.radius-t.trackBorderWidth),t.lineSize=t.trackWidth+t.trackBorderWidth,"track"===e.ticksPosition&&(t.majorTickSize=t.lineSize,t.minorTickSize=t.majorTickSize/2)),e.shadowRoot?e.shadowRoot.removeChild(i):e.removeChild(i)}_getQuadrant(e){return e>270?4:e>180?3:e>90?2:1}_getRotationDirection(){const e=this._getQuadrant(this._actualAngle)
return this._actualAngle<this._angle&&(1!==e||4!==this._quadrant)||this._actualAngle>this._angle&&4===e&&1===this._quadrant?"cw":"ccw"}_initTickIntervalHandler(){const e=this
if(!e._isVisible()||e._renderingSuspended)return void(e._renderingSuspended=!0)
const t=e._formatLabel(e.min,!1),i=e._formatLabel(e.max,!1)
e._tickIntervalHandler=new JQX.Utilities.TickIntervalHandler(e,t,i,"jqx-label",e._settings.size,"integer"===e.scaleType,e.logarithmicScale)}_keydownHandler(e){const t=this,i=t._getEventValue(),n=t._number.toString()
"numeric"===t.mode?(t.value.toString()!==n&&(t.value=n,t.$.digitalDisplay.value=n),super._keydownHandler(e),t.value.toString()!==i&&t.$.fireEvent("change",{value:t.value,oldValue:i})):(t.value.toString()!==n&&(t._valueDate=JQX.Utilities.DateTime.fromFullTimeStamp(n),t.value=t._number),super._keydownHandler(e),0!==t._valueDate.compare(i)&&t.$.fireEvent("change",{value:t._getEventValue(),oldValue:i})),t._setAriaValue("valuenow")}_normalizeAngle(e){return(e%=360)<0&&(e+=360),e}_renderAnalogItems(e){const t=this
if(!t._isVisible()||t._renderingSuspended)return void(t._renderingSuspended=!0)
const i=t._getInlineColors()
if(t._unlisten(),t._draw.clear(),delete t._needle,delete t._centralCircle,delete t._track,delete t._trackListener,delete t._fill,delete t._fillListener,delete t._line,delete t._lineListener,t._ranges=[],t._minCoordinates=[],t._maxCoordinates=[],!1!==e&&(delete t._largestLabelSize,t._distance=t._calculateTickAndLabelDistance()),!1!==t._plotTicks||!1!==t._plotLabels){t._calculateTickInterval()
const i=t._cachedLabelsSize,n=Math.max(i.minLabelSize,i.minLabelOtherSize,i.maxLabelSize,i.maxLabelOtherSize)
!1!==e&&t._largestLabelSize!==n&&(t._largestLabelSize=n,t._distance=t._calculateTickAndLabelDistance(),t._calculateTickInterval())}t._coerceInitialDateValue&&(t._validateValue(),delete t._coerceInitialDateValue),t._drawRanges(),t._addAnalogDisplay(),("none"!==t.ticksVisibility&&!1!==t._plotTicks||"none"!==t.labelsVisibility&&!1!==t._plotLabels)&&(t.customInterval||t._dateInterval?t._numericProcessor.addGaugeCustomTicks():t._numericProcessor.addGaugeTicksAndLabels()),t._drawFill(!1),t._updateSize(),t._restoreInlineColors(i[0],i[1],i[2])}_resizeHandler(){const e=this
if(e._preventResizeHandler)return void delete e._preventResizeHandler
if(!e._isVisible())return void(e._renderingSuspended=!0)
if(e._renderingSuspended)return void e._createElement()
const t=e._measurements
if(!(e._renderingSuspended||t.cachedWidth===e.offsetWidth&&t.cachedHeight===e.offsetHeight)){if("circle"===e.sizeMode)e.offsetWidth!==e.offsetHeight&&(t.cachedWidth!==e.offsetWidth?(e.style.height=e.offsetWidth+"px",e._preventResizeHandler=!0):t.cachedHeight!==e.offsetHeight&&(e.style.width=e.offsetHeight+"px",e._preventResizeHandler=!0))
else if("auto"===e.sizeMode){if(t.cachedHeight!==e.offsetHeight&&t.cachedWidth===e.offsetWidth)return e.style.height=t.cachedHeight+"px",void(e._preventResizeHandler=!0)
e.$.container.style.height=e.offsetWidth+"px"}t.cachedWidth=e.offsetWidth,t.cachedHeight=e.offsetHeight,t.radius=t.cachedWidth/2,e._equalToHalfRadius?t.innerRadius=t.radius/2:t.innerRadius=t.radius-e._distance.labelDistance,e._renderAnalogItems(!1)}}_restoreInlineColors(e,t,i){const n=this
n._track&&""!==e&&(n._track.style.fill=e),n._fill&&""!==t&&(n._fill.style.fill=t),n._line&&""!==i&&(n._line.style.stroke=i)}_selectStartHandler(e){this._dragging&&e.preventDefault()}_setUpdatePointerMethod(){const e=this
"needle"===e.analogDisplayType?e._updatePointer=function(t){if(e._customSVGElements)for(let t=0;t<e._customSVGElements.length;t++)e._draw.removeElement(e._customSVGElements[t])
e._drawNeedle(!0,t)}:e._updatePointer=function(t){e._drawFill(!0,t)}}_styleChangedHandler(e){const t=this
e.detail.styleProperties&&e.detail.styleProperties["min-height"]||(t._isVisible()?t._renderingSuspended?t._createElement():(t._getMeasurements(),t._initTickIntervalHandler(),t._renderAnalogItems()):t._renderingSuspended=!0)}_SVGElementDownHandler(e){const t=this.context
this.context=this,this._downHandler(e,!0),this.context=t}_unlockRotation(e,t,i,n,r){const o=this,a=r.firstCondition,s=r.secondCondition,l=o._getQuadrant(n);(a&&(4!==i||1!==l)||s&&4===i&&1===l)&&o._numericProcessor._getAngleDifference(t,n)<10&&(o[e]=!1)}_updateSize(e){const t=this
if("auto"!==t.sizeMode&&void 0===e)return
const i=t._minCoordinates,n=t._maxCoordinates
let r=i[0],o=n[0]
for(let e=1;e<i.length;e++)r=Math.min(r,i[e])
for(let e=1;e<n.length;e++)o=Math.max(o,n[e])
const a=t.getBoundingClientRect()
if(t.digitalDisplay){const e=t.$.digitalDisplay.getBoundingClientRect()
r=Math.min(r,e.top-a.top),o=Math.max(o,e.bottom-a.top)}if("needle"!==t.analogDisplayType){const e=t._track.getBBox()
r=Math.min(r,e.y),o=Math.max(o,e.y+e.height)}for(let e=0;e<t._ranges.length;e++){const i=t._ranges[e].getBBox()
r=Math.min(r,i.y-a.top),o=Math.max(o,i.y+i.height-a.top)}const s=o-(r-=2)
if(void 0!==e)return Math.round(s)
t._preventResizeHandler=!0,t.style.height=s+"px",t.$.container.style.marginTop=-1*r+"px",t._measurements.cachedHeight=s}_updateValue(e){this._numericProcessor.updateGaugeValue(e)}_validate(e,t,i){const n=this,r=n.value
n._validateValue(t),!i||35!==i&&36!==i?n._updatePointer():n._animate(r)}_validateAngles(){const e=this
e._normalizedStartAngle=e._normalizeAngle(e.startAngle),e.endAngle=e._normalizeAngle(e.endAngle),e._normalizedStartAngle<e.endAngle?e.startAngle=e._normalizedStartAngle:e.startAngle=e._normalizedStartAngle-360,e._angleDifference=e.endAngle-e.startAngle}_validateInitialPropertyValues(){super._validateInitialPropertyValues()
const e=this
"circle"===e.sizeMode?e.offsetWidth<e.offsetHeight?e.style.height=e.offsetWidth+"px":e.offsetWidth>e.offsetHeight&&(e.style.width=e.offsetHeight+"px"):"auto"===e.sizeMode&&(e.offsetHeight!==e.offsetWidth&&(e.style.height=e.offsetWidth+"px"),e.$.container.style.height=e.offsetWidth+"px"),e._validateAngles(),null!==e.significantDigits?e.$.digitalDisplay.significantDigits=e.significantDigits:null!==e.precisionDigits&&(e.$.digitalDisplay.precisionDigits=e.precisionDigits)}_validateValue(e,t){const i=this,n=i._numericProcessor,r=i.logarithmicScale,o="strict"===i.validation
let a,s,l,d,c,h=o&&void 0!==t
void 0===e?(h=!1,e=i.value):e=e.toString(),n.regexScientificNotation.test(e)&&(e=n.scientificToDecimal(e)),isNaN(e)&&(e=t||0),i.coerce?(a=n.getCoercedValue(n.createDescriptor(e,!0,!0,!0),!1,r),i._number=a,l=s=a.toString()):o?(a=n.getCoercedValue(n.createDescriptor(e,!0,!0,!0),!1,r),i._number=a,l=s=a.toString()):(h=!1,a=n.getCoercedValue(n.createDescriptor(e,!0,!0,!1),!1,r),i._number=n.validate(a,n.createDescriptor(i._minObject),n.createDescriptor(i._maxObject)),s=a.toString(),l=i._number.toString()),"numeric"===i.mode?(d=t,c=s,i.value=s,i.$.digitalDisplay.value=s):(d=i._valueDate,i._valueDate=JQX.Utilities.DateTime.fromFullTimeStamp(s),c=i._valueDate,i.value=a),i._drawValue=r?Math.log10(l).toString():l,h&&n.compare(i._number,t)&&i.$.fireEvent("change",{value:c,oldValue:d}),i._setAriaValue("valuenow"),delete i._valueBeforeCoercion}_unlisten(){const e=this
e._trackListener&&e._trackListener.unlisten(),e._fillListener&&e._fillListener.unlisten(),e._lineListener&&e._lineListener.unlisten()}})
var ae=Object.freeze({})
JQX("jqx-slider",class extends JQX.Tank{static get properties(){return{enableMouseWheelAction:{value:!1,type:"boolean"},orientation:{value:"horizontal",allowedValues:["horizontal","vertical"],type:"string",defaultReflectToAttribute:!0},rangeSlider:{value:!1,type:"boolean"},showButtons:{value:!1,type:"boolean"},values:{value:["0","100"],type:"array"}}}static get listeners(){return{"track.down":"_trackDownHandler","thumb.down":"_thumbDownHandler","secondThumb.down":"_thumbDownHandler","thumb.mouseleave":"_thumbMoveMouseleaveHandler","secondThumb.mouseleave":"_thumbMoveMouseleaveHandler","thumb.move":"_thumbMoveMouseleaveHandler","secondThumb.move":"_thumbMoveMouseleaveHandler","document.move":"_documentMoveHandler","document.up":"_documentUpHandler","leftButton.click":"_spinButtonClickHandler","rightButton.click":"_spinButtonClickHandler",keydown:"_keydownHandlerSlider",keyup:"_keyupHandlerSlider",resize:"_resizeAndStyleChangedHandler",styleChanged:"_resizeAndStyleChangedHandler","document.selectstart":"_selectStartHandler",wheel:"_wheelHandler"}}static get requires(){return{"JQX.RepeatButton":"jqxbutton.js"}}static get styleUrls(){return["jqx.slider.css","jqx.button.css"]}template(){return'<div id="container" class="jqx-container" role="presentation">\n                <div id="scaleNear" class="jqx-scale jqx-scale-near" aria-hidden="true"></div>\n                <div id="trackContainer" class="jqx-track-container" role="presentation">\n                    <jqx-repeat-button id="leftButton" class="jqx-spin-button" animation="[[animation]]" unfocusable>\n                        <div id="leftArrow" class="jqx-arrow" aria-hidden="true"></div>\n                    </jqx-repeat-button>\n                    <div id="track" class="jqx-track" role="presentation">\n                        <div id="fill" class="jqx-value" role="presentation"></div>\n                        <div id="trackTicksContainer" class="jqx-track-ticks-container jqx-hidden" role="presentation"></div>\n                        <div id="thumb" class="jqx-thumb" role="slider">\n                            <span id="thumbLabel" class="jqx-thumb-label" role="presentation"></span>\n                            <div id="tooltip" class="jqx-tooltip" role="tooltip">\n                                <div id="tooltipContent" class="jqx-tooltip-content jqx-unselectable" role="presentation"></div>\n                            </div>\n                        </div>\n                        <div id="secondThumb" class="jqx-thumb" role="slider">\n                            <span id="secondThumbLabel" class="jqx-thumb-label" role="presentation"></span>\n                            <div id="secondTooltip" class="jqx-tooltip" role="tooltip">\n                                <div id="secondTooltipContent" class="jqx-tooltip-content jqx-unselectable" role="presentation"></div>\n                            </div>\n                        </div>\n                    </div>\n                    <jqx-repeat-button id="rightButton" class="jqx-spin-button" animation="[[animation]]" unfocusable>\n                        <div id="rightArrow" class="jqx-arrow" aria-hidden="true"></div>\n                    </jqx-repeat-button>\n                </div>\n                <div id="scaleFar" class="jqx-scale jqx-scale-far" aria-hidden="true"></div>\n                <input id="hiddenInput" type="hidden" name="[[name]]">\n            </div>'}_createElement(){const e=this,t="numeric"===e.mode
if(e.$.tooltip.id||(e.$.tooltip.id=e.id+"Tooltip",e.$.secondTooltip.id=e.id+"SecondTooltip"),e.setAttribute("role","presentation"),e.setAttribute("aria-describedby",e.$.tooltip.id+" "+e.$.secondTooltip.id),e._renderingSuspended||(t?e._redefineProperty("values"):t||e._handleDateScale()),e._setSettingsObject(),e._setDrawVariables(),e._getLayoutType(),e._numericProcessor=new JQX.Utilities.NumericProcessor(e,"scaleType"),e._numberRenderer=new JQX.Utilities.NumberRenderer,!e._isVisible())return void(e._renderingSuspended=!0)
e._renderingSuspended=!1,e._setInitialComponentDisplay(),e._measurements={},e._getMeasurements(),e._wordLengthNumber=e._numericProcessor.getWordLength(e.wordLength)
const i=e._valuesHandler=e.rangeSlider?new JQX.Utilities.SliderMultipleValueHandler(e):new JQX.Utilities.SliderSingleValueHandler(e)
t&&(e._getEventValue=function(){return e._valuesHandler.getValue()}),e._validateInitialPropertyValues(),e._setTicksAndInterval(),i.validate(!0),i.updateTooltipValue(),window.requestAnimationFrame(function(){e.$thumb.addClass("enable-animation"),e.$secondThumb.addClass("enable-animation"),e.$fill.addClass("enable-animation")}),e._setFocusable(),e._makeThumbAccessible(),e.$.hiddenInput.value=e._getEventValue(),e.$.thumb.setAttribute("aria-orientation",e.orientation),e.$.secondThumb.setAttribute("aria-orientation",e.orientation),e._setAriaValue("valuenow")}val(e){const t=this,i=t._valuesHandler
if(void 0===e)return t._getEventValue()
"date"===t.mode&&(t.rangeSlider?(e[0]=JQX.Utilities.DateTime.validateDate(e[0]),e[1]=JQX.Utilities.DateTime.validateDate(e[1]),e[0]=e[0].getTimeStamp(),e[1]=e[1].getTimeStamp()):e=(e=JQX.Utilities.DateTime.validateDate(e)).getTimeStamp()),i.areDifferent(e)&&i.validate(!1,e,!0)}getOptimalSize(){const e=this
if(e._renderingSuspended)return{width:0,height:0}
const t=window.getComputedStyle(e),i=window.getComputedStyle(e.$.trackContainer)
let n,r,o,a,s,l,d,c,h=0
return n="all"===e.labelsVisibility?e._numericProcessor._longestLabelSize:"endPoints"===e.labelsVisibility?Math.max(e._tickIntervalHandler.labelsSize.minLabelOtherSize,e._tickIntervalHandler.labelsSize.maxLabelOtherSize):0,"horizontal"===e.orientation?(h+=parseFloat(i.marginTop)+parseFloat(i.marginBottom)+e.$.track.offsetHeight,"near"!==e.scalePosition&&"both"!==e.scalePosition||(h+=n,a=(o=e.$.scaleNear.getElementsByClassName("jqx-label"))[0],s=o[o.length-1],h+=parseFloat(window.getComputedStyle(a).bottom)),"far"!==e.scalePosition&&"both"!==e.scalePosition||(h+=n,a=(o=e.$.scaleFar.getElementsByClassName("jqx-label"))[0],s=o[o.length-1],h+=parseFloat(window.getComputedStyle(a).top)),h+=parseFloat(t.paddingTop)+parseFloat(t.paddingBottom),r=e.offsetWidth,"none"!==e.scalePosition&&(l=a.getBoundingClientRect(),d=s.getBoundingClientRect(),(c=l.left+a.offsetWidth-d.left)>0&&(r=a.offsetWidth+s.offsetWidth+Math.max(10,e.$.thumb.offsetWidth))),{width:r,height:h}):(h+=parseFloat(i.marginLeft)+parseFloat(i.marginRight)+e.$.track.offsetWidth,"near"!==e.scalePosition&&"both"!==e.scalePosition||(h+=n,a=(o=e.$.scaleNear.getElementsByClassName("jqx-label"))[0],s=o[o.length-1],h+=parseFloat(window.getComputedStyle(a).right)),"far"!==e.scalePosition&&"both"!==e.scalePosition||(h+=n,a=(o=e.$.scaleFar.getElementsByClassName("jqx-label"))[0],s=o[o.length-1],h+=parseFloat(window.getComputedStyle(a).left)),h+=parseFloat(t.paddingLeft)+parseFloat(t.paddingRight),r=e.offsetHeight,"none"!==e.scalePosition&&(l=a.getBoundingClientRect(),d=s.getBoundingClientRect(),(c=l.top+a.offsetHeight-d.top)>0&&(r=a.offsetHeight+s.offsetHeight+Math.max(10,e.$.thumb.offsetHeight))),{width:h,height:r})}propertyChangedHandler(e,t,i){const n=this
if(!n._isVisible()||n._renderingSuspended)return void(n._renderingSuspended=!0)
if(-1!==["disabled","mode","readonly","showThumbLabel","tooltipPosition","unfocusable","validation"].indexOf(e))return void super.propertyChangedHandler(e,t,i)
let r=n._valuesHandler
function o(){n._setTicksAndInterval(),r.validate(!1,r.getValue(),!0)}if("values"!==e&&i!=t||"values"===e&&(i[0]!=t[0]||i[1]!==t[1]))switch(e){case"coerce":if(i){const e=r.getValue()
r.validate(!1,e.slice(0),!0),n._valueBeforeCoercion=e}else void 0!==n._valueBeforeCoercion&&r.validate(!1,n._valueBeforeCoercion.slice(0),!0)
break
case"customInterval":case"customTicks":super.propertyChangedHandler(e,t,i),n.customInterval&&r.validate(!1,r.getValue(),!0)
break
case"dateLabelFormatString":"date"===n.mode&&o()
break
case"decimalSeparator":case"scientificNotation":if("date"===n.mode)return
o()
break
case"interval":n._numericProcessor.validateInterval(i),r.validate(!1,r.getValue(),!0)
break
case"inverted":case"rightToLeft":n._getLayoutType(),n._normalLayout&&(n.$.fill.style[n._settings.margin]="0px"),o()
break
case"labelFormatFunction":case"showUnit":case"unit":o()
break
case"labelsVisibility":case"ticksVisibility":return
case"logarithmicScale":if("date"===n.mode)return void(n.logarithmicScale=!1)
n._validateMinMax("both"),o()
break
case"min":case"max":"date"===n.mode&&(delete n._dateInterval,n[e]=JQX.Utilities.DateTime.validateDate(i).getTimeStamp()),n._validateMinMax(e,!1,t),o()
break
case"orientation":n.$.container.removeAttribute("style"),n.$.trackContainer.removeAttribute("style"),n.$.fill.removeAttribute("style"),n.$.thumb.removeAttribute("style"),n.$.secondThumb.removeAttribute("style"),n._setSettingsObject(),n._getLayoutType(),n._getMeasurements(),o(),"horizontal"===i?(n.$leftArrow.removeClass("jqx-arrow-up"),n.$rightArrow.removeClass("jqx-arrow-down"),n.$leftArrow.addClass("jqx-arrow-left"),n.$rightArrow.addClass("jqx-arrow-right")):(n.$leftArrow.removeClass("jqx-arrow-left"),n.$rightArrow.removeClass("jqx-arrow-right"),n.$leftArrow.addClass("jqx-arrow-up"),n.$rightArrow.addClass("jqx-arrow-down")),n.$.thumb.setAttribute("aria-orientation",i),n.$.secondThumb.setAttribute("aria-orientation",i)
break
case"precisionDigits":case"significantDigits":if("date"===n.mode)return
"precisionDigits"===e&&"integer"===n.scaleType&&n.error(n.localize("noInteger",{elementType:n.nodeName.toLowerCase(),property:e})),"significantDigits"===e&&null!==n.precisionDigits?n.precisionDigits=null:"precisionDigits"===e&&null!==n.significantDigits&&(n.significantDigits=null),o()
break
case"rangeSlider":i?(n.values=[n.min,n.value],n._drawValues=[n._drawMin,n._drawValue],"date"===n.mode&&(n._valueDate=[n._minDate.clone(),n._valueDate]),void 0!==n._valueBeforeCoercion&&(n._valueBeforeCoercion=[n.min,n._valueBeforeCoercion]),r=n._valuesHandler=new JQX.Utilities.SliderMultipleValueHandler(n)):(n.value=n.values[1],n._drawValue=n._drawValues[1],"date"===n.mode&&(n._valueDate=n._valueDate[1]),void 0!==n._valueBeforeCoercion&&(n._valueBeforeCoercion=n._valueBeforeCoercion[1]),r=n._valuesHandler=new JQX.Utilities.SliderSingleValueHandler(n),n.$.fill.style.marginTop=0,n.$.fill.style.marginLeft=0),r.validate(!1,r.getValue(),!0)
break
case"scalePosition":n._setInitialComponentDisplay(),o()
break
case"scaleType":if("date"===n.mode)return void(n.scaleType="integer")
n._numericProcessor=new JQX.Utilities.NumericProcessor(n,"scaleType"),n._validateMinMax("both"),n._setTicksAndInterval(),r.validate(!0)
break
case"showButtons":i?(n.$leftButton.removeClass("jqx-hidden"),n.$rightButton.removeClass("jqx-hidden")):(n.$leftButton.addClass("jqx-hidden"),n.$rightButton.addClass("jqx-hidden")),n._setTicksAndInterval(),r.moveThumbBasedOnValue(r.getDrawValue(),void 0,!0)
break
case"showTooltip":super.propertyChangedHandler(e,t,i),i||(n.$tooltip.addClass("jqx-hidden"),n.$secondTooltip.addClass("jqx-hidden"))
break
case"theme":super.propertyChangedHandler(e,t,i),o()
break
case"ticksPosition":"scale"===i?(n.$trackTicksContainer.addClass("jqx-hidden"),n.$.trackTicksContainer.innerHTML=""):n.$trackTicksContainer.removeClass("jqx-hidden"),n._setTicksAndInterval()
break
case"value":case"values":if("value"===e&&n.rangeSlider||"values"===e&&!n.rangeSlider)return
if(n[e]=t,"date"===n.mode)if("value"===e){if(i=(i=JQX.Utilities.DateTime.validateDate(i)).getTimeStamp(),n.value=i,0===i.compare(t))return}else if(i[0]=JQX.Utilities.DateTime.validateDate(i[0]),i[1]=JQX.Utilities.DateTime.validateDate(i[1]),i[0]=i[0].getTimeStamp(),i[1]=i[1].getTimeStamp(),n.values=i,0===i[0].compare(t[0])&&0===i[1].compare(t[1]))return
r.validate(!1,i,!0)
break
case"wordLength":if("date"===n.mode)return void(n.wordLength="uint64")
n._wordLengthNumber=n._numericProcessor.getWordLength(i),n._validateMinMax("both"),o()}else"string"!=typeof i&&"string"==typeof t&&(n[e]=t)}_addMovedThumbClass(){const e=this
e.rangeSlider&&(e._movedThumb.$.addClass("jqx-moved-thumb"),e._movedThumb===e.$.thumb?e.$secondThumb.removeClass("jqx-moved-thumb"):e.$thumb.removeClass("jqx-moved-thumb"))}_setInitialComponentDisplay(){super._setInitialComponentDisplay()
const e=this
e.$secondTooltip.addClass("jqx-hidden"),e.showButtons||(e.$leftButton.addClass("jqx-hidden"),e.$rightButton.addClass("jqx-hidden"))}_getMeasurements(){const e=this,t=e._measurements,i=e.$.track,n=e.$.thumb
e._isVisible()&&!e._renderingSuspended?("horizontal"===e.orientation?(t.trackWidth=i.offsetHeight,t.thumbSize=n.offsetWidth,t.borderWidth=parseFloat(window.getComputedStyle(e.$.track).borderLeftWidth)):(t.trackWidth=i.offsetWidth,t.thumbSize=n.offsetHeight,t.borderWidth=parseFloat(window.getComputedStyle(e.$.track).borderTopWidth)),t.halfThumbSize=t.thumbSize/2):e._renderingSuspended=!0}_layout(){const e=this,t=e._measurements,i=e.$.container.style,n=t.halfThumbSize,r=e._tickIntervalHandler.labelsSize
let o,a,s,l
if("none"!==e.scalePosition?(o=r.minLabelSize/2,a=r.maxLabelSize/2):(o=0,a=0),e.showButtons){const t=e.$.leftButton[e._settings.size]+n
s=Math.max(o-t,0)+"px",l=Math.max(a-t,0)+"px"}else s=Math.max(n,o)+"px",l=Math.max(n,a)+"px"
"horizontal"===e.orientation?(!e.inverted&&!e.rightToLeft||e.rightToLeft&&e.inverted?(i.paddingLeft=s,i.paddingRight=l):(i.paddingLeft=l,i.paddingRight=s),t.trackLength=e.$.track.clientWidth,e.$leftArrow.addClass("jqx-arrow-left"),e.$rightArrow.addClass("jqx-arrow-right")):(e.inverted?(i.paddingBottom=l,i.paddingTop=s):(i.paddingBottom=s,i.paddingTop=l),t.trackLength=e.$.track.clientHeight,e.$leftArrow.addClass("jqx-arrow-up"),e.$rightArrow.addClass("jqx-arrow-down"))}_trackDownHandler(e){const t=this,i=t.mechanicalAction
t.disabled||t.readonly||!t.rangeSlider&&e.target===t.$.thumb||(t._stopTrackDownHandler?t._stopTrackDownHandler=!1:("switchWhileDragging"!==i&&(t._valueAtDragStart=t._valuesHandler.getValue()),t._getTrackStartAndEnd(),t._valuesHandler.setActiveThumbOnTrackClick(e),t._moveThumbBasedOnCoordinates(e,!0,"switchWhenReleased"!==i),t._thumbDragged=!0,t.setAttribute("dragged",""),t.showTooltip&&t._movedTooltip.removeClass("jqx-hidden")))}_trackMoveHandler(){}_thumbDownHandler(e){const t=this
t.disabled||t.readonly||(t._getTrackStartAndEnd(),(e[t._settings.page]<t._trackStart||e[t._settings.page]>t._trackEnd)&&(t._stopTrackDownHandler=!0),"switchWhileDragging"!==t.mechanicalAction&&(t._valueAtDragStart=t._valuesHandler.getValue()),window.getSelection().removeAllRanges(),t._thumbDragged=!0,t.setAttribute("dragged",""),t.$track.addClass("jqx-dragged"),t._movedThumb=e.target,t._addMovedThumbClass(),t._movedTooltip=t.$tooltip,t.rangeSlider&&(t._movedThumb===t.$.thumb?(t._staticThumb=t.$.secondThumb,t.$secondTooltip.addClass("jqx-hidden")):(t._staticThumb=t.$.thumb,t._movedTooltip=t.$secondTooltip,t.$tooltip.addClass("jqx-hidden"))),t.showTooltip&&t._movedTooltip.removeClass("jqx-hidden"),e.stopPropagation())}_thumbMoveMouseleaveHandler(e){if(this.disabled||this.readonly)return
const t=e.target
if("move"===e.type){const i=t.getBoundingClientRect(),n=window.scrollX||window.pageXOffset,r=window.scrollY||window.pageYOffset,o=(i.left+i.right)/2+n,a=(i.top+i.bottom)/2+r,s=Math.pow(i.width/2,2)
if(Math.pow(e.pageX-o,2)+Math.pow(e.pageY-a,2)>s)return
t.setAttribute("hover","")}else t.removeAttribute("hover")}_documentMoveHandler(e){const t=this
t._thumbDragged&&(t.$thumb.removeClass("enable-animation"),t.$secondThumb.removeClass("enable-animation"),t.$fill.removeClass("enable-animation"),t._moveThumbBasedOnCoordinates(e,!0,"switchWhenReleased"!==t.mechanicalAction))}_documentUpHandler(e,t){const i=this
i._thumbDragged&&(i.$thumb.addClass("enable-animation"),i.$secondThumb.addClass("enable-animation"),i.$fill.addClass("enable-animation"),t||("switchUntilReleased"===i.mechanicalAction?i._valuesHandler.validate(!1,i._valueAtDragStart):"switchWhenReleased"===i.mechanicalAction&&i._moveThumbBasedOnCoordinates(e,!0,!0)),i.showTooltip&&i._movedTooltip.addClass("jqx-hidden"),i._thumbDragged=!1,i.removeAttribute("dragged"),i._makeThumbAccessible(),i._movedThumb=void 0,i.$track.removeClass("jqx-dragged"))}_spinButtonClickHandler(e){if(this.disabled||this.readonly)return
let t
t=this.$.leftButton.contains(e.target)===this._normalLayout?"subtract":"add",this._valuesHandler.incrementOrDecrement(t)}_keydownHandlerSlider(e){const t=this,i=e.key
if("Escape"===i&&t._thumbDragged&&"switchWhenReleased"===t.mechanicalAction)return t._documentUpHandler(void 0,!0),void t._valuesHandler.validate(!1,t._valueAtDragStart);-1===["ArrowDown","ArrowLeft","ArrowRight","ArrowUp"].indexOf(i)||t.coerce||(t.$thumb.removeClass("enable-animation"),t.$secondThumb.removeClass("enable-animation"),t.$fill.removeClass("enable-animation"),t._restoreAnimationClass=!0),this._valuesHandler.keydownHandler(e)}_keyupHandlerSlider(){const e=this
e._restoreAnimationClass&&(e.$thumb.addClass("enable-animation"),e.$secondThumb.addClass("enable-animation"),e.$fill.addClass("enable-animation"))}_resizeAndStyleChangedHandler(e){const t=this,i=t._valuesHandler
if(t._isVisible()){if(t._renderingSuspended)t._createElement()
else if(!t._renderingSuspended&&(t._getMeasurements(),t._setTicksAndInterval(),i.validate(!1,i.getValue(),!0),"styleChanged"===e.type)){const i=e.detail.styleProperties
if(i["font-size"]||i["font-family"]||i["font-style"]||i["font-weight"]){const e=t.getOptimalSize()
t.style.width=e.width+"px",t.style.height=e.height+"px"}}}else t._renderingSuspended=!0}_moveThumbBasedOnCoordinates(e,t,i){const n=this,r=n._numericProcessor,o=n._trackStart,a=n._settings.margin
let s=e[n._settings.page]
t&&(s=n._valuesHandler.restrictThumbCoordinates(s,o,n._trackEnd))
let l=r.pxToValue(s)
n.rangeSlider&&n._movedThumb===n.$.thumb&&1===r.compare(l,n.values[1],!0)&&(l=r.createDescriptor(n.values[1]))
let d=l
n.logarithmicScale?(l=r.getCoercedValue(Math.log10(l)),d=parseFloat(Math.pow(10,l).toFixed(11))):d=l=r.getCoercedValue(l)
const c=(s=r.valueToPx(l)+o)-o
n._movedThumb.style[a]=c-n._measurements.halfThumbSize+"px",n._valuesHandler.updateFillSizeAndPosition(c,a,d,!0,i),JQX.Utilities.Core.isMobile&&e.originalEvent&&(e.originalEvent.stopPropagation(),e.originalEvent.preventDefault())}_moveThumbBasedOnValue(e,t,i,n){const r=this,o=r._numericProcessor.valueToPx(t),a=r._settings.margin
e.style[a]=o-r._measurements.halfThumbSize+"px"
const s=r._getSingleActualValue(t)
n?r.rangeSlider&&(r._firstPassSize=o):r._valuesHandler.updateFillSizeAndPosition(o,a,s,i,i)}_validate(e,t,i,n){this._valuesHandler.validate(e,t,n)}_updateValue(e){const t=this._valuesHandler
t.updateValue(t.getActualValue(e))}_makeThumbAccessible(){const e=this
e.rangeSlider&&(e.$.thumb[e._settings.offset]===e.$.secondThumb[e._settings.offset]&&!1===e._numericProcessor.compare(e.values[1],e.max)?e.$thumb.addClass("accessible"):e.$thumb.removeClass("accessible"))}_getSingleActualValue(e){return this.logarithmicScale?parseFloat(Math.pow(10,e).toFixed(11)):e.toString()}_coerceCustomInterval(){const e=this
if(e.coerce){const t=e._valueBeforeCoercion
e._valuesHandler.validate(!1,e._valuesHandler.getValue()),e._valueBeforeCoercion=t}}_wheelHandler(e){const t=this
document.activeElement===t&&t.enableMouseWheelAction&&(e.stopPropagation(),e.preventDefault(),e.wheelDelta>0?t._keydownHandlerSlider({key:"ArrowRight",which:39,preventDefault:function(){}}):t._keydownHandlerSlider({key:"ArrowLeft",which:37,preventDefault:function(){}}))}_handleDateScale(){const e=this,t=JQX.Utilities.DateTime
super._handleDateScale(),Object.defineProperty(e,"values",{get:function(){return e.context===e?e.properties.values.value:e._valueDate},set(t){function i(e,t){return t instanceof JQX.Utilities.BigNumber?t.toString():t}const n=e.properties.values.value
if(JSON.stringify(n,i)!==JSON.stringify(t,i)&&(e.properties.values.value=t,e.isReady&&(!e.ownerElement||e.ownerElement&&e.ownerElement.isReady)&&e.context!==e)){const i=e.context
e.context=e,e.propertyChangedHandler("values",n,t),e.context=i}}}),e.rangeSlider&&(e._valueDate=[t.validateDate(e.values[0]),t.validateDate(e.values[1])],e.values=[e._valueDate[0].getTimeStamp(),e._valueDate[1].getTimeStamp()]),e._properties.values.serialize="_serializeValue"}_setTicksAndInterval(){const e=this
e._skipTrackReset?delete e._skipTrackReset:e.$.track.style[e._settings.dimension]=null,super._setTicksAndInterval(),e.$.track[e._settings.size]<10&&(e._skipTrackReset=!0,e.$.track.style[e._settings.dimension]=e.getOptimalSize()[e._settings.dimension]+"px",e._getMeasurements(),e._setTicksAndInterval(),e._valuesHandler.validate(!1,e._valuesHandler.getValue()))}_getLayoutType(){const e=this
super._getLayoutType(),e._normalLayout?(e.$.leftButton.setAttribute("aria-label","Decrement"),e.$.rightButton.setAttribute("aria-label","Increment")):(e.$.leftButton.setAttribute("aria-label","Increment"),e.$.rightButton.setAttribute("aria-label","Decrement"))}_setAriaValue(e){this._valuesHandler.setAriaValue(e)}}),JQX.Utilities.Assign("SliderSingleValueHandler",class{constructor(e){this.context=e,"date"===e.mode&&(e._getEventValue=function(t,i){let n
return n=void 0!==i?JQX.Utilities.DateTime.fromFullTimeStamp(i):e._valueDate.clone(),t?(e.$.thumb.setAttribute("aria-valuetext",n.toString("f")),e.value.toString()):n})}applyFunctionToValue(e,t){const i=this.context
return void 0===t&&(t=i.value),e.apply(i,[t])}areDifferent(e){return this.context.value!==e}incrementOrDecrement(e){const t=this.context._keyIncrementDecrement(e)
this.validate(!1,t)}setActiveThumbOnTrackClick(){const e=this.context
e._movedThumb=e.$.thumb,e._addMovedThumbClass(),e._movedTooltip=e.$tooltip}getActualValue(e){return this.context._getSingleActualValue(e)}getCoercedLogarithmicValue(e){const t=this.context
if(t.logarithmicScale){const i=t._numericProcessor.getCoercedValue(Math.log10(e))
return this.getActualValue(i)}return e}getDrawValue(){return this.context._drawValue}getValue(){return this.context.value}keydownHandler(e){this.context._keydownHandler(e)}moveThumbBasedOnValue(e,t,i){const n=this.context
if(void 0===e&&(e=n.value),n._moveThumbBasedOnValue(n.$.thumb,e,t),!0!==i){n._drawValue=e
const t=this.getActualValue(e)
let i
i=void 0!==n._valueNoRangeValidation?n._valueNoRangeValidation.toString():t.toString(),"date"===n.mode&&(n._valueDate=JQX.Utilities.DateTime.fromFullTimeStamp(i)),n.value=i,delete n._valueBeforeCoercion,this.updateTooltipValue(t)}}restrictThumbCoordinates(e,t,i){return e=Math.max(e,t),e=Math.min(e,i)}updateFillSizeAndPosition(e,t,i,n,r){const o=this.context,a=o.$.fill.style,s=o._settings.dimension
if(o._normalLayout?a[s]=e+"px":(a[s]=o._measurements.trackLength-e+"px",a[t]=e+"px"),n){const e=o.value,t=o._getEventValue(!1,e),n=o._numericProcessor
if(n.compare(n.createDescriptor(i),n.createDescriptor(e))&&(this.updateTooltipValue(i),r)){let e
if(o._drawValue=o.logarithmicScale?Math.log10(i):i,e=void 0!==o._valueNoRangeValidation?o._valueNoRangeValidation.toString():i.toString(),"date"===o.mode&&(o._valueDate=JQX.Utilities.DateTime.fromFullTimeStamp(e)),o.value=e,delete o._valueBeforeCoercion,!0!==o._programmaticValueIsSet){const e=o._getEventValue()
o.$.hiddenInput.value=e,o.$.fireEvent("change",{value:e,oldValue:t}),this.setAriaValue("valuenow")}}}}updateTooltipValue(e){const t=this.context
void 0===e&&(e=t.value)
const i=t._formatLabel(e)
t.$.tooltipContent.innerHTML!==i&&(t.$.tooltipContent.innerHTML=i,t.$.thumbLabel.innerHTML=i)}updateValue(e){const t=this.context,i=t._numericProcessor.createDescriptor(e,!0,!1)
t._drawValue=t.logarithmicScale?Math.log10(i):i,this.moveThumbBasedOnValue(t._drawValue,!0)}validate(e,t,i){const n=this.context,r=n._numericProcessor
let o,a
n._programmaticValueIsSet=i&&"interaction"===n.validation,o=e?n.value:t,n.coerce&&(o=n._numericProcessor.createDescriptor(o,!0,!0,!0)),o=n.logarithmicScale?this.getCoercedLogarithmicValue(o):r.getCoercedValue(o),"strict"===n.validation?(n._valueNoRangeValidation=r.createDescriptor(o,!0,!0,!0),a=n._valueNoRangeValidation):(n._valueNoRangeValidation=r.createDescriptor(o,!0,!0,!1),a=r.validate(n._valueNoRangeValidation,n._minObject,n._maxObject)),e?(n._drawValue=n.logarithmicScale?Math.log10(a):a,o=n._valueNoRangeValidation.toString(),"date"===n.mode&&(n._valueDate=JQX.Utilities.DateTime.fromFullTimeStamp(o)),n.value=o,this.moveThumbBasedOnValue(n._drawValue,void 0,!0)):this.updateValue(a),delete n._valueNoRangeValidation,n._programmaticValueIsSet=!1}setAriaValue(e){const t=this.context,i=t.$.thumb
"valuenow"===e?i.setAttribute("aria-valuenow",t._getEventValue(!0)):(i.setAttribute("aria-valuemin",t.min.toString()),i.setAttribute("aria-valuemax",t.max.toString()))}}),JQX.Utilities.Assign("SliderMultipleValueHandler",class{constructor(e){this.context=e,"date"===e.mode&&(e._getEventValue=function(t,i,n){const r=[e._valueDate[0].clone(),e._valueDate[1].clone()]
return void 0!==i&&(r[n]=JQX.Utilities.DateTime.fromFullTimeStamp(i)),t?(e.$.thumb.setAttribute("aria-valuetext",r[0].toString("f")),e.$.secondThumb.setAttribute("aria-valuetext",r[1].toString("f")),e.values.slice(0)):r})}applyFunctionToValue(e,t){const i=this.context,n=[]
return void 0===t&&(t=i.values),n[0]=e.apply(i,[t[0]]),n[1]=e.apply(i,[t[1]]),n}areDifferent(e){const t=this.context.values
return t[0]!==e[0]||t[1]!==e[1]}incrementOrDecrement(e){const t=this.context.values.slice(0)
let i
t[i="add"===e?1:0]=this.keyIncrementDecrement(e,i),this.validate(!1,t)}keydownHandler(e){const t=this.context
if(t.disabled||t.readonly)return
const i=e.charCode?e.charCode:e.which
if(-1!==[35,36,37,38,39,40].indexOf(i)){e.preventDefault()
const n=t.values.slice(0)
let r
switch(i){case 40:case 37:r=this.keyIncrementDecrement("subtract",0),n[0]=r,t._movedThumb=t.$.thumb
break
case 38:case 39:r=this.keyIncrementDecrement("add",1),n[1]=r,t._movedThumb=t.$.secondThumb
break
case 36:t._drawValues[0]=t._drawMin,n[0]=t.min,t._movedThumb=t.$.thumb
break
case 35:t._drawValues[1]=t._drawMax,n[1]=t.max,t._movedThumb=t.$.secondThumb}return this.validate(!1,n),!1}}keyIncrementDecrement(e,t){const i=this.context
let n,r
if(i.customInterval&&i.coerce)return n=this.getValue()[t],i._keyIncrementDecrement(e,n.toString())
if("date"===i.mode)return-1===(r=(r=(n=i._valueDate[t])[i._dateIncrementMethod](("add"===e?1:-1)*parseFloat(i.interval),!0)).getTimeStamp()).compare(i._drawMin)?new JQX.Utilities.BigNumber(i._drawMin):1===r.compare(i._drawMax)?new JQX.Utilities.BigNumber(i._drawMax):r
const o=i._drawValues[t]
return n=i._numericProcessor.createDescriptor(o),r=i._numericProcessor.incrementDecrement(n,e,i._validInterval),i.logarithmicScale&&(i._drawValues[t]=r,r=parseFloat(Math.pow(10,Math.round(r)).toFixed(11))),r}setActiveThumbOnTrackClick(e){const t=this.context,i=t._trackStart+t._measurements.halfThumbSize,n=t._settings.offset,r=t.$.thumb,o=t.$.secondThumb,a=r[n],s=o[n],l=e[t._settings.page]
let d=t._normalLayout?i+a+(s-a)/2:i+s+(a-s)/2
t._normalLayout&&l<=d||!t._normalLayout&&l>d?(t._movedThumb=r,t._staticThumb=o,t._movedTooltip=t.$tooltip,t.$secondTooltip.addClass("jqx-hidden")):(t._movedThumb=o,t._staticThumb=r,t._movedTooltip=t.$secondTooltip,t.$tooltip.addClass("jqx-hidden")),t._addMovedThumbClass()}getActualValue(e){return this.context.logarithmicScale?[parseFloat(Math.pow(10,e[0].toString()).toFixed(11)),parseFloat(Math.pow(10,e[1].toString()).toFixed(11))]:[e[0].toString(),e[1].toString()]}getCoercedLogarithmicValue(e){const t=this.context
if(t.logarithmicScale){const i=[]
return i[0]=t._numericProcessor.getCoercedValue(Math.log10(e[0])),i[1]=t._numericProcessor.getCoercedValue(Math.log10(e[1])),this.getActualValue(i)}return e}getDrawValue(){return this.context._drawValues}getValue(){return this.context.values.slice(0)}moveThumbBasedOnValue(e,t,i){const n=this.context,r=void 0===t
if(void 0===e&&(e=n.values),n._numericProcessor.restrictValue(e),(r||1===t)&&(n._movedThumb=n.$.secondThumb,n._moveThumbBasedOnValue(n.$.secondThumb,e[1],!0,r)),(r||0===t)&&(n._movedThumb=n.$.thumb,n._moveThumbBasedOnValue(n.$.thumb,e[0],!0)),delete n._firstPassSize,!0!==i){n._drawValues=e
const t=this.getActualValue(e)
let i
i=n._valuesNoRangeValidation?[n._valuesNoRangeValidation[0].toString(),n._valuesNoRangeValidation[1].toString()]:t,"date"===n.mode&&(n._valueDate=[JQX.Utilities.DateTime.fromFullTimeStamp(t[0]),JQX.Utilities.DateTime.fromFullTimeStamp(t[1])]),n.values=i,delete n._valueBeforeCoercion,this.updateTooltipValue()}}restrictThumbCoordinates(e,t,i){const n=this.context,r=t+n._staticThumb[n._settings.offset]+n._measurements.halfThumbSize
return n._movedThumb===n.$.thumb&&n._normalLayout||n._movedThumb===n.$.secondThumb&&!n._normalLayout?(e=Math.max(e,t),e=Math.min(e,i,r)):(e=Math.max(e,t,r),e=Math.min(e,i)),e}updateFillSizeAndPosition(e,t,i,n,r){const o=this.context,a=o.$.fill.style,s=o._settings.dimension,l=o._settings.offset,d=o._measurements.halfThumbSize
let c,h
if(o._movedThumb===o.$.thumb?(c=e-d,h=void 0!==o._firstPassSize?o._firstPassSize-d:o.$.secondThumb[l]):(c=void 0!==o._firstPassSize?o._firstPassSize-d:o.$.thumb[l],h=e-d),o._normalLayout?(a[s]=Math.max(0,h-c)+"px",a[t]=c+d+"px"):(a[s]=Math.max(0,c-h)+"px",a[t]=h+d+"px"),n){const e=o._numericProcessor,t=o._movedThumb===o.$.thumb?0:1,n=o.values[t],a=o._getEventValue(!1,n,t)
if(e.compare(e.createDescriptor(i),e.createDescriptor(n))){const e=o.values.slice(0)
if(e[t]=i.toString(),this.updateTooltipValue(i,t),r){let t
if(this.updateDrawValues(e),t=o._valuesNoRangeValidation?[o._valuesNoRangeValidation[0].toString(),o._valuesNoRangeValidation[1].toString()]:e,"date"===o.mode&&(o._valueDate=[JQX.Utilities.DateTime.fromFullTimeStamp(e[0]),JQX.Utilities.DateTime.fromFullTimeStamp(e[1])]),o.values=t,delete o._valueBeforeCoercion,!0!==o._programmaticValueIsSet){const e=o._getEventValue()
o.$.hiddenInput.value=e,o.$.fireEvent("change",{value:e,oldValue:a}),this.setAriaValue("valuenow")}}}}}updateDrawValues(e){const t=this.context
t.logarithmicScale?(t._drawValues[0]=Math.log10(e[0]),t._drawValues[1]=Math.log10(e[1])):t._drawValues=e.slice(0)}updateTooltipValue(e,t){const i=this.context
if(void 0===e){const e=i.values,t=i._formatLabel(e[0]),n=i._formatLabel(e[1])
i.$.tooltipContent.innerHTML!==t&&(i.$.tooltipContent.innerHTML=t,i.$.thumbLabel.innerHTML=t),i.$.secondTooltipContent.innerHTML!==n&&(i.$.secondTooltipContent.innerHTML=n)}else{const n=i._formatLabel(e);(0===t&&i.$.tooltipContent.innerHTML!==n||void 0===t)&&(i.$.tooltipContent.innerHTML=n,i.$.thumbLabel.innerHTML=n),(1===t&&i.$.secondTooltipContent.innerHTML!==n||void 0===t)&&(i.$.secondTooltipContent.innerHTML=n,i.$.secondThumbLabel.innerHTML=n)}}updateValue(e){const t=this.context,i=[]
let n
i[0]=t._numericProcessor.createDescriptor(e[0],!0,!1),i[1]=t._numericProcessor.createDescriptor(e[1],!0,!1),this.updateDrawValues(i),t._movedThumb===t.$.secondThumb&&(n=1),this.moveThumbBasedOnValue(t._drawValues.slice(0),n)}validate(e,t,i){const n=this.context,r=n._numericProcessor
let o,a=[]
n._programmaticValueIsSet=i&&"interaction"===n.validation,o=e?n.values.slice(0):t,n.coerce&&(o[0]=r.createDescriptor(o[0],!0,!0,!0),o[1]=r.createDescriptor(o[1],!0,!0,!0)),n.logarithmicScale?o=this.getCoercedLogarithmicValue(o):(o[0]=r.getCoercedValue(o[0]),o[1]=r.getCoercedValue(o[1])),n._valuesNoRangeValidation=[],n._valuesNoRangeValidation[0]=r.createDescriptor(o[0],!0,!0,!1),n._valuesNoRangeValidation[1]=r.createDescriptor(o[1],!0,!0,!1),n._numericProcessor.restrictValue(n._valuesNoRangeValidation),a[0]=r.validate(n._valuesNoRangeValidation[0],n._minObject,n._maxObject),a[1]=r.validate(n._valuesNoRangeValidation[1],n._minObject,n._maxObject),e?(n._drawValues=[],this.updateDrawValues(a),o=[n._valuesNoRangeValidation[0].toString(),n._valuesNoRangeValidation[1].toString()],"date"===n.mode&&(n._valueDate=[JQX.Utilities.DateTime.fromFullTimeStamp(a[0]),JQX.Utilities.DateTime.fromFullTimeStamp(a[1])]),n.values=o,this.moveThumbBasedOnValue(n._drawValues,void 0,!0)):this.updateValue(a),delete n._valuesNoRangeValidation,n._programmaticValueIsSet=!1}setAriaValue(e){const t=this.context,i=t.$.thumb,n=t.$.secondThumb
if("valuenow"===e){const e=t._getEventValue(!0),r=e[0].toString(),o=e[1].toString()
i.setAttribute("aria-valuenow",r),i.setAttribute("aria-valuemax",o),n.setAttribute("aria-valuenow",o),n.setAttribute("aria-valuemin",r)}else i.setAttribute("aria-valuemin",t.min.toString()),n.setAttribute("aria-valuemax",t.max.toString())}})
var se=Object.freeze({})
JQX("jqx-calendar",class extends JQX.BaseElement{static get properties(){return{animationSettings:{value:null,type:"object"},calendarMode:{value:"default",allowedValues:["default","classic"],type:"string"},dayNameFormat:{value:"firstTwoLetters",allowedValues:["narrow","firstTwoLetters","long","short"],type:"string"},dateFormatFunction:{value:null,type:"function"},disableAutoNavigation:{value:!1,type:"boolean"},displayMode:{value:"month",allowedValues:["month","year","decade"],type:"string"},displayModeView:{value:"table",allowedValues:["table","list"],type:"string"},dropDownHeight:{value:"200",type:"string"},dropDownWidth:{value:"initial",type:"string"},firstDayOfWeek:{value:0,type:"number",defaultValue:0,validator:"_firstDayOfWeekValidator"},footerTemplate:{value:null,type:"any"},headerTemplate:{value:null,type:"any"},hideDayNames:{value:!1,type:"boolean"},hideOtherMonthDays:{value:!1,type:"boolean"},hideTooltipArrow:{value:!1,type:"boolean"},importantDates:{value:[],type:"array",defaultValue:[]},importantDatesTemplate:{value:null,type:"any"},max:{value:new Date(2100,1,1),type:"any",defaultValue:new Date(2100,1,1)},min:{value:new Date(1900,1,1),type:"any",defaultValue:new Date(1900,1,1)},months:{value:1,type:"number",defaultValue:1,validator:"_monthsValidator"},monthNameFormat:{value:"long",allowedValues:["narrow","firstTwoLetters","long","short","2-digit","numeric"],type:"string"},name:{value:"",type:"string"},restrictedDates:{value:[],type:"array",defaultValue:[]},scrollButtonsNavigationMode:{value:"landscape",allowedValues:["portrait","landscape"],type:"string"},scrollButtonsPosition:{value:"both",allowedValues:["near","far","both"],type:"string"},selectedDates:{value:[],type:"array"},selectionMode:{value:"default",allowedValues:["none","default","one","many","zeroOrMany","oneOrMany","zeroOrOne","week","range"],type:"string"},spinButtonsDelay:{value:80,type:"number"},spinButtonsInitialDelay:{value:0,type:"number"},titleTemplate:{value:null,type:"any"},tooltip:{value:!1,type:"boolean"},tooltipArrow:{value:!0,type:"boolean"},tooltipArrowDirection:{allowedValues:["bottom","top","left","right","none"],value:"bottom",type:"string"},tooltipDelay:{value:100,type:"number"},tooltipOffset:{value:[],type:"array"},tooltipPosition:{value:"auto",allowedValues:["auto","bottom","top","left","right","absolute"],type:"string"},tooltipTemplate:{value:null,type:"any"},view:{value:"portrait",allowedValues:["landscape","portrait"],type:"string"},viewSections:{value:["header"],type:"array"},weekNumbers:{value:!1,type:"boolean"},weeks:{value:6,type:"number",defaultValue:6,validator:"_weeksValidator"},yearFormat:{value:"numeric",allowedValues:["2-digit","numeric"],type:"string"}}}static get listeners(){return{"container.down":"_downHandler","document.up":"_documentUpHandler","body.move":"_moveHandler","container.wheel":"_containerWheelHandler","body.focus":"_bodyFocusStateHandler","body.blur":"_bodyBlurStateHandler","header.click":"_headerClickHandler","header.change":"_headerChangeHandler",keydown:"_keyDownHandler",keyup:"_keyUpHandler","listViewContainer.keydown":"_listViewContainerKeyDownHandler","listViewContainer.change":"_listViewContainerChangeEventHandler","listViewContainer.itemClick":"_listViewContainerItemClickHandler",mouseenter:"_mouseEventsHandler",mouseleave:"_mouseEventsHandler","container.mouseover":"_mouseEventsHandler","container.mouseout":"_mouseEventsHandler"}}static get methods(){return{select:"select(date=new Date(): date|string): void",clearSelection:"clearSelection(): void",today:"today(): date",navigate:"navigate(step: date|string|int): bool"}}static get styleUrls(){return["jqx.calendar.css"]}template(){return'<div id="container" role="presentation">\n                    <div id="title" class="jqx-calendar-title" role="heading" aria-level="1">\n                        <div id="yearContainer" class="jqx-calendar-year-container" role="button"></div>\n                        <div id="dateContainer" class="jqx-calendar-date-container jqx-calendar-selected" role="button"></div>\n                    </div>\n                    <div id="calendarContainer" class="jqx-calendar-container">\n                        <div id="header" class="jqx-calendar-header">\n                            <jqx-repeat-button prev-month class="jqx-calendar-button" id="previousMonthButton" animation="[[animation]]" initial-delay="[[spinButtonsInitialDelay]]" delay="[[spinButtonsDelay]]" disabled="[[disabled]]" readonly="[[readonly]]" right-to-left="[[rightToLeft]]" aria-label="Previous month">\n                                <span aria-hidden="true"></span>\n                            </jqx-repeat-button>\n                            <div id="dateElement" class="jqx-calendar-date-element" role="presentation">\n                                <div id="defaultHeaderDate" role="button"></div>\n                                <div id="classicHeaderDate">\n                                    <jqx-drop-down-list class="jqx-calendar-month-element" id="monthElement"\n                                        drop-down-position="bottom"\n                                        selection-mode="one"\n                                        disabled="[[disabled]]"\n                                        right-to-left="[[rightToLeft]]"\n                                        readonly="[[readonly]]"\n                                        drop-down-width="[[dropDownWidth]]"\n                                        drop-down-height="[[dropDownHeight]]"\n                                        theme="[[theme]]">\n                                    </jqx-drop-down-list>\n                                    <input class="jqx-calendar-year-element" id="yearElement" disabled="[[disabled]]" readonly="[[readonly]]" aria-label="Year" />\n                                    <span class="jqx-calendar-year-elements">\n                                        <jqx-repeat-button next-year class="jqx-calendar-button" id="nextYearButton" animation="[[animation]]" initial-delay="[[spinButtonsInitialDelay]]" delay="[[spinButtonsDelay]]" disabled="[[disabled]]" readonly="[[readonly]]" right-to-left="[[rightToLeft]]" aria-label="Next year">\n                                            <span aria-hidden="true"></span>\n                                        </jqx-repeat-button>\n                                        <jqx-repeat-button prev-year class="jqx-calendar-button" id="previousYearButton" animation="[[animation]]" initial-delay="[[spinButtonsInitialDelay]]" delay="[[spinButtonsDelay]]" disabled="[[disabled]]" readonly="[[readonly]]" right-to-left="[[rightToLeft]]" aria-label="Previous year">\n                                            <span aria-hidden="true"></span>\n                                        </jqx-repeat-button>\n                                    </span>\n                                </div>\n                            </div>\n                            <jqx-repeat-button next-month class="jqx-calendar-button" id="nextMonthButton" animation="[[animation]]" initial-delay="[[spinButtonsInitialDelay]]" delay="[[spinButtonsDelay]]" disabled="[[disabled]]" readonly="[[readonly]]" right-to-left="[[rightToLeft]]" aria-label="Next month">\n                                <span aria-hidden="true"></span>\n                            </jqx-repeat-button>\n                        </div>\n                        <div id="body" class="jqx-content jqx-calendar-body" role="presentation">\n                            <div id="monthsContainer" class="jqx-calendar-months-container" role="presentation">\n                              <div id="month" class="jqx-calendar-month" role="grid">\n                                   <div id="monthName" class="jqx-calendar-month-name"></div>\n                                   <div id="weekTitles" class="jqx-calendar-week-titles" role="row">\n                                       <div class="jqx-calendar-week-title" role="columnheader"></div>\n                                       <div class="jqx-calendar-week-title" role="columnheader"></div>\n                                       <div class="jqx-calendar-week-title" role="columnheader"></div>\n                                       <div class="jqx-calendar-week-title" role="columnheader"></div>\n                                       <div class="jqx-calendar-week-title" role="columnheader"></div>\n                                       <div class="jqx-calendar-week-title" role="columnheader"></div>\n                                       <div class="jqx-calendar-week-title" role="columnheader"></div>\n                                       <div class="jqx-calendar-week-title" role="columnheader"></div>\n                                   </div>\n                                   <div id="weeks" class="jqx-calendar-weeks" role="rowgroup">\n                                        <div class="jqx-calendar-week" role="row">\n                                           <div class="jqx-calendar-week-number" role="rowheader"></div>\n                                           <div class="jqx-calendar-cell" role="gridcell"></div>\n                                           <div class="jqx-calendar-cell" role="gridcell"></div>\n                                           <div class="jqx-calendar-cell" role="gridcell"></div>\n                                           <div class="jqx-calendar-cell" role="gridcell"></div>\n                                           <div class="jqx-calendar-cell" role="gridcell"></div>\n                                           <div class="jqx-calendar-cell" role="gridcell"></div>\n                                           <div class="jqx-calendar-cell" role="gridcell"> </div>\n                                        </div>\n                                        <div class="jqx-calendar-week" role="row">\n                                           <div class="jqx-calendar-week-number" role="rowheader"></div>\n                                           <div class="jqx-calendar-cell" role="gridcell"></div>\n                                           <div class="jqx-calendar-cell" role="gridcell"></div>\n                                           <div class="jqx-calendar-cell" role="gridcell"></div>\n                                           <div class="jqx-calendar-cell" role="gridcell"></div>\n                                           <div class="jqx-calendar-cell" role="gridcell"> </div>\n                                           <div class="jqx-calendar-cell" role="gridcell"> </div>\n                                           <div class="jqx-calendar-cell" role="gridcell"> </div>\n                                       </div>\n                                       <div class="jqx-calendar-week" role="row">\n                                           <div class="jqx-calendar-week-number" role="rowheader"></div>\n                                           <div class="jqx-calendar-cell" role="gridcell"></div>\n                                           <div class="jqx-calendar-cell" role="gridcell"></div>\n                                           <div class="jqx-calendar-cell" role="gridcell"></div>\n                                           <div class="jqx-calendar-cell" role="gridcell"></div>\n                                           <div class="jqx-calendar-cell" role="gridcell"> </div>\n                                           <div class="jqx-calendar-cell" role="gridcell"> </div>\n                                           <div class="jqx-calendar-cell" role="gridcell"> </div>\n                                       </div>\n                                       <div class="jqx-calendar-week" role="row">\n                                           <div class="jqx-calendar-week-number" role="rowheader"></div>\n                                           <div class="jqx-calendar-cell" role="gridcell"></div>\n                                           <div class="jqx-calendar-cell" role="gridcell"></div>\n                                           <div class="jqx-calendar-cell" role="gridcell"></div>\n                                           <div class="jqx-calendar-cell" role="gridcell"></div>\n                                           <div class="jqx-calendar-cell" role="gridcell"> </div>\n                                           <div class="jqx-calendar-cell" role="gridcell"> </div>\n                                           <div class="jqx-calendar-cell" role="gridcell"> </div>\n                                       </div>\n                                       <div class="jqx-calendar-week" role="row">\n                                           <div class="jqx-calendar-week-number" role="rowheader"></div>\n                                           <div class="jqx-calendar-cell" role="gridcell"></div>\n                                           <div class="jqx-calendar-cell" role="gridcell"></div>\n                                           <div class="jqx-calendar-cell" role="gridcell"></div>\n                                           <div class="jqx-calendar-cell" role="gridcell"></div>\n                                           <div class="jqx-calendar-cell" role="gridcell"> </div>\n                                           <div class="jqx-calendar-cell" role="gridcell"> </div>\n                                           <div class="jqx-calendar-cell" role="gridcell"> </div>\n                                       </div>\n                                       <div class="jqx-calendar-week" role="row">\n                                           <div class="jqx-calendar-week-number" role="rowheader"></div>\n                                           <div class="jqx-calendar-cell" role="gridcell"></div>\n                                           <div class="jqx-calendar-cell" role="gridcell"></div>\n                                           <div class="jqx-calendar-cell" role="gridcell"></div>\n                                           <div class="jqx-calendar-cell" role="gridcell"></div>\n                                           <div class="jqx-calendar-cell" role="gridcell"> </div>\n                                           <div class="jqx-calendar-cell" role="gridcell"> </div>\n                                           <div class="jqx-calendar-cell" role="gridcell"> </div>\n                                       </div>\n                                   </div>\n                                </div>\n                            </div>\n                            <div id="dateViewContainer" class="jqx-calendar-date-view-container jqx-hidden">\n                                    <div class="jqx-calendar-cell" role="button"></div>\n                                    <div class="jqx-calendar-cell" role="button"></div>\n                                    <div class="jqx-calendar-cell" role="button"></div>\n                                    <div class="jqx-calendar-cell" role="button"></div>\n                                    <div class="jqx-calendar-cell" role="button"></div>\n                                    <div class="jqx-calendar-cell" role="button"></div>\n                                    <div class="jqx-calendar-cell" role="button"></div>\n                                    <div class="jqx-calendar-cell" role="button"></div>\n                                    <div class="jqx-calendar-cell" role="button"></div>\n                                    <div class="jqx-calendar-cell" role="button"></div>\n                                    <div class="jqx-calendar-cell" role="button"></div>\n                                    <div class="jqx-calendar-cell" role="button"></div>\n                            </div>\n                            <div id="monthsSeparator" class="jqx-calendar-month-separator"></div>\n                            <div id="nextMonthsContainer" class="jqx-calendar-next-months-container" aria-hidden="true"></div>\n                            <jqx-list-box id="listViewContainer" class="jqx-calendar-list-view jqx-hidden"\n                                right-to-left="[[rightToLeft]]"\n                                item-height="30"\n                                unfocusable\n                                selection-mode="one"\n                                animation="simple">\n                            </jqx-list-box>\n                            <div id="animationPanel" class="jqx-calendar-animation-panel jqx-hidden"></div>\n                        </div>\n                        <div id="footer" class="jqx-calendar-footer jqx-hidden">\n                            <div id="selectedDatesRange"></div>\n                        </div>\n                        <jqx-tooltip id="tooltip" open-mode="manual" right-to-left="[[rightToLeft]]" arrow="[[tooltipArrow]]"\n                                   tooltip-template="[[tooltipTemplate]]"\n                                   arrow-direction="[[tooltipArrowDirection]]"\n                                   offset="[[tooltipOffset]]"\n                                   position="[[tooltipPosition]]"\n                                   delay="[[tooltipDelay]]"\n                                   disabled="[[disabled]]">\n                         </jqx-tooltip>\n                        <input id="hiddenInput" type="hidden" name="[[name]]">\n                    </div>\n                </div>'}propertyChangedHandler(e,t,i){super.propertyChangedHandler(e,t,i)
const n=this
switch(e){case"animationSettings":n._applyAnimationSettings()
break
case"disabled":case"unfocusable":n._setFocusable()
break
case"calendarMode":n.displayMode="month",n._refreshCalendarMode(),n._setDisplayModeContent()
break
case"dayNameFormat":n._refreshDayOfWeekTitles(n.$.month)
break
case"dateFormatFunction":{let e=n.$.monthsContainer.children
for(let t=0;t<e.length;t++)e[t].firstElementChild.innerHTML=i?i(e[t]._date):n._monthsNames[e[t]._date.getMonth()]+" "+e[t]._date.toLocaleDateString(n.locale,{year:n.yearFormat})
n._refreshHeaderTitle()
break}case"displayMode":if("classic"===n.calendarMode&&"month"!==i){n[e]="month"
break}n._setDisplayMode(t,i)
break
case"displayModeView":n._applyAnimationSettings(!0),"month"!==n.displayMode&&n._setDisplayModeContent()
break
case"firstDayOfWeek":n._handleMonths(),n._refreshDayOfWeekTitles()
break
case"hideTooltipArrow":n.$.tooltip.arrow=!i
break
case"titleTemplate":case"headerTemplate":case"footerTemplate":n._handleLayoutTemplate(n.$[e.split(/[T]/)[0]],i),"titleTemplate"===e?n._refreshTitle():"headerTemplate"===e?n._refreshHeaderTitle():n._refreshFooter()
break
case"importantDates":n.importantDates=n._getValidDates(i),n._refreshImportantDates()
break
case"importantDatesTemplate":n._handleImportantDateTemplate(),n._refreshImportantDates()
break
case"locale":n._refreshMonthNames(),n._refreshDayOfWeekTitles(),n._refreshHeaderTitle(),n._refreshTitle(),n._refreshFooter(),n.displayMode&&"month"!==n.displayMode&&n._setDisplayModeContent()
break
case"max":case"min":n._validateMinMax(e,i,t),n._validateSelectedDates(),n._noFocusingRequired=!1,n._refreshHeaderElements()
break
case"months":n._handleMonths()
break
case"monthNameFormat":n._refreshCalendarMode(),n._refreshHeaderTitle()
break
case"restrictedDates":n._setRestrictedDates(n.restrictedDates=n._getValidDates(i))
break
case"rightToLeft":n._refreshDayOfWeekTitles(),n._handleMonths()
break
case"scrollButtonsNavigationMode":n._setScrollButtonsNavigationMode()
break
case"selectedDates":if(n._clearSelection(!0),n._validateSelectedDates(n._getValidDates(i)),n._applySelectionMode(!0),n._viewDates){let e=n.selectedDates[n.selectedDates.length-1]
n._isDateInView(e)?n.selectedDates.map(e=>n._selectDate(e,!0,!0)):n._handleMonths(e)}n._refreshFooter(),n._setWeeksVisibility(n.$.monthsContainer),n.$.hiddenInput.value=n.selectedDates.toString(),n.$.fireEvent("change",{value:n.selectedDates}),n._refreshTitle(),"month"!==n.displayMode&&n._setDisplayModeContent()
break
case"selectionMode":n._applySelectionMode(!1,t),n._refreshTitle()
break
case"view":n._refreshTitle()
break
case"viewSections":i.indexOf("title")>-1?n.$title.removeClass("jqx-hidden"):n.$title.addClass("jqx-hidden"),n._refreshTitle(),i.indexOf("header")>-1?n.$header.removeClass("jqx-hidden"):n.$header.addClass("jqx-hidden"),n._refreshHeaderTitle(),i.indexOf("footer")>-1?n.$footer.removeClass("jqx-hidden"):n.$footer.addClass("jqx-hidden"),n._refreshFooter(),n._setFocusable()
break
case"weeks":n._setWeeksVisibility(n.$.monthsContainer)
break
case"yearFormat":if(n._refreshCalendarMode(),n._refreshFooter(),n.months>1&&"month"===n.displayMode){let e=n._animationStarted?n.$.nextMonthsContainer.children:n.$.monthsContainer.children
for(let t=0;t<e.length;t++)e[t].firstElementChild.innerHTML=n.dateFormatFunction?n.dateFormatFunction(e[t]._date):n._monthsNames[e[t]._date.getMonth()]+" "+e[t]._date.toLocaleDateString(n.locale,{year:i})}n._refreshTitle(),n._refreshHeaderTitle()}}ready(){super.ready()
this._keysPressed={},this._applyAnimationSettings(),this.importantDates=this._getValidDates(this.importantDates),this.restrictedDates=this._getValidDates(this.restrictedDates)}render(){const e=this
e.setAttribute("role","dialog"),e._refreshMonthNames(),e._validateMinMax(),e._validateSelectedDates(e._getValidDates(e.selectedDates)),e._handleLayoutTemplate(e.$.title,e.titleTemplate),e._handleLayoutTemplate(e.$.header,e.headerTemplate),e._handleLayoutTemplate(e.$.footer,e.footerTemplate),e._handleImportantDateTemplate(),e._setFocusable(),e._refreshDayOfWeekTitles(),e._applySelectionMode(!0),e._handleMonths(0===e.selectedDates.length?new Date((new Date).setHours(0,0,0,0)):e.selectedDates[e.selectedDates.length-1]),e._updateViewSectionsVisibility(),e._setScrollButtonsNavigationMode(),e._refreshCalendarMode(),e._setDisplayMode(),e._refreshTitle(),e._refreshFooter(),e._refreshImportantDates(),e.$.monthElement&&e.$.monthElement._setDropDownSize(),e._changeEventFired=0,e.$.hiddenInput.value=e.selectedDates.toString(),e.shadowRoot&&e.appendChild(e.$.hiddenInput),super.render()}_updateViewSectionsVisibility(){this.viewSections.indexOf("title")>-1?this.$title.removeClass("jqx-hidden"):this.$title.addClass("jqx-hidden"),this.viewSections.indexOf("header")>-1?this.$header.removeClass("jqx-hidden"):this.$header.addClass("jqx-hidden"),this.viewSections.indexOf("footer")>-1?this.$footer.removeClass("jqx-hidden"):this.$footer.addClass("jqx-hidden")}clearSelection(){this._clearSelection()}_setFocusable(){const e=this
let t=e.tabIndex>0?e.tabIndex:0
function i(e,i){if(i)return e&&e instanceof i?("function"==typeof e._setFocusable&&e.isCompleted?e.unfocusable=t<=-1:e.setAttribute("tabindex",t),e):void 0}(e.disabled||e.unfocusable)&&(t=-1),e.$.previousMonthButton=i(e.$.previousMonthButton,JQX.Button),e.$.nextMonthButton=i(e.$.nextMonthButton,JQX.Button),e.$.nextYearButton=i(e.$.nextYearButton,JQX.Button),e.$.previousYearButton=i(e.$.previousYearButton,JQX.Button),e.$.monthElement=i(e.$.monthElement,JQX.DropDownList),e.$.yearElement=i(e.$.yearElement,HTMLInputElement),e.viewSections.indexOf("title")>-1&&(e.$.dateContainer.setAttribute("tabindex",t),e.$.yearContainer.setAttribute("tabindex",t)),e.$.body.setAttribute("tabindex",t),"default"===e.calendarMode?e.$.dateElement.setAttribute("tabindex",t):e.$.dateElement.removeAttribute("tabindex"),e.tabIndex=e.readonly&&!e.disabled?e.tabIndex>0?e.tabIndex:0:t}static get requires(){return{"JQX.DropDownList":"jqxdropdownlist.js","JQX.ListBox":"jqxlistbox.js","JQX.RepeatButton":"jqxbutton.js","JQX.Tooltip":"jqxtooltip.js"}}navigate(e){const t=this
let i,n,r
if(e){if("number"==typeof e){if(e=parseInt(e),isNaN(e)||0===e)return!1
if(6!==t.weeks&&0!==t.weeks&&"month"===t.displayMode){let r,o
t._focusedCell||t._focusCell()
const a=[].slice.call(t._focusedCell.closest(".jqx-calendar-weeks").children).filter(e=>!e.classList.contains("jqx-hidden"))
e<0?(o=a[0].querySelectorAll(".jqx-calendar-cell"),r=t.rightToLeft?o[o.length-1]:o[0]):(o=a[a.length-1].querySelectorAll(".jqx-calendar-cell"),r=t.rightToLeft?o[0]:o[o.length-1]),(n=new Date(r.value)).setDate(n.getDate()+e),i=n}else i=t._getNextDate(e)}else{if(i=e=t._getValidDate(e),r=!0,isNaN(i.getTime()))return!1
const o=t._viewDates[0]
if(o&&i.getMonth()===o.getMonth()&&i.getFullYear()===o.getFullYear())return!1
6!==t.weeks&&0!==t.weeks&&"month"===t.displayMode&&(n=i)}return!!i&&("month"!==t.displayMode?(!r&&t.hasAnimation?(t.$nextMonthsContainer.addClass("jqx-calendar-date-view-container"),"list"===t.displayModeView?t._setDisplayModeContent(i):t._navigationDate&&t._navigationDate.getTime()===i.getTime()||t._animateNavigation(i,e)):t._setDisplayModeContent(i),!0):(t.hasAnimation?(t._animateNavigation(i,e),t.$nextMonthsContainer.hasClass("jqx-date-view-container")&&t.$nextMonthsContainer.removeClass("jqx-date-view-container")):(t._handleMonths(i),t._refreshHeaderElements(),t._refreshHeaderTitle()),n&&(t._focusCell(t._getCellByDate(n,t._animationStarted?t.$.nextMonthsContainer:void 0),!0),t._updateWeeksVisibility(e)),!0))}}select(e){const t=this
void 0!==t._viewDates[0]&&"none"!==t.selectionMode&&e&&(e=t._getValidDate(e))instanceof Date&&("one"===t.selectionMode&&t.selectedDates.map(Number).indexOf(e.getTime())>-1||e.getTime()<t.min.getTime()||e.getTime()>t.max.getTime()||("one"!==t.selectionMode&&"default"!==t.selectionMode&&"zeroOrOne"!==t.selectionMode||t._clearSelection(!0),t._selectDate(e),1!==t.selectedDates.length||t._isDateInView(t.selectedDates[0])||t._handleMonths(t.selectedDates[0])))}today(){const e=this
let t=new Date
return t.setHours(0,0,0,0),t.getTime()<e.min.getTime()||t.getTime()>e.max.getTime()?t=new Date(e.max):e.selectedDates=[t],e._handleMonths(t),t}_animateNavigation(e,t,i){const n=this
n._navigationDate=e,n._animationSettings||n._applyAnimationSettings(),n.$animationPanel.addClass("jqx-hidden"),n.$.dateViewContainer.style.transform="",n.$.dateViewContainer.style.opacity="",n.$.monthsContainer.style.transform="",n.$.monthsContainer.style.opacity=""
const r="month"!==n.displayMode?n.$.dateViewContainer:n.$.monthsContainer,o=n.$.body[n._animationSettings.scrollMax]-n.$.body[n._animationSettings.size]
if(n._scrollStep=n.$.body[n._animationSettings.size]*n._animationSettings.startSpeed,n._animationStarted){n._getMonthCells(n.$.monthsContainer,n.rightToLeft).map(e=>{n._setCellState(e,"restricted",!1),n._setCellState(e,"selected",!1),n._setCellState(e,"otherMonth",!1),n._setCellState(e,"focus",!1),n._setCellState(e,"important",!1),n._setCellState(e,"today",!1),n._setCellState(e,"disabled",!1),n._setCellState(e,"hover",!1)})}n._animationStarted=!0,"month"!==n.displayMode?(n._setCellState(n._focusedCell,"focus",!1),n._setDisplayModeContent(e,n.$.nextMonthsContainer)):n._handleMonths(e,n.$.nextMonthsContainer),n.rightToLeft&&(t*=-1),i||(t>0?(r.style.order=1,n.$.nextMonthsContainer.style.order=3,(!n._animationStarted||n._animationStarted&&n.$.body[n._animationSettings.scrollSize]>n.$.body[n._animationSettings.scrollMax]*n._animationSettings.resetThreshold*2)&&(n.$.body[n._animationSettings.scrollSize]=0)):(r.style.order=3,n.$.nextMonthsContainer.style.order=1,(!n._animationStarted||n._animationStarted&&n.$.body[n._animationSettings.scrollSize]<n.$.body[n._animationSettings.scrollMax]*n._animationSettings.resetThreshold)&&(n.$.body[n._animationSettings.scrollSize]=n.$.body[n._animationSettings.scrollMax]))),cancelAnimationFrame(n._animationId),n._animationId=requestAnimationFrame(function e(){let i=t>0?n.$.body[n._animationSettings.scrollSize]>=o:0===n.$.body[n._animationSettings.scrollSize],r=n._scrollStep/2
i?n._animateNavigationCompleted():(t>0&&n.$.body[n._animationSettings.scrollSize]>o*n._animationSettings.easeThreshold?(r=Math.max(n.$.body[n._animationSettings.scrollSize]/n._animationSettings.stepEaseSize,Math.abs(r-(o-n.$.body[n._animationSettings.scrollSize])*n._animationSettings.step)),n._scrollStep=n._scrollStep*n._animationSettings.step+r):t<0&&n.$.body[n._animationSettings.scrollSize]<o*n._animationSettings.easeThreshold&&(r=Math.max(n.$.body[n._animationSettings.scrollMax]/n._animationSettings.stepEaseSize,Math.abs(r-n.$.body[n._animationSettings.scrollSize]*n._animationSettings.step)),n._scrollStep=n._scrollStep*n._animationSettings.step+r),n.$.body[n._animationSettings.scrollSize]+=t>0?n._scrollStep:-n._scrollStep,n._animationId=requestAnimationFrame(e))})}_animateNavigationCompleted(){const e=this
let t,i,n,r="month"!==e.displayMode?e.$.dateViewContainer:e.$.monthsContainer
if(cancelAnimationFrame(e._animationId),"month"!==e.displayMode){let o=[].slice.call(r.children).indexOf(e._focusedCell)
r.innerHTML=e.$.nextMonthsContainer.innerHTML
let a,s=r.children[o]
i=r.children,n=e.$.nextMonthsContainer.children
for(let t=0;t<i.length;t++)i[t].value=n[t].value,i[t].restricted=n[t].restricted,i[t].important=n[t].important,i[t].otherMonth=n[t].otherMonth,i[t].value.getTime()<=e.max.getTime()&&(a=i[t])
t=s&&s.value.getTime()>=e.max.getTime()?a.value:e._focusedCell?e._focusedCell.value:void 0}else{let t=r.children,o=e.$.nextMonthsContainer.children
for(let r=0;r<t.length&&o[r]._date;r++){t[r]._date=o[r]._date,t[r].innerHTML=o[r].innerHTML,i=e._getMonthCells(t[r]),n=e._getMonthCells(o[r])
for(let e=0;e<i.length;e++)i[e].value=n[e].value,i[e].restricted=n[e].restricted,i[e].important=n[e].important,i[e].otherMonth=n[e].otherMonth,i[e].removeAttribute("focus")}e._selectedCells.length>0&&(e._selectedCells=e._selectedCells.map(t=>t=e._getCellByDate(t.value)).filter(e=>void 0!==e))}e._focusCell(e._getCellByDate(t)),r.style.order=1,e.$.nextMonthsContainer.style.order=3,e.$.body[e._animationSettings.scrollSize]=0,e._animationStarted=!1,delete e._navigationDate}_applyAnimationSettings(e){const t=this
t.hasAnimation?(t._animationSettings=t.animationSettings?t.animationSettings:t._animationSettings?t._animationSettings:{},"portrait"===t.scrollButtonsNavigationMode?(t._animationSettings.scrollMax="scrollHeight",t._animationSettings.size="offsetHeight",t._animationSettings.scrollSize="scrollTop"):(t._animationSettings.scrollMax="scrollWidth",t._animationSettings.size="offsetWidth",t._animationSettings.scrollSize="scrollLeft"),e||(t._animationSettings.startSpeed=t._animationSettings.startSpeed?t._animationSettings.startSpeed:.2,t._animationSettings.easeThreshold=t._animationSettings.easeThreshold?t._animationSettings.easeThreshold:.5,t._animationSettings.step=t._animationSettings.step?t._animationSettings.step:.25,t._animationSettings.stepEaseSize=t._animationSettings.stepEaseSize?t._animationSettings.stepEaseSize:200,t._animationSettings.resetThreshold=t._animationSettings.resetThreshold?t._animationSettings.resetThreshold:.2)):delete t._animationSettings}_applySelectionMode(e,t){const i=this
let n=[],r=!!e,o=i.selectionMode
function a(e,t){const n=i.$.monthsContainer.children
for(let r=0;r<n.length;r++)i._getMonthCells(n[r]).map(n=>{i._setCellState(n,e,t)})}switch("many"===o&&"range"===o||a("hover",!1),i._newRangeSelectionStarted=i.selectedDates.length>0&&"range"===o,-1!==["default","many","zeroOrMany","oneOrMany","week","range"].indexOf(o)?Array.from(i.getElementsByClassName("jqx-calendar-month")).forEach(e=>e.setAttribute("aria-multiselectable",!0)):Array.from(i.getElementsByClassName("jqx-calendar-month")).forEach(e=>e.removeAttribute("aria-multiselectable")),"none"!==o&&"none"!==t||a("selected",!1),o){case"none":return void i._clearSelection(r)
case"range":return void(i.selectedDates.length>1&&i._selectMultipleDates(i.selectedDates[0],i.selectedDates[i.selectedDates.length-1]))
case"many":case"default":case"oneOrMany":if(0===i.selectedDates.length){n.push(new Date(Math.min(Math.max(i.min.getTime(),(new Date).setHours(0,0,0,0)),i.max.getTime())))
break}return
case"one":if(1===i.selectedDates.length)return
i.selectedDates.length>1?(n.push(i.selectedDates[i.selectedDates.length-1]),i._clearSelection(r)):n.push(new Date(Math.min(Math.max(i.min.getTime(),(new Date).setHours(0,0,0,0)),i.max.getTime())))
break
case"zeroOrOne":if(i.selectedDates.length>1){n.push(i.selectedDates[i.selectedDates.length-1]),i._clearSelection(r)
break}return
case"zeroOrMany":return
case"week":if(i.selectedDates.length>=1){let e=i.selectedDates[i.selectedDates.length-1]
for(let t=0;t<7;t++)n.push(new Date(e)),e.setDate(e.getDate()+1)
i._clearSelection(r)}}if(i.selectedDates=[],e)return void(i.selectedDates=n)
const s=n.length
for(let e=0;e<s;e++)i._selectDate(n[e],e<s-1)}_clearSelection(e){const t=this,i=t.selectionMode
if(t._selectedCells&&t._selectedCells.map(e=>{t._setCellState(e,"selected",!1)}),t.selectedDates=[],t._selectedCells=[],"many"===i||"range"===i){const e=t.$.monthsContainer.children
for(let i=0;i<e.length;i++)t._getMonthCells(e[i]).map(e=>{t._setCellState(e,"hover",!1)})}t._refreshFooter(),t.$.hiddenInput.value=t.selectedDates.toString(),e||t.$.fireEvent("change",{value:[]}),t._refreshTitle()}_bodyBlurStateHandler(e){this._bodyStateHandler(e),delete this._newRangeSelectionStarted}_bodyFocusStateHandler(e){this._bodyStateHandler(e)}_bodyStateHandler(e){const t=this
if(t._focusedCell){if("blur"===e.type||"focus"===e.type&&t._noFocusingRequired)return t._noFocusingRequired=!1,void t._setCellState(t._focusedCell,"focus",!1)
if("month"!==t.displayMode)return void("focus"!==e.type||t.$.dateViewContainer.querySelector("jqx-calendar-cell[focus]")||t._setCellState(t._focusedCell||t.$.dateViewContainer.querySelector(".jqx-calendar-cell"),"focus",!0))}"focus"===e.type&&t._focusCell()}_containerWheelHandler(e){const t=this
if(t.disabled||t.readonly||"month"!==t.displayMode&&"list"===t.displayModeView)return
let i,n
n=document.activeElement,t.shadowRoot?n=t.shadowRoot.activeElement:t.isInShadowDOM&&(n=t.getRootNode().activeElement),t.$.yearElement===n&&(i=12),(n&&t.shadowRoot||n.closest("jqx-calendar")===t)&&(i=e.target===t.$.yearElement?12:1),i&&(e.preventDefault(),i=12===i?i:i*t.months,e.deltaY>0?t.navigate(-i):t.navigate(i))}_downHandler(e){const t=this
let i=e.originalEvent.target
if(t._dragStartDetails=void 0,t.disabled||t.readonly)return
if(t.hasRippleAnimation&&(i.value instanceof Date||i.parentElement&&i.parentElement.classList.contains("jqx-calendar-title")||i.parentElement===t.$.dateElement)&&JQX.Utilities.Animation.Ripple.animate(i,e.pageX,e.pageY),i=e.originalEvent.target.closest(".jqx-calendar-header"),e.originalEvent.target.closest(".jqx-calendar-year-container")&&"decade"!==t.displayMode){if("classic"===t.calendarMode)return
return void t._showDateView("year")}if(e.originalEvent.target.closest(".jqx-calendar-date-container")&&"month"!==t.displayMode){if("classic"===t.calendarMode)return
return void t._displayModeHandler("list"===t.displayModeView?t.$.listViewContainer.getItem(t.$.listViewContainer.selectedValues[0]):t._focusedCell,"month")}if(t._animationStarted&&t._animateNavigationCompleted(),JQX.Utilities.Core.isMobile&&e.originalEvent.target.closest(".jqx-calendar-body")===t.$.body)return void(t._dragStartDetails={x:e.pageX,y:e.pageY,startTime:Date.now(),target:e.originalEvent.target})
if((i=e.originalEvent.target).closest(".jqx-calendar-week")||i.parentElement===t.$.dateViewContainer){for(;i&&!(i.value instanceof Date);)i=i.parentElement
return void(i&&("month"!==t.displayMode?t._displayModeHandler(i):t._weeksDownHandler(e,i)))}if(i.closest(".jqx-calendar-month-element"))return
if(e.originalEvent.stopPropagation(),"list"===t.displayModeView&&"month"!==t.displayMode)return void((i=(t.shadowRoot||t.isInShadowDOM?e.originalEvent.composedPath()[0]:e.originalEvent.target).closest("jqx-list-item"))&&t._displayModeHandler(i))
const n=document.scrollingElement||document.documentElement,r=n.scrollLeft,o=n.scrollTop
t.focus(),window.scrollTo(r,o)}_displayModeHandler(e,t){const i=this
if(i._animationStarted&&i._animateNavigationCompleted(),e instanceof HTMLElement&&e.parentElement.classList.contains("jqx-calendar-week")&&e.otherMonth){if("decade"===i.displayMode&&(e.value.getFullYear()<i.min.getFullYear()||e.value.getFullYear()>i.max.getFullYear()))return
if("year"===i.displayMode&&(e.value.getFullYear()<i.min.getFullYear()||e.value.getFullYear()===i.min.getFullYear()&&e.value.getMonth()<i.min.getMonth()||e.value.getFullYear()>i.max.getFullYear()||e.value.getFullYear()===i.max.getFullYear()&&e.value.getMonth()>i.max.getMonth()))return}switch(t=t||i.displayMode){case"year":t="month"
break
case"decade":t="year"}i.displayMode!==t&&(i.$.fireEvent("displayModeChanging",{oldDisplayMode:i.displayMode,newDisplayMode:t}).defaultPrevented||(i.displayMode=t,i.$nextMonthsContainer.removeClass("jqx-calendar-date-view-container"),e.parentElement!==i.$.dateViewContainer||e.disabled||e.restricted||i._focusCell(e),i.hasAnimation?(e instanceof JQX.ListItem||e.ownerListBox===i.$.listViewContainer?e.offsetHeight?i.$.animationPanel.style.transformOrigin=e.offsetLeft+e.offsetWidth/2+"px "+(e.dataItem.top>0?e.offsetTop-e.offsetHeight/2:e.offsetTop+e.offsetHeight/2)+"px":i.$.animationPanel.style.transformOrigin=i.$.listViewContainer.offsetLeft+i.$.listViewContainer.offsetWidth/2+"px "+(i.$.listViewContainer.offsetTop+i.$.listViewContainer.offsetHeight/2)+"px":(i.$.dateViewContainer.style.order=1,i.$.nextMonthsContainer.style.order=3,e=i._focusedCell,i.$.animationPanel.style.transformOrigin=e.offsetLeft+e.offsetWidth/2+"px "+(e.offsetTop+e.offsetHeight/2)+"px"),i._animateView(1,e)):i._setDisplayModeContent(e.value instanceof Date?e.value:new Date(e.value))))}_animateView(e,t){const i=this
let n,r,o=t instanceof Date?t:new Date(t.value),a=!1,s=1,l=1
if("list"===i.displayModeView?(n=t instanceof JQX.ListItem||t.ownerListBox===i.$.listViewContainer?i.$.listViewContainer:"month"!==i.displayMode?i.$.monthsContainer:i.$.listViewContainer,r="month"===i.displayMode?i.$.monthsContainer:i.$.listViewContainer):t.value instanceof Date||(t=i._focusedCell?i._focusedCell:i._selectedCells.length>0?i._selectedCells[i._selectedCells.length-1]:i._getCellByDate(new Date)),n||(n=t.parentElement===i.$.dateViewContainer?i.$.dateViewContainer:i.$.monthsContainer),r||(r="month"===i.displayMode?i.$.monthsContainer:i.$.dateViewContainer),r.style.transformOrigin=i.$.animationPanel.style.transformOrigin,n instanceof JQX.ListBox)for(i.$.animationPanel.innerHTML="",i.$.animationPanel.appendChild(n.cloneNode(!1));n.$.itemsInnerContainer.firstElementChild;)i.$.animationPanel.children[0].appendChild(n.$.itemsInnerContainer.firstElementChild)
else i.$.animationPanel.innerHTML=n.innerHTML
if(i._setDisplayModeContent(o),n.style.order=1,i.$.nextMonthsContainer.style.order=3,i.$.body[i._animationSettings.scrollSize]=0,i.$.animationPanel.style.width=i.$.body.offsetWidth+"px",i.$.animationPanel.style.height=i.$.body.offsetHeight+"px",i.$.animationPanel.style.transform="scale(1)",i.$.animationPanel.style.opacity=1,i.$animationPanel.removeClass("jqx-hidden"),r.style.opacity="0",r.style.transform="scale(3.5)",n.$.hasClass("jqx-calendar-date-view-container")?i.$animationPanel.addClass("jqx-calendar-date-view-container"):i.$animationPanel.removeClass("jqx-calendar-date-view-container"),n instanceof JQX.ListBox){const e=i.$.animationPanel.children[0]
e.whenReady(function(){e._refreshLayout(),e.ensureVisible(e.selectedValues[0])})}cancelAnimationFrame(i._animationId),i._animationId=requestAnimationFrame(function t(){if((e>0&&s>=3.5||e<0&&s<=0)&&(a=!0),a)return cancelAnimationFrame(i._animationId),i.$animationPanel.addClass("jqx-hidden"),i.$.animationPanel.style.transform="",i.$.animationPanel.style.opacity="",n.style.order=1,i.$.nextMonthsContainer.style.order=3,i.$.body[i._animationSettings.scrollSize]=0,r.style.transform="",r.style.opacity="",void("month"===i.displayMode?i.$.body.focus():"list"===i.displayModeView&&i.focus())
i.$.animationPanel.style.opacity=l,r.style.opacity=1-l,l-=.05,e>0?(i.$.animationPanel.style.transform="scale("+s+")",r.style.transform="scale("+Math.min((s-1)/2,1)+")",s+=.125):(i.$.animationPanel.style.transform="scale("+Math.max(s,0)+")",r.style.transform="scale("+Math.max(1+s,1)+")",s-=.06),i._animationId=requestAnimationFrame(t)})}_documentUpHandler(e){const t=this
if(!JQX.Utilities.Core.isMobile||!t._dragStartDetails||e.originalEvent.target.closest(".jqx-calendar-list-view"))return
delete t._previousIteration
const i=Date.now()
let n=e.originalEvent.target,r={};(t.isInShadowDOM||t.shadowRoot&&n===t)&&(n=e.originalEvent.composedPath()[0]),"portrait"===t.scrollButtonsNavigationMode?(r.coordinate="y",r.direction="pageY"):(r.coordinate="x",r.direction="pageX")
const o=t._dragStartDetails.step*(t.rightToLeft?-1:1)
if(Math.abs(t._dragStartDetails[r.coordinate]-e[r.direction])<=10){if(!(n="list"===t.displayModeView&&"month"!==t.displayMode?n.closest("jqx-list-item"):n))return void(t._dragStartDetails=void 0)
if("month"!==t.displayMode)return t._displayModeHandler(n),"portrait"===t.scrollButtonsNavigationMode?t.$.body.scrollTop=0:t.$.body.scrollLeft=0,void(t._dragStartDetails=void 0)
if(t._weeksDownHandler(e,n),!t.disableAutoNavigation&&n.otherMonth)return}else{const n=Math.abs((e[r.direction]-t._dragStartDetails[r.coordinate])/(i-t._dragStartDetails.startTime))
if(n>1){const e=parseInt(n)
for(let i=0;i<e;i++)t.navigate(o)
return void(t._dragStartDetails=void 0)}}if(!t.hasAnimation)return void(t._dragStartDetails=void 0)
let a=("month"!==t.displayMode?t.$.dateViewContainer[t._animationSettings.scrollMax]:t.$.monthsContainer[t._animationSettings.scrollMax])+t.$.monthsSeparator[t._animationSettings.size]
if(t._dragStartDetails.step>0&&t.$.body[t._animationSettings.scrollSize]>a*t._animationSettings.easeThreshold||t._dragStartDetails.step<0&&t.$.body[t._animationSettings.scrollSize]<a*t._animationSettings.easeThreshold)return t._animateNavigation(t._dragStartDetails.navigationDate,o,!0),6!==t.weeks&&0!==t.weeks&&"month"===t.displayMode&&t._updateWeeksVisibility(o,t._getCellByDate(t._dragStartDetails.navigationDate,t.$.nextMonthsContainer)),void(t._dragStartDetails=void 0)
t._cancelAnimation(void 0,o||1),t._dragStartDetails=void 0}_cancelAnimation(){const e=this,t="month"!==e.displayMode?e.$.dateViewContainer:e.$.monthsContainer
let i=e.$.animationPanel.style.transform,n=e.$.animationPanel.style.opacity
i&&(i=parseFloat(i.substring(i.indexOf("(")+1||0,i.indexOf(")")))),t.style.order=1,e.$.nextMonthsContainer.style.order=3,e.$.body[e._animationSettings.scrollSize]=0,e._animationId=requestAnimationFrame(function t(){if(!i||i>=3.5){cancelAnimationFrame(e._animationId),e.$animationPanel.addClass("jqx-hidden"),e.$.animationPanel.style.transform="",e.$.animationPanel.style.opacity=""
const t="month"===e.displayMode?e.$.monthsContainer:e.$.listViewContainer
return t.style.transform="",t.style.opacity="","month"===e.displayMode?e.$.body.focus():"list"===e.displayModeView&&e.focus(),void(e._animationStarted=!1)}e.$.animationPanel.style.opacity=n-=.25,e.$.animationPanel.style.transform="scale("+(i+=.5)+")",e._animationId=requestAnimationFrame(t)})}_focusCell(e,t){const i=this
if(i._focusedCell&&i._setCellState(i._focusedCell,"focus",!1),i.disabled||i.readonly)return
if(e){if("month"!==i.displayMode)return i._setCellState(e,"focus",!0),void(i._focusedCell=e)
if(e.disabled||e.restricted)return
return t||i._setCellState(e,"focus",!0),void(i._focusedCell=e)}if("month"!==i.displayMode&&0===i.$.monthsContainer.offsetHeight)return
const n=i._selectedCells[i._selectedCells.length-1]
if(n&&n.offsetHeight)i._setCellState(n,"focus",!0),i._focusedCell=n
else{const e=i.$.monthsContainer.children
if(!e[0]._date||i.min.getTime<e[0]._date.getTime())return
const t=i._getMonthCells(e[0],i.rightToLeft)
for(let e=0;e<t.length;e++){const n=t[e]
if(!n.otherMonth){if(n.disabled||n.restricted||!n.offsetHeight)continue
i._focusedCell=n
break}}}i._focusedCell&&i._setCellState(i._focusedCell,"focus",!0)}_getDays(e,t){const i=t.length
let n=[]
if(i>0)for(let r=0;r<i;r++)t[r].getFullYear()===e.getFullYear()&&t[r].getMonth()===e.getMonth()&&n.push(t[r].getDate())
return n}_getCellByDate(e,t){const i=this
if(!(e instanceof Date))return
if(t||(t=i.$.monthsContainer),"month"!==i.displayMode){if("list"===i.displayModeView)return
let t=arguments[1]?i.$.nextMonthsContainer.children:i.$.dateViewContainer.children
for(let n=0;n<t.length;n++)if("year"!==i.displayMode){if(t[n].value.getFullYear()===e.getFullYear())return t[n]}else if(t[n].value.getMonth()===e.getMonth())return t[n]
return}let n,r,o=t.children
for(let t=0;t<o.length;t++)if(e.getFullYear()===o[t]._date.getFullYear()&&e.getMonth()===o[t]._date.getMonth()){n=o[t]
break}if(n){r=i._getMonthCells(n)
for(let t=0;t<r.length;t++)if((!r[t].otherMonth||r[t].hover)&&r[t].value.getMonth()===e.getMonth()&&r[t].value.getDate()===e.getDate())return r[t]}}_getMonthCells(e,t){const i=e.getElementsByClassName("jqx-calendar-week")
let n=[]
if(t)for(let e=0;e<i.length;e++){let t=i[e].children
for(let e=t.length-1;e>0;e--)t[e].classList.contains("jqx-calendar-cell")&&n.push(t[e])}else for(let e=0;e<i.length;e++){let t=i[e].children
for(let e=1;e<t.length;e++)t[e].classList.contains("jqx-calendar-cell")&&n.push(t[e])}return n}_getWeekNumber(e){const t=this
let i,n=new Date(e.getFullYear(),0,1),r=Math.round((e.getTime()-n.getTime()-6e4*(e.getTimezoneOffset()-n.getTimezoneOffset()))/864e5)+1,o=n.getDay()-t.firstDayOfWeek
return(o=o>=0?o:o+7)<4?(i=Math.floor((r+o-1)/7)+1)>52&&(i=(o=(o=(n=new Date(e.getFullYear()+1,0,1)).getDay()-t.firstDayOfWeek)>=0?o:o+7)<4?1:53):i=Math.round((r+o-1)/7),i}_handleDateSelection(e){const t=this
if(void 0!==e&&!e.disabled&&!e.restricted)switch(t.selectionMode){case"none":t._focusCell(e)
break
case"one":case"default":if(t._keysPressed.Control)return t.selectedDates.length>1||1===t.selectedDates.length&&!e.selected?void t._selectDate(e.value):void t._focusCell(e)
if(t._keysPressed.Shift)return void t._selectMultipleDates(new Date(t.selectedDates[0]),e)
t._clearSelection(!0),t._selectDate(e.value,t._selectedCells.indexOf(e.value)>-1)
break
case"many":{if(0===t.selectedDates.length)return void t._selectDate(e.value)
const i=t.selectedDates[t.selectedDates.length-1]
let n=new Date(t.selectedDates[0])
if(e.value.getTime()===n.getTime()||e.value.getTime()===i.getTime())return t._clearSelection(),void t._focusCell(e)
t.selectedDates.length>0&&t._selectMultipleDates(n,e)
break}case"range":{if(t.selectedDates.length>1&&!t._keysPressed.Control&&!t._newRangeSelectionStarted&&t._clearSelection(!0),0===t.selectedDates.length||t._keysPressed.Control&&t.selectedDates.length>1&&!t._newRangeSelectionStarted){if(e.value&&t.selectedDates.find(t=>t.getTime()===e.value.getTime()))return
return t._newRangeSelectionStarted=!0,void t._selectDate(e.value)}const i=t.selectedDates[t.selectedDates.length-1]
let n=t._keysPressed.Control||t._newRangeSelectionStarted?i:new Date(t.selectedDates[0])
t.selectedDates.length>0&&t._selectMultipleDates(n,e),delete t._newRangeSelectionStarted
break}case"zeroOrMany":t._selectDate(e.value)
break
case"oneOrMany":if(1===t.selectedDates.length&&e.selected)return void t._focusCell(e)
t._selectDate(e.value)
break
case"zeroOrOne":if(1===t.selectedDates.length&&e.selected)return void t._selectDate(e.value)
t._clearSelection(!0),t._selectDate(e.value)
break
case"week":{if(e.selected&&(e.value.getTime()===t.selectedDates[0].getTime()||e.value.getTime()===t.selectedDates[t.selectedDates.length-1].getTime()))return t._clearSelection(),void t._focusCell(e)
t._clearSelection(!0)
let i=new Date(e.value)
t._selectDate(i)
for(let e=1;e<7;e++)i.setDate(i.getDate()+1),t._selectDate(i)
t._isDateInView(i)||t.navigate(1)
break}}}_handleImportantDateTemplate(){const e=this
if(e._importantDatesTemplate=e._validateTemplate("importantDatesTemplate",e.importantDatesTemplate),!e._importantDatesTemplate||!e._importantDatesTemplate.content)return
let t=e._importantDatesTemplate.content
const i=t.childNodes.length,n=/{{\w+}}/g
let r
e._bindingDetails=[]
for(let o=0;o<i;o++)if(r=n.exec(t.childNodes[o].innerHTML))return void e._bindingDetails.push({childNodeIndex:o,bindingString:r[0]})}_handleLayoutTemplate(e,t){const i=this,n=i._validateTemplate(e.$.hasClass("jqx-header")?"headerTemplate":e.$.hasClass("jqx-calendar-footer")?"footerTemplate":"titleTemplate",t)
if(!n||!n.content)return void("function"==typeof t&&t(e,{}))
i._layoutTemplates||(i._layoutTemplates=[])
let r=document.importNode(n.content,!0)
e.innerHTML=""
const o=r.childNodes.length,a=/{{\w+}}/g
let s,l=[]
for(let e=0;e<o;e++)(s=a.exec(r.childNodes[e].innerHTML))&&l.push({childNodeIndex:e,bindingString:s[0]})
if(i._layoutTemplates=i._layoutTemplates.filter(t=>t.selector!==e),i._layoutTemplates.push({selector:e,template:n,bindings:l}),i.shadowRoot)return e.innerHTML="<slot></slot>",void i.appendChild(r)
e.appendChild(r)}_handleCalendarCellHover(e,t){const i=this
if(!i._animationStarted){if("month"===i.displayMode)if("mouseover"===e.type&&("many"===i.selectionMode||"range"===i.selectionMode&&i._newRangeSelectionStarted)&&i.selectedDates.length>0){const e=i.$.monthsContainer.children
for(let t=0;t<e.length;t++)i._getMonthCells(e[t]).map(e=>{i._setCellState(e,"hover",!1)})
let n=new Date("range"===i.selectionMode?i.selectedDates[i.selectedDates.length-1]:i.selectedDates[0]),r=new Date(t.value),o=t
const a=n.getTime()>r.getTime()?-1:1,s=function(){!(o=i._getCellByDate(n))||o.selected||o.restricted||i._setCellState(o,"hover",!0)}
if(n.getTime()!==r.getTime()){for(n.setDate(n.getDate()+a);n.getTime()!==r.getTime();)s(),n.setDate(n.getDate()+a)
s()}}else i._setCellState(t,"hover",!1)
"mouseover"!==e.type||t.otherMonth?i._setCellState(t,"hover",!1):i._setCellState(t,"hover",!0)}}_handleMonths(e,t){const i=this
let n
function r(e){let t,n=e.children.length,r=document.createDocumentFragment()
for(;n<i.months;n++)(t=i.$.month.cloneNode(!1)).innerHTML=i.$.month.innerHTML,r.appendChild(t)
return r}function o(t){let n=t.children
for(let t=0;t<n.length;t++)i._setMonth(e,n[t]),e.setMonth(e.getMonth()+1)
i._setWeeksVisibility(t),i._refreshHeaderElements(),i._refreshHeaderTitle(),i.tooltip&&i.$.tooltip.close(),i.$.body===document.activeElement&&i._focusCell()}if(e||(e=i._viewDates&&i._viewDates.length>0?i._viewDates[0]:new Date),e=new Date(Math.min(Math.max(i.min.getTime(),e.getTime()),i.max.getTime())),t||(t=i.$.monthsContainer),i._selectedCells=[],i.hasAnimation){for((n=i.$.nextMonthsContainer.children).length>0&&n[0].value instanceof Date&&(i.$.nextMonthsContainer.innerHTML="");i.$.nextMonthsContainer.childElementCount<i.months;)i.$.nextMonthsContainer.appendChild(r(i.$.nextMonthsContainer))
for(;i.$.nextMonthsContainer.childElementCount>i.months;)i.$.nextMonthsContainer.removeChild(n[i.$.nextMonthsContainer.childElementCount-1])
if(arguments[1]===i.$.nextMonthsContainer)return void o(i.$.nextMonthsContainer)}if((n=i.$.monthsContainer.children).length>i.months){for(;i.$.monthsContainer.childElementCount>i.months;)i.$.monthsContainer.removeChild(n[i.$.monthsContainer.childElementCount-1]),i._viewDates.pop()
o(i.$.monthsContainer)}else i.$.monthsContainer.children.length!==i.months?(i._viewDates=[],i.$.monthsContainer.appendChild(r(i.$.monthsContainer)),o(i.$.monthsContainer)):o(i.$.monthsContainer)}_headerChangeHandler(e){const t=this
if(e.stopPropagation(),t.disabled||t.readonly)return
if(e.target.ownerElement===t.$.monthElement&&0!==t._changeEventFired)return void t._changeEventFired--
const i=t.displayMode
e.target===t.$.yearElement&&(t._viewDates[0].setFullYear(Math.min(Math.max(t.min.getFullYear(),isNaN(parseInt(t.$.yearElement.value))?0:parseInt(t.$.yearElement.value)),t.max.getFullYear())),t._handleMonths(t._viewDates[0])),!t.$.monthElement||e.target!==t.$.monthElement&&e.target.ownerElement!==t.$.monthElement||(t._handleMonths(new Date(t.$.monthsContainer.children[0]._date.getFullYear(),t.$.monthElement.selectedIndexes[0],1)),"month"!==i&&t._setDisplayMode(t.displayMode,t.displayMode="month"))}_headerClickHandler(e){const t=this
if(t.disabled||t.readonly)return
let i=e.target.closest("jqx-repeat-button")
if(!i||!i.disabled){switch(i){case t.$.previousMonthButton:return t._isInteractiveNavigation=!0,void t.navigate(-1*t.months*(t.rightToLeft?-1:1))
case t.$.nextMonthButton:return t._isInteractiveNavigation=!0,void t.navigate(1*t.months*(t.rightToLeft?-1:1))
case t.$.previousYearButton:return void t.navigate(-12)
case t.$.nextYearButton:return void t.navigate(12)}"classic"!==t.calendarMode&&e.target.closest(".jqx-calendar-date-element")&&(t._animationStarted&&t._animateNavigationCompleted(),t._isInteractiveNavigation=!0,t._showDateView())}}_selectMultipleDates(e,t){const i=this
if(t instanceof HTMLElement&&(t=t.value),i._newRangeSelectionStarted?i._selectDate(e,!0):i._clearSelection(!0),"range"!==i.selectionMode||t.getTime()!==e.getTime()){if(e.getTime()<t.getTime())for(;e.getTime()<=t.getTime();)i.selectedDates.find(t=>t.getTime()===e.getTime())||i._selectDate(e,!0),e.setDate(e.getDate()+1)
else if(e.getTime()>t.getTime())for(;e.getTime()>=t.getTime();)i.selectedDates.find(t=>t.getTime()===e.getTime())||i._selectDate(e,!0),e.setDate(e.getDate()-1)
else i._selectDate(t,!0)
i.$.hiddenInput.value=i.selectedDates.toString(),i._refreshFooter(),i.$.fireEvent("change",{value:i.selectedDates}),i._refreshTitle()}}_setDisplayMode(e,t,i){const n=this
if(n.$nextMonthsContainer.removeClass("jqx-calendar-date-view-container"),0!==arguments.length&&n.hasAnimation)if(n._animationStarted&&(n.displayMode=e,n._animateNavigationCompleted(),n.displayMode=t),"month"===e&&"year"===t||"year"===e&&"decade"===t)n.displayMode=e,n._showDateView(i?void 0:n.displayMode)
else if("month"===e&&"decade"===t)n._showDateView(n.displayMode="year")
else{let e
"list"===n.displayModeView?(e=(n.$.listViewContainer.shadowRoot?n.$.listViewContainer.shadowRoot:n.$.listViewContainer).querySelector("jqx-list-item[selected]"),n.$.animationPanel.style.transformOrigin=e.offsetLeft+e.offsetWidth/2+"px "+(e.dataItem.top>0?e.offsetTop-e.offsetHeight/2:e.offsetTop+e.offsetHeight/2)+"px"):(n.$.dateViewContainer.style.order=1,n.$.nextMonthsContainer.style.order=3,e=n._focusedCell,n.$.animationPanel.style.transformOrigin=e.offsetLeft+e.offsetWidth/2+"px "+(e.offsetTop+e.offsetHeight/2)+"px"),n._animateView(1,e)}else{if("classic"===n.calendarMode)return void(n.displayMode="month")
if("month"!==n.displayMode&&(n.$monthsContainer.addClass("jqx-hidden"),n.$dateViewContainer.hasClass("jqx-hidden")&&n.$dateViewContainer.removeClass("jqx-hidden")),!n.isCompleted&&"month"===n.displayMode)return
n._setDisplayModeContent()}}_setDisplayModeContent(e,t){const i=this
let n=e&&"Invalid Date"!==e.toString()?e:i.selectedDates.length>0?i.selectedDates[i.selectedDates.length-1]:new Date
n.setTime(Math.min(Math.max(n.getTime(),i.min.getTime()),i.max.getTime())),n.setHours(0,0,0,0)
const r=i._prepareView(n)
if(!r)return
let o
t?(i.$.nextMonthsContainer.innerHTML=i.$.dateViewContainer.innerHTML,o=i.$.nextMonthsContainer):o=i.$.dateViewContainer
const a=o.children
let s
for(let e=0;e<a.length;e++){const t=a[e]
t.innerHTML=r.viewContent[e],t.value=r.dates[e],"year"===i.displayMode?(t.value.getFullYear()<i.min.getFullYear()||t.value.getFullYear()===i.min.getFullYear()&&t.value.getMonth()<i.min.getMonth()||t.value.getFullYear()>i.max.getFullYear()||t.value.getFullYear()===i.max.getFullYear()&&t.value.getMonth()>i.max.getMonth()?i._setCellState(t,"otherMonth",!0):i._setCellState(t,"otherMonth",!1),n.getFullYear()===t.value.getFullYear()&&n.getMonth()===t.value.getMonth()&&(s=t)):"decade"===i.displayMode&&(0===e||e===a.length-1||t.value.getFullYear()<i.min.getFullYear()||t.value.getFullYear()>i.max.getFullYear()?i._setCellState(t,"otherMonth",!0):i._setCellState(t,"otherMonth",!1),n.getFullYear()===t.value.getFullYear()&&(s=t)),i._setCellState(t,"hover",!1),i._setCellState(t,"focus",!1)}if(s.otherMonth)for(let e=0;e<a.length;e++)if(!a[e].otherMonth){s=a[e]
break}i._mobileScrolling||(i._focusedCell&&i._setCellState(i._focusedCell,"focus",!1),i._focusedCell=s,i._focusCell(i._focusedCell),i._refreshHeaderTitle(),i._refreshHeaderElements(),i.$.fireEvent("displayModeChange"),i._isInteractiveNavigation?i._isInteractiveNavigation=void 0:(i._setCellState(s,"focus",!0),setTimeout(function(){i.$.body.focus(),i._focusCell(i._focusedCell)},0)))}_prepareView(e){const t=this
let i,n,r=[],o=[]
function a(e,t,i){let n=new Date(e,t+1,0),r=n.getDate()
return i>r?n.setDate(r):n.setDate(i),n}if("month"===t.displayMode)return t.$nextMonthsContainer.hasClass("jqx-date-view-container")&&t.$nextMonthsContainer.removeClass("jqx-date-view-container"),t.$listViewContainer.addClass("jqx-hidden"),t.$dateViewContainer.hasClass("jqx-visibility-hidden")&&t.$dateViewContainer.removeClass("jqx-visibility-hidden"),t._isDateInView(e)||t._handleMonths(e),t.$header.hasClass("jqx-hidden")&&t.$header.removeClass("jqx-hidden"),t.$body.hasClass("jqx-calendar-list-view")&&t.$body.removeClass("jqx-calendar-list-view"),t.$dateContainer.addClass("jqx-calendar-selected"),t.$yearContainer.removeClass("jqx-calendar-selected"),t.$dateViewContainer.addClass("jqx-hidden"),t.$monthsContainer.removeClass("jqx-hidden"),t._refreshHeaderTitle(),t.$.body.setAttribute("tabindex",t.tabIndex>0?t.tabIndex:0),t._refreshHeaderElements(),t.$.body.focus(),t._focusCell(t._getCellByDate(e)),void t.$.fireEvent("displayModeChange")
if("list"===t.displayModeView)return t._setDisplayModeListContent(e),void t.$.fireEvent("displayModeChange")
if(t.$header.hasClass("jqx-hidden")&&t.$header.removeClass("jqx-hidden"),t.$dateViewContainer.hasClass("jqx-visibility-hidden")&&t.$dateViewContainer.removeClass("jqx-visibility-hidden"),t.$listViewContainer.addClass("jqx-hidden"),t.$.body.setAttribute("tabindex",t.tabIndex>0?t.tabIndex:0),"year"===t.displayMode){let i=new Date
for(let n=0;n<12;n++)i=a(i.getFullYear(),n,i.getDate()),r.push(i.toLocaleDateString(t.locale,{month:"short"})),o.push(a(e.getFullYear(),n,e.getDate()))}else{0!==(n=(i=e?e.getFullYear():t._viewDates[0].getFullYear())%10)&&(i-=n),i-=1
for(let t=0;t<12;t++)r.push(i+""),o.push(new Date(i,e.getMonth(),e.getDate())),++i}return{viewContent:r,dates:o}}_setDisplayModeListContent(e){const t=this
let i=[]
function n(e,t,i){let n=new Date(e,t+1,0),r=n.getDate()
return i>r?n.setDate(r):n.setDate(i),n}if(t.$dateViewContainer.addClass("jqx-visibility-hidden"),t.$listViewContainer.hasClass("jqx-hidden")&&(t.$body.addClass("jqx-calendar-list-view"),t.$listViewContainer.removeClass("jqx-hidden"),t.$.listViewContainer._setFocusable(),t.$.body.removeAttribute("tabindex")),"year"===t.displayMode){let r=new Date
for(let o=0;o<12;o++)r=n(r.getFullYear(),o,r.getDate()),i.push({label:r.toLocaleDateString(t.locale,{month:"short"}),value:n(e.getFullYear(),o,e.getDate()).toDateString()})
t.$yearContainer.removeClass("jqx-calendar-selected"),t.$dateContainer.addClass("jqx-calendar-selected")}else{let n=t.min.getFullYear(),r=t.max.getFullYear()
r=Math.min(t.max.getFullYear(),e.getFullYear()+10)
for(let o=n=Math.max(t.min.getFullYear(),r-10);o<r;o++)i.push({label:o.toString(),value:new Date(o,e.getMonth(),e.getDate()).toDateString()})
t.$yearContainer.addClass("jqx-calendar-selected"),t.$dateContainer.removeClass("jqx-calendar-selected")}t.$.listViewContainer.dataSource=i,t.$.listViewContainer.selectedValues=[e.toDateString()],t.$.listViewContainer.getItem(t.$.listViewContainer.selectedValues[0])&&t.$.listViewContainer.ensureVisible(t.$.listViewContainer.selectedValues[0]),t._refreshHeaderTitle(),t._refreshHeaderElements(),t.focus()}_isDateInView(e){const t=this
if(!e)return!1
for(let i=0;i<t._viewDates.length;i++)if(e.getFullYear()===t._viewDates[i].getFullYear()&&e.getMonth()===t._viewDates[i].getMonth()){let i=t._getCellByDate(e,t._animationStarted?t.$.nextMonthsContainer:void 0)
if(!i)return
return!(i.otherMonth||!i.offsetHeight||i.classList.contains("jqx-visibility-hidden"))}return!1}_keyDownHandler(e){const t=this
if(t.disabled||t.readonly)return
const i=(t.shadowRoot||t.getRootNode()).activeElement||document.activeElement
switch(i){case t.$.yearElement:"Escape"===e.key&&t._refreshHeaderElements()
break
case t.$.dateElement:if("default"===t.calendarMode&&" "===e.key||"Enter"===e.key)return e.preventDefault(),t._isInteractiveNavigation=!0,void t._showDateView()
t._focusedCell||t._focusCell(),e.key.indexOf("Arrow")>-1&&t.$.dateElement===i&&t.$.body.focus(),t._navigateDays(e)
break
case t.$.body:" "===e.key&&e.preventDefault(),t._navigateDays(e)
break
case t.$.yearContainer:if(" "!==e.key&&"Enter"!==e.key||"decade"===t.displayMode||(e.preventDefault(),t._isInteractiveNavigation=!0,t._showDateView("year")),e.key.indexOf("Arrow")>-1){if(e.preventDefault(),t._focusedCell||t._focusCell(),"month"!==t.displayMode&&"list"===t.displayModeView)return t.focus(),void t.$.listViewContainer._handleKeyStrokes(e.key)
t._navigateDays(e)}break
case t.$.dateContainer:if(" "!==e.key&&"Enter"!==e.key||"month"===t.displayMode||(e.preventDefault(),t._displayModeHandler("list"===t.displayModeView?t.$.listViewContainer.getItem(t.$.listViewContainer.selectedValues[0]):t._focusedCell,"month")),e.key.indexOf("Arrow")>-1){if(t._focusedCell||t._focusCell(),"month"!==t.displayMode&&"list"===t.displayModeView)return t.focus(),void t.$.listViewContainer._handleKeyStrokes(e.key)
t._navigateDays(e)}break
default:if("month"!==t.displayMode&&"list"===t.displayModeView)return["Arrow","End","Home","Page"].indexOf(e.key)&&e.preventDefault()," "===e.key||"Enter"===e.key||e.ctrlKey&&("ArrowUp"===e.key||"ArrowDown"===e.key)?void t._navigateDays(e):void t.$.listViewContainer._handleKeyStrokes(e.key)
e.key.indexOf("Arrow")>-1&&(t._focusedCell||t._focusCell(),t._navigateDays(e))}}_listViewContainerItemClickHandler(e){const t=this
JQX.Utilities.Core.isMobile&&"list"===t.displayModeView&&"month"!==t.displayMode&&t._displayModeHandler(e.target.items[e.detail.index])}_listViewContainerChangeEventHandler(e){e.stopPropagation()}_listViewContainerKeyDownHandler(e){const t=this
"list"===t.displayModeView&&(" "!==e.key&&"Enter"!==e.key||t._navigateDays(e))}_showDateView(e){const t=this
switch(e=e||t.displayMode){case"month":e="year"
break
case"year":e="decade"}if(t.displayMode===e)return
if(t.$.fireEvent("displayModeChanging",{oldDisplayMode:t.displayMode,newDisplayMode:e}).defaultPrevented)return
let i
t.displayMode=e,"list"===t.displayModeView&&"month"!==t.displayMode&&t.$.listViewContainer.items.length>0?(i=t.$.listViewContainer.getItem(t.$.listViewContainer.selectedValues[0])).offsetHeight?t.$.animationPanel.style.transformOrigin=i.offsetLeft+i.offsetWidth/2+"px "+(i.dataItem.top>0?i.offsetTop-i.offsetHeight/2:i.offsetTop+i.offsetHeight/2)+"px":t.$.animationPanel.style.transformOrigin=t.$.listViewContainer.offsetLeft+t.$.listViewContainer.offsetWidth/2+"px "+(i.dataItem.top>0?i.offsetTop-i.offsetHeight/2:t.$.listViewContainer.offsetTop+t.$.listViewContainer.offsetHeight/2)+"px":(t._focusedCell||t._focusCell(),i=t._focusedCell,t.$.animationPanel.style.transformOrigin=i.offsetLeft+i.offsetWidth/2+"px "+(i.offsetTop+i.offsetHeight/2)+"px"),t.$monthsContainer.addClass("jqx-hidden"),t.$dateViewContainer.hasClass("jqx-hidden")&&t.$dateViewContainer.removeClass("jqx-hidden"),"decade"===t.displayMode&&(t.$yearContainer.addClass("jqx-calendar-selected"),t.$dateContainer.removeClass("jqx-calendar-selected")),t.hasAnimation?t._animateView(-1,i):t._setDisplayModeContent(t._focusedCell?t._focusedCell.value:t._viewDates[0])}_keyUpHandler(e){const t=this
t.disabled||t.readonly||"default"!==t.selectionMode&&"range"!==t.selectionMode||"Shift"!==e.key&&"Control"!==e.key||(t._keysPressed[e.key]=!1)}_mouseEventsHandler(e){const t=this
if(t.disabled||t.readonly)return
if("mouseenter"===e.type)return void t.$.setAttributeValue("hover",!0)
if("mouseleave"===e.type)return t.$.setAttributeValue("hover",!1),void(t.tooltip&&t.$.tooltip.close())
const i=t.shadowRoot||t.isInShadowDOM?e.composedPath()[0]:e.target
if(!i.closest(".jqx-calendar-week"))return void(t.tooltip&&t.$.tooltip.close())
let n,r=i
for(;r&&!(r.value instanceof Date);)r=r.parentElement,n=!0
if(r&&(JQX.Utilities.Core.isMobile||t._handleCalendarCellHover(e,r),t.tooltip)){if(r.hasAttribute("important")&&"mouseover"===e.type)return t.$.tooltip.open(),t.tooltipTemplate?t.$.tooltip.value=r.value+"":t.$.tooltip.innerHTML=0===t.$.tooltip.innerHTML.trim().length?"Important day!":t.$.tooltip.innerHTML,t.$.tooltip.selector=r,void(t.$.tooltip.selector!==r&&t.$.tooltip.close())
if(n||t.$.tooltip.selector===r)return
t.$.tooltip.close()}}_moveHandler(e){const t=this
if(!JQX.Utilities.Core.isMobile||!t._dragStartDetails||"list"===t.displayModeView&&"month"!==t.displayMode)return
e.originalEvent.preventDefault(),e.preventDefault(),e.stopPropagation()
const i={x:Math.round(e.pageX),y:Math.round(e.pageY)}
let n,r,o
if(n="portrait"===t.scrollButtonsNavigationMode?i.y>t._dragStartDetails.y?-1*t.months:1*t.months:i.x<t._dragStartDetails.x?1*t.months:-1*t.months,t._previousIteration&&n===t._previousIteration.step)r=t._previousIteration.date
else if(6!==t.weeks&&0!==t.weeks&&"month"===t.displayMode){let e,i
t._focusedCell||t._focusCell()
const o=[].slice.call(t._focusedCell.closest(".jqx-calendar-weeks").children).filter(e=>!e.classList.contains("jqx-hidden"))
if(o.length){let a
!t.rightToLeft&&n<0||t.rightToLeft&&n>0?(a=o[0].querySelectorAll(".jqx-calendar-cell"),i=t.rightToLeft?a[a.length-1]:a[0]):(a=o[o.length-1].querySelectorAll(".jqx-calendar-cell"),i=t.rightToLeft?a[0]:a[a.length-1]),(e=new Date(i.value)).setDate(e.getDate()+n*(t.rightToLeft?-1:1)),r=e}else r=t._getNextDate(n*(t.rightToLeft?-1:1))}else r=t._getNextDate(n*(t.rightToLeft?-1:1))
if(!r)return
if(t._dragStartDetails.step=n,t._dragStartDetails.navigationDate=new Date(r),!t.hasAnimation)return
if(t._previousIteration={step:n,date:r},t._mobileScrolling=!0,"month"!==t.displayMode)t.$nextMonthsContainer.addClass("jqx-calendar-date-view-container"),o=t.$.dateViewContainer,t.$.nextMonthsContainer.children[0].value instanceof Date&&t.$.nextMonthsContainer.children[1].value.getFullYear()===r.getFullYear()||t._setDisplayModeContent(r,t.$.nextMonthsContainer)
else if(t.$nextMonthsContainer.hasClass("jqx-calendar-date-view-container")&&t.$nextMonthsContainer.removeClass("jqx-calendar-date-view-container"),o=t.$.monthsContainer,!t.$.nextMonthsContainer.children[0]._date||t.$.nextMonthsContainer.children[0]._date.getTime()!==r.getTime()){let e=t.$.nextMonthsContainer.children
for(let i=0;i<e.length;i++)r.setMonth(t._dragStartDetails.navigationDate.getMonth()+i*(t.rightToLeft?-1:1)),t._setMonth(new Date(r),e[i],!0)}6!==t.weeks&&0!==t.weeks&&"month"===t.displayMode&&t._updateWeeksVisibility(n*(t.rightToLeft?-1:1),t._getCellByDate(r,t.$.nextMonthsContainer)),delete t._mobileScrolling,n<0?(o.style.order=3,t.$.nextMonthsContainer.style.order=1,t.$.body[t._animationSettings.scrollSize]=t.$.body[t._animationSettings.scrollMax]):(o.style.order=1,t.$.nextMonthsContainer.style.order=3,t.$.body[t._animationSettings.scrollSize]=0)
const a="portrait"===t.scrollButtonsNavigationMode?"y":"x"
Math.abs(t._dragStartDetails[a]-i[a])>5&&(t.$.body[t._animationSettings.scrollSize]+=2*-(i[a]-t._dragStartDetails[a]))}_getNextDate(e){const t=this
let i
if("month"!==t.displayMode){let n
const r=t._focusedCell&&t._focusedCell.value.getFullYear()
if("list"===t.displayModeView)i=new Date(t.$.listViewContainer.items[0].value)
else{let e=t._animationStarted?t.$.nextMonthsContainer:t.$.dateViewContainer
i=new Date("year"===t.displayMode?e.children[0].value:e.children[1].value)}n="year"===t.displayMode?1:0!==e?10:1,i.setFullYear(i.getFullYear()+(e>0?n:-n)),i.getTime()<t.min.getTime()&&(i=t.min),i.getTime()>t.max.getTime()&&(i=t.max)
const o="month"!==t.displayMode&&"list"===t.displayModeView
if(i.getFullYear()<t.min.getFullYear()||i.getFullYear()>t.max.getFullYear()||!o&&r===i.getFullYear())return}else{let n=t._viewDates[0]
if((i=new Date(n)).setDate(1),i.setMonth(i.getMonth()+e),i.setTime(Math.min(Math.max(i.getTime(),t.min.getTime()),t.max.getTime())),n.getMonth()===i.getMonth()&&n.getFullYear()===i.getFullYear())return}return i}_navigateDays(e){const t=this
let i="ArrowUp"===e.key||"ArrowDown"===e.key?7:1,n="ArrowUp"===e.key||"ArrowLeft"===e.key||"PageUp"===e.key?-1:1
switch(e.key){case"ArrowUp":case"ArrowLeft":case"ArrowDown":case"ArrowRight":if(!t._handleArrowKeys(e,i,n))return
break
case" ":case"Enter":if("month"!==t.displayMode)return void t._displayModeHandler("list"===t.displayModeView?t.$.listViewContainer.getItem(t.$.listViewContainer.selectedValues[0]):t._focusedCell)
break
case"Control":case"Shift":return"default"===t.selectionMode&&(t._keysPressed[e.key]=!0),void("range"===t.selectionMode&&(t._keysPressed[e.key]="Control"===e.key))
case"Home":case"End":{e.preventDefault()
let i,n=function(t){if("Home"===e.key){for(let e=0;e<t.length;e++)if(!t[e].otherMonth&&(!t[e].disabled||!t[e].restricted)&&t[e].offsetHeight)return t[e]}else for(let e=t.length-1;e>=0;e--)if(!t[e].otherMonth&&(!t[e].disabled||!t[e].restricted)&&t[e].offsetHeight)return t[e]}
if(!(i="month"!==t.displayMode?n(t.$.dateViewContainer.children):n(t._getMonthCells(t._focusedCell.closest(".jqx-calendar-month"),t.rightToLeft))))return
if(t._focusCell(i),"month"!==t.displayMode)return
break}case"PageUp":case"PageDown":if(!t._handlePageUpDownKeys(e,n))return
break
default:return}t._focusedCell&&t._handleDateSelection(t._focusedCell)}_handleArrowKeys(e,t,i){const n=this
let r
if("month"!==n.displayMode||n._animationStarted||n.$.body.focus(),n._focusedCell||n._focusCell(n._getCellByDate(new Date)),e.altKey)return
if(e.ctrlKey){if("ArrowDown"===e.key||"ArrowUp"===e.key){if("classic"===n.calendarMode)return
let t
switch(n.displayMode){case"month":t="ArrowDown"===e.key?"month":"year"
break
case"year":t="ArrowDown"===e.key?"month":"decade"
break
case"decade":t="ArrowDown"===e.key?"year":"decade"}if(t!==n.displayMode){const e=n.displayMode
n.displayMode=t,n._setDisplayMode(e,t,"month"===e),n._keysPressed&&delete n._keysPressed.Control}}return}if(e.preventDefault(),!n.rightToLeft||"ArrowLeft"!==e.key&&"ArrowRight"!==e.key||(i*=-1),"month"!==n.displayMode){let o=n._animationStarted?n.$.nextMonthsContainer.children:n.$.dateViewContainer.children
if(t="ArrowUp"===e.key||"ArrowDown"===e.key?4:1,"year"===n.displayMode){const e=n._focusedCell.value.getMonth()+i*t
let o=new Date(n._focusedCell.value.getFullYear(),e+1,0)
n._focusedCell.value.getDate()<=o.getDate()&&(o=n._focusedCell.value),r=new Date(n._focusedCell.value.getFullYear(),e,o.getDate())}else r=new Date(n._focusedCell.value.getFullYear()+i*t,n._focusedCell.value.getMonth(),n._focusedCell.value.getDate())
if("year"===n.displayMode){if(r.getFullYear()<n.min.getFullYear()||r.getFullYear()===n.min.getFullYear()&&r.getMonth()<n.min.getMonth()||r.getFullYear()>n.max.getFullYear()||r.getFullYear()===n.max.getFullYear()&&r.getMonth()>n.max.getMonth())return
r.getTime()>o[o.length-1].value.getTime()?n.navigate(1):r.getTime()<o[0].value.getTime()&&n.navigate(-1)}else{if(r.getFullYear()<n.min.getFullYear()||r.getFullYear()>n.max.getFullYear())return
if(r.getFullYear()<o[1].value.getFullYear()||r.getFullYear()>o[10].value.getFullYear()){let t=n._focusedCell
n.navigate(i),"ArrowUp"!==e.key&&"ArrowDown"!==e.key||(t===o[3]||t===o[4]||t===o[7]||t===o[8]?r.setFullYear(r.getFullYear()+2*i):r.setFullYear(r.getFullYear()-2*i))}}return void n._focusCell(n._getCellByDate(r,n._animationStarted?n.$.nextMonthsContainer:void 0))}const o=n.restrictedDates.map(Number)
for(r=new Date(n._focusedCell.value.getFullYear(),n._focusedCell.value.getMonth(),n._focusedCell.value.getDate()+i*t,0,0,0,0);o.indexOf(r.getTime())>-1;)r.setDate(r.getDate()+i)
if(r.getTime()<n.min.getTime()||r.getTime()>n.max.getTime())return
n._isDateInView(r)||n.navigate(i*n.months)
let a=n._getCellByDate(r,n._animationStarted?n.$.nextMonthsContainer:void 0)
return n._focusCell(a),n._updateWeeksVisibility(i),!(["zeroOrMany","oneOrMany","none","many","week","range"].indexOf(n.selectionMode)>-1)||void 0}_handlePageUpDownKeys(e,t){const i=this
let n
if(e.preventDefault(),"month"!==i.displayMode){if(n=i._focusedCell,!i.navigate(t))return
for(;n&&n.classList.contains("jqx-visibility-hidden");)n=null===n.previousElementSibling?n.nextElementSibling:n.previousElementSibling
return i._focusCell(n),void(i.hasAnimation&&"decade"===i.displayMode&&i._focusedCell.value.setFullYear(i._focusedCell.value.getFullYear()+10*t))}n=new Date(i._focusedCell.value.getFullYear(),i._focusedCell.value.getMonth()+t,1,0,0,0,0)
let r=new Date(n.getFullYear(),n.getMonth()+1,0).getDate()
return i._focusedCell.value.getDate()>r?n.setDate(r):n.setDate(i._focusedCell.value.getDate()),i._isDateInView(n)||i.navigate(n),i._animationStarted?i._focusCell(i._getCellByDate(n,i.$.nextMonthsContainer)):i._focusCell(i._getCellByDate(n)),!0}_selectDate(e,t,i){const n=this
if(void 0===n._viewDates||"none"===n.selectionMode)return
let r,o=n.selectedDates.slice(0),a=n._getCellByDate(e,n._animationStarted?n.$.nextMonthsContainer:void 0)
a&&n._selectCell(a),(e=new Date(e)).setHours(0,0,0,0),r=o.map(Number).indexOf(e.getTime()),n.restrictedDates.map(Number).indexOf(e.getTime())>-1||e.getTime()<n.min.getTime()||e.getTime()>n.max.getTime()||(r>-1?o.splice(r,1):o.push(e),i||(n.selectedDates=o),n._refreshFooter(),n.$.hiddenInput.value=n.selectedDates.toString(),t||n.$.fireEvent("change",{value:[e]}),n._refreshTitle())}_selectCell(e){const t=this
if(!e||t.restrictedDates.map(Number).indexOf(e.value.getTime())>-1||t.disableAutoNavigation&&!1===e.otherMonth||e.value.getTime()<t.min.getTime()||e.value.getTime()>t.max.getTime())return
const i=t._selectedCells.indexOf(e)
i>-1?(t._setCellState(e,"selected",!1),t._selectedCells.splice(i,1)):(t._setCellState(e,"selected",!0),t._selectedCells.push(e)),t._focusCell(e)}_refreshDayOfWeekTitles(){const e=this
let t,i=[],n=new Date
function r(t){let i
return i="firstTwoLetters"===e.dayNameFormat?8206===(i=new Intl.DateTimeFormat(e.locale,{weekday:"long"}).format(t)).charCodeAt(0)?i.substring(1,3):i.substring(0,2):new Intl.DateTimeFormat(e.locale,{weekday:e.dayNameFormat}).format(t)}for(let e=1;e<8;e++)n.setDate(e),t={number:n.getDay(),name:r(n)},i.push(t)
i.sort((e,t)=>e.number>t.number?1:-1)
const o=e.$.monthsContainer.children
let a,s
for(let t=0;t<o.length;t++)if(a=o[t].getElementsByClassName("jqx-calendar-week-titles")[0].children,s=e.firstDayOfWeek>6?0:e.firstDayOfWeek,e.rightToLeft)for(let e=a.length-1;e>=1;e--)a[e].textContent=i[s++].name,s=s>6?0:s
else for(let e=1;e<a.length;e++)a[e].textContent=i[s++].name,s=s>6?0:s
if(e.hasAnimation){const t=e.$.monthsContainer.getElementsByClassName("jqx-calendar-week-titles")[0].innerHTML,i=e.$.nextMonthsContainer.getElementsByClassName("jqx-calendar-week-titles")
for(let e=0;e<i.length;e++)i[e].innerHTML=t}}_refreshCalendarMode(){const e=this
if(!e.headerTemplate)if(e._refreshMonthNames(),"default"===e.calendarMode){e.$classicHeaderDate.addClass("jqx-hidden"),e.$defaultHeaderDate.removeClass("jqx-hidden")
const t=e._viewDates.slice(0).sort((e,t)=>e.getTime()-t.getTime()),i=t[0],n=t[t.length-1]
i.setDate(2)
let r=i.toLocaleDateString(e.locale,{year:e.yearFormat,month:e.monthNameFormat})
e.months>1&&(n.setDate(2),r+=" - "+n.toLocaleDateString(e.locale,{year:e.yearFormat,month:e.monthNameFormat})),e.$.defaultHeaderDate.innerHTML=r,e.unfocusable||e.$.dateElement.setAttribute("tabindex",e.tabIndex>0?e.tabIndex:0)}else e.$defaultHeaderDate.addClass("jqx-hidden"),e.$classicHeaderDate.removeClass("jqx-hidden"),e.$.dateElement.removeAttribute("tabindex")}_refreshFooter(){const e=this
if(!(e.viewSections.indexOf("footer")<0||0===e.$.footer.offsetHeight))if(e.footerTemplate){if("function"==typeof e.footerTemplate)return
let i=e._layoutTemplates.filter(t=>t.selector===e.$.footer)[0],n=document.importNode(i.template.content,!0)
if(i.bindings.length>0){let e=n.childNodes[i.bindings[0].childNodeIndex]
i.selector.childNodes[i.bindings[0].childNodeIndex].innerHTML=e.innerHTML.replace(i.bindings[0].bindingString,t())}}else e.$.selectedDatesRange.innerHTML=t()
function t(){if(0===e.selectedDates.length)return""
if(1===e.selectedDates.length)return e.selectedDates[0].toLocaleDateString(e.locale,{year:e.yearFormat,weekday:"short",month:"short",day:"numeric"})
{let t=e.selectedDates.slice(0).sort((e,t)=>e.getTime()-t.getTime())
return t[0].toLocaleDateString(e.locale,{year:e.yearFormat,weekday:"short",month:"short",day:"numeric"})+" - "+t[t.length-1].toLocaleDateString(e.locale,{year:e.yearFormat,weekday:"short",month:"short",day:"numeric"})}}}_refreshImportantDates(){const e=this
if("month"===e.displayMode){e._clearImportantDates()
for(let t=0;t<e.importantDates.length;t++)e._setImportantDate(e.importantDates[t])}}_clearImportantDates(){const e=this,t=e.$.monthsContainer.children
for(let i=0;i<t.length;i++)e._getMonthCells(t[i]).map(t=>{e._setCellState(t,"important",!1)})}_setImportantDate(e,t){const i=this,n=i._getCellByDate(e)
t||(t=n),t&&(i._setCellState(t,"important",!0),i._applyImportantDateTemplate(t))}_applyImportantDateTemplate(e){const t=this
if(!t._importantDatesTemplate)return"function"==typeof t.importantDatesTemplate?void t.importantDatesTemplate(e,{value:e.value}):void(e.innerHTML=e.value.getDate()+"")
let i=document.importNode(t._importantDatesTemplate.content,!0)
if(t._bindingDetails&&t._bindingDetails.length>0){let n=i.childNodes[t._bindingDetails[0].childNodeIndex]
n.innerHTML=n.innerHTML.replace(t._bindingDetails[0].bindingString,e.value.getDate())}e.innerHTML=""
for(let t=0;t<i.childNodes.length;t++)i.childNodes[t].outerHTML&&(e.innerHTML+=i.childNodes[t].outerHTML)}_setMonth(e,t,i){const n=this,r=n._getDays(e,n.selectedDates),o=n._getDays(e,n.importantDates),a=n._getDays(e,n.restrictedDates)
e.setDate(1),t||(t=n.$.month),t._date=new Date(e),i||((!n._viewDates||n._viewDates.length>=n.months)&&(n._viewDates=[]),n._viewDates.push(new Date(e)))
let s=((e=new Date(e)).getDay()-n.firstDayOfWeek+7)%7
e.setDate(0)
let l=e.getDate()
if(e.setDate(32),e.setDate(1),e.setDate(32),n._selectedCells)for(let e=0;e<n._selectedCells.length;e++)n._selectedCells[e].closest(".jqx-calendar-month")===t&&n._setCellState(n._selectedCells[e],"selected",!1)
n._setMonthContent(e,t,{previusMonthDays:l,firstDayOfWeek:s,selectedDates:r,importantDates:o,restrictedDates:a})}_setMonthContent(e,t,i){const n=this,r=32-e.getDate(),o=n._getMonthCells(t,n.rightToLeft),a=t._date.getMonth(),s=t._date.getFullYear(),l=new Date
let d,c=1,h=1
l.setHours(0,0,0,0),o.map(e=>{n._setCellState(e,"restricted",!1),n._setCellState(e,"selected",!1),n._setCellState(e,"otherMonth",!1),n._setCellState(e,"focus",!1),n._setCellState(e,"important",!1),n._setCellState(e,"today",!1),n._setCellState(e,"disabled",!1),n._setCellState(e,"hover",!1)})
for(let e=0;e<o.length;e++){const u=o[e]
e===i.firstDayOfWeek&&h<=r?(u.className="jqx-calendar-cell",u.value=new Date(s,a,h),u.innerHTML=u.value.getDate().toString(),i.restrictedDates.indexOf(h)>-1||u.value.getTime()<n.min.getTime()||u.value.getTime()>n.max.getTime()?n._setCellState(u,"restricted",!0):i.selectedDates.indexOf(h)>-1&&(n._setCellState(u,"selected",!0),n._selectedCells.indexOf(u)<0&&n._selectedCells.push(u)),i.importantDates.indexOf(h)>-1&&(n._setImportantDate(u.value,u),i.importantDates.splice(i.importantDates.indexOf(h),1)),u.value.getTime()===l.getTime()&&n._setCellState(u,"today",!0),i.firstDayOfWeek++,h++):(1===h?(u.value=new Date(s,a-1,++i.previusMonthDays-i.firstDayOfWeek),d=!!(u.value.getTime()<n.min.getTime()||t.previousElementSibling)):(u.value=new Date(s,a+1,c++),d=!!(u.value.getTime()>n.max.getTime()||t.nextElementSibling)),u.innerHTML=u.value.getDate().toString(),d?u.classList.add("jqx-visibility-hidden"):(n._setCellState(u,"otherMonth",!0),u.classList.remove("jqx-visibility-hidden")))}n.months>1&&(t.firstElementChild.innerHTML=n.dateFormatFunction?n.dateFormatFunction(t._date):n._monthsNames[a]+" "+t._date.toLocaleDateString(n.locale,{year:n.yearFormat})),n._setMonthWeekNumbers(t)}_refreshMonthNames(){const e=this
let t,i=new Date
function n(t){let i=new Intl.DateTimeFormat(e.locale,{month:e.monthNameFormat}).format(t)
return"firstTwoLetters"===e.monthNameFormat&&(i=8206===i.charCodeAt(0)?i.substring(0,2):i.substring(1,3)),i}i.setDate(1),e._monthsNames=[]
for(let r=0;r<12;r++)i.setMonth(r),t=n(i),e._monthsNames.push(t)
if("classic"===e.calendarMode&&e.$.monthElement){let t=e.$.monthsContainer.children
if(e.$.monthElement.dataSource&&(e._changeEventFired=1),e.shadowRoot?e._setMonthElementPropertyInShadowDOM("dataSource",e._monthsNames):e.$.monthElement.dataSource=e._monthsNames,e._viewDates){for(let i=0;i<t.length;i++)t[i].firstElementChild.textContent=e._monthsNames[t[i]._date.getMonth()]+" "+t[i]._date.getFullYear()
e._changeEventFired=1,e.shadowRoot?e._setMonthElementPropertyInShadowDOM("selectedIndexes",e._viewDates.map(e=>e.getMonth())):e.$.monthElement.selectedIndexes=e._viewDates.map(e=>e.getMonth())}}}_setMonthWeekNumbers(e){const t=this,i=function(e){for(let t=1;t<e.children.length;t++)if(!e.children[t].classList.contains("jqx-visibility-hidden"))return!0}
let n=e.getElementsByClassName("jqx-calendar-week")
n=[].slice.call(n)
for(let r=0;r<n.length;r++){if(!i(n[r])){n[r].children[0].innerHTML=""
continue}const o=n[r].children[1],a=o.otherMonth?o.value.getTime()>e._date.getTime()?1:-1:0
n[r].children[0].innerHTML=t._getWeekNumber(new Date(e._date.getFullYear(),e._date.getMonth()+a,o.value.getDate()))}}_setRestrictedDates(e){const t=this,i=t.$.monthsContainer.children
for(let e=0;e<i.length;e++)t._getMonthCells(i[e]).map(e=>{t._setCellState(e,"restricted",!1)})
if(t._viewDates){const i=function(e){for(let i=0;i<t._viewDates.length;i++)if(t._viewDates[i].getFullYear()===e.getFullYear()&&t._viewDates[i].getMonth()===e.getMonth())return!0}
for(let n=0;n<e.length;n++)if(i(e[n])){const i=t._getCellByDate(e[n])
t._setCellState(i,"restricted",!0)}}}_setScrollButtonsNavigationMode(){const e=this
"landscape"!==e.scrollButtonsNavigationMode?(e.$.previousMonthButton&&(e.$.previousMonthButton.$.button.firstElementChild.className="jqx-arrow-down jqx-arrow"),e.$.nextMonthButton&&(e.$.nextMonthButton.$.button.firstElementChild.className="jqx-arrow-up jqx-arrow")):(e.$.previousMonthButton&&(e.$.previousMonthButton.$.button.firstElementChild.className="jqx-arrow-left jqx-arrow"),e.$.nextMonthButton&&(e.$.nextMonthButton.$.button.firstElementChild.className="jqx-arrow-right jqx-arrow")),e._applyAnimationSettings(!0)}_refreshTitle(){const e=this
let t=e.selectedDates.length>0?e.selectedDates[e.selectedDates.length-1]:new Date
if(e.titleTemplate){if("function"==typeof e.titleTemplate)return
let i=e._layoutTemplates.filter(t=>t.selector===e.$.title)[0],n=document.importNode(i.template.content,!0)
if(i.bindings.length>0){let r=n.childNodes[i.bindings[0].childNodeIndex]
return t=t.toLocaleDateString(e.locale,{year:e.yearFormat,weekday:"short",month:"short",day:"numeric"}),void(i.selector.childNodes[i.bindings[0].childNodeIndex].innerHTML=r.innerHTML.replace(i.bindings[0].bindingString,t))}}e.$.title.children[0].innerHTML=t.toLocaleDateString(e.locale,{year:e.yearFormat}),e.$.title.children[1].innerHTML="landscape"===e.view?t.toLocaleDateString(e.locale,{weekday:"short"})+",</br>"+t.toLocaleDateString(e.locale,{month:"short",day:"numeric"}):t.toLocaleDateString(e.locale,{weekday:"short"})+", "+t.toLocaleDateString(e.locale,{month:"short",day:"numeric"})}_setWeeksVisibility(e){const t=this,i=e.children
let n
function r(e){(function(e){for(let t=1;t<e.children.length;t++)if(!e.children[t].classList.contains("jqx-visibility-hidden"))return!1
return!0})(e)||n>=t.weeks?e.classList.add("jqx-hidden"):n<t.weeks&&(e.classList.remove("jqx-hidden"),n++)}for(let e=0;e<i.length;e++){let o=i[e].getElementsByClassName("jqx-calendar-week")
o=[].slice.call(o)
let a=t._selectedCells.filter(t=>t.closest(".jqx-calendar-month")===i[e])
if(6!==t.weeks)if(n=0,a.length>0){let e=a[a.length-1],t=o.indexOf(e.parentElement)
for(let e=t;e<o.length;e++)r(o[e])
for(let e=t-1;e>=0;e--)r(o[e])}else for(let e=0;e<o.length;e++)r(o[e])
else o.map(e=>e.classList.remove("jqx-hidden"))}}_refreshHeaderElements(){const e=this,t=document.activeElement.closest("jqx-calendar")===e,i=e._animationStarted?e.$.nextMonthsContainer:e.$.dateViewContainer
let n,r,o=e._viewDates[e._viewDates.length-1],a=e._viewDates.map(e=>e.getFullYear())
if("month"===e.displayMode||"list"!==e.displayModeView){if(e.$.previousMonthButton&&!e.disabled&&("month"!==e.displayMode&&e.$.dateViewContainer.children[0].value?r="year"===e.displayMode?i.children[0].value.getFullYear()-1:i.children[1].value.getFullYear()-1:e._viewDates[0].getMonth()-1<0?(n=11,r=e._viewDates[0].getFullYear()-1):(n=e._viewDates[0].getMonth()-1,r=e._viewDates[0].getFullYear()),e.$.previousMonthButton.disabled=r<e.min.getFullYear()||r===e.min.getFullYear()&&n<e.min.getMonth(),e.$.previousMonthButton.disabled&&t&&e.$.body.focus()),e.$.nextMonthButton&&!e.disabled&&("month"!==e.displayMode&&e.$.dateViewContainer.children[0].value?r="year"===e.displayMode?i.children[0].value.getFullYear()+1:i.children[1].value.getFullYear()+11:o.getMonth()+1>11?(n=0,r=o.getFullYear()+1):(n=o.getMonth()+1,r=o.getFullYear()),e.$.nextMonthButton.disabled=r>e.max.getFullYear()||r===e.max.getFullYear()&&n>e.max.getMonth(),e.$.nextMonthButton.disabled&&t&&e.$.body.focus()),"classic"===e.calendarMode&&e.$.monthElement){const t=e.$.monthElement.items
if(t.map(e=>e.disabled=!1),a.indexOf(e.min.getFullYear())>-1)for(let i=0;i<e.min.getMonth();i++)t[i].disabled=!0
if(a.indexOf(e.max.getFullYear())>-1)for(let i=e.max.getMonth()+1;i<t.length;i++)t[i].disabled=!0
e._changeEventFired=e.$.monthElement.selectedIndexes.length,e.shadowRoot?e._setMonthElementPropertyInShadowDOM("selectedIndexes",[e._viewDates[0].getMonth()]):e.$.monthElement.selectedIndexes=[e._viewDates[0].getMonth()],e._changeEventFired=0}e.$.previousYearButton&&!e.disabled&&(r=e._viewDates[0].getFullYear()-1,e.$.previousYearButton.disabled=r<e.min.getFullYear(),e.$.previousYearButton.disabled&&t&&e.$.body.focus()),e.$.nextYearButton&&!e.disabled&&(r=o.getFullYear()+1,e.$.nextYearButton.disabled=r>e.max.getFullYear(),e.$.nextYearButton.disabled&&t&&e.$.body.focus()),e.$.yearElement&&(e.$.yearElement.value=a[0],e.$.yearElement.disabled=o.getFullYear()+1>e.max.getFullYear()&&e._viewDates[0].getFullYear()-1<e.min.getFullYear())}}_setMonthElementPropertyInShadowDOM(e,t){const i=this.$.monthElement,n=this.$.monthElement.$?this.$.monthElement.$.listBox:void 0,r=i.context
let o
i.context=document,n&&(o=n.context,n.context=document),this.$.monthElement[e]=t,i.context=r,n&&(n.context=o)}_refreshHeaderTitle(){const e=this
let t
function i(){if("month"!==e.displayMode){if("list"===e.displayModeView){let i=e.$.listViewContainer.items
const n=e.$.listViewContainer.selectedValues[0]
t="year"===e.displayMode?new Date(n?e.$.listViewContainer.getItem(n.value):i[0].value).getFullYear():new Date(i[0].value).getFullYear()+" - "+new Date(i[i.length-1].value).getFullYear()}else if(e.$.dateViewContainer.children[0].value){let i=e._animationStarted?e.$.nextMonthsContainer.children:e.$.dateViewContainer.children
t="year"===e.displayMode?i[0].value.getFullYear():i[1].value.getFullYear()+" - "+i[i.length-2].value.getFullYear()}if(t)return t}const i=e._viewDates.slice(0).sort((e,t)=>e.getTime()-t.getTime()),n=i[0],r=i[i.length-1]
return n.setDate(2),t=n.toLocaleDateString(e.locale,{year:e.yearFormat,month:e.monthNameFormat}),e.months>1&&(r.setDate(2),t+=" - "+r.toLocaleDateString(e.locale,{year:e.yearFormat,month:e.monthNameFormat})),t}if("default"===e.calendarMode&&(e.$.defaultHeaderDate.innerHTML=i()),"function"==typeof e.headerTemplate||!e._layoutTemplates)return
let n=e._layoutTemplates.filter(t=>t.selector===e.$.header)[0]
if(!n)return
let r=document.importNode(n.template.content,!0)
if(n.bindings.length>0){const t=r.childNodes[n.bindings[0].childNodeIndex];(e.shadowRoot?e:n.selector).childNodes[n.bindings[0].childNodeIndex].innerHTML=t.innerHTML.replace(n.bindings[0].bindingString,e.dateFormatFunction?e.dateFormatFunction(e._viewDates):i())}}_updateWeeksVisibility(e,t){const i=this
let n=(t||i._focusedCell).parentElement
function r(){for(let e=s;e<a.length;e++)if(a[e].classList.contains("jqx-hidden")&&!l(a[e])&&(a[e].classList.remove("jqx-hidden"),++d===i.weeks))return!0}function o(){for(let e=s;e>=0;--e)if(a[e].classList.contains("jqx-hidden")&&!l(a[e])&&(a[e].classList.remove("jqx-hidden"),++d===i.weeks))return!0}if(!t&&!n.classList.contains("jqx-hidden"))return
const a=[].slice.call(n.parentElement.children),s=a.indexOf(n),l=function(e){for(let t=1;t<e.children.length;t++)if(!e.children[t].classList.contains("jqx-visibility-hidden"))return!1
return!0}
let d=0
if(a.map(e=>e.classList.add("jqx-hidden")),e>0){if(r())return
o()}else{if(o())return
r()}}_getValidDates(e){let t=[]
function i(e){if(e instanceof Date)return e
if(JQX.Utilities.DateTime&&e instanceof JQX.Utilities.DateTime)return e.toDate()
if("string"==typeof e){if("new Date()"===e.trim()||"new JQX.Utilities.DateTime()"===e.trim())return new Date
let t=/(\d+[,-.\/]{1}\s*\d+[,-.\/]{1}\s*\d+)/
const i=()=>(e=e.replace(/[,-.\/]/g,",").split(",")).length>2?e=new Date(parseInt(e[0]),parseInt(e[1])-1,parseInt(e[2])):new Date
return t.test(e)&&(e=t.exec(e)[0].replace(/[,-.\/]/g,",").split(","))?new Date(parseInt(e[0]),parseInt(e[1])-1,parseInt(e[2])):i()}}if(void 0===e)return null
if(Array.isArray(e))for(let n=0;n<e.length;n++)t.push(i(e[n]))
else t.push(i(e))
return(t=t.filter(e=>e&&"Invalid Date"!==e.toDateString())).map(e=>e.setHours(0,0,0,0)),t}_getValidDate(e){const t=this._getValidDates(e)
return t.length>0?t[0]:null}_validateSelectedDates(e){const t=this
let i=[]
e||(e=t.selectedDates)
let n=e.slice(0),r=function(e){for(let i=0;i<t.restrictedDates.length;i++)if(t.restrictedDates[i].getTime()===e.getTime())return!0}
t.selectedDates=n.filter(function(e){if(e.getTime()>=t.min.getTime()&&e.getTime()<=t.max.getTime()&&!r(e))return!0
i.push(e)}),t._viewDates&&(i.map(e=>t._selectDate(e)),t._focusCell())}_validateMinMax(e,t,i){const n=this
switch(e){case"min":t=n._getValidDate(n[e]),n.min=t||(i||n.properties.min.defaultValue)
break
case"max":t=n._getValidDate(n[e]),n.max=t||(i||n.properties.max.defaultValue)
break
default:t=n._getValidDate(n.min),n.min=t||(i||n.properties.min.defaultValue),t=n._getValidDate(n.max),n.max=t||(i||n.properties.max.defaultValue)}n.min=n.min.getTime()>n.max.getTime()?n.max:n.min,n.min.setHours(0,0,0,0),n.max.setHours(0,0,0,0)
let r,o=n.$.monthsContainer.children
if(n._viewDates){if(n._viewDates[0].getTime()>n.max.getTime()||n._viewDates[0].getTime()<n.min.getTime())return void n._handleMonths()
for(let e=0;e<o.length;e++){r=n._getMonthCells(o[e])
for(let t=0;t<r.length;t++){const i=r[t]
if(i.value.getTime()>=n.min.getTime()&&i.value.getTime()<=n.max.getTime())n._setCellState(i,"restricted",!1),i.value.getMonth()===o[e]._date.getMonth()?i.classList.remove("jqx-visibility-hidden"):n.hideOtherMonthDays||(n._setCellState(i,"otherMonth",!0),i.classList.remove("jqx-visibility-hidden")),"month"!==n.displayMode&&n._setCellState(i,"otherMonth",!1)
else{if(i.otherMonth){if(i.classList.contains("jqx-visibility-hidden")){n._setCellState(i,"restricted",!1)
continue}}else n._setCellState(i,"restricted",!0)
"month"!==n.displayMode&&(i.classList.remove("jqx-visibility-hidden"),n._setCellState(i,"otherMonth",!0))}}}}}_setCellState(e,t,i){e[t]=i
const n=JQX.Utilities.Core.toDash(t)
i?(e.setAttribute(n,""),"selected"===t?e.setAttribute("aria-selected",!0):"today"===t?e.setAttribute("aria-current","date"):"restricted"===t?e.removeAttribute("aria-selected"):"disabled"===t&&(e.removeAttribute("aria-selected"),e.setAttribute("aria-disabled",!0))):(e.removeAttribute(n),"selected"===t?"none"===this.selectionMode||e.restricted||e.disabled?e.removeAttribute("aria-selected"):e.setAttribute("aria-selected",!1):"today"===t?e.removeAttribute("aria-current"):"restricted"!==t||e.disabled?"disabled"===t&&(e.removeAttribute("aria-disabled"),e.restricted||e.setAttribute("aria-selected",!1)):e.setAttribute("aria-selected",!1))}_validateTemplate(e,t){if(null===t||!t)return
if("function"==typeof t)return
const i=this
if("content"in document.createElement("template")){if("string"==typeof t&&(t=document.getElementById(t)),null!==t&&"content"in t)return t
i.error(i.localize("invalidTemplate",{elementType:i.nodeName.toLowerCase(),property:e}))}else i.error(i.localize("htmlTemplateNotSuported",{elementType:i.nodeName.toLowerCase()}))}_weeksDownHandler(e,t){const i=this,n=t.value
let r
if(t.otherMonth&&(r=t.value.getTime()>t.closest(".jqx-calendar-month")._date.getTime()?1:-1),n&&i.hasRippleAnimation&&JQX.Utilities.Animation.Ripple.animate(t,e.pageX,e.pageY),r){if(i._isDateInView(n))return
i.disableAutoNavigation||i.navigate(r*i.months)}else(t=i._getCellByDate(n))&&(t.disabled||t.restricted)||i._handleDateSelection(t)}_firstDayOfWeekValidator(e,t){return Math.min(Math.max(0,isNaN(t)?6:t),6)}_weeksValidator(e,t){return Math.min(Math.max(1,isNaN(t)?6:t),6)}_monthsValidator(e,t){return Math.min(Math.max(1,isNaN(t)?1:t),12)}})
var le=Object.freeze({})
JQX("jqx-date-time-picker",class extends JQX.BaseElement{static get properties(){return{animationSettings:{value:null,type:"object"},autoClose:{value:!1,type:"boolean"},autoCloseDelay:{value:0,type:"number"},calendarButton:{value:!1,type:"boolean"},calendarButtonPosition:{value:"right",allowedValues:["left","right"],type:"string"},calendarMode:{value:"default",allowedValues:["default","classic"],type:"string"},dayNameFormat:{value:"firstTwoLetters",allowedValues:["narrow","firstTwoLetters","long","short"],type:"string"},disableAutoNavigation:{value:!1,type:"boolean"},displayKind:{value:"unspecified",allowedValues:["UTC","local","unspecified"],type:"string"},displayModeView:{value:"table",allowedValues:["table","list"],type:"string"},displayMode:{allowedValues:["outlined","filled","underlined"],value:"outlined",type:"string"},dropDownAppendTo:{value:null,type:"any"},dropDownDisplayMode:{value:"default",allowedValues:["default","classic","calendar","timePicker","auto"],type:"string"},dropDownOverlay:{value:!1,type:"boolean"},dropDownPosition:{value:"auto",allowedValues:["auto","bottom","overlay-top","overlay-center","overlay-bottom","top","center-bottom","center-top"],type:"string"},editMode:{value:"default",allowedValues:["default","full","partial"],type:"string"},enableMouseWheelAction:{value:!1,type:"boolean"},firstDayOfWeek:{value:0,type:"number"},footerTemplate:{value:null,type:"any"},formatString:{value:"dd-MMM-yy HH:mm:ss.fff",type:"string"},headerTemplate:{value:null,type:"any"},hideDayNames:{value:!1,type:"boolean"},hideOtherMonthDays:{value:!1,type:"boolean"},hideTooltipArrow:{value:!1,type:"boolean"},hint:{value:"",type:"string"},importantDates:{value:[],type:"array"},importantDatesTemplate:{value:null,type:"any"},interval:{value:new JQX.Utilities.TimeSpan(0,0,1),type:"any"},label:{value:"",type:"string"},max:{value:new JQX.Utilities.DateTime(3001,1,1),type:"any"},messages:{value:{en:{now:"Now",dateTabLabel:"DATE",timeTabLabel:"TIME"}},type:"object",extend:!0},min:{value:new JQX.Utilities.DateTime(1600,1,1),type:"any"},name:{value:"",type:"string"},nullable:{value:!1,type:"boolean"},opened:{value:!1,type:"boolean"},placeholder:{value:"Enter date",type:"string"},restrictedDates:{value:[],type:"array"},spinButtons:{value:!1,type:"boolean"},spinButtonsDelay:{value:75,type:"number"},spinButtonsInitialDelay:{value:0,type:"number"},spinButtonsPosition:{value:"right",allowedValues:["left","right"],type:"string"},tooltip:{value:!1,type:"boolean"},tooltipDelay:{value:100,type:"number"},tooltipPosition:{value:"top",allowedValues:["bottom","top","left","right","absolute"],type:"string"},tooltipTemplate:{value:null,type:"any"},validation:{value:"strict",allowedValues:["strict","interaction"],type:"string"},value:{defaultReflectToAttribute:!0,value:new JQX.Utilities.DateTime,type:"any"},weekNumbers:{value:!1,type:"boolean"},weeks:{value:6,type:"number"},yearCutoff:{value:1926,type:"number"}}}static get listeners(){return{"container.mouseout":"_mouseoutHandler","container.mouseover":"_mouseoverHandler","calendarButton.click":"_calendarButtonClickHandler","calendarDropDown.change":"_calendarDropDownChangeHandler","calendarDropDown.click":"_calendarDropDownClickHandler","downButton.click":"_spinButtonsClickHandler","input.blur":"_inputBlurHandler","input.change":"_inputChangeHandler","input.dragstart":"_inputDragstartHandler","input.focus":"_inputFocusHandler","input.keydown":"_inputKeydownHandler","input.down":"_inputDownHandler","input.paste":"_inputPasteHandler","input.select":"_inputSelectHandler","input.up":"_inputUpHandler","input.wheel":"_inputWheelHandler","dropDownContainer.keydown":"_dropDownKeydownHandler","dropDownContainer.transitionend":"_dropDownTransitionendHandler","dropDownHeader.click":"_dropDownHeaderClickHandler","upButton.click":"_spinButtonsClickHandler","document.up":"_documentUpHandler"}}static get requires(){return{"JQX.Utilities.DateTime":"jqxdate.js","JQX.Utilities.Draw":"jqxdraw.js","JQX.Utilities.BigNumber":"jqxmath.js","JQX.Utilities.NumericProcessor":"jqxnumeric.js","JQX.RepeatButton":"jqxbutton.js","JQX.Calendar":"jqxcalendar.js","JQX.TimePicker":"jqxtimepicker.js"}}static get styleUrls(){return["jqx.datetimepicker.css"]}template(){return'<div id="container" role="presentation">\n                    <span id="label" class="jqx-label">[[label]]</span>\n                    <div id="content" class="jqx-content">\n                        <input id="input" class="jqx-input jqx-date-time-input" type="text" readonly="[[readonly]]" disabled="[[disabled]]" placeholder="[[placeholder]]" name="[[name]]" aria-label="[[placeholder]]" />\n                        <div id="spinButtonsContainer" class="jqx-spin-buttons-container" role="presentation">\n                            <jqx-repeat-button initial-delay="[[spinButtonsInitialDelay]]" animation="[[animation]]" delay="[[spinButtonsDelay]]" readonly="[[readonly]]"  unfocusable id="upButton" right-to-left="[[rightToLeft]]" class="jqx-spin-button" aria-label="Increment">\n                                <div class="jqx-arrow jqx-arrow-up" aria-hidden="true"></div>\n                            </jqx-repeat-button>\n                            <jqx-repeat-button initial-delay="[[spinButtonsInitialDelay]]" animation="[[animation]]" delay="[[spinButtonsDelay]]" readonly="[[readonly]]" unfocusable id="downButton" right-to-left="[[rightToLeft]]" class="jqx-spin-button" aria-label="Decrement">\n                                <div class="jqx-arrow jqx-arrow-down" aria-hidden="true"></div>\n                            </jqx-repeat-button>\n                        </div>\n                        <div id="calendarButton" class="jqx-drop-down-button jqx-calendar-button" role="button" aria-haspopup="dialog" aria-label="Toggle popup"></div>\n                        <div id="dropDownContainer" class="jqx-drop-down jqx-date-time-drop-down jqx-drop-down-container jqx-visibility-hidden" role="dialog">\n                            <div id="dropDownHeader" class="jqx-drop-down-header jqx-hidden" role="heading" aria-level="1">\n                                <div id="selectDate" class="jqx-selected" role="button"></div>\n                                <div id="selectTime" role="button"></div>\n                            </div>\n                            <div id="dropDownContent" class="jqx-drop-down-content" role="presentation">\n                                <jqx-calendar id="calendarDropDown" class="jqx-hidden"\n                                              animation="[[animation]]"\n                                              animation-settings="[[animationSettings]]"\n                                              calendar-mode="[[calendarMode]]"\n                                              day-name-format="[[dayNameFormat]]"\n                                              disable-auto-navigation="[[disableAutoNavigation]]"\n                                              display-mode-view="[[displayModeView]]"\n                                              first-day-of-week="[[firstDayOfWeek]]"\n                                              header-template="[[headerTemplate]]"\n                                              hide-day-names="[[hideDayNames]]"\n                                              hide-other-month-days="[[hideOtherMonthDays]]"\n                                              hide-tooltip-arrow="[[hideTooltipArrow]]"\n                                              important-dates="[[importantDates]]"\n                                              important-dates-template="[[importantDatesTemplate]]"\n                                              locale="[[locale]]"\n                                              right-to-left="[[rightToLeft]]"\n                                              selection-mode="one"\n                                              spin-buttons-delay="[[spinButtonsDelay]]"\n                                              spin-buttons-initial-delay="[[spinButtonsInitialDelay]]"\n                                              theme="[[theme]]"\n                                              tooltip="[[tooltip]]"\n                                              tooltip-delay="[[tooltipDelay]]"\n                                              tooltip-position="[[tooltipPosition]]"\n                                              tooltip-template="[[tooltipTemplate]]"\n                                              unfocusable="[[unfocusable]]"\n                                              view-sections=\'["header", "footer"]\'\n                                              week-numbers="[[weekNumbers]]"\n                                              weeks="[[weeks]]"></jqx-calendar>\n                            </div>\n                        </div>\n                    </div>\n                    <span id="hint" class="jqx-hint">[[hint]]</span>\n                </div>'}attached(){const e=this
super.attached(),e.isCompleted&&(e._defaultFooterTemplateApplied&&e._addCalendarFooterListeners(),e.$.timePickerDropDown&&e._addTimePickerListener(),e._positionDetection&&e._positionDetection.dropDownAttached())}detached(){const e=this
if(super.detached(),e.close(),e._defaultFooterTemplateApplied){const t=e.$.calendarDropDown.$footer
t.unlisten("change"),t.unlisten("click"),t.unlisten("wheel")}e.$.timePickerDropDown&&e.$.timePickerDropDown.$.unlisten("change"),e._positionDetection&&e._positionDetection.dropDownDetached()}ready(){super.ready()
const e=this
e._edgeMacFF=JQX.Utilities.Core.Browser.Edge||JQX.Utilities.Core.Browser.Firefox&&-1!==navigator.platform.toLowerCase().indexOf("mac"),e._iOS=!!navigator.platform&&/iPad|iPhone|iPod/.test(navigator.platform),e._edgeMacFF&&e.$dropDownContainer.addClass("not-in-view"),e._defaultFooterTemplate=document.createElement("template"),e._defaultFooterTemplate.innerHTML='<div class="jqx-date-time-picker-footer">\n                <div class="jqx-footer-component jqx-footer-component-hour" role="presentation">\n                    <input type="text" class="jqx-hour-element" aria-label="Hours" />\n                    <span role="presentation">\n                        <jqx-repeat-button initial-delay="0" delay="75" aria-label="Increment hours">\n                            <span class="jqx-arrow jqx-arrow-up" aria-hidden="true"></span>\n                        </jqx-repeat-button>\n                        <jqx-repeat-button  initial-delay="0" delay="75" aria-label="Decrement hours">\n                            <span class="jqx-arrow jqx-arrow-down" aria-hidden="true"></span>\n                        </jqx-repeat-button>\n                    </span>\n                </div>\n                <div class="jqx-footer-component jqx-footer-component-minute" role="presentation">\n                    <input class="jqx-minute-element" aria-label="Minutes" />\n                    <span role="presentation">\n                        <jqx-repeat-button initial-delay="0" delay="75" aria-label="Increment minutes">\n                            <span class="jqx-arrow jqx-arrow-up" aria-hidden="true"></span>\n                        </jqx-repeat-button>\n                        <jqx-repeat-button initial-delay="0" delay="75" aria-label="Decrement minutes">\n                            <span class="jqx-arrow jqx-arrow-down" aria-hidden="true"></span>\n                        </jqx-repeat-button>\n                    </span>\n                </div>\n                <div class="jqx-footer-component jqx-footer-component-ampm" role="presentation">\n                    <input type="text" class="jqx-am-pm-element" aria-label="AM/PM" />\n                </div>\n                <div class="jqx-footer-component jqx-footer-component-today" role="presentation">\n                    <div tabindex="-1" class="jqx-today-element" role="button" aria-label="Now"></div>\n                </div>\n            </div>',e._codeToMethod={y:"addYears",yy:"addYears",yyyy:"addYears",yyyyy:"addYears",M:"addMonths",MM:"addMonths",MMM:"addMonths",MMMM:"addMonths",d:"addDays",dd:"addDays",ddd:"addDays",dddd:"addDays",H:"addHours",HH:"addHours",h:"addHours",hh:"addHours",m:"addMinutes",mm:"addMinutes",s:"addSeconds",ss:"addSeconds",f:"addDeciseconds",ff:"addCentiseconds",fff:"addMilliseconds",u:"addMicroseconds",uu:"addMicroseconds",n:"addNanoseconds",nn:"addNanoseconds",p:"addPicoseconds",pp:"addPicoseconds",e:"addFemtoseconds",ee:"addFemtoseconds",a:"addAttoseconds",aa:"addAttoseconds",x:"addZeptoseconds",xx:"addZeptoseconds",o:"addYoctoseconds",oo:"addYoctoseconds"},e._codeToIndex={y:0,yy:0,yyyy:0,yyyyy:0,M:1,MM:1,MMM:1,MMMM:1,d:2,dd:2,ddd:2,dddd:2,H:3,HH:3,h:3,hh:3,m:4,mm:4,s:5,ss:5,f:6,ff:6,fff:6,u:7,uu:7,n:8,nn:8,p:9,pp:9,e:10,ee:10,a:11,aa:11,x:12,xx:12,o:13,oo:13},e._getLocalizedNames(),e.checkLicense()}render(){const e=this
e.rightToLeft&&(e.calendarButtonPosition="right"===e.calendarButtonPosition?"left":"right"),e._positionDetection=new JQX.Utilities.PositionDetection(e,e.$.dropDownContainer,e.$.content,"close"),e._positionDetection.customPositionDropDown=e._positionExternalDropDown,e._positionDetection.getDropDownParent(!0),e._positionDetection.setDropDownPosition(),e.$.dropDownContainer.style.left=null,e._positionDetection.handleAutoPositioning(),e._setIds(),e._validateInitialPropertyValues(),e._setFocusable(),e.setAttribute("role","presentation"),e.$.input.setAttribute("aria-describedby",e.$.hint.id),e.$.input.setAttribute("aria-labelledby",e.$.label.id),e.$.calendarButton.setAttribute("aria-owns",e.$.dropDownContainer.id),e.$.dropDownContainer.setAttribute("animation",e.animation),e.$.dropDownContainer.setAttribute("drop-down-display-mode",e.dropDownDisplayMode),super.render()}close(){this.opened&&this._close()}focus(){this.$.input.focus()}select(){this.$.input.select()}open(){this.opened||this._open()}propertyChangedHandler(e,t,i){super.propertyChangedHandler(e,t,i)
const n=this
switch(e){case"animation":case"theme":n.$.timePickerDropDown&&(n.$.timePickerDropDown[e]=i),"animation"===e&&(n.$.dropDownContainer.setAttribute("animation",n.animation),n._defaultFooterTemplateApplied&&Array.from(n.$.calendarDropDown.$.footer.getElementsByTagName("jqx-repeat-button")).forEach(function(e){e.animation=i}))
break
case"calendarButton":n.$.dropDownContainer.style.transition="none",i||n.close()
break
case"calendarButtonPosition":n.$.dropDownContainer.style.transition="none",n.close(),"left"===i?n.$.content.insertBefore(n.$.calendarButton,n.$.content.firstElementChild):null===n._dropDownParent?n.$.content.insertBefore(n.$.calendarButton,n.$.dropDownContainer):n.$.content.appendChild(n.$.calendarButton)
break
case"disabled":i?(n.close(),n.$.upButton.disabled=!0,n.$.downButton.disabled=!0):n._disableSpinButtons(),n._setFocusable(),n._positionDetection.handleAutoPositioning()
break
case"displayKind":{const e=n._outputTimeZone
switch(i){case"unspecified":n._outputTimeZone=n._inputTimeZone
break
case"UTC":n._outputTimeZone="UTC"
break
case"local":n._outputTimeZone="Local"}if(n._outputTimeZone===e)return
null!==n._value&&(n.close(),n._toSync=!0,n._value=n._value.toTimeZone(n._outputTimeZone),n._applyFormatString()),n.min=n.min.toTimeZone(n._outputTimeZone),n.max=n.max.toTimeZone(n._outputTimeZone)
for(let e=0;e<n.restrictedDates.length;e++){let t=n.restrictedDates[e]
t=t.toTimeZone(n._outputTimeZone)}break}case"dropDownAppendTo":n._positionDetection.dropDownAppendToChangedHandler()
break
case"dropDownDisplayMode":n._changeDropDownDisplayMode()
break
case"dropDownOverlay":i||n._positionDetection.removeOverlay()
break
case"dropDownPosition":n._positionDetection.dropDownPositionChangedHandler()
break
case"footerTemplate":if(null!==i){n._defaultFooterTemplateApplied=!1
const e=n.$.calendarDropDown.$footer
e.unlisten("change"),e.unlisten("click"),e.unlisten("wheel"),n.$.calendarDropDown.footerTemplate=i}else{n._setDefaultFooterTemplate()
const e=n._value
n._hourElement.value=e.toString("hh"),n._minuteElement.value=e.toString("mm"),n._ampmElement.value=e.toString("tt")}break
case"formatString":""===i&&(n.formatString="dd-MMM-yy HH:mm:ss.fff"),n._getFormatStringRegExp(),n._applyFormatString(),"auto"===n.dropDownDisplayMode&&n._changeDropDownDisplayMode()
break
case"interval":n._validateInterval(t)
break
case"locale":case"messages":if(n.$.selectDate.innerHTML=n.localize("dateTabLabel"),n.$.selectTime.innerHTML=n.localize("timeTabLabel"),n._defaultFooterTemplateApplied&&(n._todayElement.title=n.localize("now")),"messages"===e)return
n._getLocalizedNames(),n.min.calendar.days=n._localizedDays,n.min.calendar.months=n._localizedMonths,n.min.calendar.locale=n.locale,n.max.calendar.days=n._localizedDays,n.max.calendar.months=n._localizedMonths,n.max.calendar.locale=n.locale,null!==n.value&&(n._value.calendar.days=n._localizedDays,n._value.calendar.months=n._localizedMonths,n._value.calendar.locale=n.locale,n.value.calendar.days=n._localizedDays,n.value.calendar.months=n._localizedMonths,n.value.calendar.locale=n.locale),JQX.Utilities.DateTime.cache=[],n._applyFormatString()
break
case"max":case"min":n._validateMinMax(e,t),"strict"===n.validation?n._validateValue():n._minMaxChanged=!0
break
case"nullable":!0===t&&null===n._value&&n._validateValue(n._now(),null)
break
case"opened":i?n._open():n._close()
break
case"readonly":case"unfocusable":i&&n.close(),"unfocusable"===e&&n._setFocusable()
break
case"restrictedDates":n._validateRestrictedDates(),n._validateValue()
break
case"spinButtonsPosition":"right"===i?n.$.content.insertBefore(n.$.spinButtonsContainer,n.$.input.nextElementSibling):n.$.content.insertBefore(n.$.spinButtonsContainer,n.$.input)
break
case"validation":"strict"===i&&(delete n._minMaxChanged,n._validateValue())
break
case"value":{let e
e=null!==i?(e=JQX.Utilities.DateTime.validateDate(i,n._now(),n.formatString)).toTimeZone(n._outputTimeZone):null,n._validateValue(e,n._value,void 0,!0)
break}}}_addCalendarFooterListeners(){const e=this.$.calendarDropDown.$footer
e.listen("change",this._footerChangeHandler.bind(this)),e.listen("click",this._footerClickHandler.bind(this)),e.listen("wheel",this._footerWheelHandler.bind(this))}_addTimePickerListener(){const e=this
e.$.timePickerDropDown.$.listen("change",function(t){const i=e.context,n=t.detail.value,r=JQX.Utilities.DateTime.getConstructorParameters(null!==e._value?e._value:e._now())
e.context=e,r[3]=n.getHours(),r[4]=n.getMinutes(),e._timePickerInitiatedChange=!0,r.unshift(null),e._validateValue(new(Function.prototype.bind.apply(JQX.Utilities.DateTime,r))),e._timePickerInitiatedChange=!1,e.context=i})}_applyFormatString(){const e=this
null!==e.value&&(e.$.input.value=e._value.toString(e.formatString))}_calendarButtonMouseEnterHandler(){this.$.calendarButton.setAttribute("hover","")}_calendarButtonMouseLeaveHandler(){this.$.calendarButton.removeAttribute("hover")}_calendarButtonClickHandler(e){const t=this
t._highlightedTimePart=void 0,t.disabled||t.readonly||(t.hasRippleAnimation&&JQX.Utilities.Animation.Ripple.animate(t.$.calendarButton,e.pageX,e.pageY),t.opened?t._close():t._open())}_calendarDropDownChangeHandler(e){const t=this
if(e.stopPropagation(),t._disregardCalendarChangeEvent)t._disregardCalendarChangeEvent=!1
else if(this.$.calendarDropDown.selectedDates.length>0){const i=e.detail.value[0],n=null!==t._value?t._value:t._now(),r=JQX.Utilities.DateTime.getConstructorParameters(n)
if(r[0]=i.getFullYear(),r[1]=i.getMonth()+1,r[2]=i.getDate(),t._calendarInitiatedChange=!0,r.unshift(null),t._validateValue(new(Function.prototype.bind.apply(JQX.Utilities.DateTime,r))),t._defaultFooterTemplateApplied){const e=t._value
""===t._hourElement.value&&(t._hourElement.value=e.toString("hh")),""===t._ampmElement.value&&(t._ampmElement.value=e.toString("tt")),""===t._minuteElement.value&&(t._minuteElement.value=e.toString("mm"))}t._calendarInitiatedChange=!1}else t._setNullValue()}_calendarDropDownClickHandler(e){const t=this
t.autoClose&&e.target.closest(".jqx-calendar-cell")&&(clearTimeout(t._autoCloseTimeout),t._autoCloseTimeout=setTimeout(function(){t.close()},t.autoCloseDelay))}_changeDropDownDisplayMode(){function e(e,i,n,r){t.$dropDownHeader[e]("jqx-hidden"),t.$calendarDropDown[i]("jqx-hidden"),t._timePickerInitialized&&t.$.timePickerDropDown.$[n]("jqx-hidden"),r&&(t.opened?t.$.calendarDropDown._refreshTitle():t._toSync=!0)}const t=this,i=t._dropDownDisplayMode
t._detectDisplayMode(),t._dropDownDisplayMode!==i&&("default"===t._dropDownDisplayMode?(t.calendarMode="default",t.$.calendarDropDown.viewSections=["title","header"],t.$selectDate.addClass("jqx-selected"),t.$selectTime.removeClass("jqx-selected"),e("removeClass","removeClass","addClass",!0)):"classic"===t._dropDownDisplayMode?(t.calendarMode="classic",t.$.calendarDropDown.viewSections=["header","footer"],e("addClass","removeClass","addClass")):"calendar"===t._dropDownDisplayMode?(t.calendarMode="default",t.$.calendarDropDown.viewSections=["title","header"],e("addClass","removeClass","addClass",!0)):(t.calendarMode="default",e("addClass","addClass","removeClass"),t._timePickerInitialized||t._initializeTimePicker()),t.$.dropDownContainer.setAttribute("drop-down-display-mode",t.dropDownDisplayMode))}_cloneValue(){const e=this
return null!==e._value?e._value.clone():null}_close(){const e=this
if(e.$.fireEvent("closing").defaultPrevented)e.opened=!0
else{e.$.calendarDropDown.disabled=!0,e.$calendarButton.removeClass("jqx-calendar-button-pressed"),e.$.calendarButton.removeAttribute("active"),e.$dropDownContainer.addClass("jqx-visibility-hidden")
const t=e.$.calendarDropDown.$.container.querySelector(".jqx-calendar-cell[hover]")
t&&t.removeAttribute("hover"),e.opened=!1,e._positionDetection.removeOverlay(!0),e.$.fireEvent("close"),e._edgeMacFF&&!e.hasAnimation&&(e.$.dropDownContainer.style.top=null,e.$.dropDownContainer.style.left=null,e.$dropDownContainer.addClass("not-in-view"))}e.$.calendarButton.setAttribute("aria-expanded",e.opened)}_detectDisplayMode(){const e=this
"auto"!==e.dropDownDisplayMode?e._dropDownDisplayMode=e.dropDownDisplayMode:e._dropDownDisplayMode=JQX.Utilities.DateTime.detectDisplayMode(e.value||e.min,e.formatString,e._formatStringRegExp),"timePicker"===e._dropDownDisplayMode?(e.$calendarButton.addClass("time"),"Enter date"===e.placeholder&&(e.placeholder="Enter time")):(e.$calendarButton.removeClass("time"),"Enter time"===e.placeholder&&(e.placeholder="Enter date")),"default"===e._dropDownDisplayMode?e.$dropDownContent.removeClass("partial"):e.$dropDownContent.addClass("partial")}_disableSpinButtons(){if(this.disabled)return
const e=null===this._value
this.$.upButton.disabled=e,this.$.downButton.disabled=e}_documentUpHandler(e){const t=this,i=(t.shadowRoot||t.getRootNode()).activeElement||document.activeElement,n=t.shadowRoot||t.isInShadowDOM?e.originalEvent.composedPath()[0]:e.originalEvent.target
JQX.Utilities.Core.isMobile||i!==t.$.input||"partial"!==t.editMode||null===t._value||n===t.$.input&&t.$.input.selectionStart!==t.$.input.selectionEnd?n===t.$.calendarButton||t.$.dropDownContainer.contains(n)||t.$.dropDownContainer.contains(t._getRootShadowHost(n))||(t.close(),i===t.$.input||t.contains(n)||(t._highlightedTimePart=void 0)):(t._highlightedTimePartEdit=!1,t._validateValue(t.$.input.value,t._cloneValue(),!1),t._highlightTimePartBasedOnCursor()),t._mouseFocus=!1}_getRootShadowHost(e){const t=this
if(!t.shadowRoot&&!t.isInShadowDOM)return
let i,n=e.getRootNode().host
for(;n&&n!==t&&n!==document;)i=n,n=n.getRootNode().host
return i}_dropDownHeaderClickHandler(e){const t=this
if(e.target===t.$.selectDate){if(t.$selectDate.hasClass("jqx-selected"))return
t.$selectDate.addClass("jqx-selected"),t.$selectTime.removeClass("jqx-selected"),t.$.timePickerDropDown.$.addClass("jqx-hidden"),t.$calendarDropDown.removeClass("jqx-hidden")}else{if(t.$selectTime.hasClass("jqx-selected"))return
t.$selectDate.removeClass("jqx-selected"),t.$selectTime.addClass("jqx-selected"),t.$calendarDropDown.addClass("jqx-hidden"),t._timePickerInitialized?t.$.timePickerDropDown.$.removeClass("jqx-hidden"):t._initializeTimePicker()}}_dropDownKeydownHandler(e){const t=this,i=e.key,n=t.shadowRoot?t.shadowRoot.activeElement:document.activeElement
!t.$.dropDownHeader.contains(n)||"Enter"!==i&&" "!==i?"Escape"===i||e.altKey&&"ArrowUp"===i?(e.preventDefault(),t.close(),t.$.input.focus()):"Enter"!==i&&" "!==i||!n.classList.contains("jqx-footer-component-today")?"Enter"===i&&(n===t.$.calendarDropDown.$.body&&t.$.calendarDropDown.querySelectorAll(".jqx-calendar-cell[selected][focus]").length>0||t._timePickerInitialized&&n===t.$.timePickerDropDown.$.picker)&&(e.preventDefault(),t.close()):(e.preventDefault(),t._validateValue(t._now()),t.close()):(e.preventDefault(),t._dropDownHeaderClickHandler({target:n}))}_dropDownTransitionendHandler(){const e=this
if(e.hasAnimation)return e.opened&&e._toFocus?(e._toFocus.focus(),delete e._toFocus,void(e._timePickerInitialized&&!e.$.timePickerDropDown.classList.contains("jqx-hidden")&&requestAnimationFrame(()=>e.$.timePickerDropDown._highlightLabel()))):e._edgeMacFF&&!e.opened?(e.$.dropDownContainer.style.top=null,e.$.dropDownContainer.style.left=null,void e.$dropDownContainer.addClass("not-in-view")):void 0}_footerChangeHandler(e){const t=this,i=t.context,n=e.target,r=null!==t._value?t._value:t._now()
let o,a=n.value
if(t.context=t,e.stopPropagation(),n.classList.contains("jqx-hour-element")){if(a=parseInt(a,10),isNaN(a)||a<0||a>12)return void(n.value=r.toString("hh"))
a>0&&a<12&&"PM"===r.toString("tt")&&(a+=12),o="hh"}else{if(!n.classList.contains("jqx-minute-element")){if(null===t._value)return void(n.value="")
const e=r.toString("tt")
return a=a.toLowerCase(),void("PM"===e&&("a"===a||"am"===a)||"AM"===e&&("p"===a||"pm"===a)?(t._incrementDecrement(void 0,"tt"),n.value=t._value.toString("tt")):n.value=e)}if(a=parseInt(a,10),isNaN(a)||a<0||a>59)return void(n.value=r.toString("mm"))
o="mm"}const s=JQX.Utilities.DateTime.getConstructorParameters(r)
s[t._codeToIndex[o]]=a,s.unshift(null),t._validateValue(new(Function.prototype.bind.apply(JQX.Utilities.DateTime,s))),n.value=t._value.toString(o),t.context=i}_footerClickHandler(e){const t=this,i=t.context,n=e.target
if(t.context=t,n.classList.contains("jqx-today-element"))t._validateValue(t._now()),t.autoClose&&(clearTimeout(t._autoCloseTimeout),t._autoCloseTimeout=setTimeout(function(){t.close()},t.autoCloseDelay))
else{const e=n.closest("jqx-repeat-button")
if(null!==e){const i=e===e.parentElement.children[1],n=e.closest(".jqx-footer-component").classList.contains("jqx-footer-component-hour")?"hh":"mm"
t._incrementDecrement(i,n)}}t.context=i}_footerWheelHandler(e){const t=this,i=t.shadowRoot?t.shadowRoot.activeElement:document.activeElement
if(t.enableMouseWheelAction&&e.target instanceof HTMLInputElement&&i===e.target){const i=t.context,n=e.target
t.context=t,n.classList.contains("jqx-hour-element")?t._incrementDecrement(e.deltaY>0,"hh"):n.classList.contains("jqx-minute-element")?t._incrementDecrement(e.deltaY>0,"mm"):t._incrementDecrement(void 0,"tt"),t.context=i,e.stopPropagation()}}_getAndHighlightTimePart(e,t,i){const n=this
n._programmaticSelection=!0,n.$.input.selectionStart!==e||n.$.input.selectionEnd!==t?n.$.input.setSelectionRange(e,t):setTimeout(function(){n.$.input.setSelectionRange(e,t)},200),n._highlightedTimePart={code:n._formatStringRegExp.groups[i],index:i,from:e,to:t}}_getFormatStringRegExp(){this._formatStringRegExp=this.min.getParseRegExp(this.min.calendar,this.formatString.replace(/y+/g,"yyyyy")),this._formatStringRegExp.regExp=new RegExp(this._formatStringRegExp.regExp)}_getLocalizedNames(){const e=JQX.Utilities.DateTime.getLocalizedNames(this.locale)
this._localizedDays=e.days,this._localizedMonths=e.months,this.$.selectDate.innerHTML=this.localize("dateTabLabel"),this.$.selectTime.innerHTML=this.localize("timeTabLabel")}_handleManualTimePartEdit(e){const t=this,i=JQX.Utilities.DateTime.getConstructorParameters(t._value)
if(e=e[t._highlightedTimePart.index+1],isNaN(e)){if(1===t._codeToIndex[t._highlightedTimePart.code]){let n=-1
if(e.length>1&&t._localizedMonths.names.some(function(t,i){if(-1!==t.toLowerCase().indexOf(e.toLowerCase()))return n=i,!0}),-1===n)return void t._applyFormatString()
i[1]=n+1}}else{if("f"===t._highlightedTimePart.code)e=100*parseInt(e,10)
else if("ff"===t._highlightedTimePart.code)e=10*parseInt(e,10)
else if(-1!==t._highlightedTimePart.code.indexOf("y")&&e.length<3){const i=t.yearCutoff.toString(),n=parseInt(i.slice(2),10)
let r=parseInt(i.slice(0,2),10);(e=parseInt(e,10))<n&&r++,e=e.toString(),e=r+""+"0".repeat(2-e.length)+e}else if(-1!==t._highlightedTimePart.code.indexOf("h")){const i=t._value.hour()
e=parseInt(e,10),i>11&&e<=11&&(e+=12)}i[t._codeToIndex[t._highlightedTimePart.code]]=parseInt(e,10)}try{i.unshift(null),t._validateValue(new(Function.prototype.bind.apply(JQX.Utilities.DateTime,i)))}catch(e){t._applyFormatString()}}_highlightTimePartBasedOnCursor(e){const t=this,i=t.$.input.value,n=t._formatStringRegExp.regExp.exec(i)
function r(){return void 0===e?t.$.input.selectionStart:e}if(null===n)return void(t._highlightedTimePart=void 0)
t._iOS||void 0!==e||(e=t.$.input.selectionStart)
let o,a=n.index
for(let e=1;e<n.length;e++){const s=n[e]
if(a=(o=i.indexOf(s,a))+s.length,1===e&&r()<o){t._getAndHighlightTimePart(o,a,0)
break}if(r()>=o&&r()<=a){t._getAndHighlightTimePart(o,a,e-1)
break}const l=n[e+1]
if(!l){t._programmaticSelection=!0,t.$.input.setSelectionRange(o,a),t._highlightedTimePart={code:t._formatStringRegExp.groups[e-1],index:e-1,from:o,to:a}
break}{const n=i.indexOf(l,a)
if(r()>a&&r()<n){r()-a<=n-r()?t._getAndHighlightTimePart(o,a,e-1):(t._formatStringRegExp.groups[e],t._programmaticSelection=!0,t.$.input.setSelectionRange(n,n+l.length))
break}}}}_highlightTimePartBasedOnIndex(e){const t=this,i=t.$.input.value,n=t._formatStringRegExp.regExp.exec(i)
if(null===n)return t._validateValue(void 0,t._cloneValue(),!1),void t._highlightTimePartBasedOnIndex(e)
let r,o=n.index
const a=t.shadowRoot?t.shadowRoot.activeElement:document.activeElement
if(!(e<0||e>=n.length)){t.$.input!==a&&t.$.input.focus()
for(let a=1;a<n.length;a++){const s=n[a]
if(o=(r=i.indexOf(s,o))+s.length,e===a-1){t._getAndHighlightTimePart(r,o,e)
break}}}}_incrementDecrement(e,t){const i=this,n=i._cloneValue()
if(i._minMaxChanged&&(i._value=i._rangeValidation(i._value),delete i._minMaxChanged),void 0===t&&i._highlightedTimePart&&(t=i._highlightedTimePart.code),void 0!==t){if("z"===t||"zz"===t||"zzz"===t)return void i._highlightTimePartBasedOnIndex(i._highlightedTimePart.index)
i._value="t"===t||"tt"===t?i._value.addHours(i._value.hour()<12?12:-12,!0):i._value[i._codeToMethod[t]](e?-1:1,!0),i._validateValue(void 0,n,!1),i._highlightedTimePart&&i._highlightTimePartBasedOnIndex(i._highlightedTimePart.index)}else i._value=i._value.add(e?i.interval.negate():i.interval,void 0,!0),i._validateValue(void 0,n,!1)
0!==n.compare(i._value)&&i.$.fireEvent("change",{oldValue:n.toTimeZone(i._inputTimeZone),value:i.value})}_initializeTimePicker(){const e=document.createElement("jqx-time-picker")
e.rightToLeft=this.rightToLeft,e.animation=this.animation,e.theme=this.theme,e.value=null!==this._value?this._value.toDate():this._now(),this.$.timePickerDropDown=e,e.$=JQX.Utilities.Extend(e),this.$.dropDownContent.appendChild(e),this._timePickerInitialized=!0,this._addTimePickerListener()}_inputBlurHandler(){this.removeAttribute("focus"),this._fullEdit=!1,this._highlightedTimePartEdit=!1}_inputChangeHandler(e){const t=this
if(e&&e.stopPropagation(),""!==t.$.input.value){if(t._fullEdit||null===t._value)t._fullEdit=!1,t._validateValue(t.$.input.value),t._highlightTimePartBasedOnCursor()
else if(t._highlightedTimePartEdit){t._highlightedTimePartEdit=!1
let e=t._formatStringRegExp.regExp.exec(t.$.input.value)
null!==e?t._handleManualTimePartEdit(e):t._applyFormatString()}}else t._setNullValue()}_inputDragstartHandler(e){e.preventDefault()}_inputFocusHandler(){const e=this
if(e.setAttribute("focus",""),"full"!==e.editMode){const t=JQX.Utilities.Core.isMobile?10:0
setTimeout(function(){e._iOS?e._highlightTimePartBasedOnCursor():!0!==e._mouseFocus&&(void 0===e._highlightedTimePart?e._highlightTimePartBasedOnCursor(e._iOS?void 0:0):e._highlightTimePartBasedOnIndex(e._highlightedTimePart.index))},t)}}_inputKeydownHandler(e){const t=this,i=t.editMode,n=e.key
if("Tab"!==n){if(e.altKey&&"ArrowDown"===n)return e.preventDefault(),void t.open()
if("Escape"===n||e.altKey&&"ArrowUp"===n)return e.preventDefault(),void t.close()
if("full"!==i){if("partial"===i){if("Delete"===n)return void(null!==t._value&&(t._setNullValue(),e.preventDefault()))
if(null===t._value&&(t._validateValue(t._now(),null,!1),t._highlightTimePartBasedOnIndex(0)),-1!==["/",".","-",","," "].indexOf(n))return t._inputChangeHandler(),t._navigateToNextTimePart(),void e.preventDefault()
if("Backspace"===n)return t._resetTimePart(),t._highlightedTimePart.index>0?t._navigateToPreviousTimePart():t._highlightTimePartBasedOnIndex(0),void e.preventDefault()}else if(t._fullEdit||t._highlightedTimePartEdit||t.readonly||-1!==["Alt","Control","Shift"].indexOf(n)||e.altKey||e.ctrlKey)return
if(-1!==["End","Home","ArrowLeft","ArrowUp","ArrowRight","ArrowDown"].indexOf(n)){if(e.preventDefault(),"partial"===i&&t._highlightedTimePartEdit&&t._inputChangeHandler(),null!==t._value)switch(n){case"End":t._highlightTimePartBasedOnIndex(t._formatStringRegExp.groups.length-1)
break
case"Home":t._highlightTimePartBasedOnIndex(0)
break
case"ArrowLeft":t._navigateToPreviousTimePart()
break
case"ArrowUp":t._incrementDecrement()
break
case"ArrowRight":t._navigateToNextTimePart()
break
case"ArrowDown":t._incrementDecrement(!0)}}else if(t._highlightedTimePart){if("partial"!==i&&t._highlightedTimePart.to-t._highlightedTimePart.from!=t.$.input.selectionEnd-t.$.input.selectionStart)return void(t._fullEdit=!0)
const r=t._highlightedTimePart.code
if("ddd"===r||"dddd"===r||"z"===r||"zz"===r||"zzz"===r||"t"===r||"tt"===r)return void e.preventDefault()
if("partial"===i&&"MMM"!==r&&"MMMM"!==r&&!1===new RegExp(/^\d+$/).test(n))return void((n.length<2||"F"!==n.charAt(0))&&e.preventDefault())
t._highlightedTimePartEdit=!0}}else t._fullEdit=!0}}_inputDownHandler(){const e=this
e._fullEdit||e._highlightedTimePartEdit||"full"===e.editMode||JQX.Utilities.Core.isMobile||setTimeout(function(){e._mouseFocus=!0,e._highlightTimePartBasedOnCursor()},0)}_inputPasteHandler(e){"partial"===this.editMode?e.preventDefault():this._fullEdit=!0}_inputSelectHandler(){const e=this,t=e.shadowRoot?e.shadowRoot.activeElement:document.activeElement
"partial"===e.editMode&&t===e.$.input&&(!0===e._programmaticSelection?e._programmaticSelection=!1:e._highlightedTimePart?e._highlightTimePartBasedOnIndex(e._highlightedTimePart.index):e._highlightTimePartBasedOnIndex(0))}_inputUpHandler(){const e=this
JQX.Utilities.Core.isMobile&&(e._iOS?(e._mouseFocus=!0,setTimeout(function(){document.activeElement===e.$.input&&e._highlightTimePartBasedOnCursor()},50)):setTimeout(function(){e._mouseFocus=!0,e._highlightTimePartBasedOnCursor()},10))}_inputWheelHandler(e){const t=this;(t.shadowRoot?t.shadowRoot.activeElement:document.activeElement)!==t.$.input||!t.enableMouseWheelAction||t.disabled||t.readonly||(e.preventDefault(),t._incrementDecrement(e.deltaY>0))}_isRestricted(e){const t=this.restrictedDates
let i=!1
for(let n=0;n<t.length;n++)if(e.equalDateParts(t[n])){i=!0
break}return i}_mouseoutHandler(e){const t=this,i=e.target
t.disabled||i!==t.$.input&&i!==t.$.calendarButton||(i.removeAttribute("hover"),t.removeAttribute("hover"))}_mouseoverHandler(e){const t=this,i=e.target
t.disabled||i!==t.$.input&&i!==t.$.calendarButton||(i.setAttribute("hover",""),t.setAttribute("hover",""))}_navigateToNextTimePart(){this._highlightTimePartBasedOnIndex(this._highlightedTimePart.index+1)}_navigateToPreviousTimePart(){this._highlightTimePartBasedOnIndex(this._highlightedTimePart.index-1)}_now(){const e=this,t=new JQX.Utilities.DateTime("today","Local")
return"Local"!==e._outputTimeZone?t.toTimeZone(e._outputTimeZone):t}_open(e){const t=this
if(t.disabled||t.readonly)return t.opened=!1,void t.$.calendarButton.setAttribute("aria-expanded",!1)
if(t.$.fireEvent("opening").defaultPrevented)return t.opened=!1,void t.$.calendarButton.setAttribute("aria-expanded",!1)
t._edgeMacFF&&t.$dropDownContainer.removeClass("not-in-view")
const i=t.$.dropDownContainer
i.style.marginLeft=null,e||(i.style.transition=""),t.$.calendarDropDown.disabled=!1,t.$calendarButton.addClass("jqx-calendar-button-pressed"),t.$.calendarButton.setAttribute("active",""),("default"!==t._dropDownDisplayMode&&"timePicker"!==t._dropDownDisplayMode||!t._timePickerInitialized||t._timePickerInitialized&&t.$.timePickerDropDown.$.hasClass("jqx-hidden"))&&t.$calendarDropDown.removeClass("jqx-hidden"),t.opened=!0,t.$.calendarButton.setAttribute("aria-expanded",!0),t._positionDetection.placeOverlay(),t._positionDetection.checkBrowserBounds("vertically"),t._positionDetection.positionDropDown(),t.$dropDownContainer.removeClass("jqx-visibility-hidden")
const n=1===window.devicePixelRatio?document.documentElement.clientWidth:window.innerWidth,r=i.getBoundingClientRect()
if(r.left<0?i.style.marginLeft=-1*r.left+"px":r.right>n&&(i.style.marginLeft=n-r.right+"px"),t.$.fireEvent("open"),t._toSync){const e=t._value
if(null!==e)t._disregardCalendarChangeEvent=!0,t.$.calendarDropDown.selectedDates=[e.toDate()],t._defaultFooterTemplateApplied&&(t._hourElement.value=e.toString("hh"),t._minuteElement.value=e.toString("mm"),t._ampmElement.value=e.toString("tt")),t._timePickerInitialized&&(t.$.timePickerDropDown.value=e.toDate())
else{const e=t.$.calendarDropDown.context
t.$.calendarDropDown.context=t.$.calendarDropDown,t.$.calendarDropDown._clearSelection(!0),t.$.calendarDropDown.context=e,t._defaultFooterTemplateApplied&&(t._hourElement.value="",t._minuteElement.value="",t._ampmElement.value="")}t._toSync=!1}let o
switch(t._dropDownDisplayMode){case"default":o=t.$selectDate.hasClass("jqx-selected")?t.$.calendarDropDown:t.$.timePickerDropDown.$.picker
break
case"classic":case"calendar":o=t.$.calendarDropDown
break
case"timePicker":o=t.$.timePickerDropDown.$.picker}t.hasAnimation?(t._toFocus=o,function e(){t._toFocus&&(0===t.$.dropDownContainer.getBoundingClientRect().height?requestAnimationFrame(e):t._dropDownTransitionendHandler())}()):o.focus()}_positionExternalDropDown(e){const t=this.context,i=!t.calendarButton||"right"===t.calendarButtonPosition,n=t._dropDownListPosition,r=t.$.dropDownContainer
let o,a=i?e.right-r.offsetWidth:e.left
switch(n){case"bottom":o=e.bottom
break
case"overlay-top":o=e.bottom-r.offsetHeight
break
case"overlay-center":o=e.top+e.height/2-r.offsetHeight/2
break
case"overlay-bottom":o=e.top
break
case"top":o=e.top-r.offsetHeight
break
case"center-bottom":case"center-top":o="center-bottom"===n?e.bottom+5:e.top-5-r.offsetHeight,a=i?e.right-r.offsetWidth/2-t.$.calendarButton.offsetWidth/2:e.left-r.offsetWidth/2+t.$.calendarButton.offsetWidth/2}return{left:a,top:o}}_rangeValidation(e){const t=this
return-1===e.compare(t.min)?t.min.clone():1===e.compare(t.max)?t.max.clone():e}_resetTimePart(){const e=this,t=e._highlightedTimePart.code,i=e._codeToIndex[t],n=JQX.Utilities.DateTime.getConstructorParameters(e._value)
let r
r=i>2?0:i>0?1:e.min.year(),n[i]=r,n.unshift(null),e._validateValue(new(Function.prototype.bind.apply(JQX.Utilities.DateTime,n)))}_setIds(){const e=this
e.$.label.id||(e.$.label.id=e.id+"Label"),e.$.input.id||(e.$.input.id=e.id+"Input"),e.$.calendarButton.id||(e.$.calendarButton.id=e.id+"CalendarButton"),e.$.dropDownContainer.id||(e.$.dropDownContainer.id=e.id+"DropDownContainer"),e.$.hint.id||(e.$.hint.id=e.id+"Hint")}_setDefaultFooterTemplate(e){const t=this
t.$.calendarDropDown.footerTemplate=t._defaultFooterTemplate,e&&t.$.calendarDropDown._handleLayoutTemplate(t.$.calendarDropDown.$.footer,t._defaultFooterTemplate),t._hourElement=t.$.calendarDropDown.getElementsByClassName("jqx-hour-element")[0],t._minuteElement=t.$.calendarDropDown.getElementsByClassName("jqx-minute-element")[0],t._ampmElement=t.$.calendarDropDown.getElementsByClassName("jqx-am-pm-element")[0],t._todayElement=t.$.calendarDropDown.getElementsByClassName("jqx-today-element")[0],t._todayElement.title=t.localize("now"),Array.from(t.$.calendarDropDown.$.footer.getElementsByTagName("jqx-repeat-button")).forEach(function(e){e.animation=t.animation}),t._addCalendarFooterListeners(),t._defaultFooterTemplateApplied=!0}_setFocusable(){const e=this
if(e.disabled||e.unfocusable)return e.$.input.tabIndex=-1,e.$.selectDate.removeAttribute("tabindex"),e.$.selectTime.removeAttribute("tabindex"),void(e._defaultFooterTemplateApplied&&(e._hourElement.tabIndex=-1,e._ampmElement.tabIndex=-1,e._minuteElement.tabIndex=-1))
const t=e.tabIndex>0?e.tabIndex:0
e.$.input.removeAttribute("tabindex"),e.$.selectDate.tabIndex=t,e.$.selectTime.tabIndex=t,e._defaultFooterTemplateApplied&&(e._hourElement.removeAttribute("tabindex"),e._ampmElement.removeAttribute("tabindex"),e._minuteElement.removeAttribute("tabindex"),e.$.calendarDropDown.getElementsByClassName("jqx-footer-component-today")[0].tabIndex=t)}_setNullValue(e){const t=this
if(void 0===e&&(e=t._cloneValue()),t.nullable){if(t._value=null,t.value=null,t._highlightedTimePart=void 0,t.$.input.value="",null!==e){if(t.opened){if(!t._calendarInitiatedChange){const e=t.$.calendarDropDown.context
t.$.calendarDropDown.context=t.$.calendarDropDown,t.$.calendarDropDown._clearSelection(!0),t.$.calendarDropDown.context=e}t._defaultFooterTemplateApplied&&(t._hourElement.value="",t._ampmElement.value="",t._minuteElement.value=""),t._toSync=!1}else t._toSync=!0
t.$.fireEvent("change",{oldValue:e.toTimeZone(t._inputTimeZone),value:null})}t._disableSpinButtons()}else t._validateValue(t._now(),e)}_spinButtonsClickHandler(e){const t=this
null===t._value||t.disabled||t.readonly||t._incrementDecrement(t.$.downButton.contains(e.target))}_validateInitialPropertyValues(){const e=this,t=e.$.calendarDropDown
"left"===e.calendarButtonPosition&&e.$.content.insertBefore(e.$.calendarButton,e.$.input),"left"===e.spinButtonsPosition&&e.$.content.insertBefore(e.$.spinButtonsContainer,e.$.input),e.disabled&&(e.$.upButton.disabled=!0,e.$.downButton.disabled=!0),e.opened&&(e.disabled||e.readonly?e.opened=!1:(e.$.dropDownContainer.style.transition="none",e._open(!0))),e.$.calendarButton.setAttribute("aria-expanded",e.opened),null===e.footerTemplate?e._setDefaultFooterTemplate(!0):(t.footerTemplate=e.footerTemplate,t._handleLayoutTemplate(t.$.footer,e.footerTemplate)),""===e.formatString&&(e.formatString="dd-MMM-yy HH:mm:ss.fff")
const i=e.displayKind
let n
if("UTC"===i?e._outputTimeZone="UTC":"local"===i&&(e._outputTimeZone="Local"),null!==e.value?(n=JQX.Utilities.DateTime.validateDate(e.value,new JQX.Utilities.DateTime,e.formatString),e._inputTimeZone=n.timeZone,"unspecified"!==i&&e._inputTimeZone!==e._outputTimeZone?n=n.toTimeZone(e._outputTimeZone):"unspecified"===i&&(e._outputTimeZone=e._inputTimeZone)):(n=null,e._inputTimeZone="Local"),e._validateRestrictedDates(),e._validateMinMax("both"),e._validateValue(n,e._now(),!1,!0),e._validateInterval(new JQX.Utilities.TimeSpan(0,0,1)),e._getFormatStringRegExp(),e._defaultFooterTemplateApplied&&""===e._hourElement.value&&null!==e.value){const t=e.value
e._hourElement.value=t.toString("hh"),e._ampmElement.value=t.toString("tt"),e._minuteElement.value=t.toString("mm")}e._detectDisplayMode()
const r=e._dropDownDisplayMode
"default"===r||"calendar"===r?(t.viewSections=["title","header"],t.$title.hasClass("jqx-hidden")&&t.propertyChangedHandler("viewSections",["header","footer"],["title","header"]),"default"===r&&e.$dropDownHeader.removeClass("jqx-hidden")):"timePicker"===r&&(e.$calendarDropDown.addClass("jqx-hidden"),e._initializeTimePicker())}_validateInterval(e){const t=this,i=t.interval
let n=i
if(i instanceof JQX.Utilities.TimeSpan)n=i
else if("string"==typeof i){const r=i.indexOf("TimeSpan("),o=i.indexOf(")")
if(-1!==r&&-1!==o&&(n=(n=i.slice(r+9,o)).replace(/'/g,"").replace(/"/g,"").replace(/^\s+|\s+$|\s+(?=\s)/g,""),new RegExp(/(^(\d+)(,\s*\d+)*$)/g).test(n)&&((n=(n=n.replace(/\s/g,"")).split(",")).map(function(e,t){n[t]=parseInt(e)}),n.unshift(null),n=new(Function.prototype.bind.apply(JQX.Utilities.TimeSpan,n)))),n instanceof JQX.Utilities.TimeSpan==!1){if(""===n.trim())return void(t.interval=e)
isNaN(n)||(n=1e4*parseInt(n,10))
try{n=new JQX.Utilities.TimeSpan(n)}catch(i){return void(t.interval=e)}}}else{if("number"!=typeof i)return void(t.interval=e)
n=new JQX.Utilities.TimeSpan(i)}0===n._ticks?t.interval=e:t.interval=n}_validateMinMax(e,t){const i=this
let n=!1
"max"!==e&&(i.min=JQX.Utilities.DateTime.validateDate(i.min,t||new JQX.Utilities.DateTime(1600,1,1),i.formatString),i.min=i.min.toTimeZone(i._outputTimeZone),n=!0),"min"!==e&&(i.max=JQX.Utilities.DateTime.validateDate(i.max,t||new JQX.Utilities.DateTime(3001,1,1),i.formatString),i.max=i.max.toTimeZone(i._outputTimeZone),i.max.calendar.days=i._localizedDays,i.max.calendar.months=i._localizedMonths,i.max.calendar.locale=i.locale,i.$.calendarDropDown.max=i.max.toDate()),i.min.compare(i.max)>0&&(i.min=i.max.clone(),n=!0),n&&(i.min.calendar.days=i._localizedDays,i.min.calendar.months=i._localizedMonths,i.min.calendar.locale=i.locale,i.$.calendarDropDown.min=i.min.toDate())}_validateRestrictedDates(){const e=this,t=[],i=[]
for(let n=0;n<e.restrictedDates.length;n++){const r=e.restrictedDates[n]
let o=JQX.Utilities.DateTime.validateDate(r,"invalid",e.formatString)
"invalid"!==o&&(o=o.toTimeZone(e._outputTimeZone),t.push(o),i.push(o.toDate()))}e.restrictedDates=t,e.$.calendarDropDown.restrictedDates=i}_validateValue(e,t,i,n){const r=this,o=void 0!==t?t:r._cloneValue()
if(null===e||""===e)return void r._setNullValue(o)
if(void 0!==e&&(r._value=JQX.Utilities.DateTime.validateDate(e,o,r.formatString)),null===r._value)return void r._setNullValue(o)
let a=r._value
for(;!0===r._isRestricted(a);)a.addDays(1,!1)
const s=r._rangeValidation(a)
n&&"strict"!==r.validation?!1===a.equals(s)&&(r._minMaxChanged=!0):(r._value=s,delete r._minMaxChanged),r.value=r._value.toTimeZone(r._inputTimeZone)
const l=r._value
if(l.calendar.days=r._localizedDays,l.calendar.months=r._localizedMonths,l.calendar.locale=r.locale,r._applyFormatString(),r._disableSpinButtons(),(null===o||null===l)&&o!==l||null!==o&&null!==l&&0!==o.compare(l)){if(!1!==i&&r.$.fireEvent("change",{oldValue:null!==o?o.toTimeZone(r._inputTimeZone):null,value:r.value}),r._calendarInitiatedChange)return
r.opened?(null!==o&&0!==r.$.calendarDropDown.selectedDates.length&&o.year()===l.year()&&o.month()===l.month()&&o.day()===l.day()&&r.$.calendarDropDown._isDateInView(l.toDate())||(r._disregardCalendarChangeEvent=!0,r.$.calendarDropDown.selectedDates=[l.toDate()]),r._defaultFooterTemplateApplied&&(null!==o&&o.hour()===l.hour()||(r._hourElement.value=l.toString("hh"),r._ampmElement.value=l.toString("tt")),null!==o&&o.minute()===l.minute()||(r._minuteElement.value=l.toString("mm"))),r._timePickerInitialized&&!r._timePickerInitiatedChange&&(r.$.timePickerDropDown.value=l.toDate()),r._toSync=!1):r._toSync=!0}}})
var de=Object.freeze({})
JQX("jqx-numeric-text-box",class extends JQX.BaseElement{static get properties(){return{decimalSeparator:{value:".",type:"string"},dropDownAppendTo:{value:null,type:"any"},enableMouseWheelAction:{value:!1,type:"boolean"},inputFormat:{value:"integer",allowedValues:["integer","floatingPoint","complex"],type:"string"},hint:{value:"",type:"string"},label:{value:"",type:"string"},leadingZeros:{value:!1,type:"boolean"},max:{value:null,type:"any"},messages:{value:{en:{binary:"BIN",octal:"OCT",decimal:"DEC",hexadecimal:"HEX",integerOnly:"jqxNumericTextBox: The property {{property}} can only be set when inputFormat is integer.",noInteger:"jqxNumericTextBox: the property {{property}} cannot be set when inputFormat is integer.",significantPrecisionDigits:"jqxNumericTextBox: the properties significantDigits and precisionDigits cannot be set at the same time."}},type:"object",extend:!0},min:{value:null,type:"any"},name:{value:"",type:"string"},nullable:{value:!1,type:"boolean"},opened:{value:!1,type:"boolean"},outputFormatString:{value:null,type:"string?"},placeholder:{value:"",type:"string"},dropDownEnabled:{value:!1,type:"boolean"},precisionDigits:{value:null,type:"number?"},radix:{value:10,allowedValues:["2","8","10","16",2,8,10,16,"binary","octal","decimal","hexadecimal"],type:"any"},radixDisplay:{value:!1,type:"boolean"},radixDisplayPosition:{value:"left",allowedValues:["left","right"],type:"string"},scientificNotation:{value:!1,type:"boolean"},showDropDownValues:{value:!1,type:"boolean"},showUnit:{value:!1,type:"boolean"},significantDigits:{value:null,type:"number?"},spinButtons:{value:!1,type:"boolean"},spinButtonsDelay:{value:75,type:"number"},spinButtonsInitialDelay:{value:0,type:"number"},spinButtonsPosition:{value:"right",allowedValues:["left","right"],type:"string"},spinButtonsStep:{value:"1",type:"any"},type:{value:"numeric",type:"string",defaultReflectToAttribute:!0,readonly:!0},unit:{value:"kg",type:"string"},validation:{value:"strict",allowedValues:["strict","interaction"],type:"string"},value:{value:"0",type:"any?"},wordLength:{value:"int32",allowedValues:["int8","uint8","int16","uint16","int32","uint32","int64","uint64"],type:"string"}}}static get listeners(){return{mouseenter:"_mouseenterMouseleaveHandler",mouseleave:"_mouseenterMouseleaveHandler",resize:"_resizeHandler","downButton.click":"_downButtonClickHandler","downButton.mouseenter":"_mouseenterMouseleaveHandler","downButton.mouseleave":"_mouseenterMouseleaveHandler","dropDown.click":"_dropDownItemClickHandler","dropDown.mouseout":"_mouseenterMouseleaveHandler","dropDown.mouseover":"_mouseenterMouseleaveHandler","input.blur":"_inputBlurHandler","input.change":"_inputChangeHandler","input.focus":"_inputFocusHandler","input.keydown":"_inputKeydownHandler","input.keyup":"_inputKeyupHandler","input.paste":"_inputPasteHandler","input.wheel":"_inputWheelHandler","radixDisplayButton.click":"_radixDisplayButtonClickHandler","radixDisplayButton.mouseenter":"_mouseenterMouseleaveHandler","radixDisplayButton.mouseleave":"_mouseenterMouseleaveHandler","upButton.click":"_upButtonClickHandler","upButton.mouseenter":"_mouseenterMouseleaveHandler","upButton.mouseleave":"_mouseenterMouseleaveHandler","document.down":"_documentMousedownHandler","document.up":"_documentMouseupHandler"}}static get requires(){return window.NIComplex?{"JQX.Button":"jqxbutton.js","JQX.Utilities.BigNumber":"jqxmath.js","JQX.Utilities.NumericProcessor":"jqxnumeric.js"}:{"JQX.Button":"jqxbutton.js","JQX.Utilities.Complex":"jqxcomplex.js","JQX.Utilities.BigNumber":"jqxmath.js","JQX.Utilities.NumericProcessor":"jqxnumeric.js"}}static get styleUrls(){return["jqx.button.css","jqx.numerictextbox.css"]}template(){return'<div id="container" class="jqx-container" role="presentation">\n                <span id="label" inner-h-t-m-l="[[label]]" class="jqx-label"></span>\n                <div id="radixDisplayButton" class="jqx-unselectable jqx-input-addon jqx-numeric-text-box-component jqx-numeric-text-box-radix-display" role="button" aria-haspopup="listbox"></div>\n                <input id="input" type="text" spellcheck="false" class="jqx-input jqx-numeric-text-box-component" placeholder="[[placeholder]]" readonly="[[readonly]]" disabled="[[disabled]]" name="[[name]]" aria-label="[[placeholder]]" />\n                <div id="unitDisplay" class="jqx-unselectable jqx-input-addon jqx-numeric-text-box-component jqx-numeric-text-box-unit-display" role="presentation"></div>\n                <div id="spinButtonsContainer" class="jqx-input-addon jqx-numeric-text-box-component jqx-spin-buttons-container" role="presentation">\n                    <jqx-repeat-button initial-delay="[[spinButtonsInitialDelay]]" delay="[[spinButtonsDelay]]" animation="[[animation]]" unfocusable id="upButton" class="jqx-spin-button" aria-label="Increment" right-to-left="[[rightToLeft]]">\n                        <div class="jqx-arrow jqx-arrow-up" role="presentation" aria-hidden="true"></div>\n                    </jqx-repeat-button>\n                    <jqx-repeat-button initial-delay="[[spinButtonsInitialDelay]]" delay="[[spinButtonsDelay]]" animation="[[animation]]" unfocusable id="downButton" class="jqx-spin-button" aria-label="Decrement" right-to-left="[[rightToLeft]]">\n                        <div class="jqx-arrow jqx-arrow-down" role="presentation" aria-hidden="true"></div>\n                    </jqx-repeat-button>\n                </div>\n                <ul id="dropDown" class="jqx-visibility-hidden jqx-drop-down jqx-numeric-text-box-drop-down" role="listbox">\n                    <li id="dropDownItem2" class="jqx-list-item" data-value="2" role="option"></li>\n                    <li id="dropDownItem8" class="jqx-list-item" data-value="8" role="option"></li>\n                    <li id="dropDownItem10" class="jqx-list-item" data-value="10" role="option"></li>\n                    <li id="dropDownItem16" class="jqx-list-item" data-value="16" role="option"></li>\n                </ul>\n                <span id="hint" class="jqx-hint" inner-h-t-m-l="[[hint]]"></span>\n            </div>'}attached(){super.attached(),this.isCompleted&&(this._positionDetection.dropDownAttached(),this._positionDetection.checkBrowserBounds())}detached(){const e=this
super.detached(),e.opened&&e._closeRadix(!0),e._positionDetection&&e._positionDetection.dropDownDetached()}ready(){super.ready()}render(){const e=this
e._numericProcessor=new JQX.Utilities.NumericProcessor(e,"inputFormat"),e._numberRenderer=new JQX.Utilities.NumberRenderer,e._numberRenderer.localizationObject.decimalseparator=e.decimalSeparator,e._positionDetection=new JQX.Utilities.PositionDetection(e,e.$.dropDown,e.$.container,"_closeRadix"),e._positionDetection.getDropDownParent(!0),e._dropDownListPosition="bottom",e.rightToLeft&&(e.spinButtonsPosition="right"===e.spinButtonsPosition?"left":"right"),e._setIds(),e.setAttribute("aria-describedby",e.$.unitDisplay.id+" "+e.$.hint.id),e.setAttribute("aria-labelledby",e.$.label.id),e.$.radixDisplayButton.setAttribute("aria-owns",e.$.dropDown.id),e.rightToLeft&&null!==e.dropDownAppendTo&&e.$.dropDown.setAttribute("right-to-left",""),e._radixPrefixes={10:"d",2:"b",8:"o",16:"x"},e._regex={2:new RegExp(/^[0-1]+$/),8:new RegExp(/^[0-7]+$/),10:new RegExp(/^[+\-]?(?:0|[1-9]\d*)(?:\.\d*)?(?:[eE][+\-]?\d+)?$/),16:new RegExp(/^[0-9a-f]+$/i)},e._regexSpecial={nan:new RegExp(/^(nan)$/i),inf:new RegExp(/^((-?inf(inity)?)|([+\-]?∞))$/i),nonNumericValue:new RegExp(/^$|(^((nan)|((-?inf(inity)?)|([+\-]?∞))|(null))$)/i),exaValue:new RegExp(/^[+\-]?(?:0|[1-9]\d*)(?:\.\d*)?(?:[E][+\-]\d*)?i$/)},e._initialDropDownOptionsSet=!1,"left"===e.spinButtonsPosition&&e.$.container.insertBefore(e.$.spinButtonsContainer,e.$.label.nextElementSibling),"right"===e.radixDisplayPosition&&e.$.container.insertBefore(e.$.radixDisplayButton,e.$.unitDisplay.nextElementSibling),e._setInitialComponentDisplay(),e._initialAdjustments(),e._refreshShape(),e._initialized=!0,super.render()}_setIds(){const e=this
e.$.label.id||(e.$.label.id=e.id+"Label"),e.$.radixDisplayButton.id||(e.$.radixDisplayButton.id=e.id+"RadixDisplayButton"),e.$.unitDisplay.id||(e.$.unitDisplay.id=e.id+"UnitDisplay"),e.$.dropDown.id||(e.$.dropDown.id=e.id+"DropDown"),e.$.hint.id||(e.$.hint.id=e.id+"Hint")}_refreshShape(){const e=this.$.container.querySelectorAll(".jqx-numeric-text-box-component:not(.jqx-hidden)")
Array.from(this.$.container.getElementsByClassName("jqx-numeric-text-box-component")).forEach(e=>e.classList.remove("jqx-numeric-text-box-component-border-left","jqx-numeric-text-box-component-border-right")),e.length>0&&(e[0].classList.add("jqx-numeric-text-box-component-border-left"),e[e.length-1].classList.add("jqx-numeric-text-box-component-border-right"))}val(e,t){const i=this,n=null!==e&&"object"==typeof e&&0===Object.keys(e).length
if(void 0===e||!1!==n)return i.value
{const n=i.value
if((""===e||null===e)&&null===n)return null
if(null===e)return i._triggerChangeEvent="strict"===i.validation,i._validate(!1,null),i._triggerChangeEvent=!1,void(i._programmaticValueIsSet=!0)
if((e=e.toString()).toUpperCase()===n.toString().toUpperCase())return e
void 0===t?(i._triggerChangeEvent="strict"===i.validation,i._validate(!1,e),i._triggerChangeEvent=!1):i._setValue(e),i._programmaticValueIsSet=!0}}focus(){this.$.input.focus()}_updateSpinButtonsStepObject(){this._spinButtonsStepObject=this._numericProcessor.createDescriptor(this.spinButtonsStep,!0)}_setInitialComponentDisplay(){const e=this
!1===e.spinButtons&&e.$spinButtonsContainer.addClass("jqx-hidden"),!1===e.radixDisplay&&e.$radixDisplayButton.addClass("jqx-hidden"),!1===e.showUnit&&e.$unitDisplay.addClass("jqx-hidden")}_initialAdjustments(){const e=this
e._radixNumber=e._getRadix(e.radix),e._wordLengthNumber=e._numericProcessor.getWordLength(e.wordLength),e._validatePropertyCompatibility(),e._numericProcessor.validateMinMax(!0,!0),e._updateSpinButtonsStepObject(),e._validate(!0),e._programmaticValueIsSet=!0,e._cachedInputValue=e.$.input.value,void 0===e._editableValue&&(e._editableValue=e._cachedInputValue),e.$.radixDisplayButton.innerHTML=e._radixPrefixes[e._radixNumber],e.$.unitDisplay.innerHTML=e.unit,e.disabled&&(e.$.upButton.disabled=!0,e.$.downButton.disabled=!0),e.opened&&(e.dropDownEnabled&&!e.disabled&&null!==e.value?e._openRadix():e.opened=!1),e.$.radixDisplayButton.setAttribute("aria-expanded",e.opened),e._setFocusable()}_validatePropertyCompatibility(){const e=this
"integer"!==e.inputFormat?(10!==e._radixNumber&&e.error(e.localize("integerOnly",{property:"radix"})),e.radixDisplay&&e.error(e.localize("integerOnly",{property:"radixDisplay"})),e.dropDownEnabled&&e.error(e.localize("integerOnly",{property:"dropDownEnabled"})),"int32"!==e.wordLength&&e.error(e.localize("integerOnly",{property:"wordLength"}))):null!==e.precisionDigits&&e.error(e.localize("noInteger",{property:"precisionDigits"})),null===e.significantDigits&&null===e.precisionDigits?e.significantDigits=8:null!==e.significantDigits&&null!==e.precisionDigits&&e.error(e.localize("significantPrecisionDigits"))}_validate(e,t){const i=this
let n
if(e)void 0===(n=i.value)&&(n=i.nullable?null:"0")
else if(void 0===t||null===t&&!i.nullable){if((n=i.$.input.value)===i.value&&!0!==i._programmaticValueIsSet)return void(i.$.input.value=i._cachedInputValue)}else n=t
if(i.nullable&&(null===n||""===n))return i.value=null,i._number=null,i.$.input.value="",i._cachedInputValue="",i._editableValue="",void i._disableComponents()
const r=i._numericProcessor.prepareForValidation(e,t,n)
if(void 0===r)return void i._disableComponents()
const o=i._numericProcessor.createDescriptor(r.value,!0,!0,!e&&void 0===t||"strict"===i.validation,e||void 0!==t,r.enteredComplexNumber)
if(e){i._number=o
let e=i._renderValue(o)
i.value=o.toString(),i.$.input.value=e}else i._updateValue(o)
i._programmaticValueIsSet=!1,i._disableComponents()}_handleNonNumericValue(e,t,i){const n=this
if("integer"!==n.inputFormat){if(n._regexSpecial.nan.test(i))return void n._handleNaN(e)
if(n._regexSpecial.inf.test(i))return void n._handleInfinity(e,t,i)}if(e){let e=n._numericProcessor.createDescriptor(0)
n._number=n._validateRange(e)
const t=n._renderValue(n._number)
n.value=n._number.toString(),n.$.input.value=t}else if(void 0===t)n.$.input.value=n._cachedInputValue
else{const e=n._number.toString()
n.value!==e&&(n.value=e)}}_handleNaN(e){const t=this
if(t.$.input.value="NaN",e)t.value=NaN,t._number=NaN
else{const e=t.value
null!==e&&"NaN"===e.toString()||(t.value=NaN,t._number=NaN,t._cachedInputValue="NaN",t._editableValue="NaN",t._triggerChangeEvent&&t.$.fireEvent("change",{value:NaN,oldValue:e,radix:t._radixNumber}))}}_handleInfinity(e,t,i){const n=this
let r,o
if("-"===i.charAt(0)?(r="∞"===i.charAt(1)?"-∞":"-Inf",o=-1/0):(r=-1!==i.indexOf("∞")?"∞":"Inf",o=1/0),o===-1/0&&n.min===-1/0||o===1/0&&n.max===1/0||void 0!==t)if(e)n.value=o,n._number=o,n.$.input.value=r
else{const e=n.value
i!==r&&(n.$.input.value=r),e!==o&&(n.value=o,n._number=o,n._cachedInputValue=r,n._editableValue=r,n._triggerChangeEvent&&n.$.fireEvent("change",{value:o,oldValue:e,radix:n._radixNumber}))}else o===-1/0?n._validate(!1,n.min):n._validate(!1,n.max)}_validateRange(e){return e=this._numericProcessor.validate(e,this._minObject,this._maxObject)}propertyChangedHandler(e,t,i){super.propertyChangedHandler(e,t,i)
const n=this,r=n.$.input
function o(){!0===n._initialDropDownOptionsSet&&n._setDropDownOptions(!0),2!==n._radixNumber&&16!==n._radixNumber||(n._cachedInputValue=n._number.toString(n._radixNumber,n._wordLengthNumber,n.leadingZeros),n._editableValue=n._cachedInputValue,n.$.input.value=n._cachedInputValue)}if(i!=t)switch(e){case"disabled":n._setFocusable(),!0===i?(n.$.upButton.disabled=!0,n.$.downButton.disabled=!0):n._disableComponents()
break
case"dropDownAppendTo":n._positionDetection.dropDownAppendToChangedHandler(),n.$.dropDown.removeAttribute("right-to-left"),n.rightToLeft&&null!==i&&n.$.dropDown.setAttribute("right-to-left","")
break
case"unfocusable":n._setFocusable()
break
case"enableMouseWheelAction":case"placeholder":case"readonly":case"spinButtonsDelay":case"spinButtonsInitialDelay":break
case"value":{if(""===i&&null===t)return
if(null===i||""===i||null===t)return n.value=t,n._triggerChangeEvent="strict"===n.validation,n._validate(!1,i),n._triggerChangeEvent=!1,void(n._programmaticValueIsSet=!0)
const e=i.toString(),r=t.toString()
r!==e&&(r.toUpperCase()===e.toUpperCase()&&(n.value=t),n.value=t,n._triggerChangeEvent="strict"===n.validation,n._validate(!1,e),n._triggerChangeEvent=!1,n._programmaticValueIsSet=!0)
break}case"radix":"integer"===n.inputFormat?n._changeRadix(i):n.error(n.localize("integerOnly",{property:"radix"}))
break
case"rightToLeft":null!==n.dropDownAppendTo&&(i?n.$.dropDown.setAttribute("right-to-left",""):n.$.dropDown.removeAttribute("right-to-left"))
break
case"leadingZeros":"integer"===n.inputFormat&&null!==n._number&&o()
break
case"min":case"max":if(null!==i&&(n[`_${e}IsNull`]=!1),n._numericProcessor.validateMinMax("min"===e,"max"===e),"strict"===n.validation)n._triggerChangeEvent=!0,n._validate(!1,n.value),n._triggerChangeEvent=!1
else if(!1===n._regexSpecial.nonNumericValue.test(n.value)){const e=n._numericProcessor.createDescriptor(n._number),t=n._validateRange(e)
!0===n._numericProcessor.compare(n.value,t)&&(n._programmaticValueIsSet=!0)}break
case"opened":i?n.dropDownEnabled&&!n.disabled&&null!==n.value?n._openRadix():(n.opened=!1,n.$.radixDisplayButton.setAttribute("aria-expanded",!1)):n._closeRadix(!1,!0)
break
case"outputFormatString":i?(n._cachedInputValue=n._numberRenderer.formatNumber(n._number,i),n.$.input.value=n._cachedInputValue):(n._cachedInputValue=n._editableValue,n.$.input.value=n._editableValue)
break
case"dropDownEnabled":i?("integer"!==n.inputFormat&&n.error(n.localize("integerOnly",{property:"dropDownEnabled"})),!0===n._initialDropDownOptionsSet&&n._setDropDownOptions(!0)):n.opened&&n._closeRadix(!0)
break
case"spinButtons":i?n.$spinButtonsContainer.removeClass("jqx-hidden"):n.$spinButtonsContainer.addClass("jqx-hidden"),n._refreshShape()
break
case"spinButtonsStep":n._updateSpinButtonsStepObject()
break
case"significantDigits":case"precisionDigits":if("precisionDigits"===e&&"integer"===n.inputFormat&&n.error(n.localize("noInteger",{property:e})),"significantDigits"===e&&null!==n.precisionDigits?n.precisionDigits=null:"precisionDigits"===e&&null!==n.significantDigits&&(n.significantDigits=null),!1===n._regexSpecial.nonNumericValue.test(n.value)){const e=n._renderValue(n._number)
r.value=e}break
case"decimalSeparator":{n._numberRenderer.localizationObject.decimalseparator=n.decimalSeparator
const e=n._discardDecimalSeparator(r.value,t),i=n._applyDecimalSeparator(e),o=n._applyDecimalSeparator(n._discardDecimalSeparator(n._editableValue,t))
r.value=i,n._editableValue=o
break}case"spinButtonsPosition":"left"===i?n.$.container.insertBefore(n.$.spinButtonsContainer,n.$.label.nextElementSibling):n.$.container.insertBefore(n.$.spinButtonsContainer,n.$.dropDown),n._refreshShape()
break
case"wordLength":if(n._wordLengthNumber=n._numericProcessor.getWordLength(i),"integer"===n.inputFormat&&(n._numericProcessor.validateMinMax(!0,!0),null!==n._number)){let e=n._validateRange(new JQX.Utilities.BigNumber(n._number))
n._updateValue(e),n.leadingZeros&&o()}break
case"radixDisplay":i?("integer"!==n.inputFormat&&n.error(n.localize("integerOnly",{property:"radixDisplay"})),n.$radixDisplayButton.removeClass("jqx-hidden")):n.$radixDisplayButton.addClass("jqx-hidden"),n._refreshShape()
break
case"radixDisplayPosition":"left"===i?n.$.container.insertBefore(n.$.radixDisplayButton,n.$.input):n.$.container.insertBefore(n.$.radixDisplayButton,n.$.unitDisplay.nextElementSibling),n._refreshShape()
break
case"inputFormat":n._changeInputFormat(t,i)
break
case"showUnit":i?n.$unitDisplay.removeClass("jqx-hidden"):n.$unitDisplay.addClass("jqx-hidden"),n._refreshShape()
break
case"unit":n.$.unitDisplay.innerHTML=i
break
case"scientificNotation":if(!1===n._regexSpecial.nonNumericValue.test(n.value)){const e=n._renderValue(n._number)
r.value=e}break
case"locale":case"messages":case"showDropDownValues":n.opened?n._setDropDownOptions():n._initialDropDownOptionsSet=!1
break
case"nullable":!0===t&&null===n.value&&n._validate(!1,"0")
break
case"validation":"strict"===i&&(n._triggerChangeEvent=!0,n._validate(!1,n.value),n._triggerChangeEvent=!1)}else"string"!=typeof i&&"string"==typeof t&&(n[e]=t)
n._cachedInputValue=r.value}_changeInputFormat(e,t){const i=this
i._numericProcessor=new JQX.Utilities.NumericProcessor(i,"inputFormat"),"complex"!==e?("integer"===t&&"floatingPoint"===e&&i._changeFromFloatingPointToIntegerInputFormat(),"floatingPoint"===t&&"integer"===e&&i._changeFromIntegerToFloatingPointInputFormat(),"complex"===t&&i._changeToComplexInputFormat(e),i._updateSpinButtonsStepObject(),null!==i.value&&(i._inputFormatChangedFlag=!0,i._validate(void 0,i._number.toString()),i._inputFormatChangedFlag=!1)):i._changeFromComplexInputFormat(t)}_changeFromComplexInputFormat(e){const t=this
t.spinButtonsStep=t._spinButtonsStepObject.realPart,t._updateSpinButtonsStepObject(),"integer"===e?(t.min===-1/0?t.min=null:t.min=t._minObject.realPart,t.max===1/0?t.max=null:t.max=t._maxObject.realPart):(t.min!==-1/0&&(t.min=t._minObject.realPart),t.max!==1/0&&(t.max=t._maxObject.realPart)),t._numericProcessor.validateMinMax(!0,!0),null!==t.value&&(t._inputFormatChangedFlag=!0,t._validate(void 0,t._number.realPart.toString()),t._inputFormatChangedFlag=!1)}_changeFromFloatingPointToIntegerInputFormat(){const e=this
e.min===-1/0&&(e.min=null),e.max===1/0&&(e.max=null),e._numericProcessor.validateMinMax(!0,!0)}_changeFromIntegerToFloatingPointInputFormat(){const e=this
e.radixDisplay&&(e.radixDisplay=!1,e.$radixDisplayButton.addClass("jqx-hidden")),10!==e._radixNumber&&(e.radix=10,e._radixNumber=10),e._minIsNull?(e.min=-1/0,e._minObject=-1/0):e._minObject=parseFloat(e._minObject.toString()),e._maxIsNull?(e.max=1/0,e._maxObject=1/0):e._maxObject=parseFloat(e._maxObject.toString()),e.dropDownEnabled&&(e.dropDownEnabled=!1)}_changeToComplexInputFormat(e){const t=this
"integer"===e&&(t.radixDisplay&&(t.radixDisplay=!1,t.$radixDisplayButton.addClass("jqx-hidden")),t._minIsNull&&(t.min=null),t._maxIsNull&&(t.max=null),t.dropDownEnabled&&(t.dropDownEnabled=!1)),t._numericProcessor.validateMinMax(t.min!==-1/0,t.max!==1/0)}_updateValue(e){const t=this,i=t.$.input.value,n=e.toString(t._radixNumber,t._wordLengthNumber,t.leadingZeros)
if(i!==n||i!==t._cachedInputValue){const i=t._renderValue(e),r=t.value,o=t._regexSpecial.nonNumericValue.test(n)
if(t.$.input.value=i,t._cachedInputValue=i,t._inputFormatChangedFlag||o&&i!==r||!1===o&&t._numericProcessor.compare(e,t._number)){t._number=t._numericProcessor.createDescriptor(e)
const i=t._number.toString()
t.value=i,t._setDropDownOptions(!0),t._triggerChangeEvent&&t.$.fireEvent("change",{value:i,oldValue:r,radix:t._radixNumber})}}else t.value=t._number.toString()}_setValue(e){this.value=e,this.$.input.value=e,this._number=this._numericProcessor.createDescriptor(e,!0),this._setDropDownOptions(!0)}_changeRadix(e){const t=this,i=t._getRadix(e),n=t.radix
if(i===t._radixNumber)return
t.radix=e,t._radixNumber=i
const r=t.$.input,o=r.value
let a,s
null!==t.value?(a=t._number.toString(i,t._wordLengthNumber,t.leadingZeros),s=t._renderValue(a)):s="",r.value=s,t._cachedInputValue=s,t.$.radixDisplayButton.innerHTML=t._radixPrefixes[i],t.$.fireEvent("radixChange",{radix:e,oldRadix:n,displayedValue:s,oldDisplayedValue:o})}_openRadix(){const e=this
if(e.$.fireEvent("opening").defaultPrevented)return void(e.opened=!1)
!1===e._initialDropDownOptionsSet&&(e._setDropDownOptions(),e._initialDropDownOptionsSet=!0),null!==e._dropDownParent&&(e.$.dropDown.style.width=e.offsetWidth+"px"),e.$radixDisplayButton.addClass("jqx-numeric-text-box-pressed-component"),e.$dropDown.removeClass("jqx-visibility-hidden"),e.$.dropDown.style.marginTop=null,e.opened=!0,e._positionDetection.positionDropDown()
const t=(1===window.devicePixelRatio?document.documentElement.clientHeight:window.innerHeight)-e.$.dropDown.getBoundingClientRect().top-e.$.dropDown.offsetHeight-parseFloat(getComputedStyle(e.$.dropDown).marginBottom)
t<0&&(e.$.dropDown.style.marginTop=t+"px"),e.$.fireEvent("open",{dropDown:e.$.dropDown}),e.$.radixDisplayButton.setAttribute("aria-expanded",!0)}_closeRadix(e,t){const i=this;(i.opened||t)&&(!i.$.fireEvent("closing").defaultPrevented||e?(i.$radixDisplayButton.removeClass("jqx-numeric-text-box-pressed-component"),i.$dropDown.addClass("jqx-visibility-hidden"),i.opened=!1,i.$.fireEvent("close",{dropDown:i.$.dropDown}),i.$.radixDisplayButton.setAttribute("aria-expanded",!1)):i.opened=!0)}_isLeftButtonPressed(e){const t=0===e.buttons||1===e.which
return 1===e.detail.buttons||t}_isIncrementOrDecrementAllowed(){return!this.disabled&&!this.readonly&&!1===this._regexSpecial.nonNumericValue.test(this.$.input.value)}_upButtonClickHandler(e){const t=this
t._isLeftButtonPressed(e)&&t._isIncrementOrDecrementAllowed()&&(t._up||t.$upButton.addClass("jqx-numeric-text-box-pressed-component"),t._incrementOrDecrement("add"))}_downButtonClickHandler(e){const t=this
t._isLeftButtonPressed(e)&&t._isIncrementOrDecrementAllowed()&&(t._up||t.$downButton.addClass("jqx-numeric-text-box-pressed-component"),t._incrementOrDecrement("subtract"))}_documentMousedownHandler(e){const t=this
if(t._up=!1,!t.opened)return
let i=e.originalEvent.target;(t.shadowRoot||t.isInShadowDOM)&&(i=e.originalEvent.composedPath()[0]),(t.shadowRoot||t).contains(i)||t.$.dropDown.contains(i)||t._closeRadix()}_documentMouseupHandler(){this._up=!0,this.$upButton.removeClass("jqx-numeric-text-box-pressed-component"),this.$downButton.removeClass("jqx-numeric-text-box-pressed-component")}_radixDisplayButtonClickHandler(){const e=this
e.dropDownEnabled&&!e.disabled&&null!==e.value&&(e.opened?e._closeRadix():e._openRadix())}_dropDownItemClickHandler(e){if(e.target.$.hasClass("jqx-list-item")){const t=this
let i=e.target.getAttribute("data-value")
t._changeRadix(parseInt(i,10)),t._closeRadix()}}_mouseenterMouseleaveHandler(e){e.target===this.$.dropDown||this.disabled||this.readonly||("mouseenter"===e.type?e.target.setAttribute("hover",""):e.target.removeAttribute("hover"))}_inputKeydownHandler(e){const t=this,i=e.charCode?e.charCode:e.which
40===i&&t._isIncrementOrDecrementAllowed()?t._incrementOrDecrement("subtract"):38===i&&t._isIncrementOrDecrementAllowed()&&t._incrementOrDecrement("add"),t._keydownInfo={value:t.$.input.value,specialKey:e.altKey||e.ctrlKey||e.shiftKey}}_inputKeyupHandler(e){const t=this
if(13===e.keyCode)t._suppressBlurEvent=!0,t.$.input.value!==t._cachedInputValue&&(t._triggerChangeEvent=!0,t._validate(),t._triggerChangeEvent=!1,t.$.input.blur())
else if(27===e.keyCode)t.$.input.value=t._editableValue
else{const i=t.$.input.value
""!==i&&t._regex[t._radixNumber].test(i)?(t.$.upButton.disabled=!1,t.$.downButton.disabled=!1):""===i&&(t.$.upButton.disabled=!0,t.$.downButton.disabled=!0),!t._keydownInfo||t._keydownInfo.value===i||t._keydownInfo.specialKey||e.altKey||e.ctrlKey||e.shiftKey||"Control"===e.key||t.$.fireEvent("changing",{currentValue:i,validValue:t.value,radix:t._radixNumber})}e.preventDefault()}_inputBlurHandler(){const e=this
!0===e._suppressBlurEvent?(e._suppressBlurEvent=!1,e._formattedValue&&(e._cachedInputValue=e._formattedValue,e.$.input.value=e._formattedValue,delete e._formattedValue)):e.$.input.value!==e._editableValue?(e._triggerChangeEvent=!0,e._validate(),e._triggerChangeEvent=!1):e.$.input.value=e._cachedInputValue,e.radixDisplay&&e.$.radixDisplayButton.removeAttribute("focus"),e.opened&&e._closeRadix(),e.spinButtons&&e.$.spinButtonsContainer.removeAttribute("focus"),e.showUnit&&e.$.unitDisplay.removeAttribute("focus"),e.removeAttribute("focus")}_inputFocusHandler(){const e=this
e.spinButtons&&e.$.spinButtonsContainer.setAttribute("focus",""),e.radixDisplay&&e.$.radixDisplayButton.setAttribute("focus",""),e.showUnit&&e.$.unitDisplay.setAttribute("focus",""),e.opened&&e._closeRadix(),e.setAttribute("focus",""),e.outputFormatString&&(e.$.input.value=e._editableValue)}_inputChangeHandler(e){e.stopPropagation(),e.preventDefault()}_inputPasteHandler(){const e=this
requestAnimationFrame(()=>e.$.fireEvent("changing",{currentValue:e.$.input.value,validValue:e.value,radix:e._radixNumber}))}_inputWheelHandler(e){const t=this,i=t.shadowRoot&&t.shadowRoot.activeElement||document.activeElement
t.$.input===i&&t.enableMouseWheelAction&&t._isIncrementOrDecrementAllowed()&&(e.stopPropagation(),e.preventDefault(),e.wheelDelta>0?t._incrementOrDecrement("add"):t._incrementOrDecrement("subtract"))}_getRadix(e){switch(e.toString()){case"10":case"decimal":return 10
case"2":case"binary":return 2
case"8":case"octal":return 8
case"16":case"hexadecimal":return 16}}_setDropDownOptions(e){const t=this
if(!1===t.dropDownEnabled||null===t._number)return
if(!t.showDropDownValues){if(e)return
return t.$.dropDownItem2.innerHTML=t.localize("binary"),t.$.dropDownItem8.innerHTML=t.localize("octal"),t.$.dropDownItem10.innerHTML=t.localize("decimal"),void(t.$.dropDownItem16.innerHTML=t.localize("hexadecimal"))}const i=t._wordLengthNumber,n=t.leadingZeros
t.$.dropDownItem2.innerHTML=`${t._number.toString(2,i,n)} (${t.localize("binary")})`,t.$.dropDownItem8.innerHTML=`${t._number.toString(8,i)} (${t.localize("octal")})`,t.$.dropDownItem10.innerHTML=`${t._renderValue(t._number.toString(10,i),!0)} (${t.localize("decimal")})`,t.$.dropDownItem16.innerHTML=`${t._number.toString(16,i,n)} (${t.localize("hexadecimal")})`}_incrementOrDecrement(e){const t=this,i=t.shadowRoot&&t.shadowRoot.activeElement||document.activeElement
let n=t._cachedInputValue
if(t.$.input===i&&(n=t._editableValue,t._suppressBlurEvent=!0),(t.$.input.value!==n||t._programmaticValueIsSet&&"interaction"===t.validation)&&(t._triggerChangeEvent=!0,t._validate(),t._triggerChangeEvent=!1,!1===t._isIncrementOrDecrementAllowed()))return
const r=t._numericProcessor.incrementDecrement(t._number,e,t._spinButtonsStepObject),o=t._validateRange(r)
t._triggerChangeEvent=!0,t._updateValue(o),t._triggerChangeEvent=!1}_toBigNumberDecimal(e,t){const i=this
let n
return 10===t?n=new JQX.Utilities.BigNumber(e):i._unsigned||!1===i._isNegative(e,t)?i._wordLengthNumber<64?(n=parseInt(e,t),n=new JQX.Utilities.BigNumber(n)):n=i._getBigNumberFrom64BitBinOctHex(e,t):(n=i._getNegativeDecimal(e,t),n=new JQX.Utilities.BigNumber(n)),n}_isNegative(e,t){const i=this,n=e.length,r=e.charAt(0).toLowerCase()
if(2===t)return n===i._wordLengthNumber&&"1"===r
if(8!==t)return n===i._wordLengthNumber/4&&-1!==["8","9","a","b","c","d","e","f"].indexOf(r)
switch(i._wordLengthNumber){case 8:return 3===n&&("2"===r||"3"===r)
case 16:return 5===n&&"1"===r
case 32:return 11===n&&("2"===r||"3"===r)
case 64:return 22===n&&"1"===r}}_getBigNumberFrom64BitBinOctHex(e,t){let i=new JQX.Utilities.BigNumber(0)
for(let n=e.length-1;n>=0;n--){let r=new JQX.Utilities.BigNumber(parseInt(e.charAt(n),t))
i=i.add(r.multiply(new JQX.Utilities.BigNumber(t).pow(e.length-1-n)))}return i}_getNegativeDecimal(e,t){const i=this
let n=e
if(8===t){let t=[]
for(let i=0;i<e.length;i++){let n=parseInt(e.charAt(i),8).toString(2)
for(;3!==n.length;)n=`0${n}`
t.push(n)}for(n=t.join("");"0"===n.charAt(0);)n=n.slice(1)}else if(16===t){let t=[]
for(let i=0;i<e.length;i++){let n=parseInt(e.charAt(i),16).toString(2)
for(;4!==n.length;)n=`0${n}`
t.push(n)}n=t.join("")}let r=n.replace(/0/g,"a")
return r=(r=(r=r.replace(/1/g,"b")).replace(/a/g,"1")).replace(/b/g,"0"),r=this._wordLengthNumber<64?-1*(parseInt(r,2)+1):(r=i._getBigNumberFrom64BitBinOctHex(r,t)).add(1).negate()}_discardDecimalSeparator(e,t){if(void 0===t&&(t=this.decimalSeparator),"."!==t&&e!==1/0&&e!==-1/0){let i=new RegExp(t,"g")
return e.replace(i,".")}return e}_applyDecimalSeparator(e){const t=this
return"string"!=typeof e&&(e=e.toString()),"."!==t.decimalSeparator&&(e=e.replace(/\./g,t.decimalSeparator)),e}_renderValue(e,t){const i=this,n=e,r=10===i._radixNumber||!0===t
if(e=i._numericProcessor.render(e,r),"."!==i.decimalSeparator&&r&&(e=i._applyDecimalSeparator(e)),!0!==t&&(i._editableValue=e,i.outputFormatString&&10===i._radixNumber)){const e=(i.shadowRoot||i.getRootNode()).activeElement||document.activeElement,t=i._numberRenderer.formatNumber(n,i.outputFormatString)
if(e!==i.$.input)return t
i._formattedValue=t}return e}_setFocusable(){const e=this
e.disabled||e.unfocusable?e.$.input.tabIndex=-1:e.$.input.removeAttribute("tabindex")}_disableComponents(){const e=this
if(e.disabled)return
const t=e.value
null===t||"NaN"===t.toString()||Math.abs(t)===1/0?(e.$.upButton.disabled=!0,e.$.downButton.disabled=!0):(e.$.upButton.disabled=!1,e.$.downButton.disabled=!1)}_resizeHandler(){const e=this
e.opened&&e._closeRadix(!0)}})
var ce=Object.freeze({})
JQX("jqx-time-picker",class extends JQX.BaseElement{static get properties(){return{autoSwitchToMinutes:{value:!1,type:"boolean"},footer:{value:!1,type:"boolean"},footerTemplate:{value:null,type:"any?"},format:{value:"12-hour",allowedValues:["12-hour","24-hour"],type:"string"},minuteInterval:{value:1,type:"number"},name:{value:"",type:"string"},selection:{value:"hour",allowedValues:["hour","minute"],type:"string"},value:{value:new Date,type:"any",reflectToAttribute:!1},view:{value:"portrait",allowedValues:["landscape","portrait"],type:"string"}}}static get listeners(){return{keydown:"_keydownHandler",resize:"_resizeHandler","header.click":"_headerClickHandler","picker.down":"_pickerDownHandler","picker.move":"_pickerMoveHandler","document.move":"_documentMoveHandler","document.up":"_documentUpHandler"}}static get requires(){return{"JQX.Utilities.NumericProcessor":"jqxnumeric.js","JQX.Utilities.BigNumber":"jqxmath.js","JQX.Utilities.Draw":"jqxdraw.js"}}static get styleUrls(){return["jqx.timepicker.css"]}template(){return'<div id="container" role="presentation">\n                <div id="header" class="jqx-header jqx-unselectable" role="heading" aria-level="1">\n                    <div id="hourMinuteContainer" class="jqx-hour-minute-container">\n                        <div id="hourContainer" class="jqx-hour-container" role="button"></div>\n                        <div role="presentation">:</div>\n                        <div id="minuteContainer" class="jqx-minute-container" role="button"></div>\n                    </div>\n                    <div id="ampmContainer" class="jqx-am-pm-container" role="presentation">\n                        <div id="amContainer" class="jqx-am-container" role="button">AM</div>\n                        <div id="pmContainer" class="jqx-pm-container" role="button">PM</div>\n                    </div>\n                </div>\n                <div id="main" class="jqx-main-container">\n                    <div id="svgContainer" class="jqx-svg-container">\n                        <div id="picker" class="jqx-svg-picker" role="slider"></div>\n                    </div>\n                    <div id="footer" class="jqx-footer"></div>\n                </div>\n                <input id="hiddenInput" type="hidden" name="[[name]]">\n            </div>'}ready(){super.ready()}render(){this._createElement(),super.render()}setHours(e){const t=this;(e=24===e?0:Math.max(0,Math.min(e,23)))<12?t._selectAmPm("am"):t._selectAmPm("pm"),"12-hour"===t.format&&(0===e?e=12:e>12&&(e-=12)),t._updateHours(e,arguments[1]),"hour"===t.selection&&(t._inInnerCircle="24-hour"===t.format&&(0===e||e>12),t._drawArrow(!0,e,arguments[2]),t.hasAnimation||(t._inInnerCircle=!1))}setMinutes(e){const t=this
e=60===e?0:Math.max(0,Math.min(e,59)),t._updateMinutes(e),"minute"===t.selection&&t._drawArrow(!0,e,arguments[1])}propertyChangedHandler(e,t,i){super.propertyChangedHandler(e,t,i)
const n=this
switch(e){case"disabled":case"unfocusable":n._setFocusable()
break
case"footer":case"view":n._resizeHandler()
break
case"footerTemplate":n._validateFooterTemplate()
break
case"format":{let e=n.value.getHours()
"12-hour"===i?(n.$ampmContainer.removeClass("jqx-hidden"),n.value.getHours()<12?n._selectAmPm("am"):n._selectAmPm("pm"),0===e?e=12:e>12&&(e-=12)):n.$ampmContainer.addClass("jqx-hidden"),n.$.hourContainer.innerHTML=e,"hour"===n.selection&&(n.$.picker.setAttribute("aria-valuenow",e),n._draw.clear(),n._renderSVG())
break}case"minuteInterval":{const e=Math.max(1,Math.min(i,60))
e!==i&&(n.minuteInterval=e),"minute"===n.selection&&(n.interval=e)
break}case"selection":"hour"===i?n._changeToHourSelection():n._changeToMinuteSelection()
break
case"value":{n._oldValue=t,n._validateValue()
const e=n.value.getHours()===t.getHours(),i=n.value.getMinutes()===t.getMinutes()
e&&i||(i?n.setHours(n.value.getHours()):(e||n.setHours(n.value.getHours(),!0),n.setMinutes(n.value.getMinutes()))),delete n._oldValue
break}}}_applyInitialSettings(){const e=this,t=e.value
let i,n
i=t.getHours(),n=t.getMinutes(),"12-hour"===e.format?i<12?(e._ampm="am",e.$amContainer.addClass("jqx-selected"),0===i&&(i=12)):(e._ampm="pm",e.$pmContainer.addClass("jqx-selected"),i>12&&(i-=12)):e.$ampmContainer.addClass("jqx-hidden"),1===(n=n.toString()).length&&(n="0"+n),e.$.hourContainer.innerHTML=i,e.$.minuteContainer.innerHTML=n,"hour"===e.selection?(e.$hourContainer.addClass("jqx-selected"),e.$.picker.setAttribute("aria-valuenow",i)):(e.$minuteContainer.addClass("jqx-selected"),e.$.picker.setAttribute("aria-valuenow",n))}_changeSelection(e,t){const i=this,n=e.pageX,r=e.pageY,o=i._getCenterCoordinates(),a=Math.sqrt(Math.pow(o.x-n,2)+Math.pow(o.y-r,2))
if(i._measurements.center=o,"down"===e.type){if(a>i._measurements.radius)return void e.stopPropagation()
i._dragging=!0}"24-hour"===i.format&&"hour"===i.selection&&a<i._measurements.radius-50?i._inInnerCircle=!0:i._inInnerCircle=!1
let s=-1*Math.atan2(r-o.y,n-o.x)*180/Math.PI
s<0&&(s+=360),i._angle=s
let l=i._numericProcessor.getValueByAngle(i._angle)
"hour"===i.selection?("24-hour"===i.format&&i._inInnerCircle?0!==l&&12!==l?l+=12:l=0:0===l&&(l=12),i._updateHours(l)):(60===l&&(l=0),i._updateMinutes(l)),void 0!==i._oldTimePart&&(cancelAnimationFrame(i._animationFrameId),delete i._animationFrameId,i._drawArrow(!0,l,t))}_changeToHourSelection(){const e=this,t=e._centralCircle.parentElement||e._centralCircle.parentNode
let i=e.value.getHours()
cancelAnimationFrame(e._animationFrameId),delete e._animationFrameId,e.interval=1,e.$hourContainer.addClass("jqx-selected"),e.$minuteContainer.removeClass("jqx-selected"),t.removeChild(e._centralCircle),t.removeChild(e._arrow),t.removeChild(e._head),e._getMeasurements(),e._numericProcessor.getAngleRangeCoefficient(),e._draw.clear(),t.appendChild(e._centralCircle),t.appendChild(e._arrow),t.appendChild(e._head),e._renderHours(),"24-hour"===e.format&&(0===i||i>12)?e._inInnerCircle=!0:"12-hour"===e.format&&0===(i%=12)&&(i=12),e._drawArrow(!0,void 0,!0),e._inInnerCircle=!1,e.$.picker.firstElementChild.setAttribute("aria-hidden",!0),e.$.picker.setAttribute("aria-valuenow",i)}_changeToMinuteSelection(){const e=this._centralCircle.parentElement||this._centralCircle.parentNode
this._inInnerCircle=!1,cancelAnimationFrame(this._animationFrameId),delete this._animationFrameId,this.interval=this.minuteInterval,this.$hourContainer.removeClass("jqx-selected"),this.$minuteContainer.addClass("jqx-selected"),e.removeChild(this._centralCircle),e.removeChild(this._arrow),e.removeChild(this._head),this._getMeasurements(),this._numericProcessor.getAngleRangeCoefficient(),this._draw.clear(),e.appendChild(this._centralCircle),e.appendChild(this._arrow),e.appendChild(this._head),this._renderMinutes(),this._drawArrow(!0,void 0,!0),this.$.picker.firstElementChild.setAttribute("aria-hidden",!0),this.$.picker.setAttribute("aria-valuenow",this.value.getMinutes())}_computeArrowBodyPoints(e,t,i,n){const r=Math.sin(t),o=Math.cos(t),a=e-i*o+n*r,s=e+i*r+n*o,l=e+i*o+n*r,d=e-i*r+n*o,c="M "+(e+i*o)+","+(e-i*r)+" L "+(e-i*o)+","+(e+i*r)+" L "+a+","+s+" "+l+","+d
return this._headCenter={x:(a+l)/2,y:(s+d)/2},c}_createElement(){const e=this
e.setAttribute("role","dialog"),e.coerce=!0,e.min=0,e._drawMin="0",e.startAngle=-270,e.endAngle=90,e._angleDifference=e.endAngle-e.startAngle,e.ticksVisibility="none",e._tickIntervalHandler={},e._tickIntervalHandler.labelsSize={},e._distance={majorTickDistance:0,minorTickDistance:0,labelDistance:10},e._measurements={},e._validateInitialPropertyValues(),e._applyInitialSettings(),e._numericProcessor=new JQX.Utilities.DecimalNumericProcessor(e),e._draw=new JQX.Utilities.Draw(e.$.picker),e._isVisible()?(e._setPickerSize(),e._getMeasurements(),e._numericProcessor.getAngleRangeCoefficient(),e._renderSVG(),e._setFocusable(),e.$.hiddenInput.value=e.value,e.enableShadowDOM&&e.appendChild(e.$.hiddenInput)):e._renderingSuspended=!0}_documentMoveHandler(e){const t=this
t._dragging&&t._changeSelection(e,!0)}_documentUpHandler(){const e=this
e._dragging&&(e._inInnerCircle=!1,e._dragging=!1,e.autoSwitchToMinutes&&"hour"===e.selection&&(e.hasAnimation?function t(){e._animationFrameId?requestAnimationFrame(t):(e.$picker.addClass("animate"),setTimeout(function(){e.selection="minute",e._changeToMinuteSelection()},250),setTimeout(function(){e.$picker.removeClass("animate")},550))}():(e.selection="minute",e._changeToMinuteSelection())))}_drawArrow(e,t,i){const n=this,r="hour"===n.selection,o="12-hour"===n.format
let a,s,l=n._oldTimePart
if(delete n._oldTimePart,void 0===t&&(r?(t=n.value.getHours(),o&&t>12&&(t-=12)):t=n.value.getMinutes()),void 0===l||i||!n.hasAnimation)return void n._drawArrowSVG(e,t)
if(r&&!o)return void n._animate24HourView(l,t)
r?(a=.2,t%=s=12,l%=s):(a=1,s=60)
let d=t-l,c=l-t
d<0&&(d+=s),c<0&&(c+=s),c<d&&(a*=-1),function i(){l+=a,(l=parseFloat((l%s).toFixed(1)))<0&&(l+=s),n._drawArrowSVG(e,l),e=!0,l!==t%s?n._animationFrameId=requestAnimationFrame(i):delete n._animationFrameId}()}_animate24HourView(e,t){const i=this
let n=.2
i._inInnerCircle=!1
const r=0===e||e>12,o=0===t||t>12
if(r!==o){if(e=r?Math.abs(e-12):(e+12)%24,i._inInnerCircle=o,i._drawArrowSVG(!0,e),e===t)return}else i._inInnerCircle=o
let a=e,s=t
i._inInnerCircle&&(0===s&&a<18?s=12:0===a&&s<18&&(a=12))
let l=s-a,d=a-s
l<0&&(l+=12),d<0&&(d+=12),d<l&&(n*=-1),function r(o){i._inInnerCircle=o,o?((e=parseFloat((e+n).toFixed(1)))<0?e+=24:e<1&&(e+=12),12!==e&&24!==e||(e=0)):(12!==(e+=n)&&(e=parseFloat((e%12).toFixed(1))),e<=0&&(e+=12)),i._drawArrowSVG(!0,e),e!==t?i._animationFrameId=requestAnimationFrame(function(){r(o)}):(delete i._animationFrameId,i._inInnerCircle=!1)}(i._inInnerCircle)}_drawArrowSVG(e,t){const i=this,n=i._measurements,r=i._numericProcessor.getAngleByValue(t)
let o
o=i._inInnerCircle?i._computeArrowBodyPoints(n.radius,r,1,n.innerRadius-i._largestLabelSize/2-45):i._computeArrowBodyPoints(n.radius,r,1,n.innerRadius-i._largestLabelSize/2),e?(i._arrow.setAttribute("d",o),i._head.setAttribute("cx",i._headCenter.x),i._head.setAttribute("cy",i._headCenter.y),i._head.setAttribute("r",i._largestLabelSize),i._headRect=i._head.getBoundingClientRect(),t%1==0&&i._highlightLabel(t)):(i._arrow=i._draw.path(o,{class:"jqx-needle"}),i._head=i._draw.circle(i._headCenter.x,i._headCenter.y,i._largestLabelSize,{class:"jqx-needle-central-circle"}),i._headRect=i._head.getBoundingClientRect())}_drawLabel(e,t,i){const n=this,r=n._measurements,o=r.radius,a={class:"jqx-label jqx-unselectable","font-size":r.fontSize,"font-family":r.fontFamily,"font-weight":r.fontWeight,"font-style":r.fontStyle}
"hour"===n.selection?n._plotInnerCircle?t>0?t+=12:t="00":0===t&&(t=12):1===t.toString().length&&(t="0"+t)
const s=n._draw.measureText(t,0,a),l=o-i-n._largestLabelSize/2,d=o+l*Math.sin(e),c=o+l*Math.cos(e)
n._draw.text(t,Math.round(d)-s.width/2,Math.round(c)-s.height/2,s.width,s.height,0,a).setAttribute("value",parseFloat(t))}_getCenterCoordinates(){const e=this.$.picker.getBoundingClientRect(),t=this._measurements.radius,i=document.body.scrollLeft||document.documentElement.scrollLeft,n=document.body.scrollTop||document.documentElement.scrollTop
return{x:e.left+i+t,y:e.top+n+t}}_getMeasurements(){const e=this,t=e._measurements,i=document.createElement("div")
let n,r,o,a,s,l
i.className="jqx-label",i.style.position="absolute",i.style.visibility="hidden",e.$.svgContainer.appendChild(i),"hour"===e.selection?(n="1",r="23",e.max=12,e._drawMax="12",e._range=12):(n="00",r="55",e.max=60,e._drawMax="60",e._range=60),i.innerHTML=n,o=i.offsetWidth,s=i.offsetHeight,i.innerHTML=r,a=i.offsetWidth,l=i.offsetHeight,e._largestLabelSize=Math.max(o,s,a,l),e._tickIntervalHandler.labelsSize.minLabelSize=s,e._tickIntervalHandler.labelsSize.maxLabelSize=l
const d=window.getComputedStyle(i)
t.fontSize=d.fontSize,t.fontFamily=d.fontFamily,t.fontWeight=d.fontWeight,t.fontStyle=d.fontStyle,e.$.svgContainer.removeChild(i)}_headerClickHandler(e){const t=this
if(!t.disabled&&!t.readonly)switch(e.target){case t.$.hourContainer:"hour"!==t.selection&&(t.selection="hour",t._changeToHourSelection())
break
case t.$.minuteContainer:"minute"!==t.selection&&(t.selection="minute",t._changeToMinuteSelection())
break
case t.$.amContainer:if(!t.$amContainer.hasClass("jqx-selected")){t._selectAmPm("am")
const e=new Date(t.value.getTime())
t.value.setHours(t.value.getHours()-12),t.$.hiddenInput.value=t.value,t.$.fireEvent("change",{value:t.value,oldValue:e})}break
case t.$.pmContainer:if(!t.$pmContainer.hasClass("jqx-selected")){t._selectAmPm("pm")
const e=new Date(t.value.getTime())
t.value.setHours(t.value.getHours()+12),t.$.hiddenInput.value=t.value,t.$.fireEvent("change",{value:t.value,oldValue:e})}}}_highlightLabel(e){const t=this
if(t._highlightedLabel){if(parseFloat(t._highlightedLabel.getAttribute("value"))===e)return
t._highlightedLabel.classList.remove("jqx-selected"),t._highlightedLabel=void 0}let i
"hour"===t.selection?(void 0===e&&(e=t.value.getHours()),"12-hour"===t.format&&(0===e?e=12:e>12&&(e-=12)),i=e):(void 0===e&&(e=t.value.getMinutes()),60===(i=5*Math.round(e/5))&&(i=0))
const n=t.$.picker.querySelector('.jqx-label[value="'+i+'"]')
n&&(i===e||t._overlapsLabel(n))&&(t._highlightedLabel=n,n.classList.add("jqx-selected"))}_isVisible(){return!!(this.offsetWidth||this.offsetHeight||this.getClientRects().length)}_keydownHandler(e){const t=this
if(t._dragging)return
const i=(t.shadowRoot||t.getRootNode()).activeElement,n=e.key
if(!t.$.header.contains(i)||"Enter"!==n&&" "!==n){if(i===t.$.picker&&!e.altKey){let i
if("ArrowRight"===n||"ArrowUp"===n?i=1:"ArrowLeft"!==n&&"ArrowDown"!==n||(i=-1),i)if(e.preventDefault(),"hour"===t.selection){let e=t.value.getHours()
0===e&&-1===i?e=23:23===e&&1===i?e=0:e+=i,"12-hour"===t.format&&(e>=12&&t.$amContainer.hasClass("jqx-selected")?e-=12:e<12&&t.$pmContainer.hasClass("jqx-selected")&&(e+=12)),t.setHours(e,void 0,!0)}else{let e=t.value.getMinutes()
e+(i*=t.minuteInterval)>=60?e=0:e<-1*i?e=60%i==0?60+i:60-60%i:e+=i,t.setMinutes(e,!0)}}}else e.preventDefault(),t._headerClickHandler({target:i})}_overlapsLabel(e){const t=this,i=e.getBoundingClientRect()
let n=t._headRect
return 0===n.height&&(n=t._headRect=t._head.getBoundingClientRect()),!(i.right-10<n.left||i.left+10>n.right||i.bottom-10<n.top||i.top+10>n.bottom)}_parseDateString(e,t){const i=e.indexOf("Date("),n=e.indexOf(")")
let r=e
if(-1!==i&&-1!==n){if(""===(r=(r=e.slice(i+5,n)).replace(/'/g,"").replace(/"/g,"").replace(/^\s+|\s+$|\s+(?=\s)/g,"")).trim())return new Date
if(new RegExp(/(^(\d+)(\s*,\s*\d+)+$)/g).test(r))return(r=(r=r.replace(/\s/g,"")).split(",")).map(function(e,t){r[t]=parseInt(e)}),r.unshift(null),r=new(Function.prototype.bind.apply(Date,r))}if(""===r.trim())return t
if(!isNaN(r))return new Date(parseInt(r,10))
try{r=new Date(r)}catch(e){r=t}return isNaN(r.getTime())?t:r}_pickerDownHandler(e){this.disabled||this.readonly||!JQX.Utilities.Core.isMobile&&1!==e.which||this._changeSelection(e)}_pickerMoveHandler(e){"touchmove"===e.originalEvent.type&&e.originalEvent.preventDefault()}_renderHours(){const e=this
e._highlightedLabel=void 0,e._majorTicksInterval=1,e._numericProcessor.addGaugeTicksAndLabels(),"24-hour"===e.format?(e._plotInnerCircle=!0,e._distance.labelDistance=55,e._numericProcessor.addGaugeTicksAndLabels(),e._plotInnerCircle=!1,e._distance.labelDistance=10,e.$.picker.setAttribute("aria-valuemin",0),e.$.picker.setAttribute("aria-valuemax",23)):(e.$.picker.setAttribute("aria-valuemin",1),e.$.picker.setAttribute("aria-valuemax",12))}_renderMinutes(){this._highlightedLabel=void 0,this._majorTicksInterval=5,this._numericProcessor.addGaugeTicksAndLabels(),this.$.picker.setAttribute("aria-valuemin",0),this.$.picker.setAttribute("aria-valuemax",59)}_renderSVG(){const e=this
if(e._isVisible()&&!e._renderingSuspended){if(e._centralCircle=e._draw.circle(e._measurements.radius,e._measurements.radius,4,{class:"jqx-needle-central-circle"}),"hour"===e.selection&&"24-hour"===e.format&&(0===e.value.getHours()||e.value.getHours()>12)&&(e._inInnerCircle=!0),e._drawArrow(!1),e._inInnerCircle=!1,"hour"===e.selection){e.interval=1,e._renderHours()
let t=e.value.getHours()
"12-hour"===e.format&&t>12&&(t-=12),e._highlightLabel(t)}else e.interval=e.minuteInterval,e._renderMinutes(),e._highlightLabel(e.value.getMinutes())
e.$.picker.firstElementChild.setAttribute("aria-hidden",!0)}else e._renderingSuspended=!0}_resizeHandler(){const e=this
let t=!1
e.isRendered&&(e._isVisible()?(e._renderingSuspended=!1,t=!0,e._getMeasurements(),e._numericProcessor.getAngleRangeCoefficient(),e._setPickerSize(),e._sizeChanged||t?(e._draw.clear(),e._renderSVG(),e._sizeChanged=!1):(e._headRect=e._head.getBoundingClientRect(),e._highlightLabel())):e._renderingSuspended=!0)}_selectAmPm(e){const t=this
"am"===e?(t._ampm="am",t.$pmContainer.removeClass("jqx-selected"),t.$amContainer.addClass("jqx-selected")):(t._ampm="pm",t.$amContainer.removeClass("jqx-selected"),t.$pmContainer.addClass("jqx-selected"))}_setFocusable(){const e=this
if(e.disabled||e.unfocusable)return e.$.hourContainer.removeAttribute("tabindex"),e.$.minuteContainer.removeAttribute("tabindex"),e.$.amContainer.removeAttribute("tabindex"),e.$.pmContainer.removeAttribute("tabindex"),void e.$.picker.removeAttribute("tabindex")
const t=e.tabIndex>0?e.tabIndex:0
e.$.hourContainer.tabIndex=t,e.$.minuteContainer.tabIndex=t,e.$.amContainer.tabIndex=t,e.$.pmContainer.tabIndex=t,e.$.picker.tabIndex=t}_setPickerSize(){const e=this,t=e.$.svgContainer.offsetWidth,i=e.$.svgContainer.offsetHeight
let n=.9*Math.min(t,i)
void 0!==e._pickerSize&&e._pickerSize!==n?e._sizeChanged=!0:e._sizeChanged=!1,e._pickerSize=n,e._measurements.radius=n/2,e._measurements.innerRadius=e._measurements.radius-10,n+="px",e.$.picker.style.width=n,e.$.picker.style.height=n}_updateHours(e,t){const i=this
let n=e
"12-hour"===i.format?"am"===i._ampm?12===n&&(n=0):n<12&&(n+=12):n=e
const r=void 0!==i._oldValue?i._oldValue:new Date(i.value.getTime()),o=r.getHours()
n!==o?(i._oldTimePart=o,void 0===i._oldValue&&i.value.setHours(n),i.$.hourContainer.innerHTML=e,!0!==t&&(i.$.hiddenInput.value=i.value,i.$.fireEvent("change",{value:i.value,oldValue:r})),"hour"===i.selection&&i.$.picker.setAttribute("aria-valuenow",e)):delete i._oldTimePart}_updateMinutes(e){const t=this,i=void 0!==t._oldValue?t._oldValue:new Date(t.value.getTime()),n=i.getMinutes()
e!==n?(t._oldTimePart=n,void 0===t._oldValue&&t.value.setMinutes(e),"minute"===t.selection&&t.$.picker.setAttribute("aria-valuenow",e),1===(e=e.toString()).length&&(e="0"+e),t.$.minuteContainer.innerHTML=e,t.$.hiddenInput.value=t.value,t.$.fireEvent("change",{value:t.value,oldValue:i})):delete t._oldTimePart}_validateFooterTemplate(){const e=this,t=e.footerTemplate
if(null===t)return void(e.$.footer.innerHTML="")
let i
if(t instanceof HTMLTemplateElement?i=t:"string"==typeof t&&((i=document.getElementById(t))instanceof HTMLTemplateElement||(i=void 0)),void 0===i)return e.footerTemplate=null,void(e.$.footer.innerHTML="")
const n=document.importNode(i.content,!0)
if(e.enableShadowDOM)return e.$.footer.innerHTML="<slot></slot>",void e.appendChild(n)
e.$.footer.appendChild(n)}_validateInitialPropertyValues(){this._validateFooterTemplate(),this.minuteInterval=Math.max(1,Math.min(this.minuteInterval,60)),this._validateValue()}_validateValue(){const e=this,t=e.value,i=void 0!==e._oldValue?this._oldValue:new Date
if(!(t instanceof Date))if("string"==typeof t){if(/^\d{1,2}:\d{1,2}$/.test(t)){const n=t.split(":")
return void(e.value=new Date(i.getFullYear(),i.getMonth(),i.getDate(),parseFloat(n[0]),parseFloat(n[1])))}e.value=e._parseDateString(t,i)}else e.value=i}})
var he=Object.freeze({})
JQX("jqx-base-progress-bar",class extends JQX.BaseElement{static get properties(){return{indeterminate:{value:!1,type:"boolean"},inverted:{value:!1,type:"boolean"},formatFunction:{value:null,type:"function"},max:{value:100,type:"number"},min:{value:0,type:"number"},showProgressValue:{value:!1,type:"boolean"},value:{value:0,type:"number?"}}}static get styleUrls(){return["jqx.progressbar.css"]}render(){const e=this
e.$.label.id||(e.$.label.id=e.id+"Label"),e.setAttribute("role","progressbar"),e.setAttribute("aria-labelledby",e.$.label.id),e.setAttribute("aria-valuemin",e.min),e.setAttribute("aria-valuemax",e.max),null===e.value||e.indeterminate||(e.$.value.style.transition="none"),e._updateProgress(),requestAnimationFrame(()=>e.$.value.style.transition=""),super.render()}propertyChangedHandler(e,t,i){super.propertyChangedHandler(e,t,i)
const n=this
n._updateProgress(),"value"===e?n.$.fireEvent("change",{value:i,oldValue:t,changeType:"api"}):"min"!==e&&"max"!==e||n.setAttribute("aria-value"+e,i)}_updateProgress(){const e=this,t=e.value
null===t||e.indeterminate?e.removeAttribute("aria-valuenow"):e.setAttribute("aria-valuenow",t)}get _percentageValue(){const e=Math.max(this.min,this.max),t=Math.min(this.min,this.max)
return(Math.min(e,Math.max(t,this.value))-t)/(e-t)}}),JQX("jqx-circular-progress-bar",class extends JQX.BaseProgressBar{template(){return'<div id="container" role="presentation">\n                    <svg width="100%" height="100%" viewPort="0 0 100 100" viewBox="0 0 100 100" role="presentation" aria-hidden="true">\n                        <circle id="value" class="jqx-value-path" r="50" cx="50" cy="50" transform="rotate(270 50 50)"></circle>\n                        <circle id="value" class="jqx-value" r="50" cx="50" cy="50" transform="rotate(270 50 50)"></circle>\n                    </svg>\n                    <div class="jqx-label-container" role="presentation">\n                        <content></content>\n                        <span id="label" class="jqx-label"></span>\n                    </div>\n                </div>'}static get listeners(){return{resize:"_resizeHandler"}}render(){const e=this
e.$.container.style.width=e.$.container.style.height=Math.min(e.offsetWidth,e.offsetHeight)+"px",e.$.hasClass("echo-animation")&&(e.value=e.max,e._updateProgress()),super.render()}_resizeHandler(){this.$.container.style.width=this.$.container.style.height=Math.min(this.offsetWidth,this.offsetHeight)+"px"}_updateProgress(){super._updateProgress()
const e=this,t=e.indeterminate?100*Math.PI:100*Math.PI-e._percentageValue*Math.PI*100,i=!!document.documentMode,n=!i&&!!window.StyleMedia
if(e.showProgressValue){const t=parseInt(100*e._percentageValue)
e.$.label.innerHTML=e.formatFunction?e.formatFunction(t):t+"%"}else e.$.label.innerHTML=""
if(i||n)return null===e.value||e.indeterminate?(e.$.value.style.strokeDashoffset="",void e.$.value.setAttribute("class","jqx-value jqx-value-animation-ms")):(e.$.value.setAttribute("class","jqx-value"),void(e.$.value.style.strokeDashoffset=e.inverted&&!e.rightToLeft||!e.inverted&&e.rightToLeft?-t:t))
e.$.value.style.strokeDashoffset=e.inverted&&!e.rightToLeft||!e.inverted&&e.rightToLeft?-t:t,null===e.value||e.indeterminate?e.$value.addClass("jqx-value-animation"):e.$value.removeClass("jqx-value-animation")}}),JQX("jqx-progress-bar",class extends JQX.BaseProgressBar{static get properties(){return{orientation:{value:"horizontal",allowedValues:["horizontal","vertical"],type:"string"}}}template(){return'<div role="presentation">\n                    <div id="value" class="jqx-value"></div>\n                    <div id="label" class="jqx-label"></div>\n                </div>'}_updateProgress(){super._updateProgress()
const e=this
if(e.showProgressValue){const t=parseInt(100*e._percentageValue)
e.$.label.innerHTML=e.formatFunction?e.formatFunction(t):t+"%"}else e.$.label.innerHTML=""
null===e.value||e.indeterminate?e.$value.addClass("jqx-value-animation"):e.$value.removeClass("jqx-value-animation"),e.$.value.style.transform="horizontal"===e.orientation?"scaleX("+e._percentageValue+")":"scaleY("+e._percentageValue+")"}})
var ue=Object.freeze({})
JQX("jqx-tooltip",class extends JQX.ContentElement{static get properties(){return{arrow:{value:!1,type:"boolean"},arrowDirection:{allowedValues:["bottom","top","left","right"],value:"bottom",type:"string"},delay:{value:0,type:"number"},messages:{extend:!0,value:{en:{invalidSelector:'{{elementType}}: "{{property}}" must be a String, an HTMLElement or null.',htmlTemplateNotSuported:"{{elementType}}: Browser doesn't support HTMLTemplate elements.",invalidTemplate:'{{elementType}}: "{{property}}" property accepts a string that must match the id of an HTMLTemplate element from the DOM.',invalidNode:'{{elementType}}: Invalid parameter "{{node}}" when calling {{method}}.'}},type:"object"},offset:{value:[],type:"array"},openMode:{allowedValues:["click","focus","hover","manual"],value:"hover",type:"string"},position:{allowedValues:["bottom","top","left","right","absolute","auto"],value:"top",type:"string"},selector:{value:null,type:"any?"},tooltipTemplate:{value:null,type:"any"},value:{value:"",type:"string",reflectToAttribute:!1},visible:{value:!1,type:"boolean"}}}static get styleUrls(){return["jqx.tooltip.css"]}template(){return'<div id="container" role="presentation">\n                    <div id="content" class="jqx-tooltip-content" inner-h-t-m-l="[[innerHTML]]" role="presentation">\n                        <content></content>\n                    </div>\n                </div>'}propertyChangedHandler(e,t,i){super.propertyChangedHandler(e,t,i)
const n=this
let r
switch(e){case"openMode":n.close(),n._handleEventListeners(t),n._handleResize()
break
case"selector":n._oldOwnerElement=n._ownerElement,n._handleSelector(i),n._handleEventListeners()
break
case"tooltipTemplate":n._handleTemplate(t)
break
case"value":n.tooltipTemplate?n._handleTemplate():n.$.content.innerHTML=n.value
break
case"visible":r=i?"open":"close",n.$.fireEvent(r,{owner:n._ownerElement},n.isInShadowDOM?{composed:!0,bubbles:!0,cancelable:!0}:void 0)}n._applyPosition()}ready(){const e=this
super.ready(),e.setAttribute("role","tooltip"),e._isParentPositionStatic="static"===window.getComputedStyle(e.parentElement||document.querySelector("body")).position,e._handleSelector(e.selector),e.visible&&e._applyPosition(),e._handleEventListeners(),e._handleResize(),e.value=e.$.content.innerHTML=e.value?e.value:e.innerHTML,e._handleTemplate()}appendChild(e){const t=this
if(!t.isCompleted){const e=Array.prototype.slice.call(arguments,2)
return HTMLElement.prototype.appendChild.apply(t,e.concat(Array.prototype.slice.call(arguments)))}e?(t.$.content.appendChild(e),t._applyPosition()):t.error(t.localize("invalidNode",{elementType:t.nodeName.toLowerCase(),method:"appendChild",node:"node"}))}close(){const e=this
e._isOpening&&clearTimeout(e._isOpening),e.visible&&(e.$.fireEvent("close",{owner:e._ownerElement},e.isInShadowDOM?{composed:!0,bubbles:!0,cancelable:!0}:void 0),e.visible=!1)}insertBefore(e,t){const i=this
if(!i.isCompleted){const e=Array.prototype.slice.call(arguments,2)
return HTMLElement.prototype.insertBefore.apply(i,e.concat(Array.prototype.slice.call(arguments)))}e&&t?(i.$.content.insertBefore(e,t),i._applyPosition()):i.error(i.localize("invalidNode",{elementType:i.nodeName.toLowerCase(),method:"insertBefore",node:"newNode/referenceNode"}))}open(){const e=this
e.disabled||e.readonly||e.visible||(e._isOpening=setTimeout(function(){e._applyPosition(),e.$.fireEvent("open",{owner:e._ownerElement},e.isInShadowDOM?{composed:!0,bubbles:!0,cancelable:!0}:void 0)
const t=e.context
e.context=e,e.visible=!0,e.context=t},e.delay))}removeChild(e){const t=this
if(!t.isCompleted){const e=Array.prototype.slice.call(arguments,2)
return HTMLElement.prototype.insertBefore.apply(t,e.concat(Array.prototype.slice.call(arguments)))}e?(t.$.content.removeChild(e),t._applyPosition()):t.error(t.localize("invalidNode",{elementType:t.nodeName.toLowerCase(),method:"removeChild",node:"node"}))}toggle(){this.visible?this.close():this.open()}_getDomElementPosition(e){let t=[],i=e.parentElement
for(;i&&"BODY"!==i.nodeName;)t.push(i),i=!this.enableShadowDOM||i.parentElement?i.parentElement:i.getRootNode().host
return t}_getElementAndOwnerRelation(e){const t=this._getDomElementPosition(e||this),i=t.length
let n=null
for(let e=0;e<i;e++){if("static"!==window.getComputedStyle(t[e]).getPropertyValue("position")){n=t[e]
break}}return n}_applyPosition(){const e=this
if(!e._ownerElement)return
if(!e.parentElement)return
e._isParentPositionStatic="static"===window.getComputedStyle(e.parentElement).position
const t=e._ownerElement.getBoundingClientRect(),i=e.parentElement?e.parentElement.getBoundingClientRect():{top:0,left:0}
let n,r
e.parentElement&&"BODY"===e.parentElement.nodeName.toUpperCase()?(n=t.top+window.scrollY,r=t.left+window.scrollX):(n=t.top-i.top,r=t.left-i.left)
const o={top:t.top,left:t.left,nonStaticParent:e._getElementAndOwnerRelation()},a=e.position
let s
switch(a){case"auto":case"bottom":case"top":case"left":case"right":{const t=e["_position"+a.charAt(0).toUpperCase()+a.slice(1)](r,n,o)
n=t.top,r=t.left,s=t.translate
break}case"absolute":e.style.top=e.style.left="",n=r=0}s?e.$.container.style.setProperty("--jqx-tooltip-arrow-translate",s+"px"):e.$.container.style.removeProperty("--jqx-tooltip-arrow-translate"),void 0===n||isNaN(n)||(n+=parseInt(e.offset[1])||0,e.style.top=n+"px"),void 0===r||isNaN(r)||(r+=parseInt(e.offset[0])||0,e.style.left=r+"px")}_positionAuto(e,t,i){const n=this
let r,o=n.parentElement
for(;o;){if("hidden"===getComputedStyle(o).getPropertyValue("overflow")){r=o
break}o=o.parentElement}r||(r=document.body)
const a=r.getBoundingClientRect(),s=parseFloat(window.getComputedStyle(n).getPropertyValue("--jqx-tooltip-arrow-width"))||0
let l=n._positionTop(e,t,i),d=i.nonStaticParent,c=n.offsetWidth/2-s,h=0,u=0
if(d){const e=d.getBoundingClientRect()
h=e.top,u=e.left}return l.top+h>=a.top?(t=l.top,{left:e=Math.max(a.left-u,l.left+Math.min(0,a.right-(l.left+u+n.offsetWidth))),top:t,translate:Math.max(-c,Math.min(c,l.left-e))}):(l=n._positionBottom(e,t,i)).top+n.offsetHeight+h<=a.bottom?(t=l.top,{left:e=Math.max(a.left-u,l.left+Math.min(0,a.right-(l.left+u+n.offsetWidth))),top:t,translate:Math.max(-c,Math.min(c,l.left-e))}):(t=(l=n._positionLeft(e,t,i)).top,c=n.offsetHeight/2-s,t=Math.max(a.top-h,l.top+Math.min(0,a.bottom-(l.top+h+n.offsetHeight))),{left:e=l.left+u>=a.left?l.left:(l=n._positionRight(e,t,i)).left,top:t,translate:Math.max(-c,Math.min(c,l.top-t))})}_getRelativeParentOffset(e){const t=this,i=t._ownerElement
let n=t._getElementAndOwnerRelation(i),r=0,o=0
if(!e)return{left:o,top:r}
for(;e!==n;)r+=n.offsetTop,o+=n.offsetLeft,n=t._getElementAndOwnerRelation(n)
return{left:o,top:r}}_positionTop(e,t,i){const n=this,r=n._getRelativeParentOffset(i.nonStaticParent)
if(n.set("arrowDirection","bottom"),null===i.nonStaticParent)return t=i.top+window.scrollY-n.offsetHeight,{left:(e=i.left+window.scrollX-n.offsetWidth/2+n._ownerElement.offsetWidth/2)+r.left,top:t+r.top}
if(n._isParentPositionStatic){if(t=n._ownerElement.offsetTop-n.offsetHeight,e=n._ownerElement.offsetLeft-n.offsetWidth/2+n._ownerElement.offsetWidth/2,n._ownerElement instanceof SVGElement){const i=n._ownerElement.getBoundingClientRect(),r=n._ownerElement.parentNode.getBoundingClientRect()
t=i.top-r.top-n.offsetHeight/2,e=i.left-n.offsetWidth/2+r.left/2}return{left:e+r.left,top:t+r.top}}if(n._ownerElement instanceof SVGElement&&n._ownerElement.parentElement){const i=n._ownerElement.getBoundingClientRect(),o=n._ownerElement.parentNode.getBoundingClientRect()
return t=i.top-o.top-n.offsetHeight,{left:(e=i.left-o.left-n.offsetWidth/2+i.width/2)+r.left,top:t+r.top}}return t-=n.offsetHeight,{left:(e=e-n.offsetWidth/2+n._ownerElement.offsetWidth/2)+r.left,top:t+r.top}}_positionBottom(e,t,i){const n=this,r=n._getRelativeParentOffset(i.nonStaticParent)
return n.set("arrowDirection","top"),null===i.nonStaticParent?(t=i.top+window.scrollY+n._ownerElement.offsetHeight,{left:(e=i.left+window.scrollX-n.offsetWidth/2+n._ownerElement.offsetWidth/2)+r.left,top:t+r.top}):n._isParentPositionStatic?(t=n._ownerElement.offsetTop+n._ownerElement.offsetHeight,{left:(e=n._ownerElement.offsetLeft-n.offsetWidth/2+n._ownerElement.offsetWidth/2)+r.left,top:t+r.top}):(t+=n._ownerElement.offsetHeight,{left:(e=e-n.offsetWidth/2+n._ownerElement.offsetWidth/2)+r.left,top:t+r.top})}_positionLeft(e,t,i){const n=this,r=n._getRelativeParentOffset(i.nonStaticParent)
return n.set("arrowDirection","right"),null===i.nonStaticParent?(t=i.top+window.scrollY+n._ownerElement.offsetHeight/2-n.$.content.offsetHeight/2,{left:(e=i.left+window.scrollX-n.offsetWidth)+r.left,top:t+r.top}):n._isParentPositionStatic?(t=n._ownerElement.offsetTop+n._ownerElement.offsetHeight/2-n.$.content.offsetHeight/2,{left:(e=n._ownerElement.offsetLeft-n.offsetWidth)+r.left,top:t+r.top}):(t=t+n._ownerElement.offsetHeight/2-n.$.content.offsetHeight/2,{left:(e-=n.offsetWidth)+r.left,top:t+r.top})}_positionRight(e,t,i){const n=this,r=n._getRelativeParentOffset(i.nonStaticParent)
return n.set("arrowDirection","left"),null===i.nonStaticParent?(t=i.top+window.scrollY+n._ownerElement.offsetHeight/2-n.$.content.offsetHeight/2,{left:(e=i.left+window.scrollX+n._ownerElement.offsetWidth)+r.left,top:t+r.top}):n._isParentPositionStatic?(t=n._ownerElement.offsetTop+n._ownerElement.offsetHeight/2-n.$.content.offsetHeight/2,{left:(e=n._ownerElement.offsetLeft+n._ownerElement.offsetWidth)+r.left,top:t+r.top}):(t=t+n._ownerElement.offsetHeight/2-n.$.content.offsetHeight/2,{left:(e+=n._ownerElement.offsetWidth)+r.left,top:t+r.top})}_eventsHandler(e){const t=this
t.disabled||t.readonly||("click"!==e.type?"mouseenter"===e.type||"focus"===e.type?this.open():this.close():t.visible?this.close():this.open())}_handleEventListeners(e){const t=this
if(t._oldOwnerElement&&"manual"!==t.openMode){let e=t._oldOwnerElement.getAttribute("aria-describedby")
e&&(e===t.id?t._oldOwnerElement.removeAttribute("aria-describedby"):(e=(e=e.replace(" "+t.id,"")).replace(t.id+" ",""),t._oldOwnerElement.setAttribute("aria-describedby",e))),t._oldOwnerElement.$.unlisten("mouseenter.tooltip"),t._oldOwnerElement.$.unlisten("mouseleave.tooltip"),t._oldOwnerElement.$.unlisten("focus.tooltip"),t._oldOwnerElement.$.unlisten("blur.tooltip"),t._oldOwnerElement.$.unlisten("click.tooltip"),t._oldOwnerElement=null}if(t._ownerElement){if(e)switch(e){case"hover":t._ownerElement.$.unlisten("mouseenter.tooltip"),t._ownerElement.$.unlisten("mouseleave.tooltip")
break
case"focus":t._ownerElement.$.unlisten("focus.tooltip"),t._ownerElement.$.unlisten("blur.tooltip")
break
case"click":t._ownerElement.$.unlisten("click.tooltip")}if("manual"!==t.openMode)switch(t._ownerElement instanceof JQX.BaseElement||(t._ownerElement.$=JQX.Utilities.Extend(t._ownerElement)),t.openMode){case"hover":t._ownerElement.$.listen("mouseenter.tooltip",t._eventsHandler.bind(t)),t._ownerElement.$.listen("mouseleave.tooltip",t._eventsHandler.bind(t))
break
case"focus":t._ownerElement.$.listen("focus.tooltip",t._eventsHandler.bind(t)),t._ownerElement.$.listen("blur.tooltip",t._eventsHandler.bind(t))
break
case"click":t._ownerElement.$.listen("click.tooltip",t._eventsHandler.bind(t))}}}_handleResize(){const e=this
function t(){e._applyPosition()}"click"===e.openMode?window.addEventListener("resize",t):window.removeEventListener("resize",t)}_handleSelector(e){const t=this
if("string"==typeof e)t._ownerElement=e.length>0?document.getElementById(e):void 0
else if(e instanceof HTMLElement||e instanceof SVGElement)t._ownerElement=e
else{if(null===e)return void(t._ownerElement=void 0)
t.error(t.localize("invalidSelector",{elementType:t.nodeName.toLowerCase(),property:"selector"}))}const i=t._ownerElement?t._ownerElement.getAttribute("aria-describedby"):null
t._ownerElement&&(i?t._ownerElement.setAttribute("aria-describedby",i+" "+t.id):t._ownerElement.setAttribute("aria-describedby",t.id))}_handleTemplate(e){const t=this
let i=t.tooltipTemplate
if(e&&(t.$.content.innerHTML=t.value?t.value:""),null===i||!i)return
if("function"==typeof t.tooltipTemplate)return void t.tooltipTemplate(t.$.content,{value:t.value})
if(!("content"in document.createElement("template")))return void t.error(t.localize("htmlTemplateNotSuported",{elementType:t.nodeName.toLowerCase()}))
if(null===(i=document.getElementById(i))||!("content"in i))return void t.error(t.localize("invalidTemplate",{elementType:t.nodeName.toLowerCase(),property:"template"}))
const n=i.content,r=n.childNodes.length,o=/{{\w+}}/g
let a,s=[]
for(let e=0;e<r;e++)for(a=o.exec(n.childNodes[e].innerHTML);a;)s.push({childNodeIndex:e,bindingString:a[0]}),a=o.exec(n.childNodes[e].innerHTML)
const l=s.length
let d,c,h=document.importNode(i.content,!0)
for(let e=0;e<l;e++){d=h.childNodes[s[e].childNodeIndex],c=s.length
for(let i=0;i<c;i++)d.innerHTML=d.innerHTML.replace(s[e].bindingString,t.value)}t.$.content.innerHTML=""
for(let e=0;e<h.childNodes.length;e++)h.childNodes[e].outerHTML&&(t.$.content.innerHTML+=h.childNodes[e].outerHTML)}})
var pe=Object.freeze({})
JQX("jqx-path",class extends JQX.BaseElement{static get properties(){return{value:{value:"",type:"string"},hint:{value:"",type:"string"},label:{value:"",type:"string"},dataSource:{value:[{label:"notAPath"},{label:"validPath"}],type:"any",reflectToAttribute:!1},dropDownAppendTo:{value:null,type:"any"},dropDownPosition:{allowedValues:["auto","top","bottom","overlay-top","overlay-center","overlay-bottom","center-bottom","center-top"],value:"auto",type:"string"},dropDownMinHeight:{value:"",type:"any",validator:"_propertyValidator"},dropDownHeight:{value:"",type:"any",validator:"_propertyValidator"},dropDownMaxHeight:{value:"",type:"any",validator:"_propertyValidator"},dropDownMinWidth:{value:"",type:"any",validator:"_propertyValidator"},dropDownWidth:{value:"",type:"any",validator:"_propertyValidator"},dropDownMaxWidth:{value:"",type:"any",validator:"_propertyValidator"},dropDownOverlay:{value:!1,type:"boolean"},messages:{extend:!0,value:{en:{incorrectArgument:"{{elementType}}: Incorrect argument {{argumentName}} in method {{methodName}}.",missingReference:"{{elementType}}: Missing reference to {{file}} in method {{methodName}}.",notAPath:"Set to not a path",validPath:"Set to valid path"}},type:"object"},name:{value:"",type:"string"},opened:{value:!1,type:"boolean"},placeholder:{value:"Enter a path",type:"string"},pathFormat:{allowedValues:["windows","unix"],value:"windows",type:"string"},indicator:{value:!1,type:"boolean"},displayMember:{value:"",type:"string"},valueMember:{value:"",type:"string"},wrap:{value:!1,type:"boolean"}}}template(){return'<div id="container" role="presentation">\n                    <span class="jqx-label" id="label">[[label]]</span>\n                    <div id="content" class="jqx-content" role="presentation">\n                        <div class="jqx-buttons-container" id="buttonsContainer" role="presentation">\n                            <span id="dropDownButton" class="jqx-drop-down-button" role="button" aria-label="Open popup">\n                                <span id="icon" aria-hidden="true"></span>\n                            </span>\n                            <div id="inputContainer" class="jqx-path-input-container" role="presentation">\n                                <div id="pathWrapper" class="jqx-path-input-wrapper" role="presentation"></div>\n                                <input id="input" autocomplete="off" spellcheck="false" type="text" name="[[name]]" class="jqx-input jqx-path-input" role="textbox" aria-autocomplete="none" aria-label="[[placeholder]]" />\n                                <div class="jqx-path-multiline-container jqx-hidden" id="multilineContainer" role="presentation">\n                                    <div id="multiline" contenteditable="true" spellcheck="false" class="jqx-input jqx-path-input" role="textbox" aria-autocomplete="none" aria-label="[[placeholder]]"></div>\n                                </div>\n                            </div>\n                            <span id="browseButton" class="jqx-browse-button" role="button" aria-label="Browse">\n                                <span id="icon" aria-hidden="true"></span>\n                            </span>\n                        </div>\n                        <div id="dropDownContainer" class="jqx-drop-down jqx-drop-down-container jqx-visibility-hidden" role="listbox"></div>\n                    </div>\n                    <span class="jqx-hint" id="hint">[[hint]]</span>\n                </div>'}static get listeners(){return{"inputContainer.change":"_inputChangeHandler","inputContainer.keydown":"_inputKeyDownHandler","inputContainer.keyup":"_inputKeyUpHandler","document.down":"_documentDownHandler","document.up":"_documentUpHandler","container.mouseover":"_mouseOverEventHandler","container.mouseout":"_mouseOverEventHandler","dropDownContainer.mouseover":"_mouseOverEventHandler","dropDownContainer.mouseout":"_mouseOverEventHandler","inputContainer.focusin":"_focusHandler","inputContainer.focusout":"_focusHandler",resize:"_resizeHandler",styleChanged:"_styleChangedHandler"}}static get styleUrls(){return["jqx.dropdown.css","jqx.path.css"]}propertyChangedHandler(e,t,i){super.propertyChangedHandler(e,t,i)
const n=this
switch(e){case"dropDownAppendTo":n._positionDetection.dropDownAppendToChangedHandler(),n.rightToLeft?n.$.dropDownContainer.setAttribute("right-to-left",""):n.$.dropDownContainer.removeAttribute("right-to-left")
break
case"dataSource":n._dataBind(),n._setDropDownSize(),n._positionDetection.checkBrowserBounds("vertically"),n._positionDetection.positionDropDown(),n._positionDetection.checkBrowserBounds("horizontally")
break
case"dropDownMinWidth":case"dropDownWidth":case"dropDownMaxWidth":case"dropDownHeight":case"dropDownMinHeight":case"dropDownMaxHeight":n._setDropDownSize()
break
case"dropDownOverlay":i||n._positionDetection.removeOverlay()
break
case"wrap":n._setInput(),n._handleValue(n.value),(n.getRootNode()||document).activeElement!==n&&n._trim()
break
case"readonly":n.$.multiline.readOnly=n.$.input.readOnly=i,i?(n.$.multiline.setAttribute("aria-readonly",!0),n.$.input.setAttribute("aria-readonly",!0)):(n.$.multiline.removeAttribute("aria-readonly"),n.$.input.removeAttribute("aria-readonly"))
break
case"rightToLeft":null!==n.dropDownAppendTo&&(i?n.$.dropDownContainer.setAttribute("right-to-left",""):n.$.dropDownContainer.removeAttribute("right-to-left"))
break
case"value":case"pathFormat":n._handleValue(n.value),"value"===e&&n.value!==t&&n.$.fireEvent("change",{oldValue:t,value:n.value}),(n.getRootNode()||document).activeElement!==n&&n._trim()
break
case"placeholder":n.$.input.placeholder=n.$.multiline.placeholder=n.placeholder}}attached(){super.attached(),this.isCompleted&&this.$.dropDownContainer&&(this._positionDetection.dropDownAttached("_setDropDownSize"),this._positionDetection.checkBrowserBounds())}detached(){super.detached(),this.$.dropDownContainer&&(this.close(),this._positionDetection.dropDownDetached())}render(){const e=this
e._setInput(),e._positionDetection=new JQX.Utilities.PositionDetection(e,e.$.dropDownContainer,e.$.container,"close"),e._positionDetection.getDropDownParent(!0),e._positionDetection.setDropDownPosition(),e._calculateDropDownSize(),e._positionDetection.handleAutoPositioning(),e._setDropDownSize(),e.$.label.id||(e.$.label.id=e.id+"Label"),e.$.dropDownContainer.id||(e.$.dropDownContainer.id=e.id+"DropDown"),e.$.hint.id||(e.$.hint.id=e.id+"Hint"),e.setAttribute("role","combobox"),e.setAttribute("aria-describedby",e.$.hint.id),e.setAttribute("aria-expanded",!1),e.setAttribute("aria-labelledby",e.$.label.id),e.setAttribute("aria-owns",e.$.dropDownContainer.id),e.$.dropDownButton.setAttribute("aria-controls",e.$.dropDownContainer.id),e.rightToLeft&&null!==e.dropDownAppendTo&&e.$.dropDownContainer.setAttribute("right-to-left",""),e.wrap?e._wrapRefresh():e._handleValue(e.value),e._trim(),e.opened&&e.open(),super.render()}blur(){this.$[this.wrap?"multiline":"input"].blur()}focus(){this.$[this.wrap?"multiline":"input"].focus()}setToNotAPath(){this._setPathTo("//")}setToEmptyPath(){this._setPathTo("////")}_setPathTo(e){const t=this,i=t.value
t.set("value",e),t.$.input.value=t.$.multiline.value="",i!==t.value&&t.$.fireEvent("change",{oldValue:i,value:t.value})}close(){const e=this
e.$dropDownContainer.hasClass("jqx-visibility-hidden")||e.$.fireEvent("closing").defaultPrevented||(e.$dropDownContainer.addClass("jqx-visibility-hidden"),e.$.fireEvent("close"),e.opened=e._isDropDownClicked=e._preventDropDownClose=!1,e.setAttribute("aria-expanded",!1),e._positionDetection.removeOverlay(!0),e._edgeMacFF&&!e.hasAnimation&&e.$.dropDownContainer&&(e.$.dropDownContainer.style.top=e.$.dropDownContainer.style.left="",e.$dropDownContainer.addClass("not-in-view")))}open(){const e=this
if(!e.disabled&&e.offsetHeight&&e.$dropDownContainer.hasClass("jqx-visibility-hidden")){if(e.dataSource.length&&!e.$.dropDownContainer.firstElementChild&&e._dataBind(),e._handleItemSelection(),e._updateDropDown(),e.$dropDownContainer.hasClass("not-in-view")&&e.$dropDownContainer.removeClass("not-in-view"),e.$.dropDownContainer.style.transition=null,e.dropDownAppendTo&&e.dropDownAppendTo.length>0){const t=e.getBoundingClientRect()
if(e.$.container.contains(e.$.dropDownContainer)){let t=0
const i=setInterval(function(){const n=e.getBoundingClientRect()
t++,n.top===e._positionTop&&t<10||(e.open(),clearInterval(i),e._positionTop=n.top)},100)
return}t.top!==e._positionTop&&(e._positionTop=t.top)}e.$.fireEvent("opening").defaultPrevented||(e.opened=!0,e.setAttribute("aria-expanded",!0),e._positionDetection.placeOverlay(),e._positionDetection.checkBrowserBounds("vertically"),e._positionDetection.positionDropDown(),e._positionDetection.checkBrowserBounds("horizontally"),e.$dropDownContainer.removeClass("jqx-visibility-hidden"),e.$.fireEvent("open"),e._handleKeyStrokes("Home"),JQX.Utilities.Core.isMobile||(e.wrap?e.$.multiline.focus():e.$.input.focus()))}}_calculateDropDownSize(){const e=this
e._dropDownSize={}
const t=window.getComputedStyle(e.$.dropDownContainer),i=parseFloat(t.getPropertyValue("border-top-width").trim()),n=parseFloat(t.getPropertyValue("border-bottom-width").trim()),r=parseFloat(t.getPropertyValue("margin-top").trim()),o=parseFloat(t.getPropertyValue("margin-bottom").trim()),a=parseFloat(t.getPropertyValue("padding-top").trim()),s=parseFloat(t.getPropertyValue("padding-bottom").trim())
JQX.Utilities.Core.CSSVariablesSupport()&&(e._dropDownSize.width=t.getPropertyValue("--jqx-drop-down-list-drop-down-width").trim(),e._dropDownSize.height=t.getPropertyValue("--jqx-drop-down-list-drop-down-height").trim()),(!e._dropDownSize.width||e._dropDownSize.width.indexOf("initial")>-1)&&(e._dropDownSize.width=e.offsetWidth),e._dropDownSize.height||(e._dropDownSize.height="auto"),e._dropDownSize.minHeight=parseFloat(t.getPropertyValue("min-height").trim()),e._dropDownSize.maxHeight=parseFloat(t.getPropertyValue("max-height").trim()),e._dropDownSize.borderWidth=(isNaN(i)?0:i)+(isNaN(n)?0:n),e._dropDownSize.paddingWidth=(isNaN(a)?0:a)+(isNaN(s)?0:s),e._dropDownSize.marginWidth=(isNaN(r)?0:r)+(isNaN(o)?0:o)}_focusHandler(e){const t=this
if("focusin"===e.type)return t.setAttribute("focus",""),t.wrap?t._wrapRefresh():t._handleValue(t.value),void t._refreshInputSelection(!0)
if(t._buttonClicked||t._isDropDownClicked)t.focus()
else{if(t.removeAttribute("focus"),t.wrap){const e=t.value
t._handleValue(t.$.multiline.value,!0),t.value!==e&&t.$.fireEvent("change",{oldValue:e,value:t.value})}else t._handleValue(t.$.input.value,!0)
t._buttonClicked||t._isDropDownClicked||t.close(),t._trim()}}_setInput(){const e=this
let t=e.$.input,i=e.$.multiline
i.value||Object.defineProperty(i,"value",{get(){return this.textContent},set(e){this.innerHTML=e,e?this.removeAttribute("show-placeholder"):this.setAttribute("show-placeholder",""),t.value=this.textContent}}),i.readOnly||Object.defineProperty(i,"readOnly",{get(){return this.getAttribute("contenteditable")},set(e){this.setAttribute("contenteditable",!e)}}),e.wrap?(t.$.addClass("jqx-hidden"),e.$multilineContainer.removeClass("jqx-hidden")):(t.$.removeClass("jqx-hidden"),e.$multilineContainer.addClass("jqx-hidden")),t.placeholder=i.placeholder=e.placeholder,t.readOnly=i.readOnly=e.readonly,i.value="",i.setAttribute("placeholder",e.placeholder),i.setAttribute("readonly",e.readonly)}_handleItemSelection(e,t){const i=this,n=i.$.dropDownContainer.getElementsByClassName("jqx-path-item")
for(let e=0;e<n.length;e++)n[e].removeAttribute("active")
if(!e||e.hasAttribute("disabled"))return
t&&i.$.fireEvent(t,{label:e.label,value:e.value})
const r=i.value
e.setAttribute("active",""),"notAPath"===e.value?(i.set("value","//"),i.$.input.value=i.$.multiline.value=""):"validPath"===e.value&&(i.set("value","////"),i.$.input.value=i.$.multiline.value=""),r!==i.value&&i.$.fireEvent("change",{oldValue:r,value:i.value}),i.close()}_handleKeyStrokes(e){const t=this,i=[].slice.call(t.$.dropDownContainer.children),n=i.find(e=>e.hasAttribute("focus")),r=function(e,t){if(!e)return
let i
for(i=e[t+"ElementSibling"];i;){if(!i.hasAttribute("disabled"))return i
i=i[t+"ElementSibling"]}}
let o
if(i.length){switch(e){case"ArrowDown":o=n?r(n,"next"):i.find(e=>!e.hasAttribute("disabled"))
break
case"ArrowUp":o=n?r(n,"previous"):i.find(e=>!e.hasAttribute("disabled"))
break
case"Home":o=i.find(e=>!e.hasAttribute("disabled"))
break
case"End":for(let e=i.length-1;e>=0;e--)if(!i[e].hasAttribute("disabled")){o=i[e]
break}}o&&(i.map(e=>e.removeAttribute("focus")),o.setAttribute("focus",""),t.setAttribute("aria-activedescendant",o.id))}}_getPathType(e){if(e&&e.length)return 0===e.indexOf("//rel//")?"rel":0===e.indexOf("//abs//")?"abs":0===e.indexOf("//unc//")?"unc":/(^|[\/\\])(\.{1,2})[\/\\]/g.test(e)?"rel":/^[\w\d]{1}:\\/gim.test(e)||/^\/[\w\d]+\//gim.test(e)?"abs":/^\\\\[\w\d]+\\/gim.test(e)||/^\/\/[\w\d]+\//gim.test(e)?"unc":"rel"}_getDriveName(e,t){const i=this
let n
return"rel"===t?(n=e[0].replace(/[:\\\/]+|\s/gim,""),e[0]=n):"abs"===t?(n=e[0].replace(/[:\\\/]+|[.]{1,}|\s/gim,""),"windows"===i.pathFormat?n+=":":"unix"===i.pathFormat&&(n="/"+n),e[0]=n):"unc"===t&&(n=e[0].replace(/[:\\\/]+|[.]{1,}|\s/gim,""),n="windows"===i.pathFormat?"\\\\"+n:"//"+n,e[0]=n),n}_handleValue(e){const t=this
if("//"===e||"////"===e)return void(t.$.multiline.value=t.$.input.value="")
e=e.trim()
const i=t._getPathType(e)
if(!e||!e.length||!i)return t.set("value","//"),void(t.$.multiline.value=t.$.input.value="")
const n=(e=(e=e.replace(/^(\/+((abs)|(rel)|(unc))\/+)|([?*"<>|]+)/gim,"")).replace(/[\\|\/]+/gim,">")).split(">").filter(e=>e.length)
if(!n.length)return t.$.multiline.value=t.$.input.value="",void t.set("value",t._formatValue(i))
for(let e=0;e<n.length-1;e++)if("..."!==n[e]){if(!1===/^\.+$/g.test(n[e]))for(;"."===n[e].charAt(n[e].length-1);)n[e]=n[e].slice(0,n[e].length-1)}else n[e]=""
if("rel"===i)for(let e=0;e<n.length-1;e++)/^\.{3,}$/g.test(n[e])&&(n[e]="")
else for(let e=0;e<n.length-1;e++)/^\.+$/g.test(n[e])&&(n[e]="")
const r=t._getDriveName(n,i)
t.set("value",t._formatValue(t._constructPath(n,">",r),i)),t.$.multiline.value=t.$.input.value=t._constructPath(n,"windows"===t.pathFormat?"\\":"/",r)}_constructPath(e,t,i){let n=""
for(let r=0;r<e.length;r++){let o=e[r]
const a=0===o.indexOf("<div>");(o=o.replace(/(<div>)|(<\/div>)/gim,""))!==i&&(o=o.replace(/[:\\\/]+|\s+$/gim,"")),this.wrap?o=o!==i?t+o:o:o+=t,a&&(o='<div role="presentation">'+o+"</div>"),n+=o}return!this.wrap&&(e.length>1||1===e.length&&e[0].indexOf(":")<0)&&(n=n.slice(0,-1)),n}_trim(){const e=this
if((e.getRootNode()||document).activeElement===e)return
const t="windows"===e.pathFormat?"\\":"/",i=e.value
if(!i||"//"===i||"////"===i)return void(e.$.multiline.value=e.$.input.value="")
const n=e.$.pathWrapper,r=e.wrap?e.$.multiline:e.$.input
let o=i.replace(/^(\/+((abs)|(rel)|(unc))\/+)|([?*"<>]+)/gim,"").split("/")
const a=e._getDriveName(o,e._getPathType(i))
if(e.wrap){let i=e._trimVertically(o,a)
for(;n.offsetHeight>e.offsetHeight;){const r=i.length<=2?0:1
if(!i.length)break
i.splice(r,1,"..."),i=e._trimVertically(i,a),n.innerHTML=e._constructPath(i,t,a?i[0]:void 0),n.offsetHeight>e.offsetHeight&&i.splice(r,1)}o=i}for(n.innerHTML=e._constructPath(o,t,a?o[0]:void 0);n.offsetWidth>r.offsetWidth;){const i=o.length<=2?0:1
if(!o.length)break
o.splice(i,1,"..."),n.innerHTML=e._constructPath(o,t,a?o[0]:void 0),n.offsetWidth>r.offsetWidth&&o.splice(i,1)}o.length||(n.innerHTML="..."),e.$.multiline.value=e.$.input.value=n.innerHTML}_trimVertically(e,t){const i=this,n=i.$.pathWrapper,r=i.wrap?i.$.multiline:i.$.input,o="windows"===i.pathFormat?"\\":"/",a=()=>{let t=-1
for(let i=0;i<e.length;i++)0!==i&&e[i].indexOf("<div>")<0&&(t=i)
return t}
for(let t=0;t<e.length;t++)e[t]=e[t].replace(/(<div>)|(<\/div>)/gim,"")
for(n.innerHTML=i._constructPath(e,o,t?e[0]:void 0);n.offsetWidth>r.offsetWidth;){let r=a()
if(r<=1||"..."===e[r])break
e[r]="<div>"+e[r]+"</div>",n.innerHTML=i._constructPath(e,o,t?e[0]:void 0)}return e.length||(n.innerHTML="..."),i.$.multiline.value=i.$.input.value=n.innerHTML,e}_formatValue(e,t){const i=this
return e||(e=i.wrap?i.$.multiline.value:i.$.input.value),t?"//"+t+"//"+e.replace(/[:]+|\\+|\/+/gim,"").replace(/>/g,"/"):"//"}_inputChangeHandler(e){const t=this,i=t.value
e.preventDefault(),e.stopPropagation(),t._handleValue((t.wrap?t.$.multiline:t.$.input).value,!0),i!==t.value&&t.$.fireEvent("change",{oldValue:i,value:t.value}),t._updateDropDown()}_updateDropDown(){const e=this,t=e.$.dropDownContainer.children,i=e.wrap?e.$.multiline:e.$.input
let n,r
for(let e=0;e<t.length;e++){const i=t[e]
if("notAPath"===i.value?n=i:"validPath"===i.value&&(r=i),n&&r)break}n&&(!i.value.length||e.indicator?(n.setAttribute("disabled",""),n.setAttribute("aria-disabled",!0),n.hasAttribute("focus")&&n.removeAttribute("focus")):(n.removeAttribute("disabled"),n.removeAttribute("aria-disabled"))),r&&(i.value.length||e.indicator?(r.setAttribute("disabled",""),r.setAttribute("aria-disabled",!0),r.hasAttribute("focus")&&r.removeAttribute("focus")):(r.removeAttribute("disabled"),r.removeAttribute("aria-disabled")))}_dataBind(){const e=this,t=e.dataSource
let i=[]
if(e.$.dropDownContainer.innerHTML="",t&&t.length&&("string"==typeof t&&(e.dataSource=JSON.parse(t)),Array.isArray(t))){const n=document.createDocumentFragment()
for(let r=0;r<t.length;r++){const o=t[r],a=e._createItem(o)
i.push(a),n&&n.appendChild(a)}e.$.dropDownContainer.appendChild(n)}}_documentDownHandler(e){const t=this
if(t.disabled||t.readonly)return
let i=e.originalEvent.target
if(i===t._overlay&&(t._overlayDown=!0),t.shadowRoot||t.isInShadowDOM){let n=i=e.originalEvent.composedPath()[0]
for(;n;){if(n.closest(".jqx-drop-down-container")===t.$.dropDownContainer){t._isDropDownClicked=!0
break}n=n.getRootNode().host}}else t._isDropDownClicked=i.closest(".jqx-drop-down-container")===t.$.dropDownContainer;(t.shadowRoot||t).contains(i)&&(t._buttonClicked=i.closest(".jqx-browse-button")||i.closest(".jqx-drop-down-button"),t._isPathInputDown=i.closest(".jqx-path-input"))
let n=i.closest(".jqx-path-item")
t.$.dropDownContainer.contains(n)||(n=void 0),n&&(!t.hasRippleAnimation||n.hasAttribute("disabled")||n.hasAttribute("readonly")||JQX.Utilities.Animation.Ripple.animate(n,e.pageX,e.pageY),t._itemClicked=n,t._preventDropDownClose=!0),t._isDropDownClicked&&(t._preventDropDownClose=!0)}_documentUpHandler(e){if("pointercancel"===e.originalEvent.type)return
const t=this
let i=t.shadowRoot||t.isInShadowDOM?e.originalEvent.composedPath()[0]:e.originalEvent.target
const n=i.closest(".jqx-path-item")
if(n!==t._itemClicked){if(t._itemClicked=void 0,t._buttonClicked&&(t.hasRippleAnimation&&JQX.Utilities.Animation.Ripple.animate(t._buttonClicked,e.pageX+t._buttonClicked.offsetWidth/4,e.pageY+t._buttonClicked.offsetHeight/4),i.closest(".jqx-browse-button")===t._buttonClicked&&t._buttonClicked===t.$.browseButton?t.$.fireEvent("browseButtonClick"):i.closest(".jqx-drop-down-button")===t._buttonClicked&&t._buttonClicked===t.$.dropDownButton&&t.$.fireEvent("dropDownButtonClick")),i.closest(".jqx-drop-down-button")===t._buttonClicked&&t._buttonClicked===t.$.dropDownButton)return t.$dropDownContainer.hasClass("jqx-visibility-hidden")?t.open():t.close(),void(t._buttonClicked=void 0)
t._buttonClicked=void 0,t._isDropDownClicked&&(t._isDropDownClicked=!1),t._isPathInputDown!==t.$.input&&t._isPathInputDown!==t.$.multiline?void 0!==(i=t._getUpEventTarget(i))&&("dropDownContainer"!==i&&"item"!==i||"item"===i)&&t.close():t._isPathInputDown=void 0}else t._handleItemSelection(n,"itemClick")}_inputKeyDownHandler(e){const t=this
if(t.opened)switch(e.key){case"ArrowDown":case"ArrowUp":case"Home":case"End":return e.preventDefault(),e.altKey&&"ArrowUp"===e.key?void t.close():void t._handleKeyStrokes(e.key)}else{if(e.altKey&&"ArrowDown"===e.key)return e.preventDefault(),void t.open()
if("PageDown"===e.key||"PageUp"===e.key)return void e.preventDefault()}if("Enter"===e.key)return t.wrap&&e.preventDefault(),void(t.opened&&(t._handleItemSelection(t._focusedItem(),"itemClick"),t.close()))
if(t.opened&&"Escape"===e.key)return e.preventDefault(),void t.close();/^[a-z0-9\/\\.:\s]$/gim.test(e.key)&&t.$.multiline.removeAttribute("show-placeholder")}_focusedItem(){const e=this.$.dropDownContainer.children
for(let t=0;t<e.length;t++)if(e[t].hasAttribute("focus"))return e[t]}_inputKeyUpHandler(e){const t=this
if(t.wrap){const i=t.$.multiline.value
if(i||t.$.multiline.setAttribute("show-placeholder",""),t.$.input.value=i,"Enter"===e.key){const e=t.value
t._handleValue(i),i||(t.set("value","//"),t.$.multiline.value=t.$.input.value=""),i&&t._refreshInputSelection(),t.value!==e&&t.$.fireEvent("change",{oldValue:e,value:i})}t._updateDropDown()}else t.opened&&t._inputChangeHandler(e),"Enter"!==e.key||t.$.input.value.length||t.set("value","//")}_refreshInputSelection(e){const t=this
if(t.disabled||t.readonly)return
if(!t.wrap)return void t.$.input.setSelectionRange(0,t.$.input.value.length)
const i=new Range,n=window.getSelection(),r=t.$.multiline.childNodes[t.$.multiline.childNodes.length-1]
r&&(i.setStart(r,r.length),i.collapse(!0),e&&i.selectNodeContents(r),n.removeAllRanges(),n.addRange(i))}_getUpEventTarget(e){const t=this
let i=e
for(i=void 0===i.parentElement?i.getRootNode().host:i.parentElement;i;){if(i===t.$.dropDownContainer){i="dropDownContainer"
break}i=void 0===i.parentElement?i.getRootNode().host:i.parentElement}return i}_mouseOverEventHandler(e){const t=this.shadowRoot||this.isInShadowDOM?e.composedPath()[0]:e.target,i=t.closest(".jqx-drop-down-button")||t.closest(".jqx-browse-button")||t.closest(".jqx-input")||t.closest(".jqx-path-item")
i&&!i.hasAttribute("disabled")&&("mouseover"===e.type?i.setAttribute("hover",""):i.removeAttribute("hover"))}_createItem(e){const t=this,i=document.createElement("div")
"number"==typeof e&&(e=""+e)
const n=function(t,i){return void 0!==e[t]?""+e[t]:e[i]}
let r=("string"==typeof e?e:n(t.displayMember,"label"))||"",o=("string"==typeof e?e:n(t.valueMember,"value"))||""
return i.label=i.innerHTML=""+(t.localize(r)||r),i.value=""+(o||r),e.disabled?i.setAttribute("disabled",""):i.removeAttribute("disabled"),i.classList.add("jqx-path-item"),i.setAttribute("role","option"),i.id||(i.id=t.id+"Item"+Math.floor(65536*(1+Math.random())).toString(16).substring(1)),i}_resizeHandler(){const e=this
e._wrapRefresh(),"none"===e.resizeMode&&(e._calculateDropDownSize(),e._setDropDownSize()),e._trim()}_wrapRefresh(){const e=this
e.wrap&&(e._handleValue(e.value),e.$.multiline.removeAttribute("position-absolute"),e.offsetHeight<e.$.multiline.offsetHeight&&e.$.multiline.setAttribute("position-absolute",""))}_styleChangedHandler(){this._trim()}_setDropDownSize(){const e=this
e._dropDownSize||e._calculateDropDownSize(),["dropDownMinWidth","dropDownMinHeight","dropDownMaxWidth","dropDownMaxHeight"].forEach(t=>{e.$.dropDownContainer.style[t.replace("dropDown","").replace(/^./,"m")]=e[t]?e[t]+(e[t].toString().endsWith("%")?"%":"px"):null}),e.dropDownWidth?"auto"!==e.dropDownWidth?e.$.dropDownContainer.style.width=("initial"===e.dropDownWidth?e.offsetWidth:parseFloat(e.dropDownWidth))+"px":e.$.dropDownContainer.style.width="auto":e.$.dropDownContainer.style.width="auto"===e._dropDownSize.width?"auto":(parseFloat(e._dropDownSize.width)||0)+"px",e.dropDownHeight&&"auto"!==e.dropDownHeight?e.$.dropDownContainer.style.height=parseFloat(e.dropDownHeight)+((e.dropDownHeight+"").indexOf("%")>-1?"%":"px"):e.$.dropDownContainer.style.height=e._dropDownSize.height}})
var me=Object.freeze({})
JQX("jqx-drop-down-button",class extends JQX.ContentElement{static get properties(){return{autoCloseDelay:{value:100,type:"number"},dropDownAppendTo:{value:null,type:"any"},dropDownButtonPosition:{allowedValues:["none","left","right","top","bottom"],value:"right",type:"string"},dropDownHeight:{value:"",type:"any",validator:"_propertyValidator"},dropDownMaxHeight:{value:"",type:"any",validator:"_propertyValidator"},dropDownMaxWidth:{value:"",type:"any",validator:"_propertyValidator"},dropDownMinHeight:{value:"",type:"any",validator:"_propertyValidator"},dropDownMinWidth:{value:"",type:"any",validator:"_propertyValidator"},dropDownOpenMode:{allowedValues:["none","default","dropDownButton","auto"],value:"default",type:"string"},dropDownOverlay:{value:!1,type:"boolean"},dropDownPlaceholder:{value:"No Items",type:"string"},dropDownPosition:{allowedValues:["auto","top","bottom","overlay-top","overlay-center","overlay-bottom","center-bottom","center-top"],value:"auto",type:"string"},dropDownWidth:{value:"",type:"any",validator:"_propertyValidator"},hint:{value:"",type:"string"},horizontalScrollBarVisibility:{type:"string",value:"auto",allowedValues:["auto","disabled","hidden","visible"]},label:{value:"",type:"string"},messages:{extend:!0,value:{en:{invalidNode:'jqx-drop-down-button: Invalid parameter "{{node}}" when calling {{method}}.'}},type:"object"},opened:{value:!1,type:"boolean"},placeholder:{value:"",type:"string"},resizeIndicator:{value:!1,type:"boolean"},resizeMode:{value:"none",allowedValues:["none","horizontal","vertical","both"],type:"string"},verticalScrollBarVisibility:{type:"string",value:"auto",allowedValues:["auto","disabled","hidden","visible"]}}}static get listeners(){return{"actionButton.down":"_buttonsDownHandler","actionButton.mouseenter":"_buttonsMouseEventsHandler","actionButton.mouseleave":"_buttonsMouseEventsHandler","document.selectstart":"_selectStartHandler","document.dragstart":"_dragStartHandler","document.down":"_documentDownHandler","document.up":"_documentUpHandler","document.move":"_documentMoveHandler","dropDownButton.down":"_buttonsDownHandler","dropDownButton.mouseenter":"_buttonsMouseEventsHandler","dropDownButton.mouseleave":"_buttonsMouseEventsHandler",keydown:"_keyDownHandler",keyup:"_keyUpHandler",focus:"_focusEventHandler",blur:"_blurEventHandler","dropDownContainer.transitionend":"_dropDownTransitionendHandler",mouseenter:"_mouseEnterHandler",mouseleave:"_mouseLeaveHandler",resize:"_resizeHandler","resizeBar.move":"_resizeBarMoveHandler",styleChanged:"_styleChangedHandler"}}template(){return'<div id="container" role="presentation">\n                    <span class="jqx-label" id="label">[[label]]</span>\n                    <div id="content" class="jqx-content" role="presentation">\n                        <div id="buttonsContainer" class="jqx-buttons-container" role="presentation">\n                            <span id="actionButton" class="jqx-action-button">[[placeholder]]</span>\n                            <span id="dropDownButton" class="jqx-drop-down-button">\n                                <span class="jqx-drop-down-button-icon" id="arrow" aria-hidden="true"></span>\n                            </span>\n                        </div>\n                        <div id="dropDownContainer" class="jqx-drop-down jqx-drop-down-container jqx-visibility-hidden" role="dialog">\n                            <jqx-scroll-viewer id="scrollViewer"\n                                right-to-left="[[rightToLeft]]"\n                                horizontal-scroll-bar-visibility="[[horizontalScrollBarVisibility]]"\n                                vertical-scroll-bar-visibility="[[verticalScrollBarVisibility]]">\n                                <content></content>\n                            </jqx-scroll-viewer>\n                            <div id="resizeBar" class="jqx-drop-down-resize-bar" aria-label="Resize">\n                                <div></div>\n                            </div>\n                         </div>\n                    </div>\n                    <span class="jqx-hint" id="hint">[[hint]]</span>\n                </div>'}static get styleUrls(){return["jqx.scrollviewer.css","jqx.dropdown.css","jqx.dropdownbutton.css"]}attached(){super.attached(),this.isCompleted&&this.$.dropDownContainer&&(this._positionDetection.dropDownAttached("_setDropDownSize"),this._positionDetection.checkBrowserBounds())}detached(){super.detached(),this.$.dropDownContainer&&(this.close(),this._positionDetection.dropDownDetached())}propertyChangedHandler(e,t,i){const n=this
switch(e){case"disabled":case"unfocusable":n._setFocusable()
break
case"dropDownAppendTo":n._positionDetection.dropDownAppendToChangedHandler()
break
case"dropDownHeight":case"dropDownMaxHeight":case"dropDownMaxWidth":case"dropDownMinHeight":case"dropDownMinWidth":case"dropDownWidth":n._setDropDownSize()
break
case"dropDownOpenMode":n._setFocusable(),n.close(),n._setAriaRelations()
break
case"dropDownOverlay":i||n._positionDetection.removeOverlay()
break
case"dropDownPlaceholder":n.$.dropDownContainer.hasAttribute("empty")&&(n.$.scrollViewer.$.scrollViewerContentContainer.innerHTML=i,n.opened&&n.$.scrollViewer.refresh())
break
case"dropDownPosition":n._positionDetection.dropDownPositionChangedHandler()
break
case"innerHTML":""===i.trim()?(n.$.dropDownContainer.setAttribute("empty",""),requestAnimationFrame(()=>n.$.scrollViewer.$.scrollViewerContentContainer.innerHTML=n.dropDownPlaceholder)):(n.$.dropDownContainer.removeAttribute("empty"),n.$.scrollViewer.$.scrollViewerContentContainer.innerHTML=i),n.opened&&n.$.scrollViewer.refresh()
break
case"opened":i?n.open():n.close()
break
case"placeholder":""!==t&&""!==i||n._setFocusable()
break
case"resizeIndicator":i?n.$.dropDownContainer.setAttribute("resize-indicator",""):n.$.dropDownContainer.removeAttribute("resize-indicator")
break
case"resizeMode":n.$.dropDownContainer.setAttribute("resize-mode",n.resizeMode),n.opened&&n.$.scrollViewer.refresh()
break
case"label":i?n._ariaButton.setAttribute("aria-labelledby",n.$.label.id):"DropDownButton"===n.elementName&&n._ariaButton.setAttribute("aria-labelledby",n.$.actionButton.id)}}appendChild(e){const t=this
if(!t.isCompleted||e instanceof HTMLElement&&e.classList.contains("jqx-resize-trigger-container")){const e=Array.prototype.slice.call(arguments,2)
return HTMLElement.prototype.appendChild.apply(t,e.concat(Array.prototype.slice.call(arguments)))}e?(t.$.scrollViewer.appendChild(e),t.opened&&t.$.scrollViewer.refresh()):t.error(t.localize("invalidNode",{method:"removeChild",node:"node"}))}removeChild(e){const t=this
if(!t.isCompleted||e instanceof HTMLElement&&e.classList.contains("jqx-resize-trigger-container")){const e=Array.prototype.slice.call(arguments,2)
return HTMLElement.prototype.removeChild.apply(t,e.concat(Array.prototype.slice.call(arguments)))}e?t.$.dropDownContainer.contains(e)&&(t.$.scrollViewer.removeChild(e),t.opened&&t.$.scrollViewer.refresh()):t.error(t.localize("invalidNode",{method:"removeChild",node:"node"}))}removeAll(){const e=this
e.isCompleted&&e.$.scrollViewer.removeAll()}_open(){const e=this
if(!e.disabled&&e.offsetHeight&&e.$dropDownContainer.hasClass("jqx-visibility-hidden")){if(e.$dropDownContainer.hasClass("not-in-view")&&e.$dropDownContainer.removeClass("not-in-view"),e.$.dropDownContainer.style.transition=null,e.dropDownAppendTo&&e.dropDownAppendTo.length>0){const t=e.getBoundingClientRect()
if(e.$.container.contains(e.$.dropDownContainer)){let t=0
const i=setInterval(function(){const n=e.getBoundingClientRect()
t++,n.top===e._positionTop&&t<10||(e.open(),clearInterval(i),e._positionTop=n.top)},100)
return}t.top!==e._positionTop&&(e._positionTop=t.top)}e.$.fireEvent("opening").defaultPrevented||(e.opened=!0,e._ariaButton.setAttribute("aria-expanded",!0),e._positionDetection.placeOverlay(),e._positionDetection.checkBrowserBounds("vertically"),e._positionDetection.positionDropDown(),e._positionDetection.checkBrowserBounds("horizontally"),e.$dropDownContainer.removeClass("jqx-visibility-hidden"),e.$.fireEvent("open"),e.$.dropDownButton&&("dropDownButton"===e.dropDownOpenMode?e.$.dropDownButton.setAttribute("selected",""):e.$.dropDownButton.removeAttribute("selected")),e.$.input&&e.$.input.focus())}}open(){const e=this,t=document.querySelectorAll("jqx-drop-down-button, jqx-color-picker")
for(let i=0;i<t.length;i++)t[i]!==e&&t[i].opened&&t[i].close()
e._open(),e.$.scrollViewer.refresh()}scrollTo(e,t){this.isCompleted&&this.$.scrollViewer.scrollTo(e,t)}ready(){super.ready()}render(){const e=this
e.rightToLeft&&(e.dropDownButtonPosition="right"===e.dropDownButtonPosition?"left":"right"),e.classList.add("jqx-drop-down-box"),e._edgeMacFF=JQX.Utilities.Core.Browser.Edge||JQX.Utilities.Core.Browser.Firefox&&-1!==navigator.platform.toLowerCase().indexOf("mac"),e._positionDetection=new JQX.Utilities.PositionDetection(e,e.$.dropDownContainer,e.$.container,"close"),e._positionDetection.getDropDownParent(!0),e._positionDetection.setDropDownPosition(),e._calculateDropDownSize(),e.$.dropDownContainer.setAttribute("resize-mode",e.resizeMode),e.resizeIndicator&&e.$.dropDownContainer.setAttribute("resize-indicator",""),e._positionDetection.handleAutoPositioning(),e.$.label&&!e.$.label.id&&(e.$.label.id=e.id+"Label"),e.$.actionButton&&!e.$.actionButton.id&&(e.$.actionButton.id=e.id+"ActionButton"),e.$.hint&&!e.$.hint.id&&(e.$.hint.id=e.id+"Hint"),e._createElement(),e.opened?e.open():e.hasAnimation&&e._edgeMacFF&&e.$dropDownContainer.addClass("not-in-view"),e._positionTop=e.getBoundingClientRect().top,super.render()}_setAriaRelations(e){const t=this
let i,n
"dropDownButton"!==t.dropDownOpenMode?((i=t.$.dropDownButton).setAttribute("aria-hidden",!0),n=t,t.$.actionButton.removeAttribute("role")):(i=t,(n=t.$.dropDownButton).removeAttribute("aria-hidden"),t.$.actionButton.setAttribute("role","button")),t._ariaButton=n,n.setAttribute("role","button"),n.setAttribute("aria-haspopup","dialog"),n.setAttribute("aria-owns",t.$.dropDownContainer.id),n.setAttribute("aria-describedby",t.$.hint.id),t.label?n.setAttribute("aria-labelledby",t.$.label.id):"DropDownButton"===t.elementName&&n.setAttribute("aria-labelledby",t.$.actionButton.id),i.setAttribute("role","presentation"),i.removeAttribute("aria-owns"),e?n.setAttribute("aria-expanded",t.opened):(i.removeAttribute("aria-describedby"),i.removeAttribute("aria-expanded"),i.removeAttribute("aria-haspopup"),i.removeAttribute("aria-labelledby"))}_setDropDownSize(){const e=this
e._dropDownSize||e._calculateDropDownSize(),["dropDownMinWidth","dropDownMinHeight","dropDownMaxWidth","dropDownMaxHeight"].forEach(t=>{e.$.dropDownContainer.style[t.replace("dropDown","").replace(/^./,"m")]=e[t]?e[t]+(e[t].toString().endsWith("%")?"%":"px"):null}),e.dropDownWidth?"auto"!==e.dropDownWidth?e.$.dropDownContainer.style.width=("initial"===e.dropDownWidth?e.offsetWidth:parseFloat(e.dropDownWidth))+"px":e.$.dropDownContainer.style.width="auto":e.$.dropDownContainer.style.width="auto"===e._dropDownSize.width?"auto":(parseFloat(e._dropDownSize.width)||0)+"px",e.dropDownHeight&&"auto"!==e.dropDownHeight?e.$.dropDownContainer.style.height=parseFloat(e.dropDownHeight)+((e.dropDownHeight+"").indexOf("%")>-1?"%":"px"):e.$.dropDownContainer.style.height=e._dropDownSize.height}_setFocusable(){const e=this
if(e.disabled||e.unfocusable)return e.removeAttribute("tabindex"),e.$.actionButton.removeAttribute("tabindex"),void e.$.dropDownButton.removeAttribute("tabindex")
let t=e.tabIndex>0?e.tabIndex:0
"dropDownButton"===e.dropDownOpenMode?(e.removeAttribute("tabindex"),e.$.actionButton.setAttribute("tabindex",t),e.$.dropDownButton.setAttribute("tabindex",t)):(e.$.actionButton.removeAttribute("tabindex"),e.$.dropDownButton.removeAttribute("tabindex"),e.tabIndex=t)}_calculateDropDownSize(){const e=this
e._dropDownSize={}
const t=window.getComputedStyle(e.$.dropDownContainer),i=parseFloat(t.getPropertyValue("border-top-width").trim()),n=parseFloat(t.getPropertyValue("border-bottom-width").trim()),r=parseFloat(t.getPropertyValue("margin-top").trim()),o=parseFloat(t.getPropertyValue("margin-bottom").trim()),a=parseFloat(t.getPropertyValue("padding-top").trim()),s=parseFloat(t.getPropertyValue("padding-bottom").trim())
JQX.Utilities.Core.CSSVariablesSupport()&&(e._dropDownSize.width=t.getPropertyValue("--jqx-drop-down-list-drop-down-width").trim(),e._dropDownSize.height=t.getPropertyValue("--jqx-drop-down-list-drop-down-height").trim()),(!e._dropDownSize.width||e._dropDownSize.width.indexOf("initial")>-1)&&(e._dropDownSize.width=e.offsetWidth),e._dropDownSize.height||(e._dropDownSize.height="auto"),e._dropDownSize.minHeight=parseFloat(t.getPropertyValue("min-height").trim()),e._dropDownSize.maxHeight=parseFloat(t.getPropertyValue("max-height").trim()),e._dropDownSize.borderWidth=(isNaN(i)?0:i)+(isNaN(n)?0:n),e._dropDownSize.paddingWidth=(isNaN(a)?0:a)+(isNaN(s)?0:s),e._dropDownSize.marginWidth=(isNaN(r)?0:r)+(isNaN(o)?0:o)}_createElement(){const e=this
""===e.innerHTML.trim()&&(e.$.dropDownContainer.setAttribute("empty",""),e.$.scrollViewer.$.scrollViewerContentContainer.innerHTML=e.dropDownPlaceholder),e._setDropDownSize(),e._setFocusable(),e._setAriaRelations(!0),e.$.arrow.noRipple=!0}_dragStartHandler(e){this._resizeDetails&&this._resizeDetails.started&&e.preventDefault()}_dropDownTransitionendHandler(){const e=this
e._edgeMacFF&&!e.opened&&e.hasAnimation&&(e.$.dropDownContainer.style.top=e.$.dropDownContainer.style.left="",e.$dropDownContainer.addClass("not-in-view"))}_blurEventHandler(){const e=this
e.$.dropDownButton&&(e.removeAttribute("focus"),e.$.dropDownButton.removeAttribute("focus")),e.$.actionButton&&(e.removeAttribute("focus"),e.$.actionButton.removeAttribute("focus"))}_focusEventHandler(){const e=this
e.$.dropDownButton&&(e.setAttribute("focus",""),e.$.dropDownButton.setAttribute("focus","")),e.$.actionButton&&(e.setAttribute("focus",""),e.$.actionButton.setAttribute("focus",""))}_getUpEventTarget(e){const t=this
let i=e
if(i===t.$.dropDownContainer)return"dropDownContainer"
for(i=void 0===i.parentElement?i.getRootNode().host:i.parentElement;i;){if(i===t.$.dropDownContainer){i="dropDownContainer"
break}i=void 0===i.parentElement?i.getRootNode().host:i.parentElement}return i}close(){const e=this
e.$dropDownContainer.hasClass("jqx-visibility-hidden")||e.$.fireEvent("closing").defaultPrevented||(e.$dropDownContainer.addClass("jqx-visibility-hidden"),e.$.fireEvent("close"),e.$.dropDownButton&&e.$.dropDownButton.removeAttribute("selected"),e.opened=!1,e._ariaButton.setAttribute("aria-expanded",!1),e._preventDropDownClose=!1,e._positionDetection.removeOverlay(!0),e._edgeMacFF&&!e.hasAnimation&&(e.$.dropDownContainer.style.top=e.$.dropDownContainer.style.left="",e.$dropDownContainer.addClass("not-in-view")))}_documentUpHandler(e){const t=this,i=t.hasAttribute("resizing")
if(t.$.actionButton.removeAttribute("active"),t._resizeDetails&&t._resizeDetails.started)return t._resizeDetails.started=t._resizeDetails.resizeEventFired=!1,t.removeAttribute("resizing"),t._preventDropDownClose=!1,t.focus(),void t.$.fireEvent("resizeEnd",{position:{left:e.pageX,top:e.pageY}})
if(t.disabled||t._isDropDownClicked||t.readonly)return void delete t._isDropDownClicked
if(t._overlayDown)return t.close(),void delete t._overlayDown
let n=e.originalEvent.target
if(t.enableShadowDOM&&(n=e.originalEvent.composedPath()[0]),t._preventsSelectStart=!1,void 0===n||n===t.$.resizeBar)return
const r=n.closest(".jqx-action-button")
let o
if(t._buttonClicked&&("dropDownButton"===t.dropDownOpenMode&&r&&t._buttonClicked===t.$.actionButton?t.$.fireEvent("actionButtonClick"):n.closest(".jqx-drop-down-button")!==t._buttonClicked&&r!==t._buttonClicked||(o=!0,t.$.fireEvent("dropDownButtonClick"))),t._buttonClicked=void 0,!t.editable&&r===t.$.actionButton||n.closest(".jqx-drop-down-button")===t.$.dropDownButton)return"dropDownButton"===t.dropDownOpenMode&&r===t.$.actionButton?void t.close():void(t.$dropDownContainer.hasClass("jqx-visibility-hidden")&&"none"!==t.dropDownOpenMode&&o&&"pointercancel"!==e.originalEvent.type?t.open():t.close())
void 0!==(n=t._getUpEventTarget(n))&&(("dropDownContainer"!==n&&"item"!==n||"item"===n&&"checkBox"!==t.selectionMode&&t.selectionMode.indexOf("Many")<0)&&t.close(),i&&t.$.scrollViewer&&t.$.scrollViewer.refresh())}_keyDownHandler(e){const t=this,i=(t.shadowRoot||t.getRootNode()).activeElement||document.activeElement
if(!(t.disabled||t.readonly||i!==t&&i!==t.$.dropDownButton&&i!==t.$.actionButton))switch(e.key){case"Enter":case" ":e.target.setAttribute("active",""),e.preventDefault(),e.target!==t.$.actionButton&&(t.opened&&"Enter"===e.key?t.close():t.opened||t.readonly||"none"===t.dropDownOpenMode||t.open())
break
case"End":t.$.scrollViewer.scrollTop=t.$.scrollViewer.scrollHeight
break
case"Home":t.$.scrollViewer.scrollTop=0
break
case"PageUp":case"PageDown":t.$.scrollViewer.scrollTop+=(e.key.indexOf("Down")>-1?1:-1)*t.$.dropDownContainer.offsetHeight
break
case"ArrowUp":case"ArrowDown":if(e.altKey)return void(t.disabled||t.readonly||"none"===t.dropDownOpenMode||(t.$dropDownContainer.hasClass("jqx-visibility-hidden")?t.open():t.close()))
e.preventDefault(),t.$.scrollViewer.scrollTop+=10*(e.key.indexOf("Down")>-1?1:-1)
break
case"Escape":e.preventDefault(),t.close()}}_keyUpHandler(e){const t=this.enableShadowDOM?e.composedPath()[0]:e.target
"Enter"!==e.key&&" "!==e.key||t.removeAttribute("active")}_propertyValidator(e,t){return"number"!=typeof t&&"string"!=typeof t?e:t}_mouseEnterHandler(){const e=this
e._isElementHovered=!0,"auto"!==e.dropDownOpenMode||e.disabled||e.readonly||e.open()}_mouseLeaveHandler(){const e=this
e.removeAttribute("hover"),e._isElementHovered=!1,"auto"!==e.dropDownOpenMode||e.disabled||e.readonly||e._autoClose()}_autoClose(){const e=this
e._autoCloseTimeout=setTimeout(function(){e._isElementHovered||e.close(),clearTimeout(e._autoCloseTimeout)}.bind(e),e.autoCloseDelay)}_documentMoveHandler(e){const t=this,i=t.enableShadowDOM?e.originalEvent.composedPath()[0]:e.originalEvent.target
if("auto"===t.dropDownOpenMode&&null!==t.dropDownAppendTo&&(t.contains(i)||t.$.dropDownContainer.contains(i)?t._isElementHovered=!0:(t._isElementHovered=!1,t._autoClose())),!t._resizeDetails||t._resizeDetails&&!t._resizeDetails.started)return
t.setAttribute("resizing",""),t._resizeDetails.resizeEventFired||(t.$.fireEvent("resizeStart",{position:{left:e.pageX,top:e.pageY}}),t._resizeDetails.resizeEventFired=!0)
const n=document.documentElement,r=t.$.dropDownContainer.getBoundingClientRect(),o=t.getBoundingClientRect(),a=t.$.dropDownContainer.hasAttribute("top")?"top":"bottom"
let s
function l(){if(s=e.pageY-t._resizeDetails.y,"bottom"===a)t._resizeDetails.height=Math.min(n.clientHeight-r.top-6,Math.max(0,t._resizeDetails.height+s)),t._resizeDetails.y=Math.max(r.top+n.scrollTop-t._resizeDetails.offsetY,Math.min(n.clientHeight+n.scrollTop-1.5*t._resizeDetails.offsetY,e.pageY))
else{if(t._resizeDetails.height=Math.min(t._dropDownSize.maxHeight,Math.max(0,Math.min(o.top,t._resizeDetails.height-s))),s=Math.max(0,r.top+(r.height-Math.max(t._dropDownSize.minHeight,t._resizeDetails.height))),t.dropDownAppendTo&&t.dropDownAppendTo.length>0){const e=Math.abs(parseFloat(getComputedStyle(t.$.dropDownContainer).getPropertyValue("margin-bottom")))||0
t.$.dropDownContainer.style.top=t.dropDownAppendTo&&t.dropDownAppendTo.length>0?e+s+"px":""}const i=o.top+n.scrollTop+t._resizeDetails.offsetYtop
t._resizeDetails.y=Math.max(t._resizeDetails.offsetYtop,Math.min(i,Math.max(i-t._dropDownSize.maxHeight,e.pageY)))}t.$.dropDownContainer.style.height=t._resizeDetails.height+"px"}function d(){s=e.pageX-t._resizeDetails.x,t._resizeDetails.width=Math.min(n.clientWidth-r.left-6,Math.max(0,t._resizeDetails.width+s)),t.$.dropDownContainer.style.width=t._resizeDetails.width+"px",t._resizeDetails.x=Math.max(r.left+n.scrollLeft-t._resizeDetails.offsetXR,Math.min(n.clientWidth+n.scrollLeft-1.5*t._resizeDetails.offsetXR,e.pageX))}switch(t.resizeMode){case"vertical":l()
break
case"horizontal":d()
break
case"both":d(),l()}}_documentDownHandler(e){const t=this
if(t.disabled||t.readonly)return
let i=e.originalEvent.target
if(i===t._overlay&&(t._overlayDown=!0),t.enableShadowDOM){let n=i=e.originalEvent.composedPath()[0]
for(;n;){if(n.closest(".jqx-drop-down-container")===t.$.dropDownContainer){t._isDropDownClicked=!0
break}n=n.getRootNode().host}}else t._isDropDownClicked=i.closest(".jqx-drop-down-container")===t.$.dropDownContainer
if(t._buttonClicked=i.closest(".jqx-action-button")||i.closest(".jqx-drop-down-button"),t._isDropDownClicked&&(t._preventDropDownClose=!0),i!==t.$.resizeBar||"none"===t.resizeMode)return
t._resizeDetails||(t._resizeDetails={})
const n=t.$.dropDownContainer.getBoundingClientRect()
t._resizeDetails.started=!0,t._resizeDetails.x=e.pageX,t._resizeDetails.y=e.pageY,t._resizeDetails.width=t.$.dropDownContainer.offsetWidth,t._resizeDetails.height=t.$.dropDownContainer.offsetHeight,t._resizeDetails.offsetXL=e.clientX-n.left,t._resizeDetails.offsetXR=n.left+t.$.dropDownContainer.offsetWidth-e.clientX,t._resizeDetails.offsetY=n.top+t.$.dropDownContainer.offsetHeight-e.clientY,t._resizeDetails.offsetYtop=e.clientY-n.top,t._preventDropDownClose=!0}_resizeHandler(){const e=this
"none"===e.resizeMode&&(e._calculateDropDownSize(),e._setDropDownSize())}_resizeBarMoveHandler(e){"touchmove"===e.originalEvent.type&&e.originalEvent.preventDefault()}_styleChangedHandler(e){const t=this
if(t.dropDownAppendTo&&t.dropDownAppendTo.length>0){const i=e.detail.styleProperties,n=["font-size","font-family","font-style","font-weight"]
for(let e=0;e<n.length;e++)i[n[e]]&&(t.$.dropDownContainer.style[n[e]]=i[n[e]].value)}t._dropDownSize&&"auto"===t._dropDownSize.height&&t._setDropDownSize()}_buttonsDownHandler(e){const t=this
if(!t.disabled){if(t.hasRippleAnimation)if("dropDownButton"===t.dropDownOpenMode)JQX.Utilities.Animation.Ripple.animate(e.target,e.pageX,e.pageY)
else if(e.target===t.$.dropDownButton||!t.editable){const i=t.$.buttonsContainer
i.firstElementChild.noRipple=!0,JQX.Utilities.Animation.Ripple.animate(i,e.pageX,e.pageY),i.firstElementChild.noRipple=!1}t._preventsSelectStart=!0,"dropDownButton"===t.dropDownOpenMode&&e.target===t.$.actionButton&&t.$.actionButton.setAttribute("active",""),t.opened&&(t._preventDropDownClose=!0)}}_buttonsMouseEventsHandler(e){const t=this
t.disabled||("mouseenter"===e.type?(t.setAttribute("hover",""),e.target.setAttribute("hover","")):(t.removeAttribute("hover"),e.target.removeAttribute("hover")))}_selectStartHandler(e){this._preventsSelectStart&&e.preventDefault()}})
var fe=Object.freeze({})
JQX("jqx-color-panel",class extends JQX.BaseElement{static get properties(){return{applyValueMode:{value:"instantly",allowedValues:["instantly","useButtons"],type:"string"},columnCount:{value:8,type:"number?"},displayMode:{value:"default",allowedValues:["default","grid","palette","radial","hexagonal","spectrumGrid","materialGrid"],type:"string"},disableUndo:{value:!1,type:"boolean"},editAlphaChannel:{value:!1,type:"boolean"},enableCustomColors:{value:!1,type:"boolean"},gridThemeColors:{value:null,type:"array?",reflectToAttribute:!1},gridShadeColors:{value:null,type:"array?",reflectToAttribute:!1},gridStandardColors:{value:null,type:"array?",reflectToAttribute:!1},hideAlphaEditor:{value:!1,type:"boolean"},hideContentToFit:{value:["RGB","HEX","alpha","previewContainer"],type:"array"},hideHEXEditor:{value:!1,type:"boolean"},hidePreviewContainer:{value:!1,type:"boolean"},hideRGBEditor:{value:!1,type:"boolean"},inverted:{value:!1,type:"boolean"},messages:{value:{en:{redPrefix:"R:",greenPrefix:"G:",bluePrefix:"B:",hexPrefix:"#:",alphaPrefix:"Alpha:",ok:"OK",cancel:"CANCEL",customColor:"CUSTOM COLOR",standardColors:"Standard colors",themeColors:"Theme colors"}},type:"object",extend:!0},name:{value:"",type:"string"},palette:{value:"default",allowedValues:["default","gray","red","green","blue","custom"],type:"string"},paletteColors:{value:null,type:"array?",reflectToAttribute:!1},paletteCustomColors:{value:null,type:"array?",reflectToAttribute:!1},tooltipDisplayMode:{value:"hex",allowedValues:["none","rgba","rgb","hex"],type:"string"},value:{value:null,type:"string?"},valueFormat:{value:"default",allowedValues:["rgb","rgba","hex","default"],type:"string"},valueMember:{value:"value",type:"string?"}}}static get listeners(){return{"container.click":"_containerClickHandler","container.mouseover":"_handleGridModeCellHover","paletteModeContainer.down":"_paletteDownHandler","container.change":"_handleInputChange","document.move":"_moveThumbHandler","document.up":"_releaseThumbUpHandler","paletteModeContainer.wheel":"_inputWheelHandler",resize:"_hideControlsByPriority","hexModeResizeTrigger.resize":"_resizeHoneycombItems","paletteModeContainer.move":"_paletteModeContainerMoveHandler"}}static get requires(){return{"JQX.Utilities.Draw":"jqxdraw.js","JQX.Button":"jqxbutton.js","JQX.Tooltip":"jqxtooltip.js"}}static get styleUrls(){return["jqx.button.css","jqx.tooltip.css","jqx.colorpanel.css"]}template(){return'<div id="container" role="presentation">\n                    <div id="gridModeContainer" class="grid-mode-container" role="presentation"></div>\n                    <div id="paletteModeContainer" class="palette-mode-container" role="presentation">\n                        <div id="colorPaletteContainer" class="color-palette-container" role="presentation">\n                            <div id="colorPalette" class="color-palette no-touch" aria-label="Color palette">\n                                <div id="colorPaletteThumb" class="color-palette-thumb" role="presentation"></div>\n                            </div>\n                            <div id="hueScale" class="hue-scale no-touch" aria-label="Hue scale" role="slider" aria-valuemin="0" aria-valuemax="360">\n                                <div id="hueScaleThumb" class="hue-scale-thumb" role="presentation"></div>\n                            </div>\n                            <div id="colorPaletteRadial" class="color-palette-radial no-touch" aria-label="Radial color palette">\n                                <span class="white-radial-gradient" role="presentation"></span>\n                                <div id="colorPaletteRadialThumb" class="color-palette-radial-thumb" role="presentation"></div>\n                            </div>\n                            <div id="colorPaletteHexagonal" class="color-palette-hexagonal" aria-label="Hexagonal color palette"></div>\n                            <div id="brightnessScale" class="brightness-scale no-touch" aria-label="Brightness scale" role="slider" aria-valuemin="0" aria-valuemax="1">\n                                <div id="brightnessScaleThumb" class="brightness-scale-thumb" role="presentation"></div>\n                            </div>\n                            <span id="hexModeResizeTrigger" class="color-sample hex-mode-resize-trigger"></span>\n                            <div id="colorControlsContainer" class="color-controls-container" role="presentation"></div>\n                        </div>\n                        <div id="alphaChannelContainer" class="alpha-channel-container"></div>\n                    </div>\n                    <div id="buttonsContainer" class="buttons-container"></div>\n                    <input id="hiddenInput" type="hidden" name="[[name]]">\n                </div>'}propertyChangedHandler(e,t,i){const n=this
switch(e){case"applyValueMode":"instantly"!==i||n.value||(n._HSV={h:0,s:0,v:1},n._selectedItem&&n._selectedItem.classList.contains("selected")&&(n._selectedItem.classList.remove("selected"),n._selectedItem.removeAttribute("aria-current"),n._selectedItem.style.stroke=null)),"palette"!==n.displayMode&&"radial"!==n.displayMode&&"hexagonal"!==n.displayMode||n._handleCancelButtonClick(),"useButtons"===i&&n._createApplyValueButtons()
break
case"paletteColors":n._customPalette=n._mapDataSourceToPalette(),r(n.displayMode)
break
case"inverted":{if(-1===["hexagonal","radial","spectrumGrid"].indexOf(n.displayMode))return
const e=n.value,t=n.$.hueScaleThumb.offsetHeight,o=n._validateInRange(t/2,0,n.$.hueScale.offsetHeight-t)/n.$.brightnessScale.offsetHeight
if(isNaN(o))return void n._generateGridStructures()
i?(n._HSV.v=n._HSV.s,n._HSV.s=1-o):(n._HSV.s=n._HSV.v,n._HSV.v=1-o),n.value=n._HSVtoRGBA(n._HSV),n.$.colorPaletteRadial.style.setProperty("--jqx-color-panel-brightness",n.$.brightnessScaleThumb.s||0),r(n.displayMode),n.value!==e&&n.$.fireEvent("change",{oldValue:e,value:n.value})
break}case"palette":r(n.displayMode),n._updatePreviewContainerValues(n.value)
break
case"displayMode":case"gridThemeColors":case"gridShadeColors":case"gridStandardColors":if("displayMode"===e){const e=n.value
if(n.$.container.className.indexOf("custom-color-selection")>-1&&n._handleCancelButtonClick(),null!==n.value&&"palette"!==i&&"hexagonal"!==i&&"radial"!==i){!n.editAlphaChannel&&n.$.alphaChannelThumb&&(n.$.alphaChannelThumb.style[n.rightToLeft?"left":"right"]="",n.$.alphaChannelThumb.style[n.rightToLeft?"right":"left"]=0,n.$.alphaChannelThumb.a=n._RGBA.a=1,n.$.alphaChannelScale.setAttribute("aria-valuenow",1)),n.value=n._getValue(n.valueFormat),r(),n.$.fireEvent("change",{oldValue:e,value:n.value})
break}if(null===n.value&&("palette"===i||"hexagonal"===i||"radial"===i)){n._RGBA={r:255,g:255,b:255,a:1},n._HSV={h:0,s:0,v:1},n.value=n._getValue(n.valueFormat),r(),n.$.fireEvent("change",{oldValue:e,value:n.value})
break}if(n.value=n._getValue(n.valueFormat),JQX.Utilities.Core.Browser.Firefox&&"radial"===t){const e=n.$.colorPaletteRadial.querySelector("canvas")
e&&e.remove()}}r(n.displayMode)
break
case"locale":case"messages":n._localizeLabels()
break
case"paletteCustomColors":n._userPalette=i||[],(n.displayMode.toLowerCase().indexOf("grid")>-1||"default"===n.displayMode)&&n._generatePaletteUserColorGrid(!0)
break
case"editAlphaChannel":{if(!i&&(n._RGBA.a=1),i&&n._createAlphaChannel(),!n.value)return
const e=n.value
n.value=n._getValue(n.valueFormat),n.value!==e&&n.$.fireEvent("change",{oldValue:e,value:n.value})
break}case"value":if(i="string"==typeof i?i.trim():i,!n._isValidColor(i))return void n._reset()
n._applyValue(i),n.value=n._getValue(n.valueFormat),"hexagonal"===n.displayMode&&n._generateHoneycomb(n.columnCount,n.inverted?{s:n._HSV.s}:{v:n._HSV.v}),t!==n.value&&n.$.fireEvent("change",{oldValue:t,value:n.value})
break
case"columnCount":{const e=n.$.container.style
null===i||isNaN(i)?e.removeProperty("--jqx-color-panel-grid-mode-column-count"):e.setProperty("--jqx-color-panel-grid-mode-column-count",i),n._generatePaletteUserColorGrid(),"spectrumGrid"===n.displayMode?n._generateSpectrumGrid(parseInt(i)):"hexagonal"===n.displayMode&&n._generateHoneycomb(i,n._HSV)}break
case"valueFormat":{if(!n.value)return
const e=n.value
n.value=n._getValue(i),n.$.fireEvent("change",{oldValue:e,value:n.value})
break}case"tooltipDisplayMode":if(!n.$.tooltip)return
"none"===i?(n.$.tooltip.close(),n.$.tooltip.disabled=!0):n.$.tooltip.disabled=!1
break
default:if(super.propertyChangedHandler(e,t,i),"disabled"===e){const t=n.getElementsByClassName("color-input")
for(let i=0;i<t.length;i++)t[i][e]}"disabled"!==e&&"theme"!==e&&"animation"!==e||(n.$.buttonOk&&(n.$.buttonOk[e]=i),n.$.buttonCancel&&(n.$.buttonCancel[e]=i),n.$.buttonCustom&&(n.$.buttonCustom[e]=i),n.$.tooltip&&(n.$.tooltip[e]=i))}function r(){n._generateGridStructures(),n._applyValue(n.value)}}ready(){super.ready()}render(){const e=this
e.setAttribute("role","dialog"),e._initializeBaseVars(),null===e.columnCount||isNaN(e.columnCount)?e.$.container.style.removeProperty("--jqx-color-panel-grid-mode-column-count"):e.$.container.style.setProperty("--jqx-color-panel-grid-mode-column-count",e.columnCount),"useButtons"===e.applyValueMode&&e._createApplyValueButtons(),e.editAlphaChannel&&e._createAlphaChannel(),e._generateGridStructures(),e._localizeLabels(),e.value||"hexagonal"!==e.displayMode&&"radial"!==e.displayMode&&"palette"!==e.displayMode||(e.value=e._getValue(e.valueFormat)),e._applyValue(e.value),e._hideControlsByPriority(),e.enableShadowDOM&&e.appendChild(e.$.hiddenInput),super.render()}_createApplyValueButtons(e){const t=this
function i(e){let i=document.createElement("jqx-button")
return i.classList.add(e),i.classList.add("primary"),i.rightToLeft=t.rightToLeft,i.disabled=t.disabled,i.theme=t.theme,i.animation=t.animation,t.$.buttonsContainer.appendChild(i),i}(e||"useButtons"===t.applyValueMode)&&(t.$.buttonsContainer.innerHTML.trim()||(t.$.buttonOk=i("button-ok"),t.$.buttonCancel=i("button-cancel"),t.$.buttonOk.content=t.localize("ok"),t.$.buttonCancel.content=t.localize("cancel")))}_createAlphaChannel(){!this.editAlphaChannel||this.editAlphaChannel&&this.$.alphaChannelContainer.innerHTML.trim()||(this.$.alphaChannelContainer.innerHTML=`\n                            <div class="alpha-channel-scale no-touch" aria-label="Alpha channel scale" role="slider">\n                                <div class="alpha-channel-thumb" aria-hidden="true"></div>\n                            </div>\n                            <label for="${this.id}aChannelInput" class="a-channel"></label>\n                            <input type="number" step="0.01" id="${this.id}aChannelInput" class="color-input a-channel" value="1" min="0" max="1">`,this.$.alphaChannelScale=this.$.alphaChannelContainer.querySelector(".alpha-channel-scale"),this.$.alphaChannelThumb=this.$.alphaChannelContainer.querySelector(".alpha-channel-thumb"),this.$.alphaChannelScale.setAttribute("role","slider"),this.$.alphaChannelScale.setAttribute("aria-valuemin",0),this.$.alphaChannelScale.setAttribute("aria-valuemin",1),this.$.alphaChannelContainer.querySelector("input").disabled=this.disabled,this._localizeLabels(),this._applyAlphaValue(this._RGBA.a,"alphaScale"))}_createGridModeComponents(){const e=this.id
if(["radial","palette","hexagonal"].indexOf(this.displayMode)>-1)return!1
if(this.$.gridModeContainer.innerHTML.trim())return
const t=this.$.gridModeContainer
t.innerHTML=`\n                        <div id="${e}defaultSamplesContainer" class="default-samples-container"></div>\n                        <div id="${e}gridSamplesContainer" class="grid-samples-container"></div>\n                        <div id="${e}materialGridSamplesContainer" class="material-grid-samples-container" role="menu"></div>\n                        <div id="${e}spectrumGridSamplesContainer" class="spectrum-grid-samples-container"></div>\n                        <jqx-button id="${e}buttonCustom" class="button-custom-color primary"></jqx-button>\n                        <div id="${e}userSamplesContainer" class="user-samples-container" aria-label="User colors"></div>\n                        <jqx-tooltip id="${e}tooltip" arrow position="auto"></jqx-tooltip>`,this.$.defaultSamplesContainer=t.querySelector(".default-samples-container"),this.$.gridSamplesContainer=t.querySelector(".grid-samples-container"),this.$.materialGridSamplesContainer=t.querySelector(".material-grid-samples-container"),this.$.materialGridSamplesContainer.$=JQX.Utilities.Extend(this.$.materialGridSamplesContainer),this.$.spectrumGridSamplesContainer=t.querySelector(".spectrum-grid-samples-container"),this.$.userSamplesContainer=t.querySelector(".user-samples-container"),this.$.buttonCustom=t.querySelector("jqx-button"),this.$.tooltip=t.querySelector("jqx-tooltip"),this.$.buttonCustom.disabled=this.disabled,this.$.buttonCustom.rightToLeft=this.rightToLeft,this.$.buttonCustom.animation=this.animation,this.$.buttonCustom.theme=this.theme,this.$.buttonCustom.content=this.localize("customColor"),this.$.tooltip.disabled=this.disabled||"none"===this.tooltipDisplayMode,this.$.tooltip.rightToLeft=this.rightToLeft,this.$.tooltip.animation=this.animation,this.$.tooltip.theme=this.theme}_createColorControls(e){const t=this,i=t.id
if(!e&&["radial","palette","hexagonal"].indexOf(t.displayMode)<0)return!1
const n=t.$.colorControlsContainer
if(n.innerHTML.trim())return
n.innerHTML=`<div id="${i}previewContainer" class="preview-container gradient-background" aria-label="Preview">`+'<span class="preview-container-top" aria-label="Current color"></span><span class="preview-container-bottom" aria-label="New color"></span></div>'+`<label for="${i}rChannelInput" id="${i}rChannelLabel" class="r-channel"></label>`+`<input type="number" min="0" max="255" id="${i}rChannelInput" class="color-input r-channel" value="255">`+`<label for="${i}gChannelInput" id="${i}gChannelLabel" class="g-channel"></label>`+`<input type="number" min="0" max="255" id="${i}gChannelInput" class="color-input g-channel" value="255">`+`<label for="${i}bChannelInput" id="${i}bChannelLabel" class="b-channel"></label>`+`<input type="number" min="0" max="255" id="${i}bChannelInput" class="color-input b-channel" value="255">`+`<label for="${i}hexInput" id="${i}hexLabel" class="hex"></label>`+`<input type="text" id="${i}hexInput" class="color-input hex" value="FFFFFF" maxlength="6">`
const r=n.getElementsByClassName("color-input")
for(let e=0;e<r.length;e++)r[e].disabled=t.disabled
t._localizeLabels()}_containerClickHandler(e){const t=this
if(t.disabled||t.readonly||!e.target)return
if(e.target.classList.contains("color-sample"))return void t._handleSampleClick(e)
const i=e.target.closest("jqx-button")
if(i!==t.$.buttonCancel)return i===t.$.buttonCustom?(t.$container.addClass("custom-color-selection"),t._createApplyValueButtons(!0),t._createColorControls(!0),t._applyValueInPaletteMode(),t._customColorSelection=!0,1===t._RGBA.a&&t.$.alphaChannelThumb&&(t.$.alphaChannelThumb.style[t.rightToLeft?"left":"right"]="",t.$.alphaChannelThumb.style[t.rightToLeft?"right":"left"]=0,t.$.alphaChannelThumb.a=t._RGBA.a,t.$.alphaChannelScale.setAttribute("aria-valuenow",t._RGBA.a)),void t.$.fireEvent("customColorSelection",{value:!0})):void(i!==t.$.buttonOk?e.target!==(t.shadowRoot||t).querySelector(".preview-container-top")||"useButtons"!==t.applyValueMode||t.disableUndo||t._applyValue(t.value):t._handleOkButtonClick(!0))
t._handleCancelButtonClick(!0)}_reset(e=this.value){const t=this
t._RGBA={r:255,g:255,b:255,a:1},t._HSV={h:0,s:0,v:1},t.$.hueScaleThumb.h=0,t.$.colorPaletteThumb.s=0,t.$.colorPaletteThumb.v=1,t.$.colorPaletteRadialThumb.h=0,t.$.colorPaletteRadialThumb.s=0,t.$.brightnessScaleThumb.v=1,t.$.brightnessScaleThumb.s=0,"hexagonal"!==t.displayMode&&"radial"!==t.displayMode&&"palette"!==t.displayMode?(t.value=null,t._selectedItem&&t._selectedItem.classList.contains("selected")&&(t._selectedItem.classList.remove("selected"),t._selectedItem.removeAttribute("aria-current"),t._selectedItem.style.stroke=null)):t.value=t._getValue(t.valueFormat),t._applyValue(t.value),t.$.fireEvent("change",{oldValue:e,value:t.value})}_handleColorPaletteDown(e){const t=this,i=t._getXYcoordinates(e)
if(!i)return
const n="palette"===t.displayMode||"grid"===t.displayMode?t.$.colorPaletteThumb:t.$.colorPaletteRadialThumb
if(t._activeComponent=i.container,"palette"===t.displayMode||t.$.container.className.indexOf("custom-color-selection")>-1){if(n.s=t._HSV.s=i.x/i.container.offsetWidth,n.v=t._HSV.v=1-i.y/i.container.offsetHeight,"grid"===t.displayMode)return t._moveThumbHandler(e,!0),void t._applyValueInPaletteMode(e)}else if("radial"===t.displayMode){const e=t.$.colorPaletteRadial.offsetWidth,r=i.x-e/2,o=i.y-e/2
n.h=t._HSV.h=t._calcHueAngle(r,o)<0?360+t._calcHueAngle(r,o):t._calcHueAngle(r,o)
const a=t.$.brightnessScaleThumb,s=t.$.brightnessScale,l=t._validateInRange(2*t._calcSatDistance(r,o)/e,0,1),d=s.offsetHeight-a.offsetHeight,c=t._validateInRange(a.offsetTop,0,d)/d
t.inverted?(n.v=t._HSV.v=l,n.s=t._HSV.s=1-c):(n.s=t._HSV.s=l,n.v=t._HSV.v=1-c)}t._applyValue(t._HSVtoRGBA(t._HSV),e),t._instantUpdate()}_handleScalesDown(e){const t=this,i=t._getXYcoordinates(e)
i&&(t._activeComponent=i.container,i.container===t.$.hueScale?t._updateHueScale(i):i.container===t.$.brightnessScale?(t._updateBrightnessScale(i),"hexagonal"===t.displayMode&&t._generateHoneycomb(t.columnCount,t._HSV)):t.$.alphaChannelScale&&(t.$.alphaChannelThumb.a=t._RGBA.a=parseFloat(((i.container.offsetWidth-i.x)/i.container.offsetWidth).toFixed(2)),t.rightToLeft&&(t.$.alphaChannelThumb.a=t._RGBA.a=(1-t._RGBA.a).toFixed(2)),t._applyAlphaValue(t._RGBA.a,"alphaScale")),t._applyValue(t._HSVtoRGBA(t._HSV),e),t._instantUpdate())}_updateBrightnessScale(e){const t=this,i=e.y-t.$.brightnessScaleThumb.offsetHeight/2,n=t.$.brightnessScale.offsetHeight-t.$.brightnessScaleThumb.offsetHeight,r=Math.min(Math.max(parseFloat(i),0),parseFloat(n))/n
t.inverted?t.$.brightnessScaleThumb.s=t._HSV.s=1-r:t.$.brightnessScaleThumb.v=t._HSV.v=1-r,t.$.brightnessScale.setAttribute("aria-valuenow",t._HSV.v),t.$.brightnessScaleThumb.style.top=n*r+"px",t.$.colorPaletteRadial.style.setProperty("--jqx-color-panel-brightness",r)}_updateHueScale(e){const t=e.y-this.$.hueScaleThumb.offsetHeight/2,i=this.$.hueScale.offsetHeight,n=i-this.$.hueScaleThumb.offsetHeight
this.$.hueScaleThumb.h=this._HSV.h=360*(i-e.y)/i,this.$.hueScale.setAttribute("aria-valuenow",this.$.hueScaleThumb.h),this.$.hueScaleThumb.style.top=n*Math.min(Math.max(parseFloat(t),0),parseFloat(n))/n+"px"}_paletteModeContainerMoveHandler(e){JQX.Utilities.Core.isMobile||e.stopPropagation(),"touchmove"===e.originalEvent.type&&this._dragDetails&&e.originalEvent.preventDefault()}_moveThumbHandler(e,t){const i=this,n=e.pageX-window.pageXOffset,r=e.pageY-window.pageYOffset
if(i.disabled||i.readonly||!i._activeComponent||!i._dragDetails||i._dragDetails.x===n&&i._dragDetails.y===r&&!t)return
const o=i._getXYcoordinates(e)
if(!o)return
const a=i._activeComponent.offsetWidth,s=i._activeComponent.offsetHeight
switch(i._activeComponent){case i.$.colorPalette:i.$.colorPaletteThumb.style.left=100*o.x/a+"%",i.$.colorPaletteThumb.style.top=100*o.y/s+"%",i.$.colorPaletteThumb.s=i._HSV.s=o.x/a,i.$.colorPaletteThumb.v=i._HSV.v=1-o.y/s
break
case i.$.colorPaletteRadial:{const e=a,t=o.x-e/2,n=o.y-e/2
i.$.colorPaletteRadialThumb.h=i._HSV.h=i._calcHueAngle(t,n)<0?360+i._calcHueAngle(t,n):i._calcHueAngle(t,n),i.inverted?i.$.colorPaletteRadialThumb.v=i._HSV.v=i._validateInRange(2*i._calcSatDistance(t,n)/e,0,1):i.$.colorPaletteRadialThumb.s=i._HSV.s=i._validateInRange(2*i._calcSatDistance(t,n)/e,0,1)
const r=(i.shadowRoot||i).querySelector(".preview-container-bottom")
r&&(r.style.backgroundColor=i._HSVtoRGBA())
break}case i.$.hueScale:i._updateHueScale(o)
break
case i.$.brightnessScale:i._updateBrightnessScale(o),"hexagonal"===i.displayMode&&i._generateHoneycomb(i.columnCount,i.inverted?{s:i._HSV.s}:{v:i._HSV.v})
break
case i.$.alphaChannelScale:i.$.alphaChannelThumb.a=i._RGBA.a=parseFloat(((a-o.x)/a).toFixed(2)),i.rightToLeft&&(i.$.alphaChannelThumb.a=i._RGBA.a=(1-i._RGBA.a).toFixed(2))}i._applyValue(i._HSVtoRGBA(i._HSV),e),i._instantUpdate()}_releaseThumbUpHandler(){const e=!!this._activeComponent
this._activeComponent=null,this.disabled||this.readonly||!e||this._dragDetails&&this._dragDetails.isPalettePressed||this._instantUpdate()}_handleCancelButtonClick(e){const t=this,i=t.value
switch("palette"!==t.displayMode&&"radial"!==t.displayMode&&"hexagonal"!==t.displayMode?(t.value=i,t._HSV=t._getValue("hsv",t.value)||{h:1,s:0,v:1},t._RGBA=t._getValue("HSVtoRGBAarray",t.value)):(t._HSV=t._getValue("hsv",t.value)||{h:1,s:0,v:1},t._RGBA=t._getValue("HSVtoRGBAarray",t.value),t.value=t._getValue(t.valueFormat)),t._applyValue(t.value),t.displayMode){case"radial":t._generateRadialCanvas()
break
case"hexagonal":t._generateHoneycomb(t.columnCount,t._HSV)}if(null===t.value&&t._selectedItem&&t._selectedItem.classList.contains("selected")&&(t._selectedItem.classList.remove("selected"),t._selectedItem.removeAttribute("aria-current")),i!==t.value&&t.$.fireEvent("change",{oldValue:i,value:t.value}),t.$.container.className.indexOf("custom-color-selection")>-1&&t._applyValueInPaletteMode(),e&&t.$.fireEvent("cancelButtonClick"),!1===t._customColorSelection){t._updatePreviewContainerValues(t.value)
let e=("hexagonal"===t.displayMode?t.$.colorPaletteHexagonal:t.$.gridModeContainer).getElementsByClassName("selected")
for(let i=0;i<e.length;i++)!e[i]||t.value&&t._equalValues(e[i].colorCode,t.value)||(e[i].style.stroke=null,e[i].classList.remove("selected"),e[i].removeAttribute("aria-current"))}else t.$container.removeClass("custom-color-selection"),t.$.fireEvent("customColorSelection",{value:!1})
if(t._customColorSelection=!1,t._customTempColor=void 0,"palette"===t.displayMode||"radial"===t.displayMode){const e=(t.shadowRoot||t).querySelector(".preview-container-top")
e&&(e.style.backgroundColor=t.value)}}_handleOkButtonClick(e){const t=this,i=t.value
if(!1!==t._customColorSelection&&void 0!==t._customColorSelection){const n=t._getValue(t.valueFormat)
return"useButtons"!==t.applyValueMode&&(t.value=n),t._userPalette.unshift(n),t._generatePaletteUserColorGrid(),t._customColorSelection=!1,i!==t.value&&t.$.fireEvent("change",{oldValue:i,value:t.value}),e&&t.$.fireEvent("okButtonClick",{}),void t.$container.removeClass("custom-color-selection")}if(t._customTempColor&&(t._userPalette.unshift(t._customTempColor),t._generatePaletteUserColorGrid(),t._generateNewPalette=!1,t._customTempColor=""),"palette"===t.displayMode||"radial"===t.displayMode||"hexagonal"===t.displayMode||t._selectedItem&&t._selectedItem.classList.contains("selected")?t.value=t._getValue(t.valueFormat):t.value=null,null===t.value)if("palette"===t.displayMode)t._applyValue(t._HSVtoRGBA(t._HSV),event)
else{let e=t.$.gridModeContainer.getElementsByClassName("selected")
for(let t=0;t<e.length;t++)e[t]&&(e[t].classList.remove("selected"),e[t].removeAttribute("aria-current"))}i!==t.value&&t.$.fireEvent("change",{oldValue:i,value:t.value}),e&&t.$.fireEvent("okButtonClick",{}),t._customColorSelection=!1,"useButtons"!==t.applyValueMode||t._equalValues(t.value,t._HSVtoRGBA())||t._updatePreviewContainerValues(t._getValue("rgba"),!0)}_handleInputChange(e){const t=this,i=t.value,n=e.target
if(t.disabled||t.readonly)return
e.preventDefault(),e.stopPropagation()
const r=["r-channel","g-channel","b-channel"].find(e=>n.className.indexOf(e)>-1),o=n.classList.contains("a-channel")
if(r||o)n.value=r?Math.min(255,Math.max(0,n.value)):Math.min(1,Math.max(0,parseFloat(n.value)||0)),t._RGBA=t._getRGBAFromInputs(),t._HSV=t._getValue("hsv","rgba("+t._RGBA.r+", "+t._RGBA.g+", "+t._RGBA.b+", "+t._RGBA.a+")")
else if(n.classList.contains("hex")){const e=t.value?t._getValue("hex"):null,i="#"+n.value
t._isHEX(i)?(t._RGBA.a=1,t._applyValue(t.editAlphaChannel?t._toRGBA(i):t._toHEX(i))):n.value=e?e.substring(1):"ffffff"}t._applyValue(t.editAlphaChannel?t._getValue("rgba"):t._getValue("hex")),"useButtons"===t.applyValueMode||t.$.container.className.indexOf("custom-color-selection")>-1||(t.value=t._getValue(t.valueFormat),t.$.fireEvent("change",{oldValue:i,value:t.value}))}_applyValue(e,t){const i=this
if(!e||null===e||"rgba(NaN, NaN, NaN, 1)"===e)return i._RGBA={r:255,g:255,b:255,a:1},void(i.$.hiddenInput.value=i.value)
i._HSVRGBArefresh(e.trim()),"palette"===i.displayMode||i.$.container.className.indexOf("custom-color-selection")>-1?i._applyValueInPaletteMode(t):"radial"===i.displayMode?i._applyValueInRadialMode(t):"hexagonal"===i.displayMode?i._applyValueInHexagonalMode(t):i._applyValueInAnyGridMode(e.trim()),i._applyAlphaValue(i._RGBA.a),i.$.hiddenInput.value=i.value}_applyAlphaValue(e,t){const i=this
if(e=parseFloat(e),i.$.alphaChannelScale){if("alphaScale"!==t){const t=i.$.alphaChannelThumb.offsetWidth,n=i.$.alphaChannelScale.offsetWidth,r=(1-e)*n>t?(1-e)*t:0
i.$.alphaChannelThumb.style[i.rightToLeft?"left":"right"]="",i.$.alphaChannelThumb.style[i.rightToLeft?"right":"left"]=(1-e)*n-r+"px"}if("alphaInput"!==t){i.$.alphaChannelContainer.querySelector("input.a-channel").value=e}i.$.alphaChannelScale.setAttribute("aria-valuenow",e)}i._RGBA.a=e,i._updatePreviewContainerValues(i._getValue("rgba"))}_applyValueInPaletteMode(e){const t=this,i=t._getValue("hex"),n=t.$.hueScale.offsetHeight,r=t.$.hueScaleThumb.offsetHeight,o=t._HSV.h?n*((360-t._HSV.h)/360):0,a=(t.shadowRoot||t).querySelector("input.hex")
if(t._setRGBAToInputs(),a&&(a.value=i.substring(1)),t.$.alphaChannelContainer.style.setProperty("--jqx-color-panel-alpha-channel-color",t._rgbArrayToHEX([t._RGBA.r,t._RGBA.g,t._RGBA.b,1])),!t._activeComponent){if(t.$.alphaChannelThumb){const e=t.$.alphaChannelThumb.offsetWidth,i=t.$.alphaChannelScale.offsetWidth,n=(1-t._RGBA.a)*i>e?(1-t._RGBA.a)*e:0
t.$.alphaChannelThumb.style[t.rightToLeft?"left":"right"]="",t.$.alphaChannelThumb.style[t.rightToLeft?"right":"left"]=(1-t._RGBA.a)*i-n+"px",t.$.alphaChannelScale.setAttribute("aria-valuenow",t._RGBA.a)}t.$.hueScaleThumb.style.top=Math.max(0,Math.min(n-r,o-r/2))+"px",t._setPalettePointerXYPosition()}t._activeComponent===t.$.hueScale&&(t.$.colorPalette.style.backgroundColor=t._rgbaToRGB(t._HSVtoRGBA({h:t.$.hueScaleThumb.h,s:1,v:1}))),t._activeComponent&&t._activeComponent!==t.$.colorPalette||t._setPalettePointerXYPosition(e),t.event?t._HSV.h=t.$.hueScaleThumb.h:(t.$.hueScaleThumb.h=t._HSV.h,t.$.colorPalette.style.backgroundColor=t._rgbaToRGB(t._HSVtoRGBA({h:t._HSV.h,s:1,v:1}))),t._updatePreviewContainerValues(t._getValue("rgba")),t.$.hueScale.setAttribute("aria-valuenow",t.$.hueScaleThumb.h)}_applyValueInRadialMode(e){const t=this,i=t._getValue("hex"),n=(t.shadowRoot||t).querySelector("input.hex")
if(t._setRGBAToInputs(),n&&(n.value=i.substring(1)),t.$.alphaChannelContainer.style.setProperty("--jqx-color-panel-alpha-channel-color",t._rgbArrayToHEX([t._RGBA.r,t._RGBA.g,t._RGBA.b,1])),!t._activeComponent){const e=t.$.brightnessScale.offsetHeight-t.$.brightnessScaleThumb.offsetHeight
if(t.$.alphaChannelThumb){const e=t.$.alphaChannelThumb.offsetWidth,i=t.$.alphaChannelScale.offsetWidth,n=(1-t._RGBA.a)*i>e?(1-t._RGBA.a)*e:0
t.$.alphaChannelThumb.style[t.rightToLeft?"left":"right"]="",t.$.alphaChannelThumb.style[t.rightToLeft?"right":"left"]=(1-t._RGBA.a)*i-n+"px",t.$.alphaChannelScale.setAttribute("aria-valuenow",t._RGBA.a)}const i=t.inverted?t._HSV.v:1-t._HSV.v
t.$.brightnessScale.setAttribute("aria-valuenow",t._HSV.v),t.$.brightnessScaleThumb.style.top=e*i+"px",t.$.colorPaletteRadial.style.setProperty("--jqx-color-panel-brightness",i)}if(t._activeComponent&&t._activeComponent!==t.$.colorPaletteRadial||t._setPalettePointerXYPosition(e),t._updatePreviewContainerValues(t._getValue("rgba")),t.inverted){const e=null===t.value?"black":t._HSVtoRGBA({h:t._HSV.h,s:1,v:t._HSV.v})
t.$.brightnessScale.style.backgroundImage="linear-gradient("+e+", white)"}else{const e=null===t.value?"white":t._HSVtoRGBA({h:t._HSV.h,s:t._HSV.s,v:1})
t.$.brightnessScale.style.backgroundImage="linear-gradient("+e+", black)"}}_applyValueInHexagonalMode(){const e=this,t=e._getValue("hex"),i=(e.shadowRoot||e).querySelector("input.hex")
if(e._setRGBAToInputs(),i&&(i.value=t?t.substring(1):null),e.$.alphaChannelContainer.style.setProperty("--jqx-color-panel-alpha-channel-color",e._rgbArrayToHEX([e._RGBA.r,e._RGBA.g,e._RGBA.b,1])),!e._activeComponent&&!e._targetItem){const t=e.$.brightnessScale.offsetHeight-e.$.brightnessScaleThumb.offsetHeight
if(e.$.alphaChannelThumb){const t=e.$.alphaChannelThumb.offsetWidth,i=e.$.alphaChannelScale.offsetWidth,n=(1-e._RGBA.a)*i>t?(1-e._RGBA.a)*t:0
e.$.alphaChannelThumb.style[e.rightToLeft?"left":"right"]="",e.$.alphaChannelThumb.style[e.rightToLeft?"right":"left"]=(1-e._RGBA.a)*i-n+"px",e.$.alphaChannelScale.setAttribute("aria-valuenow",e._RGBA.a)}const i=e.inverted?e._HSV.v:1-e._HSV.v
e.$.brightnessScale.setAttribute("aria-valuenow",e._HSV.v),e.$.brightnessScaleThumb.style.top=t*i+"px"}const n=e._getValue("rgba")
if(e._updatePreviewContainerValues(n||e._getValue("hex")),e.inverted){const t=e._HSVtoRGBA({h:e._HSV.h,s:1,v:e._HSV.v},1)
e.$.brightnessScale.style.backgroundImage="linear-gradient("+t+", white)"}else{const t=e._HSVtoRGBA({h:e._HSV.h,s:e._HSV.s,v:1},1)
e.$.brightnessScale.style.backgroundImage="linear-gradient("+t+", black)"}e._applyValueInAnyGridMode(t,e.$.colorPaletteHexagonal)}_radialThumbPoint(e,t,i,n){return{x:Math.round(Math.cos(i*Math.PI/180)*n*e+e),y:Math.round(Math.sin(i*Math.PI/180)*n*e+t)}}_updatePreviewContainerValues(e,t){const i=(this.shadowRoot||this).querySelector(".preview-container")
i&&(("instantly"===this.applyValueMode||t)&&(i.firstElementChild.style.backgroundColor=e),i.lastElementChild.style.backgroundColor=e)}_applyValueInAnyGridMode(e,t){const i=this
if(!e&&null!==e)return
if(!t)switch(i.displayMode){case"default":t=i.$.defaultSamplesContainer
break
case"grid":t=i.$.gridSamplesContainer
break
case"materialGrid":t=i.$.materialGridSamplesContainer
break
case"spectrumGrid":t=i.$.spectrumGridSamplesContainer
break
default:t=i.$.gridModeContainer}if(!t)return
const n=Array.from(t.getElementsByClassName("color-sample"))
let r=i._targetItem
if(null==r)for(let t=0;t<n.length;t++){const o=n[t]
if(i._equalValues(o.colorCode,e)){r=n[t]
break}}i.$.container.className.indexOf("custom-color-selection")>-1&&i._HSV.h&&i._applyValueInPaletteMode(),i._changeSampleSelection(r)}_generatePaletteGrid(){const e=this
if(!e.$.gridSamplesContainer)return
const t=e["_"+e.palette+"Palette"]
let i=document.createDocumentFragment()
for(let n=0;n<t.length;n++){const r=document.createElement("span"),o=t[n]
r.setAttribute("role","menuitem"),r.setAttribute("aria-label",o),r.className="color-sample",r.colorCode=o,r.style.backgroundColor=o,"rgba(255, 255, 255, 0)"===e._toRGBA(o)||"#FFFFFF00"===e._toHEX(e._toRGBA(o))||"transparent"===o?r.setAttribute("transparent",""):r.removeAttribute("transparent"),i.appendChild(r)}e.$.gridSamplesContainer.setAttribute("role","menu"),e.$.gridSamplesContainer.innerHTML="",e.$.gridSamplesContainer.appendChild(i)}_generatePaletteUserColorGrid(e){const t=this
if(!t.$.userSamplesContainer)return
if(!t._userPalette||!t._userPalette.length)return void(t.$.userSamplesContainer.innerHTML="")
let i,n=t._userPalette.filter(e=>""!==e).slice(0,t.columnCount||1),r=document.createDocumentFragment()
n=[...new Set(n)]
for(let e=0;e<n.length;e++)if(n[e]){const o=t._createColorSample(n[e],"user-color")
r.appendChild(o),i||(i=o)}t.$.userSamplesContainer.innerHTML="",t.$.userSamplesContainer.appendChild(r),t.$.userSamplesContainer.setAttribute("role","menu"),!e&&i&&i.colorCode&&t._changeSampleSelection(i),t.paletteCustomColors=t._userPalette.slice(0)}_initializeBaseVars(){void 0===this._RGBA&&(this._RGBA={r:255,g:255,b:255,a:1},this._HSV={h:0,s:0,v:1},this.$.hueScaleThumb.h=0,this.$.colorPaletteThumb.s=0,this.$.colorPaletteThumb.v=1,this.$.colorPaletteRadialThumb.h=0,this.$.colorPaletteRadialThumb.s=0,this._defaultPalette=["rgba(255, 255, 255, 0)","rgb(0, 0, 0)","rgb(153, 51, 0)","rgb(51, 51, 0)","rgb(0, 51, 0)","rgb(0, 51, 102)","rgb(0, 0, 128)","rgb(51, 51, 153)","rgb(51, 51, 51)","rgb(128, 0, 0)","rgb(255, 102, 0)","rgb(128, 128, 0)","rgb(0, 128, 0)","rgb(0, 128, 128)","rgb(0, 0, 255)","rgb(102, 102, 153)","rgb(128, 128, 128)","rgb(255, 0, 0)","rgb(255, 153, 0)","rgb(153, 204, 0)","rgb(51, 153, 102)","rgb(51, 204, 204)","rgb(51, 102, 255)","rgb(128, 0, 128)","rgb(153, 153, 153)","rgb(255, 0, 255)","rgb(255, 204, 0)","rgb(255, 255, 0)","rgb(0, 255, 0)","rgb(0, 255, 255)","rgb(0, 204, 255)","rgb(153, 51, 102)","rgb(192, 192, 192)","rgb(255, 153, 204)","rgb(255, 204, 153)","rgb(255, 255, 153)","rgb(204, 255, 204)","rgb(204, 255, 255)","rgb(153, 204, 255)","rgb(204, 153, 255)","rgb(255, 255, 255)"],this._grayPalette=this._generateShades(40,"gray"),this._redPalette=this._generateShades(40,"red"),this._greenPalette=this._generateShades(40,"green"),this._bluePalette=this._generateShades(40,"blue"),this._customPalette=this._mapDataSourceToPalette(),this._userPalette=this.paletteCustomColors||[],this._colorPalette={},this._cssColorNamesHEX={aliceblue:"#f0f8ff",antiquewhite:"#faebd7",aqua:"#00ffff",aquamarine:"#7fffd4",azure:"#f0ffff",beige:"#f5f5dc",bisque:"#ffe4c4",black:"#000000",blanchedalmond:"#ffebcd",blue:"#0000ff",blueviolet:"#8a2be2",brown:"#a52a2a",burlywood:"#deb887",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",cornflowerblue:"#6495ed",cornsilk:"#fff8dc",crimson:"#dc143c",cyan:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkgray:"#a9a9a9",darkgreen:"#006400",darkkhaki:"#bdb76b",darkmagenta:"#8b008b",darkolivegreen:"#556b2f",darkorange:"#ff8c00",darkorchid:"#9932cc",darkred:"#8b0000",darksalmon:"#e9967a",darkseagreen:"#8fbc8f",darkslateblue:"#483d8b",darkslategray:"#2f4f4f",darkturquoise:"#00ced1",darkviolet:"#9400d3",deeppink:"#ff1493",deepskyblue:"#00bfff",dimgray:"#696969",dodgerblue:"#1e90ff",firebrick:"#b22222",floralwhite:"#fffaf0",forestgreen:"#228b22",fuchsia:"#ff00ff",gainsboro:"#dcdcdc",ghostwhite:"#f8f8ff",gold:"#ffd700",goldenrod:"#daa520",gray:"#808080",green:"#008000",greenyellow:"#adff2f",honeydew:"#f0fff0",hotpink:"#ff69b4","indianred ":"#cd5c5c",indigo:"#4b0082",ivory:"#fffff0",khaki:"#f0e68c",lavender:"#e6e6fa",lavenderblush:"#fff0f5",lawngreen:"#7cfc00",lemonchiffon:"#fffacd",lightblue:"#add8e6",lightcoral:"#f08080",lightcyan:"#e0ffff",lightgoldenrodyellow:"#fafad2",lightgrey:"#d3d3d3",lightgreen:"#90ee90",lightpink:"#ffb6c1",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",lightskyblue:"#87cefa",lightslategray:"#778899",lightsteelblue:"#b0c4de",lightyellow:"#ffffe0",lime:"#00ff00",limegreen:"#32cd32",linen:"#faf0e6",magenta:"#ff00ff",maroon:"#800000",mediumaquamarine:"#66cdaa",mediumblue:"#0000cd",mediumorchid:"#ba55d3",mediumpurple:"#9370d8",mediumseagreen:"#3cb371",mediumslateblue:"#7b68ee",mediumspringgreen:"#00fa9a",mediumturquoise:"#48d1cc",mediumvioletred:"#c71585",midnightblue:"#191970",mintcream:"#f5fffa",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",navajowhite:"#ffdead",navy:"#000080",oldlace:"#fdf5e6",olive:"#808000",olivedrab:"#6b8e23",orange:"#ffa500",orangered:"#ff4500",orchid:"#da70d6",palegoldenrod:"#eee8aa",palegreen:"#98fb98",paleturquoise:"#afeeee",palevioletred:"#d87093",papayawhip:"#ffefd5",peachpuff:"#ffdab9",peru:"#cd853f",pink:"#ffc0cb",plum:"#dda0dd",powderblue:"#b0e0e6",purple:"#800080",rebeccapurple:"#663399",red:"#ff0000",rosybrown:"#bc8f8f",royalblue:"#4169e1",saddlebrown:"#8b4513",salmon:"#fa8072",sandybrown:"#f4a460",seagreen:"#2e8b57",seashell:"#fff5ee",sienna:"#a0522d",silver:"#c0c0c0",skyblue:"#87ceeb",slateblue:"#6a5acd",slategray:"#708090",snow:"#fffafa",springgreen:"#00ff7f",steelblue:"#4682b4",tan:"#d2b48c",teal:"#008080",thistle:"#d8bfd8",tomato:"#ff6347",turquoise:"#40e0d0",violet:"#ee82ee",wheat:"#f5deb3",white:"#ffffff",whitesmoke:"#f5f5f5",yellow:"#ffff00",yellowgreen:"#9acd32"},this._defaultModeThemeColors=null===this.gridThemeColors?["#FFFFFF","#000000","#E6E6E6","#495469","#5671C2","#D48439","#A5A5A5","#EEC328","#7399D3","#85AA4C"]:this.gridThemeColors,this._defaultModeStandardColors=null===this.gridStandardColors?["#A52A0D","#DB3A15","#EEC328","#FEFE33","#A6CD57","#62AC54","#65ADEE","#3F6FBE","#10205F","#64379E"]:this.gridStandardColors,this._defaultModeShadesColors=null===this.gridShadeColors?["#F2F2F2","#808080","#D0CECE","#D6DCE4","#DDEBF7","#FCE4D6","#EBEBEB","#FFF2CC","#DDE5F7","#E2EFDA","#D8D8D8","#595959","#AEAAAA","#ACB9CA","#BDD7EE","#F6CAAD","#DBDBDB","#FFE699","#B4C6E7","#C6E0B4","#BFBFBF","#404040","#757171","#8497B0","#9BC2E6","#F4B084","#C0C0C0","#FFD966","#8EA9DB","#A9D08E","#A6A6A6","#262626","#312F2F","#333F4F","#2F75B5","#C65911","#7B7B7B","#BF8F00","#305496","#548235","#808080","#0D0D0D","#161616","#222B35","#1F4E78","#833C0C","#525252","#806000","#203764","#375623"]:this.gridShadeColors,this._materialColors={Red:{50:"rgb(255, 235, 238)",100:"rgb(255, 205, 210)",200:"rgb(239, 154, 154)",300:"rgb(229, 115, 115)",400:"rgb(239, 83, 80)",500:"rgb(244, 67, 54)",600:"rgb(229, 57, 53)",700:"rgb(211, 47, 47)",800:"rgb(198, 40, 40)",900:"rgb(183, 28, 28)","A 100":"rgb(255, 138, 128)","A 200":"rgb(255, 82, 82)","A 400":"rgb(255, 23, 68)","A 700":"rgb(213, 0, 0)"},Pink:{50:"rgb(252, 228, 236)",100:"rgb(248, 187, 208)",200:"rgb(244, 143, 177)",300:"rgb(240, 98, 146)",400:"rgb(236, 64, 122)",500:"rgb(233, 30, 99)",600:"rgb(216, 27, 96)",700:"rgb(194, 24, 91)",800:"rgb(173, 20, 87)",900:"rgb(136, 14, 79)","A 100":"rgb(255, 128, 171)","A 200":"rgb(255, 64, 129)","A 400":"rgb(245, 0, 87)","A 700":"rgb(197, 17, 98)"},Purple:{50:"rgb(243, 229, 245)",100:"rgb(225, 190, 231)",200:"rgb(206, 147, 216)",300:"rgb(186, 104, 200)",400:"rgb(171, 71, 188)",500:"rgb(156, 39, 176)",600:"rgb(142, 36, 170)",700:"rgb(123, 31, 162)",800:"rgb(106, 27, 154)",900:"rgb(74, 20, 140)","A 100":"rgb(234, 128, 252)","A 200":"rgb(224, 64, 251)","A 400":"rgb(213, 0, 249)","A 700":"rgb(170, 0, 255)"},"Deep Purple":{50:"rgb(237, 231, 246)",100:"rgb(209, 196, 233)",200:"rgb(179, 157, 219)",300:"rgb(149, 117, 205)",400:"rgb(126, 87, 194)",500:"rgb(103, 58, 183)",600:"rgb(94, 53, 177)",700:"rgb(81, 45, 168)",800:"rgb(69, 39, 160)",900:"rgb(49, 27, 146)","A 100":"rgb(179, 136, 255)","A 200":"rgb(124, 77, 255)","A 400":"rgb(101, 31, 255)","A 700":"rgb(98, 0, 234)"},Indigo:{50:"rgb(232, 234, 246)",100:"rgb(197, 202, 233)",200:"rgb(159, 168, 218)",300:"rgb(121, 134, 203)",400:"rgb(92, 107, 192)",500:"rgb(63, 81, 181)",600:"rgb(57, 73, 171)",700:"rgb(48, 63, 159)",800:"rgb(40, 53, 147)",900:"rgb(26, 35, 126)","A 100":"rgb(140, 158, 255)","A 200":"rgb(83, 109, 254)","A 400":"rgb(61, 90, 254)","A 700":"rgb(48, 79, 254)"},Blue:{50:"rgb(227, 242, 253)",100:"rgb(187, 222, 251)",200:"rgb(144, 202, 249)",300:"rgb(100, 181, 246)",400:"rgb(66, 165, 245)",500:"rgb(33, 150, 243)",600:"rgb(30, 136, 229)",700:"rgb(25, 118, 210)",800:"rgb(21, 101, 192)",900:"rgb(13, 71, 161)","A 100":"rgb(130, 177, 255)","A 200":"rgb(68, 138, 255)","A 400":"rgb(41, 121, 255)","A 700":"rgb(41, 98, 255)"},"Light Blue":{50:"rgb(225, 245, 254)",100:"rgb(179, 229, 252)",200:"rgb(129, 212, 250)",300:"rgb(79, 195, 247)",400:"rgb(41, 182, 246)",500:"rgb(3, 169, 244)",600:"rgb(3, 155, 229)",700:"rgb(2, 136, 209)",800:"rgb(2, 119, 189)",900:"rgb(1, 87, 155)","A 100":"rgb(128, 216, 255)","A 200":"rgb(64, 196, 255)","A 400":"rgb(0, 176, 255)","A 700":"rgb(0, 145, 234)"},Cyan:{50:"rgb(224, 247, 250)",100:"rgb(178, 235, 242)",200:"rgb(128, 222, 234)",300:"rgb(77, 208, 225)",400:"rgb(38, 198, 218)",500:"rgb(0, 188, 212)",600:"rgb(0, 172, 193)",700:"rgb(0, 151, 167)",800:"rgb(0, 131, 143)",900:"rgb(0, 96, 100)","A 100":"rgb(132, 255, 255)","A 200":"rgb(24, 255, 255)","A 400":"rgb(0, 229, 255)","A 700":"rgb(0, 184, 212)"},Teal:{50:"rgb(224, 242, 241)",100:"rgb(178, 223, 219)",200:"rgb(128, 203, 196)",300:"rgb(77, 182, 172)",400:"rgb(38, 166, 154)",500:"rgb(0, 150, 136)",600:"rgb(0, 137, 123)",700:"rgb(0, 121, 107)",800:"rgb(0, 105, 92)",900:"rgb(0, 77, 64)","A 100":"rgb(167, 255, 235)","A 200":"rgb(100, 255, 218)","A 400":"rgb(29, 233, 182)","A 700":"rgb(0, 191, 165)"},Green:{50:"rgb(232, 245, 233)",100:"rgb(200, 230, 201)",200:"rgb(165, 214, 167)",300:"rgb(129, 199, 132)",400:"rgb(102, 187, 106)",500:"rgb(76, 175, 80)",600:"rgb(67, 160, 71)",700:"rgb(56, 142, 60)",800:"rgb(46, 125, 50)",900:"rgb(27, 94, 32)","A 100":"rgb(185, 246, 202)","A 200":"rgb(105, 240, 174)","A 400":"rgb(0, 230, 118)","A 700":"rgb(0, 200, 83)"},"Light Green":{50:"rgb(241, 248, 233)",100:"rgb(220, 237, 200)",200:"rgb(197, 225, 165)",300:"rgb(174, 213, 129)",400:"rgb(156, 204, 101)",500:"rgb(139, 195, 74)",600:"rgb(124, 179, 66)",700:"rgb(104, 159, 56)",800:"rgb(85,139,47)",900:"rgb(51,105,30)","A 100":"rgb(204,255,144)","A 200":"rgb(178,255,89)","A 400":"rgb(118,255,3)","A 700":"rgb(100, 221, 23)"},Lime:{50:"rgb(249, 251, 231)",100:"rgb(255, 249, 196)",200:"rgb(255, 245, 157)",300:"rgb(255, 241, 118)",400:"rgb(255, 238, 88)",500:"rgb(255, 235, 59)",600:"rgb(253, 216, 53)",700:"rgb(251, 192, 45)",800:"rgb(249, 168, 37)",900:"rgb(245, 127, 23)","A 100":"rgb(244, 255, 129)","A 200":"rgb(238, 255, 65)","A 400":"rgb(198, 255, 0)","A 700":"rgb(174, 234, 0)"},Yellow:{50:"rgb(255, 253, 231)",100:"rgb(255, 249, 196)",200:"rgb(255, 245, 157)",300:"rgb(255, 241, 118)",400:"rgb(255, 238, 88)",500:"rgb(255, 235, 59)",600:"rgb(253, 216, 53)",700:"rgb(251, 192, 45)",800:"rgb(249, 168, 37)",900:"rgb(245, 127, 23)","A 100":"rgb(255, 255, 141)","A 200":"rgb(255, 255, 0)","A 400":"rgb(255, 234, 0)","A 700":"rgb(255, 214, 0)"},Amber:{50:"rgb(255, 248, 225)",100:"rgb(255, 236, 179)",200:"rgb(255, 224, 130)",300:"rgb(255, 213, 79)",400:"rgb(255, 202, 40)",500:"rgb(255, 193, 7)",600:"rgb(255, 179, 0)",700:"rgb(255, 160, 0)",800:"rgb(255, 143, 0)",900:"rgb(255, 111, 0)","A 100":"rgb(255, 229, 127)","A 200":"rgb(255, 215, 64)","A 400":"rgb(255, 196, 0)","A 700":"rgb(255, 171, 0)"},Orange:{50:"rgb(255, 243, 224)",100:"rgb(255, 224, 178)",200:"rgb(255, 204, 128)",300:"rgb(255, 183, 77)",400:"rgb(255, 167, 38)",500:"rgb(255, 152, 0)",600:"rgb(251, 140, 0)",700:"rgb(245, 124, 0)",800:"rgb(239, 108, 0)",900:"rgb(230, 81, 0)","A 100":"rgb(255, 209, 128)","A 200":"rgb(255, 171, 64)","A 400":"rgb(255, 145, 0)","A 700":"rgb(255, 109, 0)"},"Deep Orange":{50:"rgb(251, 233, 231)",100:"rgb(255, 204, 188)",200:"rgb(255, 171, 145)",300:"rgb(255, 138, 101)",400:"rgb(255, 112, 67)",500:"rgb(255, 87, 34)",600:"rgb(244, 81, 30)",700:"rgb(230, 74, 25)",800:"rgb(216, 67, 21)",900:"rgb(191, 54, 12)","A 100":"rgb(255, 158, 128)","A 200":"rgb(255, 110, 64)","A 400":"rgb(255, 61, 0)","A 700":"rgb(221, 44, 0)"},Brown:{50:"rgb(239, 235, 233)",100:"rgb(215, 204, 200)",200:"rgb(188, 170, 164)",300:"rgb(161, 136, 127)",400:"rgb(141, 110, 99)",500:"rgb(121, 85, 72)",600:"rgb(109, 76, 65)",700:"rgb(93, 64, 55)",800:"rgb(78, 52, 46)",900:"rgb(62, 39, 35)","A 100":"","A 200":"","A 400":"","A 700":""},Grey:{50:"rgb(250, 250, 250)",100:"rgb(245, 245, 245)",200:"rgb(238, 238, 238)",300:"rgb(224, 224, 224)",400:"rgb(189, 189, 189)",500:"rgb(158, 158, 158)",600:"rgb(117, 117, 117)",700:"rgb(97, 97, 97)",800:"rgb(66, 66, 66)",900:"rgb(33, 33, 33)","A 100":"","A 200":"","A 400":"","A 700":""},"Blue Grey":{50:"rgb(236, 239, 241)",100:"rgb(207, 216, 220)",200:"rgb(176, 190, 197)",300:"rgb(144, 164, 174)",400:"rgb(120, 144, 156)",500:"rgb(96, 125, 139)",600:"rgb(84, 110, 122)",700:"rgb(69, 90, 100)",800:"rgb(55, 71, 79)",900:"rgb(38, 50, 56)","A 100":"","A 200":"","A 400":"","A 700":""}})}_mapDataSourceToPalette(){const e=this
let t=[]
if(!e.paletteColors||!Array.isArray(e.paletteColors)||0===e.paletteColors.length)return[]
for(let i=0;i<e.paletteColors.length;i++){let n=e.paletteColors[i]
"object"==typeof n&&n[e.valueMember]&&"string"==typeof n[e.valueMember]&&(n=n[e.valueMember]),n+="",e._isValidColor(n)&&t.push(n)}return t}_handleSampleClick(e){const t=this,i=e.target,n=t.value
let r=i.colorCode
"hexagonal"===t.displayMode?(r=t._HSVtoRGBA({h:i.h,s:i.s,v:i.v},t._RGBA.a),t._hexagonItems.indexOf(i)>-1&&(t._HSV.h=i.h,t.inverted,t._HSV.s=i.s,t._HSV.v=i.v,t._targetItem=i,t._applyValue(t._HSVtoRGBA(t._HSV),e),delete t._targetItem)):t._changeSampleSelection(i),t._HSVRGBArefresh(i.classList.contains("selected")?r:null),"instantly"===t.applyValueMode&&(t.$.hiddenInput.value=t.value=t._getValue(t.valueFormat,i.classList.contains("selected")?r:null),t.value!==n&&t.$.fireEvent("change",{oldValue:n,value:t.value}))}_changeSampleSelection(e){if(this._selectedItem&&"radial"!==this.displayMode&&"hexagonal"!==this.displayMode&&(!e||this._selectedItem===e&&e.classList.contains("selected")))return
if(!e)return
const t=this._getContrastColor(this._rgbaToHEX(this._toRGBA(e.colorCode))),i=e.closest("svg")
return Array.from((this.shadowRoot||this).querySelectorAll(".selected")).forEach(e=>{e.classList.remove("selected"),e.removeAttribute("aria-current"),e.style.stroke=null}),e.classList.add("selected"),e.setAttribute("aria-current",!0),this._selectedItem=e,i&&(e.style.stroke=t,i.appendChild(e)),!0}_getContrastColor(e){if(void 0===e)return
let t=(i=e.slice(1,3),n=e.slice(3,5),r=e.slice(5,7),[parseInt(i,16),parseInt(n,16),parseInt(r,16)])
var i,n,r
return(.299*t[0]+.61*t[1]+.114*t[2])/255>.6?"#000000":"#FFFFFF"}_getXYcoordinates(e){if(!e)return
const t=this._activeComponent||(e.originalEvent||e).target
if(!t.closest)return
const i=t.closest(".color-palette")||t.closest(".color-palette-radial")||t.closest(".hue-scale")||t.closest(".brightness-scale")||t.closest(".alpha-channel-scale")
if(!i||this.disabled||this.readonly)return
const n=i.getBoundingClientRect()
let r=e.pageX-window.pageXOffset-n.left,o=e.pageY-window.pageYOffset-n.top
return r<0?r=0:r>i.offsetWidth&&(r=i.offsetWidth),o<0?o=0:o>i.offsetHeight&&(o=i.offsetHeight),{x:r,y:o,container:i}}_inputWheelHandler(e){const t=this,i=t.value,n=e.target
if(!(e.target instanceof HTMLInputElement)||e.target.classList.contains("hex"))return
let r
e.preventDefault(),n.classList.contains("a-channel")?(r=parseFloat(n.value)||0,r=e.deltaY<0?r+.01:r-.01,n.value=t._toFixed(t._validateInRange(r,0,1)),t._RGBA=t._getRGBAFromInputs(),t._applyAlphaValue(t._RGBA.a,"alphaInput")):(r=parseInt(n.value)||0,r=e.deltaY<0?r+1:r-1,n.value=t._validateInRange(r,0,255),t._RGBA=t._getRGBAFromInputs(),t._HSV=t._getValue("hsv","rgba("+t._RGBA.r+", "+t._RGBA.g+", "+t._RGBA.b+", "+t._RGBA.a+")")),t._updatePreviewContainerValues(t._getValue(t.valueFormat)),t._setPalettePointerXYPosition(),"useButtons"===t.applyValueMode&&("palette"===t.displayMode?t._applyValueInPaletteMode():"radial"===t.displayMode?t._applyValueInRadialMode():"hexagonal"===t.displayMode&&t._generateHoneycomb(t.columnCount,t._HSV)),t.$.container.className.indexOf("custom-color-selection")>-1?t._applyValue(t._HSVtoRGBA(t._HSV)):"useButtons"!==t.applyValueMode&&(t.value=t._getValue(t.valueFormat),t._applyValue(t.value,e),t.$.fireEvent("change",{oldValue:i,value:t.value}))}_paletteDownHandler(e){const t=this
if(!JQX.Utilities.Core.isMobile&&0!==e.button||t.disabled||t.readonly)return
t._dragDetails={x:e.pageX-window.pageXOffset,y:e.pageY-window.pageYOffset}
const i=(e.originalEvent||e).target
if(i&&i.closest){if(t._dragDetails.target=i.closest(".color-palette")||i.closest(".color-palette-radial"),i.closest(".color-palette")||i.closest(".color-palette-radial"))return t._handleColorPaletteDown(e.originalEvent),void(t._dragDetails.isPalettePressed=!0);(i.closest(".hue-scale")||i.closest(".alpha-channel-scale")||i.closest(".brightness-scale"))&&t._handleScalesDown(e.originalEvent)}}_setPalettePointerXYPosition(e){const t=this
let i
if("palette"===t.displayMode||t.$.container.className.indexOf("custom-color-selection")>-1)i=t._getXYcoordinates(e),t.$.colorPaletteThumb.style.left=e&&i&&i.x?100*i.x/i.container.offsetWidth+"%":100*t._HSV.s+"%",t.$.colorPaletteThumb.style.top=e&&i&&i.y?100*i.y/i.container.offsetHeight+"%":100*(1-t._HSV.v)+"%"
else if("radial"===t.displayMode){if(e){if(!(i=t._getXYcoordinates(e)))return
const n=i.container.offsetWidth?i.container.offsetWidth:t.$.colorPaletteRadial.offsetWidth,r=i.container.offsetHeight?i.container.offsetHeight:t.$.colorPaletteRadial.offsetHeight,o=Math.round(Math.cos(t._HSV.h*Math.PI/180)*n/2+n/2),a=Math.round(Math.sin(t._HSV.h*Math.PI/180)*n/2+r/2)
return Math.abs(n/2-i.x)<5?(t.$.colorPaletteRadialThumb.style.left=100*i.x/t.$.colorPaletteRadial.offsetWidth+"%",void(t.$.colorPaletteRadialThumb.style.top=100*i.y/t.$.colorPaletteRadial.offsetHeight+"%")):(t.$.colorPaletteRadialThumb.style.left=100*(i.x<n/2?Math.max(o,i.x):Math.min(o,i.x))/n+"%",void(t.$.colorPaletteRadialThumb.style.top=100*(i.y<r/2?Math.max(a,i.y):Math.min(a,i.y))/r+"%"))}{const e=t._radialThumbPoint(t.$.colorPaletteRadial.offsetWidth/2,t.$.colorPaletteRadial.offsetHeight/2,t._HSV.h,t._HSV.s)
t.$.colorPaletteRadialThumb.style.left=100*e.x/t.$.colorPaletteRadial.offsetWidth+"%",t.$.colorPaletteRadialThumb.style.top=100*e.y/t.$.colorPaletteRadial.offsetHeight+"%"}}}_handleGridModeCellHover(e){const t=this,i=e.target.closest(".color-sample")
if(t.disabled||!i||"none"===t.tooltipDisplayMode||!t.$.tooltip)return
if(t.$.tooltip.arrow="hexagonal"!==t.displayMode,!t._isValidColor(i.colorCode))return void(t.$.tooltip.disabled=!0)
t.$.tooltip.disabled=!1,t.$.tooltip.selector=i
const n=i.h&&i.s&&i.v?t._HSVtoRGBA({h:i.h,s:i.s,v:i.v},t._RGBA.a):t._toRGBA(i.colorCode)
switch(t.tooltipDisplayMode){case"rgba":t.$.tooltip.value=n||""
break
case"rgb":t.$.tooltip.value=t._rgbaToRGB(n)||""
break
case"hex":t.$.tooltip.value=t._rgbaToHEX(n)||""}}_localizeLabels(){const e=this,t=(e.shadowRoot||e).querySelector("label.r-channel"),i=(e.shadowRoot||e).querySelector("label.g-channel"),n=(e.shadowRoot||e).querySelector("label.b-channel"),r=(e.shadowRoot||e).querySelector("label.a-channel"),o=(e.shadowRoot||e).querySelector("label.hex")
if(t&&(t.innerHTML=e.localize("redPrefix")),i&&(i.innerHTML=e.localize("greenPrefix")),n&&(n.innerHTML=e.localize("bluePrefix")),r&&(r.innerHTML=e.localize("alphaPrefix")),o&&(o.innerHTML=e.localize("hexPrefix")),e.$.buttonCustom&&(e.$.buttonCustom.content=e.localize("customColor")),e.$.buttonOk&&(e.$.buttonOk.content=e.localize("ok")),e.$.buttonCancel&&(e.$.buttonCancel.content=e.localize("cancel")),e.$.defaultSamplesContainer){const t=e.$.defaultSamplesContainer.querySelector(".theme-colors-label"),i=e.$.defaultSamplesContainer.querySelector(".standard-colors-label")
t&&(t.innerHTML=e.localize("themeColors")),i&&(i.innerHTML=e.localize("standardColors"))}}_generateHoneycomb(e,t){const i=this,n=parseInt(getComputedStyle(i).getPropertyValue("--jqx-color-panel-grid-mode-item-size"))/4,r=Math.sqrt(5*Math.pow(n,2)),o=e%2==0?parseInt(e)+1:parseInt(e),a=t&&void 0!==t.s?t.s:1,s=t&&void 0!==t.v?t.v:1,l=i._calculateHexagonCoords(o,r,1),d=l[Math.floor(l.length/2)],c=i._getHoneycomb30degDimmensions(l.length,r,1)
i._draw||(i._draw=new JQX.Utilities.Draw(i.$.colorPaletteHexagonal)),i._draw.clear(),i.$.colorPaletteHexagonal.firstElementChild.setAttribute("role","presentation"),i.$.colorPaletteHexagonal.firstElementChild.firstElementChild.setAttribute("role","menu"),i._hexagonItems=[],i.$.materialGridSamplesContainer&&i.$.materialGridSamplesContainer.$.addClass("jqx-hidden")
for(let e=0;e<l.length;e++){const t=l[e].x-d.x,n=l[e].y-d.y,o=i._validateInRange(i._calcSatDistance(t,n)/d.x,0,1)
let c,h,u=i._calcHueAngle(t,n)<0?360+i._calcHueAngle(t,n):i._calcHueAngle(t,n)
switch(i.inverted?(c=a,h=o):(c=o,h=s),i.palette){case"red":u=0
break
case"green":u=120
break
case"blue":u=240
break
case"gray":c=0,h=i.inverted?o:1-o}const p={offsetX:l[e].x,offsetY:l[e].y,style:{fill:i._HSVtoRGBA({h:u,s:c,v:h},1),class:"color-sample"}}
let m=i._hexagon(r,p)
m.colorCode=i._HSVtoRGBA({h:u,s:c,v:h}),m.h=u,m.s=c,m.v=h,m.setAttribute("role","menuitem"),m.setAttribute("aria-label",m.colorCode),i._hexagonItems.push(m)}i._draw.host.style.width=c.width+"px",i._draw.host.style.height=c.height+"px",i.$.container.style.setProperty("--jqx-color-panel-palette-width",c.width+"px"),i.$.container.style.setProperty("--jqx-color-panel-palette-height",c.height+"px"),i._applyValueInHexagonalMode(),i._hideControlsByPriority()}_hexagon(e,t){const i=this._shortStepHexagon(e),n=2*i,r=n+(t.offsetX||0),o=t.offsetY||0,a=r+n,s=o+i,l=s+e,d=a-n,c=l+i,h=d-n,u=c-i,p="M "+r+","+o+" L "+a+","+s+" L "+a+","+l+" L "+d+","+c+" L "+h+","+u+" L "+h+","+(u-e)+" Z"
return this._draw.path(p,t.style||{class:"color-sample"})}_shortStepHexagon(e){return Math.sqrt(Math.pow(e,2)/5)}_getHoneycomb30degDimmensions(e,t,i){const n=.5*(1+Math.sqrt(1-(1-e)/3*4)),r=this._shortStepHexagon(t)
return{width:(2*n-1)*(4*r)+2*n*2*i,height:(2*n-1)*t+2*n*r+2*n*i}}_generateShades(e,t){const i=this,n=t||"gray"
let r,o=[]
const a=255/((e=Math.max(parseInt(e),2))-1)
for(let t=0;t<e;t++){let e=Math.max(parseInt(255-t*a),0)
switch(i.inverted&&(e=255-e),n){case"red":r="rgb("+e+", 0, 0)"
break
case"green":r="rgb(0, "+e+", 0)"
break
case"blue":r="rgb(0, 0, "+e+")"
break
default:r="rgb("+e+", "+e+", "+e+")"}o.push(r)}return o}_generateColorSpectrum(e){const t=this
let i=[]
const n=360/((e=Math.max(parseInt(e),2))-1),r=2/e
let o=0,a=1,s=1
for(let l=0;l<e;l++){t.inverted?0===l?a=1:l<e/2?a=Math.max(a-r,r/2):l<e-1?(s=Math.max(s-r,r/2),a=Math.min(a+r,1)):(s=Math.max(s-r,r/2),a=Math.min(a+r/4,1)):0===l?s=1:l<e/2?s=Math.max(s-r,r/2):l<e-1?(a=Math.max(a-r,r/2),s=Math.min(s+r,1)):(a=Math.max(a-r,r/2),s=Math.min(s+r/4,1))
for(let r=0;r<e;r++)o=360===(o=parseInt(n*r))?360-n/2:o,i.push(t._HSVtoRGBA({h:o,s:a,v:s},1))}return i}_generateSpectrumGrid(e){const t=this
if(!t.$.spectrumGridSamplesContainer)return
const i=Math.pow(e,2),n=document.createDocumentFragment(),r={},o=t._generateShades(e,"gray"),a=t._customPalette
let s;["grayShadesBox","spectrumBox","customColorsBox"].forEach(e=>{const t=document.createElement("div")
let i=JQX.Utilities.Core.toDash(e).split("-").join(" ")
r[e]=t,t.className=JQX.Utilities.Core.toDash(e),t.setAttribute("role","menu"),t.setAttribute("aria-label",i.slice(0,1).toUpperCase()+i.slice(1)),n.appendChild(t)}),s="default"===t.palette?t._generateColorSpectrum(e):["gray","red","green","blue"].indexOf(t.palette)>-1?t._generateShades(i,t.palette):t._generateColorSpectrum(e)
for(let i=0;i<e;i++){const e=t._createColorSample(o[i],"gray-shade")
r.grayShadesBox.appendChild(e)}for(let e=0;e<i;e++){const i=t._createColorSample(s[e],"spectrum")
r.spectrumBox.appendChild(i)}for(let i=0;i<e;i++){const e=a[i]
if(!e)break
const n=t._createColorSample(e,"custom-color")
r.customColorsBox.appendChild(n)}t.$.spectrumGridSamplesContainer.innerHTML="",t.$.spectrumGridSamplesContainer.appendChild(n)}_generateDefaultGrid(){const e=this
if(!e.$.defaultSamplesContainer)return
const t={},i=null===e.gridThemeColors?e._defaultModeThemeColors:e.gridThemeColors,n=null===e.gridShadeColors?e._defaultModeShadesColors:e.gridShadeColors,r=null===e.gridStandardColors?e._defaultModeStandardColors:e.gridStandardColors,o=document.createDocumentFragment();["themeColorsLabel","themeColorsBox","themeShadesBox","standardColorsLabel","standardColorsBox"].forEach(i=>{const n=document.createElement("div")
t[i]=n,n.className=JQX.Utilities.Core.toDash(i),-1!==i.indexOf("Box")?n.setAttribute("role","menu"):-1!==i.indexOf("Label")&&(n.id=e.id+i),o.appendChild(n)}),t.themeColorsLabel.innerHTML=e.localize("themeColors"),t.standardColorsLabel.innerHTML=e.localize("standardColors"),t.themeColorsBox.setAttribute("aria-labelledby",e.id+"themeColorsLabel"),t.themeShadesBox.setAttribute("aria-labelledby",e.id+"themeColorsLabel"),t.standardColorsBox.setAttribute("aria-labelledby",e.id+"standardColorsLabel")
for(let i=0;i<e._defaultModeShadesColors.length;i++)t.themeShadesBox.appendChild(e._createColorSample(n[i],"shades-color"))
for(let n=0;n<10;n++)t.themeColorsBox.appendChild(e._createColorSample(i[n],"theme-color")),t.standardColorsBox.appendChild(e._createColorSample(r[n],"standard-color"))
e.$.defaultSamplesContainer.innerHTML="",e.$.defaultSamplesContainer.appendChild(o)}_mixColors(e,t,i){const n=e=>e.toString(16),r=e=>parseInt(e,16)
let o,a="#"
i=void 0!==i?i:.5,e=e.replace(/#/g,""),t=t.replace(/#/g,"")
for(let s=0;s<=5;s+=2){const l=r(e.substr(s,2)),d=r(t.substr(s,2))
for(o=n(Math.round(d+(l-d)*i));o.length<2;)o="0"+o
a+=o}return a}_generateMaterialGrid(){const e=this
if(!e.$.materialGridSamplesContainer)return
const t=document.createDocumentFragment()
e.$.materialGridSamplesContainer.$.removeClass("jqx-hidden"),t.appendChild(e._createColorSample("rgb(255, 255, 255, 0)","material-color label-column")),Object.entries(e._materialColors.Red).forEach(i=>{const n=e._createColorSample("rgb(255, 255, 255, 0)","material-color header")
n.textContent=i[0],t.appendChild(n)}),Object.entries(e._materialColors).forEach(i=>{const n=e._createColorSample("rgb(255, 255, 255, 0)","material-color label-column")
n.textContent=i[0],t.appendChild(n),Object.entries(i[1]).forEach(i=>{t.appendChild(e._createColorSample(i[1],"material-color"))})}),e.$.materialGridSamplesContainer.innerHTML="",e.$.materialGridSamplesContainer.appendChild(t)}_createColorSample(e,t){const i=document.createElement("div"),n=e?"":" empty"
return e&&-1===t.indexOf("label-column")&&-1===t.indexOf("header")&&(i.setAttribute("role","menuitem"),i.setAttribute("aria-label",e)),i.className="color-sample "+t+n,t.indexOf("header")>-1||t.indexOf("label-column")>-1?i:(i.colorCode=e,i.style.backgroundColor=e,i)}_calculateHexagonCoords(e,t,i){const n=e,r=function(e){return((e=e%2==0?e+1:e)+1)/2}(e),o=this._shortStepHexagon(t),a=4*o+2*i,s=2*o+i,l=t+o+i,d=s*(n-1)/2
let c=[]
for(let t=0;t<n;t++){const i=t<r?r+t:e-1-(t-r),n=t<r?d-t*s:d-(e-t-1)*s,o=t*l
for(let e=0;e<i;e++){const t=n+e*a
c.push({x:t,y:o})}}return c}_generateGridStructures(){const e=this,t=e.displayMode
if(!e._initializeOnOpening){if(void 0===e._createGridModeComponents()){switch(t){case"spectrumGrid":e._generateSpectrumGrid(e.columnCount)
break
case"materialGrid":e._generateMaterialGrid()
break
case"default":e._generateDefaultGrid()
break
case"grid":e._generatePaletteGrid()}return e._generatePaletteUserColorGrid(),void i()}switch(e._createColorControls(),t){case"radial":e._generateRadialCanvas()
break
case"hexagonal":e._generateHoneycomb(e.columnCount,e._HSV)}i()}function i(){switch(t){case"default":case"grid":e.$.colorPaletteRadial.setAttribute("aria-hidden",!0),e.$.brightnessScale.setAttribute("aria-hidden",!0)
break
case"hexagonal":e.$.colorPaletteRadial.setAttribute("aria-hidden",!0),e.$.brightnessScale.removeAttribute("aria-hidden")
break
case"materialGrid":e.$.colorPaletteRadial.removeAttribute("aria-hidden"),e.$.brightnessScale.removeAttribute("aria-hidden")
break
case"palette":e.$.colorPaletteRadial.removeAttribute("aria-hidden"),e.$.brightnessScale.setAttribute("aria-hidden",!0)}}}_generateRadialCanvas(){const e=this
if("radial"!==e.displayMode||"radial"===e.displayMode&&!JQX.Utilities.Core.Browser.Firefox)return
const t=e.$.colorPaletteRadial.offsetWidth,i=t/2
let n=e.$.colorPaletteRadial.querySelector("canvas")
n||(n=document.createElement("canvas")).setAttribute("role","presentation")
let r=n.getContext("2d"),o=r.createImageData(t,t),a=o.data
n.width=n.height=t
for(let t=-i;t<i;t++)for(let n=-i;n<i;n++){let[r,o]=e._xy2polar(t,n)
if(r>i)continue
let s=(t+i+(n+i)*(2*i))*4,l=e._rad2deg(o),d=1,c=1
const[h,u,p]=e._hsv2rgb(l,d,c)
a[s]=h,a[s+1]=u,a[s+2]=p,a[s+3]=255}r.putImageData(o,0,0),e.$.colorPaletteRadial.appendChild(n)}_xy2polar(e,t){return[Math.sqrt(e*e+t*t),Math.atan2(t,e)]}_rad2deg(e){return(e+Math.PI)/(2*Math.PI)*360}_hsv2rgb(e,t,i){let n,r,o,a=i*t,s=e/60,l=a*(1-Math.abs(s%2-1))
s>=0&&s<=1?[n,r,o]=[a,l,0]:s>=1&&s<=2?[n,r,o]=[l,a,0]:s>=2&&s<=3?[n,r,o]=[0,a,l]:s>=3&&s<=4?[n,r,o]=[0,l,a]:s>=4&&s<=5?[n,r,o]=[l,0,a]:s>=5&&s<=6&&([n,r,o]=[a,0,l])
let d=i-a,[c,h,u]=[n+d,r+d,o+d]
return[255*c,255*h,255*u]}_hideControlsByPriority(){const e=this,t=(e.shadowRoot||e).querySelector(".color-controls-container")
if(!t.innerHTML.trim())return
function i(t){const i=e.getElementsByClassName(t)
for(let e=0;e<i.length;e++)i[e].classList.add("jqx-hidden")}const n=e.hideContentToFit.slice().reverse(),r=["hex","r-channel","g-channel","b-channel","a-channel","preview-container"]
let o=n.length
for(r.forEach(t=>{const i=e.getElementsByClassName(t)
for(let e=0;e<i.length;e++)i[e].classList.remove("jqx-hidden")});t.scrollHeight>t.offsetHeight&&o>0;)switch(n[--o]){case"HEX":i(r[0])
break
case"RGB":r.slice(1,4).forEach(e=>i(e))
break
case"previewContainer":i(r[5])
break
case"alpha":i(r[4])}e._generateRadialCanvas()}_resizeHoneycombItems(){"hexagonal"===this.displayMode&&this._generateHoneycomb(this.columnCount,this._HSV)}_getValue(e,t){const i=this,n=i._RGBA
let r,o=null
switch(e){case"hex":o=i._rgbArrayToHEX([n.r,n.g,n.b,n.a])
break
case"rgb":o="rgb("+n.r+", "+n.g+", "+n.b+")"
break
case"rgba":o=null!==n.r&&null!==n.g&&null!==n.b?"rgba("+n.r+", "+n.g+", "+n.b+", "+n.a+")":null
break
case"HSVtoRGBAarray":{let e="hexagonal"===i.displayMode||"radial"===i.displayMode||"palette"===i.displayMode?i._RGBA.a:1
t&&(i._isRGBA(t)&&/rgba\((\d*.\d+|\d+),(\d*.\d+|\d+),(\d*.\d+|\d+)\,(\d*.\d+|\d+)\)/gi.test(t.replace(/\s/g,""))?e=/rgba\((\d*.\d+|\d+),(\d*.\d+|\d+),(\d*.\d+|\d+)\,(\d*.\d+|\d+)\)/gi.exec(t.replace(/\s/g,""))[4]:i._isHEX(t)&&/(^#[0-9A-F]{8}$)/gi.test(t.replace(/\s/g,""))&&(e=parseInt(/(^#[0-9A-F]{2})([0-9A-F]{2})([0-9A-F]{2})([0-9A-F]{2}$)/gi.exec(t.replace(/\s/g,""))[4],16)/255),e=Math.min(1,Math.max(0,parseFloat(e))),isNaN(e)&&(e=i._RGBA.a)),o=i._HSVtoRGBA(i._HSV,e),r=/rgba\((\d*.\d+|\d+),(\d*.\d+|\d+),(\d*.\d+|\d+)\,(\d*.\d+|\d+)\)/gi.exec(o.replace(/\s/g,"")),o={r:parseInt(r[1]),g:parseInt(r[2]),b:parseInt(r[3]),a:parseFloat(r[4])}
break}case"hsv":t&&i._isValidColor(t)&&(o=i._colorToHSV(t))
break
default:"radial"===i.displayMode||"hexagonal"===i.displayMode||"palette"===i.displayMode?(o="rgba("+n.r+", "+n.g+", "+n.b+", "+n.a+")",i.editAlphaChannel||(o=i._rgbaToRGB(o))):o=null!==t?i._rgbArrayToHEX([n.r,n.g,n.b,n.a]):null}return o||null}_instantUpdate(){const e=this.value
"instantly"!==this.applyValueMode||this.$.container.className.indexOf("custom-color-selection")>-1||(this.value=this._getValue(this.valueFormat),this.$.fireEvent("change",{oldValue:e,value:this.value}))}_equalValues(e,t){return e===t||!(!e||!t)&&this._toRGBA(e,!0)===this._toRGBA(t,!0)}_toHEX(e){const t=this
return t._isHEX(e)?e:(t._isRGB(e)&&(e=e.toLowerCase().replace("rgb","rgba"),e=t.editAlphaChannel?e.replace(")",", "+(t._RGBA.a||1)+")"):e.replace(")",", 1)")),t._isRGBA(e)?t._rgbaToHEX(e):void 0)}_toRGBA(e,t){const i=this
let n=i.value
if(i._isRGBA(e)){if(t){return"rgba("+e.match(/(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*(\d{1,3})/gi)+", 1)"}return e}if(i._isValidColorName(e))n=r(i._cssColorNamesHEX[e.trim().toLowerCase()])
else if(i._isHEX(e))n=r(e)
else{if(!i._isRGB(e))return!1
n=(n=e.toLowerCase()).replace("rgb","rgba"),n=i.editAlphaChannel?n.replace(")",", "+(i._RGBA.a||1)+")"):n.replace(")",", 1)")}return n
function r(e){const i=/^#(.)(.)(.)$/gi.exec(e),n=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})?$/i.exec(e),r=i?parseInt(i[1]+i[1],16):parseInt(n[1],16),o=i?parseInt(i[2]+i[2],16):parseInt(n[2],16),a=i?parseInt(i[3]+i[3],16):parseInt(n[3],16),s=i?parseInt(i[4]+i[4],16):parseInt(n[4],16)
return t?"rgba("+r+", "+o+", "+a+", 1)":"rgba("+r+", "+o+", "+a+", "+(isNaN(s)?"1":s/255)+")"}}_rgbaToRGB(e){const t=/rgba\((\d*.\d+|\d+),(\d*.\d+|\d+),(\d*.\d+|\d+)\,(\d*.\d+|\d+)\)/gi.exec(e.replace(/\s/g,""))
return"rgb("+t[1].trim()+", "+t[2].trim()+", "+t[3].trim()+")"}_rgbaToHEX(e){const t=/rgba\((\d*.\d+|\d+),(\d*.\d+|\d+),(\d*.\d+|\d+)\,(\d*.\d+|\d+)\)/gi.exec(e.replace(/\s/g,""))
return this._rgbArrayToHEX([t[1],t[2],t[3],t[4]])}_rgbArrayToHEX(e){let t="#"
if(Array.isArray(e)&&null===e[0])return null
for(let i=0;i<3;i++){let n=parseInt(e[i]).toString(16).toUpperCase()
t+=n=1===n.length?0+n:n}let i=parseFloat(e[3])
return isNaN(i)||"FF"!==(i=parseInt(255*i).toString(16).toUpperCase())&&(t=t.slice(0,7)+(1===i.length?0+i:i)),t}_colorToHSV(e){const t=this
if(!t._isValidColor(e))return
e=t._toRGBA(e).replace(/\s/g,"")
const i=/rgba\((\d*.\d+|\d+),(\d*.\d+|\d+),(\d*.\d+|\d+)\,(\d*.\d+|\d+)\)/gi.exec(e),n=Math.min(255,Math.max(0,parseFloat(i[1])))/255,r=Math.min(255,Math.max(0,parseFloat(i[2])))/255,o=Math.min(255,Math.max(0,parseFloat(i[3])))/255
let a={h:0,s:0,v:0},s=0,l=0
if(n>=r&&n>=o?(l=n,s=r>o?o:r):r>=o&&r>=n?(l=r,s=n>o?o:n):(l=o,s=r>n?n:r),a.v=l,a.s=l?(l-s)/l:0,a.s){const e=l-s
a.h=n===l?(r-o)/e:r===l?2+(o-n)/e:4+(n-r)/e,a.h=60*a.h,a.h<0&&(a.h+=360)}else a.h=t._HSV.h?t._HSV.h:0
return a.s=parseFloat(a.s),a.v=parseFloat(a.v),a}_HSVtoRGBA(e,t){const i=(e=e||{h:0,s:0,v:0})&&e.h>=0?e.h:this._HSV.h,n=e&&e.s>=0?e.s:this._HSV.s,r=e&&e.v>=0?e.v:this._HSV.v
let o,a,s,l=r*n,d=i/60,c=l*(1-Math.abs(d%2-1))
d>=0&&d<=1?[o,a,s]=[l,c,0]:d>=1&&d<=2?[o,a,s]=[c,l,0]:d>=2&&d<=3?[o,a,s]=[0,l,c]:d>=3&&d<=4?[o,a,s]=[0,c,l]:d>=4&&d<=5?[o,a,s]=[c,0,l]:d>=5&&d<=6&&([o,a,s]=[l,0,c])
const h=r-l
return"rgba("+Math.round(255*(o+h))+", "+Math.round(255*(a+h))+", "+Math.round(255*(s+h))+", "+(void 0!==t?t:this._RGBA.a||0)+")"}_HSVRGBArefresh(e){this._HSV=this._getValue("hsv",e)||{h:1,s:0,v:1},this._RGBA=this._getValue("HSVtoRGBAarray",e)}_toFixed(e,t){return parseFloat(parseFloat(e).toFixed(t||2))}_validateInRange(e,t,i){return Math.min(Math.max(parseFloat(e),parseFloat(t)),parseFloat(i))}_isHEX(e){return/(^#[0-9A-F]{3}$)|(^#[0-9A-F]{6}$)|(^#[0-9A-F]{8}$)/i.test(e)}_isRGB(e){return/rgb\((\d{1,3})\s*,\s*(\d{1,3})\s*,\s*(\d{1,3})\)/i.test(e)}_isRGBA(e){return/rgba\((\d*.\d+|\d+)\s*,\s*(\d*.\d+|\d+)\s*,\s*(\d*.\d+|\d+)\s*,\s*(\d*.\d+|\d+)\)/i.test(e)}_isValidColorName(e){return!(!e||void 0===this._cssColorNamesHEX[e.trim().toLowerCase()])}_isValidColor(e){return this._isHEX(e)||this._isRGB(e)||this._isRGBA(e)||this._isValidColorName(e)}_getRGBAFromInputs(){let e=(this.shadowRoot||this).querySelector("input.r-channel"),t=(this.shadowRoot||this).querySelector("input.g-channel"),i=(this.shadowRoot||this).querySelector("input.b-channel"),n=(this.shadowRoot||this).querySelector("input.a-channel")
return e=e?e.value:this._RGBA.r,t=t?t.value:this._RGBA.g,i=i?i.value:this._RGBA.b,n=n?n.value:this._RGBA.a,{r:parseInt(e),g:parseInt(t),b:parseInt(i),a:n}}_setRGBAToInputs(){const e=this
Object.entries(e._RGBA).forEach(t=>{const i=(e.shadowRoot||e).querySelector("input."+t[0]+"-channel")
i&&(i.value=e._RGBA[t[0]])})}_calcHueAngle(e,t){return 180*Math.atan2(t,e)/Math.PI}_calcSatDistance(e,t){return Math.sqrt(Math.pow(e,2)+Math.pow(t,2))}})
var ge=Object.freeze({})
JQX("jqx-color-picker",class extends JQX.DropDownButton{static get properties(){return{applyValueMode:{value:"instantly",allowedValues:["instantly","useButtons"],type:"string"},columnCount:{value:8,type:"number"},gridThemeColors:{value:null,type:"array?",reflectToAttribute:!1},gridShadeColors:{value:null,type:"array?",reflectToAttribute:!1},gridStandardColors:{value:null,type:"array?",reflectToAttribute:!1},paletteColors:{value:null,type:"array?",reflectToAttribute:!1},paletteCustomColors:{value:null,type:"array?",reflectToAttribute:!1},disableUndo:{value:!1,type:"boolean"},displayMode:{value:"default",allowedValues:["default","grid","palette","radial","hexagonal","spectrumGrid","materialGrid"],type:"string"},dropDownAppendTo:{value:null,type:"any"},dropDownHeight:{value:"auto",type:"string"},dropDownWidth:{value:"auto",type:"string"},editable:{value:!1,type:"boolean"},editAlphaChannel:{value:!1,type:"boolean"},enableCustomColors:{value:!1,type:"boolean"},hidePreviewContainer:{value:!1,type:"boolean"},hideRGBEditor:{value:!1,type:"boolean"},hideHEXEditor:{value:!1,type:"boolean"},hideAlphaEditor:{value:!1,type:"boolean"},messages:{value:{en:{redPrefix:"R:",greenPrefix:"G:",bluePrefix:"B:",hexPrefix:"#:",alphaPrefix:"Alpha:",ok:"OK",cancel:"CANCEL",customColor:"CUSTOM COLOR",standardColors:"Standard colors",themeColors:"Theme colors"}},type:"object",extend:!0},name:{value:"",type:"string"},palette:{value:"default",allowedValues:["default","gray","red","green","blue","custom"],type:"string"},placeholder:{value:"Please Select Color",type:"string"},tooltipDisplayMode:{value:"hex",allowedValues:["none","rgba","rgb","hex"],type:"string"},value:{value:null,type:"string?"},valueDisplayMode:{value:"default",allowedValues:["default","colorBox","colorCode","none"],type:"string"},valueFormat:{value:"default",allowedValues:["default","rgb","rgba","hex"],type:"string"},inverted:{value:!1,type:"boolean"},hideContentToFit:{value:["RGB","HEX","alpha","previewContainer"],type:"array"}}}static get listeners(){return{"input.change":"_inputChangeHandler","input.focus":"_focusEventHandler","input.blur":"_blurEventHandler","colorPanel.cancelButtonClick":"_cancelButtonHandler","colorPanel.okButtonClick":"_okButtonHandler","colorPanel.customColorSelection":"_customColorSelectionHandler","colorPanel.change":"_colorPanelChangeHandler",keydown:"_keyDownHandler"}}static get requires(){return{"JQX.ColorPanel":"jqxcolorpanel.js","JQX.DropDownButton":"jqxdropdownbutton.js"}}static get styleUrls(){return["jqx.colorpanel.css","jqx.colorpicker.css"]}template(){return'<div id="container" role="presentation">\n                    <span class="jqx-label" id="label">[[label]]</span>\n                    <div id="content" class="jqx-content" role="presentation">\n                        <div id="buttonsContainer" class="jqx-buttons-container" role="presentation">\n                            <div id="actionButton" class="jqx-action-button">\n                                <div id="colorSampleContainer" class="jqx-color-box color-picker-sample-container" role="presentation">\n                                    <div id="colorSample" class="color-picker-sample"></div>\n                                </div>\n                                <input type="text" id="input" class="jqx-input jqx-color-input color-picker-action-input" placeholder="[[placeholder]]" spellcheck="false" autocomplete="off" aria-label="[[placeholder]]" />\n                            </div>\n                            <span id="dropDownButton" class="jqx-drop-down-button">\n                                <span class="jqx-drop-down-button-icon" id="arrow" aria-hidden="true"></span>\n                            </span>\n                        </div>\n                        <div id="dropDownContainer" class="jqx-drop-down jqx-drop-down-color-picker jqx-drop-down-container jqx-visibility-hidden" role="dialog">\n                            <jqx-color-panel id="colorPanel" wait\n                                             animation="[[animation]]"\n                                             apply-value-mode="[[applyValueMode]]"\n                                             column-count="[[columnCount]]"\n                                             disabled="[[disabled]]"\n                                             display-mode="[[displayMode]]"\n                                             edit-alpha-channel="[[editAlphaChannel]]"\n                                             enable-custom-colors="[[enableCustomColors]]"\n                                             grid-theme-colors="[[gridThemeColors]]"\n                                             grid-shade-colors="[[gridShadeColors]]"\n                                             grid-standard-colors="[[gridStandardColors]]"\n                                             hide-content-to-fit="[[hideContentToFit]]"\n                                             hide-preview-container="[[hidePreviewContainer]]"\n                                             hide-r-g-b-editor="[[hideRGBEditor]]"\n                                             hide-h-e-x-editor="[[hideHEXEditor]]"\n                                             hide-alpha-editor="[[hideAlphaEditor]]"\n                                             inverted="[[inverted]]"\n                                             locale="[[locale]]"\n                                             messages="[[messages]]"\n                                             name="[[name]]"\n                                             palette-colors="[[paletteColors]]"\n                                             palette-custom-colors="[[paletteCustomColors]]"\n                                             palette="[[palette]]"\n                                             right-to-left="[[rightToLeft]]"\n                                             theme="[[theme]]"\n                                             tooltip-display-mode="[[tooltipDisplayMode]]"\n                                             value="{{value}}"\n                                             value-format="[[valueFormat]]">\n                            </jqx-color-panel>\n                            <div id="resizeBar" class="jqx-drop-down-resize-bar" aria-label="Resize">\n                                <div></div>\n                            </div>\n                        </div>\n                    </div>\n                    <span class="jqx-hint" id="hint">[[hint]]</span>\n                </div>'}propertyChangedHandler(e,t,i){const n=this
switch(e){case"editable":case"disabled":case"readonly":n.$.input.readOnly=n.disabled||n.readonly||!n.editable
break
case"value":n.$.colorPanel._isValidColor(n.value)&&n._applyValue(n.value)
break
case"displayMode":n._applyValue(n.value)
break
case"dropDownOpenMode":super.propertyChangedHandler(e,t,i),"dropDownButton"===i?n.$.actionButton.setAttribute("aria-label",n.value||n.placeholder):n.$.actionButton.removeAttribute("aria-label")
break
case"resizeMode":n.$.dropDownContainer.setAttribute("resize-mode",n.resizeMode)
break
case"valueDisplayMode":"none"===i?n.$.actionButton.setAttribute("role","presentation"):n.$.actionButton.removeAttribute("role")
break
default:super.propertyChangedHandler(e,t,i)}"displayMode"===e&&n.$.colorPanel._hideControlsByPriority()}open(){const e=this,t=document.querySelectorAll("jqx-drop-down-button, jqx-color-picker")
e.$.colorPanel._initializeOnOpening&&(delete e.$.colorPanel._initializeOnOpening,e.$.colorPanel._generateGridStructures(),e.$.colorPanel._applyValue(e.value),e.$.colorPanel._hideControlsByPriority())
for(let i=0;i<t.length;i++)t[i]!==e&&t[i].opened&&t[i].close()
e.$.colorPanel&&e.$.colorPanel.$container.hasClass("custom-color-selection")&&e.$.colorPanel._handleCancelButtonClick(),e._open()}blur(){this.$.input.blur()}focus(){this.$.input.focus()}_createElement(){const e=this
e.$.colorPanel._initializeOnOpening=!e.opened,e.$.colorPanel.wait=!1,e.$.colorPanel.setAttribute("role","presentation"),e.$.input.readOnly=e.disabled||e.readonly||!e.editable,e.editable&&(e.dropDownOpenMode="dropDownButton"),e._setAriaRelations(!0),"none"===e.valueDisplayMode?e.$.actionButton.setAttribute("role","presentation"):e.$.actionButton.removeAttribute("role"),e._applyValue(e.$.colorPanel.value),e._setFocusable()}_colorPanelChangeHandler(e){this._applyValue(e.detail.value),e.stopPropagation(),this.$.fireEvent("change",e.detail)}_cancelButtonHandler(e){const t=this
e.stopPropagation(),t.$.colorPanel.$.container.className.indexOf("custom-color-selection")>-1?t.$.fireEvent(e.type,e.detail):(t.close(),t.$.fireEvent(e.type,e.detail))}_customColorSelectionHandler(e){e.stopPropagation(),this._positionDetection.checkBrowserBounds("vertically"),this._positionDetection.positionDropDown(),this._positionDetection.checkBrowserBounds("horizontally"),this.$.fireEvent(e.type,e.detail)}_okButtonHandler(e){const t=this
e.stopPropagation(),t.$.colorPanel.$.container.className.indexOf("custom-color-selection")>-1?t.$.fireEvent(e.type,e.detail):(t._applyValue(t.$.colorPanel.value),t.close(),t.$.fireEvent(e.type,e.detail))}_setFocusable(){const e=this
if(!e.disabled&&!e.unfocusable){let t=e.tabIndex>0?e.tabIndex:0
return e.$.input.tabIndex=t,void("dropDownButton"===e.dropDownOpenMode?e.$.dropDownButton.setAttribute("tabindex",t):e.$.dropDownButton.removeAttribute("tabindex"))}e.$.input.tabIndex=-1,e.$.dropDownButton.removeAttribute("tabindex")}_inputChangeHandler(e){e.preventDefault(),e.stopPropagation(),this.value=this.$.colorPanel.value=this.$.input.value}_applyValue(e){const t=this
t.value=t.$.colorPanel.value=t.$.colorSample.style.backgroundColor=t.$.input.value=e,e?(t.$colorSampleContainer.removeClass("no-color"),t.$.colorSample.setAttribute("aria-label",e)):(t.$colorSampleContainer.addClass("no-color"),t.$.colorSample.setAttribute("aria-label","No color")),t.label||t._ariaButton.setAttribute("aria-label",e||t.placeholder),"dropDownButton"===t.dropDownOpenMode&&t.$.actionButton.setAttribute("aria-label",e||t.placeholder)}_keyDownHandler(e){const t=this,i=t.shadowRoot||t.isInShadowDOM?e.composedPath()[0]:e.target,n=(t.shadowRoot||t.getRootNode()).activeElement||document.activeElement
if(!(t.disabled||t.readonly||n!==t&&n!==t.$.dropDownButton&&n!==t.$.input))switch(e.key){case"Enter":case" ":i!==t.$.input?t.opened&&"Enter"===e.key?(e.preventDefault(),t.close()):t.opened||t.readonly||"none"===t.dropDownOpenMode||(e.preventDefault(),t.open()):"Enter"===e.key&&(e.preventDefault(),t.$.colorPanel.value=t.$.input.value)
break
case"ArrowUp":case"ArrowDown":if(e.altKey)return void(t.disabled||t.readonly||"none"===t.dropDownOpenMode||("ArrowDown"===e.key?t.open():t.close()))
e.preventDefault()
break
case"Escape":e.preventDefault(),t.close()}}})
var ve=Object.freeze({})
JQX("jqx-password-text-box",class extends JQX.BaseElement{static get properties(){return{autoFocus:{value:!1,type:"boolean"},hint:{value:"",reflectToAttribute:!0,type:"string"},label:{value:"",reflectToAttribute:!0,type:"string"},maxLength:{value:null,type:"number?"},minLength:{value:2,type:"number"},messages:{value:{en:{passwordStrength:"Password strength",short:"Short",weak:"Weak",far:"Far",good:"Good",strong:"Strong",showPassword:"Show password"}},type:"object",extend:!0},name:{value:"",type:"string"},passwordStrength:{value:null,type:"function?",reflectToAttribute:!1},placeholder:{value:"",type:"string"},selectAllOnFocus:{value:!1,type:"boolean"},showPasswordIcon:{value:!1,type:"boolean"},showPasswordStrength:{value:!1,type:"boolean"},tooltipArrow:{value:!1,type:"boolean"},tooltipDelay:{value:0,type:"number"},tooltipPosition:{allowedValues:["bottom","top","left","right","absolute"],value:"top",type:"string"},tooltipTemplate:{value:null,type:"string?"},type:{value:"password",type:"string",defaultReflectToAttribute:!0,readonly:!0},value:{value:"",reflectToAttribute:!1,type:"string"}}}static get listeners(){return{"document.up":"_documentUpHandler",blur:"_blurHandler",focus:"_focusHandler",mouseenter:"_mouseEventsHandler",mouseleave:"_mouseEventsHandler","passwordIcon.down":"_showPassword","input.change":"_textBoxChangeHandler","input.paste":"_textBoxChangeHandler","input.keyup":"_textBoxChangeHandler","input.blur":"_blurHandler","input.focus":"_focusHandler"}}static get requires(){return{"JQX.Tooltip":"jqxtooltip.js"}}static get styleUrls(){return["jqx.textbox.css","jqx.passwordtextbox.css"]}template(){return'<div id="container" role="presentation"><span id="label" inner-h-t-m-l="[[label]]" class="jqx-label"></span><div id="innerContainer" class="jqx-content" role="presentation"><input class="jqx-input" type="password" id="input"\n                    disabled="[[disabled]]"\n                    maxlength="[[maxLength]]"\n                    minlength="[[minLength]]"\n                    name="[[name]]"\n                    placeholder="[[placeholder]]"\n                    readonly="[[readonly]]"\n                    value="[[value]]"><span id="passwordIcon" title="Show Password" class="jqx-password-icon jqx-hidden" role="button" aria-label="Show Password"></span></div><span id="hint" class="jqx-hint"></span><jqx-tooltip id="tooltip"\n                    open-mode="manual"\n                    arrow="[[tooltipArrow]]"\n                    right-to-left="[[rightToLeft]]"\n                    tooltip-template="[[tooltipTemplate]]"\n                    position="[[tooltipPosition]]"\n                    delay="[[tooltipDelay]]"></jqx-tooltip></div>'}propertyChangedHandler(e,t,i){const n=this
let r
switch(e){case"locale":case"messages":case"passwordStrength":r=n._evaluatePasswordStrength(),n._updateTooltipString(r),n.$.passwordIcon.setAttribute("title",n.localize("showPassword")),n._updatePasswordStrengthStyles(r)
break
case"tooltipPosition":n.$.tooltip.position=n.tooltipPosition
break
case"tooltipTemplate":n.$.tooltip.tooltipTemplate=n.tooltipTemplate
break
case"value":r=n._evaluatePasswordStrength(),n._updateTooltipString(r),n._updatePasswordStrengthStyles(r)
break
case"disabled":case"unfocusable":n._setFocusable()
break
case"readonly":break
default:super.propertyChangedHandler(e,t,i)}}_setFocusable(){const e=this
e.disabled||e.unfocusable?e.$.input.tabIndex=-1:e.$.input.removeAttribute("tabindex")}render(){this._createElement(),super.render()}focus(){this.$.input.focus()}reset(){this.$.input.value=this.value=this._initializationValue}_createElement(){const e=this
e.autoFocus&&e.$.input.focus(),e.$.addClass("jqx-text-box"),e._setFocusable(),e.$.tooltip.selector=e.$.innerContainer,e.$.passwordIcon.setAttribute("title",e.localize("showPassword")),e._updateTooltipString("short"),e._updatePasswordStrengthStyles(),e._initializationValue=e.value,e.value.length>0?e.$.addClass("has-value"):e.$.removeClass("has-value"),e._handleHintContainer(),e.shadowRoot&&(e.$.tooltip.style.display="none",requestAnimationFrame(()=>e.$.tooltip.style.display="")),e.$.label.id||(e.$.label.id=e.id+"Label"),e.$.hint.id||(e.$.hint.id=e.id+"Hint"),e.setAttribute("role","presentation"),e.$.innerContainer.removeAttribute("aria-describedby"),e.$.input.setAttribute("aria-describedby",e.$.tooltip.id+" "+e.$.hint.id),e.$.input.setAttribute("aria-labelledby",e.$.label.id)}_handleHintContainer(){const e=this
if(!e.hint)return
const t=e.$.hint
if("function"==typeof e.hint){const i=e.value
e.hint(i,t)?e.$.addClass("invalid"):e.$.removeClass("invalid")}else"string"==typeof e.hint&&(t.innerHTML=e.hint,e.$.removeClass("invalid"))}_focusHandler(){const e=this
e.disabled||(e.selectAllOnFocus&&e.$.input.select(),e.showPasswordIcon&&e.$passwordIcon.removeClass("jqx-hidden"),e.setAttribute("focus",""),e._valueBeforeChange=e.value,e.showPasswordStrength&&(e._tooltipOpened||(e.$.tooltip.open(),e._tooltipOpened=!0)))}_blurHandler(){const e=this
e.disabled||e._passwordIconPressed||(e._valueBeforeChange!==e.value&&(e.$.fireEvent("change",{newValue:e.value,oldValue:e._valueBeforeChange}),e._valueBeforeChange=""),e.showPasswordIcon&&e.$passwordIcon.addClass("jqx-hidden"),e.removeAttribute("focus"),e.value.length>0?e.$.addClass("has-value"):e.$.removeClass("has-value"),e._tooltipOpened&&(e.$.tooltip.close(),e._tooltipOpened=!1))}_showPassword(){!this.disabled&&this.showPasswordIcon&&(this.$.input.type="text",this._passwordIconPressed=!0)}_documentUpHandler(){!this.disabled&&this.showPasswordIcon&&this._passwordIconPressed&&(this.$.input.type="password",this._passwordIconPressed=!1,this.$.input.focus())}_textBoxChangeHandler(){if(this.disabled||this.readonly)return
this.value=this.$.input.value
let e=this._evaluatePasswordStrength()
this._updateTooltipString(e),this._updatePasswordStrengthStyles(e)}_updatePasswordStrengthStyles(e){const t=this,i=["short","weak","far","good","strong"]
e=e||"short"
for(let e=0;e<i.length;e++)t.$container.removeClass("jqx-password-"+i[e])
t.disabled||t.$container.addClass("jqx-password-"+e)}_evaluatePasswordStrength(){const e=this,t=e.$.input.value,i=t.length
if(e.disabled)return
if(e.passwordStrength)return e.passwordStrength(t,"<>@!#$%^&*()_+[]{}?:;|'\"\\,./~`-=")
let n=0,r=0,o=0,a=0
for(var s=0;s<i;s++){const e=t.charAt(s),i=t.charCodeAt(s)
i>64&&i<91||i>96&&i<123||i>127&&i<155||i>159&&i<166?n+=1:!1!==isNaN(e)?-1==="<>@!#$%^&*()_+[]{}?:;|'\"\\,./~`-=".indexOf(e)||(o+=1):r+=1}return a=n+r+2*o+n*r/2+i,i<8?"short":a<20?"weak":a<30?"far":a<40?"good":"strong"}_keyUpHandler(){}_mouseWheelHandler(){}_resizeHandler(){}_selectStartHandler(){}_setDropDownSize(){}_styleChangedHandler(){}_mouseEventsHandler(e){"mouseenter"===e.type?this.setAttribute("hover",""):this.removeAttribute("hover")}_updateTooltipString(e){this.$.tooltip.value='<span class="password-strength-label">'+this.localize("passwordStrength")+': </span><span class="password-strength-value">'+this.localize(e)+"</span>"}})
var be=Object.freeze({})
JQX("jqx-accordion-item",class extends JQX.ContentElement{static get properties(){return{dragged:{value:!1,type:"boolean"},expanded:{value:!1,type:"boolean"},focused:{value:!1,type:"boolean"},index:{value:null,type:"number?"},label:{value:"",type:"string"}}}get enableShadowDOM(){return!1}static get listeners(){return{"accordionItemHeader.mouseenter":"_headerMouseEnterHandler","accordionItemHeader.mouseleave":"_headerMouseLeaveHandler","accordionItemHeader.down":"_ripple"}}template(){return'<div id="container" role="presentation">\n                    <div id="accordionItemHeader" class="jqx-accordion-item-header jqx-unselectable" role="heading" aria-level="1">\n                        <span id="arrow" class="jqx-arrow" role="presentation" aria-hidden="true"></span>\n                        <span id="label" class="jqx-label" inner-h-t-m-l=\'[[label]]\' role="button"></span>\n                    </div>\n                    <div id="accordionItemContent" class="jqx-accordion-item-content">\n                        <div id="contentContainer" class="jqx-content-container" role="presentation"><content></content></div>\n                    </div>\n                </div>'}render(){const e=this
let t
t=e.id?e.id+"Content":e.parentElement&&e.parentElement.parentElement&&e.parentElement.parentElement.id?e.parentElement.parentElement.id+Math.floor(1e4*Math.random())+"Content":"accordion"+Math.floor(1e4*Math.random())+"Content",e.$.accordionItemContent.id=t,e.$.label.setAttribute("aria-controls",t),super.render()}propertyChangedHandler(e,t,i){super.propertyChangedHandler(e,t,i)
const n=this
if("expanded"===e){n.$.label.setAttribute("aria-expanded",i)
const e=n.parentElement&&n.parentElement.parentElement?n.parentElement.parentElement.expandMode:n.shadowParent.expandMode
if("multiple"===e||"toggle"===e)return
return void(i?n.$.label.setAttribute("aria-disabled",!0):n.$.label.removeAttribute("aria-disabled"))}if(t=parseInt(t),i=parseInt(i),"index"!==e||isNaN(t)||isNaN(i))return
const r=n.parentElement.parentElement._items.length
i<0?i=0:i>=r&&(i=r-1),i!==t&&n.$.fireEvent("indexChange",{newIndex:i,oldIndex:t}),n.index=i}_headerMouseEnterHandler(){this.disabled||this.setAttribute("hover","")}_headerMouseLeaveHandler(){this.disabled||this.removeAttribute("hover")}_ripple(e){const t=this
t.disabled||t.hasRippleAnimation&&JQX.Utilities.Animation.Ripple.animate(t.$.container,e.pageX,e.pageY)}_setIndex(e){const t=this.context
this.context=this,this.index=e,this.context=t}focus(){super.focus(),this.setAttribute("focus","")}blur(){super.blur(),this.removeAttribute("focus")}}),JQX("jqx-accordion",class extends JQX.BaseElement{static get properties(){return{expandedIndexes:{value:[],type:"array"},expandMode:{allowedValues:["single","singleFitHeight","multiple","toggle","none"],value:"singleFitHeight",type:"string"},messages:{extend:!0,value:{en:{accordionItemRequired:'{{elementType}}: "{{method}}" requires an item from type "jqx-accordion-item".',indexOutOfBound:'{{elementType}}: Out of bound index/indexes in "{{method}}" method.',invalidSettings:'{{elementType}}: "{{method}}" method accepts a string or an object as it\'s second parameter.',missingReference:"{{elementType}}: Missing reference to {{files}}.",noItems:"{{elementType}}: No child elements found.",overridingProperties:'{{elementType}}: Overriding properties {{property1}} and {{property2}} applied. The "{{property1}}" property is used by default.'}},type:"object"},reorder:{value:!1,type:"boolean"}}}static get listeners(){return{down:"_downHandler",focus:"_focusHandler",indexChange:"_indexChangeHandler",keydown:"_keyDownHandler",move:"_moveHandler",resize:"_resizeHandler",styleChanged:"_resizeHandler","document.up":"_upHandler","container.move":"_containerMoveHandler"}}template(){return'<div id="container" role="presentation">\n                    <content></content>\n                </div>'}static get styleUrls(){return["jqx.accordion.css"]}ready(){super.ready()}render(){this._createElement(),super.render()}propertyChangedHandler(e,t,i){const n=this
if("expandedIndexes"===e){if(t.toString()===i.toString())return
let e=[]
if(n._items.length>0)for(let t=0;t<i.length;t++){let r=parseInt(i[t])
if(!isNaN(r)){if(n._expandModeIs(["single","singleFitHeight","toggle"])){e.length<1&&r>=0&&r<n._items.length&&e.push(r)
break}r>=0&&r<=n._items.length&&-1===e.indexOf(r)&&e.push(r)}}if(0===e.length&&n._expandModeIs(["single","singleFitHeight"]))return i=t.slice(),void(n.expandedIndexes=i)
i=e
const r=n._compareExpandedIndexes(t,i)
return n._toggleItems("collapse",r.collapse),n._toggleItems("expand",r.expand),void(n.expandedIndexes=i)}switch(super.propertyChangedHandler(e,t,i),e){case"disabled":n._setFocusable(),n._enableDisableHandler()
break
case"expandMode":if(0===n._items.length)break
if("multiple"===t&&"none"!==i||"none"===t&&"multiple"!==i){const e=n.expandedIndexes.slice(1)
n._toggleItems("collapse",e),0===n.expandedIndexes.length&&n._expandModeIs(["single","singleFitHeight"])&&r()}else"toggle"===t&&n._expandModeIs(["single","singleFitHeight"])&&0===n.expandedIndexes.length&&r()
if(!n._supportCSSVariables||!n._usedCSSVariables){const e=n.expandedIndexes[0]
"singleFitHeight"===t?n._items[e].$.accordionItemContent.style.height="":"singleFitHeight"===i&&(n._items[e].$.accordionItemContent.style.height=n._expandedItemsContainerHeight-1+"px")}"multiple"===i||"toggle"===i?n._items[n.expandedIndexes[0]].$.label.removeAttribute("aria-disabled"):n._items[n.expandedIndexes[0]].$.label.setAttribute("aria-disabled",!0)
break
case"unfocusable":n._setFocusable()}function r(){n._toggleItems("expand",[0]),n.expandedIndexes=[0]}}appendChild(e){const t=this
if(!t.isCompleted||e instanceof HTMLElement&&(e.classList.contains("jqx-resize-trigger-container")||e.classList.contains("jqx-measure-element"))){const e=Array.prototype.slice.call(arguments,2)
return HTMLElement.prototype.appendChild.apply(t,e.concat(Array.prototype.slice.call(arguments)))}e instanceof JQX.AccordionItem||t.error(t.localize("accordionItemRequired",{method:"appendChild"})),t.insert(t._items.length,e)}collapse(e,t){e=this._validateItemsIndex(e,"collapse"),isNaN(e)||!this._items[e].expanded||this._expandModeIs(["single","singleFitHeight"])&&this.expandedIndexes.indexOf(e)>-1||this._collapseItem(e,t)}expand(e,t){const i=this
e=i._validateItemsIndex(e,"expand"),isNaN(e)||i._items[e].expanded||(i._expandModeIs(["single","singleFitHeight","toggle"])&&i._toggleItems("collapse",i.expandedIndexes),i._expandItem(e,t))}insert(e,t){const i=this,n=0===i._items.length
let r,o
if(t||("number"==typeof e?t=[{label:"",content:""}]:(t=[{label:e?e.toString():"",content:e?e.toString():""}],e=0)),t instanceof HTMLElement)t instanceof JQX.AccordionItem?r=t:i.error(i.localize("accordionItemRequired",{method:"insert"}))
else if(Array.isArray(t)){o=document.createDocumentFragment()
for(let e=0;e<t.length;e++){const n=i._createItem(t[e])
o.appendChild(n)}}else r=t instanceof Object?i._createItem(t):"string"==typeof t||"number"==typeof t?i._createItem({label:t.toString(),content:t.toString()}):i._createItem({label:"",content:""})
e>i._items.length?r?i.$.container.appendChild(r):i.$.container.appendChild(o):r?i.$.container.insertBefore(r,i._items[e]):i.$.container.insertBefore(o,i._items[e]),r&&(r.tabIndex=i._tabIndex),i._storeItems(),n&&i._expandModeIs(["single","singleFitHeight"])?i._expandItem(0):i.expandedIndexes=i._getExpandedIndexes(),i._updateExpanedContentHeight(),i._updateInlineHeight(),i._storeItemsCoordinates(),i._updateItemsIndexProperty()}insertBefore(e,t){const i=this
if(!i.isCompleted){const e=Array.prototype.slice.call(arguments,2)
return HTMLElement.prototype.insertBefore.apply(i,e.concat(Array.prototype.slice.call(arguments)))}void 0!==e&&void 0!==t&&e instanceof JQX.AccordionItem&&t instanceof JQX.AccordionItem||i.error(i.localize("accordionItemRequired",{method:"insertBefore"})),null!=t?(i.contains(t)||i.error(i.localize("referenceNodeNotChild",{argument:"referenceNode"})),i.insert(i._items.indexOf(t),e)):i.insert(i._items.indexOf(t),e)}removeAt(e){const t=this
let i
if(e instanceof HTMLElement)e instanceof JQX.AccordionItem?t.contains(e)||t.error(t.localize("referenceNodeNotChild",{argument:"node"})):t.error(t.localize("accordionItemRequired",{method:"remove"})),e=(i=e).index
else{if(e=t._validateItemsIndex(e,"remove"),isNaN(e))return
i=t._items[e]}i&&(i.parentNode.removeChild(i),t._storeItems(),t._expandModeIs(["singleFitHeight"])&&(t._preventAnimation=!0),t._expandModeIs(["single","singleFitHeight"])&&e===t.expandedIndexes[0]&&t._items.length>0&&(t._expandItem(0),t._selectedItem=t._items[0],t._selectedItemIndex=0,t._itemIsFocussed=!0),t.expandedIndexes=t._getExpandedIndexes(),t._updateExpanedContentHeight(),t._updateInlineHeight(),t._storeItemsCoordinates(),t._updateItemsIndexProperty())}removeChild(e){const t=this
if(!t.isCompleted){const e=Array.prototype.slice.call(arguments,2)
return HTMLElement.prototype.removeChild.apply(t,e.concat(Array.prototype.slice.call(arguments)))}e instanceof HTMLElement||t.error(t.localize("accordionItemRequired",{method:"removeChild"})),"jqx-resize-trigger-container"!==e.className?(e instanceof JQX.AccordionItem||t.error(t.localize("accordionItemRequired",{method:"removeChild"})),t.contains(e)||t.error(t.localize("referenceNodeNotChild",{argument:"node"})),t.removeAt(e)):super.removeChild(e)}_setFocusable(){const e=this
if(e.disabled||e.unfocusable){e.removeAttribute("tabindex")
for(let t=0;t<e._items.length;t++)e._items[t].removeAttribute("tabindex")}else{e.tabIndex=e._tabIndex
for(let t=0;t<e._items.length;t++)e._items[t].tabIndex=e._tabIndex}}update(e,t){const i=this
if(e=i._validateItemsIndex(e,"update"),isNaN(e))return
let n=i._items[e]
if(t||i.error(i.localize("invalidSettings",{elementType:i.nodeName.toLowerCase(),method:"update"})),n)if(Array.isArray(t)&&(t=0===t.length?{label:"",content:""}:t[0]),"string"==typeof t)n.content=t
else for(let e in t)n[e]=t[e]
const r=i._getItemsHeights(e)
i._updateExpanedContentLocalHeight(i._items[e],r),i._updateInlineHeight(),i._storeItemsCoordinates()}_adjustHeightValue(e){const t=this,i=t._items.length
let n,r
for(let e=0;e<i&&(t._items[e].expanded?n=t._items[e]:r=t._items[e],!n||!r);e++);if(n||(n=t._items[0]),!n&&!r)return
const o=n.expanded
n.expanded=!0
const a=window.getComputedStyle(n,null),s=!!r&&window.getComputedStyle(r,null),l=parseInt(a.getPropertyValue("margin-top"))+parseInt(a.getPropertyValue("margin-bottom")),d=s?parseInt(s.getPropertyValue("margin-top"))+parseInt(s.getPropertyValue("margin-bottom")):0
return n.expanded=o,e-((i-1)*d+l)}_collapseItem(e,t){const i=this
let n=i._items[e]
if(n.expanded&&("none"!==i.expandMode||!t)){if(n.expanded=!1,i.$.fireEvent("collapsing",{index:e,label:n.label,content:n.content.innerHTML}),i.expandedIndexes.indexOf(e)>-1){let t=i.expandedIndexes.indexOf(e),n=i.expandedIndexes.slice()
n.splice(t,1),i.expandedIndexes=n}n.$.accordionItemContent.style.height="",i._handleAnimationsDuration(n,e,"collapse")}}_compareExpandedIndexes(e,t){let i=[],n=[],r=[],o=e.length,a=t.length
for(let r=0;r<o;r++)-1===t.indexOf(e[r])?-1===i.indexOf(e[r])&&i.push(e[r]):-1===n.indexOf(e[r])&&n.push(e[r])
for(let e=0;e<a;e++)-1===n.indexOf(t[e])&&r.push(t[e])
return{collapse:i,expand:r}}_createElement(){const e=this
e._reorderItemsByIndex(),e._usedCSSVariables=Boolean(window.getComputedStyle(e.$.container).getPropertyValue("--jqx-accordion-animation-duration")),e._supportCSSVariables=JQX.Utilities.Core.CSSVariablesSupport(),e._storeItems(),e._enableDisableHandler(),e._expandedIndexesHandler(),e._updateExpanedContentHeight(),e._tabIndex=e.tabIndex<=0?0:e.tabIndex,e._setFocusable(),e._updateItemsIndexProperty(),e._updateInlineHeight()
for(let t=0;t<e._items.length;t++)e._items[t].setAttribute("part","jqx-accordion-item"),e._items[t].$.arrow.classList.add("jqx-animate-trigger")}_createItem(e){const t=this,i=document.createElement("jqx-accordion-item")
if(e)return i.disabled=t.disabled,t._tabIndex>-1&&(i.tabIndex=t._tabIndex),"string"==typeof e||"number"==typeof e?(i.label=e+"",i.content=e+"",i):(i.label=e.label||"",i.content=e.content||"",i)}_downHandler(e){if(this.disabled||this.readonly||"none"===this.expandMode||this._toggled)return
const t=this.enableShadowDOM&&this.shadowRoot?this.shadowRoot.elementFromPoint(e.pageX-window.pageXOffset,e.pageY-window.pageYOffset):e.originalEvent.target,i=t.closest(".jqx-accordion-item-header"),n=t.closest("jqx-accordion-item")
i?(this._pointerPosition=e.pageY-window.pageYOffset,this._selectedItem=n,this._itemIsPressed=this._itemIsFocussed=!0,this._reorderedIndex=this._selectedItemIndex=this._items.indexOf(n),this._storeItemsCoordinates()):n&&(n.focused=!0)}_enableDisableHandler(){const e=this
if(e.disabled)for(let t=0;t<e._items.length;t++)e._items[t].disabled=!0
else for(let t=0;t<e._items.length;t++)e._items[t].disabled=!1}_expandedIndexesHandler(){const e=this
let t=e._getExpandedIndexes("initial"),i=t.length,n=e.expandedIndexes.length
if(0!==e._items.length){if(0===n&&i>0&&(e.expandedIndexes=t,n=i),e._expandModeIs(["multiple","none"])||1===n)return e._toggleItems("expand",e.expandedIndexes),void(e._animationAfterInitialization=!0)
switch(e.expandMode){case"single":case"singleFitHeight":0===n?e._toggleItems("expand",[0]):n>1&&(e._toggleItems("collapse",e.expandedIndexes.splice(0,1)),e._toggleItems("expand",e.expandedIndexes))
break
case"toggle":n>1&&(e._toggleItems("collapse",e.expandedIndexes.splice(0,1)),e._toggleItems("expand",e.expandedIndexes))}e._animationAfterInitialization=!0}else e._animationAfterInitialization=!0}_expandItem(e,t){const i=this
let n=i._items[e]
if(!(n.expanded||"none"===i.expandMode&&t)){if(n.$.container.style.getPropertyValue("--jqx-accordion-expanded-content-local-height")||(n.expanded=!0,n.$.container.style.setProperty("--jqx-accordion-expanded-content-local-height",n.$.accordionItemContent.scrollHeight+"px"),n.expanded=!1),n.expanded=!0,i.$.fireEvent("expanding",{index:e,label:n.label,content:n.content.innerHTML}),-1===i.expandedIndexes.indexOf(e)){let t=i.expandedIndexes.slice()
t.push(e),i.expandedIndexes=t}i._supportCSSVariables&&i._usedCSSVariables||"singleFitHeight"!==i.expandMode||(n.$.accordionItemContent.style.height=i._expandedItemsContainerHeight-1+"px"),i._handleAnimationsDuration(n,e,"expand")}}_expandModeIs(e){return e.indexOf(this.expandMode)>-1}_focusHandler(){const e=this
e.disabled||0===e._items.length||(e._itemIsFocussed?e._selectedItem.focused=!1:e._items[0].focused=!1)}_getExpandedIndexes(e){const t=this,i=[]
for(let n=0;n<t._items.length;n++)"initial"===e?t._items[n].hasAttribute("expanded")&&(i.push(n),t._items[n].removeAttribute("expanded")):t._items[n].expanded&&i.push(n)
return i.slice()}_getItemsHeights(e){const t=this._items,i=t.length
let n=[]
if(0!==i){if(!isNaN(e)&&e>=0&&e<i){const i=t[e]
let n=0
return i.expanded?n=i.$.accordionItemContent.scrollHeight:(i.expanded=!0,n=i.$.accordionItemContent.scrollHeight,i.expanded=!1),n+"px"}for(let e=0;e<i;e++){const i=t[e]
let r=0
i.expanded?r=i.$.accordionItemContent.scrollHeight:(i.expanded=!0,r=i.$.accordionItemContent.scrollHeight,i.expanded=!1),n.push(r+"px")}return this._heightCalcAfterInitialization=!0,n}}_handleAnimationsDuration(e,t,i){const n=this
if(!n._animationAfterInitialization)return
if(1===n._items.length&&"singleFitHeight"===n.expandMode)return void n.$.fireEvent(i,{index:t,label:e.label,content:e.content.innerHTML})
if(!1===n.hasAnimation||!n._supportCSSVariables)return void n.$.fireEvent(i,{index:t,label:e.label,content:e.content.innerHTML})
if(n._preventAnimation)return n.$.fireEvent(i,{index:t,label:e.label,content:e.content.innerHTML}),void(n._preventAnimation=!1)
n._toggled=!0
let r,o=window.getComputedStyle(n).animationDuration
if(o.indexOf("ms")>-1)o=parseFloat(o.substring(0,o.length-2)),r=isNaN(o)||o<0?0:o-50
else{if(!(o.indexOf("s")>-1))return void n.$.fireEvent(i,{index:t,label:e.label,content:e.content.innerHTML})
o=parseFloat(o.substring(0,o.length-1)),r=isNaN(o)||o<0?0:1e3*o-50}e&&(e.$.addClass("jqx-toggled-item"),n.$container.addClass("jqx-toggling"),setTimeout(function(){e.$.removeClass("jqx-toggled-item"),n.$container.removeClass("jqx-toggling"),n.$.fireEvent(i,{index:t,label:e.label,content:e.content.innerHTML}),n._toggled=!1},r))}_indexChangeHandler(e){const t=this,i=t._items,n=i.length,r=e.detail
r.newIndex>=n?t.$.container.appendChild(i[r.oldIndex]):r.newIndex>r.oldIndex?t.$.container.insertBefore(i[r.oldIndex],i[r.newIndex+1]):t.$.container.insertBefore(i[r.oldIndex],i[r.newIndex])
let o=t.enableShadowDOM&&t.shadowRoot?t.shadowRoot.querySelectorAll("jqx-accordion-item"):t.getElementsByTagName("jqx-accordion-item")
t._items=Array.from(o),t._updateItemsIndexProperty()}_keyDownHandler(e){const t=this,i=e.key
if("none"===t.expandMode||t.disabled||t.readonly||t._toggled)return
const n=(t.shadowRoot?t.shadowRoot.activeElement:document.activeElement)||document.activeElement
if(-1===["ArrowLeft","ArrowDown","ArrowRight","ArrowUp","End","Home"," ","Enter","Tab"].indexOf(i)||!(n instanceof JQX.AccordionItem))return
"Tab"!==i&&e.preventDefault()
let r,o,a=t._items.length,s=a-1
for(let e=0;e<a;e++){let i=t._items[e]
i.focused&&(r=i,o=e)}switch(i){case"Tab":e.shiftKey?d("up"):d("down")
break
case"ArrowLeft":t.collapse(o)
break
case"ArrowDown":d("down")
break
case"ArrowRight":t.expand(o)
break
case"ArrowUp":d("up")
break
case"End":l(s)
break
case"Home":l(0)
break
case" ":case"Enter":if(r.expanded)return void t.collapse(o)
t.expand(o)
break
default:return}function l(e){e===o||isNaN(e)||(r.focused=!1,o=e,(r=t._items[o]).focused=!0)}function d(e){l("up"!==e?o+1>s?s:o+1:o-1<0?0:o-1)}}_containerMoveHandler(e){"touchmove"===e.originalEvent.type&&e.originalEvent.preventDefault()}_moveHandler(e){const t=this
if(e.stopPropagation(),!(!t._itemIsPressed||!t.reorder||t.readonly||t._items.length<2||!t.$container.hasClass("jqx-reordering")&&Math.abs(e.pageY-t._pointerPosition)<5))if(t._dragStart){if(t.$container.hasClass("jqx-reordering")||t.$container.addClass("jqx-reordering"),!t._dragging){const i=t._selectedItem
t.$.fireEvent("dragStart",{position:{left:e.pageX,top:e.pageY},target:e.originalEvent.target,index:t._selectedItemIndex,label:i.label,content:i.content.innerHTML}),t._selectedItem.dragged=t._dragging=!0}if(t.hasAnimation){const e=t._selectedItem.querySelector(".jqx-ripple")
e&&(e.style.height=0)}const i=e.clientY
let n=!1
for(let e=0;e<t._itemsCoordinates.length;e++){const r=t._itemsCoordinates[e]
if(i>=r.fromY&&i<=r.toY){n=e
break}}const r=t._items[n]
if(!1!==n&&r!==t._selectedItem){if(t._lastReorderedItem&&r===t._lastReorderedItem)return
if(t._lastReorderedItem=r,Math.abs(t._reorderedIndex-n)>1){const e=t._reorderedIndex-n<0?-1:1
t._swapItems(t._reorderedIndex,n+e)}return t._swapItems(t._reorderedIndex,n),t._reorderedIndex=n,void t._storeItemsCoordinates()}t._lastReorderedItem=void 0}else t._dragStart=!0}_reorderItemsByIndex(){const e=this
let t=e.enableShadowDOM&&e.shadowRoot?e.shadowRoot.querySelectorAll("jqx-accordion-item"):e.getElementsByTagName("jqx-accordion-item"),i=Array.from(t),n=!1,r=i.map(function(e){return null!==e.index?n=!0:e.index=0,e.index})
if(!n)return
const o=i.length
if(o<2)return
let a=r.slice()
if(a.sort(function(e,t){return parseInt(e)-parseInt(t)}),r.toString()!==a.toString())for(let i=0;i<o;i++){let n
for(let e=0;e<o;e++)t[e].index===a[i]&&(n=t[e])
e.$.container.insertBefore(n,t[i])}}_resizeHandler(){this._updateExpanedContentHeight(),this._updateInlineHeight(),this._storeItemsCoordinates()}_storeItems(){const e=this,t=e.enableShadowDOM&&e.shadowRoot?e.shadowRoot.querySelectorAll("jqx-accordion-item"):e.getElementsByTagName("jqx-accordion-item")
if(e._items=Array.from(t),0===e._items.length)return void e.$container.addClass("jqx-empty")
e.$container.removeClass("jqx-empty")
const i=e._getItemsHeights()
for(let t=0;t<e._items.length;t++)e._updateExpanedContentLocalHeight(e._items[t],i[t])}_storeItemsCoordinates(){const e=this
if(e.disabled||!e.reorder)return
const t=[]
for(let i=0;i<e._items.length;i++){const n=e._items[i].getBoundingClientRect()
t.push({fromY:n.top+(window.scrollY||window.pageYOffset),toY:n.bottom+(window.scrollY||window.pageYOffset)})}e._itemsCoordinates=t}_swapItems(e,t){const i=this,n=Math.min(e,t),r=Math.max(e,t),o=i._items
let a=i.expandedIndexes.slice()
if(i._items[e].expanded&&!i._items[t].expanded){const n=a.indexOf(e)
a[n]=t,i.expandedIndexes=a.slice()}else if(i._items[t].expanded&&!i._items[e].expanded){const n=a.indexOf(t)
a[n]=e,i.expandedIndexes=a.slice()}i.selectedIndex=i.selectedIndex===e?t:e,i.$.container.insertBefore(o[r],o[n]),function(e,t,i){const n=e[i]
e[i]=e[t],e[t]=n}(o,e,t),i._items[e].$.removeClass("hovered"),i._reorderedIndex=t}_toggleItems(e,t){const i=this,n=t.length
if(n>0)for(let r=0;r<n;r++)i["_"+e+"Item"](t[r])}_updateExpanedContentHeight(){const e=this
e.$.container.style.setProperty("--jqx-accordion-item-header-height","")
const t=e._items.length,i=e.$.container.offsetHeight,n=e._items[e.expandedIndexes[0]]
let r=0,o=0,a=0,s=0
if(1===t){let t=e._items[0],i=t.expanded
t.expanded=!1,r=t.offsetHeight,o=t.$.accordionItemHeader.offsetHeight,t.expanded=i}else for(;0===r&&s<t;){const t=e._items[s]
t instanceof JQX.AccordionItem&&!t.expanded&&(r=t.offsetHeight,o=t.$.accordionItemHeader.offsetHeight),s++}if(t>1&&n instanceof JQX.AccordionItem){a=n.$.accordionItemHeader.offsetHeight-o}const l=getComputedStyle(e.$.root)
let d=i-r*t-a-parseFloat(l.paddingBottom)-parseFloat(l.paddingTop)
"singleFitHeight"===e.expandMode&&(d=e._adjustHeightValue(d)),d=d>=0?d:0,e.$.container.style.setProperty("--jqx-accordion-expanded-content-height",d+"px"),e.$.container.style.setProperty("--jqx-accordion-item-header-height",o+"px"),e._expandedItemsContainerHeight=d}_updateExpanedContentLocalHeight(e,t){this._supportCSSVariables&&this._usedCSSVariables&&e.$.container.style.setProperty("--jqx-accordion-expanded-content-local-height",t)}_updateInlineHeight(){this._supportCSSVariables&&this._usedCSSVariables||"singleFitHeight"!==this.expandMode||0===this._items.length||(this._items[this.expandedIndexes[0]].$.accordionItemContent.style.height=this._expandedItemsContainerHeight-1+"px")}_updateItemsIndexProperty(){const e=this
let t=[]
for(let i=0;i<e._items.length;i++)e._items[i]._setIndex(i),e._items[i].expanded&&t.push(i)
e.expandedIndexes=t.slice()}_upHandler(e){const t=this
if(t._itemIsPressed&&!t.disabled&&!t.readonly){for(let e=0;e<t._items.length;e++)e!==t._selectedItemIndex&&(t._items[e].focused=!1)
if(t._selectedItem.focused=!0,t._dragging){const i=t._selectedItem
t.$container.removeClass("jqx-reordering"),t.$.fireEvent("dragEnd",{position:{left:e.pageX,top:e.pageY},target:e.originalEvent.target,index:t._selectedItemIndex,label:i.label,content:i.content.innerHTML})}else t._selectedItem.expanded?t.collapse(t._selectedItemIndex,!0):t.expand(t._selectedItemIndex,!0)
t._reorderedIndex=void 0,t._dragStart=!1,t._dragging=!1,t._itemIsPressed=!1,t._selectedItem.dragged=!1,t._updateItemsIndexProperty()}}_validateItemsIndex(e,t){const i=this
if(!(isNaN(parseInt(e))||e<0||e>i._items.length-1))return parseInt(e)
i.log(i.localize("indexOutOfBound",{elementType:i.nodeName.toLowerCase(),method:t}))}})
var ye=Object.freeze({})
JQX.DataAdapter=window.jqxDataAdapter=class{constructor(e){e||(e={})
const t=Object.assign(this,e)
t.key=(65536*(1+Math.random())|0).toString(16).substring(1),t.$document=JQX.Utilities.Extend(document),t.boundSource=!1===t.observable?[]:new JQX.ObservableArray,t.dataItemById=[],void 0===t.allowAdd&&(t.allowAdd=!0),void 0===t.allowRemove&&(t.allowRemove=!0),void 0===t.allowUpdate&&(t.allowUpdate=!0),void 0===e.observable&&(t.observable=!0),e.dataSource||(t.dataSource=[]),e.dataFields||(t.dataFields=[]),e.dataSourceType||(t.dataSourceType="array"),e.id||(t.id=null),e.autoFetch||(t.autoFetch=!0),e.dataFields&&(t.dataFields=e.dataFields),Object.defineProperty(t,"groupBy",{configurable:!1,enumerable:!0,get:()=>t._groupBy?t._groupBy:[],set(e){const i=()=>{t.boundHierarchy=null,t.refreshHierarchy(),t.onGroup&&t.onGroup()}
t._groupBy=new JQX.ObservableArray(e),t._groupBy.notify(function(){i()}),t.isInitialized&&i()}}),e.groupBy?e.groupBy.toArray?t.groupBy=e.groupBy.toArray():t.groupBy=e.groupBy:t.groupBy=[],e&&!1!==e.autoBind&&t.dataBind(),t.isInitialized=!0}get dataFields(){return this._dataFields}set dataFields(e){return this._dataFields=this._getDataFieldObjects(e),this._dataFields}_getDataFieldObjects(e){let t=[]
if("number"==typeof e){const i="A".charCodeAt(0)
let n="",r=0
for(let o=0;o<e;o++){const e=String.fromCharCode(i+r)
r++
const o=n+e
t.push({name:o,dataType:"string"}),r>=26&&(r=0,n+="A")}}else if(e.length>0)for(let i=0;i<e.length;i++){const n=e[i]
if("string"==typeof n){const e=n.split(":"),i=e[0].trim(),r=e.length>1?e[1].trim():"string"
t.push({name:i,dataType:r})}else t.push(n)}return t}get dataSource(){const e=this
return e._dataSource||(e._dataSource=[]),e._dataSource}set dataSource(e){const t=this
t._dataSource=e,t.isInitialized&&(t.boundSource=!1===t.observable?[]:new JQX.ObservableArray,t.dataItemById=[],t.bindingCompleted=!1,t.dataBind())}get canNotify(){const e=this
return void 0===e._canNotify&&(e._canNotify=!0),e._canNotify}set canNotify(e){this._canNotify=e}_notify(e){const t=this
t.canNotify&&t.notifyFn&&t.notifyFn(e)}notify(e){e&&(this.notifyFn=e)}toArray(){return this.boundSource.toArray()}dataBind(){const e=this
e.clear()
const t=()=>{e.observable&&e.boundSource.notify(function(t){if("update"===t.action&&t.path&&t.path.indexOf(".")>=0&&-1===t.path.indexOf("children")&&-1===t.path.indexOf("loaded")&&-1===t.path.indexOf("level")&&-1===t.path.indexOf("leaf")&&-1===t.path.indexOf("expanded")){let i=!1
for(let n=0;n<e.dataFields.length;n++){const r=e.dataFields[n].name
t.path.indexOf(r)>=0&&(i=!0)}e._notify&&i&&e._notify({action:"update",data:t.target,index:t.index})}}),e._onBindingComplete()}
"string"==typeof e.dataSource&&e.dataSource.indexOf(".json")>=0?(e.url=e.dataSource,e.dataSourceType="json",new _e(e,t=>{e.dataSource=t,e._bindToJSON()})):"string"==typeof e.dataSource&&e.dataSource.indexOf(".xlsx")>=0?(e.url=e.dataSource,e.dataSourceType="xlsx",new _e(e,i=>{if(!i[0])return i=[],e._bindToArray(),void t()
const n=Object.keys(i[0]),r={},o=[]
if(!1!==e.exportHeader){let t=0
for(let i in n)r[n[i]]=e.dataFields[t++].name
for(let e=1;e<i.length;e++){const t=i[e],a={}
for(let e in n){const i=n[e]
a[r[i]]=t[i]}o.push(a)}e.dataSource=o}e._bindToArray(),t()})):"string"==typeof e.dataSource&&e.dataSource.indexOf(".csv")>=0?(e.dataSourceType="csv",new _e(e,()=>{e._bindToArray()})):"string"==typeof e.dataSource&&e.dataSource.indexOf(".tsv")>=0?(e.dataSourceType="tsv",new _e(e,()=>{})):"array"===e.dataSourceType?(e._bindToArray(),t()):"json"===e.dataSourceType&&(e._bindToJSON(),t())}_onBindingComplete(){const e=this
e._buildHierarchy(),e.onBindingComplete&&e.onBindingComplete({data:e.boundSource}),e._notify&&e._notify({action:"bindingComplete",data:e.boundSource}),e.bindingCompleted=!0}refreshHierarchy(){this._buildHierarchy()}find(){return this.boundSource.find.apply(this.boundSource,arguments)}onVirtualDataSourceRequested(e,t){const i=this
let n=t?t.first:1/0,r=t?t.last:1/0,o=t?t.row:null
if(void 0===n&&(n=1/0),void 0===r&&(r=1/0),i.virtualFirstIndex=n,i.virtualLastIndex=r,i.virtualDataSource){const a=function(a){void 0!==a.virtualDataSourceLength&&(i.virtualDataSourceLength=a.virtualDataSourceLength),new JQX.DataAdapter({dataSource:a.dataSource,dataFields:a.dataFields||i.dataFields,data:t,onBindingComplete(t){if(i.virtualDataSourceOnExpand&&o)return t.data&&t.data.length>0?i.add(t.data,o.$.id):o.leaf=!0,i.onFilter&&i.onFilter(),void e()
if(n===1/0)i.add(t.data)
else{let e=[],o=[]
for(let i=0;i<t.data.length;i++){const a=t.data[i]
n+i<=r&&(e.push(a),o.push(n+i))}i.update(o,e)}i.onFilter&&i.onFilter(),e()}})}
let s=!1
const l=e=>0===Object.entries(e).length&&(e.constructor===Object||e.constructor===Array),d=l(t.sorting)&&l(t.filtering)&&l(t.grouping)&&!t.row&&"filter"!==t.action&&"sort"!==t.action&&"group"!==t.action
if(i.virtualDataSourceCache&&n!==1/0&&d){let e=0
for(let t=n;t<r;t++)i[t].$.isEmpty||e++
e===r-n&&(s=!0)}s?e():"expand"===t.action?i.virtualDataSourceOnExpand(a,{first:n,last:r,row:t.row,sorting:t.sorting,filtering:t.filtering,grouping:t.grouping,action:t.action}):i.virtualDataSource(a,{first:n,last:r,sorting:t.sorting,filtering:t.filtering,filterOperator:t.filterOperator||"and",grouping:t.grouping,action:t.action})}else e()}add(e,t){const i=this
if(!e)return
let n=!0
const r=function(e){const r=i._getDataItem(e,i.boundSource.length)
i[i.boundSource.length]=r,i.dataItemById[r.$.id]=r
const o=i.boundSource.push(r)
return void 0!==t&&(r.$.parentId=t),o||(n=!1),r}
if(e.length){let t=[]
for(let i=0;i<e.length;i++){const n=r(e[i])
t.push(n)}i._notify({action:"add",data:t})}else{const t=r(e)
i._notify({action:"add",data:t})}return i.refreshHierarchy(),n}refreshIndexes(){const e=this
for(let t=0;t<e.boundSource.length;t++)e[t]=e.boundSource[t],e[t].$.index=t,e.dataItemById[e[t].$.id]=e[t]
let t=e.boundSource.length
for(;e[t];)delete e[t],t++}removeLast(){delete this[this.boundSource.length-1]
const e=this.boundSource.pop()
return delete this.dataItemById[e.$.id],this._notify({action:"removeLast",data:e}),this.refreshHierarchy(),e}removeAt(e){const t=this.boundSource[e]
if(!t)throw new Error("Invalid Item Index")
this.boundSource.splice(e,1),delete this.dataItemById[t.$.id],this.refreshIndexes(),this._notify({action:"remove",index:e,data:t}),this.refreshHierarchy()}update(e,t){const i=this
if(JQX.Utilities.Types.isArray(e)&&JQX.Utilities.Types.isArray(t)&&0===e.length&&0===t.length)return void i.refreshHierarchy()
if(t.length&&e.length){let n=[]
for(let r=0;r<e.length;r++){const o=i._getDataItem(t[r],e[r]),a=e[r]
n.push(o),i.boundSource[a]=o,i[a]=i.boundSource[a],i.dataItemById[o.$.id]=i[a]}return i._notify({action:"update",index:e,data:n}),void i.refreshHierarchy()}const n=i._getDataItem(t,e)
return i.boundSource[e]=n,i[e]=i.boundSource[e],i.dataItemById[n.$.id]=i[e],i._notify({action:"update",index:e,data:n}),i.refreshHierarchy(),n}insert(e,t){t=this._getDataItem(t,e)
const i=this.boundSource.splice(e,0,t)
return this.refreshIndexes(),this._notify({action:"insert",index:e,data:t}),this.refreshHierarchy(),i}move(e,t){if(t>e&&t-e==1||e===t)return
const i=this,n=i.boundSource.splice(e,1)[0]
t>e?(t--,i.boundSource.splice(t,0,n)):i.boundSource.splice(t,0,n),i.refreshIndexes(),i._notify({action:"move",index:t,data:i.boundSource[t]}),i.refreshHierarchy()}indexOf(e){return this.boundSource.indexOf(e)}get length(){const e=this
return void 0!==e.virtualDataSourceLength?e.virtualDataSourceLength:e.dataSourceLength?e.dataSourceLength:"number"==typeof e.dataSource?e.dataSource:e.bindingCompleted?e.boundSource.length:e.dataSource&&"string"!=typeof e.dataSource&&e.dataSource.length?e.dataSource.length:e.boundSource.length}clear(){const e=this
if(!e.isInitialized)return e._cachedValues=[],void(e.dataItemById=[])
for(let t=0;t<e.boundSource.length;t++)delete e[t]
e._cachedValues=[],e.boundSource=e.observable?new JQX.ObservableArray:[],e.dataItemById=[],e.refreshHierarchy()}_getId(e,t,i){if(null===e||void 0===e.name||!e.name||!t.getAttribute){if(e&&e.toString().length>0&&t.getAttribute){let i=t.getAttribute(e)
if(null!==i&&i.toString().length>0)return i.trim().split(" ").join("").replace(/([ #;?%&,.+*~\':'!^$[\]()=>|\/@])/g,"")
{let i=e.split(this.mapChar)
if(i.length>1){let e=t
for(let t=0;t<i.length;t++)void 0!==e&&(e=e[i[t]])
if(void 0!==e)return e}else if(void 0!==t[e])return t[e]}}return i}{let n=t.getAttribute(e.name)
if(null!==n&&n.toString().length>0)return n
if(e.map)try{let n=t.getAttribute(e.map)
if(null!==n&&n.toString().length>0)return n}catch(e){return i}}}_buildHierarchy(){const e=this
if(e.reservedNames){const t=e.reservedNames
t.leaf||(t.leaf="leaf"),t.parent||(t.parent="parent"),t.expanded||(t.expanded="expanded"),t.checked||(t.checked="checked"),t.selected||(t.selected="selected"),t.level||(t.level="level"),t.data||(t.data="data")}else e.reservedNames={leaf:"leaf",parent:"parent",expanded:"expanded",checked:"checked",selected:"selected",level:"level",icon:"icon",data:"data"}
const t=e.reservedNames
if(e.childrenDataField){const i=[]
for(let n=0;n<e.boundSource.length;n++){const r=Object.assign({},e.boundSource[n])
if(!r)continue
i.push(r)
const o=function(i){const n=e.childrenDataField.split(e.mapChar)
let r=null
if(n.length>1){let e=i
for(let t=0;t<n.length;t++)void 0!==e&&(e=e[n[t]])
r=e}else r=i.children
i.children=r,(null===i.children||void 0===i.children||i.children&&0===i.children.length)&&(i[t.leaf]=!0)}
o(r),r[t.level]=0,r.$||(r.$={}),r[t.parent]=null,r[t.data]=r,void 0===r[t.expanded]&&(r[t.expanded]=!1)
const a=function(i,n){if(n)for(let r=0;r<n.length;r++){let s=e._getDataItem(n[r],r)
s&&(o(s),s[t.level]=i[t.level]+1,s[t.parent]=i,s[t.data]=s,i&&(i.children[r]=s),void 0===s[t.expanded]&&(s[t.expanded]=!1),a(s,s.children))}else i.children=new Array}
a(r,r.children)}if(e.boundHierarchy=i,!e._boundSourceUpdate){for(let t=0;t<e.boundHierarchy.length;t++){const i=e.boundHierarchy[t]
if(i.children){const t=function(i){if(e.dataItemById[i.$.id]||(e.boundSource.canNotify=!1,e.dataItemById[i.$.id]=i,e[e.boundSource.length]=i,e.boundSource.push(i),e.boundSource.canNotify=!0),i.children)for(let e=0;e<i.children.length;e++){const n=i.children[e]
n.children&&t(n)}}
t(i)}}e._boundSourceUpdate=!0}}e.xmlRoot&&"xml"===e.dataSourceType&&(e.boundHierarchy=this._getHierarchy("uid","_parentuid","children",null,e.boundSource)),e.keyDataField&&e.parentDataField&&(e.boundHierarchy=this._getHierarchy(e.keyDataField,e.parentDataField,"children",null,e.boundSource)),e.groupBy&&e.groupBy.length>0&&(e.boundHierarchy=this._getGroupHierarchy(e.groupBy,"children","label",null,"data",null,"parent",e.boundSource)),e.virtualDataSourceOnExpand&&(e.boundHierarchy=this._getHierarchy("id","parentId","children",null,e.boundSource))}_getGroupHierarchy(e,t,i,n,r,o,a,s,l){l||(l=0)
let d=this.reservedNames
const c=function(){function e(){return Math.floor(65536*(1+Math.random())).toString(16).substring(1)}return e()+e()+"-"+e()+"-"+e()+"-"+e()+"-"+e()+e()+e()}
let h=new Array
for(let t=0;t<e.length;t++)h[t]=c()
t||(t="children"),i||(i="group"),r||(r="item"),a||(a="parent"),void 0===o&&(o="value")
const u=new Array,p=new Array
let m=0
const f=function(e){let t=e
if(n)for(let e in n){const i=n[e]
i.name&&i.map&&(t[i.map]=t[i.name])}return t}
for(let n=0;n<s.length;n++){let g=Object.assign({},f(s[n]))
g[d.leaf]=!1
let v=new Array,b=0
for(let t=0;t<e.length;t++){const i=e[t],n=g[i]
null!==n&&(v[b++]={value:n,group:i,hash:h[t]})}if(v.length!==e.length)break
let y=null,_=""
for(let e=0;e<v.length;e++){const n=v[e].value,s=v[e].group
if(void 0===p[_=_+"_"+v[e].hash+"_"+n]||null===p[_]){if(null===y){(y={$:{}})[d.level]=0,y[d.leaf]=!1,y[a]=null,y[i]=n,y[r]=g,y.groupDataField=s,y[s]||(y[s]=y.data[s]),void 0!==g[d.expanded]?y[d.expanded]=g[d.expanded]:y[d.expanded]=!1,o&&(y[o]=g[o]),y[t]=new Array
let e=u.length+l
this.id&&"number"!=typeof g.$.id&&!isFinite(g.$.id)||(e="Item"+e),void 0===y.$.id&&(y.$.id=e),u[m++]=y}else{const e={$:{}}
e[d.level]=y[d.level]+1,e[a]=y,e[i]=n,e[t]=new Array,e[r]=g,e.groupDataField=s,e[d.leaf]=!1,e[s]||(e[s]=e.data[s]),void 0!==g[d.expanded]?e[d.expanded]=g[d.expanded]:e[d.expanded]=!1,o&&(e[o]=g[o]),void 0===e.$.id&&(e.$.id=y.$.id+"_"+y[t].length),y[t][y[t].length]=e,y=e}p[_]=y}else y=p[_]}g&&(g[d.leaf]=!0),null!==y?(null===this.id?void 0===g.$.id&&(g.$.id=y.$.id+"_"+y[t].length):void 0===g.$.id&&-1===g.$.id.toString().indexOf(y.$.id)&&(g.$.id=y.$.id+"_"+g.$.id),g[a]=y,g[d.level]=y[d.level]+1,y[t][y[t].length]=g):void 0===g.$.id&&(g.$.id=c())}return u}_getHierarchy(e,t,i,n,r){const o=this,a=new Array
let s=this.boundSource
if(r&&(s=r),0===this.boundSource.length)return null
const l=null!==i?i:"children"
let d=new Array,c=s,h=c.length,u=o.reservedNames
const p=function(e){let t=e
if(n)for(let e in n){const i=n[e]
i.name&&i.map&&(t[i.map]=t[i.name])}return t}
for(let i=0;i<h;i++){let n=c[i],r=n[t],o=n[e]
"parentId"===t&&(r=n.$.parentId),"id"===e&&(o=n.$.id),n[l]=new Array,d[o]={parentId:r,item:n}}for(let i=0;i<h;i++){const n=c[i]
let r=n[t],o=n[e]
if("parentId"===t&&(r=n.$.parentId),"id"===e&&(o=n.$.id),void 0!==d[r]){let e={parentId:r,item:d[o].item},t=d[r].item
t[l]||(t[l]=new Array)
let i=t[l].length
e=e.item,u?void 0===e[u.parent]&&(e[u.parent]=t):void 0===e.parent&&(e.parent=t)
const n=p(e)
t[l][i]=n,d[r].item=t,d[o].item=e}else{let e=d[o].item
u?void 0===e[u.parent]&&(e[u.parent]=null):void 0===e.parent&&(e.parent=null)
const t=p(e)
u?t[u.level]=0:t.level=0,a[a.length]=t}}if(0!==a.length){let e=function(t,i){for(let n=0;n<i.length;n++){const r=i[n]
u?r[u.level]=t:r.level=t
const a=r[l]
a&&a.length>0?e(t+1,a):o.virtualDataSourceOnExpand?void 0===r.leaf&&(r.leaf=!1):u?r[u.leaf]=!0:r.leaf=!0}}
e(0,a)}return a}summarize(e,t){const i=this
Array.isArray(e)||(e=[e])
let n=[]
for(let t=0;t<e.length;t++){const i=e[t]
for(let e in i){const t=i[e]
n.push({dataField:e,functions:t})}}e=n
let r={},o=new Array
t||(t=i.boundSource)
let a=t.length
if(0!==a&&void 0!==a){for(let i=0;i<a;i++){let n=t[i]
for(let t=0;t<e.length;t++){const a=e[t]
let s=n[a.dataField]
if(a.functions){r[a.dataField]=r[a.dataField]||{},o[a.dataField]=o[a.dataField]||0,o[a.dataField]++
const e=function(e){for(let t in e){let i=r[a.dataField][t]
null==i&&(r[a.dataField][t]=0,i=0),"function"==typeof e[t]&&(i=e[t](i,s,a.dataField,n)),r[a.dataField][t]=i}}
let t=parseFloat(s);(t=!isNaN(t))&&(s=parseFloat(s)),"number"==typeof s&&isFinite(s)?a.functions.forEach(function(t){let n=r[a.dataField][t]
if(null==n&&(n=0,"min"===t&&(n=9999999999999),"max"===t&&(n=-9999999999999)),"sum"===t||"avg"===t||"stdev"===t||"stdevp"===t||"var"===t||"varp"===t)n+=parseFloat(s)
else if("product"===t)0===i?n=parseFloat(s):n*=parseFloat(s)
else if("min"===t)n=Math.min(n,parseFloat(s))
else if("max"===t)n=Math.max(n,parseFloat(s))
else if("count"===t)n++
else if("object"==typeof t)return void e(t)
r[a.dataField][t]=n}):a.functions.forEach(function(t){if("min"===t||"max"===t||"count"===t||"product"===t||"sum"===t||"avg"===t||"stdev"===t||"stdevp"===t||"var"===t||"varp"===t){if(null===s)return!0
let e=r[a.dataField][t]
return null==e&&(e=0),r[a.dataField][t]=e,!0}"object"==typeof t&&e(t)})}}}for(let i=0;i<e.length;i++){const n=e[i]
if(n.functions){if(r[n.dataField]||(r[n.dataField]={},n.functions.forEach(function(e){r[n.dataField][e]=0})),void 0!==r[n.dataField].avg){const e=r[n.dataField].avg,t=o[n.dataField]
r[n.dataField].avg=0===t||void 0===t?0:e/t}else void 0!==r[n.dataField].count&&(r[n.dataField].count=a);(r[n.dataField].stdev||r[n.dataField].stdevp||r[n.dataField].var||r[n.dataField].varp)&&n.functions.forEach(function(e){if("stdev"===e||"var"===e||"varp"===e||"stdevp"===e){const i=r[n.dataField][e],o=a,s=i/a
let l=0
for(let e=0;e<a;e++){let i=t[e][n.dataField]
l+=(i-s)*(i-s)}let d="stdevp"===e||"varp"===e?o:o-1
0===d&&(d=1),"var"===e||"varp"===e?r[n.dataField][e]=l/d:"stdevp"!==e&&"stdev"!==e||(r[n.dataField][e]=Math.sqrt(l/d))}})}}return r}}_getDataItem(e,t){const i=this,n={},r="number"==typeof i.dataSource||i.dataSourceLength
if(!e)return{$:{id:t,isEmpty:!0,index:t}}
if("string"==typeof e&&(e={"":e}),r){for(let e=0;e<i.dataFields.length;e++)n[(i.dataFields?i.dataFields[e]:{}).name]=""
return n.$={},n.$.id=t,n.$.index=t,n}const o=e
if(void 0!==o.expanded&&(n.expanded=o.expanded,"true"===o.expanded||!0===o.expanded||1===o.expanded?n.expanded=!0:n.expanded=!1),i.childrenDataField?void 0!==o[i.childrenDataField]&&(n.children=o[i.childrenDataField]):void 0!==o.children?n.children=o.children:void 0!==o.items&&(n.children=o.items),void 0!==o.leaf&&(n.leaf=o.leaf),void 0!==o.level&&(n.level=o.level),i.keyDataField&&void 0!==o[i.keyDataField]&&(n[i.keyDataField]=o[i.keyDataField]),i.parentDataField&&void 0!==o[i.parentDataField]&&(n[i.parentDataField]=o[i.parentDataField]),0===i.dataFields.length){const t=Object.getOwnPropertyNames(e)
for(let e=0;e<t.length;e++)"$"!==t[e]&&i.dataFields.push({name:t[e],dataType:"string"})}for(let t=0;t<i.dataFields.length;t++){const r=i.dataFields?i.dataFields[t]:{}
let a=""
if(null==r)continue
if(e.length&&(a=e[t]),r.map){let e=r.map.split(i.mapChar)
if(e.length>0){let t=o
for(let i=0;i<e.length;i++)o&&(t=t[e[i]])
a=t}else a=o[r.map]}null!=a?a=a.toString():void 0===a&&null!==a&&(a="")
let s=!1
""===a&&(s=!0,null!=(a=e[r.name])?"array"!==r.dataType&&"date"!==r.dataType&&(a=a.toString()):a=""),"[object Object]"===a&&r.map&&s&&(a=""),i._cachedValues[a+"_"+r.dataType]?a=i._cachedValues[a+"_"+r.dataType]:("bool"===r.dataType||"boolean"===r.dataType?"true"===a||"1"===a?a=!0:"false"!==a&&"0"!==a||(a=!1):a=i.$document.deserialize(""+a,r.dataType,!0),i._cachedValues[a+"_"+r.dataType]=a),"string"!==r.dataType&&"boolean"!==r.dataType&&"bool"!==r.dataType&&(isNaN(a)||a===-1/0||a===1/0)&&(a=0),n[r.name]=a}let a=t
return i.id?"object"==typeof(a=o[i.id])&&(a=t):!i.virtualDataSource&&i.dataItemById&&i.dataItemById[a]&&(a=i.length),n.$||(n.$={}),n.$.id=a,n.$.index=t,new Object(n)}_bindToArray(){const e=this,t="number"==typeof e.dataSource||e.dataSourceLength,i=[]
e.boundSource.canNotify=!1
for(let n=0;n<e.length;n++){const r=t?{}:e.dataSource[n],o=e._getDataItem(r,n)
i.push(o)}if(t&&e.dataSourceLength&&e.dataSource.length>0)for(let t=0;t<e.dataSource.length;t++){const n=e.dataSource[t].cell,r=e.dataSource[t].value,o=n.replace(/[^0-9]/g,""),a=n.replace(/[0-9]/g,"")
i[o-1][a]=r}e.boundSource=!1===e.observable?i:new JQX.ObservableArray(i)
for(let t=0;t<e.length;t++)e[t]=e.boundSource[t],e.dataItemById[e[t].$.id]=e[t]
e.boundSource.canNotify=!0}_bindToJSON(){const e=this,t=[],i=Object.entries(e.dataSource)
e.boundSource.canNotify=!1
for(let n=0;n<i.length;n++){const r=i[n],o=e._getDataItem(r,n)
t.push(o)}e.boundSource=!1===e.observable?t:new JQX.ObservableArray(t)
for(let t=0;t<e.length;t++)e[t]=e.boundSource[t],e.dataItemById[e[t].$.id]=e[t]
e.boundSource.canNotify=!0}sortBy(e,t,i){const n=this
if(!t)for(let i=0;i<n.dataFields.length;i++){const r=n.dataFields[i]
if(r.name===e){t=r.dataType
break}}if(n.boundHierarchy){if((!e||0===e.length)&&n.groupBy.length>0)return void n.refreshHierarchy()
const r=function(o){n._sort(o,e,i,t)
for(let n=0;n<o.length;n++){const a=o[n]
a.children&&r(a.children,e,i,t)}}
r(n.boundHierarchy)}else n._sort(n.boundSource,e,i,t)}_createFilter(e,t){const i={"=":"EQUAL","<>":"NOT_EQUAL","<":"LESS_THAN",">":"GREATER_THAN","<=":"LESS_THAN_OR_EQUAL",">=":"GREATER_THAN_OR_EQUAL",equal:"EQUAL","not equal":"NOT_EQUAL","less than":"LESS_THAN","greater than":"GREATER_THAN","greater than or equal":"GREATER_THAN_OR_EQUAL","less than or equal":"LESS_THAN_OR_EQUAL","starts with":"STARTS_WITH","ends with":"ENDS_WITH",null:"null","":"EMPTY",isblank:"EMPTY",isnotblank:"NOT_EMPTY",contains:"CONTAINS",notcontains:"DOES_NOT_CONTAIN",startswith:"STARTS_WITH",endswith:"ENDS_WITH",NULL:"NULL",NOT_NULL:"NOT_NULL"}
let n=[]
for(let e=0;e<t.length;e++){const i=t[e],r=-1===i.indexOf('"')?i.split(" "):i.split('"')
let o=[]
for(let e=0;e<r.length;e++){const t=r[e]
""!==t&&o.push(t.trim())}n.push(o)}const r=new JQX.FilterGroup,o=[],a=[]
for(let t=0;t<n.length;t++){const r=n[t]
if(r.length>1){const t=new JQX.FilterGroup
let n="and",o=0
for(let a=0;a<r.length;a++){const s=r[a]
if("and"!==s&&"or"!==s){if(2==++o){const l=t.createFilter(e,s,i[r[a-1]])
o=0,n&&t.addFilter(n,l)}}else n=s}a.push(t)}else{const e=r[0]
if("and"!==e&&"or"!==e)throw new Error('Filter Exprresion expects "AND" or "OR", but the token is: '+e)
o.push(e)}}let s=0
if(1===a.length)return a[0]
for(let e=0;e<a.length;e++){let t=o[s];(e+1)%2==0&&s++,t||(t="and"),r.addFilter(t,a[e])}return r}filterBy(e,...t){const i=this,n=(()=>{for(let t=0;t<i.dataFields.length;t++){const n=i.dataFields[t]
if(n.name===e)return n.dataType}})(),r=i._createFilter(n,t)
return i.boundSource.filter(t=>r.evaluate(t[e]))}_filter(e,t="and"){const i=this,n=[],r=[]
if(0===e.length)return void i.clearFilter()
const o=e=>{for(let t=0;t<i.dataFields.length;t++){const n=i.dataFields[t]
if(n.name===e)return n.dataType}}
let a,s
"and"===t?(a=!0,s=function(e,t,i){return e&&t.evaluate(i[t.dataField])}):(a=!1,s=function(e,t,i){return e||t.evaluate(i[t.dataField])})
for(let t=0;t<e.length;t++){const a=e[t],s=a[0]
let l=null;(l=a[1]instanceof JQX.FilterGroup?a[1]:i._createFilter(o(s),a.splice(1)))&&(r.push(s),l.dataField=s,n.push(l))}if(i.boundHierarchy){const e=function(e){let t=a
for(let i=0;i<n.length;i++){const r=n[i]
t=s(t,r,e)}return e.$.filtered=t,t},t=function(n,r,o){let a=0
for(let i=0;i<n.length;i++){const o=n[i]
e(o),o.$.filtered&&a++,o.children&&t(o.children,o,r)}a>0&&i.groupBy.length>0&&r?(r.$.filtered=!0,o&&!o.$.filtered&&(o.$.filtered=!0)):a>0&&a!==n.length&&r&&(r.$.filtered=null,o&&!o.$.filtered&&(o.$.filtered=null))}
t(i.boundHierarchy,null,null)}else for(let e=0;e<i.boundSource.length;e++){const t=i.boundSource[e]
let r=a
for(let e=0;e<n.length;e++){const i=n[e]
r=s(r,i,t)}t.$.filtered=r}i.onFilter&&i.onFilter()}clearGroup(){const e=this
e.groupBy=[],e.boundHierarchy=null,e.refreshHierarchy(),e.onGroup&&e.onGroup()}clearFilter(){const e=this
for(let t=0;t<e.boundSource.length;t++)e.boundSource[t].$.filtered=!0
if(e.boundHierarchy){const t=function(e,i,n){for(let n=0;n<e.length;n++){const r=e[n]
r.$.filtered=!0,r.$.filtered,r.children&&t(r.children,r,i)}i&&(i.$.filtered=!0,n&&!n.$.filtered&&(n.$.filtered=!0))}
t(e.boundHierarchy,null,null)}e.onFilter&&e.onFilter()}clearSort(){this._sort(this.boundSource,[],[],[])}_sort(e,t,i,n,r){const o=this
let a=!1
if(0===e.length)return
if(e&&e.constructor&&e instanceof JQX.ObservableArray&&(a=!0),(!e||!Array.isArray(e)||0===e.length||!t||Array.isArray(t)&&0===t.length)&&!a&&!o.boundHierarchy)throw new Error("sort: Missing or Invalid arguments!")
"string"==typeof t&&(t=[t])
const s=[],l=[]
void 0===i&&(i=[])
const d=function(e,t){let i
switch(t||typeof e){case"string":i=(new Intl.Collator).compare
break
case"number":i=function(e,t){return e-t}
break
case"boolean":case"bool":i=function(e,t){return e===t?0:!1===e?-1:1}
break
case"date":case"time":case"dateTime":e instanceof Date?i=function(e,t){return e.getTime()-t.getTime()}:(e instanceof JQX.Utilities.DateTime||e instanceof JQX.Utilities.BigNumber)&&(i=function(e,t){return e.compare(t)})
break
case"object":if(e instanceof Date)i=function(e,t){return e.getTime()-t.getTime()}
else if(e instanceof JQX.Utilities.DateTime||e instanceof JQX.Utilities.BigNumber)i=function(e,t){return e.compare(t)}
else if(e instanceof JQX.Utilities.Complex||window.NIComplex&&e instanceof window.NIComplex){const e=new JQX.Utilities.ComplexNumericProcessor
i=function(t,i){return e.compareComplexNumbers(t,i)}}}return i}
for(let r=0;r<t.length;r++){void 0===i[r]||"asc"===i[r]||"ascending"===i[r]?s[r]=1:s[r]=-1
const o=e[0][t[r]]
l[r]=d(o,n[r])}if(r)r(e,t,i,l)
else{e.sort(function(e,i){for(let n=0;n<t.length;n++){const r=l[n](e[t[n]],i[t[n]])
if(0===r){if(t[n+1])continue
return void 0!==e._index?(e._index-i._index)*s[n]:0}return r*s[n]}if(0===t.length)return e.$.index<i.$.index?-1:e.$.index>i.$.index?1:0})
for(let t=0;t<e.length;t++)o[t]=e[t]}}static Filter(e,t,i,n,r="and"){let o,a
return"and"===r?(o=!0,a=function(e,t,i,r){return n?e&&n(t,i,r):e&&r.evaluate(t[i])}):(o=!1,a=function(e,t,i,r){return n?e||n(t,i,r):e||r.evaluate(t[i])}),e.filter(e=>{let n=o
for(let r=0;r<i.length;r++){const o=i[r],s=t[r]
n=a(n,e,s,o)}return n})}filter(e,t,i){JQX.DataAdapter.Filter(this.boundSource,e,t,i)}sort(e,t,i){JQX.DataAdapter.Sort(this.boundSource,e,t,i)}static Sort(e,t,i,n){const r=function(e){let t
switch(typeof e){case"string":t=(new Intl.Collator).compare
break
case"number":t=function(e,t){return e-t}
break
case"boolean":t=function(e,t){return e===t?0:!1===e?-1:1}
break
case"object":if(e instanceof Date)t=function(e,t){return e.getTime()-t.getTime()}
else if(e instanceof JQX.Utilities.DateTime||e instanceof BigNumberNG)t=function(e,t){return e.compare(t)}
else if(e instanceof JQX.Utilities.Complex||window.NIComplex&&e instanceof window.NIComplex){const e=new JQX.Utilities.ComplexNumericProcessor
t=function(t,i){return e.compareComplexNumbers(t,i)}}}return t}
if(!e||!Array.isArray(e)||0===e.length||!t||Array.isArray(t)&&0===t.length)return
"string"==typeof t&&(t=[t])
const o=[],a=[]
void 0===i&&(i=[])
for(let n=0;n<t.length;n++)void 0===i[n]||"asc"===i[n]||"ascending"===i[n]?o[n]=1:o[n]=-1,a[n]=r(e[0][t[n]])
if(n)return void n(e,t,i,a)
const s=e.slice(0)
return s.sort(function(e,i){for(let n=0;n<t.length;n++){const r=a[n](e[t[n]],i[t[n]])
if(0===r){if(t[n+1])continue
return void 0!==e._index?(e._index-i._index)*o[n]:0}return r*o[n]}}),s}}
class _e{constructor(e,t){this.config=e,this.callback=t,!1!==e.autoFetch&&this.call(e)}call(e){const t=this
e||(e=t.config)
let i="GET",n=e.url,r=null,o=!0
if(e.type&&(i=e.type),e.data)if("GET"===i){n+="?"
for(let t in e.data)e.data.hasOwnProperty(t)&&(n+=encodeURI(t+"="+e.data[t]+"&"))
"&"===n.charAt(n.length-1)&&(n=n.slice(0,n.length-1))}else"POST"===i&&(r=JSON.stringify(e.data))
e&&!1===e.async&&"xlsx"!==e.dataSourceType&&(o=!1),void 0!==window.fetch&&o?t.ajaxFetch(e,i,n,r):t.ajaxXMLHttpRequest(e,i,n,r,o)}ajaxFetch(e,t,i,n){const r=this,o={method:t}
let a,s,l,d
switch(e.dataSourceType){case"json":a="json"
break
case"xlsx":a="arrayBuffer"
break
default:a="text"}if(e&&e.contentType&&(o.headers=new Headers({"Content-Type":e.contentType})),null!==n&&(o.body=n),e.timeout&&(l=setTimeout(function(){d=!0},e.timeout)),e.beforeSend){if(!1===e.beforeSend(o,e))return}fetch(i,o).then(function(e){if(d)throw s=408,new Error("timeout")
if(l&&clearTimeout(l),s=e.status,!e.ok)throw new Error(e.statusText)
return e[a]()}).then(function(t){if("arrayBuffer"===a)return JSZip.loadAsync(t).then(function(t){return t.files["xl/worksheets/sheet1.xml"].async("text").then(function(i){return t.files["xl/sharedStrings.xml"].async("text").then(function(t){const n=r.parseXLSXData(i,t)
r.ajaxComplete(e,n,s)})})})
r.ajaxComplete(e,t,s)}).catch(function(t){"JSZip is not defined"===t.message&&(t.message="JSZip is not defined. Please include a reference to JSZip to be able to load data from XLSX files."),e&&e.loadError&&e.loadError(s,t),r.callback&&r.callback(t,s)})}ajaxXMLHttpRequest(e,t,i,n,r){const o=new XMLHttpRequest,a=this
if(o.open(t,i,r),o.ontimeout=function(){e&&e.loadError&&e.loadError(408,"timeout")},o.onload=function(){if(4===o.readyState){const t=o.status
let i=o.response
t>=200&&t<=299?("json"===e.dataSourceType&&(i=JSON.parse(i)),a.ajaxComplete(e,i,t)):e&&e.loadError&&e.loadError(t,i)}},o.onerror=function(){e&&e.loadError&&e.loadError(o.status,o.response)},e&&e.contentType&&o.setRequestHeader("Content-Type",e.contentType),r&&e.timeout&&(o.timeout=e.timeout),e.beforeSend){if(!1===e.beforeSend(o,e))return}o.send(n)}ajaxComplete(e,t,i){if(e){if(e.beforeLoadComplete){const i=e.beforeLoadComplete(t)
i&&(t=i)}e.loadComplete&&e.loadComplete(t,i),this.callback&&this.callback(t,i)}}parseXLSXData(e,t){const i=new DOMParser,n=i.parseFromString(t,"text/xml"),r=Array.from(n.getElementsByTagName("si")),o=[],a=i.parseFromString(e,"text/xml"),s=Array.from(a.getElementsByTagName("row")),l=[]
return r.forEach(function(e){let t=e.getElementsByTagName("t")
if(1===t.length)o.push(t[0].innerHTML)
else{let e="";(t=Array.from(t)).forEach(function(t){e+=t.innerHTML}),o.push(e)}}),s.forEach(function(e){const t={}
Array.from(e.getElementsByTagName("c")).forEach(function(e){const i=e.getAttribute("r").match(/\D+/)[0],n=e.getAttribute("t"),r=e.getElementsByTagName("v")[0].innerHTML
let a
switch(n){case"s":a=o[parseFloat(r)]
break
case"b":a=1===parseFloat(r)
break
default:a=parseFloat(r)}t[i]=a}),l.push(t)}),l}}var we=Object.freeze({})
JQX("jqx-sortable",class extends JQX.ContentElement{static get properties(){return{dragMode:{value:"item",allowedValues:["item","handle"],type:"string"},handlePosition:{value:"right",allowedValues:["right","left","top","bottom"],type:"string"},handleVisibility:{value:"hover",allowedValues:["hover","visible"],type:"string"},items:{value:null,type:"string?"},mode:{value:"vertical",allowedValues:["horizontal","vertical"],type:"string"}}}static get listeners(){return{contextmenu:"_preventDefault","container.down":"_containerDownHandler","container.move":"_containerMoveHandler","container.transitionend":"_containerTransitionendHandler","document.dragstart":"_preventDefault","document.move":"_documentMoveHandler","document.selectstart":"_preventDefault","document.up":"_documentUpHandler"}}static get styleUrls(){return["jqx.sortable.css"]}template(){return'<div id="container" class="jqx-sortable-container" role="presentation"><content></content></div>'}move(e,t){const i=this,n=i._items
if(isNaN(e)||isNaN(t)||e===t||e<0||e>=n.length||t<0||t>=n.length)return
const r=n[e],o=n[t]
e>t?i._itemsParent.insertBefore(r,o):i._itemsParent.insertBefore(r,o.nextElementSibling),i._getItems(!1)}updateItems(){this._items.forEach(e=>e.classList.remove("jqx-sortable-item")),this._getItems()}propertyChangedHandler(e,t,i){super.propertyChangedHandler(e,t,i)
const n=this
switch(e){case"disabled":n._originallyDisabled=i,n._items.length<2&&(n.disabled=!0)
break
case"items":n._itemsParent.classList.remove("jqx-sortable-items-parent"),n.updateItems()
break
case"mode":n._setSettingsObject()}}ready(){super.ready()
this.setAttribute("role","group"),this._originallyDisabled=this.disabled,this._getItems(),this._setSettingsObject()}_getItems(e){const t=this
null===t.items?t._items=Array.from(t.$.container.children):t._items=Array.from((t.shadowRoot||t).querySelectorAll(".jqx-sortable-container "+t.items)),!1!==e&&(t._items.forEach(e=>e.classList.add("jqx-sortable-item")),t._items.length&&(t._itemsParent=t._items[0].parentElement,t._itemsParent.classList.add("jqx-sortable-items-parent"),t._items.length<2?t.disabled=!0:t.disabled=t._originallyDisabled))}_setSettingsObject(){const e=this
"vertical"===e.mode?e._settings={coordinateName:"y",dimension:"height",offsetDimension:"offsetHeight",startOffset:"top",endOffset:"bottom"}:e._settings={coordinateName:"x",dimension:"width",offsetDimension:"offsetWidth",startOffset:"left",endOffset:"right"}}_preventDefault(e){this._draggedItem&&e.preventDefault()}_containerDownHandler(e){if(this.disabled||this._draggedItem)return
const t=(this.shadowRoot||this.isInShadowDOM?e.originalEvent.composedPath()[0]:e.originalEvent.target).closest(".jqx-sortable-item")
if(!t)return
const i=e.pageX-window.scrollX,n=e.pageY-window.scrollY,r=t.getBoundingClientRect(),o=getComputedStyle(t),a=parseFloat(o.marginLeft),s=parseFloat(o.marginTop)
"handle"===this.dragMode&&(e.originalEvent.target!==document.elementFromPoint(e.clientX,e.clientY)||i>=r.left&&i<=r.right&&n>=r.top&&n<=r.bottom)||(window.getSelection().removeAllRanges(),this._draggedItem=t,this._positionPlaceholder(),this._getPositionedAncestorCoords(),t.style.width=t.offsetWidth+"px",t.style.height=t.offsetHeight+"px",t.style.left=r.left-a+(-this._positionedAncestorCoords.x||window.scrollX)+"px",t.style.top=r.top-s+(-this._positionedAncestorCoords.y||window.scrollY)+"px",t.classList.add("dragged"),this._clickOffset={x:e.pageX-r.left+a,y:e.pageY-r.top+s},this._prevCoords={x:i,y:n},this._getItemCoordinates())}_positionPlaceholder(){const e=this._draggedItem,t=getComputedStyle(e),i=document.createElement("div")
i.className="jqx-sortable-item placeholder jqx-visibility-hidden",i.style.width=e.offsetWidth+"px",i.style.height=e.offsetHeight+"px",i.style.minHeight=e.offsetHeight+"px",i.style.marginBottom=t.marginBottom,i.style.marginLeft=t.marginLeft,i.style.marginRight=t.marginRight,i.style.marginTop=t.marginTop,this._itemsParent.insertBefore(i,e.nextElementSibling),this._placeholder=i}_getPositionedAncestorCoords(){const e=this,t=e.offsetParent
if(e._positionedAncestorCoords={x:0,y:0},t!==document.body){const i=t.getBoundingClientRect()
e._positionedAncestorCoords={x:i.left,y:i.top}}}_getItemCoordinates(){const e=[]
this._items.forEach(function(t){const i=t.getBoundingClientRect()
e.push({left:i.left,top:i.top,right:i.right,bottom:i.bottom,width:i.width,height:i.height})}),this._coordinates=e}_containerMoveHandler(e){this._draggedItem&&"touchmove"===e.originalEvent.type&&e.originalEvent.preventDefault()}_containerTransitionendHandler(e){const t=this
t._draggedItem&&e.target.classList.contains("jqx-sortable-item")&&(e.target.classList.contains("returning")?t._resolveDragging():t._getItemCoordinates())}_documentMoveHandler(e){const t=this,i=t._draggedItem
if(!i)return
const n=t._settings,r={x:e.pageX-window.scrollX,y:e.pageY-window.scrollY},o=r[n.coordinateName]
let a
if(t._prevCoords.x===r.x&&t._prevCoords.y===r.y)return
t.hasAttribute("dragged")||t.setAttribute("dragged",""),a=t._prevCoords[n.coordinateName]>o?"up":"down",t._prevCoords=r,i.style.top=e.pageY-t._clickOffset.y+(-t._positionedAncestorCoords.y||window.scrollY)+"px",i.style.left=e.pageX-t._clickOffset.x+(-t._positionedAncestorCoords.x||window.scrollX)+"px"
const s=t._items.indexOf(i)
let l
for(let e=0;e<t._coordinates.length;e++){const i=t._coordinates[e]
if(s!==e){if("down"===a&&o>=i[n.startOffset]+i[n.dimension]/2&&o<=i[n.endOffset]){l=t._items[e]
break}if("up"===a&&o>=i[n.startOffset]&&o<=i[n.startOffset]+i[n.dimension]/2){l=t._items[e]
break}}}if(l){if(l!==t._prevOverItem){if(t._prevOverItem=l,l[a])return
const e=t._items.indexOf(l)
if(t._overItem=l,l.up||l.down)l.style.transform=null,delete l.up,delete l.down
else{if("horizontal"===t.mode&&("up"===a&&(!t.rightToLeft&&e>s||t.rightToLeft&&e<s)||"down"===a&&(!t.rightToLeft&&e<s||t.rightToLeft&&e>s)))return
if("vertical"===t.mode&&("up"===a&&e>s||"down"===a&&e<s))return
const i=getComputedStyle(l)
l.style.transform=`translate${n.coordinateName.toUpperCase()}(${("up"===a?1:-1)*(l[n.offsetDimension]+parseFloat(i["margin-"+n.startOffset])+parseFloat(i["margin-"+n.endOffset]))}px)`,l[a]=!0}}}else delete t._prevOverItem}_documentUpHandler(){const e=this,t=e._draggedItem
if(!t)return
let i=e._overItem
if(i){const n=e._items.indexOf(t),r=e._items.indexOf(i)
n<r&&i[e.rightToLeft&&"horizontal"===e.mode?"up":"down"]||n>r&&!i.down&&!i.up?(e._insertBefore=i.nextElementSibling,(i=e._insertBefore)&&i.nextElementSibling===t&&(i=e._placeholder)):(n>r&&i[e.rightToLeft&&"horizontal"===e.mode?"down":"up"]||n<r&&!i.down&&!i.up)&&(e._insertBefore=i,n>r&&i[e.rightToLeft&&"horizontal"===e.mode?"down":"up"]||(i=i.previousElementSibling||i))}else i=e._placeholder
e._resolveDragging()}_resolveDragging(){const e=this,t=e._draggedItem,i=e._items.indexOf(t)
let n=!1
t.classList.remove("dragged","returning"),e._removeInlineStyle(),void 0!==e._insertBefore&&e._items.indexOf(e._insertBefore)!==i&&e._insertBefore!==e._placeholder[e.rightToLeft&&"horizontal"===e.mode?"previousElementSibling":"nextElementSibling"]&&(e._itemsParent.insertBefore(t,e._insertBefore),delete e._insertBefore,n=!0),e._itemsParent.removeChild(e._placeholder),delete e._clickOffset,delete e._draggedItem,delete e._overItem,delete e._placeholder,delete e._prevCoords,e.removeAttribute("dragged"),n&&(e._getItems(!1),e.$.fireEvent("dragEnd",{oldIndex:i,newIndex:e._items.indexOf(t)}))}_removeInlineStyle(){const e=this
e._items.forEach(function(e){e.style=null,e.style.transition="none",delete e.up,delete e.down}),setTimeout(function(){e._items.forEach(e=>e.style.transition=null)},50)}})
var xe=Object.freeze({})
JQX("jqx-pager",class extends JQX.BaseElement{static get properties(){return{autoEllipsis:{value:"none",type:"string",allowedValues:["none","before","after","both"]},messages:{value:{en:{firstButton:"First",lastButton:"Last",previousButton:"Previous",nextButton:"Next",navigateToLabel:"Go to:",pageSizeLabel:"Show:",navigateToInputPlaceholder:"",ellipsis:"...",summaryString:"of",summaryPrefix:"of",summarySuffix:""}},type:"object",extend:!0},navigationButtonsPosition:{value:"both",allowedValues:["near","far","both"],type:"string"},navigationInputPosition:{value:"far",allowedValues:["near","far"],type:"string"},pageIndex:{value:0,type:"number"},pageIndexSelectors:{value:0,type:"any"},pagesCount:{value:100,type:"number"},pageSize:{value:10,type:"number"},pageSizeSelectorPosition:{value:"far",allowedValues:["near","far"],type:"string"},pageSizeSelectorDataSource:{value:[10,25,50],type:"array"},showPrevNextNavigationButtons:{value:!1,type:"boolean"},showFirstLastNavigationButtons:{value:!1,type:"boolean"},showNavigationButtonLabels:{value:!1,type:"boolean"},showNavigationInput:{value:!1,type:"boolean"},showSummary:{value:!1,type:"boolean"},showPageSizeSelector:{value:!1,type:"boolean"},showPageIndexSelectors:{value:!1,type:"boolean"},summaryPosition:{value:"far",allowedValues:["near","far"],type:"string"}}}static get listeners(){return{click:"_navigationButtonsClickHandler","nextEllipsisButton.click":"_nextEllipsisButtonClickHandler","previousEllipsisButton.click":"_previousEllipsisButtonClickHandler",down:"_navigationButtonsDownHandler","navigateToInput.change":"_navigateToInputChangeHandler","nextButton.pointerenter":"_updateInBoundsFlag","nextButton.pointerleave":"_updateInBoundsFlag","pageIndexSelectorsContainer.click":"_pageIndexSelectorsContainerClickHandler","pageSizeSelector.change":"_pageSizeSelectorChangeHandler","previousButton.pointerenter":"_updateInBoundsFlag","previousButton.pointerleave":"_updateInBoundsFlag",keydown:"_keyDownHandler",resize:"_resizeHandler","document.up":"_stopRepeat"}}static get requires(){return{"JQX.DropDownList":"jqxdropdownlist.js"}}static get styleUrls(){return["jqx.dropdown.css","jqx.dropdownlist.css","jqx.pager.css"]}template(){return'<div id="container" role="presentation">\n                    <div id="nearButtonsContainer" class="jqx-pager-near-buttons-container" role="presentation">\n                        <div id="firstButton" class="jqx-first-button jqx-pager-button jqx-unselectable" role="button" aria-label="First"></div>\n                        <div id="previousButton" class="jqx-previous-page-button jqx-pager-button jqx-unselectable" role="button" aria-label="Previous"></div>\n                    </div>\n                    <div id="middleButtonsContainer" class="jqx-pager-middle-buttons-container" role="presentation">\n                        <span id="previousEllipsisButton" class="jqx-previous-ellipsis-button jqx-pager-page-index-selector" role="button" aria-label="Previous group of pages"></span>\n                        <div id="pageIndexSelectorsContainer" tabindex="0" class="jqx-pager-page-index-selectors-container" role="list"></div>\n                        <span id="nextEllipsisButton" class="jqx-next-ellipsis-button jqx-pager-page-index-selector" role="button" aria-label="Next group of pages"</span>\n                    </div>\n                    <div id="farButtonsContainer" class="jqx-pager-far-buttons-container" role="presentation">\n                        <div id="nextButton" class="jqx-next-page-button jqx-pager-button jqx-unselectable" role="button" aria-label="Next"></div>\n                        <div id="lastButton" class="jqx-last-button jqx-pager-button jqx-unselectable" role="button" aria-label="Last"></div>\n                    </div>\n                    <div id="pagerInputAndLabelContainer" class="jqx-pager-input-and-label-container" role="presentation">\n                        <span id="navigateToLabel" class="jqx-pager-label"></span>\n                        <input type="text" id="navigateToInput" class="jqx-pager-input jqx-input" />\n                    </div>\n                    <div id="pagerSizeSelectorAndLabelContainer" class="jqx-pager-size-selector-and-label-container">\n                        <span id="pageSizeLabel" class="jqx-pager-label"></span>\n                        <jqx-drop-down-list id="pageSizeSelector" class="jqx-page-size-selector"\n                                data-source="[[pageSizeSelectorDataSource]]"\n                                right-to-left="[[rightToLeft]]"\n                                drop-down-height="auto"\n                                selection-mode="one"\n                                selected-indexes=[0]\n                                disabled="[[disabled]]">\n                        </jqx-drop-down-list>\n                    </div>\n                    <span id="pagerSummaryContainer" class="jqx-pager-summary-container jqx-pager-label"></span>\n                </div>'}ready(){super.ready()}render(){const e=this
e.$.navigateToLabel.id||(e.$.navigateToLabel.id=e.id+"NavigateToLabel"),e.$.pageSizeLabel.id||(e.$.pageSizeLabel.id=e.id+"PageSizeLabel"),e.$.pagerSummaryContainer.id||(e.$.pagerSummaryContainer.id=e.id+"SummaryContainer"),e.setAttribute("role","navigation"),e.setAttribute("aria-labelledby",e.$.pagerSummaryContainer.id),e.$.navigateToInput.setAttribute("aria-labelledby",e.$.navigateToLabel.id),e.$.pageSizeSelector.setAttribute("aria-labelledby",e.$.pageSizeLabel.id),e._render(),super.render()}refresh(){this._render()}propertyChangedHandler(e,t,i){super.propertyChangedHandler(e,t,i)
const n=this
switch(e){case"navigationButtonsPosition":return void n._renderButtons()
case"navigationInputPosition":case"pageSizeSelectorPosition":case"summaryPosition":return void n._renderSettings()}n._render()}next(){this.navigateTo(this.pageIndex+1)}prev(){this.navigateTo(this.pageIndex-1)}beginUpdate(){this._updating=!0}endUpdate(){this._updating=!1,this._render()}_render(){const e=this
if(!e._updating&&(e.$.navigateToInput.value=(1+e.pageIndex).toString(),e._renderButtons(),e._renderPageIndexSelectors(),e._renderSettings(),e._renderVisibility(),e._localize(),e.$.pageSizeSelector&&e.showPageSizeSelector)){const t=e.pageSizeSelectorDataSource.indexOf(e.pageSize)
t>=0&&(e.$.pageSizeSelector.selectedIndexes=[t])}}_resizeHandler(){this._renderVisibility()}_renderVisibility(){const e=this,t=e.offsetWidth-20
e._pageIndexSelectorsVisibleCount=e._pageIndexSelectorsCount,e.showSummary?e.$pagerSummaryContainer.removeClass("jqx-hidden"):e.$pagerSummaryContainer.addClass("jqx-hidden"),e.showPageIndexSelectors?e.$middleButtonsContainer.removeClass("jqx-hidden"):e.$middleButtonsContainer.addClass("jqx-hidden"),e.showNavigationInput?(e.$navigateToLabel.removeClass("jqx-hidden"),e.$navigateToInput.removeClass("jqx-hidden")):(e.$navigateToLabel.addClass("jqx-hidden"),e.$navigateToInput.addClass("jqx-hidden")),e.showPageSizeSelector?(e.$pageSizeLabel.removeClass("jqx-hidden"),e.$pageSizeSelector.removeClass("jqx-hidden")):(e.$pageSizeLabel.addClass("jqx-hidden"),e.$pageSizeSelector.addClass("jqx-hidden")),e.showFirstLastNavigationButtons?(e.$firstButton.removeClass("jqx-hidden"),e.$lastButton.removeClass("jqx-hidden")):(e.$firstButton.addClass("jqx-hidden"),e.$lastButton.addClass("jqx-hidden")),e.showPrevNextNavigationButtons?(e.$previousButton.removeClass("jqx-hidden"),e.$nextButton.removeClass("jqx-hidden")):(e.$previousButton.addClass("jqx-hidden"),e.$nextButton.addClass("jqx-hidden")),e.$previousEllipsisButton.addClass("jqx-hidden"),e.$nextEllipsisButton.addClass("jqx-hidden"),"after"!==e.autoEllipsis&&"none"!==e.autoEllipsis&&e.pageIndex>=e._pageIndexSelectorsCount&&e.$previousEllipsisButton.removeClass("jqx-hidden"),"before"!==e.autoEllipsis&&"none"!==e.autoEllipsis&&e.pageIndex<e.pagesCount-e._pageIndexSelectorsCount&&e.$nextEllipsisButton.removeClass("jqx-hidden")
for(let t=0;t<e._pageIndexSelectorsCount&&e.$.pageIndexSelectorsContainer.children[t];t++)e.$.pageIndexSelectorsContainer.children[t].classList.remove("jqx-hidden")
const i=e.$.pagerSummaryContainer.offsetWidth?Math.max(100,e.$.pagerSummaryContainer.offsetWidth):0
let n=e.$.nearButtonsContainer.offsetWidth+e.$.middleButtonsContainer.offsetWidth+e.$.farButtonsContainer.offsetWidth+i+e.$.pagerInputAndLabelContainer.offsetWidth+e.$.pagerSizeSelectorAndLabelContainer.offsetWidth
if(n>0&&n>t&&(n-=e.$.pagerSummaryContainer.offsetWidth,e.$pagerSummaryContainer.addClass("jqx-hidden"),n>t&&(n-=e.$.navigateToLabel.offsetWidth,n-=e.$.navigateToInput.offsetWidth,e.$navigateToLabel.addClass("jqx-hidden"),e.$navigateToInput.addClass("jqx-hidden"),n>t))){if(n-=e.$.pageSizeLabel.offsetWidth,n-=e.$.pageSizeSelector.offsetWidth,e.$pageSizeLabel.addClass("jqx-hidden"),e.$pageSizeSelector.addClass("jqx-hidden"),n>t){e.$previousEllipsisButton.addClass("jqx-hidden"),e.$nextEllipsisButton.addClass("jqx-hidden"),n-=e.$.previousEllipsisButton.offsetWidth,n-=e.$.nextEllipsisButton.offsetWidth
for(let i=e._pageIndexSelectorsCount-1;i>=0;i--){const r=e.$.pageIndexSelectorsContainer.children[i]
if(n<t||!r)break
e._pageIndexSelectorsVisibleCount--,n-=r.offsetWidth,r.hasAttribute("selected")||r.classList.add("jqx-hidden")}}n>t&&e.showFirstLastNavigationButtons&&(e.$firstButton.addClass("jqx-hidden"),e.$lastButton.addClass("jqx-hidden"))}}_renderSettings(){const e=this,t=e.pageIndex*e.pageSize,i=(e.pageIndex+1)*e.pageSize,n=e.pagesCount*e.pageSize
e.$pagerSummaryContainer.removeClass("near"),e.$pagerSizeSelectorAndLabelContainer.removeClass("near"),e.$pagerInputAndLabelContainer.removeClass("near"),"near"===e.summaryPosition&&e.$pagerSummaryContainer.addClass("near"),"near"===e.pageSizeSelectorPosition&&e.$pagerSizeSelectorAndLabelContainer.addClass("near"),"near"===e.navigationInputPosition&&e.$pagerInputAndLabelContainer.addClass("near"),e.$.pagerSummaryContainer.innerHTML='<span class="jqx-summary-start" role="presentation">'+(1+t)+'</span> <span class="jqx-summary-hyphen" role="presentation">-</span> <span class="jqx-summary-end" role="presentation">'+i+'</span><span class="jqx-summary-prefix" role="presentation">'+e.localize("summaryPrefix")+'</span> <span class="jqx-summary-total-end" role="presentation">'+n+'</span> <span class="jqx-summary-suffix" role="presentation">'+e.localize("summarySuffix")+"</span>"}get _pageIndexSelectorsCount(){const e=this
let t=parseInt(e.pageIndexSelectors)
return Array.isArray(e.pageIndexSelectors)&&(t=e.pageIndexSelectors.length),t}_renderPageIndexSelectors(){const e=this
if(e.pageIndex<0||e.pageIndex>=e.pagesCount)return void(e.$.pageIndexSelectorsContainer.innerHTML="")
e.$.pageIndexSelectorsContainer.innerHTML=""
let t=!1
Array.isArray(e.pageIndexSelectors)&&(t=!0)
let i=Math.floor(e.pageIndex/e._pageIndexSelectorsCount)*e._pageIndexSelectorsCount,n=Math.min(e.pagesCount,i+e._pageIndexSelectorsCount),r=0
for(let o=i;o<n;o++){const i=document.createElement("span")
let n=o+1
if(i.className="jqx-pager-page-index-selector",t){const t=e.pageIndexSelectors[r++]
t&&(t.label?n=e.pageIndexSelectors[o].label:"string"==typeof t&&(n=t),t.value&&i.setAttribute("value",e.pageIndexSelectors[o].value))}i.index=o,i.innerHTML=n,i.setAttribute("role","listitem"),e.$.pageIndexSelectorsContainer.appendChild(i),o===e.pageIndex&&(i.classList.add("jqx-selected"),i.setAttribute("selected",""),i.setAttribute("aria-current","page"))}}_lastButtonClickHandler(){this.last()}last(){this.navigateTo(this.pagesCount-1)}_firstButtonClickHandler(){this.first()}first(){this.navigateTo(0)}_renderButtons(){const e=this
switch(0===e.pageIndex?(e.$.firstButton.setAttribute("disabled",""),e.$.previousButton.setAttribute("disabled","")):(e.$.firstButton.removeAttribute("disabled"),e.$.previousButton.removeAttribute("disabled")),e.pageIndex===e.pagesCount-1?(e.$.nextButton.setAttribute("disabled",""),e.$.lastButton.setAttribute("disabled","")):(e.$.nextButton.removeAttribute("disabled"),e.$.lastButton.removeAttribute("disabled")),e.pagesCount<=0&&(e.$.firstButton.setAttribute("disabled",""),e.$.previousButton.setAttribute("disabled",""),e.$.nextButton.setAttribute("disabled",""),e.$.lastButton.setAttribute("disabled","")),e.$nearButtonsContainer.removeClass("far"),e.$farButtonsContainer.removeClass("far"),e.$nearButtonsContainer.removeClass("near"),e.$farButtonsContainer.removeClass("near"),e.navigationButtonsPosition){case"near":e.$nearButtonsContainer.addClass("near"),e.$farButtonsContainer.addClass("near")
break
case"far":e.$nearButtonsContainer.addClass("far"),e.$farButtonsContainer.addClass("far")
break
case"both":e.$nearButtonsContainer.addClass("near"),e.$farButtonsContainer.addClass("far")}}_navigateToInputChangeHandler(){const e=this
let t=parseInt(e.$.navigateToInput.value)-1
isNaN(t)&&(e.$.navigateToInput.value="1",t=parseInt(e.$.navigateToInput.value-1)),e.navigateTo(t)}_pageIndexSelectorsContainerClickHandler(e){const t=this.enableShadowDOM?e.composedPath()[0].closest(".jqx-pager-page-index-selector"):e.target.closest(".jqx-pager-page-index-selector")
t&&!t.classList.contains("jqx-selected")&&this.navigateTo(t.index)}_pageSizeSelectorChangeHandler(e){!this.showPageSizeSelector||this.disabled||this._updating||(this.pageSize=parseInt(e.detail.value),this.$.fireEvent("pageSizeChanged",{value:parseInt(e.detail.value)}))}_keyDownHandler(e){const t=this
if(!t.disabled&&(t.enableShadowDOM&&t.shadowRoot.activeElement||document.activeElement)!==t.$.navigateToInput&&null===t.$.pageSizeSelector.getAttribute("focus"))switch(e.key){case"End":t.last(),e.preventDefault()
break
case"Home":t.first(),e.preventDefault()
break
case"PageDown":case"ArrowDown":case"ArrowLeft":t.prev(),e.preventDefault()
break
case"PageUp":case"ArrowUp":case"ArrowRight":t.next(),e.preventDefault()}}_nextButtonClickHandler(){this.next()}_previousButtonClickHandler(){this.prev()}navigateTo(e){const t=this.pageIndex
this.disabled||this.pageIndex===e||e<0||e>=this.pagesCount||(this.pageIndex=e,this._render(),this.$.fireEvent("change",{oldIndex:t,index:e}))}_localize(){const e=this,t=["firstButton","lastButton","previousButton","nextButton"]
for(let i=0;i<t.length;i++){const n=e.$[t[i]]
!e.showNavigationButtonLabels&&i<2?(n.innerHTML="",0===i?n.classList.add("jqx-arrow-left-first"):n.classList.add("jqx-arrow-right-last")):!e.showNavigationButtonLabels&&i>=2?(n.innerHTML="",2===i?n.classList.add("jqx-arrow-left"):n.classList.add("jqx-arrow-right")):(n.classList.remove("jqx-arrow-left"),n.classList.remove("jqx-arrow-right"),n.classList.remove("jqx-arrow-left-first"),n.classList.remove("jqx-arrow-right-last"),n.innerHTML=e.localize(t[i]))}e.$.pageSizeLabel.innerHTML=e.localize("pageSizeLabel"),e.$.navigateToLabel.innerHTML=e.localize("navigateToLabel"),e.$.previousEllipsisButton.innerHTML=e.localize("ellipsis"),e.$.nextEllipsisButton.innerHTML=e.localize("ellipsis"),e.$.navigateToInput.placeholder=e.localize("navigateToInputPlaceholder")}_nextEllipsisButtonClickHandler(){this.navigateTo(this._pageIndexSelectorsCount+this.pageIndex)}_previousEllipsisButtonClickHandler(){this.navigateTo(-this._pageIndexSelectorsCount+this.pageIndex)}_navigationButtonsClickHandler(e){const t=this
if(!t.disabled)switch(t.enableShadowDOM?e.composedPath()[0].closest(".jqx-pager-button"):e.target.closest(".jqx-pager-button")){case t.$.firstButton:t._firstButtonClickHandler(e)
break
case t.$.lastButton:t._lastButtonClickHandler(e)
break
case t.$.previousButton:t._previousButtonClickHandler(e)
break
case t.$.nextButton:t._nextButtonClickHandler(e)}}_navigationButtonsDownHandler(e){const t=this,i=t.enableShadowDOM?e.originalEvent.composedPath()[0].closest(".jqx-pager-button")||e.originalEvent.composedPath()[0].closest(".jqx-pager-page-index-selector"):e.originalEvent.target.closest(".jqx-pager-button")||e.originalEvent.target.closest(".jqx-pager-page-index-selector")
!t.disabled&&i&&(t.hasRippleAnimation&&JQX.Utilities.Animation.Ripple.animate(i,e.pageX,e.pageY),i!==t.$.previousButton&&i!==t.$.nextButton||t._startRepeat(e,i))}_updateInBoundsFlag(e){const t=this,i=t.enableShadowDOM?e.composedPath()[0]:e.target
i._isPointerInBounds=!0,-1!==e.type.indexOf("leave")&&(i._isPointerInBounds=!1),1!==("buttons"in e?e.buttons:e.which)&&t._stopRepeat()}_startRepeat(e,t){const i=this
i._initialTimer||(i._initialTimer=setTimeout(function(){i._repeatTimer=setInterval(()=>{t._isPointerInBounds&&(t===i.$.previousButton?i._previousButtonClickHandler(e):i._nextButtonClickHandler(e))},50)},150))}_stopRepeat(){const e=this
e._repeatTimer&&(clearInterval(e._repeatTimer),e._repeatTimer=null),e._initialTimer&&(clearTimeout(e._initialTimer),e._initialTimer=null)}})
var Ce=Object.freeze({})
JQX.Utilities.Assign("FilterGroup",class e{constructor(){this.stringConditions=["EMPTY","NOT_EMPTY","CONTAINS","CONTAINS_CASE_SENSITIVE","DOES_NOT_CONTAIN","DOES_NOT_CONTAIN_CASE_SENSITIVE","STARTS_WITH","STARTS_WITH_CASE_SENSITIVE","ENDS_WITH","ENDS_WITH_CASE_SENSITIVE","EQUAL","EQUAL_CASE_SENSITIVE","NULL","NOT_NULL"],this.numericConditions=["EQUAL","NOT_EQUAL","LESS_THAN","LESS_THAN_OR_EQUAL","GREATER_THAN","GREATER_THAN_OR_EQUAL","NULL","NOT_NULL"],this.dateConditions=["EQUAL","NOT_EQUAL","LESS_THAN","LESS_THAN_OR_EQUAL","GREATER_THAN","GREATER_THAN_OR_EQUAL","NULL","NOT_NULL"],this.booleanConditions=["EQUAL","NOT_EQUAL","NULL","NOT_NULL"],this.filters=new Array,this.logicalOperators=new Array}evaluate(e){const t=this
let i=!0
for(let n=0;n<t.filters.length;n++){let r=t.filters[n].evaluate(e)
i=0===n?r:1===t.logicalOperators[n]||"or"===t.logicalOperators[n]?i||r:i&&r}return i}getFiltersCount(){return this.filters.length}setConditions(e,t){const i=this
switch(e){case"numeric":i.numericConditions=t
break
case"string":i.stringConditions=t
break
case"date":case"time":i.dateConditions=t
break
case"bool":case"boolean":i.booleanConditions=t}}getConditions(e){const t=this
let i=new Array
switch(e){case"numeric":i=t.numericConditions.slice(0)
break
case"string":i=t.stringConditions.slice(0)
break
case"date":case"time":i=t.dateConditions.slice(0)
break
case"bool":case"boolean":i=t.booleanConditions.slice(0)}return i}generateFilterKey(){const e=function(){return(65536*(1+Math.random())|0).toString(16).substring(1)}
return e()+"-"+e()+"-"+e()}createFilter(e,t,i,n,r,o,a){if(null==e)return null
switch(e){case"int":case"float":case"int64":case"double":case"numeric":case"number":case"numericFilter":return new JQX.Utilities.NumericFilter(t,i.toUpperCase())
case"string":case"stringFilter":return new JQX.Utilities.StringFilter(t,i.toUpperCase(),o)
case"date":case"time":case"dateFilter":return new JQX.Utilities.DateFilter(t,i.toUpperCase(),r,o,a)
case"bool":case"boolean":case"booleanFilter":return new JQX.Utilities.BooleanFilter(t,i.toUpperCase())
case"custom":return new JQX.Utilities.CustomFilter(t,i.toUpperCase(),n)}throw new Error('jqxGrid: There is no such filter type. The available filter types are: "numericFilter", "stringFilter", "dateFilter" and "booleanFilter"')}getFilters(){const t=this
let i=new Array
for(let n=0;n<t.filters.length;n++){const r=t.filters[n]
if(r instanceof e){let e=r.getFilters()
i.push({value:e,logicalOperator:t.logicalOperators[n],type:"FilterGroup"})}else{const e={value:r.value,condition:r.condition,logicalOperator:t.logicalOperators[n],type:r.type}
r.data&&(e.id=r.data),i.push(e)}}return i}addFilter(e,t){this.filters[this.filters.length]=t,t.key=this.generateFilterKey(),this.logicalOperators[this.logicalOperators.length]=e}removeFilter(e){const t=this
for(let i=0;i<t.filters.length;i++)if(t.filters[i].key===e.key){t.filters.splice(i,1),t.logicalOperators.splice(i,1)
break}}getOperatorAt(e){return null==e?null:e<0||e>this.filters.length?null:this.logicalOperators[e]}setOperatorAt(e,t){return null==e?null:e<0||e>this.filters.length?null:void(this.logicalOperators[t]=t)}getFilterAt(e){return null==e?null:e<0||e>this.filters.length?null:this.filters[e]}setFilterAt(e,t){return null==e?null:e<0||e>this.filters.length?null:(t.key=this.generateFilterKey(),void(this.filters[e]=t))}clear(){this.filters=new Array,this.logicalOperators=new Array}getUniqueValues(e,t){const i=e.data,n=[],r=[],o="dateFilter"===e.filterType&&"timePicker"===e.displayMode
let a,s=!1
for(let t=0;t<i.length;t++){let a,l=i[t][e.dataField]
""!==l&&null!=l?(a=o?new JQX.Utilities.DateTime(l).toString(e.formatString):l.toString(),-1===n.indexOf(a)&&(n.push(a),r.push({label:a,value:l,customAttribute:"default-item"}))):s=!0}switch(e.filterType){case"numericFilter":case"booleanFilter":a=function(e,t){return e.value-t.value}
break
case"stringFilter":a=function(e,t){return(new Intl.Collator).compare(e.value,t.value)}
break
case"dateFilter":a=o?function(e,t){try{const i=e.value.getHours(),n=t.value.getHours()
if(i!==n)return i-n
const r=e.value.getMinutes(),o=t.value.getMinutes()
if(r!==o)return r-o
const a=e.value.getSeconds(),s=t.value.getSeconds()
return a!==s?a-s:0}catch(e){return-1}}:function(e,t){try{return e.value.getTime()-t.value.getTime()}catch(e){return-1}}}return r.sort(a),"booleanFilter"===e.filterType&&r.map(function(e){e.label=e.label.toUpperCase()}),s&&r.push({label:t.localize("blanks"),value:"",customAttribute:"default-item"}),r}}),JQX.Utilities.Assign("StringFilter",class{constructor(e,t,i){this.value=e,this.condition=t,this.locale=i||"en",this.type="stringFilter"}evaluate(e){const t=this,i=t.value,n=t.condition
if(null==e||""===e){if("NULL"===n)return!0
if("EQUAL"===n&&e===i)return!0
if("NOT_EQUAL"===n&&e!==i)return!0
if("EMPTY"!==n)return!1
if(""===e)return!0}let r=""
try{r=e.toString()}catch(e){return!0}const o=function(e,i){const r=t.locale
switch(n){case"EQUAL":return 0===e.localeCompare(i,r,{sensitivity:"accent"})
case"EQUAL_CASE_SENSITIVE":return 0===e.localeCompare(i,r,{sensitivity:"variant"})
case"NOT_EQUAL":return 0!==e.localeCompare(i,r,{sensitivity:"accent"})
case"NOT_EQUAL_CASE_SENSITIVE":return 0!==e.localeCompare(i,r,{sensitivity:"variant"})
case"CONTAINS":return-1!==e.toLowerCase().indexOf(i.toLowerCase())
case"CONTAINS_CASE_SENSITIVE":return-1!==e.indexOf(i)
case"DOES_NOT_CONTAIN":return-1===e.toLowerCase().indexOf(i.toLowerCase())
case"DOES_NOT_CONTAIN_CASE_SENSITIVE":return-1===e.indexOf(i)
case"EMPTY":return""===e
case"NOT_EMPTY":return""!==e
case"NOT_NULL":return null!==e
case"STARTS_WITH":return 0===(e=e.substring(0,i.length)).localeCompare(i,r,{sensitivity:"accent"})
case"ENDS_WITH":return 0===(e=e.substring(e.length-i.length,e.length)).localeCompare(i,r,{sensitivity:"accent"})
case"ENDS_WITH_CASE_SENSITIVE":return 0===(e=e.substring(e.length-i.length,e.length)).localeCompare(i,r,{sensitivity:"variant"})
case"STARTS_WITH_CASE_SENSITIVE":return 0===(e=e.substring(0,i.length)).localeCompare(i,r,{sensitivity:"variant"})
default:return!1}},a=new Array
if(i&&i.indexOf&&(i.indexOf("|")>=0||i.indexOf(" AND ")>=0||i.indexOf(" OR ")>=0||i.indexOf(" and ")>=0||i.indexOf(" or ")>=0)){const e=o(r,i)
if(e)return e
const t=i.indexOf(" and ")>=0?i.split(" and "):new Array,n=i.indexOf(" or ")>=0?i.split(" or "):new Array,s=i.indexOf("|")>=0?i.split("|"):new Array
let l=i.indexOf(" AND ")>=0?i.split(" AND "):new Array,d=i.indexOf(" OR ")>=0?i.split(" OR "):new Array
if(s.length>0)for(let e=0;e<s.length;e++)s[e]=s[e].trim
const c=i.indexOf(" ")>=0?i.split(" "):new Array
if(c.length>0)for(let e=0;e<c.length;e++)c[e]=c[e].trim
if(l=(l=l.concat(c)).concat(t),d=(d=d.concat(s)).concat(n),l.length>0)for(let e=0;e<l.length;e++)!l[e].indexOf(" OR ")>=0&&a.push(l[e])
if(d.length>0)for(let e=0;e<d.length;e++)!d[e].indexOf(" AND ")>=0&&a.push(d[e])
let h=void 0
for(let e=0;e<a.length;e++){const t=o(r,a[e]),i=e<l.length?"and":"or"
h=void 0===h?t:"or"===i?h||t:h&&t}return h}return o(r,i)}}),JQX.Utilities.Assign("BooleanFilter",class{constructor(e,t){this.value=e,this.condition=t,this.type="booleanFilter"}evaluate(e){const t=this.value,i=e
switch(this.condition){case"EQUAL":return i===t
case"NOT_EQUAL":return i!==t
case"NULL":return null==e||""===e
case"NOT_NULL":return!(null==e||""===e)
default:return!1}}}),JQX.Utilities.Assign("NumericFilter",class{constructor(e,t){this.value=e,this.condition=t,this.type="numericFilter"}evaluate(e){let t=this.value,i=this.condition
if(null==e||""===e){if("NOT_NULL"===i)return!1
if("NULL"===i)return!0
switch(i){case"EQUAL":return e===t
case"NOT_EQUAL":return e!==t}return!1}if("NULL"===i)return!1
if("NOT_NULL"===i)return!0
let n=e
try{n=parseFloat(n)}catch(t){if(""!==e.toString())return!1}const r=function(e,t){switch("number"==typeof e&&"number"!=typeof t&&(t=parseFloat(t)),i){case"EQUAL":return e===t
case"NOT_EQUAL":return e!==t
case"GREATER_THAN":return e>t
case"GREATER_THAN_OR_EQUAL":return e>=t
case"LESS_THAN":return e<t
case"LESS_THAN_OR_EQUAL":return e<=t
case"STARTS_WITH":return t=t.toString().toLowerCase(),e.toString().toLowerCase().substring(0,t.length)===t
case"ENDS_WITH":return e=e.toString().toLowerCase(),t=t.toString().toLowerCase(),e.substring(e.length-t.length,e.length)===t
case"ENDS_WITH_CASE_SENSITIVE":return e=e.toString(),t=t.toString(),e.substring(e.length-t.length,e.length)===t
case"STARTS_WITH_CASE_SENSITIVE":return t=t.toString(),e.toString().substring(0,t.length)===t
case"CONTAINS":return-1!==e.toString().toLowerCase().indexOf(t.toString().toLowerCase())
case"CONTAINS_CASE_SENSITIVE":return-1!==e.toString().indexOf(t.toString())
case"DOES_NOT_CONTAIN":return-1===e.toString().toLowerCase().indexOf(t.toString().toLowerCase())
case"DOES_NOT_CONTAIN_CASE_SENSITIVE":return-1===e.toString().indexOf(t.toString())
default:return!0}}
let o=new Array
if(t&&t.indexOf&&(t.indexOf("|")>=0||t.indexOf(" AND ")>=0||t.indexOf(" OR ")>=0||t.indexOf(" and ")>=0||t.indexOf(" or ")>=0)){let e=r(n,t)
if(e)return e
const i=(t=t.toString()).indexOf(" and ")>=0?t.split(" and "):new Array,a=t.indexOf(" or ")>=0?t.split(" or "):new Array,s=t.indexOf("|")>=0?t.split("|"):new Array
let l=t.indexOf(" AND ")>=0?t.split(" AND "):new Array,d=t.indexOf(" OR ")>=0?t.split(" OR "):new Array
if(l=l.concat(i),d=d.concat(a),s.length>0)for(let e=0;e<s.length;e++)s[e]=s[e].trim
if(d=d.concat(s),l.length>0)for(let e=0;e<l.length;e++)!l[e].indexOf(" OR ")>=0&&o.push(l[e])
if(d.length>0)for(let e=0;e<d.length;e++)!d[e].indexOf(" AND ")>=0&&o.push(d[e])
let c=void 0
for(let t=0;t<o.length;t++){const i=o[t]
if(i&&i.indexOf&&i.indexOf("..")>=0){const t=i.toString().split("..")
2===t.length&&(e=n>=t[0]&&n<=t[1])}else e=r(n,i)
const a=t<l.length?"and":"or"
c=void 0===c?e:"or"===a?c||e:c&&e}return c}return t&&t.indexOf&&t.indexOf("..")>=0&&2===(o=t.toString().split("..")).length?n>=o[0]&&n<=o[1]:r(n,t)}}),JQX.Utilities.Assign("DateFilter",class{constructor(e,t,i,n,r){const o=this,a=new JQX.Utilities.DateTime
if(o.value=e,o.type="dateFilter",void 0!==i){const t=a.parseDate(e,i)
if(null!==t)o.filterdate=t
else{const t=a.tryparseDate(e)
null!==t&&(o.filterdate=t)}}else{const t=new Date(e)
"NaN"===t.toString()||"Invalid Date"===t.toString()?o.filterdate=a.tryparseDate(e):o.filterdate=t}if(!o.filterdate){const t=new Date(e)
"NaN"===t.toString()||"Invalid Date"===t.toString()?o.filterdate=a.tryparseDate(e):o.filterdate=t}o.condition=t,o.formatString=i,o.timeOnly=r}evaluate(e){const t=this,i=t.condition,n=t.formatString
let r=t.value
if(t.timeOnly)return t.evaluateTimeOnly(e)
if(null==e||""===e){if("NOT_NULL"===i)return!1
if("NULL"===i)return!0
switch(i){case"EQUAL":return e===r
case"NOT_EQUAL":return e!==r}return!1}if("NULL"===i)return!1
if("NOT_NULL"===i)return!0
let o,a=new Date
a.setFullYear(1900,0,1),a.setHours(12,0,0,0)
try{const i=new JQX.Utilities.DateTime,s=new Date(e)
if(a=e="NaN"===s.toString()||"Invalid Date"===s.toString()?i.tryparseDate(e):s,o=!1,void 0!==n&&(n.indexOf("t")>=0||n.indexOf("T")>=0||n.indexOf(":")>=0||n.indexOf("f")>=0)&&(o=!0,r&&-1===r.toString().indexOf(":"))){const e=i.tryparseDate(r.toString()+":00")
null!==e&&(t.filterdate=e)}o||(a.setHours(0),a.setMinutes(0),a.setSeconds(0))}catch(t){if(""!==e.toString())return!1}if(null!==t.filterdate)r=t.filterdate
else if(r&&r.indexOf&&(-1!==r.indexOf(":")||!isNaN(parseInt(r)))){const e=new Date(a)
e.setHours(12,0,0,0)
const t=r.split(":")
for(let i=0;i<t.length;i++)0===i&&e.setHours(t[i]),1===i&&e.setMinutes(t[i]),2===i&&e.setSeconds(t[i])
r=e}o&&r&&r.setFullYear&&a&&a.getFullYear&&-1===n.indexOf("d")&&-1===n.indexOf("M")&&-1===n.indexOf("y")&&r.setFullYear(a.getFullYear(),a.getMonth(),a.getDate())
const s=function(e,t){switch(null===e&&(e=""),i){case"EQUAL":return e.toString()===t.toString()
case"NOT_EQUAL":return e.toString()!==t.toString()
case"GREATER_THAN":return e>t
case"GREATER_THAN_OR_EQUAL":return e>=t
case"LESS_THAN":return e<t
case"LESS_THAN_OR_EQUAL":return e<=t
case"STARTS_WITH":return t=t.toString().toLowerCase(),e.toString().toLowerCase().substring(0,t.length)===t
case"ENDS_WITH":return e=e.toString().toLowerCase(),t=t.toString().toLowerCase(),e.substring(e.length-t.length,e.length)===t
case"ENDS_WITH_CASE_SENSITIVE":return e=e.toString(),t=t.toString(),e.substring(e.length-t.length,e.length)===t
case"STARTS_WITH_CASE_SENSITIVE":return t=t.toString(),e.toString().substring(0,t.length)===t
case"CONTAINS":return-1!==e.toString().toLowerCase().indexOf(t.toString().toLowerCase())
case"CONTAINS_CASE_SENSITIVE":return-1!==e.toString().indexOf(t.toString())
case"DOES_NOT_CONTAIN":return-1===e.toString().toLowerCase().indexOf(t.toString().toLowerCase())
case"DOES_NOT_CONTAIN_CASE_SENSITIVE":return-1===e.toString().indexOf(t.toString())
default:return!0}}
let l=new Array
if(r&&r.indexOf&&(r.indexOf("|")>=0||r.indexOf(" AND ")>=0||r.indexOf(" OR ")>=0||r.indexOf(" and ")>=0||r.indexOf(" or ")>=0)){let e=s(a,r)
if(e)return e
const t=r.indexOf(" and ")>=0?r.split(" and "):new Array,i=r.indexOf(" or ")>=0?r.split(" or "):new Array,n=r.indexOf("|")>=0?r.split("|"):new Array
let o=r.indexOf(" AND ")>=0?r.split(" AND "):new Array,d=r.indexOf(" OR ")>=0?r.split(" OR "):new Array
if(o=o.concat(t),d=d.concat(i),n.length>0)for(let e=0;e<n.length;e++)n[e]=n[e].trim
if(d=d.concat(n),o.length>0)for(let e=0;e<o.length;e++)!o[e].indexOf(" OR ")>=0&&l.push(o[e])
if(d.length>0)for(let e=0;e<d.length;e++)!d[e].indexOf(" AND ")>=0&&l.push(d[e])
let c=void 0
for(let t=0;t<l.length;t++){const i=l[t]
if(i&&i.indexOf&&i.indexOf("..")>=0){const t=i.toString().split("..")
2===t.length&&(e=a>=t[0]&&a<=t[1])}else e=s(a,i)
const n=t<o.length?"and":"or"
c=void 0===c?e:"or"===n?c||e:c&&e}return c}return r&&r.indexOf&&r.indexOf("..")>=0&&2===(l=r.toString().split("..")).length?a>=l[0]&&a<=l[1]:s(a,r)}evaluateTimeOnly(e){const t=this.value
return t?!!(e&&e instanceof Date)&&(e.getHours()===t.getHours()&&(e.getMinutes()===t.getMinutes()&&e.getSeconds()===t.getSeconds())):!e}}),JQX.Utilities.Assign("CustomFilter",class{constructor(e,t,i){this.value=e,this.condition=t,this.customfilter=i}evaluate(e){return this.customfilter(this.value,e,this.condition)}}),JQX.FilterGroup=JQX.Utilities.FilterGroup,JQX.StringFilter=JQX.Utilities.StringFilter,JQX.NumericFilter=JQX.Utilities.NumericFilter,JQX.DateFilter=JQX.Utilities.DateFilter,JQX.CustomFilter=JQX.Utilities.CustomFilter
var Se=Object.freeze({})
JQX("jqx-filter-panel",class extends JQX.BaseElement{static get properties(){return{buttons:{value:["clear","filter"],type:"array"},data:{value:null,type:"array?",reflectToAttribute:!1},dataField:{value:null,type:"string?"},dataSource:{value:null,type:"any",reflectToAttribute:!1},evaluateFilterExpression:{value:null,type:"function?",reflectToAttribute:!1},filterType:{value:"string",allowedValues:["numeric","string","date","boolean"],type:"string"},formatString:{value:"d",type:"string"},messages:{value:{en:{addCondition:"Add Condition",addGroup:"Add Group",and:"and",blanks:"(Blanks)",cancel:"Cancel",clear:"Clear",contains:"contains",containsCaseSensitive:"contains (case sensitive)",dateTabLabel:"DATE",doesNotContain:"does not contain",doesNotContainCaseSensitive:"does not contain (case sensitive)",empty:"empty",endsWith:"ends with",endsWithCaseSensitive:"ends with (case sensitive)",equal:"equal",equalCaseSensitive:"equal (case sensitive)",filter:"Filter",filterBuilderPlaceholder:"&lt;enter a value&gt;",greaterThan:"greater than",greaterThanOrEqual:"greater than or equal",lessThan:"less than",lessThanOrEqual:"less than or equal",mismatchedProperties:'jqxFilterPanel: The "filterType" and the data type of the selected "dataField" are mismatched.',missingProperty:'jqxFilterPanel: When mode is \'excel\', either "data" and "dataField" or "dataSource" of type Array have to be set.',notEmpty:"not empty",notEqual:"not equal",notNull:"not null",null:"null ",or:"or",placeholderBoolean:"Select value",placeholderDate:"Enter date",placeholderNumber:"Enter number",placeholderTime:"Enter time",placeholderValue:"Enter value",selectAll:"(Select All)",showRows:"Show rows where:",startsWith:"starts with",startsWithCaseSensitive:"starts with (case sensitive)",timeTabLabel:"TIME"}},type:"object",extend:!0},mode:{value:"default",allowedValues:["default","excel"],type:"string"}}}static get listeners(){return{"cancelButton.click":"cancel","clearButton.click":"clear","filterButton.click":"filter"}}template(){return'<div id="container" class="jqx-container" role="presentation">\n                <div id="label" class="jqx-filter-panel-label"></div>\n                <div id="mainContainer" role="presentation"></div>\n                <div id="buttonContainer" class="jqx-filter-panel-button-container" role="presentation">\n                    <jqx-button id="filterButton" class="primary" animation="[[animation]]" disabled="[[disabled]]" unfocusable="[[unfocusable]]"></jqx-button>\n                    <jqx-button id="clearButton" animation="[[animation]]" disabled="[[disabled]]" unfocusable="[[unfocusable]]"></jqx-button>\n                    <jqx-button id="cancelButton" animation="[[animation]]" disabled="[[disabled]]" unfocusable="[[unfocusable]]"></jqx-button>\n                </div>\n            </div>'}static get styleUrls(){return["jqx.grid.css","jqx.dropdownlist.css","jqx.menu.css","jqx.filterpanel.css","jqx.textbox.css"]}ready(){super.ready()}render(){const e=this,t=e.filterType
e.$.label.id||(e.$.label.id=e.id+"Label"),e.setAttribute("role","dialog"),e.setAttribute("aria-labelledby",e.$.label.id),e._localize(),e._setButtonsVisibility(),e._filterType=t+"Filter",e._filterHandler=new(JQX.Utilities[t.slice(0,1).toUpperCase()+t.slice(1)+"FilterHandler"])(e),super.render()}cancel(){this._filterHandler[this.mode+"Cancel"](),this.$.fireEvent("cancel")}clear(){this._filterHandler[this.mode+"Clear"](),this.$.fireEvent("clear")}reset(){this.$.clearButton.removeAttribute("hover"),this.$.filterButton.removeAttribute("hover"),this.$.cancelButton.removeAttribute("hover"),this._filterHandler[this.mode+"Clear"](),this._filterHandler.filterObject=new JQX.Utilities.FilterGroup}getFilter(){if(this._filterHandler){const e=new JQX.Utilities.FilterGroup
for(let t in this._filterHandler.filterObject)e[t]=this._filterHandler.filterObject[t]
return e}return null}evaluate(e){try{return this._filterHandler.evaluate(e)}catch(e){return!1}}filter(){this._filterHandler[this.mode+"Filter"](),this.$.fireEvent("filter")}getState(){return this._filterHandler.cachedFilter}loadState(e){try{const t=this
t._filterHandler.cachedFilter=e,t._filterHandler[t.mode+"Cancel"]()}catch(e){}}propertyChangedHandler(e,t,i){super.propertyChangedHandler(e,t,i)
const n=this,r=n._filterHandler
function o(){n.$.mainContainer.innerHTML="",function(){const e=["cachedFilter","caseSensitive","customExcelFilterObjects","customItems","dataSource","defaultListSelection","defaultListSource","displayMode","filterBuilder","filterBuilderObject","filterBuilderOperations","filterObject","firstInput","firstList","operationsMapping","operatorList","secondInput","secondList","timeOnly","tree"]
e.forEach(function(t){delete r[e[t]]}),delete n._filterHandler}(),n._filterHandler=new(JQX.Utilities[n.filterType.slice(0,1).toUpperCase()+n.filterType.slice(1)+"FilterHandler"])(n)}switch(e){case"animation":case"disabled":case"unfocusable":switch(n.mode){case"default":[r.firstList,r.firstInput,r.logicalOperatorList,r.secondList,r.secondInput].forEach(function(t){t[e]=i})
break
case"excel":r.tree[e]=i
break
case"filterBuilder":r.filterBuilder[e]=i,r.caseSensitive&&(r.caseSensitive[e]=i)}break
case"buttons":n._setButtonsVisibility()
break
case"data":case"dataField":"excel"!==n.mode||Array.isArray(n.dataSource)||o()
break
case"dataSource":"excel"===n.mode&&o()
break
case"filterType":n._filterType=i+"Filter",o()
break
case"mode":o()
break
case"formatString":if("date"!==n.filterType)return
switch(n.mode){case"default":r.firstInput.formatString=i,r.secondInput.formatString=i
break
case"excel":o()
break
case"filterBuilder":r.filterBuilder.formatStringDate=i,r.filterBuilder.formatStringDateTime=i}break
case"locale":case"messages":switch(n._localize(),n.mode){case"default":{const t=r.firstList.selectedIndexes,i=r.logicalOperatorList.selectedIndexes,o=r.secondList.selectedIndexes,a=[r.firstInput,r.secondInput]
switch(r.setDefaults(),r.firstList.dataSource=r.defaultListSource,r.logicalOperatorList.dataSource=[{value:0,label:n.localize("and")},{value:1,label:n.localize("or")}],r.secondList.dataSource=r.defaultListSource,n.filterType){case"date":a.forEach(function(t){t.messages[n.locale]||(t.messages[n.locale]={}),t.messages[n.locale].dateTabLabel=n.localize("dateTabLabel"),t.messages[n.locale].timeTabLabel=n.localize("timeTabLabel"),"locale"===e?t.locale=n.locale:(t.$.selectDate.innerHTML=t.messages[n.locale].dateTabLabel,t.$.selectTime.innerHTML=t.messages[n.locale].timeTabLabel),"timePicker"===t._dropDownDisplayMode?(t.placeholder=n.localize("placeholderTime"),t.placeholder=n.localize("placeholderTime")):(t.placeholder=n.localize("placeholderDate"),t.placeholder=n.localize("placeholderDate"))})
break
case"numeric":a[0].placeholder=n.localize("placeholderNumber"),a[1].placeholder=n.localize("placeholderNumber")
break
case"string":a[0].placeholder=n.localize("placeholderValue"),a[1].placeholder=n.localize("placeholderValue")
break
case"boolean":a[0].placeholder=n.localize("placeholderBoolean"),a[1].placeholder=n.localize("placeholderBoolean")}r.firstList.selectedIndexes=t,r.logicalOperatorList.selectedIndexes=i,r.secondList.selectedIndexes=o
break}case"excel":r.tree.selectAll.label=n.localize("selectAll"),r.tree.blanks&&(r.tree.blanks.label=n.localize("blanks"))
break
case"filterBuilder":r.localizeFilterBuilder(),"messages"===e&&(r.filterBuilder._localizeInitialValues(),r.filterBuilder._refresh()),r.filterBuilder.$.scrollableContainer.refresh()}}}_localize(){this.$.label.innerHTML=this.localize("showRows"),this.$.filterButton.innerHTML=this.localize("filter"),this.$.clearButton.innerHTML=this.localize("clear"),this.$.cancelButton.innerHTML=this.localize("cancel")}_setButtonsVisibility(){const e=this,t=e.buttons;["cancel","clear","filter"].forEach(function(i){-1!==t.indexOf(i)?e["$"+i+"Button"].removeClass("jqx-hidden"):e["$"+i+"Button"].addClass("jqx-hidden")})}}),JQX.Utilities.Assign("BaseFilterHandler",class{constructor(e){const t=this
if(t.context=e,t.filterObject=new JQX.Utilities.FilterGroup,t.setDefaults(),"date"===e.filterType){const i=new JQX.Utilities.DateTime,n=e.formatString,r=i.getParseRegExp(i.calendar,n.replace(/y+/g,"yyyyy"))
t.displayMode=JQX.Utilities.DateTime.detectDisplayMode(i,n,r),t.timeOnly="timePicker"===t.displayMode}"default"!==e.mode?(t.operationsMapping={"=":"EQUAL","<>":"NOT_EQUAL","<":"LESS_THAN",">":"GREATER_THAN","<=":"LESS_THAN_OR_EQUAL",">=":"GREATER_THAN_OR_EQUAL",isblank:"EMPTY",isnotblank:"NOT_EMPTY",contains:"CONTAINS",notcontains:"DOES_NOT_CONTAIN",startswith:"STARTS_WITH",endswith:"ENDS_WITH",NULL:"NULL",NOT_NULL:"NOT_NULL"},"excel"===e.mode?t.createExcelHTMLStructure():"filterBuilder"===e.mode&&t.createBuilderHTMLStructure()):t.createDefaultHTMLStructure()}setDefaults(){const e=this.context
this.defaultListSource=[{value:"EQUAL",label:e.localize("equal")},{value:"NOT_EQUAL",label:e.localize("notEqual")},{value:"LESS_THAN",label:e.localize("lessThan")},{value:"LESS_THAN_OR_EQUAL",label:e.localize("lessThanOrEqual")},{value:"GREATER_THAN",label:e.localize("greaterThan")},{value:"GREATER_THAN_OR_EQUAL",label:e.localize("greaterThanOrEqual")},{value:"NULL",label:e.localize("null")},{value:"NOT_NULL",label:e.localize("notNull")}],this.filterBuilderOperations=["<","=","<>","<=",">",">=","NULL","NOT_NULL"],this.defaultListSelection=2}createDefaultHTMLStructure(){const e=this.context,t=document.createElement("jqx-drop-down-list"),i=document.createElement("jqx-drop-down-list"),n=document.createElement("jqx-drop-down-list"),r=document.createDocumentFragment()
t.classList.add("jqx-filter-panel-list"),t.dataSource=this.defaultListSource,t.selectedIndexes=[this.defaultListSelection],i.classList.add("jqx-filter-panel-operator-list"),i.dataSource=[{value:0,label:e.localize("and")},{value:1,label:e.localize("or")}],n.classList.add("jqx-filter-panel-list"),n.dataSource=this.defaultListSource,n.selectedIndexes=[this.defaultListSelection],this.firstList=t,this.logicalOperatorList=i,this.secondList=n,this.appendInputs(),this.firstInput.classList.add("jqx-filter-panel-input"),this.secondInput.classList.add("jqx-filter-panel-input"),i.dropDownHeight="auto",i.selectedIndexes=[0],[t,this.firstInput,i,n,this.secondInput].forEach(function(t){t.animation=e.animation,t.disabled=e.disabled,t.unfocusable=e.unfocusable,t.dropDownPosition="bottom",t.dropDownAppendTo="body",t.dropDownMaxHeight=200,t.rightToLeft=e.rightToLeft,r.appendChild(t)}),this.context.$.mainContainer.appendChild(r),this.cacheFilter(this.defaultListSelection,0,this.defaultListSelection)}cacheFilter(e,t,i){this.cachedFilter={firstFilterComparison:e,firstFilterValue:this.firstInput.value,logicalOperator:t,secondFilterComparison:i,secondFilterValue:this.secondInput.value}}defaultFilter(){const e=this,t=e.context,i=e.firstList.selectedValues[0],n=e.getFilterInputValue(e.firstInput),r=parseFloat(e.logicalOperatorList.selectedValues[0]),o=e.secondList.selectedValues[0],a=e.getFilterInputValue(e.secondInput),s=e.filterObject
if(s.clear(),""!==n||-1!==["NULL","NOT_NULL","EMPTY","NOT_EMPTY"].indexOf(i)){const o=s.createFilter(t._filterType,n,i,void 0,t.formatString,t.locale,"timePicker"===e.firstInput._dropDownDisplayMode)
s.addFilter(r,o)}if(""!==a||-1!==["NULL","NOT_NULL","EMPTY","NOT_EMPTY"].indexOf(o)){const i=s.createFilter(t._filterType,a,o,void 0,t.formatString,t.locale,"timePicker"===e.secondInput._dropDownDisplayMode)
s.addFilter(r,i)}e.cacheFilter(e.firstList.selectedIndexes[0],e.logicalOperatorList.selectedIndexes[0],e.secondList.selectedIndexes[0])}getFilterInputValue(e){return e.value}excelFilter(){const e=this,t=e.context
if(Array.isArray(t.dataSource))return void e.customExcelFilter()
const i=e.tree,n=e.filterObject
if(n.clear(),e.customItems=[],i._menuItems[0].selected)return
const r=i.selectedIndexes
r.forEach(function(r){const o=i._menuItems[r]
if(o instanceof JQX.TreeItem){const i=o.value
if(o.hasAttribute("default-item")){const r=e.getExcelComparison(i),o=n.createFilter(t._filterType,i,r,void 0,t.formatString,t.locale,e.timeOnly)
n.addFilter("or",o)}else e.customItems.push(o)}}),e.cachedFilter=r.slice(0)}customExcelFilter(){const e=this,t=e.tree
if(delete e.customExcelFilterObjects,t._menuItems[0].selected)return
const i=e.context,n=[],r=t.selectedIndexes
r.forEach(function(r){const o=t._menuItems[r]
if(o instanceof JQX.TreeItem){let t=o.value
if(!Array.isArray(t))return
Array.isArray(t[0])||(t=[t])
const r=new JQX.Utilities.FilterGroup
for(let n=0;n<t.length;n++){const o=t[n],a=e.operationsMapping[o[1]],s=r.createFilter(i._filterType,o[2],a,void 0,i.formatString,i.locale,e.timeOnly)
r.addFilter("and",s)}n.push(r)}}),e.customExcelFilterObjects=n,e.cachedFilter=r.slice(0)}getExcelComparison(e){return""===e?"NULL":"EQUAL"}filterBuilderFilter(){const e=this,t=e.filterBuilder.value,i="string"===e.context.filterType&&e.caseSensitive.checked,n={filters:[]}
!function t(n,r){const o=new JQX.Utilities.FilterGroup,a=n[1]
r.logicalOperator=a
for(let s=0;s<n.length;s++){if(1===s)continue
const l=n[s]
if(Array.isArray(l))if(Array.isArray(l[0])){const e={filters:[]}
r.filters.push(e),t(l,e)}else o.addFilter(a,e.createFilterBuilderFilter(o,l,i))}o.filters.length>0&&r.filters.push(o)}(t,n),e.filterBuilderObject=n,e.cachedFilter={filterBuilder:JSON.parse(JSON.stringify(e.filterBuilder.value),function(e,t){return/^(\d{4})-(\d{2})-(\d{2})T(\d{2}):(\d{2}):(\d{2}).(\d{3})Z$/.test(t)?new Date(t):t}),caseSensitive:i}}createFilterBuilderFilter(e,t,i){const n=this.context
let r=this.operationsMapping[t[1]]
return i&&-1!==["CONTAINS","DOES_NOT_CONTAIN","STARTS_WITH","ENDS_WITH","EQUAL"].indexOf(r)&&(r+="_CASE_SENSITIVE"),e.createFilter(n._filterType,t[2],r,void 0,n.formatString,n.locale,!1)}defaultClear(){this.firstList.selectedIndexes=[this.defaultListSelection],this.firstInput.value="",this.logicalOperatorList.selectedIndexes=[0],this.secondList.selectedIndexes=[this.defaultListSelection],this.secondInput.value="",this.filterObject.clear(),this.cacheFilter(this.defaultListSelection,0,this.defaultListSelection)}excelClear(){this.tree.select("0"),this.filterObject.clear(),this.cachedFilter=this.tree.selectedIndexes.slice(0)}filterBuilderClear(){const e=this
e.filterBuilder.value=["and"],"string"===e.context.filterType&&(e.caseSensitive.checked=!1),e.cachedFilter={filterBuilder:["and"],caseSensitive:!1}}defaultCancel(){this.firstList.selectedIndexes=[this.cachedFilter.firstFilterComparison],this.firstInput.value=this.cachedFilter.firstFilterValue,this.logicalOperatorList.selectedIndexes=[this.cachedFilter.logicalOperator],this.secondList.selectedIndexes=[this.cachedFilter.secondFilterComparison],this.secondInput.value=this.cachedFilter.secondFilterValue}excelCancel(){this.tree.selectedIndexes=this.cachedFilter.slice(0)}filterBuilderCancel(){const e=this
e.filterBuilder.value=e.cachedFilter.filterBuilder,"string"===e.context.filterType&&(e.caseSensitive.checked=e.cachedFilter.caseSensitive)}createExcelHTMLStructure(){const e=this,t=e.context,i=document.createElement("jqx-tree"),n={data:t.data,dataField:t.dataField,filterType:t._filterType}
if(t.dataSource&&Array.isArray(t.dataSource))e.processCustomDataSource(i)
else{if(t.data&&t.dataField||t.error(t.localize("missingProperty")),"date"===t.filterType){n.formatString=t.formatString,n.displayMode=e.displayMode,e.dataSource=e.filterObject.getUniqueValues(n,t)
try{e.getHierarchicalDataSource(e.displayMode)}catch(e){t.error(t.localize("mismatchedProperties"))}e.timeOnly?i.classList.add("standard-excel"):i.classList.add("date-excel")}else e.dataSource=e.filterObject.getUniqueValues(n,t),i.classList.add("standard-excel")
"function"==typeof t.dataSource&&(e.dataSource=t.dataSource(e.dataSource)||e.dataSource)}i.animation=t.animation,i.disabled=t.disabled,i.unfocusable=t.unfocusable,i.dataSource=[{label:t.localize("selectAll"),value:"",items:e.dataSource,expanded:!0,selected:!0}],i.selectionMode="checkBox",i.hasThreeStates=!0,i.toggleMode="arrow",i.addEventListener("collapsing",function(e){1===e.detail.item.level&&e.preventDefault()}),i._onCompleted=function(){if(e.cachedFilter=i.selectedIndexes.slice(0),i.classList.contains("date-excel"))for(let e in i._menuItems){if("0"===e)continue
const t=i._menuItems[e]
t.firstElementChild.style.paddingLeft=20*(t.level-1)-10+"px"}else i._menuItems[0].firstElementChild.style.paddingLeft=0
i.selectAll=i._menuItems[0],i.blanks=i.querySelector('[label="'+t.localize("blanks")+'"]')},e.tree=i,t.$.mainContainer.appendChild(i)}processCustomDataSource(e){const t=this.context.dataSource
e.classList.add("standard-excel"),this.dataSource=t}createBuilderHTMLStructure(){const e=this,t=e.context,i=document.createElement("jqx-filter-builder"),n=t.dataField,r="numeric"===t.filterType?"number":t.filterType
if(e.filterBuilder=i,i.animation=t.animation,i.disabled=t.disabled,i.unfocusable=t.unfocusable,i.value=["and"],i.fields=[{label:n,dataField:n,dataType:r,filterOperations:e.filterBuilderOperations}],e.localizeFilterBuilder(),t.$.mainContainer.appendChild(i),"string"===r){const i=document.createElement("jqx-check-box")
i.classList.add("case-sensitive"),i.innerHTML="Case sensitive",i.animation=t.animation,i.disabled=t.disabled,i.unfocusable=t.unfocusable,i.checked=!1,e.caseSensitive=i,t.$.mainContainer.appendChild(i)}e.filterBuilderObject={filters:[]},e.cachedFilter={filterBuilder:["and"],caseSensitive:!1}}localizeFilterBuilder(){const e=this.context,t=this.filterBuilder
let i=t.messages[e.locale]
i||(i={},t.messages[e.locale]=i),t.customOperations=[{name:"NULL",label:e.localize("null"),hideValue:!0},{name:"NOT_NULL",label:e.localize("notNull"),hideValue:!0}],i.addCondition=e.localize("addCondition"),i.addGroup=e.localize("addGroup"),i["<"]=e.localize("lessThan"),i["<="]=e.localize("lessThanOrEqual"),i["<>"]=e.localize("notEqual"),i["="]=e.localize("equal"),i[">"]=e.localize("greaterThan"),i[">="]=e.localize("greaterThanOrEqual"),i.and=e.localize("and"),i.contains=e.localize("contains"),i.endswith=e.localize("endsWith"),i.isblank=e.localize("empty"),i.isnotblank=e.localize("notEmpty"),i.notcontains=e.localize("doesNotContain"),i.or=e.localize("or"),i.startswith=e.localize("startsWith"),i.dateTabLabel=e.localize("dateTabLabel"),i.timeTabLabel=e.localize("timeTabLabel"),t.formatStringDate=e.formatString,t.formatStringDateTime=e.formatString,t.locale=e.locale,t.valuePlaceholder=e.localize("filterBuilderPlaceholder")}evaluate(e){const t=this,i=t.context
if("default"===i.mode)return t.filterObject.evaluate(e)
if("excel"===i.mode){let n=!1
if(Array.isArray(i.dataSource)){if(!t.customExcelFilterObjects||0===t.customExcelFilterObjects.length)return!0
for(let i=0;i<t.customExcelFilterObjects.length;i++)n=n||t.customExcelFilterObjects[i].evaluate(e)
return n}if(t.customItems&&t.customItems.length>0){if(t.filterObject.filters.length>0&&(n=t.filterObject.evaluate(e)),t.customItems&&i.evaluateFilterExpression)for(let r=0;r<t.customItems.length;r++){const o=i.evaluateFilterExpression(e,t.customItems[r].value)
void 0!==o&&(n=n||o)}}else n=t.filterObject.evaluate(e)
return n}return!t.filterBuilderObject.logicalOperator||function t(i){let n="and"===i.logicalOperator
for(let r=0;r<i.filters.length;r++){let o
o=i.filters[r]instanceof JQX.Utilities.FilterGroup?i.filters[r].evaluate(e):t(i.filters[r]),n="and"===i.logicalOperator?n&&o:n||o}return n}(t.filterBuilderObject)}}),JQX.Utilities.Assign("NumericFilterHandler",class extends JQX.Utilities.BaseFilterHandler{appendInputs(){let e=this,t=document.createElement("jqx-numeric-text-box"),i=document.createElement("jqx-numeric-text-box")
if(t.placeholder=e.context.localize("placeholderNumber"),i.placeholder=e.context.localize("placeholderNumber"),!JQX.NumericTextBox)return t=document.createElement("input"),i=document.createElement("input"),t.setAttribute("aria-label",t.placeholder),t.classList.add("jqx-input"),i.setAttribute("aria-label",i.placeholder),i.classList.add("jqx-input"),e.firstInput=t,void(e.secondInput=i)
t.inputFormat="floatingPoint",t.nullable=!0,t.spinButtons=!0,t.value=null,i.inputFormat="floatingPoint",i.nullable=!0,i.spinButtons=!0,i.value=null,e.firstInput=t,e.secondInput=i}getFilterInputValue(e){return null===e.value||""===e.value?"":parseFloat(e.value)}}),JQX.Utilities.Assign("StringFilterHandler",class extends JQX.Utilities.BaseFilterHandler{setDefaults(){const e=this.context
this.defaultListSource=[{value:"EMPTY",label:e.localize("empty")},{value:"NOT_EMPTY",label:e.localize("notEmpty")},{value:"CONTAINS",label:e.localize("contains")},{value:"CONTAINS_CASE_SENSITIVE",label:e.localize("containsCaseSensitive")},{value:"DOES_NOT_CONTAIN",label:e.localize("doesNotContain")},{value:"DOES_NOT_CONTAIN_CASE_SENSITIVE",label:e.localize("doesNotContainCaseSensitive")},{value:"STARTS_WITH",label:e.localize("startsWith")},{value:"STARTS_WITH_CASE_SENSITIVE",label:e.localize("startsWithCaseSensitive")},{value:"ENDS_WITH",label:e.localize("endsWith")},{value:"ENDS_WITH_CASE_SENSITIVE",label:e.localize("endsWithCaseSensitive")},{value:"EQUAL",label:e.localize("equal")},{value:"EQUAL_CASE_SENSITIVE",label:e.localize("equalCaseSensitive")},{value:"NULL",label:e.localize("null")},{value:"NOT_NULL",label:e.localize("notNull")}],this.filterBuilderOperations=["contains","isblank","isnotblank","notcontains","startswith","endswith","=","NULL","NOT_NULL"],this.defaultListSelection=2}appendInputs(){const e=document.createElement("input"),t=document.createElement("input")
e.placeholder=this.context.localize("placeholderValue"),e.setAttribute("aria-label",e.placeholder),t.placeholder=this.context.localize("placeholderValue"),t.setAttribute("aria-label",t.placeholder),e.classList.add("jqx-input"),t.classList.add("jqx-input"),this.firstInput=e,this.secondInput=t}getExcelComparison(e){return""===e?"EMPTY":"EQUAL_CASE_SENSITIVE"}}),JQX.Utilities.Assign("DateFilterHandler",class extends JQX.Utilities.BaseFilterHandler{appendInputs(){let e=this,t=e.context,i=document.createElement("jqx-date-time-picker"),n=document.createElement("jqx-date-time-picker")
if(!JQX.DateTimePicker)return i=document.createElement("input"),n=document.createElement("input"),i.placeholder=t.localize("placeholderDate"),i.setAttribute("aria-label",i.placeholder),i.classList.add("jqx-input"),n.placeholder=t.localize("placeholderDate"),n.setAttribute("aria-label",n.placeholder),n.classList.add("jqx-input"),e.firstInput=i,void(e.secondInput=n)
i.calendarButton=!0,i.editMode="partial",i.formatString=t.formatString,i.dropDownDisplayMode="auto",i.locale=t.locale,i.messages[t.locale]||(i.messages[t.locale]={}),i.messages[t.locale].dateTabLabel=t.localize("dateTabLabel"),i.messages[t.locale].timeTabLabel=t.localize("timeTabLabel"),i.nullable=!0,i.value=null,n.calendarButton=!0,n.editMode="partial",n.formatString=t.formatString,n.dropDownDisplayMode="auto",n.locale=t.locale,n.messages[t.locale]||(n.messages[t.locale]={}),n.messages[t.locale].dateTabLabel=t.localize("dateTabLabel"),n.messages[t.locale].timeTabLabel=t.localize("timeTabLabel"),n.nullable=!0,n.value=null,n._onCompleted=function(){"timePicker"===n._dropDownDisplayMode?(i.placeholder=t.localize("placeholderTime"),n.placeholder=t.localize("placeholderTime")):(i.placeholder=t.localize("placeholderDate"),n.placeholder=t.localize("placeholderDate"))},e.firstInput=i,e.secondInput=n}getFilterInputValue(e){if(null===e.value)return""
if(!JQX.DateTimePicker)return new Date(e.value)
const t=e.value.toDate()
return"calendar"===this.displayMode&&t.setHours(0,0,0),t}defaultClear(){this.firstList.selectedIndexes=[this.defaultListSelection],this.firstInput.value=null,this.logicalOperatorList.selectedIndexes=[0],this.secondList.selectedIndexes=[this.defaultListSelection],this.secondInput.value=null,this.filterObject.clear(),this.cacheFilter(this.defaultListSelection,0,this.defaultListSelection)}getHierarchicalDataSource(e){const t=this,i=t.dataSource,n={},r=[]
let o
if("timePicker"!==e){""===i[i.length-1].value&&(o=i[i.length-1],i.pop()),i.forEach(function(i){const r=i.value,o=r.getFullYear(),a=new Intl.DateTimeFormat(t.context.locale,{month:"long"}).format(r),s=r.getDate()
if(n[o]||(n[o]={}),n[o][a]||(n[o][a]={}),!n[o][a][s]){if("calendar"===e)return void(n[o][a][s]=r)
n[o][a][s]={}}if("calendar"===e)return
const l=r.getHours(),d=r.getMinutes(),c=r.getSeconds()
n[o][a][s][l]||(n[o][a][s][l]={}),n[o][a][s][l][d]||(n[o][a][s][l][d]={}),n[o][a][s][l][d][c]||(n[o][a][s][l][d][c]=r)})
for(let t in n){const i={label:t,items:[],customAttribute:"default-item"}
r.push(i)
for(let r in n[t]){const o={label:r,items:[],customAttribute:"default-item"}
i.items.push(o)
for(let i in n[t][r]){const a={label:i,customAttribute:"default-item"}
if(o.items.push(a),"calendar"!==e){a.items=[]
for(let e in n[t][r][i]){const o={label:"0".repeat(2-e.length)+e,items:[],customAttribute:"default-item"}
a.items.push(o)
for(let a in n[t][r][i][e]){const s={label:":"+"0".repeat(2-a.length)+a,items:[],customAttribute:"default-item"}
o.items.push(s)
for(let o in n[t][r][i][e][a]){const l={label:":"+"0".repeat(2-o.length)+o,value:n[t][r][i][e][a][o],customAttribute:"default-item"}
s.items.push(l)}}}}else a.value=n[t][r][i]}}}o&&r.push(o),t.dataSource=r}}}),JQX.Utilities.Assign("BooleanFilterHandler",class extends JQX.Utilities.BaseFilterHandler{cacheFilter(e,t,i){this.cachedFilter={firstFilterComparison:e,firstFilterValue:this.firstInput.selectedIndexes.slice(0),logicalOperator:t,secondFilterComparison:i,secondFilterValue:this.secondInput.selectedIndexes.slice(0)}}setDefaults(){const e=this.context
this.defaultListSource=[{value:"EQUAL",label:e.localize("equal")},{value:"NOT_EQUAL",label:e.localize("notEqual")},{value:"NULL",label:e.localize("null")},{value:"NOT_NULL",label:e.localize("notNull")}],this.filterBuilderOperations=["=","<>","NULL","NOT_NULL"],this.defaultListSelection=0}appendInputs(){const e=document.createElement("jqx-drop-down-list"),t=document.createElement("jqx-drop-down-list")
e.dataSource=[{value:!0,label:"true"},{value:!1,label:"false"}],e.placeholder=this.context.localize("placeholderBoolean"),e.selectedIndexes=[],e.selectionMode="zeroOrOne",t.dataSource=[{value:!0,label:"true"},{value:!1,label:"false"}],t.placeholder=this.context.localize("placeholderBoolean"),t.selectedIndexes=[],t.selectionMode="zeroOrOne",this.firstInput=e,this.secondInput=t}getFilterInputValue(e){return 0===e.selectedValues.length?"":"true"===e.selectedValues[0]}defaultClear(){this.firstList.selectedIndexes=[this.defaultListSelection],this.firstInput.selectedIndexes=[],this.logicalOperatorList.selectedIndexes=[0],this.secondList.selectedIndexes=[this.defaultListSelection],this.secondInput.selectedIndexes=[],this.filterObject.clear(),this.cacheFilter(this.defaultListSelection,0,this.defaultListSelection)}defaultCancel(){this.firstList.selectedIndexes=[this.cachedFilter.firstFilterComparison],this.firstInput.selectedIndexes=this.cachedFilter.firstFilterValue,this.logicalOperatorList.selectedIndexes=[this.cachedFilter.logicalOperator],this.secondList.selectedIndexes=[this.cachedFilter.secondFilterComparison],this.secondInput.selectedIndexes=this.cachedFilter.secondFilterValue}})
var Te=Object.freeze({})
JQX("jqx-filter-builder",class extends JQX.BaseElement{static get properties(){return{customOperations:{value:[],type:"array",reflectToAttribute:!1},disableContextMenu:{value:!1,type:"boolean"},fields:{value:null,type:"array?",reflectToAttribute:!1},formatStringDate:{value:"dd-MMM-yy",type:"string"},formatStringDateTime:{value:"dd-MMM-yy HH:mm:ss",type:"string"},hint:{value:null,type:"string?"},icons:{value:{"=":"=","<>":"≠",">":">",">=":"≥","<":"<","<=":"≤",startswith:"a|bc",endswith:"ab|c",contains:"abc",notcontains:"!abc",isblank:"○",isnotblank:"●"},type:"object",reflectToAttribute:!1},maxConditions:{value:null,type:"number?",validator:"_maxValidator"},maxConditionsPerGroup:{value:null,type:"number?",validator:"_maxValidator"},maxLevel:{value:null,type:"number?",validator:"_maxValidator"},messages:{value:{en:{add:"Add",addCondition:"Add Condition",addGroup:"Add Group",and:"And",notand:"Not And",or:"Or",notor:"Not Or","=":"Equals","<>":"Does not equal",">":"Greater than",">=":"Greater than or equal to","<":"Less than","<=":"Less than or equal to",startswith:"Starts with",endswith:"Ends with",contains:"Contains",notcontains:"Does not contain",isblank:"Is blank",isnotblank:"Is not blank",wrongParentGroupIndex:'{{elementType}}: Wrong parent group index in "{{method}}" method.',missingFields:'{{elementType}}: Fields are required for proper condition\'s adding. Set "fields" source and then conditions will be added as expected.',wrongElementNode:'{{elementType}}: Incorect node / node Id in "{{method}}" method.',invalidDataStructure:"{{elementType}}: Used invalid data structure in updateCondition/updateGroup method.",dateTabLabel:"DATE",timeTabLabel:"TIME"}},type:"object",extend:!0},restrictedMode:{value:!1,type:"boolean"},showIcons:{value:!1,type:"boolean"},value:{value:["or"],type:"array?",reflectToAttribute:!1},valueFormatFunction:{value:null,type:"function?",reflectToAttribute:!1},valuePlaceholder:{value:"&lt;enter a value&gt;",type:"string"}}}static get requires(){return{"JQX.Button":"jqxbutton.js","JQX.CheckBox":"jqxcheckbox.js","JQX.ScrollBar":"jqxscrollbar.js","JQX.ListBox":"jqxlistbox.js","JQX.DropDownList":"jqxdropdownlist.js","JQX.ComboBox":"jqxcombobox.js","JQX.Calendar":"jqxcalendar.js","JQX.TimePicker":"jqxtimepicker.js","JQX.Tooltip":"jqxtooltip.js","JQX.Utilities.DateTime":"jqxdate.js","JQX.DateTimePicker":"jqxdatetimepicker.js","JQX.Menu":"jqxmenu.js"}}static get listeners(){return{down:"_downHandler","document.click":"_documentClickHandler","conditionsMenu.itemClick":"_menuItemClickHandler","container.change":"_containerChangeHandler","scrollableContainer.wheel":"_scrollViewerWheelHandler","scrollableOuterContainer.resize":"_resizeHandler","innerContainer.keydown":"_innerContainerKeydownHandler"}}static get styleUrls(){return["jqx.filterbuilder.css"]}template(){return'<div id="container" title="[[hint]]">\n                    <div id="innerContainer" class="jqx-inner-container">\n                            <div id="scrollableOuterContainer" class="jqx-scrollable-outer-container">\n                                <jqx-scroll-viewer id="scrollableContainer" class="jqx-scrollable-container" animation="[[animation]]">\n                                    <div id="contentContainer" class="jqx-content-container"></div>\n                                </jqx-scroll-viewer>\n                            </div>\n                            <div id="editorsContainer" class="jqx-editors-container">\n                                <div id="customEditor" class="jqx-custom-editor jqx-hidden"></div>\n                            </div>\n                    </div>\n                    <jqx-menu id="conditionsMenu" mode="dropDown" class="jqx-conditions-menu" theme="[[theme]]" animation="[[animation]]"></jqx-menu>\n            </div>'}propertyChangedHandler(e,t,i){const n=this,r=["textBoxEditor","numericTextBoxEditor","comboBoxEditor","dateTimePickerEditor","checkBoxEditor"]
switch(super.propertyChangedHandler(e,t,i),e){case"animation":case"theme":r.forEach(t=>n.$[t]&&(n.$[t][e]=i))
break
case"customOperations":n._handleCustomOperations(),n._refresh()
break
case"fields":n._mapFieldsToMenu(),n._refresh()
break
case"formatStringDate":case"formatStringDateTime":case"showIcons":case"valueFormatFunction":n._refresh()
break
case"locale":case"messages":n._localizeInitialValues(),n._refresh(),n._handleCustomOperations(),n.$.dateTimePickerEditor&&(n.$.dateTimePickerEditor.messages[n.locale]||(n.$.dateTimePickerEditor.messages[n.locale]={}),n.$.dateTimePickerEditor.messages[n.locale].dateTabLabel=n.localize("dateTabLabel"),n.$.dateTimePickerEditor.messages[n.locale].timeTabLabel=n.localize("timeTabLabel"),"locale"===e?n.$.dateTimePickerEditor.locale=n.locale:"messages"===e&&(n.$.dateTimePickerEditor.$.selectDate.innerHTML=n.$.dateTimePickerEditor.messages[n.locale].dateTabLabel,n.$.dateTimePickerEditor.$.selectTime.innerHTML=n.$.dateTimePickerEditor.messages[n.locale].timeTabLabel))
break
case"maxConditions":case"maxConditionsPerGroup":case"maxLevel":case"value":{n._totalConditions=0,n._validateValue(),n._emptyElementsStructure(!0),n._convertValueToFlat(n.value),n._getFieldsFromValue(),n._mapFieldsToMenu(),n._generateHTMLStructureFromFlatValue(),n.$.scrollableContainer.refresh()
const e=JSON.stringify(n.value)
n._oldValueAsString!==e&&(n._oldValueAsString=e,n.$.fireEvent("change",{value:JSON.parse(e)}))
break}case"valuePlaceholder":n._updatePlaceholder()}}_maxValidator(e,t){return"number"!=typeof t?t:Math.max(1,t)}ready(){super.ready()
this._validateValue(),this._setInitialValues(),this._handleCustomOperations(),this._emptyElementsStructure(!0),this._totalConditions=0,this._convertValueToFlat(this.value),this._getFieldsFromValue(),this._generateHTMLStructureFromFlatValue(),this.$.conditionsMenu._noAutoFocus=!0,this._oldValueAsString=JSON.stringify(this.value),this.$.scrollableContainer.refresh()}addCondition(e,t){this._checkFieldsExistence(),this._addElement("condition",e,t)}addGroup(e,t){this._addElement("group",e,t)}removeCondition(e){this._validateNode(e,"removeCondition"),this._deleteElement(e,"condition"),this._refresh()}removeGroup(e){this._validateNode(e,"removeGroup"),this._deleteElement(e,"group"),this._refresh()}toString(e){const t=this
if(!e)return JSON.stringify(t.value)
let i=[],n=[]
for(let e=0;e<t._valueFlat.length;e++){const n=t._valueFlat[e]
let r={}
if("condition"===n.type){const e=t._getFieldByFieldName(n.data[0]),i=e.dataType,o="["+(e.label||e.value)+"]",a=t.localize(n.data[1]),s=-1!==["boolean","number"].indexOf(i)?n.data[2]+"":"'"+n.data[2]+"'"
r.data=o+" "+a+" "+s}else r.data=n.data
r.nodeId=n.nodeId,r.parentId=n.parentId,r.type=n.type,i.push(r)}for(let e=0;e<i.length;e++){const r=i[e]
let o={}
if("group"===r.type){const e=i.filter(e=>e.parentId===r.nodeId&&"condition"===e.type)
if(e.length>0){let i=e.map(e=>e.data),a="",s="",l=r.data;-1!==["notand","notor"].indexOf(l)&&(a="Not (",s=")",l=l.substring(3)),o.nodeId=r.nodeId,o.parentId=r.parentId,o.data=r.data,o.structure=a+i.join(" "+t.localize(l)+" ")+s,n.push(o)}}}(n=n.filter(e=>e.structure.length>1)).sort(function(e,t){return t.nodeId.split(".").length-e.nodeId.split(".").length})
for(let e=0;e<n.length;e++){const i=n[e],r=n.filter(e=>e.nodeId===i.parentId)[0]
if(r&&r.structure){let e=r.data;-1!==["notand","notor"].indexOf(e)?(e=e.substring(3),r.structure=r.structure.slice(0,r.structure.length-1)+" "+t.localize(e)+" ("+i.structure+"))"):r.structure=r.structure+" "+t.localize(e)+" ("+i.structure+")"}}return n[n.length-1].structure}updateCondition(e,t){const i=this._validateNode(e,"updateCondition")
this._validateUserData(t,!0),i.data=t,this._refresh()}updateGroup(e,t){const i=this._validateNode(e,"updateGroup")
this._validateUserData(t),i.data=t,this._refresh()}_addElement(e,t,i){t=t||"0"
const n=this,r=n._valueFlat.filter(e=>e.nodeId===t&&"group"===e.type),o=r.length>0&&r[0],a=n._valueFlat.filter(e=>e.parentId===t)
let s=0,l=""
if(o||n.error(n.localize("wrongParentGroupIndex",{elementType:n.nodeName.toLowerCase(),method:"addGroup/addCondition"})),"group"===e)i=i||"or"
else{if(a.filter(e=>"condition"===e.type).length===n.maxConditionsPerGroup||n._totalConditions===n.maxConditions)return
const e=n.fields&&n.fields.length>0?n.fields[0].dataField:n._valueFields[0].dataField
n._totalConditions++,(i=i||[])[0]=i[0]||e,i[1]=i[1]||"=",i[2]=void 0!==typeof i[2]?i[2]:null}if(a){let e=a.map(e=>{const t=e.nodeId.split(".")
return parseInt(t[t.length-1])})
s=(e=0===e.length?[0]:e).reduce(function(e,t){return Math.max(e,t)})+1}t&&t.length>0&&(l=".")
const d={nodeId:t+l+s,parentId:t,type:e,data:i,htmlNode:null}
n._valueFlat.push(d),n._refresh()}_clearConditionsValue(e,t){const i=this,n=(i.shadowRoot||i).querySelector('[node-id="'+(e||0)+'"]').querySelector(".jqx-value-container")
for(let n=0;n<i._valueFlat.length;n++)if(i._valueFlat[n].nodeId===e){const e=i._valueFlat[n],r=t?i.fields.find(e=>e.dataField===t).dataType:i.fields.find(t=>t.dataField===e.data[0]).dataType
e.data[2]=i._defaultValueByType(r)}n.innerHTML=i.valuePlaceholder,n.closest(".jqx-filter-value").setAttribute("placeholder","")}_convertValueToFlat(e,t){const i=this,n=/^(and|or|notAnd|notOr)$/i
if(!e)return
const r=e.filter(e=>"string"==typeof e&&e.match(n)),o=r?r[0]:null,a=e.filter(e=>Array.isArray(e)&&3===e.length&&0===e.filter(e=>"string"==typeof e&&e.match(n)).length),s=e.filter(e=>!a.includes(e)&&e!==o)
if(!r)return
const l=i._lastProcessedItemInCurrentGroup.parentId?".":"",d=(i._lastProcessedItemInCurrentGroup.parentId||"")+l+(t||0)
if(i._isMaxLevelExceeded(d))return
const c={nodeId:d,parentId:i._lastProcessedItemInCurrentGroup.parentId,type:"group",data:o,htmlNode:null}
i._valueFlat.push(c),i._lastProcessedItemInCurrentGroup.position=0
for(let e=0;e<a.length&&a[e];e++){const t=d+"."+(i._lastProcessedItemInCurrentGroup.position||0)
if(i._isMaxLevelExceeded(t))break
const n={nodeId:t,parentId:d,type:"condition",data:a[e],htmlNode:null}
i._totalConditions++,i._valueFlat.push(n),i._lastProcessedItemInCurrentGroup.position++}for(let e=0;e<s.length;e++)i._lastProcessedItemInCurrentGroup.parentId=d,i._convertValueToFlat(s[e],a.length+e),i._lastProcessedItemInCurrentGroup.position++}_isMaxLevelExceeded(e){const t=this,i=t._valueFlat
if(!(null===t.maxLevel||i.length<1)){if(e)return e.split(".").length-2>=t.maxLevel
for(let e=0;e<i.length;e++){if(i[e].nodeId.split(".").length-2>t.maxLevel)return!0}}}_clickHandler(e){const t=this,i=t.shadowRoot||t.isInShadowDOM?e.composedPath()[0]:e.target,n=i?i.closest(".jqx-filter-group-condition"):null,r=n?n.getAttribute("node-id"):null,o=i?i.closest(".jqx-filter-group"):null,a=o?o.getAttribute("node-id"):null,s=i.closest(".jqx-filter-add-btn"),l=i.closest(".jqx-filter-delete-btn"),d=i.closest(".filter-builder-item"),c=r||a,h=t._getItemById(c)
let u
if(t.disabled)return
if((d||l||s)&&(u=d?d.classList.contains("jqx-filter-field-name")?"fieldButton":d.classList.contains("jqx-filter-operation")?"operationButton":d.classList.contains("jqx-filter-value")?"valueButton":"groupOperationButton":s?"addButton":"deleteButton",t.$.fireEvent("itemClick",{id:h.nodeId,type:h.type,component:u,data:h.data})),l){const e=i.closest(".jqx-filter-group-operator"),n=i.closest(".jqx-filter-group-condition")
return void t._clickHandlerDeleteButton(e,n,o)}if(s)return t._closeEditor(),t._contextMenuOptions=t._addOptions,void t._handleContextMenu(i)
if(d){const e=d.classList
return void t._clickHandlerFilterButton(e,c,i)}t.$.conditionsMenu.opened&&(t.$.fireEvent("menuClosing"),t.$.conditionsMenu.close(),t.$.fireEvent("menuClose"))
const p=i.closest(".jqx-drop-down"),m=t._editor&&t._editor.contains(i)||p&&p.ownerElement===t._editor||i.closest(".jqx-custom-editor")
t._editorIsOpen&&t._editor&&!m&&(t._scrollBarDown?delete t._scrollBarDown:t._closeEditor())}_clickHandlerDeleteButton(e,t,i){const n=this
n.$.conditionsMenu.opened&&(n.$.fireEvent("menuClosing"),n.$.conditionsMenu.close(),n.$.fireEvent("menuClose")),n._closeEditor(),e?(n._deleteElement(i,"group"),n._generateValue()):t&&(n._deleteElement(t),n._generateValue()),n.$.scrollableContainer.refresh()}_clickHandlerFilterButton(e,t,i){const n=this
if(!i.closest(".jqx-editors-container")&&(n._closeEditor(),n._editedItem=n._getItemById(t),e.contains("jqx-filter-field-name")||n._editedItem.data&&n._editedItem.data.length))if(e.contains("jqx-filter-group-operation"))r(i,n._groupOperationDescriptions,n._editedItem.data)
else if(e.contains("jqx-filter-add-btn"))r(i,n._groupOperationDescriptions)
else{if(e.contains("jqx-filter-field-name"))return n._fields||n._mapFieldsToMenu(),void r(i,n._fields,n._editedItem.data[0])
if(e.contains("jqx-filter-operation")){const e=n._getFieldByFieldName(n._editedItem.data[0])
if(!e)return
let t=n._filterOperationDescriptions.slice()
if(e&&e.filterOperations)t=n._filterOperationDescriptions.filter(t=>e.filterOperations.indexOf(t.value)>-1)
else{let i
switch(e.dataType){case"number":case"date":case"dateTime":i=["=","<>","<",">","<=",">=","isblank","isnotblank"]
break
case"boolean":i=["=","<>","isblank","isnotblank"]
break
case"object":i=["isblank","isnotblank"]
break
case"string":i=["contains","notcontains","startswith","endswith","=","<>","isblank","isnotblank"]
break
default:i=["contains","notcontains","startswith","endswith","=","<>","<",">","<=",">=","isblank","isnotblank"]}t=n._filterOperationDescriptions.filter(e=>i.indexOf(e.value)>-1)}return n.showIcons&&(t=t.map(e=>(e.label='<div class="jqx-filter-builder-icon">'+n.icons[e.value]+'</div><div class="jqx-filter-builder-menu-item">'+n.localize(e.value)+"</div>",e))),void r(i,t.slice(),n._editedItem.data[1])}n._openEditor(i)}function r(e,t,i){!function(){const e=n.$.conditionsMenu.querySelector(".jqx-selected-menu-item")
e&&e.classList.remove("jqx-selected-menu-item")}(),n._contextMenuOptions=0===t.length?n._defaultFilterOperationDescriptions:t,n._handleContextMenu(e)
const r=i,o=n.$.conditionsMenu.querySelector('jqx-menu-item[value="'+r+'"]')
n.$.conditionsMenu.opened&&o&&o.classList.add("jqx-selected-menu-item")}}_closeEditor(e){const t=this
let i
if(!t._editedItem||!t._editorIsOpen)return
if(t._editor===t.$.dateTimePickerEditor)t._editor._inputChangeHandler(),(i=t._editor.value)&&(i=i.toDate())
else if(t._editor===t.$.checkBoxEditor)i=t._editor.checked
else if(t._editor===t.$.customEditor)i=t._selectedCustomCondition.handleValue(t._editor)
else if(t._editor===t.$.numericTextBoxEditor)t._editor._inputBlurHandler(),i=t._editor.value
else{const e=t._getFieldByFieldName(t._editedItem.data[0])
i="array"===e.dataType?t._editor.value.split(","):"object"===e.dataType?JSON.parse(t._editor.value):t._editor.value}const n=t._editedItem,r=n.htmlNode,o=n.nodeId,a=t._getFieldByFieldName(n.data[0]).dataType,s=r.querySelector(".jqx-filter-value"),l=r.querySelector(".jqx-value-container"),d={value:i,valueType:a||"string",editedItem:n}
if(t.$.fireEvent("editorClosing",d),t._updateValueInFlatArray(o,i,"value",a||"string"),t._generateValue(e),s.removeAttribute("edited"),t.$.editorsContainer.removeAttribute("open"),t._editor===t.$.checkBoxEditor)l.innerHTML=t._editor.checked?"true":"false"
else if(t._editor===t.$.customEditor){const e=t._selectedCustomCondition.valueTemplate(t._editor)
l.innerHTML=e}else l.innerHTML=t._formatValueStringRepresentation(t._editor.value,t._editedItem.data[0])
t._editor.classList.add("jqx-hidden"),t._editorIsOpen=t._enterIsPressedInEditor=!1,t.$.fireEvent("editorClose",d),t.$.scrollableContainer.refresh()}_defaultValueByType(e){let t
switch(e){case"number":t=0
break
case"date":case"dateTime":(t=new Date).setHours(0,0,0)
break
case"boolean":t=!1
break
case"object":t=null
break
default:t=""}return t}_deleteElement(e,t){const i=this,n=e instanceof HTMLElement?e:i._valueFlat.find(t=>t.nodeId===e).htmlNode,r="string"==typeof e?e:e.getAttribute("node-id")
if(r&&1!==r.length){"group"===t?function e(t){const n=i._valueFlat.filter(e=>t===e.nodeId),r=n?n[0]:null
for(let n=0;n<i._valueFlat.length;n++){const r=i._valueFlat[n],a=r.nodeId
r.parentId===t&&("group"===r.type?e(a):o(a))}i._valueFlat.indexOf(r)>-1&&i._valueFlat.splice(i._valueFlat.indexOf(r),1)}(r):o(r)
for(let e=i._valueFlat.length-1;e>=0;e--){0===i._valueFlat.filter(t=>i._valueFlat[e].parentId===t.nodeId).length&&"0"!==i._valueFlat[e].nodeId&&(i._valueFlat.splice(e,1),i._totalConditions--)}i._generateValue(),n.parentElement.removeChild(n),function e(t,n){t.forEach((t,r)=>{const o=i._valueFlat.find(e=>e.htmlNode===t),a=n+"."+r
t.setAttribute("node-id",a),o.parentId=n,o.nodeId=a,t.classList.contains("jqx-filter-group")&&e(Array.from(t.children[1].children),a)})}(Array.from(i.$.contentContainer.firstElementChild.children[1].children),"0")}function o(e){const t=i._valueFlat.filter(t=>e===t.nodeId)
let n=t?t[0]:null
i._valueFlat.splice(i._valueFlat.indexOf(n),1),i._totalConditions--}}_documentClickHandler(e){const t=this;(t.isInShadowDOM?e.composedPath()[0]:e.target).closest("jqx-filter-builder")?t._clickHandler(e):(t._editorIsOpen&&!t._scrollBarDown&&t._closeEditor(),delete t._scrollBarDown)}_downHandler(e){const t=this;(t.shadowRoot||t.isInShadowDOM?e.composedPath()[0]:e.target).closest("jqx-scroll-bar")?t._scrollBarDown=!0:delete t._scrollBarDown}_containerChangeHandler(e){e.stopPropagation()}_emptyElementsStructure(e){const t=this.$.contentContainer
for(;t.firstChild;)t.removeChild(t.firstChild)
this._valueFlat=e?[]:this._valueFlat,this._lastProcessedItemInCurrentGroup={parentId:null,id:null,position:null}}_filterGroupRow(e){e=this.localize(e||"or")
let t=document.createElement("div"),i=`<span class="jqx-filter-delete-btn"></span>\n                <span class="filter-builder-item jqx-filter-group-operation">${e}</span>\n                <span class="jqx-filter-add-btn"></span>`
return t.className="jqx-filter-group-operator",t.innerHTML=i,t.data=e||"or",t}_formatValueStringRepresentation(e,t){const i=this,n=i._getFieldByFieldName(t)
let r
if(!n)return e
if((!e||0===e.length)&&"boolean"!==n.dataType&&"number"===n.dataType&&null===e||"string"===n.dataType&&(!e||0===e.length))return i.valuePlaceholder
switch(n.dataType){case"date":case"dateTime":e?((e=function(e){return 0===e||"number"==typeof e||"string"==typeof e||!0===e||""===e||"0"===e||Array.isArray(e)||"object"==typeof e&&e.constructor===Date?new JQX.Utilities.DateTime(e):e}(e)).calendar.days=i._localizedDays,e.calendar.months=i._localizedMonths,e.calendar.locale=i.locale,JQX.Utilities.DateTime.cache=[],r=e.toString("date"===n.dataType?i.formatStringDate:i.formatStringDateTime)):r=i.valuePlaceholder
break
case"array":r="string"==typeof e?e.split(","):e
break
case"object":r="string"==typeof e?e:JSON.stringify(e)
break
case"number":r=e
break
case"boolean":r=!1===e?"false":"true"
break
default:r=e+""}if(!i.valueFormatFunction)return r
return i.valueFormatFunction(r,t,n.dataType||"string")}_generateHTMLStructureFromFlatValue(){const e=this,t=document.createDocumentFragment()
if(e._valueFlat&&0!==e._valueFlat.length)for(let i=0;i<e._valueFlat.length;i++){const n=e._valueFlat[i],r=!!e.customOperations&&e.customOperations.find(e=>e.name===n.data[1]),o=n.parentId?(e.shadowRoot||e).querySelector('[node-id="'+n.parentId+'"]').querySelector(".jqx-filter-group-condition-container"):e.$.contentContainer
if("group"===n.type){const r=document.createElement("div"),o=e._filterGroupRow(n.data),a=document.createElement("div")
r.className="jqx-filter-group",a.className="jqx-filter-group-condition-container",r.appendChild(o),r.appendChild(a),t.appendChild(r),r.setAttribute("node-id",n.nodeId),e._valueFlat[i].htmlNode=r,e._isMaxLevelExceeded(n.nodeId+".0")&&r.setAttribute("max-level","")}else{const o=e._newFilterConditionRow(n.data)
o.setAttribute("node-id",n.nodeId),t.appendChild(o),e._valueFlat[i].htmlNode=o,(-1!==["isblank","isnotblank"].indexOf(n.data[1])||r&&r.hideValue)&&o.children[3].classList.add("jqx-hidden")}o.appendChild(t)}}_generateValue(){const e=this
let t=[]
!function(e){for(let i=0;i<e.length;i++){const n=e[i]
let r={}
"group"===n.type&&(r.nodeId=n.nodeId,r.parentId=n.parentId,r.structure=[n.data||"or"],t.push(r))}for(let i=0;i<t.length;i++){const n=t[i],r=e.filter(e=>e.parentId===n.nodeId&&"condition"===e.type)
for(let e=0;e<r.length;e++)0===e?n.structure.unshift(r[e].data):n.structure.push(r[e].data)}(t=t.filter(e=>e.structure.length>1)).sort(function(e,t){return t.nodeId.split(".").length-e.nodeId.split(".").length})
for(let e=0;e<t.length;e++){const i=t[e],n=t.filter(e=>e.nodeId===i.parentId)[0]
n&&n.structure&&n.structure.push(i.structure)}}(e._valueFlat.slice()),t.length>0?e.value=e._valueFlat.length>1?t[t.length-1].structure:t:e.value=[e._getItemById("0").data]
const i=JSON.stringify(e.value)
e._oldValueAsString!==i&&(e._oldValueAsString=i,e.$.fireEvent("change",{value:JSON.parse(i)}))}_getFieldByFieldName(e){return(this.fields?this.fields.filter(t=>t.dataField===e):this._valueFields.filter(t=>t.dataField===e))[0]||null}_getFieldsFromValue(){const e=this._valueFlat,t=[],i=[]
for(let n=0;n<e.length;n++)if("condition"===e[n].type){const r=e[n].data[0]
if(-1===t.indexOf(r)){const e={label:r,dataField:r,dataType:"string",format:null}
t.push(r),i.push(e)}}this._valueFields=i}_getItemById(e,t){const i=this._valueFlat.filter(i=>t?i.parentId===e:i.nodeId===e)
return i.length>0?i[0]:null}_handleContextMenu(e){const t=this
if(t._selectedElement===e&&t.$.conditionsMenu.opened)return
const i=e.getBoundingClientRect(),n=t.getBoundingClientRect(),r=i.height,o=i.left+t.$.contentContainer.scrollLeft-n.left,a=i.top+t.$.contentContainer.scrollTop-n.top+r
if(e.closest(".jqx-filter-add-btn")&&t.restrictedMode){t._checkFieldsExistence()
const e=t.fields?t.fields[0]:t._valueFields[0],i=e.filterOperations&&e.filterOperations.length>0?e.filterOperations[0]:"="
t._addElement("condition",0,[e.dataField,i,t._defaultValueByType(e.dataType)])}else t._closeEditor(),t.disableContextMenu?t._selectedElement=e:(t.$.conditionsMenu.dataSource=t._contextMenuOptions,t.$.conditionsMenu.open(o,a),t._selectedElement=e,t.$.scrollableContainer.refresh())}_handleCustomOperations(){const e=this
e._filterOperationDescriptions=e._defaultFilterOperationDescriptions
for(let t=0;t<e.customOperations.length;t++){const i=e.customOperations[t]
e._filterOperationDescriptions.push({label:i.label,value:i.name,custom:!0,index:t,editorTemplate:i.editorTemplate,valueTemplate:i.valueTemplate,handleValue:i.handleValue})}}_initializeEditor(e){const t=this,i="jqx-"+JQX.Utilities.Core.toDash(e),n=document.createElement(i)
"numericTextBox"===e?(n.spinButtons=!0,n.inputFormat="floatingPoint"):"dateTimePicker"===e&&(n.calendarButton=!0,n.dropDownDisplayMode="auto",n.enableMouseWheelAction=!0,n.locale=t.locale,n.messages[t.locale]||(n.messages[t.locale]={}),n.messages[t.locale].dateTabLabel=t.localize("dateTabLabel"),n.messages[t.locale].timeTabLabel=t.localize("timeTabLabel")),n.tabIndex="1",n.theme=t.theme,n.animation=t.animation,t.$[e+"Editor"]=n,n.$=JQX.Utilities.Extend(n),n.className=i+"-editor jqx-hidden",t.$.editorsContainer.appendChild(n),t["_"+e+"Initialized"]=!0}_innerContainerKeydownHandler(e){"Escape"!==e.key&&"Enter"!==e.key||!this._editorIsOpen||this._closeEditor()}_inputBlurHandler(){const e=this
let t
if(e._editor===e.$.dateTimePickerEditor)(t=e._editor.value)&&(t=t.toDate())
else if(e._editor===e.$.checkBoxEditor)t=e._editor.checked
else if(e._editor===e.$.customEditor)t=e._selectedCustomCondition.handleValue(e._editor)
else{const i=e._getFieldByFieldName(e._editedItem.data[0])
t="array"===i.dataType?e._editor.value.split(","):"object"===i.dataType?JSON.parse(e._editor.value):e._editor.value}const i=e._editedItem,n=i.nodeId,r=e._getFieldByFieldName(i.data[0]).dataType
e._updateValueInFlatArray(n,t,"value",r||"string"),e._generateValue()}_localizeInitialValues(){const e=JQX.Utilities.DateTime.getLocalizedNames(this.locale)
this._addOptions=[{label:this.localize("addCondition"),value:"addCondition"},{label:this.localize("addGroup"),value:"addGroup"}],this._groupOperationDescriptions=[{label:this.localize("and"),value:"and"},{label:this.localize("notand"),value:"notand"},{label:this.localize("or"),value:"or"},{label:this.localize("notor"),value:"notor"}],this._defaultFilterOperationDescriptions=this._filterOperationDescriptions=[{label:this.localize("="),value:"=",custom:!1},{label:this.localize("<>"),value:"<>",custom:!1},{label:this.localize(">"),value:">",custom:!1},{label:this.localize(">="),value:">=",custom:!1},{label:this.localize("<"),value:"<",custom:!1},{label:this.localize("<="),value:"<=",custom:!1},{label:this.localize("startswith"),value:"startswith",custom:!1},{label:this.localize("endswith"),value:"endswith",custom:!1},{label:this.localize("contains"),value:"contains",custom:!1},{label:this.localize("notcontains"),value:"notcontains",custom:!1},{label:this.localize("isblank"),value:"isblank",custom:!1},{label:this.localize("isnotblank"),value:"isnotblank",custom:!1}],this._localizedDays=e.days,this._localizedMonths=e.months}_mapFieldsToMenu(){(this.fields||this._valueFields)&&(this._fields=(this.fields||this._valueFields).map(e=>{let t={}
return t.label=e.label,t.value=e.dataField,t.dataType=e.dataType,t}))}_menuItemClickHandler(e){const t=this,i=t._selectedElement.closest(".filter-builder-item"),n=e.detail,r=n.value,o=t.localize(r)||n.label
if(i){const e=i.closest(".jqx-filter-group-condition"),n=i.closest(".jqx-filter-group"),a=e?e.getAttribute("node-id"):n.getAttribute("node-id")
let s=2
if(i.innerHTML=o,i.value=r,t._editedItem&&i.classList.contains("jqx-filter-field-name")&&t._editedItem.data[0]!==r){const e=i.parentNode.querySelector(".jqx-filter-value"),n=t.customOperations.map(e=>{if(e.hideValue)return e.name}).filter(e=>e).concat(["isblank","isnotblank"])
t._clearConditionsValue(a,r),t._setInitialFilterOperation(a,r),n.indexOf(r)>-1?e.classList.add("jqx-hidden"):e.classList.remove("jqx-hidden")}if(i.classList.contains("jqx-filter-field-name"))s=0
else if(i.classList.contains("jqx-filter-operation")){const e=i.parentNode.querySelector(".jqx-filter-value")
let n
if(t.customOperations){const e=t.customOperations.filter(e=>e.name===r)
e.length>0&&(n=e[0])}["isblank","isnotblank"].indexOf(r)>-1||n&&n.hideValue?(t._clearConditionsValue(a),e.classList.add("jqx-hidden")):e.classList.remove("jqx-hidden"),s=1}else if(i.classList.contains("jqx-filter-group-operation")){for(let e=0;e<t._valueFlat.length;e++)t._valueFlat[e].nodeId===a&&(t._valueFlat[e].data=i.value)
return t._generateValue(),void t.$.scrollableContainer.refresh()}for(let e=0;e<t._valueFlat.length;e++)t._valueFlat[e].nodeId===a&&(t._valueFlat[e].data[s]=i.value)
return t._generateValue(),void t.$.scrollableContainer.refresh()}const a=t._selectedElement.closest(".jqx-filter-group").getAttribute("node-id")
if(!t._isMaxLevelExceeded(a+".0")){if("addCondition"===r&&(t.maxConditions&&t._totalConditions<t.maxConditions||!t.maxConditions)){t._checkFieldsExistence()
const e=t.fields?t.fields[0]:t._valueFields[0],i=e.filterOperations&&e.filterOperations.length>0?e.filterOperations[0]:"="
t._addElement("condition",a,[e.dataField,i,t._defaultValueByType(e.dataType)])}else"addGroup"===r&&t._addElement("group",a,"and")
t.$.scrollableContainer.refresh()}}_setInitialFilterOperation(e,t){const i=this,n=i.fields.find(e=>e.dataField===t),r=i._valueFlat.find(t=>t.nodeId===e),o=r.htmlNode.getElementsByClassName("jqx-filter-operation")[0],a=n&&n.filterOperations&&n.filterOperations.length>0?n.filterOperations[0]:"="
let s=i.localize(a)
s||(s=i.customOperations.find(e=>e.name===a).label),r.data[1]=a,o.innerHTML=s}_checkFieldsExistence(){const e=this
e.fields&&0!==e.fields.length||e._valueFields&&0!==e._valueFields.length||e.error(e.localize("missingFields",{elementType:e.nodeName.toLowerCase()}))}_newFilterConditionRow(e){const t=this,i=(e=e||[])[0]?e[0]:t.fields[0].dataField,n=t._formatValueStringRepresentation(e[2],e[0]),r=t.fields?t.fields.filter(e=>e.dataField===i):t._valueFields.filter(e=>e.dataField===i),o=r.length>0?r[0].label:e[0]
let a=t.localize(e[1])
!a&&t.customOperations&&t.customOperations.length>0&&(a=t.customOperations.find(t=>t.name===e[1]).label)
let s=document.createElement("div"),l=`<span class="jqx-filter-delete-btn"></span>\n                <span class="filter-builder-item jqx-filter-field-name">${o}</span>\n                <span class="filter-builder-item jqx-filter-operation">${a||""}</span>\n                <span class="filter-builder-item jqx-filter-value"><span class="jqx-value-container">${n}</span></span>`
return s.className="jqx-filter-group-condition",s.innerHTML=l,s}_openEditor(e){const t=this,i=e&&e.closest(".jqx-filter-group-condition")?e.closest(".jqx-filter-group-condition").getAttribute("node-id"):null,n=e.closest(".jqx-filter-value"),r=t._getItemById(i),o=r.data[0]||t.fields[0].dataField||t._valueFields[0].dataField,a=t._getFieldByFieldName(o)
let s
if(r?void 0===(s=r.data[2])&&(s=""):s="",!a)return
t._editorIsOpen&&t._closeEditor(),t.$.conditionsMenu.opened&&t.$.conditionsMenu.close(),n.setAttribute("edited",""),t._editedItem=r
const l=(t.fields||t._valueFields).filter(e=>e.dataField===o),d=t._filterOperationDescriptions.filter(e=>e.value===r.data[1]&&e.custom),c=l.length>0?l[0]:null,h=a.lookup&&a.lookup.dataSource?"lookup":c.dataType
0!==d.length&&d[0].editorTemplate?(t._selectedCustomCondition=d[0],t._openCustomEditor(h,s,a)):t._openEditorByFieldType(h,s,a),t.$.fireEvent("editorOpening",{value:s,type:h,editedItem:r}),setTimeout(function(){t._editor.focus(),t._editor!==t.$.numericTextBoxEditor&&t._editor!==t.$.textBoxEditor||(t.$.scrollableContainer.scrollLeft=t.$.scrollableContainer.$.scrollViewerContainer.scrollLeft,t.$.scrollableContainer.scrollTop=t.$.scrollableContainer.$.scrollViewerContainer.oldTop,t.$.scrollableContainer.$.scrollViewerContainer.scrollLeft=0,t.$.scrollableContainer.$.scrollViewerContainer.scrollTop=0,t._editor.$.input.selectionStart=t._editor.$.input.selectionEnd=t._editor.$.input.value.length),t.$.scrollableContainer.refresh(),t.$.fireEvent("editorOpen",{value:s,type:h,editedItem:r})},0),t._editor.classList.remove("jqx-hidden"),t._editorIsOpen=!0,t.$.editorsContainer.setAttribute("open",""),n.appendChild(t.$.editorsContainer),t.$.scrollableContainer.refresh()}_openEditorByFieldType(e,t,i){const n=this
switch(e){case"lookup":n._comboBoxInitialized||n._initializeEditor("comboBox"),n._editor=n.$.comboBoxEditor,n._editor.dataSource=i.lookup.dataSource,n._editor.dropDownAppendTo=n.$.container,n._editor.selectedValues=[t]
break
case"boolean":n._checkBoxInitialized||n._initializeEditor("checkBox"),n._editor=n.$.checkBoxEditor,n._editor.checked=!!t
break
case"dateTime":n._dateTimePickerInitialized||n._initializeEditor("dateTimePicker"),n._editor=n.$.dateTimePickerEditor,n._editor.formatString=n.formatStringDateTime,n._editor.dropDownAppendTo=n.$.container,n._editor.value=t
break
case"date":n._dateTimePickerInitialized||n._initializeEditor("dateTimePicker"),n._editor=n.$.dateTimePickerEditor,n._editor.formatString=n.formatStringDate,n._editor.dropDownAppendTo=n.$.container,n._editor.value=t
break
case"number":n._numericTextBoxInitialized||n._initializeEditor("numericTextBox"),t=t||0,n._editor=n.$.numericTextBoxEditor,n._editor.value=t
break
case"array":n._textBoxInitialized||n._initializeEditor("textBox"),n._editor=n.$.textBoxEditor,n._editor.value=t.toString()
break
case"object":n._textBoxInitialized||n._initializeEditor("textBox"),t=t||{},n._editor=n.$.textBoxEditor,n._editor.value=JSON.stringify(t)
break
default:n._textBoxInitialized||n._initializeEditor("textBox"),n._editor=n.$.textBoxEditor,n._editor.value=t+""}}_openCustomEditor(e,t,i){const n=this,r=n.customOperations[n._selectedCustomCondition.index].editorTemplate(e,t,i)
n.$.customEditor.innerHTML="",r&&n.$.customEditor.appendChild(r),n._editor=n.$.customEditor}_refresh(){this._generateValue(),this._emptyElementsStructure(),this._generateHTMLStructureFromFlatValue(),this.$.scrollableContainer.refresh()}_resizeHandler(){this.$.scrollableContainer.refresh()}_scrollViewerWheelHandler(e){"wheel"===e.type&&this.$.scrollableContainer.scrollHeight&&(e.stopPropagation(),e.preventDefault())}_setInitialValues(){this._mapFieldsToMenu(),this._localizeInitialValues(),this.$.conditionsMenu.dropDownAppendTo=this.$.container,this.$.conditionsMenu.dataSource=this._groupOperationDescriptions,this._valueFlat=[],this._lastProcessedItemInCurrentGroup={parentId:null,id:null,position:null}}_updatePlaceholder(){const e=this
for(let t=0;t<e._valueFlat.length;t++){const i=e._valueFlat[t]
"condition"!==i.type||null!==i.data[2]&&""!==i.data[2]||(i.htmlNode.querySelector(".jqx-value-container").innerHTML=e.valuePlaceholder)}e.$.textBoxEditor&&(e.$.textBoxEditor.placeholder=e.valuePlaceholder)}_updateValueInFlatArray(e,t,i,n){const r=this
if(e&&!r.disabled){if(n=n||"string",i=i||"value",null!==t)switch(n){case"number":t=parseFloat(t)
break
case"boolean":t=!!t
break
case"string":t+=""}for(let n=0;n<r._valueFlat.length;n++)if(r._valueFlat[n].nodeId===e)switch(i){case"column":r._valueFlat[n].data[0]=t
break
case"filterCondition":r._valueFlat[n].data[1]=t
break
case"value":r._valueFlat[n].data[2]=t
break
case"groupCondition":r._valueFlat[n].data=t}}}_validateNode(e,t){const i=this
let n
return e instanceof HTMLElement?n=i._getItemById(e.getAttribute("node-id")):"string"==typeof e?n=i._getItemById(e):i.error(i.localize("wrongElementNode",{elementType:i.nodeName.toLowerCase(),method:t})),n||i.error(i.localize("wrongElementNode",{elementType:i.nodeName.toLowerCase(),method:t})),n}_validateUserData(e,t){const i=this
if(t)(!Array.isArray(e)||e.length<3)&&i.error(i.localize("invalidDataStructure",{elementType:i.nodeName.toLowerCase()}))
else{const t=/^(and|or|notAnd|notOr)$/i
"string"==typeof e&&e.match(t)||i.error(i.localize("invalidDataStructure",{elementType:i.nodeName.toLowerCase()}))}}_validateValue(){const e=this.maxConditions,t=this.maxConditionsPerGroup,i=this.maxLevel
let n=0
if(null===e&&null===t&&null===i)return
const r=[]
!function r(o,a,s){let l=0
o.forEach(o=>{if(Array.isArray(o))if(function(e){return 3===e.length&&"string"==typeof e[0]&&"string"==typeof e[1]}(o)){if(null!==e&&e===n||null!==t&&t===l)return
s.push(o),l++,n++}else{if(null!==i&&i===a+1)return
const e=[]
s.push(e),r(o,a+1,e)}else s.push(o)})}(this.value,0,r),this.value=r}}),JQX("jqx-query-builder",class extends JQX.BaseElement{static get properties(){return{allowDrag:{value:!1,type:"boolean"},applyMode:{allowValues:["immediately","change"],value:"change",type:"string"},customOperations:{value:[],type:"array",reflectToAttribute:!1},customOperators:{value:{},type:"object",reflectToAttribute:!1},dropDownWidth:{type:"any",value:"100%"},fields:{value:null,type:"array?",reflectToAttribute:!1},fieldsMode:{value:"dynamic",allowedValues:["dynamic","static"],type:"string"},formatStringDate:{value:"dd-MMM-yy",type:"string"},formatStringDateTime:{value:"dd-MMM-yy HH:mm:ss",type:"string"},getDynamicField:{value:null,type:"function?"},icons:{value:{"=":"equals","<>":"notequals",">":"greaterthan",">=":"greaterthanorequal","<":"lessthan","<=":"lessthanorequal",startswith:"startswith",endswith:"endswith",contains:"contains",notcontains:"notcontains",isblank:"isblank",isnotblank:"isnotblank"},type:"object",reflectToAttribute:!1},messages:{value:{en:{add:"Add",addCondition:"Add Condition",addGroup:"Add Group",and:"And",notand:"Not And",or:"Or",notor:"Not Or","=":"Equals","<>":"Does not equal",">":"Greater than",">=":"Greater than or equal to","<":"Less than","<=":"Less than or equal to",startswith:"Starts with",endswith:"Ends with",contains:"Contains",notcontains:"Does not contain",isblank:"Is blank",isnotblank:"Is not blank",wrongParentGroupIndex:'{{elementType}}: Wrong parent group index in "{{method}}" method.',wrongElementNode:'{{elementType}}: Incorect node / node Id in "{{method}}" method.',invalidDataStructure:"{{elementType}}: Used invalid data structure in updateCondition/updateGroup method.",dateTabLabel:"DATE",timeTabLabel:"TIME",queryLabel:"Query"}},type:"object",extend:!0},operatorPlaceholder:{value:"Operator",type:"string"},propertyPlaceholder:{value:"Property",type:"string"},showIcons:{value:!1,type:"boolean"},value:{value:[],type:"any",reflectToAttribute:!1},valueFormatFunction:{value:null,type:"function?",reflectToAttribute:!1},valuePlaceholder:{value:"Value",type:"string"}}}static get requires(){const e={"JQX.Button":"jqxbutton.js","JQX.Calendar":"jqxcalendar.js","JQX.CheckBox":"jqxcheckbox.js","JQX.DateTimePicker":"jqxdatetimepicker.js","JQX.DropDownList":"jqxdropdownlist.js","JQX.Input":"jqxinput.js","JQX.ListBox":"jqxlistbox.js","JQX.Menu":"jqxmenu.js","JQX.NumericTextBox":"jqxnumerictextbox.js","JQX.ScrollBar":"jqxscrollbar.js","JQX.TimePicker":"jqxtimepicker.js","JQX.Tooltip":"jqxtooltip.js","JQX.Utilities.BigNumber":"jqxmath.js","JQX.Utilities.DateTime":"jqxdate.js","JQX.Utilities.Draw":"jqxdraw.js","JQX.Utilities.NumericProcessor":"jqxnumeric.js"}
return window.NIComplex||(e["JQX.Utilities.Complex"]="jqxcomplex.js"),e}static get listeners(){return{down:"_downHandler",resize:"_resizeHandler","editorsContainer.keydown":"_innerContainerKeydownHandler","conditionsMenu.close":"_menuCloseHandler","conditionsMenu.closing":"_menuClosingHandler","conditionsMenu.itemClick":"_menuItemClickHandler","contentContainer.change":"_contentContainerChangeHandler","scrollableContainer.touchmove":"_scrollableContainerTouchmoveHandler","document.down":"_documentDownHandler","document.move":"_documentMoveHandler","document.up":"_documentUpHandler"}}static get styleUrls(){return["jqx.querybuilder.css"]}template(){return'<div id="container" role="presentation">\n                    <jqx-scroll-viewer id="scrollableContainer" class="jqx-scrollable-container" animation="[[animation]]" right-to-left="[[rightToLeft]]">\n                        <div id="queryLabel" class="jqx-query-builder-label jqx-unselectable"></div>\n                        <div id="contentContainer" class="jqx-content-container"></div>\n                    </jqx-scroll-viewer>\n                    <div id="editorsContainer" class="jqx-editors-container" role="presentation">\n                        <div id="customEditor" class="jqx-custom-editor jqx-hidden"></div>\n                    </div>\n                    <jqx-menu id="conditionsMenu" mode="dropDown" class="jqx-conditions-menu" theme="[[theme]]" animation="[[animation]]" right-to-left="[[rightToLeft]]"></jqx-menu>\n                </div>'}propertyChangedHandler(e,t,i){super.propertyChangedHandler(e,t,i)
const n=this
switch(e){case"animation":case"theme":["textBoxEditor","numericTextBoxEditor","comboBoxEditor","dateTimePickerEditor","checkBoxEditor"].forEach(t=>n.$[t]&&(n.$[t][e]=i))
break
case"formatStringDate":case"formatStringDateTime":case"valueFormatFunction":n._refresh()
break
case"operatorPlaceholder":Array.from((n.shadowRoot||n).querySelectorAll(".jqx-filter-operation[placeholder]")).forEach(e=>e.firstElementChild.innerHTML=i)
break
case"propertyPlaceholder":Array.from((n.shadowRoot||n).querySelectorAll(".jqx-filter-field-name[placeholder]")).forEach(e=>e.firstElementChild.innerHTML=i)
break
case"showIcons":n._closeEditor(),i?n._filterOperationDescriptions.map(e=>e.icon=n.icons[e.value]):n._filterOperationDescriptions.map(e=>delete e.icon)
break
case"customOperations":case"fields":case"value":{const t=JSON.stringify(n._validValue)
"customOperations"===e?n._handleCustomOperations():""===e&&n._mapFieldsToMenu(),n._applyValue(),n._oldValueAsString!==t&&(n._oldValueAsString=t,n.$.fireEvent("change",{value:JSON.parse(t),linq:n._parseQueryToLinq(n._validValue)}))
break}case"valuePlaceholder":Array.from((n.shadowRoot||n).querySelectorAll(".jqx-filter-value[placeholder]")).forEach(e=>e.firstElementChild.innerHTML=i)
break
case"locale":case"messages":n._localizeInitialValues(),n._refresh(),n._handleCustomOperations(),n.$.dateTimePickerEditor&&(n.$.dateTimePickerEditor.messages[n.locale]||(n.$.dateTimePickerEditor.messages[n.locale]={}),n.$.dateTimePickerEditor.messages[n.locale].dateTabLabel=n.localize("dateTabLabel"),n.$.dateTimePickerEditor.messages[n.locale].timeTabLabel=n.localize("timeTabLabel"),"locale"===e?n.$.dateTimePickerEditor.locale=n.locale:"messages"===e&&(n.$.dateTimePickerEditor.$.selectDate.innerHTML=n.$.dateTimePickerEditor.messages[n.locale].dateTabLabel,n.$.dateTimePickerEditor.$.selectTime.innerHTML=n.$.dateTimePickerEditor.messages[n.locale].timeTabLabel))
break
case"icons":n._closeEditor()}}ready(){super.ready()
const e=this
e.$.queryLabel.id||(e.$.queryLabel.id=e.id+"Label"),e.setAttribute("role","dialog"),e.setAttribute("aria-labelledby",e.$.queryLabel.id),-1!==navigator.platform.toLowerCase().lastIndexOf("mac")&&e.$.contentContainer.classList.add("mac"),e._setInitialValues(),e._handleCustomOperations(),e._applyValue(),Object.defineProperty(e,"value",{get:function(){return e.context===e?e.properties.value.value:e._validValue},set(t){e.updateProperty(e,e._properties.value,t)}})}getLinq(){if(this._validValue)return this._parseQueryToLinq(this._validValue)}_setInitialValues(){this._autoScrollCoefficient=JQX.Utilities.Core.Browser.Firefox?4:JQX.Utilities.Core.Browser.Edge?8:2,this._isMobile=JQX.Utilities.Core.isMobile,this._manuallyAddedFields=[],this._localizeInitialValues(),this.$.conditionsMenu.dropDownAppendTo=this.$.container,this.$.conditionsMenu.dataSource=this._groupOperationDescriptions,this._valueFlat=[],this._lastProcessedItemInCurrentGroup={parentId:null,id:null,position:null}}_applyValue(){this._emptyElementsStructure(!0),this._validateValue(),this._convertValueToFlat(this.value),this._getFieldsFromValue(),this._mapFieldsToMenu(),this._validateValueByType(),this._generateHTMLStructureFromFlatValue(!0),this._restrictNesting(),this._validValue=this._getValidValue(),this._oldValueAsString=JSON.stringify(this._validValue)}_validateValueByType(){const e=this
if(!e._valueFlat||!e._valueFlat.length)return
const t=e._valueFlat
for(let i=0;i<t.length;i++){const n=t[i]
if("condition"!==n.type)continue
const r=n.data[0]
!r||n.data.length<3||(n.data[2]=e._validateStoredValue(n.data[2],r))}e._generateValue(!0)}_setRequiredFields(){const e=this
if(!e.requiredFields||!e.requiredFields.length)return
const t=e.value
let i=[]
for(let n=0;n<e.requiredFields.length;n++){const r=e.requiredFields[n],o=e.fields.find(e=>e.dataField===r)
if(o){let e=[]
if(t){let i=0
for(;i<t.length;){const n=t[i]
if(Array.isArray(n)){let t=0
for(;t<n.length;){let i=n[t]
i&&i[0]===o.dataField?(e.push(i),n.splice(t>0?t-1:t,2)):t++}}n.length?i++:t.splice(i,2)}}if(e)for(let t=0;t<e.length;t++)i.push(e[t]),i.push("and")
else i.push([r]),i.push("and")}}"string"==typeof i[i.length-1]&&i.pop(),e.value.unshift(i,"and")}_contentContainerChangeHandler(e){const t=this
e.stopPropagation(),"immediately"===t.applyMode&&t._editorIsOpen&&t._editor&&(t._editor.closest(".filter-builder-item").classList.contains("jqx-filter-value")||t._closeEditor())}_mapFieldsToMenu(){(this.fields||this._valueFields)&&(this._fields=(this.fields||this._valueFields).concat(this._manuallyAddedFields).map(e=>({label:e.label,value:e.dataField,dataType:e.dataType,filterOperations:e.filterOperations,lookup:e.lookup})))}_localizeInitialValues(){this.$.queryLabel.innerHTML=this.localize("queryLabel"),this._addOptions=[{label:this.localize("addCondition"),value:"addCondition"},{label:this.localize("addGroup"),value:"addGroup"}],this._groupOperationDescriptions=[{label:this.localize("and"),value:"and"},{label:this.localize("or"),value:"or"}],this._defaultFilterOperationDescriptions=this._filterOperationDescriptions=[{label:this.localize("="),value:"=",custom:!1},{label:this.localize("<>"),value:"<>",custom:!1},{label:this.localize(">"),value:">",custom:!1},{label:this.localize(">="),value:">=",custom:!1},{label:this.localize("<"),value:"<",custom:!1},{label:this.localize("<="),value:"<=",custom:!1},{label:this.localize("startswith"),value:"startswith",custom:!1},{label:this.localize("endswith"),value:"endswith",custom:!1},{label:this.localize("contains"),value:"contains",custom:!1},{label:this.localize("notcontains"),value:"notcontains",custom:!1},{label:this.localize("isblank"),value:"isblank",custom:!1},{label:this.localize("isnotblank"),value:"isnotblank",custom:!1}]
const e=JQX.Utilities.DateTime.getLocalizedNames(this.locale)
this._localizedDays=e.days,this._localizedMonths=e.months}_handleCustomOperations(){const e=this
e._filterOperationDescriptions=e._defaultFilterOperationDescriptions.slice(0)
for(let t=0;t<e.customOperations.length;t++){let i=e.customOperations[t],n=e._filterOperationDescriptions.findIndex(e=>e.value===i.name),r={label:i.label,value:i.name,custom:!0,index:t,editorTemplate:i.editorTemplate,valueTemplate:i.valueTemplate,handleValue:i.handleValue,hideValue:i.hideValue}
n>-1?e._filterOperationDescriptions[n]=r:e._filterOperationDescriptions.push(r)}}_innerContainerKeydownHandler(e){const t=this
!t._editorIsOpen||"Escape"!==e.key&&"Enter"!==e.key||t._closeEditor()}_documentDownHandler(e){const t=this,i=t.shadowRoot||t.isInShadowDOM?e.originalEvent.composedPath()[0]:e.originalEvent.target
if(i.shadowParent&&i.shadowParent.closest(".jqx-input-drop-down-menu")||i.closest(".jqx-input-drop-down-menu")||t.$.conditionsMenu.contains(i))return
const n=i.closest(".jqx-drop-down")
if(i.getRootNode().host===t||i.closest("jqx-query-builder")===t||n&&t.contains(n.ownerElement))if(t._isMobile){const i=t.$.scrollableContainer.scrollTop,n=t.getBoundingClientRect().top
setTimeout(function(){if(t.$.scrollableContainer.scrollTop===i&&t.getBoundingClientRect().top===n){const i=t.context
t.context=t,t._clickHandler(e.originalEvent),t.context=i}},250)}else t._clickHandler(e.originalEvent)
else t._editorIsOpen&&!t._scrollBarDown&&t._closeEditor(),delete t._scrollBarDown}_emptyElementsStructure(e){const t=this.$.contentContainer
for(;t.firstChild;)t.removeChild(t.firstChild)
this._valueFlat=e?[]:this._valueFlat,this._lastProcessedItemInCurrentGroup={parentId:null,id:null,position:null}}_resizeHandler(){this.$.scrollableContainer.refresh()}_getTotalConditions(){return this.getElementsByClassName("jqx-filter-group-condition").length}_getQueryFromExpression(e){const t=this
let i=[]
const n=function(e){const n=t.customOperations.filter(e=>e.expressionTemplate)
for(let t=0;t<n.length;t++){const r=n[t],o=new RegExp(r.expressionTemplate.replace(/\(/gm,"\\(").replace(/\)/gm,"\\)").replace(/\[/gm,"\\[").replace(/\]/gm,"\\]").replace(/"{\d+}"/gm,'\\W*"([^"]*)[^a-zA-Z0-9-\\s\\)]+').replace(/{\d+}/gm,"([@|$]*\\w+(?!\\s)*)\\s{0}").replace(/ /gm,"\\s"),"gm")
if(o.test(e)){o.lastIndex=0
let t,n,a=o.exec(e)
if(a=a.filter((e,t)=>a.indexOf(e)===t),r.expressionReaderCallback){let e=r.expressionReaderCallback(a[0],a.slice(1))
e&&(t=e.fieldName,n=e.value)}return void 0===t&&(t=a[1]||""),void 0===n&&(n=a[2]||""),i.push({expr:a[0],query:[t,r.name,n]}),a[0]}}}
if(e){for(;e.length;){e&&("("===(e=e.trim())[0]&&")"===e[e.length-1]&&(e=e.trim().replace(/^\(|\)$/gm,"")),e=e.replace(/^&{2}|^\|{2}|&{2}$|\|{2}$/gm,"").trim())
const t=n(e)
if(!t)break
e=e.replace(t,"").trim()}return t._constructValueFromQueries(arguments[0],i)}}_constructValueFromQueries(e,t){let i=[]
t.sort((t,i)=>e.indexOf(t.expr)-e.indexOf(i.expr))
for(let n=0;n<t.length;n++){let r=t[n-1]
if(r){const o=e.substring(e.indexOf(r.expr)+r.expr.length,e.indexOf(t[n].expr)).trim()
i.push("||"===o?"or":"and")}t[n].outher?t[n].query.forEach(e=>i.push(Array.isArray(e)?[e]:e)):i.push(t[n].query)}return i}_parseLinqToValue(){const e=this,t=e.value
let i,n=0,r=[]
for(let e=0;e<t.length;e++)if("("===t[e])n++,void 0===i&&(i=e)
else if(")"===t[e]&&n>0&&0===--n){let n=t.substring(i,e+1).trim()
n.length&&(n.includes("&&")||n.includes("||"))&&r.push({expr:n}),i=void 0}let o,a=[]
if(r.length)for(let i=0;i<r.length;i++){let n
r[i].query=e._getQueryFromExpression(r[i].expr),(n=o?t.substring(t.indexOf(o)+o.length,t.indexOf(r[i].expr)).trim():t.substring(0,t.indexOf(r[i].expr)).trim())&&a.push(n),o=r[i].expr}o?a.push(t.substring(t.indexOf(o)+o.length).trim()):a.push(t.trim())
for(let t=0;t<a.length;t++){const i=a[t].replace(/^&{2}|^\|{2}|&{2}$|\|{2}$/gm,"").trim()
i.length&&r.push({expr:i,query:e._getQueryFromExpression(i),outher:!0})}e.set("value",e._constructValueFromQueries(t,r))}_getExpressionFromQuery(e){const t=e[0],i=e[1]
let n=e[2]
const r=this.customOperations.find(e=>e.name===i)
return r&&r.expressionTemplate?("string"==typeof n&&n.includes('"')&&r.expressionTemplate.includes('"')&&(n=JSON.stringify(n).slice(1,-1)),r.expressionBuilderCallback?r.expressionBuilderCallback(t,i,n):r.expressionTemplate.replace("{0}",t).replace("{1}",n)):""}_parseQueryToLinq(e){const t=this,i={and:"&&",or:"||"}
let n=""
for(let r=0;r<e.length;r++){const o=e[r]
if(Array.isArray(o))if(o.indexOf("and")>-1||o.indexOf("or")>-1||1===o.length&&Array.isArray(o[0])){const e=t._parseQueryToLinq(o)
e?n+=o.length>1?"("+e+")":e:/\s(&|\|){2}\s$/gm.test(n)&&(n=n.replace(/\s(&|\|){2}\s$/gm,""))}else n+=t._getExpressionFromQuery(o)||""
else n&&(n+=" "+i[o]+" ")}return n}_validateValue(){const e=this
"string"==typeof e.value&&e._parseLinqToValue()
const t=e.value
if(Array.isArray(t)&&""!==JSON.stringify(t).replace(/[\[\]]/g,"")){for(3===t.length&&"string"==typeof t[0]&&(e.value=[[t]]),Array.isArray(t[0])&&3===t[0].length&&"string"==typeof t[0][0]&&(e.value=[t]);"string"==typeof t[0];)t.shift()
for(;"string"==typeof t[t.length-1];)t.pop()
e.value.forEach(e=>{Array.isArray(e)&&0===e.length&&e.push([])})}else e.value=[[[]]]}_convertValueToFlat(e){const t=this,i=["and","or","notAnd","notOr"]
if(!e)return
let n=0,r=0
t._valueFlat=[],function e(o,a){let s
for(let l=0;l<o.length;l++){const d=o[l]
let c={htmlNode:null}
if("string"==typeof d&&(i.indexOf(d)>-1||t.customOperators[d]))s=(t.customOperators[d]||d).trim()
else if(s=s||"and",Array.isArray(d)){let i=t._valueFlat.filter(e=>e.parentId+""==a+"").length
if(d.find(e=>Array.isArray(e)))c.nodeId=(r+=1)+"",c.type="group",c.data=s,t._valueFlat.push(c),e(d,c.nodeId),s=""
else{if(t.maxConditions&&n>=t.maxConditions||t.maxConditionsPerGroup&&i>=t.maxConditionsPerGroup)continue
0!==l&&(t._valueFlat.push({nodeId:a+"."+i,type:"operator",data:s,parentId:a+""}),s="",i++),c.nodeId=a+"."+i,c.parentId=a+"",c.type="condition",c.data=d,n++,t._valueFlat.push(c)}}}}(e,0),delete t._totalGroups}_getFieldsFromValue(){const e=this._valueFlat,t=[],i=[]
for(let r=0;r<e.length;r++){const o=e[r]
if("condition"===o.type){const e=o.data[0]
if(e&&-1===t.indexOf(e)){const r={label:e,dataField:e,dataType:(n=o.data[2],"boolean"==typeof n?"boolean":n instanceof Date?n.getHours()>0||n.getMinutes()>0||n.getSeconds()>0?"dateTime":"date":isNaN(n)?"string":"number"),format:null}
t.push(e),i.push(r)}}}var n
this._valueFields=i}_addElement(e,t,i,n){const r=this,o=r._valueFlat.filter(e=>e.parentId===t)
let a=0,s=""
if(i=i||("group"===e?"or":[]),o.length){let e=o.map(e=>{const t=e.nodeId.split(".")
return parseInt(t[t.length-1])})
a=(e=0===e.length?[0]:e).reduce((e,t)=>Math.max(e,t))+1}t&&t.length>0&&(s=".")
let l=(t||"")+s+("group"===e?r._valueFlat.filter(e=>"group"===e.type).length+1:a),d=o[0]
if(o.length)for(let e=0;e<o.length;e++){const t=o[e],i=t.nodeId.split(".").pop()
parseInt(i)>parseInt(d.nodeId.split(".").pop())&&(d=t)}else d=r._valueFlat.find(e=>e.nodeId===t)
let c=d?r._valueFlat.indexOf(d)+1:r._valueFlat.length
"condition"===e&&o.length>0&&(r._valueFlat.splice(c,0,{nodeId:l,parentId:t,type:"operator",data:["and"],htmlNode:null}),l=(t||"")+s+(a+1),c++)
const h={nodeId:l,parentId:t,type:e,data:i,htmlNode:null}
r._valueFlat.splice(c,0,h),"group"===e&&r._addElement("condition",l,[],!0),n||r._refresh()}_deleteElement(e,t){const i=this,n="string"==typeof e?e:e.getAttribute("node-id")
if(n&&1!==n.length&&("group"===t?a(n):o(n),!t||"condition"===t)){let e=n.split(".")
if(e.pop(),e=e.join("."),!i._valueFlat.filter(t=>t.parentId===e).length&&(i._valueFlat.filter(e=>"group"===e.type).length>1&&a(e),"0"===e)){const e=i._valueFlat.find(e=>"group"===e.type),t=e.nodeId
e.nodeId="0",e.htmlNode.setAttribute("node-id","0")
const n=i._valueFlat.filter(e=>e.parentId===t)
for(let e=0;e<n.length;e++){const t=n[e]
t.parentId="0",t.nodeId="0."+e,t.htmlNode.setAttribute("node-id",t.nodeId)}}i._generateValue()}function r(e){const t=i._valueFlat[e]
if(t&&"operator"===t.type)return i._valueFlat.splice(e,1),t.htmlNode.parentElement.removeChild(t.htmlNode),!0}function o(e){let t,n=0,o=e.split(".")
o.pop(),o=o.join(".")
for(let r=0;r<i._valueFlat.length;r++){const a=i._valueFlat[r]
if("condition"===a.type){if(a.nodeId===e){t=a
break}a.parentId===o&&n++}}const a=i._valueFlat.indexOf(t)
i._valueFlat.splice(a,1),t.htmlNode.parentElement.removeChild(t.htmlNode)
const s=r(a-1)
n||r(a-(s?1:0))
const l=i._valueFlat.filter(e=>e.nodeId===o)[0].htmlNode
l.children[1].childElementCount>0&&l.children[2].hasAttribute("limit-selection")&&!l.children[1].lastElementChild.hasAttribute("limit-selection")&&l.children[2].removeAttribute("limit-selection")}function a(e){const t=i._valueFlat.filter(t=>e===t.nodeId&&"group"===t.type)[0]
for(let t=0;t<i._valueFlat.length;t++){const n=i._valueFlat[t],r=n.nodeId
n.parentId===e&&("group"===n.type?a(r):o(r))}i._valueFlat.indexOf(t)>-1&&i._valueFlat.splice(i._valueFlat.indexOf(t),1),t.htmlNode.parentElement.removeChild(t.htmlNode)}}_generateHTMLStructureFromFlatValue(e){const t=this,i=document.createDocumentFragment()
if(t._valueFlat&&0!==t._valueFlat.length){for(let e=0;e<t._valueFlat.length;e++){const n=t._valueFlat[e],r=!!t.customOperations&&t.customOperations.find(e=>e.name===n.data[1]),o=n.parentId?(t.shadowRoot||t).querySelector('[node-id="'+n.parentId+'"]').querySelector(".jqx-filter-group-condition-container"):t.$.contentContainer
if("group"===n.type){const r=document.createElement("div"),o=t.localize(n.data)||""
r.className="jqx-filter-group",r.innerHTML='<div class="jqx-filter-group-operator" role="button" aria-expanded="false" aria-haspopup="menu">'+o+'</div><div class="jqx-filter-group-condition-container" role="group"></div><div class="jqx-filter-add-condition-btn" role="button" aria-label="Add condition"><div>'+t.localize("add")+'</div></div><div class="jqx-filter-add-btn" role="button" aria-expanded="false" aria-haspopup="menu" aria-label="Add group"></div>',r.firstElementChild.data=o,i.appendChild(r),r.setAttribute("node-id",n.nodeId),t._valueFlat[e].htmlNode=r}else if("condition"===n.type){const o=t._newFilterConditionRow(n.data)
if(o.setAttribute("node-id",n.nodeId),i.appendChild(o),t._valueFlat[e].htmlNode=o,void 0!==n.data[0]&&void 0===n.data[1]){const e=t._getFilterOperations(t._fields.find(e=>e.value===n.data[0]))
t._handleOnlyOperation(e,n.data,o)}else(-1!==["isblank","isnotblank"].indexOf(n.data[1])||r&&r.hideValue)&&(n.data.splice(2,1),o.children[2].classList.add("jqx-visibility-hidden"))}else{const r=document.createElement("div")
r.className="jqx-filter-nested-operator",r.setAttribute("node-id",n.nodeId),r.setAttribute("role","button"),r.setAttribute("aria-expanded",!1),r.setAttribute("aria-haspopup","menu"),r.innerHTML=t.localize(n.data),i.appendChild(r),t._valueFlat[e].htmlNode=r}o.appendChild(i)}e&&t._validateValueAdvanced(),t.$.scrollableContainer.refresh()}}_validateValueAdvanced(){const e=this,t=e.value
let i=!1,n=!1,r=0
for(let e=0;e<t.length;e++){const o=t[e]
if("string"!=typeof o)for(let e=o.length-1;e>=0;e--){let t=o[e]
if(Array.isArray(t)&&0===t.length&&e!==o.length-1)o.splice(e,1),0===e&&o.splice(0,1),i=!0
else if("string"==typeof t){t=t.toLowerCase(),(++r>1||"and"!==t&&"or"!==t)&&(n=!0)
continue}r=0}}i&&(e._emptyElementsStructure(!0),e._convertValueToFlat(e.value),e._generateHTMLStructureFromFlatValue()),n&&e._generateValue(!0)}_restrictNesting(){Array.from(this.getElementsByClassName("jqx-filter-add-condition-btn")).forEach(e=>{const t=e.previousElementSibling.lastElementChild
t&&t.hasAttribute("limit-selection")&&e.setAttribute("limit-selection","")})}_clickHandler(e){const t=this,i=t.shadowRoot||t.isInShadowDOM?e.composedPath()[0]:e.target
if(t.disabled||!i||!i.closest||!t._isMobile&&0!==e.button)return
if(t._scrollBarDown)return void delete t._scrollBarDown
const n=i.closest(".jqx-drop-down"),r=t._editor&&t._editor.contains(i)||n&&(t._editor.contains(n.ownerElement)||t._editor===n.ownerElement)||i.closest(".jqx-custom-editor")
t._editor&&t._editorIsOpen&&!r&&t._closeEditor()
const o=i.closest(".jqx-filter-group-condition")||i.closest(".jqx-filter-nested-operator")||i.closest(".jqx-filter-group")
if(!o)return
const a=t._getItemById(o.getAttribute("node-id"))
if(!a)return
if(t.$.fireEvent("itemClick",{id:a.nodeId,type:a.type,data:a.data}),i.closest(".jqx-filter-delete-btn"))return void t._clickHandlerDeleteButton(a.htmlNode)
const s=i.closest(".jqx-filter-add-btn")||i.closest(".jqx-filter-add-condition-btn")
if(s){const e=s.closest(".jqx-filter-group").getAttribute("node-id")
return void(s.classList.contains("jqx-filter-add-condition-btn")&&(t.maxConditions&&t._getTotalConditions()<t.maxConditions||!t.maxConditions)?t._addElement("condition",e,[]):t._clickHandlerFilterButton(s.classList,a.nodeId,i))}const l=i.closest(".filter-builder-item")||i.closest(".jqx-filter-group-operator")||i.closest(".jqx-filter-nested-operator")
if(l){const e=l.classList
t._clickHandlerFilterButton(e,a.nodeId,i)}}_downHandler(e){const t=this
if(!e.originalEvent||!t._isMobile&&0!==e.button)return
const i=t.shadowRoot||t.isInShadowDOM?e.originalEvent.composedPath()[0]:e.originalEvent.target,n=t.rightToLeft?e.pageX>i.getBoundingClientRect().right:e.pageX<i.getBoundingClientRect().left
if(t.allowDrag&&i.classList.contains("jqx-filter-group-condition")&&n){const n=t._valueFlat.filter(e=>"condition"===e.type)
if(1===n.length||2===n.length&&n[0].parentId===n[1].parentId&&n[1].htmlNode.hasAttribute("limit-selection"))return
return t._dragDetails={coords:{x:e.pageX,y:e.pageY},item:i,originalEvent:e},t.$.scrollableContainer._scrollView.disableSwipeScroll=!0,t._hoveredCondition=i,void window.getSelection().removeAllRanges()}this._scrollBarDown=i.closest("jqx-scroll-bar"),e.stopPropagation(),e.preventDefault()}_scrollableContainerTouchmoveHandler(e){this._dragDetails&&e.cancelable&&(e.preventDefault(),e.stopPropagation())}_documentMoveHandler(e){const t=this,i=t._dragDetails
if(!i)return
const n=i.item
if(!i.feedbackShown){if(!(Math.abs(i.coords.x-e.pageX)>5||Math.abs(i.coords.y-e.pageY)>5))return
{const r=t._valueFlat.filter(e=>e.htmlNode===n)[0]
if(t.$.fireEvent("dragStart",{data:r.data,item:n,originalEvent:e}).defaultPrevented)return delete t._dragDetails,delete t._hoveredCondition,void(t.$.scrollableContainer._scrollView.disableSwipeScroll=!1)
i.allConditions=Array.from((t.shadowRoot||t).querySelectorAll(".jqx-filter-group-condition")),i.data=r,i.feedback=t._addDragFeedback(),i.feedbackShown=!0,n.classList.add("dragged")}}const r=e.clientY
let o,a=t.shadowRoot||t.isInShadowDOM?e.originalEvent.composedPath()[0]:e.originalEvent.target
if(t.$.fireEvent("dragging",{data:i.data,item:n,originalEvent:e}),t.setAttribute("dragging",""),i.feedback.style.left=e.pageX+10+"px",i.feedback.style.top=e.pageY+10+"px",t._isMobile){const i=t._hoveredCondition
i&&(i.classList.remove("drop-target","top","bottom"),delete t._hoveredCondition)
const n=document.elementFromPoint(e.clientX,r)
n&&(a=n)}let s,l=a.closest(".jqx-filter-group-condition")
if(l){const e=(o=l).getBoundingClientRect(),t=Math.abs(r-e.top),i=Math.abs(r-e.bottom)
s=t<i?"top":"bottom"}else{let e,t
i.allConditions.forEach(i=>{const n=i.getBoundingClientRect(),o=Math.abs(r-n.top),a=Math.abs(r-n.bottom),l=Math.min(o,a);(void 0===t||l<t)&&(e=i,t=l,s=o<a?"top":"bottom")}),l=e}if(l===n||l.hasAttribute("limit-selection")&&"bottom"===s)l=void 0
else{const e=Array.from(l.parentElement.getElementsByClassName("jqx-filter-group-condition")),t=e.indexOf(n);-1!==t&&("top"===s&&l===e[t+1]||"bottom"===s&&l===e[t-1])&&(l=void 0)}if(o=l,i.side=s,clearInterval(t._dragInterval),t._dragInterval=setInterval(function(){const i=t.getBoundingClientRect()
t.$.scrollableContainer.scrollHeight>0&&i.left<=e.clientX&&i.left+i.width>=e.clientX?r>=i.top&&r<=i.top+36?t.$.scrollableContainer.scrollTop-=t._autoScrollCoefficient:r>=i.top+i.height-36&&r<=i.top+i.height?t.$.scrollableContainer.scrollTop+=t._autoScrollCoefficient:clearInterval(t._dragInterval):clearInterval(t._dragInterval)},1),o){t._hoveredCondition&&o!==t._hoveredCondition&&t._hoveredCondition.classList.remove("drop-target","top","bottom")
const e=o.closest(".jqx-filter-group")
if(e&&e.hasAttribute("restricted"))return void(t._hoveredCondition=void 0)
t._hoveredCondition=o,o.classList.remove("top","bottom"),o.classList.add(s,"drop-target")}else t._hoveredCondition&&(t._hoveredCondition.classList.remove("drop-target","top","bottom"),delete t._hoveredCondition)}_addDragFeedback(){const e=document.createElement("div")
return this.rightToLeft?e.setAttribute("right-to-left",""):e.removeAttribute("right-to-left"),e.className="jqx-query-builder-drag-feedback",document.body.appendChild(e),e}_documentUpHandler(e){const t=this,i=t._dragDetails
if(!i)return void(t.$.conditionsMenu.opened&&t._selectedElement&&!t._selectedElement.classList.contains("jqx-filter-add-btn")&&t.$.conditionsMenu._hoverViaKeyboard(t.$.conditionsMenu.querySelector('jqx-menu-item[value="'+t._editedItem.data+'"]')))
const n=i.item,r=i.data,o=t._hoveredCondition
if(delete t._dragDetails,delete t._hoveredCondition,t.$.scrollableContainer._scrollView.disableSwipeScroll=!1,!t.hasAttribute("dragging"))return
if(clearInterval(t._dragInterval),window.getSelection().removeAllRanges(),t.removeAttribute("dragging"),n.classList.remove("dragged"),document.body.removeChild(i.feedback),!o)return void t.$.fireEvent("dragEnd",{data:r.data,item:n,originalEvent:e,target:null,targetData:null,targetSide:null})
const a=t._valueFlat.filter(e=>e.htmlNode===o)[0],s=t.$.fireEvent("dragEnd",{data:r.data,item:n,originalEvent:e,target:o,targetData:a.data,targetSide:i.side})
if(o.classList.remove("drop-target","top","bottom"),s.defaultPrevented)return
const l=t.value,d=r.nodeId.split(".").map(e=>parseFloat(e)),c=l[2*(d[0]-1)],h=a.nodeId.split(".").map(e=>parseFloat(e)),u=l[2*(h[0]-1)]
let p="and"
c.length>1&&(0===d[1]?(p=c[1],c[1]="!remove!"):(p=c[d[1]-1],c[d[1]-1]="!remove!")),c[d[1]]="!remove!","top"===i.side?u.splice(h[1],0,r.data,p):u.splice(h[1]+1,0,p,r.data)
for(let e=0;e<l.length;e++)Array.isArray(l[e])&&(l[e]=l[e].filter(e=>"!remove!"!==e))
for(let e=l.length-1;e>=0;e--)Array.isArray(l[e])&&0===l[e].length&&(0===e?l.splice(0,2):(l.splice(e-1,2),e--))
t._emptyElementsStructure(!0),t._convertValueToFlat(l),t._generateHTMLStructureFromFlatValue(),t._validValue=t._getValidValue()
const m=JSON.stringify(t._validValue)
t._oldValueAsString!==m&&(t._oldValueAsString=m,t.$.fireEvent("change",{value:JSON.parse(m),linq:t._parseQueryToLinq(t._validValue)}))}_clickHandlerDeleteButton(e,t){const i=this
if(e&&e.classList)if(i._closeEditor(),1!==i.getElementsByClassName("jqx-filter-group-condition").length){if(e.classList.contains("jqx-filter-group")){if(t&&i._valueFlat.filter(t=>t.parentId===e.getAttribute("node-id")).length>0)return
i._deleteElement(e,"group")}else i._deleteElement(e)
i._generateValue(),i.$.scrollableContainer.refresh(),Array.from(i.$.contentContainer.children).forEach((e,t)=>{const n=(t+1).toString()
e.setAttribute("node-id",n),i._valueFlat.filter(t=>t.htmlNode===e)[0].nodeId=n,Array.from(e.children[1].children).forEach((e,t)=>{const r=i._valueFlat.filter(t=>t.htmlNode===e)[0],o=n+"."+t
e.setAttribute("node-id",o),r.parentId=n,r.nodeId=o})})}else{const e=i._valueFlat[1].htmlNode.children
i.value=[[[]]],i._validValue=i._getValidValue(),i._valueFlat[1].data=[],i._valueFlat[1].htmlNode.setAttribute("limit-selection",""),e[0].setAttribute("placeholder",""),e[1].setAttribute("placeholder",""),e[2].setAttribute("placeholder",""),e[0].firstElementChild.innerHTML=i.propertyPlaceholder,e[1].firstElementChild.innerHTML=i.operatorPlaceholder,e[2].firstElementChild.innerHTML=i.valuePlaceholder
const t=JSON.stringify(i._validValue)
i._oldValueAsString!==t&&(i._oldValueAsString=t,i.$.fireEvent("change",{value:JSON.parse(t),linq:i._parseQueryToLinq(i._validValue)}))}}_menuCloseHandler(){const e=this.$.conditionsMenu.controlledBy
e.setAttribute("aria-expanded",!1),e.removeAttribute("aria-controls"),delete this.$.conditionsMenu.controlledBy}_menuClosingHandler(e){const t=e.detail
"interaction"===t.trigger&&this._selectedElement===t.target&&e.preventDefault()}_menuItemClickHandler(e){const t=this,i=t._selectedElement.closest(".jqx-filter-group-operator, .jqx-filter-nested-operator"),n=e.detail,r=n.value
let o
if(i){i.innerHTML=t.localize(r)||n.label,i.value=r,o=i.classList.contains("jqx-filter-nested-operator")?i.getAttribute("node-id"):i.parentElement.getAttribute("node-id")
for(let e=0;e<t._valueFlat.length;e++)if(t._valueFlat[e].nodeId===o){t._valueFlat[e].data=i.value
break}t._generateValue()}else o=t._selectedElement.parentElement.getAttribute("node-id"),t._addElement("group",null,r)
t.$.scrollableContainer.refresh()}_newFilterConditionRow(e=[]){const t=this,i=e[0]
let n,r=t._fields.find(e=>e.value===i),o=r?r.label:void 0
if(void 0===i||!o&&"static"===t.fieldsMode)e.length=0
else{o||(o=(r=t._getDynamicFieldInfo(i)).label,e[0]=r.dataField),(n=t._getFilterOperations(r).find(t=>t.value===e[1]))?n=n.label:e.splice(1,2)}const a=t._formatValueStringRepresentation(e[2],e[0],e[1])
let s=document.createElement("div"),l="condition"+Math.floor(65536*(1+Math.random())).toString(16).substring(1),d='<div class="filter-builder-item jqx-filter-field-name" id="'+l+'Field" '+(o?'><div class="jqx-value-container" role="presentation">'+o:'placeholder><div class="jqx-value-container" role="presentation">'+t.propertyPlaceholder)+'</div></div><div class="filter-builder-item jqx-filter-operation" id="'+l+'Operation" '+(n?'><div class="jqx-value-container" role="presentation">'+n:'placeholder><div class="jqx-value-container" role="presentation">'+t.operatorPlaceholder)+'</div></div><div class="filter-builder-item jqx-filter-value" id="'+l+'Value" '+(void 0!==e[2]?'><div class="jqx-value-container" role="presentation">'+a:'placeholder><div class="jqx-value-container" role="presentation">'+t.valuePlaceholder)+'</div></div><div class="jqx-filter-delete-btn" role="button" aria-label="Close"></div>'
return s.className="jqx-filter-group-condition",s.setAttribute("role","group"),s.innerHTML=d,t._setAriaLabel(s),e.length||s.setAttribute("limit-selection",""),s}_setAriaLabel(e){const t=[]
for(let i=0;i<e.children.length-1;i++){const n=e.children[i]
n.classList.contains("jqx-visibility-hidden")||n.hasAttribute("placeholder")||t.push(e.children[i].innerText)}0!==t.length?e.setAttribute("aria-label",t.join(" ")):e.setAttribute("aria-label","Empty condition row")}_formatValueStringRepresentation(e,t,i){const n=this,r=n._getFieldByFieldName(t)
let o
if(!r)return e
if(null==e)return n.valuePlaceholder
if(void 0!==i&&n.customOperations&&n.customOperations.length>0&&(i=n.customOperations.find(e=>e.name===i))&&i.valueTemplate)return"<span>"+i.valueTemplate(n._editor,e)+"</span>"
switch(r.dataType.toLowerCase()){case"date":case"datetime":(e=e instanceof Date||"string"==typeof e||"number"==typeof e&&!isNaN(e)?new JQX.Utilities.DateTime(e):e).calendar.days=n._localizedDays,e.calendar.months=n._localizedMonths,e.calendar.locale=n.locale,o=e.toString("date"===r.dataType?n.formatStringDate:n.formatStringDateTime)
break
case"array":o="string"==typeof e?e.split(","):e
break
case"object":o="string"==typeof e?e:JSON.stringify(e)
break
case"number":o=e
break
case"boolean":o=!!e
break
default:o=e+""}return n.valueFormatFunction?"<span>"+n.valueFormatFunction(o,t,r.dataType||"string")+"</span>":"<span>"+o+"</span>"}_getFieldByFieldName(e){return Object.assign({},this._fields.find(t=>t.value===e))}_refresh(){this._generateValue(),this._emptyElementsStructure(),this._generateHTMLStructureFromFlatValue(),this._restrictNesting()}_generateValue(e){const t=this
let i=[],n=t._valueFlat.slice(0),r=[]
for(let e=0;e<n.length;e++){const t=n[e]
let r={}
"group"===t.type&&(r.nodeId=t.nodeId,r.parentId=t.parentId,r.data=t.data,r.structure=[],i.push(r))}for(let e=0;e<i.length;e++){const t=i[e]
for(let e=0;e<n.length;e++){const i=n[e]
if(i.parentId===t.nodeId&&"condition"===i.type){const r=n[e-1]
r&&r.parentId===t.nodeId&&"operator"===r.type&&t.structure.push(r.data.toString()),t.structure.push(i.data)}}}(i=i.filter(e=>e.structure.length>0)).sort(function(e,t){return t.nodeId.split(".").length-e.nodeId.split(".").length})
for(let e=0;e<i.length;e++){const t=i[e],n=i.filter(e=>e.nodeId===t.parentId)[0]
n&&n.structure?n.structure.push(t.structure):"0"!==t.nodeId?t.data&&(e>0&&r.push(t.data),r.push(t.structure)):r=r.concat(t.structure)}if(t.value=r,t._validateValue(),t._validValue=t._getValidValue(),!e){const e=JSON.stringify(t._validValue)
t._oldValueAsString!==e&&(t._oldValueAsString=e,t.$.fireEvent("change",{value:JSON.parse(e),linq:t._parseQueryToLinq(t._validValue)}))}}_getItemById(e,t){const i=this._valueFlat.filter(i=>t?i.parentId===e:i.nodeId===e)
return i.length>0?i[0]:null}_validateStoredValue(e,t){const i=this
if(!t&&!i._editedItem)return e
if(!t&&!(t=i._editedItem.data[0]))return e
const n=i._getFieldByFieldName(t).dataType
if(void 0===n)return e+""
switch(n.toLowerCase()){case"date":case"datetime":e=new JQX.Utilities.DateTime(e).toDate()
break
case"number":"number"!=typeof e&&(e=parseFloat(e))
break
case"boolean":"boolean"!=typeof e&&(e=!!e)
break
case"object":"object"!=typeof e&&(e={})
break
case"array":Array.isArray(e)||(e=[e])
break
default:"string"!=typeof e&&(e+="")}return e}_closeEditor(e){const t=this
let i
if(!t._editedItem||!t._editorIsOpen)return
const n=t._editedItem,r=t._editor.closest(".filter-builder-item"),o=r.querySelector(".jqx-value-container"),a=r.parentElement,s=a.children[2]
if(t._editor===t.$.dateTimePickerEditor)t._editor._inputChangeHandler(),(i=t._editor.value)&&(i=i.toDate())
else if(t._editor===t.$.checkBoxEditor)i=t._editor.checked
else if(t._editor===t.$.customEditor){if(t._editor){Array.from(t._editor.getElementsByTagName("jqx-numeric-text-box")).forEach(e=>e._inputBlurHandler())}i=t._validateStoredValue(t._selectedCustomCondition.handleValue(t._editor))}else if(t._editor===t.$.numericTextBoxEditor)t._editor._inputBlurHandler(),i=t._editor.value
else if(r.classList.contains("jqx-filter-value")){const e=t._getFieldByFieldName(t._editedItem.data[0])
i="array"===e.dataType?t._editor.value.split(","):"object"===e.dataType?JSON.parse(t._editor.value):t._editor.value}else i=t._editor.value
if(r.classList.contains("jqx-filter-field-name")){if(""===i.trim())return void t._hideEditor(r,void 0===n.data[0])
a.hasAttribute("limit-selection")&&(a.removeAttribute("limit-selection"),a.parentElement.nextElementSibling.removeAttribute("limit-selection"))
const e=t._fields.find(e=>e.label===i),l=n.data[0]
if(e)n.data[0]=e.value
else{if("dynamic"!==t.fieldsMode)return o.innerHTML=t._fields.find(e=>e.value===l).label,void t._hideEditor(r)
{const e=t._getDynamicFieldInfo(i)
i=e.label,n.data[0]=e.dataField}}o.innerHTML=i,t._handleFieldChange([l,n.data[0]],[s,n,a])}else r.classList.contains("jqx-filter-operation")?t._handleOperationChange([n,i,t._editor.$.input.dataValue],[o,s]):(n.data[2]=i,o.innerHTML=t._formatValueStringRepresentation(i,t._editedItem.data[0],t._editedItem.data[1]))
t._generateValue(e),t._hideEditor(r)}_getDynamicFieldInfo(e){const t=this,i={label:e,dataField:e,dataType:"string"}
if(t.getDynamicField){const n=t.getDynamicField(e)
n.label&&(i.label=n.label),n.dataField&&(i.dataField=n.dataField),n.dataType&&(i.dataType=n.dataType),n.filterOperations&&Array.isArray(n.filterOperations)&&n.filterOperations.length>0&&(i.filterOperations=n.filterOperations),n.lookup&&(i.lookup=n.lookup)}return t._manuallyAddedFields.push(i),t._mapFieldsToMenu(),i}_handleFieldChange(e,t){const i=this,n=e[0],r=t[1],o=t[2],a=t[0],s=i._fields.find(t=>t.value===e[1]),l=i._getFilterOperations(s),d=function(){s.value!==n&&i.$.fireEvent("propertySelected",{label:s.label,value:s.value})}
if(!n||void 0===r.data[1])return i._handleOnlyOperation(l,r.data,o),void d()
const c=i._fields.find(e=>e.value===n),h=c.dataType,u=s.dataType
if(s!==c&&(u!==h||s.filterOperations||c.filterOperations)){if(!!l.find(e=>e.value===r.data[1])){if(u===h)return
return"date"===u&&"dateTime"===h||"dateTime"===u&&"date"===h?(a.firstElementChild.innerHTML=i._formatValueStringRepresentation(r.data[2],r.data[0],r.data[1]),void d()):(r.data.splice(2,1),a.setAttribute("placeholder",""),a.firstElementChild.innerHTML=i.valuePlaceholder,void d())}r.data.splice(1,2),o.children[1].setAttribute("placeholder",""),o.children[1].firstElementChild.innerHTML=i.operatorPlaceholder,a.setAttribute("placeholder",""),a.firstElementChild.innerHTML=i.valuePlaceholder,a.classList.remove("jqx-visibility-hidden"),i._handleOnlyOperation(l,r.data,o),d()}}_handleOnlyOperation(e,t,i){if(1===e.length){const n=e[0]
t[1]=n.value,i.children[1].removeAttribute("placeholder",""),i.children[1].firstElementChild.innerHTML=e[0].label,("isblank"===n.value||"isnotblank"===n.value||n.custom&&n.hideValue)&&(t.splice(2,1),i.children[2].classList.add("jqx-visibility-hidden"))}}_handleOperationChange(e,t){const i=this,n=e[0],r=e[1],o=e[2],a=t[0],s=t[1],l=void 0!==n.data[1]?i._filterOperationDescriptions.find(e=>e.value===n.data[1]):void 0,d=i._filterOperationDescriptions.find(e=>e.value===o),c=d.value
if(d===l)return
const h=n.data[0],u=n.data[1],p=n.data[2]
if(n.data[1]=c,a.innerHTML=r,"isblank"===c||"isnotblank"===c||d.custom&&d.hideValue)n.data.splice(2,1),s.classList.add("jqx-visibility-hidden")
else if(s.classList.contains("jqx-visibility-hidden"))s.setAttribute("placeholder",""),s.classList.remove("jqx-visibility-hidden"),s.firstElementChild.innerHTML=i.valuePlaceholder
else if(d.custom){const e=i._getFieldByFieldName(h)
if(d.editorTemplate){const t=d.editorTemplate(e.dataType,u,e)
t&&(i.$.customEditor.innerHTML="",i.$.customEditor.appendChild(t))}s.firstElementChild.innerHTML=d.valueTemplate?d.valueTemplate(i.$.customEditor,p):p}else void 0===p?(n.data.splice(2,1),s.setAttribute("placeholder",""),s.firstElementChild.innerHTML=i.valuePlaceholder):d.custom||(s.firstElementChild.innerHTML=p)}_hideEditor(e,t){const i=this
t&&e.setAttribute("placeholder",""),e.removeAttribute("edited"),i.$.editorsContainer.removeAttribute("open"),i._editor.close&&i._editor.close(),i._editor.classList.add("jqx-hidden"),i._editorIsOpen=i._enterIsPressedInEditor=!1,i.$.scrollableContainer.refresh(),i._setAriaLabel(e.parentElement)}_clickHandlerFilterButton(e,t,i){const n=this
function r(e,t,i){n._contextMenuOptions=0===t.length?n._defaultFilterOperationDescriptions:t,n._handleContextMenu(e),n.$.conditionsMenu.opened&&(n.$.conditionsMenu._discardKeyboardHover(),n.$.conditionsMenu._hoverViaKeyboard(n.$.conditionsMenu.querySelector('jqx-menu-item[value="'+i+'"]')))}if(!i.closest(".jqx-editors-container"))if(n._closeEditor(),n._editedItem=n._getItemById(t),e.contains("jqx-filter-add-btn"))r(i,n._groupOperationDescriptions)
else if(e.contains("jqx-filter-field-name")||n._editedItem.data&&n._editedItem.data.length)if(e.contains("jqx-filter-group-operator")||e.contains("jqx-filter-nested-operator"))r(i,n._groupOperationDescriptions,n._editedItem.data)
else{i.closest(".filter-builder-item").removeAttribute("placeholder"),n._openEditor(i)}}_handleContextMenu(e){const t=this
if(t._selectedElement===e&&t.$.conditionsMenu.opened)return void t.$.conditionsMenu.close()
if(t._closeEditor(),t.disableContextMenu)return void(t._selectedElement=e)
const i=e.getBoundingClientRect(),n=t.getBoundingClientRect(),r=i.left+t.$.contentContainer.scrollLeft-n.left,o=i.top+t.$.contentContainer.scrollTop-n.top+i.height
e.hasAttribute("aria-haspopup")&&(t.$.conditionsMenu.controlledBy&&(t.$.conditionsMenu.controlledBy.setAttribute("aria-expanded",!1),t.$.conditionsMenu.controlledBy.removeAttribute("aria-controls")),e.setAttribute("aria-controls",t.$.conditionsMenu.id),e.setAttribute("aria-expanded",!0),t.$.conditionsMenu.controlledBy=e),t.$.conditionsMenu.dataSource=t._contextMenuOptions,t.$.conditionsMenu.open(r,o+3),t._selectedElement=e,t.$.scrollableContainer.refresh()}_openEditor(e){const t=this,i=e&&e.closest(".jqx-filter-group-condition")?e.closest(".jqx-filter-group-condition").getAttribute("node-id"):null,n=e.closest(".filter-builder-item"),r=t._getItemById(i)
let o=""
void 0!==r.data[0]?o=r.data[0]:t._fields.length&&(o=t._fields[0].value)
let a,s,l=t._getFieldByFieldName(o),d=""
if(n.classList.contains("jqx-filter-field-name"))s=0,t._fields||t._mapFieldsToMenu(),l.lookup={dataSource:t._fields.slice(),readonly:!1},d=l.label||"",a=l.value
else if(n.classList.contains("jqx-filter-operation")){s=1
let e=t._getFilterOperations(l)
l.lookup={dataSource:e,readonly:!0}
let i=e.find(e=>e.value===r.data[s])||e[0]
d=i.label,a=i.value}else s=2,void 0===(d=r.data[s])&&(d="")
t._editorIsOpen&&t._closeEditor(),n.setAttribute("edited",""),t._editedItem=r
const c=t._fields.filter(e=>e.value===o),h=t._filterOperationDescriptions.filter(e=>e.value===r.data[1]&&e.custom),u=c.length>0?c[0]:null,p=l.lookup&&l.lookup.dataSource?"lookup":u.dataType
2===s&&0!==h.length&&h[0].editorTemplate?(t._selectedCustomCondition=h[0],t._openCustomEditor(p,d,l)):t._openEditorByFieldType(p,d,l,a),t._editor.classList.remove("jqx-hidden"),t._editorIsOpen=!0,t.$.editorsContainer.setAttribute("open",""),n.appendChild(t.$.editorsContainer),t.$.scrollableContainer.refresh(),t._editor.classList.contains("jqx-custom-editor")||requestAnimationFrame(()=>t._editor.focus()),l.lookup&&l.lookup.readonly&&t._editor.open()}_getFilterOperations(e){const t=this
let i=t._filterOperationDescriptions.slice()
if(e.filterOperations)i=t._filterOperationDescriptions.filter(t=>e.filterOperations.indexOf(t.value)>-1)
else{let n
switch(e.dataType){case"date":case"dateTime":case"number":n=["=","<>","<",">","<=",">=","isblank","isnotblank"]
break
case"boolean":n=["=","<>","isblank","isnotblank"]
break
case"object":n=["isblank","isnotblank"]
break
case"string":n=["contains","notcontains","startswith","endswith","=","<>","isblank","isnotblank"]
break
default:n=["contains","notcontains","startswith","endswith","=","<>","<",">","<=",">=","isblank","isnotblank"]}i=t._filterOperationDescriptions.filter(e=>n.indexOf(e.value)>-1)}return t.showIcons&&i.map(e=>e.icon=t.icons[e.value]),i}_openCustomEditor(e,t,i){const n=this,r=n.customOperations[n._selectedCustomCondition.index].editorTemplate(e,t,i)
n.$.customEditor.innerHTML="",r&&n.$.customEditor.appendChild(r),n._editor=n.$.customEditor}_openEditorByFieldType(e,t,i,n){const r=this
if(e)switch(e.toLowerCase()){case"boolean":return r._initializeEditor("checkBox"),void(r._editor.checked=!!t)
case"date":case"datetime":return r._initializeEditor("dateTimePicker"),r._editor.formatString="date"===e?r.formatStringDate:r.formatStringDateTime,void(r._editor.value=t)
case"number":return r._initializeEditor("numericTextBox"),void(r._editor.value=t||0)}if(r._initializeEditor("input"),r._editor.dropDownWidth=r.dropDownWidth,"lookup"===e){const e=i.lookup.minLength
r._editor.autoCompleteDelay=i.lookup.autoCompleteDelay||100,r._editor.dataSource=i.lookup.dataSource,r._editor.dropDownAppendTo=r.$.container,r._editor.dropDownButtonPosition=r.rightToLeft?"left":"right",r._editor.minLength=isNaN(e)||null===e?1:e,r._editor.readonly=!!i.lookup.readonly}else r._editor.dataSource=[],r._editor.dropDownButtonPosition="none",r._editor.readonly=!1
"object"===e?r._editor.value=JSON.stringify(t||{}):(""===t&&r._editor.readonly&&(t=i.lookup.dataSource[0].label||""),r._editor.value=t+"",n&&(r._editor.$.input.dataValue=n))}_initializeEditor(e){const t=this
if(t.$[e+"Editor"])return void(t._editor=t.$[e+"Editor"])
const i=document.createElement("jqx-"+JQX.Utilities.Core.toDash(e))
"numericTextBox"===e?(i.spinButtons=!0,i.inputFormat="floatingPoint"):"dateTimePicker"===e&&(i.dropDownAppendTo=t.$.container,i.calendarButton=!0,i.dropDownDisplayMode="auto",i.enableMouseWheelAction=!0,i.locale=t.locale,i.messages[t.locale]||(i.messages[t.locale]={}),i.messages[t.locale].dateTabLabel=t.localize("dateTabLabel"),i.messages[t.locale].timeTabLabel=t.localize("timeTabLabel")),i.rightToLeft=t.rightToLeft,i.theme=t.theme,i.animation=t.animation,i.$.addClass("jqx-hidden underlined"),t.$.editorsContainer.appendChild(i),t._editor=t.$[e+"Editor"]=i}_getValidValue(){const e=this,t=e.properties.value.value,i=[]
let n=!1
return t.forEach(t=>{if(Array.isArray(t)){let r=!1,o=!1
const a=[]
t.forEach(t=>{if(Array.isArray(t)){const i=t[0],n=t[1],s=t[2]
if(void 0===i||void 0===n)return void(o=!0)
if(void 0!==s||"isblank"===n||"isnotblank"===n)return r=!0,void a.push(t)
const l=e._filterOperationDescriptions.find(e=>e.value===n)
l.custom&&l.hideValue?(r=!0,a.push(t)):o=!0}else o?o=!1:a.push(t)}),r?("string"==typeof a[a.length-1]&&a.pop(),i.push(a)):n=!0}else n?n=!1:i.push(t)}),"string"==typeof i[i.length-1]&&i.pop(),i}})
var Ie=Object.freeze({})
JQX("jqx-grid-panel",class extends JQX.BaseElement{static get properties(){return{closeButtonPosition:{value:"left",allowedValues:["left","right"],type:"string"},dataSource:{value:[],type:"array",reflectToAttribute:!1},messages:{value:{en:{apply:"Apply",booleanFirst:"☐",booleanLast:"☑",cancel:"Cancel",dateFirst:"1",dateLast:"9",from:"from",numberFirst:"1",numberLast:"9",stringFirst:"A",stringLast:"Z",thenBy:"then by"}},type:"object",extend:!0}}}static get listeners(){return{change:"_changeHandler",click:"_clickHandler",keydown:"_keydownHandler","sortable.dragEnd":"_sortableDragEndHandler"}}static get requires(){return{"JQX.Input":"jqxinput.js","JQX.Sortable":"jqxsortable.js"}}static get styleUrls(){return["jqx.gridpanel.css"]}template(){return'<div id="container" role="presentation">\n                    <jqx-sortable id="sortable" animation="[[animation]]" disabled="[[readonly]]" right-to-left="[[rightToLeft]]"\n                            drag-mode="handle" handle-position="right" handle-visibility="visible" theme="[[theme]]">\n                    </jqx-sortable>\n                    <div id="footer" class="jqx-grid-panel-container-footer" role="presentation">\n                        <jqx-input id="inputNotSorted" right-to-left="[[rightToLeft]]" animation="[[animation]]" readonly theme="[[theme]]"></jqx-input>\n                        <div id="buttonsContainer" class="jqx-grid-panel-buttons-container jqx-unselectable" role="presentation">\n                            <span class="jqx-grid-panel-cancel-button" role="button"></span>\n                            <span class="jqx-grid-panel-apply-button" role="button"></span>\n                        </div>\n                    </div>\n                </div>'}ready(){super.ready()}render(){const e=this
e.setAttribute("role","dialog"),"right"===e.closeButtonPosition&&(e.$.sortable.handlePosition="left"),e._localize(),e._createSources(),super.render()}propertyChangedHandler(e,t,i){super.propertyChangedHandler(e,t,i)
const n=this
switch(e){case"animation":case"theme":Array.from(n.$.sortable.getElementsByTagName("jqx-input")).forEach(t=>t[e]=i)
break
case"disabled":case"unfocusable":n._setFocusable()
break
case"closeButtonPosition":"right"===n.closeButtonPosition?n.$.sortable.handlePosition="left":n.$.sortable.handlePosition="right"
break
case"dataSource":n.$.sortable.$.container.innerHTML="",n._createSources()
break
case"locale":case"messages":{const e=n.$.sortable._items
n._localize(),e.length&&(e[0].children[1].innerHTML=n.localize("firstBy"),e.forEach(function(e,t){0!==t&&(e.children[1].innerHTML=n.localize("thenBy"))
const i=n._HTMLToSourceMap.get(e),r=n._ascDescTemplates[i.dataType]||n._ascDescTemplates.string
e.children[3].innerHTML=n.localize("from"),e.children[4].firstElementChild.innerHTML=r[0],e.children[4].children[1].innerHTML=r[1]}))
break}case"maxLevel":if(null!=i)for(;n.$.sortable._items.length>0&&n.$.sortable._items.length>i;)n._interactionHandler(n.$.sortable._items[n.$.sortable._items.length-1].firstElementChild)
n._disableItemAddition()
break
case"rightToLeft":n.$.inputNotSorted.rightToLeft=i,n.$.inputNotSorted.dropDownButtonPosition=i?"left":"right",n.$.sortable._items.forEach(e=>{const t=e.querySelector("jqx-input")
t.rightToLeft=i,t.dropDownButtonPosition=i?"left":"right"})}}_changeHandler(e){const t=this,i=t.shadowRoot||t.isInShadowDOM?e.composedPath()[0]:e.target
if(t.$.inputNotSorted.contains(i)){const e=t.$.inputNotSorted.value,i=t._labelToSourceMap.get(e)
return t._createSortItem(i,t.$.sortable._items.length),t.$.sortable.updateItems(),t._visibleLabels.push(e),t._updateHiddenSource(),t._disableItemAddition(),void(t.$.inputNotSorted.value="")}const n=i.closest("jqx-input")
if(!n)return
const r=n.parentElement.parentElement,o=r.children[4].firstElementChild,a=r.children[4].children[1],s=n.value,l=t._HTMLToSourceMap.get(r).label,d=t._labelToSourceMap.get(s),c=t._ascDescTemplates[d.dataType]||t._ascDescTemplates.string
t._HTMLToSourceMap.set(r,d),t._visibleLabels.splice(t._visibleLabels.indexOf(l),1,s),t._updateHiddenSource(),o.innerHTML=c[0],a.innerHTML=c[1],d.sortDirection&&-1===d.sortDirection.indexOf("asc")?(a.classList.add("selected"),o.classList.remove("selected")):(o.classList.add("selected"),a.classList.remove("selected"))}_updateHiddenSource(){const e=this
e._hiddenSource=e.dataSource.map(e=>({label:e.label,value:e.dataField,icon:e.icon})).filter(t=>-1===e._visibleLabels.indexOf(t.label)),e.$.inputNotSorted.dataSource=e._hiddenSource,e.$.sortable._items.forEach(t=>t.getElementsByTagName("jqx-input")[0].dataSource=e._hiddenSource),e._disableItemAddition(),e.$.fireEvent("dataSourceChange")}_clickHandler(e){this._interactionHandler(this.shadowRoot||this.isInShadowDOM?e.composedPath()[0]:e.target,e)}_interactionHandler(e,t){const i=this
if(i.disabled||i.readonly)return!0
const n=e.closest(".jqx-grid-panel-item")
if(n){if(e===n.firstElementChild){const e=i._HTMLToSourceMap.get(n).label
i.$.sortable.$.container.removeChild(n),i.$.sortable.updateItems(),i._visibleLabels.splice(i._visibleLabels.indexOf(e),1),i._updateHiddenSource(),i._disableItemAddition(),i.$.sortable._items.length&&(i.$.sortable._items[0].children[1].innerHTML=i.localize("firstBy")),i.$.fireEvent("remove")}else if(n.children[4].contains(e)){const r=n.children[4].firstElementChild,o=n.children[4].children[1]
"click"===t.type?e.classList.contains("selected")||(e===r?(o.classList.remove("selected"),r.classList.add("selected"),i._HTMLToSourceMap.get(n).sortDirection="ascending"):e===o&&(r.classList.remove("selected"),o.classList.add("selected"),i._HTMLToSourceMap.get(n).sortDirection="descending")):(r.classList.toggle("selected"),o.classList.toggle("selected"),i._HTMLToSourceMap.get(n).sortDirection=r.classList.contains("selected")?"ascending":"descending")}return!0}if(e===i.$.buttonsContainer.firstElementChild)return i.$.fireEvent("cancel"),!0
if(e===i.$.buttonsContainer.children[1]){const e=[],t={dataFields:[],dataTypes:[],orderBy:[]},n={value:e}
return i.$.sortable._items.forEach(n=>{const r=i._HTMLToSourceMap.get(n)
e.push({dataField:r.dataField,sortDirection:r.sortDirection}),t.dataFields.push(r.dataField),t.dataTypes.push(r.dataType),t.orderBy.push(r.sortDirection)}),(i instanceof JQX.SortPanel||i instanceof JQX.GroupPanel)&&(n.sortByInfo=t),i.$.fireEvent("apply",n),!0}}_keydownHandler(e){const t=this,i=e.key
" "!==i&&"Enter"!==i||(e.preventDefault(),t._interactionHandler((t.shadowRoot||t.getRootNode()).activeElement,e))}_sortableDragEndHandler(e){const t=this,i=e.detail.oldIndex,n=e.detail.newIndex,r=Math.max(i,n),o=t.$.sortable._items
0===(i&&n)&&(o[0].children[1].innerHTML=t.localize("firstBy"),o[1].children[1].innerHTML=t.localize("thenBy"),r>1&&(o[r].children[1].innerHTML=t.localize("thenBy")))}_localize(){this.$.inputNotSorted.placeholder=this.localize("pickAnother"),this.$.buttonsContainer.firstElementChild.innerHTML=this.localize("cancel"),this.$.buttonsContainer.children[1].innerHTML=this.localize("apply"),this._ascDescTemplates={boolean:[this.localize("booleanFirst")+" → "+this.localize("booleanLast"),this.localize("booleanLast")+" → "+this.localize("booleanFirst")],date:[this.localize("dateFirst")+" → "+this.localize("dateLast"),this.localize("dateLast")+" → "+this.localize("dateFirst")],number:[this.localize("numberFirst")+" → "+this.localize("numberLast"),this.localize("numberLast")+" → "+this.localize("numberFirst")],string:[this.localize("stringFirst")+" → "+this.localize("stringLast"),this.localize("stringLast")+" → "+this.localize("stringFirst")]}}_createSources(){const e=this,t=(e instanceof JQX.SortPanel?"sort":"group")+"Index",i=[],n=[]
if(e._HTMLToSourceMap=new Map,e._labelToSourceMap=new Map,e.dataSource.forEach(n=>{e._labelToSourceMap.set(n.label,n),-1!==n[t]&&void 0!==n[t]&&i.push(n)}),i.sort((e,i)=>e[t]-i[t]),void 0!==e.maxLevel&&null!==e.maxLevel)for(;i.length>0&&i.length>e.maxLevel;)i.pop()
e.$.inputNotSorted.dropDownButtonPosition=e.rightToLeft?"left":"right",i.forEach(e=>n.push(e.label)),e._visibleLabels=n,e._updateHiddenSource(),i.forEach((t,i)=>{e._createSortItem(t,i)}),e.$.sortable.updateItems(),e._disableItemAddition(),e._setFocusable()}_createSortItem(e,t){const i=this.disabled||this.unfocusable?-1:0,n=document.createElement("div"),r=this._ascDescTemplates[e.dataType]||this._ascDescTemplates.string
n.className="jqx-grid-panel-item",n.innerHTML=`<div class="jqx-grid-panel-item-close-button" tabindex="${i}" role="button" aria-label="Close"></div>\n<div class="jqx-grid-panel-label-by jqx-unselectable" role="presentation">${this.localize(t>0?"thenBy":"firstBy")}</div>\n<div class="jqx-grid-panel-field-container" role="presentation"><jqx-input class="jqx-grid-panel-field-selection" value="${e.label}" animation="${this.animation}" readonly theme="${this.theme}" aria-label="Field name"></jqx-input></div>\n<div class="jqx-grid-panel-from jqx-unselectable" role="presentation">${this.localize("from")}</div >\n<div class="jqx-grid-panel-direction jqx-unselectable" tabindex="${i}" role="presentation">\n    <div class="jqx-grid-panel-asc" role="button" aria-label="Ascending">${r[0]}</div >\n    <div class="jqx-grid-panel-desc" role="button" aria-label="Descending">${r[1]}</div>\n</div>\n`
const o=n.querySelector("jqx-input")
o.dataSource=this._hiddenSource,o.rightToLeft=this.rightToLeft,o.dropDownButtonPosition=this.rightToLeft?"left":"right",this.$.sortable.$.container.appendChild(n),o.tabIndex=i,e.sortDirection&&-1===e.sortDirection.indexOf("asc")?n.children[4].children[1].classList.add("selected"):(e.sortDirection="ascending",n.children[4].firstElementChild.classList.add("selected")),this._HTMLToSourceMap.set(n,e)}_disableItemAddition(){const e=this,t=e.maxLevel,i=0===e._hiddenSource.length||null!=t&&Math.max(0,t)===e.$.sortable._items.length
e.$.inputNotSorted.disabled=i,i&&e.$.inputNotSorted.removeAttribute("focus")}_setFocusable(){const e=this.disabled||this.unfocusable?-1:0,t=Array.from(this.getElementsByClassName("jqx-grid-panel-item-close-button")),i=Array.from(this.getElementsByClassName("jqx-grid-panel-direction")),n=Array.from(this.getElementsByTagName("input")),r=t.concat(i).concat(n)
this.$.buttonsContainer.firstElementChild.tabIndex=e,this.$.buttonsContainer.children[1].tabIndex=e,r.forEach(t=>t.tabIndex=e)}}),JQX("jqx-sort-panel",class extends JQX.GridPanel{static get properties(){return{messages:{value:{en:{firstBy:"Sort by",noSorting:"No sorting applied",pickAnother:"Pick another field to sort by"}},type:"object",extend:!0}}}static get styleUrls(){return["jqx.textbox.css"]}_localize(){super._localize()
this.$.sortable.$.container.setAttribute("no-sorting",this.localize("noSorting"))}}),JQX("jqx-group-panel",class extends JQX.GridPanel{static get properties(){return{maxLevel:{value:8,type:"number?"},messages:{value:{en:{collapseAll:"Collapse all",expandAll:"Expand all",firstBy:"Group by",noGrouping:"No grouping",pickAnother:"Pick another field to group by"}},type:"object",extend:!0}}}template(){return'<div id="container" role="presentation">\n                    <jqx-sortable right-to-left="[[rightToLeft]]" id="sortable" animation="[[animation]]" disabled="[[readonly]]" drag-mode="handle" handle-position="right" handle-visibility="visible" theme="[[theme]]"></jqx-sortable>\n                    <div id="expandCollapseContainer" class="jqx-grid-panel-buttons-container jqx-grid-panel-expand-collapse jqx-unselectable" role="presentation">\n                        <span class="jqx-group-panel-collapse-button" role="button"></span>\n                        <span class="jqx-group-panel-expand-button" role="button"></span>\n                    </div>\n                    <div id="footer" class="jqx-grid-panel-container-footer" role="presentation">\n                        <jqx-input right-to-left="[[rightToLeft]]" id="inputNotSorted" animation="[[animation]]" readonly theme="[[theme]]"></jqx-input>\n                        <div id="buttonsContainer" class="jqx-grid-panel-buttons-container jqx-unselectable" role="presentation">\n                            <span class="jqx-grid-panel-cancel-button" role="button"></span>\n                            <span class="jqx-grid-panel-apply-button" role="button"></span>\n                        </div>\n                    </div>\n                </div>'}_interactionHandler(e,t){const i=this
super._interactionHandler(e,t)||(e===i.$.expandCollapseContainer.firstElementChild?i.$.fireEvent("collapseAll"):e===i.$.expandCollapseContainer.children[1]&&i.$.fireEvent("expandAll"))}_localize(){super._localize()
this.$.expandCollapseContainer.firstElementChild.innerHTML=this.localize("collapseAll"),this.$.expandCollapseContainer.children[1].innerHTML=this.localize("expandAll"),this.$.sortable.$.container.setAttribute("no-grouping",this.localize("noGrouping"))}_setFocusable(){super._setFocusable()
const e=this.disabled||this.unfocusable?-1:0
this.$.expandCollapseContainer.firstElementChild.tabIndex=e,this.$.expandCollapseContainer.children[1].tabIndex=e}}),JQX("jqx-multi-column-filter-panel",class extends JQX.BaseElement{static get properties(){return{closeButtonPosition:{value:"left",allowedValues:["left","right"],type:"string"},dataSource:{value:[],type:"array",reflectToAttribute:!1},editorCallback:{value:null,type:"function?",reflectToAttribute:!1},editorPlaceholder:{value:"Value",type:"string"},messages:{value:{en:{addFilter:"+ Add filter",and:"And",apply:"Apply",cancel:"Cancel",CONTAINS:"contains",CONTAINS_CASE_SENSITIVE:"contains (case sensitive)",DOES_NOT_CONTAIN:"does not contain",DOES_NOT_CONTAIN_CASE_SENSITIVE:"does not contain (case sensitive)",EMPTY:"empty",ENDS_WITH:"ends with",ENDS_WITH_CASE_SENSITIVE:"ends with (case sensitive)",EQUAL:"equal",EQUAL_CASE_SENSITIVE:"equal (case sensitive)",GREATER_THAN:"greater than",GREATER_THAN_OR_EQUAL:"greater than or equal",LESS_THAN:"less than",LESS_THAN_OR_EQUAL:"less than or equal",noFilters:"No filters applied",NOT_EMPTY:"not empty",NOT_EQUAL:"not equal",NOT_NULL:"not null",NULL:"null",or:"Or",STARTS_WITH:"starts with",STARTS_WITH_CASE_SENSITIVE:"starts with (case sensitive)",where:"Where"}},type:"object",extend:!0},operator:{value:"and",allowedValues:["and","or"],type:"string"},value:{value:[],type:"array"}}}static get listeners(){return{change:"_changeHandler",click:"_interactionHandler",keydown:"_interactionHandler"}}static get requires(){return{"JQX.Button":"jqxbutton.js","JQX.CheckBox":"jqxcheckbox.js","JQX.DateTimePicker":"jqxdatetimepicker.js","JQX.FilterGroup":"jqxfilter.js","JQX.Input":"jqxinput.js","JQX.NumericTextBox":"jqxnumerictextbox.js"}}static get styleUrls(){return["jqx.gridpanel.css"]}template(){return'<div id="container" role="presentation">\n                    <div id="itemsContainer" class="jqx-filter-panel-items-container jqx-unselectable"></div>\n                    <div id="footer" class="jqx-grid-panel-container-footer" role="presentation">\n                        <div id="addFilterButton" class="jqx-filter-panel-add-filter-button jqx-unselectable" role="button"></div>\n                        <div id="buttonsContainer" class="jqx-grid-panel-buttons-container jqx-unselectable" role="presentation">\n                            <span class="jqx-grid-panel-cancel-button" role="button"></span>\n                            <span class="jqx-grid-panel-apply-button" role="button"></span>\n                        </div>\n                    </div>\n                </div>'}ready(){super.ready()}render(){this.setAttribute("role","dialog"),this._setFocusable(),this._localize(),this._applyValue(),super.render()}propertyChangedHandler(e,t,i){super.propertyChangedHandler(e,t,i)
const n=this
switch(e){case"animation":case"theme":case"rightToLeft":Array.from(n.$.itemsContainer.querySelectorAll("jqx-date-time-picker, jqx-numeric-text-box, jqx-check-box, jqx-input")).forEach(t=>{t[e]=i,"jqx-input"===t.tagName.toLowerCase()&&"rightToLeft"===e&&"none"!==t.dropDownButtonPosition&&(t.dropDownButtonPosition=i?"left":"right")})
break
case"disabled":case"unfocusable":n._setFocusable(!0)
break
case"dataSource":case"value":n._applyValue()
break
case"editorPlaceholder":Array.from(n.$.itemsContainer.getElementsByClassName("editor")).forEach(e=>e.placeholder=i)
break
case"locale":case"messages":n._localize(!0)
break
case"operator":n._setOperator()}}_setOperator(){const e=this,t=e.localize(e.operator)
for(let i=2;i<e._items.length;i++)e._items[i].children[1].innerHTML=t}_changeHandler(e){const t=this,i=t.shadowRoot||t.isInShadowDOM?e.composedPath()[0]:e.target
if(i instanceof JQX.Input==!1)return
const n=i.parentElement,r=n.children
if(i===r[1])t.operator=i.$.input.dataValue,t._setOperator()
else if(i===r[2]){const i=t.dataSource.find(t=>t.dataField===e.detail.oldValue).dataType,o=t.dataSource.find(t=>t.dataField===e.detail.value),a=o.dataType
if("enum"!==a&&a===i)return void(t.editorCallback&&t.editorCallback(r[4],o))
const s=r[3].value
let l,d
switch(a){case"date":l=t._numberAndDateConditions,(d=document.createElement("jqx-date-time-picker")).calendarButton=!0,d.dropDownAppendTo="body",d.dropDownDisplayMode="auto",d.formatString="M/d/yy H:mm"
break
case"number":l=t._numberAndDateConditions,d=document.createElement("jqx-numeric-text-box")
break
case"boolean":l=t._booleanConditions,d=document.createElement("jqx-check-box")
break
case"enum":l=t._enumConditions,(d=document.createElement("jqx-input")).dataSource=o.options,d.readonly=!0,d.dropDownButtonPosition="right"
break
default:l=t._stringConditions,d=document.createElement("jqx-input")}d.rightToLeft=t.rightToLeft,d.animation=t.animation,d.theme=t.theme,d.unfocusable=t.disabled||t.unfocusable,d.classList.add("underlined"),"boolean"!==a&&(d.placeholder=t.editorPlaceholder),t.editorCallback&&t.editorCallback(d,o),r[4].remove(),n.appendChild(d),""===s||l.find(e=>e.label===s)||(r[3].value=""),r[3].dataSource=l,n.dataType=a}else if(i===r[3]){const e=r[4],t=i.$.input.dataValue;-1!==t.indexOf("NULL")||-1!==t.indexOf("EMPTY")?(e.value="",e.checked=!1,e.classList.add("jqx-visibility-hidden")):e.classList.remove("jqx-visibility-hidden"),i.condition=t}}_interactionHandler(e){const t=this
if(t.disabled||t.readonly)return
if("keydown"===e.type){if(" "!==e.key&&"Enter"!==e.key)return
e.preventDefault()}const i=t.shadowRoot||t.isInShadowDOM?e.composedPath()[0]:e.target,n=i.closest(".jqx-grid-panel-item")
if(n){if(i===n.firstElementChild){const e=t._items.indexOf(n)
let i
t._items.splice(e,1),n.remove(),t._items.length>0&&e<2&&(0===e&&(t._items[0].children[1].remove(),(i=document.createElement("div")).innerHTML=t.localize("where"),t._items[0].insertBefore(i,t._items[0].children[1])),t._items.length>1&&(t._items[1].children[1].remove(),(i=document.createElement("jqx-input")).className="underlined",i.dataSource=[{value:"and",label:t.localize("and")},{value:"or",label:t.localize("or")}],i.dropDownButtonPosition=t.rightToLeft?"left":"right",i.readonly=!0,i.value=t.localize(t.operator),i.animation=t.animation,i.theme=t.theme,i.rightToLeft=t.rightToLeft,i.unfocusable=t.disabled||t.unfocusable,t._items[1].insertBefore(i,t._items[1].children[1])))}}else if(i===t.$.addFilterButton&&t.dataSource.length>0)t.$.itemsContainer.appendChild(t._createItem(t.dataSource[0],"","",t._items.length))
else if(i!==t.$.buttonsContainer.firstElementChild){if(i===t.$.buttonsContainer.children[1]){const e=t._stringConditions.concat(t._numberAndDateConditions),i=t.operator,n=[],r={},o=[]
t._items.forEach(o=>{const a=t.dataSource.find(e=>e.label===o.children[2].value),s=[]
let l=o.children[3].value
if(""===l)return
let d=a.dataType
if(l=e.find(e=>e.label===l).value,s.push(a.dataField,l),-1===l.indexOf("NULL")&&-1===l.indexOf("EMPTY"))if("boolean"===d)s.push(o.children[4].checked)
else if("date"===d)s.push(o.children[4].value.toDate())
else if("enum"===d){let e=o.children[4].$.input.dataValue
if(void 0===e){const t=a.options.find(e=>e.label===o.children[4].value)
if(!t)return
e=t.value}d="string",s.push(e)}else s.push(o.children[4].value)
let c=r[s[0]]
void 0===c&&(c=new JQX.Utilities.FilterGroup,r[s[0]]=c)
const h=c.createFilter(d,s[2],s[1])
c.addFilter(i,h),n.push(s)})
for(let e in r)o.push([e,r[e]])
t.value=n,t.$.fireEvent("apply",{filters:o,operator:i,value:n})}}else t.$.fireEvent("cancel")}_applyValue(){const e=this,t=document.createDocumentFragment()
let i=0
for(e._items=[];e.$.itemsContainer.firstElementChild;)e.$.itemsContainer.firstElementChild.remove()
0!==e.dataSource.length&&(e.value.forEach(n=>{if(!Array.isArray(n))return
const r=n[0],o=e.dataSource.find(e=>e.dataField===r)
if(!o)return
const a=e._createItem(o,n[1],n[2],i)
t.appendChild(a),i++}),e.$.itemsContainer.appendChild(t))}_createItem(e,t,i,n){const r=this,o=r.disabled||r.unfocusable?-1:0,a=document.createElement("div"),s=document.createDocumentFragment(),l=document.createElement("div"),d=document.createElement("jqx-input"),c=document.createElement("jqx-input")
let h,u
return l.className="jqx-grid-panel-item-close-button",l.tabIndex=o,l.setAttribute("role","button"),l.setAttribute("aria-label","button"),s.appendChild(l),0===n?((h=document.createElement("div")).innerHTML=r.localize("where"),h.setAttribute("role","presentation")):1===n?((h=document.createElement("jqx-input")).className="underlined",h.dataSource=[{value:"and",label:r.localize("and")},{value:"or",label:r.localize("or")}],h.dropDownButtonPosition=r.rightToLeft?"left":"right",h.readonly=!0,h.value=r.localize(r.operator),h.animation=r.animation,h.theme=r.theme,h.rightToLeft=r.rightToLeft,h.unfocusable=r.disabled||r.unfocusable,h.setAttribute("aria-label","Operator")):((h=document.createElement("div")).innerHTML=r.localize(r.operator),h.setAttribute("role","presentation")),s.appendChild(h),d.className="underlined",d.dataSource=r.dataSource.map(e=>({value:e.dataField,label:e.label,icon:e.icon})),d.dropDownButtonPosition=r.rightToLeft?"left":"right",d.readonly=!0,d.value=e.label,d.animation=r.animation,d.theme=r.theme,d.rightToLeft=r.rightToLeft,d.unfocusable=r.disabled||r.unfocusable,d.setAttribute("aria-label","Field"),s.appendChild(d),"boolean"===e.dataType?(c.dataSource=r._booleanConditions,(u=document.createElement("jqx-check-box")).checked="boolean"==typeof i&&i):"date"===e.dataType?(c.dataSource=r._numberAndDateConditions,(u=document.createElement("jqx-date-time-picker")).dropDownDisplayMode="auto",u.calendarButton=!0,u.dropDownAppendTo="body",u.formatString="M/d/yy H:mm",u.value=i):"number"===e.dataType?(c.dataSource=r._numberAndDateConditions,(u=document.createElement("jqx-numeric-text-box")).value="number"==typeof i||"string"==typeof i?i:0):"enum"===e.dataType?(c.dataSource=r._enumConditions,(u=document.createElement("jqx-input")).dataSource=e.options,u.readonly=!0,u.dropDownButtonPosition="right",u.value=i?e.options.find(e=>e.value===i).label:""):(c.dataSource=r._stringConditions,(u=document.createElement("jqx-input")).value=null!=i?i.toString():""),c.className="underlined",c.dropDownButtonPosition=r.rightToLeft?"left":"right",c.readonly=!0,c.animation=r.animation,c.theme=r.theme,c.rightToLeft=r.rightToLeft,c.unfocusable=r.disabled||r.unfocusable,c.setAttribute("aria-label","Condition"),c.dataSource.find(e=>e.value===t)?(c.value=r.localize(t),c.condition=t):(u.value="",u.checked=!1),void 0===t||-1===t.indexOf("NULL")&&-1===t.indexOf("EMPTY")||(u.value="",u.checked=!1,u.classList.add("jqx-visibility-hidden")),u.animation=r.animation,u.classList.add("editor"),u.rightToLeft=r.rightToLeft,u.theme=r.theme,u.unfocusable=r.disabled||r.unfocusable,u.classList.add("underlined"),"boolean"!==e.dataType&&(u.placeholder=r.editorPlaceholder),r.editorCallback&&r.editorCallback(u,e),s.appendChild(c),s.appendChild(u),a.appendChild(s),a.className="jqx-grid-panel-item",r._items.push(a),a.dataType=e.dataType,a}_localize(e){const t=this
t.$.addFilterButton.innerHTML=t.localize("addFilter"),t.$.buttonsContainer.firstElementChild.innerHTML=t.localize("cancel"),t.$.buttonsContainer.children[1].innerHTML=t.localize("apply"),t.$.itemsContainer.setAttribute("no-filters",t.localize("noFilters")),t._stringConditions=[{value:"EMPTY",label:t.localize("EMPTY")},{value:"NOT_EMPTY",label:t.localize("NOT_EMPTY")},{value:"CONTAINS",label:t.localize("CONTAINS")},{value:"CONTAINS_CASE_SENSITIVE",label:t.localize("CONTAINS_CASE_SENSITIVE")},{value:"DOES_NOT_CONTAIN",label:t.localize("DOES_NOT_CONTAIN")},{value:"DOES_NOT_CONTAIN_CASE_SENSITIVE",label:t.localize("DOES_NOT_CONTAIN_CASE_SENSITIVE")},{value:"STARTS_WITH",label:t.localize("STARTS_WITH")},{value:"STARTS_WITH_CASE_SENSITIVE",label:t.localize("STARTS_WITH_CASE_SENSITIVE")},{value:"ENDS_WITH",label:t.localize("ENDS_WITH")},{value:"ENDS_WITH_CASE_SENSITIVE",label:t.localize("ENDS_WITH_CASE_SENSITIVE")},{value:"EQUAL",label:t.localize("EQUAL")},{value:"EQUAL_CASE_SENSITIVE",label:t.localize("EQUAL_CASE_SENSITIVE")},{value:"NULL",label:t.localize("NULL")},{value:"NOT_NULL",label:t.localize("NOT_NULL")}],t._enumConditions=[{value:"EQUAL",label:t.localize("EQUAL")},{value:"NOT_EQUAL",label:t.localize("NOT_EQUAL")}],t._numberAndDateConditions=[{value:"EQUAL",label:t.localize("EQUAL")},{value:"NOT_EQUAL",label:t.localize("NOT_EQUAL")},{value:"LESS_THAN",label:t.localize("LESS_THAN")},{value:"LESS_THAN_OR_EQUAL",label:t.localize("LESS_THAN_OR_EQUAL")},{value:"GREATER_THAN",label:t.localize("GREATER_THAN")},{value:"GREATER_THAN_OR_EQUAL",label:t.localize("GREATER_THAN_OR_EQUAL")},{value:"NULL",label:t.localize("NULL")},{value:"NOT_NULL",label:t.localize("NOT_NULL")}],t._booleanConditions=[{value:"EQUAL",label:t.localize("EQUAL")},{value:"NOT_EQUAL",label:t.localize("NOT_EQUAL")},{value:"NULL",label:t.localize("NULL")},{value:"NOT_NULL",label:t.localize("NOT_NULL")}],e&&t._items.forEach((e,i)=>{const n=e.children[1],r=e.children[3]
0===i?n.innerHTML=t.localize("where"):1===i?(n.dataSource=[{value:"and",label:t.localize("and")},{value:"or",label:t.localize("or")}],n.value=t.localize(t.operator)):n.innerHTML=t.localize(t.operator),"string"===e.dataType?r.dataSource=t._stringConditions:"enum"===e.dataType?r.dataSource=t._enumConditions:"boolean"===e.dataType?r.dataSource=t._booleanConditions:r.dataSource=t._numberAndDateConditions,r.value=r.condition?t.localize(r.condition):""})}_setFocusable(e){const t=this,i=t.disabled||t.unfocusable?-1:0
if(t.$.addFilterButton.tabIndex=i,t.$.buttonsContainer.firstElementChild.tabIndex=i,t.$.buttonsContainer.children[1].tabIndex=i,e){const e=Array.from(t.$.itemsContainer.getElementsByClassName("jqx-grid-panel-item-close-button")),n=Array.from(t.$.itemsContainer.querySelectorAll("jqx-date-time-picker, jqx-numeric-text-box, jqx-check-box, jqx-input"))
e.forEach(e=>e.tabIndex=i),n.forEach(e=>e.unfocusable=t.disabled||t.unfocusable)}}}),JQX("jqx-column-panel",class extends JQX.BaseElement{static get properties(){return{dataSource:{value:[],type:"array",reflectToAttribute:!1},messages:{value:{en:{apply:"Apply",cancel:"Cancel",find:"Find a field",noResults:"No results"}},type:"object",extend:!0}}}static get listeners(){return{click:"_interactionHandler",keydown:"_interactionHandler","find.keyup":"_findKeyupHandler","sortable.dragEnd":"_sortableDragEndHandler"}}static get requires(){return{"JQX.Sortable":"jqxsortable.js"}}static get styleUrls(){return["jqx.gridpanel.css"]}template(){return'<div id="container" role="presentation">\n                    <div class="jqx-column-panel-find-container" role="search">\n                        <input id="find" readonly="[[readonly]]" role="searchbox" aria-label="Find a field"></input>\n                        <span id="clearButton" class="clear-button jqx-hidden" role="button" aria-label="Clear"></span>\n                    </div>\n                    <jqx-sortable id="sortable" right-to-left="[[rightToLeft]]" animation="[[animation]]" disabled="[[readonly]]" drag-mode="handle" handle-position="right" handle-visibility="visible" theme="[[theme]]"></jqx-sortable>\n                    <div id="footer" class="jqx-grid-panel-container-footer" role="presentation">\n                        <div id="buttonsContainer" class="jqx-grid-panel-buttons-container jqx-unselectable" role="presentation">\n                            <span class="jqx-grid-panel-cancel-button" role="button"></span>\n                            <span class="jqx-grid-panel-apply-button" role="button"></span>\n                        </div>\n                    </div>\n                </div>'}ready(){super.ready()}render(){this.setAttribute("role","dialog"),this._positionChanged=!1,this._localize(),this._createSortItems(),super.render()}propertyChangedHandler(e,t,i){super.propertyChangedHandler(e,t,i)
const n=this
switch(e){case"disabled":case"unfocusable":n._setFocusable()
break
case"dataSource":{const e=n.$.sortable.$.container
for(;e.firstChild;)e.removeChild(e.firstChild)
n._createSortItems(),n._positionChanged=!1,n.$.find.value="",n.$.clearButton.classList.add("jqx-hidden")
break}case"locale":case"messages":n._localize()}}_createSortItems(){const e=this,t=document.createDocumentFragment()
e._HTMLToSourceMap=new Map,e.dataSource.forEach(i=>t.appendChild(e._createSortItem(i))),e.$.sortable.$.container.appendChild(t),e.$.sortable.updateItems(),e._setFocusable()}_createSortItem(e){const t=document.createElement("div"),i=this.id+"Label"+e.dataField
return this._HTMLToSourceMap.set(t,e),t.className="jqx-grid-panel-item",t.innerHTML=`<div class="toggle-visibility${!1!==e.visible?"":" hidden"}${e.disableToggle?" disable-toggle":""}" role="button" aria-controls="${i}" aria-label="Toggle visibility"></div>\n<span id="${i}" class="jqx-column-panel-label jqx-unselectable${e.icon?" icon "+e.icon:""}">${e.label}</span>`,!1===e.allowHide&&(t.style.pointerEvents="none",t.style.opacity=.8),t}_interactionHandler(e){const t=this
if(t.disabled||t.readonly||"keydown"===e.type&&-1===[" ","Enter"].indexOf(e.key))return
const i=t.shadowRoot||t.isInShadowDOM?e.composedPath()[0]:e.target
if(i.classList.contains("toggle-visibility"))i.classList.toggle("hidden")
else if(i.parentElement===t.$.buttonsContainer){if(i===t.$.buttonsContainer.firstElementChild)return void t.$.fireEvent("cancel")
if(i===t.$.buttonsContainer.children[1]){const e=[]
t.$.sortable._items.forEach(i=>{const n=Object.assign({},t._HTMLToSourceMap.get(i))
n.visible=!i.firstElementChild.classList.contains("hidden"),e.push(n)}),t.$.fireEvent("apply",{value:e,positionChanged:t._positionChanged}),t._positionChanged=!1}}else i.classList.contains("clear-button")&&(t.$.find.value="",t._findKeyupHandler())}_findKeyupHandler(){const e=this
if(e.disabled||e.readonly)return
const t=e.$.find,i=t.value,n=e.$.sortable._items
if(void 0===e._disabledSortable&&(e._disabledSortable=e.$.sortable.disabled),""===i)return t.parentElement.classList.remove("no-results"),e.$.clearButton.classList.add("jqx-hidden"),n.forEach(e=>e.classList.remove("jqx-hidden")),e.$.sortable.disabled=e._disabledSortable||e.readonly,void delete e._disabledSortable
let r=!0
e.$.clearButton.classList.remove("jqx-hidden"),n.forEach(t=>{-1===e._HTMLToSourceMap.get(t).label.toLowerCase().indexOf(i.toLowerCase())?t.classList.add("jqx-hidden"):(t.classList.remove("jqx-hidden"),r=!1)}),e.$.sortable.disabled=!0,r?t.parentElement.classList.add("no-results"):t.parentElement.classList.remove("no-results")}_sortableDragEndHandler(){this._positionChanged=!0}_localize(){this.$.find.placeholder=this.localize("find"),this.$.buttonsContainer.firstElementChild.innerHTML=this.localize("cancel"),this.$.buttonsContainer.children[1].innerHTML=this.localize("apply"),this.$.container.firstElementChild.setAttribute("no-results",this.localize("noResults"))}_setFocusable(){const e=this.disabled||this.unfocusable?-1:0,t=Array.from(this.$.sortable.getElementsByClassName("toggle-visibility"))
this.$.find.tabIndex=e,this.$.clearButton.tabIndex=e,this.$.buttonsContainer.firstElementChild.tabIndex=e,this.$.buttonsContainer.children[1].tabIndex=e,t.forEach(t=>t.tabIndex=t.classList.contains("disable-toggle")?-1:e)}}),JQX("jqx-data-view",class extends JQX.BaseElement{static get properties(){return{addNewButton:{value:!1,type:"boolean"},allowDrag:{value:!1,type:"boolean"},collapsible:{value:!1,type:"boolean"},columns:{value:[],type:"object",reflectToAttribute:!1},dataSource:{value:null,type:"object?",reflectToAttribute:!1},editable:{value:!1,type:"boolean"},headerPosition:{value:"none",allowedValues:["none","top","bottom"],type:"string"},messages:{value:{en:{addFilter:"+ Add filter",and:"And",apply:"Apply",booleanFirst:"☐",booleanLast:"☑",cancel:"Cancel",CONTAINS:"contains",CONTAINS_CASE_SENSITIVE:"contains (case sensitive)",dateFirst:"1",dateLast:"9",DOES_NOT_CONTAIN:"does not contain",DOES_NOT_CONTAIN_CASE_SENSITIVE:"does not contain (case sensitive)",EMPTY:"empty",ENDS_WITH:"ends with",ENDS_WITH_CASE_SENSITIVE:"ends with (case sensitive)",EQUAL:"equal",EQUAL_CASE_SENSITIVE:"equal (case sensitive)",filter:"Filter",customize:"Customize Columns",filteredByMultiple:"{{n}} filters",filteredByOne:"1 filter",filterValuePlaceholder:"Value",find:"Find a field",findInView:"Find in view",firstBy:"Sort by",found:"{{nth}} of {{n}}",from:"from",GREATER_THAN:"greater than",GREATER_THAN_OR_EQUAL:"greater than or equal",LESS_THAN:"less than",LESS_THAN_OR_EQUAL:"less than or equal",noFilters:"No filters applied",noResults:"No results",noSorting:"No sorting applied",NOT_EMPTY:"not empty",NOT_EQUAL:"not equal",NOT_NULL:"not null",NULL:"null",numberFirst:"1",numberLast:"9",ok:"OK",or:"Or",pickAnother:"Pick another field to sort by",sort:"Sort",group:"Group",sortedByMultiple:"Sorted by {{n}} fields",sortedByOne:"Sorted by 1 field",STARTS_WITH:"starts with",STARTS_WITH_CASE_SENSITIVE:"starts with (case sensitive)",stringFirst:"A",stringLast:"Z",thenBy:"then by",where:"Where",collapseAll:"Collapse all",expandAll:"Expand all",noGrouping:"No grouping",groupedByMultiple:"{{n}} groups",groupedByOne:"1 group",firstByGroup:"Group by",pickAnotherGroupBy:"Pick another field to group by"}}}}}static get listeners(){return{"header.apply":"_applyHandler","header.cancel":"closePanel","headerDropDown.transitionend":"_headerDropDownTransitionendHandler","searchInput.keyup":"_searchInputKeyupHandler",resize:"_resizeHandler","document.move":"_documentMoveHandler","document.up":"_documentUpHandler"}}render(){const e=this
e.$.headerDropDown.id||(e.$.headerDropDown.id=e.id+"HeaderDropDown"),e.setAttribute("role","group"),e._isMobile=JQX.Utilities.Core.isMobile,super.render()}addFilter(e,t="and"){if(!Array.isArray(e)||e.length>0&&!Array.isArray(e[0]))return
let i
this.closePanel(),arguments[2]?i={filters:arguments[2],operator:t}:(i={filters:[],operator:t},e.forEach(e=>{e[1].filters.forEach(t=>{i.filters.push([e[0],t.condition,t.value])})})),JSON.stringify(i)!==JSON.stringify(this._appliedFiltering)&&(this._applyFilter(e,t),this.$.fireEvent("filter"),this._appliedFiltering=i,this._refreshFilterButton())}_refreshFilterButton(){const e=this,t=e._appliedFiltering.filters?e._appliedFiltering.filters.length:0
if(0===t)return e.$.filterButton.firstElementChild.innerHTML=e.localize("filter"),void e.$.filterButton.classList.remove("filtered")
e.$.filterButton.firstElementChild.innerHTML=1===t?e.localize("filteredByOne"):e.localize("filteredByMultiple",{n:t}),e.$.filterButton.classList.add("filtered")}addSort(e,t){const i=this,n=i.dataSource,r=JSON.stringify(i._appliedSorting)
let o
function a(e,r){if(i.columns.find(t=>t.dataField===e)){let i=Array.isArray(t)?t[r]:"string"==typeof t?t:"ascending"
o.dataFields.push(e),o.dataTypes.push(n.dataFields.find(t=>t.name===e).dataType),i=i&&-1!==i.indexOf("desc")?"descending":"ascending",o.orderBy.push(i)}}if(0!==arguments.length&&n&&0!==n.length){if(i.closePanel(),1===arguments.length&&"object"==typeof e)o=e
else if(o={dataFields:[],dataTypes:[],orderBy:[]},Array.isArray(e))e.forEach(a)
else{if("string"!=typeof e)return
a(e,0)}i.closePanel(),i._appliedSorting=o,r!==JSON.stringify(i._appliedSorting)&&(i._applySort(),i.$.fireEvent("sort"),i._refreshSortButton())}}_refreshSortButton(){const e=this,t=e._appliedSorting.dataFields.length
if(0===t)return e.$.sortButton.firstElementChild.innerHTML=e.localize("sort"),void e.$.sortButton.classList.remove("sorted")
e.$.sortButton.firstElementChild.innerHTML=1===t?e.localize("sortedByOne"):e.localize("sortedByMultiple",{n:t}),e.$.sortButton.classList.add("sorted")}closePanel(){const e=this.$.headerDropDown
e.classList.remove("open"),setTimeout(()=>{e.classList.add("jqx-visibility-hidden")},150),this._closeSearchPanel(),e.controlledBy&&(e.controlledBy.removeAttribute("aria-controls"),e.controlledBy.setAttribute("aria-expanded",!1),delete e.controlledBy)}_closeSearchPanel(){const e=this
e._searchInfo&&delete e._searchInfo}_closeDialog(){const e=this
e._editInfo&&e._editInfo.window.close()}openFilterPanel(e,t){const i=this,n=i.dataSource
if(!n||0===n.length||i.disabled||"none"===i.headerPosition)return
let r
i._editInfo&&i._editInfo.window.close(),i.$.headerDropDown.classList.add("filter-panel"),i.$.headerDropDown.classList.remove("customize-panel","sort-panel","search-panel"),i.$.filter.classList.remove("jqx-hidden"),i.$.customize.classList.add("jqx-hidden"),i.$.sort.classList.add("jqx-hidden"),i.$.group&&i.$.group.classList.add("jqx-hidden"),i.$.search.classList.add("jqx-hidden"),i._closeSearchPanel(),i._filterPartCreated?((r=i.$.filter.firstElementChild).set("operator",i._appliedFiltering.operator),r.set("value",i._appliedFiltering.filters),r._applyValue(),r.rightToLeft=i.rightToLeft):((r=document.createElement("jqx-multi-column-filter-panel")).rightToLeft=i.rightToLeft,r.animation=i.animation,r.dataSource=e,r.locale=i.locale,r.messages=i._innerElementMessages.multiColumnFilterPanel,r.operator=i._appliedFiltering.operator,r.editorPlaceholder=i.localize("filterValuePlaceholder"),r.theme=i.theme,r.value=i._appliedFiltering.filters,r.editorCallback=t,i.$.filter.appendChild(r),i._filterPartCreated=!0),i._openHeaderDropDown(i.$.filterButton)}openSortPanel(e){const t=this,i=t.dataSource
if(!i||0===i.length||t.disabled||"none"===t.headerPosition)return
let n
t._closeDialog(),t.$.headerDropDown.classList.add("sort-panel"),t.$.headerDropDown.classList.remove("customize-panel","filter-panel","search-panel"),t.$.sort.classList.remove("jqx-hidden"),t.$.customize.classList.add("jqx-hidden"),t.$.filter.classList.add("jqx-hidden"),t.$.group&&t.$.group.classList.add("jqx-hidden"),t.$.search.classList.add("jqx-hidden"),t._closeSearchPanel(),t._sortPartCreated?((n=t.$.sort.firstElementChild).rightToLeft=t.rightToLeft,n.set("dataSource",e),n.propertyChangedHandler("dataSource",void 0,e)):((n=document.createElement("jqx-sort-panel")).rightToLeft=t.rightToLeft,n.animation=t.animation,n.dataSource=e,n.locale=t.locale,n.messages=t._innerElementMessages.sortPanel,n.theme=t.theme,t.$.sort.appendChild(n),t._sortPartCreated=!0),t._openHeaderDropDown(t.$.sortButton)}removeFilter(){this.addFilter([])}removeSort(){this.addSort({dataFields:[],dataTypes:[],orderBy:[]})}_clearFilterAndSortUI(){this._appliedFiltering={filters:[],operator:"and"},this._appliedSorting={dataFields:[],dataTypes:[],orderBy:[]},this._appliedGrouping={dataFields:[]},this.$.filterButton.classList.remove("filtered"),this.$.sortButton.classList.remove("sorted"),this.$.filterButton.firstElementChild.innerHTML=this.localize("filter"),this.$.sortButton.firstElementChild.innerHTML=this.localize("sort")}_getInnerElementMessages(){const e=this.locale,t={columnPanel:{},groupPanel:{},multiColumnFilterPanel:{},sortPanel:{},dateTimePicker:{}}
t.columnPanel[e]={apply:this.localize("apply"),cancel:this.localize("cancel"),find:this.localize("find"),noResults:this.localize("noResults")},t.groupPanel[e]={apply:this.localize("apply"),cancel:this.localize("cancel"),collapseAll:this.localize("collapseAll"),expandAll:this.localize("expandAll"),firstBy:this.localize("firstByGroup"),noGrouping:this.localize("noGrouping"),pickAnother:this.localize("pickAnotherGroupBy"),stringFirst:this.localize("stringFirst"),stringLast:this.localize("stringLast"),thenBy:this.localize("thenBy"),from:this.localize("from"),booleanFirst:this.localize("booleanFirst"),booleanLast:this.localize("booleanLast"),dateFirst:this.localize("dateFirst"),dateLast:this.localize("dateLast"),numberFirst:this.localize("numberFirst"),numberLast:this.localize("numberLast")},t.multiColumnFilterPanel[e]={addFilter:this.localize("addFilter"),and:this.localize("and"),apply:this.localize("apply"),cancel:this.localize("cancel"),CONTAINS:this.localize("CONTAINS"),CONTAINS_CASE_SENSITIVE:this.localize("CONTAINS_CASE_SENSITIVE"),DOES_NOT_CONTAIN:this.localize("DOES_NOT_CONTAIN"),DOES_NOT_CONTAIN_CASE_SENSITIVE:this.localize("DOES_NOT_CONTAIN_CASE_SENSITIVE"),EMPTY:this.localize("EMPTY"),ENDS_WITH:this.localize("ENDS_WITH"),ENDS_WITH_CASE_SENSITIVE:this.localize("ENDS_WITH_CASE_SENSITIVE"),EQUAL:this.localize("EQUAL"),EQUAL_CASE_SENSITIVE:this.localize("EQUAL_CASE_SENSITIVE"),GREATER_THAN:this.localize("GREATER_THAN"),GREATER_THAN_OR_EQUAL:this.localize("GREATER_THAN_OR_EQUAL"),LESS_THAN:this.localize("LESS_THAN"),LESS_THAN_OR_EQUAL:this.localize("LESS_THAN_OR_EQUAL"),noFilters:this.localize("noFilters"),NOT_EMPTY:this.localize("NOT_EMPTY"),NOT_EQUAL:this.localize("NOT_EQUAL"),NOT_NULL:this.localize("NOT_NULL"),NULL:this.localize("NULL"),or:this.localize("or"),STARTS_WITH:this.localize("STARTS_WITH"),STARTS_WITH_CASE_SENSITIVE:this.localize("STARTS_WITH_CASE_SENSITIVE"),where:this.localize("where")},t.sortPanel[e]={apply:this.localize("apply"),booleanFirst:this.localize("booleanFirst"),booleanLast:this.localize("booleanLast"),cancel:this.localize("cancel"),dateFirst:this.localize("dateFirst"),dateLast:this.localize("dateLast"),firstBy:this.localize("firstBy"),from:this.localize("from"),numberFirst:this.localize("numberFirst"),numberLast:this.localize("numberLast"),noSorting:this.localize("noSorting"),pickAnother:this.localize("pickAnother"),stringFirst:this.localize("stringFirst"),stringLast:this.localize("stringLast"),thenBy:this.localize("thenBy")},t.dateTimePicker[e]={now:this.localize("now"),dateTabLabel:this.localize("dateTabLabel"),timeTabLabel:this.localize("timeTabLabel")},this._innerElementMessages=t}_handleHeaderPosition(e){const t=this,i=t.headerPosition,n=t.$.header
"none"!==i?(n.classList.remove("jqx-hidden"),"top"===i&&n.nextElementSibling!==e?t.$.container.insertBefore(n,e):"bottom"===i&&n.previousElementSibling!==e&&t.$.container.insertBefore(n,t.$.loadingIndicatorContainer)):n.classList.add("jqx-hidden")}_headerClickHandler(e){const t=this,i=t.$.headerDropDown
function n(e,n){i.classList.contains("jqx-visibility-hidden")||e.classList.contains("jqx-hidden")?t[n]():t.closePanel()}if(t.$.customizeButton.contains(e))n(t.$.customize,"openCustomizePanel")
else if(t.$.filterButton.contains(e))n(t.$.filter,"openFilterPanel")
else if(t.$.sortButton.contains(e))n(t.$.sort,"openSortPanel")
else if(e===t.$.searchButton)n(t.$.search,"_openSearchPanel")
else if(t.$.groupButton&&t.$.groupButton.contains(e))n(t.$.group,"openGroupPanel")
else if(e===t.$.searchClose)t.closePanel()
else if(e===t.$.searchPrev||e===t.$.searchNext){const i=t._searchInfo,n=i.foundIdsArray,r=e===t.$.searchNext,o=n.length
let a
if(void 0===i.highlighted)a=r?0:o-1
else{if(1===n.length)return
{const e=n.indexOf(i.highlighted)
a=r?(e+1)%o:e-1>=0?e-1:o-1}}i.highlighted=n[a],t.grid.highlighted=i.highlighted,t.grid.ensureVisible(i.highlighted),t.grid._recycle(!1),t.$.searchLabel.innerHTML=t.localize("found",{nth:a+1,n:n.length})}}_headerDropDownTransitionendHandler(e){const t=this,i=t.$.headerDropDown
e&&("visibility"!==e.propertyName||i.classList.contains("jqx-visibility-hidden"))||(i.classList.contains("search-panel")?t.$.searchInput.focus():!1===t.unfocusable&&(!t._isMobile&&i.classList.contains("customize-panel")?i.querySelector("jqx-column-panel").$.find.focus():i.classList.contains("filter-panel")?i.querySelector("jqx-multi-column-filter-panel").$.addFilterButton.focus():i.classList.contains("sort-panel")&&i.querySelector("jqx-sort-panel").$.inputNotSorted.focus()))}_localizeHeader(){const e=this
e.$.customizeButton.firstElementChild.innerHTML=e.localize("customize"),e.$.groupButton&&(e.$.groupButton.firstElementChild.innerHTML=e.localize("group")),0===e._appliedFiltering.filters.length?e.$.filterButton.firstElementChild.innerHTML=e.localize("filter"):1===e._appliedFiltering.filters.length?e.$.filterButton.firstElementChild.innerHTML=e.localize("filteredByOne"):e.$.filterButton.firstElementChild.innerHTML=e.localize("filteredByMultiple",{n:e._appliedFiltering.filters.length}),0===e._appliedSorting.dataFields.length?e.$.sortButton.firstElementChild.innerHTML=e.localize("sort"):1===e._appliedSorting.dataFields.length?e.$.sortButton.firstElementChild.innerHTML=e.localize("sortedByOne"):e.$.sortButton.firstElementChild.innerHTML=e.localize("sortedByMultiple",{n:e._appliedSorting.dataFields.length}),e.$.searchInput.placeholder=e.localize("findInView")}_openHeaderDropDown(e){const t=this,i=t.$.headerDropDown
"top"===t.headerPosition?(i.style.bottom=null,i.style.top="100%"):(i.style.top=null,i.style.bottom="100%"),e!==t.$.searchButton?i.style.left=e.offsetLeft-(t.rightToLeft?i.offsetWidth-e.offsetWidth:0)+"px":i.style.left=(t.rightToLeft?e.offsetLeft:e.offsetLeft+Math.max(25,e.offsetWidth)-i.offsetWidth)+"px",i.classList.remove("jqx-visibility-hidden"),i.classList.add("open"),i.controlledBy&&(i.controlledBy.removeAttribute("aria-controls"),i.controlledBy.setAttribute("aria-expanded",!1)),i.controlledBy=e,e.setAttribute("aria-controls",i.id),e.setAttribute("aria-expanded",!0),t._headerDropDownTransitionendHandler()}_searchInputKeyupHandler(){const e=this
function t(){e._searchInfo&&e.$.searchInput.value!==e._searchInfo.query&&e._search(e.$.searchInput.value)}if(clearTimeout(e._searchInputTimeout),"Enter"===event.key&&e._searchInfo.foundIdsArray&&e._searchInfo.foundIdsArray.length>1)return t(),void e._headerClickHandler(e.$.searchNext,e.$.cardContainer||e.$.body)
e._searchInputTimeout=setTimeout(t,500)}})
var Ee=Object.freeze({})
JQX.Utilities.Assign("Grid.Column",class{constructor(e){const t=this
"string"!=typeof e?Object.assign(t,e):(t.label=e,t.dataField=e),t.dataType||(t.dataType="string"),t.columnGroup||(t.columnGroup=""),t.canNotify=!0,t.data=e
let i="left"
switch(t.dataType){case"string":case"date":i="left"
break
case"number":i="right"
break
case"boolean":i="center"}void 0===t.index&&(t.index=-1),void 0===t.visibleIndex&&(t.visibleIndex=-1),void 0===t.selected&&(t.selected=!1),t.label||(t.label=""),t.menuItems||(t.menuItems=null),t.icon||(t.icon="jqx-icon-user"),t.displayField||(t.displayField=t.dataField),t.template||(t.template=""),t.editor||(t.editor="input"),"string"==typeof t.editor?t.editor={template:t.editor,autoFocus:!0}:void 0===t.editor.autoFocus&&(t.editor.autoFocus=!0),t.menu=null,void 0===t.allowActionButtonAnimation&&(t.grid?t.allowActionButtonAnimation=t.grid.appearance.allowColumnActionButtonAnimation:t.allowActionButtonAnimation=!1),void 0===t.allowSortButtonAnimation&&(t.grid?t.allowSortButtonAnimation=t.grid.appearance.allowColumnSortButtonAnimation:t.allowSortButtonAnimation=!1),void 0===t.autoShowActionButton&&(t.grid?t.autoShowActionButton=t.grid.appearance.autoShowColumnActionButton:t.autoShowActionButton=!1),void 0===t.autoShowSortButton&&(t.grid?t.autoShowSortButton=t.grid.appearance.autoShowColumnSortButton:t.autoShowSortButton=!0),void 0===t.showSortButton&&(t.grid?t.showSortButton=t.grid.appearance.showColumnSortButton:t.showSortButton=!1),void 0===t.showIcon&&(t.grid?t.showIcon=t.grid.appearance.showColumnIcon:t.showIcon=!1),void 0===t.showDescriptionButton&&(t.grid?t.showDescriptionButton=t.grid.appearance.showColumnDescriptionButton:t.showDescriptionButton=!1),void 0===t.showCustomButton&&(t.grid?t.showCustomButton=t.grid.appearance.showColumnCustomButton:t.showCustomButton=!1),void 0===t.showActionButton&&(t.grid?t.showActionButton=t.grid.appearance.showColumnActionButton:t.showActionButton=!1),void 0===t.allowLabelAnimation&&(t.grid?t.allowLabelAnimation=t.grid.appearance.allowColumnLabelAnimation:t.allowLabelAnimation=!1),void 0===t.autoShowFilterButton&&(t.grid?t.autoShowFilterButton=t.grid.appearance.autoShowColumnFilterButton:t.autoShowFilterButton=!1),void 0===t.showFilterButton&&(t.grid?t.showFilterButton=t.grid.appearance.showColumnFilterButton:t.showFilterButton=!1),void 0===t.autoCloseMenu&&(t.grid?t.autoCloseMenu=t.grid.columnMenu.autoClose:t.autoCloseMenu=!0),t.formatFunction||(t.formatFunction=null),t.sortOrder||(t.sortOrder=null),t.sortIndex||(t.sortIndex=null),t.filter||(t.filter=null),t.filterMenuMode||(t.filterMenuMode="default",t.grid&&"excel"===t.grid.filtering.filterMenu.mode&&(t.filterMenuMode="excel")),t.align||(t.align=i),t.cellsAlign||(t.cellsAlign=i),t.cellsWrap||(t.cellsWrap=!1,t.grid&&t.grid.layout.allowCellsWrap&&(t.cellsWrap=t.grid.layout.allowCellsWrap)),t.minWidth||(t.minWidth=30),t.width||(t.width=null),t.grid&&t.grid.columnWidth&&(t.width=t.grid.columnWidth),void 0===t.visible&&(t.visible=!0),void 0===t.allowResize&&(t.allowResize=!0),void 0===t.allowReorder&&(t.allowReorder=!0),void 0===t.allowHide&&(t.allowHide=!0),void 0===t.allowSort&&(t.allowSort=!0),void 0===t.allowSelect&&(t.allowSelect=!0),void 0===t.allowSortToggleOnClick&&(t.allowSortToggleOnClick=!0),void 0===t.allowGroup&&(t.allowGroup=!0),void 0===t.allowFilter&&(t.allowFilter=!0),void 0===t.allowEdit&&(t.allowEdit=!0),void 0===t.allowHeaderEdit&&(t.allowHeaderEdit=!0),void 0===t.allowExport&&(t.allowExport=!0),void 0===t.description&&(t.description=""),void 0===t.group&&(t.group=!1),t.summary||(t.summary=[]),t.formatSettings||(t.formatSettings={decimalPlaces:null,decimalSeparator:null,negativeWithBrackets:null,prefix:null,sufix:null,thousandsSeparator:null,dateFormat:"d"}),t.selected=!1,t.sorted=!1,t.filtered=!1,t.parent=null,t.children=[]}refresh(){const e=this
e.element&&e.element._refresh()}render(){const e=this
e.element.column=e,e.element&&e.element._render()}setProperty(e,t){const i=this,n=i.getProperty(e)
n!==t&&(i.canNotify=!1,i[e]=t,i.propertyChanged(e,n,t),i.canNotify=!0)}getProperty(e){const t=this
if("selected"===e){let i=!1
return t.grid._selection.cells["column"+t.dataField]&&(i=null),t.grid&&t.grid._selection.columns[t.dataField]&&(i=!0),t.grid.columns.canNotify=!1,t[e]=i,t.grid.columns.canNotify=!0,i}return"group"===e?!(!t.dataSource||!t.dataSource.groupBy)&&t.dataSource.groupBy.indexOf(t.dataField)>=0:t[e]}get properties(){return["allowExport","allowGroup","allowSelect","verticalAlign","columnGroup","cellsVerticalAlign","autoCloseMenu","autoShowActionButton","autoShowSortButton","autoShowFilterButton","allowLabelAnimation","allowActionButtonAnimation","allowSortButtonAnimation","allowHide","allowEdit","allowHeaderEdit","allowFilter","allowSort","allowSortToggleOnClick","allowResize","allowReorder","canNotify","data","description","grid","icon","menuItems","menu","summary","cellsFormat","formatSettings","formatFunction","index","sortIndex","sortOrder","sorted","groups","element","level","group","filtered","filterEditor","filter","filterMenuMode","dataField","displayField","label","dataType","align","cellsWrap","cellsAlign","minWidth","width","visible","freeze","showActionButton","selected","showIcon","showDescriptionButton","treeColumn","computedWidth","computedHeight","overflowWidth","parent","children","onAction","left","top","showCustomButton","showFilterButton","showSortButton","editor","template","visibleIndex"]}propertyChanged(e,t,i){const n=this
if(n.data&&void 0!==n.data[e]&&(n.data[e]=i),"allowSort"!==e&&"allowFilter"!==e)if("showIcon"!==e)if("visible"!==e)if("showCustomButton"===e&&(i?n.element._showCustomButton():n.element._hideCustomButton()),"showDescriptionButton"===e&&(i?n.element._showDescriptionButton():n.element._hideDescriptionButton()),"filter"===e&&(n.filter?(n.grid.addFilter(n.dataField,n.filter),n.filtered=!0):(n.grid.removeFilter(n.dataField),n.filtered=!1),(n.autoShowFilterButton||n.showFilterButton)&&(i?n.element._showFilterButton():n.element._hideFilterButton())),"sortIndex"!==e){if("selected"===e){if(!1===n.allowSelect)return
n.selectionColumn&&n.refresh(),i?n.grid._selection.columns[n.dataField]||(n.grid._selection.columns[n.dataField]=!0):!1===i&&n.grid._selection.columns[n.dataField]&&delete n.grid._selection.columns[n.dataField],n.grid._recycle(!1)}if("formatSettings"===e&&n.grid._recycle(!1),"sortOrder"===e)return n.sorted=!1,null===i?n.element._hideSortButton():(n.element._showSortButton(),n.sorted=!0),n.grid.context===document&&n.grid.sortBy(n.dataField,n.sortOrder),void(n.sorted?n.element.setAttribute("aria-sort","asc"===n.sortOrder?"ascending":"descenting"):n.element.removeAttribute("aria-sort"))
if("group"!==e){if("showActionButton"===e&&(n.element.allowAnimations=!1,i?n.element._showActionButton():n.element._hideActionButton(),n.element.allowAnimations=!0),"autoShowActionButton"===e&&(n.element.allowAnimations=!1,i?n.element._hideActionButton():n.element._showActionButton(),n.element.allowAnimations=!0),"showFilterButton"===e&&(n.element.allowAnimations=!1,void 0===n._autoShowFilterButton&&(n._autoShowFilterButton=n.autoShowFilterButton),i?(n.autoShowFilterButton=!1,n.element._showFilterButton()):(n.element._hideFilterButton(),n.autoShowFilterButton=n._autoShowFilterButton),n.element.allowAnimations=!0),"showSortButton"===e&&(n.element.allowAnimations=!1,void 0===n._autoShowSortButton&&(n._autoShowSortButton=n.autoShowSortButton),i?(n.autoShowSortButton=!1,n.element._showSortButton()):(n.element._hideSortButton(),n.autoShowSortButton=n._autoShowSortButton),n.element.allowAnimations=!0),"autoShowSortButton"===e&&(n.element.allowAnimations=!1,n._autoShowSortButton=n.autoShowSortButton,i?n.element._hideSortButton():n.element._showSortButton(),n.element.allowAnimations=!0),"menu"===e&&(i?n.element.setAttribute("aria-controls",n.menu.id):(n.element.removeAttribute("aria-controls"),n.autoShowActionButton&&n.element._hideActionButton())),"label"!==e&&"width"!==e&&"minWidth"!==e||n.grid.refresh(),"freeze"===e){if(i)n.element.setAttribute("freeze",""),n.freeze&&(!0===n.freeze||"near"===n.freeze?n.grid._frozenNearColumns.push(n):n.grid._frozenFarColumns.push(n))
else if(!0===n.freeze||"near"===n.freeze){n.element.removeAttribute("freeze")
const e=n.grid._frozenNearColumns.indexOf(n)
e>=0&&n.grid._frozenNearColumns.splice(e,0,0)}else if("far"===n.freeze){const e=n.grid._frozenFarColumns.indexOf(n)
e>=0&&n.grid._frozenFarColumns.splice(e,0,0)}n.grid._createColumnHeaderCellElements(),n.grid.refresh()}}else n.grid.context===document&&(i?n.grid.addGroup(n.dataField):n.grid.removeGroup(n.dataField))}else"many"===n.grid.sorting.mode&&n.grid.context===document&&n.grid.sortBy(n.dataField,n.sortOrder)
else n.grid.refresh(n.grid.grouping.enabled)
else n.refresh()
else n.refresh()}_measureSize(e){const t=this.grid,i=function(){const i=[],n=document.createElement("div"),r=document.createElement("div"),o=Array.isArray(e)?e:[e]
r.classList.add("jqx-label"),n.appendChild(r),n.style.width="auto",n.style.position="static",t.$.columnHeader.appendChild(n)
for(let e=0;e<o.length;e++){r.innerHTML="<span>"+o[e]+"</span>"
const t=20+r.firstChild.offsetWidth,n=Math.max(30,t)
i.push(n)}return t.$.columnHeader.removeChild(n),i}()
return 1===i.length?i[0]:i}_autoSize(e){const t=this,i=t.grid
let n=t.label.toString()
if(!e){const e=i.isInitialized?i._recyclingRows:[]
for(let i=0;i<e.length;i++){const r=""+e[i].data[t.dataField]
r&&r.length>n.length&&(n=r)}}return t._measureSize(n)}autoSize(e){const t=this._autoSize(e)
this.width=t}createElement(){const e=this,t=document.createElement("jqx-grid-column")
return t._initialize(e),t.setAttribute("role","columnheader"),t.setAttribute("aria-haspopup",""),e.element=t,e.grid.notify(function(t,i,n){switch(t){case"appearance_allowColumnLabelAnimation":e.setProperty("allowLabelAnimation",n)
break
case"appearance_allowColumnSortAnimation":e.setProperty("allowSortAnimation",n)
break
case"appearance_allowColumnSortButtonAnimation":e.setProperty("allowSortButtonAnimation",n)
break
case"appearance_allowColumnActionButtonAnimation":e.setProperty("allowActionButtonAnimation",n)
break
case"appearance_allowColumnFilterButtonAnimation":e.setProperty("allowFilterButtonAnimation",n)
break
case"appearance_autoShowColumnActionButton":e.setProperty("autoShowActionButton",n)
break
case"appearance_autoShowColumnSortButton":e.setProperty("autoShowSortButton",n)
break
case"appearance_autoShowColumnFilterButton":e.setProperty("autoShowFilterButton",n)
break
case"appearance_showColumnActionButton":e.setProperty("showActionButton",n)
break
case"appearance_showColumnFilterButton":e.setProperty("showFilterButton",n)
break
case"appearance_showColumnCustomButton":e.setProperty("showCustomButton",n)
break
case"appearance_showColumnDescriptionButton":e.setProperty("showDescriptionButton",n)
break
case"appearance_showColumnSortButton":e.setProperty("showSortButton",n)
break
case"appearance_showFrozenColumnBackground":case"appearance_showSortColumnBackground":case"appearance_showFilterColumnBackground":e.grid._recycle(!1)}}),t}}),JQX("jqx-grid-column",class extends JQX.BaseElement{_showSortButton(e){const t=this
t.column&&(t.column.autoGenerated||(t.sortButton.classList.remove("asc"),t.sortButton.classList.remove("desc"),t.column.autoShowSortButton||t.column.allowSort&&t.sortButton.classList.add("jqx-icon-sort","jqx-grid-icon"),"asc"===t.column.sortOrder?t.sortButton.classList.add("asc"):"desc"===t.column.sortOrder&&t.sortButton.classList.add("desc"),t.column.showSortButton&&(t.sortButton.classList.add("show"),!1!==e&&t._refresh())))}_hideSortButton(e){const t=this
t.column&&(t.sortButton.classList.remove("asc"),t.sortButton.classList.remove("desc"),t.column.showSortButton&&!t.column.autoShowSortButton||(t.sortButton.classList.remove("show"),t.sortButton.classList.remove("jqx-icon-sort"),!1!==e&&t._refresh()))}_showFilterButton(){this.column&&!this.column.autoGenerated&&(this.filterButton.classList.add("show"),this._refresh())}_hideFilterButton(){this.column&&(this.filterButton.classList.remove("show"),this._refresh())}_showDescriptionButton(){this.column&&!this.column.autoGenerated&&(this.descriptionButton.setAttribute("title",this.column.description),this.descriptionButton.classList.add("show"),this._refresh())}_hideDescriptionButton(){this.column&&(this.descriptionButton.classList.remove("show"),this._refresh())}_showIcon(){this.column&&!this.column.autoGenerated&&(this.icon.classList.add("show"),this._refresh())}_hideIcon(){this.icon.classList.remove("show"),this._refresh()}_showCustomButton(){this.column&&!this.column.autoGenerated&&(this.customButton.classList.add("show"),this._refresh())}_hideCustomButton(){this.column&&(this.customButton.classList.remove("show"),this._refresh())}_showActionButton(){const e=this
e.column&&e.column.showActionButton&&e.column.grid.hasColumnMenu(e.column)&&!e.column.autoGenerated&&e.actionButton&&(e.actionButton.classList.add("show"),e._refresh())}_hideActionButton(){const e=this
e.column&&e.column.showActionButton&&e.actionButton&&!e.hasAttribute("aria-controls")&&(e.actionButton.classList.remove("show"),e._refresh())}_rotate(){const e=document.createElement("span")
return this.label.innerHTML="",e.innerHTML=this.column.label,this.label.appendChild(e),e.className="rotate",e.style.transform="rotate("+this.column.rotationAngle+"deg)",this.column.grid._recycleRotate(this.label,e,this.column.align,this.column.verticalAlign,this.column.label)}_align(){const e=this
let t=e.column.align
switch(e.column.grid.rightToLeft&&("left"===t?t="right":"right"===t&&(t="left")),t){case"left":e.label.classList.add("align-left")
break
case"center":e.label.classList.add("align-center")
break
case"right":e.label.classList.add("align-right")}switch(e.column.verticalAlign){case"top":e.label.classList.add("align-top")
break
case"middle":e.label.classList.add("align-middle")
break
case"bottom":e.label.classList.add("align-bottom")}}_refresh(){const e=this,t=e.column.grid
if(e.sortButton.classList.remove("filter"),e.sortButton.classList.remove("action"),e.label.className="jqx-label",e.column.visible&&"_checkBoxColumn"===e.column.dataField){const t=e.column.grid
let i=t.getVisibleRows()
t.paging.enabled&&"page"===t.selection.checkBoxes.selectAllMode&&(i=i.slice(t.paging.pageIndex*t.paging.pageSize,(t.paging.pageIndex+1)*t.paging.pageSize))
const n=t.paging.enabled&&"page"===t.selection.checkBoxes.selectAllMode?t._getSelectedRows(!0,!0):t._getSelectedRows(!0,!1)
return t.selection.checkBoxes.autoShow?e.setAttribute("auto-show",""):e.removeAttribute("auto-show"),n.length===i.length?e.setAttribute("selected",""):n.length>0&&n.length<i.length?e.setAttribute("selected","indeterminate"):0!==n.length&&0!==i.length||e.removeAttribute("selected"),e.removeAttribute("checkbox"),e.label.classList.remove("jqx-input"),void("none"!==t.selection.checkBoxes.selectAllMode&&(e.setAttribute("checkbox",""),e.label.classList.add("jqx-input")))}if("_commandColumn"===e.column.dataField){const t=e.column.grid,i="icon"!==t.editing.commandColumn.displayMode,n="label"!==t.editing.commandColumn.displayMode,r=t.editing.commandColumn.dataSource.commandColumnMenu
let o='<div class="jqx-grid-command-item">'
const a="{{messages}}"===r.label?t.localize("commandColumnMenu"):r.label,s=r.icon
n&&i?(o+='<span class="jqx-grid-icon '+s+'"></span>',o+='<span class="jqx-grid-label">'+a+"</span>"):n&&!i?o+='<span class="jqx-grid-icon '+s+'"></span>':i&&!n&&(o+='<span class="jqx-grid-label">'+a+"</span>"),o+="</div>",r.visible&&(e.label.innerHTML=o)}const i=e.column.getProperty("selected")
!1===i&&e.hasAttribute("selected")?e.removeAttribute("selected"):!0===i?e.setAttribute("selected",""):null===i&&e.setAttribute("selected","indeterminate"),e.column.allowSortButtonAnimation?e.sortButton.classList.add("jqx-animate"):e.sortButton.classList.remove("jqx-animate"),t.dragDrop&&t.dragDrop.column===e.column?e.classList.add("dragged"):e.classList.remove("dragged"),e.column.sorted?e._showSortButton(!1):e._hideSortButton(!1),e.column.allowFilterButtonAnimation?e.filterButton.classList.add("jqx-animate"):e.filterButton.classList.remove("jqx-animate"),e.column.allowActionButtonAnimation&&!1!==e.allowAnimations?e.buttonsGroup.classList.add("jqx-animate"):e.buttonsGroup.classList.remove("jqx-animate"),e.column.allowLabelAnimation&&!1!==e.allowAnimations?e.label.classList.add("jqx-animate"):e.label.classList.remove("jqx-animate"),e.buttonsGroup.classList.remove("action"),e.actionButton.classList.contains("show")&&e.buttonsGroup.classList.add("action"),e.column.showIcon?e.icon.classList.add("show"):e.icon.classList.remove("show"),e.icon.classList.contains("show")&&e.icon.classList.add(e.column.icon)
let n=e.column.showIcon?1:0
for(let t=0;t<e.buttonsGroup.children.length;t++)e.buttonsGroup.children[t].classList.contains("show")&&n++
switch(n){case 1:e.label.classList.add("one")
break
case 2:e.label.classList.add("two")
break
case 3:e.label.classList.add("three")
break
case 4:e.label.classList.add("four")
break
case 5:e.label.classList.add("five")
break
case 6:e.label.classList.add("six")}if(e.classList.remove("jqx-visibility-hidden"),e.column.grid._columnGap>0?e.classList.add("jqx-grid-column-border"):e.classList.remove("jqx-grid-column-border"),e.column.grid.appearance.showColumnHeaderLines?e.classList.remove("jqx-grid-vertical-border-collapse"):e.classList.add("jqx-grid-vertical-border-collapse"),e.column.rotationAngle){if(!e._rotate())return}e._align()}_render(){const e=this,t=e.column.dataField?e.column.dataField:"",i=e.column===e.column.grid._lastVisibleColumn
e.label.firstChild?e.label.firstChild.textContent!==e.column.label&&(e.label.firstChild.textContent=e.column.label):e.label.innerHTML="<span>"+e.column.label+"</span>",e._refresh(),e.column.autoGenerated||i?e.style.width=e.column.computedWidth+"px":e.style.width=e.column.computedWidth-e.column.grid._columnGap+"px",e.style.height!==e.column.computedHeight+"px"&&(e.style.height=e.column.computedHeight+"px"),e.style.lineHeight!==e.column.computedHeight+"px"&&(e.style.lineHeight=e.column.computedHeight+"px"),e.column.grid.rightToLeft?e.style.right!==e.column.left+"px"&&(e.style.right=e.column.left+"px"):e.style.left!==e.column.left+"px"&&(e.style.left=e.column.left+"px"),e.style.top!==e.column.top+"px"&&(e.style.top=e.column.top+"px"),e.getAttribute("data-field")!==t&&e.setAttribute("data-field",t),e.setAttribute("header",""),e.column.freeze&&e.setAttribute("freeze",""),e.column.level>0&&(e.style.top=e.column.top+"px")}get hasStyleObserver(){return!1}get enableShadowDOM(){return!1}addThemeClass(){}addDefaultClass(){}get isUtilityElement(){return!0}_initialize(e){const t=this,i=document.createElement("div"),n=document.createElement("div"),r=document.createElement("div"),o=document.createElement("div"),a=document.createElement("div"),s=document.createElement("div"),l=document.createElement("div"),d=document.createElement("div")
t.column=e,t.classList.add("jqx-visibility-hidden"),l.classList.add("jqx-icon","jqx-grid-icon"),i.classList.add("jqx-label"),n.classList.add("jqx-sort-button","jqx-grid-icon"),r.classList.add("jqx-filter-button","jqx-icon-filter","jqx-grid-icon"),o.classList.add("jqx-action-button","jqx-grid-icon"),o.setAttribute("aria-haspopup",""),a.classList.add("jqx-description-button","jqx-icon-info-circled","jqx-grid-icon"),s.classList.add("jqx-custom-button",e.customButtonIcon?e.customButtonIcon:"jqx-icon-tools","jqx-grid-icon"),d.classList.add("jqx-buttons-group"),o.innerHTML="<div></div>",t.style.width=t.column.computedWidth+"px",t.appendChild(l),t.appendChild(i),t.appendChild(d),d.appendChild(n),d.appendChild(r),d.appendChild(a),d.appendChild(s),d.appendChild(o),t.icon=l,t.label=i,t.sortButton=n,t.filterButton=r,t.actionButton=o,t.descriptionButton=a,t.customButton=s,t.buttonsGroup=d
const c=window.PointerEvent?"pointerdown":"mousedown",h=window.PointerEvent?"pointerup":"mouseup"
t._filterDownEvent=function(e){e.preventDefault(),e.stopPropagation(),t.column.onAction&&t.column.onAction(e)}.bind(t),t._filterUpEvent=function(e){e.preventDefault(),e.stopPropagation()},t._actionUpEvent=function(e){e.preventDefault(),e.stopPropagation()},t._actionDownEvent=function(e){e.preventDefault(),e.stopPropagation(),t.column.onAction&&t.column.onAction(e)}.bind(t),t.filterButton.addEventListener(c,t._filterDownEvent),t.filterButton.addEventListener(h,t._filterUpEvent),t.actionButton.addEventListener(h,t._actionUpEvent),t.actionButton.addEventListener(c,t._actionDownEvent),!t.column.autoShowActionButton&&t.column.showActionButton&&t._showActionButton(),!t.column.autoShowSortButton&&t.column.showSortButton&&t._showSortButton(),!t.column.autoShowFilterButton&&t.column.showFilterButton&&t._showFilterButton(),t.column.showDescriptionButton&&t._showDescriptionButton(),t.column.showCustomButton&&t._showCustomButton(),t.column.showIcon&&t._showIcon(),"_rowHeaderColumn"===t.column.dataField&&t.classList.add("top-near-corner"),t.customButton.onclick=function(e){t.column.onCustomButtonClick&&t.column.onCustomButtonClick(e)}.bind(t)}template(){return""}_detach(){const e=this,t=window.PointerEvent?"pointerdown":"mousedown",i=window.PointerEvent?"pointerup":"mouseup"
e.filterButton.removeEventListener(t,e._filterDownEven),e.filterButton.removeEventListener(i,e._filterUpEvent),e.actionButton.removeEventListener(i,e._actionUpEvent),e.actionButton.removeEventListener(t,e._actionDownEvent),e.element=null,e.column&&(e.column.grid=null,e.column.element=null),e.icon=null,e.label=null,e.sortButton=null,e.filterButton=null,e.actionButton=null,e.descriptionButton=null,e.customButton=null,e.buttonsGroup=null,e.column=null,delete e.grid,delete e.column,delete e.icon,delete e.label,delete e.sortButton,delete e.filterButton,delete e.actionButton,delete e.descriptionButton,delete e.customButton,delete e.buttonsGroup}onDetached(){this._detach()}})
var Pe=Object.freeze({})
JQX.Utilities.Assign("Grid.Row",class{constructor(e){const t=this
if(e||(e={}),Object.assign(t,e),e){if(void 0===t.data){const i={$:{}}
if(e.grid&&e.grid.dataSource){const t=e.grid.dataSource
for(let e=0;e<t.dataFields.length;e++){i[(t.dataFields?t.dataFields[e]:{}).name]=""}}else Object.assign(i,e)
e.id&&(i.$.id=e.id),t.data=i}(void 0===e.$||e.$&&void 0===e.$.id)&&(e.data?(e.data.$&&e.data.$.id&&(t.id=e.data.$.id),t.id||(t.id=e.index)):void 0===t.id&&(t.id=e.index),void 0===t.id&&(t.id=JQX.Utilities.Core.createGUID())),void 0===t.detailHeight&&(t.grid?t.detailHeight=t.grid.rowDetail.height:t.detailHeight=200),void 0===t.height&&t.grid&&(t.height=t.grid.layout.rowMinHeight,t.grid.__autoRowHeight&&(t.height=t.grid.__autoRowHeight),t.grid.layout.rowHeight&&(t.height=t.grid.layout.rowHeight)),void 0===t.cellHeight&&(t.cellHeight=t.height),void 0===t.showDetail&&(t.showDetail=!1),void 0===t.index&&(t.index=-1),void 0===t.visibleIndex&&(t.visibleIndex=-1),void 0===t.freeze&&(t.freeze=!1),void 0===t.height&&(t.height=null),void 0===t.minHeight&&(t.minHeight=25,t.grid&&(t.minHeight=t.grid.layout.rowMinHeight)),void 0===t.checked&&(t.checked=!1),void 0===t.selected?(t.selected=!1,t.grid&&t.grid._selection.rows[t.id]&&(t.selected=!0)):t.selected&&t.grid&&(t.grid._selection.rows[t.id]=!0),void 0===t.enabled&&(t.enabled=!0),void 0===t.visible&&(t.visible=!0),void 0===t.allowCheck&&(t.allowCheck=!0),void 0===t.filtered&&(t.filtered=!0),void 0===t.allowResize&&(t.allowResize=!0),void 0===t.allowReorder&&(t.allowReorder=!0),void 0===t.allowToggle&&(t.allowToggle=!0),void 0===t.allowSelect&&(t.allowSelect=!0),void 0===t.expanded&&(e.data&&void 0!==e.data.expanded?t.expanded=e.data.expanded:t.expanded=!1),t.headerCell=null,t._cells=[]}}get properties(){return["allowToggle","allowResize","allowSelect","allowReorder","allowCheck","canNotify","children","checked","cells","detailHeight","detailTemplate","cellHeight","expandHeight","data","enabled","expanded","filtered","freeze","grid","headerCell","height","index","id","minHeight","unbound","selected","showDetail","visible","parent","leaf","visibleIndex"]}createElement(){const e=document.createElement("jqx-grid-row")
return this.element=e,e.setAttribute("role","row"),e._initialize(this),e}_autoSize(e){const t=this,i=t.grid
let n=i.layout.rowMinHeight
const r=t.element
if(e||(e=t),e&&(t.data=e.data),!r)return t.height
i.__autoHeightRows||(i.__autoHeightRows=[])
const o=(e,t,r)=>{if(!r||!t||t.autoGenerated)return 0
i.__autoHeightRows[t.dataField]||(i.__autoHeightRows[t.dataField]=[])
const o=e.data[t.dataField].length,a=i.__autoHeightRows[t.dataField][o],s=a||(()=>{r.style.height="auto",t.cellsWrap?r.content.classList.add("wrap"):r.content.classList.add("nowrap"),e&&t&&(r.content.textContent=e.data[t.dataField])
const i=r.offsetHeight
return r.style.height="",r.content.classList.remove("wrap"),r.content.classList.remove("nowrap"),i})()
n=Math.max(n,s),a||(i.__autoHeightRows[t.dataField][o]=s)}
for(let t=0;t<i._frozenNearColumns.length;t++){o(e,i._frozenNearColumns[t],r.children[0].children[t])}for(let t=0;t<i._frozenFarColumns.length;t++){o(e,i._frozenFarColumns[t],r.children[2].children[t])}for(let t=0;t<r.children[1].children.length;t++){o(e,i._columnElements[t].column,r.children[1].children[t])}return n}autoSize(){const e=this._autoSize()
this.height=e}getCell(e){const t=this,i=t.grid
if("string"!=typeof e&&"number"!=typeof e||(e=i.columnByDataField[e]),!e)return null
if(t["column_"+e.dataField]){const i=t["column_"+e.dataField]
return i.column=e,i}{const n=new JQX.Grid.Cell(t,e,i)
return t["column_"+e.dataField]=n,n}}get cells(){const e=this
return e._cells&&e.grid&&e._cells.length===e.grid.columns.length?e._cells:(e.createCells(),e._cells)}get viewCells(){const e=this,t=[]
for(let i=0;i<e.grid.viewColumns.length;i++){const n=e.grid.viewColumns[i]
if(e["column_"+n.dataField]){const i=e["column_"+n.dataField]
t.push(i)}else{const i=new JQX.Grid.Cell(e,n,e.grid)
e["column_"+n.dataField]=i,t.push(i)}}return e._viewCells=t,t}createCells(){const e=this,t=e.grid
e._cells=[]
for(let i=0;i<t.viewColumns.length;i++){const n=t.viewColumns[i]
if(!n.autoGenerated)if(e["column_"+n.dataField]){const t=e["column_"+n.dataField]
e._cells.push(t)}else{const i=new JQX.Grid.Cell(e,n,t)
e["column_"+n.dataField]=i,e._cells.push(i)}}}toggle(e){this.element._handleExpandCollapse(!this.expanded,e)}select(){this.setProperty("selected",!0)}unselect(){this.setProperty("selected",!1)}expand(){this.element._handleExpandCollapse(!0)}collapse(){this.element._handleExpandCollapse(!1)}render(){this.element.row=this,this.element._render()}setProperty(e,t){const i=this,n=i.getProperty(e)
i[e]=t,n!==t&&(i.canNotify=!1,i.propertyChanged(e,n,t),i.canNotify=!0)}getProperty(e){const t=this
if("selected"===e&&t.grid){let i=!1
return t.grid._selection.cells["row"+t.id]&&(i=null),t.grid&&t.grid._selection.rows[t.id]&&(i=!0),t.grid.rows.canNotify=!1,t[e]=i,t.grid.rows.canNotify=!0,i}return t[e]}propertyChanged(e,t,i){const n=this
if("showDetail"===e){n.height=0
const e=n.element.rowDetail
if(n.grid.appearance.allowRowDetailToggleAnimation&&!n.grid.rowDetail.dialog.enabled){const t=function(e){const t=n.grid._toggledRow
!t||"transform"!==e.propertyName&&"height"!==e.propertyName||r(t)},r=function(e){e.grid.$.content.style.transition="",e.element.rowDetail.removeEventListener("transitionend",t),e.element.rowDetail.removeEventListener("transitioncancel",t),e.grid._toggledRow=null,e.element.removeAttribute("has-detail"),n.grid._refresh()}
n.grid._toggledRow=n,e.addEventListener("transitionend",t),e.addEventListener("transitioncancel",t),i?(n.element.setAttribute("has-detail",""),n.element.toggleDetailButton.removeAttribute("toggled"),n.element.toggleDetailButton.classList.remove("jqx-animate"),setTimeout(()=>{n.element.toggleDetailButton.classList.add("jqx-animate"),n.element.toggleDetailButton.setAttribute("toggled",""),n.element.setAttribute("show-detail","")}),n.element.style.height=n.cellHeight+n.detailHeight+"px",n.grid._autoHeight&&(n.grid.$.content.style.transition="0.25s height ease-in-out",n.grid.$.content.style.height=parseInt(n.grid.$.content.style.height)+n.detailHeight+"px",n.grid.$.scrollView.style.height="auto"),e.classList.remove("jqx-hidden"),e.style.height!==n.detailHeight+"px"&&(e.style.height=n.detailHeight+"px"),e.style.lineHeight!==n.detailHeight+"px"&&(e.style.lineHeight=n.detailHeight+"px"),e.style.top!==n.cellHeight+"px"&&(e.style.top=n.cellHeight+"px")):(n.element.setAttribute("has-detail",""),n.element.toggleDetailButton.removeAttribute("toggled"),n.grid._autoHeight&&(n.grid.$.content.style.transition="0.25s height ease-in-out",n.grid.$.content.style.height=parseInt(n.grid.$.content.style.height)-n.detailHeight+"px",n.grid.$.scrollView.style.height="auto"),setTimeout(()=>{n.element.style.height=n.cellHeight+"px",n.element.removeAttribute("show-detail")}))}else n.grid._refresh()}if("allowCheck"!==e&&"allowSelect"!==e||n.grid._recycle(),"checked"===e&&(n.grid.checkBoxes.hasThreeStates&&n.grid._hasThreeStates(n,n),n.grid._recycle()),"selected"===e){if(!1===n.allowSelect)return
if(i?n.grid._selection.rows[n.id]=!0:!1===i&&n.grid._selection.rows[n.id]&&delete n.grid._selection.rows[n.id],!n.element)return
i?n.element.setAttribute("aria-selected",!0):n.element.removeAttribute("aria-selected"),n.grid._recycle()}"visible"===e&&n.grid.refresh(),"expanded"===e&&(n.expandHeight||n.grid.refresh()),"height"===e&&(n.expandHeight||n.cellHeight!==i&&(n.cellHeight=i,n.grid.refresh())),"freeze"===e&&(!0===i||"near"===i?n.grid._frozenNearRows.push(n):"far"===i?n.grid._frozenFarRows.push(n):(n.grid._frozenNearRows.splice(n.grid._frozenNearRows.indexOf(n),1),n.grid._frozenFarRows.splice(n.grid._frozenFarRows.indexOf(n),1)),n.grid._recycle())}}),JQX("jqx-grid-row",class extends JQX.BaseElement{static get properties(){return{}}get isUtilityElement(){return!0}get hasStyleObserver(){return!1}addThemeClass(){}addDefaultClass(){}_initialize(e){const t=this,i=e.grid,n=i._columnElements,r=i._frozenNearColumns,o=i._frozenFarColumns,a=document.createElement("div"),s=document.createElement("div"),l=document.createElement("div"),d=document.createDocumentFragment(),c=document.createDocumentFragment(),h=document.createDocumentFragment()
i.rightToLeft?(s.classList.add("far","jqx-grid-cell-container"),a.classList.add("center","jqx-grid-cell-container"),l.classList.add("near","jqx-grid-cell-container")):(s.classList.add("near","jqx-grid-cell-container"),a.classList.add("center","jqx-grid-cell-container"),l.classList.add("far","jqx-grid-cell-container")),t.row=e,e.createCells(),t._mouseEnter=function(){if(!i.isScrolling&&!i.editing.isEditing&&(t.commandBar&&(t.commandBar.parentNode.removeChild(t.commandBar),t.commandBar=null),i.editing.enabled&&i.editing.commandColumn.visible&&i.editing.commandColumn.inline&&!t.commandBar)){const e=document.createElement("div"),n=i._getCommandColumnCommandsTemplate()
e.classList.add("jqx-grid-command-bar"),e.innerHTML=n,a.appendChild(e),requestAnimationFrame(()=>{e.classList.add("show")}),i._updateCommandColumnCommandsVisibility(e,t.row),e.onmousedown=function(e){const n=e.path
let r=null
for(let e=0;e<n.length;e++)if(n[e].classList.contains("jqx-grid-command-item")){r=n[e]
break}if(r){const n=r.getAttribute("command")
i._applyCommand(n,[t.row]),t.commandBar&&(t.commandBar.parentNode.removeChild(t.commandBar),t.commandBar=null),t.removeAttribute("hover"),e.stopPropagation(),e.preventDefault()}},t.commandBar=e}},t._mouseLeave=function(){i.isScrolling||i.editing.isEditing||t.commandBar&&(t.commandBar.classList.remove("show"),t.commandBar.addEventListener("transitionend",function(){t.commandBar&&(t.commandBar.parentNode.removeChild(t.commandBar),t.commandBar=null)}),t.commandBar.addEventListener("transitioncancel",function(){t.commandBar&&(t.commandBar.parentNode.removeChild(t.commandBar),t.commandBar=null)}))},t.addEventListener("mouseenter",t._mouseEnter),t.addEventListener("mouseleave",t._mouseLeave)
for(let t=0;t<r.length;t++){const i=r[t],n=e.getCell(i).createElement()
c.appendChild(n)}for(let t=0;t<o.length;t++){const i=o[t],n=e.getCell(i).createElement()
h.appendChild(n)}for(let i=0;i<n.length;i++){const r=n[i],o=r.column
if(!r.parentNode||!o)break
const a=e.getCell(o).createElement()
o&&o._treeColumn&&(t.toggleButton=a.toggleButton),d.appendChild(a)}s.appendChild(c),a.appendChild(d),l.appendChild(h)
const u=document.createElement("div")
u.classList.add("jqx-grid-row-detail","jqx-hidden","jqx-animate")
const p=document.createElement("div")
p.classList.add("jqx-grid-row-sub-container","jqx-hidden"),t._rowFragment=document.createDocumentFragment(),t._rowFragment.appendChild(s),t._rowFragment.appendChild(a),t._rowFragment.appendChild(l),t._rowFragment.appendChild(u),t._rowFragment.appendChild(p),t.appendChild(t._rowFragment),t.cellsNearContainerElement=t.children[0],t.cellsContainerElement=t.children[1],t.cellsFarContainerElement=t.children[2],t.rowDetail=t.children[3],t.rowContainer=t.children[4],i.layout.rowHeight&&"auto"!==i.layout.rowHeight&&(t.style.height=i.layout.rowHeight+"px"),delete t._rowFragment}get enableShadowDOM(){return!1}_handleExpandCollapse(e,t){const i=this,n=i.row,r=n.grid
if(!n.allowToggle)return null
r._toggledRow=n
let o={row:n}
t&&(o.originalEvent=t.originalEvent),r.$.fireEvent(e?"rowExpand":"rowCollapse",o)
const a=r.dataSource.virtualDataSourceOnExpand&&e&&!0!==n.data._loaded
if(!r.appearance.allowRowToggleAnimation||a)r.rows.canNotify=!1,n.expanded=e,r.rows.canNotify=!0,a&&(n.data._loaded=!0,n.data.expanded=e,r._virtualDataRequest("expand")),r._toggledRow=null,r._refresh(),a&&r.appearance.allowRowToggleAnimation&&(i.toggleButton.removeAttribute("toggled"),i.toggleButton.classList.remove("jqx-animate"),setTimeout(()=>{i.toggleButton.classList.add("jqx-animate"),i.toggleButton.setAttribute("toggled","")},50))
else{const t=function(e){e.height=e.cellHeight,r.$.content.style.transition="",e.element.rowContainer.innerHTML="",e.element.rowContainer.classList.add("jqx-hidden"),e.element.rowContainer.removeEventListener("transitionend",o),e.element.rowContainer.removeEventListener("transitioncancel",o),e.element.rowContainer.style.height="",e.element.rowContainer.style.transform="",e.element.rowContainer.style.transition="",e.element.rowContainer.classList.remove("jqx-animate"),e.element.toggleButton&&e.element.toggleButton.classList.remove("jqx-animate"),r._refresh()},o=function(e){const n=r._toggledRow
i._toggleTimer=null,r._toggledRow=null,!n||"transform"!==e.propertyName&&"height"!==e.propertyName||setTimeout(()=>{t(n)},50)}
if(i._toggleTimer){clearTimeout(i._toggleTimer)
const e=r._toggledRow
r._toggledRow=null,t(e)}i._toggleTimer=setTimeout(()=>{const t=function(){!function(){const e=r._toggledRow
r._refresh(),r._refreshRowHierarchy()
let t=0
for(let e=0;e<r.rowHierarchy.length;e++){const i=r.rowHierarchy[e]
let n=i.parent
for(;n;)n.id===r._toggledRow.id&&(t+=i.height),n=n.parent}const i=r._scrollView.scrollTop,n=r._contentHeight-(e.cellHeight+e.top-i)
e.expandHeight=Math.min(n,t),e.height=e.cellHeight+e.expandHeight}(),r._recycle(!1),i.style.overflow="hidden",i.style.height="auto",i.style.lineHeight=n.cellHeight+"px"}
e?(n.expanded=!0,t(),i.rowContainer.style.transform="scaleY(0)",i.rowContainer.style.height="0px",i.toggleButton&&i.toggleButton.removeAttribute("toggled"),r._autoHeight&&(r.$.content.style.height=parseInt(r.$.content.style.height)-n.expandHeight+"px"),setTimeout(function(){i.toggleButton&&(i.toggleButton.classList.add("jqx-animate"),i.toggleButton.setAttribute("toggled","")),i.rowContainer.addEventListener("transitionend",o),i.rowContainer.addEventListener("transitioncancel",o),r._autoHeight&&(r.$.content.style.transition="0.25s height ease-in-out",r.$.content.style.height=parseInt(r.$.content.style.height)+n.expandHeight+"px"),i.rowContainer.classList.add("jqx-animate"),i.rowContainer.style.height=n.expandHeight+"px",i.rowContainer.style.transform="scaleY(1)"})):(t(),n.expanded=!1,i.rowContainer.style.transform="scaleY(0)",i.rowContainer.style.height="0px",r._autoHeight&&(r.$.content.style.height=parseInt(r.$.content.style.height)-n.expandHeight+"px",r.$.content.style.transition="",r.$.content.style.height=parseInt(r.$.content.style.height)+n.expandHeight+"px"),i.rowContainer.style.height=n.expandHeight+"px",i.rowContainer.style.transform="scaleY(1)",i.toggleButton&&(i.toggleButton.setAttribute("toggled",""),i.toggleButton.classList.add("jqx-animate")),setTimeout(function(){i.toggleButton&&i.toggleButton.removeAttribute("toggled",""),r._autoHeight&&(r.$.content.style.transition="0.25s height ease-in-out",r.$.content.style.height=parseInt(r.$.content.style.height)-n.expandHeight+"px"),i.rowContainer.addEventListener("transitionend",o),i.rowContainer.addEventListener("transitioncancel",o),i.rowContainer.classList.add("jqx-animate"),i.rowContainer.style.transform="scaleY(0)",i.rowContainer.style.height="0px"},0))},50)}}_renderAddNewRow(){const e=this,t=e.row,i=t.grid,n=t.element,r=new JQX.Grid.Cell(t,i.columns[0],i)
t.visible?n.classList.remove("jqx-hidden"):n.classList.add("jqx-hidden"),n.innerHTML="<jqx-grid-cell><div>"+i.localize("addNewRow")+"</div></jqx-grid-cell>",n.firstChild.firstChild.classList.add("align-center"),n.firstChild.classList.add("jqx-grid-column-border-collapse"),n.firstChild.setAttribute("freeze",""),n.firstChild.setAttribute("addNewRow",""),n.firstChild.style.width="100%",i._scrollView.vScrollBar.offsetWidth>0&&(n.firstChild.style.width="calc(100% - "+(-1+i._scrollView.vScrollBar.offsetWidth)+"px)"),n.firstChild.cell=r,i._rowGap>0&&t!==i.rows[i.rows.length-1]?(e.style.marginBottom=i._rowGap+"px",parseInt(e.style.height)-i._rowGap!==t.height&&(e.style.height=t.height-i._rowGap+"px"),parseInt(e.style.lineHeight)-i._rowGap!==t.height&&(e.style.lineHeight=t.height-i._rowGap+"px")):(e.style.marginBottom="",parseInt(e.style.height)!==t.height&&(e.style.height=t.height+"px"),parseInt(e.style.lineHeight)!==t.height&&(e.style.lineHeight=t.height+"px"))}_renderFilterRow(){const e=this,t=e.row,i=t.grid,n=t.element
t.visible?n.classList.remove("jqx-hidden"):n.classList.add("jqx-hidden"),n.innerHTML="<jqx-grid-cell><div>"+i.localize("addNewRow")+"</div></jqx-grid-cell>",n.firstChild.firstChild.classList.add("align-center"),n.firstChild.classList.add("jqx-grid-column-border-collapse"),n.firstChild.setAttribute("freeze",""),n.firstChild.setAttribute("addNewRow",""),n.firstChild.style.width="100%",i._scrollView.vScrollBar.offsetWidth>0&&(n.firstChild.style.width="calc(100% - "+(-1+i._scrollView.vScrollBar.offsetWidth)+"px)"),e.style.marginBottom="",parseInt(e.style.height)!==t.height&&(e.style.height=t.height+"px"),parseInt(e.style.lineHeight)!==t.height&&(e.style.lineHeight=t.height+"px")}_renderEmpty(){this.classList.add("jqx-hidden")}_renderCell(e,t,i){if(!t)return void i.classList.add("jqx-hidden")
let n=e.getCell(t)
n.element!==i&&(n._styleChanged=!0),i.cell!==n&&(i.cell.background===n.background&&i.cell.borderColor===n.borderColor&&i.cell.color===n.color&&i.cell.fontSize===n.fontSize&&i.cell.fontFamily===n.fontFamily&&i.cell.fontWeight===n.fontWeight&&i.cell.fontStyle===n.fontStyle||(n._styleChanged=!0)),n.element=i,i.cell=n,t._treeColumn&&n.element.isRendered&&n.element._refresh(),n.render(),t&&t.rowHeaderColumn&&(e.header=i,i.setAttribute("data-id",e.id))}_alternate(){const e=this,t=e.row,i=t.grid,n=i.appearance.alternationStart,r=i.appearance.alternationEnd>0?i.appearance.alternationEnd:1/0
if(!(i.appearance.alternationCount<=0)&&(e.removeAttribute("alternation-index"),t.visibleIndex>=n&&t.visibleIndex<=r)){const r=(t.visibleIndex-n)%i.appearance.alternationCount
e.setAttribute("alternation-index",r)}}_openRowDetailDialog(e){const t=this.row.grid,i=this.row
if(!t.rowDetail.dialog.enabled||!i.showDetail)return!1
const n=t._dialogRowDetail||t._createDialog(t.rowDetail.dialog)
if(t.rowDetail.dialog.visible&&n.row!==i)return void(i.showDetail=!1)
const r="{{message}}"===t.rowDetail.dialog.header?t.localize("dialogRowDetailHeader",{value:i.visibleIndex+1}):t.rowDetail.dialog.header
!t.rowDetail.dialog.visible||t.rowDetail.dialog.row!==i||i.showDetail?(n.header.innerHTML=r,n.content.innerHTML="",n.content.style.width="100%",n.content.style.height="100%",n.row=i,n.querySelector(".jqx-footer").classList.add("jqx-hidden"),t._dialogRowDetail||(n.setAttribute("tabindex",0),n.modal=!0,n.btnConfirm.innerHTML=t.localize("dialogRowDetailButtonConfirm"),n.btnCancel.innerHTML=t.localize("dialogRowDetailButtonCancel"),n.btnCancel.classList.add("jqx-hidden"),n.onOpen=function(){t.rowDetail.dialog.visible=!0},n.onClose=function(){t.rowDetail.dialog.visible=!1,n.row.showDetail=!1},n.btnCancel.onclick=function(){n.close()},n.btnClose.onclick=function(){n.close()},n.btnConfirm.onclick=function(){n.close()},n.onkeydown=function(e){"Escape"===e.key&&n.close()},t._dialogRowDetail=n),n.open(),setTimeout(function(){n.focus()},100),n.content.appendChild(e)):n.close()}_renderDetail(e){const t=this,i=t.row.grid,n=t.row
let r=n.id,o=n.detailTemplate||i.rowDetail.template
if(o.startsWith("#")&&(o=document.querySelector(o)),n._detail)return e.firstChild===n._detail?void(i.onRowDetailUpdated&&i.onRowDetailUpdated(n.index,n,e.firstChild)):(e.firstChild&&e.removeChild(e.firstChild),e.appendChild(n._detail),void(i.onRowDetailUpdated&&i.onRowDetailUpdated(n.index,n,e.firstChild)))
if(o instanceof HTMLTemplateElement){const t=o.content.cloneNode(!0).firstElementChild
r=(r=(r=r.toString()).replace(/'/gi,"\\'")).replace(/"/gi,'\\"')
let i=t.outerHTML.replace(/{{value}}/gi,r).replace(/{{id}}/gi,n.id)
i.indexOf("{{value=")>=0&&(i=r?(i=(i=i.substring(0,i.indexOf("{{value="))+r+i.substring(i.indexOf("}"))).replace(/}/gi,"")).replace(/{/gi,""):(i=i.replace(/{{value=/gi,"")).replace(/}}/gi,"")),i="<div>"+i+"</div>"
for(let e in n.data)i=i.replace("{{"+e+"}}",n.data[e])
e.innerHTML!==i&&(e.innerHTML=i)}else{let t="<div>"+o.replace(/{{value}}/gi,r).replace(/{{id}}/gi,n.id)+"</div>"
for(let e in n.data)t=t.replace("{{"+e+"}}",n.data[e])
e.innerHTML!==t&&(e.innerHTML=t)}i.onRowDetailInit&&i.onRowDetailInit(n.index,n,e.firstChild),i.rowDetail.dialog.enabled?t._openRowDetailDialog(e.firstChild.firstElementChild):n._detail=e.firstChild}_render(){let e=this
const t=e.row,i=t.grid,n=t.getProperty("selected")
if(!1===n&&e.hasAttribute("selected")?e.removeAttribute("selected"):!0===n?e.setAttribute("selected",""):null===n&&e.setAttribute("selected","indeterminate"),t.allowSelect||e.setAttribute("selected","none"),e.hasAttribute("unbound")&&e.removeAttribute("unbound"),t.unbound&&e.setAttribute("unbound",""),e.removeAttribute("focus"),!i._toggledRow&&e.classList.contains("jqx-animate"))return e.classList.remove("jqx-animate"),e.rowContainer.innerHTML="",e.rowContainer.classList.add("jqx-hidden"),i._refreshLayout(),void i._recycle()
if(0===i.columns.length)return void e._renderEmpty()
if(t.addNewRow)return void e._renderAddNewRow()
if(i._toggledRow&&(t.id===i._toggledRow.id?e.setAttribute("toggle",""):e.hasAttribute("toggle")&&e.removeAttribute("toggle")),i._toggledRow&&i.appearance.allowRowToggleAnimation){let n=t.parent
if(!i._toggledRow.expanded&&i._toggledRow.id===t.id){const t=e.rowContainer
for(let e=0;e<t.children.length;e++){const n=t.children[e],r=n.getAttribute("data-id"),o=i.rowById[r]
n.getAttribute("data-rendered")||(n.setAttribute("data-rendered",!0),o.element=n,o.render())}}for(;n;){if(n.id===i._toggledRow.id){const r=n.element.rowContainer
if(i._toggledRow.expanded){e.classList.add("jqx-hidden")
let n=t.createElement(i)
for(let e=0;e<r.children.length;e++){const i=r.children[e]
if(i.getAttribute("data-id")===t.id.toString())return void(n=i)}t.element=n,r.appendChild(n),r.classList.remove("jqx-hidden"),n.row=t,e=n}break}n=n.parent}}e._alternate()
const r=parseFloat(i.$.columnNearContainer.style.width),o=parseFloat(i.$.columnContainer.style.width),a=parseFloat(i.$.columnFarContainer.style.width),s=e.children[1],l=e.children[0],d=e.children[2]
if(i.rightToLeft?(l.classList.remove("vscroll"),i.computedVerticalScrollBarVisibility&&l.classList.add("vscroll")):(d.classList.remove("vscroll"),i.computedVerticalScrollBarVisibility&&d.classList.add("vscroll")),e.hasAttribute("group")&&e.removeAttribute("group"),e.hasAttribute("tree")&&e.removeAttribute("tree"),e.hasAttribute("level")&&(e.removeAttribute("level"),e.removeAttribute("aria-level")),e.hasAttribute("leaf")&&e.removeAttribute("leaf"),e.hasAttribute("expanded")&&e.removeAttribute("expanded"),e.hasAttribute("summary")&&e.removeAttribute("summary"),e.hasAttribute("filter")&&e.removeAttribute("filter"),null===t.filtered&&e.setAttribute("filter","indeterminate"),i.dataSource.groupBy&&i.dataSource.groupBy.length>0&&"advanced"===i.grouping.renderMode?(e.setAttribute("level",t.level),e.setAttribute("aria-level",t.level),t.expanded&&e.setAttribute("expanded",""),void 0!==t.label&&t.level===i.dataSource.groupBy.length-1&&e.setAttribute("leaf",""),void 0!==t.label?e.setAttribute("group",""):e.setAttribute("leaf",""),t.summaryRow&&e.setAttribute("summary",""),e.toggleButton&&e.toggleButton.classList.remove("jqx-hidden")):i.dataSource.boundHierarchy?(e.setAttribute("level",t.level),e.setAttribute("aria-level",t.level),t.expanded&&e.setAttribute("expanded",""),t.leaf&&e.setAttribute("leaf",""),t.summaryRow&&e.setAttribute("summary",""),e.toggleButton&&e.toggleButton.classList.remove("jqx-hidden")):(t.canNotify=!1,t.leaf=!0,t.expanded=!1,t.summaryRow=!1,t.data.summaryRow&&(t.summaryRow=!0),t.level=0,e.toggleButton&&e.toggleButton.classList.add("jqx-hidden"),t.canNotify=!0),e.setAttribute("data-id",t.id),e.visible=t.visible,e.cellsNearContainerElement.classList.remove("jqx-visibility-hidden"),e.cellsContainerElement.classList.remove("jqx-visibility-hidden"),e.cellsFarContainerElement.classList.remove("jqx-visibility-hidden"),e.removeAttribute("rowspan"),i._rowGap>0&&t!==i.rows[i.rows.length-1]?(e.style.marginBottom=i._rowGap+"px",parseInt(e.style.height)-i._rowGap!==t.height&&(e.style.height=t.height-i._rowGap+"px"),parseInt(e.style.lineHeight)-i._rowGap!==t.height&&(e.style.lineHeight=t.height-i._rowGap+"px")):(e.style.marginBottom="",parseInt(e.style.height)!==t.height&&(e.style.height=t.height+"px"),parseInt(e.style.lineHeight)!==t.height&&(e.style.lineHeight=t.height+"px")),i.rightToLeft?s.style.right!==i._scrollView.scrollWidth-i._scrollView.scrollLeft-i._scrollView.vScrollBar.offsetWidth+"px"&&(s.style.right=i._scrollView.scrollWidth-i._scrollView.scrollLeft-i._scrollView.vScrollBar.offsetWidth+"px"):s.style.left!==-i._scrollView.scrollLeft+"px"&&(s.style.left=-i._scrollView.scrollLeft+"px"),i.rowDetail.enabled){const n=e.rowDetail
e.removeAttribute("show-detail"),t.showDetail?(n.classList.remove("jqx-hidden"),e.setAttribute("show-detail",""),i.rowDetail.dialog.enabled?n.classList.add("jqx-hidden"):(n.style.height!==t.detailHeight+"px"&&(n.style.height=t.detailHeight+"px"),n.style.lineHeight!==t.detailHeight+"px"&&(n.style.lineHeight=t.detailHeight+"px"),n.style.top!==t.cellHeight+"px"&&(n.style.top=t.cellHeight+"px")),e._renderDetail(n)):n.classList.add("jqx-hidden")}else if(e.rowDetail){e.rowDetail.classList.add("jqx-hidden")}l.classList.remove("jqx-hidden"),d.classList.remove("jqx-hidden"),l.style.width!==r+"px"&&(l.style.width=r+"px"),s.style.width!==o+"px"&&(s.style.width=o+"px"),d.style.width!==a+"px"&&(d.style.width=a+"px"),l.style.height=t.cellHeight+"px",s.style.height=t.cellHeight+"px",d.style.height=t.cellHeight+"px",0===a&&d.classList.add("jqx-hidden"),0===r&&l.classList.add("jqx-hidden"),r>0&&(parseInt(r),parseInt(i._autoGeneratedColumnsNearWidth)),a>0&&parseInt(a)===parseInt(i._autoGeneratedColumnsFarWidth)&&d.classList.add("border-collapse")
for(let n=0;n<i._frozenNearColumns.length;n++){const r=i._frozenNearColumns[n]
let o=e.children[0].children[n]
if(!o){o=t.getCell(r).createElement(),e.children[0].appendChild(o)}e._renderCell(t,r,o)}for(let n=0;n<i._frozenFarColumns.length;n++){const r=i._frozenFarColumns[n]
let o=e.children[2].children[n]
if(!o){o=t.getCell(r).createElement(),e.children[2].appendChild(o)}e._renderCell(t,r,o)}for(let n=0;n<s.children.length;n++){if(!i._columnElements[n+i._frozenNearColumns.length]){let i=e.children[1].children[n]
e._renderCell(t,null,i)}}for(let n=0;n<i._columnElements.length;n++){const r=i._columnElements[n],o=r.column
if(!r.parentNode||!o){if(r&&!o){let t=e.children[1].children[n]
t&&t.classList.add("jqx-visibility-hidden")}continue}let a=e.children[1].children[n]
if(!a){r.column||(r.column=o),a=t.getCell(o).createElement(),e.children[1].appendChild(a)}r.classList.contains("jqx-visibility-hidden")?a.classList.add("jqx-visibility-hidden"):(a.classList.remove("jqx-visibility-hidden"),e._renderCell(t,o,a))}e.visible?e.classList.remove("jqx-hidden"):e.classList.add("jqx-hidden")}template(){return""}_detach(){this.row.headerCell=null,this.row._cells=[],this.row=null,delete this.row,this.element=null,this.removeEventListener("mouseenter",this._mouseEnter),this.removeEventListener("mouseleave",this._mouseLeave),delete this.element,delete this.grid,delete this._mouseEnter,delete this._mouseLeave,delete this.cellsNearContainerElement,delete this.cellsContainerElement,delete this.cellsFarContainerElement,delete this.rowDetail,delete this.rowContainer}onDetached(){this._detach()}})
var De=Object.freeze({})
JQX.Utilities.Assign("Grid.Cell",class{constructor(e,t){const i=this
return i.row=e,i.column=t,i.grid=e.grid,i.rowSpan=1,i.colSpan=1,i.value=void 0,i.fontSize=null,i.fontWeight=null,i.fontFamily=null,i.fontStyle=null,i.color=null,i.background=null,i.borderColor=null,i.tooltip=null,i.align=null,i.verticalAlign=null,i.readonly=!1,i.oldValue=void 0,i._updating=!1,i.styleChanged=!0,i.editor=null,i.template=null,i.isEditing=!1,i.canNotify=!0,i.selected=!1,i.focused=!1,new Proxy(i,{deleteProperty:function(e,t){return delete e[t],!0},get:function(e,t){if("value"===t){return i.column.displayField?i.row.data[i.column.displayField]:i.row.data[i.column.dataField]}if("editor"===t||"template"===t)return e[t]||i.column[t]
if("focused"===t){if(i.grid.selection.allowCellSelection&&i.grid._selection.focusedCell&&i.grid._selection.focusedCell.row.id===i.row.id&&i.grid._selection.focusedCell.column.dataField===i.column.dataField)return!0
if(i.grid.selection.allowRowSelection&&i.grid._selection.focusedCell&&i.grid._selection.focusedCell.row.id===i.row.id&&i.grid._selection.focusedCell.column.dataField===i.column.dataField)return!0
const e=i.parent()
return!!(e&&i.grid.selection.allowCellSelection&&i.grid._selection.focusedCell&&i.grid._selection.focusedCell.row.id===e.row.id&&i.grid._selection.focusedCell.column.dataField===e.column.dataField)}if("selected"===t)return!0===i.row.getProperty("selected")||(!0===i.column.getProperty("selected")||!!i.grid._selection.cells["row"+i.row.id]&&i.grid._selection.cells["row"+i.row.id][i.column.dataField])
if("modifiedValue"===t){const t=i.grid._cellsUpdatedValues[i.row.id+"_"+i.column.dataField]
return void 0!==t?t:e.value}return e[t]},set:function(e,t,n){const r=this.get(e,t)
if(r===n)return!0
if(e[t]=n,"element"===t||"isEditing"===t||"oldValue"===t||"_updating"===t||"notifyFn"===t||t.startsWith("_")||"canNotify"===t)return!0
if("focused"===t&&(i.grid._selection.focusedCell=i),"colSpan"!==t&&"rowSpan"!==t||n>=0&&-1===i.grid._cellsMerge.indexOf(i)&&i.grid._cellsMerge.push(i),"row"===t||"column"===t||"grid"===t||"styleChanged"===t)return!0
if("background"!==t&&"fontSize"!==t&&"fontWeight"!==t&&"fontFamily"!==t&&"color"!==t&&"borderColor"!==t&&"fontStyle"!==t||(i._styleChanged=!0),"value"===t){void 0===i.oldValue&&(i.oldValue=r),(()=>{i.grid.dataSource.boundSource.canNotify=!1,null!==n&&n.label&&n.value?(i.row.data[i.column.displayField]=n.label,i.row.data[i.column.dataField]=n.value):(i.column.valueField&&(i.row.data[i.column.valueField]=n),i.row.data[i.column.dataField]=n)
const e=i.grid.dataSource.dataItemById[i.row.id]
if(e){const t=e.$.index
n!==i.grid.dataSource[t][i.column.dataField]&&(i.grid.dataSource[t][i.column.dataField]=n)}i.grid.dataSource.boundSource.canNotify=!0})()}return"selected"===t&&(i.grid._selection.cells["row"+i.row.id]&&(delete i.grid._selection.cells["row"+i.row.id][i.column.dataField],1===Object.getOwnPropertyNames(i.grid._selection.cells["row"+i.row.id]).length&&delete i.grid._selection.cells["row"+i.row.id]),i.grid._selection.cells["column"+i.column.dataField]&&(delete i.grid._selection.cells["column"+i.column.dataField][i.row.id],1===Object.getOwnPropertyNames(i.grid._selection.cells["column"+i.column.dataField]).length&&delete i.grid._selection.cells["column"+i.column.dataField]),n&&(i.grid._selection.cells["row"+i.row.id]||(i.grid._selection.cells["row"+i.row.id]=[]),i.grid._selection.cells["column"+i.column.dataField]||(i.grid._selection.cells["column"+i.column.dataField]=[]),i.grid._selection.cells["row"+i.row.id][i.column.dataField]=!0,i.grid._selection.cells["column"+i.column.dataField][i.row.id]=!0)),!(!i._updating&&i.canNotify)||(!i.row.canNotify||(i.grid._recycle(),i.propertyChanged&&i.propertyChanged(name.substring(1),r),!0))}})}setStyle(e){const t=this
t._styleChanged&&(e.style.background=t.background,e.style.borderColor=t.borderColor,e.style.color=t.color,e.style.fontSize=t.fontSize,e.style.fontFamily=t.fontFamily,e.style.fontWeight=t.fontWeight,e.style.fontStyle=t.fontStyle,e.style.paddingBottom="",t._styleChanged=!1)}getFormattedValue(e,t){const i=this
return null==e||""===e?e:t?"date"===i.column.dataType||"datetime"===i.column.dataType||"time"===i.column.dataType?i.formatDate(e,t):"int"===i.column.dataType||"int64"===i.column.dataType||"float"===i.column.dataType||"number"===i.column.dataType?i.formatNumber(e,t):e:""+e}formatDate(e,t){if(!JQX.Utilities.DateTime)return e
const i=this,n=i.grid
if(i.column.formatSettings.Intl&&i.column.formatSettings.Intl.DateTimeFormat){return new Intl.DateTimeFormat(this.grid.locale,i.column.formatSettings.Intl.DateTimeFormat).format(e)}!t&&i.column.formatSettings.dateFormat&&(t=i.column.formatSettings.dateFormat)
try{const i=new JQX.Utilities.DateTime(e)
return i.calendar.locale=n.locale,n.messages[n.locale]&&n.messages[n.locale].calendar&&(n.messages[n.locale].calendar.months&&(i.calendar.months=n.messages[n.locale].calendar.months),n.messages[n.locale].calendar.days&&(i.calendar.days=n.messages[n.locale].calendar.days),void 0!==n.messages[n.locale].calendar.firstDay&&(i.calendar.firstDay=n.messages[n.locale].calendar.firstDay),void 0!==n.messages[n.locale].calendar.eras&&(i.calendar.eras=n.messages[n.locale].calendar.eras),void 0!==n.messages[n.locale].calendar.AM&&(i.calendar.AM=n.messages[n.locale].calendar.AM),void 0!==n.messages[n.locale].calendar.PM&&(i.calendar.PM=n.messages[n.locale].calendar.PM),void 0!==n.messages[n.locale].calendar["/"]&&(i.calendar["/"]=n.messages[n.locale].calendar["/"]),void 0!==n.messages[n.locale].calendar[":"]&&(i.calendar[":"]=n.messages[n.locale].calendar[":"])),i.toString(t)}catch(t){return e}}formatNumber(e,t){if(!JQX.Utilities.NumberRenderer)return e
const i=this,n=i.grid
if(i.column.formatSettings.Intl&&i.column.formatSettings.Intl.NumberFormat){return new Intl.NumberFormat(this.grid.locale,i.column.formatSettings.Intl.NumberFormat).format(e)}const r=new JQX.Utilities.NumberRenderer
if(r.localizationObject){const e=i.column.formatSettings,t=n.messages[n.locale]?n.messages[n.locale].calendar:{}
e.decimalPlaces&&(r.localizationObject.decimalPlaces=e.decimalPlaces),(e.decimalSeparator||t.decimalSeparator)&&(r.localizationObject.decimalSeparator=e.decimalSeparator||t.decimalSeparator),(e.thousandsSeparator||t.thousandsSeparator)&&(r.localizationObject.thousandsSeparator=e.thousandsSeparator||t.thousandsSeparator),r.localizationObject.currencysymbol=t.currencySymbol,r.localizationObject.currencysymbolposition=t.currencySymbolPosition,e.prefix&&(r.localizationObject.currencysymbol=e.prefix),e.sufix&&(r.localizationObject.currencysymbol=e.sufix,r.localizationObject.currencysymbolposition="after")}const o=r.formatNumber(e,t)
return void 0===o?e:e<0&&i.column.formatSettings.negativeWithBrackets?"("+o+")":o}refresh(){const e=this
if(e.element){const t=e.element.firstChild
e.setStyle(t)}}setProperties(e){const t=this
t._updating=!0
for(let i in e)t[i]=e[i]
t._updating=!1,t.grid._recycle()}createElement(){const e=document.createElement("jqx-grid-cell")
return e.setAttribute("role","gridcell"),this.element=e,e._initialize(this),e}render(){this.element&&this.element._render()}parent(e){const t=this,i=t.row,n=t.column.dataField,r=t.grid
if(!r._cellsMerge.length)return null
if(t.__parentCells&&void 0!==t.__parentCells["row"+i.id+"_column_"+n])return t.__parentCells["row"+i.id+"_column_"+n]
let o=r.getVisibleRows()
r.paging.enabled&&"page"===r.selection.selectAllMode&&(o=o.slice(r.paging.pageIndex*r.paging.pageSize,(r.paging.pageIndex+1)*r.paging.pageSize)),t.__parentCells||(t.__parentCells=[])
for(let a=0;a<r._cellsMerge.length;a++){const s=r._cellsMerge[a]
let l=[],d=[]
if(l.push(s.row),s.rowSpan>1){const e=o.indexOf(s.row)
if(e>=0)for(let t=e;t<e+s.rowSpan;t++)o[t]&&-1===l.indexOf(o[t])&&l.push(o[t])}if(d.push(s.column.dataField),s.colSpan>1){const e=r.columns.indexOf(r.columnByDataField[s.column.dataField])
for(let t=e;t<e+s.colSpan;t++)r.columns[t]&&-1===d.indexOf(r.columns[t].dataField)&&d.push(r.columns[t].dataField)}if(l.indexOf(i)>=0&&d.indexOf(n)>=0){if(e){const e={cell:s.row.getCell(s.column.dataField),rows:l,columns:d,row:s.row,column:s.column,endRow:l[l.length-1],endColumn:r.columnByDataField[d[d.length-1]]}
return t.__parentCells["row"+i.id+"_column_"+n]=e,e}const o=s.row.getCell(s.column.dataField)
return t.__parentCells["row"+i.id+"_column_"+n]=o,o}}return t.__parentCells["row"+i.id+"_column_"+n]=null,null}}),JQX("jqx-grid-cell",class extends JQX.BaseElement{static get properties(){return{}}get hasStyleObserver(){return!1}get enableShadowDOM(){return!1}addThemeClass(){}addDefaultClass(){}get isUtilityElement(){return!0}_refresh(){this.innerHTML="",this._initialize(this.cell)}_initialize(e){const t=this,i=document.createElement("div"),n=e.column,r=e.row,o=e.grid
t.cell=e,t.appendChild(i)
let a=!1
if(n&&n._treeColumn&&o.dataSource.boundHierarchy&&(a=!0,!o.grouping.enabled&&o.dataSource.groupBy&&o.dataSource.groupBy.length>0&&(a=!1)),a){const e=document.createElement("div"),n=document.createElement("button"),a=document.createElement("div"),s=document.createElement("div"),l=document.createElement("div"),d=document.createElement("span")
return r.expanded?n.setAttribute("toggled",""):n.removeAttribute("toggled",""),n.tabIndex=-1,t.toggleButton=n,t.checkbox=l,i.appendChild(e),i.appendChild(s),s.setAttribute("content",""),e.setAttribute("indent",""),a.setAttribute("label",""),n.setAttribute("toggle-button",""),l.setAttribute("checkbox",""),l.setAttribute("role","checkbox"),t.setAttribute("has-toggle-button",""),s.appendChild(n),s.appendChild(l),d.classList.add("jqx-input"),l.appendChild(d),o.checkBoxes.visible?d.classList.remove("jqx-hidden"):d.classList.add("jqx-hidden"),s.appendChild(a),t.content=a,void(t.isRendered=!0)}{const e=document.createElement("div")
i.appendChild(e)}t.content=i,t.isRendered=!0}_renderCommands(){const e=this,t=e.cell.grid
if(t.__cellsCommandTemplate)return e.firstChild.innerHTML=t.__cellsCommandTemplate,void t._updateCommandColumnCommandsVisibility(e.firstChild,e.cell.row)
const i=t._getCommandColumnCommandsTemplate()
e.firstChild.innerHTML=i,t._updateCommandColumnCommandsVisibility(e.firstChild,e.cell.row),t.__cellsCommandTemplate=i}_renderGroupCell(){const e=this,t=e.cell.grid,i=e.cell.column,n=e.cell.row;[...e.attributes].forEach(t=>e.removeAttribute(t.name)),e.setAttribute("group",""),e.style.width!==i.computedWidth+"px"&&(e.style.width=i.computedWidth+"px"),t.rightToLeft?e.style.right!==i.left+"px"&&(e.style.right=i.left+"px"):e.style.left!==i.left+"px"&&(e.style.left=i.left+"px"),e.classList.contains("jqx-hidden")&&e.classList.remove("jqx-hidden"),i.autoGenerated&&(e.style.width="0px")
let r=n.label
const o=function(e,t,i){for(let n=0;n<t.length;n++){const r=t[n]
void 0!==r[e]&&i.push(r),r.summaryRow||(r.children?o(e,r.children,i):r.data&&r.data.children&&o(e,r.children,i))}return i}
if(void 0!==n.label){let a="",s=[]
if(t.grouping.summaryRow.visible){const r=o(i.dataField,n.summaryRow?n.parent.data.children:n.data.children,[]),l={},d=i._treeColumn?i.summary.length>0?i.summary:["count"]:i.summary
l[i.dataField]=d
const c=d.length>0?t.dataSource.summarize([l],r):null
if(c)for(let n=0;n<d.length;n++){const r=d[n]
if("advanced"===t.grouping.renderMode)a+="<span summary>"+t.localize(r,{value:c[i.dataField][r]})
else{n>0&&(a+=", ")
let o=c[i.dataField][r]
const s=i.cellsFormat
s&&(o=e.cell.getFormattedValue(o,s)),a+=t.localize(r,{value:o})}s.push(c[i.dataField][r])}}if(i._treeColumn){const i=t.columnByDataField[n.groupDataField],o=i?i.label:""
"advanced"===t.grouping.renderMode?(r=n.summaryRow?"<div header><span group></span><span value></span></div>":"<div header><span group>"+o+"</span><span value>"+n.label+"</span></div>",a&&(r+="<div summary>",r+=a,r+="</div>")):"compact"===t.grouping.renderMode?(n.summaryRow?(r="<div header><span group></span><span value></span>",a&&(r+="<div summary>",r+=a,r+="</div>")):(r="<div header><span group>"+o+": </span><span value>"+n.label+"</span>",a&&t.grouping.summaryRow.inline&&(r+="<span summary>",r+="  ("+s+")",r+="</span>")),r+="</div>",e.classList.add("jqx-grid-column-border-collapse")):"basic"===t.grouping.renderMode&&(r=n.label,n.summaryRow?a&&(r+="<div summary>",r+=a,r+="</div>"):a&&t.grouping.summaryRow.inline&&(r+="<span summary>",r+="  ("+s+")",r+="</span>"),e.classList.add("jqx-grid-column-border-collapse")),e.setAttribute("has-toggle-button","")}else e.removeAttribute("has-toggle-button",""),"advanced"===t.grouping.renderMode?(r="<div content><div label><div header><span group></span><span value></span></div>",a&&(r+="<div summary>",r+=a,r+="</div>"),r+="</div></div>"):r=a}const a=e.firstChild
if(t.dataSource.boundHierarchy&&i._treeColumn){const o=a.children[0],s=a.children[1].children[0],l=a.children[1].children[1].firstChild,d=a.children[1].children[2]
o.setAttribute("indent",""),n.checked?l.setAttribute("checked",""):!1===n.checked?l.removeAttribute("checked"):null===n.checked&&l.setAttribute("checked","indeterminate"),n.leaf?s.classList.add("jqx-visibility-hidden"):(s.classList.remove("jqx-visibility-hidden"),n.expanded?s.setAttribute("toggled",""):s.removeAttribute("toggled",""))
let c=""
if(i._treeColumn?e.toggleButton.classList.remove("jqx-hidden"):e.toggleButton.classList.add("jqx-hidden"),i._treeColumn)if(t.grouping.enabled&&t.dataSource.groupBy.length>0&&"advanced"===t.grouping.renderMode){let e=n.level
void 0===n.label&&e--,c+='<div style="width: '+(1+e)*t.grouping.groupIndent+'px;"></div>'}else for(let e=0;e<n.level;e++)c+="<div class='jqx-indent'></div>"
void 0===n.label?s.classList.add("jqx-hidden"):(s.classList.remove("jqx-hidden"),s.style.marginLeft="",i._treeColumn&&t.grouping.enabled&&t.grouping.toggleButtonIndent>0&&"advanced"===t.grouping.renderMode&&(s.style.marginLeft=n.level*(t.grouping.toggleButtonIndent-t.grouping.groupIndent)+"px")),o.innerHTML=c,d.innerHTML=r,t.appearance.showTooltips?d.setAttribute("title",n.label?n.label:r):d.hasAttribute("title")&&d.removeAttribute("title")}else void 0!==n.label&&t.grouping.enabled&&!i._treeColumn&&(a.innerHTML=r)
if(t.grouping.enabled&&t.dataSource.groupBy&&t.dataSource.groupBy.length>0&&"advanced"===t.grouping.renderMode){const r=t.grouping.groupIndent*(1+n.level)
i.dataField===t.columns[t.columns.length-1].dataField&&(e.style.width=i.computedWidth-r+"px",t.appearance.showColumnLines&&a.firstChild.classList.add("jqx-grid-column-border"))}let s="jqx-label"
if(e.style.zIndex="","advanced"!==t.grouping.renderMode&&i._treeColumn){const i=t.columnByDataField[n.groupDataField]
i.cellsAlign&&(s+=" align-"+i.cellsAlign),i.cellsVerticalAlign&&(s+=" align-"+i.cellsVerticalAlign),e.setAttribute("header",""),n.summaryRow||(e.style.width="100%"),e.style.zIndex=100}if(n.summaryRow&&(e.setAttribute("header",""),e.classList.add("jqx-grid-column-border-collapse"),i.cellsAlign&&(s+=" align-"+i.cellsAlign),i.cellsVerticalAlign&&(s+=" align-"+i.cellsVerticalAlign)),a.className!==s&&(a.className=s),i.formatFunction){const t={row:n,column:i,cell:e.cell,value:null,template:null,group:{value:r,template:null}}
i.formatFunction(t),t.group.value!==r&&(a.innerHTML=t.group.value),null!==t.group.template&&(a.innerHTML=t.group.template)}}_renderFilterCell(e){const t=this,i=t.cell.grid,n=t.cell.column
let r
const o=(e,t)=>{i._handleFilterMenuClick(e,t)}
i._filterInfo||(i._filterInfo={},i._filterInfo.stringConditions=[{icon:"jqx-icon-contains",command:o,value:"CONTAINS",label:i.localize("CONTAINS")},{icon:"jqx-icon-does-not-contain",command:o,value:"DOES_NOT_CONTAIN",label:i.localize("DOES_NOT_CONTAIN")},{icon:"jqx-icon-starts-with",command:o,value:"STARTS_WITH",label:i.localize("STARTS_WITH")},{icon:"jqx-icon-ends-with",command:o,value:"ENDS_WITH",label:i.localize("ENDS_WITH")},{icon:"jqx-icon-equals",command:o,value:"EQUAL",label:i.localize("EQUAL")},{icon:"jqx-icon-delete",command:o,value:"CLEAR_FILTER",label:i.localize("CLEAR_FILTER")}],i._filterInfo.numberAndDateConditions=[{icon:"jqx-icon-equals",command:o,value:"EQUAL",label:i.localize("EQUAL")},{icon:"jqx-icon-not-equal",command:o,value:"NOT_EQUAL",label:i.localize("NOT_EQUAL")},{icon:"jqx-icon-less-than",command:o,value:"LESS_THAN",label:i.localize("LESS_THAN")},{icon:"jqx-icon-less-than-equal",command:o,value:"LESS_THAN_OR_EQUAL",label:i.localize("LESS_THAN_OR_EQUAL")},{icon:"jqx-icon-greater-than",command:o,value:"GREATER_THAN",label:i.localize("GREATER_THAN")},{icon:"jqx-icon-greater-than-equal",command:o,value:"GREATER_THAN_OR_EQUAL",label:i.localize("GREATER_THAN_OR_EQUAL")},{icon:"jqx-icon-between",command:o,value:"RANGE",label:i.localize("RANGE")},{icon:"jqx-icon-delete",command:o,value:"CLEAR_FILTER",label:i.localize("CLEAR_FILTER")}]),r="string"===n.dataType?i._filterInfo.stringConditions:i._filterInfo.numberAndDateConditions
let a="jqx-icon-search"
switch(n._filterInfo||(n._filterInfo={condition:""}),n.filterEditor&&n.filterEditor.condition&&(n._filterInfo.condition=n.filterEditor.condition),n.filterEditor&&n.filterEditor.value&&(n._filterInfo.value=n.filterEditor.value),n._filterInfo.dataSource=r,n._filterInfo.condition.toLowerCase()){case"equal":a="jqx-icon-equals"
break
case"starts_with":a="jqx-icon-starts-with"
break
case"ends_with":a="jqx-icon-ends-with"
break
case"not_equal":a="jqx-icon-not-equal"
break
case"less_than":a="jqx-icon-less-than"
break
case"less_than_or_equal":a="jqx-icon-less-than-or-equal"
break
case"greater_than":a="jqx-icon-greater-than"
break
case"greater_than_or_equal":a="jqx-icon-greater-than-or-equal"
break
case"contains":a="jqx-icon-contains"
break
case"does_not_contain":a="jqx-icon-does-not-contain"
break
case"range":a="jqx-icon-between"
break
default:a="jqx-icon-search"}let s=`<div class="jqx-filter-input-type"><i class="jqx-grid-icon ${a} show"></i></div>`
if("string"===n.dataType)s+=`<input class="jqx-filter-input-value" data-type="${n.dataType}"/>`,e.innerHTML=s
else if("date"===n.dataType){const r=new JQX.Utilities.DateTime
s+=`<input placeholder="${r.expandFormat(r.calendar,n.cellsFormat||"d")}" class="jqx-filter-input-value" data-type="${n.dataType}"/><div class="jqx-filter-input-type"><i class="jqx-grid-icon jqx-icon-calendar show"></i></div>`,e.innerHTML=s,e.lastElementChild.onpointerdown=function(){i._handleFilterCalendarCellClick(t.cell)}}else if("number"===n.dataType)s+='<div class="jqx-grid-cell-editor jqx-filter-input-value jqx-grid-number-input-cell-editor"><input class="jqx-input" type="number"><div tabindex="-1" class="nav"><div tabindex="-1" class="up"></div><div tabindex="-1" class="down"></div></div></div>',e.innerHTML=s,i._handleFilterNumberCellEditor(this.cell,e)
else if("boolean"===n.dataType){const n=document.createElement("div")
n.classList.add("jqx-input"),n.classList.add("jqx-grid-check-box-cell-editor"),n.classList.add("jqx-filter-input-value"),e.tabIndex=0,e.style.outline="none",t.setAttribute("template","checkBox"),n.setAttribute("checked","indeterminate"),s=n.outerHTML,e.innerHTML=s,e.classList.add("align-center"),e.classList.add("jqx-label"),e.onfocus=(()=>{e.setAttribute("focus","")}),e.onblur=(()=>{e.removeAttribute("focus","")}),e.onclick=(e=>{e.target.classList.contains("jqx-input")&&i._handleFilterCellCheckBoxClick(this.cell)})}const l=e.querySelector("input")
if(l&&(e.firstElementChild.onpointerdown=function(){i._handleFilterCellIconClick(this.cell)}.bind(this),l.onfocus=function(){i._handleFilterCellFocus(this.cell)}.bind(this),l.onblur=function(){i._handleFilterCellBlur(this.cell)}.bind(this),l.onkeyup=function(e){i._handleFilterCellKeyUp(this.cell,e)}.bind(this),l.onkeydown=function(e){i._handleFilterCellKeyDown(this.cell,e)}.bind(this)),e.classList.add("jqx-filter-input-container"),n._filterInfo.input=l,n._filterInfo.cell=t.cell,n._filterInfo.editor=e,n._filterInfo.value&&(l.value=n._filterInfo.value,"date"===n.dataType&&(l.value=t.getFormattedValue(n._filterInfo.value,n.cellsFormat))),n.allowFilter||(l.disabled=!0),n.filterEditor)if(n.filterEditor.template){const t=n.filterEditor.template,i=document.createElement("div")
n.filterTemplate instanceof HTMLTemplateElement?i.appendChild(t.content.cloneNode(!0)):t instanceof HTMLElement?i.appendChild(t):i.innerHTML=t,e.innerHTML="",e.appendChild(i),i.style.height="100%",i.style.width="100%"
const r=e.querySelector("input")
r&&(r.onfocus=(()=>{e.setAttribute("focus","")}),r.onblur=(()=>{e.removeAttribute("focus","")})),n.filterEditor.onInit&&n.filterEditor.onInit(n,i)}else void 0!==n.filterEditor.min&&(l.min=n.filterEditor.min),void 0!==n.filterEditor.max&&(l.max=n.filterEditor.max),void 0!==n.filterEditor.minlength&&(l.minlength=n.filterEditor.minlength),void 0!==n.filterEditor.maxlength&&(l.maxlength=n.filterEditor.maxlength),void 0!==n.filterEditor.placeholder&&(l.placeholder=n.filterEditor.placeholder),void 0!==n.filterEditor.value&&(l.value=n.filterEditor.value),void 0!==n.filterEditor.step&&(l.step=n.filterEditor.step),void 0!==n.filterEditor.disabled&&(l.disabled=n.filterEditor.disabled),void 0!==n.filterEditor.condition&&(n._filterInfo.condition=n.filterEditor.condition),n.filterEditor.onInit&&n.filterEditor.onInit(n,e)}_render(){const e=this,t=e.cell.grid,i=e.cell.column,n=e.cell.row,r=n.data,o=n._isMeasureRow?null:i.cellsFormat
if(t.grouping.enabled&&t.dataSource.groupBy.length>0&&void 0!==n.label)return void e._renderGroupCell()
if(t.grouping.enabled&&t.dataSource.groupBy.length>0&&e.toggleButton&&(e.toggleButton.classList.remove("jqx-hidden"),e.toggleButton.classList.remove("jqx-visibility-hidden"),e.toggleButton.style.marginLeft="",i._treeColumn&&t.grouping.enabled&&t.grouping.toggleButtonIndent>0&&(e.toggleButton.style.marginLeft=n.level*(t.grouping.toggleButtonIndent-t.grouping.groupIndent)+"px")),t.grouping.enabled&&t.dataSource.groupBy.length>0&&(e.removeAttribute("header"),e.removeAttribute("group")),!i.visible)return void(e.style.width="0px")
t.appearance.showSortColumnBackground?i.sorted?e.setAttribute("sort",""):e.removeAttribute("sort"):i.sorted&&e.hasAttribute("sort")&&e.removeAttribute("sort"),t.appearance.showFilterColumnBackground?i.filtered?e.setAttribute("filter",""):e.removeAttribute("filter"):i.filtered&&e.hasAttribute("filter")&&e.removeAttribute("filter"),t.dataSource.boundHierarchy&&e.hasAttribute("has-toggle-button")&&!i._treeColumn&&e.removeAttribute("has-toggle-button")
let a=i.displayField?r[i.displayField]:r[i.dataField]
if(e.removeAttribute("highlight"),t.highlighted===n.id&&e.setAttribute("highlight",""),t.editing.batch){if(t._cellsUpdatedValues){e.removeAttribute("update")
const r=t._cellsUpdatedValues[n.id+"_"+i.dataField]
void 0!==r&&(e.setAttribute("update",""),a=r)}t._rowsDeleted&&(t._rowsDeleted.indexOf(n)>=0?e.setAttribute("delete",""):e.removeAttribute("delete")),t._rowsAdded&&(t._rowsAdded.indexOf(n.id)>=0?e.setAttribute("add",""):e.removeAttribute("add"))}!t.onCellValue||i.rowHeaderColumn||i.selectionColumn||(e.cell._updating=!0,t.onCellValue(e.cell),e.cell._updating=!1,a=e.cell.value),void 0===a&&(a="")
let s=a
o&&(s=e.cell.getFormattedValue(a,o))
const l=e.firstChild;(t.onCellRender||i.onCellRender)&&requestAnimationFrame(function(){if(i._cellsCachedValues||(i._cellsCachedValues=[]),i._cellsCachedValues[n.index]){const e=i._cellsCachedValues[n.index]
l.firstChild&&l.removeChild(l.firstChild),l.appendChild(e)}else if(t.onCellRender?t.onCellRender(e.cell):i.onCellRender(e.cell),e.cell.template!==i.template){const t=document.createElement("div")
return l.firstChild&&l.removeChild(l.firstChild),e.cell.template instanceof HTMLTemplateElement?t.appendChild(e.cell.template.cloneNode(!0)):t.appendChild(e.cell.template),l.appendChild(t),void(i._cellsCachedValues[n.index]=t)}}),i.autoGenerated||e.setAttribute("data-field",i.dataField),e.cell.focused?(t.selection.allowCellSelection&&e.setAttribute("focus",""),n.element.setAttribute("focus",""),e.cell.id||(e.id="gridcell_"+Math.floor(65536*(1+Math.random())).toString(16).substring(1)),t.setAttribute("aria-activedescendant",e.id)):e.removeAttribute("focus"),e.cell.selected?(e.setAttribute("selected",""),e.setAttribute("aria-selected",!0)):(e.removeAttribute("selected"),e.removeAttribute("aria-selected")),t.dragDrop&&t.dragDrop.row===n?e.classList.add("dragged"):e.classList.remove("dragged"),t.rowDetail.enabled&&n.showDetail&&(e.style.height=n.cellHeight+"px",e.style.lineHeight=n.cellHeight+"px"),n.expanded&&n.expandHeight>0&&(e.style.height=n.cellHeight+"px",e.style.lineHeight=n.cellHeight+"px")
const d=e._getCellAlignment(n,i),c=""!==e.cell.template&&t.isInitialized&&!n._isMeasureRow
let h=""
if(d.align&&(h+=d.align+" "),d.verticalAlign&&(h+=d.verticalAlign+" "),i.cellsWrap&&(h+="wrap "),h+="jqx-label",e.style.width!==i.computedWidth+"px"){const n=t._isLastVisibleColumn(i)
i.autoGenerated||n?e.style.width=i.computedWidth+"px":e.style.width=i.computedWidth-t._columnGap+"px"}if(t.grouping.enabled&&t.dataSource.groupBy&&t.dataSource.groupBy.length>0&&"advanced"===t.grouping.renderMode){const r=t.grouping.groupIndent*(1+n.level)
i.dataField===t.columns[t.columns.length-1].dataField&&(e.style.width=i.computedWidth-r+t.grouping.groupIndent+"px",t.appearance.showColumnLines&&e.classList.add("jqx-grid-column-border"))}i===t._firstVisibleColumn?e.classList.add("jqx-grid-column-border-collapse"):e.classList.remove("jqx-grid-column-border-collapse"),t._columnGap>0&&t.appearance.showColumnLines&&e.classList.add("jqx-grid-column-border"),t._rowGap>0&&e.classList.add("jqx-grid-row-border"),t.appearance.showColumnLines?e.classList.remove("jqx-grid-vertical-border-collapse"):e.classList.add("jqx-grid-vertical-border-collapse"),t.appearance.showRowLines?e.classList.remove("jqx-grid-horizontal-border-collapse"):e.classList.add("jqx-grid-horizontal-border-collapse")
let u=i.left
if(t.rightToLeft?e.style.right!==u+"px"&&(e.style.right=u+"px"):e.style.left!==u+"px"&&(e.style.left=u+"px"),e.classList.contains("jqx-hidden")&&e.classList.remove("jqx-hidden"),e.hasAttribute("template")&&e.removeAttribute("template"),e.hasAttribute("freeze")&&e.removeAttribute("freeze"),e.hasAttribute("detail")&&e.removeAttribute("detail"),e.hasAttribute("error")&&e.removeAttribute("error"),e.cell.error&&e.setAttribute("error",e.cell.error),n.filterRow?e.classList.add("jqx-grid-filter-row-cell"):n.summaryRow?e.classList.add("jqx-grid-summary-row-cell"):(i.freeze||n.freeze)&&(i.selectionColumn&&(e.setAttribute("checkbox",""),h+=" jqx-input",i.grid.selection.checkBoxes.enabled&&i.grid.selection.checkBoxes.autoShow?e.setAttribute("auto-show",""):e.removeAttribute("auto-show")),(i.rowHeaderColumn||i.selectionColumn)&&(e.setAttribute("header",""),e.setAttribute("role","rowheader")),i.rowDetailColumn&&(e.setAttribute("header",""),e.setAttribute("detail",""),e.setAttribute("has-toggle-button","")),i.commandColumn&&e.setAttribute("command",""),t.appearance.showFrozenColumnBackground&&i.freeze&&e.setAttribute("freeze",""),t.appearance.showFrozenRowBackground&&n.freeze&&e.setAttribute("freeze","")),i.cellsRotationAngle){if(!e._rotateCellContent(l,i,a))return}else if(n.filterRow){if(!i.toggleColumn&&!i.rowHeaderColumn)return i._filterEditorInitialized?void("boolean"===i.dataType&&e.setAttribute("template","checkBox")):(i._filterEditorInitialized=!0,void e._renderFilterCell(l))
l.innerHTML=""}else if(n.summaryRow){if(i.toggleColumn||i.rowHeaderColumn)l.innerHTML=""
else if(i.summary.length>0&&t._summaryItems){const r=t._summaryItems[i.dataField]
let o=0
for(let a in r){if(o===n.summaryRowIndex){const n=i.cellsFormat
let o=r[a]
n&&(o=e.cell.getFormattedValue(o,n)),l.innerHTML=t.localize(a,{value:o})}o++}}}else if(t.rowDetail.enabled&&i.rowDetailColumn)""!==l.innerHTML&&(n.showDetail?l.innerHTML='<button tabindex="-1" class="jqx-animate" toggled toggle-button></button>':l.innerHTML='<button tabindex="-1" class="jqx-animate" toggle-button></button>',n.element.toggleDetailButton=e.querySelector("button"))
else if(i.commandColumn)e._renderCommands()
else if(t.appearance.showRowHeaderNumber&&i.rowHeaderColumn)if(n.addNewRow)l.textContent=""
else{const i=i=>{if(e.cell.value)return e.cell.value
if("number"===t.appearance.autoGenerateRowLabelMode)return i.visibleIndex+1
{const e=i.visibleIndex%26,t=Math.floor(i.visibleIndex/26),n="A".charCodeAt(0),r=String.fromCharCode(n+e)
let o=""
for(let e=0;e<t;e++)o+="A"
return o+r}}
t._rowsAdded&&t._rowsAdded.indexOf(n.id)>=0?l.textContent="":l.textContent=i(n)}else if(c)switch(e.removeAttribute("readonly"),e.cell.template){case"checkBox":case"switchButton":case"radioButton":""!==l.textContent&&(l.textContent=""),(!t.editing.enabled||!i.allowEdit||e.cell.readonly||t.editing.enabled&&t.editing.commandColumn.visible&&t.editing.editRow!==e.cell.row)&&e.setAttribute("readonly",""),'<span class="jqx-input"></span>'!==l.innerHTML&&(l.innerHTML='<span class="jqx-input"></span>'),a?l.firstChild.setAttribute("checked",""):null===a?l.firstChild.setAttribute("checked","indeterminate"):l.firstChild.removeAttribute("checked"),e.setAttribute("template",e.cell.template)
break
default:{let t=null
if(e.setAttribute("template",""),"function"==typeof e.cell.template){const t={row:n,column:i,cell:e.cell,oldValue:e.cell.oldValue,value:a,template:null}
let r=l.querySelector(".jqx-grid-cell-template")
if(r&&r.getAttribute("column")===i.dataField?t.template=r.firstElementChild:r=null,e.formattedValue!==s&&(r=null),r||e.cell.template(t),!r&&t.template)if(t.template instanceof HTMLElement){const e=document.createElement("div")
e.classList.add("jqx-grid-cell-template"),e.setAttribute("column",i.dataField),l.innerHTML="",l.appendChild(e),e.appendChild(t.template)}else l.innerHTML='<div column="'+i.dataField+'" class="jqx-grid-cell-template">'+t.template+"</div>"
else r||null!==t.template||(l.innerHTML=a)
e.cell._styleChanged&&e.cell.setStyle(l),void 0===e.cell.oldValue&&(e.cell.oldValue=a),e.formattedValue=s}else if(""!==l.textContent&&(l.textContent=""),e.cell.template.startsWith("#")&&(t=document.querySelector(e.cell.template)),t){const e=t.content.cloneNode(!0).firstElementChild
a=(a=(a=a.toString()).replace(/'/gi,"\\'")).replace(/"/gi,'\\"')
let i=e.outerHTML.replace(/{{value}}/gi,a).replace(/{{id}}/gi,n.id)
i.indexOf("{{value=")>=0&&(i=a?(i=(i=i.substring(0,i.indexOf("{{value="))+a+i.substring(i.indexOf("}"))).replace(/}/gi,"")).replace(/{/gi,""):(i=i.replace(/{{value=/gi,"")).replace(/}}/gi,"")),l.innerHTML!==i&&(l.innerHTML=i)}else{""===a&&(a="&nbsp;")
const t=e.cell.template.replace(/{{value}}/gi,a).replace(/{{id}}/gi,n.id)
l.innerHTML!==t&&(l.innerHTML=t)}}}else if(i.selectionColumn)"checkBox"===t.selectionMode&&(n.getProperty("selected")?(e.setAttribute("selected",""),e.element.setAttribute("aria-selected",!0)):e.getAttribute("selected")&&(e.removeAttribute("selected"),e.element.removeAttribute("aria-selected")))
else{const r=l.firstChild
if(r&&r.classList&&e.toggleButton&&i._treeColumn){const r=l.children[0],o=l.children[1].children[0],a=l.children[1].children[1].firstChild,d=l.children[1].children[2]
let c=""
if(i._treeColumn){if(t.grouping.enabled){c+='<div style="width: '+(1+(n.level-1))*t.grouping.groupIndent+'px;"></div>'}else for(let e=0;e<n.level;e++)c+="<div class='jqx-indent'></div>"
n.checked?a.setAttribute("checked",""):!1===n.checked?a.removeAttribute("checked"):null===n.checked&&a.setAttribute("checked","indeterminate"),n.leaf?n.allowCheck?a.classList.remove("jqx-visibility-hidden"):a.classList.add("jqx-visibility-hidden"):n.allowCheck?a.classList.remove("jqx-hidden"):a.classList.add("jqx-hidden")}n.allowCheck?t.checkBoxes.visible?a.classList.remove("jqx-hidden"):a.classList.add("jqx-hidden"):t.checkBoxes.visible||a.classList.add("jqx-hidden"),r.innerHTML=c,o.classList.add("jqx-visibility-hidden"),n.leaf?o.classList.add("jqx-visibility-hidden"):(o.classList.remove("jqx-visibility-hidden"),n.expanded?o.setAttribute("toggled",""):o.removeAttribute("toggled","")),n.data.isEmpty&&o.classList.add("jqx-visibility-hidden"),d.innerHTML=s,t.appearance.showRowHeaderNumber&&t.grouping.enabled&&t.dataSource.groupBy.length>0&&"advanced"===t.grouping.renderMode&&(s="<span visible-index>"+(1+n.visibleIndex)+"</span> "+s),t.rowDetail.enabled&&t.grouping.enabled&&t.dataSource.groupBy.length>0&&"advanced"===t.grouping.renderMode&&(d.innerHTML='<button tabindex="-1" class="inline jqx-animate" toggled toggle-button></button>'+s,n.element.toggleDetailButton=e.querySelector("button.inline"),n.element.toggleDetailButton.setAttribute("title",t.localize(n.showDetail?"collapseRow":"expandRow",{elementType:"Grid"})),n.element.toggleDetailButton.onpointerdown=function(){n.showDetail=!n.showDetail}),t.appearance.showTooltips?d.setAttribute("title",s):d.hasAttribute("title")&&d.removeAttribute("title")}else{const r=n["column_"+i.dataField]
if(e.getAttribute("rowspan")&&(e.removeAttribute("rowspan"),e.removeAttribute("aria-rowspan"),e.style.height=""),e.getAttribute("colspan")&&(e.removeAttribute("colspan"),e.removeAttribute("aria-colspan")),r){if(r.colSpan>1){const n=t.columns.indexOf(i)
let o=0
for(let e=n;e<n+r.colSpan;e++){const i=t.columns[e]
i&&i.visible&&(o+=i.computedWidth)}e.style.width=o+"px",e.setAttribute("colspan",""),e.setAttribute("aria-colspan",r.colSpan),r._styleChanged=!0}if(r.rowSpan>1){const i=t.rows.indexOf(n)
let o=0
n.element.setAttribute("rowspan","")
for(let e=i;e<=i+r.rowSpan-1;e++){const i=t.rows[e]
i&&i.visible&&i.filtered&&(o+=i.cellHeight)}e.style.height=o+"px",e.setAttribute("rowspan",""),e.setAttribute("aria-rowspan",r.rowSpan),r._styleChanged=!0}(1===r.colSpan&&e.hasAttribute("colspan")||e.hasAttribute("rowspan")&&1===r.rowSpan)&&(e.style.height="",e.style.width="",e.removeAttribute("colspan"),e.removeAttribute("rowspan"),e.removeAttribute("aria-rowspan"),e.removeAttribute("aria-colspan"),r._styleChanged=!0),l.textContent===s||i.formatFunction||(l.textContent=s),r.setStyle(l),t.appearance.showTooltips?l.setAttribute("title",r.tooltip||s):l.hasAttribute("title")&&l.removeAttribute("title")}else l.textContent=s}}if(l.className!==h&&(l.className=h),i.formatFunction&&!n.data.isEmpty&&t.isInitialized){const t={row:n,column:i,cell:e.cell,oldValue:e.cell.oldValue,value:a,formattedValue:s,template:null}
e.cell.canNotify=!1,n.canNotify=!1
const r=Object.assign({},{background:e.cell.background,borderColor:e.cell.borderColor,color:e.cell.color,fontSize:e.cell.fontSize,fontFamily:e.cell.fontFamily,fontWeight:e.cell.fontWeight,fontStyle:e.cell.fontStyle})
i.formatFunction(t),l.style.background===r.background&&l.style.borderColor===r.borderColor&&l.style.color===r.color&&l.style.fontSize===r.fontSize&&l.style.fontWeight===r.fontWeight&&l.style.fontStyle===r.fontStyle||(e.cell._styleChanged=!0,e.cell.setStyle(l)),e.cell.background===r.background&&e.cell.borderColor===r.borderColor&&e.cell.color===r.color&&e.cell.fontSize===r.fontSize&&e.cell.fontWeight===r.fontWeight&&e.cell.fontStyle===r.fontStyle||(e.cell._styleChanged=!0,e.cell.setStyle(l))
let o=!0
if(t.value!==a){if(e.toggleButton){l.children[1].children[2].innerHTML=t.value}else l.innerHTML=t.value
o=!1}if(null!==t.template){if(e.toggleButton){const e=l.children[1].children[2]
e.innerHTML!==t.template&&(e.innerHTML=t.template)}else if(l.innerHTML!==t.template){const e=document.createElement("div")
e.innerHTML=t.template,e.innerHTML!==l.innerHTML&&(l.innerHTML=t.template)}o=!1}o&&(l.textContent=a),e.cell.canNotify=!0,n.canNotify=!0}}_rotateCellContent(e,t,i){const n=document.createElement("span")
return e.innerHTML="",n.innerHTML=i,e.appendChild(n),n.className="rotate",n.style.transform="rotate("+t.cellsRotationAngle+"deg)",this.grid._recycleRotate(e,n,t.cellsAlign,t.cellsVerticalAlign,i)}_getCellAlignment(e,t){const i=e["column_"+t.dataField],n=i&&i.verticalAlign||t.cellsVerticalAlign
let r=i&&i.align||t.cellsAlign
const o={align:"",verticalAlign:""}
switch(i.grid.rightToLeft&&("left"===r?r="right":"right"===r&&(r="left")),r){case"left":o.align="align-left"
break
case"center":case"middle":o.align="align-center"
break
case"right":o.align="align-right"}switch(n){case"top":o.verticalAlign="align-top"
break
case"center":case"middle":o.verticalAlign="align-middle"
break
case"bottom":o.verticalAlign="align-bottom"}return o}template(){return""}_detach(){this.element=null,this.cell=null}onDetached(){this._detach()}})
var ke=Object.freeze({})
JQX.Utilities.Assign("Grid.Menu",class{_openColumnChooserMenu(e){const t=this
if(e||(e=t._commandColumn),!e||t.menu&&t.menu.column===e&&e.element.hasAttribute("aria-controls"))return void t.closeMenu()
t.menu||(t.menu=document.createElement("div"),t.menu.classList.add("jqx-grid-column-menu"),t.menu.setAttribute("theme",t.getAttribute("theme")),t.menu.id=t.id+"_"+t.tagName.toLowerCase()+"_menu_"+Math.floor(65536*(1+Math.random())).toString(16).substring(1)),t.appearance.allowColumnMenuAnimation?t.menu.classList.add("jqx-animate"):t.menu.classList.remove("jqx-animate"),t._createColumnChooserMenuItems(e),t.menu.style.height=t.columnMenu.height?t.columnMenu.height+"px":"auto",t.menu.column&&t.menu.column!==e&&(t.menu.column.setProperty("menu",null),t.menu.column=null),document.body.appendChild(t.menu),e.setProperty("menu",t.menu)
const i=e.element.getBoundingClientRect()
t.menu.column=e
let n=i.right-e.element.actionButton.getBoundingClientRect().width+window.pageXOffset,r=i.bottom+window.pageYOffset
n+t.menu.offsetWidth>window.innerWidth&&(n=i.right+window.pageXOffset-t.menu.offsetWidth)+t.menu.offsetWidth>window.innerWidth&&(n=window.innerWidth-t.menu.offsetWidth),t.menu.style.left=n+"px",t.menu.style.top=r+"px",t.menu.classList.remove("jqx-hidden"),t.menu.classList.add("open")}_openColumnFilterMenu(e){const t=this
if(!e||t.filterRowMenu&&t.filterRowMenu.column===e&&e.element.hasAttribute("aria-controls"))return void t.closeMenu()
t.filterRowMenu||(t.filterRowMenu=document.createElement("div"),t.filterRowMenu.classList.add("jqx-grid-column-menu"),t.filterRowMenu.setAttribute("theme",t.getAttribute("theme")),t.filterRowMenu.id=t.id+"_"+t.tagName.toLowerCase()+"_menu_"+Math.floor(65536*(1+Math.random())).toString(16).substring(1)),t.appearance.allowColumnMenuAnimation?t.filterRowMenu.classList.add("jqx-animate"):t.filterRowMenu.classList.remove("jqx-animate"),t._createColumnFilterMenuItems(e),t.filterRowMenu.style.height=t.columnMenu.height?t.columnMenu.height+"px":"auto",t.filterRowMenu.column&&t.filterRowMenu.column!==e&&(t.filterRowMenu.column.setProperty("menu",null),t.filterRowMenu.column=null),document.body.appendChild(t.filterRowMenu),e.setProperty("filterRowMenu",t.filterRowMenu)
const i=e.element.getBoundingClientRect()
t.filterRowMenu.column=e
let n=i.left+window.pageXOffset,r=i.bottom+t.layout.rowMinHeight+window.pageYOffset
return n+t.filterRowMenu.offsetWidth>window.innerWidth&&(n=i.right+window.pageXOffset-t.filterRowMenu.offsetWidth)+t.filterRowMenu.offsetWidth>window.innerWidth&&(n=window.innerWidth-t.filterRowMenu.offsetWidth),t.filterRowMenu.style.left=n+"px",t.filterRowMenu.style.top=r+"px",t.filterRowMenu.classList.remove("jqx-hidden"),t.filterRowMenu.classList.add("open"),setTimeout(()=>{t.filterRowMenu.querySelector("jqx-menu").focus()},50),t.filterRowMenu}_openMenu(e){const t=this
if(!e||t.menu&&t.menu.column===e&&e.element.hasAttribute("aria-controls")||!1===t.columnMenu.enabled)return void t.closeMenu()
t._closeMenu(t.filterRowMenu),t.menu||(t.menu=document.createElement("div"),t.menu.classList.add("jqx-grid-column-menu"),t.menu.setAttribute("theme",t.getAttribute("theme")),t.menu.id=t.id+"_"+t.tagName.toLowerCase()+"_menu_"+Math.floor(65536*(1+Math.random())).toString(16).substring(1)),t.appearance.allowColumnMenuAnimation?t.menu.classList.add("jqx-animate"):t.menu.classList.remove("jqx-animate"),t.rightToLeft?t.menu.setAttribute("right-to-left",""):t.menu.removeAttribute("right-to-left"),t._createMenuItems(e),t._createFilterPanel(e),t._filterMenuItemsVisibility(e),t.menu.style.height=t.columnMenu.height?t.columnMenu.height+"px":"auto",t.menu.column&&t.menu.column!==e&&(t.menu.column.setProperty("menu",null),t.menu.column=null),document.body.appendChild(t.menu),e.setProperty("menu",t.menu)
const i=e.element.getBoundingClientRect()
t.menu.column=e
let n=i.right-e.element.actionButton.getBoundingClientRect().width+window.pageXOffset,r=i.bottom+window.pageYOffset
t.rightToLeft&&(n=i.left+window.pageXOffset-t.menu.offsetWidth+e.element.actionButton.getBoundingClientRect().width)<0&&(n=i.left+window.pageXOffset),n+t.menu.offsetWidth>window.innerWidth&&(n=i.right+window.pageXOffset-t.menu.offsetWidth)+t.menu.offsetWidth>window.innerWidth&&(n=window.innerWidth-t.menu.offsetWidth),t.menu.style.left=n+"px",t.menu.style.top=r+"px",t.hasColumnMenu(e)?t.menu.classList.remove("jqx-hidden"):t.closeMenu(),t.menu.classList.add("open")}_menuItemClick(e){const t=this,i=e.detail.value
if(i&&i.properties){const e=i.properties.command
"function"==typeof e?e.apply(t,[i.column,i.properties]):t[e]&&t[e].apply(t,[i.column,i.properties]),i.column.autoCloseMenu&&t.closeMenu()}}removeGroupByCommand(e){this.removeGroup(e.dataField)}groupByCommand(e){this.dataSource&&this.addGroup(e.dataField)}sortAscCommand(e){this.sortBy(e.dataField,"asc")}sortDescCommand(e){this.sortBy(e.dataField,"desc")}removeSortCommand(e){this.sortBy(e.dataField,null)}addFilterCommand(e){const t=this
t.$.headerBar&&t.$.headerBar.openFilterPanel(e)}removeFilterCommand(e){this.removeFilter(e.dataField)}_removeMenu(){const e=this
if(e.menu){const t=e.menu.querySelector("jqx-menu")
t&&e.menu.removeChild(t)}if(e.filterRowMenu){const t=e.filterRowMenu.querySelector("jqx-menu")
t&&e.filterRowMenu.removeChild(t)}}_createColumnChooserMenuItems(){const e=this
e._removeMenu()
const t=document.createElement("jqx-menu"),i=document.createDocumentFragment()
t.mode="vertical",t.dropDownAppendTo="body",t.checkboxes=!0,t.checkable=!0,t.classList.add("jqx-grid-column-chooser-menu"),t.rightToLeft=e.rightToLeft
for(let t=0;t<e.columns.length;t++){const n=e.columns[t],r=document.createElement("jqx-menu-item"),o=n.showIcon?n.icon:n.visible?"jqx-icon-eye":"jqx-icon-eye-off"
r.checked=n.visible,n.allowHide&&(n.command=function(e){e.visible=!e.visible},r.label=e.localize(n.label)||n.label||n.dataField,r.value={column:n,properties:n},o&&(r.label='<span class="jqx-grid-icon '+o+'"></span>'+r.label),i.appendChild(r))}t.appendChild(i),e.menu.appendChild(t),e.menu.itemCheckChange=e._menuItemClick.bind(e),e.menu.addEventListener("itemCheckChange",e.menu.itemCheckChange),e.menu.addEventListener("keydown",e._keyDownHandler.bind(e))}_createColumnFilterMenuItems(e){const t=this
t._removeMenu()
const i=document.createElement("jqx-menu"),n=document.createDocumentFragment()
i.mode="vertical",i.dropDownAppendTo="body",i.classList.add("jqx-grid-column-filter-menu"),i.rightToLeft=t.rightToLeft
const r=e._filterInfo.dataSource
for(let t=0;t<r.length;t++){const i=r[t],o=document.createElement("jqx-menu-item"),a=i.icon
o.label=i.label,o.value={column:e,properties:i},a&&(o.label='<span class="jqx-grid-icon '+a+'"></span>'+o.label),e._filterInfo.condition===i.value&&o.setAttribute("focus",""),n.appendChild(o)}i.appendChild(n),t.filterRowMenu.appendChild(i),t.filterRowMenu.itemClick=t._menuItemClick.bind(t),t.filterRowMenu.addEventListener("itemClick",t.filterRowMenu.itemClick),t.filterRowMenu.addEventListener("keydown",e=>{"Escape"===e.key&&t._closeMenu(t.filterRowMenu)})}_createMenuItems(e){const t=this
t._removeMenu()
const i=document.createElement("jqx-menu"),n=document.createDocumentFragment(),r=e.menuItems||t.columnMenu.dataSource
i.mode="vertical",i.dropDownAppendTo="body",i.rightToLeft=t.rightToLeft
for(let i in r){const o=r[i],a=document.createElement("jqx-menu-item")
let s=o.icon
a.label=t.localize(i),a.value={column:e,properties:o}
const l=t=>{if(t){if("string"===e.dataType)return"A → Z"
if("number"===e.dataType||"date"===e.dataType||"time"===e.dataType)return"1 → 9"
if("bool"===e.dataType||"boolean"===e.dataType)return"0 → 1"}else{if("string"===e.dataType)return"Z → A"
if("number"===e.dataType||"date"===e.dataType||"time"===e.dataType)return"9 → 1"
if("bool"===e.dataType||"boolean"===e.dataType)return"1 → 0"}}
"columnMenuItemSortAsc"===i?(a.label=t.localize(i,{mode:l(!0)}),"string"!==e.dataType&&o.iconAlt&&(s=o.iconAlt)):"columnMenuItemSortDesc"===i&&(a.label=t.localize(i,{mode:l(!1)}),"string"!==e.dataType&&o.iconAlt&&(s=o.iconAlt)),s&&(a.label='<span class="jqx-grid-icon '+s+'"></span>'+a.label),n.appendChild(a)}i.appendChild(n),t._filterContainer?t.menu.insertBefore(i,t._filterContainer):t.menu.appendChild(i),t.menu.itemClick=t._menuItemClick.bind(t),t.menu.addEventListener("itemClick",t.menu.itemClick),t.menu.addEventListener("keydown",t._keyDownHandler.bind(t))}_getFilterType(e){let t="string"
switch(e.dataType.endsWith("?")?e.dataType.substring(0,e.dataType.length-1):e.dataType){case"number":case"int":case"float":case"int64":t="numeric"
break
case"bool":case"boolean":t="bool"
break
case"date":case"time":case"datetime":t="date"
break
case"any":t="any"}return t}_createFilterPanel(e){const t=this
if(JQX.FilterPanel)if(t.filtering.enabled&&t.filtering.filterMenu.visible&&e.allowFilter&&!t.filtering.filterRow.visible&&(!t.header.visible||t.header.visible&&-1===t.header.buttons.indexOf("filter"))){const i=t._getFilterType(e)
if(t._filterPanel&&t._filterPanel.parentNode&&t._filterPanel.parentNode.removeChild(t._filterPanel),t._filterPanel=t._filterPanels[i],t._filterPanel.dataField=e.dataField,t._filterPanel.rightToLeft=t.rightToLeft,t.filtering.filterMenu.messages&&(t._filterPanel.messages=t.filtering.filterMenu.messages),"excel"===e.filterMenuMode&&(t._filterPanel.dataField=e.dataField,t.dataSource&&t.dataSource.boundSource&&(t._filterPanel.data=t.dataSource.boundSource.toArray?t.dataSource.boundSource.toArray():t.dataSource.boundSource)),t._filterPanel.mode=e.filterMenuMode,!t._filterContainer){const e=document.createElement("div")
e.classList.add("jqx-filter-container"),t._filterContainer=e,requestAnimationFrame(function(){t.menu.appendChild(e)}),t._applyFilterHandler=function(){t.addFilter(t._filterPanel.dataField,t._filterPanel.getFilter()),t.columnByDataField[t._filterPanel.dataField]._filterState=t._filterPanel.getState()},t._clearFilterHandler=function(){requestAnimationFrame(()=>{t.removeFilter(t._filterPanel.dataField),t.columnByDataField[t._filterPanel.dataField]._filterState=null})}}if(t._filterContainer.appendChild(t._filterPanel),t._filterPanel.classList.remove("jqx-hidden"),t._filterPanel.removeEventListener("filter",t._applyFilterHandler),t._filterPanel.removeEventListener("clear",t._clearFilterHandler),t._filterPanel.addEventListener("filter",t._applyFilterHandler),t._filterPanel.addEventListener("clear",t._clearFilterHandler),"none"!==e.filterMenuMode&&t.filtering.filterMenu.visible&&JQX.FilterPanel?t._filterContainer.classList.remove("jqx-hidden"):t._filterContainer.classList.add("jqx-hidden"),t._filterPanel.reset(),e._filterState)t._filterPanel.loadState(e._filterState)
else if(e.filter){const i=e.filter,n=t._getFilterType(e)
let r=i.getFilters()
for(;r.length>0&&"FilterGroup"===r[0].type;)r=r[0].value
const o=i.getConditions(n),a=r.length>0?o.indexOf(r[0].condition):-1,s=r.length>1?o.indexOf(r[1].condition):-1,l=r.length>0?r[0].value:"",d=r.length>1?r[1].value:"",c=r.length>1?["and","or"].indexOf(r[1].logicalOperator):0
e._filterState={firstFilterComparison:a,firstFilterValue:l,logicalOperator:c,secondFilterComparison:s,secondFilterValue:d},t._filterPanel.loadState(e._filterState)}}else t._filterPanel&&(t._filterPanel.parentNode.removeChild(t._filterPanel),e._filterState=null)}hasColumnMenu(e){const t=this
if(!1===t.columnMenu.enabled)return!1
const i=e.menuItems||t.columnMenu.dataSource
let n=0,r=0
for(let o in i){const a=i[o]
r++,!1===a.visible?n++:"auto"===a.visible&&("columnMenuItemFilter"!==o&&"columnMenuItemRemoveFilter"!==o||(t.filtering.filterMenu.visible||t.filtering.filterRow.visible)&&(!t.header.visible||t.header.visible&&-1===t.header.buttons.indexOf("filter"))&&n++,"columnMenuItemGroupBy"!==o&&"columnMenuItemRemoveGroupBy"!==o||e.allowGroup&&t.grouping.enabled||n++,"columnMenuItemFilter"!==o||e.allowFilter||n++,"columnMenuItemRemoveFilter"!==o||e.allowFilter||n++,"columnMenuItemGroupBy"!==o||e.allowGroup||n++,"columnMenuItemSortAsc"!==o&&"columnMenuItemSortDesc"!==o&&"columnMenuItemRemoveSort"!==o||e.allowSort&&t.sorting.enabled||n++)}return!!(t.filtering.enabled&&t.filtering.filterMenu.visible&&"none"!==e.filterMenuMode&&JQX.FilterPanel||JQX.Menu&&!(n>=r))}_filterMenuItemsVisibility(e){const t=this,i=(t.menu.parentElement&&(t.enableShadowDOM||t.isInShadowDOM)?t.menu.firstElementChild.shadowRoot:t.menu).querySelectorAll("jqx-menu-item"),n=e.menuItems||t.columnMenu.dataSource
let r=0
for(let o in n){const a=i[r++],s=n[o]
if(a.disabled=!s.enabled,a.classList.remove("jqx-hidden"),"columnMenuItemRemoveSort"===o&&(e.sortOrder?a.disabled=!1:a.disabled=!0),"columnMenuItemSortAsc"===o&&"asc"===e.sortOrder?a.disabled=!0:"columnMenuItemSortDesc"===o&&"desc"===e.sortOrder&&(a.disabled=!0),!0===s.visible)a.classList.remove("jqx-hidden")
else if(!1===s.visible)a.classList.add("jqx-hidden")
else if("auto"===s.visible){if("columnMenuItemFilter"!==o&&"columnMenuItemRemoveFilter"!==o||(!1===t.filtering.enabled?a.classList.add("jqx-hidden"):((t.filtering.filterMenu.visible||t.filtering.filterRow.visible)&&a.classList.add("jqx-hidden"),t.header.visible&&t.header.buttons.indexOf("filter")>=0&&a.classList.remove("jqx-hidden"))),"columnMenuItemGroupBy"===o){t.grouping.enabled&&e.allowGroup?a.classList.remove("jqx-hidden"):a.classList.add("jqx-hidden")
const i=t.dataSource.groupBy.indexOf(e.dataField)
a.disabled=i>=0}if("columnMenuItemRemoveGroupBy"===o){t.grouping.enabled&&e.allowGroup?a.classList.remove("jqx-hidden"):a.classList.add("jqx-hidden")
const i=t.dataSource.groupBy.indexOf(e.dataField)
a.disabled=i<0}"columnMenuItemFilter"!==o||e.allowFilter||a.classList.add("jqx-hidden"),"columnMenuItemRemoveFilter"!==o||e.allowFilter||a.classList.add("jqx-hidden"),"columnMenuItemSortAsc"!==o&&"columnMenuItemSortDesc"!==o&&"columnMenuItemRemoveSort"!==o||(e.allowSort&&t.sorting.enabled?a.classList.remove("jqx-hidden"):a.classList.add("jqx-hidden"))}}}openMenu(e){const t=this.columnByDataField[e]
t&&this._openMenu(t)}hasMenu(){const e=this
return!!(e.menu&&e.menu.column&&e.menu.parentNode)}_closeMenu(e){const t=this;(e=>{e&&e.column&&(e.column&&(e.column.setProperty("menu",null),e.column=null),e.parentNode&&(e.classList.remove("open"),t.appearance.allowColumnMenuAnimation||e.parentNode.removeChild(e)),e.removeEventListener("keydown",t._keyDownHandler.bind(t)),e.removeEventListener("itemClick",e.itemClick),e.removeEventListener("itemCheckChange",e.itemCheckChange),t.focus())})(e)}closeMenu(){const e=this.menu
this._closeMenu(e),this._closeMenu(this.filterRowMenu)}})
var Ae=Object.freeze({})
JQX.Utilities.Assign("Grid.Pager",class{_refreshPaging(e){const t=this
requestAnimationFrame(()=>{t._refreshLayout(),t._refreshSelection(),e||(t._initializeRowElements(),t._refreshLayout()),t.dataSource&&t.dataSource.virtualDataSource?t._virtualDataRequest(e?"pageIndexChange":"pageSizeChange"):t._recycle(!1)
const i=t.paging.pageIndex*t.paging.pageSize,n=i+t.paging.pageSize
t.$.fireEvent("page",{data:{first:i,last:n,size:n-i}})})}_refreshPagesCount(){const e=this,t=e.$.headerPager.querySelector("jqx-pager"),i=function(){const t=e.getVisibleRows()
let i=t.length
if(e.rowHierarchy){i=0
for(let e=0;e<t.length;e++){const n=t[e]
0!==n.level||n.parent||i++}void 0!==e.dataSource.virtualDataSourceLength&&(i=e.dataSource.virtualDataSourceLength)}return{pagesCount:Math.ceil(i/e.paging.pageSize),totalRecords:i}}()
t&&(t.pagesCount=i.pagesCount,t.totalRecords=i.totalRecords)
const n=e.$.footerPager.querySelector("jqx-pager")
t&&(n.pagesCount=i.pagesCount,n.totalRecords=i.totalRecords),e.paging.pageIndex>i.pagesCount&&(e.paging.pageIndex=i.pagesCount-1,e._refreshPaging(e.paging.pageIndex))}_renderPagers(){const e=this
e.pager.visible&&requestAnimationFrame(()=>{const t=document.createElement("jqx-pager"),i=document.createElement("jqx-pager")
e.$.headerPager.innerHTML="",e.$.footerPager.innerHTML="",e.$.headerPager.appendChild(t),e.$.footerPager.appendChild(i)
const n=function(t){t.messages[e.locale]||(t.messages[e.locale]={}),Object.assign(t.messages[e.locale],{firstButton:e.localize("pagerFirstButton"),lastButton:e.localize("pagerLastButton"),previousButton:e.localize("pagerPreviousButton"),nextButton:e.localize("pagerNextButton"),navigateToLabel:e.localize("pagerNavigateToLabel"),pageSizeLabel:e.localize("pagerPageSizeLabel"),navigateToInputPlaceholder:e.localize("pagerNavigateToInputPlaceholder"),ellipsis:e.localize("pagerEllipsis"),summaryString:e.localize("pagerSummaryString"),summaryPrefix:e.localize("pagerSummaryPrefix"),summarySuffix:e.localize("pagerSummarySuffix")})},r=function(){const t=e.getVisibleRows()
let i=t.length
if(e.rowHierarchy){i=0
for(let e=0;e<t.length;e++){const n=t[e]
0!==n.level||n.parent||i++}void 0!==e.dataSource.virtualDataSourceLength&&(i=e.dataSource.virtualDataSourceLength)}return{pagesCount:Math.ceil(i/e.paging.pageSize),totalRecords:i}},o=function(n,o){const a=o+"GridPager",s=r()
n.setAttribute("jqx-id",a),e.$[a]=n,e["$"+a]=JQX.Utilities.Extend(n),n.beginUpdate(),e.addPropertyBinding("[[pager_navigationButtons_position]]","navigationButtonsPosition",n),e.addPropertyBinding("[[pager_navigationButtons_firstLastButtons_visible]]","showFirstLastNavigationButtons",n),e.addPropertyBinding("[[pager_navigationButtons_prevNextButtons_visible]]","showPrevNextNavigationButtons",n),e.addPropertyBinding("[[pager_navigationButtons_labels_visible]]","showNavigationButtonLabels",n),e.addPropertyBinding("[[pager_pageIndexSelectors_visible]]","showPageIndexSelectors",n),e.addPropertyBinding("[[pager_pageIndexSelectors_dataSource]]","pageIndexSelectors",n),e.addPropertyBinding("[[pager_summary_visible]]","showSummary",n),e.addPropertyBinding("[[pager_summary_position]]","summaryPosition",n),e.addPropertyBinding("[[pager_navigationInput_visible]]","showNavigationInput",n),e.addPropertyBinding("[[pager_navigationInput_position]]","navigationInputPosition",n),e.addPropertyBinding("[[pager_pageSizeSelector_visible]]","showPageSizeSelector",n),e.addPropertyBinding("[[pager_pageSizeSelector_dataSource]]","pageSizeSelectorDataSource",n),e.addPropertyBinding("[[pager_pageSizeSelector_position]]","pageSizeSelectorPosition",n),e.addPropertyBinding("[[pager_autoEllipsis]]","autoEllipsis",n),e.addPropertyBinding("[[!paging_enabled]]","disabled",n),e.addPropertyBinding("{{paging_pageIndex}}","pageIndex",n),e.addPropertyBinding("{{paging_pageSize}}","pageSize",n),e.addPropertyBinding("{{rightToLeft}}","rightToLeft",n),n.pagesCount=s.pagesCount,n.totalRecords=s.totalRecords,n.$.pageSizeSelector.dropDownAppendTo="body",n.$.pageSizeSelector.selectedIndexes=[0],e["$"+a].listen("change",function(o){const a=r()
n.pagesCount=a.pagesCount,n.totalRecords=a.totalRecords,e.paging.pageIndex>n.pagesCount&&(e.paging.pageIndex=n.pagesCount-1),t.refresh(),i.refresh()
const s=o.detail&&void 0!==o.detail.index||void 0!==o.target.value
e._refreshPaging(s)}),n.endUpdate()}
o(t,"header"),o(i,"footer"),n(t),n(i)})}})
var je=Object.freeze({})
JQX.Utilities.Assign("Grid.Filter",class{addFilter(e,t,i){const n=this,r=n.columnByDataField[e]
if("string"==typeof t&&(t=n.dataSource._createFilter(r.dataType,[t])),r&&r.canNotify){if(r.setProperty("filter",t),n._isUpdating)return
!1!==i&&n.refreshFilters()}}removeFilter(e,t){const i=this,n=i.columnByDataField[e]
if(n&&n.canNotify){if(n.setProperty("filter",null),i._isUpdating)return
!1!==t&&i.refreshFilters()}}clearFilter(){const e=this
for(let t=0;t<e.columns.length;t++){e.columns[t].setProperty("filter",null)}e.refreshFilters()}getFilteredColumns(){const e=this
if(e._filters){const t=[]
for(let i=0;i<e._filters.length;i++){const n=e._filters[i]
t[n[0]]=n[1],t.length++}return t}return[]}getVisibleRows(){const e=this
if(e._visibleRows)return e._visibleRows
const t=[],i=e._viewRows,n=e.editing.addNewRow.visible&&"far"!==e.editing.addNewRow.position?1:0
for(let e=0;e<i.length;e++){const r=i[e]
r.canNotify=!1,r.visibleIndex=-1,!r.visible||!1===r.filtered&&void 0!==r.filtered||(r.visibleIndex=t.length-n,t.push(r)),r.canNotify=!0}return e._visibleRows=t,t}refreshFilters(){const e=this,t=[]
e._filters||(e._filters=[])
for(let i=0;i<e.columns.length;i++){const n=e.columns[i]
n.filter&&t.push([n.dataField,n.filter])}if(e.scrollTop=0,e.closeMenu(),e.dataSource&&!e.dataSource.onFilter&&(e.dataSource.onFilter=function(){const t=e._viewRows
for(let e=0;e<t.length;e++){const i=t[e]
i.data&&!i.addNewRow&&(i.filtered=void 0===i.data.$.filtered||i.data.$.filtered)}e.refresh()}),JSON.stringify(e._filters)===JSON.stringify(t))return void(e._visibleRows=null)
if(e._filters=t,e._visibleRows=null,e.dataSource&&e.dataSource.virtualDataSource)e.closeMenu(),e._virtualDataRequest("filter")
else{const i=e._filterOperator||"and"
e.dataSource._filter(t,i)}e.paging.enabled&&e.dataSource&&!e.dataSource.virtualDataSource&&e._refreshPagesCount()
let i=[]
for(let t=0;t<e.columns.length;t++){const n=e.columns[t]
n.filter&&i.push(n)}let n=[]
if(e._filters)for(let t=0;t<e._filters.length;t++){const i=e._filters[t]
n.push({dataField:i[0],filter:i[1]})}e.$.fireEvent("filter",{columns:i,data:n})}_handleFilterCellFocus(e){const t=this,i=e.column._filterInfo,n=i.editor,r=i.input,o=e.column,a=o.dataType
n.setAttribute("focus",""),t.filtering.filterRow.cell=e,"RANGE"===i.condition?t._openFilterCellDialog(e,e=>{const i=e._filterInfo,n=i.editor,r=i.range,o=i.input,a=i.cell
if(r){const i=new JQX.FilterGroup
i.addFilter("and",i.createFilter(e.dataType,r.min,"GREATER_THAN_OR_EQUAL")),i.addFilter("and",i.createFilter(e.dataType,r.max,"LESS_THAN_OR_EQUAL")),t.addFilter(e.dataField,i)}else t.removeFilter(e.dataField)
if(n&&o)if(o.type="",r){const t=a.getFormattedValue(r.min,e.cellsFormat),i=a.getFormattedValue(r.max,e.cellsFormat)
o.value=t+" - "+i}else o.value=""}):(r.type="number"===a||"int"===a||"float"===a?"number":"",i.value&&(r.value=i.value,"date"===a&&(r.value=e.getFormattedValue(i.value,o.cellsFormat))))}_handleFilterCellBlur(e){const t=this,i=e.column._filterInfo,n=i.editor,r=i.input,o=e.column,a=i.condition
t.filtering.filterRow.cell=null,o.filterRowMenu&&o.filterRowMenu.classList.contains("open")?n.removeAttribute("focus"):(""!==r.value&&"RANGE"!==a&&("date"===o.dataType?(i.value=new Date(r.value),r.value=e.getFormattedValue(i.value,o.cellsFormat)):"number"===o.dataType||"int"===o.dataType||"float"===o.dataType?(i.value=parseFloat(r.value),r.type="",r.value=e.getFormattedValue(i.value,o.cellsFormat)):i.value=r.value),"auto"===t.filtering.filterRow.applyMode&&t._handleFilterCellValue(e),n.removeAttribute("focus"))}_handleFilterCellValue(e){const t=this,i=e.column._filterInfo,n=e.column
if("RANGE"===i.condition){const e=i.range
if(e){const i=new JQX.FilterGroup
i.addFilter("and",i.createFilter(n.dataType,e.min,"GREATER_THAN_OR_EQUAL")),i.addFilter("and",i.createFilter(n.dataType,e.max,"LESS_THAN_OR_EQUAL")),t.addFilter(n.dataField,i)}else t.removeFilter(n.dataField)}else{const e=i.value
if(""!==e&&void 0!==e){const r=new JQX.FilterGroup
r.addFilter("and",r.createFilter(n.dataType,e,i.condition||("string"===n.dataType?"CONTAINS":"EQUAL"))),t.addFilter(n.dataField,r)}else t.removeFilter(n.dataField)}}_handleFilterCellKeyDown(e,t){const i=this,n=e.column._filterInfo.input
t.ctrlKey&&"a"===t.key?n.select():t.altKey&&"ArrowDown"===t.key&&i._handleFilterCellIconClick(e)}_handleFilterCellKeyUp(e,t){const i=e.column,n=i._filterInfo.input,r=this,o=i._filterInfo,a=t.key
o.value=n.value,"Escape"===a&&(o.value="",o.range=null,n.value=""),"Enter"===a||"Escape"===a||""===n.value?r._handleFilterCellValue(e):"auto"===r.filtering.filterRow.applyMode&&"Ctrl"!==a&&"Shift"!==a&&(r._filterRowTimer=setTimeout(()=>{r._handleFilterCellValue(e)},r.filtering.filterRow.autoApplyModeDelay)),t.ctrlKey&&"a"===a&&n.select()}_handleFilterCellCheckBoxClick(e){const t=this,i=e.column,n=i._filterInfo
void 0===n.value&&(n.value=null),!0===n.value?n.value=!1:!1===n.value?n.value=null:null===n.value&&(n.value=!0)
const r=e.element.querySelector(".jqx-input")
if(n.value?r.setAttribute("checked",n.value):null===n.value?r.setAttribute("checked","indeterminate"):r.removeAttribute("checked"),null===n.value)return void t.removeFilter(i.dataField)
const o=new JQX.FilterGroup
o.addFilter("and",o.createFilter(i.dataType,!0===n.value,"EQUAL")),t.addFilter(i.dataField,o)}_handleFilterCellIconClick(e){const t=this,i=e.column
i.filterRowMenu&&i.filterRowMenu.classList.contains("open")?t._closeMenu(i.filterRowMenu):t._openColumnFilterMenu(i)}_handleFilterCalendarCellClick(e){const t=this
t._openFilterCellDialog(e,i=>{const n=i._filterInfo,r=n.editor.querySelector("input"),o=n.value
if(r)if(o){r.value=e.getFormattedValue(o,i.cellsFormat||"")
const a=new JQX.FilterGroup
a.addFilter("and",a.createFilter(i.dataType,o,n.condition||"EQUAL")),t.addFilter(i.dataField,a)}else r.value="",t.removeFilter(i.dataField)})}_handleFilterMenuClick(e,t){const i=this,n=e._filterInfo,r=n.editor,o=n.input
if(r.firstElementChild.innerHTML=`<i class="jqx-grid-icon ${t.icon} show"></i>`,"CLEAR_FILTER"===t.value&&(o.value="",r.firstElementChild.innerHTML='<i class="jqx-grid-icon jqx-icon-search show"></i>',n.condition=null,n.value="",n.range=null),o.type="","RANGE"===n.condition&&"RANGE"!==t.value){let e=n.range
n.value=e.min}else if("RANGE"===t.value&&"RANGE"!==n.condition&&null!==n.condition){let e=n.range
n.value&&(e={min:n.value,max:n.value},n.range=e)}if("RANGE"!==t.value){if(o.readonly=!1,"CLEAR_FILTER"!==t.value&&(n.condition=t.value),""===o.value)i.removeFilter(e.dataField)
else{const t=new JQX.FilterGroup,r=n.value
t.addFilter("and",t.createFilter(e.dataType,r,n.condition||"EQUAL")),i.addFilter(e.dataField,t),o.value=n.cell.getFormattedValue(r,e.cellsFormat)}setTimeout(()=>{o.focus()},25)}else{o.readonly=!0
const r=new JQX.FilterGroup,a=n.range
if(a){r.addFilter("and",r.createFilter(e.dataType,a.min,"GREATER_THAN_OR_EQUAL")),r.addFilter("and",r.createFilter(e.dataType,a.max,"LESS_THAN_OR_EQUAL")),i.addFilter(e.dataField,r)
const t=n.cell.getFormattedValue(a.min,e.cellsFormat),s=n.cell.getFormattedValue(a.max,e.cellsFormat)
o.value=t+" - "+s}else o.value=""
n.condition=t.value}}_handleFilterNumberCellEditor(e,t,i){const n=t.querySelector("input"),r=t.querySelector(".up"),o=t.querySelector(".down"),a=e.column,s=this
let l=t=>{const i=a._filterInfo
if("RANGE"===i.condition)return void n.focus()
let r=parseFloat(i.value)
if(isNaN(r))return i.value=0,void(n.value=0);(t<0?r>n.min||""===n.min:r<n.max||""===n.max)&&(n.value=r+t,i.value=n.value,n.focus(),s._handleFilterCellValue(e))}
i&&(l=i)
const d=(e,t)=>{let i,n
e.onpointerdown=function(e){l(t),i&&clearTimeout(i),i=setTimeout(()=>{n&&clearInterval(n),n=setInterval(()=>{l(t)},50)},300),e.preventDefault(),e.stopPropagation()},e.onpointerup=(()=>{n&&clearInterval(n),i&&clearTimeout(i),n=null}),e.onpointerenter=(()=>{n&&(clearInterval(n),n=setInterval(()=>{l(1)},50))}),e.onpointerleave=(()=>{clearInterval(n)}),document.addEventListener("pointerup",()=>{n&&clearInterval(n),n=null,i&&clearTimeout(i)})}
d(r,1),d(o,-1)}_openFilterCellDialog(e,t){const i=this,n=i._dialogFilter||i._createDialog(),r=i.localize("dialogFilterHeader")+" "+e.column.label,o=n.content
n.header.innerHTML=r,n.confirm=t
let a=null,s=0
i._cellEditors||(i._cellEditors=[]),i._dialogFilter||(n.modal=!0,n.btnConfirm.innerHTML=i.localize("dialogFilterButtonConfirm"),n.btnCancel.innerHTML=i.localize("dialogFilterButtonCancel"),n.onOpen=function(){n.focus()
const e=i._dialogFilterCell,t=e.column._filterInfo.range,r=e.column._filterInfo.value
if("date"===e.column.dataType){const i=o.querySelector("jqx-calendar")
setTimeout(()=>{"RANGE"===e.column._filterInfo.condition&&t?(i.selectedDates=[new Date(t.min.getTime()),new Date(t.max.getTime())],i._selectMultipleDates(new Date(t.min.getTime()),new Date(t.max.getTime()))):r&&(i.selectedDates=[new Date(r.getTime())]),i.focus()},100),i.focus()}else{const e=o.querySelectorAll("input")
e[0].focus(),t&&(e[0].value=t.min,e[1].value=t.max)}},n.onClose=function(){},n.btnCancel.onclick=function(){n.close()
const e=i._dialogFilterCell
e.column._filterInfo.range=null,e.column._filterInfo.value=null,n.confirm(e.column)},n.btnClose.onclick=function(){n.close()},n.btnConfirm.onclick=function(){const e=i._dialogFilterCell
if(e.column._filterInfo.range=null,e.column._filterInfo.value=null,"date"===e.column.dataType){const t=o.querySelector("jqx-calendar"),i=t.selectedDates
"range"===t.selectionMode?e.column._filterInfo.range={min:new Date(i[0].getTime()),max:new Date(i[i.length-1].getTime())}:e.column._filterInfo.value=new Date(i[0].getTime())}else{const t=o.querySelectorAll("input")
let i=t[0].value,n=t[1].value
""===n&&(n=100),""===i&&(i=0),e.column._filterInfo.range={min:i,max:n}}n.confirm(e.column),n.close()},n.onkeydown=function(e){const t=e.key
"Enter"===t?n.btnConfirm.onclick():"Escape"===t&&n.close()}),o.classList.remove("jqx-grid-layout"),o.innerHTML=""
const l=()=>{const e=o.querySelectorAll("input")
n.btnConfirm.disabled=!0,""===e[0].value&&(e[0].value=0),""===e[1].value&&(e[1].value=100),parseFloat(e[0].value)<=parseFloat(e[1].value)&&(n.btnConfirm.disabled=!1)}
"date"!==e.column.dataType&&o.classList.add("jqx-grid-layout")
for(let t=0;t<2;t++){const n=e.column
if("date"===n.dataType){const e=document.createElement("div")
"RANGE"===n._filterInfo.condition?e.innerHTML='<jqx-calendar selection-mode="range"></jqx-calendar>':e.innerHTML="<jqx-calendar></jqx-calendar>",o.appendChild(e)
break}s%2==0&&((a=document.createElement("div")).classList.add("row"),o.appendChild(a))
const r=document.createElement("div")
r.classList.add("col-sm-6")
const d=document.createElement("div")
d.classList.add("column")
const c=document.createElement("label")
c.innerHTML=0===t?i.localize("dialogFilterMinLabel"):i.localize("dialogFilterMaxLabel")
const h=document.createElement("div")
h.classList.add("jqx-grid-dialog-editor"),h.setAttribute("editor",n.dataField),h.setAttribute("template",n.editor.template),r.appendChild(d),a.appendChild(r),d.appendChild(c),d.appendChild(h),s++,h.innerHTML='<div class="jqx-grid-cell-editor jqx-filter-input-value jqx-grid-number-input-cell-editor"><input class="jqx-input" type="number"><div class="nav"><div tabindex="-1" class="up"></div><div tabindex="-1" class="down"></div></div></div>'
const u=h.querySelector("input")
u.onchange=(()=>{l()}),i._handleFilterNumberCellEditor(e,h,e=>{let t=parseFloat(u.value)
if(isNaN(t))return void(u.value=0);(e<0?t>u.min||""===u.min:t<u.max||""===u.max)&&(u.value=t+e),l()})}i._dialogFilter=n,i._dialogFilterCell=e
const d=e.column.element.getBoundingClientRect(),c=i.offset(i)
let h=d.left+window.pageXOffset-c.left,u=d.bottom+i.layout.rowMinHeight+window.pageYOffset-c.top
n.open(h,u)}})
var Me=Object.freeze({})
JQX.Utilities.Assign("Grid.Sort",class{clearSort(){const e=this
if(!e._isSorting&&e.dataSource){e._isSorting=!0,e.dataSource.clearSort(),e._sortedColumns||(e._sortedColumns=[])
for(let t=0;t<e._sortedColumns.length;t++){const i=e._sortedColumns[t],n=e.columnByDataField[i.dataField]
n&&(n.setProperty("sortOrder",null),n.setProperty("sortIndex",null))}e._sortedColumns=[]
for(let t=0;t<e.dataSource.length;t++){const i=e.rows[t],n=e.dataSource[t]
i&&(i.data=n,i.boundIndex=n.boundIndex)}e._recycle(),e._refreshHeaderBar(),e._isSorting=!1}}getSortedColumns(){const e=this,t=[]
if(e._sortedColumns)for(let i=0;i<e._sortedColumns.length;i++){const n=e._sortedColumns[i]
t[n.dataField]={sortOrder:n.sortOrder,sortIndex:n.sortIndex},t.length++}return t}addSort(e,t){this.sortBy(e,t)}removeSort(e){this.sortBy(e,null)}refreshSort(){this._refreshSort(this._sortedColumns)}_refreshSort(e){const t=this
if(t._isSorting||!e)return
const i=[],n=[],r=[]
t._isSorting=!0
for(let o=0;o<e.length;o++){const a=e[o],s=t.columnByDataField[a.dataField]
s&&(s.setProperty("sortOrder",a.sortOrder),i.push(a.dataField),n.push(a.sortOrder),r.push(a.dataType))}!function(){if(t.dataSource&&t.dataSource.virtualDataSource)t._virtualDataRequest("sort")
else{if(t.dataSource.sortBy(i,r,n),t.dataSource.boundHierarchy)t._refreshRowHierarchy(),t.dataSource.groupBy.length>0&&t.refresh()
else for(let e=0;e<t.dataSource.length;e++){const i=t.rows[e],n=t.dataSource[e]
i.data=n,i.boundIndex=n.boundIndex}t._recycle()}}(),t._refreshHeaderBar(),t._isSorting=!1,t._sortedColumns=e}sortBy(e,t){const i=this,n=i.columnByDataField[e],r=[],o=[],a=[],s=void 0===t
if(i._isSorting||!n)return
i._isSorting=!0,"descending"===t&&(t="desc"),void 0!==t&&"ascending"!==t||(t="asc")
const l=function(e){e&&e.setProperty("sortOrder",null)},d=function(){if(i._sortedColumns.length>0)for(let e=0;e<i._sortedColumns.length;e++){const t=i._sortedColumns[e],n=i.columnByDataField[t.dataField]
l(n)}i._sortedColumns=[]}
if(null===n)return d(),void(i._isSorting=!1)
if(!i.sorting.enabled||!i.dataSource||!n.allowSort||i._sortAnimation)return void(i._isSorting=!1)
l(n),i._sortedColumns||(i._sortedColumns=[])
let c="string"
for(let t=0;t<i.dataSource.dataFields.length;t++){const n=i.dataSource.dataFields[t]
if(n.name===e){c=n.dataType
break}}let h=!0
for(let r=0;r<i._sortedColumns.length;r++){const o=i._sortedColumns[r]
if(o.dataField===e)if(h=!1,o.sortIndex=n.sortIndex,s){if("asc"===o.sortOrder)o.sortOrder="desc",t="desc"
else if("desc"===o.sortOrder){i.sorting.sortToggleThreeStates?(i._sortedColumns.splice(r,1),l(n),t=null):(o.sortOrder="asc",t="asc")
break}}else o.sortOrder=t,null===t&&(i._sortedColumns.splice(r,1),l(n))}h&&("one"===i.sorting.mode&&d(),null!==t&&i._sortedColumns.push({dataField:e,sortOrder:t,sortIndex:n.sortIndex,dataType:c})),n.setProperty("sortOrder",t),i._sortedColumns.sort((e,t)=>"string"==typeof e.sortIndex&&"string"==typeof t.sortIndex?0:"number"==typeof e.sortIndex&&"string"==typeof t.sortIndex?-1:"string"==typeof e.sortIndex&&"number"==typeof t.sortIndex?1:"number"==typeof e.sortIndex&&"number"==typeof t.sortIndex?e.sortIndex-t.sortIndex:void 0)
for(let e=0;e<i._sortedColumns.length;e++){const t=i._sortedColumns[e]
r.push(t.dataField),o.push(t.sortOrder),a.push(t.dataType)}const u=function(){if(i.dataSource&&i.dataSource.virtualDataSource)i._virtualDataRequest("sort")
else{if(i.dataSource.sortBy(r,a,o),i.dataSource.boundHierarchy)i._refreshRowHierarchy(),i.dataSource.groupBy.length>0&&i.refresh()
else for(let e=0;e<i.dataSource.length;e++){const t=i.rows[e],n=i.dataSource[e]
t.data=n,t.boundIndex=n.boundIndex}i._recycle()}const e=[]
for(let t=0;t<i._sortedColumns.length;t++){const n=i.columnByDataField[i._sortedColumns[t].dataField]
n&&e.push(n)}i._refreshHeaderBar(),i.$.fireEvent("sort",{columns:e,data:i._sortedColumns})}
if(i.appearance.allowSortAnimation){let e=[],t=[]
i.rows.canNotify=!1,i._sortAnimation=!0
const n=function(){for(let t=0;t<i._rowElements.length;t++){const n=i._rowElements[t]
n.classList.remove("jqx-grid-sort-animation"),i.removeTransformMoveStyle(n),n.offsetHeight>0&&e.push(n.offsetTop)}}
n(),i._sortTimer=setTimeout(function(){n(),i._sortAnimation=!1,i.rows.canNotify=!0},i.appearance.sortAnimationDuration),i._sortTimer2=setTimeout(function(){u()},i.appearance.sortAnimationDuration/2)
for(let n=0;n<e.length;n++){const r=i._rowElements[n]
r.classList.remove("jqx-grid-sort-animation"),i.removeTransformMoveStyle(r)
let o=Math.floor(Math.random()*e.length-1+1)
for(;t[o];)o=Math.floor(Math.random()*e.length-1+1)
t[o]=!0,i.addTransformMoveStyle(r,"0ms",0,-r.offsetTop+e[o],0,.5),r.classList.add("jqx-grid-sort-animation"),setTimeout(function(){i.addTransformMoveStyle(r,i.appearance.sortAnimationDuration+"ms",0,0,0,1)}),setTimeout(function(){r.classList.remove("jqx-grid-sort-animation")},i.appearance.sortAnimationDuration)}}else u()
i._isSorting=!1}})
var Ne=Object.freeze({})
JQX.Utilities.Assign("Grid.Group",class{_renderGroupBar(){const e=this
if(!e.grouping.groupBar.visible)return
const t=e.$.groupHeader
if(!t.firstElementChild){const i=document.createElement("jqx-breadcrumb"),n=e.localize("groupBarLabel")
t.appendChild(i),e.$.breadcrumb=i,i.placeholder=n,i.classList.add("jqx-hidden")}const i=e.dataSource.groupBy,n=[]
for(let t=0;t<i.length;t++){const r=i[t],o=e.columns.find(e=>e.dataField===r)
if(!o)continue
let a=""
o.sortOrder&&(a+='<span class="jqx-grid-icon show '+("asc"===o.sortOrder?"jqx-icon-sort-up":"jqx-icon-sort-down")+'"></span>'),o.filter&&(a+='<span class="jqx-grid-icon jqx-icon-filter show"></span>'),n.push({label:o.label+a,value:o.dataField})}e.$.breadcrumb.closeButtons=e.grouping.groupBar.allowColumnCloseButtons,e.$.breadcrumb.allowDrag=e.$.breadcrumb.allowDrop=e.grouping.groupBar.allowColumnDragDrop,e.$.breadcrumb.dataSource=n,e.$.breadcrumb.minimizeWidth=350,e.offsetWidth<350&&(e.$.breadcrumb.parentElement.style.zIndex=9999,e.$.breadcrumb.parentElement.style.overflow="visible"),e.$.breadcrumb.onminimize=(()=>{e.$.breadcrumb.parentElement.style.zIndex=9999,e.$.breadcrumb.parentElement.style.overflow="visible"}),e.$.breadcrumb.onitemclick=(t=>{const i=t.detail.item,n=e.columnByDataField[i.value]
n.allowSortToggleOnClick&&e.sorting.enabled&&e.sortBy(n.dataField)}),e.$.breadcrumb.onmaximize=(()=>{e.$.breadcrumb.parentElement.style.zIndex="",e.$.breadcrumb.parentElement.style.overflow=""}),e.$.breadcrumb.ondragstart=function(t){const i=e.$.breadcrumb._dragDrop,r=e.$.breadcrumb._items.indexOf(t.detail.item),o=e.columnByDataField[e.$.breadcrumb.dataSource[r].value]
if(e.$.fireEvent("columnDragStart",{column:o,index:e.columns.indexOf(o),data:i,originalEvent:t.detail.originalEvent}).defaultPrevented)return
const a=e.columns.map(e=>(e.dataField===n[r].value&&e.element.classList.add("dragged"),e.element))
i.items=i.items.concat(a),i.getItemCoordinates(i.items),i.column=o,e._overlay=document.createElement("div"),e._overlay.classList.add("jqx-grid-overlay"),e._overlay.style.cursor="",e.$.root.appendChild(e._overlay),e._dragLine=e._createLine(i.dragDetails.item),e.$.root.appendChild(e._dragLine),e._dragLine.style.height=i.dragDetails.item.offsetHeight+"px",requestAnimationFrame(()=>{e._dragLine.style.opacity=1})},e.$.breadcrumb.ondragging=function(t){const i=e.$.breadcrumb._dragDrop,n=i.dragDetails
if(e._dragLine&&n.target){const r=e.getBoundingRect(n.target),o=e.getBoundingRect(e),a=e.getBoundingRect(e.$.columnHeader)
n.before?e._dragLine.style.left=-a.left+r.left+"px":e._dragLine.style.left=-a.left+r.right+"px",parseInt(e._dragLine.style.left)<3&&(e._dragLine.style.left="3px"),e._dragLine.style.top=r.top-o.top+"px",n.target.classList.contains("jqx-breadcrumb-item")?e._dragLine.style.height=r.height+"px":e._dragLine.style.height="calc(100% - 7px - "+e._dragLine.style.top+")",e.$.fireEvent("columnDragging",{column:i.column,index:e.columns.indexOf(i.column),data:i,originalEvent:t.detail.originalEvent})}},e.$.breadcrumb.ondragcancel=function(){e._dragLine&&e._dragLine.parentNode.removeChild(e._dragLine),e.columns.forEach(e=>{e.element&&e.element.classList.remove("dragged")})
const t=e.$.breadcrumb._dragDrop
e.$.fireEvent("columnDragCancel",{column:t.column,index:e.columns.indexOf(t.column),data:t})},e.$.breadcrumb.ondragend=function(t){e.beginUpdate()
const i=e.getBoundingRect(e.$.breadcrumb)
if(t.detail.originalEvent.pageY>i.bottom){const i=e.$.breadcrumb._dragDrop,n=t.detail.item.data.value,r=i.dragDetails.target,o=e.columnByDataField[n],a=e.$.breadcrumb.dataSource.findIndex(e=>e.value===o.dataField),s=e.$.breadcrumb.dataSource.slice(0)
if(s.splice(a,1),e.$.breadcrumb.dataSource=s,r&&r.column){if(!e.$.fireEvent("columnDragEnd",{column:i.column,index:e.columns.indexOf(i.column),newIndex:e.columns.indexOf(r.column),data:i,originalEvent:t.detail.originalEvent}).defaultPrevented){const t=e.columns.indexOf(o),i=e.columns.indexOf(r.column)
e.columns.move(t,i)}}}const n=e.$.breadcrumb.dataSource.map(e=>e.value)
e._dragLine&&e._dragLine.parentNode.removeChild(e._dragLine),e.columns.forEach(e=>{e.element&&e.element.classList.remove("dragged")}),e.dataSource.groupBy=n,e.refresh(!0),e.refreshFilters(),e.refreshSort(),e.endUpdate()},e.$.breadcrumb.onclose=function(t){const i=t.detail.item
e.removeGroup(i.value)}}addGroup(e){const t=this
t.dataSource&&t.grouping.enabled&&-1===t.dataSource.groupBy.indexOf(e)&&(t.dataSource.groupBy.push(e),t.refresh(!0),t.refreshFilters(),t.refreshSort())}removeGroup(e){const t=this
if(!t.dataSource||!t.grouping.enabled)return
const i=t.dataSource.groupBy.indexOf(e)
i>=0&&(t.dataSource.groupBy.splice(i,1),t.refresh(!0),t.refreshFilters(),t.refreshSort())}clearGroups(){this.dataSource&&this.grouping.enabled&&(this.dataSource.clearGroup(),this.refresh(!0),this.refreshFilters(),this.refreshSort())}})
var qe=Object.freeze({})
JQX.Utilities.Assign("Grid.Select",class{_refreshSelection(){const e=this
if(e.selection.enabled){e._selectionColumn.refresh()}e._refreshCellSelectionRect()}_toggleColumnSelection(e){const t=this
if(!t.selection.enabled||"none"===t.selection.checkBoxes.selectAllMode)return void(t._inputOverlay&&t._inputOverlay.parentNode&&t._inputOverlay.parentNode.removeChild(t._inputOverlay))
let i=e.element.getAttribute("selected")
i="indeterminate"===i||""!==i
let n=t._recyclingRows
t._selectionColumn._selecting=!0,t.beginUpdate()
for(let e=0;e<n.length;e++){n[e].selected=i}if(t._selectionColumn._selecting=!1,t.endUpdate(!1),t._recycle(!1),t.selection.enabled&&t.selection.checkBoxes.enabled&&"none"!==t.selection.checkBoxes.selectAllMode){const i=e.element,n=i.querySelector(".jqx-input")
t._inputOverlay?t._inputOverlay.parentNode!==t.$.columnHeader&&(t._inputOverlay.parentNode&&t._inputOverlay.parentNode.removeChild(t._inputOverlay),t._inputOverlay=document.createElement("div"),t.$.columnHeader.appendChild(t._inputOverlay)):(t._inputOverlay=document.createElement("div"),t.$.columnHeader.appendChild(t._inputOverlay)),t._inputOverlay.column=e,t._inputOverlay.onpointerdown=function(){t._inputOverlay||(t._inputOverlay.onpointerdown=null)
const e=t._inputOverlay.column
t._inputOverlay.classList.remove("jqx-animate"),t._selectionColumn._selecting=!0,t.beginUpdate()
let i=e.element.hasAttribute("selected"),n=t._recyclingRows
for(let e=0;e<n.length;e++){n[e].selected=!i}t._selectionColumn._selecting=!1
const r=t._inputOverlay
return t.endUpdate(!1),t._recycle(),t.$.columnHeader.appendChild(r),t._inputOverlay=r,t._inputOverlay.classList.add("jqx-animate"),!1},t._inputOverlay.classList.add("jqx-input-overlay"),t._inputOverlay.classList.add("jqx-input-overlay-column"),t.appearance.allowCheckBoxesSelectionAnimation&&t._inputOverlay.classList.add("jqx-animate"),t._inputOverlay.style.top=(i.offsetHeight-n.offsetHeight)/4+1+"px"
const r=t._selectionColumn.element.parentElement.offsetLeft+t._selectionColumn.element.offsetLeft
t.rightToLeft?t._inputOverlay.style.right=r+"px":t._inputOverlay.style.left=r+"px",t._inputOverlay.style.height=i.offsetWidth+"px",t._inputOverlay.style.width=i.offsetWidth+"px",t._inputOverlay.onmousedown=null,t._inputOverlay.classList.add("jqx-input-overlay-on"),t._selectionColumn.refresh()}}_refreshCheckBoxColumnSelection(){const e=this
if(e.selection.enabled&&e.selection.checkBoxes.enabled){const t=e._selectionColumn.element
"none"===e.selection.checkBoxes.selectAllMode?(t.removeAttribute("checkbox"),t.label.classList.remove("jqx-input")):(t.setAttribute("checkbox",""),t.label.classList.add("jqx-input")),e._selectionColumn.refresh()}}_handleExtendedRowSelection(e,t){const i=this
if(!e)return
let n=i._recyclingRows
if(i.paging.enabled&&"page"===i.selection.selectAllMode&&(n=n.slice(i.paging.pageIndex*i.paging.pageSize,(i.paging.pageIndex+1)*i.paging.pageSize)),!t||t.ctrlKey||t.metaKey||(i._selection.rows=[]),t&&!t.shiftKey&&(i._rangeSelectionStartRow=e,i._rangeSelectionEndRow=e),t&&t.shiftKey){i._rangeSelectionEndRow=e
const t=n.indexOf(i._rangeSelectionStartRow),r=n.indexOf(i._rangeSelectionEndRow),o=Math.min(t,r),a=Math.max(t,r)
if(-1===t||-1===r)return
for(let e=o;e<=a;e++){const t=n[e]
t.allowSelect&&t.setProperty("selected",!0)}}else!1!==e.allowSelect&&(t&&(t.ctrlKey||t.metaKey)?null===e.selected?e.setProperty("selected",!0):e.setProperty("selected",!e.selected):e.setProperty("selected",!0))}_setSelection(e,t,i){const n=this
if(!n.selection.enabled)return
if(n._lastColumnSelectionRange=null,n._lastRowSelectionRange=null,n.closeMenu(),null===e&&null===t)return void n.clearSelection()
const r=function(){if(i&&!i.ctrlKey&&!i.metaKey&&!i.shiftKey||"one"===n.selection.mode){if("many"!==n.selection.mode){for(let e in n._selection.rows){const t=n.rowById[e]
t.canNotify=!1,t.selected=!1,t.canNotify=!0}n._selection.rows=[],n._selection.columns=[],n._selection.cells=[]}n._selection.focusedCell=null}if(n._selection.selectionRect){const e=n._selection.selectionRect
e.parentNode.removeChild(e)
const t={down:"pointerdown",move:"pointermove",up:"pointerup"}
JQX.Utilities.Core.isMobile&&(t.down="touchstart",t.move="touchmove",t.up="touchend"),document.removeEventListener(t.move,e.onMove),document.removeEventListener(t.up,e.onUp),document.removeEventListener(t.down,e.onDown),n._selection.selectionRect=null}}
n.beginUpdate()
const o=n.columnByDataField[t],a=()=>{const t=n.rowById[e]
t&&(t.allowSelect||null===t.allowSelect&&!i)&&(r(),n._selectRow(e,i))}
if(n.selection.allowCellSelection&&null!=e&&o&&!o.autoGenerated){const o=n.rowById[e]
let a=o.getCell(t)
const s=n._getParentCell(o,t)
s&&(a=s.row.getCell(s.column.dataField)),r(),!i||i.ctrlKey||i.metaKey||(n._selection.rows=[],n._selection.columns=[],"many"!==n.selection.mode&&(n._selection.cells=[])),"extended"===n.selection.mode?i&&(i.ctrlKey||i.metaKey)?a.selected=!a.selected:a.selected=!0:"one"===n.selection.mode?a.selected=!0:a.selected=!a.selected,(i&&!i.shiftKey||!n._selection.focusedCell)&&(n._selection.focusedCell=a),i&&(i.shiftKey||n._selection.focusedCell===a)&&"extended"===n.selection.mode&&(s?n._renderCellSelectionRect(a.row,a.column,s.endRow,s.endColumn):n._renderCellSelectionRect(a.row,a.column,a.row,a.column))}else n.selection.allowRowHeaderSelection&&null!=e&&void 0===n.columnByDataField[t]?a():n.selection.checkBoxes.enabled&&null!=e&&"_checkBoxColumn"===t&&void 0===n.columnByDataField[t]?a():null==e||void 0!==t&&void 0===n.columnByDataField[t]||!n.selection.allowRowSelection?n.selection.allowColumnHeaderSelection&&o&&(r(),n._selectColumn(t,i||new KeyboardEvent("keydown"))):a()
n.endUpdate(!1),n._recycle(),null==e||o||n._renderInputOverlay(e,i),n.__selectionStarted=new Date}_renderCellSelectionRect(e,t,i,n){const r=this
let o=r._recyclingRows
const a=o.indexOf(e),s=o.indexOf(i)
if(a>=0&&s>=0){if(!r._selection.selectionRect){const e=function(e){const t=document.createElement("div"),i=document.createElement("div"),n=document.createElement("div")
return n.classList.add("jqx-selection-overlay"),n.appendChild(i),i.appendChild(t),t.classList.add("jqx-selection-overlay-content"),i.classList.add("jqx-selection-overlay-border-content"),r.selection.allowCellDragSelectionHandle&&e&&i.classList.add("handle"),r.$.scrollView.appendChild(n),n},t=r._selection.selectionRect=e(!0)
if(r.selection.allowCellDragSelectionHandle){let e=null,i=null,n=null
t.onMove=function(t){const a=r._selection.selectionRect
let s=t.clientX,l=t.clientY
t.touches&&(s=t.touches[0].clientX,l=t.touches[0].clientY)
const d=function(e){const t=(r.enableShadowDOM?r.shadowRoot:r.getRootNode()).elementsFromPoint(e.clientX,e.clientY)
let i=null
for(let e=0;e<t.length;e++){const n=t[e]
if(n.getAttribute("data-field")){i=n.getAttribute("data-field")
break}}let n=null
for(let e=0;e<t.length;e++){const i=t[e]
if(i.getAttribute("data-id")){n=i.row
break}}return{column:r.columnByDataField[i],row:n}}
if(a.capturedDrag){let e=d({clientX:s,clientY:l}),i=d({clientX:s,clientY:l+a.top}).row,n=d({clientX:s+a.left,clientY:l}).column
i||(i=o[o.length-1]),n||(n=e.column),i&&n&&e.row&&e.column&&(a.row=e.row,a.column=e.column,a.endDragRow=a.endRow=i,a.endDragColumn=a.endColumn=n,r._dragSelectionStartDataField=a.column.dataField,r._dragSelectionStartRow=a.row,r._selection.focusedCell=a.row.getCell(a.column.dataField)),r._resizeSelectionRect(),t.preventDefault()}else if(a.captured)if(r._dragSelectionStartDataField=r._selection.focusedCell.column.dataField,r._dragSelectionStartRow=r._selection.focusedCell.row,null===i&&null===n&&(Math.abs(s-e.left)>=30?i=!0:Math.abs(l-e.top)>=30&&(n=!0)),a.lastPoint&&Math.abs(a.lastPoint.top-l)>=40?(i=null,n=!0):a.lastPoint&&Math.abs(a.lastPoint.left-s)>=40&&(n=null,i=!0),i){const t=a.endDragColumn.dataField,i=d({clientX:s,clientY:e.top-5})
i.row&&i.column&&(a.endDragRow=a.endRow,a.endDragColumn=i.column,a.endDragColumn.dataField!==t&&(a.lastPoint={left:s,top:l}),r._resizeSelectionRect())}else if(n){const t=a.endDragRow,i=d({clientX:e.left-5,clientY:l})
i.row&&i.column&&(a.endDragRow=i.row,a.endDragColumn=a.endColumn,a.endDragRow.id&&a.endDragRow.id!==t.id&&(a.lastPoint={left:s,top:l}),r._resizeSelectionRect())}a.captured&&r.selection.allowDragSelectionAutoScroll&&(r._autoScrollSelectionDragInterval&&clearInterval(r._autoScrollSelectionDragInterval),r.selection.isDragging=!0,r._autoScrollSelectionDragInterval=setInterval(function(){const e=r.$.scrollView.getBoundingClientRect()
s<=e.left+20?(r.scrollLeft-=15,r._resizeSelectionRect()):s>=e.left+e.width-20&&(r.scrollLeft+=15,r._resizeSelectionRect()),l<=e.top+20?(r.scrollTop-=15,r._resizeSelectionRect()):l>=e.top+e.height-20&&(r.scrollTop+=15,r._resizeSelectionRect())},5))},t.onUp=function(){if(!t.captured)return
r._autoScrollSelectionDragInterval&&clearInterval(r._autoScrollSelectionDragInterval),r.editing.editCell||r.editing.editRow||r.focus(),t.capturedDrag=!1,t.captured=!1,i=null,n=null,e=null,t.lastPoint=null
const o=t.cellValues
t.minRow&&t.maxRow&&t.maxRow&&t.maxColumn&&(r._selectCellsRange(t.minRow,t.maxRow,t.minColumn.dataField,t.maxColumn.dataField),t.row=t.minRow,t.column=t.minColumn,t.endColumn=t.maxColumn,t.endRow=t.maxRow,t.cellValues=o,r._resizeSelectionRect(),r.selection.allowCellDragSelectionAutoFill&&r._pasteSelectedCells({row:t.row,endRow:t.endDragRow,column:t.column,endColumn:t.endColumn},o)),t.endDragColumn=null,t.endDragRow=null,t.minColumn=null,t.minRow=null,t.maxColumn=null,t.maxRow=null},t.onDown=function(i){if(t.captured&&!e){let t=i.clientX,n=i.clientY
i.touches&&(t=i.touches[0].clientX,n=i.touches[0].clientY),e={left:t,top:n}}}
const a={down:"pointerdown",move:"pointermove",up:"pointerup"}
JQX.Utilities.Core.isMobile&&(a.down="touchstart",a.move="touchmove",a.up="touchend"),t["on"+a.down]=function(e){const i=t.getBoundingClientRect()
let n=e.clientX,o=e.clientY
e.touches&&(n=e.touches[0].clientX,o=e.touches[0].clientY),n>=i.right-5&&o>=i.bottom-5?(t.captured=!0,t.endDragRow=t.endRow,t.endDragColumn=t.endColumn):r.selection.allowCellDragDropSelectionHandle&&o>=i.bottom-5?(t.captured=!0,t.capturedDrag=!0,t.endDragRow=t.endRow,t.endDragColumn=t.endColumn,t.left=t.endColumn.left-t.column.left,t.top=t.endRow.top-t.row.top):t.captured||r._rowDownHandler(e)},document.addEventListener(a.move,t.onMove,{passive:!1}),document.addEventListener(a.up,t.onUp,{passive:!1}),document.addEventListener(a.down,t.onDown,{passive:!1})}}const e=r._selection.selectionRect
e.row=r._selection.focusedCell.row,e.column=r._selection.focusedCell.column,e.endRow=i,e.endDragRow=i,e.endColumn=n,e.endDragColumn=n,r._refreshCellSelectionRect()}}_resizeSelectionRect(){const e=this,t=e._selection.selectionRect
if(!t)return
let i=e._recyclingRows,n=t.row,r=t.endDragRow,o=t.column,a=t.endDragColumn
const s=i.indexOf(n),l=i.indexOf(r),d=i.indexOf(t.endRow),c=e.columns.indexOf(o),h=e.columns.indexOf(a),u=e.columns.indexOf(t.endColumn),p=Math.min(d,Math.min(s,l)),m=Math.max(d,Math.max(s,l)),f=Math.min(u,Math.min(c,h)),g=Math.max(u,Math.max(c,h))
d<=Math.min(s,l)?t.minRow=t.endRow:t.minRow=s<=l?n:r,d>=Math.max(s,l)?t.maxRow=t.endRow:t.maxRow=s>=l?n:r,u<=Math.min(c,h)?t.minColumn=t.endColumn:t.minColumn=c<=h?o:a,u>=Math.max(c,h)?t.maxColumn=t.endColumn:t.maxColumn=c>=h?o:a
let v=0,b=0,y=0,_=0
for(let t=p;t<=m;t++){const n=i[t]
t===p&&(v=n.top),t===m&&(b=n.top+n.height-v)
for(let t=f;t<=g;t++){const i=e.columns[t].dataField,r=n.getCell(i)
t===f&&(y=r.column.left),t===g&&(_=r.column.left+r.column.computedWidth-y)}}t.style.top=v-e.scrollTop-1+"px",e.rightToLeft?t.style.right=y-e.scrollLeft+"px":t.style.left=y-e.scrollLeft+"px",t.style.height=b+1+"px",t.style.width=_+1+"px"}_getPatternValue(e,t,i){let n=[],r=0,o=[],a=[],s=[],l=[]
const d={names:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],namesAbbr:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],namesShort:["Su","Mo","Tu","We","Th","Fr","Sa"]},c={names:["January","February","March","April","May","June","July","August","September","October","November","December",""],namesAbbr:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec",""]},h=function(e){if(void 0===e)return
if(e.toString().indexOf("GMT+")>=0||e.toString().indexOf("GMT-")>=0)return
if(isNaN(parseFloat(e))){if(d.names.indexOf(e)>=0)return l=d.names,d.names.indexOf(e)
if(d.namesAbbr.indexOf(e)>=0)return l=d.namesAbbr,d.namesAbbr.indexOf(e)
if(d.namesShort.indexOf(e)>=0)return l=d.namesShort,d.namesShort.indexOf(e)
if(c.names.indexOf(e)>=0)return l=c.names,c.names.indexOf(e)
if(c.namesAbbr.indexOf(e)>=0)return l=c.namesAbbr,c.namesAbbr.indexOf(e)
if(void 0!==e){if(null===e&&(e=""),/\d+/.test(e.toString())){s.push(e.toString().replace(/[0-9]/,"#")),s[s.length-1]=s[s.length-1].replace(/[0-9]/g,"")
const t=parseFloat(e.toString().replace(/\D/g,""))
return isNaN(t)?0:t}}return}return/[A-Za-z]/.test(e.toString())?void 0:parseFloat(e)}
let u=0
for(let e in i){let t=i[e]
n[r]=[],u=0
for(let e in t){let i=h(t[e])
void 0!==i&&(n[r].push(i),u++)}if(0===n[r].length)continue
let a=n[r][0],d=0
for(let e=0;e<n[r].length;e++){let t=h(n[r][e-1]),i=h(n[r][e])
0===e&&(t=i),a+=i,d+=i-t}a/=n[r].length,a-=n[r][0],a+=n[r][n[r].length-1],0!==d&&(d/=n[r].length-1),(l.length>0||s.length>0)&&(d=1,a=n[r][0]),n[r].length<=2&&(a=n[r][n[r].length-1]+d),o.push({step:d,stepStart:a}),r++}for(let e=0;e<u;e++){let t=n[0][e],i=0
for(let r=1;r<n.length;r++){const o=h(n[r-1][e]),a=h(n[r][e])
t+=a,i+=a-o}t/=n.length,t-=n[0][e],t+=n[n.length-1][e],0!==i&&(i/=n.length-1),(l.length>0||s.length>0)&&(i=1,t=n[0][e]),n.length<=2&&(t=n[n.length-1][e]+i),a.push({step:i,stepStart:t})}if(!n[e]){let i=n.length
for(let r=i;r<=e;r++){n[r]=[]
for(let e=0;e<=t;e++)a[e]||(a[e]=a[e-1]),a[e]&&(r===i?n[r][e]=a[e].stepStart:(n[r][e]=n[r-1][e]+a[e].step,l.length>1&&n[r][e]>=l.length&&(n[r][e]=0)))}return l.length>0?l[n[e][t]]:s.length>0?s[e%s.length].replace("#",n[e][t]):n[e][t]}if(!n[e][t]){let i=u
for(let r=i;r<=t;r++)o[e]&&(r===i?n[e].push(o[e].stepStart):(n[e][r]=n[e][r-1]+o[e].step,l.length>1&&n[e][r]>=l.length&&(n[e][r]=0)))
return l.length>0?l[n[e][t]]:s.length>0?s[e%s.length].replace("#",n[e][t]):n[e][t]}return n[e]&&n[e][t]?s.length>0?s[e%s.length].replace("#",n[e][t]):n[e][t]:0}_pasteDataType(e){const t=this.dataSource&&"number"==typeof this.dataSource.dataSource,i=e.cell,n=e.value
let r=i.column.dataType
return r&&!t||(r=isNaN(parseFloat(n))?"string":n instanceof Date?"date":"true"===n||"false"===n?"boolean":"number"),r}_pasteModeCopy(e){const t=this,i=t.dataSource&&"number"==typeof t.dataSource.dataSource,n=t._pasteDataType(e),r=e.cell,o=e.value,a=e.dataField
if("string"===n)r.value=o
else if("bool"===n||"boolean"===n)1!==o&&"1"!==o&&!0!==o&&"true"!==o&&"TRUE"!==o&&"True"!==o||(r.value=!0)
else if("date"===n||"time"===n||"dateTime"===n){const e=t.columnByDataField[a]
i?r.value=o:e&&e.dataType!==n?r.value=null:r.value=o}else if("number"===n||"float"===n||"int"===n){const e=t.columnByDataField[a]
i?r.value=o:e&&e.dataType!==n?r.value=null:r.value=null!==o?"int"===n||"integer"===n?parseInt(o):parseFloat(o):null}}_pasteModeFill(e){const t=this,i=t.dataSource&&"number"==typeof t.dataSource.dataSource,n=t._pasteDataType(e),r=e.cell,o=e.selectedValues,a=e.minRowIndex,s=e.minColumnIndex,l=e.currentRowIndex,d=e.currentColumnIndex,c=e.dataField
let h=e.value
if("string"===n){/\d+/.test(h.toString())?void 0===(h=t._getPatternValue(l-a,d-s,o))&&o[l-a]&&o[l-a][d-s]&&(h=o[l-a][d-s]):h=void 0===(h=t._getPatternValue(l-a,d-s,o))&&o[l-a]?o[l-a][d-s]:e.value,void 0!==h&&(r.value=h)}else if("bool"===n||"boolean"===n)1!==h&&"1"!==h&&!0!==h&&"true"!==h&&"TRUE"!==h&&"True"!==h||(r.value=!0)
else if("date"===n||"time"===n||"dateTime"===n){const e=t.columnByDataField[c]
i?r.value=h:e&&e.dataType!==n&&(r.value=null),o[l-a]&&void 0!==(h=o[l-a][d-s])&&(r.value=h)}else if("number"===n||"float"===n||"int"===n){h=t._getPatternValue(l-a,d-s,o)
const e=t.columnByDataField[c]
i?r.value=h:e&&e.dataType!==n?r.value=null:r.value=null!==h?"int"===n||"integer"===n?parseInt(h):parseFloat(h):null}}_pasteSelectedCells(e,t){const i=this
i.beginUpdate()
let n=i._recyclingRows,r=e.row,o=e.endRow,a=e.column,s=e.endColumn
const l=n.indexOf(r),d=n.indexOf(o),c=n.indexOf(e.endRow),h=i.columns.indexOf(a),u=i.columns.indexOf(s),p=i.columns.indexOf(e.endColumn),m=Math.min(c,Math.min(l,d)),f=Math.max(c,Math.max(l,d)),g=Math.min(p,Math.min(h,u)),v=Math.max(p,Math.max(h,u))
let b=0,y=0,_=0,w=0
for(let e in t)0===b&&(y+=Object.keys(t[e]).length),b++
for(let e=m;e<=f;e++){const r=n[e]
_=0
for(let n=g;n<=v;n++){const o=i.columns[n].dataField,a=r.getCell(o)
let s=0
for(let l in t){if(s===w){let s=0,d=t[l]
for(let c in d){if(_===s){let s=d[c],h=!0
if(t[r.id]&&t[r.id][o]&&(h=!1),h&&"none"!==i.clipboard.autoFillMode){const r={value:s,oldValue:a.value,dataField:c,id:l}
i.clipboard.onPasteValue?(i.clipboard.onPasteValue(r),a.value=r.value):(r.cell=a,r.selectedValues=t,r.minRowIndex=m,r.maxRowIndex=f,r.minColumnIndex=g,r.maxColumnIndex=v,r.currentColumnIndex=n,r.currentRowIndex=e,"copy"===i.clipboard.autoFillMode?i._pasteModeCopy(r):"fillSeries"===i.clipboard.autoFillMode&&i._pasteModeFill(r))}}s++}}s++}++_>=y&&(_=0)}++w>=b&&(w=0)}i.endUpdate(!1),i._recycle(!1)}_refreshCellSelectionRect(){const e=this,t=e._selection.selectionRect
if(!t||t&&t.captured)return
let i=e._recyclingRows,n=t.row,r=t.endRow,o=t.column,a=t.endColumn
const s=i.indexOf(n),l=i.indexOf(r),d=e.columns.indexOf(o),c=e.columns.indexOf(a)
let h=Math.min(s,l),u=Math.max(s,l),p=Math.min(d,c),m=Math.max(d,c)
p=Math.max(0,p),h=Math.max(0,h)
const f=function(t){const n=i.indexOf(t.row),r=i.indexOf(t.endRow),o=e.columns.indexOf(t.column),a=e.columns.indexOf(t.endColumn)
h=Math.min(h,n),h=Math.min(h,r),h=Math.max(0,h),u=Math.max(u,n),u=Math.max(u,r),p=Math.min(p,o),p=Math.min(p,a),p=Math.max(0,p),m=Math.max(m,o),m=Math.max(m,a)},g=e._getParentCell(n,o.dataField),v=e._getParentCell(n,a.dataField),b=e._getParentCell(r,a.dataField),y=e._getParentCell(r,o.dataField)
g&&f(g),v&&f(v),b&&f(b),y&&f(y)
let _=0,w=0,x=0,C=0
t.cellValues=[]
for(let n=h;n<=u;n++){const r=i[n]
if(n===h&&(_=r.top,!0!==r.freeze&&"near"!==r.freeze&&(_+=e.__frozenNearHeight),"far"===r.freeze&&(_=r.top+e.__scrollHeight+e.scrollTop-e._scrollView.hScrollBar.offsetHeight)),n===u){let t=r.top
"far"===r.freeze&&(t=r.top+e.__scrollHeight+e.scrollTop-e._scrollView.hScrollBar.offsetHeight),w=t+r.height-_,!0!==r.freeze&&"near"!==r.freeze&&(w+=e.__frozenNearHeight)}t.cellValues[r.id]=[]
for(let i=p;i<=m;i++){const n=e.columns[i].dataField,o=r.getCell(n)
if(t.cellValues[r.id][n]=o.value,i===p&&(x=o.column.left,o.column.freeze&&"far"===o.column.freeze&&(x=e.__clientSize.width-e.__frozenFarWidth+x+e.scrollLeft-e._scrollView.vScrollBar.offsetWidth)),i===m){let t=o.column.left
o.column.freeze&&"far"===o.column.freeze&&(t=e.__clientSize.width-e.__frozenFarWidth+t+e.scrollLeft-e._scrollView.vScrollBar.offsetWidth),C=t+o.column.computedWidth-x}o.selected=!0}}t.style.top=_-e.scrollTop-1+"px",e.rightToLeft?t.style.right=x-e.scrollLeft+"px":t.style.left=x-e.scrollLeft+"px",t.style.height=w+1+"px",t.style.width=C+1+"px"}_renderInputOverlay(e,t,i){const n=this,r=n.rowById[e]
if(r&&!1!==r.allowSelect&&!r.label&&t&&n.selection.checkBoxes.enabled){n._inputOverlay&&n._inputOverlay.classList.contains("jqx-input-overlay-column")&&(n._inputOverlay.parentNode&&n._inputOverlay.parentNode.removeChild(n._inputOverlay),n._inputOverlay=null),n._inputOverlay||(n._inputOverlay=document.createElement("div"),n.$.scrollView.appendChild(n._inputOverlay),n._inputOverlay.classList.add("jqx-input-overlay"))
let e=r.freeze?r.top:n.__frozenNearHeight+r.top
const o=Math.round((r.cellHeight-n._selectionColumn.computedWidth)/2),a=n._selectionColumn.element.parentElement.offsetLeft+n._selectionColumn.element.offsetLeft
n._inputOverlay.style.left=a+"px",n._inputOverlay.style.height=n._selectionColumn.computedWidth+"px",n._inputOverlay.style.width=n._selectionColumn.computedWidth+"px",n._inputOverlay.style.top=e+o-n.scrollTop+"px",n._inputOverlay.row=r,n._inputOverlay.onpointerdown=function(){n._inputOverlay||(n._inputOverlay.onpointerdown=null)
const e=n._inputOverlay.row
n.beginUpdate(),e.selected=!e.selected,n.endUpdate(!1),n._recycle(),n._renderInputOverlay(e.id,t,!0)},n.appearance.allowCheckBoxesSelectionAnimation&&void 0===i&&n._inputOverlay.classList.add("jqx-animate"),requestAnimationFrame(()=>{n._inputOverlay&&n._inputOverlay.classList.add("jqx-input-overlay-on")})}}_selectRow(e,t){const i=this,n=i.rowById[e]
n&&i.selection.enabled&&(n.header&&"row-resize"===n.header.style.cursor||(t&&(t.shiftKey&&i._selection.focusedCell||(i._selection.focusedCell=n.getCell(i.columns[0].dataField))),i._lastRowsSelectionRange=null,"extended"===i.selection.mode?i._handleExtendedRowSelection(n,t):"one"===i.selection.mode?n.selected=!0:n.selected=!n.selected))}_getParentCell(e,t){const i=this
let n=i._recyclingRows
for(let r=0;r<i._cellsMerge.length;r++){const o=i._cellsMerge[r]
let a=[],s=[]
if(a.push(o.row),o.rowSpan>1){const e=n.indexOf(o.row)
if(e>=0)for(let t=e;t<e+o.rowSpan;t++)n[t]&&-1===a.indexOf(n[t])&&a.push(n[t])}if(s.push(o.column.dataField),o.colSpan>1){const e=i.columns.indexOf(i.columnByDataField[o.column.dataField])
for(let t=e;t<e+o.colSpan;t++)i.columns[t]&&-1===s.indexOf(i.columns[t].dataField)&&s.push(i.columns[t].dataField)}if(a.indexOf(e)>=0&&s.indexOf(t)>=0)return{row:o.row,column:o.column,endRow:a[a.length-1],endColumn:i.columnByDataField[s[s.length-1]]}}return null}_selectCellsRange(e,t,i,n){const r=this,o=r._selection.selectionRect
if(r._lastRowsSelectionRange&&r._lastRowsSelectionRange.id===e.id&&r._lastRowsSelectionRange.endId===t.id&&r._lastColumnSelectionRange&&r._lastColumnSelectionRange.dataField===i&&r._lastColumnSelectionRange.endDataField===n)return
r.beginUpdate(),r._clearSelection(),r._lastRowsSelectionRange={id:e.id,endId:t.id},r._lastColumnSelectionRange={dataField:i,endDataField:n},(!o||o&&!o.captured)&&r._selection.focusedCell&&r._renderCellSelectionRect(r._selection.focusedCell.row,r._selection.focusedCell.column,r.rowById[r._lastRowsSelectionRange.endId],r.columnByDataField[r._lastColumnSelectionRange.endDataField])
let a=r._recyclingRows,s=-1,l=r.columns.length,d=a.indexOf(e),c=a.indexOf(t)
for(let e=0;e<r.columns.length;e++){const t=r.columns[e]
t.allowSelect&&(t.dataField===i&&(s=e),t.dataField===n&&(l=e))}let h=Math.min(d,c),u=Math.max(d,c),p=Math.min(s,l),m=Math.max(s,l)
const f=function(e){const t=a.indexOf(e.row),i=a.indexOf(e.endRow),n=r.columns.indexOf(e.column),o=r.columns.indexOf(e.endColumn)
h=Math.min(h,t),h=Math.min(h,i),u=Math.max(u,t),u=Math.max(u,i),p=Math.min(p,n),p=Math.min(p,o),m=Math.max(m,n),m=Math.max(m,o)},g=r._getParentCell(e,i),v=r._getParentCell(t,n)
if(g&&f(g),v&&f(v),u<0||h<0)return r.endUpdate(!1),void r._recycle()
for(let e=h;e<=u;e++){const t=a[e]
if(t.allowSelect)for(let e=0;e<r.columns.length;e++){const i=r.columns[e]
if(i.allowSelect&&(e>=p&&e<=m)){t.getCell(i.dataField).selected=!0}}}r.endUpdate(!1),r._recycle()}_selectRowsRange(e,t){const i=this
if(i._lastRowsSelectionRange&&i._lastRowsSelectionRange.id===e.id&&i._lastRowsSelectionRange.endId===t.id)return
i.beginUpdate(),i._clearSelection(),i._lastRowsSelectionRange={id:e.id,endId:t.id}
let n=i._recyclingRows
const r=n.indexOf(e),o=n.indexOf(t),a=Math.min(r,o),s=Math.max(r,o)
if(s<0)return i.endUpdate(!1),void i._recycle()
for(let e=a;e<=s;e++){const t=n[e]
t&&(t.allowSelect&&(t.selected=!0))}i.endUpdate(!1),i._recycle()}_selectColumnsRange(e,t){const i=this
if(i._lastColumnSelectionRange&&i._lastColumnSelectionRange.dataField===e&&i._lastColumnSelectionRange.endDataField===t)return
i.beginUpdate(),i._clearSelection(),i._lastColumnSelectionRange={dataField:e,endDataField:t}
let n=-1,r=i.columns.length
for(let o=0;o<i.columns.length;o++){const a=i.columns[o]
a.allowSelect&&(a.dataField===e&&(n=o),a.dataField===t&&(r=o))}const o=Math.min(n,r),a=Math.max(n,r)
for(let e=0;e<i.columns.length;e++){const t=i.columns[e]
t.allowSelect&&(e>=o&&e<=a&&(t.selected=!0))}i.endUpdate(!1),i._recycle()}_selectColumn(e,t){const i=this,n=i.columnByDataField[e]
if(!n||!i.selection.enabled||!1===n.allowSelect||!i.selection.allowColumnHeaderSelection)return
if(n&&"col-resize"===n.element.style.cursor)return
let r=!1
if(n&&(n.allowSelect||null===n.allowSelect&&!t)&&(r=!0),r&&t)if("extended"===i.selection.mode){if(t.ctrlKey||t.metaKey||t.shiftKey||(i._rangeSelectionStartColumn=n,i._rangeSelectionEndColumn=n),n.selected=!0,t&&t.shiftKey){i._rangeSelectionStartColumn||(i._rangeSelectionStartColumn=n),i._rangeSelectionEndColumn=n,i._selection.columns=[]
const e=i.columns.indexOf(i._rangeSelectionStartColumn),t=i.columns.indexOf(i._rangeSelectionEndColumn),r=Math.min(e,t),o=Math.max(e,t)
for(let e=r;e<=o;e++){const t=i.columns[e]
!1!==t.allowSelect&&(t.selected=!0)}}}else"one"===i.selection.mode?n.selected=!0:null===n.selected?n.selected=!0:n.selected=!n.selected}_getSelectedRows(e,t){const i=this,n=[]
let r=i.rows
i.rows.canNotify=!1,e&&(r=i.getVisibleRows()),i.paging.enabled&&t&&(r=r.slice(i.paging.pageIndex*i.paging.pageSize,(i.paging.pageIndex+1)*i.paging.pageSize))
for(let e=0;e<r.length;e++){const t=r[e]
t.getProperty("selected")?n.push(t):(t.canNotify=!1,t.selected=!1,t.canNotify=!0)}return i.rows.canNotify=!0,n}_dragSelectionEnd(e){const t=this
t._dragSelectionStartDataField=null,t._dragSelectionStartRow=null,t.__selectionStarted&&(t.$.fireEvent("change",{started:!1,finished:!0,originalEvent:e}),delete t.__selectionStarted,delete t.__selectionStartedFired),t.selection.allowDragSelection&&t.selection.isDragging&&(t.selection.isDragging=!1,t._autoScrollSelectionDragInterval&&(clearInterval(t._autoScrollSelectionDragInterval),t.editing.isEditing||t._recycle()))}_dragSelection(e){const t=this
if("extended"!==t.selection.mode||!1===t.selection.allowDragSelection)return
if(!t._dragSelectionStartDataField&&!t._dragSelectionStartRow)return
const i=()=>{t.__selectionStarted&&!t.__selectionStartedFired&&(t.$.fireEvent("change",{started:!0,finished:!1,originalEvent:e}),t.__selectionStartedFired=!0),t.$.fireEvent("change",{started:!1,finished:!1,originalEvent:e})}
if(!t.selection.allowCellSelection||!t._dragSelectionStartDataField||t._columnResizeLine||t._dragSelectionStartDataField.startsWith("_")||!t._dragSelectionStartRow||t._rowResizeLine){if(t._dragSelectionStartRow&&!t._rowResizeLine&&(t.selection.allowRowSelection&&!t._dragSelectionStartDataField.startsWith("_")||t.selection.allowRowHeaderSelection&&t._dragSelectionStartDataField.startsWith("_"))){const n=(t.enableShadowDOM?t.shadowRoot:t.getRootNode()).elementsFromPoint(e.clientX,e.clientY)
let r=null
for(let e=0;e<n.length;e++){const t=n[e]
if(t.getAttribute("data-id")){!(r=t.row)&&t.cell&&(r=t.cell.row)
break}}let o=!0
t._lastRowsSelectionRange&&t._lastRowsSelectionRange.id===t._dragSelectionStartRow.id&&r&&t._lastRowsSelectionRange.endId===r.id&&(o=!1),r&&!r.allowSelect&&(o=!1),r&&r.allowSelect&&t._selectRowsRange(t._dragSelectionStartRow,r),t._autoScrollSelectionDragInterval&&clearInterval(t._autoScrollSelectionDragInterval),t.selection.isDragging=!0,o&&i(),t._autoScrollSelectionDragInterval=setInterval(function(){const i=t.$.scrollView.getBoundingClientRect()
e.clientY<=i.top+20?t.scrollTop-=15:e.clientY>=i.top+i.height-20&&(t.scrollTop+=15)},5)}else if(t._dragSelectionStartDataField&&!t._columnResizeLine&&!t._dragSelectionStartDataField.startsWith("_")&&t.selection.allowColumnHeaderSelection){const n=(t.enableShadowDOM?t.shadowRoot:t.getRootNode()).elementsFromPoint(e.clientX,e.clientY)
let r=null
for(let e=0;e<n.length;e++){const t=n[e]
if(t.getAttribute("data-field")){r=t.getAttribute("data-field")
break}}r&&t._selectColumnsRange(t._dragSelectionStartDataField,r),t._autoScrollSelectionDragInterval&&clearInterval(t._autoScrollSelectionDragInterval)
let o=!0
t._lastColumnSelectionRange&&t._lastColumnSelectionRange.dataField===t._dragSelectionStartDataField&&t._lastColumnSelectionRange.endDataField===r&&(o=!1),o&&i(),t.selection.isDragging=!0,t._autoScrollSelectionDragInterval=setInterval(function(){const i=t.$.scrollView.getBoundingClientRect()
e.clientX<=i.left+20?t.scrollLeft-=15:e.clientX>=i.left+i.width-20&&(t.scrollLeft+=15)},5)}}else{const n=(t.enableShadowDOM?t.shadowRoot:t.getRootNode()).elementsFromPoint(e.clientX,e.clientY)
let r=null
for(let e=0;e<n.length;e++){const t=n[e]
if(t.getAttribute("data-field")){r=t.getAttribute("data-field")
break}}let o=null
for(let e=0;e<n.length;e++){const t=n[e]
if(t.getAttribute("data-id")){o=t.row
break}}if(r&&o){if(o.id===t._dragSelectionStartRow.id&&t._dragSelectionStartDataField===r)return
let e=!0
t._lastRowsSelectionRange&&t._lastRowsSelectionRange.id===t._dragSelectionStartRow.id&&t._lastRowsSelectionRange.endId===o.id&&t._lastColumnSelectionRange&&t._lastColumnSelectionRange.dataField===t._dragSelectionStartDataField&&t._lastColumnSelectionRange.endDataField===r&&(e=!1),t._selectCellsRange(t._dragSelectionStartRow,o,t._dragSelectionStartDataField,r),e&&i()}t.selection.allowDragSelectionAutoScroll&&(t._autoScrollSelectionDragInterval&&clearInterval(t._autoScrollSelectionDragInterval),t.selection.isDragging=!0,t._autoScrollSelectionDragInterval=setInterval(function(){const i=t.$.scrollView.getBoundingClientRect()
e.clientX<=i.left+20?t.scrollLeft-=15:e.clientX>=i.left+i.width-20&&(t.scrollLeft+=15),e.clientY<=i.top+20?t.scrollTop-=15:e.clientY>=i.top+i.height-20&&(t.scrollTop+=15)},5))}}select(e,t){this._setSelection(e,t),this.$.fireEvent("change",{started:!1,finished:!0})}selectRange(e,t,i,n){const r=this
!function(){const o=new KeyboardEvent("keydown",{shiftKey:!0})
requestAnimationFrame(()=>{"extended"!==r.selection.mode&&r._clearSelection(),r.beginUpdate(),r._setSelection(e,t),r._setSelection(i,n,o),r.ensureVisible(e,t),r.endUpdate(!1),r._recycle()})}(),r.$.fireEvent("change",{started:!1,finished:!0})}unselect(e,t){const i=this
i._selection&&(i._selection.rows&&i._selection.rows[e]&&delete i._selection.rows[e],i._selection.columns&&i._selection.columns[t]&&delete i._selection.columns[t],i._selection.cells&&(i._selection.cells["row"+e]&&(delete i._selection.cells["row"+e][t],1===Object.getOwnPropertyNames(i._selection.cells["row"+e]).length&&delete i._selection.cells["row"+e]),i._selection.cells["column"+t]&&(delete i._selection.cells["column"+t][e],1===Object.getOwnPropertyNames(i._selection.cells["column"+t]).length&&delete i._selection.cells["column"+t])),i.$.fireEvent("change",{started:!1,finished:!0}))}getSelection(){const e=this
let t=null,i=null,n=null,r=null
if(e._selection.rows&&Object.keys(e._selection.rows).length>0){const i=Object.keys(e._selection.rows)
t=[]
for(let n=0;n<i.length;n++){const r=i[n]
t.push({id:r,row:e.rowById[r]})}}if(e._selection.columns&&Object.keys(e._selection.columns).length>0){const t=Object.keys(e._selection.columns)
i=[]
for(let n=0;n<t.length;n++){const r=t[n]
i.push({dataField:r,column:e.columnByDataField[r]})}}if(e._selection.cells)for(let t in e._selection.cells)if(t.startsWith("row")){let i=t.replace("row",""),r=null
for(let o in e._selection.cells[t])r=o.replace("column",""),n||(n=[]),n.push({id:i,dataField:r,column:e.columnByDataField[r],row:e.rowById[i]})}return e._selection.focusedCell&&(r={id:e._selection.focusedCell.row.id,dataField:e._selection.focusedCell.column.dataField}),{rows:t,columns:i,cells:n,focused:r}}_clearSelection(e){const t=this
if(t._selection.rows=[],t._selection.columns=[],t._selection.cells=[],e&&(t._selection.focusedCell=null,t._selection.selectionRect)){const e=t._selection.selectionRect
e.parentNode.removeChild(e)
const i={down:"pointerdown",move:"pointermove",up:"pointerup"}
JQX.Utilities.Core.isMobile&&(i.down="touchstart",i.move="touchmove",i.up="touchend"),document.removeEventListener(i.move,e.onMove),document.removeEventListener(i.up,e.onUp),document.removeEventListener(i.down,e.onDown),t._selection.selectionRect=null}t._recycle(),t._selectionColumn.refresh()}_getSelectionCellValues(){const e=this
if(e._selection.selectionRect)return e._selection.selectionRect.cellValues
if(e._selection.rows.length>0){let t=[]
for(let i in e._selection.rows){const n=e.rowById[i]
for(let r=0;r<e.columns.length;r++){const o=e.columns[r]
o&&(t[i]||(t[i]=[]),t[i][o.dataField]=n.data[o.dataField])}}return t}if(e._selection.columns.length>0){let t=[]
for(let i in e._selection.columns){const n=e.columnByDataField[i]
if(n)for(let i=0;i<e._recyclingRows.length;i++){const r=e._recyclingRows[i]
r&&(t[r.id]||(t[r.id]=[]),t[r.id][n.dataField]=r.data[n.dataField])}}return t}}_clipboardHandler(e,t){const i=this
if(i.clipboard.enabled){if((t.ctrlKey||t.metaKey)&&("c"===e||"x"===e)){const e=i._getSelectionCellValues()
let t="",n=Object.keys(e).length,r=0
for(let i in e){let o="",a=Object.keys(e[i]).length,s=0
for(let t in e[i]){o+=e[i][t],++s<a&&(o+="\t")}t+=o,++r<n&&(t+="\r\n")}navigator.clipboard.writeText(t).then(function(){},function(){})}(t.ctrlKey||t.metaKey)&&"v"===e&&navigator.clipboard.readText().then(e=>{const t=[],n=e.split("\r")
for(let e=0;e<n.length;e++){const i=n[e].split("\t")
let r={}
for(let e=0;e<i.length;e++)r[e]=i[e].trim()
t[e]=r}const r=i._selection.selectionRect
if(r)i._pasteSelectedCells({row:r.row,endRow:r.endDragRow,column:r.column,endColumn:r.endColumn},t)
else{let e=null,n=null
for(let t in i._selection.rows){const r=i.rowById[t]
e||(e=r),n||(n=r),e.visibleIndex>r.visibleIndex&&(e=r),n.visibleIndex<r.visibleIndex&&(n=r)}e&&n&&i._pasteSelectedCells({row:e,endRow:n,column:i.columns[0],endColumn:i.columns[i.columns.length-1]},t)}})}}_keyDownHandler(e){const t=this
if(t.onKey&&(t.onKey(e),e.defaultPrevented))return
let i=e.key
if(t.disabled)return
if(0===t.dataSource.length||t.disabled||t.displayLoadingIndicator)return
if(t.editing.editRow||t.editing.editCell||t.filtering.filterRow.cell)return
t.rightToLeft&&("ArrowLeft"===i?i="ArrowRight":"ArrowRight"===i&&(i="ArrowLeft")),t._refreshCellSelectionRect()
const n=t.getSelection()
let r=n.focused
if(!n.focused){if(t.editing.enabled&&!0!==t.editing.isEditing&&("F2"===i||"Enter"===i)&&n.columns&&n.columns.length>0){const e=n.columns[n.columns.length-1]
e.column.allowHeaderEdit&&t._beginColumnEdit(e.column)}return}const o=t._getParentCell(t.rowById[r.id],r.dataField)
if(o&&("ArrowLeft"===i?(r.id=o.row.id,r.dataField=o.column.dataField):"ArrowRight"===i?(r.id=o.row.id,r.dataField=o.endColumn.dataField):"ArrowUp"===i?(r.id=o.row.id,r.dataField=o.column.dataField):"ArrowDown"===i&&(r.id=o.endRow.id,r.dataField=o.column.dataField)),t._selection.selectionRect&&e.shiftKey&&!e.ctrlKey&&!e.metaKey?(t._selection.selectionRect.endRow&&(r.id=t._selection.selectionRect.endRow.id),t._selection.selectionRect.endColumn&&(r.dataField=t._selection.selectionRect.endColumn.dataField)):t.selection.allowRowSelection&&!t.selection.allowCellSelection&&void 0!==t._rangeSelectionEndRow&&(r.id=t._rangeSelectionEndRow.id),t._clipboardHandler(i,e),((e.ctrlKey||e.metaKey)&&"x"!==i&&"c"!==i&&"v"!==i&&"Control"!==i||"Tab"===i)&&(t._selection.rows=[],t._selection.columns=[],t._selection.cells=[]),"Escape"===i)return t.closeMenu(),t.cancelEdit(),void t._setSelection(r.id,r.dataField,e)
if(t.hasMenu())return
if(e.altKey){if("ArrowDown"===i){const i=t.columnByDataField[r.dataField]
i&&t.hasColumnMenu(i)&&(i.showActionButton=!0,i.onAction(),t.menu&&(t.menu.querySelector("jqx-menu").focus(),t.menu.querySelector("jqx-menu").$.dispatch(e)))}else"ArrowUp"===i&&t.closeMenu()
if("s"===i.toLowerCase()){const e=t.columnByDataField[r.dataField]
e&&(e.sorted?"asc"===e.sortOrder?t.sortBy(e.dataField,"desc"):t.sortBy(e.dataField,null):t.sortBy(e.dataField,"asc"))}if("g"===i.toLowerCase()){const e=t.columnByDataField[r.dataField]
e&&(e.group=!e.group)}return}const a=function(i,n){requestAnimationFrame(()=>{"extended"!==t.selection.mode&&t._clearSelection(!0),t.beginUpdate(),t._setSelection(i,n,e),t.ensureVisible(i,n),t.endUpdate(!1),t._recycle(),e.shiftKey?t.__selectionStarted&&!t.__selectionStartedFired?(t.$.fireEvent("change",{started:!0,finished:!1}),t.__selectionStartedFired=!0):t.$.fireEvent("change",{started:!1,finished:!1}):t.$.fireEvent("change",{started:!1,finished:!0})}),e.stopPropagation(),e.preventDefault()}
switch(i){case"Tab":{if("none"===t.selection.tabKeyBehavior)return
const i=e.shiftKey?t.prevColumn(r.dataField):t.nextColumn(r.dataField)
if(i&&t.selection.allowCellSelection)t._selection.focusedCell=t.rowById[r.id].getCell(i.dataField),t._setSelection(r.id,i.dataField,e),t.focus(),e.stopPropagation(),e.preventDefault()
else{let i=e.shiftKey?t.prevRow(r.id):t.nextRow(r.id),n=e.shiftKey?t.lastColumn().dataField:t.firstColumn().dataField
if(t.editing.addNewRow.autoCreate&&!e.shiftKey&&r.id===t.lastRow().id&&(t.addUnboundRow(1),i=t.lastRow()),!i)return
e.shiftKey&&(t._selection.focusedCell=null),a(i.id,n)}break}case" ":case"F2":{const e=t.rowById[r.id]
if(!e||t.editing.editCell)return
" "===i&&t.dataSource.boundHierarchy&&(e.checked=!e.checked),t.editing.enabled&&(t._beginEdit(e,r.dataField),setTimeout(function(){if(t.editing.editCell&&t.editing.editCell.column.dataType.indexOf("bool")>=0){const e=t.editing.editCell.editor.instance,i=e.getValue()
e.setValue(!i)}},50))
break}case"Delete":case"Backspace":{const e=t.rowById[r.id]
if(!e||t.editing.editCell)return
const o=e.getCell(r.dataField),a=o.value
if(n.cells){t.beginUpdate()
for(let e=0;e<n.cells.length;e++){const i=n.cells[e],r=t.rowById[i.id]
if(r){r.getCell(i.dataField).value=null}}t.endUpdate(!1),t._recycle()}"Backspace"===i&&(t._beginEdit(e,r.dataField),o.canNotify=!1,o.value=a,o.canNotify=!0)
break}default:if(t.editing.enabled&&!t.editing.editCell&&!e.ctrlKey&&!e.metaKey&&!e.altKey&&!t.editing.editRow){const e=t.rowById[r.id]
if(!e)return
if(["F1","F2","F3","F4","F5","F6","F7","F8","F9","F10","F11","F12","Shift","Up","Down","Left","Right","Control","F2","Esc"," ","Home","End","PageUp","PageDown"].indexOf(i)>=0)return
t._beginEdit(e,r.dataField),setTimeout(function(){if(t.editing.editCell)t.editing.editCell.editor.instance.setValue(i)
else if(t.editing.editRow){const e=t.editing.editRow.getCell(r.dataField)
if(!e)return
e.editor.instance.setValue(i)}},50)}break
case"Home":{const e=t.firstRow()
if(!e)return
a(e.id,r.dataField)
break}case"End":{const e=t.lastRow()
if(!e)return
a(e.id,r.dataField)
break}case"PageUp":{const e=t._recyclingRows,i=t.rowById[r.id]
for(let n=e.indexOf(i);n>=0;n--){const o=e[n]
if(i.top-o.top>=t.$.scrollView.offsetHeight)return void a(o.id,r.dataField)}a(t.firstRow().id,r.dataField)
break}case"PageDown":{const e=t._recyclingRows,i=t.rowById[r.id]
for(let n=e.indexOf(i);n<e.length;n++){const o=e[n]
if(o.top-i.top>=t.$.scrollView.offsetHeight)return void a(o.id,r.dataField)}a(t.lastRow().id,r.dataField)
break}case"ArrowDown":case"Enter":{let n=e.ctrlKey||e.metaKey?t.lastRow():t.nextRow(r.id)
if(t.editing.addNewRow.autoCreate&&"Enter"===i&&r.id===t.lastRow().id&&(t.addUnboundRow(1),n=t.lastRow()),!n)return
a(n.id,r.dataField)
break}case"ArrowUp":{const i=e.ctrlKey||e.metaKey?t.firstRow():t.prevRow(r.id)
if(!i)return
a(i.id,r.dataField)
break}case"ArrowRight":{const i=t.rowById[r.id],n=t.columnByDataField[r.dataField]._treeColumn
if((!t.selection.allowCellSelection||n)&&!1===i.leaf){if(!i.expanded)return i.expand(),e.stopPropagation(),void e.preventDefault()
{const e=t.nextRow(r.id)
if(e)return void a(e.id,r.dataField)}}const o=e.ctrlKey||e.metaKey?t.lastColumn():t.nextColumn(r.dataField)
if(!o)return
a(r.id,o.dataField)
break}case"ArrowLeft":{const i=t.rowById[r.id],n=t.columnByDataField[r.dataField]._treeColumn
if(!t.selection.allowCellSelection||n){if(!1===i.leaf)return void(i.expanded?(i.collapse(),e.stopPropagation(),e.preventDefault()):i.parent&&a(i.parent.id,r.dataField))
if(!0===i.leaf&&i.parent)return void a(i.parent.id,r.dataField)}const o=e.ctrlKey||e.metaKey?t.firstColumn():t.prevColumn(r.dataField)
if(!o)return
a(r.id,o.dataField)
break}}["Shift","Up","Down","Left","Right","Control","F2","Esc"," ","Home","End","PageUp","PageDown"].indexOf(i)<0||(e.stopPropagation(),e.preventDefault())}_keyUpHandler(e){const t=this
"Escape"===e.key&&t.dragDrop&&t._endDrag(e),t._focused&&"Shift"===e.key&&t.$.fireEvent("change",{started:!1,finished:!0})}firstRow(){const e=this._recyclingRows
if(e&&e.length>0){if(!e[0].autoGenerated&&e[0].allowSelect)return e[0]
for(let t=0;t<e.length;t++)if(!e[t].autoGenerated&&e[t].allowSelect)return e[t]}return null}lastRow(){const e=this._recyclingRows
if(e&&e.length>0){const t=e[e.length-1]
if(!t.autoGenerated&&t.allowSelect)return t
for(let t=e.length-1;t>=0;t--)if(!e[t].autoGenerated&&e[t].allowSelect)return e[t]}return null}nextRow(e){const t=this._recyclingRows,i=this.rowById[e],n=t.indexOf(i)
if(n>=0&&t[n+1]&&!t[n+1].autoGenerated){const e=t[n+1]
if(e.allowSelect&&!e.disabled)return e
for(let e=n+1;e<t.length;e++){const i=t[e]
if(i.allowSelect&&!i.disabled)return i}}return null}prevRow(e){const t=this._recyclingRows,i=this.rowById[e],n=t.indexOf(i)
if(n>=0&&t[n-1]&&!t[n-1].autoGenerated){const e=t[n-1]
if(e.allowSelect&&!e.disabled)return e
for(let e=n-1;e>=0;e--){const i=t[e]
if(i.allowSelect&&!i.disabled)return i}}return null}firstColumn(){const e=this.columns
return e&&e.length>0?e[0]:null}lastColumn(){const e=this.columns
return e&&e.length>0?e[e.length-1]:null}nextColumn(e){const t=this.columns,i=this.columnByDataField[e],n=t.indexOf(i)
return t[n+1]?t[n+1]:null}prevColumn(e){const t=this.columns,i=this.columnByDataField[e],n=t.indexOf(i)
return t[n-1]?t[n-1]:null}isVisible(e,t){const i=this,n=i._scrollView.vScrollBar,r=i._scrollView.hScrollBar,o=i.rowById[e],a=i.columnByDataField[t]
return{row:function(e){if(!e)return!1
return-1!==e.visibleIndex&&(!(e.top+e.height+r.offsetHeight+i.__frozenNearHeight>=i._scrollView.scrollTop+i.$.scrollView.offsetHeight-i.__frozenFarHeight)&&!(e.top<=i._scrollView.scrollTop))}(o),column:function(e){if(!t)return!1
return-1!==e.visibleIndex&&(!(e.left+e.computedWidth+n.offsetWidth>=i._scrollView.scrollLeft+i._clientSize.width)&&!(e.left<=i._scrollView.scrollLeft))}(a)}}ensureVisible(e,t){const i=this,n=i._scrollView.vScrollBar,r=i._scrollView.hScrollBar,o=i.rowById[e],a=i.columnByDataField[t]
!function(e){if(!e)return
const t=e.visibleIndex;-1!==t&&(e.top+e.height+r.offsetHeight+i.__frozenNearHeight>=i._scrollView.scrollTop+i.$.scrollView.offsetHeight-i.__frozenFarHeight&&(i._scrollView.scrollTop=e.top+e.height),e.top<=i._scrollView.scrollTop&&(i._scrollView.scrollTop=e.top),0===t?i._scrollView.scrollTop=0:t===i.dataSource.length-1&&(i._scrollView.scrollTop=i._scrollView.scrollHeight))}(o)
!function(e){if(!t)return
const r=e.visibleIndex;-1!==r&&(e.left+e.computedWidth+n.offsetWidth>=i._scrollView.scrollLeft+i._clientSize.width&&(i._scrollView.scrollLeft=i._scrollView.scrollLeft+e.computedWidth),e.left<=i._scrollView.scrollLeft&&(i._scrollView.scrollLeft=e.left),0===r?i._scrollView.scrollLeft=0:r===i.columns.length-1&&(i._scrollView.scrollLeft=i._scrollView.scrollWidth))}(a)}clearSelection(){delete this._rangeSelectionStartRow,delete this._rangeSelectionEndRow,this._clearSelection(!0),this.$.fireEvent("change",{started:!1,finished:!0})}})
var Oe=Object.freeze({})
JQX.Utilities.Assign("Grid.Edit",class{_renderCommandBar(){const e=this,t=e.editing.commandBar.dataSource,i=i=>{for(let n in t){const r=t[n],o=document.createElement("div")
o.classList.add("jqx-grid-command-item"),o.label=e.localize(n),r.icon&&(o.innerHTML='<span class="jqx-grid-icon '+r.icon+'"></span><span class="jqx-grid-label">'+o.label+"</span>"),r.visible||o.classList.add("jqx-hidden"),o.command=r.command,o.onclick=function(){const t=o.command
e._applyCommand(t,[])},i.appendChild(o)}}
e.editing.enabled&&e.editing.commandBar.visible&&(e.$.headerCommandBar.innerHTML="",e.$.footerCommandBar.innerHTML="","far"!==e.editing.commandBar.position&&i(e.$.headerCommandBar),"near"!==e.editing.commandBar.position&&i(e.$.footerCommandBar))}commandKeyEditCommand(){const e=this
if(e._selection&&e._selection.focusedCell&&e._selection.focusedCell.row){const t=e._selection.focusedCell.row
e.beginEdit(t.id)}}commandKeyCancelCommand(){this.cancelEdit()}commandKeyUpdateCommand(){this.endEdit()}commandColumnMenuCommand(){this._openColumnChooserMenu(this._commandColumn)}commandColumnEditCommand(e){this.beginEdit(e.id)}commandColumnUpdateCommand(){this.endEdit()}commandColumnRowMenuCommand(){}commandColumnCancelCommand(e){const t=this
if(t.editing.batch){const i=t._rowsDeleted?t._rowsDeleted.indexOf(e):-1
i>=0&&t._rowsDeleted.splice(i,1)
for(let i=0;i<t.columns.length;i++){const n=t.columns[i].dataField
t._cellsUpdatedValues&&t._cellsUpdatedValues[e.id+"_"+n]&&(delete t._cellsUpdatedValues[e.id+"_"+n],t._cellsUpdatedValues.length--)}t._recycle(!1)}t.cancelEdit()}commandColumnDeleteCommand(e){this.deleteRow(e.id)}_renderAddNewRow(){const e=this
e._frozenNearDefaultRows=[],e._frozenFarDefaultRows=[]
const t=new JQX.Grid.Row({data:{},index:-1,grid:e,freeze:"near",visible:"far"!==e.editing.addNewRow.position,autoGenerated:!0,addNewRow:!0}),i=new JQX.Grid.Row({data:{},index:-2,grid:e,freeze:"far",visible:"near"!==e.editing.addNewRow.position,autoGenerated:!0,addNewRow:!0})
if(e._newNearRow){const t=e._frozenNearRows.indexOf(e._newNearRow)
if(t>=0&&(e._frozenNearRows.splice(t,1),e.$.rowNearContainer.children.length>0)){const t=e.$.rowNearContainer.children[0]
t.parentNode.removeChild(t)}}if(e._newFarRow){const t=e._frozenFarRows.indexOf(e._newFarRow)
if(t>=0&&(e._frozenFarRows.splice(t,1),e.$.rowFarContainer.children.length>0)){const t=e.$.rowFarContainer.children[e.$.rowFarContainer.children.length-1]
t.parentNode.removeChild(t)}}if(e.editing.addNewRow.visible&&(e._frozenNearDefaultRows.push(t),e._frozenFarDefaultRows.push(i),e._frozenNearRows.splice(0,0,t),e._frozenFarRows.push(i)),e._scrollView.vScrollBar.$.farButton.addEventListener("click",function(){e.editing.addNewRow.autoCreate&&e._scrollView.vScrollBar.value===e._scrollView.vScrollBar.max&&(e.addUnboundRow(1),e._scrollView.vScrollBar.value=e._scrollView.vScrollBar.max)}),e._newNearRow=t,e._newFarRow=i,e.editing.addNewRow.visible){if(!e._newNearRow.element){const t=e._newNearRow,i=t.createElement()
t.visible="far"!==e.editing.addNewRow.position,t.element=i,e.$.rowNearContainer.children.length>0?e.$.rowNearContainer.insertBefore(i,e.$.rowNearContainer.children[0]):e.$.rowNearContainer.appendChild(i)}if(!e._newFarRow.element){const t=e._newFarRow,i=t.createElement()
t.visible="near"!==e.editing.addNewRow.position,t.element=i,e.$.rowFarContainer.children.length>0?e.$.rowFarContainer.insertBefore(i,e.$.rowFarContainer.children[0]):e.$.rowFarContainer.appendChild(i)}}}_insertNewRowAfter(e){return this._insertNewRowBefore(e,!0)}_insertNewRowBefore(e,t){const i=this,n=new JQX.Grid.Row({index:t?0:-1,id:JQX.Utilities.Core.createGUID(),grid:i}),r=function(t,n){!0===i.editing.batch||i.editing.batch&&i.editing.batch.indexOf("add")>=0?i._batchAddRow(t,n?i.rows.length:0):(t.index=i.rows.length,i._add(t,n?i.rows.length:0)),i.scrollTop=n?i.scrollHeight:0,i.editing.addDialog.enabled||setTimeout(function(){i.editing.enabled&&i._beginEdit(t)},100),e&&e(t)}.bind(this)
return i.editing.addDialog.enabled?i._openAddRowDialog(n,r):r(n,t),!0}commandBarBatchSaveCommand(){this._saveBatchEdit()}commandBarAddRowCommand(){this._insertNewRowAfter()}commandBarAddTopRowCommand(){this._insertNewRowBefore()}commandBarDeleteRowCommand(){const e=this
let t=1,i=e.rows[e.rows.length-t]
for(e._rowsDeleted||(e._rowsDeleted=[]);e._rowsDeleted.indexOf(e.rows[e.rows.length-t])>=0;)t++;(i=e.rows[e.rows.length-t])&&e.commandColumnDeleteCommand(i)}commandBarBatchRevertCommand(){this.revertBatchEdit()}_beginEdit(e,t){const i=this
t||(t=i.columns[0].dataField)
const n=i.columnByDataField[t]
if(i.editing.allowColumnHeaderEdit&&!e&&n)return void i._beginColumnEdit(n)
if(!e||!n||n&&n.autoGenerated)return!1
const r=e.getCell(t)
if(!r)return!1
"cell"===i.editing.mode?i._beginCellEdit(r):"row"===i.editing.mode&&i._beginRowEdit(e,r),i.$.fireEvent("beginEdit",{row:e,column:n,cell:r})}_saveUnboundRows(e){const t=this
if(t._unboundRows&&t._unboundRows.length>0&&t.editing.addNewRow.autoSave){const i=t.rowById[e]
if(!i.unbound)return
const n=t._unboundRows.indexOf(i)
if(n<0)return
const r=n+1
t.beginUpdate()
for(let e=0;e<r;e++){const i=t._unboundRows[e]
if(!i)continue
delete t.rowById[i.id],i.unbound=!1
let n=!1
t._selection.focusedCell&&t._selection.focusedCell.row.id===i.id&&(n=!0),t._nearRowsAdded&&t._nearRowsAdded.indexOf(i)>=0?(t._nearRowsAdded.splice(t._nearRowsAdded.indexOf(i),1),t._add(0,i.data),n&&(t._selection.focusedCell.row=t.rows[0])):t._farRowsAdded&&t._farRowsAdded.indexOf(i)>=0&&(t._farRowsAdded.splice(t._farRowsAdded.indexOf(i),1),t._add(i.data),n&&(t._selection.focusedCell.row=t.rows[t.rows.length-1]))}t._unboundRows.splice(0,r),t.endUpdate()}}_endCellEdit(e){const t=this,i=e||t.editing.editCell
if(!i||i&&!i.isEditing)return null
const n=t._getEditorValue(i)
if("invalid value"===n)return i.setAttribute("error",""),!1
const r=function(){const e=t._getEditorId(i)
t._cellEditors[e].detach(),i.row.element.removeAttribute("edit"),i.element.removeAttribute("editor"),i.element.removeAttribute("error"),i.isEditing=!1,i.element.content.innerHTML=""
const r=function(){t.editing.editRow||t._recycle(!1)},o=t._cellsUpdatedValues?t._cellsUpdatedValues[i.row.id+"_"+i.column.dataField]:void 0,a=void 0!==o?o:i.value
if(function(e,t){return"date"===i.column.dataType?e.valueOf()===t.valueOf():e===t}(n,a))t.editing.editCell=null,t.editing.editRow||(t.editing.isEditing=!1,r())
else{const e=function(){t.editing.editCell=null,t.editing.editRow||(t.editing.isEditing=!1)}
if(!0===t.editing.batch||t.editing.batch&&t.editing.batch.indexOf("update")>=0)e(),t._batchUpdateCell(i.row,i.column,n,i.value),r()
else{(function(){e(),i._updating=!0,i.value=n,i._updating=!1,r()})()}}return t.editing.commandColumn.visible&&!t.editing.commandColumn.width&&"cell"===t.editing.mode&&t.refresh(),t.focus(),!0}
if(t.onCellUpdate){t.beginUpdate(),t.appearance.displayLoadingIndicator=!0,t._setLoadingIndicatorVisibility()
const e=t._createOverlay()
t.$.root.appendChild(e),t.onCellUpdate(i,t.oldValue,n,function(i){i?r():t.cancelEdit(),t.appearance.displayLoadingIndicator=!1,t._setLoadingIndicatorVisibility(),e.parentNode.removeChild(e),t.endUpdate()})}else r()}_endRowEdit(){const e=this,t=e.editing.editRow
if(!t)return!1
let i=!0
const n=t.cells
let r={},o={}
for(let t=0;t<n.length;t++){const a=n[t],s=e._getEditorValue(a)
r[a.column.dataField]=a.value,o[a.column.dataField]=s,"invalid value"===s&&(a.setAttribute("error",""),i=!1)}if(i){const i=function(){for(let t=0;t<n.length;t++){const i=n[t]
e._endCellEdit(i)}e.editing.isEditing=!1,e.editing.editRow=null,e.editing.commandColumn.visible&&!e.editing.commandColumn.width?e.refresh():e._recycle(!1)}
if(e.onRowUpdate){e.beginUpdate(),e.appearance.displayLoadingIndicator=!0,e._setLoadingIndicatorVisibility()
const n=e._createOverlay()
e.$.root.appendChild(n),e.onRowUpdate(t,r,o,function(t){t?i():e.cancelEdit(),e.appearance.displayLoadingIndicator=!1,e._setLoadingIndicatorVisibility(),n.parentNode.removeChild(n),e.endUpdate()})}else i()
return!0}return e.focus(),!1}_batchDeleteRow(e){const t=this
t._rowsDeleted||(t._rowsDeleted=[]),t._rowsDeleted.push(e),t._recycle(!1)}_batchAddRow(e,t){const i=this
i._rowsAdded||(i._rowsAdded=[]),i._rowsAdded.push(e.id),i.rowById[e.id]=e,e.index=i.rows.length+(i._rowsAdded?i._rowsAdded.length:0),0===t?i._nearRowsAdded.splice(0,0,e):i._farRowsAdded.push(e),i.isInitialized&&i._rowElements&&i._rowElements.length<i.rows.length+i._rowsAdded.length&&i._initializeRowElements(),i.refresh()}_batchUpdateCell(e,t,i,n){const r=this
r._cellsUpdatedValues||(r._cellsUpdatedValues=[])
!function(e,i){return"date"===t.dataType?e.valueOf()===i.valueOf():e===i}(i,n)?r._cellsUpdatedValues[e.id+"_"+t.dataField]=i:delete r._cellsUpdatedValues[e.id+"_"+t.dataField],r._cellsUpdatedValues.length++}_saveBatchEdit(){const e=this
for(let t in e._cellsUpdatedValues){const i=e._cellsUpdatedValues[t],n=t.substring(0,t.indexOf("_")),r=t.substring(t.indexOf("_")+1),o=e.rowById[n].getCell(r)
o._updating=!0,o.value=i,o._updating=!1}const t=e._rowsDeleted&&e._rowsDeleted.length>0||e._rowsAdded&&e._rowsAdded.length>0
if(t&&e.beginUpdate(),e._rowsAdded&&e._rowsAdded.length>0)for(let t in e._rowsAdded){const i=e._rowsAdded[t],n=e.rowById[i]
n&&(e._nearRowsAdded.indexOf(n)>=0?e.rows.splice(0,0,n):e._farRowsAdded.indexOf(n)>=0&&e.rows.push(n))}if(e._rowsDeleted&&e._rowsDeleted.length>0)for(let t=0;t<e._rowsDeleted.length;t++){const i=e._rowsDeleted[t],n=e.rows.indexOf(i)
n<0||e.rows.splice(n,1)}t&&e.endUpdate(),e._clearBatchEdit(!1)}_clearBatchEdit(){const e=this
let t=!1
e._rowsAdded&&e._rowsAdded.length>0&&(t=!0),e._cellsUpdatedValues=[],e._rowsAdded=[],e._rowsDeleted=[],e._nearRowsAdded=[],e._farRowsAdded=[],t?e.refresh():e._recycle(!1)}_getEditorId(e){return e.editor!==e.column.editor?e.editor.template+"_"+e.column.dataField+"_"+e.row.id:e.editor.template+"_"+e.column.dataField}_applyCommand(e,t){const i=this
t||(t=[])
const n=function(){"function"==typeof e?e.apply(i,t):i[e]?i[e].apply(i,t):JQX[e]?JQX[e].apply(i,t):window[e]&&window[e].apply(i,t)}
if(i.onCommand){t||(t=[]),t[1]||(t[1]=null)
const r={name:e,command:n,details:t[0],event:t[1],handled:!1}
setTimeout(()=>{i.onCommand.apply(i,[r]),r.handled||n()},200)}else n()}_getCommandColumnCommandsTemplate(){const e=this,t=e.editing.commandColumn.dataSource,i="icon"!==e.editing.commandColumn.displayMode,n="label"!==e.editing.commandColumn.displayMode
let r=""
for(let o in t){const a=t[o]
let s="<div",l=!1
if("commandColumnMenu"===o)continue
l||(s+=' item="'+o+'" command="'+a.command+'" class="jqx-grid-command-item">',l=!0)
const d="{{messages}}"===a.label?e.localize(o):a.label
n&&i?(s+='<span class="jqx-grid-icon '+a.icon+'"></span>',s+='<span class="jqx-grid-label">'+d+"</span>"):n&&!i?s+='<span class="jqx-grid-icon '+a.icon+'"></span>':i&&!n&&(s+='<span class="jqx-grid-label">'+d+"</span>"),r+=s+="</div>"}return r}_updateCommandColumnCommandsVisibility(e,t){const i=this,n=e.children,r=i.editing.commandColumn.dataSource
for(let e=0;e<n.length;e++){const o=n[e],a=o.getAttribute("item"),s=r[a].visible
!0===s?o.classList.remove("jqx-hidden"):!1===s?o.classList.add("jqx-hidden"):"auto"===s&&(!i.editing.dialog.enabled&&(i.editing.editRow===t||i.editing.editCell&&i.editing.editCell.row===t)?"commandColumnEdit"===a?o.classList.add("jqx-hidden"):"commandColumnUpdate"!==a&&"commandColumnCancel"!==a||n[e].classList.remove("jqx-hidden"):"commandColumnEdit"===a?o.classList.remove("jqx-hidden"):"commandColumnUpdate"!==a&&"commandColumnCancel"!==a||n[e].classList.add("jqx-hidden"))}}_handleEditKeyDown(e){const t=this,i=e.key,n=t.editing.commandKeys
if(!t.editing.dialog.enabled)for(let e in n){const r=n[e],o=r.key.replace(/ /gi,"").split("|")
if(("Tab"!==i||!t.editing.editRow)&&o.indexOf(i)>=0){t._applyCommand(r.command)
break}}}_getCustomCellEditor(e){const t=this
e.editor.selector=e.editor.template,e.editor.template="custom"
const i=t._getEditorId(e)
if(!t._cellEditors[i]){const n=document.createElement("div")
t._applyCellEditorUserSettings(n,e),n.classList.add("jqx-grid-cell-editor")
const r=function(e){"keydown"!==e.type||t._handleEditKeyDown(e)},o=function(){const t=e.editor.instance.element.firstElementChild
e.editor.focus?setTimeout(function(){e.editor.focus.apply(e.editor.instance.element,[])},50):setTimeout(function(){t.focus()},50)},a=function(t){const i=e.editor.instance.element.firstElementChild
e.editor.blur?e.editor.blur.apply(e.editor.instance.element,[t]):i.blur()},s=function(t){const i=e.editor.instance.element.firstElementChild
if(e.editor.setValue)e.editor.setValue.apply(e.editor.instance.element,[t])
else{if(i.innerHTML.indexOf("{{")>=0){const n=i.innerHTML.replace(/{{value}}/gi,t).replace(/{{id}}/gi,e.row.id)
i.innerHTML=n}i.value=t,t instanceof Date&&(i.value=t.toISOString().split("T")[0]),e.editor.instance.element.value=i.value}},l=function(){const t=e.editor.instance.element.firstElementChild
if(e.editor.getValue){const i=t.querySelector("input")
return i&&i.blur(),e.editor.getValue.apply(e.editor.instance.element,[])}return t.value||""},d=function(){n.removeEventListener("keydown",r),e.editor.detach&&e.editor.detach.apply(n,[])},c=function(){n.addEventListener("keydown",r),e.editor.attach&&e.editor.attach.apply(n,[])}
let h=null
if((e.editor.selector.startsWith("#")||e.editor.selector.startsWith("."))&&(h=document.querySelector(e.editor.selector)),h)n.appendChild(h.content.cloneNode(!0).firstElementChild)
else{const t=function(e){const t=document.createElement("template")
return e=e.trim(),t.innerHTML=e,t.content.firstChild}(e.editor.selector)
t&&n.appendChild(t)}t._cellEditors[i]={element:n,focus:o,blur:a,getValue:l,setValue:s,attach:c,detach:d}}return t._cellEditors[i]}_getTextAreaCellEditor(e){const t=this,i=t._getEditorId(e),n=document.createElement("div"),r=document.createElement("textarea"),o=document.createElement("div")
t._applyCellEditorUserSettings(n,e),r.style.direction="",t.rightToLeft&&(r.style.direction="rtl"),r.classList.add("jqx-input"),n.classList.add("jqx-grid-cell-editor"),n.classList.add("jqx-grid-text-area-cell-editor"),o.classList.add("nav"),o.classList.add("jqx-icon-resize-full","jqx-grid-icon")
const a=function(e){let i=e.key
if("keydown"===e.type)return t._handleEditKeyDown(e),void(e.shiftKey&&" "===i&&(o.click(),e.preventDefault()))}
o.onclick=function(){const i=document.createElement("div"),n=document.createElement("span"),a=document.createElement("textarea"),s=e.editor.instance.element,l=document.createElement("div"),d=document.createElement("jqx-scroll-bar")
d.orientation="vertical",i.setAttribute("theme",t.theme),l.appendChild(a),l.classList.add("jqx-grid-text-area-container"),l.appendChild(d),a.value=r.value,a.classList.add("jqx-input"),o.textAreaEditorDialog=i,o.popupTextArea=a,n.classList.add("close-button"),n.classList.add("jqx-grid-icon"),n.classList.add("jqx-icon-cancel-circled")
const c=function(){d.value=a.scrollTop,d.max=a.scrollHeight-a.offsetHeight,d.onChange=null,a.offsetHeight>=a.scrollHeight?d.classList.add("jqx-hidden"):d.classList.remove("jqx-hidden"),d.onChange=function(){a.scrollTop=d.value}}
a.onscroll=function(){c()},a.onkeydown=function(e){"Escape"===e.key&&i.parentNode.removeChild(i),"Enter"===e.key&&e.shiftKey&&n.click()},n.onclick=function(){o.textAreaEditorDialog.parentNode.removeChild(o.textAreaEditorDialog),setTimeout(function(){r.value=a.value,r.select()},50)},i.classList.add("jqx-grid-text-area-dialog"),i.appendChild(l),i.appendChild(n),document.body.appendChild(i),setTimeout(function(){a.select(),c()},50),c(),i.style.top=t._offsetTop(s)+"px",i.style.left=t._offsetLeft(s)+"px",i.style.width=s.offsetWidth+"px"},n.appendChild(r),n.appendChild(o)
return t._cellEditors[i]={element:n,focus:function(){setTimeout(function(){r.select()},50)},blur:function(){},setValue:function(e){r.value=e},getValue:function(){const e=r.value
return o.textAreaEditorDialog&&o.textAreaEditorDialog.parentNode?(r.value=o.popupTextArea.value,r.value):e},attach:function(){r.addEventListener("keydown",a)},detach:function(){r.removeEventListener("keydown",a),o.textAreaEditorDialog&&o.textAreaEditorDialog.parentNode&&(r.value=o.popupTextArea.value,o.textAreaEditorDialog.parentNode.removeChild(o.textAreaEditorDialog))}},t._cellEditors[i]}_getInputCellEditor(e){const t=this,i=t._getEditorId(e)
if(!t._cellEditors[i]){const n=document.createElement("input")
t._applyCellEditorUserSettings(n,e),n.classList.add("jqx-input"),n.classList.add("jqx-grid-cell-editor"),n.classList.add("jqx-grid-input-cell-editor"),n.style.direction="",t.rightToLeft&&(n.style.direction="rtl")
const r=function(i){if("keydown"===i.type)return"number"!==e.column.dataType&&"int"!==e.column.dataType&&"float"!==e.column.dataType||t.editing.editColumn||i.key.match(/[0-9]/)||"-"===i.key||1!==i.key.length?void t._handleEditKeyDown(i):(i.preventDefault(),void i.stopPropagation())},o=function(){setTimeout(function(){n.select()},50)},a=function(){},s=function(t){if(!e.column.rowHeaderColumn||t){if("number"===e.column.dataType||"int"===e.column.dataType||"float"===e.column.dataType){if(""===t)return
if(t&&!t.toString().match(/[0-9]/)&&"-"!==t)return}n.value=t}else n.value=e.editor.row.visibleIndex+1},l=function(){return n.value},d=function(){n.removeEventListener("keydown",r)},c=function(){n.addEventListener("keydown",r)}
t._cellEditors[i]={element:n,focus:o,blur:a,getValue:l,setValue:s,attach:c,detach:d}}return t._cellEditors[i]}_applyCellEditorUserSettings(e,t){for(let i in t.editor)"template"!==i&&("list"!==i?e[i]=t.editor[i]:e.setAttribute(i,t.editor[i]))}_getAutoCompleteCellEditor(e){const t=this,i=t._getEditorId(e)
if(!t._cellEditors[i]){const n=document.createElement("jqx-input")
t._applyCellEditorUserSettings(n,e),n.readonly&&(n.dropDownButtonPosition="right")
const r=function(e){n.opened||"keydown"!==e.type||t._handleEditKeyDown(e)}
n.rightToLeft=t.rightToLeft,n.classList.add("jqx-grid-cell-editor"),n.classList.add("jqx-grid-auto-complete-cell-editor")
const o=function(){setTimeout(()=>{n&&n.select&&n.select()},50)},a=function(e){n.value=e},s=function(){return n.value},l=function(){n&&n.close&&(n.value="",n.close(),n.removeEventListener("keydown",r))},d=function(){},c=function(){n.addEventListener("keydown",r)}
t._cellEditors[i]={element:n,focus:o,blur:d,setValue:a,getValue:s,attach:c,detach:l}}const n=t.getVisibleRows(),r=[]
for(let i=0;i<n.length;i++){let o=t.dataSource[n[i].index]
o&&(o=o[e.column.dataField],-1===r.indexOf(o)&&r.push(o))}return t._cellEditors[i].element.dataSource=r,t._cellEditors[i]}_getDateTimePickerCellEditor(e){const t=this,i=t._getEditorId(e)
if(!t._cellEditors[i]){const n=document.createElement("jqx-date-time-picker")
n.calendarButton=!0,n.dropDownAppendTo="body",n.autoClose=!0,n.dropDownDisplayMode="calendar",n.rightToLeft=t.rightToLeft,t._applyCellEditorUserSettings(n,e)
const r=function(e){n.opened||"keydown"!==e.type||t._handleEditKeyDown(e)}
n.classList.add("jqx-grid-cell-editor"),n.classList.add("jqx-grid-date-time-picker-cell-editor")
const o=function(){setTimeout(()=>{n.select()},50)},a=function(e){n.value=e},s=function(){return n.value},l=function(){n.value="",n.close(),n.removeEventListener("keydown",r)},d=function(e){const i=n.getAttribute("aria-controls")
if(i&&n.opened){const n=t.getBoundingRect(document.getElementById(i))
e.pageX<n.left||e.pageX>n.right||e.pageY<n.top||e.pageY>n.bottom||e.preventDefault()}},c=function(){n.addEventListener("keydown",r)}
t._cellEditors[i]={element:n,focus:o,blur:d,setValue:a,getValue:s,attach:c,detach:l}}return t._cellEditors[i]}_getNumberInputCellEditor(e){const t=this,i=t._getEditorId(e)
if(!t._cellEditors[i]){const n=document.createElement("div"),r=document.createElement("input"),o=document.createElement("div"),a=document.createElement("div"),s=document.createElement("div")
t._applyCellEditorUserSettings(n,e),a.tabIndex=s.tabIndex=-1,r.classList.add("jqx-input"),n.classList.add("jqx-grid-cell-editor"),n.classList.add("jqx-grid-number-input-cell-editor"),o.classList.add("nav"),a.classList.add("up"),s.classList.add("down")
const l=function(e){"keydown"!==e.type||t._handleEditKeyDown(e)}
r.type="number",o.appendChild(a),o.appendChild(s),n.appendChild(r),n.appendChild(o)
const d=function(){const e=parseFloat(r.value)
return isNaN(e)||e===1/0||e===-1/0?0:e},c=function(e){r.value=e},h=function(){setTimeout(function(){r.select()},50)},u=function(){},p=function(){r.addEventListener("keydown",l),a.onkeydown=l,s.onkeydown=l,a.onclick=function(){const e=parseFloat(r.value)
isNaN(e)||(e<r.max||""===r.max)&&(r.value=e+1)},s.onclick=function(){const e=parseFloat(r.value)
isNaN(e)||(e>r.min||""===r.min)&&(r.value=e-1)}},m=function(){r.removeEventListener("keydown",l),a.onclick=s.onclick=null,a.onkeydown=s.onkeydown=null}
t._cellEditors[i]={element:n,focus:h,blur:u,setValue:c,getValue:d,attach:p,detach:m}}return t._cellEditors[i]}_getCheckBoxCellEditor(e){const t=this,i=t._getEditorId(e)
if(!t._cellEditors[i]){const e=document.createElement("div")
e.classList.add("jqx-input"),e.classList.add("jqx-grid-cell-editor"),e.classList.add("jqx-grid-check-box-cell-editor"),e.tabIndex=0
const n=function(){!0!==e.value&&!1!==e.value&&null!==e.value&&(e.value=!1),null===e.value?e.value=!1:e.value=!e.value,!1===e.value?e.removeAttribute("checked"):e.setAttribute("checked",e.value?"":"indeterminate")},r=function(e){" "!==e.key?t._handleEditKeyDown(e):n()},o=function(t){e.value=t,!1===e.value?e.removeAttribute("checked"):e.setAttribute("checked",e.value?"":"indeterminate")},a=function(){e.focus(),setTimeout(function(){e.focus()},25)},s=function(){return e.value},l=function(){e.value=!1,e.removeEventListener("click",n),e.removeEventListener("keydown",r)},d=function(){},c=function(){e.addEventListener("keydown",r),e.addEventListener("click",n)}
t._cellEditors[i]={getValue:s,setValue:o,focus:a,blur:d,element:e,detach:l,attach:c}}return t._cellEditors[i]}_getEditorValue(e){const t=this._getEditorId(e)
if(!this._cellEditors)return
const i=this._cellEditors[t]
if(!i)return
const n=function(t){switch(e.column.dataType){case"float":case"int":case"number":t="int"===e.column.dataType?parseInt(t):parseFloat(t),isNaN(t)&&(t=0)
break
case"bool":case"boolean":"true"!==t&&"1"!==t||(t=!0),"false"!==t&&"0"!==t||(t=!1)
break
case"date":t=(t=new JQX.Utilities.DateTime(t)).toDate()
break
case"dateTime":t=new JQX.Utilities.DateTime(t)}return t}
let r=null
switch(e.editor.template){case"input":case"autoComplete":case"numberInput":case"deteTimePicker":case"checkBox":try{r=n(i.getValue())}catch(t){r=e.value}if(e.editor.getValue){const t=e.editor.getValue(e,r)
void 0!==t&&(r=t)}break
default:r=n(i.getValue())}let o=!0
return e.column.validator&&(o=e.column.validator.evaluate(r)),o?r:"invalid value"}_beginRowEdit(e,t){const i=this
if(e===i.editing.editRow)return!1
if(i.editing.editRow){if(!i.endEdit())return!1}const n=e.cells
i.editing.editRow=e,i.editing.commandColumn.visible&&(i.editing.isEditing=!1,i.refresh(),i.editing.isEditing=!0),e.isEditing=!0
let r=!1
for(let e=0;e<n.length;e++){const o=n[e],a=i._beginCellEdit(o)
t?o===t&&o.editor.instance.focus():a&&!r&&(r=!0,o.editor.instance.focus()),i.editing.commandColumn.visible&&o.column.commandColumn&&o.render()}return!0}_createOverlay(){const e=document.createElement("div")
return e.onpointerdown=function(){return!1},e.onmousedown=function(){return!1},e.onclick=function(){},e.classList.add("jqx-grid-dialog-overlay"),e}_createDialog(e){const t=this,i=document.createElement("div")
e||(e=t.editing.dialog),i.setAttribute("animation","none"),i.classList.add("jqx-window","jqx-grid-dialog"),i.style.width="auto"===e.width?e.width:e.width+"px",i.style.height="auto"===e.height?e.height:e.height+"px",i.style.left="",i.style.top="",i.innerHTML='<div class="jqx-container">\n                   <div class ="jqx-content-container" jqx-id="container">\n                        <div id="headerSection" class="jqx-header-section">\n                            <div class="jqx-header"></div>\n                            <div class="jqx-buttons-container">\n                                <button class ="jqx-button jqx-element jqx-close-button" aria-label="Close" smart-id="closeButton"></button>\n                            </div>\n                        </div>\n                        <div class="jqx-content"><div></div></div>\n                        <div class ="jqx-footer">\n                            <div class ="jqx-stack-layout right spacing">\n                                <jqx-button class ="jqx-confirm-button item primary">Ok</jqx-button>\n                                <jqx-button class ="jqx-cancel-button item">Cancel</jqx-button>\n                            </div>\n                        </div>\n                    </div>\n              </div>\n            ',i.content=i.querySelector(".jqx-content").firstChild,i.footer=i.querySelector(".jqx-footer"),i.header=i.querySelector(".jqx-header"),i.btnConfirm=i.querySelector(".jqx-confirm-button"),i.btnCancel=i.querySelector(".jqx-cancel-button"),i.btnClose=i.querySelector(".jqx-close-button")
const n=document.createElement("div")
return n.classList.add("jqx-grid-dialog-overlay"),n.onclick=function(){},i.overlay=n,i.remove=function(){i.parentNode&&i.parentNode.removeChild(i)},i.close=function(){i.classList.remove("open"),i.addEventListener("transitionend",i.remove),i.addEventListener("transitioncancel",i.remove),i.modal&&i.overlay.parentNode&&i.overlay.parentNode.removeChild(i.overlay),i.onClose&&i.onClose()},i.open=function(n,r){i.removeEventListener("transitionend",i.remove),i.removeEventListener("transitioncancel",i.remove),document.body.appendChild(i),n||(n=e.left),r||(r=e.top),requestAnimationFrame(function(){i.classList.add("open")
const e=function(e,n){const r=t.offset(t)
switch("center"===e&&"horizontal"===n&&(e="middle"),e){case"top":return r.top
case"bottom":return r.top+t.offsetHeight-i.offsetHeight
case"center":return r.top+t.offsetHeight/2-i.offsetHeight/2
case"left":return r.left
case"middle":return r.left+t.offsetWidth/2-i.offsetWidth/2
case"right":return r.left+t.offsetWidth-i.offsetWidth}return"horizontal"===n?parseInt(e)+r.left:"vertical"===n?parseInt(e)+r.top:"number"==typeof e?e:parseInt(e)}
i.style.left=e(n,"horizontal")+"px",i.style.top=e(r,"vertical")+"px"}),i.modal&&t.appendChild(i.overlay),i.onOpen&&i.onOpen()},i}_openAddRowDialog(e,t){const i=this
if(!i.editing.addDialog.enabled)return!1
const n=i._dialogAddRow||i._createDialog(),r="{{message}}"===i.editing.dialog.header?i.localize("dialogAddHeader"):i.editing.dialog.header,o=n.content
n.header.innerHTML=r,e.grid=i,void 0===e.index&&(e.index=i.rows.length,i._rowsAdded&&(e.index+=i._rowsAdded.length))
const a=e.cells
let s=null,l=0
if(i._cellEditors||(i._cellEditors=[]),!i._dialogAddRow){n.modal=!0,n.btnConfirm.innerHTML=i.localize("dialogAddButtonConfirm"),n.btnCancel.innerHTML=i.localize("dialogAddButtonCancel"),n.onOpen=function(){i.editing.dialog.visible=!0},n.onClose=function(){i.editing.dialog.visible=!1},n.btnCancel.onclick=function(){n.close()},n.btnClose.onclick=function(){n.close()},n.btnConfirm.onclick=function(){const e={}
for(let t=0;t<a.length;t++){const n=a[t],r=i._getEditorValue(n),o=i._getEditorId(n),s=i._cellEditors[o]
e[n.column.dataField]=r,s.detach()}const r=i._rowsAdded?i._rowsAdded.length:0,o=new JQX.Grid.Row({index:i.rows.length+r,grid:i,data:e})
n.close(),t(o,0===n.index)},n.onkeydown=function(e){const t=e.key
"Enter"===t?n.btnConfirm.onclick():"Escape"===t&&n.close()},o.classList.add("jqx-grid-layout")
for(let e=0;e<i.columns.length;e++){const t=i.columns[e]
if(!t.allowEdit)continue
l%2==0&&((s=document.createElement("div")).classList.add("row"),o.appendChild(s))
const n=document.createElement("div")
n.classList.add("col-sm-6")
const r=document.createElement("div")
r.classList.add("column")
const a=document.createElement("label")
a.innerHTML=i.columns[e].label
const d=document.createElement("div")
d.classList.add("jqx-grid-dialog-editor"),d.setAttribute("editor",t.dataField),d.setAttribute("template",t.editor.template),n.appendChild(r),s.appendChild(n),r.appendChild(a),r.appendChild(d),l++}}n.open(),n.index=e.index
for(let e=0;e<a.length;e++){const t=a[e],r=t.column,o=r.dataField,s=n.querySelector("[editor="+o+"]")
s.innerHTML=""
let l=""
void 0!==t.value?l=t.value:("int64"!==r.dataType&&"number"!==r.dataType&&"int"!==r.dataType&&"float"!==r.dataType||(l=0),"date"===r.dataType&&(l=new Date),"bool"!==r.dataType&&"boolean"!==r.dataType||(l=!1))
let d=null
switch(t.editor.template){default:case"custom":d=i._getCustomCellEditor(t)
break
case"checkBox":d=i._getCheckBoxCellEditor(t)
break
case"autoComplete":d=i._getAutoCompleteCellEditor(t)
break
case"dateTimePicker":d=i._getDateTimePickerCellEditor(t)
break
case"textArea":case"textarea":d=i._getTextAreaCellEditor(t)
break
case"numberInput":case"input":d="numberInput"===t.editor.template?i._getNumberInputCellEditor(t):i._getInputCellEditor(t)}d.attach(),t.editor.instance=d,d.setValue(l),0===e&&d.focus(),t.editor.isInitialized||(t.editor.isInitialized=!0,t.editor.onInit&&t.editor.onInit(t.row.index,t.column.dataField,t.editor.instance.element)),t.editor.onRender&&t.editor.onRender(t.row.index,t.column.dataField,t.editor.instance.element),s.appendChild(d.element)}i._dialogAddRow=n}_openEditDialog(e,t){const i=this
if(!i.editing.dialog.enabled)return!1
const n=i._dialogEdit||i._createDialog(),r="{{message}}"===i.editing.dialog.header?i.localize("dialogEditHeader",{value:i.editing.editRow?e.row.visibleIndex+1:e.column.label}):i.editing.dialog.header,o=n.content
n.header.innerHTML=r
let a=null,s=0
if(!i._dialogEdit)if(n.modal=!0,n.btnConfirm.innerHTML=i.localize("dialogEditButtonConfirm"),n.btnCancel.innerHTML=i.localize("dialogEditButtonCancel"),n.onOpen=function(){i.editing.dialog.visible=!0},n.onClose=function(){i.editing.dialog.visible=!1},n.btnCancel.onclick=function(){i.cancelEdit()},n.btnClose.onclick=function(){i.cancelEdit()},n.btnConfirm.onclick=function(){i.endEdit()},n.onkeydown=function(e){const t=e.key,n=i.editing.commandKeys
for(let e in n){const r=n[e]
if(t===r.key){i._applyCommand(r.command)
break}}},i.editing.editRow){o.classList.add("jqx-grid-layout")
for(let e=0;e<i.columns.length;e++){const t=i.columns[e]
if(!t.allowEdit)continue
s%2==0&&((a=document.createElement("div")).classList.add("row"),o.appendChild(a))
const n=document.createElement("div")
n.classList.add("col-sm-6")
const r=document.createElement("div")
r.classList.add("column")
const l=document.createElement("label")
l.innerHTML=i.columns[e].label
const d=document.createElement("div")
d.classList.add("jqx-grid-dialog-editor"),d.setAttribute("editor",t.dataField),d.setAttribute("template",t.editor.template),n.appendChild(r),a.appendChild(n),r.appendChild(l),r.appendChild(d),s++}}else{const t=e.column,i=document.createElement("div")
i.classList.add("jqx-grid-dialog-editor"),i.setAttribute("editor",""),i.setAttribute("template",t.editor.template),o.appendChild(i)}if(n.open(),i.editing.editRow){const i=n.querySelector("[editor="+e.column.dataField+"]")
i.innerHTML="",i.appendChild(t.element)}else{const i=e.column,r=n.querySelector("[editor]")
r.innerHTML="",r.setAttribute("template",i.editor.template),r.appendChild(t.element)}i._dialogEdit=n}_openDeleteRowDialog(e,t){const i=this
if(!i.editing.deleteDialog.enabled)return!1
const n=i._dialogDelete||i._createDialog(),r="{{message}}"===i.editing.dialog.header?i.localize("dialogDeleteHeader",{value:e.visibleIndex+1}):i.editing.dialog.header
n.header.innerHTML=r,n.content.innerHTML=i.localize("dialogDeleteContent"),n.row=e,i._dialogDelete||(n.modal=!0,n.btnConfirm.innerHTML=i.localize("dialogDeleteButtonConfirm"),n.btnCancel.innerHTML=i.localize("dialogDeleteButtonCancel"),n.onOpen=function(){i.editing.dialog.visible=!0},n.onClose=function(){i.editing.dialog.visible=!1},n.btnCancel.onclick=function(){n.close()},n.btnClose.onclick=function(){n.close()},n.btnConfirm.onclick=function(){t(n.row),n.close()},n.onkeydown=function(e){"Escape"===e.key&&n.close()},i._dialogDelete=n),n.open(),setTimeout(function(){n.btnConfirm.focus()},100)}_beginCellEdit(e,t){const i=this
if(e.isEditing)return!1
if(i._isUpdating)return!1
let n=!1
if(e.column.autoGenerated&&e.column.rowHeaderColumn&&i.editing.allowRowHeaderEdit&&new Date-i._clickTime<i.behavior.doubleClickTimingDelay&&i._clickedCell===e.element&&(n=!0),(!e.column.allowEdit||e.column.autoGenerated||e.readonly)&&!n)return!1
if(i.editing.editCell&&!i.editing.editRow){if(!1===i._endCellEdit())return!1}i._cellEditors||(i._cellEditors=[]),i.editing.editRow||(i.editing.editCell=e),i.editing.commandColumn.visible&&!i.editing.editRow&&(i.editing.isEditing=!1,i.refresh(),i.editing.isEditing=!0),e.row.element.setAttribute("edit",""),i.editing.isEditing=!0,i._selection.selectionRect&&i._selection.selectionRect.classList.add("jqx-visibility-hidden")
const r=t=>{const n=t.element
i.editing.dialog.enabled?i._openEditDialog(e,t):(e.element||e.createElement(),e.element.setAttribute("editor","string"==typeof e.editor.template?e.editor.template:"template"),e.element.content.innerHTML="",e.element.content.appendChild(n),i.editing.editRow&&e.element.setAttribute("row-editor","")),t.attach(),e.editor.row=e.row,e.editor.column=e.column,e.editor.cell=e,e.editor.instance=t,e.isEditing=!0},o=i._cellsUpdatedValues?i._cellsUpdatedValues[e.row.id+"_"+e.column.dataField]:void 0
let a=void 0!==o?o:e.value
if(void 0===a){a=""
const t=e.column
"number"===t.dataType||"int"===t.dataType||"float"===t.dataType?a=0:"date"===t.dataType&&(a=new Date).setTime(0,0,0)}switch(e.editor||(e.editor="input"),"string"==typeof e.editor&&(e.canNotify=!1,e.editor={template:e.editor,autoFocus:!0},e.canNotify=!0),e.editor.template){default:case"custom":{const t=i._getCustomCellEditor(e)
r(t),t.setValue(a)
break}case"checkBox":{const n=i._getCheckBoxCellEditor(e)
r(n)
const o=!0===a||1===a
if("checkBox"===e.template&&t){(i.enableShadowDOM?i.shadowRoot:i.getRootNode()).elementsFromPoint(t.clientX,t.clientY)[0].classList.contains("jqx-input")?n.setValue(!o):n.setValue(o)}else n.setValue(o)
break}case"autoComplete":{const t=i._getAutoCompleteCellEditor(e)
r(t),t.setValue(a),e.editor.autoOpen&&t.element.open()
break}case"dateTimePicker":{const t=i._getDateTimePickerCellEditor(e)
r(t),t.setValue(a),e.editor.autoOpen&&t.element.open()
break}case"textArea":{const t=i._getTextAreaCellEditor(e)
r(t),t.setValue(a)
break}case"numberInput":case"input":{const t="numberInput"===e.editor.template?i._getNumberInputCellEditor(e):i._getInputCellEditor(e)
r(t),t.setValue(a)
break}}return e.editor.isInitialized||(e.editor.isInitialized=!0,e.editor.onInit&&e.editor.onInit(e.row.index,e.column.dataField,e.editor.instance.element)),e.editor.onRender&&e.editor.onRender(e.row.index,e.column.dataField,e.editor.instance.element),i.editing.editCell&&e.editor.instance.focus(),!0}_onColumnDoubleClick(e){this._beginColumnEdit(e)}_beginColumnEdit(e){const t=this
if(t.editing.enabled&&t.editing.allowColumnHeaderEdit&&e.allowHeaderEdit){t.editing.isEditing&&t.endEdit(),t.editing.editColumn=e,t._cellEditors||(t._cellEditors=[])
const i=t._getInputCellEditor({column:e,row:t.rows[0],editor:{template:"input"}})
i.element.value=e.label,i.focus(),e.headerEditor=i,e.element.setAttribute("edit",""),e.element.label.appendChild(i.element),i.attach(),t.editing.isEditing=!0,t.$.fireEvent("beginEdit",{row:null,column:e,cell:null})}}_endColumnEdit(e){if(!1===this.editing.isEditing||this.editing.isEditing&&null===this.editing.editColumn)return!1
const t=this.editing.editColumn
return t.canNotify=!1,t.headerEditor.detach(),t.headerEditor.element.parentNode.removeChild(t.headerEditor.element),!0!==e&&(t.label=t.headerEditor.getValue()),t.headerEditor=null,this.editing.isEditing=!1,t.element.removeAttribute("edit"),t.element.scrollLeft=0,this.editing.editColumn=null,t.canNotify=!0,t.refresh(),this._recycle(),!0}_cancelColumnEdit(){this._endColumnEdit(!0)}_onCellClick(e,t){const i=this
if(e.row.addNewRow)"far"===e.row.freeze?i._insertNewRowAfter():i._insertNewRowBefore()
else if(i.editing.enabled)if(i.editing.editColumn)i.endEdit()
else{if(i.editing.commandColumn.visible)if(e.column.commandColumn){const n=(i.enableShadowDOM?i.shadowRoot:i.getRootNode()).elementsFromPoint(t.clientX,t.clientY)
let r=null
for(let e=0;e<n.length;e++)if(n[e].classList.contains("jqx-grid-command-item")){r=n[e]
break}if(r||(r=e.element.querySelector(".jqx-grid-command-item")),r&&!r.classList.contains("jqx-hidden")){const n=r.getAttribute("command")
return void i._applyCommand(n,[e.row,t])}}else if(i.editing.commandColumn.inline){const e=(i.enableShadowDOM?i.shadowRoot:i.getRootNode()).elementsFromPoint(t.pageX,t.pageY)
for(let t=0;t<e.length;t++)if(e[t].classList.contains("jqx-grid-command-item"))return}if("none"===i.editing.action&&i.editing.isEditing){let t=!1
i.editing.editCell&&i.editing.editCell.row!==e.row&&(t=!0),i.editing.editRow&&i.editing.editRow!==e.row&&(t=!0),i.editing.editColumn&&(t=!0),t&&i.endEdit()}if(e.column.autoGenerated)i.editing.allowRowHeaderEdit&&e.column.rowHeaderColumn&&(i.editing.isEditing&&i.endEdit(),i._beginCellEdit(e,t))
else if("click"===i.editing.action&&(!i.selection.enabled||e.selected||"extended"!==i.selection.mode))if("cell"===i.editing.mode){const n=e.parent()
i.ensureVisible(e.row.id,e.column.dataField),setTimeout(function(){n?i._beginCellEdit(n,t):i._beginCellEdit(e,t)},25)}else"row"===i.editing.mode&&i._beginRowEdit(e.row,e,t)}}_onCellDoubleClick(e,t){const i=this
i.editing.enabled&&("doubleClick"!==i.editing.action||i.editing.isEditing||e.column.autoGenerated||("cell"===i.editing.mode?i._beginCellEdit(e,t):"row"===i.editing.mode&&i._beginRowEdit(e.row,e,t)))}_onRowClick(){}_onRowDoubleClick(){}beginEdit(e,t){const i=this,n=i.rowById[e]
n&&i._beginEdit(n,t)}cancelEdit(){const e=this
if(e.editing.editRow){const t=e.editing.editRow.cells
for(let e=0;e<t.length;e++){const i=t[e],n=i.element
0===e&&i.row.element.removeAttribute("edit"),n&&(n.removeAttribute("editor"),n.removeAttribute("error"),n.content.innerHTML=""),i.isEditing=!1}e.editing.editRow=null}else e.editing.editCell?(e.editing.editCell.row.element.removeAttribute("edit"),e.editing.editCell.element.removeAttribute("editor"),e.editing.editCell.element.removeAttribute("error"),e.editing.editCell.element.content.innerHTML="",e.editing.editCell.isEditing=!1,e.editing.editCell=null):e.editing.editColumn&&e._cancelColumnEdit()
e.editing.dialog.visible&&e.editing.dialog.enabled&&e._dialogEdit.close(),e.editing.isEditing=!1,e._recycle(!1),e.editing.commandColumn.visible&&e.refresh(),e.focus()}deleteRow(e,t){const i=this,n=i.rowById[e]
if(!n)return!1
const r=function(e){if(!0===i.editing.batch||i.editing.batch&&i.editing.batch.indexOf("delete")>=0)i._batchDeleteRow(e)
else{const t=i.rows.indexOf(e)
i.rows.splice(t,1)}t&&t(e)}
return i.editing.deleteDialog.enabled?i._openDeleteRowDialog(n,r):r(n),!0}addUnboundRow(e,t){const i=this
void 0===e&&(e=1),void 0===t&&(t="far"),i._nearRowsAdded||(i._nearRowsAdded=[],i._farRowsAdded=[]),i._unboundRows||(i._unboundRows=[]),i.beginUpdate()
for(let n=0;n<e;n++){const e=JQX.Utilities.Core.createGUID().replace(/-/gi,""),n=new JQX.Grid.Row({index:-1,unbound:!0,id:e,grid:i})
i.rowById[n.id]=n,"far"===t?i._farRowsAdded.push(n):i._nearRowsAdded.push(n),i._unboundRows.push(n)}i.endUpdate()}addNewRow(e){const t=this
"near"===e?t._insertNewRowBefore():t._insertNewRowAfter()}endEdit(){const e=this
let t=!1,i=null
e.editing.dialog.enabled&&e.editing.dialog.visible&&e._dialogEdit&&e._dialogEdit.close()
let n=null,r=null,o=null
return e.editing.editRow?(r=e.editing.editRow,i=e.editing.editRow.id,t=e._endRowEdit()):e.editing.editCell?(r=e.editing.editCell.row,o=e.editing.editCell.column,n=e.editing.editCell,i=e.editing.editCell.row.id,t=e._endCellEdit()):e.editing.editColumn&&(i=null,o=e.editing.editColumn,t=e._endColumnEdit()),e._saveUnboundRows(i),e._selection.selectionRect&&e._selection.selectionRect.classList.remove("jqx-visibility-hidden"),e.$.scrollView.scrollTop=0,e.$.fireEvent("endEdit",{row:r,column:o,cell:n}),t}getBatchEditChanges(){const e=this,t=[],i=[],n=[]
for(let i in e._cellsUpdatedValues){const n=e._cellsUpdatedValues[i],r=i.substring(0,i.indexOf("_")),o=i.substring(i.indexOf("_")+1),a=e.rowById[r].getCell(o)
t.push({id:r,dataField:o,oldValue:a.value,newValue:n})}if(e._rowsDeleted&&e._rowsDeleted.length>0)for(let t=0;t<e._rowsDeleted.length;t++){const n=e._rowsDeleted[t]
i.push({id:n.id,data:n})}if(e._rowsAdded&&e._rowsAdded.length>0)for(let t=0;t<e._rowsAdded.length;t++){const i=e._rowsAdded[t]
n.push({id:i.id,data:i})}return{updated:t,deleted:i,added:n}}saveBatchEdit(){this._saveBatchEdit()}revertBatchEdit(){this._clearBatchEdit(!0)}})
var Be=Object.freeze({})
JQX.Utilities.Assign("Grid.Tree",class{_setRowProperty(e,t,i){const n=this.rowById[e]
n&&(n[t]=i)}_setRowsProperty(e,t,i){this._refreshRowHierarchy(!0),this._refreshLayout()
const n=this._recyclingRows
this.rows.canNotify=!1
for(let r=0;r<n.length;r++){const o=n[r]
i&&-1===i.indexOf(o.id)||(o[e]=t)}this.rows.canNotify=!0,this.refresh()}_applyThreeStates(e){const t=this,i=e!==t.rowHierarchy,n=i?e.children:t.rowHierarchy.filter(e=>{if(0===e.level)return e})
let r=0,o=0
for(let a=0;a<n.length;a++){const s=n[a]
e.checked&&(s.checked=!0),!1===s.leaf&&t._applyThreeStates(s),i&&(s.checked?r++:null===s.checked&&o++)}i&&(r===e.children.length?e.checked=!0:0===r&&0===o?e.checked=!1:t.checkBoxes.hasThreeStates?e.checked=null:e.checked=!1)}_hasThreeStates(e,t){const i=this
let n=e
for(e!==t&&(e.checked?e.checked=!1:e.checked=!0);n.parent;){const e=n.parent,t=e.children
let r=0,o=0
for(let e=0;e<t.length;e++)t[e].checked?r++:i.checkBoxes.hasThreeStates&&null===t[e].checked&&o++
r===e.children.length?e.checked=!0:0===r&&0===o?e.checked=!1:i.checkBoxes.hasThreeStates?e.checked=null:e.checked=!1,n=e}e.leaf||function e(t,i){const n=t.children
for(let t=0;t<n.length;t++){const r=n[t]
r.checked=i,!1===r.leaf&&e(r,i)}}(e,e.checked)}expandRow(e){const t=this
e&&Array.isArray(e)?t._setRowsProperty("expanded",!0,e):t._setRowProperty(e,"expanded",!0)}expandAllRows(){this._setRowsProperty("expanded",!0)}collapseAllRows(){this._setRowsProperty("expanded",!1)}toggleRow(e){const t=this.rowById[e]
t&&(t.expanded?t.expanded=!1:t.expanded=!0)}collapseRow(e){const t=this
e&&Array.isArray(e)?t._setRowsProperty("expanded",!1,e):t._setRowProperty(e,"expanded",!1)}checkRow(e){const t=this
e&&Array.isArray(e)?t._setRowsProperty("checked",!0,e):t._setRowProperty(e,"checked",!0)}uncheckRow(e){const t=this
e&&Array.isArray(e)?t._setRowsProperty("checked",!1,e):t._setRowProperty(e,"checked",!1)}checkAllRows(){this._setRowsProperty("checked",!0)}uncheckAllRows(){this._setRowsProperty("checked",!1)}})
var Le=Object.freeze({})
JQX.Utilities.Assign("Grid.Export",class{exportData(e,t){const i=this,n=new JQX.Utilities.DataExporter({exportHeader:i.dataExport.header}),r=[]
if(n.expandChar=i.dataExport.expandChar,n.collapseChar=i.dataExport.collapseChar,n.pageOrientation=i.dataExport.pageOrientation,n.style=i.dataExport.style,n.filterBy=i.dataExport.filterBy,n.groupBy=i.dataExport.groupBy,n.header={columns:i.columns.toArray().slice(0),columngroups:i.columnGroups.slice(0)},!i.dataExport.style){const t=window.getComputedStyle(i),o=window.getComputedStyle(i.columns.length>0&&i.columns[0].element?i.columns[0].element:i.$.columnHeader),a=window.getComputedStyle(i.$.columnHeader)
if(!(0===i.offsetWidth||0===i.offsetHeight)){const s=e=>{const t=e.fontSize,i=e.borderRightColor,n=e.backgroundColor,r=e.color,o=new Array("0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f")
function a(e){return(e=e.match(/^rgb\((\d+),\s*(\d+),\s*(\d+)\)$/))?"#"+s(e[1])+s(e[2])+s(e[3]).toUpperCase():"#ffffff"}function s(e){return isNaN(e)?"00":o[(e-e%16)/16]+o[e%16]}return{borderColor:a(i),fontSize:t,fontFamily:"Helvetica",color:a(r),backgroundColor:a(n)}},l=s(t),d=s(o),c=s(a),h={height:i.$.columnHeader.offsetHeight+"px",border:"1px solid "+l.borderColor,fontFamily:c.fontFamily,fontSize:c.fontSize,color:c.color,backgroundColor:d.backgroundColor,fontWeight:"400"},u={border:"1px solid "+l.borderColor,fontFamily:l.fontFamily,fontSize:l.fontSize},p={height:i.rowMinHeight+"px"}
for(let t=0;t<i.columns.length;t++){const n=i.columns[t]
if(!n.allowExport)continue
if(!n.visible)continue
h[n.dataField]={textAlign:n.align,width:n.computedWidth+"px",format:n.cellsFormat||""}
let o=n.cellsFormat||""
"date"===n.dataType?o="d":"dateTime"===n.dataType?o="D":"time"===n.dataType&&(o="t")
const a={textAlign:n.cellsAlign,format:o}
if(u[n.dataField]=a,i.dataExport.view&&-1!==["html","jpeg","pdf","png"].indexOf(e)&&(n.template||n.formatFunction))for(let e=0;e<i.rows.length;e++){const t=i.rows[e]
let o=i.rows[e]["column_"+n.dataField]
if(i.dataExport.viewStart&&e<i.dataExport.viewStart||i.dataExport.viewEnd&&e>i.dataExport.viewEnd)continue
if(!o||t&&t.element&&t.element.classList.contains("jqx-hidden")){const e=i._rowElements[0]
if(!e)continue
if(t.element=e,t.grid=i,t.render(),!(o=t["column_"+n.dataField]))continue}const s={}
s.border=o.borderColor,s.background=o.background,s.color=o.color
const l=void 0!==i.dataExport.viewStart?e-i.dataExport.viewStart:e
r[e]=Object.assign({},t.data),r[e][n.dataField]=o.element.textContent,a[l]=s}}i.appearance.alternationCount>0&&(p.alternationCount=i.appearance.alternationCount,p.alternationStart=i.appearance.alternationStart,p.alternationEnd=i.appearance.alternationEnd,p.alternationIndex0Color=l.color,p.alternationIndex0BackgroundColor=l.backgroundColor,p.alternationIndex1Color=l.color,p.alternationIndex1BackgroundColor="#F5F5F5"),n.style={border:"1px solid "+l.borderColor,borderCollapse:"collapse",header:h,columns:u,rows:p}}}const o=!i.rowHierarchy||i.grouping.enabled?i.rows.toArray():i.rowHierarchy,a=i.dataExport.rowIds,s=null!==a
let l=[]
if(i.dataExport.view)i._recyclingRows.forEach((e,t)=>{if(i.dataExport.viewStart&&t<i.dataExport.viewStart||i.dataExport.viewEnd&&t>i.dataExport.viewEnd)return!0
r[t]?l.push(r[t]):l.push(e.data)})
else{for(let e=0;e<o.length;e++){const t=o[e]
if(t.visible&&(!1!==t.filtered||void 0===t.filtered)){if(s&&-1===a.indexOf(t.id))continue
l.push(t.data)}}o!==i.rowHierarchy||s||(l=i.dataSource.boundHierarchy,n.hierarchical=!0)}!i.dataExport.groupBy&&i.grouping.enabled&&i.dataSource&&i.dataSource.groupBy&&(n.groupBy=i.dataSource.groupBy&&i.dataSource.groupBy.toArray?i.dataSource.groupBy.toArray():null),i.checkLicense(!0)
const d=n.exportData(l,e,i.dataExport.fileName,t)
return i.dataExport.view&&i._recycle(!1),d}print(){const e=this.dataExport.fileName
this.dataExport.fileName=null
const t=this.exportData("html"),i=window.open("","","width=800,height=500"),n=i.document.open(),r='<!DOCTYPE html><html><head><meta charset="utf-8" /><title>'+e+"</title></head><body>"+t+"</body></html>"
try{n.write(r),n.close(),setTimeout(function(){i.print(),i.close()},100)}catch(e){}this.dataExport.fileName=e}})
var Re=Object.freeze({})
JQX.Utilities.Assign("Grid.Resize",class{autoSizeRows(e){const t=this,i=e||t._recyclingRows
t.rows.canNotify=!1
for(let e=0;e<i.length;e++){const n=i[e]
n.element=t._rowElements[1],n.grid=t
const r=n._autoSize(n)
n.cellHeight!==r&&(n.cellHeight=r),n.height=r}t.rows.canNotify=!0,t.refresh()}autoSizeColumns(e,t){const i=this,n=t||i.columns
let r=[]
if(!e){const e=i._recyclingRows
for(let t=0;t<e.length;t++){const i=e[t]
for(let e=0;e<n.length;e++){const t=n[e],o=i.getCell(t.dataField)
r[t.dataField]||(r[t.dataField]=t.label),o.value&&o.value.toString().length>r[t.dataField].length&&(r[t.dataField]=o.value)}}}const o=[]
for(let e=0;e<n.length;e++){const t=n[e],i=r[t.dataField]?r[t.dataField]:t.label
o.push(i)}const a=n[0]._measureSize(o)
i.columns.canNotify=!1
for(let e=0;e<n.length;e++){n[e].width=a[e]}i.columns.canNotify=!0,i.refresh()}_doubleClickHandler(e){const t=this
if("none"!==t.behavior.rowResizeMode||"none"!==t.behavior.columnResizeMode){if(!!t._downTime&&new Date-t._downTime<300){const i=(t.enableShadowDOM?t.shadowRoot:t.getRootNode()).elementsFromPoint(e.clientX,e.clientY)
let n=null,r=null,o=null,a=null
for(let e=0;e<i.length;e++){const t=i[e]
if(t.getAttribute("data-field")){n=t.getAttribute("data-field"),r=t
break}if(t.getAttribute("data-id")){o=t.getAttribute("data-id"),a=t
break}}const s=t.columnByDataField[n],l=t.rowById[o]
if(t.appearance.allowColumnAutoSizeOnDoubleClick&&s&&s.allowResize&&"none"!==t.behavior.columnResizeMode){const t=r.getBoundingClientRect().right,i=10
t-i<=e.clientX&&e.clientX<=t+i&&s.autoSize()}if(t.appearance.allowRowAutoSizeOnDoubleClick&&l&&l.allowResize&&"none"!==t.behavior.rowResizeMode){const t=a.getBoundingClientRect().bottom,i=10
t-i<=e.clientY&&e.clientY<=t+i&&(l.computedHeight=null,l.autoSize())}}t._downTime=new Date}}_endResize(){const e=this
e._overlay&&(e._overlay.parentNode.removeChild(e._overlay),e._overlay=null)
const t=e.getBoundingRect(e)
if(e.classList.remove("jqx-grid-resize-mode"),e.$.root.classList.remove("jqx-grid-resize-mode"),e.classList.remove("jqx-grid-row-resize-mode"),e.classList.remove("jqx-grid-column-resize-mode"),e._rowToResize&&e._rowResizeStartLine&&e._rowResizeLine){const t=e.rowById[e._rowToResizeId],i=t.cellHeight+parseFloat(e._rowResizeLine.style.top)-parseFloat(e._rowResizeStartLine.style.top),n=t.cellHeight
if(e.rows.canNotify=!1,t.height=null,"split"===e.behavior.rowResizeMode){const n=e._nextRow(t),r=parseInt(t.height-i+t.cellHeight)
t.computedHeight=i,n.computedHeight=parseInt(n.height)+r,n.height=null}else t.computedHeight=i
return e.rows.canNotify=!0,e._rowResizeStartLine.parentNode.removeChild(e._rowResizeStartLine),e._rowResizeLine.parentNode.removeChild(e._rowResizeLine),e.appearance.showResizeTooltips&&e._rowResizeTooltip.parentNode.removeChild(e._rowResizeTooltip),e._rowToResize.header&&(e._rowToResize.header.style.cursor=""),e._rowResizeLine=null,e._rowToResize=null,e._rowToResizeId=null,e.refresh(),void e.$.fireEvent("rowResize",{row:t,oldHeight:n,height:i})}if(!e._columnToResizeElement||!e._columnResizeLine)return
const i=e.columnByDataField[e._columnToResizeDataField],n=e._columnToResizeRect
let r=t.left+parseInt(e._columnResizeLine.style.left)-n.left+e.scrollLeft
const o=i.width
if(e.rightToLeft&&(r=t.left-parseFloat(e._columnResizeLine.style.left)+n.right-e.scrollLeft-e._scrollView.vScrollBar.offsetWidth),r<i.minWidth&&(r=i.minWidth),e.columns.canNotify=!1,"split"===e.behavior.columnResizeMode){const t=e._nextColumn(i),n=parseInt(i.computedWidth-r)
i.width=r,t.width=parseInt(t.computedWidth)+n}else i.width=r
e.columns.canNotify=!0,e._columnResizeLine.parentNode.removeChild(e._columnResizeLine),e._columnResizeLine=null,e._columnResizeStartLine.parentNode.removeChild(e._columnResizeStartLine),e._columnResizeTooltip.parentNode&&e._columnResizeTooltip.parentNode.removeChild(e._columnResizeTooltip),e._columnResizeStartLine=null,e._columnToResizeElement.style.cursor="",e._columnToResizeElement.sortButton.style.cursor="",e._columnToResizeElement.filterButton.style.cursor="",e._columnToResizeElement=null,e._columnToResizeRect=null,e._columnToResizeDataField=null,e._columnResizeTooltip=null,e.refresh(),e.$.fireEvent("columnResize",{column:i,oldWidth:o,width:r})}_columnDownResizeHandler(){const e=this,t=e._columnToResizeRect,i=e.getBoundingRect(e.$.columnHeader)
if(e._dragDetails)return
const n=function(){const n=document.createElement("div")
return n.classList.add("jqx-grid-resize-line"),e.rightToLeft?n.style.left=-i.left+t.left+"px":n.style.left=-i.left+t.right+"px",n.style.top=-i.top+t.top+"px",n.style.height="calc(100% - "+n.style.top+")",n.style.cursor="col-resize",n},r=document.createElement("div")
r.classList.add("jqx-grid-resize-tooltip"),e._columnResizeTooltip=r,e._columnResizeTooltip.style.left=-i.left+t.right+"px",e.rightToLeft&&(e._columnResizeTooltip.style.left=-i.left+t.left+"px"),e._columnResizeTooltip.innerHTML=e.localize("columnResizeTooltip",{value:t.width}),e._columnResizeLine=n(),e._columnResizeStartLine=n(),"growAndShrink"===e.behavior.columnResizeMode&&(e.classList.add("jqx-grid-resize-mode"),e.classList.add("jqx-grid-column-resize-mode"),e.$.root.classList.add("jqx-grid-resize-mode")),e.appearance.showResizeTooltips&&e.$.root.appendChild(e._columnResizeTooltip),e.$.root.appendChild(e._columnResizeLine),e.$.root.appendChild(e._columnResizeStartLine),e._overlay=document.createElement("div"),e._overlay.classList.add("jqx-grid-overlay"),e._overlay.style.cursor="col-resize",e.$.root.appendChild(e._overlay)}_columnMoveResizeHandler(e){const t=this
if(t._dragDetails)return
const i=function(e){const i=t._columnToResizeRect
let n=e.left+parseFloat(t._columnResizeLine.style.left)-i.left+t.scrollLeft
t.rightToLeft&&(n=e.left-parseFloat(t._columnResizeLine.style.left)+i.right-t.scrollLeft-t._scrollView.vScrollBar.offsetWidth)
const r=t.columnByDataField[t._columnToResizeDataField]
n<r.minWidth&&(n=r.minWidth),t.appearance.showResizeTooltips&&(t._columnResizeTooltip.innerHTML=t.localize("columnResizeTooltip",{value:parseInt(n)}))}
if(t._columnResizeLine){const n=t.columnByDataField[t._columnToResizeDataField],r=t._columnToResizeRect,o=n.minWidth,a=n.maxWidth,s=t._nextColumn(n),l=t.getBoundingRect(t)
if(t.rightToLeft){if(e.pageX>l.right)return
if("split"===t.behavior.columnResizeMode&&s&&e.pageX<=t.offsetWidth-t.scrollLeft-s.left-s.computedWidth+s.minWidth)return t._columnResizeLine.style.left=t.offsetWidth-t.scrollLeft-s.left-s.computedWidth+s.minWidth+"px",void i(l)
if(r.right-o-t.scrollLeft<=e.pageX)return t._columnResizeLine.style.left=-l.left+r.right-o-t.scrollLeft+"px",void i(l)
if(r.left+a-t.scrollLeft>=e.pageX)return t._columnResizeLine.style.left=-l.left+r.right-a-t.scrollLeft+"px",void i(l)
t._columnResizeLine.style.left=-l.left+e.pageX+"px",i(l)}else{if(e.pageX<l.left)return
if("split"===t.behavior.columnResizeMode&&s&&e.pageX>=l.left+s.left+s.computedWidth-s.minWidth-t.scrollLeft)return t._columnResizeLine.style.left=-l.left+l.left+s.computedWidth+s.left-s.minWidth-t.scrollLeft+"px",void i(l)
if(r.left+o-t.scrollLeft>=e.pageX)return t._columnResizeLine.style.left=-l.left+r.left+o-t.scrollLeft+"px",void i(l)
if(r.left+a-t.scrollLeft<=e.pageX)return t._columnResizeLine.style.left=-l.left+r.left+a-t.scrollLeft+"px",void i(l)
t._columnResizeLine.style.left=-l.left+e.pageX+"px",i(l)}}else{const t=this
if(e.composedPath&&-1===e.composedPath().indexOf(this))return
const i=(t.enableShadowDOM?t.shadowRoot:t.getRootNode()).elementsFromPoint(e.clientX,e.clientY)
let n=null,r=null
if(t._columnResizeLine)return
for(let e=0;e<i.length;e++){const t=i[e]
if(t.hasAttribute("data-field")&&t.hasAttribute("header")){n=t.getAttribute("data-field"),r=t
break}}if(t._columnToResizeElement&&(t._columnToResizeElement.style.cursor="",t._columnToResizeElement.sortButton.style.cursor="",t._columnToResizeElement.filterButton.style.cursor="",t._columnToResizeElement=null),n){const i=t.rightToLeft?r.getBoundingClientRect().left:r.getBoundingClientRect().right
if(r.style.cursor="",r.sortButton.style.cursor="",r.filterButton.style.cursor="",i-5<=e.clientX&&e.clientX<=i+5){const e=t.columnByDataField[n]
if(!e||e&&!e.allowResize)return
const i=t._isLastVisibleColumn(e)
if("split"===t.behavior.columnResizeMode&&i)return
r.style.cursor="col-resize",r.sortButton.style.cursor="col-resize",r.filterButton.style.cursor="col-resize",t._columnToResizeRect=t.getBoundingRect(r),t._columnToResizeElement=r,t._columnToResizeDataField=n}}}}_rowMoveResizeHandler(e){const t=this,i=(t.enableShadowDOM?t.shadowRoot:t.getRootNode()).elementsFromPoint(e.clientX,e.clientY)
let n=null,r=null
if(t._rowResizeLine){const i=t._offsetTop(t.$.scrollView),n={top:i,bottom:t.$.scrollView.offsetHeight+i}
if(e.pageY<=n.top)return
if(e.pageY>=n.bottom)return
const r=function(){const e=o.cellHeight+parseFloat(t._rowResizeLine.style.top)-parseFloat(t._rowResizeStartLine.style.top)
t.appearance.showResizeTooltips&&(t._rowResizeTooltip.innerHTML=t.localize("rowResizeTooltip",{value:parseInt(e)}))},o=t.rowById[t._rowToResizeId],a=t._nextRow(o),s=t._rowToResizeBounds,l=o.minHeight,d=o.maxHeight
return"split"===t.behavior.rowResizeMode&&a&&s.bottom+a.height-a.minHeight<=e.pageY?(t._rowResizeLine.style.top=s.bottom+a.height-a.minHeight-i+"px",void r()):s.top+l+5>=e.pageY?(t._rowResizeLine.style.top=s.top+l+5-i+"px",void r()):s.top+d>=e.pageY-i?(t._rowResizeLine.style.top=s.top+d+5-i+"px",void r()):(t._rowResizeLine.style.top=-i+e.pageY-1+"px",void r())}for(let e=0;e<i.length;e++){const t=i[e]
if(t.hasAttribute("data-id")&&t.hasAttribute("header")){r=t,n=t.getAttribute("data-id")
break}}if(t._rowToResize&&(t._rowToResize.style.cursor="",t._rowToResize=null),null!==n){const i=t._offsetTop(r)+r.offsetHeight
if(r.style.cursor="",i-5<=e.clientY&&e.clientY<=i+5){const e=t.rowById[n]
if(!e||e&&!e.allowResize)return
e.header&&(e.header.style.cursor="row-resize")
const i=t._offsetTop(r)
t._rowToResizeBounds={top:i,bottom:r.offsetHeight+i,height:r.offsetHeight},t._rowToResize=r,t._rowToResizeId=n}}}_rowDownResizeHandler(){const e=this,t=e._rowToResizeBounds,i=function(){const i=document.createElement("div")
return i.classList.add("jqx-grid-resize-line","row"),i.style.width=e.$.scrollView.offsetWidth-e._rowToResize.offsetLeft+"px",i.style.left="0px",i.style.top=-e._offsetTop(e.$.scrollView)+t.bottom+"px",i.style.cursor="row-resize",i},n=document.createElement("div")
n.classList.add("jqx-grid-resize-tooltip"),e._rowResizeTooltip=n,e._rowResizeTooltip.style.top=-e._offsetTop(e.$.scrollView)+t.bottom+"px",e._rowResizeTooltip.innerHTML=e.localize("rowResizeTooltip",{value:t.height}),e._rowResizeTooltip.style.right="20px",e._rowResizeTooltip.style.bottom="initial","growAndShrink"===e.behavior.rowResizeMode&&(e.classList.add("jqx-grid-resize-mode"),e.classList.add("jqx-grid-row-resize-mode"),e.$.root.classList.add("jqx-grid-resize-mode")),e._rowResizeLine=i(),e._rowResizeStartLine=i(),e._overlay=document.createElement("div"),e._overlay.classList.add("jqx-grid-overlay"),e._overlay.style.cursor="row-resize",e.$.root.appendChild(e._overlay),e.$.scrollView.appendChild(e._rowResizeLine),e.$.scrollView.appendChild(e._rowResizeStartLine),e.appearance.showResizeTooltips&&e.$.scrollView.appendChild(e._rowResizeTooltip)}_rowResizeHandler(e){const t=this
let i=e.clientX,n=e.clientY
void 0!==i&&void 0!==n||(i=e.touches[0].clientX,n=e.touches[0].clientY)
const r=(t.enableShadowDOM?t.shadowRoot:t.getRootNode()).elementsFromPoint(i,n)
let o=null
for(let e=0;e<r.length;e++){const t=r[e]
t.getAttribute("data-id")&&(o=t.getAttribute("data-id"))}null===o||!t._rowToResize||t._rowResizeLine||t._rowDownResizeHandler(e)}})
var He=Object.freeze({})
JQX.Utilities.Assign("Grid.Reorder",class{_createLine(e){const t=this
return e.classList.contains("jqx-breadcrumb-item")||e.column?function(){const i=document.createElement("div"),n=t.getBoundingRect(e),r=t.getBoundingRect(t.$.columnHeader),o=t.getBoundingRect(t),a=t.$.content.offsetHeight-7-t._scrollView.hScrollBar.offsetHeight-n.top+o.top
return i.classList.add("jqx-grid-drag-line"),t.rightToLeft?i.style.left=-r.left+n.left+"px":i.style.left=-r.left+n.right+"px",i.style.top=n.top-o.top+"px",i.style.height=a+"px",i.style.opacity=0,i}():function(){const i=document.createElement("div"),n=t.getBoundingRect(e)
return i.classList.add("jqx-grid-drag-line","row"),i.style.width=t.$.scrollView.offsetWidth-e.offsetLeft-e.row.header.offsetWidth-t._scrollView.vScrollBar.offsetWidth+"px",i.style.left=e.row.header.offsetWidth+"px",i.style.top=n.bottom-t.offsetTop+"px",i.style.opacity=0,i}()}_drag(e){const t=this,i=e.originalEvent
if(!t._dragDrop)return
let n=t._dragDrop.dragDetails.feedback
if(!n&&t._dragDrop.showFeedback){if(!(n=t._dragDrop.createFeedback(i)))return
if(t._overlay=document.createElement("div"),t._overlay.classList.add("jqx-grid-overlay"),t._overlay.style.cursor="",t.$.root.appendChild(t._overlay),t._dragDrop.column)t._dragLine=t._createLine(t._dragDrop.column.element),t.$.root.appendChild(t._dragLine),requestAnimationFrame(()=>{t._dragLine.style.opacity=1}),t._dragDrop.feedbackLine=t._dragLine
else{const e=t._dragDrop.row
let i="<div>"
for(let n=0;n<t.columns.length;n++){const r=t.columns[n]
i+="<div>"+r.label+": "+e["column_"+r.dataField].value+"</div>"}t._dragDrop.items=t._rowElements,t._dragDrop.getItemCoordinates(t._rowElements),i+="</div>",n.innerHTML=i,t._dragLine=t._createLine(t._dragDrop.row.element),t.$.root.appendChild(t._dragLine),requestAnimationFrame(()=>{t._dragLine.style.opacity=1}),n.classList.add("jqx-grid-row-drag-feedback"),t._dragDrop.feedbackLine=t._dragLine}}t._dragDrop.drag(e),t._dragDrop.column?t._dragColumn(e):t._dragRow(e),i.preventDefault()}_dragRow(e){const t=this,i=t._dragDrop.dragDetails,n=t._dragLine,r=e.originalEvent,o=t.getBoundingRect(t)
if(e.pageY<o.top||e.pageY>o.bottom||e.pageX<o.left||e.pageX>o.right||i.target&&!i.target.row||!i.target)t._dragDrop.error(),n.style.opacity=0
else{if(t._dragDrop.getItemCoordinates(t._dragDrop.items),n.style.opacity=1,t._dragDrop.success(),!i.target)return
let r=t.getBoundingRect(i.target)
n.style.width=t.$.scrollView.offsetWidth-t._dragDrop.row.offsetLeft-t._dragDrop.row.header.offsetWidth-t._scrollView.vScrollBar.offsetWidth+"px",n.style.left=t._dragDrop.row.header.offsetWidth+"px"
let a=r.top-t.offsetTop-t.scrollTop
t._recyclingRows[t._recyclingRows.length-1].element===i.target&&e.pageY>o.bottom-10&&(i.before=!1),e.pageY>a+t.offsetTop+r.height-7&&(i.before=!1),n.style.top=i.before?a+"px":a+r.height-7+"px"}t.$.fireEvent("rowDragging",{row:t._dragDrop.row,index:t._dragDrop.visibleIndex,data:t._dragDrop,originalEvent:r})}_dragColumn(e){const t=this,i=t._dragDrop.dragDetails,n=t.getBoundingRect(t),r=e.originalEvent
if(e.pageY<n.top||e.pageY>n.bottom||e.pageX<n.left||e.pageX>n.right?(t._dragDrop.error(),t._dragLine.style.opacity=0):t._dragLine.style.opacity=1,i.target&&t._dragDrop.feedback&&!t._dragDrop.feedback.classList.contains("error")){t._dragDrop.getItemCoordinates(t._dragDrop.items)
const e=t.getBoundingRect(i.target),r=t.getBoundingRect(t.$.content)
if(t._dragDrop.column){if(t._dragLine.style.opacity=1,!1===i.before?t._dragLine.style.left=-t.offsetLeft+e.right-t.scrollLeft+"px":t._dragLine.style.left=-t.offsetLeft+e.left-t.scrollLeft+"px",i.target.classList.contains("jqx-breadcrumb-item"))t._dragLine.style.top=e.top-n.top-t.scrollTop+"px",t._dragLine.style.height=e.height+"px",t.$.breadcrumb.dataSource.forEach(e=>{e.value===i.item.column.dataField&&(t._dragLine.style.opacity=0,t._dragDrop.error())})
else{t._dragLine.style.top=e.top-n.top-t.scrollTop+"px"
const i=t.$.content.offsetHeight-7-t._scrollView.hScrollBar.offsetHeight-e.top+r.top
t._dragLine.style.height=i+"px"}parseInt(t._dragLine.style.left)<3?t._dragLine.style.left="3px":parseInt(t._dragLine.style.left)>=t.offsetWidth-3&&(t._dragLine.style.left=t.offsetWidth-7+"px")}}else t._dragLine.style.opacity=0
t.$.fireEvent("columnDragging",{column:t._dragDrop.column,index:t.columns.indexOf(t._dragDrop.column),data:t._dragDrop,originalEvent:r})}_beginRowDrag(e,t){const i=this
let n=!1
if(i.behavior.allowRowReorder&&t.allowReorder&&(n=!0),!n)return
i.$.fireEvent("rowDragStart",{row:t,index:t.visibleIndex,data:null,originalEvent:e.originalEvent}).defaultPrevented||(i._dragDrop=new JQX.Utilities.DragDrop(i),i._dragDrop.capture(t.element,e),i._dragDrop.row=t,i._recycle(!1),i._dragInterval&&clearInterval(i._dragInterval),i._dragInterval=setInterval(function(){const e=i._dragDrop.dragDetails
if(!e.feedback)return
const t=parseInt(e.feedback.style.left),n=parseInt(e.feedback.style.top),r=i.getBoundingClientRect()
i._dragLine&&r.left<=t&&r.left+r.width>=t&&(n>=r.top&&n<=r.top+20?i.scrollTop-=5:n>=r.top+r.height+5&&n<=r.top+r.height+20&&(i.scrollTop+=5))},10))}_beginDrag(e,t){const i=this
if(!t.dataField)return void i._beginRowDrag(e,t)
const n=t
if(i.behavior.allowColumnReorder&&n.allowReorder){if(!i.$.fireEvent("columnDragStart",{column:n,index:i.columns.indexOf(n),data:null,originalEvent:e.originalEvent}).defaultPrevented){i._dragDrop=new JQX.Utilities.DragDrop(i),i._dragDrop.capture(n.element,e),i._dragDrop.column=n
const t=i.columns.map(e=>e.element)
i.$.breadcrumb?i._dragDrop.items=t.concat(i.$.breadcrumb._items):i._dragDrop.items=t,i._dragInterval&&clearInterval(i._dragInterval),i._dragInterval=setInterval(function(){const e=i._dragDrop.dragDetails
if(!e.feedback)return
const t=parseInt(e.feedback.style.left),n=i.getBoundingClientRect()
i._dragLine&&n.left<=t&&n.left+n.width>=t&&(t>=n.left&&t<=n.left+20?i.scrollLeft-=5:t>=n.left+n.width-20&&t<=n.left+n.width&&(i.scrollLeft+=5))},3)}}}_cancelDrag(){const e=this
e._dragLine&&(e._dragLine.parentNode&&e._dragLine.parentNode.removeChild(e._dragLine),e._dragLine=null),e._dragDrop&&(e._dragDrop.removeFeedback(),e._dragDrop=null),e._dragInterval&&clearInterval(e._dragInterval),e._recycle()}_endDrag(e){const t=this
if(t._dragDrop){const i=t._dragDrop.dragDetails
if(!i.feedback||i.feedback&&i.feedback.classList.contains("error")&&!i.feedback.classList.contains("data"))return void t._cancelDrag()
if(e.key&&"Escape"===e.key)return t._dragDrop.column?t.$.fireEvent("columnDragCancel",{column:i.item.column,index:t.columns.indexOf(t._dragDrop.column),data:t._dragDrop}):t._dragDrop.row&&t.$.fireEvent("rowDragCancel",{row:t._dragDrop.row,index:t._dragDrop.row.visibleIndex,data:t._dragDrop}),void t._cancelDrag()
t.beginUpdate()
let n=i.target
const r=i.before
if(t._dragDrop.column){if(n&&n.column&&"Escape"!==e.key&&!i.feedback.classList.contains("data")){if(!t.$.fireEvent("columnDragEnd",{column:t._dragDrop.column,index:t.columns.indexOf(t._dragDrop.column),newIndex:t.columns.indexOf(n.column),data:t._dragDrop,originalEvent:e.originalEvent}).defaultPrevented){const e=t.columns.indexOf(t._dragDrop.column),i=t.columns.indexOf(n.column)
t._dragDrop.column.columnGroup=n.column.columnGroup,t.columns.move(e,i)}}else t.$.fireEvent("columnDragEnd",{column:t._dragDrop.column,index:t.columns.indexOf(t._dragDrop.column),newIndex:-1,data:t._dragDrop,originalEvent:e.originalEvent})
if("Escape"!==e.key&&t.$.breadcrumb){const i=t.getBoundingRect(t.$.breadcrumb)
if(e.originalEvent.pageY>=i.top-t.scrollTop&&e.originalEvent.pageY<=i.bottom-t.scrollTop){const e=t.$.breadcrumb._items.indexOf(n),i=t._dragDrop.dragDetails.item.column,o=t.$.breadcrumb.dataSource.slice(0)
o.splice(Math.max(0,e+(r?0:1)),0,{label:i.label,value:i.dataField}),t.$.breadcrumb.dataSource=o
const a=t.$.breadcrumb.dataSource.map(e=>e.value)
t.dataSource.groupBy=a,t.refresh(!0),t.refreshFilters()}}}else if(t._dragDrop.row)if(n&&n.row&&"Escape"!==e.key&&!i.feedback.classList.contains("data")){if(!t.$.fireEvent("rowDragEnd",{row:t._dragDrop.row,index:t._dragDrop.row.visibleIndex,newIndex:n.row.visibleIndex,data:t._dragDrop,originalEvent:e.originalEvent}).defaultPrevented){const e=t._dragDrop.row.visibleIndex
let r=n.row.visibleIndex
i.before||r++,e<r&&r--,t.rows.move(e,r)}}else t.$.fireEvent("rowDragEnd",{row:t._dragDrop.row,index:t._dragDrop.row.visibleIndex,newIndex:-1,data:t._dragDrop,originalEvent:e.originalEvent})
t._cancelDrag(),t.endUpdate(),t.columnGroups&&t._renderColumns(!0)}}})
var Ve=Object.freeze({})
JQX("jqx-grid-toolbar",class extends JQX.DataView{template(){return'<div id="container" role="presentation">\n                    <div id="header" class="jqx-data-view-header" role="toolbar">\n                        <div id="customizeButton" class="jqx-data-view-header-button jqx-data-view-customize-button jqx-unselectable" role="button" aria-expanded="false" aria-haspopup="dialog" aria-label="Customize cards"><div role="presentation"></div></div>\n                        <div id="filterButton" class="jqx-data-view-header-button jqx-data-view-filter-button jqx-unselectable" role="button" aria-expanded="false" aria-haspopup="dialog" aria-label="Filter"><div role="presentation"></div></div>\n                        <div id="sortButton" class="jqx-data-view-header-button jqx-data-view-sort-button jqx-unselectable" role="button" aria-expanded="false" aria-haspopup="dialog" aria-label="Sort"><div role="presentation"></div></div>\n                        <div id="groupButton" class="jqx-data-view-header-button jqx-data-view-group-button jqx-unselectable" role="button" aria-expanded="false" aria-haspopup="dialog" aria-label="Group"><div role="presentation"></div></div>\n                        <div id="searchButton" class="jqx-data-view-header-button jqx-data-view-search-button jqx-unselectable" role="button" aria-expanded="false" aria-haspopup="dialog" aria-label="Search"></div>\n                        <div id="headerDropDown" class="jqx-data-view-header-drop-down jqx-visibility-hidden" role="dialog">\n                            <div id="customize" class="jqx-hidden" role="presentation"></div>\n                            <div id="filter" class="jqx-hidden" role="presentation"></div>\n                            <div id="sort" class="jqx-hidden" role="presentation"></div>\n                            <div id="group" class="jqx-hidden" role="presentation"></div>\n                            <div id="search" class="jqx-data-view-search-box jqx-hidden" role="presentation">\n                                <input type="text" id="searchInput" spellcheck="false" aria-label="Search" />\n                                <div id="searchLabel" class="jqx-data-view-search-label jqx-unselectable"></div>\n                                <div id="searchPrev" class="jqx-data-view-search-prev" role="button" aria-label="Previous"></div>\n                                <div id="searchNext" class="jqx-data-view-search-next" role="button" aria-label="Next"></div>\n                                <div id="searchClose" class="jqx-data-view-search-close" role="button" aria-label="Close search box"></div>\n                            </div>\n                        </div>\n                    </div>\n                </div>'}render(){this._appliedFiltering={filters:[],operator:"and"},this._appliedSorting={dataFields:[],dataTypes:[],orderBy:[]},this._localizeHeader(),this._getInnerElementMessages(),super.render()}openFilterPanel(e){const t=this,i=t.dataSource,n=this.columns.map(e=>{const t=Object.assign({},e)
return t.dataType=i.dataFields.find(e=>e.name===t.dataField).dataType,t}).filter(e=>e.allowFilter)
if(super.openFilterPanel(n,null),e){const i=t.$.headerDropDown.querySelector("jqx-multi-column-filter-panel")
i.$.itemsContainer.appendChild(i._createItem(t.columns.find(t=>t.dataField===e.dataField),"string"===e.dataType?"CONTAINS":"EQUAL",""))
const n=i.querySelectorAll(".jqx-grid-panel-item")
setTimeout(()=>{n[n.length-1].querySelector(".editor").focus()},50)}}openSortPanel(){const e=this,t=e.dataSource,i=e.columns.map(i=>{const n=Object.assign({},i),r=e._appliedSorting.dataFields.indexOf(n.dataField)
return n.dataType=t.dataFields.find(e=>e.name===n.dataField).dataType,n.sortIndex=r,-1!==r&&(n.sortDirection=e._appliedSorting.orderBy[r]),n}).filter(e=>e.allowSort)
super.openSortPanel(i)
const n=e.$.headerDropDown.querySelector("jqx-sort-panel"),r=n.$.inputNotSorted,o=()=>{const t=n.querySelectorAll(".jqx-grid-panel-item")
"many"===e.grid.sorting.mode||t.length<1?r.classList.remove("jqx-visibility-hidden"):t.length>=1&&r.classList.add("jqx-visibility-hidden")}
n.onDataSourceChange=(()=>{o()}),o()}openCustomizePanel(){const e=this,t=e.dataSource
if(!t||0===t.length||e.disabled||"none"===e.headerPosition)return
e._refreshColumns()
const i=e.$.customize,n=e.columns.map(t=>{const i=Object.assign({},t)
return-1!==[e.coverField,e.titleField].indexOf(i.dataField)?i.disableToggle=!0:i.disableToggle=!1,t.allowHide||(i.disableToggle=!0),i})
let r
if(e._closeDialog(),e.$.headerDropDown.classList.add("customize-panel"),e.$.headerDropDown.classList.remove("filter-panel","sort-panel","search-panel","group-panel"),i.classList.remove("jqx-hidden"),e.$.filter.classList.add("jqx-hidden"),e.$.sort.classList.add("jqx-hidden"),e.$.search.classList.add("jqx-hidden"),e.$.group.classList.add("jqx-hidden"),e._closeSearchPanel(),e._customizePartCreated)(r=i.querySelector("jqx-column-panel")).set("dataSource",n),r.propertyChangedHandler("dataSource",void 0,n),r.rightToLeft=e.rightToLeft
else{const t=document.createDocumentFragment(),i=document.createElement("jqx-column-panel")
i.rightToLeft=e.rightToLeft,i.animation=e.animation,i.dataSource=n,i.locale=e.locale,i.messages=e._innerElementMessages.columnPanel,i.theme=e.theme,t.appendChild(i),e.$.customize.appendChild(t),e._customizePartCreated=!0}e._changedVisibility=new Map,e._openHeaderDropDown(e.$.customizeButton)}_applyFilter(e,t){const i=this
i.grid.beginUpdate(),i.grid.context=i.grid,i.grid.clearFilter()
for(let t=0;t<e.length;t++){const n=e[t],r=n[0],o=n[1]
i.grid.columnByDataField[r].filter=o}i.grid._filterOperator=t,i.grid.endUpdate(),i.grid.refreshFilters(),i.grid.context=document}_applySort(){const e=this,t=e._appliedSorting
e.grid.beginUpdate(),e.grid.context=e.grid,e.grid.clearSort()
for(let i=0;i<t.dataFields.length;i++)e.grid.sortBy(t.dataFields[i],t.orderBy[i])
e.grid.endUpdate(),e.grid.context=document}_applyHandler(e){const t=this,i=e.target,n=e.detail
t.$.customize.contains(i)?t._applyColumns(n.value):t.$.filter.contains(i)?t.addFilter(n.filters,n.operator,n.value):t.$.sort.contains(i)&&t.addSort(n.sortByInfo),t.closePanel()}_refreshColumns(){const e=this.grid
let t=Array.isArray(e.columns)?[...e.columns]:[...e.columns.toArray()]
t=t.map(e=>e.data?(void 0!==e.data.grid&&delete e.data.grid,e.data.allowSort=e.allowSort,e.data.allowFilter=e.allowFilter,e.data.allowGroup=e.allowGroup,e.data.allowHide=e.allowHide,e.data.visible=e.visible,e.data):e),this.columns=t}_init(e){const t=this
t.grid=e,e.dataSource&&e.dataSource.boundSource&&(t._refreshColumns(),t.dataSource=new JQX.DataAdapter({observable:!1,dataSource:[...e.dataSource.boundSource.toArray()],dataFields:e.dataSource.dataFields}))}_refresh(){const e=this,t=e.grid
if(t.header.buttons.indexOf("sort")>=0&&t.sorting.enabled?e.$.sortButton.classList.remove("jqx-hidden"):e.$.sortButton.classList.add("jqx-hidden"),t.header.buttons.indexOf("filter")>=0&&t.filtering.enabled?e.$.filterButton.classList.remove("jqx-hidden"):e.$.filterButton.classList.add("jqx-hidden"),t.header.buttons.indexOf("group")>=0&&t.grouping.enabled?e.$.groupButton.classList.remove("jqx-hidden"):e.$.groupButton.classList.add("jqx-hidden"),t.header.buttons.indexOf("columns")>=0?e.$.customizeButton.classList.remove("jqx-hidden"):e.$.customizeButton.classList.add("jqx-hidden"),t.header.buttons.indexOf("search")>=0?e.$.searchButton.classList.remove("jqx-hidden"):e.$.searchButton.classList.add("jqx-hidden"),t._sortedColumns){const i=[],n=[],r=[]
for(let e=0;e<t._sortedColumns.length;e++){const o=t._sortedColumns[e]
i.push(o.dataField),n.push(o.sortOrder),r.push(o.dataType)}e._appliedSorting={dataFields:i,dataTypes:r,orderBy:n},e._refreshSortButton()}const i={filters:[],operator:"and"},n=t.getFilteredColumns()
if(n)for(let e in n){const t=n[e]
for(let n=0;n<t.filters.length;n++){const r=t.filters[n]
i.filters.push([e,r.condition,r.value])}}e._appliedFiltering&&(i.operator=e._appliedFiltering.operator),e._appliedFiltering=i,e._refreshFilterButton(),e._appliedGrouping?e._appliedGrouping.dataFields=t.dataSource.groupBy:e._appliedGrouping={dataFields:t.dataSource.groupBy,expandAll:!1,collapseAll:!1},e._refreshGroupButton()}openGroupPanel(){const e=this
let t
const i=e.grid
e.$.headerDropDown.classList.add("group-panel"),e.$.headerDropDown.classList.remove("customize-panel","sort-panel","search-panel"),e.$.group.classList.remove("jqx-hidden"),e.$.filter.classList.add("jqx-hidden"),e.$.customize.classList.add("jqx-hidden"),e.$.sort.classList.add("jqx-hidden"),e.$.search.classList.add("jqx-hidden")
const n=e.columns.map(t=>{const i=Object.assign({},t)
if(e._appliedGrouping&&e._appliedGrouping.dataFields){const t=e._appliedGrouping.dataFields.indexOf(i.dataField)
i.groupIndex=t}return i}).filter(e=>e.allowGroup)
e._groupPartCreated?((t=e.$.group.firstElementChild).rightToLeft=e.rightToLeft,t.dataSource=n):((t=document.createElement("jqx-group-panel")).rightToLeft=e.rightToLeft,t.animation=e.animation,t.locale=e.locale,t.messages=e._innerElementMessages.groupPanel,t.theme=e.theme,t.dataSource=n,e.$.group.appendChild(t),e._groupPartCreated=!0,t.onExpandAll=(()=>{e._appliedGrouping.expandAll=!0,e._appliedGrouping.collapseAll=!1}),t.onCollapseAll=(()=>{e._appliedGrouping.expandAll=!1,e._appliedGrouping.collapseAll=!0}),t.addEventListener("apply",t=>{const n=t.detail.sortByInfo
e._appliedGrouping.dataFields=n.dataFields,i.beginUpdate(),i.clearGroups()
for(let e=0;e<n.dataFields.length;e++){const t=n.dataFields[e]
i.addGroup(t)}e._appliedGrouping.expandAll&&i.expandAllRows(),e._appliedGrouping.collapseAll&&i.collapseAllRows(),i.endUpdate()})),e._refreshGroupButton(),e._openHeaderDropDown(e.$.groupButton)}_refreshGroupButton(){const e=this,t=e._appliedGrouping.dataFields?e._appliedGrouping.dataFields.length:0
if(0===t)return e.$.groupButton.firstElementChild.innerHTML=e.localize("group"),void e.$.groupButton.classList.remove("grouped")
e.$.groupButton.firstElementChild.innerHTML=1===t?e.localize("groupedByOne"):e.localize("groupedByMultiple",{n:t}),e.$.groupButton.classList.add("grouped")}openSearchPanel(){this._openSearchPanel()}_openSearchPanel(){const e=this,t=e.grid
e.$.headerDropDown.classList.add("search-panel"),e.$.headerDropDown.classList.remove("customize-panel","filter-panel","sort-panel","group-panel"),e.$.search.classList.remove("jqx-hidden"),e.$.customize.classList.add("jqx-hidden"),e.$.group.classList.add("jqx-hidden"),e.$.filter.classList.add("jqx-hidden"),e.$.sort.classList.add("jqx-hidden"),e._openHeaderDropDown(e.$.searchButton)
const i=[],n=t.getVisibleRows()
for(let e=0;e<n.length;e++)i.push(Object.assign(n[e].data))
const r=new JQX.DataAdapter({observable:!1,dataSource:i,dataFields:t.dataSource.dataFields})
e._searchInfo={source:r,stringDataFields:e.dataSource.dataFields.filter(e=>"string"===e.dataType).map(e=>e.name)},""!==e.$.searchInput.value&&e._search(e.$.searchInput.value,!1)}_search(e,t=!0){const i=this
if(i._searchInfo.query=e,""===e)return i.$.search.classList.remove("matches","no-matches"),delete i._searchInfo.foundIdsArray,delete i._searchInfo.foundIdsObject,delete i._searchInfo.highlighted,void(i.grid.highlighted=null)
const n=i._searchInfo.source,r=[],o=[],a={}
i._searchInfo.stringDataFields.forEach(t=>{const i=new JQX.Utilities.FilterGroup,n=i.createFilter("string",e,"CONTAINS")
i.addFilter("or",n),r.push([t,i])}),n._filter(r,"or")
for(let e=0;e<n.length;e++){const t=n[e]
!1!==t.$.filtered&&(o.push(t.id),a[t.id]=!0)}if(i._searchInfo.foundIdsArray=o,i._searchInfo.foundIdsObject=a,i.grid.highlighted=null,o.length>0)return i.$.search.classList.remove("no-matches"),i.$.search.classList.add("matches"),i.$.searchLabel.innerHTML=i.localize("found",{nth:t?1:0,n:o.length}),i._searchInfo.highlighted=o[0],i.grid.highlighted=i._searchInfo.highlighted,i.grid.ensureVisible(i._searchInfo.highlighted),void i.grid._recycle(!1)
i.$.search.classList.remove("matches"),i.$.search.classList.add("no-matches"),i.$.searchLabel.innerHTML=i.localize("found",{nth:0,n:0})}_applyColumns(e){const t=this.grid
t.beginUpdate()
for(let i in e){const n=e[i],r=t.columnByDataField[n.dataField],o=t.columns.indexOf(r),a=parseInt(i)
r.visible=n.visible,o!==a&&t.columns.move(o,a)}t.endUpdate()}})
var Fe=Object.freeze({})
JQX("jqx-grid",class extends JQX.ScrollViewer{static get properties(){return{appearance:{value:{allowColumnFixing:{value:!1,type:"boolean"},alternationStart:{value:0,type:"int"},alternationEnd:{value:0,type:"int"},alternationCount:{value:0,type:"int"},allowHover:{value:!1,type:"boolean",defaultReflectToAttribute:!0},allowHeaderHover:{value:!0,type:"boolean",defaultReflectToAttribute:!0},allowRowToggleAnimation:{value:!1,type:"boolean"},allowRowDetailToggleAnimation:{value:!1,type:"boolean"},allowSortAnimation:{value:!1,type:"boolean"},allowColumnLabelAnimation:{value:!0,type:"boolean"},allowCheckBoxesSelectionAnimation:{value:!0,type:"boolean"},allowColumnMenuAnimation:{value:!0,type:"boolean"},allowColumnSortButtonAnimation:{value:!0,type:"boolean"},allowColumnActionButtonAnimation:{value:!0,type:"boolean"},allowColumnFilterButtonAnimation:{value:!0,type:"boolean"},allowColumnStickyPosition:{value:!1,type:"boolean"},autoShowColumnSortButton:{value:!0,type:"boolean"},autoShowColumnActionButton:{value:!0,type:"boolean"},autoGenerateRowLabelMode:{value:"number",type:"string"},autoGenerateColumnLabelMode:{value:"letter",type:"string"},autoShowColumnFilterButton:{value:!0,type:"boolean"},displayLoadingIndicator:{value:!1,type:"boolean"},loadingIndicatorPlaceholder:{value:"Loading...",type:"string"},placeholder:{value:"No Rows",type:"string"},sortAnimationDuration:{value:500,type:"number"},showRowHeader:{value:!1,type:"boolean"},showRowHeaderNumber:{value:!1,type:"boolean"},showRowHeaderEditIcon:{value:!0,type:"boolean",defaultReflectToAttribute:!0},showRowHeaderDragIcon:{value:!1,type:"boolean"},showRowHeaderSelectIcon:{value:!1,type:"boolean"},showRowHeaderFocusIcon:{value:!1,type:"boolean"},showColumnHeaderLines:{value:!0,type:"boolean",defaultReflectToAttribute:!0},showColumnLines:{value:!0,type:"boolean",defaultReflectToAttribute:!0},showRowLines:{value:!0,type:"boolean",defaultReflectToAttribute:!0},showFilterColumnBackground:{value:!0,type:"boolean"},showSortColumnBackground:{value:!0,type:"boolean"},showFrozenColumnBackground:{value:!0,type:"boolean"},showFrozenRowBackground:{value:!0,type:"boolean"},showColumnSortButton:{value:!0,type:"boolean"},showColumnFilterButton:{value:!0,type:"boolean"},showColumnDescriptionButton:{value:!1,type:"boolean"},showColumnIcon:{value:!1,type:"boolean"},showColumnCustomButton:{value:!1,type:"boolean"},showColumnActionButton:{value:!0,type:"boolean"},showTooltips:{value:!1,type:"boolean"},showResizeTooltips:{value:!0,type:"boolean"},showHorizontalScrollBarOnFixedColumns:{value:!1,type:"boolean"},showVerticalScrollBarOnFixedColumns:{value:!1,type:"boolean"}},type:"object"},behavior:{value:{allowColumnAutoSizeOnDoubleClick:{value:!0,type:"boolean"},allowRowAutoSizeOnDoubleClick:{value:!0,type:"boolean"},allowColumnReorder:{value:!1,type:"boolean"},allowRowReorder:{value:!1,type:"boolean"},doubleClickTimingDelay:{value:300,type:"number"},columnResizeMode:{value:"none",type:"string",allowedValues:["none","split","growAndShrink"]},rowResizeMode:{value:"none",type:"string",allowedValues:["none","split","growAndShrink"]}},type:"object"},layout:{value:{allowCellsWrap:{value:!1,type:"boolean"},autoGenerateColumnWidth:{value:null,type:"number?"},columnWidth:{value:null,type:"any",reflectToAttribute:!1},columnHeight:{value:null,type:"any",reflectToAttribute:!1},columnMinHeight:{value:30,type:"any",reflectToAttribute:!1},isDirty:{value:!1,type:"boolean"},loadingIndicatorPosition:{value:"center",allowedValues:["bottom","center","top"],type:"string"},rowMinHeight:{value:30,type:"number"},rowHeight:{value:null,type:"any",reflectToAttribute:!1}},type:"object"},dataExport:{value:{header:{value:!0,type:"boolean"},filterBy:{value:null,type:"object"},groupBy:{value:null,type:"object"},style:{value:null,type:"object"},fileName:{value:"jqxGrid",type:"string?"},pageOrientation:{value:"portrait",type:"string"},expandChar:{value:"+",type:"string"},collapseChar:{value:"-",type:"string"},view:{value:!1,type:"boolean"},viewStart:{value:null,type:"number?"},viewEnd:{value:null,type:"number?"},rowIds:{value:null,type:"array?"}},type:"object"},clipboard:{value:{enabled:{value:!0,type:"boolean"},autoFillMode:{value:"copy",allowedValues:["none","copy","fillSeries"],type:"string"},onPasteValue:{value:null,type:"any"}},type:"object"},columns:{value:[],type:"any",reflectToAttribute:!1},columnMenu:{value:{autoClose:{value:!0,type:"boolean"},dataSource:{value:{columnMenuCustomizeType:{value:{command:{value:"customizeTypeCommand",type:"any"},enabled:{value:!0,type:"boolean"},visible:{value:!1,type:"any"},icon:{value:"jqx-icon-ellipsis-vert",type:"string"},label:{value:"{{messages}}",type:"string"}},type:"object",reflectToAttribute:!1},columnMenuItemRename:{value:{command:{value:"renameCommand",type:"any"},enabled:{value:!0,type:"boolean"},visible:{value:!1,type:"any"},icon:{value:"jqx-icon-rename",type:"string"},label:{value:"{{messages}}",type:"string"}},type:"object",reflectToAttribute:!1},columnMenuItemEditDescription:{value:{command:{value:"editDescriptionCommand",type:"any"},enabled:{value:!0,type:"boolean"},visible:{value:!1,type:"any"},icon:{value:"jqx-icon-circled",type:"string"},label:{value:"{{messages}}",type:"string"}},type:"object",reflectToAttribute:!1},columnMenuItemDuplicate:{value:{command:{value:"duplicateCommand",type:"any"},enabled:{value:!0,type:"boolean"},visible:{value:!1,type:"any"},icon:{value:"jqx-icon-duplicate",type:"string"},label:{value:"{{messages}}",type:"string"}},type:"object",reflectToAttribute:!1},columnMenuItemInsertLeft:{value:{command:{value:"insertLeftCommand",type:"any"},enabled:{value:!0,type:"boolean"},visible:{value:!1,type:"any"},icon:{value:"jqx-icon-insert-left",type:"string"},label:{value:"{{messages}}",type:"string"}},type:"object",reflectToAttribute:!1},columnMenuItemInsertRight:{value:{command:{value:"insertRightCommand",type:"any"},enabled:{value:!0,type:"boolean"},visible:{value:!1,type:"any"},icon:{value:"jqx-icon-insert-right",type:"string"},label:{value:"{{messages}}",type:"string"}},type:"object",reflectToAttribute:!1},columnMenuItemSortAsc:{value:{command:{value:"sortAscCommand",type:"any"},enabled:{value:!0,type:"boolean"},visible:{value:"auto",type:"any"},icon:{value:"jqx-icon-sort-name-up",type:"string"},iconAlt:{value:"jqx-icon-sort-number-up",type:"string"},label:{value:"{{messages}}",type:"string"}},type:"object",reflectToAttribute:!1},columnMenuItemSortDesc:{value:{command:{value:"sortDescCommand",type:"any"},enabled:{value:!0,type:"boolean"},visible:{value:"auto",type:"any"},icon:{value:"jqx-icon-sort-name-down",type:"string"},iconAlt:{value:"jqx-icon-sort-number-down",type:"string"},label:{value:"{{messages}}",type:"string"}},type:"object",reflectToAttribute:!1},columnMenuItemRemoveSort:{value:{command:{value:"removeSortCommand",type:"any"},enabled:{value:!0,type:"boolean"},visible:{value:"auto",type:"any"},icon:{value:"jqx-icon-cancel-circled",type:"string"},label:{value:"{{messages}}",type:"string"}},type:"object",reflectToAttribute:!1},columnMenuItemFilter:{value:{command:{value:"addFilterCommand",type:"any"},enabled:{value:!0,type:"boolean"},visible:{value:"auto",type:"any"},icon:{value:"jqx-icon-add-filter",type:"string"},label:{value:"{{messages}}",type:"string"}},type:"object",reflectToAttribute:!1},columnMenuItemRemoveFilter:{value:{command:{value:"removeFilterCommand",type:"any"},enabled:{value:!0,type:"boolean"},visible:{value:"auto",type:"any"},icon:{value:"jqx-icon-cancel-circled",type:"string"},label:{value:"{{messages}}",type:"string"}},type:"object",reflectToAttribute:!1},columnMenuItemGroupBy:{value:{command:{value:"groupByCommand",type:"any"},enabled:{value:!0,type:"boolean"},visible:{value:"auto",type:"any"},icon:{value:"jqx-icon-group",type:"string"},label:{value:"{{messages}}",type:"string"}},type:"object",reflectToAttribute:!1},columnMenuItemRemoveGroupBy:{value:{command:{value:"removeGroupByCommand",type:"any"},enabled:{value:!0,type:"boolean"},visible:{value:"auto",type:"any"},icon:{value:"jqx-icon-ungroup",type:"string"},label:{value:"{{messages}}",type:"string"}},type:"object",reflectToAttribute:!1},columnMenuItemHide:{value:{command:{value:"hideColumnCommand",type:"any"},enabled:{value:!0,type:"boolean"},visible:{value:!1,type:"any"},icon:{value:"jqx-icon-visibility-off",type:"string"},label:{value:"{{messages}}",type:"string"}},type:"object",reflectToAttribute:!1},columnMenuItemDelete:{value:{command:{value:"deleteColumnCommand",type:"any"},enabled:{value:!0,type:"boolean"},visible:{value:!1,type:"any"},icon:{value:"jqx-icon-delete",type:"string"},label:{value:"{{messages}}",type:"string"}},type:"object",reflectToAttribute:!1}},type:"object",reflectToAttribute:!1},visible:{value:!1,type:"boolean"},enabled:{value:!0,type:"boolean"},width:{value:250,type:"number"},height:{value:null,type:"number?"}},type:"object",reflectToAttribute:!1},columnGroups:{value:[],type:"array",reflectToAttribute:!1},charting:{value:{appendTo:{value:null,type:"any"},enabled:{value:!1,type:"boolean"},colorScheme:{value:"scheme01",type:"string"},description:{value:"",type:"string"},dialog:{value:{header:{value:"{{message}}",type:"string"},height:{value:400,type:"any"},width:{value:400,type:"any"},left:{value:"center",type:"any"},top:{value:"center",type:"any"},enabled:{value:!0,type:"boolean"},visible:{value:!1,type:"boolean"}},type:"object"},formatSettings:{value:{},type:"object"}},type:"object"},dataSource:{value:null,type:"any",reflectToAttribute:!1},grouping:{value:{enabled:{value:!1,type:"boolean",reflectToAttribute:!1},allowCollapse:{value:!1,type:"boolean",reflectToAttribute:!1},autoExpandAll:{value:!1,type:"boolean",reflectToAttribute:!1},expandMode:{value:"buttonClick",type:"string",allowedValues:["buttonClick","rowClick"],reflectToAttribute:!1},renderMode:{type:"string",value:"advanced",allowedValues:["basic","compact","advanced"]},groupRowHeight:{value:50,type:"any",reflectToAttribute:!1},toggleButtonIndent:{value:16,type:"number",reflectToAttribute:!1},groupIndent:{value:16,type:"number",reflectToAttribute:!1},groupBar:{value:{visible:{value:!1,type:"boolean",reflectToAttribute:!1},allowColumnDragDrop:{value:!0,type:"boolean",reflectToAttribute:!0},allowColumnCloseButtons:{value:!0,type:"boolean",reflectToAttribute:!0}},type:"object"},summaryRow:{value:{inline:{value:!0,type:"boolean"},visible:{value:!0,type:"boolean"}},type:"object"}},type:"object"},messages:{extend:!0,value:{en:{invalidColumnProperty:'{{elementType}}: Invalid property name "{{propertyName}}" set for Column: "{{type}}"',invalidRowProperty:'{{elementType}}: Invalid property name "{{propertyName}}" set for Row"',invalidCellValue:'Invalid cell value "{{value}}", Validation rule: "{{validationRule}}"',frozenColumns:"{{elementType}}: To Pin/Freeze a column group, all columns within it should be frozen.",frozenRows:"{{elementType}}: To Pin/Freeze a special cell, all rows within it should be frozen.",columnGroups:"{{elementType}}: Please, check the initialization of the jqxGrid's columns array. The columns in a column group are expected to be siblings in the columns array.",min:"Min: {{value}}",max:"Max: {{value}} ",sum:"Sum: {{value}} ",avg:"Avg: {{value}} ",count:"Count: {{value}} ",pagerFirstButton:"First",pagerLastButton:"Last",pagerPreviousButton:"Previous",pagerNextButton:"Next",pagerNavigateToLabel:"Go to:",pagerPageSizeLabel:"Show:",pagerNavigateToInputPlaceholder:"",pagerEllipsis:"...",pagerSummaryString:"of",pagerSummaryPrefix:"of",pagerSummarySuffix:"",columnMenuCustomizeType:"Customize type",columnMenuItemRename:"Rename",columnMenuItemEditDescription:"Edit description",columnMenuItemDuplicate:"Duplicate",columnMenuItemInsertLeft:"Insert left",columnMenuItemInsertRight:"Insert right",columnMenuItemSortAsc:"Sort {{mode}}",columnMenuItemSortDesc:"Sort {{mode}}",columnMenuItemRemoveSort:"Remove Sort",columnMenuItemFilter:"Filter",columnMenuItemRemoveFilter:"Remove Filter",columnMenuItemGroupBy:"Group by this column",columnMenuItemRemoveGroupBy:"Remove Group",columnMenuItemHide:"Hide",columnMenuItemDelete:"Delete",columnResizeTooltip:"width: {{value}}px",rowResizeTooltip:"height: {{value}}px",commandBarAddRow:"Add",commandBarDeleteRow:"Delete",commandBarBatchRevert:"Revert",commandBarBatchSave:"Save",commandBarFilter:"Filter",commandBarSort:"Sort",commandBarSearch:"Search",commandBarCustomize:"Customize",commandBarGroup:"Group",commandColumnEdit:"Edit",commandColumnDelete:"Delete",commandColumnCancel:"Cancel",commandColumnUpdate:"Update",commandColumnMenu:"",expandRow:"Expand row",collapseRow:"Collapse row",addNewRow:"Click here to add a new row",dialogChartHeader:"{{value}} Chart",dialogRowDetailHeader:"Row Id: {{value}}",dialogRowDetailButtonConfirm:"OK",dialogRowDetailButtonCancel:"CANCEL",dialogEditHeader:"Edit {{value}}",dialogAddButtonConfirm:"ADD",dialogAddButtonCancel:"CANCEL",dialogEditButtonConfirm:"OK",dialogEditButtonCancel:"CANCEL",dialogFilterButtonConfirm:"FILTER",dialogFilterButtonCancel:"CLEAR",dialogDeleteButtonConfirm:"DELETE",dialogDeleteButtonCancel:"CANCEL",dialogAddHeader:"Add Row",dialogDeleteHeader:"Delete Row",dialogFilterHeader:"Filter by",dialogFilterMinLabel:"Min",dialogFilterMaxLabel:"Max",groupBarLabel:"Drag a column header here to group by that column",dialogDeleteContent:"Are you sure you want to delete this row?",calendar:{"/":"/",":":":",firstDay:0,days:{names:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],namesAbbr:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],namesShort:["Su","Mo","Tu","We","Th","Fr","Sa"]},months:{names:["January","February","March","April","May","June","July","August","September","October","November","December",""],namesAbbr:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec",""]},AM:["AM","am","AM"],PM:["PM","pm","PM"],eras:[{name:"A.D.",start:null,offset:0}],currencySymbol:"$",currencySymbolPosition:"before",decimalSeparator:".",thousandsSeparator:","},CONTAINS:"Contains",DOES_NOT_CONTAIN:"Does not contain",ENDS_WITH:"Ends with",EQUAL:"Equal",GREATER_THAN:"Greater than",GREATER_THAN_OR_EQUAL:"Greater than or equal",LESS_THAN:"Less than",LESS_THAN_OR_EQUAL:"Less than or equal",NOT_EQUAL:"Not equal",RANGE:"Range",CLEAR_FILTER:"Clear Filter",STARTS_WITH:"Starts with",addFilter:"+ Add filter",and:"And",apply:"Apply",booleanFirst:"☐",booleanLast:"☑",cancel:"Cancel",CONTAINS_CASE_SENSITIVE:"Contains (case sensitive)",dateFirst:"1",dateLast:"9",DOES_NOT_CONTAIN_CASE_SENSITIVE:"does not contain (case sensitive)",EMPTY:"empty",ENDS_WITH_CASE_SENSITIVE:"ends with (case sensitive)",EQUAL_CASE_SENSITIVE:"equal (case sensitive)",filter:"Filter",customize:"Customize Columns",filteredByMultiple:"{{n}} filters",filteredByOne:"1 filter",filterValuePlaceholder:"Value",find:"Find a field",findInView:"Find in view",firstBy:"Sort by",found:"{{nth}} of {{n}}",from:"from",noFilters:"No filters applied",noResults:"No results",noSorting:"No sorting applied",NOT_EMPTY:"not empty",NOT_NULL:"not null",NULL:"null",numberFirst:"1",numberLast:"9",ok:"OK",or:"Or",pickAnother:"Pick another field to sort by",sort:"Sort",group:"Group",sortedByMultiple:"Sorted by {{n}} fields",sortedByOne:"Sorted by 1 field",STARTS_WITH_CASE_SENSITIVE:"starts with (case sensitive)",stringFirst:"A",stringLast:"Z",thenBy:"then by",where:"Where",collapseAll:"Collapse all",expandAll:"Expand all",noGrouping:"No grouping",groupedByMultiple:"{{n}} groups",groupedByOne:"1 group",firstByGroup:"Group by",pickAnotherGroupBy:"Pick another field to group by"}},type:"object"},onCellValue:{value:null,type:"any",reflectToAttribute:!1},onCellUpdate:{value:null,type:"any",reflectToAttribute:!1},onBeforeInit:{value:null,type:"any",reflectToAttribute:!1},onInit:{value:null,type:"any",reflectToAttribute:!1},onAfterInit:{value:null,type:"any",reflectToAttribute:!1},onKey:{value:null,type:"any",reflectToAttribute:!1},onRender:{value:null,type:"any",reflectToAttribute:!1},onChartInit:{value:null,type:"any",reflectToAttribute:!1},onRowInit:{value:null,type:"any",reflectToAttribute:!1},onRowDetailInit:{value:null,type:"any",reflectToAttribute:!1},onRowDetailUpdated:{value:null,type:"any",reflectToAttribute:!1},onRowInserted:{value:null,type:"any",reflectToAttribute:!1},onRowRemoved:{value:null,type:"any",reflectToAttribute:!1},onRowUpdate:{value:null,type:"any",reflectToAttribute:!1},onRowUpdated:{value:null,type:"any",reflectToAttribute:!1},onColumnInit:{value:null,type:"any",reflectToAttribute:!1},onColumnInserted:{value:null,type:"any",reflectToAttribute:!1},onColumnRemoved:{value:null,type:"any",reflectToAttribute:!1},onColumnUpdated:{value:null,type:"any",reflectToAttribute:!1},onCommand:{value:null,reflectToAttribute:!1,type:"any"},filtering:{value:{enabled:{value:!1,type:"boolean"},filter:{value:[],type:"array",reflectToAttribute:!1},filterRow:{value:{visible:{value:!1,type:"boolean"},menuVisible:{value:!1,type:"boolean"},applyMode:{value:"auto",type:"string",allowedValues:["auto","click"]},autoApplyModeDelay:{value:500,type:"number"}},type:"object"},filterMenu:{value:{visible:{value:!0,type:"boolean"},buttons:{value:["cancel","clear","filter"],type:"array"},dataSource:{value:null,type:"any"},width:{value:250,type:"number"},height:{value:200,type:"number"},mode:{value:"default",allowedValues:["default","excel"],type:"string"},messages:{value:null,type:"object"}},type:"object"}},type:"object"},editing:{value:{allowRowHeaderEdit:{value:!1,type:"any"},allowColumnHeaderEdit:{value:!1,type:"any"},active:{value:!1,readonly:!0,type:"boolean"},enabled:{value:!1,type:"boolean"},batch:{value:!1,type:"any"},action:{value:"click",type:"string",allowedValues:["none","click","doubleClick"]},commandKeys:{value:{commandKeyEdit:{value:{command:"commandKeyEditCommand",key:"F2"},type:"object"},commandKeyCancel:{value:{command:"commandKeyCancelCommand",key:"Escape"},type:"object"},commandKeyUpdate:{value:{command:"commandKeyUpdateCommand",key:"Enter | Tab"},type:"object"}},type:"object"},commandBar:{value:{visible:{value:!1,type:"boolean"},position:{value:"near",allowedValues:["near","far","both"],type:"string"},displayMode:{value:"labelAndIcon",allowedValues:["label","icon","labelAndIcon"],type:"string"},dataSource:{value:{commandBarSearch:{value:{command:{value:"commandBarSearchCommand",type:"any"},icon:{value:"jqx-icon-search",type:"string"},label:{value:"{{messages}}",type:"string"},visible:{value:!1,type:"any"}},type:"object"},commandBarAddRow:{value:{command:{value:"commandBarAddRowCommand",type:"any"},icon:{value:"jqx-icon-plus",type:"string"},label:{value:"{{messages}}",type:"string"},visible:{value:!1,type:"any"}},type:"object"},commandBarDeleteRow:{value:{command:{value:"commandBarDeleteRowCommand",type:"any"},icon:{value:"jqx-icon-delete",type:"string"},label:{value:"{{messages}}",type:"string"},visible:{value:!1,type:"any"}},type:"object"},commandBarBatchSave:{value:{command:{value:"commandBarBatchSaveCommand",type:"any"},icon:{value:"jqx-icon-ok-squared",type:"string"},label:{value:"{{messages}}",type:"string"},visible:{value:!0,type:"any"}},type:"object"},commandBarBatchRevert:{value:{command:{value:"commandBarBatchRevertCommand",type:"any"},icon:{value:"jqx-icon-reload",type:"string"},label:{value:"{{messages}}",type:"string"},visible:{value:!0,type:"any"}},type:"object"}},type:"object"}},type:"object"},commandColumn:{value:{visible:{value:!1,type:"boolean"},inline:{value:!1,type:"boolean"},position:{value:"far",allowedValues:["near","far"],type:"string"},displayMode:{value:"icon",allowedValues:["label","icon","labelAndIcon"],type:"string"},dataSource:{value:{commandColumnMenu:{value:{command:{value:"commandColumnMenuCommand",type:"any"},icon:{value:"jqx-icon-menu",type:"string"},label:{value:"{{messages}}",type:"string"},visible:{value:!1,type:"any"}},type:"object"},commandColumnEdit:{value:{command:{value:"commandColumnEditCommand",type:"any"},icon:{value:"jqx-icon-mode-edit",type:"string"},label:{value:"{{messages}}",type:"string"},visible:{value:"auto",type:"any"}},type:"object"},commandColumnDelete:{value:{command:{value:"commandColumnDeleteCommand",type:"any"},icon:{value:"jqx-icon-delete",type:"string"},label:{value:"{{messages}}",type:"string"},visible:{value:!0,type:"any"}},type:"object"},commandColumnUpdate:{value:{command:{value:"commandColumnUpdateCommand",type:"any"},icon:{value:"jqx-icon-ok-squared",type:"string"},label:{value:"{{messages}}",type:"string"},visible:{value:"auto",type:"any"}},type:"object"},commandColumnCancel:{value:{command:{value:"commandColumnCancelCommand",type:"any"},icon:{value:"jqx-icon-cancel-circled",type:"string"},label:{value:"{{messages}}",type:"string"},visible:{value:"auto",type:"any"}},type:"object"},commandColumnRowMenu:{value:{command:{value:"commandColumnRowMenuCommand",type:"any",reflectToAttribute:!1},icon:{value:"jqx-icon-ellipsis-vert",type:"string"},label:{value:"{{messages}}",type:"string"},visible:{value:!1,type:"any"}},type:"object"},commandColumnCustom:{value:{command:{value:"",type:"any"},icon:{value:"jqx-icon-ellipsis-vert",type:"string"},label:{value:"",type:"string"},visible:{value:!1,type:"any"}},type:"object"}},type:"object"},width:{value:null,type:"number?"}},reflectToAttribute:!1,type:"object"},mode:{value:"cell",allowedValues:["cell","row"],type:"string"},addNewRow:{value:{position:{value:"both",allowedValues:["near","far","both"],type:"string"},visible:{value:!1,type:"boolean"},autoCreate:{value:!1,type:"boolean"},autoSave:{value:!0,type:"boolean"},label:{value:"{{message}}",type:"string"},displayMode:{value:"row",allowedValues:["row","button"],type:"string"}},type:"object"},dialog:{value:{header:{value:"{{message}}",type:"string"},height:{value:"auto",type:"any"},width:{value:"auto",type:"any"},left:{value:"center",type:"any"},top:{value:"center",type:"any"},enabled:{value:!1,type:"boolean"},visible:{value:!1,type:"boolean"}},type:"object"},addDialog:{value:{header:{value:"{{message}}",type:"string"},height:{value:"auto",type:"any"},width:{value:"auto",type:"any"},left:{value:"center",type:"any"},top:{value:"center",type:"any"},enabled:{value:!1,type:"boolean"},visible:{value:!1,type:"boolean"}},type:"object"},deleteDialog:{value:{header:{value:"{{message}}",type:"string"},height:{value:"auto",type:"any"},width:{value:"auto",type:"any"},left:{value:"center",type:"any"},top:{value:"center",type:"any"},enabled:{value:!1,type:"boolean"},visible:{value:!1,type:"boolean"}},type:"object"}},type:"object"},paging:{value:{enabled:{value:!1,type:"boolean"},spinner:{value:{enabled:{value:!1,type:"boolean"},step:{value:1,type:"number"}},type:"object"},pageSize:{value:10,type:"int"},pageIndex:{value:0,type:"int",validator:"pageIndexValidator"}},type:"object"},pager:{value:{autoEllipsis:{value:"both",allowedValues:["none","before","after","both"],type:"string"},position:{value:"far",allowedValues:["near","far","both"],type:"string"},template:{value:"",type:"string"},pageSizeSelector:{value:{visible:{value:!1,type:"boolean"},dataSource:{value:[10,20,50],type:"object"},position:{value:"far",allowedValues:["near","far"],type:"string"}},type:"object"},summary:{value:{position:{value:"far",allowedValues:["near","far"],type:"string"},visible:{value:!1,type:"boolean"}},type:"object"},navigationButtons:{value:{position:{value:"both",allowedValues:["near","far","both"],type:"string"},prevNextButtons:{value:{visible:{value:!0,type:"boolean"}},type:"object"},firstLastButtons:{value:{visible:{value:!0,type:"boolean"}},type:"object"},labels:{value:{visible:{value:!1,type:"boolean"}},type:"object"}},type:"object"},navigationInput:{value:{position:{value:"far",allowedValues:["near","far"],type:"string"},visible:{value:!1,type:"boolean"}},type:"object"},pageIndexSelectors:{value:{visible:{value:!0,type:"boolean"},dataSource:{value:10,type:"any"}},type:"object"},visible:{value:!1,type:"boolean"}},type:"object",reflectToAttribute:!1},rowDetail:{value:{enabled:{value:!1,type:"boolean"},height:{value:200,type:"number"},position:{value:"near",allowedValues:["near","far"],type:"string"},template:{value:"",type:"any",reflectToAttribute:!1},visible:{value:!0,type:"boolean"},dialog:{value:{header:{value:"{{message}}",type:"string"},height:{value:300,type:"any"},width:{value:360,type:"any"},left:{value:"center",type:"any"},top:{value:"center",type:"any"},enabled:{value:!1,type:"boolean"},visible:{value:!1,type:"boolean"}},type:"object"}},type:"object"},summaryRow:{value:{position:{value:"far",allowedValues:["near","far"],type:"string"},visible:{value:!1,type:"boolean"},template:{value:"",type:"string"}},type:"object"},scrolling:{value:"physical",allowedValues:["physical","virtual","infinite","deferred"],type:"string"},columnHeader:{value:{visible:{value:!0,type:"boolean"}},type:"object"},groupHeader:{value:{visible:{value:!1,type:"boolean"},template:{value:"",type:"string"}},type:"object"},header:{value:{visible:{value:!1,type:"boolean"},template:{value:"",type:"string"},buttons:{value:["columns","filter","group","sort","search"],type:"array"}},type:"object"},footer:{value:{visible:{value:!1,type:"boolean"},template:{value:"",type:"string"}},type:"object"},checkBoxes:{value:{visible:{value:!1,type:"boolean"},hasThreeStates:{value:!1,type:"boolean"}},type:"object"},selection:{value:{enabled:{value:!1,type:"boolean"},allowRowHeaderSelection:{value:!1,type:"boolean"},allowColumnHeaderSelection:{value:!1,type:"boolean"},allowRowSelection:{value:!0,type:"boolean"},allowCellSelection:{value:!1,type:"boolean"},allowDragSelection:{value:!0,type:"boolean"},allowDragSelectionAutoScroll:{value:!0,type:"boolean"},allowCellDragSelectionHandle:{value:!0,type:"boolean"},allowCellDragDropSelectionHandle:{value:!0,type:"boolean"},allowCellDragSelectionAutoFill:{value:!0,type:"boolean"},selectAllMode:{value:"page",allowedValues:["none","page","all"],type:"string"},mode:{value:"many",type:"string",allowedValues:["one","many","extended"]},action:{value:"click",type:"string",allowedValues:["none","click","doubleClick"]},checkBoxes:{value:{enabled:{value:!1,type:"boolean"},autoShow:{value:!1,type:"boolean"},action:{value:"click",type:"string",allowedValues:["none","click","doubleClick"]},selectAllMode:{value:"page",allowedValues:["none","page","all"],type:"string"},position:{value:"near",allowedValues:["near","far"],type:"string"}},type:"object"},selected:{value:"",type:"string"},tabKeyBehavior:{value:"default",allowedValues:["none","default"],type:"string"}},type:"object"},sorting:{value:{enabled:{value:!1,type:"boolean"},sort:{value:[],type:"array"},mode:{value:"one",allowedValues:["one","many"],type:"string"},sortToggleThreeStates:{value:!0,type:"boolean"}},type:"object"}}}static get requires(){return{}}static get styleUrls(){return["jqx.menu.css","jqx.filterpanel.css","jqx.pager.css","jqx.grid.css","jqx.textbox.css"]}template(){return"<div class='jqx-container'id='container' disabled='[[disabled]]' role='grid'>\n                <div id='header' role=\"toolbar\" class='jqx-grid-header jqx-hidden'>\n                </div>\n                <div id='groupHeader' role=\"presentation\" class='jqx-grid-group-header jqx-hidden'></div>\n                <div id='headerPager' top class='jqx-grid-pager jqx-hidden'></div>\n                <div id='headerCommandBar' header top class='jqx-grid-header jqx-grid-command-bar jqx-hidden'></div>\n                 <div id='content' class='jqx-grid-content'>\n                    <div id='placeholder' class ='jqx-hidden jqx-placeholder jqx-grid-placeholder'></div>\n                    <div id='columnHeader' role=\"rowgroup\" class='jqx-grid-column-header'>\n                        <div id='columnNearContainer' role=\"row\" class='near jqx-hidden jqx-grid-column-header-cell-container'>\n                       </div>\n                       <div id='columnContainer' role=\"row\" class='center jqx-grid-column-header-cell-container'>\n                       </div>\n                        <div id='columnFarContainer' role=\"row\" class='far jqx-hidden jqx-grid-column-header-cell-container'>\n                       </div>\n                    </div>\n                    <div id='scrollView' role=\"rowgroup\" class ='jqx-grid-scroll-view'>\n                        <div id='rowNearContainer' role=\"presentation\" class='near jqx-hidden jqx-grid-row-container'>\n                        </div>\n                         <div id='rowContainer' role=\"presentation\" class='center jqx-grid-row-container'>\n                        </div>\n                        <div id='rowFarContainer' role=\"presentation\" class='far jqx-hidden jqx-grid-row-container'>\n                        </div>\n                        <jqx-scroll-bar right-to-left=\"[[rightToLeft]]\" id='verticalScrollBar' class='jqx-grid-scroll-bar' wait disabled='[[disabled]]' orientation='vertical'></jqx-scroll-bar>\n                        <jqx-scroll-bar right-to-left=\"[[rightToLeft]]\" id='horizontalScrollBar' class='jqx-grid-scroll-bar' wait disabled='[[disabled]]'></jqx-scroll-bar>\n                    </div>\n                  <div id='filterFooter' class='jqx-grid-filter-footer jqx-hidden'></div>\n                </div>\n                <div id='loadingIndicatorContainer' class='jqx-loader-container'>\n                    <span id='loadingIndicator' class='jqx-grid-loader jqx-loader'></span>\n                    <span id='loadingIndicatorPlaceholder' class ='jqx-loader-label jqx-hidden'></span>\n                </div>\n                <div id='footerCommandBar' footer class='jqx-grid-footer jqx-grid-command-bar jqx-hidden'></div>\n                <div id='footerPager' class='jqx-grid-pager jqx-hidden'></div>\n                <div id='footer' class='jqx-grid-footer jqx-hidden'></div>\n            </div>"}static get listeners(){return{focus:"_focusHandler",blur:"_blurHandler",wheel:"_mouseWheelHandler","document.up":"_upHandler","document.move":"_moveHandler","document.scroll":"_scrollHandler",keydown:"_keyDownHandler",keyup:"_keyUpHandler",resize:"_resizeHandler","header.click":"_headerClickHandler","columnHeader.down":"_columnDownHandler","columnHeader.click":"_columnClickHandler","columnHeader.move":"_columnMoveHandler","columnHeader.mouseleave":"_columnMouseLeaveHandler","rowNearContainer.down":"_rowDownHandler","rowContainer.down":"_rowDownHandler","rowFarContainer.down":"_rowDownHandler","container.selectstart":"_selectStartHandler",styleChanged:"_styleChangedHandler",swipeleft:"_swipeLeftHandler",swiperight:"_swipeRightHandler"}}get _tabindex(){return this.disabled||this.unfocusable?"":' tabindex="0"'}pageIndexValidator(e,t){const i=this
if(t<0)return 0
if(i.dataSource){const e=Math.ceil(i.dataSource.length/i.paging.pageSize)
if(t>e-1)return e-1}}_offsetTop(e){return e?e.offsetTop+this._offsetTop(e.offsetParent):0}_offsetLeft(e){return e?e.offsetLeft+this._offsetLeft(e.offsetParent):0}offset(e){return{left:this._offsetLeft(e),top:this._offsetTop(e)}}getBoundingRect(e){const t=this
let i=window.pageXOffset,n=window.pageYOffset,r=e.getBoundingClientRect()
if(e!==document.body){let r=e.parentNode
for(;r!==document.body;){r&&(i+=r.scrollLeft,n+=r.scrollTop)
let e=r
r=r.parentNode,t.enableShadowDOM&&r===t.shadowRoot?r=t:!t.isInShadowDOM||r!==t.getRootNode()&&e!==t.getRootNode()||(r=t.getRootNode().host)}}return{bottom:r.bottom+n,height:r.height,left:r.left+i,right:r.right+i,top:r.top+n,width:r.width}}_upHandler(e){const t=this,i=t.getBoundingRect(t)
if(super._upHandler(),t._tapTimer&&clearTimeout(t._tapTimer),(e.pageX<i.left||e.pageX>i.right||e.pageY<i.top||e.pageY>i.bottom)&&(t._inputOverlay&&(t._inputOverlay.classList.remove("jqx-input-overlay-on"),setTimeout(()=>{t._inputOverlay&&(t._inputOverlay.parentNode&&t._inputOverlay.parentNode.removeChild(t._inputOverlay),t._inputOverlay=null)},t.behavior.doubleClickTimingDelay)),t.editing.isEditing&&!t.editing.dialog.enabled&&setTimeout(()=>{e.defaultPrevented||t.editing.editCell&&t.editing.editCell.editor.instance&&(t.editing.editCell.editor.instance.blur(e),e.defaultPrevented)||t.endEdit()},50),t.menu)){let i,n,r,o
if(t.enableShadowDOM||t.isInShadowDOM?(i=e.originalEvent.composedPath()[0],n=function(){let e=i.getRootNode().host
for(;e;){if(e===t)return e
e=e.getRootNode().host}}(),r=t.menu.contains(i)||t.menu.firstElementChild.shadowRoot.contains(i),o=t.menu.firstElementChild.shadowRoot):(i=e.originalEvent.target,n=t.contains(i),r=t.menu.contains(i),o=t.menu),!n&&!r){const e=o.querySelectorAll("jqx-drop-down-list"),n=o.querySelectorAll("jqx-date-time-picker")
for(let t=0;t<e.length;t++){if(e[t].$.dropDownContainer.contains(i))return}for(let e=0;e<n.length;e++){if(n[e].$.dropDownContainer.contains(i))return}return void t.closeMenu()}}t._dragSelectionEnd(e),t._endResize(e),t._endDrag(e)}_nextColumn(e){const t=this
for(let i=0;i<t.viewColumns.length;i++){const n=t.viewColumns[i]
if(n.visibleIndex===e.visibleIndex+1)return n}return null}_nextRow(e){const t=this._recyclingRows,i=t.indexOf(e)
return i>=0?t[i+1]:null}_moveHandler(e){const t=this
if(t.isInitialized&&t._selection){if(t.selection.enabled&&t.selection.allowDragSelection&&!t.editing.isEditing&&(!t._selection.selectionRect||t._selection.selectionRect&&!t._selection.selectionRect.captured)){t._dragSelection(e)
const i=e.originalEvent.target.closest?e.originalEvent.target:void 0
JQX.Utilities.Core.isMobile&&i&&i.closest("jqx-grid")===t&&e.originalEvent.preventDefault()}t.isScrolling||("none"===t.behavior.columnResizeMode||t.classList.contains("jqx-grid-row-resize-mode")||t._columnMoveResizeHandler(e),"none"===t.behavior.rowResizeMode||t.classList.contains("jqx-grid-column-resize-mode")||t._rowMoveResizeHandler(e),t._drag(e))}}_columnMouseLeaveHandler(){const e=this
if(e._columnElements)for(let t=0;t<e._columnElements.length;t++){const i=e._columnElements[t],n=i.column
n&&n.autoShowActionButton&&i._hideActionButton()}}_columnMoveHandler(e){const t=this
if(t.isInitialized&&!t._columnResizeStartLine&&!t._rowResizeStartLine)for(let i=0;i<t._columnElements.length;i++){const n=t._columnElements[i],r=n.column
if(r&&r.autoShowActionButton){const i=n.getBoundingClientRect(),o=t.offset(n)
if(o.left<=e.pageX&&o.left+i.width-6>=e.pageX)if(o.top<=e.pageY&&o.top+i.height>=e.pageY){if(!t.hasColumnMenu(r))continue
n._showActionButton()}else n._hideActionButton()
else n._hideActionButton()}}}_headerClickHandler(e){const t=this
if(t.$.headerBar){const i=t.isInShadowDOM||t.shadowRoot?e.composedPath()[0]:e.target
t.$.headerBar._headerClickHandler(i,t)}}_columnClickHandler(e){const t=this,i=(t.enableShadowDOM?t.shadowRoot:t.getRootNode()).elementsFromPoint(e.clientX,e.clientY)
let n=null,r=null
const o=new Date-t._clickTime<t.behavior.doubleClickTimingDelay
t._doubleClickHandler(e)
for(let e=0;e<i.length;e++){const t=i[e]
if(t.classList.contains("jqx-action-button"))return
if(t.getAttribute("data-field")){n=t.getAttribute("data-field"),r=t
break}}if(n){const i=r.column
if(!i)return
if(e.srcElement.classList.contains("jqx-filter-button"))return
JQX.Utilities.Core.isMobile?(o&&i.allowSortToggleOnClick&&t.sorting.enabled&&t.sortBy(n),t._columnMoveHandler(e),e.originalEvent.preventDefault()):i.allowSortToggleOnClick&&t.sorting.enabled&&t.sortBy(n)}}_columnDownHandler(e){const t=this,i=(t.enableShadowDOM?t.shadowRoot:t.getRootNode()).elementsFromPoint(e.clientX,e.clientY)
let n=null,r=null
const o=new Date-t._clickTime<t.behavior.doubleClickTimingDelay
t.$.headerBar&&t.$.headerBar.closePanel(),t._doubleClickHandler(e)
for(let e=0;e<i.length;e++){const t=i[e]
if(t.classList.contains("jqx-action-button"))return
if(t.getAttribute("data-field")){n=t.getAttribute("data-field"),r=t
break}}if(n){const i=r.column
if(!i)return
if("_commandColumn"===n)return void t._applyCommand(t.editing.commandColumn.dataSource.commandColumnMenu.command)
const a=function(r){if(i.selectionColumn?t.selection.checkBoxes.action===r&&t.selection.enabled:t.selection.action===r&&t.selection.enabled){if(t.editing.enabled&&t.editing.editColumn===i)return
if(e.shiftKey||e.ctrlKey?t._dragSelectionStartDataField=null:t._dragSelectionStartDataField=n,"_checkBoxColumn"===n)return void t._toggleColumnSelection(i)
t._setSelection(null,i.dataField,e)}}
if(t.editing.isEditing&&t.endEdit(),t.$.fireEvent("columnClick",{column:i}),a("click"),o&&(t.$.fireEvent("columnDoubleClick",{column:i}),a("doubleClick"),t._onColumnDoubleClick(i,e)),t._columnToResizeElement&&!t._columnResizeLine)return void t._columnDownResizeHandler(e)
t._beginDrag(e,i)}t.closeMenu(),t._clickTime=new Date}addTransformMoveStyle(e,t,i,n,r,o){e.style.opacity=o,e.style["transition-duration"]=t,e.style.transform="translate3d("+i+"px,"+n+"px,"+r+"px)"}removeTransformMoveStyle(e){e.style.opacity="",e.style["transition-duration"]="",e.style.transform=""}_rowDownHandler(e){const t=this
if(t._inputOverlay&&t._inputOverlay.classList.remove("jqx-input-overlay-on"),t._doubleClickHandler(e),t._closeMenu(t.menu),t._rowResizeHandler(e),t._toggledRow&&t.appearance.allowRowToggleAnimation)return
if(!e.target.classList.contains("jqx-grid-row-container")&&!e.target.classList.contains("jqx-grid-selection-overlay")&&!e.target.classList.contains("jqx-selection-overlay-content"))return
let i=e.clientX,n=e.clientY
e.touches&&(i=e.touches[0].clientX,n=e.touches[0].clientY)
const r=(t.enableShadowDOM?t.shadowRoot:t.getRootNode()).elementsFromPoint(i,n)
let o=null,a=null,s=null,l=null
t._lastPointerDownTime=new Date
for(let e=0;e<r.length;e++){const t=r[e]
if(t.hasAttribute("toggle-button")&&(a=t),t.hasAttribute("checkbox")&&(s=t),l||"jqx-grid-cell"!==t.nodeName.toLowerCase()||(l=t),!o&&"jqx-grid-row"===t.nodeName.toLowerCase()){o=t
break}}if(o&&l){const i=l?l.cell:null
if(i.row.filterRow||t._closeMenu(t.filterRowMenu),a&&i&&!i.column.rowDetailColumn){o.row.toggle(e)}else if(t.rowDetail.enabled&&t.rowDetail.visible&&a&&i&&i.column.rowDetailColumn){const e=o.row
e.showDetail?t.hideDetail(e.id):t.showDetail(e.id)}else{const i=o.row,n=l?l.cell:null
n.column._treeColumn&&s&&(i.checked=!i.checked),n.element===i.header&&t.behavior.allowRowReorder&&t._beginDrag(e,i),t.$.fireEvent("rowClick",{row:i,originalEvent:e.originalEvent}),t.$.fireEvent("cellClick",{cell:n,originalEvent:e.originalEvent}),t._tapTimer&&clearTimeout(t._tapTimer),t._tapTimer=setTimeout(function(){t._clickedRow===o&&t.$.fireEvent("rowTap",{row:i,originalEvent:e.originalEvent}),t._clickedCell===l&&t.$.fireEvent("cellTap",{cell:n,originalEvent:e.originalEvent})},t.behavior.doubleClickTimingDelay)
const r=function(r){if(!t.selection.enabled||i.autoGenerated||!0!==i.allowSelect)return void delete t.__selectionStarted
const a=t.editing.isEditing
if(a&&t.editing.editCell&&t.editing.editCell.row.id===i.id&&t.editing.editCell.column.dataField===n.column.dataField)return
if(a&&t.editing.editRow&&t.editing.editRow.id===i.id)return
const s=()=>{t.focus(),setTimeout(function(){t.focus()},50)}
if(t.selection.action===r){if(e.shiftKey||e.ctrlKey?t._dragSelectionStartRow=null:!t.selection.allowRowHeaderSelection&&n.column.autoGenerated?t._dragSelectionStartRow=null:t._dragSelectionStartRow=o.row,e.shiftKey||e.ctrlKey?t._dragSelectionStartDataField=null:t._dragSelectionStartDataField=n.column.dataField,n.column.rowHeaderColumn&&!t.selection.allowRowHeaderSelection)return t._dragSelectionStartRow=null,void s()
t._setSelection(i.id,n.column.dataField,e),s()}else n.column.selectionColumn&&t.selection.checkBoxes.enabled&&t.selection.checkBoxes.action===r&&(t._setSelection(i.id,n.column.dataField,e),s())},a=n.selected,d=t._clickedCell===l&&new Date-t._clickTime<t.behavior.doubleClickTimingDelay
r("click"),i.autoGenerated||n.column.autoGenerated||n.template?(t._onRowClick(i.index,i,e),t._onCellClick(n,e)):t.selection.enabled?t.selection.allowCellSelection?"extended"===t.selection.mode?!0===a&&a===n.selected&&!t.selection.isDragging&&d&&(t._onRowClick(i.index,i,e),t._onCellClick(n,e)):d&&(t._onRowClick(i.index,i,e),t._onCellClick(n,e)):t.selection.allowRowSelection?"extended"===t.selection.mode?!0===a&&a===n.selected&&!t.selection.isDragging&&d&&(t._onRowClick(i.index,i,e),t._onCellClick(n,e)):d&&(t._onRowClick(i.index,i,e),t._onCellClick(n,e)):(t._onRowClick(i.index,i,e),t._onCellClick(n,e)):(t._onRowClick(i.index,i,e),t._onCellClick(n,e)),new Date-t._clickTime<t.behavior.doubleClickTimingDelay&&(t._clickedRow===o&&(t._onRowDoubleClick(i.index,i,e,e),t.$.fireEvent("rowDoubleClick",{row:i,originalEvent:e.originalEvent}),r("doubleClick")),t._clickedCell===l&&(t._onCellDoubleClick(n,e),t.$.fireEvent("cellDoubleClick",{cell:n,originalEvent:e.originalEvent}))),t._clickedRow=o,t._clickedCell=l,t._clickTime=new Date}}}showDetail(e){const t=this.rowById[e]
t&&(t.showDetail=!0)}hideDetail(e){const t=this.rowById[e]
t&&(t.showDetail=!1)}_focusHandler(){this._focused=!0}_blurHandler(){this._focused=!1}_notify(e,t,i){const n=this
if(n.notifyFn)for(let r=0;r<n.notifyFn.length;r++)n.notifyFn[r](e,t,i)}notify(e){const t=this
e&&(t.notifyFn||(t.notifyFn=[]),t.notifyFn.push(e))}_applyTemplate(e,t){let i=null
if(null!==e&&""!==e)if((e.startsWith("#")||e.startsWith("."))&&(i=document.querySelector(e)),i)t.innerHTML="",t.appendChild(i.content.cloneNode(!0).firstElementChild)
else{const i=function(e){const t=document.createElement("template")
return e=e.trim(),t.innerHTML=e,t.content.firstChild}(e)
i&&(t.innerHTML="",t.appendChild(i))}else t.innerHTML=""}propertyChangedHandler(e,t,i){const n=this
if(n.isInitialized){switch(n._notify(e,t,i),e){case"appearance_displayLoadingIndicator":return
case"appearance_placeholder":return void(n.$.placeholder.innerHTML=i)
case"appearance_showColumnHeaderLines":case"appearance_showColumnLines":case"appearance_showRowLines":return void n._recycle()
case"appearance_allowColumnStickyPosition":i?n._stickHeader():n._unstickHeader()
break
case"appearance_showColumnIcon":for(let e=0;e<n.columns.length;e++){n.columns[e].setProperty("showIcon",n.appearance.showColumnIcon)}n._recycle()
break
case"appearance_showRowHeaderNumber":case"appearance_showRowHeader":{n._initializeRowNumberColumn()
const e=n._frozenNearColumns[0]
e.rowHeaderColumn&&e.element&&!e.element.parentNode&&n.$.columnNearContainer.appendChild(e.element),n.refresh()
break}case"header_template":n._applyTemplate(i,n.$.header)
break
case"footer_template":n._applyTemplate(i,n.$.footer)
break
case"columnWidth":{n.columns.canNotify=!1
let e=parseInt(i)
if(isNaN(e)&&(e=null),e>=30||null===e)for(let t=0;t<n.columns.length;t++){n.columns[t].width=e}n.columns.canNotify=!0,n.refresh()
break}case"checkBoxes_visible":return void n._recycle()
case"checkBoxes_hasThreeStates":return n.rows.canNotify=!1,n._applyThreeStates(n.rowHierarchy),n.rows.canNotify=!0,void n._recycle()
case"columnHeader_visible":n.__columnHeaderHeight=null,n.refresh()
break
case"selection_checkBoxes_enabled":n._selectionColumn.visible=i
break
case"selection_checkBoxes_autoShow":n._selectionColumn.element&&(i?n._selectionColumn.element.setAttribute("auto-show",""):n._selectionColumn.element.removeAttribute("auto-show"))
break
case"selection_checkBoxes_position":{let e=n.viewColumns.indexOf(n._selectionColumn)
n.viewColumns.canNotify=!1,n.viewColumns.splice(e,1)
const t=n._frozenNearColumns.indexOf(n._selectionColumn),r=n._frozenFarColumns.indexOf(n._selectionColumn)
if(t>=0&&n._frozenNearColumns.splice(t,1),r>=0&&n._frozenFarColumns.splice(r,1),"far"===i)n._selectionColumn.canNotify=!1,n._selectionColumn.freeze="far",n._selectionColumn.canNotify=!0,n._frozenFarColumns.splice(0,0,n._selectionColumn),n.viewColumns.push(n._selectionColumn),n.$.columnFarContainer.appendChild(n._selectionColumn.element)
else{let e=0,t=0
for(let i=0;i<n.viewColumns.length&&(n.viewColumns[i].autoGenerated||n.viewColumns[i].dataField!==n.columns[t++].dataField);i++)n.viewColumns[i].autoGenerated&&e++
n._selectionColumn.canNotify=!1,n._selectionColumn.freeze="near",n._selectionColumn.canNotify=!0,n._frozenNearColumns.splice(e,0,n._selectionColumn),n.viewColumns.splice(e,0,n._selectionColumn),n.$.columnNearContainer.appendChild(n._selectionColumn.element)}n.viewColumns.canNotify=!0
break}case"selection_mode":if(n._selection&&(n._selection.focusedCell=null),n.selection.allowCellSelection)n.clearSelection()
else if("one"===i){const e=n.getSelection()
n.clearSelection(),e.rows&&e.rows[0]&&(e.rows[0].row.selected=!0,n._selection.focusedCell=n.rowById[e.rows[0].row.id].getCell(n.columns[0].dataField))}break
case"filtering_enabled":return void(i&&n._createFilterPanels())
case"filtering_filter":for(let e=0;e<n.columns.length;e++){const t=n.columns[e]
t.canNotify=!1,t.setProperty("filter",null),t.canNotify=!0}for(let e=0;e<n.filtering.filter.length;e++){const t=n.filtering.filter[e]
if(t){const e=t[0],i=t.splice(1)
let r=null
if(i instanceof JQX.FilterGroup)r=i
else{const t=n.columnByDataField[e]
t&&(r=n.dataSource._createFilter(t.dataType,i))}r&&n.addFilter(e,r,!1)}}return void n.refreshFilters()
case"messages":case"locale":n._dialogEdit&&(n._dialogEdit.close(),n._dialogEdit=null),n._dialogDelete&&(n._dialogDelete.close(),n._dialogDelete=null),n._dialogAddRow&&(n._dialogAddRow.close(),n._dialogAddRow=null),n._recycle()
break
case"paging_spinner_enabled":n._refresh()
break
case"pager_visible":return n._renderPagers(),void n._refreshPaging(!1)
case"paging_pageIndex":case"pager_position":case"paging_enabled":return void n._refreshPaging(!0)
case"paging_pageSize":return void n._refreshPaging(!1)
case"columns":return void n._renderColumns()
case"dataSource":return delete n._isFirstVirtualDataSourceRequest,void n.dataBind()
case"rowDetail_dialog_width":case"rowDetail_dialog_height":case"rowDetail_dialog_enabled":case"rowDetail_dialog_visible":return
case"rowDetail_height":case"rowDetail_enabled":{n.beginUpdate(),n.rows.canNotify=!1
const e=n.appearance.allowRowDetailToggleAnimation
n.appearance.allowRowDetailToggleAnimation=!1
for(let e=0;e<n._recyclingRows.length;e++){const t=n._recyclingRows[e]
t.height=null,t.setProperty("showDetail",!1),t.detailHeight=n.rowDetail.height}if(n.rows.canNotify=!0,!n.rowDetail.enabled)for(let e=0;e<n.viewColumns.length;e++){const t=n.viewColumns[e]
if(t.rowDetailColumn){t.visible=!1
break}}return n.appearance.allowRowDetailToggleAnimation=e,void n.endUpdate()}case"rowDetail_visible":for(let e=0;e<n.viewColumns.length;e++){const t=n.viewColumns[e]
if(t.rowDetailColumn){t.visible=i
break}}return
case"displayLoadingIndicator":return void n._setLoadingIndicatorVisibility()
case"filterable":return void n._refreshLayout()
case"rightToLeft":return void n.refresh()
case"selectionMode":return
case"editing_addNewRow_visible":n._renderAddNewRow(),n.refresh()
break
case"editing_addNewRow_position":return n._renderAddNewRow(),void n.refresh()
case"editing_enabled":i?n.removeAttribute("aria-readonly"):n.setAttribute("aria-readonly",!0)
break
case"editing_dialog_visible":return
case"editing_commandColumn_visible":return void n.refresh(!0)}n.refresh()}}ready(){super.ready()
const e=this._scrollView.vScrollBar,t=this._scrollView.hScrollBar
e.hasStyleObserver=!1,t.hasStyleObserver=!1,e.hasResizeObserver=!1,t.hasResizeObserver=!1,e.wait=!1,t.wait=!1,e.onChange=this._verticalScrollbarHandler.bind(this),t.onChange=this._horizontalScrollbarHandler.bind(this),this.setFocusable(!0),this.$.loadingIndicatorPlaceholder.innerHTML=this.appearance.loadingIndicatorPlaceholder,this.$.placeholder.innerHTML=this.appearance.placeholder,this._setLoadingIndicatorVisibility(),this._cellsMerge=[],this.checkLicense()}checkLicense(e){(this.grouping.enabled||this.selection.enabled&&this.selection.allowCellSelection||this.rowDetail.enabled||this.charting.enabled||this.editing.enabled&&this.editing.batch||this.editing.enabled&&"row"===this.editing.mode||this.editing.enabled&&this.editing.addNewRow.visible||this.editing.enabled&&this.editing.commandColumn.visible||"virtual"===this.scrolling||this.sorting.enabled&&"many"===this.sorting.mode||!0===e)&&super.checkLicense()}_createFilterPanels(){const e=this
if(e._filterPanels){if(e._filterPanels.length>0)return}else e._filterPanels=[]
e.filtering.enabled&&0===e._filterPanels.length&&requestAnimationFrame(()=>{const t=document.createElement("jqx-filter-panel"),i=document.createElement("jqx-filter-panel"),n=document.createElement("jqx-filter-panel"),r=document.createElement("jqx-filter-panel")
i.filterType="boolean",n.filterType="numeric",r.filterType="date",e._filterPanels.bool=i,e._filterPanels.date=r,e._filterPanels.numeric=n,e._filterPanels.string=t
for(let t in e._filterPanels){const i=e._filterPanels[t]
i.rightToLeft=e.rightToLeft,i.classList.add("jqx-hidden"),e.$.content.appendChild(i),i.parentNode.removeChild(i)}})}_applyScrolling(){const e=this,t=e._scrollView.vScrollBar
requestAnimationFrame(()=>{switch(t.largeStep=e.$.scrollView.offsetHeight,e.scrolling){case"physical":case"infinite":case"virtual":t.step=10,t.mechanicalAction="switchWhileDragging"
break
case"deferred":t.step=10,t.mechanicalAction="switchWhenReleased"
break
case"logical":t.step=e.layout.rowMinHeight,t.mechanicalAction="switchWhileDragging"}})}get _autoRowHeight(){const e=this
if(e.__autoRowHeight)return e.__autoRowHeight
let t=e.layout.rowMinHeight
if(!e.dataSource||e.dataSource&&0===e.dataSource.length)return t
const i=new JQX.Grid.Row({index:0,grid:e}),n=i.createElement()
e.$.scrollView.appendChild(n),e.removeAttribute("grouped"),e.removeAttribute("tree"),e.grouping.enabled&&e.dataSource.groupBy&&e.dataSource.groupBy.length>0&&"advanced"===e.grouping.renderMode?e.setAttribute("grouped",""):e.dataSource.boundHierarchy&&e.setAttribute("tree","")
const r={}
for(let t=0;t<e.dataSource.dataFields.length;t++){r[e.dataSource.dataFields[t].name]="ABCDEFHIJLMNOPQRSTUVWXYZ1234567910|"}i.data=r,i._isMeasureRow=!0,i.render(),n.style.height="",n.style.lineHeight="",t=Math.max(n.offsetHeight,t)
for(let e=0;e<n.children.length;e++)n.children[e].style.height=""
for(let r=0;r<n.children[1].children.length;r++){n.children[1].children[r].style.height="auto",i.getCell(e.columns[0].dataField).render(),t=Math.max(t,8+n.children[1].children[r].offsetHeight)
break}return e.$.scrollView.removeChild(n),e.__autoRowHeight=t,t}get _scrollHeight(){const e=this
let t=e._recyclingRows,i=0,n=e._autoRowHeight,r=0,o=0
if(e.__scrollHeight)return e.__scrollHeight
if(0===t.length||0===e.columns.length)return 0
e.rows.canNotify=!1
const a=t.length
for(let s=0;s<a;s++){let a=t[s]
if(a.visible&&!1!==a.filtered){if((!a.height||!a.cellHeight||a.showDetail||"auto"===a.height||"auto"===a._height||"auto"===e.layout.rowHeight||e.layout.isDirty)&&!a.expandHeight){if(a.detailHeight||(a.detailHeight=200),e.layout.rowHeight){if(e.layout.rowHeight)if("number"==typeof e.layout.rowHeight)e.layout.rowHeight<e.layout.rowMinHeight&&(e.layout.rowHeight=e.layout.rowMinHeight),a.height=e.layout.rowHeight,a.computedHeight&&(a.height=a.computedHeight),void 0!==a.label&&"advanced"===e.grouping.renderMode&&(a.height=e.grouping.groupRowHeight),a.cellHeight=a.height,e.rowDetail.enabled&&a.showDetail&&!e.rowDetail.dialog.enabled&&(a.height+=a.detailHeight)
else if("auto"===e.layout.rowHeight){e.layout.rowHeight<e.layout.rowMinHeight&&(e.layout.rowHeight=e.layout.rowMinHeight),a.element=e._rowElements[0],a.element&&a.element.classList.contains("jqx-hidden")&&a.element.classList.remove("jqx-hidden")
const t=a.data&&e.isRendered?a._autoSize(a):n
a.height=t,a.computedHeight&&(a.height=a.computedHeight),void 0!==a.label&&"advanced"===e.grouping.renderMode&&(a.height=e.grouping.groupRowHeight),a.cellHeight=a.height,e.rowDetail.enabled&&a.showDetail&&!e.rowDetail.dialog.enabled&&(a.height+=a.detailHeight)}else e.layout.rowHeight(s,a),a.height||(a.height=n),a.cellHeight=a.height,e.rowDetail.enabled&&a.showDetail&&!e.rowDetail.dialog.enabled&&(a.height+=a.detailHeight)}else{if("auto"===a.height||"auto"===a._height){a.element=e._rowElements[0],a.element&&a.element.classList.contains("jqx-hidden")&&a.element.classList.remove("jqx-hidden")
const t=a.data&&e.isRendered?a._autoSize(a):n
a.height=t,a._height="auto"}else a.height=n
void 0===a.label||a.summaryRow||"advanced"!==e.grouping.renderMode||(a.height=e.grouping.groupRowHeight),a.computedHeight&&(a.height=a.computedHeight),a.cellHeight=a.height,e.rowDetail.enabled&&a.showDetail&&!e.rowDetail.dialog.enabled&&(a.height+=a.detailHeight)}e._rowGap&&s<e.rows.length-1&&(a.height+=e._rowGap)}!0===a.freeze||"near"===a.freeze?r+=a.height:"far"===a.freeze&&(o+=a.height),a.freeze?a.top=i:(a.top!==i&&(a.top=i),a.expandHeight?i+=a.cellHeight:i+=a.height)}else a.height=0,a.cellHeight=0,a.top=i}return e._summaryRowCount&&e.summaryRow.visible&&(i+=e._summaryRowCount*n),e.filtering&&e.filtering.filterRow.visible&&(r+=n),e.__scrollHeight=i,e.__frozenNearHeight=r,e.__frozenFarHeight=o,e._scrollView.scrollHeight=i-e.$.scrollView.offsetHeight+r+o,i=e.__scrollHeight+r+o-1,e.grouping.enabled&&e.dataSource.groupBy.length>0&&e.grouping.groupIndent>0&&"advanced"===e.grouping.renderMode&&(i+=parseInt(e.grouping.groupIndent/2)),e.__scrollHeight=i,e.rows.canNotify=!0,i}_measureColumnHeight(){const e=this
if(e.__measuredColumnHeight)return e.__measuredColumnHeight
const t=document.createElement("jqx-grid-column")
t.style.height="auto",t.style.position="static"
const i=document.createElement("div")
i.classList.add("jqx-label"),i.innerHTML="aAbBcCdDeEfFgGhHiIjJkKlLmMnNoOpPqQrRwWxXyYzZ1234567890",t.appendChild(i),e.$.columnHeader.appendChild(t)
let n=e.$.columnHeader.offsetHeight
return e.$.columnHeader.removeChild(t),e._columnHeights&&e._columnHeights.length>1&&(n=e._columnHeights[0]),n<e.columnMinHeight&&(n=e.columnMinHeight),e.__measuredColumnHeight=n,n}_initializeColumnGroupsHierarchy(){const e=this
let t=0
if(e.$.columnContainer.innerHTML="",e.columnGroups.length>0){for(let t=0;t<e.columnGroups.length;t++)e.columnGroups[t].parent=null,e.columnGroups[t].groups=null
for(let t=0;t<e.viewColumns.length;t++)e.viewColumns[t].parent=null,e.viewColumns[t].groups=null
const i=function(t){for(let i=0;i<e.columnGroups.length;i++){let n=e.columnGroups[i]
if(n.name===t)return n}return null},n=function(e){let t=new Array
if(e.columnGroup&&t.push(e),e.groups)for(let i=0;i<e.groups.length;i++)if(e.groups[i].columnGroup)t.push(e.groups[i])
else if(e.groups[i].groups){let r=n(e.groups[i])
for(let e=0;e<r.length;e++)t.push(r[e])}return t}
for(let t=0;t<e.columnGroups.length;t++){let n=e.columnGroups[t]
if(n.groups||(n.groups=null),n.parentGroup){let e=i(n.parentGroup)
e&&(n.parent=e,e.groups||(e.groups=new Array),-1===e.groups.indexOf(n)&&e.groups.push(n))}}for(let t=0;t<e.viewColumns.length;t++){let n=e.viewColumns[t]
if(n.columnGroup){let e=i(n.columnGroup)
e&&(e.groups||(e.groups=new Array),n.parent=e,-1===e.groups.indexOf(n)&&e.groups.push(n))}}for(let i=0;i<e.viewColumns.length;i++){const n=e.viewColumns[i]
let r=n
for(n.level=0;r.parent;)r=r.parent,n.level++
r=n
let o=n.level
for(t=Math.max(t,n.level);r.parent;)(r=r.parent)&&(r.level=--o)}for(let t=0;t<e.columnGroups.length;t++){const i=e.columnGroups[t],r=n(i)
i.columns=r
let o=new Array,a=0,s="near"
0===r.length&&(a=-1,i.visible=!1)
for(let t=0;t<r.length;t++)o.push(e.viewColumns.indexOf(r[t])),r[t].freeze&&("far"===r[t].freeze&&(s="far"),a++)
a===r.length?i.freeze=s:a>0&&a<r.length&&e.error(e.localize("frozenColumns",{elementType:"Grid"})),o.sort(function(e,t){return(e=parseInt(e))<(t=parseInt(t))?-1:e>t?1:0})
for(let t=1;t<o.length;t++)o[t]!==o[t-1]+1&&e.error(e.localize("columnGroups",{elementType:"Grid"}))}}e._columnGroupsLevel=1+t}_refreshColumnHeights(){const e=this
e.$.columnHeader.style.height="",e._viewColumnsHeight=e._measureColumnHeight(),e._columnHeights=[]
let t=0
for(let i=0;i<e._columnGroupsLevel;i++){let n=e._viewColumnsHeight
e.columnHeight&&(n="number"==typeof e.columnHeight?e.columnHeight?e.columnHeight:e._viewColumnsHeight:e.columnHeight?e.columnHeight(i):e._viewColumnsHeight),n<e.columnMinHeight&&(n=e.columnMinHeight),n?(e._columnHeights.push(n),t+=n):(t+=e._viewColumnsHeight,e._columnHeights.push(e._viewColumnsHeight))}e._columnHeaderHeight=e._columnGroupsLevel*e._viewColumnsHeight,e._columnHeaderHeight=t,e.$.columnHeader.style.height=e._columnHeaderHeight+"px"
const i=function(t){let i=0
for(let n=0;n<t.level;n++)i+=e._columnHeights[n]
return i},n=function(t){let n=i(t),r=e._columnHeaderHeight-n
for(let i=t.level+1;i<e._columnHeights.length;i++){const n=i
for(let i=0;i<e.viewColumns.length;i++){const o=e.viewColumns[i]
let a=!1
if(o.level===n){let i=o
for(;i.parent;){if(i.parent===t){r=e._columnHeights[n],a=!0
break}i=i.parent}if(a)break}}}return r}
for(let t=0;t<e.viewColumns.length;t++){const r=e.viewColumns[t],o=n(r)
r.computedHeight=o,r.top=i(r)}for(let t=0;t<e._columnGroupsLevel-1;t++)for(let r=0;r<e.columnGroups.length;r++){const o=e.columnGroups[r]
if(o.level!==t)continue
if(o.groups){const e=n(o),t=i(o)
o.top=t,o.computedHeight=e}const a=o.element
a&&(a.style.width=o.computedWidth+"px",e.rightToLeft?a.style.right=o.left+"px":a.style.left=o.left+"px",a.style.top=o.top+"px",a.style.height=o.computedHeight+"px",a.style.lineHeight=o.computedHeight+"px")}}_refreshColumnWidths(){const e=this
e.__clientSize=null
const t=e.$.verticalScrollBar.offsetWidth>0?e.$.verticalScrollBar.offsetWidth:0,i=e.dataSource.groupBy||[]
let n=e.grouping.enabled&&"advanced"===e.grouping.renderMode?e.grouping.groupIndent*(1+i.length):0,r=0
e.selection.checkBoxes.enabled&&(r=e._selectionColumn.computedWidth?e._selectionColumn.computedWidth:e._selectionColumn.minWidth)
const o=e._clientSize.width-t-n
let a=0,s=[],l=0,d=0,c=0
if(e.editing.enabled&&!e.editing.commandColumn.inline){const t=function(){const t=document.createElement("div"),i=document.createElement("div"),n=e.editing.commandColumn.dataSource
let r=0,o="",a=0
i.classList.add("jqx-label")
for(let t in n){const i=n[t]
let r=!1
if("commandColumnMenu"===t)continue
let s=!1
if(r||(!0===i.visible?(a++,s=!0):"auto"===i.visible&&((e.editing.editRow||e.editing.editCell)&&!e.editing.dialog.enabled||"commandColumnEdit"!==t?!e.editing.editRow&&!e.editing.editCell||e.editing.dialog.enabled||("commandColumnUpdate"===t?(a++,s=!0):"commandColumnCancel"===t&&(a++,s=!0)):(a++,s=!0)),r=!0),s&&"icon"!==e.editing.commandColumn.displayMode){o+="<span>"+("{{messages}}"===i.label?e.localize(t):i.label)+"</span>"}}return i.innerHTML="<span>"+o+"</span>",t.appendChild(i),t.style.width="auto",t.style.position="static",e.$.columnHeader.appendChild(t),r=10+i.firstChild.offsetWidth,e.$.columnHeader.removeChild(t),"icon"===e.editing.commandColumn.displayMode?r=20+20*a:"labelAndIcon"===e.editing.commandColumn.displayMode?r+=25*a:r+=10*a,r}
if(e._commandColumn.visible=e.editing.commandColumn.visible,e.editing.commandColumn.visible){const i=e.editing.commandColumn.width?e.editing.commandColumn.width:t()
e.columns.canNotify=!1,e._commandColumn.width=i,e.columns.canNotify=!0}}for(let t=0;t<e.viewColumns.length;t++){const i=e.viewColumns[t]
let n
"number"==typeof i.width?n=i.width:i.width&&i.width.toString().indexOf("%")>=0?(n=parseFloat(i.width)/100,n*=o-r):i.width&&(i.width.toString().indexOf("em")>=0||i.width.toString().indexOf("pt")>=0||i.width.toString().indexOf("fr")>=0)?(n=parseFloat(i.width),n*=16):"auto"===i.width?n=i._autoSize():i.visible&&(s.push(i),n=0),i.overflowWidth&&(n-=i.overflowWidth),i.visible&&(a+=n),n<i.minWidth&&(n=i.minWidth),i.computedWidth=n}if(s){let e=o-a,t=0
e<0&&(e=60*s.length)
for(let i=0;i<s.length;i++){const n=s[i]
let r
r=e/s.length,i===s.length-1&&(r=e-t),n.overflowWidth&&(r-=n.overflowWidth),r<n.minWidth&&(r=n.minWidth),n.computedWidth=r,t+=r}}for(let t=0;t<e.viewColumns.length;t++){let i=e.viewColumns[t]
i.visible&&(n>0&&!i.autoGenerated&&(i.computedWidth+=n,n=0),i.freeze?!0===i.freeze||"near"===i.freeze?(i.left=l,c+=i.computedWidth,l+=i.computedWidth):"far"===i.freeze&&(i.left=d,d+=i.computedWidth):(i.left=c,c+=i.computedWidth))}for(let t=0;t<e._columnGroupsLevel-1;t++)for(let i=0;i<e.columnGroups.length;i++){const n=e.columnGroups[i]
if(n.level!==t)continue
let r=99999
if(n.groups){const e=function(t){let i=0
for(let n=0;n<t.groups.length;n++){let o=t.groups[n]
o.groups?i+=e(o):o.hidden||(r=Math.min(o.left,r),i+=o.computedWidth)}return i}
n.computedWidth=e(n),n.left=r}}}_createColumnHeaderCellElements(){const e=this,t=e.$.columnContainer,i=document.createDocumentFragment()
let n=0
e._columnElements=[],e.$.columnContainer.innerHTML="",e.$.columnNearContainer.innerHTML="",e.$.columnFarContainer.innerHTML="",e.rightToLeft?(e.$.columnNearContainer.classList.remove("near"),e.$.columnNearContainer.classList.add("far"),e.$.columnFarContainer.classList.remove("far"),e.$.columnFarContainer.classList.add("near")):(e.$.columnNearContainer.classList.remove("far"),e.$.columnNearContainer.classList.add("near"),e.$.columnFarContainer.classList.remove("near"),e.$.columnFarContainer.classList.add("far"))
for(let t=0;t<e._frozenNearColumns.length;t++){e._frozenNearColumns[t].createElement()}for(let t=0;t<e._frozenFarColumns.length;t++){e._frozenFarColumns[t].createElement()}for(let t=0;t<e.viewColumns.length;t++){const r=e.viewColumns[t]
if(r.freeze)continue
const o=r.createElement()
void 0!==r.computedWidth?(n+=r.computedWidth,e._columnElements.push(o),n<2*e._clientSize.width&&i.appendChild(o)):(e._columnElements.push(o),i.appendChild(o))}for(let t=0;t<e.columnGroups.length;t++){const n=e.columnGroups[t],r=new JQX.Grid.Column({visible:void 0===n.visible||n.visible,allowSelect:!1,grid:e,dataField:n.name,label:n.label,align:n.align,verticalAlign:n.verticalAlign})
n.column=r
const o=r.createElement()
o.style.width=n.computedWidth+"px",e.rightToLeft?o.style.right=n.right+"px":o.style.left=n.left+"px",o.style.top=n.top+"px",o.style.height=n.computedHeight+"px",o.style.lineHeight=n.computedHeight+"px",i.appendChild(o),n.element=o,n.grid=this}e.htmlColumnLastChild||(e.htmlColumnLastChild=document.createElement("jqx-grid-column"),e.htmlColumnLastChild.classList.add("top-far-corner"),e.htmlColumnLastChild.onpointerdown=(e=>{e.stopPropagation(),e.preventDefault()}),e.$.columnHeader.appendChild(e.htmlColumnLastChild)),t.appendChild(i),t.style.width=e._computedColumnsWidth+"px",e._refreshFrozenColumns()}_refreshFrozenColumns(){const e=this
e.$.columnNearContainer.style.width=e._frozenColumnsNearWidth+"px",e.$.columnFarContainer.style.width=e._frozenColumnsFarWidth+"px"
for(let t=0;t<e.columnGroups.length;t++){const i=e.columnGroups[t]
i.freeze&&i.element&&(!0===i.freeze||"near"===i.freeze?e.$.columnNearContainer.appendChild(i.element):"far"===i.freeze&&e.$.columnFarContainer.appendChild(i.element))}for(let t=0;t<e.viewColumns.length;t++){const i=e.viewColumns[t]
i.freeze&&i.element&&(!0===i.freeze||"near"===i.freeze?e.$.columnNearContainer.appendChild(i.element):"far"===i.freeze&&e.$.columnFarContainer.appendChild(i.element))}}get _clientSize(){const e=this
if(e.__clientSize)return e.__clientSize
const t=getComputedStyle(e.$.container),i=parseFloat(t.paddingLeft)+parseFloat(t.paddingRight),n=parseFloat(t.paddingTop)+parseFloat(t.paddingBottom),r=parseFloat(t.borderLeftWidth)+parseFloat(t.borderRightWidth),o=parseFloat(t.borderTopWidth)+parseFloat(t.borderBottomWidth)
return e.__clientSize={width:e.$.container.offsetWidth-i-r,height:e.$.container.offsetHeight-n-o},e.__clientSize}_initializeRowElements(){const e=this
if(!e.rows)return
e.rows.canNotify=!1
let t=0,i=e._clientSize.height
e.$.rowNearContainer.innerHTML="",e.$.rowFarContainer.innerHTML="",e.$.rowContainer.innerHTML="",e._rowElements=[],e._overflowOffset=Math.max(i,300),e.rightToLeft?(e.$.rowNearContainer.classList.remove("near"),e.$.rowNearContainer.classList.add("far"),e.$.rowFarContainer.classList.remove("far"),e.$.rowFarContainer.classList.add("near")):(e.$.rowFarContainer.classList.remove("near"),e.$.rowFarContainer.classList.add("far"),e.$.rowNearContainer.classList.remove("far"),e.$.rowNearContainer.classList.add("near"))
const n=e.offsetHeight
e.$.container.classList.add("jqx-hidden")
const r=e.offsetHeight
e.$.container.classList.remove("jqx-hidden"),"hidden"!==e.verticalScrollBarVisibility&&n===r||(i=e._scrollHeight)
const o=function(){const n=document.createDocumentFragment()
if(e.rows&&0===e.rows.length)return
for(let r=0;r<e.rows.length;r++){const o=e.rows[r]
if(o.freeze)continue
const a=o.createElement()
if(n.appendChild(a),(t+=e.layout.rowMinHeight)>e._overflowOffset+i)break}e.$.rowContainer.appendChild(n)
const r=e.$.rowContainer.children
for(let t=0;t<r.length;t++){const i=r[t]
e.rows[t]&&(e.rows[t].element=i),e._rowElements[t]=i}}
for(let t=0;t<e._frozenNearRows.length;t++){const i=e._frozenNearRows[t]
i.grid=e
const n=i.createElement()
i.element=n,e.$.rowNearContainer.appendChild(n)}for(let t=0;t<e._frozenFarRows.length;t++){const i=e._frozenFarRows[t]
i.grid=e
const n=i.createElement()
i.element=n,e.$.rowFarContainer.appendChild(n)}o()
let a=0
for(;t<1.5*i&&++a<50;)o()
e.rows.canNotify=!0}_initializeRows(){const e=this
let t=0
e._frozenNearDefaultRows=[],e._frozenFarDefaultRows=[],e.rows=[],e.rowById=[],e._frozenFarRows=[],e._frozenNearRows=[]
const i=function(){let t=[],i=!1
for(let n=0;n<e.columns.length;n++){const r=e.columns[n]
let o={}
r.summary&&r.summary.length>0&&(i=!0),o[r.dataField]=r.summary,t.push(o)}e._summaryItems=i?e.dataSource.summarize(t):[]},n=function(i,n){const r=i.grid?i:new JQX.Grid.Row({data:i,index:n,grid:e})
if(e.onRowInit){e.onRowInit(n,r)
for(let t in r)-1!==r.properties.indexOf(t)||t.startsWith("_")||e.error(e.localize("invalidRowProperty",{elementType:"Grid",propertyName:t}))}if(r.selected&&(e._selection.rows[r.id]=!0),r.freeze){if(!0===r.freeze||"near"===r.freeze){e.rows.splice(t++,0,r)
const i=e.rows[t-1];-1===e._frozenNearRows.indexOf(i)&&e._frozenNearRows.push(i)}else if("far"===r.freeze){e.rows.push(r)
const t=e.rows[e.rows.length-1];-1===e._frozenFarRows.indexOf(t)&&e._frozenFarRows.push(t)}}else e.rows[n]?e.rows.splice(n,0,r):e.rows.push(r)
"virtual"===e.scrolling||e.paging.enabled&&e.dataSource&&e.dataSource.virtualDataSource||e.onRowInserted&&e.onRowInserted(n,r)},r=function(){const t=e.rows[e.rows.length-1]
e.rows.pop(),e.onRowRemoved&&e.onRowRemoved(e.rows.length,t)},o=function(t){const i=e.rows[t]
e.rows.splice(t,1),e.onRowRemoved&&e.onRowRemoved(t,i)}
e._add=n,e._removeLastRow=r,e._removeAt=o,e._rowHeight=e._autoRowHeight
const a=e.dataSource.length
e.setAttribute("aria-rowcount",a)
for(let t=0;t<e.dataSource.length;t++){const i=e.dataSource[t]
n(i,t)}for(let t=0;t<e._frozenFarRows.length;t++){const i=e._frozenFarRows[t]
e.rows.splice(e.rows.indexOf(i),1),e.rows.push(i)}if(i(),e.dataSource.notify(function(t){if(e.dataSource._updating)return
const s=t.data
switch(e.rows.canNotify=!1,t.action){case"add":if(s.length)for(let t=0;t<s.length;t++)n(s[t],e.dataSource.length-s.length+t)
else n(s,e.dataSource.length-1)
break
case"update":if(s.length)for(let i=0;i<s.length;i++){const r=t.index[i]
e.rows[r]?(e.rows[r].data=s[i],e.onRowUpdated&&e.onRowUpdated(r,e.rows[r])):n(s[i],e.dataSource.length-1)}else{const i=t.index
e.rows[i]?e.rows[i].data=s:n(s,e.dataSource.length-1),e.onRowUpdated&&e.onRowUpdated(i,e.rows[i])}break
case"insert":n(s,t.index)
for(let t=0;t<e.rows.length;t++){e.rows[t].index=t}break
case"remove":o(t.index)
break
case"removeLast":r()
break
case"bindingComplete":if(e.dataSource&&e.dataSource.url||e.dataSource&&!e.dataSource.virtualDataSource){if(e.appearance.displayLoadingIndicator=!1,e._setLoadingIndicatorVisibility(),e._toggledRow=null,e.dataSource.length!==a){if(e.paging.enabled){const t=e.$.headerPager.querySelector("jqx-pager"),i=e.$.footerPager.querySelector("jqx-pager")
t&&(t.pagesCount=Math.ceil(e.dataSource.length/e.paging.pageSize)),i&&(i.pagesCount=Math.ceil(e.dataSource.length/e.paging.pageSize))}e._initializeRows(),e._initializeRowElements(),e.refresh()}e._recycle()}}i(),"update"!==t.action&&e._refreshLayout(),e._recycle(),e.rows.canNotify=!0}),e._observeRows(),e.summaryRow.visible)for(let t=0;t<e._summaryRowCount;t++){const i=new JQX.Grid.Row({height:e.layout.rowMinHeight,freeze:"near",visible:"near"===e.summaryRow.position,summaryRowIndex:t,summaryRow:!0}),n=new JQX.Grid.Row({height:e.layout.rowMinHeight,freeze:"far",visible:"far"===e.summaryRow.position,summaryRowIndex:t,summaryRow:!0})
e._frozenNearRows.splice(0,0,i),e._frozenFarRows.push(n)}if(e.filtering.enabled&&e.filtering.filterRow.visible){const t=new JQX.Grid.Row({freeze:!0,autoGenerated:!0,filterRow:!0})
e._frozenNearRows.splice(0,0,t)}e._renderAddNewRow()}_observeRows(){const e=this
e._frozenNearRows=[],e._frozenFarRows=[],e.rows=new JQX.ObservableArray(e.rows,null,{allowToggle:!0,allowResize:!0,allowCheck:!0,allowSelect:!0,allowReorder:!0,expanded:!0,selected:!0,checked:!0,visible:!0,enabled:!0,minHeight:!0,height:!0,freeze:!0,showDetail:!0,data:!0,visibleIndex:!0,index:!0})
for(let t=0;t<e.rows.length;t++){const i=e.rows[t]
!0===i.freeze||"near"===i.freeze?e._frozenNearRows.push(i):"far"===i.freeze&&e._frozenFarRows.push(i),e.rowById[e.rows[t].id]=i}e.rows.notify(function(t){if(!e.rows.canNotify)return
const i=t.action
if("length"===i)return
if(t.path)return e.rows.canNotify=!1,n=e.rows[t.index],r=t.propertyName,o=t.oldValue,a=t.newValue,n.propertyChanged(r,o,a),void(e.rows.canNotify=!0)
var n,r,o,a
if(e.rows.canNotify=!1,!e.dataSource)return
switch(e.dataSource.canNotify=!1,i){case"add":{const i=function(i){let n=e.rows[i]
if(n instanceof JQX.Grid.Row==!1){n=new JQX.Grid.Row(n)
const r=e.rows.canNotify
e.rows.canNotify=!1,t.object[i]=n,n=t.object[i],e.rows.canNotify=r}i<e.dataSource.length?e.dataSource.insert(i,e.rows[i].data):e.dataSource.add(e.rows[i].data),n.grid=e,n.data=e.dataSource[i],e.rowById[n.id]=n,n.selected&&(e._selection.rows[n.id]=!0),n.freeze&&(!0===n.freeze||"near"===n.freeze?e._frozenNearRows.push(n):"far"===n.freeze&&e._frozenFarRows.push(n))}
for(let e=0;e<t.addedCount;e++)i(t.index+e)
break}case"update":e.dataSource.update(t.index,e.rows[t.index])
break
case"remove":{const i=t.removed
delete e.rowById[i.id],e.dataSource.removeAt(t.index)
break}}if(e.dataSource.canNotify=!0,e.rows.canNotify=!0,!i)return
e.isInitialized&&e._rowElements&&e._rowElements.length<e.rows.length&&e._initializeRowElements(),e.refresh(),e._refreshPagesCount()})}render(){const e=this,t=()=>0===e.offsetWidth||0===e.offsetHeight
if(t())return requestAnimationFrame(()=>{e.isInitialized||t()||e._render()}),e.setAttribute("role","grid"),e.editing.enabled||e.setAttribute("aria-readonly",!0),void super.render()
const i=e.context
e.context=e,e.setAttribute("role","grid"),e.editing.enabled||e.setAttribute("aria-readonly",!0),e._render(),e.context=i,super.render()}_renderColumns(e){const t=this
t._initializeColumns(),t._initializeColumnGroupsHierarchy(),t._refreshColumnsResponsiveVisibility(),t._createColumnHeaderCellElements(),t._renderColumnGroupHeaders(),!1!==e&&t._refresh()}_renderRows(e){const t=this
t._initializeRows(),t._initializeRowElements(),!1!==e&&t._refresh()}_render(){const e=this
if(e.isInitialized||(e.onBeforeInit&&e.onBeforeInit(),e.$.fireEvent("beforeInit",{grid:e})),null===e.dataSource?e.dataSource=new JQX.DataAdapter:Array.isArray(e.dataSource)&&(e.dataSource=new JQX.DataAdapter({dataSource:e.dataSource})),e._selection={rows:[],columns:[],cells:[]},e.dataSource&&e.dataSource.url&&(e.appearance.displayLoadingIndicator=!0,e._setLoadingIndicatorVisibility(),e.dataSource.data={sorting:e.getSortedColumns(),filtering:e.getFilteredColumns(),grouping:[]}),e._renderColumns(!1),e._renderRows(!1),e._renderPagers(),e._renderCommandBar(),e.appearance.allowColumnStickyPosition&&e._stickHeader(),e.header.visible&&""===e.header.template&&(e.$.header.innerHTML='<jqx-grid-toolbar header-position="top"></jqx-grid-toolbar>',e.$.headerBar=e.$.header.firstElementChild,e.$.headerBar._init(e)),e.isInitialized)e.refreshFilters()
else{for(let t=0;t<e.viewColumns.length;t++){const i=e.viewColumns[t]
if(!i.allowSort||!i.sortOrder)continue
const n=e.appearance.allowSortAnimation
e.appearance.allowSortAnimation=!1,e.sortBy(i.dataField,i.sortOrder),e.appearance.allowSortAnimation=n}if(e.filtering.filter.length>0){for(let t=0;t<e.filtering.filter.length;t++){const i=e.filtering.filter[t]
if(i){const t=i[0],n=i.splice(1)
let r=null
if(n instanceof JQX.FilterGroup)r=n
else{const i=e.columnByDataField[t]
i&&(r=e.dataSource._createFilter(i.dataType,n))}r&&e.addFilter(t,r,!1)}}e.refreshFilters()}}e.viewColumns.canNotify=!0
const t=!e.isInitialized
if(t&&(e.onInit&&e.onInit(),e.$.fireEvent("init",{grid:e})),e.isInitialized=!0,"virtual"===e.scrolling||e.paging.enabled&&e.dataSource&&e.dataSource.virtualDataSource?e._virtualDataRequest("dataBind"):e.dataSource&&e.dataSource.virtualDataSource&&e._virtualDataRequest("dataBind"),""!==e.header.template&&e._applyTemplate(e.header.template,e.$.header),""!==e.footer.template&&e._applyTemplate(e.footer.template,e.$.footer),e._createFilterPanels(),e._refresh(),e._applyScrolling(),e.grouping.enabled&&e.grouping.autoExpandAll&&e.rowHierarchy&&e.expandAllRows(),e.onRender&&e.onRender(),e.isRendered=!0,"auto"===e.layout.rowHeight&&(e._refreshLayout(),e._recycle()),t&&(e.onAfterInit&&e.onAfterInit(),e.$.fireEvent("afterInit",{grid:e}),e.isRendering=!1,e.whenRenderedCallbacks)){for(let t=0;t<e.whenRenderedCallbacks.length;t++)e.whenRenderedCallbacks[t]()
e.whenRenderedCallbacks=[]}}get _viewRows(){const e=this
if(e.__viewRows)return e.__viewRows
e._nearRowsAdded||(e._nearRowsAdded=[],e._farRowsAdded=[])
const t=e.rowHierarchy?e.rowHierarchy:e.rows.toArray(),i=[].concat(e._frozenNearDefaultRows,e._nearRowsAdded,t,e._farRowsAdded,e._frozenFarDefaultRows)
return e.__viewRows=i,i}_stickHeader(){const e=this
e._stickyHeaderHandler=function(){e._handleStickyHeader()},e.$.columnHeader.style.top="",e.$.columnHeader.classList.remove("jqx-columns-sticky")
let t=e.parentNode
for(e.isInShadowDOM&&t===e.getRootNode()&&(t=e.getRootNode().host);t!==document&&t;)t.addEventListener("scroll",e._stickyHeaderHandler),t=t.parentNode,e.isInShadowDOM&&t===e.getRootNode()&&(t=e.getRootNode().host)
try{null!==window.top&&window.top!==window.self&&window.top.document.addEventListener("scroll",e._stickyHeaderHandler)}catch(e){}e._handleStickyHeader()}_unstickHeader(){const e=this
e.$.columnHeader.style.top="",e.$.columnHeader.classList.remove("jqx-columns-sticky")
let t=e.parentNode
for(;t!==document.body;)t.removeEventListener("scroll",e._stickyHeaderHandler),t=t.parentNode,e.isInShadowDOM&&t===e.getRootNode()&&(t=e.getRootNode().host)
try{(""!==document.referrer||window.frameElement)&&null!==window.top&&window.top!==window.self&&window.top.document.removeEventListener("scroll",e._stickyHeaderHandler)}catch(e){}}_handleStickyHeader(){const e=this
if(e.appearance.allowColumnStickyPosition)if(e.$.columnHeader.classList.add("jqx-columns-sticky"),0===document.scrollTop&&0===e.parentElement.scrollTop)e.$.columnHeader.style.top=""
else{let t=e.parentNode,i=0
for(;t!==document.body;)i+=parseInt(t.scrollTop),t=t.parentNode,e.isInShadowDOM&&t===e.getRootNode()&&(t=e.getRootNode().host)
const n=parseInt(e.clientTop+i)
e.$.columnHeader.style.top=n+"px"
let r=0
window.top!==window.self&&parseInt(window.top.scrollY)>parseInt(e._offsetTop(window.frameElement))&&(r=parseInt(window.top.scrollY)-parseInt(e._offsetTop(window.frameElement))),window.scrollY+r>e.offsetTop&&(e.$.columnHeader.style.top=parseInt(window.scrollY)-parseInt(e.offsetTop)+n+r+"px")}}_scrollHandler(){this._handleStickyHeader()}_initializeRowNumberColumn(){const e=this
if(e._frozenNearColumns&&e._frozenNearColumns.length>0&&e._frozenNearColumns[0].rowHeaderColumn)return void(e._frozenNearColumns[0].visible=e.appearance.showRowHeaderNumber||e.appearance.showRowHeader)
const t=new JQX.Grid.Column({dataField:"_rowHeaderColumn",label:"",allowSelect:!1,freeze:!0,visible:!0,grid:e,autoGenerated:!0,rowHeaderColumn:!0,cellsAlign:"center"}),i=e.rows?e.rows.length:e.dataSource?e.dataSource.length:0
let n=e.appearance.showRowHeaderNumber?t._measureSize(i):30
e.appearance.autoGenerateColumnWidth&&(n=e.appearance.autoGenerateColumnWidth),t.width=n,t.createElement()
const r=new JQX.Observable(t,t.observables)
e.viewColumns.splice(0,0,r),e._frozenNearColumns.splice(0,0,r)}_initializeColumns(){const e=this
if("number"==typeof e.columns){const t=[],i="A".charCodeAt(0)
let n="",r=0
for(let o=0;o<e.columns;o++){let a=o+1
const s=String.fromCharCode(i+r)
r++
const l=n+s
"number"!==e.appearance.autoGenerateColumnLabelMode&&(a=n+s),t.push({align:"center",label:a,dataField:l,width:100}),r>=26&&(r=0,n+="A")}e._boundColumns=t}else e._boundColumns=Array.isArray(e.columns)?[...e.columns]:[...e.columns.toArray()]
e._initColumns=e.columns,e.columnByDataField=[],e.viewColumns=[],e.columns=new JQX.ObservableArray,e._frozenFarColumns=[],e._frozenNearColumns=[],e._summaryRowCount=0
let t=0
const i=function(t){if(e.dataSource.dataFields){const i=e.dataSource.dataFields.find(e=>{if(e.name===t.dataField)return e}),n=i&&i.dataType||"string"
t.dataType=n}}
if(0===e._boundColumns.length&&e.dataSource&&e.dataSource[0]&&!1!==e.dataSource.autoGenerateColumns){const t=e.dataSource[0]
if(t.$&&t.$.isEmpty&&e.dataSource.dataFields)for(let t=0;t<e.dataSource.dataFields.length;t++){const i=e.dataSource.dataFields[t],n=e._boundColumns.length,r={index:n,visibleIndex:n,label:i.name,dataField:i.name,dataType:i.dataType}
e._boundColumns.push(r)}else for(let n in t){if(n.startsWith("_")||"$"===n)continue
const t=e._boundColumns.length,r={index:t,visibleIndex:t,label:n,dataField:n}
i(r),e._boundColumns.push(r)}}for(let n=0;n<e._boundColumns.length;n++){let r=e._boundColumns[n]
if("string"==typeof r){if(e.dataSource.dataFields){const t=e.dataSource.dataFields.find(e=>{if(e.name===r)return e})
r={label:r,dataField:r,dataType:t&&t.dataType||"string"}}}else i(r)
r.visibleIndex=n,r.index=n,r.grid=e
const o=new JQX.Grid.Column(r)
e.onColumnInit&&e.onColumnInit(n,o)
for(let t in o)-1!==o.properties.indexOf(t)||t.startsWith("_")||e.error(e.localize("invalidColumnProperty",{elementType:"Grid",propertyName:t,type:o.dataField||"Column"}))
o.grid=e,e.columns.push(o)
const a=e.columns[e.columns.length-1]
e._summaryRowCount=Math.max(e._summaryRowCount,o.summary.length),o.freeze?!0===o.freeze||"near"===o.freeze?(e.viewColumns.splice(t++,0,a),e._frozenNearColumns.push(a)):"far"===o.freeze&&e._frozenFarColumns.push(a):e.viewColumns.push(a),e.columnByDataField[o.dataField]?(a.parent=e.columnByDataField[o.dataField],e.columnByDataField[o.dataField].children||(e.columnByDataField[o.dataField].children=[]),e.columnByDataField[o.dataField].children.push(a)):e.columnByDataField[o.dataField]=a,e.onColumnInserted&&e.onColumnInserted(n,o)}e.viewColumns=e.viewColumns.concat(e._frozenFarColumns),e.setAttribute("aria-colcount",e._boundColumns.length)
let n=0
if((e.appearance.showRowHeaderNumber||e.appearance.showRowHeader)&&(e._initializeRowNumberColumn(),n++),e.rowDetail.enabled){const t=new JQX.Grid.Column({dataField:"_rowDetailColumn",allowSelect:!1,visible:e.rowDetail.visible,label:"",grid:e,freeze:!0,rowDetailColumn:!0,autoGenerated:!0,cellsAlign:"center",width:30}),i=new JQX.Observable(t,t.observables)
"near"===e.rowDetail.position?(t.freeze="near",i.freeze="near",e.viewColumns.splice(n,0,i),e._frozenNearColumns.splice(n,0,i)):(e.viewColumns.push(i),e._frozenFarColumns.splice(0,0,i)),n++}const r=new JQX.Grid.Column({dataField:"_adaptiveColumn",allowSelect:!1,visible:!1,label:"",grid:e,freeze:"far",adaptiveColumn:!0,autoGenerated:!0,cellsAlign:"center",width:30}),o=new JQX.Observable(r,r.observables)
o.canNotify=!1,e.viewColumns.push(o),e._frozenFarColumns.splice(0,0,o)
const a=new JQX.Grid.Column({dataField:"_commandColumn",allowSelect:!1,visible:e.editing.enabled&&e.editing.commandColumn.visible&&!e.editing.commandColumn.inline,label:"",grid:e,freeze:"far",commandColumn:!0,autoGenerated:!0,align:"center",cellsAlign:"center",width:""}),s=new JQX.Observable(a,a.observables)
s.canNotify=!1,"near"===e.editing.commandColumn.position?(a.freeze="near",s.freeze="near",e.viewColumns.splice(n,0,s),e._frozenNearColumns.splice(n,0,s)):(e.viewColumns.push(s),e._frozenFarColumns.splice(0,0,s)),e._commandColumn=s
const l=new JQX.Grid.Column({allowSelect:!1,visible:e.selection.enabled&&e.selection.checkBoxes.enabled,dataField:"_checkBoxColumn",label:"",freeze:e.selection.checkBoxes.position,grid:e,selectionColumn:!0,autoGenerated:!0,cellsAlign:"center",width:32}),d=new JQX.Observable(l,l.observables)
"near"===l.freeze?(e.viewColumns.splice(n,0,d),e._frozenNearColumns.splice(n,0,d)):(e.viewColumns.push(d),e._frozenFarColumns.splice(0,0,d)),e._selectionColumn=d,e._selectionColumn.canNotify=!1,e._observeColumns(),e._templateColumns()}get styleProperties(){return["grid-template-columns","--jqx-grid-row-height","--jqx-grid-column-header-height","--jqx-grid-group-header-height","--jqx-grid-filter-footer-height","--jqx-grid-group-row-vertical","--jqx-grid-group-row-horizontal-offset","--jqx-grid-freeze-splitter-size","--jqx-grid-resize-line-size","--jqx-grid-footer-height","--jqx-grid-header-height"]}_templateColumns(){const e=this,t=getComputedStyle(e),i=t.getPropertyValue("--jqx-grid-template-columns").trim(),n=t.getPropertyValue("--jqx-grid-column-gap").trim(),r=t.getPropertyValue("--jqx-grid-row-gap").trim()
if(e._rowGap=parseInt(r),e._columnGap=parseInt(n),e._maxHeight=parseInt(t.maxHeight),e._minHeight=parseInt(t.minHeight),"none"!==i){let t=0
for(let i=0;i<e.viewColumns.length;i++)e.viewColumns[i].autoGenerated&&(t+=e.viewColumns[i].visible?e.viewColumns[i].width:0)
let n=[]
const r=document.createElement("div")
r.style.display="grid",r.style.gridTemplateColumns=i
for(let t=0;t<e.columns.length;t++)r.innerHTML+="<div></div>"
r.style.width=e.clientWidth-t+"px",e.$.root.appendChild(r)
const o=i.split(" ")
for(let t=0;t<e.columns.length;t++)n[t]=r.children[t].offsetWidth,"auto"===o[t]&&(n[t]=null)
r.parentNode.removeChild(r)
let a=0
for(let t=0;t<e.viewColumns.length;t++){const i=e.viewColumns[t]
i.autoGenerated||n[a]&&(i.width=i.templateWidth=n[a++])}}else for(let t=0;t<e.viewColumns.length;t++){const i=e.viewColumns[t]
i.autoGenerated||i.templateWidth&&(i.width=i.templateWidth=null)}}onAttached(){const e=this
e._scrollView||(e._scrollView=new JQX.Utilities.Scroll(e,e.$.horizontalScrollBar,e.$.verticalScrollBar)),e.isRendered&&e.isCompleted&&e._render()}onDetached(){const e=this
if(!e.isRendered)return;["_dialogChart","_dialogAddRow","_dialogEdit","_dialogDelete","_dialogRowDetail"].forEach(t=>{e[t]&&(e[t].close(),e[t]=null)}),e.menu&&(e.menu.ownerElement=null,e.menu.remove(),e.menu=null),e._resetCachedLayout()
const t=e._scrollView.hScrollBar,i=e._scrollView.vScrollBar
if(i.ownerElement=null,t.ownerElement=null,i.onChange=null,t.onChange=null,e._scrollView&&(e._scrollView.unlisten(),delete e._scrollView),e._columnElements)for(let t=0;t<e._columnElements.length;t++){e._columnElements[t]._detach()}if(e._columnElements=null,e._rowElements)for(let t=0;t<e._rowElements.length;t++){e._rowElements[t]._detach()}e._rowElements=null,e.rows=[],e.rowById=[],e._initColumns=[],e.columnByDataField=[],e.viewColumns=[],e._columnToResizeElement=null
let n=Array.isArray(e.columns)?[...e.columns]:[...e.columns.toArray()]
n=n.map(e=>e.data?(void 0!==e.data.visibleIndex&&delete e.data.visibleIndex,void 0!==e.data.index&&delete e.data.index,void 0!==e.data.grid&&delete e.data.grid,e.data):e),e.rows.notifyFn=null,e.columns.notifyFn=null,e.columns.notify=null,e.columns._array=[],e.columns=n,e._boundColumns=[],e._filterPanels=[],e._frozenFarColumns=[],e._frozenNearColumns=[],e._frozenNearDefaultRows=[],e._frozenFarDefaultRows=[],e._frozenFarRows=[],e._frozenNearRows=[],e._selection={rows:[],columns:[],cells:[]},e.__autoHeightRows=null,e._visibleRows=null,e.__viewRows=null,e.__clientSize=null,e.__scrollHeight=null,e.__scrollWidth=null,e.__parentCells=null,e._selectionColumn=null,e._adaptiveColumn=null,e._commandColumn=null,delete e._columnFarContainerComputedStyle,delete e._columnContainerComputedStyle,delete e._columnNearContainerComputedStyle,e._inputOverlay&&(e._inputOverlay.parentNode&&e._inputOverlay.parentNode.removeChild(e._inputOverlay),e._inputOverlay=null),e._firstVisibleColumn=null,e._lastVisibleColumn=null,e._toggledRow=null,JQX(e._selector)&&(delete JQX(e._selector)._properties,JQX(e._selector)),delete e._selector,delete e._initProperties}_observeColumns(){const e=this,t=function(e,t,i,n){e.propertyChanged(t,i,n)}
for(let i=0;i<e.viewColumns.length;i++){const n=e.viewColumns[i]
n.onAction=function(){e._openMenu(this)},n.autoGenerated&&n.notify(function(e){n.canNotify=!1,t(n,e.propertyName,e.oldValue,e.newValue),n.canNotify=!0})}e.columns.notify(function(i){let n=null
if(i.path)return e.columns.canNotify=!1,t(i.target,i.propertyName,i.oldValue,i.newValue),void(e.columns.canNotify=!0)
e.columns.canNotify=!1
let r=0
switch(i.action){case"length":return void(e.columns.canNotify=!0)
case"add":{const t=function(t){if((n=i.object[t])instanceof JQX.Grid.Column==!1){n=new JQX.Grid.Column(n)
const r=e.columns.canNotify
e.columns.canNotify=!1,i.object[t]=n,n=i.object[t],e.columns.canNotify=r}n.grid=e,n.freeze?e._frozenNearColumns.push(n):"far"===n.freeze&&e._frozenFarColumns.push(n)
let r=e.viewColumns.length-e._frozenFarColumns.length
if(t<e.columns.length?e.viewColumns.splice(t+e._frozenNearColumns.length,0,n):e.viewColumns.splice(r,0,n),e.columnByDataField[n.dataField]){e.columnByDataField[n.dataField].children.push(n),n.parent=e.columnByDataField[n.dataField],n.valueField=n.dataField
const t=n.dataField+"_"+n.parent.children.length
e.columnByDataField[t]=n,n.dataField=t}else e.columnByDataField[n.dataField]=n
e.onColumnInserted&&e.onColumnInserted(t,n)}
for(let e=0;e<i.addedCount;e++)t(i.index+e)
break}case"update":(n=i.object[i.index])instanceof JQX.Grid.Column==!1&&(n=new JQX.Grid.Column(n)),n.grid=e
for(let t=0;t<i.index;t++)e.viewColumns[t].autoGenerated&&r++
e.viewColumns[r+i.index]=n,e.columnByDataField[n.dataField]=n,e.onColumnUpdated&&e.onColumnUpdated(i.index,n)
break
case"remove":{n=i.removed[0]
let t=i.index
for(let i=0;i<=t;i++)e.viewColumns[i].autoGenerated&&r++
e.viewColumns.splice(r+t,1),n&&delete e.columnByDataField[n.dataField],e.onColumnRemoved&&e.onColumnRemoved(i.index,n)
break}}e._initializeColumnGroupsHierarchy(),e._refreshColumnsResponsiveVisibility(),e._createColumnHeaderCellElements(),e._templateColumns(),e.refresh(),e.columns.canNotify=!0})}get _scrollWidth(){const e=this
if(e.__scrollWidth)return e.__scrollWidth
let t=0
for(let i=0;i<e.viewColumns.length;i++){const n=e.viewColumns[i]
n.visible&&(t+=n.computedWidth)}return t=parseInt(t),e.__scrollWidth=t,e._scrollView.scrollWidth=t-e._clientSize.width,e.__scrollWidth}_horizontalScrollbarHandler(){const e=this
e.closeMenu(),e.isScrolling=!0,requestAnimationFrame(()=>{e._recycle(),e.isScrolling=!1})}_mouseWheelHandler(e){const t=this
if(!t._scrollView.hScrollBar.$.hasClass("jqx-hidden")||!t._scrollView.vScrollBar.$.hasClass("jqx-hidden"))if(t.disabled||t._scrollView.vScrollBar.$.hasClass("jqx-hidden")||e.shiftKey){if(!t.disabled&&!t._scrollView.hScrollBar.$.hasClass("jqx-hidden")){const i=t.scrollLeft
if(0===i&&e.deltaY<0||i===t.scrollWidth&&e.deltaY>0)return
e.stopPropagation(),e.preventDefault(),t._scrollView.scrollTo(t._scrollView.scrollLeft+t._getScrollCoefficient(e,t._clientSize.width),!1)}}else{const i=t.scrollTop
if(0===i&&e.deltaY<0||i===t.scrollHeight&&e.deltaY>0)return
e.stopPropagation(),e.preventDefault(),t._scrollView.scrollTo(t._scrollView.scrollTop+t._getScrollCoefficient(e,t._clientSize.height))}}_refresh(){const e=this
if(e._isUpdating)return
const t=e.$.verticalScrollBar.offsetWidth
e.removeAttribute("grouped"),e.removeAttribute("tree")
let i=!0
if(e.__autoHeightRows&&(e.__autoHeightRows=null,e._refreshColumnsResponsiveVisibility(),e._recycle(),i=!1),e.grouping.enabled&&e.dataSource.groupBy&&e.dataSource.groupBy.length>=0&&("advanced"===e.grouping.renderMode?e.setAttribute("grouped",""):e.setAttribute("tree",""),e._renderGroupBar()),e.grouping.enabled&&e.dataSource.groupBy&&0===e.dataSource.groupBy.length?e.$.breadcrumb&&(e.$.breadcrumb.dataSource=[]):e.dataSource.boundHierarchy&&(e.setAttribute("tree",""),e.setAttribute("role","treegrid")),(e.isInitialized||i)&&e._refreshColumnsResponsiveVisibility(),e._refreshLayout(),t!==e.$.verticalScrollBar.offsetWidth&&(e.__scrollWidth=null,e._refreshColumnsResponsiveVisibility(),e._refreshScrollBars()),e._refreshSelection(),e._recycle(),e._refreshHeaderBar(),e._recyclingRows&&0===e._recyclingRows.length){const t=e.$.scrollView.offsetTop>0?e.$.scrollView.offsetTop/2:0
e.$.placeholder.classList.remove("jqx-hidden"),e.$.placeholder.style.marginTop=t+"px",e.scrollWidth=0,e.scrollHeight=0}requestAnimationFrame(()=>{e._width=e.offsetWidth,e._height=e.offsetHeight})}_refreshHeaderBar(){this.$.headerBar&&this.$.headerBar._refresh()}_resizeHandler(e){const t=this
if((t.enableShadowDOM?e.composedPath()[0]:e.target)===t&&!t._isUpdatingScrollBars){if(!t.isInitialized)return void t._render()
t._isUpdatingScrollBars=!0,t._autoHeight=!1,t.$.content&&t.$.content.classList.remove("auto-height"),t.refresh(),t._isUpdatingScrollBars=!1}}_refreshColumnsResponsiveVisibility(){const e=this,t=e.$.columnContainer,i=e.$.columnNearContainer,n=e.$.columnFarContainer
let r=0,o=0,a=0,s=!1
for(let t=0;t<e.viewColumns.length;t++){const i=e.viewColumns[t]
i._treeColumn=!1,e.grouping.enabled&&(i.rowDetailColumn||i.rowHeaderColumn),i.visible&&!i.autoGenerated&&!s&&e.dataSource.boundHierarchy&&(i._treeColumn=!0,s=!0)}e._refreshColumnWidths()
let l=0,d=0
for(let t=0;t<e.viewColumns.length;t++){const i=e.viewColumns[t]
i.visible&&(i.freeze&&(!0===i.freeze||"near"===i.freeze?(r+=i.computedWidth,i.autoGenerated&&(l+=i.computedWidth)):"far"===i.freeze&&(o+=i.computedWidth,i.autoGenerated&&(d+=i.computedWidth))),a+=i.computedWidth)}t.style.width=a+"px",i.style.width=r+"px",n.style.width=o+"px",n.classList.remove("jqx-hidden"),i.classList.remove("jqx-hidden"),0===o&&n.classList.add("jqx-hidden"),0===r&&i.classList.add("jqx-hidden"),n.classList.remove("border-collapse"),o===d&&n.classList.add("border-collapse"),e._autoGeneratedColumnsNearWidth=l,e._autoGeneratedColumnsFarWidth=d,e._computedColumnsWidth=a,e._frozenColumnsNearWidth=r,e._frozenColumnsFarWidth=o}_selectStartHandler(e){this.isScrolling||this.editing.isEditing||e.preventDefault()}setFocusable(e){const t=this
!t.disabled&&e?t.tabIndex=0:t.removeAttribute("tabindex")}_setLoadingIndicatorVisibility(){const e=this
e.appearance.displayLoadingIndicator?e.$.loadingIndicatorContainer.classList.remove("jqx-visibility-hidden"):e.$.loadingIndicatorContainer.classList.add("jqx-visibility-hidden")}_refreshElementsVisibility(){const e=this,t=function(e,t){e&&(t?e.classList.remove("jqx-hidden"):e.classList.add("jqx-hidden"))}
if(t(e.$.placeholder,!e.rows||e.rows&&0===e.rows.length||0===e.columns.length),t(e.$.footer,e.footer.visible),t(e.$.header,e.header.visible),t(e.$.groupHeader,e.groupHeader.visible||e.grouping.groupBar.visible),t(e.$.columnHeader,e.columnHeader.visible&&e.columns.length>0),t(e.$.headerCommandBar,e.editing.commandBar.visible&&"far"!==e.editing.commandBar.position),t(e.$.footerCommandBar,e.editing.commandBar.visible&&"near"!==e.editing.commandBar.position),t(e.$.breadcrumb,e.groupHeader.visible||e.grouping.groupBar.visible),e.htmlColumnLastChild.classList.add("jqx-visibility-hidden"),e.pager&&e.pager.visible&&e.paging.enabled)switch(e.pager.position){case"near":t(e.$.headerPager,!0),t(e.$.footerPager,!1)
break
case"far":t(e.$.headerPager,!1),t(e.$.footerPager,!0)
break
case"both":t(e.$.headerPager,!0),t(e.$.footerPager,!0)}else t(e.$.footerPager,!1),t(e.$.headerPager,!1)
e._refreshRowHierarchy()}_refreshRowHierarchy(e){const t=this
t.rowHierarchy=null
let i=0,n=!1
if(!t.grouping.enabled&&t.dataSource.groupBy&&t.dataSource.groupBy.length>0&&(n=!0),t.dataSource.boundHierarchy){const r=t.dataSource.reservedNames,o=function(e){const i=new JQX.Grid.Row({data:e,index:t.rows.length})
return t.rowById[i.id]=i,i},a=function(i,s){for(let l=0;l<i.length;l++){const d=i[l]
let c=t.rowById[d.$.id]
c||(c=o(d)),c.data=d,c.leaf=d[r.leaf]||!1,c.level=d[r.level],c.groupDataField=d.groupDataField,c.label=d.label,c.children=[],c.data&&(c.filtered=void 0===c.data.$.filtered||c.data.$.filtered),d.summaryRow&&(c.summaryRow=!0),(null===t._toggledRow||t._toggledRow&&t._toggledRow.id!==c.id)&&(c.expandHeight=0),d.parent?(c.parent=t.rowById[d.parent.$.id],c.parentId=d.parent.$.id):(c.parent=null,c.parentId=null)
let h=!!e||c.expanded
if(n&&(h=!0),!0===c.visible&&!1!==c.filtered)if(h||d[r.leaf]){if(s.push(c),d.children&&d.children.length>0){const e=a(d.children,new Array)
0===e.length&&(c.leaf=!0)
for(let t=0;t<e.length;t++)s.push(e[t])
c.children=e}}else if(s.push(c),d.children&&d.children.length>0){const e=a(d.children,new Array)
0===e.length&&(c.leaf=!0),c.children=e}}return s}
let s=t.dataSource.boundHierarchy
t.paging.enabled&&(s=s.slice(t.paging.pageIndex*t.paging.pageSize,(t.paging.pageIndex+1)*t.paging.pageSize)),t.rowHierarchy=a(s,new Array)
let l=[]
for(let e=0;e<t.rowHierarchy.length;e++){const n=t.rowHierarchy[e],r=n.canNotify
n.leaf&&l.push(n),n.canNotify=!1,n.visibleIndex=i++,n.canNotify=r}if(n&&(t.rowHierarchy=l),t._rowElements.length<t.rowHierarchy.length&&!t._toggledRow&&t._initializeRowElements(),t.grouping.summaryRow.visible&&!t.grouping.summaryRow.inline){const e=function(t,i,n,r){if(0!==t&&i.length>0&&i[i.length-1]&&!i[i.length-1].summaryRow){let e={label:" ",boundSource:[],groupDataField:n.data.groupDataField,$:{},summaryRow:!0,leaf:!0,level:t,expandHeight:0,siblings:i}
e.$.id="SubRow"+r+"_"+n.data.$.id,n&&(e.parent=n.data,e.parentId=n.data.$.id),e.data=Object.assign(e),i.push(e)}for(let n=0;n<i.length;n++)i[n]&&i[n].data&&i[n].data.children&&e(t+1,i[n].data.children,i[n],n)}
e(0,t.rowHierarchy,null,0)}}}applyContent(){}_refreshContentHeight(){const e=this
let t=e._clientSize.height
const i=window.scrollY,n=e.offsetHeight
e.$.container.classList.add("jqx-hidden")
const r=e.offsetHeight
if(e.$.container.classList.remove("jqx-hidden"),window.scrollY!==i&&window.scrollTo(window.scrollX,i),"hidden"===e.verticalScrollBarVisibility||n!==r||e._minHeight&&e._minHeight===n)return t=e._scrollHeight+e.$.columnHeader.offsetHeight+e.$.filterFooter.offsetHeight,e._minHeight>t&&(t=e._minHeight),e.$.content.style.height=t+"px",e._contentHeight=t,void(e._maxHeight<t?(e._autoHeight=!1,e.$.content.classList.remove("auto-height"),e.$.content.style.height=e._maxHeight+"px",e._contentHeight=e._maxHeight):(e._autoHeight=!0,e.$.content.classList.add("auto-height")))
e.header.visible&&(t-=e.$.header.offsetHeight),(e.groupHeader.visible||e.grouping.groupBar.visible)&&(t-=e.$.groupHeader.offsetHeight),e.footer.visible&&(t-=e.$.footer.offsetHeight),e.pager.visible&&(t-=e.$.headerPager.offsetHeight,t-=e.$.footerPager.offsetHeight),e.editing.enabled&&e.editing.commandBar.visible&&(t-=e.$.headerCommandBar.offsetHeight,t-=e.$.footerCommandBar.offsetHeight),e.$.content.style.height=t+"px",e._contentHeight=t}appendChild(){const e=Array.prototype.slice.call(arguments,2)
return HTMLElement.prototype.appendChild.apply(this,e.concat(Array.prototype.slice.call(arguments)))}removeChild(){const e=Array.prototype.slice.call(arguments,2)
return HTMLElement.prototype.removeChild.apply(this,e.concat(Array.prototype.slice.call(arguments)))}get _contentBorder(){const e=this
if(e.__contentBorder)return e.__contentBorder
const t=getComputedStyle(e.$.content),i={left:parseFloat(t.borderLeftWidth)+parseFloat(t.borderRightWidth),top:parseFloat(t.borderTopWidth)+parseFloat(t.borderBottomWidth)}
return e.__contentBorder=i,i}_refreshLayout(){const e=this,t=e.rows
if(e._layoutSuspended)return
if(e._visibleRows=null,e.__viewRows=null,e.__clientSize=null,e.__scrollHeight=null,e.__scrollWidth=null,e.__parentCells=null,e.$.columnFarContainer.classList.remove("vscroll"),e.$.columnNearContainer.classList.remove("vscroll"),e.$.scrollView.classList.remove("hscroll"),e.$.scrollView.classList.remove("vscroll"),e._refreshElementsVisibility(),e._refreshColumnHeights(),e._refreshContentHeight(),!(t&&t.url||t&&null!==t&&0!==t.length&&0!==e.columns.length)){const t=e.$.scrollView.offsetTop>0?e.$.scrollView.offsetTop/2:0
return e.$.placeholder.classList.remove("jqx-hidden"),e.$.placeholder.style.marginTop=t+"px",e.scrollWidth=0,void(e.scrollHeight=0)}e.__columnHeaderHeight||(e.__columnHeaderHeight=e.$.columnHeader.offsetHeight),e.__filterFooterOffsetHeight||(e.__filterFooterOffsetHeight=e.$.filterFooter.classList.contains("jqx-hidden")?0:e.$.filterFooter.offsetHeight)
const i=e._contentHeight-e.__filterFooterOffsetHeight-e.__columnHeaderHeight
if(e.$.scrollView.style.height=i+"px",e.htmlColumnLastChild.style.height=e.__columnHeaderHeight+"px",e.paging.spinner.enabled&&e.paging.enabled){if(!e.pageScroll){const t=document.createElement("jqx-scroll-bar")
t.orientation="vertical",t.style.height="100%",t.style.width="100%",t.max=Math.ceil(e.dataSource.length/e.paging.pageSize),t.step=e.paging.spinner.step,t.largeStep=e.paging.spinner.step,t.setAttribute("spinner",""),t.setAttribute("jqx-id","spinner"),t.ownerElement=e,e.addPropertyBinding("[[paging_spinner_step]]","step",t,e.$.columnHeader),t.addEventListener("change",function(t){e.paging.pageIndex=t.detail.value}),e.pageScroll=t}e.htmlColumnLastChild.appendChild(e.pageScroll)}else e.htmlColumnLastChild.innerHTML=""
e._refreshScrollBars()}_refreshScrollBars(){const e=this,t=e._scrollView.vScrollBar,i=e._scrollView.hScrollBar,n=e._contentHeight-e.__filterFooterOffsetHeight-e.__columnHeaderHeight,r=e.$.scrollView.offsetWidth,o=e._scrollWidth-r-e._contentBorder.left,a=e._scrollHeight-n-e._contentBorder.top,s=e._columnNearContainerComputedStyle?e._columnNearContainerComputedStyle:getComputedStyle(e.$.columnNearContainer),l=e._columnFarContainerComputedStyle?e._columnFarContainerComputedStyle:getComputedStyle(e.$.columnFarContainer),d=parseInt(e.$.columnNearContainer.style.width)+parseInt(s.borderRightWidth),c=parseInt(e.$.columnFarContainer.style.width)+parseInt(l.borderLeftWidth)
if(e.__frozenNearWidth=d,e.__frozenFarWidth=c,e._columnNearContainerComputedStyle=s,e._columnFarContainerComputedStyle=l,e._refreshHorizontalScrollBarVisibility(o),e._refreshVerticalScrollBarVisibility(a),t.style.height=n+"px",e.computedVerticalScrollBarVisibility&&(e.__scrollBarSize||(e.__scrollBarSize=t.offsetWidth),e.__scrollWidth+=e.__scrollBarSize,e._refreshHorizontalScrollBarVisibility(e._scrollWidth-r-1),e.rightToLeft?e.$.columnNearContainer.classList.add("vscroll"):e.$.columnFarContainer.classList.add("vscroll"),e._refreshVerticalScrollBarVisibility(a),e.htmlColumnLastChild.classList.remove("jqx-visibility-hidden")),i.style.width=r+"px",e.rightToLeft?i.style.right="0px":i.style.left="0px",e.computedVerticalScrollBarVisibility&&e.computedHorizontalScrollBarVisibility&&(i.style.width=r-t.offsetWidth+"px",t.style.height=n-i.offsetHeight+"px"),e.computedHorizontalScrollBarVisibility?(e.$.scrollView.classList.add("hscroll"),e._autoHeight?(e.$.content.style.height="auto",e.$.scrollView.style.height="auto",e.$.scrollView.style.paddingBottom=i.offsetHeight+"px"):e.$.scrollView.style.paddingBottom=""):e.$.scrollView.classList.remove("hscroll"),(e.__frozenNearHeight>0||e._frozenNearRows&&e._frozenNearRows.length>0)&&!e.appearance.showVerticalScrollBarOnFixedColumns){const i=getComputedStyle(e.$.rowNearContainer),n=e.__frozenNearHeight+parseInt(i.borderBottomWidth)
t.style.height=parseInt(t.style.height)-n+"px",t.style.top=n+"px",t.style.setProperty("--jqx-scroll-bar-near-size",n+"px")}else e.appearance.showVerticalScrollBarOnFixedColumns&&(t.style.top="0px")
if((e.__frozenFarHeight>0||e._frozenFarRows&&e._frozenFarRows.length>0)&&!e.appearance.showVerticalScrollBarOnFixedColumns){const i=getComputedStyle(e.$.rowFarContainer),n=-2+e.__frozenFarHeight+parseInt(i.borderTopWidth)
t.style.height=parseInt(t.style.height)-n+"px",t.style.setProperty("--jqx-scroll-bar-far-size",n+"px"),0===e.__frozenNearHeight&&(t.style.top="0px")}(d>0||c>0)&&!e.appearance.showHorizontalScrollBarOnFixedColumns&&(i.style.width=parseInt(i.style.width)-d-c+"px",e.rightToLeft?i.style.right=d+"px":i.style.left=d+"px",i.style.setProperty("--jqx-scroll-bar-near-size",d+parseInt(s.borderRightWidth)+"px"),i.style.setProperty("--jqx-scroll-bar-far-size",c+parseInt(s.borderLeftWidth)+"px"),e.computedVerticalScrollBarVisibility&&(e.__scrollBarSize||(e.__scrollBarSize=t.offsetWidth),i.style.setProperty("--jqx-scroll-bar-far-size",c+e.__scrollBarSize+"px"))),t.refresh(),i.refresh()}_refreshHorizontalScrollBarVisibility(e){const t=this
t.scrollWidth=e,t.computedHorizontalScrollBarVisibility||(t.scrollLeft=0)}_refreshVerticalScrollBarVisibility(e){const t=this
if(t._autoHeight)return t.scrollTop=0,void(t.scrollHeight=0)
t.computedHorizontalScrollBarVisibility&&(e+=t.$.horizontalScrollBar.offsetHeight),t.scrollHeight=e,t.paging.enabled&&t.paging.spinner.visible&&t.$.verticalScrollBarVisibility.classList.remove("jqx-hidden"),t.computedVerticalScrollBarVisibility||(t.scrollTop=0)}_styleChangedHandler(e){const t=this
if(!e.detail.styleProperties.overflow&&!t.classList.contains("jqx-grid-resize-mode")){if(e.detail.styleProperties["grid-template-columns"])return t._templateColumns(),void t.refresh()
if(e.detail.styleProperties["font-size"])return t.layout.isDirty=!0,t._resetCachedLayout(),void t.refresh();(e.detail.styleProperties["--jqx-grid-row-height"]||e.detail.styleProperties["--jqx-font-size"]||e.detail.styleProperties["--jqx-grid-column-header-height"]||e.detail.styleProperties["--jqx-grid-group-header-height"]||e.detail.styleProperties["--jqx-grid-filter-footer-height"]||e.detail.styleProperties["--jqx-grid-group-row-vertical"]||e.detail.styleProperties["--jqx-grid-group-row-horizontal-offset"]||e.detail.styleProperties["--jqx-grid-freeze-splitter-size"]||e.detail.styleProperties["--jqx-grid-resize-line-size"]||e.detail.styleProperties["--jqx-grid-footer-height"]||e.detail.styleProperties["--jqx-grid-header-height"])&&(t.layout.isDirty=!0),t.offsetWidth&&t.offsetHeight>0&&(t._resetCachedLayout(),t._refreshLayout(),t._recycle())}}_resetCachedLayout(){this.__cellsCommandTemplate=null,this.__autoRowHeight=null,this.__autoHeightRows=null,this.__measuredColumnHeight=null,this.__columnHeaderHeight=null,this.__filterFooterOffsetHeight=null}_swipeLeftHandler(){}_swipeRightHandler(){}_getRowIndexByPosition(e){const t=this
return(i=>{let n=0,r=i.length-1
if(e<=0)return 0
const o=i[i.length-1]
if(-1!==o.top&&o.top<=e)return i.length-1
for(;;){const o=Math.floor((n+r)/2),a=i[o]
if(t._isRowInPosition(a,e))return o
a.top<e?n=o+1:a.top>e?r=o-1:n=o+1}})(t._recyclingRows)}getViewRows(){const e=this
if(e.rowHierarchy)return e.rowHierarchy
return e.getVisibleRows()}get _recyclingRows(){const e=this
if(e.rowHierarchy)return e.rowHierarchy
let t=e.getVisibleRows()
return e.paging.enabled&&(t=t.slice(e.paging.pageIndex*e.paging.pageSize,(e.paging.pageIndex+1)*e.paging.pageSize)),t}_isRowInPosition(e,t){const i=e.top,n=e.top+e.height,r=i<=t&&n>t
return 0!==e.height&&r}_renderColumnGroupHeaders(){const e=this
for(let t=0;t<e.columnGroups.length;t++){const i=e.columnGroups[t]
i.column.render(),i.column.allowReorder=!1,i.column.element.setAttribute("columnHeader",""),0===i.columns.length&&i.column.element.classList.add("jqx-hidden"),0===t&&i.column.element.classList.add("jqx-grid-column-border-collapse")}}_isLastVisibleColumn(e){const t=this
for(let i=t.viewColumns.length-1;i>=0;i--){const n=t.viewColumns[i]
if(n.visible)return n===e}return!1}_recycle(e,t){const i=this
if(i._layoutSuspended)return
if(i._isUpdating)return
if(i.editing.isEditing&&(i.endEdit(),i._isUpdating))return
i._inputOverlay&&(i._inputOverlay.parentNode&&i._inputOverlay.parentNode.removeChild(i._inputOverlay),i._inputOverlay=null),i._selection.selectionRect&&i._refreshCellSelectionRect()
const n=i._scrollView.scrollTop
let r=i._getRowIndexByPosition(n),o=i._recyclingRows,a=o[r],s=a?a.top:0,l=void 0,d=0,c=0,h=0,u=0
for(let e=0;e<i._cellsMerge.length;e++){const t=i._cellsMerge[e],l=o.indexOf(t.row)
if(r>l&&r<=l+t.rowSpan&&(r=l,a=t.row,h=Math.max(h,s-a.top),s=a.top,i.$.rowContainer.style.top=i.__frozenNearHeight-n+s+"px"),t.colSpan>1)for(let e=0;e<i.viewColumns.length;e++){const n=i.viewColumns[e]
let r=n.autoGenerated?n:i.columnByDataField[n.dataField]
if(r.visible&&(r.left+r.computedWidth-i._scrollView.scrollLeft>=d&&r.left-r.computedWidth-i._scrollView.scrollLeft<i._clientSize.width)){let e=i.columnByDataField[t.column.dataField]
u=Math.max(u,r.left-e.left+r.computedWidth)
break}}}if(!1!==e||i._cellsMerge.length>0){for(let e=0;e<i._columnElements.length;e++){const t=i._columnElements[e]
if(!t.parentNode)break
t.set("column",null,!1),t.classList.add("jqx-visibility-hidden")}for(let e=0;e<i.columnGroups.length;e++){const t=i.columnGroups[e],n=t.element
i.rightToLeft?n.style.right=t.right+"px":n.style.left=t.left+"px",n.style.width=t.computedWidth+"px"}i._firstVisibleColumn=null,i._lastVisibleColumn=null
for(let e=0;e<i.viewColumns.length;e++){let t=i.viewColumns[e]
if(t.visible&&(i._firstVisibleColumn||(i._firstVisibleColumn=t),i._lastVisibleColumn=t),t.element&&(t===i._firstVisibleColumn?t.element.classList.add("jqx-grid-column-border-collapse"):t.element.classList.remove("jqx-grid-column-border-collapse"),t.element.removeAttribute("aria-colindex")),t.freeze)!0!==t.freeze&&"near"!==t.freeze||t.visible&&(d+=t.computedWidth),t.visible?(t.element.classList.remove("jqx-visibility-hidden"),t.render()):t.element.classList.add("jqx-visibility-hidden")
else if(t.visible&&t.left+t.computedWidth-i._scrollView.scrollLeft>=d-u&&t.left-t.computedWidth-i._scrollView.scrollLeft<i._clientSize.width){const n=i._columnElements[c++]
n.set("column",t,!1),n.parentNode||i.$.columnContainer.appendChild(n),t.element=n,t.render(),n.setAttribute("aria-colindex",e+1),void 0===l&&(l=t.left)}}}if(void 0===l&&(l=0),i.rightToLeft?i.$.columnContainer.style.right=i._scrollView.scrollWidth-i._scrollView.scrollLeft-i._scrollView.vScrollBar.offsetWidth+"px":i.$.columnContainer.style.left=-i._scrollView.scrollLeft+"px",i.$.rowContainer.style.top=i.__frozenNearHeight-n+s+"px",!1!==t&&i._rowElements){if(r>=0){c=0
let e=Math.max(i._clientSize.height,i._overflowOffset)
for(let t=r;t<o.length;t++){const r=o[t]
if(0===r.height||!r.visible||!1===r.filtered||r.freeze)continue
const a=r.height
if(r.expandHeight&&(e+=i.offsetHeight+r.expandHeight),!(s+a>=n-h&&s<=n+e||i._autoHeight))break
{const e=i._rowElements[c++]
if(!e)break
e.setAttribute("aria-rowindex",t+1),r.element=e,r.grid=i,r.render()}s+=a}}if(i._renderFrozenRows(),c<i._rowElements.length)for(let e=c;e<i._rowElements.length;e++){const e=i._rowElements[c++]
e.classList.add("jqx-hidden"),e.removeAttribute("aria-rowindex")}}}_renderFrozenRows(){const e=this
let t=!1,i=!1
0===e._frozenNearRows.length?e.$.rowNearContainer.classList.add("jqx-hidden"):e.$.rowNearContainer.classList.remove("jqx-hidden")
for(let i=0;i<e._frozenNearRows.length;i++){const n=e._frozenNearRows[i]
n.visible&&n.filtered&&(t=!0,n.element=e.$.rowNearContainer.children[i],n.element||(n.element=n.createElement(),e.$.rowNearContainer.appendChild(n.element)),n.render())}t||e.$.rowNearContainer.classList.add("jqx-hidden"),0===e._frozenFarRows.length?e.$.rowFarContainer.classList.add("jqx-hidden"):e.$.rowFarContainer.classList.remove("jqx-hidden")
for(let t=0;t<e._frozenFarRows.length;t++){const n=e._frozenFarRows[t]
n.visible&&(i=!0),n.element=e.$.rowFarContainer.children[t],n.element||(n.element=n.createElement(),e.$.rowFarContainer.appendChild(n.element)),n.render()}i||e.$.rowFarContainer.classList.add("jqx-hidden")}_recycleRotate(e,t,i,n,r){const o=t.getBoundingClientRect(),a=e.getBoundingClientRect()
let s=0,l=0
return 0===a.width?(e.innerHTML=r,!1):(o.left>a.left&&(s=a.left-o.left),o.top<a.top&&(l=a.top-o.top),"left"!==i&&""!==i||(s=4),"center"===i&&(s+=a.width/2-o.width/2),"right"===i&&(s+=a.width-o.width-4),"top"!==n&&""!==n||(l=4),"center"!==n&&"middle"!==n||(l+=a.height/2-o.height/2),"bottom"===n&&(l+=a.height-o.height-4),t.style.left=s+"px",t.style.top=l+"px",!0)}_virtualDataRequest(e){const t=this
let i=-1,n=-1
if(!t._rowElements&&"infinite"!==t.scrolling)return
if("virtual"===t.scrolling)for(let e=0;e<t._rowElements.length;e++){const r=t._rowElements[e],o=r.row,a=0===e?o.visibleIndex:i+e
r.classList.contains("jqx-hidden")||(-1===i&&(i=a),-1!==a&&(n=1+a))}else"infinite"===t.scrolling?(i=1/0,n=1/0):(i=0,n=t.dataSource.length)
t.paging.enabled&&(n=(i=t.paging.pageIndex*t.paging.pageSize)+t.paging.pageSize),n!==1/0&&(n=Math.min(n,t.dataSource.length)),t.appearance.displayLoadingIndicator=!0,t._setLoadingIndicatorVisibility()
const r={first:i,last:n,sorting:t.getSortedColumns(),filtering:t.getFilteredColumns(),grouping:[],row:t._toggledRow?t._toggledRow.data:null,action:e},o=t.dataSource.length
void 0===t._isFirstVirtualDataSourceRequest&&(t._isFirstVirtualDataSourceRequest=!0),t.dataSource.onVirtualDataSourceRequested(function(){t.appearance.displayLoadingIndicator=!1,t._setLoadingIndicatorVisibility(),t._toggledRow=null
const e=t.context
t.context=t,t._isFirstVirtualDataSourceRequest&&0===t._initColumns.length&&(t.columns.canNotify=!1,t.columns=[],t._renderColumns(),t.columns.canNotify=!0),t.dataSource.length!==o||t._isFirstVirtualDataSourceRequest?(t.paging.enabled&&(t.$.headerPager.querySelector("jqx-pager").pagesCount=Math.ceil(t.dataSource.length/t.paging.pageSize),t.$.footerPager.querySelector("jqx-pager").pagesCount=Math.ceil(t.dataSource.length/t.paging.pageSize)),t._initializeRows(),t._initializeRowElements(),t.refresh(),t._refreshPagesCount()):t.dataSource.virtualDataSourceOnExpand&&t.refresh(),t._isFirstVirtualDataSourceRequest=!1,t._recycle(),t.context=e},r)}_verticalScrollbarHandler(e){const t=this
t.menu&&t.menu.column&&t.closeMenu(),t.isScrolling=!0,t._scrollTimer&&clearTimeout(t._scrollTimer),t._layoutSuspended||(t._scrollTimer=setTimeout(()=>{t._recycle(!1),t.isScrolling=!1,e.max!==e.value||(t.$.fireEvent("scrollBottomReached"),"infinite"!==t.scrolling)?("virtual"===t.scrolling&&t._virtualDataRequest("scroll"),e.min===e.value&&t.$.fireEvent("scrollTopReached")):t._virtualDataRequest("scroll")}))}clearRows(){this.dataSource=new JQX.DataAdapter({dataSource:[]}),this.rowHierarchy=null,this._visibleRows=null,this.__viewRows=null,this.rows.canNotify=!1,this.rows.length=0,this.rows.canNotify=!0,this.clearSelection()}dataBind(){const e=this
delete e.__autoRowHeight,null===e.dataSource||e.dataSource&&e.dataSource.dataFields&&0===e.dataSource.length&&0===e.dataSource.dataSource.length&&!e.dataSource.virtualDataSource?e.clearRows():Array.isArray(e.dataSource)&&(e.dataSource=new JQX.DataAdapter({dataSource:e.dataSource}))
const t=e._sortedColumns
if(e.clearSort(),e.filtering.filterRow)for(let t=0;t<e.columns.length;t++)e.columns[t]._filterEditorInitialized=!1
e._initColumns&&0===e._initColumns.length&&(e.columns=[],e._renderColumns(!0)),e._renderRows(),"virtual"===e.scrolling||e.paging.enabled&&e.dataSource&&e.dataSource.virtualDataSource?e._virtualDataRequest("dataBind"):e.dataSource&&e.dataSource.virtualDataSource?e._virtualDataRequest("dataBind"):e.paging.enabled&&(!e.dataSource||e.dataSource&&!e.dataSource.url)&&e._refreshPagesCount(),t&&e._refreshSort(t)}refresh(e){const t=this
t.isInitialized&&(e&&(t._initializeRows(),t._initializeRowElements()),t._refresh())}refreshView(){this._recycle()}beginUpdate(){const e=this
e._isUpdating||(e._isUpdating=0),e._isUpdating++}endUpdate(e){const t=this
t._isUpdating--,t._isUpdating<0&&(t._isUpdating=0),!1!==e?t.refresh():t.refreshView()}}),JQX.Grid.Extend=function(e){if(!e)return
const t=Object.getOwnPropertyNames(e.prototype)
for(let i in t){const n=t[i]
"constructor"!==n&&(JQX.Grid.prototype[n]=e.prototype[n])}},JQX.Grid.Extend(JQX.Utilities.Grid.Resize),JQX.Grid.Extend(JQX.Utilities.Grid.Reorder),JQX.Grid.Extend(JQX.Utilities.Grid.Pager),JQX.Grid.Extend(JQX.Utilities.Grid.Filter),JQX.Grid.Extend(JQX.Utilities.Grid.Sort),JQX.Grid.Extend(JQX.Utilities.Grid.Menu),JQX.Grid.Extend(JQX.Utilities.Grid.Select),JQX.Grid.Extend(JQX.Utilities.Grid.Edit),JQX.Grid.Extend(JQX.Utilities.Grid.Group),JQX.Grid.Extend(JQX.Utilities.Grid.Tree),JQX.Grid.Extend(JQX.Utilities.Grid.Export),JQX.Grid.Extend(JQX.Utilities.Grid.Chart),JQX.Grid.Cell=JQX.Utilities.Grid.Cell,JQX.Grid.Row=JQX.Utilities.Grid.Row,JQX.Grid.Column=JQX.Utilities.Grid.Column
var ze=Object.freeze({})
!function(e){e.fn.drag=function(e,t,i){return t&&this.bind("dragstart",e),i&&this.bind("dragend",i),e?this.bind("drag",t||e):this.trigger("drag")}
var t=e.event,i=t.special,n=i.drag={not:":input",distance:0,which:1,drop:!1,dragging:!1,setup:function(i){(i=e.extend({distance:n.distance,which:n.which,not:n.not,drop:n.drop},i||{})).distance=a(i.distance),t.add(this,"mousedown",r,i),this.attachEvent&&this.attachEvent("ondragstart",s)},teardown:function(){t.remove(this,"mousedown",r),this===n.dragging&&(n.dragging=n.proxy=!1),l(this,!0),this.detachEvent&&this.detachEvent("ondragstart",s)}}
function r(s){var d,c=this,h=s.data||{}
if(h.elem)c=s.dragTarget=h.elem,s.dragProxy=n.proxy||c,s.cursorOffsetX=h.pageX-h.left,s.cursorOffsetY=h.pageY-h.top,s.offsetX=s.pageX-s.cursorOffsetX,s.offsetY=s.pageY-s.cursorOffsetY
else if(n.dragging||h.which>0&&s.which!=h.which||e(s.target).is(h.not))return
switch(s.type){case"mousedown":e.extend(h,e(c).offset(),{elem:c,target:s.target,pageX:s.pageX,pageY:s.pageY}),t.add(document,"mousemove mouseup",r,h),l(c,!1),n.dragging=null
break
case!n.dragging&&"mousemove":if(a(s.pageX-h.pageX)+a(s.pageY-h.pageY)<h.distance)break
s.target=h.target,!1!==(d=o(s,"dragstart",c))&&(n.dragging=c,n.proxy=s.dragProxy=e(d||c)[0])
case"mousemove":if(n.dragging){if(d=o(s,"drag",c),h.drop&&i.drop&&(i.drop.allowed=!1!==d,i.drop.handler(s)),!1!==d)break
s.type="mouseup"}case"mouseup":t.remove(document,"mousemove mouseup",r),n.dragging&&(h.drop&&i.drop&&i.drop.handler(s),o(s,"dragend",c)),l(c,!0),n.dragging=n.proxy=h.elem=!1}}function o(t,i,n){t.type=i
var r=(e.event.dispatch||e.event.handle).call(n,t)
return!1!==r&&(r||t.result)}function a(e){return Math.pow(e,2)}function s(){return!1===n.dragging}function l(t,i){t&&((t=t.ownerDocument?t.ownerDocument:t).unselectable=i?"off":"on",t.style&&(t.style.MozUserSelect=i?"":"none"),e.event[i?"remove":"add"](t,"selectstart mousedown",s))}i.dragstart=i.dragend={setup:function(){},teardown:function(){}}}(jQuery)
var $e=Object.freeze({})
!function(e){var t=["DOMMouseScroll","mousewheel"]
if(e.event.fixHooks)for(var i=t.length;i;)e.event.fixHooks[t[--i]]=e.event.mouseHooks
function n(t){var i=t||window.event,n=[].slice.call(arguments,1),r=0,o=0,a=0
return(t=e.event.fix(i)).type="mousewheel",i.wheelDelta&&(r=i.wheelDelta/120),i.detail&&(r=-i.detail/3),a=r,void 0!==i.axis&&i.axis===i.HORIZONTAL_AXIS&&(a=0,o=-1*r),void 0!==i.wheelDeltaY&&(a=i.wheelDeltaY/120),void 0!==i.wheelDeltaX&&(o=-1*i.wheelDeltaX/120),n.unshift(t,r,o,a),(e.event.dispatch||e.event.handle).apply(this,n)}e.event.special.mousewheel={setup:function(){if(this.addEventListener)for(var e=t.length;e;)this.addEventListener(t[--e],n,!1)
else this.onmousewheel=n},teardown:function(){if(this.removeEventListener)for(var e=t.length;e;)this.removeEventListener(t[--e],n,!1)
else this.onmousewheel=null}},e.fn.extend({mousewheel:function(e){return e?this.bind("mousewheel",e):this.trigger("mousewheel")},unmousewheel:function(e){return this.unbind("mousewheel",e)}})}(jQuery)
var Ue=Object.freeze({})
!function(e){var t=function(t,i){var n=i.getElementsByClassName(t)[0]
if(!n&&((n=document.createElement("canvas")).className=t,n.style.direction="ltr",n.style.position="absolute",n.style.left="0px",n.style.top="0px",i.appendChild(n),!n.getContext))throw new Error("Canvas is not available.")
this.element=n
var r=this.context=n.getContext("2d")
this.pixelRatio=e.plot.browser.getPixelRatio(r)
var o=e(i).width(),a=e(i).height()
this.resize(o,a),this.SVGContainer=null,this.SVG={},this._textCache={}}
function i(e,t){e.transform.baseVal.clear(),t&&t.forEach(function(t){e.transform.baseVal.appendItem(t)})}t.prototype.resize=function(e,t){e=e<10?10:e,t=t<10?10:t
var i=this.element,n=this.context,r=this.pixelRatio
this.width!==e&&(i.width=e*r,i.style.width=e+"px",this.width=e),this.height!==t&&(i.height=t*r,i.style.height=t+"px",this.height=t),n.restore(),n.save(),n.scale(r,r)},t.prototype.clear=function(){this.context.clearRect(0,0,this.width,this.height)},t.prototype.render=function(){var e=this._textCache
for(var t in e)if(hasOwnProperty.call(e,t)){var i=this.getSVGLayer(t),n=e[t],r=i.style.display
for(var o in i.style.display="none",n)if(hasOwnProperty.call(n,o)){var a=n[o]
for(var s in a)if(hasOwnProperty.call(a,s)){for(var l,d=a[s],c=d.positions,h=0;c[h];h++)if((l=c[h]).active)l.rendered||(i.appendChild(l.element),l.rendered=!0)
else if(c.splice(h--,1),l.rendered){for(;l.element.firstChild;)l.element.removeChild(l.element.firstChild)
l.element.parentNode.removeChild(l.element)}0===c.length&&(d.measured?d.measured=!1:delete a[s])}}i.style.display=r}},t.prototype.getSVGLayer=function(e){var t,i=this.SVG[e]
i||(this.SVGContainer?t=this.SVGContainer.firstChild:(this.SVGContainer=document.createElement("div"),this.SVGContainer.className="flot-svg",this.SVGContainer.style.position="absolute",this.SVGContainer.style.top="0px",this.SVGContainer.style.left="0px",this.SVGContainer.style.height="100%",this.SVGContainer.style.width="100%",this.SVGContainer.style.pointerEvents="none",this.element.parentNode.appendChild(this.SVGContainer),(t=document.createElementNS("http://www.w3.org/2000/svg","svg")).style.width="100%",t.style.height="100%",this.SVGContainer.appendChild(t)),(i=document.createElementNS("http://www.w3.org/2000/svg","g")).setAttribute("class",e),i.style.position="absolute",i.style.top="0px",i.style.left="0px",i.style.bottom="0px",i.style.right="0px",t.appendChild(i),this.SVG[e]=i)
return i},t.prototype.getTextInfo=function(e,t,i,r,o){var a,s,l,d
t=""+t,a="object"==typeof i?i.style+" "+i.variant+" "+i.weight+" "+i.size+"px/"+i.lineHeight+"px "+i.family:i,null==(s=this._textCache[e])&&(s=this._textCache[e]={}),null==(l=s[a])&&(l=s[a]={})
var c=function(e){return e.replace(/0|1|2|3|4|5|6|7|8|9/g,"0")}(t)
if(!(d=l[c])){var h=document.createElementNS("http://www.w3.org/2000/svg","text")
if(-1!==t.indexOf("<br>"))n(t,h,-9999)
else{var u=document.createTextNode(t)
h.appendChild(u)}h.style.position="absolute",h.style.maxWidth=o,h.setAttributeNS(null,"x",-9999),h.setAttributeNS(null,"y",-9999),"object"==typeof i?(h.style.font=a,h.style.fill=i.fill):"string"==typeof i&&h.setAttribute("class",i),this.getSVGLayer(e).appendChild(h)
var p=h.getBBox()
for(d=l[c]={width:p.width,height:p.height,measured:!0,element:h,positions:[]};h.firstChild;)h.removeChild(h.firstChild)
h.parentNode.removeChild(h)}return d.measured=!0,d},t.prototype.addText=function(e,t,r,o,a,s,l,d,c,h){var u=this.getTextInfo(e,o,a,s,l),p=u.positions
"center"===d?t-=u.width/2:"right"===d&&(t-=u.width),"middle"===c?r-=u.height/2:"bottom"===c&&(r-=u.height),r+=.75*u.height
for(var m,f=0;p[f];f++){if((m=p[f]).x===t&&m.y===r&&m.text===o)return m.active=!0,void i(m.element,h)
if(!1===m.active)return m.active=!0,m.text=o,-1!==o.indexOf("<br>")?(r-=.25*u.height,n(o,m.element,t)):m.element.textContent=o,m.element.setAttributeNS(null,"x",t),m.element.setAttributeNS(null,"y",r),m.x=t,m.y=r,void i(m.element,h)}m={active:!0,rendered:!1,element:p.length?u.element.cloneNode():u.element,text:o,x:t,y:r},p.push(m),-1!==o.indexOf("<br>")?(r-=.25*u.height,n(o,m.element,t)):m.element.textContent=o,m.element.setAttributeNS(null,"x",t),m.element.setAttributeNS(null,"y",r),m.element.style.textAlign=d,i(m.element,h)}
var n=function(e,t,i){var n,r,o,a=e.split("<br>")
for(r=0;r<a.length;r++)t.childNodes[r]?n=t.childNodes[r]:(n=document.createElementNS("http://www.w3.org/2000/svg","tspan"),t.appendChild(n)),n.textContent=a[r],o=(0===r?0:1)+"em",n.setAttributeNS(null,"dy",o),n.setAttributeNS(null,"x",i)}
t.prototype.removeText=function(e,t,i,n,r,o){var a,s
if(null==n){var l=this._textCache[e]
if(null!=l)for(var d in l)if(hasOwnProperty.call(l,d)){var c=l[d]
for(var h in c)if(hasOwnProperty.call(c,h)){var u=c[h].positions
u.forEach(function(e){e.active=!1})}}}else(u=(a=this.getTextInfo(e,n,r,o)).positions).forEach(function(e){s=i+.75*a.height,e.x===t&&e.y===s&&e.text===n&&(e.active=!1)})},t.prototype.clearCache=function(){var e=this._textCache
for(var t in e)if(hasOwnProperty.call(e,t))for(var i=this.getSVGLayer(t);i.firstChild;)i.removeChild(i.firstChild)
this._textCache={}},window.Flot||(window.Flot={}),window.Flot.Canvas=t}(jQuery)
var Ge=Object.freeze({})
!function(e){e.color={},e.color.make=function(t,i,n,r){var o={}
return o.r=t||0,o.g=i||0,o.b=n||0,o.a=null!=r?r:1,o.add=function(e,t){for(var i=0;i<e.length;++i)o[e.charAt(i)]+=t
return o.normalize()},o.scale=function(e,t){for(var i=0;i<e.length;++i)o[e.charAt(i)]*=t
return o.normalize()},o.toString=function(){return o.a>=1?"rgb("+[o.r,o.g,o.b].join(",")+")":"rgba("+[o.r,o.g,o.b,o.a].join(",")+")"},o.normalize=function(){function e(e,t,i){return t<e?e:t>i?i:t}return o.r=e(0,parseInt(o.r),255),o.g=e(0,parseInt(o.g),255),o.b=e(0,parseInt(o.b),255),o.a=e(0,o.a,1),o},o.clone=function(){return e.color.make(o.r,o.b,o.g,o.a)},o.normalize()},e.color.extract=function(t,i){var n
do{if(""!==(n=t.css(i).toLowerCase())&&"transparent"!==n)break
t=t.parent()}while(t.length&&!e.nodeName(t.get(0),"body"))
return"rgba(0, 0, 0, 0)"===n&&(n="transparent"),e.color.parse(n)},e.color.parse=function(i){var n,r=e.color.make
if(n=/rgb\(\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*\)/.exec(i))return r(parseInt(n[1],10),parseInt(n[2],10),parseInt(n[3],10))
if(n=/rgba\(\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*,\s*([0-9]+(?:\.[0-9]+)?)\s*\)/.exec(i))return r(parseInt(n[1],10),parseInt(n[2],10),parseInt(n[3],10),parseFloat(n[4]))
if(n=/rgb\(\s*([0-9]+(?:\.[0-9]+)?)%\s*,\s*([0-9]+(?:\.[0-9]+)?)%\s*,\s*([0-9]+(?:\.[0-9]+)?)%\s*\)/.exec(i))return r(2.55*parseFloat(n[1]),2.55*parseFloat(n[2]),2.55*parseFloat(n[3]))
if(n=/rgba\(\s*([0-9]+(?:\.[0-9]+)?)%\s*,\s*([0-9]+(?:\.[0-9]+)?)%\s*,\s*([0-9]+(?:\.[0-9]+)?)%\s*,\s*([0-9]+(?:\.[0-9]+)?)\s*\)/.exec(i))return r(2.55*parseFloat(n[1]),2.55*parseFloat(n[2]),2.55*parseFloat(n[3]),parseFloat(n[4]))
if(n=/#([a-fA-F0-9]{2})([a-fA-F0-9]{2})([a-fA-F0-9]{2})/.exec(i))return r(parseInt(n[1],16),parseInt(n[2],16),parseInt(n[3],16))
if(n=/#([a-fA-F0-9])([a-fA-F0-9])([a-fA-F0-9])/.exec(i))return r(parseInt(n[1]+n[1],16),parseInt(n[2]+n[2],16),parseInt(n[3]+n[3],16))
var o=e.trim(i).toLowerCase()
return"transparent"===o?r(255,255,255,0):r((n=t[o]||[0,0,0])[0],n[1],n[2])}
var t={aqua:[0,255,255],azure:[240,255,255],beige:[245,245,220],black:[0,0,0],blue:[0,0,255],brown:[165,42,42],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgrey:[169,169,169],darkgreen:[0,100,0],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkviolet:[148,0,211],fuchsia:[255,0,255],gold:[255,215,0],green:[0,128,0],indigo:[75,0,130],khaki:[240,230,140],lightblue:[173,216,230],lightcyan:[224,255,255],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightyellow:[255,255,224],lime:[0,255,0],magenta:[255,0,255],maroon:[128,0,0],navy:[0,0,128],olive:[128,128,0],orange:[255,165,0],pink:[255,192,203],purple:[128,0,128],violet:[128,0,128],red:[255,0,0],silver:[192,192,192],white:[255,255,255],yellow:[255,255,0]}}(jQuery)
var We=Object.freeze({})
!function(e){var t=window.Flot.Canvas
function i(t){var i,n=[],r=e.plot.saturated.saturate(e.plot.saturated.floorInBase(t.min,t.tickSize)),o=0,a=Number.NaN
r===-Number.MAX_VALUE&&(n.push(r),r=e.plot.saturated.floorInBase(t.min+t.tickSize,t.tickSize))
do{i=a,a=e.plot.saturated.multiplyAdd(t.tickSize,o,r),n.push(a),++o}while(a<t.max&&a!==i)
return n}function n(e,t,i){var n=t.tickDecimals
if(-1!==(""+e).indexOf("e"))return r(e,t,i)
i>0&&(t.tickDecimals=i)
var o=t.tickDecimals?parseFloat("1e"+t.tickDecimals):1,a=""+Math.round(e*o)/o
if(null!=t.tickDecimals){var s=a.indexOf("."),l=-1===s?0:a.length-s-1
if(l<t.tickDecimals)a=(l?a:a+".")+(""+o).substr(1,t.tickDecimals-l)}return t.tickDecimals=n,a}function r(e,t,i){var n=(""+e).indexOf("e"),r=parseInt((""+e).substr(n+1)),a=-1!==n?r:e>0?Math.floor(Math.log(e)/Math.LN10):0,s=parseFloat("1e"+a),l=e/s
if(i){var d=o(e,i)
return(e/s).toFixed(d)+"e"+a}return t.tickDecimals>0?l.toFixed(o(e,t.tickDecimals))+"e"+a:l.toFixed()+"e"+a}function o(e,t){var i=Math.log(Math.abs(e))*Math.LOG10E,n=Math.abs(i+t)
return n<=20?Math.floor(n):20}function a(r,o,a,s){var l=[],d={colors:["#edc240","#afd8f8","#cb4b4b","#4da74d","#9440ed"],xaxis:{show:null,position:"bottom",mode:null,font:null,color:null,tickColor:null,transform:null,inverseTransform:null,min:null,max:null,autoScaleMargin:null,autoScale:"exact",windowSize:null,growOnly:null,ticks:null,tickFormatter:null,showTickLabels:"major",labelWidth:null,labelHeight:null,reserveSpace:null,tickLength:null,showMinorTicks:null,showTicks:null,gridLines:null,alignTicksWithAxis:null,tickDecimals:null,tickSize:null,minTickSize:null,offset:{below:0,above:0},boxPosition:{centerX:0,centerY:0}},yaxis:{autoScaleMargin:.02,autoScale:"loose",growOnly:null,position:"left",showTickLabels:"major",offset:{below:0,above:0},boxPosition:{centerX:0,centerY:0}},xaxes:[],yaxes:[],series:{points:{show:!1,radius:3,lineWidth:2,fill:!0,fillColor:"#ffffff",symbol:"circle"},lines:{lineWidth:1,fill:!1,fillColor:null,steps:!1},bars:{show:!1,lineWidth:2,horizontal:!1,barWidth:.8,fill:!0,fillColor:null,align:"left",zero:!0},shadowSize:3,highlightColor:null},grid:{show:!0,aboveData:!1,color:"#545454",backgroundColor:null,borderColor:null,tickColor:null,margin:0,labelMargin:5,axisMargin:8,borderWidth:1,minBorderMargin:null,markings:null,markingsColor:"#f4f4f4",markingsLineWidth:2,clickable:!1,hoverable:!1,autoHighlight:!0,mouseActiveRadius:15},interaction:{redrawOverlayInterval:1e3/60},hooks:{}},c=null,h=null,u=null,p=null,m=null,f=[],g=[],v={left:0,right:0,top:0,bottom:0},b=0,y=0,_={processOptions:[],processRawData:[],processDatapoints:[],processOffset:[],setupGrid:[],adjustSeriesDataRange:[],setRange:[],drawBackground:[],drawSeries:[],drawAxis:[],draw:[],findNearbyItems:[],axisReserveSpace:[],bindEvents:[],drawOverlay:[],resize:[],shutdown:[]},w=this,x={},C=null
w.setData=E,w.setupGrid=q,w.draw=V,w.getPlaceholder=function(){return r},w.getCanvas=function(){return c.element},w.getSurface=function(){return c},w.getEventHolder=function(){return u[0]},w.getPlotOffset=function(){return v},w.width=function(){return b},w.height=function(){return y},w.offset=function(){var e=u.offset()
return e.left+=v.left,e.top+=v.top,e},w.getData=function(){return l},w.getAxes=function(){var t={}
return e.each(f.concat(g),function(e,i){i&&(t[i.direction+(1!==i.n?i.n:"")+"axis"]=i)}),t},w.getXAxes=function(){return f},w.getYAxes=function(){return g},w.c2p=function(e){var t,i,n={}
for(t=0;t<f.length;++t)(i=f[t])&&i.used&&(n["x"+i.n]=i.c2p(e.left))
for(t=0;t<g.length;++t)(i=g[t])&&i.used&&(n["y"+i.n]=i.c2p(e.top))
void 0!==n.x1&&(n.x=n.x1)
void 0!==n.y1&&(n.y=n.y1)
return n},w.p2c=function(e){var t,i,n,r={}
for(t=0;t<f.length;++t)if((i=f[t])&&i.used&&(n="x"+i.n,null==e[n]&&1===i.n&&(n="x"),null!=e[n])){r.left=i.p2c(e[n])
break}for(t=0;t<g.length;++t)if((i=g[t])&&i.used&&(n="y"+i.n,null==e[n]&&1===i.n&&(n="y"),null!=e[n])){r.top=i.p2c(e[n])
break}return r},w.getOptions=function(){return d},w.triggerRedrawOverlay=Z,w.pointOffset=function(e){return{left:parseInt(f[P(e,"x")-1].p2c(+e.x)+v.left,10),top:parseInt(g[P(e,"y")-1].p2c(+e.y)+v.top,10)}},w.shutdown=A,w.destroy=function(){A(),r.removeData("plot").empty(),l=[],d=null,c=null,h=null,u=null,p=null,m=null,f=[],g=[],_=null,w=null},w.resize=function(){var e=r.width(),t=r.height()
c.resize(e,t),h.resize(e,t),I(_.resize,[e,t])},w.clearTextCache=function(){c.clearCache(),h.clearCache()},w.autoScaleAxis=O,w.computeRangeForDataSeries=function(e,t,i){for(var n=e.datapoints.points,r=e.datapoints.pointsize,o=e.datapoints.format,a=Number.POSITIVE_INFINITY,s=Number.NEGATIVE_INFINITY,l={xmin:a,ymin:a,xmax:s,ymax:s},d=0;d<n.length;d+=r)if(null!==n[d]&&("function"!=typeof i||i(n[d])))for(var c=0;c<r;++c){var h=n[d+c],u=o[c]
null!=u&&(("function"!=typeof i||i(h))&&(t||u.computeRange)&&h!==1/0&&h!==-1/0&&(!0===u.x&&(h<l.xmin&&(l.xmin=h),h>l.xmax&&(l.xmax=h)),!0===u.y&&(h<l.ymin&&(l.ymin=h),h>l.ymax&&(l.ymax=h))))}return l},w.adjustSeriesDataRange=function(e,t){if(e.bars.show){var i,n=e.bars.barWidth[1]
e.datapoints&&e.datapoints.points&&!n&&function(e){var t=[],i=e.datapoints.pointsize,n=Number.MAX_VALUE
e.datapoints.points.length<=i&&(n=1)
for(let n=e.bars.horizontal?1:0;n<e.datapoints.points.length;n+=i)isFinite(e.datapoints.points[n])&&null!==e.datapoints.points[n]&&t.push(e.datapoints.points[n]);(t=t.filter(function(e,t,i){return i.indexOf(e)===t})).sort(function(e,t){return e-t})
for(let e=1;e<t.length;e++){var r=Math.abs(t[e]-t[e-1])
r<n&&isFinite(r)&&(n=r)}"number"==typeof e.bars.barWidth?e.bars.barWidth=e.bars.barWidth*n:e.bars.barWidth[0]=e.bars.barWidth[0]*n}(e)
var r=e.bars.barWidth[0]||e.bars.barWidth
switch(e.bars.align){case"left":i=0
break
case"right":i=-r
break
default:i=-r/2}e.bars.horizontal?(t.ymin+=i,t.ymax+=i+r):(t.xmin+=i,t.xmax+=i+r)}if(e.bars.show&&e.bars.zero||e.lines.show&&e.lines.zero){var o=e.datapoints.pointsize
o<=2&&(t.ymin=Math.min(0,t.ymin),t.ymax=Math.max(0,t.ymax))}return t},w.findNearbyItem=function(e,t,i,n,r){var o=Y(e,t,i,n,r)
return void 0!==o[0]?o[0]:null},w.findNearbyItems=Y,w.findNearbyInterpolationPoint=function(e,t,i){var n,r,o,a,s,d,c,h=Number.MAX_VALUE
for(n=0;n<l.length;++n){if(!i(n))continue
var u=l[n].datapoints.points
d=l[n].datapoints.pointsize
const v=u[u.length-d]<u[0]?function(e,t){return e>t}:function(e,t){return t>e}
if(!v(e,u[0])){for(r=d;r<u.length&&!v(e,u[r]);r+=d);var p=u[r-d],m=u[r-d+1],f=u[r],g=u[r+1]
void 0!==p&&void 0!==f&&void 0!==m&&void 0!==g&&(t=p===f?g:m+(g-m)*(e-p)/(f-p),a=Math.abs(l[n].xaxis.p2c(f)-e),s=Math.abs(l[n].yaxis.p2c(g)-t),(o=a*a+s*s)<h&&(h=o,c=[e,t,n,r]))}}if(c)return n=c[2],r=c[3],d=l[n].datapoints.pointsize,u=l[n].datapoints.points,p=u[r-d],m=u[r-d+1],f=u[r],g=u[r+1],{datapoint:[c[0],c[1]],leftPoint:[p,m],rightPoint:[f,g],seriesIndex:n}
return null},w.computeValuePrecision=B,w.computeTickSize=L,w.addEventHandler=function(e,t,i,n){var r=i+e,o=x[r]||[]
o.push({event:e,handler:t,eventHolder:i,priority:n}),o.sort((e,t)=>t.priority-e.priority),o.forEach(e=>{e.eventHolder.unbind(e.event,e.handler),e.eventHolder.bind(e.event,e.handler)}),x[r]=o},w.hooks=_
var S=e.plot.uiConstants.MINOR_TICKS_COUNT_CONSTANT,T=e.plot.uiConstants.TICK_LENGTH_CONSTANT
function I(e,t){t=[w].concat(t)
for(var i=0;i<e.length;++i)e[i].apply(this,t)}function E(t){var i=l
l=function(t){for(var i=[],n=0;n<t.length;++n){var r=e.extend(!0,{},d.series)
null!=t[n].data?(r.data=t[n].data,delete t[n].data,e.extend(!0,r,t[n]),t[n].data=r.data):r.data=t[n],i.push(r)}return i}(t),function(){var t,i=l.length,n=-1
for(t=0;t<l.length;++t){var r=l[t].color
null!=r&&(i--,"number"==typeof r&&r>n&&(n=r))}i<=n&&(i=n+1)
var o,a=[],s=d.colors,c=s.length,h=0,u=Math.max(0,l.length-i)
for(t=0;t<i;t++)o=e.color.parse(s[(u+t)%c]||"#666"),t%c==0&&t&&(h=h>=0?h<.5?-h-.2:0:-h),a[t]=o.scale("rgb",1+h)
var p,m=0
for(t=0;t<l.length;++t){if(null==(p=l[t]).color?(p.color=a[m].toString(),++m):"number"==typeof p.color&&(p.color=a[p.color].toString()),null==p.lines.show){var v,b=!0
for(v in p)if(p[v]&&p[v].show){b=!1
break}b&&(p.lines.show=!0)}null==p.lines.zero&&(p.lines.zero=!!p.lines.fill),p.xaxis=k(f,P(p,"x")),p.yaxis=k(g,P(p,"y"))}}(),function(t){var i,n,r,o,a,s,d,c,h,u,p,m,f=Number.POSITIVE_INFINITY,g=Number.NEGATIVE_INFINITY
function v(e,t,i){t<e.datamin&&t!==-1/0&&(e.datamin=t),i>e.datamax&&i!==1/0&&(e.datamax=i)}function b(e,t){return e&&e[t]&&e[t].datapoints&&e[t].datapoints.points?e[t].datapoints.points:[]}for(e.each(D(),function(e,t){!0!==t.options.growOnly?(t.datamin=f,t.datamax=g):(void 0===t.datamin&&(t.datamin=f),void 0===t.datamax&&(t.datamax=g)),t.used=!1}),i=0;i<l.length;++i)(a=l[i]).datapoints={points:[]},0===a.datapoints.points.length&&(a.datapoints.points=b(t,i)),I(_.processRawData,[a,a.data,a.datapoints])
for(i=0;i<l.length;++i){if(a=l[i],p=a.data,!(m=a.datapoints.format)){if((m=[]).push({x:!0,y:!1,number:!0,required:!0,computeRange:"none"!==a.xaxis.options.autoScale,defaultValue:null}),m.push({x:!1,y:!0,number:!0,required:!0,computeRange:"none"!==a.yaxis.options.autoScale,defaultValue:null}),a.stack||a.bars.show||a.lines.show&&a.lines.fill){var y=null!=a.datapoints.pointsize?a.datapoints.pointsize:a.data&&a.data[0]&&a.data[0].length?a.data[0].length:3
y>2&&m.push({x:!1,y:!0,number:!0,required:!1,computeRange:"none"!==a.yaxis.options.autoScale,defaultValue:0})}a.datapoints.format=m}if(a.xaxis.used=a.yaxis.used=!0,null==a.datapoints.pointsize){for(a.datapoints.pointsize=m.length,d=a.datapoints.pointsize,s=a.datapoints.points,n=r=0;n<p.length;++n,r+=d){var x=null==(u=p[n])
if(!x)for(o=0;o<d;++o)c=u[o],(h=m[o])&&(h.number&&null!=c&&(c=+c,isNaN(c)&&(c=null)),null==c&&(h.required&&(x=!0),null!=h.defaultValue&&(c=h.defaultValue))),s[r+o]=c
if(x)for(o=0;o<d;++o)null!=(c=s[r+o])&&(h=m[o]).computeRange&&(h.x&&v(a.xaxis,c,c),h.y&&v(a.yaxis,c,c)),s[r+o]=null}s.length=r}}for(i=0;i<l.length;++i)a=l[i],I(_.processDatapoints,[a,a.datapoints])
for(i=0;i<l.length;++i)if(a=l[i],!(m=a.datapoints.format).every(function(e){return!e.computeRange})){var C=w.adjustSeriesDataRange(a,w.computeRangeForDataSeries(a))
I(_.adjustSeriesDataRange,[a,C]),v(a.xaxis,C.xmin,C.xmax),v(a.yaxis,C.ymin,C.ymax)}e.each(D(),function(e,t){t.datamin===f&&(t.datamin=null),t.datamax===g&&(t.datamax=null)})}(i)}function P(e,t){var i=e[t+"axis"]
return"object"==typeof i&&(i=i.n),"number"!=typeof i&&(i=1),i}function D(){return f.concat(g).filter(function(e){return e})}function k(t,i){return t[i-1]||(t[i-1]={n:i,direction:t===f?"x":"y",options:e.extend(!0,{},t===f?d.xaxis:d.yaxis)}),t[i-1]}function A(){C&&clearTimeout(C),I(_.shutdown,[u])}function j(t){function i(e){return e}var n,r,o=t.options.transform||i,it=t.options.inverseTransform
"x"===t.direction?(n=isFinite(o(t.max)-o(t.min))?t.scale=b/Math.abs(o(t.max)-o(t.min)):t.scale=1/Math.abs(e.plot.saturated.delta(o(t.min),o(t.max),b)),r=Math.min(o(t.max),o(t.min))):(n=-(n=isFinite(o(t.max)-o(t.min))?t.scale=y/Math.abs(o(t.max)-o(t.min)):t.scale=1/Math.abs(e.plot.saturated.delta(o(t.min),o(t.max),y))),r=Math.max(o(t.max),o(t.min))),t.p2c=o===i?function(e){return isFinite(e-r)?(e-r)*n:(e/4-r/4)*n*4}:function(e){var t=o(e)
return isFinite(t-r)?(t-r)*n:(t/4-r/4)*n*4},t.c2p=it?function(e){return it(r+e/n)}:function(e){return r+e/n}}function M(t){I(_.axisReserveSpace,[t])
var i=t.labelWidth,n=t.labelHeight,r=t.options.position,o="x"===t.direction,a=t.options.tickLength,s=t.options.showTicks,l=t.options.showMinorTicks,h=t.options.gridLines,u=d.grid.axisMargin,p=d.grid.labelMargin,m=!0,b=!0,y=!1
e.each(o?f:g,function(e,i){i&&(i.show||i.reserveSpace)&&(i===t?y=!0:i.options.position===r&&(y?b=!1:m=!1))}),b&&(u=0),null==a&&(a=T),null==s&&(s=!0),null==l&&(l=!0),null==h&&(h=!!m),isNaN(+a)||(p+=s?+a:0),o?(n+=p,"bottom"===r?(v.bottom+=n+u,t.box={top:c.height-v.bottom,height:n}):(t.box={top:v.top+u,height:n},v.top+=n+u)):(i+=p,"left"===r?(t.box={left:v.left+u,width:i},v.left+=i+u):(v.right+=i+u,t.box={left:c.width-v.right,width:i})),t.position=r,t.tickLength=a,t.showMinorTicks=l,t.showTicks=s,t.gridLines=h,t.box.padding=p,t.innermost=m}function N(e,t,i){"x"===e.direction?("bottom"===e.position&&i(t.bottom)&&(e.box.top-=Math.ceil(t.bottom)),"top"===e.position&&i(t.top)&&(e.box.top+=Math.ceil(t.top))):("left"===e.position&&i(t.left)&&(e.box.left+=Math.ceil(t.left)),"right"===e.position&&i(t.right)&&(e.box.left-=Math.ceil(t.right)))}function q(t){var r,o,a=D(),s=d.grid.show
for(o in v)v[o]=0
for(o in I(_.processOffset,[v]),v)"object"==typeof d.grid.borderWidth?v[o]+=s?d.grid.borderWidth[o]:0:v[o]+=s?d.grid.borderWidth:0
if(e.each(a,function(i,r){var o=r.options
r.show=null==o.show?r.used:o.show,r.reserveSpace=null==o.reserveSpace?r.show:o.reserveSpace,function(e){var t=e.options
e.tickFormatter||("function"==typeof t.tickFormatter?e.tickFormatter=function(){var e=Array.prototype.slice.call(arguments)
return""+t.tickFormatter.apply(null,e)}:e.tickFormatter=n)}(r),I(_.setRange,[r,t]),function(t,i){var n="number"==typeof t.options.min?t.options.min:t.min,r="number"==typeof t.options.max?t.options.max:t.max,o=t.options.offset
i&&(O(t),n=t.autoScaledMin,r=t.autoScaledMax)
if(n=(null!=n?n:-1)+(o.below||0),r=(null!=r?r:1)+(o.above||0),n>r){var a=n
n=r,r=a,t.options.offset={above:0,below:0}}t.min=e.plot.saturated.saturate(n),t.max=e.plot.saturated.saturate(r)}(r,t)}),s){b=c.width-v.left-v.right,y=c.height-v.bottom-v.top
var h=e.grep(a,function(e){return e.show||e.reserveSpace})
for(e.each(h,function(t,n){!function(t){var n,r=t.options
n=R(t.direction,c,r.ticks),t.delta=e.plot.saturated.delta(t.min,t.max,n)
var o=w.computeValuePrecision(t.min,t.max,t.direction,n,r.tickDecimals)
t.tickDecimals=Math.max(0,null!=r.tickDecimals?r.tickDecimals:o),t.tickSize=function(e,t,i,n,r){var o
o="number"==typeof n.ticks&&n.ticks>0?n.ticks:.3*Math.sqrt("x"===i?c.width:c.height)
var a=L(e,t,o,r)
return null!=n.minTickSize&&a<n.minTickSize&&(a=n.minTickSize),n.tickSize||a}(t.min,t.max,t.direction,r,r.tickDecimals),t.tickGenerator||("function"==typeof r.tickGenerator?t.tickGenerator=r.tickGenerator:t.tickGenerator=i)
if(null!=r.alignTicksWithAxis){var a=("x"===t.direction?f:g)[r.alignTicksWithAxis-1]
if(a&&a.used&&a!==t){var s=t.tickGenerator(t,w)
if(s.length>0&&(null==r.min&&(t.min=Math.min(t.min,s[0])),null==r.max&&s.length>1&&(t.max=Math.max(t.max,s[s.length-1]))),t.tickGenerator=function(e){var t,i,n=[]
for(i=0;i<a.ticks.length;++i)t=(a.ticks[i].v-a.min)/(a.max-a.min),t=e.min+t*(e.max-e.min),n.push(t)
return n},!t.mode&&null==r.tickDecimals){var l=Math.max(0,1-Math.floor(Math.log(t.delta)/Math.LN10)),d=t.tickGenerator(t,w)
d.length>1&&/\..*0$/.test((d[1]-d[0]).toFixed(l))||(t.tickDecimals=l)}}}}(n),function(t){var i,n,r=t.options.ticks,o=[]
null==r||"number"==typeof r&&r>0?o=t.tickGenerator(t,w):r&&(o=e.isFunction(r)?r(t):r)
for(t.ticks=[],i=0;i<o.length;++i){var a=null,s=o[i]
"object"==typeof s?(n=+s[0],s.length>1&&(a=s[1])):n=+s,isNaN(n)||t.ticks.push(H(n,a,t,"major"))}}(n),function(e,t,i){"loose"===e.options.autoScale&&t.length>0&&function(e){return e.some(e=>e.datapoints.points.length>0)}(i)&&(e.min=Math.min(e.min,t[0].v),e.max=Math.max(e.max,t[t.length-1].v))}(n,n.ticks,l),j(n),function(e,t){(function(e,t){if("endpoints"===e.options.showTickLabels)return!0
if("all"===e.options.showTickLabels){var i=t.filter(function(t){return t.bars.horizontal?t.yaxis===e:t.xaxis===e}),n=i.some(function(e){return!e.bars.show})
return 0===i.length||n}if("major"===e.options.showTickLabels||"none"===e.options.showTickLabels)return!1})(e,t)&&(e.ticks.unshift(H(e.min,null,e,"min")),e.ticks.push(H(e.max,null,e,"max")))}(n,l),function(e){for(var t=e.options,i="none"!==t.showTickLabels&&e.ticks?e.ticks:[],n="major"===t.showTickLabels||"all"===t.showTickLabels,r="endpoints"===t.showTickLabels||"all"===t.showTickLabels,o=t.labelWidth||0,a=t.labelHeight||0,s=e.direction+"Axis "+e.direction+e.n+"Axis",l="flot-"+e.direction+"-axis flot-"+e.direction+e.n+"-axis "+s,d=t.font||"flot-tick-label tickLabel",h=0;h<i.length;++h){var u=i[h],p=u.label
if(u.label&&!(!1===n&&h>0&&h<i.length-1)&&(!1!==r||0!==h&&h!==i.length-1)){"object"==typeof u.label&&(p=u.label.name)
var m=c.getTextInfo(l,p,d)
o=Math.max(o,m.width),a=Math.max(a,m.height)}}e.labelWidth=t.labelWidth||o,e.labelHeight=t.labelHeight||a}(n)}),r=h.length-1;r>=0;--r)M(h[r])
!function(){var t,i=d.grid.minBorderMargin
if(null==i)for(i=0,t=0;t<l.length;++t)i=Math.max(i,2*(l[t].points.radius+l[t].points.lineWidth/2))
var n,r={},o={left:i,right:i,top:i,bottom:i}
for(n in e.each(D(),function(e,t){t.reserveSpace&&t.ticks&&t.ticks.length&&("x"===t.direction?(o.left=Math.max(o.left,t.labelWidth/2),o.right=Math.max(o.right,t.labelWidth/2)):(o.bottom=Math.max(o.bottom,t.labelHeight/2),o.top=Math.max(o.top,t.labelHeight/2)))}),o)r[n]=o[n]-v[n]
e.each(f.concat(g),function(e,t){N(t,r,function(e){return e>0})}),v.left=Math.ceil(Math.max(o.left,v.left)),v.right=Math.ceil(Math.max(o.right,v.right)),v.top=Math.ceil(Math.max(o.top,v.top)),v.bottom=Math.ceil(Math.max(o.bottom,v.bottom))}(),e.each(h,function(e,t){!function(e){"x"===e.direction?(e.box.left=v.left-e.labelWidth/2,e.box.width=c.width-v.left-v.right+e.labelWidth):(e.box.top=v.top-e.labelHeight/2,e.box.height=c.height-v.bottom-v.top+e.labelHeight)}(t)})}if(d.grid.margin){for(o in v){var u=d.grid.margin||0
v[o]+="number"==typeof u?u:u[o]||0}e.each(f.concat(g),function(e,t){N(t,d.grid.margin,function(e){return null!=e})})}b=c.width-v.left-v.right,y=c.height-v.bottom-v.top,e.each(a,function(e,t){j(t)}),s&&e.each(D(),function(e,t){var i,n,r,o,a,s,l,d=t.box,h=t.direction+"Axis "+t.direction+t.n+"Axis",u="flot-"+t.direction+"-axis flot-"+t.direction+t.n+"-axis "+h,p=t.options.font||"flot-tick-label tickLabel",m={x:NaN,y:NaN,width:NaN,height:NaN},f=[],g=function(e,i){return!e||!e.label||e.v<t.min||e.v>t.max?m:(s=c.getTextInfo(u,e.label,p),"x"===t.direction?(o="center",n=v.left+t.p2c(e.v),"bottom"===t.position?r=d.top+d.padding-t.boxPosition.centerY:(r=d.top+d.height-d.padding+t.boxPosition.centerY,a="bottom"),l={x:n-s.width/2-3,y:r-3,width:s.width+6,height:s.height+6}):(a="middle",r=v.top+t.p2c(e.v),"left"===t.position?(n=d.left+d.width-d.padding-t.boxPosition.centerX,o="right"):n=d.left+d.padding+t.boxPosition.centerX,l={x:n-s.width/2-3,y:r-3,width:s.width+6,height:s.height+6}),function(e,t){return t.some(function(t){return i=e.x,n=e.y,r=e.x+e.width,o=e.y+e.height,a=t.x,s=t.y,l=t.x+t.width,d=t.y+t.height,(i<=a&&a<=r||a<=i&&i<=l)&&(n<=s&&s<=o||s<=n&&n<=d)
var i,n,r,o,a,s,l,d})}(l,i)?m:(c.addText(u,n,r,e.label,p,null,null,o,a),l))}
if(c.removeText(u),I(_.drawAxis,[t,c]),t.show)switch(t.options.showTickLabels){case"none":break
case"endpoints":f.push(g(t.ticks[0],f)),f.push(g(t.ticks[t.ticks.length-1],f))
break
case"major":for(f.push(g(t.ticks[0],f)),f.push(g(t.ticks[t.ticks.length-1],f)),i=1;i<t.ticks.length-1;++i)f.push(g(t.ticks[i],f))
break
case"all":for(f.push(g(t.ticks[0],[])),f.push(g(t.ticks[t.ticks.length-1],f)),i=1;i<t.ticks.length-1;++i)f.push(g(t.ticks[i],f))}}),I(_.setupGrid,[])}function O(t){var i,n=t.options,r=n.min,o=n.max,a=t.datamin,s=t.datamax
switch(n.autoScale){case"none":r=+(null!=n.min?n.min:a),o=+(null!=n.max?n.max:s)
break
case"loose":if(null!=a&&null!=s){r=a,o=s,i=e.plot.saturated.saturate(o-r)
var l="number"==typeof n.autoScaleMargin?n.autoScaleMargin:.02
r=e.plot.saturated.saturate(r-i*l),o=e.plot.saturated.saturate(o+i*l),r<0&&a>=0&&(r=0)}else r=n.min,o=n.max
break
case"exact":r=null!=a?a:n.min,o=null!=s?s:n.max
break
case"sliding-window":s>o&&(o=s,r=Math.max(s-(n.windowSize||100),r))}var d=function(e,t){var i=void 0===e?null:e,n=void 0===t?null:t
if(0==n-i){var r=0===n?1:.01,o=null
null==i&&(o-=r),null!=n&&null==i||(n+=r),null!=o&&(i=o)}return{min:i,max:n}}(r,o)
r=d.min,o=d.max,!0===n.growOnly&&"none"!==n.autoScale&&"sliding-window"!==n.autoScale&&(r=r<a?r:null!==a?a:r,o=o>s?o:null!==s?s:o),t.autoScaledMin=r,t.autoScaledMax=o}function B(t,i,n,r,o){var a=R(n,c,r),s=e.plot.saturated.delta(t,i,a),l=-Math.floor(Math.log(s)/Math.LN10)
o&&l>o&&(l=o)
var d=s/parseFloat("1e"+-l)
return d>2.25&&d<3&&l+1<=o&&++l,isFinite(l)?l:0}function L(t,i,n,r){var o=e.plot.saturated.delta(t,i,n),a=-Math.floor(Math.log(o)/Math.LN10)
r&&a>r&&(a=r)
var s,l=parseFloat("1e"+-a),d=o/l
return d<1.5?s=1:d<3?(s=2,d>2.25&&(null==r||a+1<=r)&&(s=2.5)):s=d<7.5?5:10,s*=l}function R(e,t,i){return"number"==typeof i&&i>0?i:.3*Math.sqrt("x"===e?t.width:t.height)}function H(e,t,i,n){if(null===t)switch(n){case"min":case"max":var r=function(e,t){var i=Math.floor(t.p2c(e)),n="x"===t.direction?i+1:i-1,r=t.c2p(i),o=t.c2p(n)
return B(r,o,t.direction,1)}(e,i)
isFinite(r),t=i.tickFormatter(e,i,r,w)
break
case"major":t=i.tickFormatter(e,i,void 0,w)}return{v:e,label:t}}function V(){c.clear(),I(_.drawBackground,[p])
var e=d.grid
e.show&&e.backgroundColor&&(p.save(),p.translate(v.left,v.top),p.fillStyle=te(d.grid.backgroundColor,y,0,"rgba(255, 255, 255, 0)"),p.fillRect(0,0,b,y),p.restore()),e.show&&!e.aboveData&&X()
for(var t=0;t<l.length;++t)I(_.drawSeries,[p,l[t],t,te]),J(l[t])
I(_.draw,[p]),e.show&&e.aboveData&&X(),c.render(),Z()}function F(e,t){for(var i,n,r,o,a=D(),s=0;s<a.length;++s)if((i=a[s]).direction===t&&(e[o=t+i.n+"axis"]||1!==i.n||(o=t+"axis"),e[o])){n=e[o].from,r=e[o].to
break}if(e[o]||(i="x"===t?f[0]:g[0],n=e[t+"1"],r=e[t+"2"]),null!=n&&null!=r&&n>r){var l=n
n=r,r=l}return{from:n,to:r,axis:i}}function z(e){var t=e.box,i=0,n=0
return"x"===e.direction?(i=0,n=t.top-v.top+("top"===e.position?t.height:0)):(n=0,i=t.left-v.left+("left"===e.position?t.width:0)+e.boxPosition.centerX),{x:i,y:n}}function $(e,t){return e%2!=0?Math.floor(t)+.5:t}function U(e){p.lineWidth=1
var t=z(e),i=t.x,n=t.y
if(e.show){var r=0,o=0
p.strokeStyle=e.options.color,p.beginPath(),"x"===e.direction?r=b+1:o=y+1,"x"===e.direction?n=$(p.lineWidth,n):i=$(p.lineWidth,i),p.moveTo(i,n),p.lineTo(i+r,n+o),p.stroke()}}function G(e){var t=e.tickLength,i=e.showMinorTicks,n=S,r=z(e),o=r.x,a=r.y,s=0
for(p.strokeStyle=e.options.color,p.beginPath(),s=0;s<e.ticks.length;++s){var l,d=e.ticks[s].v,c=0,h=0,u=0,m=0
if(!isNaN(d)&&d>=e.min&&d<=e.max&&("x"===e.direction?(o=e.p2c(d),h=t,"top"===e.position&&(h=-h)):(a=e.p2c(d),c=t,"left"===e.position&&(c=-c)),"x"===e.direction?o=$(p.lineWidth,o):a=$(p.lineWidth,a),p.moveTo(o,a),p.lineTo(o+c,a+h)),!0===i&&s<e.ticks.length-1){var f=e.ticks[s].v,g=(e.ticks[s+1].v-f)/(n+1)
for(l=1;l<=n;l++){if("x"===e.direction){if(m=t/2,o=$(p.lineWidth,e.p2c(f+l*g)),"top"===e.position&&(m=-m),o<0||o>b)continue}else if(u=t/2,a=$(p.lineWidth,e.p2c(f+l*g)),"left"===e.position&&(u=-u),a<0||a>y)continue
p.moveTo(o,a),p.lineTo(o+u,a+m)}}}p.stroke()}function W(e){var t,i,n
for(p.strokeStyle=d.grid.tickColor,p.beginPath(),t=0;t<e.ticks.length;++t){var r=e.ticks[t].v,o=0,a=0,s=0,l=0
isNaN(r)||r<e.min||r>e.max||(i=r,n=void 0,(!("object"==typeof(n=d.grid.borderWidth)&&n[e.position]>0||n>0)||i!==e.min&&i!==e.max)&&("x"===e.direction?(s=e.p2c(r),l=y,a=-y):(s=0,l=e.p2c(r),o=b),"x"===e.direction?s=$(p.lineWidth,s):l=$(p.lineWidth,l),p.moveTo(s,l),p.lineTo(s+o,l+a)))}p.stroke()}function X(){var t,i
p.save(),p.translate(v.left,v.top),function(){var t,i,n=d.grid.markings
if(n)for(e.isFunction(n)&&((t=w.getAxes()).xmin=t.xaxis.min,t.xmax=t.xaxis.max,t.ymin=t.yaxis.min,t.ymax=t.yaxis.max,n=n(t)),i=0;i<n.length;++i){var r=n[i],o=F(r,"x"),a=F(r,"y")
if(null==o.from&&(o.from=o.axis.min),null==o.to&&(o.to=o.axis.max),null==a.from&&(a.from=a.axis.min),null==a.to&&(a.to=a.axis.max),!(o.to<o.axis.min||o.from>o.axis.max||a.to<a.axis.min||a.from>a.axis.max)){o.from=Math.max(o.from,o.axis.min),o.to=Math.min(o.to,o.axis.max),a.from=Math.max(a.from,a.axis.min),a.to=Math.min(a.to,a.axis.max)
var s=o.from===o.to,l=a.from===a.to
if(!s||!l)if(o.from=Math.floor(o.axis.p2c(o.from)),o.to=Math.floor(o.axis.p2c(o.to)),a.from=Math.floor(a.axis.p2c(a.from)),a.to=Math.floor(a.axis.p2c(a.to)),s||l){var c=r.lineWidth||d.grid.markingsLineWidth,h=c%2?.5:0
p.beginPath(),p.strokeStyle=r.color||d.grid.markingsColor,p.lineWidth=c,s?(p.moveTo(o.to+h,a.from),p.lineTo(o.to+h,a.to)):(p.moveTo(o.from,a.to+h),p.lineTo(o.to,a.to+h)),p.stroke()}else p.fillStyle=r.color||d.grid.markingsColor,p.fillRect(o.from,a.to,o.to-o.from,a.from-a.to)}}}(),t=D(),i=d.grid.borderWidth
for(var n=0;n<t.length;++n){var r=t[n]
r.show&&(U(r),!0===r.showTicks&&G(r),!0===r.gridLines&&W(r))}i&&function(){var e=d.grid.borderWidth,t=d.grid.borderColor
"object"==typeof e||"object"==typeof t?("object"!=typeof e&&(e={top:e,right:e,bottom:e,left:e}),"object"!=typeof t&&(t={top:t,right:t,bottom:t,left:t}),e.top>0&&(p.strokeStyle=t.top,p.lineWidth=e.top,p.beginPath(),p.moveTo(0-e.left,0-e.top/2),p.lineTo(b,0-e.top/2),p.stroke()),e.right>0&&(p.strokeStyle=t.right,p.lineWidth=e.right,p.beginPath(),p.moveTo(b+e.right/2,0-e.top),p.lineTo(b+e.right/2,y),p.stroke()),e.bottom>0&&(p.strokeStyle=t.bottom,p.lineWidth=e.bottom,p.beginPath(),p.moveTo(b+e.right,y+e.bottom/2),p.lineTo(0,y+e.bottom/2),p.stroke()),e.left>0&&(p.strokeStyle=t.left,p.lineWidth=e.left,p.beginPath(),p.moveTo(0-e.left/2,y+e.bottom),p.lineTo(0-e.left/2,0),p.stroke())):(p.lineWidth=e,p.strokeStyle=d.grid.borderColor,p.strokeRect(-e/2,-e/2,b+e,y+e))}(),p.restore()}function J(t){t.lines.show&&e.plot.drawSeries.drawSeriesLines(t,p,v,b,y,w.drawSymbol,te),t.bars.show&&e.plot.drawSeries.drawSeriesBars(t,p,v,b,y,w.drawSymbol,te),t.points.show&&e.plot.drawSeries.drawSeriesPoints(t,p,v,b,y,w.drawSymbol,te)}function Y(e,t,i,n,r){for(var o=function(e,t,i,n,r){var o,a=[],s=[],d=n*n+1
for(o=l.length-1;o>=0;--o)if(i(o)){var c=l[o]
if(!c.datapoints)return
var h=!1
if(c.lines.show||c.points.show){var u=Q(c,e,t,n,r)
u&&(s.push({seriesIndex:o,dataIndex:u.dataIndex,distance:u.distance}),h=!0)}if(c.bars.show&&!h){var p=K(c,e,t)
p>=0&&s.push({seriesIndex:o,dataIndex:p,distance:d})}}for(o=0;o<s.length;o++){var m=s[o].seriesIndex,f=s[o].dataIndex,g=s[o].distance,v=l[m].datapoints.pointsize
a.push({datapoint:l[m].datapoints.points.slice(f*v,(f+1)*v),dataIndex:f,series:l[m],seriesIndex:m,distance:Math.sqrt(g)})}return a}(e,t,i,n,r),a=0;a<l.length;++a)i(a)&&I(_.findNearbyItems,[e,t,l,a,n,r,o])
return o.sort((e,t)=>void 0===t.distance?-1:void 0===e.distance&&void 0!==t.distance?1:e.distance-t.distance)}function Q(e,t,i,n,r){var o=e.xaxis.c2p(t),a=e.yaxis.c2p(i),s=n/e.xaxis.scale,l=n/e.yaxis.scale,d=e.datapoints.points,c=e.datapoints.pointsize,h=Number.POSITIVE_INFINITY
e.xaxis.options.inverseTransform&&(s=Number.MAX_VALUE),e.yaxis.options.inverseTransform&&(l=Number.MAX_VALUE)
for(var u=null,p=0;p<d.length;p+=c){var m=d[p],f=d[p+1]
if(null!=m&&!(m-o>s||m-o<-s||f-a>l||f-a<-l)){var g=Math.abs(e.xaxis.p2c(m)-t),v=Math.abs(e.yaxis.p2c(f)-i),b=r?r(g,v):g*g+v*v
b<h&&(h=b,u={dataIndex:p/c,distance:b})}}return u}function K(e,t,i){var n,r,o=e.bars.barWidth[0]||e.bars.barWidth,a=e.xaxis.c2p(t),s=e.yaxis.c2p(i),l=e.datapoints.points,d=e.datapoints.pointsize
switch(e.bars.align){case"left":n=0
break
case"right":n=-o
break
default:n=-o/2}r=n+o
for(var c=e.bars.fillTowards||0,h=c>e.yaxis.min?Math.min(e.yaxis.max,c):e.yaxis.min,u=-1,p=0;p<l.length;p+=d){var m=l[p],f=l[p+1]
if(null!=m){var g=3===d?l[p+2]:h;(e.bars.horizontal?a<=Math.max(g,m)&&a>=Math.min(g,m)&&s>=f+n&&s<=f+r:a>=m+n&&a<=m+r&&s>=Math.min(g,f)&&s<=Math.max(g,f))&&(u=p/d)}}return u}function Z(){var e=d.interaction.redrawOverlayInterval;-1!==e?C||(C=setTimeout(function(){ee(w)},e)):ee()}function ee(e){if(C=null,m){h.clear(),I(_.drawOverlay,[m,h])
var t=new CustomEvent("onDrawingDone")
e.getEventHolder().dispatchEvent(t),e.getPlaceholder().trigger("drawingdone")}}function te(t,i,n,r){if("string"==typeof t)return t
for(var o=p.createLinearGradient(0,n,0,i),a=0,s=t.colors.length;a<s;++a){var l=t.colors[a]
if("string"!=typeof l){var d=e.color.parse(r)
null!=l.brightness&&(d=d.scale("rgb",l.brightness)),null!=l.opacity&&(d.a*=l.opacity),l=d.toString()}o.addColorStop(a/(s-1),l)}return o}!function(){for(var i={Canvas:t},n=0;n<s.length;++n){var r=s[n]
r.init(w,i),r.options&&e.extend(!0,d,r.options)}}(),function(){r.css("padding",0).children().filter(function(){return!e(this).hasClass("flot-overlay")&&!e(this).hasClass("flot-base")}).remove(),"static"===r.css("position")&&r.css("position","relative")
c=new t("flot-base",r[0]),h=new t("flot-overlay",r[0]),p=c.context,m=h.context,u=e(h.element).unbind()
var i=r.data("plot")
i&&(i.shutdown(),h.clear())
r.data("plot",w)}(),function(t){e.extend(!0,d,t),t&&t.colors&&(d.colors=t.colors)
null==d.xaxis.color&&(d.xaxis.color=e.color.parse(d.grid.color).scale("a",.22).toString())
null==d.yaxis.color&&(d.yaxis.color=e.color.parse(d.grid.color).scale("a",.22).toString())
null==d.xaxis.tickColor&&(d.xaxis.tickColor=d.grid.tickColor||d.xaxis.color)
null==d.yaxis.tickColor&&(d.yaxis.tickColor=d.grid.tickColor||d.yaxis.color)
null==d.grid.borderColor&&(d.grid.borderColor=d.grid.color)
null==d.grid.tickColor&&(d.grid.tickColor=e.color.parse(d.grid.color).scale("a",.22).toString())
var i,n,o,a=r.css("font-size"),s=a?+a.replace("px",""):13,l={style:r.css("font-style"),size:Math.round(.8*s),variant:r.css("font-variant"),weight:r.css("font-weight"),family:r.css("font-family")}
for(o=d.xaxes.length||1,i=0;i<o;++i)(n=d.xaxes[i])&&!n.tickColor&&(n.tickColor=n.color),n=e.extend(!0,{},d.xaxis,n),d.xaxes[i]=n,n.font&&(n.font=e.extend({},l,n.font),n.font.color||(n.font.color=n.color),n.font.lineHeight||(n.font.lineHeight=Math.round(1.15*n.font.size)))
for(o=d.yaxes.length||1,i=0;i<o;++i)(n=d.yaxes[i])&&!n.tickColor&&(n.tickColor=n.color),n=e.extend(!0,{},d.yaxis,n),d.yaxes[i]=n,n.font&&(n.font=e.extend({},l,n.font),n.font.color||(n.font.color=n.color),n.font.lineHeight||(n.font.lineHeight=Math.round(1.15*n.font.size)))
for(i=0;i<d.xaxes.length;++i)k(f,i+1).options=d.xaxes[i]
for(i=0;i<d.yaxes.length;++i)k(g,i+1).options=d.yaxes[i]
for(var c in e.each(D(),function(e,t){t.boxPosition=t.options.boxPosition||{centerX:0,centerY:0}}),_)d.hooks[c]&&d.hooks[c].length&&(_[c]=_[c].concat(d.hooks[c]))
I(_.processOptions,[d])}(a),E(o),q(!0),V(),I(_.bindEvents,[u])}e.plot=function(t,i,n){return new a(e(t),i,n,e.plot.plugins)},e.plot.version="3.0.0",e.plot.plugins=[],e.fn.plot=function(t,i){return this.each(function(){e.plot(this,t,i)})},e.plot.linearTickGenerator=i,e.plot.defaultTickFormatter=n,e.plot.expRepTickFormatter=r}(jQuery)
var Xe=Object.freeze({})
!function(e){var t={saturate:function(e){return e===1/0?Number.MAX_VALUE:e===-1/0?-Number.MAX_VALUE:e},delta:function(e,t,i){return(t-e)/i==1/0?t/i-e/i:(t-e)/i},multiply:function(e,i){return t.saturate(e*i)},multiplyAdd:function(e,i,n){if(isFinite(e*i))return t.saturate(e*i+n)
for(var r=n,o=0;o<i;o++)r+=e
return t.saturate(r)},floorInBase:function(e,t){return t*Math.floor(e/t)}}
e.plot.saturated=t}(jQuery)
var Je=Object.freeze({})
!function(e){var t={getPageXY:function(e){var t=document.documentElement
return{X:e.clientX+(window.pageXOffset||t.scrollLeft)-(t.clientLeft||0),Y:e.clientY+(window.pageYOffset||t.scrollTop)-(t.clientTop||0)}},getPixelRatio:function(e){return(window.devicePixelRatio||1)/(e.webkitBackingStorePixelRatio||e.mozBackingStorePixelRatio||e.msBackingStorePixelRatio||e.oBackingStorePixelRatio||e.backingStorePixelRatio||1)},isSafari:function(){return/constructor/i.test(window.top.HTMLElement)||"[object SafariRemoteNotification]"===(!window.top.safari||void 0!==window.top.safari&&window.top.safari.pushNotification).toString()},isMobileSafari:function(){return navigator.userAgent.match(/(iPod|iPhone|iPad)/)&&navigator.userAgent.match(/AppleWebKit/)},isOpera:function(){return!!window.opr&&!!opr.addons||!!window.opera||navigator.userAgent.indexOf(" OPR/")>=0},isFirefox:function(){return"undefined"!=typeof InstallTrigger},isIE:function(){return!!document.documentMode},isEdge:function(){return!t.isIE()&&!!window.StyleMedia},isChrome:function(){return!!window.chrome&&!!window.chrome.webstore},isBlink:function(){return(t.isChrome()||t.isOpera())&&!!window.CSS}}
e.plot.browser=t}(jQuery)
var Ye=Object.freeze({})
!function(e){e.plot.drawSeries=new function(){function t(e,t,i,n,r,o,a,s,l,d,c){var h,u,p,m,f=e+n,g=e+r,v=i,b=t,y=!1
h=u=p=!0,d?(y=u=p=!0,h=!1,b=t+n,v=t+r,(g=e)<(f=i)&&(m=g,g=f,f=m,h=!0,u=!1)):(h=u=p=!0,y=!1,f=e+n,g=e+r,(b=t)<(v=i)&&(m=b,b=v,v=m,y=!0,p=!1)),g<a.min||f>a.max||b<s.min||v>s.max||(f<a.min&&(f=a.min,h=!1),g>a.max&&(g=a.max,u=!1),v<s.min&&(v=s.min,y=!1),b>s.max&&(b=s.max,p=!1),f=a.p2c(f),v=s.p2c(v),g=a.p2c(g),b=s.p2c(b),o&&(l.fillStyle=o(v,b),l.fillRect(f,b,g-f,v-b)),c>0&&(h||u||p||y)&&(l.beginPath(),l.moveTo(f,v),h?l.lineTo(f,b):l.moveTo(f,b),p?l.lineTo(g,b):l.moveTo(g,b),u?l.lineTo(g,v):l.moveTo(g,v),y?l.lineTo(f,v):l.moveTo(f,v),l.stroke()))}function i(t,i,n,r,o){var a=t.fill
if(!a)return null
if(t.fillColor)return o(t.fillColor,n,r,i)
var s=e.color.parse(i)
return s.a="number"==typeof a?a:.4,s.normalize(),s.toString()}this.drawSeriesLines=function(e,t,n,r,o,a,s){t.save(),t.translate(n.left,n.top),t.lineJoin="round",e.lines.dashes&&t.setLineDash&&t.setLineDash(e.lines.dashes)
var l={format:e.datapoints.format,points:e.datapoints.points,pointsize:e.datapoints.pointsize}
e.decimate&&(l.points=e.decimate(e,e.xaxis.min,e.xaxis.max,r,e.yaxis.min,e.yaxis.max,o))
var d=e.lines.lineWidth
t.lineWidth=d,t.strokeStyle=e.color
var c=i(e.lines,e.color,0,o,s)
c&&(t.fillStyle=c,function(e,t,i,n,r,o){for(var a=e.points,s=e.pointsize,l=n>i.min?Math.min(i.max,n):i.min,d=0,c=1,h=!1,u=0,p=0,m=null,f=null;!(s>0&&d>a.length+s);){var g=a[(d+=s)-s],v=a[d-s+c],b=a[d],y=a[d+c]
if(-2===s&&(v=y=l),h){if(s>0&&null!=g&&null==b){p=d,s=-s,c=2
continue}if(s<0&&d===u+s){r.fill(),h=!1,c=1,d=u=p+(s=-s)
continue}}if(null!=g&&null!=b){if(o&&(null!==m&&null!==f?(b=g,y=v,g=m,v=f,m=null,f=null,d-=s):v!==y&&g!==b&&(y=v,m=b,f=v)),g<=b&&g<t.min){if(b<t.min)continue
v=(t.min-g)/(b-g)*(y-v)+v,g=t.min}else if(b<=g&&b<t.min){if(g<t.min)continue
y=(t.min-g)/(b-g)*(y-v)+v,b=t.min}if(g>=b&&g>t.max){if(b>t.max)continue
v=(t.max-g)/(b-g)*(y-v)+v,g=t.max}else if(b>=g&&b>t.max){if(g>t.max)continue
y=(t.max-g)/(b-g)*(y-v)+v,b=t.max}if(h||(r.beginPath(),r.moveTo(t.p2c(g),i.p2c(l)),h=!0),v>=i.max&&y>=i.max)r.lineTo(t.p2c(g),i.p2c(i.max)),r.lineTo(t.p2c(b),i.p2c(i.max))
else if(v<=i.min&&y<=i.min)r.lineTo(t.p2c(g),i.p2c(i.min)),r.lineTo(t.p2c(b),i.p2c(i.min))
else{var _=g,w=b
v<=y&&v<i.min&&y>=i.min?(g=(i.min-v)/(y-v)*(b-g)+g,v=i.min):y<=v&&y<i.min&&v>=i.min&&(b=(i.min-v)/(y-v)*(b-g)+g,y=i.min),v>=y&&v>i.max&&y<=i.max?(g=(i.max-v)/(y-v)*(b-g)+g,v=i.max):y>=v&&y>i.max&&v<=i.max&&(b=(i.max-v)/(y-v)*(b-g)+g,y=i.max),g!==_&&r.lineTo(t.p2c(_),i.p2c(v)),r.lineTo(t.p2c(g),i.p2c(v)),r.lineTo(t.p2c(b),i.p2c(y)),b!==w&&(r.lineTo(t.p2c(b),i.p2c(y)),r.lineTo(t.p2c(w),i.p2c(y)))}}else m=null,f=null}}(l,e.xaxis,e.yaxis,e.lines.fillTowards||0,t,e.lines.steps)),d>0&&function(e,t,i,n,r,o,a){var s=e.points,l=e.pointsize,d=null,c=null,h=0,u=0,p=0,m=0,f=null,g=null,v=0
for(o.beginPath(),v=l;v<s.length;v+=l)if(h=s[v-l],u=s[v-l+1],p=s[v],m=s[v+1],null!==h&&null!==p)if(isNaN(h)||isNaN(p)||isNaN(u)||isNaN(m))d=null,c=null
else{if(a&&(null!==f&&null!==g?(p=h,m=u,h=f,u=g,f=null,g=null,v-=l):u!==m&&h!==p&&(m=u,f=p,g=u)),u<=m&&u<r.min){if(m<r.min)continue
h=(r.min-u)/(m-u)*(p-h)+h,u=r.min}else if(m<=u&&m<r.min){if(u<r.min)continue
p=(r.min-u)/(m-u)*(p-h)+h,m=r.min}if(u>=m&&u>r.max){if(m>r.max)continue
h=(r.max-u)/(m-u)*(p-h)+h,u=r.max}else if(m>=u&&m>r.max){if(u>r.max)continue
p=(r.max-u)/(m-u)*(p-h)+h,m=r.max}if(h<=p&&h<n.min){if(p<n.min)continue
u=(n.min-h)/(p-h)*(m-u)+u,h=n.min}else if(p<=h&&p<n.min){if(h<n.min)continue
m=(n.min-h)/(p-h)*(m-u)+u,p=n.min}if(h>=p&&h>n.max){if(p>n.max)continue
u=(n.max-h)/(p-h)*(m-u)+u,h=n.max}else if(p>=h&&p>n.max){if(h>n.max)continue
m=(n.max-h)/(p-h)*(m-u)+u,p=n.max}h===d&&u===c||o.moveTo(n.p2c(h)+t,r.p2c(u)+i),d=p,c=m,o.lineTo(n.p2c(p)+t,r.p2c(m)+i)}else f=null,g=null
o.stroke()}(l,0,0,e.xaxis,e.yaxis,t,e.lines.steps),t.restore()},this.drawSeriesPoints=function(e,t,n,r,o,a,s){function l(e,t,i,n,r,o){e.moveTo(t+n,i),e.arc(t,i,n,0,r?Math.PI:2*Math.PI,!1)}l.fill=!0,t.save(),t.translate(n.left,n.top)
var d={format:e.datapoints.format,points:e.datapoints.points,pointsize:e.datapoints.pointsize}
e.decimatePoints&&(d.points=e.decimatePoints(e,e.xaxis.min,e.xaxis.max,r,e.yaxis.min,e.yaxis.max,o))
var c,h=e.points.lineWidth,u=e.points.radius,p=e.points.symbol
"circle"===p?c=l:"string"==typeof p&&a&&a[p]?c=a[p]:"function"==typeof a&&(c=a),0===h&&(h=1e-4),t.lineWidth=h,t.fillStyle=i(e.points,e.color,null,null,s),t.strokeStyle=e.color,function(e,i,n,r,o,a,s,l){var d=e.points,c=e.pointsize
t.beginPath()
for(var h=0;h<d.length;h+=c){var u=d[h],p=d[h+1]
null==u||u<a.min||u>a.max||p<s.min||p>s.max||(u=a.p2c(u),p=s.p2c(p)+r,l(t,u,p,i,o,n))}l.fill&&!o&&t.fill(),t.stroke()}(d,u,!0,0,!1,e.xaxis,e.yaxis,c),t.restore()},this.drawSeriesBars=function(e,n,r,o,a,s,l){n.save(),n.translate(r.left,r.top)
var d,c={format:e.datapoints.format,points:e.datapoints.points,pointsize:e.datapoints.pointsize}
e.decimate&&(c.points=e.decimate(e,e.xaxis.min,e.xaxis.max,o)),n.lineWidth=e.bars.lineWidth,n.strokeStyle=e.color
var h=e.bars.barWidth[0]||e.bars.barWidth
switch(e.bars.align){case"left":d=0
break
case"right":d=-h
break
default:d=-h/2}!function(i,r,o,a,s,l){for(var d=i.points,c=i.pointsize,h=e.bars.fillTowards||0,u=h>l.min?Math.min(l.max,h):l.min,p=0;p<d.length;p+=c)if(null!=d[p]){var m=3===c?d[p+2]:u
t(d[p],d[p+1],m,r,o,a,s,l,n,e.bars.horizontal,e.bars.lineWidth)}}(c,d,d+h,e.bars.fill?function(t,n){return i(e.bars,e.color,t,n,l)}:null,e.xaxis,e.yaxis),n.restore()},this.drawBar=t}}(jQuery)
var Qe=Object.freeze({})
!function(e){function t(e,t,i,n){if(t.points.errorbars){var r=[{x:!0,number:!0,required:!0},{y:!0,number:!0,required:!0}],o=t.points.errorbars
"x"!==o&&"xy"!==o||(t.points.xerr.asymmetric?(r.push({x:!0,number:!0,required:!0}),r.push({x:!0,number:!0,required:!0})):r.push({x:!0,number:!0,required:!0})),"y"!==o&&"xy"!==o||(t.points.yerr.asymmetric?(r.push({y:!0,number:!0,required:!0}),r.push({y:!0,number:!0,required:!0})):r.push({y:!0,number:!0,required:!0})),n.format=r}}function i(e,t){var i=e.datapoints.points,n=null,r=null,o=null,a=null,s=e.points.xerr,l=e.points.yerr,d=e.points.errorbars
"x"===d||"xy"===d?s.asymmetric?(n=i[t+2],r=i[t+3],"xy"===d&&(l.asymmetric?(o=i[t+4],a=i[t+5]):o=i[t+4])):(n=i[t+2],"xy"===d&&(l.asymmetric?(o=i[t+3],a=i[t+4]):o=i[t+3])):"y"===d&&(l.asymmetric?(o=i[t+2],a=i[t+3]):o=i[t+2]),null==r&&(r=n),null==a&&(a=o)
var c=[n,r,o,a]
return s.show||(c[0]=null,c[1]=null),l.show||(c[2]=null,c[3]=null),c}function n(t,i,n,o,a,s,l,d,c,h,u){o+=h,a+=h,s+=h,"x"===i.err?(a>n+c?r(t,[[a,o],[Math.max(n+c,u[0]),o]]):l=!1,s<n-c?r(t,[[Math.min(n-c,u[1]),o],[s,o]]):d=!1):(a<o-c?r(t,[[n,a],[n,Math.min(o-c,u[0])]]):l=!1,s>o+c?r(t,[[n,Math.max(o+c,u[1])],[n,s]]):d=!1),c=null!=i.radius?i.radius:c,l&&("-"===i.upperCap?"x"===i.err?r(t,[[a,o-c],[a,o+c]]):r(t,[[n-c,a],[n+c,a]]):e.isFunction(i.upperCap)&&("x"===i.err?i.upperCap(t,a,o,c):i.upperCap(t,n,a,c))),d&&("-"===i.lowerCap?"x"===i.err?r(t,[[s,o-c],[s,o+c]]):r(t,[[n-c,s],[n+c,s]]):e.isFunction(i.lowerCap)&&("x"===i.err?i.lowerCap(t,s,o,c):i.lowerCap(t,n,s,c)))}function r(e,t){e.beginPath(),e.moveTo(t[0][0],t[0][1])
for(var i=1;i<t.length;i++)e.lineTo(t[i][0],t[i][1])
e.stroke()}function o(t,r){var o=t.getPlotOffset()
r.save(),r.translate(o.left,o.top),e.each(t.getData(),function(e,t){t.points.errorbars&&(t.points.xerr.show||t.points.yerr.show)&&function(e,t,r){var o,a=r.datapoints.points,s=r.datapoints.pointsize,l=[r.xaxis,r.yaxis],d=r.points.radius,c=[r.points.xerr,r.points.yerr],h=!1
l[0].p2c(l[0].max)<l[0].p2c(l[0].min)&&(h=!0,o=c[0].lowerCap,c[0].lowerCap=c[0].upperCap,c[0].upperCap=o)
var u=!1
l[1].p2c(l[1].min)<l[1].p2c(l[1].max)&&(u=!0,o=c[1].lowerCap,c[1].lowerCap=c[1].upperCap,c[1].upperCap=o)
for(var p=0;p<r.datapoints.points.length;p+=s)for(var m=i(r,p),f=0;f<c.length;f++){var g=[l[f].min,l[f].max]
if(m[f*c.length]){var v=a[p],b=a[p+1],y=[v,b][f]+m[f*c.length+1],_=[v,b][f]-m[f*c.length]
if("x"===c[f].err&&(b>l[1].max||b<l[1].min||y<l[0].min||_>l[0].max))continue
if("y"===c[f].err&&(v>l[0].max||v<l[0].min||y<l[1].min||_>l[1].max))continue
var w=!0,x=!0
y>g[1]&&(w=!1,y=g[1]),_<g[0]&&(x=!1,_=g[0]),("x"===c[f].err&&h||"y"===c[f].err&&u)&&(o=_,_=y,y=o,o=x,x=w,w=o,o=g[0],g[0]=g[1],g[1]=o),v=l[0].p2c(v),b=l[1].p2c(b),y=l[f].p2c(y),_=l[f].p2c(_),g[0]=l[f].p2c(g[0]),g[1]=l[f].p2c(g[1])
var C=c[f].lineWidth?c[f].lineWidth:r.points.lineWidth,S=null!=r.points.shadowSize?r.points.shadowSize:r.shadowSize
if(C>0&&S>0){var T=S/2
t.lineWidth=T,t.strokeStyle="rgba(0,0,0,0.1)",n(t,c[f],v,b,y,_,w,x,d,T+T/2,g),t.strokeStyle="rgba(0,0,0,0.2)",n(t,c[f],v,b,y,_,w,x,d,T/2,g)}t.strokeStyle=c[f].color?c[f].color:r.color,t.lineWidth=C,n(t,c[f],v,b,y,_,w,x,d,0,g)}}}(0,r,t)}),r.restore()}e.plot.plugins.push({init:function(e){e.hooks.processRawData.push(t),e.hooks.draw.push(o)},options:{series:{points:{errorbars:null,xerr:{err:"x",show:null,asymmetric:null,upperCap:null,lowerCap:null,color:null,radius:null},yerr:{err:"y",show:null,asymmetric:null,upperCap:null,lowerCap:null,color:null,radius:null}}}},name:"errorbars",version:"1.0"})}(jQuery)
var Ke=Object.freeze({})
jQuery.plot.uiConstants={SNAPPING_CONSTANT:20,PANHINT_LENGTH_CONSTANT:10,MINOR_TICKS_COUNT_CONSTANT:4,TICK_LENGTH_CONSTANT:10,ZOOM_DISTANCE_MARGIN:25}
var Ze=Object.freeze({})
!function(e){var t=n(Number.MAX_VALUE,10),i=n(Number.MAX_VALUE,4)
function n(e,t){for(var i,n,r=Math.floor(Math.log(e)*Math.LOG10E)-1,o=[],a=-r;a<=r;a++){n=parseFloat("1e"+a)
for(var s=1;s<9;s+=t)i=n*s,o.push(i)}return o}var r=function(n,r,a){var s=[],l=-1,d=-1,c=n.getCanvas(),h=t,u=o(r,n),p=r.max
a||(a=.3*Math.sqrt("x"===r.direction?c.width:c.height)),t.some(function(e,t){return e>=u&&(l=t,!0)}),t.some(function(e,t){return e>=p&&(d=t,!0)}),-1===d&&(d=t.length-1),d-l<=a/4&&h.length!==i.length&&(h=i,l*=2,d*=2)
var m,f,g,v=null,b=1/a
if(d-l>=a/4){for(var y=d;y>=l;y--)m=h[y],f=(Math.log(m)-Math.log(u))/(Math.log(p)-Math.log(u)),g=m,null===v?v={pixelCoord:f,idealPixelCoord:f}:Math.abs(f-v.pixelCoord)>=b?v={pixelCoord:f,idealPixelCoord:v.idealPixelCoord-b}:g=null,g&&s.push(g)
s.reverse()}else{var _=n.computeTickSize(u,p,a),w={min:u,max:p,tickSize:_}
s=e.plot.linearTickGenerator(w)}return s},o=function(e,t){var i=e.min,n=e.max
return i<=0&&n<(i=null===e.datamin?e.min=.1:p(t,e))&&(e.max=null!==e.datamax?e.datamax:e.options.max,e.options.offset.below=0,e.options.offset.above=0),i},a=function(t,i,n){var r=t>0?Math.floor(Math.log(t)/Math.LN10):0
if(n)return r>=-4&&r<=7?e.plot.defaultTickFormatter(t,i,n):e.plot.expRepTickFormatter(t,i,n)
if(r>=-4&&r<=7){var o=r<0?t.toFixed(-r):t.toFixed(r+2)
if(-1!==o.indexOf(".")){for(var a=o.lastIndexOf("0");a===o.length-1;)a=(o=o.slice(0,-1)).lastIndexOf("0")
o.indexOf(".")===o.length-1&&(o=o.slice(0,-1))}return o}return e.plot.expRepTickFormatter(t,i)},s=function(e){return e<t[0]&&(e=t[0]),Math.log(e)},l=function(e){return Math.exp(e)},d=function(e){return-e},c=function(e){return-s(e)},h=function(e){return l(-e)}
function u(e,t){"log"===t.options.mode&&t.datamin<=0&&(null===t.datamin?t.datamin=.1:t.datamin=p(e,t))}function p(e,t){var i=e.getData().filter(function(e){return e.xaxis===t||e.yaxis===t}).map(function(t){return e.computeRangeForDataSeries(t,null,m)}),n="x"===t.direction?Math.min(.1,i&&i[0]?i[0].xmin:.1):Math.min(.1,i&&i[0]?i[0].ymin:.1)
return t.min=n,n}function m(e){return e>0}e.plot.plugins.push({init:function(t){t.hooks.processOptions.push(function(t){e.each(t.getAxes(),function(e,i){var n=i.options
"log"===n.mode?(i.tickGenerator=function(e){return r(t,e,11)},"function"!=typeof i.options.tickFormatter&&(i.options.tickFormatter=a),i.options.transform=n.inverted?c:s,i.options.inverseTransform=n.inverted?h:l,i.options.autoScaleMargin=0,t.hooks.setRange.push(u)):n.inverted&&(i.options.transform=d,i.options.inverseTransform=d)})})},options:{xaxis:{}},name:"log",version:"0.1"}),e.plot.logTicksGenerator=r,e.plot.logTickFormatter=a}(jQuery)
var et=Object.freeze({})
!function(e){var t=function(e,t,i,n,r){var o=n*Math.sqrt(Math.PI)/2
e.rect(t-o,i-o,o+o,o+o)},i=function(e,t,i,n,r){var o=n*Math.sqrt(Math.PI)/2
e.rect(t-o,i-o,o+o,o+o)},n=function(e,t,i,n,r){var o=n*Math.sqrt(Math.PI/2)
e.moveTo(t-o,i),e.lineTo(t,i-o),e.lineTo(t+o,i),e.lineTo(t,i+o),e.lineTo(t-o,i),e.lineTo(t,i-o)},r=function(e,t,i,n,r){var o=n*Math.sqrt(2*Math.PI/Math.sin(Math.PI/3)),a=o*Math.sin(Math.PI/3)
e.moveTo(t-o/2,i+a/2),e.lineTo(t+o/2,i+a/2),r||(e.lineTo(t,i-a/2),e.lineTo(t-o/2,i+a/2),e.lineTo(t+o/2,i+a/2))},o=function(e,t,i,n,r,o){r||(e.moveTo(t+n,i),e.arc(t,i,n,0,2*Math.PI,!1))},a={square:t,rectangle:i,diamond:n,triangle:r,cross:function(e,t,i,n,r){var o=n*Math.sqrt(Math.PI)/2
e.moveTo(t-o,i-o),e.lineTo(t+o,i+o),e.moveTo(t-o,i+o),e.lineTo(t+o,i-o)},ellipse:o,plus:function(e,t,i,n,r){var o=n*Math.sqrt(Math.PI/2)
e.moveTo(t-o,i),e.lineTo(t+o,i),e.moveTo(t,i+o),e.lineTo(t,i-o)}}
t.fill=!0,i.fill=!0,n.fill=!0,r.fill=!0,o.fill=!0,e.plot.plugins.push({init:function(e){e.drawSymbol=a},name:"symbols",version:"1.0"})}(jQuery)
var tt=Object.freeze({})
!function(e){function t(e,t,i,n){if(!0===t.flatdata){var r=t.start||0,o="number"==typeof t.step?t.step:1
n.pointsize=2
for(var a=0,s=0;a<i.length;a++,s+=2)n.points[s]=r+a*o,n.points[s+1]=i[a]
void 0!==n.points?n.points.length=2*i.length:n.points=[]}}jQuery.plot.plugins.push({init:function(e){e.hooks.processRawData.push(t)},name:"flatdata",version:"0.0.2"})}()
var nt=Object.freeze({})
!function(e){var t={zoom:{interactive:!1,active:!1,amount:1.5},pan:{interactive:!1,active:!1,cursor:"move",frameRate:60,mode:"smart"},recenter:{interactive:!0},xaxis:{axisZoom:!0,plotZoom:!0,axisPan:!0,plotPan:!0,panRange:[void 0,void 0],zoomRange:[void 0,void 0]},yaxis:{axisZoom:!0,plotZoom:!0,axisPan:!0,plotPan:!0,panRange:[void 0,void 0],zoomRange:[void 0,void 0]}},i=e.plot.saturated,n=e.plot.browser,r=e.plot.uiConstants.SNAPPING_CONSTANT,o=e.plot.uiConstants.PANHINT_LENGTH_CONSTANT
function a(t,a){var s=null,l=!1,d="manual"===a.pan.mode,c="smartLock"===a.pan.mode,h=c||"smart"===a.pan.mode
var u,p="default",m=null,f=null,g={x:0,y:0},v=!1
function b(e,i){var r=Math.abs(e.originalEvent.deltaY)<=1?1+Math.abs(e.originalEvent.deltaY)/50:null
if(v&&C(e),t.getOptions().zoom.active)return e.preventDefault(),function(e,i,r){var o=n.getPageXY(e),a=t.offset()
a.left=o.X-a.left,a.top=o.Y-a.top
var s=t.getPlaceholder().offset()
s.left=o.X-s.left,s.top=o.Y-s.top
var l=t.getXAxes().concat(t.getYAxes()).filter(function(e){var t=e.box
if(void 0!==t)return s.left>t.left&&s.left<t.left+t.width&&s.top>t.top&&s.top<t.top+t.height})
0===l.length&&(l=void 0),i?t.zoomOut({center:a,axes:l,amount:r}):t.zoom({center:a,axes:l,amount:r})}(e,i<0,r),!1}function y(e){l=!0}function _(e){l=!1}function w(e){if(!l||!function(e){return 0===e.button}(e))return!1
v=!0
var i=n.getPageXY(e),r=t.getPlaceholder().offset()
r.left=i.X-r.left,r.top=i.Y-r.top,0===(s=t.getXAxes().concat(t.getYAxes()).filter(function(e){var t=e.box
if(void 0!==t)return r.left>t.left&&r.left<t.left+t.width&&r.top>t.top&&r.top<t.top+t.height})).length&&(s=void 0)
var o=t.getPlaceholder().css("cursor")
o&&(p=o),t.getPlaceholder().css("cursor",t.getOptions().pan.cursor),h?u=t.navigationState(i.X,i.Y):d&&(g.x=i.X,g.y=i.Y)}function x(e){if(v){var i=n.getPageXY(e),r=t.getOptions().pan.frameRate;-1!==r?!f&&r&&(f=setTimeout(function(){h?t.smartPan({x:u.startPageX-i.X,y:u.startPageY-i.Y},u,s,!1,c):d&&(t.pan({left:g.x-i.X,top:g.y-i.Y,axes:s}),g.x=i.X,g.y=i.Y),f=null},1/r*1e3)):h?t.smartPan({x:u.startPageX-i.X,y:u.startPageY-i.Y},u,s,!1,c):d&&(t.pan({left:g.x-i.X,top:g.y-i.Y,axes:s}),g.x=i.X,g.y=i.Y)}}function C(e){if(v){f&&(clearTimeout(f),f=null),v=!1
var i=n.getPageXY(e)
t.getPlaceholder().css("cursor",p),h?(t.smartPan({x:u.startPageX-i.X,y:u.startPageY-i.Y},u,s,!1,c),t.smartPan.end()):d&&(t.pan({left:g.x-i.X,top:g.y-i.Y,axes:s}),g.x=0,g.y=0)}}function S(i){if(t.activate(),t.getOptions().recenter.interactive){var n,r=t.getTouchedAxis(i.clientX,i.clientY)
t.recenter({axes:r[0]?r:null}),n=r[0]?new e.Event("re-center",{detail:{axisTouched:r[0]}}):new e.Event("re-center",{detail:i}),t.getPlaceholder().trigger(n)}}function T(e){return t.activate(),v&&C(e),!1}t.navigationState=function(e,t){var i=this.getAxes(),n={}
return Object.keys(i).forEach(function(e){var t=i[e]
n[e]={navigationOffset:{below:t.options.offset.below||0,above:t.options.offset.above||0},axisMin:t.min,axisMax:t.max,diagMode:!1}}),n.startPageX=e||0,n.startPageY=t||0,n},t.activate=function(){var e=t.getOptions()
e.pan.active&&e.zoom.active||(e.pan.active=!0,e.zoom.active=!0,t.getPlaceholder().trigger("plotactivated",[t]))},t.zoomOut=function(e){e||(e={}),e.amount||(e.amount=t.getOptions().zoom.amount),e.amount=1/e.amount,t.zoom(e)},t.zoom=function(i){i||(i={})
var n=i.center,r=i.amount||t.getOptions().zoom.amount,o=t.width(),a=t.height(),s=i.axes||t.getAxes()
n||(n={left:o/2,top:a/2})
var l=n.left/o,d=n.top/a,c={x:{min:n.left-l*o/r,max:n.left+(1-l)*o/r},y:{min:n.top-d*a/r,max:n.top+(1-d)*a/r}}
for(var h in s)if(s.hasOwnProperty(h)){var u=s[h],p=u.options,m=c[u.direction].min,f=c[u.direction].max,g=u.options.offset
if((p.axisZoom||!i.axes)&&(i.axes||p.plotZoom)){if((m=e.plot.saturated.saturate(u.c2p(m)))>(f=e.plot.saturated.saturate(u.c2p(f)))){var v=m
m=f,f=v}if(p.zoomRange){if(f-m<p.zoomRange[0])continue
if(f-m>p.zoomRange[1])continue}var b=e.plot.saturated.saturate(g.below-(u.min-m)),y=e.plot.saturated.saturate(g.above-(u.max-f))
p.offset={below:b,above:y}}}t.setupGrid(!0),t.draw(),i.preventEvent||t.getPlaceholder().trigger("plotzoom",[t,i])},t.pan=function(n){var r={x:+n.left,y:+n.top}
isNaN(r.x)&&(r.x=0),isNaN(r.y)&&(r.y=0),e.each(n.axes||t.getAxes(),function(e,t){var o=t.options,a=r[t.direction]
if((o.axisPan||!n.axes)&&(o.plotPan||n.axes)){var s=t.p2c(o.panRange[0])-t.p2c(t.min),l=t.p2c(o.panRange[1])-t.p2c(t.max)
if(void 0!==o.panRange[0]&&a>=l&&(a=l),void 0!==o.panRange[1]&&a<=s&&(a=s),0!==a){var d=i.saturate(t.c2p(t.p2c(t.min)+a)-t.c2p(t.p2c(t.min))),c=i.saturate(t.c2p(t.p2c(t.max)+a)-t.c2p(t.p2c(t.max)))
isFinite(d)||(d=0),isFinite(c)||(c=0),o.offset={below:i.saturate(d+(o.offset.below||0)),above:i.saturate(c+(o.offset.above||0))}}}}),t.setupGrid(!0),t.draw(),n.preventEvent||t.getPlaceholder().trigger("plotpan",[t,n])},t.recenter=function(i){e.each(i.axes||t.getAxes(),function(e,t){i.axes?"x"===this.direction?t.options.offset={below:0}:"y"===this.direction&&(t.options.offset={above:0}):t.options.offset={below:0,above:0}}),t.setupGrid(!0),t.draw()}
var I=null,E={x:0,y:0}
t.smartPan=function(e,n,o,a,s){var l,d,c,h,u,p,f=!!s||function(e){return Math.abs(e.y)<r&&Math.abs(e.x)>=r||Math.abs(e.x)<r&&Math.abs(e.y)>=r}(e),g=t.getAxes();(function(e){return Math.abs(e.x)>0&&Math.abs(e.y)>0})(e=s?function(e){switch(!I&&Math.max(Math.abs(e.x),Math.abs(e.y))>=r&&(I=Math.abs(e.x)<Math.abs(e.y)?"y":"x"),I){case"x":return{x:e.x,y:0}
case"y":return{x:0,y:e.y}
default:return{x:0,y:0}}}(e):function(e){return Math.abs(e.x)<r&&Math.abs(e.y)>=r?{x:0,y:e.y}:Math.abs(e.y)<r&&Math.abs(e.x)>=r?{x:e.x,y:0}:e}(e))&&(n.diagMode=!0),f&&!0===n.diagMode&&(n.diagMode=!1,function(e,t,i){var n
Object.keys(e).forEach(function(r){n=e[r],0===i[n.direction]&&(n.options.offset.below=t[r].navigationOffset.below,n.options.offset.above=t[r].navigationOffset.above)})}(g,n,e)),m=f?{start:{x:n.startPageX-t.offset().left+t.getPlotOffset().left,y:n.startPageY-t.offset().top+t.getPlotOffset().top},end:{x:n.startPageX-e.x-t.offset().left+t.getPlotOffset().left,y:n.startPageY-e.y-t.offset().top+t.getPlotOffset().top}}:{start:{x:n.startPageX-t.offset().left+t.getPlotOffset().left,y:n.startPageY-t.offset().top+t.getPlotOffset().top},end:!1},isNaN(e.x)&&(e.x=0),isNaN(e.y)&&(e.y=0),o&&(g=o),Object.keys(g).forEach(function(t){if(d=g[t],c=d.min,h=d.max,l=d.options,p=e[d.direction],u=E[d.direction],(l.axisPan||!o)&&(o||l.plotPan)){var n=u+d.p2c(l.panRange[0])-d.p2c(c),r=u+d.p2c(l.panRange[1])-d.p2c(h)
if(void 0!==l.panRange[0]&&p>=r&&(p=r),void 0!==l.panRange[1]&&p<=n&&(p=n),0!==p){var a=i.saturate(d.c2p(d.p2c(c)-(u-p))-d.c2p(d.p2c(c))),s=i.saturate(d.c2p(d.p2c(h)-(u-p))-d.c2p(d.p2c(h)))
isFinite(a)||(a=0),isFinite(s)||(s=0),d.options.offset.below=i.saturate(a+(d.options.offset.below||0)),d.options.offset.above=i.saturate(s+(d.options.offset.above||0))}}}),E=e,t.setupGrid(!0),t.draw(),a||t.getPlaceholder().trigger("plotpan",[t,e,o,n])},t.smartPan.end=function(){m=null,I=null,E={x:0,y:0},t.triggerRedrawOverlay()},t.getTouchedAxis=function(e,i){var n=t.getPlaceholder().offset()
return n.left=e-n.left,n.top=i-n.top,t.getXAxes().concat(t.getYAxes()).filter(function(e){var t=e.box
if(void 0!==t)return n.left>t.left&&n.left<t.left+t.width&&n.top>t.top&&n.top<t.top+t.height})},t.hooks.drawOverlay.push(function(e,t){if(m){t.strokeStyle="rgba(96, 160, 208, 0.7)",t.lineWidth=2,t.lineJoin="round"
var i,n,r=Math.round(m.start.x),a=Math.round(m.start.y)
if(s?"x"===s[0].direction?(n=Math.round(m.start.y),i=Math.round(m.end.x)):"y"===s[0].direction&&(i=Math.round(m.start.x),n=Math.round(m.end.y)):(i=Math.round(m.end.x),n=Math.round(m.end.y)),t.beginPath(),!1===m.end)t.moveTo(r,a-o),t.lineTo(r,a+o),t.moveTo(r+o,a),t.lineTo(r-o,a)
else{var l=a===n
t.moveTo(r-(l?0:o),a-(l?o:0)),t.lineTo(r+(l?0:o),a+(l?o:0)),t.moveTo(r,a),t.lineTo(i,n),t.moveTo(i-(l?0:o),n-(l?o:0)),t.lineTo(i+(l?0:o),n+(l?o:0))}t.stroke()}}),t.hooks.bindEvents.push(function(e,t){var i=e.getOptions()
i.zoom.interactive&&t.mousewheel(b),i.pan.interactive&&(e.addEventHandler("dragstart",w,t,0),e.addEventHandler("drag",x,t,0),e.addEventHandler("dragend",C,t,0),t.bind("mousedown",y),t.bind("mouseup",_)),t.dblclick(S),t.click(T)}),t.hooks.shutdown.push(function(e,t){t.unbind("mousewheel",b),t.unbind("mousedown",y),t.unbind("mouseup",_),t.unbind("dragstart",w),t.unbind("drag",x),t.unbind("dragend",C),t.unbind("dblclick",S),t.unbind("click",T),f&&clearTimeout(f)})}e.plot.plugins.push({init:function(e){e.hooks.processOptions.push(a)},options:t,name:"navigate",version:"1.3"})}(jQuery)
var rt=Object.freeze({})
!function(e){jQuery.plot.plugins.push({init:function(e){e.hooks.processRawData.push(function(e,t,i,n){if(null!=t.fillBetween){var r=n.format
r||((r=[]).push({x:!0,number:!0,computeRange:"none"!==t.xaxis.options.autoScale,required:!0}),r.push({y:!0,number:!0,computeRange:"none"!==t.yaxis.options.autoScale,required:!0}),void 0!==t.fillBetween&&""!==t.fillBetween&&function(t){for(var i=e.getData(),n=0;n<i.length;n++)if(i[n].id===t)return!0
return!1}(t.fillBetween)&&t.fillBetween!==t.id&&r.push({x:!1,y:!0,number:!0,required:!1,computeRange:"none"!==t.yaxis.options.autoScale,defaultValue:0}),n.format=r)}}),e.hooks.processDatapoints.push(function(e,t,i){if(null!=t.fillBetween){var n=function(e,t){var i
for(i=0;i<t.length;++i)if(t[i].id===e.fillBetween)return t[i]
return"number"==typeof e.fillBetween?e.fillBetween<0||e.fillBetween>=t.length?null:t[e.fillBetween]:null}(t,e.getData())
if(n){for(var r,o,a,s,l,d,c,h,u=i.pointsize,p=i.points,m=n.datapoints.pointsize,f=n.datapoints.points,g=[],v=t.lines.show,b=u>2&&i.format[2].y,y=v&&t.lines.steps,_=!0,w=0,x=0;!(w>=p.length);){if(c=g.length,null==p[w]){for(h=0;h<u;++h)g.push(p[w+h])
w+=u}else if(x>=f.length){if(!v)for(h=0;h<u;++h)g.push(p[w+h])
w+=u}else if(null==f[x]){for(h=0;h<u;++h)g.push(null)
_=!0,x+=m}else{if(r=p[w],o=p[w+1],s=f[x],l=f[x+1],d=0,r===s){for(h=0;h<u;++h)g.push(p[w+h])
d=l,w+=u,x+=m}else if(r>s){if(v&&w>0&&null!=p[w-u]){for(a=o+(p[w-u+1]-o)*(s-r)/(p[w-u]-r),g.push(s),g.push(a),h=2;h<u;++h)g.push(p[w+h])
d=l}x+=m}else{if(_&&v){w+=u
continue}for(h=0;h<u;++h)g.push(p[w+h])
v&&x>0&&null!=f[x-m]&&(d=l+(f[x-m+1]-l)*(r-s)/(f[x-m]-s)),w+=u}_=!1,c!==g.length&&b&&(g[c+2]=d)}if(y&&c!==g.length&&c>0&&null!==g[c]&&g[c]!==g[c-u]&&g[c+1]!==g[c-u+1]){for(h=0;h<u;++h)g[c+u+h]=g[c+h]
g[c+1]=g[c-u+1]}}i.points=g}}})},options:{series:{fillBetween:null}},name:"fillbetween",version:"1.0"})}()
var ot=Object.freeze({})
!function(e){jQuery.plot.plugins.push({init:function(e){e.hooks.processDatapoints.push(function(e,t,i){if(null!=t.stack&&!1!==t.stack){var n=t.bars.show||t.lines.show&&t.lines.fill,r=i.pointsize>2&&(t.bars.horizontal?i.format[2].x:i.format[2].y)
n&&!r&&function(e,t){for(var i=[],n=0;n<t.points.length;n+=2)i.push(t.points[n]),i.push(t.points[n+1]),i.push(0)
t.format.push({x:!1,y:!0,number:!0,required:!1,computeRange:"none"!==e.yaxis.options.autoScale,defaultValue:0}),t.points=i,t.pointsize=3}(t,i)
var o=function(e,t){for(var i=null,n=0;n<t.length&&e!==t[n];++n)t[n].stack===e.stack&&(i=t[n])
return i}(t,e.getData())
if(o){for(var a,s,l,d,c,h,u,p,m=i.pointsize,f=i.points,g=o.datapoints.pointsize,v=o.datapoints.points,b=[],y=t.lines.show,_=t.bars.horizontal,w=y&&t.lines.steps,x=!0,C=_?1:0,S=_?0:1,T=0,I=0;!(T>=f.length);){if(u=b.length,null==f[T]){for(p=0;p<m;++p)b.push(f[T+p])
T+=m}else if(I>=v.length){if(!y)for(p=0;p<m;++p)b.push(f[T+p])
T+=m}else if(null==v[I]){for(p=0;p<m;++p)b.push(null)
x=!0,I+=g}else{if(a=f[T+C],s=f[T+S],d=v[I+C],c=v[I+S],h=0,a===d){for(p=0;p<m;++p)b.push(f[T+p])
b[u+S]+=c,h=c,T+=m,I+=g}else if(a>d){if(y&&T>0&&null!=f[T-m]){for(l=s+(f[T-m+S]-s)*(d-a)/(f[T-m+C]-a),b.push(d),b.push(l+c),p=2;p<m;++p)b.push(f[T+p])
h=c}I+=g}else{if(x&&y){T+=m
continue}for(p=0;p<m;++p)b.push(f[T+p])
y&&I>0&&null!=v[I-g]&&(h=c+(v[I-g+S]-c)*(a-d)/(v[I-g+C]-d)),b[u+S]+=h,T+=m}x=!1,u!==b.length&&n&&(b[u+2]+=h)}if(w&&u!==b.length&&u>0&&null!==b[u]&&b[u]!==b[u-m]&&b[u+1]!==b[u-m+1]){for(p=0;p<m;++p)b[u+m+p]=b[u+p]
b[u+1]=b[u-m+1]}}i.points=b}}})},options:{series:{stack:null}},name:"stack",version:"1.2"})}()
var at=Object.freeze({})
!function(e){var t=e.plot.uiConstants.ZOOM_DISTANCE_MARGIN
function i(i,d){var c,h,u,p,m={zoomEnable:!1,prevDistance:null,prevTapTime:0,prevPanPosition:{x:0,y:0},prevTapPosition:{x:0,y:0}},f={prevTouchedAxis:"none",currentTouchedAxis:"none",touchedAxis:null,navigationConstraint:"unconstrained",initialState:null},g=d.pan.interactive&&"manual"===d.pan.touchMode,v="smartLock"===d.pan.touchMode,b=d.pan.interactive&&(v||"smart"===d.pan.touchMode)
function y(e,t,r){f.touchedAxis=function(e,t,i,n){if("pinchstart"!==t.type)return"panstart"===t.type?e.getTouchedAxis(t.detail.touches[0].pageX,t.detail.touches[0].pageY):"pinchend"===t.type?e.getTouchedAxis(t.detail.touches[0].pageX,t.detail.touches[0].pageY):n.touchedAxis
var r=e.getTouchedAxis(t.detail.touches[0].pageX,t.detail.touches[0].pageY),o=e.getTouchedAxis(t.detail.touches[1].pageX,t.detail.touches[1].pageY)
if(r.length===o.length&&r.toString()===o.toString())return r}(i,e,0,f),n(f)?f.navigationConstraint="unconstrained":f.navigationConstraint="axisConstrained"}c={start:function(e){if(y(e,"pan",m),r(e,"pan",m,f),b){var t=l(e,"pan")
f.initialState=i.navigationState(t.x,t.y)}},drag:function(e){if(y(e,"pan",m),b){var t=l(e,"pan")
i.smartPan({x:f.initialState.startPageX-t.x,y:f.initialState.startPageY-t.y},f.initialState,f.touchedAxis,!1,v)}else g&&(i.pan({left:-s(e,"pan",m).x,top:-s(e,"pan",m).y,axes:f.touchedAxis}),a(e,"pan",m,f))},end:function(e){y(e,"pan",m),b&&i.smartPan.end(),function(e,t){return t.zoomEnable&&1===e.detail.touches.length}(e,m)&&updateprevPanPosition(e,"pan",m,f)}},h={start:function(e){p&&(clearTimeout(p),p=null),y(e,"pinch",m),function(e,t){t.prevDistance=o(e)}(e,m),r(e,"pinch",m,f)},drag:function(e){p||(p=setTimeout(function(){y(e,"pinch",m),i.pan({left:-s(e,"pinch",m).x,top:-s(e,"pinch",m).y,axes:f.touchedAxis}),a(e,"pinch",m,f)
var n=o(e);(m.zoomEnable||Math.abs(n-m.prevDistance)>t)&&(!function(e,t,i,n){var r=e.offset(),a={left:0,top:0},s=o(t)/i.prevDistance,d=o(t)
a.left=l(t,"pinch").x-r.left,a.top=l(t,"pinch").y-r.top,e.zoom({center:a,amount:s,axes:n.touchedAxis}),i.prevDistance=d}(i,e,m,f),m.zoomEnable=!0),p=null},1e3/60))},end:function(e){p&&(clearTimeout(p),p=null),y(e,"pinch",m),m.prevDistance=null}},u={recenterPlot:function(t){t&&t.detail&&"touchstart"===t.detail.type&&function(t,i,r,o){if(function(e,t,i){var r=e.getTouchedAxis(t.detail.firstTouch.x,t.detail.firstTouch.y)
void 0!==r[0]&&(i.prevTouchedAxis=r[0].direction),void 0!==(r=e.getTouchedAxis(t.detail.secondTouch.x,t.detail.secondTouch.y))[0]&&(i.touchedAxis=r,i.currentTouchedAxis=r[0].direction),n(i)&&(i.touchedAxis=null,i.prevTouchedAxis="none",i.currentTouchedAxis="none")}(t,i,o),"x"===o.currentTouchedAxis&&"x"===o.prevTouchedAxis||"y"===o.currentTouchedAxis&&"y"===o.prevTouchedAxis||"none"===o.currentTouchedAxis&&"none"===o.prevTouchedAxis){var a
t.recenter({axes:o.touchedAxis}),a=o.touchedAxis?new e.Event("re-center",{detail:{axisTouched:o.touchedAxis}}):new e.Event("re-center",{detail:i}),t.getPlaceholder().trigger(a)}}(i,t,0,f)}},!0!==d.pan.enableTouch&&!0!==d.zoom.enableTouch||(i.hooks.bindEvents.push(function(e,t){var i=e.getOptions()
i.zoom.interactive&&i.zoom.enableTouch&&(t[0].addEventListener("pinchstart",h.start,!1),t[0].addEventListener("pinchdrag",h.drag,!1),t[0].addEventListener("pinchend",h.end,!1)),i.pan.interactive&&i.pan.enableTouch&&(t[0].addEventListener("panstart",c.start,!1),t[0].addEventListener("pandrag",c.drag,!1),t[0].addEventListener("panend",c.end,!1)),i.recenter.interactive&&i.recenter.enableTouch&&t[0].addEventListener("doubletap",u.recenterPlot,!1)}),i.hooks.shutdown.push(function(e,t){t[0].removeEventListener("panstart",c.start),t[0].removeEventListener("pandrag",c.drag),t[0].removeEventListener("panend",c.end),t[0].removeEventListener("pinchstart",h.start),t[0].removeEventListener("pinchdrag",h.drag),t[0].removeEventListener("pinchend",h.end),t[0].removeEventListener("doubletap",u.recenterPlot)}))}function n(e){return!e.touchedAxis||0===e.touchedAxis.length}function r(e,t,i,n){var r,o=l(e,t)
switch(n.navigationConstraint){case"unconstrained":n.touchedAxis=null,i.prevTapPosition={x:i.prevPanPosition.x,y:i.prevPanPosition.y},i.prevPanPosition={x:o.x,y:o.y}
break
case"axisConstrained":r=n.touchedAxis[0].direction,n.currentTouchedAxis=r,i.prevTapPosition[r]=i.prevPanPosition[r],i.prevPanPosition[r]=o[r]}}function o(e){var t,i,n,r,o=e.detail.touches[0],a=e.detail.touches[1]
return t=o.pageX,i=o.pageY,n=a.pageX,r=a.pageY,Math.sqrt((t-n)*(t-n)+(i-r)*(i-r))}function a(e,t,i,n){var r=l(e,t)
switch(n.navigationConstraint){case"unconstrained":i.prevPanPosition.x=r.x,i.prevPanPosition.y=r.y
break
case"axisConstrained":i.prevPanPosition[n.currentTouchedAxis]=r[n.currentTouchedAxis]}}function s(e,t,i){var n=l(e,t)
return{x:n.x-i.prevPanPosition.x,y:n.y-i.prevPanPosition.y}}function l(e,t){return"pinch"===t?{x:(e.detail.touches[0].pageX+e.detail.touches[1].pageX)/2,y:(e.detail.touches[0].pageY+e.detail.touches[1].pageY)/2}:{x:e.detail.touches[0].pageX,y:e.detail.touches[0].pageY}}e.plot.plugins.push({init:function(e){e.hooks.processOptions.push(i)},options:{zoom:{enableTouch:!1},pan:{enableTouch:!1,touchMode:"manual"},recenter:{enableTouch:!0}},name:"navigateTouch",version:"0.3"})}(jQuery)
var st=Object.freeze({})
!function(e){var t=e.plot.browser,i={click:"click",hover:"hover"}
e.plot.plugins.push({init:function(n){var r,o=[]
function a(e){var t=n.getOptions(),r=new CustomEvent("mouseevent")
return r.pageX=e.detail.changedTouches[0].pageX,r.pageY=e.detail.changedTouches[0].pageY,r.clientX=e.detail.changedTouches[0].clientX,r.clientY=e.detail.changedTouches[0].clientY,t.grid.hoverable&&s(r,i.hover,30),!1}function s(e,t,i){var r=n.getData()
if(void 0!==e&&r.length>0&&void 0!==r[0].xaxis.c2p&&void 0!==r[0].yaxis.c2p){var o=t+"able"
u("plot"+t,e,function(e){return!1!==r[e][o]},i)}}function l(e){r=e,n.getPlaceholder()[0].lastMouseMoveEvent=e,s(e,i.hover)}function d(e){r=void 0,n.getPlaceholder()[0].lastMouseMoveEvent=void 0,u("plothover",e,function(e){return!1})}function c(e){s(e,i.click)}function h(){n.unhighlight(),n.getPlaceholder().trigger("plothovercleanup")}function u(e,i,r,a){var s=n.getOptions(),l=n.offset(),d=t.getPageXY(i),c=d.X-l.left,h=d.Y-l.top,u=n.c2p({left:c,top:h}),f=void 0!==a?a:s.grid.mouseActiveRadius
u.pageX=d.X,u.pageY=d.Y
var g=n.findNearbyItems(c,h,r,f),v=g[0]
for(let e=1;e<g.length;++e)(void 0===v.distance||g[e].distance<v.distance)&&(v=g[e])
if(v?(v.pageX=parseInt(v.series.xaxis.p2c(v.datapoint[0])+l.left,10),v.pageY=parseInt(v.series.yaxis.p2c(v.datapoint[1])+l.top,10)):v=null,s.grid.autoHighlight){for(let t=0;t<o.length;++t){var b=o[t];(b.auto!==e||v&&b.series===v.series&&b.point[0]===v.datapoint[0]&&b.point[1]===v.datapoint[1])&&v||m(b.series,b.point)}v&&p(v.series,v.datapoint,e)}n.getPlaceholder().trigger(e,[u,v,g])}function p(e,t,i){if("number"==typeof e&&(e=n.getData()[e]),"number"==typeof t){var r=e.datapoints.pointsize
t=e.datapoints.points.slice(r*t,r*(t+1))}var a=f(e,t);-1===a?(o.push({series:e,point:t,auto:i}),n.triggerRedrawOverlay()):i||(o[a].auto=!1)}function m(e,t){if(null==e&&null==t)return o=[],void n.triggerRedrawOverlay()
if("number"==typeof e&&(e=n.getData()[e]),"number"==typeof t){var i=e.datapoints.pointsize
t=e.datapoints.points.slice(i*t,i*(t+1))}var r=f(e,t);-1!==r&&(o.splice(r,1),n.triggerRedrawOverlay())}function f(e,t){for(var i=0;i<o.length;++i){var n=o[i]
if(n.series===e&&n.point[0]===t[0]&&n.point[1]===t[1])return i}return-1}function g(){h(),s(r,i.hover)}function v(){s(r,i.hover)}function b(e,t,i){var n,r,a=e.getPlotOffset()
for(t.save(),t.translate(a.left,a.top),n=0;n<o.length;++n)(r=o[n]).series.bars.show?_(r.series,r.point,t):y(r.series,r.point,t,e)
t.restore()}function y(t,i,n,r){var o=i[0],a=i[1],s=t.xaxis,l=t.yaxis,d="string"==typeof t.highlightColor?t.highlightColor:e.color.parse(t.color).scale("a",.5).toString()
if(!(o<s.min||o>s.max||a<l.min||a>l.max)){var c=t.points.radius+t.points.lineWidth/2
n.lineWidth=c,n.strokeStyle=d
var h=1.5*c
o=s.p2c(o),a=l.p2c(a),n.beginPath()
var u=t.points.symbol
"circle"===u?n.arc(o,a,h,0,2*Math.PI,!1):"string"==typeof u&&r.drawSymbol&&r.drawSymbol[u]&&r.drawSymbol[u](n,o,a,h,!1),n.closePath(),n.stroke()}}function _(t,i,n){var r,o="string"==typeof t.highlightColor?t.highlightColor:e.color.parse(t.color).scale("a",.5).toString(),a=o,s=t.bars.barWidth[0]||t.bars.barWidth
switch(t.bars.align){case"left":r=0
break
case"right":r=-s
break
default:r=-s/2}n.lineWidth=t.bars.lineWidth,n.strokeStyle=o
var l=t.bars.fillTowards||0,d=l>t.yaxis.min?Math.min(t.yaxis.max,l):t.yaxis.min
e.plot.drawSeries.drawBar(i[0],i[1],i[2]||d,r,r+s,function(){return a},t.xaxis,t.yaxis,n,t.bars.horizontal,t.bars.lineWidth)}n.hooks.bindEvents.push(function(e,t){var i=e.getOptions();(i.grid.hoverable||i.grid.clickable)&&(t[0].addEventListener("touchevent",h,!1),t[0].addEventListener("tap",a,!1)),i.grid.clickable&&t.bind("click",c),i.grid.hoverable&&(t.bind("mousemove",l),t.bind("mouseleave",d))}),n.hooks.shutdown.push(function(e,t){t[0].removeEventListener("tap",a),t[0].removeEventListener("touchevent",h),t.unbind("mousemove",l),t.unbind("mouseleave",d),t.unbind("click",c),o=[]}),n.hooks.processOptions.push(function(e,t){e.highlight=p,e.unhighlight=m,(t.grid.hoverable||t.grid.clickable)&&(e.hooks.drawOverlay.push(b),e.hooks.processDatapoints.push(g),e.hooks.setupGrid.push(v)),r=e.getPlaceholder()[0].lastMouseMoveEvent})},options:{grid:{hoverable:!1,clickable:!1}},name:"hover",version:"0.1"})}(jQuery)
var lt=Object.freeze({})
!function(e){function t(e,t){var i,n={twoTouches:!1,currentTapStart:{x:0,y:0},currentTapEnd:{x:0,y:0},prevTap:{x:0,y:0},currentTap:{x:0,y:0},interceptedLongTap:!1,isUnsupportedGesture:!1,prevTapTime:null,tapStartTime:null,longTapTriggerId:null},r=20,o=500
function a(t){var a=e.getOptions();(a.pan.active||a.zoom.active)&&(!function(e){e.touches.length>=3?n.isUnsupportedGesture=!0:n.isUnsupportedGesture=!1}(t),i.dispatchEvent(new CustomEvent("touchevent",{detail:t})),v(t)?s(t,"pinch"):(s(t,"pan"),g(t)||(function(e){var t=(new Date).getTime(),i=t-n.prevTapTime
if(i>=0&&i<o&&f(n.prevTap.x,n.prevTap.y,n.currentTap.x,n.currentTap.y)<r)return e.firstTouch=n.prevTap,e.secondTouch=n.currentTap,!0
return n.prevTapTime=t,!1}(t)&&s(t,"doubleTap"),s(t,"tap"),s(t,"longTap"))))}function s(e,t){switch(t){case"pan":l[e.type](e)
break
case"pinch":d[e.type](e)
break
case"doubleTap":c.onDoubleTap(e)
break
case"longTap":h[e.type](e)
break
case"tap":u[e.type](e)}}var l={touchstart:function(e){n.prevTap={x:n.currentTap.x,y:n.currentTap.y},p(e),function(e){n.tapStartTime=(new Date).getTime(),n.interceptedLongTap=!1,n.currentTapStart={x:e.touches[0].pageX,y:e.touches[0].pageY},n.currentTapEnd={x:e.touches[0].pageX,y:e.touches[0].pageY}}(e),i.dispatchEvent(new CustomEvent("panstart",{detail:e}))},touchmove:function(e){m(e),p(e),function(e){n.currentTapEnd={x:e.touches[0].pageX,y:e.touches[0].pageY}}(e),n.isUnsupportedGesture||i.dispatchEvent(new CustomEvent("pandrag",{detail:e}))},touchend:function(e){m(e),g(e)?(i.dispatchEvent(new CustomEvent("pinchend",{detail:e})),i.dispatchEvent(new CustomEvent("panstart",{detail:e}))):function(e){return e.touches&&0===e.touches.length}(e)&&i.dispatchEvent(new CustomEvent("panend",{detail:e}))}},d={touchstart:function(e){i.dispatchEvent(new CustomEvent("pinchstart",{detail:e}))},touchmove:function(e){m(e),n.twoTouches=v(e),n.isUnsupportedGesture||i.dispatchEvent(new CustomEvent("pinchdrag",{detail:e}))},touchend:function(e){m(e)}},c={onDoubleTap:function(e){m(e),i.dispatchEvent(new CustomEvent("doubletap",{detail:e}))}},h={touchstart:function(e){h.waitForLongTap(e)},touchmove:function(e){},touchend:function(e){n.longTapTriggerId&&(clearTimeout(n.longTapTriggerId),n.longTapTriggerId=null)},isLongTap:function(e){return(new Date).getTime()-n.tapStartTime>=1500&&!n.interceptedLongTap&&f(n.currentTapStart.x,n.currentTapStart.y,n.currentTapEnd.x,n.currentTapEnd.y)<20&&(n.interceptedLongTap=!0,!0)},waitForLongTap:function(e){n.longTapTriggerId||(n.longTapTriggerId=setTimeout(function(){h.isLongTap(e)&&i.dispatchEvent(new CustomEvent("longtap",{detail:e})),n.longTapTriggerId=null},1500))}},u={touchstart:function(e){n.tapStartTime=(new Date).getTime()},touchmove:function(e){},touchend:function(e){u.isTap(e)&&(i.dispatchEvent(new CustomEvent("tap",{detail:e})),m(e))},isTap:function(e){return(new Date).getTime()-n.tapStartTime<=125&&f(n.currentTapStart.x,n.currentTapStart.y,n.currentTapEnd.x,n.currentTapEnd.y)<20}}
function p(e){n.currentTap={x:e.touches[0].pageX,y:e.touches[0].pageY}}function m(t){n.isUnsupportedGesture||(t.preventDefault(),e.getOptions().propagateSupportedGesture||t.stopPropagation())}function f(e,t,i,n){return Math.sqrt((e-i)*(e-i)+(t-n)*(t-n))}function g(e){return n.twoTouches&&1===e.touches.length}function v(t){return!!(t.touches&&t.touches.length>=2&&t.touches[0].target===e.getEventHolder()&&t.touches[1].target===e.getEventHolder())}(!0===t.pan.enableTouch||t.zoom.enableTouch)&&(e.hooks.bindEvents.push(function(e,t){i=t[0],t[0].addEventListener("touchstart",a,!1),t[0].addEventListener("touchmove",a,!1),t[0].addEventListener("touchend",a,!1)}),e.hooks.shutdown.push(function(e,t){t[0].removeEventListener("touchstart",a),t[0].removeEventListener("touchmove",a),t[0].removeEventListener("touchend",a),n.longTapTriggerId&&(clearTimeout(n.longTapTriggerId),n.longTapTriggerId=null)}))}jQuery.plot.plugins.push({init:function(e){e.hooks.processOptions.push(t)},options:{propagateSupportedGesture:!1},name:"navigateTouch",version:"0.3"})}()
var dt=Object.freeze({})
!function(e){var t=e.plot.saturated.floorInBase,i=function(e,t){var i=new e(t),n=i.setTime.bind(i)
i.update=function(e){n(e),e=Math.round(1e3*e)/1e3,this.microseconds=1e3*(e-Math.floor(e))}
var r=i.getTime.bind(i)
return i.getTime=function(){return r()+this.microseconds/1e3},i.setTime=function(e){this.update(e)},i.getMicroseconds=function(){return this.microseconds},i.setMicroseconds=function(e){var t=r()+e/1e3
this.update(t)},i.setUTCMicroseconds=function(e){this.setMicroseconds(e)},i.getUTCMicroseconds=function(){return this.getMicroseconds()},i.microseconds=null,i.microEpoch=null,i.update(t),i}
function n(e,t,i,n){if("function"==typeof e.strftime)return e.strftime(t)
var r,o=function(e,t){return t=""+(null==t?"0":t),1===(e=""+e).length?t+e:e},a=function(e,t,i){var n,r=1e3*e+t
if(i<6&&i>0){var o=parseFloat("1e"+(i-6))
n=("00000"+(r=Math.round(Math.round(r*o)/o))).slice(-6,-(6-i))}else n=("00000"+(r=Math.round(r))).slice(-6)
return n},s=[],l=!1,d=e.getHours(),c=d<12
i||(i=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]),n||(n=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"]),r=d>12?d-12:0===d?12:d
for(var h=-1,u=0;u<t.length;++u){var p=t.charAt(u)
if(!isNaN(Number(p))&&Number(p)>0)h=Number(p)
else if(l){switch(p){case"a":p=""+n[e.getDay()]
break
case"b":p=""+i[e.getMonth()]
break
case"d":p=o(e.getDate())
break
case"e":p=o(e.getDate()," ")
break
case"h":case"H":p=o(d)
break
case"I":p=o(r)
break
case"l":p=o(r," ")
break
case"m":p=o(e.getMonth()+1)
break
case"M":p=o(e.getMinutes())
break
case"q":p=""+(Math.floor(e.getMonth()/3)+1)
break
case"S":p=o(e.getSeconds())
break
case"s":p=""+a(e.getMilliseconds(),e.getMicroseconds(),h)
break
case"y":p=o(e.getFullYear()%100)
break
case"Y":p=""+e.getFullYear()
break
case"p":p=c?"am":"pm"
break
case"P":p=c?"AM":"PM"
break
case"w":p=""+e.getDay()}s.push(p),l=!1}else"%"===p?l=!0:s.push(p)}return s.join("")}function r(e){function t(e,t,i,n){e[t]=function(){return i[n].apply(i,arguments)}}var i={date:e}
void 0!==e.strftime&&t(i,"strftime",e,"strftime"),t(i,"getTime",e,"getTime"),t(i,"setTime",e,"setTime")
for(var n=["Date","Day","FullYear","Hours","Minutes","Month","Seconds","Milliseconds","Microseconds"],r=0;r<n.length;r++)t(i,"get"+n[r],e,"getUTC"+n[r]),t(i,"set"+n[r],e,"setUTC"+n[r])
return i}function o(e,t){if(t&&"seconds"===t.timeBase?e*=1e3:"microseconds"===t.timeBase&&(e/=1e3),e>864e13?e=864e13:e<-864e13&&(e=-864e13),"browser"===t.timezone)return i(Date,e)
if(t.timezone&&"utc"!==t.timezone){if("undefined"!=typeof timezoneJS&&void 0!==timezoneJS.Date){var n=i(timezoneJS.Date,e)
return n.setTimezone(t.timezone),n.setTime(e),n}return r(i(Date,e))}return r(i(Date,e))}var a={microsecond:1e-6,millisecond:.001,second:1,minute:60,hour:3600,day:86400,month:2592e3,quarter:7776e3,year:525949.2*60},s={microsecond:.001,millisecond:1,second:1e3,minute:6e4,hour:36e5,day:864e5,month:2592e6,quarter:7776e6,year:525949.2*60*1e3},l={microsecond:1,millisecond:1e3,second:1e6,minute:6e7,hour:36e8,day:864e8,month:2592e9,quarter:7776e9,year:525949.2*60*1e6},d=[[1,"microsecond"],[2,"microsecond"],[5,"microsecond"],[10,"microsecond"],[25,"microsecond"],[50,"microsecond"],[100,"microsecond"],[250,"microsecond"],[500,"microsecond"],[1,"millisecond"],[2,"millisecond"],[5,"millisecond"],[10,"millisecond"],[25,"millisecond"],[50,"millisecond"],[100,"millisecond"],[250,"millisecond"],[500,"millisecond"],[1,"second"],[2,"second"],[5,"second"],[10,"second"],[30,"second"],[1,"minute"],[2,"minute"],[5,"minute"],[10,"minute"],[30,"minute"],[1,"hour"],[2,"hour"],[4,"hour"],[8,"hour"],[12,"hour"],[1,"day"],[2,"day"],[3,"day"],[.25,"month"],[.5,"month"],[1,"month"],[2,"month"]],c=d.concat([[3,"month"],[6,"month"],[1,"year"]]),h=d.concat([[1,"quarter"],[2,"quarter"],[1,"year"]])
function u(e){var i,n=e.options,r=[],d=o(e.min,n),u=0,p=n.tickSize&&"quarter"===n.tickSize[1]||n.minTickSize&&"quarter"===n.minTickSize[1]?h:c
i="seconds"===n.timeBase?a:"microseconds"===n.timeBase?l:s,null!==n.minTickSize&&void 0!==n.minTickSize&&(u="number"==typeof n.tickSize?n.tickSize:n.minTickSize[0]*i[n.minTickSize[1]])
for(var m=0;m<p.length-1&&!(e.delta<(p[m][0]*i[p[m][1]]+p[m+1][0]*i[p[m+1][1]])/2&&p[m][0]*i[p[m][1]]>=u);++m);var f=p[m][0],g=p[m][1]
if("year"===g){if(null!==n.minTickSize&&void 0!==n.minTickSize&&"year"===n.minTickSize[1])f=Math.floor(n.minTickSize[0])
else{var v=parseFloat("1e"+Math.floor(Math.log(e.delta/i.year)/Math.LN10)),b=e.delta/i.year/v
f=b<1.5?1:b<3?2:b<7.5?5:10,f*=v}f<1&&(f=1)}e.tickSize=n.tickSize||[f,g]
var y=e.tickSize[0],_=y*i[g=e.tickSize[1]]
"microsecond"===g?d.setMicroseconds(t(d.getMicroseconds(),y)):"millisecond"===g?d.setMilliseconds(t(d.getMilliseconds(),y)):"second"===g?d.setSeconds(t(d.getSeconds(),y)):"minute"===g?d.setMinutes(t(d.getMinutes(),y)):"hour"===g?d.setHours(t(d.getHours(),y)):"month"===g?d.setMonth(t(d.getMonth(),y)):"quarter"===g?d.setMonth(3*t(d.getMonth()/3,y)):"year"===g&&d.setFullYear(t(d.getFullYear(),y)),_>=i.millisecond&&(_>=i.second?d.setMicroseconds(0):d.setMicroseconds(1e3*d.getMilliseconds())),_>=i.minute&&d.setSeconds(0),_>=i.hour&&d.setMinutes(0),_>=i.day&&d.setHours(0),_>=4*i.day&&d.setDate(1),_>=2*i.month&&d.setMonth(t(d.getMonth(),3)),_>=2*i.quarter&&d.setMonth(t(d.getMonth(),6)),_>=i.year&&d.setMonth(0)
var w,x,C=0,S=Number.NaN
do{if(x=S,w=d.getTime(),S=n&&"seconds"===n.timeBase?w/1e3:n&&"microseconds"===n.timeBase?1e3*w:w,r.push(S),"month"===g||"quarter"===g)if(y<1){d.setDate(1)
var T=d.getTime()
d.setMonth(d.getMonth()+("quarter"===g?3:1))
var I=d.getTime()
d.setTime(S+C*i.hour+(I-T)*y),C=d.getHours(),d.setHours(0)}else d.setMonth(d.getMonth()+y*("quarter"===g?3:1))
else"year"===g?d.setFullYear(d.getFullYear()+y):"seconds"===n.timeBase?d.setTime(1e3*(S+_)):"microseconds"===n.timeBase?d.setTime((S+_)/1e3):d.setTime(S+_)}while(S<e.max&&S!==x)
return r}e.plot.plugins.push({init:function(t){t.hooks.processOptions.push(function(t){e.each(t.getAxes(),function(e,t){var i=t.options
if("time"===i.mode){if(t.tickGenerator=u,"tickFormatter"in i&&"function"==typeof i.tickFormatter)return
t.tickFormatter=function(e,t){var r=o(e,t.options)
if(null!=i.timeformat)return n(r,i.timeformat,i.monthNames,i.dayNames)
var d,c=t.options.tickSize&&"quarter"===t.options.tickSize[1]||t.options.minTickSize&&"quarter"===t.options.minTickSize[1]
d="seconds"===i.timeBase?a:"microseconds"===i.timeBase?l:s
var h,u,p=t.tickSize[0]*d[t.tickSize[1]],m=t.max-t.min,f=i.twelveHourClock?" %p":"",g=i.twelveHourClock?"%I":"%H"
if(h="seconds"===i.timeBase?1:"microseconds"===i.timeBase?1e6:1e3,p<d.second){var v=-Math.floor(Math.log10(p/h))
String(p).indexOf("25")>-1&&v++,u="%S.%"+v+"s"}else u=p<d.minute?g+":%M:%S"+f:p<d.day?m<2*d.day?g+":%M"+f:"%b %d "+g+":%M"+f:p<d.month?"%b %d":c&&p<d.quarter||!c&&p<d.year?m<d.year?"%b":"%b %Y":c&&p<d.year?m<d.year?"Q%q":"Q%q %Y":"%Y"
return n(r,u,i.monthNames,i.dayNames)}}})})},options:{xaxis:{timezone:null,timeformat:null,twelveHourClock:!1,monthNames:null,timeBase:"seconds"},yaxis:{timeBase:"seconds"}},name:"time",version:"1.0"}),e.plot.formatDate=n,e.plot.dateGenerator=o,e.plot.dateTickGenerator=u,e.plot.makeUtcWrapper=r}(jQuery)
var ct=Object.freeze({})
!function(e){function t(e,t,i,n,r,o){this.axisName=e,this.position=t,this.padding=i,this.placeholder=n,this.axisLabel=r,this.surface=o,this.width=0,this.height=0,this.elem=null}t.prototype.calculateSize=function(){var e=this.axisName+"Label",t=e+"Layer",i=e+" axisLabels",n=this.surface.getTextInfo(t,this.axisLabel,i)
this.labelWidth=n.width,this.labelHeight=n.height,"left"===this.position||"right"===this.position?(this.width=this.labelHeight+this.padding,this.height=0):(this.width=0,this.height=this.labelHeight+this.padding)},t.prototype.transforms=function(e,t,i,n){var r,o,a=[]
if(0===t&&0===i||((r=n.createSVGTransform()).setTranslate(t,i),a.push(r)),0!==e){o=n.createSVGTransform()
var s=Math.round(this.labelWidth/2)
o.setRotate(e,s,0),a.push(o)}return a},t.prototype.calculateOffsets=function(e){var t={x:0,y:0,degrees:0}
return"bottom"===this.position?(t.x=e.left+e.width/2-this.labelWidth/2,t.y=e.top+e.height-this.labelHeight):"top"===this.position?(t.x=e.left+e.width/2-this.labelWidth/2,t.y=e.top):"left"===this.position?(t.degrees=-90,t.x=e.left-this.labelWidth/2,t.y=e.height/2+e.top):"right"===this.position&&(t.degrees=90,t.x=e.left+e.width-this.labelWidth/2,t.y=e.height/2+e.top),t.x=Math.round(t.x),t.y=Math.round(t.y),t},t.prototype.cleanup=function(){var e=this.axisName+"Label",t=e+"Layer",i=e+" axisLabels"
this.surface.removeText(t,0,0,this.axisLabel,i)},t.prototype.draw=function(e){var t=this.axisName+"Label",i=t+"Layer",n=t+" axisLabels",r=this.calculateOffsets(e),o={position:"absolute",bottom:"",right:"",display:"inline-block","white-space":"nowrap"},a=this.surface.getSVGLayer(i),s=this.transforms(r.degrees,r.x,r.y,a.parentNode)
this.surface.addText(i,0,0,this.axisLabel,n,void 0,void 0,void 0,void 0,s),this.surface.render(),Object.keys(o).forEach(function(e){a.style[e]=o[e]})},e.plot.plugins.push({init:function(i){i.hooks.processOptions.push(function(i,n){if(n.axisLabels.show){var r={}
i.hooks.axisReserveSpace.push(function(e,i){var n=i.options,o=i.direction+i.n
if(i.labelHeight+=i.boxPosition.centerY,i.labelWidth+=i.boxPosition.centerX,n&&n.axisLabel&&i.show){var a=void 0===n.axisLabelPadding?2:n.axisLabelPadding,s=r[o]
s||(s=new t(o,n.position,a,e.getPlaceholder()[0],n.axisLabel,e.getSurface()),r[o]=s),s.calculateSize(),i.labelHeight+=s.height,i.labelWidth+=s.width}}),i.hooks.draw.push(function(t,i){e.each(t.getAxes(),function(e,t){var i=t.options
if(i&&i.axisLabel&&t.show){var n=t.direction+t.n
r[n].draw(t.box)}})}),i.hooks.shutdown.push(function(e,t){for(var i in r)r[i].cleanup()})}})},options:{axisLabels:{show:!0}},name:"axisLabels",version:"3.0"})}(jQuery)
var ht=Object.freeze({})
!function(e){e.plot.plugins.push({init:function(t){var i={first:{x:-1,y:-1},second:{x:-1,y:-1},show:!1,currentMode:"xy",active:!1},n=e.plot.uiConstants.SNAPPING_CONSTANT,r={}
function o(e){i.active&&(p(e),t.getPlaceholder().trigger("plotselecting",[l()]))}function a(e){var n=t.getOptions()
1===e.which&&null!==n.selection.mode&&(i.currentMode="xy",document.body.focus(),void 0!==document.onselectstart&&null==r.onselectstart&&(r.onselectstart=document.onselectstart,document.onselectstart=function(){return!1}),void 0!==document.ondrag&&null==r.ondrag&&(r.ondrag=document.ondrag,document.ondrag=function(){return!1}),u(i.first,e),i.active=!0)}function s(e){return void 0!==document.onselectstart&&(document.onselectstart=r.onselectstart),void 0!==document.ondrag&&(document.ondrag=r.ondrag),i.active=!1,p(e),g()?d():(t.getPlaceholder().trigger("plotunselected",[]),t.getPlaceholder().trigger("plotselecting",[null])),!1}function l(){if(!g())return null
if(!i.show)return null
var n={},r={x:i.first.x,y:i.first.y},o={x:i.second.x,y:i.second.y}
return"x"===h(t)&&(r.y=0,o.y=t.height()),"y"===h(t)&&(r.x=0,o.x=t.width()),e.each(t.getAxes(),function(e,t){if(t.used){var i=t.c2p(r[t.direction]),a=t.c2p(o[t.direction])
n[e]={from:Math.min(i,a),to:Math.max(i,a)}}}),n}function d(){var e=l()
t.getPlaceholder().trigger("plotselected",[e]),e.xaxis&&e.yaxis&&t.getPlaceholder().trigger("selected",[{x1:e.xaxis.from,y1:e.yaxis.from,x2:e.xaxis.to,y2:e.yaxis.to}])}function c(e,t,i){return t<e?e:t>i?i:t}function h(e){var t=e.getOptions()
return"smart"===t.selection.mode?i.currentMode:t.selection.mode}function u(e,r){var o=t.getPlaceholder().offset(),a=t.getPlotOffset()
e.x=c(0,r.pageX-o.left-a.left,t.width()),e.y=c(0,r.pageY-o.top-a.top,t.height()),e!==i.first&&function(e){if(i.first){var t={x:e.x-i.first.x,y:e.y-i.first.y}
Math.abs(t.x)<n?i.currentMode="y":Math.abs(t.y)<n?i.currentMode="x":i.currentMode="xy"}}(e),"y"===h(t)&&(e.x=e===i.first?0:t.width()),"x"===h(t)&&(e.y=e===i.first?0:t.height())}function p(e){null!=e.pageX&&(u(i.second,e),g()?(i.show=!0,t.triggerRedrawOverlay()):m(!0))}function m(e){i.show&&(i.show=!1,i.currentMode="",t.triggerRedrawOverlay(),e||t.getPlaceholder().trigger("plotunselected",[]))}function f(e,i){var n,r,o,a,s=t.getAxes()
for(var l in s)if((n=s[l]).direction===i&&(e[a=i+n.n+"axis"]||1!==n.n||(a=i+"axis"),e[a])){r=e[a].from,o=e[a].to
break}if(e[a]||(n="x"===i?t.getXAxes()[0]:t.getYAxes()[0],r=e[i+"1"],o=e[i+"2"]),null!=r&&null!=o&&r>o){var d=r
r=o,o=d}return{from:r,to:o,axis:n}}function g(){var e=t.getOptions().selection.minSize
return Math.abs(i.second.x-i.first.x)>=e&&Math.abs(i.second.y-i.first.y)>=e}t.clearSelection=m,t.setSelection=function(e,n){var r
"y"===h(t)?(i.first.x=0,i.second.x=t.width()):(r=f(e,"x"),i.first.x=r.axis.p2c(r.from),i.second.x=r.axis.p2c(r.to)),"x"===h(t)?(i.first.y=0,i.second.y=t.height()):(r=f(e,"y"),i.first.y=r.axis.p2c(r.from),i.second.y=r.axis.p2c(r.to)),i.show=!0,t.triggerRedrawOverlay(),!n&&g()&&d()},t.getSelection=l,t.hooks.bindEvents.push(function(e,t){null!=e.getOptions().selection.mode&&(e.addEventHandler("dragstart",a,t,0),e.addEventHandler("drag",o,t,0),e.addEventHandler("dragend",s,t,0))}),t.hooks.drawOverlay.push(function(t,n){if(i.show&&g()){var r=t.getPlotOffset(),o=t.getOptions()
n.save(),n.translate(r.left,r.top)
var a=e.color.parse(o.selection.color),s=o.selection.visualization,l=o.selection.displaySelectionDecorations,d=1
"fill"===s&&(d=.8),n.strokeStyle=a.scale("a",d).toString(),n.lineWidth=1,n.lineJoin=o.selection.shape,n.fillStyle=a.scale("a",.4).toString()
var c=Math.min(i.first.x,i.second.x)+.5,u=c,p=Math.min(i.first.y,i.second.y)+.5,m=p,f=Math.abs(i.second.x-i.first.x)-1,v=Math.abs(i.second.y-i.first.y)-1
"x"===h(t)&&(v+=p,p=0),"y"===h(t)&&(f+=c,c=0),"fill"===s?(n.fillRect(c,p,f,v),n.strokeRect(c,p,f,v)):(n.fillRect(0,0,t.width(),t.height()),n.clearRect(c,p,f,v),l&&function(e,t,i,n,r,o,a,s){var l=Math.max(0,Math.min(15,n/2-2,r/2-2))
e.fillStyle="#ffffff","xy"===s&&(e.beginPath(),e.moveTo(t,i+l),e.lineTo(t-3,i+l),e.lineTo(t-3,i-3),e.lineTo(t+l,i-3),e.lineTo(t+l,i),e.lineTo(t,i),e.closePath(),e.moveTo(t,i+r-l),e.lineTo(t-3,i+r-l),e.lineTo(t-3,i+r+3),e.lineTo(t+l,i+r+3),e.lineTo(t+l,i+r),e.lineTo(t,i+r),e.closePath(),e.moveTo(t+n,i+l),e.lineTo(t+n+3,i+l),e.lineTo(t+n+3,i-3),e.lineTo(t+n-l,i-3),e.lineTo(t+n-l,i),e.lineTo(t+n,i),e.closePath(),e.moveTo(t+n,i+r-l),e.lineTo(t+n+3,i+r-l),e.lineTo(t+n+3,i+r+3),e.lineTo(t+n-l,i+r+3),e.lineTo(t+n-l,i+r),e.lineTo(t+n,i+r),e.closePath(),e.stroke(),e.fill()),t=o,i=a,"x"===s&&(e.beginPath(),e.moveTo(t,i+15),e.lineTo(t,i-15),e.lineTo(t-3,i-15),e.lineTo(t-3,i+15),e.closePath(),e.moveTo(t+n,i+15),e.lineTo(t+n,i-15),e.lineTo(t+n+3,i-15),e.lineTo(t+n+3,i+15),e.closePath(),e.stroke(),e.fill()),"y"===s&&(e.beginPath(),e.moveTo(t-15,i),e.lineTo(t+15,i),e.lineTo(t+15,i-3),e.lineTo(t-15,i-3),e.closePath(),e.moveTo(t-15,i+r),e.lineTo(t+15,i+r),e.lineTo(t+15,i+r+3),e.lineTo(t-15,i+r+3),e.closePath(),e.stroke(),e.fill())}(n,c,p,f,v,u,m,h(t))),n.restore()}}),t.hooks.shutdown.push(function(e,t){t.unbind("dragstart",a),t.unbind("drag",o),t.unbind("dragend",s)})},options:{selection:{mode:null,visualization:"focus",displaySelectionDecorations:!0,color:"#888888",shape:"round",minSize:5}},name:"selection",version:"1.1"})}(jQuery)
var ut=Object.freeze({})
!function(e){const t=-100,i=0,n=-1,r=-2
var o=1,a=e.plot.browser,s=a.getPixelRatio
function l(e,t){var l=e.filter(d)
o=s(t.getContext("2d"))
var m=l.map(function(e){var t=new Image
return new Promise(function(e,t){return e.sourceDescription='<info className="'+t.className+'" tagName="'+t.tagName+'" id="'+t.id+'">',e.sourceComponent=t,function(i,n){var r,o,s,l,d
e.onload=function(t){e.successfullyLoaded=!0,i(e)},e.onabort=function(t){e.successfullyLoaded=!1,console.log("Can't generate temp image from "+e.sourceDescription+". It is possible that it is missing some properties or its content is not supported by this browser. Source component:",e.sourceComponent),i(e)},e.onerror=function(t){e.successfullyLoaded=!1,console.log("Can't generate temp image from "+e.sourceDescription+". It is possible that it is missing some properties or its content is not supported by this browser. Source component:",e.sourceComponent),i(e)},l=e,"CANVAS"===(s=t).tagName&&(d=s,l.src=d.toDataURL("image/png")),"svg"===s.tagName&&(r=s,o=l,a.isSafari()||a.isMobileSafari()?function(e,t){var i,n,r=h(c(document),e)
r=u(r),n=function(e){var t=""
const i=new Uint8Array(e)
for(var n=0;n<i.length;n+=16384){const e=String.fromCharCode.apply(null,i.subarray(n,n+16384))
t+=e}return t}(new(TextEncoder||TextEncoderLite)("utf-8").encode(r)),i="data:image/svg+xml;base64,"+btoa(n),t.src=i}(r,o):function(e,t){var i=h(c(document),e)
i=u(i)
var n=new Blob([i],{type:"image/svg+xml;charset=utf-8"}),r=(self.URL||self.webkitURL||self).createObjectURL(n)
t.src=r}(r,o)),l.srcImgTagName=s.tagName,function(e,t){t.genLeft=e.getBoundingClientRect().left,t.genTop=e.getBoundingClientRect().top,"CANVAS"===e.tagName&&(t.genRight=t.genLeft+e.width,t.genBottom=t.genTop+e.height),"svg"===e.tagName&&(t.genRight=e.getBoundingClientRect().right,t.genBottom=e.getBoundingClientRect().bottom)}(s,l)}}(t,e))})
return Promise.all(m).then(function(e){return function(t){var a=function(e,t){var a=function(e,t){var a=i
if(0===e.length)a=n
else{var s=e[0].genLeft,l=e[0].genTop,d=e[0].genRight,c=e[0].genBottom,h=0
for(h=1;h<e.length;h++)s>e[h].genLeft&&(s=e[h].genLeft),l>e[h].genTop&&(l=e[h].genTop)
for(h=1;h<e.length;h++)d<e[h].genRight&&(d=e[h].genRight),c<e[h].genBottom&&(c=e[h].genBottom)
if(d-s<=0||c-l<=0)a=r
else{for(t.width=Math.round(d-s),t.height=Math.round(c-l),h=0;h<e.length;h++)e[h].xCompOffset=e[h].genLeft-s,e[h].yCompOffset=e[h].genTop-l
!function(e,t){void 0!==t.find(function(e){return"svg"===e.srcImgTagName})&&o<1&&(e.width=e.width*o,e.height=e.height*o)}(t,e)}}return a}(e,t)
if(a===i)for(var s=t.getContext("2d"),l=0;l<e.length;l++)!0===e[l].successfullyLoaded&&s.drawImage(e[l],e[l].xCompOffset*o,e[l].yCompOffset*o)
return a}(t,e)
return a}}(t),p)}function d(e){var t=!0,i=!0
return null==e?i=!1:"CANVAS"===e.tagName&&(e.getBoundingClientRect().right!==e.getBoundingClientRect().left&&e.getBoundingClientRect().bottom!==e.getBoundingClientRect().top||(t=!1)),i&&t&&"visible"===window.getComputedStyle(e).visibility}function c(e){for(var t=e.styleSheets,i=[],n=0;n<t.length;n++)try{for(var r=t[n].cssRules||[],o=0;o<r.length;o++){var a=r[o]
i.push(a.cssText)}}catch(e){console.log("Failed to get some css rules")}return i}function h(e,t){return['<svg class="snapshot '+t.classList+'" width="'+t.width.baseVal.value*o+'" height="'+t.height.baseVal.value*o+'" viewBox="0 0 '+t.width.baseVal.value+" "+t.height.baseVal.value+'" xmlns="http://www.w3.org/2000/svg">',"<style>","/* <![CDATA[ */",e.join("\n"),"/* ]]> */","</style>",t.innerHTML,"</svg>"].join("\n")}function u(e){var t=""
return e.match(/^<svg[^>]+xmlns="http:\/\/www\.w3\.org\/2000\/svg"/)||(t=e.replace(/^<svg/,'<svg xmlns="http://www.w3.org/2000/svg"')),e.match(/^<svg[^>]+"http:\/\/www\.w3\.org\/1999\/xlink"/)||(t=e.replace(/^<svg/,'<svg xmlns:xlink="http://www.w3.org/1999/xlink"')),'<?xml version="1.0" standalone="no"?>\r\n'+t}function p(){return t}e.plot.composeImages=l,e.plot.plugins.push({init:function(e){e.composeImages=l},name:"composeImages",version:"1.0"})}(jQuery)
var pt=Object.freeze({})
!function(e){function t(e){var t="",i=e.name,n=e.xPos,r=e.yPos,o=e.fillColor,a=e.strokeColor,s=e.strokeWidth
switch(i){case"circle":t='<use xlink:href="#circle" class="legendIcon" x="'+n+'" y="'+r+'" fill="'+o+'" stroke="'+a+'" stroke-width="'+s+'" width="1.5em" height="1.5em"/>'
break
case"diamond":t='<use xlink:href="#diamond" class="legendIcon" x="'+n+'" y="'+r+'" fill="'+o+'" stroke="'+a+'" stroke-width="'+s+'" width="1.5em" height="1.5em"/>'
break
case"cross":t='<use xlink:href="#cross" class="legendIcon" x="'+n+'" y="'+r+'" stroke="'+a+'" stroke-width="'+s+'" width="1.5em" height="1.5em"/>'
break
case"rectangle":t='<use xlink:href="#rectangle" class="legendIcon" x="'+n+'" y="'+r+'" fill="'+o+'" stroke="'+a+'" stroke-width="'+s+'" width="1.5em" height="1.5em"/>'
break
case"plus":t='<use xlink:href="#plus" class="legendIcon" x="'+n+'" y="'+r+'" stroke="'+a+'" stroke-width="'+s+'" width="1.5em" height="1.5em"/>'
break
case"bar":t='<use xlink:href="#bars" class="legendIcon" x="'+n+'" y="'+r+'" fill="'+o+'" width="1.5em" height="1.5em"/>'
break
case"area":t='<use xlink:href="#area" class="legendIcon" x="'+n+'" y="'+r+'" fill="'+o+'" width="1.5em" height="1.5em"/>'
break
case"line":t='<use xlink:href="#line" class="legendIcon" x="'+n+'" y="'+r+'" stroke="'+a+'" stroke-width="'+s+'" width="1.5em" height="1.5em"/>'
break
default:t='<use xlink:href="#circle" class="legendIcon" x="'+n+'" y="'+r+'" fill="'+o+'" stroke="'+a+'" stroke-width="'+s+'" width="1.5em" height="1.5em"/>'}return t}var i='<defs><symbol id="line" fill="none" viewBox="-5 -5 25 25"><polyline points="0,15 5,5 10,10 15,0"/></symbol><symbol id="area" stroke-width="1" viewBox="-5 -5 25 25"><polyline points="0,15 5,5 10,10 15,0, 15,15, 0,15"/></symbol><symbol id="bars" stroke-width="1" viewBox="-5 -5 25 25"><polyline points="1.5,15.5 1.5,12.5, 4.5,12.5 4.5,15.5 6.5,15.5 6.5,3.5, 9.5,3.5 9.5,15.5 11.5,15.5 11.5,7.5 14.5,7.5 14.5,15.5 1.5,15.5"/></symbol><symbol id="circle" viewBox="-5 -5 25 25"><circle cx="0" cy="15" r="2.5"/><circle cx="5" cy="5" r="2.5"/><circle cx="10" cy="10" r="2.5"/><circle cx="15" cy="0" r="2.5"/></symbol><symbol id="rectangle" viewBox="-5 -5 25 25"><rect x="-2.1" y="12.9" width="4.2" height="4.2"/><rect x="2.9" y="2.9" width="4.2" height="4.2"/><rect x="7.9" y="7.9" width="4.2" height="4.2"/><rect x="12.9" y="-2.1" width="4.2" height="4.2"/></symbol><symbol id="diamond" viewBox="-5 -5 25 25"><path d="M-3,15 L0,12 L3,15, L0,18 Z"/><path d="M2,5 L5,2 L8,5, L5,8 Z"/><path d="M7,10 L10,7 L13,10, L10,13 Z"/><path d="M12,0 L15,-3 L18,0, L15,3 Z"/></symbol><symbol id="cross" fill="none" viewBox="-5 -5 25 25"><path d="M-2.1,12.9 L2.1,17.1, M2.1,12.9 L-2.1,17.1 Z"/><path d="M2.9,2.9 L7.1,7.1 M7.1,2.9 L2.9,7.1 Z"/><path d="M7.9,7.9 L12.1,12.1 M12.1,7.9 L7.9,12.1 Z"/><path d="M12.9,-2.1 L17.1,2.1 M17.1,-2.1 L12.9,2.1 Z"/></symbol><symbol id="plus" fill="none" viewBox="-5 -5 25 25"><path d="M0,12 L0,18, M-3,15 L3,15 Z"/><path d="M5,2 L5,8 M2,5 L8,5 Z"/><path d="M10,7 L10,13 M7,10 L13,10 Z"/><path d="M15,-3 L15,3 M12,0 L18,0 Z"/></symbol></defs>'
function n(e,t){for(var i in e)if(e.hasOwnProperty(i)&&e[i]!==t[i])return!0
return!1}e.plot.plugins.push({init:function(r){r.hooks.setupGrid.push(function(r){var o=r.getOptions(),a=r.getData(),s=o.legend.labelFormatter,l=o.legend.legendEntries,d=o.legend.plotOffset,c=function(t,i,n){var r=i,o=t.reduce(function(e,t,i){var n=r?r(t.label,t):t.label
if(!t.hasOwnProperty("label")||n){var o={label:n||"Plot "+(i+1),color:t.color,options:{lines:t.lines,points:t.points,bars:t.bars}}
e.push(o)}return e},[])
if(n)if(e.isFunction(n))o.sort(n)
else if("reverse"===n)o.reverse()
else{var a="descending"!==n
o.sort(function(e,t){return e.label===t.label?0:e.label<t.label!==a?1:-1})}return o}(a,s,o.legend.sorted),h=r.getPlotOffset();(function(e,t){if(!e||!t)return!0
if(e.length!==t.length)return!0
var i,r,o
for(i=0;i<t.length;i++){if(r=t[i],o=e[i],r.label!==o.label)return!0
if(r.color!==o.color)return!0
if(n(r.options.lines,o.options.lines))return!0
if(n(r.options.points,o.options.points))return!0
if(n(r.options.bars,o.options.bars))return!0}return!1}(l,c)||n(d,h))&&function(n,r,o,a){if(null!=r.legend.container?e(r.legend.container).html(""):o.find(".legend").remove(),r.legend.show){var s,l,d,c,h=r.legend.legendEntries=a,u=r.legend.plotOffset=n.getPlotOffset(),p=[],m=0,f="",g=r.legend.position,v=r.legend.margin,b={name:"",label:"",xPos:"",yPos:""}
p[m++]='<svg class="legendLayer" style="width:inherit;height:inherit;">',p[m++]='<rect class="background" width="100%" height="100%"/>',p[m++]=i
var y=0,_=[],w=window.getComputedStyle(document.querySelector("body"))
for(c=0;c<h.length;++c){let e=c%r.legend.noColumns
s=h[c],b.label=s.label
var x=n.getSurface().getTextInfo("",b.label,{style:w.fontStyle,variant:w.fontVariant,weight:w.fontWeight,size:parseInt(w.fontSize),lineHeight:parseInt(w.lineHeight),family:w.fontFamily}).width
_[e]?x>_[e]&&(_[e]=x+48):_[e]=x+48}for(c=0;c<h.length;++c){let e=c%r.legend.noColumns
s=h[c],d="",b.label=s.label,b.xPos=y+3+"px",y+=_[e],(c+1)%r.legend.noColumns==0&&(y=0),b.yPos=1.5*Math.floor(c/r.legend.noColumns)+"em",s.options.lines.show&&s.options.lines.fill&&(b.name="area",b.fillColor=s.color,d+=t(b)),s.options.bars.show&&(b.name="bar",b.fillColor=s.color,d+=t(b)),s.options.lines.show&&!s.options.lines.fill&&(b.name="line",b.strokeColor=s.color,b.strokeWidth=s.options.lines.lineWidth,d+=t(b)),s.options.points.show&&(b.name=s.options.points.symbol,b.strokeColor=s.color,b.fillColor=s.options.points.fillColor,b.strokeWidth=s.options.points.lineWidth,d+=t(b)),l='<text x="'+b.xPos+'" y="'+b.yPos+'" text-anchor="start"><tspan dx="2em" dy="1.2em">'+b.label+"</tspan></text>",p[m++]="<g>"+d+l+"</g>"}p[m++]="</svg>",null==v[0]&&(v=[v,v]),"n"===g.charAt(0)?f+="top:"+(v[1]+u.top)+"px;":"s"===g.charAt(0)&&(f+="bottom:"+(v[1]+u.bottom)+"px;"),"e"===g.charAt(1)?f+="right:"+(v[0]+u.right)+"px;":"w"===g.charAt(1)&&(f+="left:"+(v[0]+u.left)+"px;")
var C=6
for(c=0;c<_.length;++c)C+=_[c]
var S,T=1.6*Math.ceil(h.length/r.legend.noColumns)
r.legend.container?(S=e(p.join("")).appendTo(r.legend.container)[0],r.legend.container.style.width=C+"px",r.legend.container.style.height=T+"em"):((S=e('<div class="legend" style="position:absolute;'+f+'">'+p.join("")+"</div>").appendTo(o)).css("width",C+"px"),S.css("height",T+"em"),S.css("pointerEvents","none"))}}(r,o,r.getPlaceholder(),c)})},options:{legend:{show:!1,noColumns:1,labelFormatter:null,container:null,position:"ne",margin:5,sorted:null}},name:"legend",version:"1.0"})}(jQuery)
var mt=Object.freeze({})
!function(e){function t(){if(!(this instanceof t))return arguments.length>1||"number"!=typeof arguments[0]?t.apply(new t(arguments.length),arguments):new t(arguments[0])
if(0===arguments.length)throw new Error("Missing Argument: You must pass a valid buffer length")
return this.size=this.start=0,this.overflow=null,arguments.length>1||"number"!=typeof arguments[0]?(this.data=new Array(arguments.length),this.end=(this.length=arguments.length)-1,this.push.apply(this,arguments)):(this.data=new Array(arguments[0]),this.end=(this.length=arguments[0])-1),this}function i(e,t){return e==t?0:e>t?1:-1}t.prototype={constructor:t,pop:function(){var e
if(0!==this.size)return e=this.data[this.end],delete this.data[this.end],this.end=(this.end-1+this.length)%this.length,this.size--,e},push:function(e){return this.data[(this.end+1)%this.length]=e,this.size<this.length&&this.size++,this.end=(this.end+1)%this.length,this.start=(this.length+this.end-this.size+1)%this.length,this.size},reverse:function(){for(var e,t=0;t<~~(this.size/2);t++)e=this.data[(this.start+t)%this.length],this.data[(this.start+t)%this.length]=this.data[(this.start+(this.size-t-1))%this.length],this.data[(this.start+(this.size-t-1))%this.length]=e
return this},rotateLeft:function(e){if(void 0===e&&(e=1),"number"!=typeof e)throw new Error("Argument must be a number")
for(;--e>=0;)this.push(this.shift())
return this},rotateRight:function(e){if(void 0===e&&(e=1),"number"!=typeof e)throw new Error("Argument must be a number")
for(;--e>=0;)this.unshift(this.pop())
return this},shift:function(){var e
if(0!==this.size)return e=this.data[this.start],this.start=(this.start+1)%this.length,this.size--,e},sort:function(e){return this.data.sort(e||i),this.start=0,this.end=this.size-1,this},unshift:function(){var e=0
if(this.overflow&&this.size+arguments.length>this.length)for(;e<this.size+arguments.length-this.length;e++)this.overflow(this.data[this.end-e%this.length],this)
for(e=0;e<arguments.length;e++)this.data[(this.length+this.start-e%this.length-1)%this.length]=arguments[e]
return this.length-this.size-e<0&&(this.end+=this.length-this.size-e,this.end<0&&(this.end=this.length+this.end%this.length)),this.size<this.length&&(this.size+e>this.length?this.size=this.length:this.size+=e),this.start-=arguments.length,this.start<0&&(this.start=this.length+this.start%this.length),this.size},indexOf:function(e,t){for(t||(t=0);t<this.size;t++)if(this.data[(this.start+t)%this.length]===e)return t
return-1},lastIndexOf:function(e,t){for(t||(t=this.size-1);t>=0;t--)if(this.data[(this.start+t)%this.length]===e)return t
return-1},sortedIndex:function(e,t,n){t=t||i
var r=this.start,o=this.size-1
for(r&&t.call(n,e,this.data[o])>0&&(r=0,o=this.end);r<o;){var a=r+o>>>1
t.call(n,e,this.data[a])>0?r=a+1:o=a}return((r-this.start)%this.size+this.size)%this.size},every:function(e,t){for(var i=0;i<this.size;i++)if(!e.call(t,this.data[(this.start+i)%this.length],i,this))return!1
return!0},forEach:function(e,t){for(var i=0;i<this.size;i++)e.call(t,this.data[(this.start+i)%this.length],i,this)},some:function(e,t){for(var i=0;i<this.size;i++)if(e.call(t,this.data[(this.start+i)%this.length],i,this))return!0
return!1},avg:function(){return 0==this.size?0:this.sum()/this.size},sum:function(){for(var e=this.size,t=0;e--;)t+=this.data[e]
return t},median:function(){if(0===this.size)return 0
var e=this.slice().sort(i),t=Math.floor(e.length/2)
return e.length%2?e[t]:(e[t-1]+e[t])/2},empty:function(){return this.size=this.start=0,this.end=this.length-1,this},fill:function(e){var t=0
if("function"==typeof e)for(;this.data[t]=e(),++t<this.length;);else for(;this.data[t]=e,++t<this.length;);return this.start=0,this.end=this.length-1,this.size=this.length,this},first:function(){return this.data[this.start]},last:function(){return this.data[this.end]},get:function(e){return this.data[(this.start+e)%this.length]},isFull:function(e){return this.length===this.size},set:function(e,t){return this.data[(this.start+e)%this.length]=t},toArray:function(){return this.slice()},slice:function(e,t){var i=this.size
if((e=+e||0)<0){if(e>=t)return[]
e=-e>i?0:i+e}null==t||t>i?t=i:t<0?t+=i:t=+t||0,i=e<t?t-e:0
for(var n=Array(i),r=0;r<i;r++)n[r]=this.data[(this.start+e+r)%this.length]
return n}},"object"==typeof module&&module.exports?module.exports=t:e.CBuffer=t}(window)
var ft=Object.freeze({})
!function(e){var t=function(e,t){this.hb=new HistoryBufferNumeric(e,t),this.hbType="numeric"}
t.prototype.setType=function(e){if(e!==this.hbType){if("numeric"===e){let e=this.hb.callbacks
this.hb.callbacks=void 0,this.hb=new HistoryBufferNumeric(this.capacity,this.width),e.forEach((e,t)=>{this.hb.registerOnChange(t,e)}),this.hbType="numeric",this.hb.callOnChange()}if("analogWaveform"===e){let e=this.hb.callbacks
this.hb.callbacks=void 0,this.hb=new HistoryBufferWaveform(this.capacity,this.width),e.forEach((e,t)=>{this.hb.registerOnChange(t,e)}),this.hbType="analogWaveform",this.hb.callOnChange()}}},t.prototype.clear=function(){this.hb.clear()},t.prototype.setCapacity=function(e){this.hb.setCapacity(e)},t.prototype.setWidth=function(e){this.hb.setWidth(e)},t.prototype.push=function(e){this.hb.push(e)},t.prototype.startIndex=function(){return this.hb.startIndex()},t.prototype.lastIndex=function(){return this.hb.lastIndex()},t.prototype.get=function(e){return this.hb.get(e)},t.prototype.appendArray=function(e){this.hb.appendArray(e)},t.prototype.toArray=function(){return this.hb.toArray()},t.prototype.toDataSeries=function(e){return this.hb.toDataSeries(e)},t.prototype.registerOnChange=function(e,t){this.hb.registerOnChange(e,t)},t.prototype.deregisterOnChange=function(e,t){this.hb.deregisterOnChange(e,t)},t.prototype.query=function(e,t,i,n){return this.hb.query(e,t,i,n)},t.prototype.rangeX=function(e){return this.hb.rangeX(e)},t.prototype.rangeY=function(e,t,i){return this.hb.rangeY(e,t,i)},t.prototype.toJSON=function(){return this.hb.toJSON()},Object.defineProperty(t.prototype,"width",{get:function(){return this.hb.width}}),Object.defineProperty(t.prototype,"count",{get:function(){return this.hb.count},set:function(e){this.hb.count=e}}),Object.defineProperty(t.prototype,"capacity",{get:function(){return this.hb.capacity}}),"object"==typeof module&&module.exports?module.exports=t:e.HistoryBuffer=t}(window)
var gt=Object.freeze({})
!function(e){var t=function(e,t){this.capacity=e||1024,this.width=t||1,this.lastUpdatedIndex=0,this.firstUpdatedIndex=0,this.branchFactor=32,this.buffers=[],this.trees=[]
for(var i=0;i<this.width;i++)this.buffers.push(new CBuffer(e)),this.trees.push(new SegmentTree(this,this.buffers[i]))
this.buffer=this.buffers[0],this.tree=this.trees[0],this.count=0,this.callbacks=new Map,this.changed=!1}
t.prototype.callOnChange=function(e){this.callbacks.forEach(t=>{t(e)})},t.prototype.setBranchingFactor=function(e){this.branchFactor=e,this.rebuildSegmentTrees()},t.prototype.getDefaultBranchingFactor=function(){return 32},t.prototype.rebuildSegmentTrees=function(){this.trees=[]
for(var e=0;e<this.width;e++)this.trees.push(new SegmentTree(this,this.buffers[e]))
this.tree=this.trees[0],this.firstUpdatedIndex=this.startIndex(),this.lastUpdatedIndex=this.firstUpdatedIndex,this.updateSegmentTrees()},t.prototype.clear=function(){for(var e=0;e<this.width;e++)this.buffers[e].empty()
this.count=0,this.rebuildSegmentTrees(),this.changed=!0,this.callOnChange&&this.callOnChange()},t.prototype.setCapacity=function(e){if(e!==this.capacity){this.capacity=e,this.buffers=[]
for(var t=0;t<this.width;t++)this.buffers.push(new CBuffer(e))
this.buffer=this.buffers[0],this.count=0,this.rebuildSegmentTrees(),this.changed=!0,this.callOnChange&&this.callOnChange()}},t.prototype.setWidth=function(e){if(e!==this.width){this.width=e,this.buffers=[]
for(var t=0;t<this.width;t++)this.buffers.push(new CBuffer(this.capacity))
this.buffer=this.buffers[0],this.count=0,this.rebuildSegmentTrees(),this.changed=!0,this.callOnChange&&this.callOnChange()}},t.prototype.getWidth=function(){return this.width},t.prototype.pushNoStatsUpdate=function(e){if("number"==typeof e&&1===this.width)this.buffer.push(e)
else if(Array.isArray(e)&&e.length===this.width)for(var t=0;t<this.width;t++)this.buffers[t].push(e[t])},t.prototype.push=function(e){this.pushNoStatsUpdate(e),this.count++,this.changed=!0,this.callOnChange&&this.callOnChange()},t.prototype.startIndex=function(){return Math.max(0,this.count-this.capacity)},t.prototype.lastIndex=function(){return this.startIndex()+this.buffer.size},t.prototype.get=function(e){if(e-=this.startIndex(),1===this.width)return this.buffer.get(e)
for(var t=[],i=0;i<this.width;i++)t.push(this.buffers[i].get(e))
return t},t.prototype.appendArray=function(e){for(var t=0;t<e.length;t++)this.pushNoStatsUpdate(e[t])
this.count+=e.length,this.changed=!0,this.callOnChange&&this.callOnChange()},t.prototype.toArray=function(){if(1===this.width)return this.buffer.toArray()
for(var e=this.startIndex(),t=this.lastIndex(),i=[],n=e;n<t;n++)i.push(this.get(n))
return i},t.prototype.updateSegmentTrees=function(){var e=this.buffer
this.trees.forEach(function(e){e.updateSegmentTree()}),this.firstUpdatedIndex=this.startIndex(),this.lastUpdatedIndex=this.firstUpdatedIndex+e.size},t.prototype.toDataSeries=function(e){for(var t=this.buffer,i=[],n=this.startIndex(),r=0;r<t.size;r++)i.push([r+n,this.buffers[e||0].get(r)])
return i},t.prototype.registerOnChange=function(e,t){this.callbacks.has(e)?console.log("Callback with the given key has already been registered."):this.callbacks.set(e,t)},t.prototype.deregisterOnChange=function(e){this.callbacks.delete(e)},t.prototype.query=function(e,t,i,n){return void 0===n&&(n=0),this.changed&&(this.updateSegmentTrees(),this.changed=!1),this.trees[n].query(e,t,i)},t.prototype.rangeX=function(e){var t=this.startIndex(),i=this.lastIndex()-1
return i===t-1?{}:{xmin:t,xmax:i,deltamin:1}},t.prototype.rangeY=function(e,t,i){null==e&&(e=this.startIndex()),null==t&&(t=this.lastIndex()-1),null==i&&(i=0),this.changed&&(this.updateSegmentTrees(),this.changed=!1)
var n=this.query(e,t,t-e,i),r=n.length
if(r>0){for(var o={ymin:1/0,ymax:-1/0},a=0;a<r;a+=2)null==n[a+1]||n[a+1]===1/0||n[a+1]===-1/0||isNaN(n[a+1])||(o.ymin=Math.min(o.ymin,n[a+1]),o.ymax=Math.max(o.ymax,n[a+1]))
return o}return{}},t.prototype.toJSON=function(){var e={data:[],width:this.width,capacity:this.capacity,valueType:"HistoryBuffer",startIndex:this.startIndex(),count:this.count}
if(1===this.width)e.data=this.buffer.toArray()
else for(var t=0;t<this.width;t++)e.data.push(this.buffers[t].toArray())
return e},"object"==typeof module&&module.exports?module.exports=t:e.HistoryBufferNumeric=t}(window)
var vt=Object.freeze({})
!function(e){const t=Object.freeze({BeforeRange:1,InRange:2,AfterRange:3})
var i=function(e,t){this.capacity=e||1024,this.width=t||1,this.buffers=[]
for(var i=0;i<this.width;i++)this.buffers.push(new CBuffer(e))
this.buffer=this.buffers[0],this.count=0,this.callbacks=new Map,this.changed=!1}
function n(e,t){if(1===e.Y.length||1===t.Y.length)return!1
var i=new NITimestamp(e.t0).add(e.dt*(e.Y.length-1)).valueOf()
return new NITimestamp(t.t0).valueOf()-i>=2*e.dt}function r(e,t,i){var n,r=e.Y,o=e.t0
n=new NITimestamp(o).valueOf()+e.dt*t,i.push(n),i.push(r[t])}Object.setPrototypeOf(i.prototype,HistoryBufferNumeric.prototype),i.prototype.rebuildSegmentTrees=function(){},i.prototype.pushNoStatsUpdate=function(e){if(1!==this.width||Array.isArray(e)){if(Array.isArray(e)&&e.length===this.width)for(var t=0;t<this.width;t++)this.buffers[t].push(e[t])}else this.buffer.push(e)},i.prototype.getTreeNodes=function(e,t,i){},i.prototype.updateSegmentTrees=function(){},i.prototype.query=function(e,i,o,a){void 0===a&&(a=0)
var s=[],l=this.buffers[a].toArray(),d=l[0],c=-1,h=-1
return l.forEach(function(o,a){var u=function(e,i,n){if(0===e.Y.length)return!1
var r=new NITimestamp(e.t0),o=r.valueOf(),a=r.valueOf()+e.Y.length*e.dt
return o<i&&a<i?t.BeforeRange:o>n&&a>n?t.AfterRange:t.InRange}(o,e,i)
if(u!==t.InRange){if(!(u===t.AfterRange&&h<0))return void(u===t.BeforeRange&&(c=a))
h=a}n(d,o)?(s.push(null),s.push(null)):c>=0&&c===a-1&&r(l[c],l[c].Y.length-1,s),d=o,function(e,t,i,n){for(var r,o=e.Y,a=e.t0,s=new NITimestamp(a),l=0;l<o.length;l++)(r=s.valueOf())>=t-e.dt&&r<=i+e.dt&&(n.push(r),n.push(o[l])),s.add(e.dt)}(o,e,i,s),h>=0&&h===a&&s.length>0&&r(l[h],0,s)}),s},i.prototype.toDataSeries=function(e){void 0===e&&(e=0)
var t=[],i=this.buffers[e].toArray(),r=i[0]
return i.forEach(function(e){n(r,e)&&t.push([null,null]),r=e,function(e,t){for(var i,n=e.Y,r=e.t0,o=new NITimestamp(r),a=0;a<n.length;a++)i=o.valueOf(),t.push([i,n[a]]),o.add(e.dt)}(e,t)}),t},i.prototype.rangeX=function(e){var t,i,n,r=1/0,o=-1/0,a=1/0
void 0===e&&(e=0)
var s=this.buffers[e].toArray()
if(0===s.length)return{}
if(s.forEach(function(e){t=new NITimestamp(e.t0),i=t.valueOf(),n=new NITimestamp(t).add(e.dt*(e.Y.length-1)).valueOf(),i<r&&(r=i),n>o&&(o=n),a>Math.abs(e.dt)&&(a=Math.abs(e.dt))}),0===a&&(a=1),r>o){var l=r
r=o,o=l}return{xmin:r,xmax:o,deltamin:a}},i.prototype.rangeY=function(e,t,i){var n={min:1/0,max:-1/0}
null==i&&(i=0)
var r=this.buffers[i].toArray()
if(0===r.length)return{}
if(null==e&&(e=new NITimestamp(r[0].t0).valueOf()),null==t){var o=r[r.length-1]
t=new NITimestamp(o.t0).add(o.dt*o.Y.length).valueOf()}return r.forEach(function(i){!function(e,t,i,n){var r,o,a,s=e.Y,l=new NITimestamp(e.t0)
if(0===s.length)return
if(r=l.valueOf(),o=new NITimestamp(l).add(e.dt*e.Y.length).valueOf(),r>n||o<i)return
for(var d=0;d<s.length;d++)(a=new NITimestamp(l).add(e.dt*d).valueOf())<i||a>n||null==s[d]||s[d]===1/0||s[d]===-1/0||isNaN(s[d])||(s[d]>t.max&&(t.max=s[d]),s[d]<t.min&&(t.min=s[d]))}(i,n,e,t)}),{ymin:n.min,ymax:n.max}},i.prototype.toJSON=function(){return{data:this.toArray(),width:this.width,capacity:this.capacity,valueType:"HistoryBuffer",startIndex:this.startIndex(),count:this.count}},"object"==typeof module&&module.exports?module.exports=i:e.HistoryBufferWaveform=i}(window)
var bt=Object.freeze({})
!function(e){var t=function(){this.init()},i=function(e,t){this.historyBuffer=e,this.cbuffer=t,this.tree=this.buildEmptySegmentTree()}
t.prototype.init=function(){this.maxIndex=0,this.minIndex=0,this.max=Math.Nan,this.min=Math.Nan}
var n=function(e,t){this.level=t,this.step=Math.pow(e.branchFactor,t),this.capacity=Math.ceil(e.capacity/Math.pow(e.branchFactor,t))+1,this.startIndex=0,this.nodes=new CBuffer(this.capacity)}
function r(e,t,i){t<i.min&&(i.min=t,i.minIndex=e),t>i.max&&(i.max=t,i.maxIndex=e)}function o(e,t){e.min<t.min&&(t.min=e.min,t.minIndex=e.minIndex),e.max>t.max&&(t.max=e.max,t.maxIndex=e.maxIndex)}function a(e,t){return t*Math.floor(e/t)}n.prototype.rotate=function(){this.startIndex+=this.step
var e=this.nodes.shift()
e.init(),this.nodes.push(e)},n.prototype.init=function(e){this.startIndex=e,this.nodes.forEach(function(e){e.init()})},i.prototype.get=function(e){return e-=this.historyBuffer.startIndex(),this.cbuffer.get(e)},i.prototype.getTreeNode=function(e,t){var i=this.tree.levels[e],n=i.step,r=Math.floor((t-i.startIndex)/n)
return r<0||r>=i.capacity?null:i.nodes.get(r)},i.prototype.buildEmptySegmentTree=function(){var e=this.historyBuffer,i=Math.ceil(Math.log(e.capacity)/Math.log(e.branchFactor))-1
i<1&&(i=1)
for(var r={depth:i,levels:[]},o=0;o<i;o++){var a=new n(e,o+1)
r.levels.push(a)
for(var s=0;s<a.capacity;s++){var l=new t
a.nodes.push(l)}}return r},i.prototype.populateTreeLevel=function(e,t){var i,n,r,o,s,l=this.historyBuffer,d=this.cbuffer,c=l.startIndex(),h=l.lastIndex(),u=0,p=0,m=!0,f=0===t?{step:1,startIndex:c}:this.tree.levels[t-1]
for(e=a(e,this.tree.levels[t].step),f.startIndex>e&&(u=(e=f.startIndex)/f.step%l.branchFactor),p=e;p<h;p+=f.step){if(0===t){var g=d.get(p-c)
m?(n=g,r=p,o=g,s=p,m=!1):(g>n&&(n=g,r=p),g<o&&(o=g,s=p))}else{var v=this.getTreeNode(t-1,p)
m?(n=v.max,r=v.maxIndex,o=v.min,s=v.minIndex,m=!1):(v.max>n&&(n=v.max,r=v.maxIndex),v.min<o&&(o=v.min,s=v.minIndex))}++u===l.branchFactor&&(u=0,m=!0,(i=this.getTreeNode(t,p)).max=n,i.maxIndex=r,i.min=o,i.minIndex=s)}0!==u&&((i=this.getTreeNode(t,p)).max=n,i.maxIndex=r,i.min=o,i.minIndex=s)},i.prototype.rotateTreeLevel=function(e){var t=this.historyBuffer,i=t.startIndex(),n=this.tree.levels[e],s=a(i,n.step)
if(s-n.startIndex>t.capacity)n.init(s)
else for(;n.startIndex<s;)n.rotate()
if(i!==s){var l,d={minIndex:i,min:this.get(i),maxIndex:i,max:this.get(i)},c=n.nodes.get(0)
if(0===e)for(l=i;l<s+t.branchFactor;l++)r(l,this.get(l),d)
else for(l=i;l<s+n.step;l+=n.step/t.branchFactor)o(this.getTreeNode(e-1,l),d)
c.minIndex=d.minIndex,c.min=d.min,c.maxIndex=d.maxIndex,c.max=d.max}},i.prototype.updateSegmentTree=function(){var e
for(e=0;e<this.tree.depth;e++)this.rotateTreeLevel(e)
for(e=0;e<this.tree.depth;e++)this.populateTreeLevel(this.historyBuffer.lastUpdatedIndex,e)},i.prototype.readMinMax=function(e,t,i){var n,s=t-e,l=this.historyBuffer,d=l.startIndex(),c=this.cbuffer,h=Math.floor(Math.log(s)/Math.log(l.branchFactor))
if(h<=0){for(n=e;n<t;n++)r(n,c.get(n-d),i)
return i}h>this.tree.levels.length&&(h=this.tree.levels.length)
var u=Math.pow(l.branchFactor,h),p=Math.ceil(e/u)*u,m=a(t,u)
e!==p&&this.readMinMax(e,p,i)
var f=a(d,u),g=(m-f)/u
for(n=(p-f)/u;n<g;n++)o(this.tree.levels[h-1].nodes.get(n),i)
return t!==m&&this.readMinMax(m,t,i),i},i.prototype.query=function(e,i,n){var r,o=this.historyBuffer
e=Math.floor(e),i=Math.ceil(i)
var a=[],s=o.startIndex(),l=o.lastIndex()
if(e<s&&(e=s),e>l&&(e=l),i<s&&(i=s-1),i>l-1&&(i=l-1),n<4)for(r=e;r<=i;r++)a.push(r),a.push(this.get(r))
else{var d,c,h=new t
for(r=e;r<=i;r=Math.round(r+n)){var u=Math.min(i+1,Math.round(r+n))
h.max=Number.NEGATIVE_INFINITY,h.min=Number.POSITIVE_INFINITY,h.minIndex=0,h.maxIndex=0,d=(h=this.readMinMax(r,u,h)).maxIndex,(c=h.minIndex)===d?(a.push(c),a.push(h.min)):c<d?(a.push(c),a.push(h.min),a.push(d),a.push(h.max)):(a.push(d),a.push(h.max),a.push(c),a.push(h.min))}}return a},"object"==typeof module&&module.exports?module.exports=i:e.SegmentTree=i}(window)
var yt=Object.freeze({})
!function(e){function t(e,t,n,r){var o
if(t.historyBuffer){var a,s=t.historyBuffer
o=s.indexMap
var l=e.getData().indexOf(t)
l<s.width?(a=function(e,t){var i=e.rangeX(t),n=[]
if(void 0===i.xmin||void 0===i.xmax||void 0===i.deltamin)return[]
return n[0]=i.xmin,n[2]=i.xmax,n[4]=i.xmax-i.deltamin,n[1]=0,n[3]=1,n[5]=2,n}(s,l),t.index=l):a=[]
for(var d=r.points,c=0;c<a.length;c+=2)d[c]=o?o[a[c]]:a[c],d[c+1]=a[c+1]
d.length=a.length,r.pointsize=2,t.decimate=i,t.decimatePoints=i}}function i(e,t,i,n){var r,o=e.historyBuffer,a=i-t,s=o.indexMap,l=e.datapoints,d=Math.floor(a/n),c=e.index
r=c<o.width?e.historyBuffer.query(t,i,d,c):[]
for(var h=l.points,u=0;u<r.length;u+=2)h[u]=s?s[r[u]]:r[u],h[u+1]=r[u+1]
return h.length=r.length,l.pointsize=2,h}function n(e,t){for(var i=e.getData(),n=0;n<t.width;n++)"object"==typeof i[n]?(i[n].data=[],i[n].datapoints=void 0):i[n]={data:[]}
e.setData(i)}function r(e,t,i){t.datapoints.points&&(i.xmin=t.datapoints.points[0])}function o(e,t){if("y"===t.direction&&"none"!==t.options.autoScale){var i,n,r,o,a,s=e.getData().filter(function(e){return e.yaxis===t}),l=s.length
for(i=0;i<l;i++)a=s[i].index,n=s[i].xaxis.min?s[i].xaxis.min:s[i].xaxis.options.min,r=s[i].xaxis.max?s[i].xaxis.max:s[i].xaxis.options.max,i<s[i].historyBuffer.width&&(o=s[i].historyBuffer.rangeY(n,r,a),0===i?(t.datamin=o.ymin,t.datamax=o.ymax):(t.datamin=Math.min(t.datamin,o.ymin)||void 0,t.datamax=Math.max(t.datamax,o.ymax)||void 0))}}jQuery.plot.plugins.push({init:function(e){var i=!1
e.hooks.processOptions.push(function(e){var a=e.getOptions().series.historyBuffer
a&&(e.hooks.processRawData.push(t),a.registerOnChange("setDataCallback",function(){!function(e,t){e.dataUpdateTriggered||(e.dataUpdateTriggered=requestAnimationFrame(function(){i||(n(e,t),function(e){e.setupGrid(!0),e.draw()}(e)),e.dataUpdateTriggered=null}))}(e,a)}),n(e,a),e.hooks.adjustSeriesDataRange.push(r),e.hooks.setRange.push(o),e.hooks.shutdown.push(function(){a.deregisterOnChange("setDataCallback"),i=!0}))})},name:"charting",version:"0.3"})}()
var _t=Object.freeze({})
!function(e){var t={iRectSize:8,mouseGrabMargin:12,textHeight:10,labelPadding:10,thumbRadius:17},i=Object.freeze({axis:0,relative:1}),n=Object.freeze({xy:0,x:1})
const r=Object.freeze({t:"top",b:"bottom",l:"left",r:"right"})
function o(e,t){return Object.keys(e).forEach(function(i){t[i]=e[i]}),t}function a(e,t,i){var n,r,o=p(e,t),a=m(e,t)
n=void 0!==i.x&&o.p2c?o.p2c(i.x):i.relativeX*e.width(),r=void 0!==i.y&&a.p2c?a.p2c(i.y):i.relativeY*e.height(),t.x=n,t.y=r}function s(e,i,n,r){var o="left",a=Number(i.fontSize.substring(0,i.fontSize.length-2)),s=i.y,l=i.x
return"left"===i.halign?(l-=t.labelPadding,o="right"):l+=t.labelPadding,"above"===i.valign?s-=t.labelPadding*(r-n)+a*(r-1-n):s+=t.labelPadding*(n+1)+a*(n+1),{x:l,y:s,textAlign:o}}function l(e){return(e.showLabel?1:0)+(e.showValues?1:0)}function d(e,t){return t>=0&&Math.round(t)<=e.width()}function c(e,t){return t>=0&&Math.round(t)<=e.height()}function h(e,t){return d(e,t.x)&&c(e,t.y)}function u(e,t,i){var n="x"===t.direction?i+1:i-1,r=t.c2p(i),o=t.c2p(n)
return e.computeValuePrecision(r,o,t.direction,1)}function p(e,t){var i=e.getData(),n=e.getXAxes(),r=t.defaultxaxis-1
if(t.snapToPlot>=-1){if(t.intersections&&t.intersections.points[0]){var o=i[t.intersections.points[0].seriesIndex]
return o?o.xaxis:n[r]}return n[r]}return n[r]}function m(e,t){var i=e.getData(),n=e.getYAxes(),r=t.defaultyaxis-1
if(t.snapToPlot>=-1){if(t.intersections&&t.intersections.points[0]){var o=i[t.intersections.points[0].seriesIndex]
return o?o.yaxis:n[r]}return n[r]}return n[r]}function f(e,t){var i=p(e,t),n=m(e,t),r=u(e,i,t.x),o=i.tickFormatter(i.c2p(t.x),i,r,e),a=u(e,n,t.y),s=n.tickFormatter(n.c2p(t.y),n,a,e)
return{xTextValue:o=(o=o.replace("<br>"," ")).replace("&nbsp;"," "),yTextValue:s=(s=s.replace("<br>"," ")).replace("&nbsp;"," ")}}function g(e){return-1!==e.mode.indexOf("x")}function v(e,i,n,r){var o=n.offset(),a=Math.max(0,Math.min(e-o.left,n.width())),s=Math.max(0,Math.min(i-o.top,n.height())),l=r.symbolSize+t.mouseGrabMargin
return a>r.x-l&&a<r.x+l&&s>r.y-l&&s<r.y+l&&"none"!==r.symbol}function b(e,i,n,r){var o=n.offset(),a=Math.max(0,Math.min(e-o.left,n.width())),s=Math.max(0,Math.min(i-o.top,n.height()))
return g(r)&&a>r.x-t.mouseGrabMargin&&a<r.x+t.mouseGrabMargin&&s>0&&s<n.height()}function y(e,i,n,r){var o=n.offset(),a=Math.max(0,Math.min(e-o.left,n.width())),s=Math.max(0,Math.min(i-o.top,n.height()))
return function(e){return-1!==e.mode.indexOf("y")}(r)&&s>r.y-t.mouseGrabMargin&&s<r.y+t.mouseGrabMargin&&a>0&&a<n.width()}e.plot.plugins.push({init:function(u){var _=[],w=[],x=i.axis,C=n.xy
const S=new Map
let T,I
var E=!1
function P(e){const t={name:"unnamed "+_.length,position:{relativeX:.5,relativeY:.5,x:void 0,y:void 0},mousePosition:{relativeX:void 0,relativeY:void 0},x:0,y:0,valign:"below",halign:"right",show:!0,selected:!1,highlighted:!1,mode:"xy",showIntersections:!1,showLabel:!1,showValues:!0,color:"gray",fontSize:"10px",fontFamily:"sans-serif",fontStyle:"",fontWeight:"",lineWidth:1,movable:!0,dashes:[],intersectionColor:"darkgray",intersectionLabelPosition:"bottom-right",snapToPlot:void 0,interpolate:!1,defaultxaxis:1,defaultyaxis:1,symbolSize:8,showThumbs:"none",thumbAbbreviation:"C"+_.length,thumbClassList:["draggable"],thumbs:[],thumbColor:void 0,horizontalThumbConstrain:void 0,verticalThumbConstrain:void 0}
return D(t,e),o(e,t)}function D(e,t){!function(e,t){if("none"===t.showThumbs)return
if(function(e,t){if(t.mode&&t.showThumbs){if(k(t.mode,t.showThumbs)){switch(console.log(`showThumbs ${t.showThumbs} doesn't match mode ${t.mode}.`),t.mode){case"x":t.showThumbs="t"
break
case"y":t.showThumbs="r"
break
case"xy":t.showThumbs="tr"}console.log(`showThumbs is coerced to ${t.showThumbs}`)}}else t.mode?k(t.mode,e.showThumbs)&&(console.log("mode doesn't match the existing showThumbs. It will be ignored"),delete t.mode):t.showThumbs&&k(e.mode,t.showThumbs)&&(console.log("showThumbs doesn't match the existing mode. It will be ignored"),delete t.showThumbs)}(e,t),!t.showThumbs)return
const i=t.showThumbs.split("").map(e=>r[e])
let n
for(let t=0;t<e.thumbs.length;t++)i.includes(e.thumbs[t].shape)||(n=e.thumbs[t],e.thumbs[t]=null,e._createThumbs=!0,A("thumbWillBeRemoved",{current:n}),I.removeChild(n),S.delete(n))}(e,t),function(e,t){if(0===e.thumbs.length)return
const i=void 0!==t.show?t.show:e.show,n=void 0!==t.showThumbs?t.showThumbs:e.showThumbs,r=void 0!==t.show&&t.show!==e.show,o=void 0!==t.showThumbs&&t.showThumbs!==e.showThumbs&&("none"===t.showThumbs||"none"===e.showThumbs)
e.triggerThumbVisibilityChanged=r&&"none"!==n||o&&i}(e,t)}function k(e,t){return"x"===e&&-1!==t.search(/[lr]/)||"y"===e&&-1!==t.search(/[tb]/)||"xy"===e&&-1!==t.search(/l\s*r|r\s*l|t\s*b|b\s*t/)}function A(e,t){const i=new CustomEvent(e,{detail:t})
u.getPlaceholder()[0].dispatchEvent(i)}function j(e,t){e.triggerThumbVisibilityChanged&&e.thumbs.forEach(e=>{A("thumbVisibilityChanged",{visible:t,current:e})})}u.hooks.processOptions.push(function(e){e.getOptions().cursors.forEach(function(t){e.addCursor(t)})}),u.hooks.processOffset.push(function(e,t){M(_,e,t)}),u.getCursors=function(){return _},u.addCursor=function(e){var t=P(e)
a(u,t,t.position),_.push(t),u.triggerRedrawOverlay()},u.removeCursor=function(e){const t=_.indexOf(e);-1!==t&&(e.thumbs.forEach(e=>{A("thumbWillBeRemoved",{current:e}),I.removeChild(e),S.delete(e)}),_.splice(t,1)),u.triggerRedrawOverlay()},u.setCursor=function(e,t){const i=_.indexOf(e);-1!==i&&(D(e,t),o(t,_[i]),a(u,_[i],_[i].position),e._createThumbs?(u.setupGrid(),u.draw()):u.triggerRedrawOverlay())},u.getIntersections=function(e){var t=_.indexOf(e)
return-1!==t?_[t].intersections:[]},u.formatCursorPosition=f,u.setPlotPositionConstrain=(e=>{if("function"!=typeof e)throw new Error("plot position constrain should be a function")
T=e})
var M=function(e,i,n){var r,o,a,s,l,d=0,c=2*t.thumbRadius
for(l in r=["left","right","top","bottom"].map(function(t,n){return o=e.some(e=>-1!==e.showThumbs.indexOf(t[0])),s=n>1?i.getXAxes():i.getYAxes(),a=s.some(e=>e.options.position===t),o&&!a?c:0}),n)n[l]+=r[d++]},N=function(e){var t
return e.forEach(function(e){e.selected&&(t||(t=e))}),t},q=function(e){return e.filter(function(e){return e.show})},O=function(e){const[t,i]=ne(e.detail.touches[0].pageX,e.detail.touches[0].pageY)
ee(e,t,i,e.detail.touches[0].pageX,e.detail.touches[0].pageY)},B=function(e){const[t,i]=ne(e.detail.touches[0].pageX,e.detail.touches[0].pageY)
K(e,t,i,e.detail.touches[0].pageX,e.detail.touches[0].pageY)},L=function(e){te(e)},R=function(e){const[t,i]=ne(e.detail.touches[0].pageX,e.detail.touches[0].pageY)
ee(e,t,i,e.detail.touches[0].pageX,e.detail.touches[0].pageY)},H=function(e){const[t,i]=ne(e.detail.touches[0].pageX,e.detail.touches[0].pageY)
K(e,t,i,e.detail.touches[0].pageX,e.detail.touches[0].pageY)},V=function(e){te(e)},F=function(e){!function(e){function t(e){return e.getAttribute("class").includes("draggable")}N(_)||q(_).filter(e=>!0===e.movable).forEach(function(i){i.thumbs.filter(t).filter(t=>t===function(e){var t=e,i=e.getAttribute("class")
return i.includes("interactionLayer")&&(t=e.parentNode,i=t.getAttribute("class")),i.includes("thumb")?t:null}(e.detail.target)).forEach(function(t){var n=i
n&&(t.classList.contains("x")?n.dragmode="x":n.dragmode="y",n.selected=!0,n.thumbmove=!0,"x"===n.mode?u.getPlaceholder().css("cursor","ew-resize"):"y"===n.mode&&u.getPlaceholder().css("cursor","ns-resize"),u.getPlaceholder().css("cursor","move"),u.getPlaceholder().trigger("cursordragstart",n),u.triggerRedrawOverlay(),e.stopImmediatePropagation(),e.preventDefault())})})}(e)},z=function(e){const[t,i]=ne(e.pageX,e.pageY)
!function(e,t,i){const n=N(_)
if(n){ie(n,t,i)
const r=e.selectedThumb
let o
o=r.classList.contains("x")?n.x+u.getPlotOffset().left:n.y+u.getPlotOffset().top,S.set(r,o),u.getPlaceholder().trigger("cursordrag",n),u.triggerRedrawOverlay(),e.stopImmediatePropagation(),e.preventDefault()}}(e,t,i)},$=function(e){te(e)},U=function(t){const i=e.plot.browser.getPageXY(t),[n,r]=ne(i.X,i.Y)
ee(t,n,r,i.X,i.Y)},G=function(t){const i=e.plot.browser.getPageXY(t),[n,r]=ne(i.X,i.Y)
K(t,n,r,i.X,i.Y)},W=function(t){const i=e.plot.browser.getPageXY(t),[n,r]=ne(i.X,i.Y)
!function(e,t,i,n,r){if(!E){var o=N(_)
o&&0===e.buttons&&(o.selected=!1,u.triggerRedrawOverlay()),q(_).forEach(function(e){Z(n,r,u,e)})}}(t,0,0,i.X,i.Y)},X=function(t){const i=e.plot.browser.getPageXY(t),[n,r]=ne(i.X,i.Y)
te(t,n,r,i.X,i.Y)}
function J(){x=i.relative,_.forEach(function(e){if(!isNaN(e.x)&&!isNaN(e.y)){var t={relativeX:e.position.relativeX||e.x/u.width(),relativeY:e.position.relativeY||e.y/u.height(),x:void 0,y:void 0}
isNaN(t.relativeX)||isNaN(t.relativeY)||(e.position=t)}})}function Y(){x=i.axis,_.forEach(function(e){if(e.mousePosition={},void 0===e.position.x){var t=p(u,e)
e.position.x=t.c2p?t.c2p(e.x):void 0}if(void 0===e.position.y){var i=m(u,e)
e.position.y=i.c2p?i.c2p(e.y):void 0}e.position.relativeX=void 0,e.position.relativeY=void 0})}function Q(e,t){var r={cursor:t.name,points:[]}
return t.interpolate?function(e,t,i){var n=e.c2p({left:t.x,top:t.y}),r=e.getAxes()
if(!(n.x<r.xaxis.min||n.x>r.xaxis.max||n.y<r.yaxis.min||n.y>r.yaxis.max)){var o=e.findNearbyInterpolationPoint(n.x,n.y,function(e){return-1===t.snapToPlot||e===t.snapToPlot})
o&&i.points.push({x:o.datapoint[0],y:o.datapoint[1],leftPoint:o.leftPoint,rightPoint:o.rightPoint,seriesIndex:o.seriesIndex})}}(e,t,r):function(e,t,r){var o,a
x===i.axis?(o=t.x,a=t.y):(o=t.mousePosition.relativeX*e.width(),a=t.mousePosition.relativeY*e.height())
var s=e.findNearbyItem(o,a,function(e){return-1===t.snapToPlot||e===t.snapToPlot},Number.MAX_VALUE,function(e,t){return C===n.x?e:e*e+t*t*.025})
if(s){var l=e.getData(),d=l[s.seriesIndex].datapoints.pointsize,c=s.dataIndex*d
r.points.push({x:s.datapoint[0],y:s.datapoint[1],leftPoint:[c-d,c-d+1],rightPoint:[c,c+1],seriesIndex:s.seriesIndex})}}(e,t,r),r}function K(e,t,i,n,r){var o=N(_)
o&&(ie(o,t,i),u.getPlaceholder().trigger("cursordrag",o),u.triggerRedrawOverlay(),e.stopImmediatePropagation(),e.preventDefault())}function Z(e,t,i,n){n.movable&&(v(e,t,i,n)?(n.highlighted||(n.highlighted=!0,i.triggerRedrawOverlay()),i.getPlaceholder().css("cursor","pointer")):b(e,t,i,n)?(n.highlighted||(n.highlighted=!0,i.triggerRedrawOverlay()),i.getPlaceholder().css("cursor","col-resize")):y(e,t,i,n)?(n.highlighted||(n.highlighted=!0,i.triggerRedrawOverlay()),i.getPlaceholder().css("cursor","row-resize")):n.highlighted&&(n.highlighted=!1,i.getPlaceholder().css("cursor","default"),i.triggerRedrawOverlay()))}function ee(e,t,i,r,o){E=!0
var a,s,l=N(_)
C=n.xy,l?(u.getPlaceholder().css("cursor","default"),l.x=t,l.y=i,l.position.relativeX=t/u.width(),l.position.relativeY=i/u.height(),u.triggerRedrawOverlay()):(q(_).forEach(function(e){e.movable&&(v(r,o,u,e)?(a=e,s="xy"):y(r,o,u,e)?(a=e,s="y"):b(r,o,u,e)&&(a=e,s="x"),Z(r,o,u,e))}),a&&(a.thumbmove=!1,a.selected=!0,a.dragmode=s,"x"===a.mode?u.getPlaceholder().css("cursor","ew-resize"):"y"===a.mode?u.getPlaceholder().css("cursor","ns-resize"):u.getPlaceholder().css("cursor","move"),u.getPlaceholder().css("cursor","move"),u.getPlaceholder().trigger("cursordragstart",a),u.triggerRedrawOverlay(),e.stopImmediatePropagation(),e.preventDefault())),l=N(_)}function te(e,t,i,n,r){E=!1
var o=N(_)
o&&(isFinite(t)&&isFinite(i)&&ie(o,t,i),o.selected=!1,o.thumbmove=!1,u.getPlaceholder().css("cursor","default"),u.getPlaceholder().trigger("cursordragend",o),u.triggerRedrawOverlay(),e.stopImmediatePropagation(),e.preventDefault())}function ie(e,t,i){var n=p(u,e),r=m(u,e);-1!==e.dragmode.indexOf("x")&&(e.x=t,e.position.x=n.c2p?n.c2p(t):void 0,e.position.relativeX=t/u.width(),e.mousePosition.relativeX=t/u.width()),-1!==e.dragmode.indexOf("y")&&(e.y=i,e.position.y=r.c2p?r.c2p(i):void 0,e.position.relativeY=i/u.height(),e.mousePosition.relativeY=i/u.height())}function ne(e,t){if(T)return T(e,t)
const i=u.offset()
return[Math.max(0,Math.min(e-i.left,u.width())),Math.max(0,Math.min(t-i.top,u.height()))]}function re(t){t.thumbs.forEach(t=>{e.thumb.setHidden(t,!0)})}function oe(e,t,i){const n=new CustomEvent(e,{detail:t})
i.dispatchEvent(n)}function ae(e){return-1!==e.showThumbs.indexOf("b")||-1!==e.showThumbs.indexOf("t")}function se(e){return-1!==e.showThumbs.indexOf("l")||-1!==e.showThumbs.indexOf("r")}u.hooks.bindEvents.push(function(e,t){t[0].addEventListener("panstart",O,!1),t[0].addEventListener("pandrag",B,!1),t[0].addEventListener("panend",L,!1),t[0].addEventListener("pinchstart",R,!1),t[0].addEventListener("pinchdrag",H,!1),t[0].addEventListener("pinchend",V,!1),e.getPlaceholder().bind("plotpan",Y),e.getPlaceholder().bind("plotzoom",Y),t[0].addEventListener("thumbmovestart",F,!1),t[0].addEventListener("thumbmove",z,!1),t[0].addEventListener("thumbmoveend",$,!1),e.addEventHandler("dragstart",U,t,10),e.addEventHandler("drag",G,t,10),e.addEventHandler("dragend",X,t,10),t.bind("mousemove",W)}),u.hooks.processRawData.push(function(e,t,i,r){t.historyBuffer&&(J(),C=n.x)}),u.hooks.drawOverlay.push(function(i,n){w=[],_.forEach(function(r){var o,u
if(function(e,t){var i=p(e,t),n=m(e,t),r=t.position
void 0!==r.x&&void 0!==r.y||!i.c2p||!n.c2p||0===i.min&&1===i.max&&0===n.min&&1===n.max||(r.x=i.c2p(r.relativeX*e.width()),r.y=n.c2p(r.relativeY*e.height())),(void 0===r.relativeX||void 0===r.relativeY)&&i.p2c&&n.p2c&&void 0!==r.x&&void 0!==r.y&&(r.relativeX=i.p2c(r.x)/e.width(),r.relativeY=n.p2c(r.y)/e.height())}(i,r),a(i,r,r.position),(void 0===(u=r.mousePosition).relativeX||void 0===u.relativeY)&&(r.mousePosition.relativeX=r.x/i.width(),r.mousePosition.relativeY=r.y/i.height()),o=Q(i,r),function(e,t,i){if(t.snapToPlot>=-1){var n=i.points[0]
if(n){var r=e.getData()[n.seriesIndex],o=r.xaxis.p2c(n.x)/e.width(),s=r.yaxis.p2c(n.y)/e.height()
a(e,t,{x:n.x,y:n.y}),t.position.x=n.x,t.position.y=n.y,t.position.relativeX=o,t.position.relativeY=s,i.x=n.x,i.y=n.y}}}(i,r,o),r.intersections=o,o.target=r,w.push(o),r.show){var v=i.getPlotOffset()
n.save(),n.translate(v.left,v.top),function(e,i,n){var r=e.width(),o=e.height(),a=n.y,s=n.x,d=0,c=0,h=l(n),u=Number(n.fontSize.substring(0,n.fontSize.length-2))
if(i.font=n.fontStyle+" "+n.fontWeight+" "+n.fontSize+" "+n.fontFamily,n.showLabel&&(d=Math.max(d,i.measureText(n.name).width)),n.showValues){var p=f(e,n),m=p.xTextValue+", "+p.yTextValue
d=Math.max(d,i.measureText(m).width)}"right"===n.halign&&s+d>.95*r?n.halign="left":"left"===n.halign&&s-d<.05*r&&(n.halign="right"),c=h*(u+t.labelPadding),"below"===n.valign&&a+c>.95*o?n.valign="above":"above"===n.valign&&a-c<.05*o&&(n.valign="below")}(i,n,r),function(e,t,i){if(0!==i.lineWidth){var n=i.lineWidth%2?.5:0
if(t.strokeStyle=i.color,t.lineWidth=i.lineWidth,t.lineJoin="round",t.beginPath(),t.setLineDash(i.dashes),-1!==i.mode.indexOf("x")&&d(e,i.x)){var r=Math.floor(i.x)+n
t.moveTo(r,Math.min(e.height(),Math.max(0,i.y-i.symbolSize/2))),t.lineTo(r,0),t.moveTo(r,Math.min(e.height(),Math.max(0,i.y+i.symbolSize/2))),t.lineTo(r,e.height())}if(-1!==i.mode.indexOf("y")&&c(e,i.y)){var o=Math.floor(i.y)+n
t.moveTo(Math.min(e.width(),Math.max(0,i.x-i.symbolSize/2)),o),t.lineTo(0,o),t.moveTo(Math.min(e.width(),Math.max(0,i.x+i.symbolSize/2)),o),t.lineTo(e.width(),o)}t.stroke(),t.setLineDash([])}}(i,n,r),function(e,t,i){if(i.showLabel&&h(e,i)){t.beginPath()
var n=s(0,i,0,l(i))
t.fillStyle=i.color,t.textAlign=n.textAlign,t.font=i.fontStyle+" "+i.fontWeight+" "+i.fontSize+" "+i.fontFamily,t.fillText(i.name,n.x,n.y),t.textAlign="left",t.stroke()}}(i,n,r),function(e,i,n){if(n.showIntersections&&g(n)){if(i.beginPath(),void 0===n.intersections)return
n.intersections.points.forEach(function(r,o){if("object"!=typeof n.showIntersections||-1!==n.showIntersections.indexOf(o)){var a,s=e.p2c(r)
i.fillStyle=n.intersectionColor,i.fillRect(Math.floor(s.left)-t.iRectSize/2,Math.floor(s.top)-t.iRectSize/2,t.iRectSize,t.iRectSize),a="function"==typeof n.formatIntersectionData?n.formatIntersectionData(r):r.y.toFixed(2),function(e,i,n,r,o,a,s,l,d){var c,h=Number(l.substring(0,l.length-2))
switch(o){case"left":c=e.measureText(i).width,n=n-c-t.iRectSize
break
case"bottom-left":c=e.measureText(i).width,n=n-c-t.iRectSize,r+=h
break
case"top-left":c=e.measureText(i).width,n=n-c-t.iRectSize,r-=t.iRectSize
break
case"top-right":n+=t.iRectSize,r-=t.iRectSize
break
case"right":n+=t.iRectSize
break
case"bottom-right":default:n+=t.iRectSize,r+=h}e.textBaseline="middle",e.font=a+" "+s+" "+l+" "+d,e.fillText(i,n,r)}(i,a,s.left,s.top,n.intersectionLabelPosition,n.fontStyle,n.fontWeight,n.fontSize,n.fontFamily)}}),i.stroke()}}(i,n,r),function(e,t,i){if(i.showValues&&h(e,i)){var n=f(e,i),r=n.xTextValue+", "+n.yTextValue,o=s(0,i,function(e){return e.showLabel?1:0}(i),l(i))
t.fillStyle=i.color,t.textAlign=o.textAlign,t.font=i.fontStyle+" "+i.fontWeight+" "+i.fontSize+" "+i.fontFamily,t.fillText(r,o.x,o.y)}}(i,n,r),"none"!==r.symbol&&function(e,t,i){if(h(e,i)){var n=i.lineWidth%2?.5:0
t.beginPath(),i.highlighted?t.strokeStyle="orange":t.strokeStyle=i.color,i.symbol&&e.drawSymbol&&e.drawSymbol[i.symbol]?(t.fillStyle=i.color,e.drawSymbol[i.symbol](t,Math.floor(i.x)+n,Math.floor(i.y)+n,i.symbolSize/2,0)):t.fillRect(Math.floor(i.x)+n-i.symbolSize/2,Math.floor(i.y)+n-i.symbolSize/2,i.symbolSize,i.symbolSize),t.stroke()}}(i,n,r),n.restore(),"none"!==r.showThumbs?0===r.thumbs.length||r._createThumbs?(function(i,n,r){I=e.thumb.createSVGLayer(n.getPlaceholder(),n.getEventHolder())
let o,a,s,l,d=0
const c={size:t.thumbRadius,svgRoot:I,abbreviation:i.thumbAbbreviation||i.name[0],classList:i.thumbClassList,offset:i.thumbOffset,fill:i.thumbColor}
ae(i)&&!i.thumbs[0]&&(d=1,a=i.x+r.left,s=-1!==i.showThumbs.indexOf("b")?n.height()+r.top+t.thumbRadius:r.top-t.thumbRadius,l=i.horizontalThumbConstrain?i.horizontalThumbConstrain:function(e,t,i,r,o,a){var s=n.offset().left,l=Math.max(s,Math.min(o,n.width()+s))-o+e
return[l,r]},c.shape=-1!==i.showThumbs.indexOf("b")?"bottom":"top",c.x=a,c.y=s,c.constraintFunction=l,o=e.thumb.createThumb(c),i.thumbs[0]=o,S.set(o,a),A("thumbCreated",{current:o})),se(i)&&!i.thumbs[d]&&(a=-1!==i.showThumbs.indexOf("l")?r.left-t.thumbRadius:r.left+n.width()+t.thumbRadius,s=i.y+r.top,l=i.verticalThumbConstrain?i.verticalThumbConstrain:function(e,t,i,r,o,a){var s=n.offset(),l=Math.max(s.top,Math.min(a,n.height()+s.top))-a+t
return[i,l]},c.shape=-1!==i.showThumbs.indexOf("l")?"left":"right",c.x=a,c.y=s,c.constraintFunction=l,o=e.thumb.createThumb(c),i.thumbs[d]=o,S.set(o,s),A("thumbCreated",{current:o}))}(r,i,v),r._createThumbs=!1):r.thumbmove||(function(t,i,n){let r
if(ae(i)){r=i.thumbs[0]
const o=i.x+n.left,a=S.get(r),s=function(e){return e.classList.contains("top")}(r)
d(t,i.x)?(a<n.left?oe("thumbIntoRange",{target:r,edge:s?"topleft":"bottomleft",orientation:"horizontal",position:o},t.getEventHolder()):a>n.left+t.width()&&oe("thumbIntoRange",{target:r,edge:s?"topright":"bottomright",orientation:"horizontal",position:o},t.getEventHolder()),e.thumb.setHidden(r,!1),e.thumb.updateComputedXPosition(r,o)):(d(t,a-n.left)&&i.x<0?oe("thumbOutOfRange",{target:r,edge:s?"topleft":"bottomleft",orientation:"horizontal"},t.getEventHolder()):d(t,a-n.left)&&i.x>t.width()&&oe("thumbOutOfRange",{target:r,edge:s?"topright":"bottomright",orientation:"horizontal"},t.getEventHolder()),e.thumb.setHidden(r,!0)),S.set(r,o)}if(se(i)){const o=ae(i)?1:0
r=i.thumbs[o]
const a=i.y+n.top,s=S.get(r),l=function(e){return e.classList.contains("left")}(r)
c(t,i.y)?(s<n.top?oe("thumbIntoRange",{target:r,edge:l?"topleft":"topright",orientation:"vertical",position:a},t.getEventHolder()):s>n.top+t.height()&&oe("thumbIntoRange",{target:r,edge:l?"bottomleft":"bottomright",orientation:"vertical",position:a},t.getEventHolder()),e.thumb.setHidden(r,!1),e.thumb.updateComputedYPosition(r,a)):(c(t,s-n.top)&&(i.y<0?oe("thumbOutOfRange",{target:r,edge:l?"topleft":"topright",orientation:"vertical"},t.getEventHolder()):i.y>t.height()&&oe("thumbOutOfRange",{target:r,edge:l?"bottomleft":"bottomright",orientation:"vertical"},t.getEventHolder())),e.thumb.setHidden(r,!0)),S.set(r,a)}}(i,r,v),j(r,!0)):(re(r),j(r,!1))}else re(r),j(r,!1)}),w.length>0&&i.getPlaceholder().trigger("cursorupdates",[w])}),u.hooks.resize.push(function(i,n,r){_.forEach(function(o){const a=i.getPlotOffset()
let s=0
const l=o.thumbs[0]
if(ae(o)&&l&&(s=1,-1!==o.showThumbs.indexOf("b"))){const i=r-a.bottom+t.thumbRadius
e.thumb.updateComputedYPosition(l,i)}const d=o.thumbs[s]
if(se(o)&&d&&-1!==o.showThumbs.indexOf("r")){const i=n-a.right+t.thumbRadius
e.thumb.updateComputedXPosition(d,i)}})}),u.hooks.shutdown.push(function(t,i){i[0].removeEventListener("panstart",O),i[0].removeEventListener("pandrag",B),i[0].removeEventListener("panend",L),i[0].removeEventListener("pinchstart",R),i[0].removeEventListener("pinchdrag",H),i[0].removeEventListener("pinchend",V),i[0].removeEventListener("thumbmovestart",F),i[0].removeEventListener("thumbmove",z),i[0].removeEventListener("thumbmoveend",$),i.unbind("dragstart",U),i.unbind("drag",G),i.unbind("dragend",X),i.unbind("mousemove",W),i.unbind("cursorupdates")
var n=t.getPlaceholder()
n.unbind("plotpan",Y),n.unbind("plotzoom",Y),n.css("cursor","default"),n.find(".flot-thumbs")[0]&&e.thumb.shutdown(n.find(".flot-thumbs")[0].firstChild),_=[],S.clear(),w=[]})},options:{cursors:[]},name:"cursors",version:"0.2"})}(jQuery)
var wt=Object.freeze({})
!function(e,t){function i(e){return e.options.type===n.ColorScaleType}function n(){this.pluginName="intensitygraph",this.pluginVersion="0.2",this.defaultOptions={series:{intensitygraph:{data:[],show:!1,lowColor:"rgba(0,0,0,1)",highColor:"rgba(255,255,255,1)",min:0,max:1}}}
var e=[{value:0,color:"#3182bd"},{value:.5,color:"#9ecae1"},{value:1,color:"#deebf7"}],r={centerX:20,centerY:0}
function o(e,t,i,n){!0===e.getOptions().series.intensitygraph.show&&i[0].length>0&&(n.pointsize=2,n.points.length=0,n.points.push(0,0),n.points.push(i.length||0,i[0]?i[0].length:0))}this.init=function(a){var s,l,d,c=null
function h(e,t,i,n,r,o,a,s){const l=n[r].data,d=l.length,c=l[0].length,h=n[r].xaxis,u=n[r].yaxis,p=h.p2c(1)-h.p2c(0),m=u.p2c(0)-u.p2c(1)
for(let e=0;e<d;e++)for(let d=0;d<c;d++){const f=h.p2c(e+.5),g=u.p2c(d+.5),v=Math.max(Math.abs(t-f)-p/2,0),b=Math.max(Math.abs(i-g)-m/2,0),y=a?a(v,b):Math.sqrt(v*v+b*b)
y<o&&s.push({datapoint:[e,d,l[e][d]],dataIndex:e*c+d,series:n[r],seriesIndex:r,distance:y})}}function u(e,t,r){var o=e.getPlotOffset(),a=e.getSurface().pixelRatio,h=e.getYAxes().filter(function(e){return i(e)})[0],u=h&&"none"!==h.options.autoScale?h.min:r.intensitygraph.min,p=h&&"none"!==h.options.autoScale?h.max:r.intensitygraph.max
function m(e,t,i){return s&&s.width===t&&s.height===i||(s=e.createImageData(t,i)),s}r.data.length>0&&r.data[0].length>0&&(t.save(),t.beginPath(),t.rect(o.left,o.top,e.width(),e.height()),t.clip(),r.xaxis.options.mode&&"linear"!==r.xaxis.options.mode||r.yaxis.options.mode&&"linear"!==r.yaxis.options.mode?function(e,t){var i=Math.max(e.xaxis.min,0),n=Math.min(e.data.length,e.xaxis.max),r=Math.max(e.yaxis.min,0),s=Math.min(e.data[0].length,e.yaxis.max),l=e.xaxis.p2c(i),d=e.xaxis.p2c(n),c=e.yaxis.p2c(r),h=e.yaxis.p2c(s),f=Math.floor(l*a),g=Math.floor(d*a),v=Math.floor(h*a),b=Math.floor(c*a),y=g-f,_=b-v
if(y>0&&_>0){var w=m(t,y,_)
!function(e,t,i,n,r,o,a,s,l,d,c,h,u,p){var m,f,g,v,b,y,_,w,x,C,S,T,I=u-h
for(m=0;m<o;m++)for(g=0|s(t+m/p),f=a-1;f>=0;f--){for(v=0|l(n-f/p),x=c[g][v],_=0|Math.min(s(t+m/p+1),c.length),w=0|Math.min(l(n-f/p-1),c[0].length),b=g;b<_;b++)for(y=v;y<w;y++)(C=c[b][y])>x&&(x=C)
for(b=g;b<_;b++)(C=c[b][v])>x&&(x=C)
for(y=v;y<w;y++)(C=c[g][y])>x&&(x=C)
S=x<h?1024:x>u?1028:4*Math.round(255*(x-h)/I),T=4*(a-f-1)*o+4*m,e.data[T+0]=d[S+0],e.data[T+1]=d[S+1],e.data[T+2]=d[S+2],e.data[T+3]=d[S+3]}}(w,l,0,c,0,y,_,e.xaxis.c2p,e.yaxis.c2p,e.intensitygraph.palette,e.data,u,p,a),t.putImageData(w,Math.ceil((l+o.left)*a),Math.ceil((h+o.top)*a))}}(r,t):function(e,t){var i,n,r,s=0|Math.floor(Math.max(e.xaxis.min,0)),c=0|Math.ceil(Math.min(e.data.length,e.xaxis.max)),h=0|Math.floor(Math.max(e.yaxis.min,0)),f=0|Math.ceil(Math.min(e.data[0].length,e.yaxis.max)),g=e.xaxis.p2c(s),v=e.xaxis.p2c(c),b=e.yaxis.p2c(h),y=e.yaxis.p2c(f),_=Math.abs((c-s)/(v-g))/a,w=Math.abs((f-h)/(y-b))/a
if(_>1&&w>1){var x=Math.floor(g*a),C=Math.floor(v*a),S=Math.floor(y*a),T=Math.floor(b*a)
n=T-S,(i=C-x)>0&&n>0&&(function(e,t,i,n,r,o,a,s,l,d,c,h,u){var p,m,f,g,v,b,y,_,w,x,C,S,T=u-h
for(p=0;p<o;p++)for(f=t+p*s|0,m=0;m<a;m++){for(g=n+m*l|0,w=c[f][g],y=0|Math.floor(Math.min(f+s,c.length)),_=0|Math.floor(Math.min(g+l,c[0].length)),v=f;v<y;v++)for(b=g;b<_;b++)(x=c[v][b])>w&&(w=x)
C=w<h?1024:w>u?1028:4*Math.round(255*(w-h)/T),S=4*(a-m-1)*o+4*p,e.data[S+0]=d[C+0],e.data[S+1]=d[C+1],e.data[S+2]=d[C+2],e.data[S+3]=d[C+3]}}(r=m(t,i,n),s,0,h,0,i,n,_,w,e.intensitygraph.palette,e.data,u,p),t.putImageData(r,Math.ceil((g+o.left)*a),Math.ceil((y+o.top)*a)))}else n=f-h,(i=c-s)>0&&n>0&&(function(e,t,i,n,r,o,a,s,l,d,c){var h,u,p,m,f,g=c-d
for(h=t;h<i;h++)for(u=n;u<r;u++)p=l[h][u],m=p<d?1024:p>c?1028:4*Math.round(255*(p-d)/g),f=4*(r-u-1)*o+4*(h-t),e.data[f+0]=s[m+0],e.data[f+1]=s[m+1],e.data[f+2]=s[m+2],e.data[f+3]=s[m+3]}(r=function(e,t){l||((l=document.createElement("canvas")).className="tempCanvas",l.style.visibility="hidden",d=null)
d&&l.width===e&&l.height===t||(l.width=e,l.style.width=e+"px",l.height=t,l.style.height=t+"px",d=l.getContext("2d").createImageData(e,t))
return d}(i,n),s,c,h,f,i,0,e.intensitygraph.palette,e.data,u,p),l.getContext("2d").putImageData(r,0,0),t.imageSmoothingEnabled=!1,t.webkitImageSmoothingEnabled=!1,t.msImageSmoothingEnabled=!1,t.drawImage(l,0,0,i,n,g+o.left,y+o.top,Math.max(v-g,1),Math.max(b-y,1)))}(r,t),t.restore()),function(e,t,i){var r=i&&i.show?i.box.left+10:o.left+e.width()+20,a=c.series.intensitygraph.gradient,s=c.series.intensitygraph.lowColor,l=c.series.intensitygraph.highColor
i&&i.show&&n.prototype.drawLegend(t,r,o.top,10,e.height(),a,s,l)}(e,t,h)}a.hooks.processOptions.push(function(i,a){if(a.series.intensitygraph.show){a.series.intensitygraph.gradient||(a.series.intensitygraph.gradient=e)
var s=i.getYAxes(),l=s.filter(function(e){return n.prototype.isColorScale(e)})[0]
!l||l.boxPosition&&0!==l.boxPosition.centerX||(l.boxPosition=r),i.hooks.drawSeries.push(u),i.hooks.processRawData.push(o),i.hooks.findNearbyItems.push(h),c=a,a.series.intensitygraph.palette=function(e){var i,n,r=document.createElement("canvas")
r.width="1",r.height="256"
var o,a=r.getContext("2d"),s=a.createLinearGradient(0,0,0,256),l=e.series.intensitygraph.gradient,d=l[0].value,c=l[l.length-1].value
if(c===d)s.addColorStop(0,l[0].color),s.addColorStop(1,l[0].color)
else for(i=0;i<l.length;i++)n=l[i].value,(o=(n-d)/(c-d))>=0&&o<=1&&s.addColorStop(o,l[i].color)
a.fillStyle=s,a.fillRect(0,0,1,256)
var h=[],u=a.getImageData(0,0,1,256).data
for(i=0;i<u.length;i++)h[i]=u[i]
var p=e.series.intensitygraph.lowColor,m=e.series.intensitygraph.highColor,f=t.color.parse(p),g=t.color.parse(m)
return h.push(0|f.r),h.push(0|f.g),h.push(0|f.b),h.push(255*f.a|0),h.push(0|g.r),h.push(0|g.g),h.push(0|g.b),h.push(255*g.a|0),h}(a)}})}}n.ColorScaleType="colorScale",n.prototype.drawLegend=function(e,t,i,n,r,o,a,s){var l,d,c=e.createLinearGradient(0,i+r,0,i),h=o[0].value,u=o[o.length-1].value
for(d=0;d<o.length;d++)(l=(o[d].value-h)/(u-h))>=0&&l<=1&&c.addColorStop(l,o[d].color)
e.fillStyle=c,e.fillRect(t,i,n,r),e.fillStyle=a,e.fillRect(t,i+r,n,7),e.strokeStyle="#000000",e.lineWidth=1,e.strokeRect(t-.5,i+r+.5,n+1,7),e.fillStyle=s,e.fillRect(t,i-7,n,7),e.strokeStyle="#000000",e.lineWidth=1,e.strokeRect(t-.5,i-7+.5,n+1,7)},n.prototype.isColorScale=i
var r=new n
t.plot.plugins.push({init:r.init,options:r.defaultOptions,name:r.pluginName,version:r.pluginVersion}),t.plot.IntensityGraph=n}(0,jQuery)
var xt=Object.freeze({})
!function(e){if("object"==typeof module&&module.exports)module.exports=e
else{const t=function(){if("undefined"!=typeof window)return window
if("undefined"!=typeof self)return self
if("undefined"!=typeof global)return global
throw new Error("unable to locate global object")}()
t.NationalInstrumentsWebSockets=e(t.WebSocket)}}(function(e){const t="Invalid URL or protocols LVError(21501)",i="WebSocket Error occurred LVError(21502)",n="Websocket connection closed LVError(21503)",r="Could not send message LVError(21504)",o="Unable to read message LVError(21505)",a="The network operation exceeded the user-specified or system time limit LVError(56)"
class s{constructor(){this._queue=[],this._pendingResolve=void 0,this._pendingReject=void 0,this._preDequeueTest=void 0}_clearPending(){this._pendingResolve=void 0,this._pendingReject=void 0,this._preDequeueTest=void 0}enqueue(e){if(void 0===this._queue)throw new Error(`The queue has already been destroyed, cannot enqueue new data: ${e}`)
if(this._queue.push(e),void 0!==this._pendingResolve){const e=this._pendingResolve,t=this._pendingReject,i=this._preDequeueTest
this._clearPending()
try{i(this._queue[0]),e(this._queue.shift())}catch(e){t(e)}}}dequeue(e,t){if(void 0===this._queue)throw new Error("The queue has already been destroyed, cannot dequeue any data.")
if(void 0!==this._pendingResolve)throw new Error(o)
return 0===this._queue.length?new Promise((i,n)=>{this._pendingResolve=i,this._pendingReject=n,this._preDequeueTest=t,e(()=>{this._pendingResolve===i&&this._clearPending()})}):(t(this._queue[0]),this._queue.shift())}destroy(){const e=this._queue
if(this._queue=void 0,void 0!==this._pendingResolve){const e=this._pendingReject
this._clearPending(),e(new Error("Pending dequeue operation failed due to queue destruction."))}return e}}const l=async function(e){try{return await e()}catch(e){return}},d=function(e){let t
return{timeoutPromise:new Promise((i,n)=>{if(Number.isNaN(e)||e<0)t=void 0
else if(0===e)t=void 0,n(new Error(a))
else{t=setTimeout(()=>{n(new Error(a))},e>2147483647?2147483647:e)}}),timeoutAbort:()=>{void 0!==t&&clearTimeout(t)}}},c=function(e,t){let i=()=>{}
return{messageDequeuePromise:e.dequeue(e=>{i=e},t),messageDequeueAbort:i}},h=Object.freeze({BINARY:"BINARY",STRING:"STRING"}),u=function(e){if("string"!=typeof e)throw new Error("Read string was used to read a non-string message LVError(21506)")},p=function(e){if(e instanceof ArrayBuffer==!1)throw new Error("Read byte array was used to read a non-binary message LVError(21507)")},m=function(e){switch(e){case h.STRING:return u
case h.BINARY:return p
default:throw new Error(`Unsupported message type: ${e}`)}}
class f{constructor(r,o){this._webSocket=void 0
try{this._webSocket=new e(r,o)}catch(e){throw new Error(t)}this._webSocket.binaryType="arraybuffer",this._messageQueue=new s
const a={open:void 0,close:void 0,error:void 0,message:void 0},l=()=>{Object.keys(a).forEach(e=>{this._webSocket.removeEventListener(e,a[e]),a[e]=void 0})}
this._opened=new Promise(e=>{a.open=(()=>{const t="string"==typeof this._webSocket.protocol?this._webSocket.protocol:""
e(t)})}),this._closed=new Promise((e,t)=>{a.close=(()=>{l(),t(new Error(n))})}),this._errored=new Promise((e,t)=>{a.error=(()=>{l(),t(new Error(i))})}),a.message=(e=>{this._messageQueue.enqueue(e.data)}),Object.keys(a).forEach(e=>{this._webSocket.addEventListener(e,a[e])})}async open(){return await Promise.race([this._errored,this._closed,this._opened])}send(e){try{this._webSocket.send(e)}catch(e){throw new Error(r)}}async read(e,t){const i=1e3*t,{timeoutPromise:n,timeoutAbort:r}=d(i),{messageDequeuePromise:o,messageDequeueAbort:a}=c(this._messageQueue,m(e))
try{const t=await Promise.race([o,this._errored,this._closed,n])
return e===h.BINARY?new Uint8Array(t):t}finally{a(),r()}}async close(){this._webSocket.close()
const e=l(async()=>await this._closed)
await Promise.race([e,this._errored]),this._messageQueue.destroy(),this._messageQueue=void 0}}let g=1
const v=new class{constructor(){this.refnums=new Map}createRefnum(e){const t=g
return g+=1,this.refnums.set(t,e),t}getObject(e){return this.refnums.get(e)}closeRefnum(e){this.refnums.delete(e)}},b=function(e){const t=v.getObject(e)
if(void 0===t)throw new Error("Invalid Refnum LVError(21500)")
return t},y=function(e,t){b(e).send(t)}
return{open:async function(e,t){const i=function(e){let t
try{t=JSON.parse(e)}catch(t){throw new Error(`Protocols is not a valid JSON format. Protocols JSON: ${e} Error message: ${t.message}`)}if(!1===Array.isArray(t)||!1===t.every(e=>"string"==typeof e))throw new Error(`Invalid format for protocols, expected an array of zero or more strings. Protocols JSON: ${e}`)
return t}(t),n=new f(e,i),r=await n.open(),o=v.createRefnum(n)
return JSON.stringify({refnum:o,protocol:r})},sendString:y,sendByteArray:y,readString:function(e,t){return b(e).read(h.STRING,t)},readByteArray:function(e,t){return b(e).read(h.BINARY,t)},close:async function(e){const t=b(e)
v.closeRefnum(e),await t.close()}}})
var Ct,St,Tt,It,Et,Pt,Dt,kt,At,jt,Mt,Nt,qt,Ot,Bt,Lt,Rt,Ht,Vt,Ft,zt,$t,Ut,Gt,Wt,Xt=Object.freeze({})
Ct=window,St=function(e){return new St.prototype.init(e)},"undefined"!=typeof require&&"undefined"!=typeof exports&&"undefined"!=typeof module?module.exports=St:Ct.Globalize=St,St.cultures={},St.prototype={constructor:St,init:function(e){return this.cultures=St.cultures,this.cultureSelector=e,this}},St.prototype.init.prototype=St.prototype,St.cultures.default={name:"en",englishName:"English",nativeName:"English",isRTL:!1,language:"en",numberFormat:{pattern:["-n"],decimals:2,",":",",".":".",groupSizes:[3],"+":"+","-":"-",NaN:"NaN",negativeInfinity:"-Infinity",positiveInfinity:"Infinity",percent:{pattern:["-n %","n %"],decimals:2,groupSizes:[3],",":",",".":".",symbol:"%"},currency:{pattern:["($n)","$n"],decimals:2,groupSizes:[3],",":",",".":".",symbol:"$"}},calendars:{standard:{name:"Gregorian_USEnglish","/":"/",":":":",firstDay:0,days:{names:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],namesAbbr:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],namesShort:["Su","Mo","Tu","We","Th","Fr","Sa"]},months:{names:["January","February","March","April","May","June","July","August","September","October","November","December",""],namesAbbr:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec",""]},AM:["AM","am","AM"],PM:["PM","pm","PM"],eras:[{name:"A.D.",start:null,offset:0}],twoDigitYearMax:2029,patterns:{d:"M/d/yyyy",D:"dddd, MMMM dd, yyyy",t:"h:mm tt",T:"h:mm:ss tt",f:"dddd, MMMM dd, yyyy h:mm tt",F:"dddd, MMMM dd, yyyy h:mm:ss tt",M:"MMMM dd",Y:"yyyy MMMM",S:"yyyy'-'MM'-'dd'T'HH':'mm':'ss"}}},messages:{}},St.cultures.default.calendar=St.cultures.default.calendars.standard,St.cultures.en=St.cultures.default,St.cultureSelector="en",Tt=/^0x[a-f0-9]+$/i,It=/^[+\-]?infinity$/i,Et=/^[+\-]?\d*\.?\d*(e[+\-]?\d+)?$/,Pt=/^\s+|\s+$/g,Dt=function(e,t){if(e.indexOf)return e.indexOf(t)
for(var i=0,n=e.length;i<n;i++)if(e[i]===t)return i
return-1},kt=function(e,t){return e.substr(e.length-t.length)===t},At=function(){var e,t,i,n,r,o,a=arguments[0]||{},s=1,l=arguments.length,d=!1
for("boolean"==typeof a&&(d=a,a=arguments[1]||{},s=2),"object"==typeof a||Mt(a)||(a={});s<l;s++)if(null!=(e=arguments[s]))for(t in e)i=a[t],a!==(n=e[t])&&(d&&n&&(Nt(n)||(r=jt(n)))?(r?(r=!1,o=i&&jt(i)?i:[]):o=i&&Nt(i)?i:{},a[t]=At(d,o,n)):void 0!==n&&(a[t]=n))
return a},jt=Array.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)},Mt=function(e){return"[object Function]"===Object.prototype.toString.call(e)},Nt=function(e){return"[object Object]"===Object.prototype.toString.call(e)},qt=function(e,t){return 0===e.indexOf(t)},Ot=function(e){return(e+"").replace(Pt,"")},Bt=function(e){return isNaN(e)?NaN:Math[e<0?"ceil":"floor"](e)},Lt=function(e,t,i){var n
for(n=e.length;n<t;n+=1)e=i?"0"+e:e+"0"
return e},Rt=function(e,t){for(var i=0,n=!1,r=0,o=e.length;r<o;r++){var a=e.charAt(r)
switch(a){case"'":n?t.push("'"):i++,n=!1
break
case"\\":n&&t.push("\\"),n=!n
break
default:t.push(a),n=!1}}return i},Ht=function(e,t){t=t||"F"
var i,n=e.patterns,r=t.length
if(1===r){if(!(i=n[t]))throw"Invalid date format string '"+t+"'."
t=i}else 2===r&&"%"===t.charAt(0)&&(t=t.charAt(1))
return t},Vt=function(e,t,i){function n(e,t){if(e<0)return"-"+n(-e,t)
var i,r=e+""
return t>1&&r.length<t?(i=g[t-2]+r).substr(i.length-t,t):i=r}function r(e,t){if(f)return f[t]
switch(t){case 0:return e.getFullYear()
case 1:return e.getMonth()
case 2:return e.getDate()
default:throw"Invalid part value "+t}}var o,a=i.calendar,s=a.convert
if(!t||!t.length||"i"===t){if(i&&i.name.length)if(s)o=Vt(e,a.patterns.F,i)
else{var l=new Date(e.getTime()),d=$t(e,a.eras)
l.setFullYear(Ut(e,a,d)),o=l.toLocaleString()}else o=e.toString()
return o}var c=a.eras,h="s"===t
t=Ht(a,t),o=[]
var u,p,m,f,g=["0","00","000"],v=/([^d]|^)(d|dd)([^d]|$)/g,b=0,y=zt()
for(!h&&s&&(f=s.fromGregorian(e));;){var _=y.lastIndex,w=y.exec(t),x=t.slice(_,w?w.index:t.length)
if(b+=Rt(x,o),!w)break
if(b%2)o.push(w[0])
else{var C=w[0],S=C.length
switch(C){case"ddd":case"dddd":var T=3===S?a.days.namesAbbr:a.days.names
o.push(T[e.getDay()])
break
case"d":case"dd":p=!0,o.push(n(r(e,2),S))
break
case"MMM":case"MMMM":var I=r(e,1)
o.push(a.monthsGenitive&&(p||m?p:(p=v.test(t),m=!0,p))?a.monthsGenitive[3===S?"namesAbbr":"names"][I]:a.months[3===S?"namesAbbr":"names"][I])
break
case"M":case"MM":o.push(n(r(e,1)+1,S))
break
case"y":case"yy":case"yyyy":I=f?f[0]:Ut(e,a,$t(e,c),h),S<4&&(I%=100),o.push(n(I,S))
break
case"h":case"hh":0==(u=e.getHours()%12)&&(u=12),o.push(n(u,S))
break
case"H":case"HH":o.push(n(e.getHours(),S))
break
case"m":case"mm":o.push(n(e.getMinutes(),S))
break
case"s":case"ss":o.push(n(e.getSeconds(),S))
break
case"t":case"tt":I=e.getHours()<12?a.AM?a.AM[0]:" ":a.PM?a.PM[0]:" ",o.push(1===S?I.charAt(0):I)
break
case"f":case"ff":case"fff":o.push(n(e.getMilliseconds(),3).substr(0,S))
break
case"z":case"zz":u=e.getTimezoneOffset()/60,o.push((u<=0?"+":"-")+n(Math.floor(Math.abs(u)),S))
break
case"zzz":u=e.getTimezoneOffset()/60,o.push((u<=0?"+":"-")+n(Math.floor(Math.abs(u)),2)+":"+n(Math.abs(e.getTimezoneOffset()%60),2))
break
case"g":case"gg":a.eras&&o.push(a.eras[$t(e,c)].name)
break
case"/":o.push(a["/"])
break
default:throw"Invalid date format pattern '"+C+"'."}}}return o.join("")},function(){var e
e=function(e,t,i){var n=i.groupSizes,r=n[0],o=1,a=Math.pow(10,t),s=Math.round(e*a)/a
isFinite(s)||(s=e)
var l=(e=s)+"",d="",c=l.split(/e/i),h=c.length>1?parseInt(c[1],10):0
c=(l=c[0]).split("."),l=c[0],d=c.length>1?c[1]:"",h>0?(l+=(d=Lt(d,h,!1)).slice(0,h),d=d.substr(h)):h<0&&(d=(l=Lt(l,1+(h=-h),!0)).slice(-h,l.length)+d,l=l.slice(0,-h)),d=t>0?i["."]+(d.length>t?d.slice(0,t):Lt(d,t)):""
for(var u=l.length-1,p=i[","],m="";u>=0;){if(0===r||r>u)return l.slice(0,u+1)+(m.length?p+m+d:d)
m=l.slice(u-r+1,u+1)+(m.length?p+m:""),u-=r,o<n.length&&(r=n[o],o++)}return l.slice(0,u+1)+p+m+d},Ft=function(t,i,n){if(!isFinite(t))return t===1/0?n.numberFormat.positiveInfinity:t===-1/0?n.numberFormat.negativeInfinity:n.numberFormat.NaN
if(!i||"i"===i)return n.name.length?t.toLocaleString():t.toString()
i=i||"D"
var r,o=n.numberFormat,a=Math.abs(t),s=-1
i.length>1&&(s=parseInt(i.slice(1),10))
var l,d=i.charAt(0).toUpperCase()
switch(d){case"D":r="n",a=Bt(a),-1!==s&&(a=Lt(""+a,s,!0)),t<0&&(a="-"+a)
break
case"N":l=o
case"C":l=l||o.currency
case"P":l=l||o.percent,r=t<0?l.pattern[0]:l.pattern[1]||"n",-1===s&&(s=l.decimals),a=e(a*("P"===d?100:1),s,l)
break
default:throw"Bad number format specifier: "+d}for(var c=/n|\$|-|%/g,h="";;){var u=c.lastIndex,p=c.exec(r)
if(h+=r.slice(u,p?p.index:r.length),!p)break
switch(p[0]){case"n":h+=a
break
case"$":h+=o.currency.symbol
break
case"-":/[1-9]/.test(a)&&(h+=o["-"])
break
case"%":h+=o.percent.symbol}}return h}}(),zt=function(){return/\/|dddd|ddd|dd|d|MMMM|MMM|MM|M|yyyy|yy|y|hh|h|HH|H|mm|m|ss|s|tt|t|fff|ff|f|zzz|zz|z|gg|g/g},$t=function(e,t){if(!t)return 0
for(var i,n=e.getTime(),r=0,o=t.length;r<o;r++)if(null===(i=t[r].start)||n>=i)return r
return 0},Ut=function(e,t,i,n){var r=e.getFullYear()
return!n&&t.eras&&(r-=t.eras[i].offset),r},function(){var e,t,i,n,r,o,a
e=function(e,t){if(t<100){var i=new Date,n=$t(i),r=Ut(i,e,n),o=e.twoDigitYearMax;(t+=r-r%100)>(o="string"==typeof o?(new Date).getFullYear()%100+parseInt(o,10):o)&&(t-=100)}return t},t=function(e,t,i){var n,r=e.days,s=e._upperDays
return s||(e._upperDays=s=[a(r.names),a(r.namesAbbr),a(r.namesShort)]),t=o(t),i?-1===(n=Dt(s[1],t))&&(n=Dt(s[2],t)):n=Dt(s[0],t),n},i=function(e,t,i){var n=e.months,r=e.monthsGenitive||e.months,s=e._upperMonths,l=e._upperMonthsGen
s||(e._upperMonths=s=[a(n.names),a(n.namesAbbr)],e._upperMonthsGen=l=[a(r.names),a(r.namesAbbr)]),t=o(t)
var d=Dt(i?s[1]:s[0],t)
return d<0&&(d=Dt(i?l[1]:l[0],t)),d},n=function(e,t){var i=e._parseRegExp
if(i){var n=i[t]
if(n)return n}else e._parseRegExp=i={}
for(var r,o=Ht(e,t).replace(/([\^\$\.\*\+\?\|\[\]\(\)\{\}])/g,"\\\\$1"),a=["^"],s=[],l=0,d=0,c=zt();null!==(r=c.exec(o));){var h=o.slice(l,r.index)
if(l=c.lastIndex,(d+=Rt(h,a))%2)a.push(r[0])
else{var u,p=r[0],m=p.length
switch(p){case"dddd":case"ddd":case"MMMM":case"MMM":case"gg":case"g":u="(\\D+)"
break
case"tt":case"t":u="(\\D*)"
break
case"yyyy":case"fff":case"ff":case"f":u="(\\d{"+m+"})"
break
case"dd":case"d":case"MM":case"M":case"yy":case"y":case"HH":case"H":case"hh":case"h":case"mm":case"m":case"ss":case"s":u="(\\d\\d?)"
break
case"zzz":u="([+-]?\\d\\d?:\\d{2})"
break
case"zz":case"z":u="([+-]?\\d\\d?)"
break
case"/":u="(\\/)"
break
default:throw"Invalid date format pattern '"+p+"'."}u&&a.push(u),s.push(r[0])}}Rt(o.slice(l),a),a.push("$")
var f={regExp:a.join("").replace(/\s+/g,"\\s+"),groups:s}
return i[t]=f},r=function(e,t,i){return e<t||e>i},o=function(e){return e.split(" ").join(" ").toUpperCase()},a=function(e){for(var t=[],i=0,n=e.length;i<n;i++)t[i]=o(e[i])
return t},Gt=function(o,a,s){o=Ot(o)
var l=s.calendar,d=n(l,a),c=new RegExp(d.regExp).exec(o)
if(null===c)return null
for(var h,u=d.groups,p=null,m=null,f=null,g=null,v=null,b=0,y=0,_=0,w=0,x=null,C=!1,S=0,T=u.length;S<T;S++){var I=c[S+1]
if(I){var E=u[S],P=E.length,D=parseInt(I,10)
switch(E){case"dd":case"d":if(r(g=D,1,31))return null
break
case"MMM":case"MMMM":if(f=i(l,I,3===P),r(f,0,11))return null
break
case"M":case"MM":if(r(f=D-1,0,11))return null
break
case"y":case"yy":case"yyyy":if(m=P<4?e(l,D):D,r(m,0,9999))return null
break
case"h":case"hh":if(12===(b=D)&&(b=0),r(b,0,11))return null
break
case"H":case"HH":if(r(b=D,0,23))return null
break
case"m":case"mm":if(r(y=D,0,59))return null
break
case"s":case"ss":if(r(_=D,0,59))return null
break
case"tt":case"t":if(!(C=l.PM&&(I===l.PM[0]||I===l.PM[1]||I===l.PM[2]))&&(!l.AM||I!==l.AM[0]&&I!==l.AM[1]&&I!==l.AM[2]))return null
break
case"f":case"ff":case"fff":if(w=D*Math.pow(10,3-P),r(w,0,999))return null
break
case"ddd":case"dddd":if(v=t(l,I,3===P),r(v,0,6))return null
break
case"zzz":var k=I.split(/:/)
if(2!==k.length)return null
if(h=parseInt(k[0],10),r(h,-12,13))return null
var A=parseInt(k[1],10)
if(r(A,0,59))return null
x=60*h+(qt(I,"-")?-A:A)
break
case"z":case"zz":if(r(h=D,-12,13))return null
x=60*h
break
case"g":case"gg":var j=I
if(!j||!l.eras)return null
j=Ot(j.toLowerCase())
for(var M=0,N=l.eras.length;M<N;M++)if(j===l.eras[M].name.toLowerCase()){p=M
break}if(null===p)return null}}}var q,O=new Date,B=l.convert
if(q=B?B.fromGregorian(O)[0]:O.getFullYear(),null===m?m=q:l.eras&&(m+=l.eras[p||0].offset),null===f&&(f=0),null===g&&(g=1),B){if(null===(O=B.toGregorian(m,f,g)))return null}else{if(O.setFullYear(m,f,g),O.getDate()!==g)return null
if(null!==v&&O.getDay()!==v)return null}if(C&&b<12&&(b+=12),O.setHours(b,y,_,w),null!==x){var L=O.getMinutes()-(x+O.getTimezoneOffset())
O.setHours(O.getHours()+parseInt(L/60,10),L%60)}return O}}(),Wt=function(e,t,i){var n,r=t["-"],o=t["+"]
switch(i){case"n -":r=" "+r,o=" "+o
case"n-":kt(e,r)?n=["-",e.substr(0,e.length-r.length)]:kt(e,o)&&(n=["+",e.substr(0,e.length-o.length)])
break
case"- n":r+=" ",o+=" "
case"-n":qt(e,r)?n=["-",e.substr(r.length)]:qt(e,o)&&(n=["+",e.substr(o.length)])
break
case"(n)":qt(e,"(")&&kt(e,")")&&(n=["-",e.substr(1,e.length-2)])}return n||["",e]},St.prototype.findClosestCulture=function(e){return St.findClosestCulture.call(this,e)},St.prototype.format=function(e,t,i){return St.format.call(this,e,t,i)},St.prototype.localize=function(e,t){return St.localize.call(this,e,t)},St.prototype.parseInt=function(e,t,i){return St.parseInt.call(this,e,t,i)},St.prototype.parseFloat=function(e,t,i){return St.parseFloat.call(this,e,t,i)},St.prototype.culture=function(e){return St.culture.call(this,e)},St.addCultureInfo=function(e,t,i){var n={},r=!1
"string"!=typeof e?(i=e,e=this.culture().name,n=this.cultures[e]):"string"!=typeof t?(i=t,r=null==this.cultures[e],n=this.cultures[e]||this.cultures.default):(r=!0,n=this.cultures[t]),this.cultures[e]=At(!0,{},n,i),r&&(this.cultures[e].calendar=this.cultures[e].calendars.standard)},St.findClosestCulture=function(e){var t
if(!e)return this.findClosestCulture(this.cultureSelector)||this.cultures.default
if("string"==typeof e&&(e=e.split(",")),jt(e)){var i,n,r=this.cultures,o=e,a=o.length,s=[]
for(n=0;n<a;n++){var l,d=(e=Ot(o[n])).split(";")
i=Ot(d[0]),1===d.length?l=1:0===(e=Ot(d[1])).indexOf("q=")?(e=e.substr(2),l=parseFloat(e),l=isNaN(l)?0:l):l=1,s.push({lang:i,pri:l})}for(s.sort(function(e,t){return e.pri<t.pri?1:e.pri>t.pri?-1:0}),n=0;n<a;n++)if(t=r[i=s[n].lang])return t
for(n=0;n<a;n++)for(i=s[n].lang;;){var c=i.lastIndexOf("-")
if(-1===c)break
if(t=r[i=i.substr(0,c)])return t}for(n=0;n<a;n++)for(var h in i=s[n].lang,r){var u=r[h]
if(u.language==i)return u}}else if("object"==typeof e)return e
return t||null},St.format=function(e,t,i){var n=this.findClosestCulture(i)
return e instanceof Date?e=Vt(e,t,n):"number"==typeof e&&(e=Ft(e,t,n)),e},St.localize=function(e,t){return this.findClosestCulture(t).messages[e]||this.cultures.default.messages[e]},St.parseDate=function(e,t,i){var n,r,o
if(i=this.findClosestCulture(i),t){if("string"==typeof t&&(t=[t]),t.length)for(var a=0,s=t.length;a<s;a++){var l=t[a]
if(l&&(n=Gt(e,l,i)))break}}else for(r in o=i.calendar.patterns)if(n=Gt(e,o[r],i))break
return n||null},St.parseInt=function(e,t,i){return Bt(St.parseFloat(e,t,i))},St.parseFloat=function(e,t,i){"number"!=typeof t&&(i=t,t=10)
var n=this.findClosestCulture(i),r=NaN,o=n.numberFormat
if(e.indexOf(n.numberFormat.currency.symbol)>-1&&(e=(e=e.replace(n.numberFormat.currency.symbol,"")).replace(n.numberFormat.currency["."],n.numberFormat["."])),e.indexOf(n.numberFormat.percent.symbol)>-1&&(e=e.replace(n.numberFormat.percent.symbol,"")),e=e.replace(/ /g,""),It.test(e))r=parseFloat(e)
else if(!t&&Tt.test(e))r=parseInt(e,16)
else{var a=Wt(e,o,o.pattern[0]),s=a[0],l=a[1]
""===s&&"(n)"!==o.pattern[0]&&(s=(a=Wt(e,o,"(n)"))[0],l=a[1]),""===s&&"-n"!==o.pattern[0]&&(s=(a=Wt(e,o,"-n"))[0],l=a[1]),s=s||"+"
var d,c,h=l.indexOf("e")
h<0&&(h=l.indexOf("E")),h<0?(c=l,d=null):(c=l.substr(0,h),d=l.substr(h+1))
var u,p,m=o["."],f=c.indexOf(m)
f<0?(u=c,p=null):(u=c.substr(0,f),p=c.substr(f+m.length))
var g=o[","]
u=u.split(g).join("")
var v=g.replace(/\u00A0/g," ")
g!==v&&(u=u.split(v).join(""))
var b=s+u
if(null!==p&&(b+="."+p),null!==d){var y=Wt(d,o,"-n")
b+="e"+(y[0]||"+")+y[1]}Et.test(b)&&(r=parseFloat(b))}return r},St.culture=function(e){return void 0!==e&&(this.cultureSelector=e),this.findClosestCulture(e)||this.cultures.default}
var Jt=Object.freeze({})
!function(){var e
e=window,("undefined"!=typeof require&&"undefined"!=typeof exports&&"undefined"!=typeof module?require("globalize"):e.Globalize).addCultureInfo("en-US","default",{name:"en-US",englishName:"English (United States)"})}()
var Yt=Object.freeze({})
document.all&&!document.addEventListener||function(e,t){var i,n,r,o=!!e.ActiveXObject&&function(){for(var e in i)i[e](0,1)},a=0,s=e.document,l=(e.location,e.navigator),d=e.JQXLite,c=e.$,h=Array.prototype.push,u=Array.prototype.slice,p=Array.prototype.indexOf,m=Object.prototype.toString,f=Object.prototype.hasOwnProperty,g=String.prototype.trim,v=function(e,t){return new v.fn.init(e,t,n)},b=/[\-+]?(?:\d*\.|)\d+(?:[eE][\-+]?\d+|)/.source,y=/\S/,_=/\s+/,w=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,x=/^(?:[^#<]*(<[\w\W]+>)[^>]*$|#([\w\-]*)$)/,C=/^<(\w+)\s*\/?>(?:<\/\1>|)$/,S=/^[\],:{}\s]*$/,T=/(?:^|:|,)(?:\s*\[)+/g,I=/\\(?:["\\\/bfnrt]|u[\da-fA-F]{4})/g,E=/"[^"\\\r\n]*"|true|false|null|-?(?:\d\d*\.|)\d+(?:[eE][\-+]?\d+|)/g,P=/^-ms-/,D=/-([\da-z])/gi,k=function(e,t){return(t+"").toUpperCase()},A=function(){s.addEventListener?(s.removeEventListener("DOMContentLoaded",A,!1),v.ready()):"complete"===s.readyState&&(s.detachEvent("onreadystatechange",A),v.ready())},j={}
v.fn=v.prototype={constructor:v,init:function(e,i,n){var r,o,a
if(!e)return this
if(e.nodeType)return this.context=this[0]=e,this.length=1,this
if("string"==typeof e){if(!(r="<"===e.charAt(0)&&">"===e.charAt(e.length-1)&&e.length>=3?[null,e,null]:x.exec(e))||!r[1]&&i)return!i||i.jqx?(i||n).find(e):this.constructor(i).find(e)
if(r[1])return a=(i=i instanceof v?i[0]:i)&&i.nodeType?i.ownerDocument||i:s,e=v.parseHTML(r[1],a,!0),C.test(r[1])&&v.isPlainObject(i)&&this.attr.call(e,i,!0),v.merge(this,e)
if((o=s.getElementById(r[2]))&&o.parentNode){if(o.id!==r[2])return n.find(e)
this.length=1,this[0]=o}return this.context=s,this.selector=e,this}return v.isFunction(e)?n.ready(e):(e.selector!==t&&(this.selector=e.selector,this.context=e.context),v.makeArray(e,this))},selector:"",jqx:"4.5.0",length:0,size:function(){return this.length},toArray:function(){return u.call(this)},get:function(e){return null==e?this.toArray():e<0?this[this.length+e]:this[e]},pushStack:function(e,t,i){var n=v.merge(this.constructor(),e)
return n.prevObject=this,n.context=this.context,"find"===t?n.selector=this.selector+(this.selector?" ":"")+i:t&&(n.selector=this.selector+"."+t+"("+i+")"),n},each:function(e,t){return v.each(this,e,t)},ready:function(e){return v.ready.promise().done(e),this},eq:function(e){return-1==(e=+e)?this.slice(e):this.slice(e,e+1)},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},slice:function(){return this.pushStack(u.apply(this,arguments),"slice",u.call(arguments).join(","))},map:function(e){return this.pushStack(v.map(this,function(t,i){return e.call(t,i,t)}))},end:function(){return this.prevObject||this.constructor(null)},push:h,sort:[].sort,splice:[].splice},v.fn.init.prototype=v.fn,v.extend=v.fn.extend=function(){var e,i,n,r,o,a,s=arguments[0]||{},l=1,d=arguments.length,c=!1
for("boolean"==typeof s&&(c=s,s=arguments[1]||{},l=2),"object"==typeof s||v.isFunction(s)||(s={}),d===l&&(s=this,--l);l<d;l++)if(null!=(e=arguments[l]))for(i in e)n=s[i],s!==(r=e[i])&&(c&&r&&(v.isPlainObject(r)||(o=v.isArray(r)))?(o?(o=!1,a=n&&v.isArray(n)?n:[]):a=n&&v.isPlainObject(n)?n:{},s[i]=v.extend(c,a,r)):r!==t&&(s[i]=r))
return s},v.extend({noConflict:function(t){return e.$===v&&(e.$=c),t&&e.JQXLite===v&&(e.JQXLite=d),v},isReady:!1,readyWait:1,holdReady:function(e){e?v.readyWait++:v.ready(!0)},ready:function(e){if(!0===e?!--v.readyWait:!v.isReady){if(!s.body)return setTimeout(v.ready,1)
v.isReady=!0,!0!==e&&--v.readyWait>0||(r.resolveWith(s,[v]),v.fn.trigger&&v(s).trigger("ready").off("ready"))}},isFunction:function(e){return"function"===v.type(e)},isArray:Array.isArray||function(e){return"array"===v.type(e)},isWindow:function(e){return null!=e&&e==e.window},isNumeric:function(e){return!isNaN(parseFloat(e))&&isFinite(e)},type:function(e){return null==e?String(e):j[m.call(e)]||"object"},isPlainObject:function(e){if(!e||"object"!==v.type(e)||e.nodeType||v.isWindow(e))return!1
try{if(e.constructor&&!f.call(e,"constructor")&&!f.call(e.constructor.prototype,"isPrototypeOf"))return!1}catch(e){return!1}var i
for(i in e);return i===t||f.call(e,i)},isEmptyObject:function(e){var t
for(t in e)return!1
return!0},error:function(e){throw new Error(e)},parseHTML:function(e,t,i){var n
return e&&"string"==typeof e?("boolean"==typeof t&&(i=t,t=0),t=t||s,(n=C.exec(e))?[t.createElement(n[1])]:(n=v.buildFragment([e],t,i?null:[]),v.merge([],(n.cacheable?v.clone(n.fragment):n.fragment).childNodes))):null},parseJSON:function(t){return t&&"string"==typeof t?(t=v.trim(t),e.JSON&&e.JSON.parse?e.JSON.parse(t):S.test(t.replace(I,"@").replace(E,"]").replace(T,""))?new Function("return "+t)():void v.error("Invalid JSON: "+t)):null},parseXML:function(i){var n
if(!i||"string"!=typeof i)return null
try{e.DOMParser?n=(new DOMParser).parseFromString(i,"text/xml"):((n=new ActiveXObject("Microsoft.XMLDOM")).async="false",n.loadXML(i))}catch(e){n=t}return n&&n.documentElement&&!n.getElementsByTagName("parsererror").length||v.error("Invalid XML: "+i),n},noop:function(){},globalEval:function(t){t&&y.test(t)&&(e.execScript||function(t){e.eval.call(e,t)})(t)},camelCase:function(e){return e.replace(P,"ms-").replace(D,k)},nodeName:function(e,t){return e.nodeName&&e.nodeName.toLowerCase()===t.toLowerCase()},each:function(e,i,n){var r,o=0,a=e.length,s=a===t||v.isFunction(e)
if(n)if(s){for(r in e)if(!1===i.apply(e[r],n))break}else for(;o<a&&!1!==i.apply(e[o++],n););else if(s){for(r in e)if(!1===i.call(e[r],r,e[r]))break}else for(;o<a&&!1!==i.call(e[o],o,e[o++]););return e},trim:g&&!g.call("\ufeff ")?function(e){return null==e?"":g.call(e)}:function(e){return null==e?"":(e+"").replace(w,"")},makeArray:function(e,t){var i,n=t||[]
return null!=e&&(i=v.type(e),null==e.length||"string"===i||"function"===i||"regexp"===i||v.isWindow(e)?h.call(n,e):v.merge(n,e)),n},inArray:function(e,t,i){var n
if(t){if(p)return p.call(t,e,i)
for(n=t.length,i=i?i<0?Math.max(0,n+i):i:0;i<n;i++)if(i in t&&t[i]===e)return i}return-1},merge:function(e,i){var n=i.length,r=e.length,o=0
if("number"==typeof n)for(;o<n;o++)e[r++]=i[o]
else for(;i[o]!==t;)e[r++]=i[o++]
return e.length=r,e},grep:function(e,t,i){var n=[],r=0,o=e.length
for(i=!!i;r<o;r++)i!==!!t(e[r],r)&&n.push(e[r])
return n},map:function(e,i,n){var r,o,a=[],s=0,l=e.length
if(e instanceof v||l!==t&&"number"==typeof l&&(l>0&&e[0]&&e[l-1]||0===l||v.isArray(e)))for(;s<l;s++)null!=(r=i(e[s],s,n))&&(a[a.length]=r)
else for(o in e)null!=(r=i(e[o],o,n))&&(a[a.length]=r)
return a.concat.apply([],a)},guid:1,proxy:function(e,i){var n,r,o
return"string"==typeof i&&(n=e[i],i=e,e=n),v.isFunction(e)?(r=u.call(arguments,2),(o=function(){return e.apply(i,r.concat(u.call(arguments)))}).guid=e.guid=e.guid||v.guid++,o):t},access:function(e,i,n,r,o,a,s){var l,d=null==n,c=0,h=e.length
if(n&&"object"==typeof n){for(c in n)v.access(e,i,c,n[c],1,a,r)
o=1}else if(r!==t){if(l=s===t&&v.isFunction(r),d&&(l?(l=i,i=function(e,t,i){return l.call(v(e),i)}):(i.call(e,r),i=null)),i)for(;c<h;c++)i(e[c],n,l?r.call(e[c],c,i(e[c],n)):r,s)
o=1}return o?e:d?i.call(e):h?i(e[0],n):a},now:function(){return(new Date).getTime()}}),v.ready.promise=function(t){if(!r)if(r=v.Deferred(),"complete"===s.readyState)setTimeout(v.ready,1)
else if(s.addEventListener)s.addEventListener("DOMContentLoaded",A,!1),e.addEventListener("load",v.ready,!1)
else{s.attachEvent("onreadystatechange",A),e.attachEvent("onload",v.ready)
var i=!1
try{i=null==e.frameElement&&s.documentElement}catch(e){}i&&i.doScroll&&function e(){if(!v.isReady){try{i.doScroll("left")}catch(t){return setTimeout(e,50)}v.ready()}}()}return r.promise(t)},v.each("Boolean Number String Function Array Date RegExp Object".split(" "),function(e,t){j["[object "+t+"]"]=t.toLowerCase()}),n=v(s)
var M={}
v.Callbacks=function(e){e="string"==typeof e?M[e]||function(e){var t=M[e]={}
return v.each(e.split(_),function(e,i){t[i]=!0}),t}(e):v.extend({},e)
var i,n,r,o,a,s,l=[],d=!e.once&&[],c=function(t){for(i=e.memory&&t,n=!0,s=o||0,o=0,a=l.length,r=!0;l&&s<a;s++)if(!1===l[s].apply(t[0],t[1])&&e.stopOnFalse){i=!1
break}r=!1,l&&(d?d.length&&c(d.shift()):i?l=[]:h.disable())},h={add:function(){if(l){var t=l.length
!function t(i){v.each(i,function(i,n){var r=v.type(n)
"function"===r?e.unique&&h.has(n)||l.push(n):n&&n.length&&"string"!==r&&t(n)})}(arguments),r?a=l.length:i&&(o=t,c(i))}return this},remove:function(){return l&&v.each(arguments,function(e,t){for(var i;(i=v.inArray(t,l,i))>-1;)l.splice(i,1),r&&(i<=a&&a--,i<=s&&s--)}),this},has:function(e){return v.inArray(e,l)>-1},empty:function(){return l=[],this},disable:function(){return l=d=i=t,this},disabled:function(){return!l},lock:function(){return d=t,i||h.disable(),this},locked:function(){return!d},fireWith:function(e,t){return t=[e,(t=t||[]).slice?t.slice():t],!l||n&&!d||(r?d.push(t):c(t)),this},fire:function(){return h.fireWith(this,arguments),this},fired:function(){return!!n}}
return h},v.extend({Deferred:function(e){var t=[["resolve","done",v.Callbacks("once memory"),"resolved"],["reject","fail",v.Callbacks("once memory"),"rejected"],["notify","progress",v.Callbacks("memory")]],i="pending",n={state:function(){return i},always:function(){return r.done(arguments).fail(arguments),this},then:function(){var e=arguments
return v.Deferred(function(i){v.each(t,function(t,n){var o=n[0],a=e[t]
r[n[1]](v.isFunction(a)?function(){var e=a.apply(this,arguments)
e&&v.isFunction(e.promise)?e.promise().done(i.resolve).fail(i.reject).progress(i.notify):i[o+"With"](this===r?i:this,[e])}:i[o])}),e=null}).promise()},promise:function(e){return null!=e?v.extend(e,n):n}},r={}
return n.pipe=n.then,v.each(t,function(e,o){var a=o[2],s=o[3]
n[o[1]]=a.add,s&&a.add(function(){i=s},t[1^e][2].disable,t[2][2].lock),r[o[0]]=a.fire,r[o[0]+"With"]=a.fireWith}),n.promise(r),e&&e.call(r,r),r},when:function(e){var t,i,n,r=0,o=u.call(arguments),a=o.length,s=1!==a||e&&v.isFunction(e.promise)?a:0,l=1===s?e:v.Deferred(),d=function(e,i,n){return function(r){i[e]=this,n[e]=arguments.length>1?u.call(arguments):r,n===t?l.notifyWith(i,n):--s||l.resolveWith(i,n)}}
if(a>1)for(t=new Array(a),i=new Array(a),n=new Array(a);r<a;r++)o[r]&&v.isFunction(o[r].promise)?o[r].promise().done(d(r,n,o)).fail(l.reject).progress(d(r,i,t)):--s
return s||l.resolveWith(n,o),l.promise()}}),v.support=function(){var t,i,n,r,o,a,l,d,c,h,u,p=s.createElement("div")
if(p.setAttribute("className","t"),p.innerHTML="  <link/><table></table><a href='/a'>a</a><input type='checkbox'/>",i=p.getElementsByTagName("*"),n=p.getElementsByTagName("a")[0],!i||!n||!i.length)return{}
o=(r=s.createElement("select")).appendChild(s.createElement("option")),a=p.getElementsByTagName("input")[0],n.style.cssText="top:1px;float:left;opacity:.5",t={leadingWhitespace:3===p.firstChild.nodeType,tbody:!p.getElementsByTagName("tbody").length,htmlSerialize:!!p.getElementsByTagName("link").length,style:/top/.test(n.getAttribute("style")),hrefNormalized:"/a"===n.getAttribute("href"),opacity:/^0.5/.test(n.style.opacity),cssFloat:!!n.style.cssFloat,checkOn:"on"===a.value,optSelected:o.selected,getSetAttribute:"t"!==p.className,enctype:!!s.createElement("form").enctype,html5Clone:"<:nav></:nav>"!==s.createElement("nav").cloneNode(!0).outerHTML,boxModel:"CSS1Compat"===s.compatMode,submitBubbles:!0,changeBubbles:!0,focusinBubbles:!1,deleteExpando:!0,noCloneEvent:!0,inlineBlockNeedsLayout:!1,shrinkWrapBlocks:!1,reliableMarginRight:!0,boxSizingReliable:!0,pixelPosition:!1},a.checked=!0,t.noCloneChecked=a.cloneNode(!0).checked,r.disabled=!0,t.optDisabled=!o.disabled
try{delete p.test}catch(e){t.deleteExpando=!1}if(!p.addEventListener&&p.attachEvent&&p.fireEvent&&(p.attachEvent("onclick",u=function(){t.noCloneEvent=!1}),p.cloneNode(!0).fireEvent("onclick"),p.detachEvent("onclick",u)),(a=s.createElement("input")).value="t",a.setAttribute("type","radio"),t.radioValue="t"===a.value,a.setAttribute("checked","checked"),a.setAttribute("name","t"),p.appendChild(a),(l=s.createDocumentFragment()).appendChild(p.lastChild),t.checkClone=l.cloneNode(!0).cloneNode(!0).lastChild.checked,t.appendChecked=a.checked,l.removeChild(a),l.appendChild(p),p.attachEvent)for(c in{submit:!0,change:!0,focusin:!0})(h=(d="on"+c)in p)||(p.setAttribute(d,"return;"),h="function"==typeof p[d]),t[c+"Bubbles"]=h
return v(function(){var i,n,r,o,a="padding:0;margin:0;border:0;display:block;overflow:hidden;",l=s.getElementsByTagName("body")[0]
l&&((i=s.createElement("div")).style.cssText="visibility:hidden;border:0;width:0;height:0;position:static;top:0;margin-top:1px",l.insertBefore(i,l.firstChild),n=s.createElement("div"),i.appendChild(n),n.innerHTML="<table><tr><td></td><td>t</td></tr></table>",(r=n.getElementsByTagName("td"))[0].style.cssText="padding:0;margin:0;border:0;display:none",h=0===r[0].offsetHeight,r[0].style.display="",r[1].style.display="none",t.reliableHiddenOffsets=h&&0===r[0].offsetHeight,n.innerHTML="",n.style.cssText="box-sizing:border-box;-moz-box-sizing:border-box;-webkit-box-sizing:border-box;padding:1px;border:1px;display:block;width:4px;margin-top:1%;position:absolute;top:1%;",t.boxSizing=4===n.offsetWidth,t.doesNotIncludeMarginInBodyOffset=1!==l.offsetTop,e.getComputedStyle&&(t.pixelPosition="1%"!==(e.getComputedStyle(n,null)||{}).top,t.boxSizingReliable="4px"===(e.getComputedStyle(n,null)||{width:"4px"}).width,(o=s.createElement("div")).style.cssText=n.style.cssText=a,o.style.marginRight=o.style.width="0",n.style.width="1px",n.appendChild(o),t.reliableMarginRight=!parseFloat((e.getComputedStyle(o,null)||{}).marginRight)),void 0!==n.style.zoom&&(n.innerHTML="",n.style.cssText=a+"width:1px;padding:1px;display:inline;zoom:1",t.inlineBlockNeedsLayout=3===n.offsetWidth,n.style.display="block",n.style.overflow="visible",n.innerHTML="<div></div>",n.firstChild.style.width="5px",t.shrinkWrapBlocks=3!==n.offsetWidth,i.style.zoom=1),l.removeChild(i),i=n=r=o=null)}),l.removeChild(p),i=n=r=o=a=l=p=null,t}()
var N=/(?:\{[\s\S]*\}|\[[\s\S]*\])$/,q=/([A-Z])/g
function O(e,i,n){if(n===t&&1===e.nodeType){var r="data-"+i.replace(q,"-$1").toLowerCase()
if("string"==typeof(n=e.getAttribute(r))){try{n="true"===n||"false"!==n&&("null"===n?null:+n+""===n?+n:N.test(n)?v.parseJSON(n):n)}catch(e){}v.data(e,i,n)}else n=t}return n}function B(e){var t
for(t in e)if(("data"!==t||!v.isEmptyObject(e[t]))&&"toJSON"!==t)return!1
return!0}v.extend({cache:{},deletedIds:[],uuid:0,expando:"JQXLite"+(v.fn.jqx+Math.random()).replace(/\D/g,""),noData:{embed:!0,object:"clsid:D27CDB6E-AE6D-11cf-96B8-444553540000",applet:!0},hasData:function(e){return!!(e=e.nodeType?v.cache[e[v.expando]]:e[v.expando])&&!B(e)},data:function(e,i,n,r){if(v.acceptData(e)){var o,a,s=v.expando,l="string"==typeof i,d=e.nodeType,c=d?v.cache:e,h=d?e[s]:e[s]&&s
if(h&&c[h]&&(r||c[h].data)||!l||n!==t)return h||(d?e[s]=h=v.deletedIds.pop()||v.guid++:h=s),c[h]||(c[h]={},d||(c[h].toJSON=v.noop)),"object"!=typeof i&&"function"!=typeof i||(r?c[h]=v.extend(c[h],i):c[h].data=v.extend(c[h].data,i)),o=c[h],r||(o.data||(o.data={}),o=o.data),n!==t&&(o[v.camelCase(i)]=n),l?null==(a=o[i])&&(a=o[v.camelCase(i)]):a=o,a}},removeData:function(e,t,i){if(v.acceptData(e)){var n,r,o,a=e.nodeType,s=a?v.cache:e,l=a?e[v.expando]:v.expando
if(s[l]){if(t&&(n=i?s[l]:s[l].data)){v.isArray(t)||(t=t in n?[t]:(t=v.camelCase(t))in n?[t]:t.split(" "))
for(r=0,o=t.length;r<o;r++)delete n[t[r]]
if(!(i?B:v.isEmptyObject)(n))return}(i||(delete s[l].data,B(s[l])))&&(a?v.cleanData([e],!0):v.support.deleteExpando||s!=s.window?delete s[l]:s[l]=null)}}},_data:function(e,t,i){return v.data(e,t,i,!0)},acceptData:function(e){var t=e.nodeName&&v.noData[e.nodeName.toLowerCase()]
return!t||!0!==t&&e.getAttribute("classid")===t}}),v.fn.extend({data:function(e,i){var n,r,o,a,s,l=this[0],d=0,c=null
if(e===t){if(this.length&&(c=v.data(l),1===l.nodeType&&!v._data(l,"parsedAttrs"))){for(s=(o=l.attributes).length;d<s;d++)(a=o[d].name).indexOf("data-")||(a=v.camelCase(a.substring(5)),O(l,a,c[a]))
v._data(l,"parsedAttrs",!0)}return c}return"object"==typeof e?this.each(function(){v.data(this,e)}):((n=e.split(".",2))[1]=n[1]?"."+n[1]:"",r=n[1]+"!",v.access(this,function(i){if(i===t)return(c=this.triggerHandler("getData"+r,[n[0]]))===t&&l&&(c=v.data(l,e),c=O(l,e,c)),c===t&&n[1]?this.data(n[0]):c
n[1]=i,this.each(function(){var t=v(this)
t.triggerHandler("setData"+r,n),v.data(this,e,i),t.triggerHandler("changeData"+r,n)})},null,i,arguments.length>1,null,!1))},removeData:function(e){return this.each(function(){v.removeData(this,e)})}}),v.extend({queue:function(e,t,i){var n
if(e)return t=(t||"fx")+"queue",n=v._data(e,t),i&&(!n||v.isArray(i)?n=v._data(e,t,v.makeArray(i)):n.push(i)),n||[]},dequeue:function(e,t){t=t||"fx"
var i=v.queue(e,t),n=i.length,r=i.shift(),o=v._queueHooks(e,t)
"inprogress"===r&&(r=i.shift(),n--),r&&("fx"===t&&i.unshift("inprogress"),delete o.stop,r.call(e,function(){v.dequeue(e,t)},o)),!n&&o&&o.empty.fire()},_queueHooks:function(e,t){var i=t+"queueHooks"
return v._data(e,i)||v._data(e,i,{empty:v.Callbacks("once memory").add(function(){v.removeData(e,t+"queue",!0),v.removeData(e,i,!0)})})}}),v.fn.extend({queue:function(e,i){var n=2
return"string"!=typeof e&&(i=e,e="fx",n--),arguments.length<n?v.queue(this[0],e):i===t?this:this.each(function(){var t=v.queue(this,e,i)
v._queueHooks(this,e),"fx"===e&&"inprogress"!==t[0]&&v.dequeue(this,e)})},dequeue:function(e){return this.each(function(){v.dequeue(this,e)})},delay:function(e,t){return e=v.fx&&v.fx.speeds[e]||e,t=t||"fx",this.queue(t,function(t,i){var n=setTimeout(t,e)
i.stop=function(){clearTimeout(n)}})},clearQueue:function(e){return this.queue(e||"fx",[])},promise:function(e,i){var n,r=1,o=v.Deferred(),a=this,s=this.length,l=function(){--r||o.resolveWith(a,[a])}
for("string"!=typeof e&&(i=e,e=t),e=e||"fx";s--;)(n=v._data(a[s],e+"queueHooks"))&&n.empty&&(r++,n.empty.add(l))
return l(),o.promise(i)}})
var L,R=/[\t\r\n]/g,H=/\r/g,V=/^(?:button|input)$/i,F=/^(?:button|input|object|select|textarea)$/i,z=/^a(?:rea|)$/i,$=/^(?:autofocus|autoplay|async|checked|controls|defer|disabled|hidden|loop|multiple|open|readonly|required|scoped|selected)$/i,U=v.support.getSetAttribute
v.fn.extend({attr:function(e,t){return v.access(this,v.attr,e,t,arguments.length>1)},removeAttr:function(e){return this.each(function(){v.removeAttr(this,e)})},prop:function(e,t){return v.access(this,v.prop,e,t,arguments.length>1)},removeProp:function(e){return e=v.propFix[e]||e,this.each(function(){try{this[e]=t,delete this[e]}catch(e){}})},addClass:function(e){var t,i,n,r,o,a,s
if(v.isFunction(e))return this.each(function(t){v(this).addClass(e.call(this,t,this.className))})
if(e&&"string"==typeof e)for(t=e.split(_),i=0,n=this.length;i<n;i++)if(1===(r=this[i]).nodeType)if(r.className||1!==t.length){for(o=" "+r.className+" ",a=0,s=t.length;a<s;a++)o.indexOf(" "+t[a]+" ")<0&&(o+=t[a]+" ")
r.className=v.trim(o)}else r.className=e
return this},removeClass:function(e){var i,n,r,o,a,s,l
if(v.isFunction(e))return this.each(function(t){v(this).removeClass(e.call(this,t,this.className))})
if(e&&"string"==typeof e||e===t)for(i=(e||"").split(_),s=0,l=this.length;s<l;s++)if(1===(r=this[s]).nodeType&&r.className){for(n=(" "+r.className+" ").replace(R," "),o=0,a=i.length;o<a;o++)for(;n.indexOf(" "+i[o]+" ")>=0;)n=n.replace(" "+i[o]+" "," ")
r.className=e?v.trim(n):""}return this},toggleClass:function(e,t){var i=typeof e,n="boolean"==typeof t
return v.isFunction(e)?this.each(function(i){v(this).toggleClass(e.call(this,i,this.className,t),t)}):this.each(function(){if("string"===i)for(var r,o=0,a=v(this),s=t,l=e.split(_);r=l[o++];)s=n?s:!a.hasClass(r),a[s?"addClass":"removeClass"](r)
else"undefined"!==i&&"boolean"!==i||(this.className&&v._data(this,"__className__",this.className),this.className=this.className||!1===e?"":v._data(this,"__className__")||"")})},hasClass:function(e){for(var t=" "+e+" ",i=0,n=this.length;i<n;i++)if(1===this[i].nodeType&&(" "+this[i].className+" ").replace(R," ").indexOf(t)>=0)return!0
return!1},val:function(e){var i,n,r,o=this[0]
return arguments.length?(r=v.isFunction(e),this.each(function(n){var o,a=v(this)
1===this.nodeType&&(null==(o=r?e.call(this,n,a.val()):e)?o="":"number"==typeof o?o+="":v.isArray(o)&&(o=v.map(o,function(e){return null==e?"":e+""})),(i=v.valHooks[this.type]||v.valHooks[this.nodeName.toLowerCase()])&&"set"in i&&i.set(this,o,"value")!==t||(this.value=o))})):o?(i=v.valHooks[o.type]||v.valHooks[o.nodeName.toLowerCase()])&&"get"in i&&(n=i.get(o,"value"))!==t?n:"string"==typeof(n=o.value)?n.replace(H,""):null==n?"":n:void 0}}),v.extend({valHooks:{option:{get:function(e){var t=e.attributes.value
return!t||t.specified?e.value:e.text}},select:{get:function(e){for(var t,i,n=e.options,r=e.selectedIndex,o="select-one"===e.type||r<0,a=o?null:[],s=o?r+1:n.length,l=r<0?s:o?r:0;l<s;l++)if(((i=n[l]).selected||l===r)&&(v.support.optDisabled?!i.disabled:null===i.getAttribute("disabled"))&&(!i.parentNode.disabled||!v.nodeName(i.parentNode,"optgroup"))){if(t=v(i).val(),o)return t
a.push(t)}return a},set:function(e,t){var i=v.makeArray(t)
return v(e).find("option").each(function(){this.selected=v.inArray(v(this).val(),i)>=0}),i.length||(e.selectedIndex=-1),i}}},attrFn:{},attr:function(e,i,n,r){var o,a,s,l=e.nodeType
if(e&&3!==l&&8!==l&&2!==l)return r&&v.isFunction(v.fn[i])?v(e)[i](n):void 0===e.getAttribute?v.prop(e,i,n):((s=1!==l||!v.isXMLDoc(e))&&(i=i.toLowerCase(),a=v.attrHooks[i]||($.test(i)?L:void 0)),n!==t?null===n?void v.removeAttr(e,i):a&&"set"in a&&s&&(o=a.set(e,n,i))!==t?o:(e.setAttribute(i,n+""),n):a&&"get"in a&&s&&null!==(o=a.get(e,i))?o:null===(o=e.getAttribute(i))?t:o)},removeAttr:function(e,t){var i,n,r,o,a=0
if(t&&1===e.nodeType)for(n=t.split(_);a<n.length;a++)(r=n[a])&&(i=v.propFix[r]||r,(o=$.test(r))||v.attr(e,r,""),e.removeAttribute(U?r:i),o&&i in e&&(e[i]=!1))},attrHooks:{type:{set:function(e,t){if(V.test(e.nodeName)&&e.parentNode)v.error("type property can't be changed")
else if(!v.support.radioValue&&"radio"===t&&v.nodeName(e,"input")){var i=e.value
return e.setAttribute("type",t),i&&(e.value=i),t}}},value:{get:function(e,t){return t in e?e.value:null},set:function(e,t,i){e.value=t}}},propFix:{tabindex:"tabIndex",readonly:"readOnly",for:"htmlFor",class:"className",maxlength:"maxLength",cellspacing:"cellSpacing",cellpadding:"cellPadding",rowspan:"rowSpan",colspan:"colSpan",usemap:"useMap",frameborder:"frameBorder",contenteditable:"contentEditable"},prop:function(e,i,n){var r,o,a=e.nodeType
if(e&&3!==a&&8!==a&&2!==a)return(1!==a||!v.isXMLDoc(e))&&(i=v.propFix[i]||i,o=v.propHooks[i]),n!==t?o&&"set"in o&&(r=o.set(e,n,i))!==t?r:e[i]=n:o&&"get"in o&&null!==(r=o.get(e,i))?r:e[i]},propHooks:{tabIndex:{get:function(e){var i=e.getAttributeNode("tabindex")
return i&&i.specified?parseInt(i.value,10):F.test(e.nodeName)||z.test(e.nodeName)&&e.href?0:t}}}}),L={get:function(e,i){var n,r=v.prop(e,i)
return!0===r||"boolean"!=typeof r&&(n=e.getAttributeNode(i))&&!1!==n.nodeValue?i.toLowerCase():t},set:function(e,t,i){var n
return!1===t?v.removeAttr(e,i):((n=v.propFix[i]||i)in e&&(e[n]=!0),e.setAttribute(i,i.toLowerCase())),i}},v.support.enctype||(v.propFix.enctype="encoding")
var G=/^([^\.]*|)(?:\.(.+)|)$/,W=/(?:^|\s)hover(\.\S+|)\b/,X=/^key/,J=/^(?:mouse|contextmenu)|click/,Y=/^(?:focusinfocus|focusoutblur)$/,Q=function(e){return v.event.special.hover?e:e.replace(W,"mouseenter$1 mouseleave$1")}
function K(){return!1}function Z(){return!0}v.event={add:function(e,i,n,r,o){var a,s,l,d,c,h,u,p,m,f,g
if(3!==e.nodeType&&8!==e.nodeType&&i&&n&&(a=v._data(e))){for(n.handler&&(n=(m=n).handler,o=m.selector),n.guid||(n.guid=v.guid++),(l=a.events)||(a.events=l={}),(s=a.handle)||(a.handle=s=function(e){return void 0===v||e&&v.event.triggered===e.type?t:v.event.dispatch.apply(s.elem,arguments)},s.elem=e),i=v.trim(Q(i)).split(" "),d=0;d<i.length;d++)h=(c=G.exec(i[d])||[])[1],u=(c[2]||"").split(".").sort(),g=v.event.special[h]||{},h=(o?g.delegateType:g.bindType)||h,g=v.event.special[h]||{},p=v.extend({type:h,origType:c[1],data:r,handler:n,guid:n.guid,selector:o,needsContext:o&&v.expr.match.needsContext.test(o),namespace:u.join(".")},m),(f=l[h])||((f=l[h]=[]).delegateCount=0,g.setup&&!1!==g.setup.call(e,r,u,s)||(e.addEventListener?e.addEventListener(h,s,!1):e.attachEvent&&e.attachEvent("on"+h,s))),g.add&&(g.add.call(e,p),p.handler.guid||(p.handler.guid=n.guid)),o?f.splice(f.delegateCount++,0,p):f.push(p),v.event.global[h]=!0
e=null}},global:{},remove:function(e,t,i,n,r){var o,a,s,l,d,c,h,u,p,m,f,g=v.hasData(e)&&v._data(e)
if(g&&(u=g.events)){for(t=v.trim(Q(t||"")).split(" "),o=0;o<t.length;o++)if(s=l=(a=G.exec(t[o])||[])[1],d=a[2],s){for(p=v.event.special[s]||{},c=(m=u[s=(n?p.delegateType:p.bindType)||s]||[]).length,d=d?new RegExp("(^|\\.)"+d.split(".").sort().join("\\.(?:.*\\.|)")+"(\\.|$)"):null,h=0;h<m.length;h++)f=m[h],!r&&l!==f.origType||i&&i.guid!==f.guid||d&&!d.test(f.namespace)||n&&n!==f.selector&&("**"!==n||!f.selector)||(m.splice(h--,1),f.selector&&m.delegateCount--,p.remove&&p.remove.call(e,f))
0===m.length&&c!==m.length&&(p.teardown&&!1!==p.teardown.call(e,d,g.handle)||v.removeEvent(e,s,g.handle),delete u[s])}else for(s in u)v.event.remove(e,s+t[o],i,n,!0)
v.isEmptyObject(u)&&(delete g.handle,v.removeData(e,"events",!0))}},customEvent:{getData:!0,setData:!0,changeData:!0},trigger:function(i,n,r,o){if(!r||3!==r.nodeType&&8!==r.nodeType){var a,l,d,c,h,u,p,m,f,g,b=i.type||i,y=[]
if(!Y.test(b+v.event.triggered)&&(b.indexOf("!")>=0&&(b=b.slice(0,-1),l=!0),b.indexOf(".")>=0&&(y=b.split("."),b=y.shift(),y.sort()),r&&!v.event.customEvent[b]||v.event.global[b]))if((i="object"==typeof i?i[v.expando]?i:new v.Event(b,i):new v.Event(b)).type=b,i.isTrigger=!0,i.exclusive=l,i.namespace=y.join("."),i.namespace_re=i.namespace?new RegExp("(^|\\.)"+y.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,u=b.indexOf(":")<0?"on"+b:"",r){if(i.result=t,i.target||(i.target=r),(n=null!=n?v.makeArray(n):[]).unshift(i),!(p=v.event.special[b]||{}).trigger||!1!==p.trigger.apply(r,n)){if(f=[[r,p.bindType||b]],!o&&!p.noBubble&&!v.isWindow(r)){for(g=p.delegateType||b,c=Y.test(g+b)?r:r.parentNode,h=r;c;c=c.parentNode)f.push([c,g]),h=c
h===(r.ownerDocument||s)&&f.push([h.defaultView||h.parentWindow||e,g])}for(d=0;d<f.length&&!i.isPropagationStopped();d++)c=f[d][0],i.type=f[d][1],(m=(v._data(c,"events")||{})[i.type]&&v._data(c,"handle"))&&m.apply(c,n),(m=u&&c[u])&&v.acceptData(c)&&m.apply&&!1===m.apply(c,n)&&i.preventDefault()
return i.type=b,o||i.isDefaultPrevented()||p._default&&!1!==p._default.apply(r.ownerDocument,n)||"click"===b&&v.nodeName(r,"a")||!v.acceptData(r)||u&&r[b]&&("focus"!==b&&"blur"!==b||0!==i.target.offsetWidth)&&!v.isWindow(r)&&((h=r[u])&&(r[u]=null),v.event.triggered=b,r[b](),v.event.triggered=t,h&&(r[u]=h)),i.result}}else for(d in a=v.cache)a[d].events&&a[d].events[b]&&v.event.trigger(i,n,a[d].handle.elem,!0)}},dispatch:function(i){i=v.event.fix(i||e.event)
var n,r,o,a,s,l,d,c,h,p=(v._data(this,"events")||{})[i.type]||[],m=p.delegateCount,f=u.call(arguments),g=!i.exclusive&&!i.namespace,b=v.event.special[i.type]||{},y=[]
if(f[0]=i,i.delegateTarget=this,!b.preDispatch||!1!==b.preDispatch.call(this,i)){if(m&&(!i.button||"click"!==i.type))for(o=i.target;o!=this;o=o.parentNode||this)if(!0!==o.disabled||"click"!==i.type){for(s={},d=[],n=0;n<m;n++)s[h=(c=p[n]).selector]===t&&(s[h]=c.needsContext?v(h,this).index(o)>=0:v.find(h,this,null,[o]).length),s[h]&&d.push(c)
d.length&&y.push({elem:o,matches:d})}for(p.length>m&&y.push({elem:this,matches:p.slice(m)}),n=0;n<y.length&&!i.isPropagationStopped();n++)for(l=y[n],i.currentTarget=l.elem,r=0;r<l.matches.length&&!i.isImmediatePropagationStopped();r++)c=l.matches[r],(g||!i.namespace&&!c.namespace||i.namespace_re&&i.namespace_re.test(c.namespace))&&(i.data=c.data,i.handleObj=c,(a=((v.event.special[c.origType]||{}).handle||c.handler).apply(l.elem,f))!==t&&(i.result=a,!1===a&&(i.preventDefault(),i.stopPropagation())))
return b.postDispatch&&b.postDispatch.call(this,i),i.result}},props:"attrChange attrName relatedNode srcElement altKey bubbles cancelable ctrlKey currentTarget eventPhase metaKey relatedTarget shiftKey target timeStamp view which".split(" "),fixHooks:{},keyHooks:{props:"char charCode key keyCode".split(" "),filter:function(e,t){return null==e.which&&(e.which=null!=t.charCode?t.charCode:t.keyCode),e}},mouseHooks:{props:"button buttons clientX clientY fromElement offsetX offsetY pageX pageY screenX screenY toElement".split(" "),filter:function(e,i){var n,r,o,a=i.button,l=i.fromElement
return null==e.pageX&&null!=i.clientX&&(r=(n=e.target.ownerDocument||s).documentElement,o=n.body,e.pageX=i.clientX+(r&&r.scrollLeft||o&&o.scrollLeft||0)-(r&&r.clientLeft||o&&o.clientLeft||0),e.pageY=i.clientY+(r&&r.scrollTop||o&&o.scrollTop||0)-(r&&r.clientTop||o&&o.clientTop||0)),!e.relatedTarget&&l&&(e.relatedTarget=l===e.target?i.toElement:l),e.which||a===t||(e.which=1&a?1:2&a?3:4&a?2:0),e}},fix:function(e){if(e[v.expando])return e
var t,i,n=e,r=v.event.fixHooks[e.type]||{},o=r.props?this.props.concat(r.props):this.props
for(e=v.Event(n),t=o.length;t;)e[i=o[--t]]=n[i]
return e.target||(e.target=n.srcElement||s),3===e.target.nodeType&&(e.target=e.target.parentNode),e.metaKey=!!e.metaKey,r.filter?r.filter(e,n):e},special:{load:{noBubble:!0},focus:{delegateType:"focusin"},blur:{delegateType:"focusout"},beforeunload:{setup:function(e,t,i){v.isWindow(this)&&(this.onbeforeunload=i)},teardown:function(e,t){this.onbeforeunload===t&&(this.onbeforeunload=null)}}},simulate:function(e,t,i,n){var r=v.extend(new v.Event,i,{type:e,isSimulated:!0,originalEvent:{}})
n?v.event.trigger(r,null,t):v.event.dispatch.call(t,r),r.isDefaultPrevented()&&i.preventDefault()}},v.event.handle=v.event.dispatch,v.removeEvent=s.removeEventListener?function(e,t,i){e.removeEventListener&&e.removeEventListener(t,i,!1)}:function(e,t,i){var n="on"+t
e.detachEvent&&(void 0===e[n]&&(e[n]=null),e.detachEvent(n,i))},v.Event=function(e,t){if(!(this instanceof v.Event))return new v.Event(e,t)
e&&e.type?(this.originalEvent=e,this.type=e.type,this.isDefaultPrevented=e.defaultPrevented||!1===e.returnValue||e.getPreventDefault&&e.getPreventDefault()?Z:K):this.type=e,t&&v.extend(this,t),this.timeStamp=e&&e.timeStamp||v.now(),this[v.expando]=!0},v.Event.prototype={preventDefault:function(){this.isDefaultPrevented=Z
var e=this.originalEvent
e&&(e.preventDefault?e.preventDefault():e.returnValue=!1)},stopPropagation:function(){this.isPropagationStopped=Z
var e=this.originalEvent
e&&(e.stopPropagation&&e.stopPropagation(),e.cancelBubble=!0)},stopImmediatePropagation:function(){this.isImmediatePropagationStopped=Z,this.stopPropagation()},isDefaultPrevented:K,isPropagationStopped:K,isImmediatePropagationStopped:K},v.each({mouseenter:"mouseover",mouseleave:"mouseout"},function(e,t){v.event.special[e]={delegateType:t,bindType:t,handle:function(e){var i,n=e.relatedTarget,r=e.handleObj
return r.selector,n&&(n===this||v.contains(this,n))||(e.type=r.origType,i=r.handler.apply(this,arguments),e.type=t),i}}}),v.fn.extend({on:function(e,i,n,r,o){var a,s
if("object"==typeof e){for(s in"string"!=typeof i&&(n=n||i,i=t),e)this.on(s,i,n,e[s],o)
return this}if(null==n&&null==r?(r=i,n=i=t):null==r&&("string"==typeof i?(r=n,n=t):(r=n,n=i,i=t)),!1===r)r=K
else if(!r)return this
return 1===o&&(a=r,(r=function(e){return v().off(e),a.apply(this,arguments)}).guid=a.guid||(a.guid=v.guid++)),this.each(function(){v.event.add(this,e,r,n,i)})},off:function(e,i,n){var r,o
if(e&&e.preventDefault&&e.handleObj)return r=e.handleObj,v(e.delegateTarget).off(r.namespace?r.origType+"."+r.namespace:r.origType,r.selector,r.handler),this
if("object"==typeof e){for(o in e)this.off(o,i,e[o])
return this}return!1!==i&&"function"!=typeof i||(n=i,i=t),!1===n&&(n=K),this.each(function(){v.event.remove(this,e,n,i)})},delegate:function(e,t,i,n){return this.on(t,e,i,n)},undelegate:function(e,t,i){return 1===arguments.length?this.off(e,"**"):this.off(t,e||"**",i)},trigger:function(e,t){return this.each(function(){v.event.trigger(e,t,this)})},triggerHandler:function(e,t){if(this[0])return v.event.trigger(e,t,this[0],!0)},toggle:function(e){var t=arguments,i=e.guid||v.guid++,n=0,r=function(i){var r=(v._data(this,"lastToggle"+e.guid)||0)%n
return v._data(this,"lastToggle"+e.guid,r+1),i.preventDefault(),t[r].apply(this,arguments)||!1}
for(r.guid=i;n<t.length;)t[n++].guid=i
return this.click(r)},hover:function(e,t){return this.mouseenter(e).mouseleave(t||e)}}),v.each("blur focus focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup error contextmenu".split(" "),function(e,t){v.fn[t]=function(e,i){return null==i&&(i=e,e=null),arguments.length>0?this.on(t,null,e,i):this.trigger(t)},X.test(t)&&(v.event.fixHooks[t]=v.event.keyHooks),J.test(t)&&(v.event.fixHooks[t]=v.event.mouseHooks)}),function(e,t){var i,n,r,o,a,s,l,d,c,h,u,p,m,f,g,b,y,_,w=("sizcache"+Math.random()).replace(".",""),x=String,C=e.document,S=C.documentElement,T=0,I=0,E=[].pop,P=[].push,D=[].slice,k=[].indexOf||function(e){for(var t=0,i=this.length;t<i;t++)if(this[t]===e)return t
return-1},A=function(e,t){return e[w]=null==t||t,e},j=function(){var e={},t=[]
return A(function(i,n){return t.push(i)>r.cacheLength&&delete e[t.shift()],e[i+" "]=n},e)},M=j(),N=j(),q=j(),O="[\\x20\\t\\r\\n\\f]",B="(?:\\\\.|[-\\w]|[^\\x00-\\xa0])+",L=B.replace("w","w#"),R="\\["+O+"*("+B+")"+O+"*(?:([*^$|!~]?=)"+O+"*(?:(['\"])((?:\\\\.|[^\\\\])*?)\\3|("+L+")|)|)"+O+"*\\]",H=":("+B+")(?:\\((?:(['\"])((?:\\\\.|[^\\\\])*?)\\2|([^()[\\]]*|(?:(?:"+R+")|[^:]|\\\\.)*|.*))\\)|)",V=":(even|odd|eq|gt|lt|nth|first|last)(?:\\("+O+"*((?:-\\d)?\\d*)"+O+"*\\)|)(?=[^-]|$)",F=new RegExp("^"+O+"+|((?:^|[^\\\\])(?:\\\\.)*)"+O+"+$","g"),z=new RegExp("^"+O+"*,"+O+"*"),$=new RegExp("^"+O+"*([\\x20\\t\\r\\n\\f>+~])"+O+"*"),U=new RegExp(H),G=/^(?:#([\w\-]+)|(\w+)|\.([\w\-]+))$/,W=/[\x20\t\r\n\f]*[+~]/,X=/h\d/i,J=/input|select|textarea|button/i,Y=/\\(?!\\)/g,Q={ID:new RegExp("^#("+B+")"),CLASS:new RegExp("^\\.("+B+")"),NAME:new RegExp("^\\[name=['\"]?("+B+")['\"]?\\]"),TAG:new RegExp("^("+B.replace("w","w*")+")"),ATTR:new RegExp("^"+R),PSEUDO:new RegExp("^"+H),POS:new RegExp(V,"i"),CHILD:new RegExp("^:(only|nth|first|last)-child(?:\\("+O+"*(even|odd|(([+-]|)(\\d*)n|)"+O+"*(?:([+-]|)"+O+"*(\\d+)|))"+O+"*\\)|)","i"),needsContext:new RegExp("^"+O+"*[>+~]|"+V,"i")},K=function(e){var t=C.createElement("div")
try{return e(t)}catch(e){return!1}finally{t=null}},Z=K(function(e){return e.appendChild(C.createComment("")),!e.getElementsByTagName("*").length}),ee=K(function(e){return e.innerHTML="<a href='#'></a>",e.firstChild&&void 0!==e.firstChild.getAttribute&&"#"===e.firstChild.getAttribute("href")}),te=K(function(e){e.innerHTML="<select></select>"
var t=typeof e.lastChild.getAttribute("multiple")
return"boolean"!==t&&"string"!==t}),ie=K(function(e){return e.innerHTML="<div class='hidden e'></div><div class='hidden'></div>",!(!e.getElementsByClassName||!e.getElementsByClassName("e").length)&&(e.lastChild.className="e",2===e.getElementsByClassName("e").length)}),ne=K(function(e){e.id=w+0,e.innerHTML="<a name='"+w+"'></a><div name='"+w+"'></div>",S.insertBefore(e,S.firstChild)
var t=C.getElementsByName&&C.getElementsByName(w).length===2+C.getElementsByName(w+0).length
return n=!C.getElementById(w),S.removeChild(e),t})
try{D.call(S.childNodes,0)[0].nodeType}catch(e){D=function(e){for(var t,i=[];t=this[e];e++)i.push(t)
return i}}function re(e,t,i,n){i=i||[]
var r,o,l,d,c=(t=t||C).nodeType
if(!e||"string"!=typeof e)return i
if(1!==c&&9!==c)return[]
if(!(l=a(t))&&!n&&(r=G.exec(e)))if(d=r[1]){if(9===c){if(!(o=t.getElementById(d))||!o.parentNode)return i
if(o.id===d)return i.push(o),i}else if(t.ownerDocument&&(o=t.ownerDocument.getElementById(d))&&s(t,o)&&o.id===d)return i.push(o),i}else{if(r[2])return P.apply(i,D.call(t.getElementsByTagName(e),0)),i
if((d=r[3])&&ie&&t.getElementsByClassName)return P.apply(i,D.call(t.getElementsByClassName(d),0)),i}return fe(e.replace(F,"$1"),t,i,n,l)}function oe(e){return function(t){return"input"===t.nodeName.toLowerCase()&&t.type===e}}function ae(e){return function(t){var i=t.nodeName.toLowerCase()
return("input"===i||"button"===i)&&t.type===e}}function se(e){return A(function(t){return t=+t,A(function(i,n){for(var r,o=e([],i.length,t),a=o.length;a--;)i[r=o[a]]&&(i[r]=!(n[r]=i[r]))})})}function le(e,t,i){if(e===t)return i
for(var n=e.nextSibling;n;){if(n===t)return-1
n=n.nextSibling}return 1}function de(e,t){var i,n,o,a,s,l,d,c=N[w][e+" "]
if(c)return t?0:c.slice(0)
for(s=e,l=[],d=r.preFilter;s;){for(a in i&&!(n=z.exec(s))||(n&&(s=s.slice(n[0].length)||s),l.push(o=[])),i=!1,(n=$.exec(s))&&(o.push(i=new x(n.shift())),s=s.slice(i.length),i.type=n[0].replace(F," ")),r.filter)!(n=Q[a].exec(s))||d[a]&&!(n=d[a](n))||(o.push(i=new x(n.shift())),s=s.slice(i.length),i.type=a,i.matches=n)
if(!i)break}return t?s.length:s?re.error(e):N(e,l).slice(0)}function ce(e,t,n){var r=t.dir,o=n&&"parentNode"===t.dir,a=I++
return t.first?function(t,i,n){for(;t=t[r];)if(o||1===t.nodeType)return e(t,i,n)}:function(t,n,s){if(s){for(;t=t[r];)if((o||1===t.nodeType)&&e(t,n,s))return t}else for(var l,d=T+" "+a+" ",c=d+i;t=t[r];)if(o||1===t.nodeType){if((l=t[w])===c)return t.sizset
if("string"==typeof l&&0===l.indexOf(d)){if(t.sizset)return t}else{if(t[w]=c,e(t,n,s))return t.sizset=!0,t
t.sizset=!1}}}}function he(e){return e.length>1?function(t,i,n){for(var r=e.length;r--;)if(!e[r](t,i,n))return!1
return!0}:e[0]}function ue(e,t,i,n,r){for(var o,a=[],s=0,l=e.length,d=null!=t;s<l;s++)(o=e[s])&&(i&&!i(o,n,r)||(a.push(o),d&&t.push(s)))
return a}function pe(e,t,i,n,r,o){return n&&!n[w]&&(n=pe(n)),r&&!r[w]&&(r=pe(r,o)),A(function(o,a,s,l){var d,c,h,u=[],p=[],m=a.length,f=o||function(e,t,i){for(var n=0,r=t.length;n<r;n++)re(e,t[n],i)
return i}(t||"*",s.nodeType?[s]:s,[]),g=!e||!o&&t?f:ue(f,u,e,s,l),v=i?r||(o?e:m||n)?[]:a:g
if(i&&i(g,v,s,l),n)for(d=ue(v,p),n(d,[],s,l),c=d.length;c--;)(h=d[c])&&(v[p[c]]=!(g[p[c]]=h))
if(o){if(r||e){if(r){for(d=[],c=v.length;c--;)(h=v[c])&&d.push(g[c]=h)
r(null,v=[],d,l)}for(c=v.length;c--;)(h=v[c])&&(d=r?k.call(o,h):u[c])>-1&&(o[d]=!(a[d]=h))}}else v=ue(v===a?v.splice(m,v.length):v),r?r(null,a,v,l):P.apply(a,v)})}function me(e){for(var t,i,n,o=e.length,a=r.relative[e[0].type],s=a||r.relative[" "],l=a?1:0,d=ce(function(e){return e===t},s,!0),c=ce(function(e){return k.call(t,e)>-1},s,!0),u=[function(e,i,n){return!a&&(n||i!==h)||((t=i).nodeType?d(e,i,n):c(e,i,n))}];l<o;l++)if(i=r.relative[e[l].type])u=[ce(he(u),i)]
else{if((i=r.filter[e[l].type].apply(null,e[l].matches))[w]){for(n=++l;n<o&&!r.relative[e[n].type];n++);return pe(l>1&&he(u),l>1&&e.slice(0,l-1).join("").replace(F,"$1"),i,l<n&&me(e.slice(l,n)),n<o&&me(e=e.slice(n)),n<o&&e.join(""))}u.push(i)}return he(u)}function fe(e,t,i,n,o){var a,s,d,c,h,u=de(e)
if(u.length,!n&&1===u.length){if((s=u[0]=u[0].slice(0)).length>2&&"ID"===(d=s[0]).type&&9===t.nodeType&&!o&&r.relative[s[1].type]){if(!(t=r.find.ID(d.matches[0].replace(Y,""),t,o)[0]))return i
e=e.slice(s.shift().length)}for(a=Q.POS.test(e)?-1:s.length-1;a>=0&&(d=s[a],!r.relative[c=d.type]);a--)if((h=r.find[c])&&(n=h(d.matches[0].replace(Y,""),W.test(s[0].type)&&t.parentNode||t,o))){if(s.splice(a,1),!(e=n.length&&s.join("")))return P.apply(i,D.call(n,0)),i
break}}return l(e,u)(n,t,o,i,W.test(e)),i}function ge(){}re.matches=function(e,t){return re(e,null,null,t)},re.matchesSelector=function(e,t){return re(t,null,null,[e]).length>0},o=re.getText=function(e){var t,i="",n=0,r=e.nodeType
if(r){if(1===r||9===r||11===r){if("string"==typeof e.textContent)return e.textContent
for(e=e.firstChild;e;e=e.nextSibling)i+=o(e)}else if(3===r||4===r)return e.nodeValue}else for(;t=e[n];n++)i+=o(t)
return i},a=re.isXML=function(e){var t=e&&(e.ownerDocument||e).documentElement
return!!t&&"HTML"!==t.nodeName},s=re.contains=S.contains?function(e,t){var i=9===e.nodeType?e.documentElement:e,n=t&&t.parentNode
return e===n||!!(n&&1===n.nodeType&&i.contains&&i.contains(n))}:S.compareDocumentPosition?function(e,t){return t&&!!(16&e.compareDocumentPosition(t))}:function(e,t){for(;t=t.parentNode;)if(t===e)return!0
return!1},re.attr=function(e,t){var i,n=a(e)
return n||(t=t.toLowerCase()),(i=r.attrHandle[t])?i(e):n||te?e.getAttribute(t):(i=e.getAttributeNode(t))?"boolean"==typeof e[t]?e[t]?t:null:i.specified?i.value:null:null},r=re.selectors={cacheLength:50,createPseudo:A,match:Q,attrHandle:ee?{}:{href:function(e){return e.getAttribute("href",2)},type:function(e){return e.getAttribute("type")}},find:{ID:n?function(e,t,i){if(void 0!==t.getElementById&&!i){var n=t.getElementById(e)
return n&&n.parentNode?[n]:[]}}:function(e,t,i){if(void 0!==t.getElementById&&!i){var n=t.getElementById(e)
return n?n.id===e||void 0!==n.getAttributeNode&&n.getAttributeNode("id").value===e?[n]:void 0:[]}},TAG:Z?function(e,t){if(void 0!==t.getElementsByTagName)return t.getElementsByTagName(e)}:function(e,t){var i=t.getElementsByTagName(e)
if("*"===e){for(var n,r=[],o=0;n=i[o];o++)1===n.nodeType&&r.push(n)
return r}return i},NAME:ne&&function(e,t){if(void 0!==t.getElementsByName)return t.getElementsByName(name)},CLASS:ie&&function(e,t,i){if(void 0!==t.getElementsByClassName&&!i)return t.getElementsByClassName(e)}},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(e){return e[1]=e[1].replace(Y,""),e[3]=(e[4]||e[5]||"").replace(Y,""),"~="===e[2]&&(e[3]=" "+e[3]+" "),e.slice(0,4)},CHILD:function(e){return e[1]=e[1].toLowerCase(),"nth"===e[1]?(e[2]||re.error(e[0]),e[3]=+(e[3]?e[4]+(e[5]||1):2*("even"===e[2]||"odd"===e[2])),e[4]=+(e[6]+e[7]||"odd"===e[2])):e[2]&&re.error(e[0]),e},PSEUDO:function(e){var t,i
return Q.CHILD.test(e[0])?null:(e[3]?e[2]=e[3]:(t=e[4])&&(U.test(t)&&(i=de(t,!0))&&(i=t.indexOf(")",t.length-i)-t.length)&&(t=t.slice(0,i),e[0]=e[0].slice(0,i)),e[2]=t),e.slice(0,3))}},filter:{ID:n?function(e){return e=e.replace(Y,""),function(t){return t.getAttribute("id")===e}}:function(e){return e=e.replace(Y,""),function(t){var i=void 0!==t.getAttributeNode&&t.getAttributeNode("id")
return i&&i.value===e}},TAG:function(e){return"*"===e?function(){return!0}:(e=e.replace(Y,"").toLowerCase(),function(t){return t.nodeName&&t.nodeName.toLowerCase()===e})},CLASS:function(e){var t=M[w][e+" "]
return t||(t=new RegExp("(^|"+O+")"+e+"("+O+"|$)"))&&M(e,function(e){return t.test(e.className||void 0!==e.getAttribute&&e.getAttribute("class")||"")})},ATTR:function(e,t,i){return function(n,r){var o=re.attr(n,e)
return null==o?"!="===t:!t||(o+="","="===t?o===i:"!="===t?o!==i:"^="===t?i&&0===o.indexOf(i):"*="===t?i&&o.indexOf(i)>-1:"$="===t?i&&o.substr(o.length-i.length)===i:"~="===t?(" "+o+" ").indexOf(i)>-1:"|="===t&&(o===i||o.substr(0,i.length+1)===i+"-"))}},CHILD:function(e,t,i,n){return"nth"===e?function(e){var t,r,o=e.parentNode
if(1===i&&0===n)return!0
if(o)for(r=0,t=o.firstChild;t&&(1!==t.nodeType||(r++,e!==t));t=t.nextSibling);return(r-=n)===i||r%i==0&&r/i>=0}:function(t){var i=t
switch(e){case"only":case"first":for(;i=i.previousSibling;)if(1===i.nodeType)return!1
if("first"===e)return!0
i=t
case"last":for(;i=i.nextSibling;)if(1===i.nodeType)return!1
return!0}}},PSEUDO:function(e,t){var i,n=r.pseudos[e]||r.setFilters[e.toLowerCase()]||re.error("unsupported pseudo: "+e)
return n[w]?n(t):n.length>1?(i=[e,e,"",t],r.setFilters.hasOwnProperty(e.toLowerCase())?A(function(e,i){for(var r,o=n(e,t),a=o.length;a--;)e[r=k.call(e,o[a])]=!(i[r]=o[a])}):function(e){return n(e,0,i)}):n}},pseudos:{not:A(function(e){var t=[],i=[],n=l(e.replace(F,"$1"))
return n[w]?A(function(e,t,i,r){for(var o,a=n(e,null,r,[]),s=e.length;s--;)(o=a[s])&&(e[s]=!(t[s]=o))}):function(e,r,o){return t[0]=e,n(t,null,o,i),!i.pop()}}),has:A(function(e){return function(t){return re(e,t).length>0}}),contains:A(function(e){return function(t){return(t.textContent||t.innerText||o(t)).indexOf(e)>-1}}),enabled:function(e){return!1===e.disabled},disabled:function(e){return!0===e.disabled},checked:function(e){var t=e.nodeName.toLowerCase()
return"input"===t&&!!e.checked||"option"===t&&!!e.selected},selected:function(e){return e.parentNode&&e.parentNode.selectedIndex,!0===e.selected},parent:function(e){return!r.pseudos.empty(e)},empty:function(e){var t
for(e=e.firstChild;e;){if(e.nodeName>"@"||3===(t=e.nodeType)||4===t)return!1
e=e.nextSibling}return!0},header:function(e){return X.test(e.nodeName)},text:function(e){var t,i
return"input"===e.nodeName.toLowerCase()&&"text"===(t=e.type)&&(null==(i=e.getAttribute("type"))||i.toLowerCase()===t)},radio:oe("radio"),checkbox:oe("checkbox"),file:oe("file"),password:oe("password"),image:oe("image"),submit:ae("submit"),reset:ae("reset"),button:function(e){var t=e.nodeName.toLowerCase()
return"input"===t&&"button"===e.type||"button"===t},input:function(e){return J.test(e.nodeName)},focus:function(e){var t=e.ownerDocument
return e===t.activeElement&&(!t.hasFocus||t.hasFocus())&&!!(e.type||e.href||~e.tabIndex)},active:function(e){return e===e.ownerDocument.activeElement},first:se(function(){return[0]}),last:se(function(e,t){return[t-1]}),eq:se(function(e,t,i){return[i<0?i+t:i]}),even:se(function(e,t){for(var i=0;i<t;i+=2)e.push(i)
return e}),odd:se(function(e,t){for(var i=1;i<t;i+=2)e.push(i)
return e}),lt:se(function(e,t,i){for(var n=i<0?i+t:i;--n>=0;)e.push(n)
return e}),gt:se(function(e,t,i){for(var n=i<0?i+t:i;++n<t;)e.push(n)
return e})}},d=S.compareDocumentPosition?function(e,t){return e===t?(c=!0,0):(e.compareDocumentPosition&&t.compareDocumentPosition?4&e.compareDocumentPosition(t):e.compareDocumentPosition)?-1:1}:function(e,t){if(e===t)return c=!0,0
if(e.sourceIndex&&t.sourceIndex)return e.sourceIndex-t.sourceIndex
var i,n,r=[],o=[],a=e.parentNode,s=t.parentNode,l=a
if(a===s)return le(e,t)
if(!a)return-1
if(!s)return 1
for(;l;)r.unshift(l),l=l.parentNode
for(l=s;l;)o.unshift(l),l=l.parentNode
i=r.length,n=o.length
for(var d=0;d<i&&d<n;d++)if(r[d]!==o[d])return le(r[d],o[d])
return d===i?le(e,o[d],-1):le(r[d],t,1)},[0,0].sort(d),u=!c,re.uniqueSort=function(e){var t,i=[],n=1,r=0
if(c=u,e.sort(d),c){for(;t=e[n];n++)t===e[n-1]&&(r=i.push(n))
for(;r--;)e.splice(i[r],1)}return e},re.error=function(e){throw new Error("Syntax error, unrecognized expression: "+e)},l=re.compile=function(e,t){var n,o=[],a=[],s=q[w][e+" "]
if(!s){for(t||(t=de(e)),n=t.length;n--;)(s=me(t[n]))[w]?o.push(s):a.push(s)
s=q(e,function(e,t){var n=t.length>0,o=e.length>0,a=function(s,l,d,c,u){var p,m,f,g=[],v=0,b="0",y=s&&[],_=null!=u,w=h,x=s||o&&r.find.TAG("*",u&&l.parentNode||l),S=T+=null==w?1:Math.E
for(_&&(h=l!==C&&l,i=a.el);null!=(p=x[b]);b++){if(o&&p){for(m=0;f=e[m];m++)if(f(p,l,d)){c.push(p)
break}_&&(T=S,i=++a.el)}n&&((p=!f&&p)&&v--,s&&y.push(p))}if(v+=b,n&&b!==v){for(m=0;f=t[m];m++)f(y,g,l,d)
if(s){if(v>0)for(;b--;)y[b]||g[b]||(g[b]=E.call(c))
g=ue(g)}P.apply(c,g),_&&!s&&g.length>0&&v+t.length>1&&re.uniqueSort(c)}return _&&(T=S,h=w),y}
return a.el=0,n?A(a):a}(a,o))}return s},C.querySelectorAll&&(m=fe,f=/'|\\/g,g=/\=[\x20\t\r\n\f]*([^'"\]]*)[\x20\t\r\n\f]*\]/g,b=[":focus"],y=[":active"],_=S.matchesSelector||S.mozMatchesSelector||S.webkitMatchesSelector||S.oMatchesSelector||S.msMatchesSelector,K(function(e){e.innerHTML="<select><option selected=''></option></select>",e.querySelectorAll("[selected]").length||b.push("\\["+O+"*(?:checked|disabled|ismap|multiple|readonly|selected|value)"),e.querySelectorAll(":checked").length||b.push(":checked")}),K(function(e){e.innerHTML="<p test=''></p>",e.querySelectorAll("[test^='']").length&&b.push("[*^$]="+O+"*(?:\"\"|'')"),e.innerHTML="<input type='hidden'/>",e.querySelectorAll(":enabled").length||b.push(":enabled",":disabled")}),b=new RegExp(b.join("|")),fe=function(e,t,i,n,r){if(!n&&!r&&!b.test(e)){var o,a,s=!0,l=w,d=t,c=9===t.nodeType&&e
if(1===t.nodeType&&"object"!==t.nodeName.toLowerCase()){for(o=de(e),(s=t.getAttribute("id"))?l=s.replace(f,"\\$&"):t.setAttribute("id",l),l="[id='"+l+"'] ",a=o.length;a--;)o[a]=l+o[a].join("")
d=W.test(e)&&t.parentNode||t,c=o.join(",")}if(c)try{return P.apply(i,D.call(d.querySelectorAll(c),0)),i}catch(e){}finally{s||t.removeAttribute("id")}}return m(e,t,i,n,r)},_&&(K(function(e){p=_.call(e,"div")
try{_.call(e,"[test!='']:sizzle"),y.push("!=",H)}catch(e){}}),y=new RegExp(y.join("|")),re.matchesSelector=function(e,t){if(t=t.replace(g,"='$1']"),!a(e)&&!y.test(t)&&!b.test(t))try{var i=_.call(e,t)
if(i||p||e.document&&11!==e.document.nodeType)return i}catch(e){}return re(t,null,null,[e]).length>0})),r.pseudos.nth=r.pseudos.eq,r.filters=ge.prototype=r.pseudos,r.setFilters=new ge,re.attr=v.attr,v.find=re,v.expr=re.selectors,v.expr[":"]=v.expr.pseudos,v.unique=re.uniqueSort,v.text=re.getText,v.isXMLDoc=re.isXML,v.contains=re.contains}(e)
var ee=/Until$/,te=/^(?:parents|prev(?:Until|All))/,ie=/^.[^:#\[\.,]*$/,ne=v.expr.match.needsContext,re={children:!0,contents:!0,next:!0,prev:!0}
function oe(e){return!e||!e.parentNode||11===e.parentNode.nodeType}function ae(e,t){do{e=e[t]}while(e&&1!==e.nodeType)
return e}function se(e,t,i){if(t=t||0,v.isFunction(t))return v.grep(e,function(e,n){return!!t.call(e,n,e)===i})
if(t.nodeType)return v.grep(e,function(e,n){return e===t===i})
if("string"==typeof t){var n=v.grep(e,function(e){return 1===e.nodeType})
if(ie.test(t))return v.filter(t,n,!i)
t=v.filter(t,n)}return v.grep(e,function(e,n){return v.inArray(e,t)>=0===i})}function le(e){var t=he.split("|"),i=e.createDocumentFragment()
if(i.createElement)for(;t.length;)i.createElement(t.pop())
return i}v.fn.extend({find:function(e){var t,i,n,r,o,a,s=this
if("string"!=typeof e)return v(e).filter(function(){for(t=0,i=s.length;t<i;t++)if(v.contains(s[t],this))return!0})
for(a=this.pushStack("","find",e),t=0,i=this.length;t<i;t++)if(n=a.length,v.find(e,this[t],a),t>0)for(r=n;r<a.length;r++)for(o=0;o<n;o++)if(a[o]===a[r]){a.splice(r--,1)
break}return a},has:function(e){var t,i=v(e,this),n=i.length
return this.filter(function(){for(t=0;t<n;t++)if(v.contains(this,i[t]))return!0})},not:function(e){return this.pushStack(se(this,e,!1),"not",e)},filter:function(e){return this.pushStack(se(this,e,!0),"filter",e)},is:function(e){return!!e&&("string"==typeof e?ne.test(e)?v(e,this.context).index(this[0])>=0:v.filter(e,this).length>0:this.filter(e).length>0)},closest:function(e,t){for(var i,n=0,r=this.length,o=[],a=ne.test(e)||"string"!=typeof e?v(e,t||this.context):0;n<r;n++)for(i=this[n];i&&i.ownerDocument&&i!==t&&11!==i.nodeType;){if(a?a.index(i)>-1:v.find.matchesSelector(i,e)){o.push(i)
break}i=i.parentNode}return o=o.length>1?v.unique(o):o,this.pushStack(o,"closest",e)},index:function(e){return e?"string"==typeof e?v.inArray(this[0],v(e)):v.inArray(e.jqx?e[0]:e,this):this[0]&&this[0].parentNode?this.prevAll().length:-1},add:function(e,t){var i="string"==typeof e?v(e,t):v.makeArray(e&&e.nodeType?[e]:e),n=v.merge(this.get(),i)
return this.pushStack(oe(i[0])||oe(n[0])?n:v.unique(n))},addBack:function(e){return this.add(null==e?this.prevObject:this.prevObject.filter(e))}}),v.fn.andSelf=v.fn.addBack,v.each({parent:function(e){var t=e.parentNode
return t&&11!==t.nodeType?t:null},parents:function(e){return v.dir(e,"parentNode")},parentsUntil:function(e,t,i){return v.dir(e,"parentNode",i)},next:function(e){return ae(e,"nextSibling")},prev:function(e){return ae(e,"previousSibling")},nextAll:function(e){return v.dir(e,"nextSibling")},prevAll:function(e){return v.dir(e,"previousSibling")},nextUntil:function(e,t,i){return v.dir(e,"nextSibling",i)},prevUntil:function(e,t,i){return v.dir(e,"previousSibling",i)},siblings:function(e){return v.sibling((e.parentNode||{}).firstChild,e)},children:function(e){return v.sibling(e.firstChild)},contents:function(e){return v.nodeName(e,"iframe")?e.contentDocument||e.contentWindow.document:v.merge([],e.childNodes)}},function(e,t){v.fn[e]=function(i,n){var r=v.map(this,t,i)
return ee.test(e)||(n=i),n&&"string"==typeof n&&(r=v.filter(n,r)),r=this.length>1&&!re[e]?v.unique(r):r,this.length>1&&te.test(e)&&(r=r.reverse()),this.pushStack(r,e,u.call(arguments).join(","))}}),v.extend({filter:function(e,t,i){return i&&(e=":not("+e+")"),1===t.length?v.find.matchesSelector(t[0],e)?[t[0]]:[]:v.find.matches(e,t)},dir:function(e,i,n){for(var r=[],o=e[i];o&&9!==o.nodeType&&(n===t||1!==o.nodeType||!v(o).is(n));)1===o.nodeType&&r.push(o),o=o[i]
return r},sibling:function(e,t){for(var i=[];e;e=e.nextSibling)1===e.nodeType&&e!==t&&i.push(e)
return i}})
var de,ce,he="abbr|article|aside|audio|bdi|canvas|data|datalist|details|figcaption|figure|footer|header|hgroup|mark|meter|nav|output|progress|section|summary|time|video",ue=/ JQXLite\d+="(?:null|\d+)"/g,pe=/^\s+/,me=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/gi,fe=/<([\w:]+)/,ge=/<tbody/i,ve=/<|&#?\w+;/,be=/<(?:script|style|link)/i,ye=/<(?:script|object|embed|option|style)/i,_e=new RegExp("<(?:"+he+")[\\s/>]","i"),we=/^(?:checkbox|radio)$/,xe=/checked\s*(?:[^=]|=\s*.checked.)/i,Ce=/\/(java|ecma)script/i,Se=/^\s*<!(?:\[CDATA\[|\-\-)|[\]\-]{2}>\s*$/g,Te={option:[1,"<select multiple='multiple'>","</select>"],legend:[1,"<fieldset>","</fieldset>"],thead:[1,"<table>","</table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],col:[2,"<table><tbody></tbody><colgroup>","</colgroup></table>"],area:[1,"<map>","</map>"],_default:[0,"",""]},Ie=le(s),Ee=Ie.appendChild(s.createElement("div"))
function Pe(e,t){if(1===t.nodeType&&v.hasData(e)){var i,n,r,o=v._data(e),a=v._data(t,o),s=o.events
if(s)for(i in delete a.handle,a.events={},s)for(n=0,r=s[i].length;n<r;n++)v.event.add(t,i,s[i][n])
a.data&&(a.data=v.extend({},a.data))}}function De(e,t){var i
1===t.nodeType&&(t.clearAttributes&&t.clearAttributes(),t.mergeAttributes&&t.mergeAttributes(e),"object"===(i=t.nodeName.toLowerCase())?(t.parentNode&&(t.outerHTML=e.outerHTML),v.support.html5Clone&&e.innerHTML&&!v.trim(t.innerHTML)&&(t.innerHTML=e.innerHTML)):"input"===i&&we.test(e.type)?(t.defaultChecked=t.checked=e.checked,t.value!==e.value&&(t.value=e.value)):"option"===i?t.selected=e.defaultSelected:"input"===i||"textarea"===i?t.defaultValue=e.defaultValue:"script"===i&&t.text!==e.text&&(t.text=e.text),t.removeAttribute(v.expando))}function ke(e){return void 0!==e.getElementsByTagName?e.getElementsByTagName("*"):void 0!==e.querySelectorAll?e.querySelectorAll("*"):[]}function Ae(e){we.test(e.type)&&(e.defaultChecked=e.checked)}Te.optgroup=Te.option,Te.tbody=Te.tfoot=Te.colgroup=Te.caption=Te.thead,Te.th=Te.td,v.support.htmlSerialize||(Te._default=[1,"X<div>","</div>"]),v.fn.extend({text:function(e){return v.access(this,function(e){return e===t?v.text(this):this.empty().append((this[0]&&this[0].ownerDocument||s).createTextNode(e))},null,e,arguments.length)},wrapAll:function(e){if(v.isFunction(e))return this.each(function(t){v(this).wrapAll(e.call(this,t))})
if(this[0]){var t=v(e,this[0].ownerDocument).eq(0).clone(!0)
this[0].parentNode&&t.insertBefore(this[0]),t.map(function(){for(var e=this;e.firstChild&&1===e.firstChild.nodeType;)e=e.firstChild
return e}).append(this)}return this},wrapInner:function(e){return v.isFunction(e)?this.each(function(t){v(this).wrapInner(e.call(this,t))}):this.each(function(){var t=v(this),i=t.contents()
i.length?i.wrapAll(e):t.append(e)})},wrap:function(e){var t=v.isFunction(e)
return this.each(function(i){v(this).wrapAll(t?e.call(this,i):e)})},unwrap:function(){return this.parent().each(function(){v.nodeName(this,"body")||v(this).replaceWith(this.childNodes)}).end()},append:function(){return this.domManip(arguments,!0,function(e){1!==this.nodeType&&11!==this.nodeType||this.appendChild(e)})},prepend:function(){return this.domManip(arguments,!0,function(e){1!==this.nodeType&&11!==this.nodeType||this.insertBefore(e,this.firstChild)})},before:function(){if(!oe(this[0]))return this.domManip(arguments,!1,function(e){this.parentNode.insertBefore(e,this)})
if(arguments.length){var e=v.clean(arguments)
return this.pushStack(v.merge(e,this),"before",this.selector)}},after:function(){if(!oe(this[0]))return this.domManip(arguments,!1,function(e){this.parentNode.insertBefore(e,this.nextSibling)})
if(arguments.length){var e=v.clean(arguments)
return this.pushStack(v.merge(this,e),"after",this.selector)}},remove:function(e,t){for(var i,n=0;null!=(i=this[n]);n++)e&&!v.filter(e,[i]).length||(t||1!==i.nodeType||(v.cleanData(i.getElementsByTagName("*")),v.cleanData([i])),i.parentNode&&i.parentNode.removeChild(i))
return this},empty:function(){for(var e,t=0;null!=(e=this[t]);t++)for(1===e.nodeType&&v.cleanData(e.getElementsByTagName("*"));e.firstChild;)e.removeChild(e.firstChild)
return this},clone:function(e,t){return e=null!=e&&e,t=null==t?e:t,this.map(function(){return v.clone(this,e,t)})},html:function(e){return v.access(this,function(e){var i=this[0]||{},n=0,r=this.length
if(e===t)return 1===i.nodeType?i.innerHTML.replace(ue,""):t
if("string"==typeof e&&!be.test(e)&&(v.support.htmlSerialize||!_e.test(e))&&(v.support.leadingWhitespace||!pe.test(e))&&!Te[(fe.exec(e)||["",""])[1].toLowerCase()]){e=e.replace(me,"<$1></$2>")
try{for(;n<r;n++)1===(i=this[n]||{}).nodeType&&(v.cleanData(i.getElementsByTagName("*")),i.innerHTML=e)
i=0}catch(e){}}i&&this.empty().append(e)},null,e,arguments.length)},replaceWith:function(e){return oe(this[0])?this.length?this.pushStack(v(v.isFunction(e)?e():e),"replaceWith",e):this:v.isFunction(e)?this.each(function(t){var i=v(this),n=i.html()
i.replaceWith(e.call(this,t,n))}):("string"!=typeof e&&(e=v(e).detach()),this.each(function(){var t=this.nextSibling,i=this.parentNode
v(this).remove(),t?v(t).before(e):v(i).append(e)}))},detach:function(e){return this.remove(e,!0)},domManip:function(e,i,n){var r,o,a,s,l,d,c=0,h=(e=[].concat.apply([],e))[0],u=[],p=this.length
if(!v.support.checkClone&&p>1&&"string"==typeof h&&xe.test(h))return this.each(function(){v(this).domManip(e,i,n)})
if(v.isFunction(h))return this.each(function(r){var o=v(this)
e[0]=h.call(this,r,i?o.html():t),o.domManip(e,i,n)})
if(this[0]){if(o=(a=(r=v.buildFragment(e,this,u)).fragment).firstChild,1===a.childNodes.length&&(a=o),o)for(i=i&&v.nodeName(o,"tr"),s=r.cacheable||p-1;c<p;c++)n.call(i&&v.nodeName(this[c],"table")?(l=this[c],d="tbody",l.getElementsByTagName(d)[0]||l.appendChild(l.ownerDocument.createElement(d))):this[c],c===s?a:v.clone(a,!0,!0))
a=o=null,u.length&&v.each(u,function(e,t){t.src?v.ajax?v.ajax({url:t.src,type:"GET",dataType:"script",async:!1,global:!1,throws:!0}):v.error("no ajax"):v.globalEval((t.text||t.textContent||t.innerHTML||"").replace(Se,"")),t.parentNode&&t.parentNode.removeChild(t)})}return this}}),v.buildFragment=function(e,i,n){var r,o,a,l=e[0]
return i=(i=!(i=i||s).nodeType&&i[0]||i).ownerDocument||i,!(1===e.length&&"string"==typeof l&&l.length<512&&i===s&&"<"===l.charAt(0))||ye.test(l)||!v.support.checkClone&&xe.test(l)||!v.support.html5Clone&&_e.test(l)||(o=!0,a=(r=v.fragments[l])!==t),r||(r=i.createDocumentFragment(),v.clean(e,i,r,n),o&&(v.fragments[l]=a&&r)),{fragment:r,cacheable:o}},v.fragments={},v.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(e,t){v.fn[e]=function(i){var n,r=0,o=[],a=v(i),s=a.length,l=1===this.length&&this[0].parentNode
if((null==l||l&&11===l.nodeType&&1===l.childNodes.length)&&1===s)return a[t](this[0]),this
for(;r<s;r++)n=(r>0?this.clone(!0):this).get(),v(a[r])[t](n),o=o.concat(n)
return this.pushStack(o,e,a.selector)}}),v.extend({clone:function(e,t,i){var n,r,o,a
if(v.support.html5Clone||v.isXMLDoc(e)||!_e.test("<"+e.nodeName+">")?a=e.cloneNode(!0):(Ee.innerHTML=e.outerHTML,Ee.removeChild(a=Ee.firstChild)),!(v.support.noCloneEvent&&v.support.noCloneChecked||1!==e.nodeType&&11!==e.nodeType||v.isXMLDoc(e)))for(De(e,a),n=ke(e),r=ke(a),o=0;n[o];++o)r[o]&&De(n[o],r[o])
if(t&&(Pe(e,a),i))for(n=ke(e),r=ke(a),o=0;n[o];++o)Pe(n[o],r[o])
return n=r=null,a},clean:function(e,t,i,n){var r,o,a,l,d,c,h,u,p,m,f,g=t===s&&Ie,b=[]
for(t&&void 0!==t.createDocumentFragment||(t=s),r=0;null!=(a=e[r]);r++)if("number"==typeof a&&(a+=""),a){if("string"==typeof a)if(ve.test(a)){for(g=g||le(t),h=t.createElement("div"),g.appendChild(h),a=a.replace(me,"<$1></$2>"),l=(fe.exec(a)||["",""])[1].toLowerCase(),c=(d=Te[l]||Te._default)[0],h.innerHTML=d[1]+a+d[2];c--;)h=h.lastChild
if(!v.support.tbody)for(u=ge.test(a),o=(p="table"!==l||u?"<table>"!==d[1]||u?[]:h.childNodes:h.firstChild&&h.firstChild.childNodes).length-1;o>=0;--o)v.nodeName(p[o],"tbody")&&!p[o].childNodes.length&&p[o].parentNode.removeChild(p[o])
!v.support.leadingWhitespace&&pe.test(a)&&h.insertBefore(t.createTextNode(pe.exec(a)[0]),h.firstChild),a=h.childNodes,h.parentNode.removeChild(h)}else a=t.createTextNode(a)
a.nodeType?b.push(a):v.merge(b,a)}if(h&&(a=h=g=null),!v.support.appendChecked)for(r=0;null!=(a=b[r]);r++)v.nodeName(a,"input")?Ae(a):void 0!==a.getElementsByTagName&&v.grep(a.getElementsByTagName("input"),Ae)
if(i)for(m=function(e){if(!e.type||Ce.test(e.type))return n?n.push(e.parentNode?e.parentNode.removeChild(e):e):i.appendChild(e)},r=0;null!=(a=b[r]);r++)v.nodeName(a,"script")&&m(a)||(i.appendChild(a),void 0!==a.getElementsByTagName&&(f=v.grep(v.merge([],a.getElementsByTagName("script")),m),b.splice.apply(b,[r+1,0].concat(f)),r+=f.length))
return b},cleanData:function(e,t){for(var i,n,r,o,a=0,s=v.expando,l=v.cache,d=v.support.deleteExpando,c=v.event.special;null!=(r=e[a]);a++)if((t||v.acceptData(r))&&(i=(n=r[s])&&l[n])){if(i.events)for(o in i.events)c[o]?v.event.remove(r,o):v.removeEvent(r,o,i.handle)
l[n]&&(delete l[n],d?delete r[s]:r.removeAttribute?r.removeAttribute(s):r[s]=null,v.deletedIds.push(n))}}}),v.uaMatch=function(e){e=e.toLowerCase()
var t=/(chrome)[ \/]([\w.]+)/.exec(e)||/(webkit)[ \/]([\w.]+)/.exec(e)||/(opera)(?:.*version|)[ \/]([\w.]+)/.exec(e)||/(msie) ([\w.]+)/.exec(e)||e.indexOf("compatible")<0&&/(mozilla)(?:.*? rv:([\w.]+)|)/.exec(e)||[]
return{browser:t[1]||"",version:t[2]||"0"}},ce={},(de=v.uaMatch(l.userAgent)).browser&&(ce[de.browser]=!0,ce.version=de.version),ce.chrome?ce.webkit=!0:ce.webkit&&(ce.safari=!0),v.browser=ce,v.sub=function(){function e(t,i){return new e.fn.init(t,i)}v.extend(!0,e,this),e.superclass=this,e.fn=e.prototype=this(),e.fn.constructor=e,e.sub=this.sub,e.fn.init=function(i,n){return n&&n instanceof v&&!(n instanceof e)&&(n=e(n)),v.fn.init.call(this,i,n,t)},e.fn.init.prototype=e.fn
var t=e(s)
return e}
var je,Me,Ne,qe=/alpha\([^)]*\)/i,Oe=/opacity=([^)]*)/,Be=/^(top|right|bottom|left)$/,Le=/^(none|table(?!-c[ea]).+)/,Re=/^margin/,He=new RegExp("^("+b+")(.*)$","i"),Ve=new RegExp("^("+b+")(?!px)[a-z%]+$","i"),Fe=new RegExp("^([-+])=("+b+")","i"),ze={BODY:"block"},$e={position:"absolute",visibility:"hidden",display:"block"},Ue={letterSpacing:0,fontWeight:400},Ge=["Top","Right","Bottom","Left"],We=["Webkit","O","Moz","ms"],Xe=v.fn.toggle
function Je(e,t){if(t in e)return t
for(var i=t.charAt(0).toUpperCase()+t.slice(1),n=t,r=We.length;r--;)if((t=We[r]+i)in e)return t
return n}function Ye(e,t){return e=t||e,"none"===v.css(e,"display")||!v.contains(e.ownerDocument,e)}function Qe(e,t){for(var i,n,r=[],o=0,a=e.length;o<a;o++)(i=e[o]).style&&(r[o]=v._data(i,"olddisplay"),t?(r[o]||"none"!==i.style.display||(i.style.display=""),""===i.style.display&&Ye(i)&&(r[o]=v._data(i,"olddisplay",tt(i.nodeName)))):(n=je(i,"display"),r[o]||"none"===n||v._data(i,"olddisplay",n)))
for(o=0;o<a;o++)(i=e[o]).style&&(t&&"none"!==i.style.display&&""!==i.style.display||(i.style.display=t?r[o]||"":"none"))
return e}function Ke(e,t,i){var n=He.exec(t)
return n?Math.max(0,n[1]-(i||0))+(n[2]||"px"):t}function Ze(e,t,i,n){for(var r=i===(n?"border":"content")?4:"width"===t?1:0,o=0;r<4;r+=2)"margin"===i&&(o+=v.css(e,i+Ge[r],!0)),n?("content"===i&&(o-=parseFloat(je(e,"padding"+Ge[r]))||0),"margin"!==i&&(o-=parseFloat(je(e,"border"+Ge[r]+"Width"))||0)):(o+=parseFloat(je(e,"padding"+Ge[r]))||0,"padding"!==i&&(o+=parseFloat(je(e,"border"+Ge[r]+"Width"))||0))
return o}function et(e,t,i){var n="width"===t?e.offsetWidth:e.offsetHeight,r=!0,o=v.support.boxSizing&&"border-box"===v.css(e,"boxSizing")
if(n<=0||null==n){if(((n=je(e,t))<0||null==n)&&(n=e.style[t]),Ve.test(n))return n
r=o&&(v.support.boxSizingReliable||n===e.style[t]),n=parseFloat(n)||0}return n+Ze(e,t,i||(o?"border":"content"),r)+"px"}function tt(e){if(ze[e])return ze[e]
var t=v("<"+e+">").appendTo(s.body),i=t.css("display")
return t.remove(),"none"!==i&&""!==i||(Me=s.body.appendChild(Me||v.extend(s.createElement("iframe"),{frameBorder:0,width:0,height:0})),Ne&&Me.createElement||((Ne=(Me.contentWindow||Me.contentDocument).document).write("<!doctype html><html><body>"),Ne.close()),t=Ne.body.appendChild(Ne.createElement(e)),i=je(t,"display"),s.body.removeChild(Me)),ze[e]=i,i}v.fn.extend({css:function(e,i){return v.access(this,function(e,i,n){return n!==t?v.style(e,i,n):v.css(e,i)},e,i,arguments.length>1)},show:function(){return Qe(this,!0)},hide:function(){return Qe(this)},toggle:function(e,t){var i="boolean"==typeof e
return v.isFunction(e)&&v.isFunction(t)?Xe.apply(this,arguments):this.each(function(){(i?e:Ye(this))?v(this).show():v(this).hide()})}}),v.extend({cssHooks:{opacity:{get:function(e,t){if(t){var i=je(e,"opacity")
return""===i?"1":i}}}},cssNumber:{fillOpacity:!0,fontWeight:!0,lineHeight:!0,opacity:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{float:v.support.cssFloat?"cssFloat":"styleFloat"},style:function(e,i,n,r){if(e&&3!==e.nodeType&&8!==e.nodeType&&e.style){var o,a,s,l=v.camelCase(i),d=e.style
if(i=v.cssProps[l]||(v.cssProps[l]=Je(d,l)),s=v.cssHooks[i]||v.cssHooks[l],n===t)return s&&"get"in s&&(o=s.get(e,!1,r))!==t?o:d[i]
if("string"==(a=typeof n)&&(o=Fe.exec(n))&&(n=(o[1]+1)*o[2]+parseFloat(v.css(e,i)),a="number"),!(null==n||"number"===a&&isNaN(n)||("number"!==a||v.cssNumber[l]||(n+="px"),s&&"set"in s&&(n=s.set(e,n,r))===t)))try{d[i]=n}catch(e){}}},css:function(e,i,n,r){var o,a,s,l=v.camelCase(i)
return i=v.cssProps[l]||(v.cssProps[l]=Je(e.style,l)),(s=v.cssHooks[i]||v.cssHooks[l])&&"get"in s&&(o=s.get(e,!0,r)),o===t&&(o=je(e,i)),"normal"===o&&i in Ue&&(o=Ue[i]),n||r!==t?(a=parseFloat(o),n||v.isNumeric(a)?a||0:o):o},swap:function(e,t,i){var n,r,o={}
for(r in t)o[r]=e.style[r],e.style[r]=t[r]
for(r in n=i.call(e),t)e.style[r]=o[r]
return n}}),e.getComputedStyle?je=function(t,i){var n,r,o,a,s=e.getComputedStyle(t,null),l=t.style
return s&&(""!==(n=s.getPropertyValue(i)||s[i])||v.contains(t.ownerDocument,t)||(n=v.style(t,i)),Ve.test(n)&&Re.test(i)&&(r=l.width,o=l.minWidth,a=l.maxWidth,l.minWidth=l.maxWidth=l.width=n,n=s.width,l.width=r,l.minWidth=o,l.maxWidth=a)),n}:s.documentElement.currentStyle&&(je=function(e,t){var i,n,r=e.currentStyle&&e.currentStyle[t],o=e.style
return null==r&&o&&o[t]&&(r=o[t]),Ve.test(r)&&!Be.test(t)&&(i=o.left,(n=e.runtimeStyle&&e.runtimeStyle.left)&&(e.runtimeStyle.left=e.currentStyle.left),o.left="fontSize"===t?"1em":r,r=o.pixelLeft+"px",o.left=i,n&&(e.runtimeStyle.left=n)),""===r?"auto":r}),v.each(["height","width"],function(e,t){v.cssHooks[t]={get:function(e,i,n){if(i)return 0===e.offsetWidth&&Le.test(je(e,"display"))?v.swap(e,$e,function(){return et(e,t,n)}):et(e,t,n)},set:function(e,i,n){return Ke(0,i,n?Ze(e,t,n,v.support.boxSizing&&"border-box"===v.css(e,"boxSizing")):0)}}}),v.support.opacity||(v.cssHooks.opacity={get:function(e,t){return Oe.test((t&&e.currentStyle?e.currentStyle.filter:e.style.filter)||"")?.01*parseFloat(RegExp.$1)+"":t?"1":""},set:function(e,t){var i=e.style,n=e.currentStyle,r=v.isNumeric(t)?"alpha(opacity="+100*t+")":"",o=n&&n.filter||i.filter||""
i.zoom=1,t>=1&&""===v.trim(o.replace(qe,""))&&i.removeAttribute&&(i.removeAttribute("filter"),n&&!n.filter)||(i.filter=qe.test(o)?o.replace(qe,r):o+" "+r)}}),v(function(){v.support.reliableMarginRight||(v.cssHooks.marginRight={get:function(e,t){return v.swap(e,{display:"inline-block"},function(){if(t)return je(e,"marginRight")})}}),!v.support.pixelPosition&&v.fn.position&&v.each(["top","left"],function(e,t){v.cssHooks[t]={get:function(e,i){if(i){var n=je(e,t)
return Ve.test(n)?v(e).position()[t]+"px":n}}}})}),v.expr&&v.expr.filters&&(v.expr.filters.hidden=function(e){return 0===e.offsetWidth&&0===e.offsetHeight||!v.support.reliableHiddenOffsets&&"none"===(e.style&&e.style.display||je(e,"display"))},v.expr.filters.visible=function(e){return!v.expr.filters.hidden(e)}),v.each({margin:"",padding:"",border:"Width"},function(e,t){v.cssHooks[e+t]={expand:function(i){var n,r="string"==typeof i?i.split(" "):[i],o={}
for(n=0;n<4;n++)o[e+Ge[n]+t]=r[n]||r[n-2]||r[0]
return o}},Re.test(e)||(v.cssHooks[e+t].set=Ke)})
var nt=/%20/g,rt=/\[\]$/,ot=/\r?\n/g,at=/^(?:color|date|datetime|datetime-local|email|hidden|month|number|password|range|search|tel|text|time|url|week)$/i,st=/^(?:select|textarea)/i
function lt(e,t,i,n){var r
if(v.isArray(t))v.each(t,function(t,r){i||rt.test(e)?n(e,r):lt(e+"["+("object"==typeof r?t:"")+"]",r,i,n)})
else if(i||"object"!==v.type(t))n(e,t)
else for(r in t)lt(e+"["+r+"]",t[r],i,n)}v.fn.extend({serialize:function(){return v.param(this.serializeArray())},serializeArray:function(){return this.map(function(){return this.elements?v.makeArray(this.elements):this}).filter(function(){return this.name&&!this.disabled&&(this.checked||st.test(this.nodeName)||at.test(this.type))}).map(function(e,t){var i=v(this).val()
return null==i?null:v.isArray(i)?v.map(i,function(e,i){return{name:t.name,value:e.replace(ot,"\r\n")}}):{name:t.name,value:i.replace(ot,"\r\n")}}).get()}}),v.param=function(e,i){var n,r=[],o=function(e,t){t=v.isFunction(t)?t():null==t?"":t,r[r.length]=encodeURIComponent(e)+"="+encodeURIComponent(t)}
if(i===t&&(i=v.ajaxSettings&&v.ajaxSettings.traditional),v.isArray(e)||e.jqx&&!v.isPlainObject(e))v.each(e,function(){o(this.name,this.value)})
else for(n in e)lt(n,e[n],i,o)
return r.join("&").replace(nt,"+")},v.support.ajax&&v.ajaxTransport(function(n){var r
if(!n.crossDomain||v.support.cors)return{send:function(s,l){var d,c,h=n.xhr()
if(n.username?h.open(n.type,n.url,n.async,n.username,n.password):h.open(n.type,n.url,n.async),n.xhrFields)for(c in n.xhrFields)h[c]=n.xhrFields[c]
n.mimeType&&h.overrideMimeType&&h.overrideMimeType(n.mimeType),n.crossDomain||s["X-Requested-With"]||(s["X-Requested-With"]="XMLHttpRequest")
try{for(c in s)h.setRequestHeader(c,s[c])}catch(e){}h.send(n.hasContent&&n.data||null),r=function(e,a){var s,c,u,p,m
try{if(r&&(a||4===h.readyState))if(r=t,d&&(h.onreadystatechange=v.noop,o&&delete i[d]),a)4!==h.readyState&&h.abort()
else{s=h.status,u=h.getAllResponseHeaders(),p={},(m=h.responseXML)&&m.documentElement&&(p.xml=m)
try{p.text=h.responseText}catch(e){}try{c=h.statusText}catch(e){c=""}s||!n.isLocal||n.crossDomain?1223===s&&(s=204):s=p.text?200:404}}catch(e){a||l(-1,e)}p&&l(s,c,p,u)},n.async?4===h.readyState?setTimeout(r,0):(d=++a,o&&(i||(i={},v(e).unload(o)),i[d]=r),h.onreadystatechange=r):r()},abort:function(){r&&r(0,1)}}})
var dt,ct,ht=/^(?:toggle|show|hide)$/,ut=new RegExp("^(?:([-+])=|)("+b+")([a-z%]*)$","i"),pt=/queueHooks$/,mt=[function(e,t,i){var n,r,o,a,s,l,d,c,h,u=this,p=e.style,m={},f=[],g=e.nodeType&&Ye(e)
for(n in i.queue||(null==(c=v._queueHooks(e,"fx")).unqueued&&(c.unqueued=0,h=c.empty.fire,c.empty.fire=function(){c.unqueued||h()}),c.unqueued++,u.always(function(){u.always(function(){c.unqueued--,v.queue(e,"fx").length||c.empty.fire()})})),1===e.nodeType&&("height"in t||"width"in t)&&(i.overflow=[p.overflow,p.overflowX,p.overflowY],"inline"===v.css(e,"display")&&"none"===v.css(e,"float")&&(v.support.inlineBlockNeedsLayout&&"inline"!==tt(e.nodeName)?p.zoom=1:p.display="inline-block")),i.overflow&&(p.overflow="hidden",v.support.shrinkWrapBlocks||u.done(function(){p.overflow=i.overflow[0],p.overflowX=i.overflow[1],p.overflowY=i.overflow[2]})),t)if(o=t[n],ht.exec(o)){if(delete t[n],l=l||"toggle"===o,o===(g?"hide":"show"))continue
f.push(n)}if(a=f.length){"hidden"in(s=v._data(e,"fxshow")||v._data(e,"fxshow",{}))&&(g=s.hidden),l&&(s.hidden=!g),g?v(e).show():u.done(function(){v(e).hide()}),u.done(function(){var t
for(t in v.removeData(e,"fxshow",!0),m)v.style(e,t,m[t])})
for(n=0;n<a;n++)r=f[n],d=u.createTween(r,g?s[r]:0),m[r]=s[r]||v.style(e,r),r in s||(s[r]=d.start,g&&(d.end=d.start,d.start="width"===r||"height"===r?1:0))}}],ft={"*":[function(e,t){var i,n,r=this.createTween(e,t),o=ut.exec(t),a=r.cur(),s=+a||0,l=1,d=20
if(o){if(i=+o[2],"px"!==(n=o[3]||(v.cssNumber[e]?"":"px"))&&s){s=v.css(r.elem,e,!0)||i||1
do{s/=l=l||".5",v.style(r.elem,e,s+n)}while(l!==(l=r.cur()/a)&&1!==l&&--d)}r.unit=n,r.start=s,r.end=o[1]?s+(o[1]+1)*i:i}return r}]}
function gt(){return setTimeout(function(){dt=t},0),dt=v.now()}function vt(e,t,i){var n,r=0,o=mt.length,a=v.Deferred().always(function(){delete s.elem}),s=function(){for(var t=dt||gt(),i=Math.max(0,l.startTime+l.duration-t),n=1-(i/l.duration||0),r=0,o=l.tweens.length;r<o;r++)l.tweens[r].run(n)
return a.notifyWith(e,[l,n,i]),n<1&&o?i:(a.resolveWith(e,[l]),!1)},l=a.promise({elem:e,props:v.extend({},t),opts:v.extend(!0,{specialEasing:{}},i),originalProperties:t,originalOptions:i,startTime:dt||gt(),duration:i.duration,tweens:[],createTween:function(t,i,n){var r=v.Tween(e,l.opts,t,i,l.opts.specialEasing[t]||l.opts.easing)
return l.tweens.push(r),r},stop:function(t){for(var i=0,n=t?l.tweens.length:0;i<n;i++)l.tweens[i].run(1)
return t?a.resolveWith(e,[l,t]):a.rejectWith(e,[l,t]),this}}),d=l.props
for(function(e,t){var i,n,r,o,a
for(i in e)if(n=v.camelCase(i),r=t[n],o=e[i],v.isArray(o)&&(r=o[1],o=e[i]=o[0]),i!==n&&(e[n]=o,delete e[i]),(a=v.cssHooks[n])&&"expand"in a)for(i in o=a.expand(o),delete e[n],o)i in e||(e[i]=o[i],t[i]=r)
else t[n]=r}(d,l.opts.specialEasing);r<o;r++)if(n=mt[r].call(l,e,d,l.opts))return n
return function(e,t){v.each(t,function(t,i){for(var n=(ft[t]||[]).concat(ft["*"]),r=0,o=n.length;r<o;r++)if(n[r].call(e,t,i))return})}(l,d),v.isFunction(l.opts.start)&&l.opts.start.call(e,l),v.fx.timer(v.extend(s,{anim:l,queue:l.opts.queue,elem:e})),l.progress(l.opts.progress).done(l.opts.done,l.opts.complete).fail(l.opts.fail).always(l.opts.always)}function bt(e,t,i,n,r){return new bt.prototype.init(e,t,i,n,r)}function yt(e,t){var i,n={height:e},r=0
for(t=t?1:0;r<4;r+=2-t)n["margin"+(i=Ge[r])]=n["padding"+i]=e
return t&&(n.opacity=n.width=e),n}v.Animation=v.extend(vt,{tweener:function(e,t){v.isFunction(e)?(t=e,e=["*"]):e=e.split(" ")
for(var i,n=0,r=e.length;n<r;n++)i=e[n],ft[i]=ft[i]||[],ft[i].unshift(t)},prefilter:function(e,t){t?mt.unshift(e):mt.push(e)}}),v.Tween=bt,bt.prototype={constructor:bt,init:function(e,t,i,n,r,o){this.elem=e,this.prop=i,this.easing=r||"swing",this.options=t,this.start=this.now=this.cur(),this.end=n,this.unit=o||(v.cssNumber[i]?"":"px")},cur:function(){var e=bt.propHooks[this.prop]
return e&&e.get?e.get(this):bt.propHooks._default.get(this)},run:function(e){var t,i=bt.propHooks[this.prop]
return this.options.duration?this.pos=t=v.easing[this.easing](e,this.options.duration*e,0,1,this.options.duration):this.pos=t=e,this.now=(this.end-this.start)*t+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),i&&i.set?i.set(this):bt.propHooks._default.set(this),this}},bt.prototype.init.prototype=bt.prototype,bt.propHooks={_default:{get:function(e){var t
return null==e.elem[e.prop]||e.elem.style&&null!=e.elem.style[e.prop]?(t=v.css(e.elem,e.prop,!1,""))&&"auto"!==t?t:0:e.elem[e.prop]},set:function(e){v.fx.step[e.prop]?v.fx.step[e.prop](e):e.elem.style&&(null!=e.elem.style[v.cssProps[e.prop]]||v.cssHooks[e.prop])?v.style(e.elem,e.prop,e.now+e.unit):e.elem[e.prop]=e.now}}},bt.propHooks.scrollTop=bt.propHooks.scrollLeft={set:function(e){e.elem.nodeType&&e.elem.parentNode&&(e.elem[e.prop]=e.now)}},v.each(["toggle","show","hide"],function(e,t){var i=v.fn[t]
v.fn[t]=function(n,r,o){return null==n||"boolean"==typeof n||!e&&v.isFunction(n)&&v.isFunction(r)?i.apply(this,arguments):this.animate(yt(t,!0),n,r,o)}}),v.fn.extend({fadeTo:function(e,t,i,n){return this.filter(Ye).css("opacity",0).show().end().animate({opacity:t},e,i,n)},animate:function(e,t,i,n){var r=v.isEmptyObject(e),o=v.speed(t,i,n),a=function(){var t=vt(this,v.extend({},e),o)
r&&t.stop(!0)}
return r||!1===o.queue?this.each(a):this.queue(o.queue,a)},stop:function(e,i,n){var r=function(e){var t=e.stop
delete e.stop,t(n)}
return"string"!=typeof e&&(n=i,i=e,e=t),i&&!1!==e&&this.queue(e||"fx",[]),this.each(function(){var t=!0,i=null!=e&&e+"queueHooks",o=v.timers,a=v._data(this)
if(i)a[i]&&a[i].stop&&r(a[i])
else for(i in a)a[i]&&a[i].stop&&pt.test(i)&&r(a[i])
for(i=o.length;i--;)o[i].elem!==this||null!=e&&o[i].queue!==e||(o[i].anim.stop(n),t=!1,o.splice(i,1))
!t&&n||v.dequeue(this,e)})}}),v.each({slideDown:yt("show"),slideUp:yt("hide"),slideToggle:yt("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(e,t){v.fn[e]=function(e,i,n){return this.animate(t,e,i,n)}}),v.speed=function(e,t,i){var n=e&&"object"==typeof e?v.extend({},e):{complete:i||!i&&t||v.isFunction(e)&&e,duration:e,easing:i&&t||t&&!v.isFunction(t)&&t}
return n.duration=v.fx.off?0:"number"==typeof n.duration?n.duration:n.duration in v.fx.speeds?v.fx.speeds[n.duration]:v.fx.speeds._default,null!=n.queue&&!0!==n.queue||(n.queue="fx"),n.old=n.complete,n.complete=function(){v.isFunction(n.old)&&n.old.call(this),n.queue&&v.dequeue(this,n.queue)},n},v.easing={linear:function(e){return e},swing:function(e){return.5-Math.cos(e*Math.PI)/2}},v.timers=[],v.fx=bt.prototype.init,v.fx.tick=function(){var e,i=v.timers,n=0
for(dt=v.now();n<i.length;n++)(e=i[n])()||i[n]!==e||i.splice(n--,1)
i.length||v.fx.stop(),dt=t},v.fx.timer=function(e){e()&&v.timers.push(e)&&!ct&&(ct=setInterval(v.fx.tick,v.fx.interval))},v.fx.interval=13,v.fx.stop=function(){clearInterval(ct),ct=null},v.fx.speeds={slow:600,fast:200,_default:400},v.fx.step={},v.expr&&v.expr.filters&&(v.expr.filters.animated=function(e){return v.grep(v.timers,function(t){return e===t.elem}).length})
var _t=/^(?:body|html)$/i
function wt(e){return v.isWindow(e)?e:9===e.nodeType&&(e.defaultView||e.parentWindow)}v.fn.offset=function(e){if(arguments.length)return e===t?this:this.each(function(t){v.offset.setOffset(this,e,t)})
var i,n,r,o,a,s,l,d={top:0,left:0},c=this[0],h=c&&c.ownerDocument
return h?(n=h.body)===c?v.offset.bodyOffset(c):(i=h.documentElement,v.contains(i,c)?(void 0!==c.getBoundingClientRect&&(d=c.getBoundingClientRect()),r=wt(h),o=i.clientTop||n.clientTop||0,a=i.clientLeft||n.clientLeft||0,s=r.pageYOffset||i.scrollTop,l=r.pageXOffset||i.scrollLeft,{top:d.top+s-o,left:d.left+l-a}):d):void 0},v.offset={bodyOffset:function(e){var t=e.offsetTop,i=e.offsetLeft
return v.support.doesNotIncludeMarginInBodyOffset&&(t+=parseFloat(v.css(e,"marginTop"))||0,i+=parseFloat(v.css(e,"marginLeft"))||0),{top:t,left:i}},setOffset:function(e,t,i){var n=v.css(e,"position")
"static"===n&&(e.style.position="relative")
var r,o,a=v(e),s=a.offset(),l=v.css(e,"top"),d=v.css(e,"left"),c={},h={};("absolute"===n||"fixed"===n)&&v.inArray("auto",[l,d])>-1?(r=(h=a.position()).top,o=h.left):(r=parseFloat(l)||0,o=parseFloat(d)||0),v.isFunction(t)&&(t=t.call(e,i,s)),null!=t.top&&(c.top=t.top-s.top+r),null!=t.left&&(c.left=t.left-s.left+o),"using"in t?t.using.call(e,c):a.css(c)}},v.fn.extend({isRendered:function(){var e=this[0]
return null!=e.parentNode&&0!==e.offsetWidth&&0!==e.offsetHeight},getSizeFromStyle:function(){var t,i=null,n=null,r=this[0]
return r.style.width&&(i=r.style.width),r.style.height&&(n=r.style.height),(t=e.getComputedStyle?getComputedStyle(r,null):r.currentStyle)&&(t.width&&(i=t.width),t.height&&(n=t.height)),"0px"===i&&(i=0),"0px"===n&&(n=0),null===i&&(i=0),null===n&&(n=0),{width:i,height:n}},initAnimate:function(){},sizeStyleChanged:function(e){var t,i=this
t={element:i[0],offsetWidth:i[0].offsetWidth,offsetHeight:i[0].offsetHeight,callback:e}
try{i.elementStyleObserver||(i.elementStyleObserver=new MutationObserver(function(e){var n=t
e&&e[0]&&"style"===e[0].attributeName&&"attributes"===e[0].type&&(n.element.offsetWidth===n.offsetWidth&&n.element.offsetHeight===n.offsetHeight||(n.offsetWidth=n.element.offsetWidth,n.offsetHeight=n.element.offsetHeight,i.isRendered()&&n.callback()))}),i.elementStyleObserver.observe(i[0],{attributes:!0,childList:!1,characterData:!1}))}catch(e){}},position:function(){if(this[0]){var e=this[0],t=this.offsetParent(),i=this.offset(),n=_t.test(t[0].nodeName)?{top:0,left:0}:t.offset()
return i.top-=parseFloat(v.css(e,"marginTop"))||0,i.left-=parseFloat(v.css(e,"marginLeft"))||0,n.top+=parseFloat(v.css(t[0],"borderTopWidth"))||0,n.left+=parseFloat(v.css(t[0],"borderLeftWidth"))||0,{top:i.top-n.top,left:i.left-n.left}}},offsetParent:function(){return this.map(function(){for(var e=this.offsetParent||s.body;e&&!_t.test(e.nodeName)&&"static"===v.css(e,"position");)e=e.offsetParent
return e||s.body})}}),v.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(e,i){var n=/Y/.test(i)
v.fn[e]=function(r){return v.access(this,function(e,r,o){var a=wt(e)
if(o===t)return a?i in a?a[i]:a.document.documentElement[r]:e[r]
a?a.scrollTo(n?v(a).scrollLeft():o,n?o:v(a).scrollTop()):e[r]=o},e,r,arguments.length,null)}}),v.each({Height:"height",Width:"width"},function(e,i){v.each({padding:"inner"+e,content:i,"":"outer"+e},function(n,r){v.fn[r]=function(r,o){var a=arguments.length&&(n||"boolean"!=typeof r),s=n||(!0===r||!0===o?"margin":"border")
return v.access(this,function(i,n,r){var o
return v.isWindow(i)?i.document.documentElement["client"+e]:9===i.nodeType?(o=i.documentElement,Math.max(i.body["scroll"+e],o["scroll"+e],i.body["offset"+e],o["offset"+e],o["client"+e])):r===t?v.css(i,n,r,s):v.style(i,n,r,s)},i,a?r:t,a,null)}})}),e.JQXLite=e.jqxHelper=v,"function"==typeof define&&define.amd&&define.amd.JQXLite&&define("jqx",[],function(){return v})}(window),function(e){e.jQuery?e.minQuery=e.JQXLite=e.jQuery:e.$?e.minQuery=e.JQXLite=e.$:e.$=e.minQuery=e.JQXLite}(window),window.jqxBaseFramework=window.minQuery||window.jQuery,function(e){e.jqx=e.jqx||{}
var t,i,n,r,o={createInstance:function(t,i,n){if("jqxDataAdapter"==i){var r=n[0],o=n[1]||{}
return new e.jqx.dataAdapter(r,o)}return e(t)[i](n||{}),e(t)[i]("getInstance")}}
e.jqx.define=function(e,t,i){e[t]=function(){this.baseType&&(this.base=new e[this.baseType],this.base.defineInstance()),this.defineInstance(),this.metaInfo()},e[t].prototype.defineInstance=function(){},e[t].prototype.metaInfo=function(){},e[t].prototype.base=null,e[t].prototype.baseType=void 0,i&&e[i]&&(e[t].prototype.baseType=i)},e.jqx.invoke=function(t,i){if(0!=i.length){for(var n=typeof i==Array||i.length>0?i[0]:i,r=typeof i==Array||i.length>1?Array.prototype.slice.call(i,1):e({}).toArray();null==t[n]&&null!=t.base;){if(null!=t[n]&&e.isFunction(t[n]))return t[n].apply(t,r)
var o
if("string"==typeof n&&null!=t[o=n.toLowerCase()]&&e.isFunction(t[o]))return t[o].apply(t,r)
t=t.base}if(null!=t[n]&&e.isFunction(t[n]))return t[n].apply(t,r)
if("string"==typeof n&&null!=t[o=n.toLowerCase()]&&e.isFunction(t[o]))return t[o].apply(t,r)}},e.jqx.hasProperty=function(e,t){if("object"==typeof t)for(var i in t){for(var n=e;n;){if(n.hasOwnProperty(i))return!0
if(n.hasOwnProperty(i.toLowerCase()))return!0
n=n.base}return!1}else for(;e;){if(e.hasOwnProperty(t))return!0
if(e.hasOwnProperty(t.toLowerCase()))return!0
e=e.base}return!1},e.jqx.hasFunction=function(t,i){if(0==i.length)return!1
if(null==t)return!1
var n=typeof i==Array||i.length>0?i[0]:i
for((typeof i==Array||i.length>1)&&Array.prototype.slice.call(i,1);null==t[n]&&null!=t.base;){if(t[n]&&e.isFunction(t[n]))return!0
var r
if("string"==typeof n&&t[r=n.toLowerCase()]&&e.isFunction(t[r]))return!0
t=t.base}return!(!t[n]||!e.isFunction(t[n]))||!("string"!=typeof n||!t[r=n.toLowerCase()]||!e.isFunction(t[r]))},e.jqx.isPropertySetter=function(t,i){return 1==i.length&&"object"==typeof i[0]||2==i.length&&"string"==typeof i[0]&&!e.jqx.hasFunction(t,i)},e.jqx.validatePropertySetter=function(t,i,n){if(!e.jqx.propertySetterValidation)return!0
if(1==i.length&&"object"==typeof i[0]){for(var r in i[0]){for(var o=t;!o.hasOwnProperty(r)&&o.base;)o=o.base
if(!o||!o.hasOwnProperty(r)){if(!n){if(o.hasOwnProperty(r.toString().toLowerCase()))return!0
throw"Invalid property: "+r}return!1}}return!0}if(2!=i.length){if(!n)throw"Invalid property: "+i.length>=0?i[0]:""
return!1}for(;!t.hasOwnProperty(i[0])&&t.base;)t=t.base
if(!t||!t.hasOwnProperty(i[0])){if(!n)throw"Invalid property: "+i[0]
return!1}return!0},Object.keys||(Object.keys=(t=Object.prototype.hasOwnProperty,i=!{toString:null}.propertyIsEnumerable("toString"),r=(n=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"]).length,function(e){if("object"!=typeof e&&("function"!=typeof e||null===e))throw new TypeError("Object.keys called on non-object")
var o,a,s=[]
for(o in e)t.call(e,o)&&s.push(o)
if(i)for(a=0;a<r;a++)t.call(e,n[a])&&s.push(n[a])
return s})),e.jqx.set=function(t,i){var n=0
if(1==i.length&&"object"==typeof i[0]){if(t.isInitialized&&Object.keys&&Object.keys(i[0]).length>1){var r=t.base?t.base.element:t.element,o=e.data(r,t.widgetName).initArgs
if(o&&JSON&&JSON.stringify&&i[0]&&o[0])try{if(JSON.stringify(i[0])==JSON.stringify(o[0])){var a=!0
if(e.each(i[0],function(e,i){if(t[e]!=i)return a=!1,!1}),a)return}}catch(e){}t.batchUpdate=i[0]
var s={},l={}
e.each(i[0],function(e,i){for(var r=t;!r.hasOwnProperty(e)&&null!=r.base;)r=r.base
r.hasOwnProperty(e)?t[e]!=i&&(s[e]=t[e],l[e]=i,n++):r.hasOwnProperty(e.toLowerCase())&&t[e.toLowerCase()]!=i&&(s[e.toLowerCase()]=t[e.toLowerCase()],l[e.toLowerCase()]=i,n++)}),n<2&&(t.batchUpdate=null)}e.each(i[0],function(i,n){for(var r=t;!r.hasOwnProperty(i)&&null!=r.base;)r=r.base
if(r.hasOwnProperty(i))e.jqx.setvalueraiseevent(r,i,n)
else if(r.hasOwnProperty(i.toLowerCase()))e.jqx.setvalueraiseevent(r,i.toLowerCase(),n)
else if(e.jqx.propertySetterValidation)throw"jqxCore: invalid property '"+i+"'"}),null!=t.batchUpdate&&(t.batchUpdate=null,t.propertiesChangedHandler&&n>1&&t.propertiesChangedHandler(t,s,l))}else if(2==i.length){for(;!t.hasOwnProperty(i[0])&&t.base;)t=t.base
if(t.hasOwnProperty(i[0]))e.jqx.setvalueraiseevent(t,i[0],i[1])
else if(t.hasOwnProperty(i[0].toLowerCase()))e.jqx.setvalueraiseevent(t,i[0].toLowerCase(),i[1])
else if(e.jqx.propertySetterValidation)throw"jqxCore: invalid property '"+i[0]+"'"}},e.jqx.setvalueraiseevent=function(e,t,i){var n=e[t]
e[t]=i,e.isInitialized&&(null!=e.propertyChangedHandler&&e.propertyChangedHandler(e,t,n,i),null!=e.propertyChangeMap&&null!=e.propertyChangeMap[t]&&e.propertyChangeMap[t](e,t,n,i))},e.jqx.get=function(e,t){if(null!=t&&null!=t){if(e.propertyMap){var i=e.propertyMap(t)
if(null!=i)return i}if(e.hasOwnProperty(t))return e[t]
if(e.hasOwnProperty(t.toLowerCase()))return e[t.toLowerCase()]
var n=void 0
if(typeof t==Array){if(1!=t.length)return
n=t[0]}else"string"==typeof t&&(n=t)
for(;!e.hasOwnProperty(n)&&e.base;)e=e.base
return e?e[n]:void 0}},e.jqx.serialize=function(t){var i=""
if(e.isArray(t)){i="["
for(var n=0;n<t.length;n++)n>0&&(i+=", "),i+=e.jqx.serialize(t[n])
i+="]"}else if("object"==typeof t){i="{"
var r=0
for(var n in t)r++>0&&(i+=", "),i+=n+": "+e.jqx.serialize(t[n])
i+="}"}else i=t.toString()
return i},e.jqx.propertySetterValidation=!0,e.jqx.jqxWidgetProxy=function(t,i,n){e(i)
var r=e.data(i,t)
if(null!=r){var o=r.instance
if(e.jqx.hasFunction(o,n))return e.jqx.invoke(o,n)
if(e.jqx.isPropertySetter(o,n)){if(e.jqx.validatePropertySetter(o,n))return void e.jqx.set(o,n)}else{if("object"==typeof n&&0==n.length)return
if("object"==typeof n&&1==n.length&&e.jqx.hasProperty(o,n[0]))return e.jqx.get(o,n[0])
if("string"==typeof n&&e.jqx.hasProperty(o,n[0]))return e.jqx.get(o,n)}throw"jqxCore: Invalid parameter '"+e.jqx.serialize(n)+"' does not exist."}},e.jqx.applyWidget=function(t,i,n,r){var o=!1
try{o=null!=window.MSApp}catch(e){}var a=e(t)
r?(r.host=a,r.element=t):r=new e.jqx["_"+i],""==t.id&&(t.id=e.jqx.utilities.createId())
var s={host:a,element:t,instance:r,initArgs:n}
r.widgetName=i,e.data(t,i,s),e.data(t,"jqxWidget",s.instance)
var l=new Array
for(r=s.instance;r;)r.isInitialized=!1,l.push(r),r=r.base
for(var d in l.reverse(),l[0].theme=e.jqx.theme||"",e.jqx.jqxWidgetProxy(i,t,n),l)r=l[d],0==d&&(r.host=a,r.element=t,r.WinJS=o),null!=r&&(r.definedInstance&&r.definedInstance(),null!=r.createInstance&&(o?MSApp.execUnsafeLocalFunction(function(){r.createInstance(n)}):r.createInstance(n)))
for(var d in l)null!=l[d]&&(l[d].isInitialized=!0)
o?MSApp.execUnsafeLocalFunction(function(){s.instance.refresh(!0)}):s.instance.refresh(!0)},e.jqx.jqxWidget=function(t,i,n){try{Array.prototype.slice.call(n,0)}catch(e){}try{window.MSApp}catch(e){}var r=t,a=""
i&&(a="_"+i),e.jqx.define(e.jqx,"_"+r,a)
var s=new Array
if(!window[r]){var l=function(t){if(null==t)return""
switch(e.type(t)){case"string":case"number":case"date":case"boolean":case"bool":return null===t?"":t.toString()}var i=""
return e.each(t,function(t,n){var r=n
t>0&&(i+=", "),i+="["
var o=0
if("object"==e.type(r))for(var a in r)o>0&&(i+=", "),i+="{"+a+":"+r[a]+"}",o++
else o>0&&(i+=", "),i+="{"+t+":"+r+"}",o++
i+="]"}),i}
o[r]=window[r]=function(t,i){var n=[]
i||(i={}),n.push(i)
var o=t
if("object"===e.type(o)&&t[0]?""===(o=t[0].id)&&(o=t[0].id=e.jqx.utilities.createId()):"object"===e.type(t)&&t&&t.nodeName&&""===(o=t.id)&&(o=t.id=e.jqx.utilities.createId()),window.jqxWidgets&&window.jqxWidgets[o]){var a
if(i&&e.each(window.jqxWidgets[o],function(t){var n=e(this.element).data()
n&&n.jqxWidget&&e(this.element)[r](i)}),1==window.jqxWidgets[o].length&&(a=e(window.jqxWidgets[o][0].widgetInstance.element).data())&&a.jqxWidget)return window.jqxWidgets[o][0]
if((a=e(window.jqxWidgets[o][0].widgetInstance.element).data())&&a.jqxWidget)return window.jqxWidgets[o]}var d=e(t)
0===d.length&&(d=e("<div></div>"),"jqxInput"!==r&&"jqxPasswordInput"!==r&&"jqxMaskedInput"!==r||(d=e("<input/>")),"jqxTextArea"===r&&(d=e("<textarea></textarea>")),"jqxButton"!==r&&"jqxRepeatButton"!==r&&"jqxToggleButton"!==r||(d=e("<button/>")),"jqxSplitter"===r&&(d=e("<div><div>Panel 1</div><div>Panel 2</div></div>")),"jqxTabs"===r&&(d=e("<div><ul><li>Tab 1</li><li>Tab 2</li></ul><div>Content 1</div><div>Content 2</div></div>")),"jqxRibbon"===r&&(d=e("<div><ul><li>Tab 1</li><li>Tab 2</li></ul><div><div>Content 1</div><div>Content 2</div></div></div>")),"jqxDocking"===r&&(d=e("<div><div><div><div>Title 1</div><div>Content 1</div></div></div></div>")),"jqxWindow"===r&&(d=e("<div><div>Title 1</div><div>Content 1</div></div>")))
var c=[]
return e.each(d,function(t){var i=d[t]
if(e.jqx.applyWidget(i,r,n,void 0),!s[r]){var a=e.data(i,"jqxWidget"),h=e.jqx["_"+r].prototype.defineInstance()
e.jqx["_"+r].prototype.metaInfo&&e.jqx["_"+r].prototype.metaInfo(),"jqxDockingLayout"==r&&(h=e.extend(h,e.jqx._jqxLayout.prototype.defineInstance())),"jqxToggleButton"!=r&&"jqxRepeatButton"!=r||(h=e.extend(h,e.jqx._jqxButton.prototype.defineInstance())),"jqxTreeGrid"==r&&(h=e.extend(h,e.jqx._jqxDataTable.prototype.defineInstance()))
var u=function(t){var i=e.data(t,"jqxWidget")
this.widgetInstance=i
var n=e.extend(this,i)
for(var r in n.on=n.addEventListener=function(e,t){n.addHandler(n.base?n.base.host:n.host,e,t)},n.off=n.removeEventListener=function(e){n.removeHandler(n.base?n.base.host:n.host,e)},i)"function"==e.type(i[r])&&(n[r]=e.proxy(i[r],i))
return n}
s[r]=u,e.each(h,function(t,i){Object.defineProperty(u.prototype,t,{get:function(){return this.widgetInstance?this.widgetInstance[t]:i},set:function(i){if(this.widgetInstance&&(this.widgetInstance[t]!=i||"width"===t||"height"===t)){var n=this.widgetInstance[t],o=i,a=!1
if(e.type(n)==e.type(o)&&"source"!==t&&"width"!==t&&"height"!==t||(a=!0),a||l(n)!=l(o)){var s={}
s[t]=i,this.widgetInstance.host?this.widgetInstance.host[r](s):this.widgetInstance.base.host[r](s),this.widgetInstance[t]=i,this.widgetInstance.propertyUpdated&&this.widgetInstance.propertyUpdated(t,n,i)}}}})})}a=new s[r](i),c.push(a),window.jqxWidgets||(window.jqxWidgets=new Array),window.jqxWidgets[o]||(window.jqxWidgets[o]=new Array),window.jqxWidgets[o].push(a)}),1===c.length?c[0]:c}}e.fn[r]=function(){var t=Array.prototype.slice.call(arguments,0)
if(0==t.length||1==t.length&&"object"==typeof t[0]){if(0==this.length)throw this.selector?new Error("Invalid Selector - "+this.selector+"! Please, check whether the used ID or CSS Class name is correct."):new Error("Invalid Selector! Please, check whether the used ID or CSS Class name is correct.")
return this.each(function(){e(this),null==e.data(this,r)?e.jqx.applyWidget(this,r,t,void 0):e.jqx.jqxWidgetProxy(r,this,t)})}if(0==this.length)throw this.selector?new Error("Invalid Selector - "+this.selector+"! Please, check whether the used ID or CSS Class name is correct."):new Error("Invalid Selector! Please, check whether the used ID or CSS Class name is correct.")
var i=null,n=0
return this.each(function(){var o=e.jqx.jqxWidgetProxy(r,this,t)
if(0==n)i=o,n++
else{if(1==n){var a=[]
a.push(i),i=a}i.push(o)}}),i}
try{e.extend(e.jqx["_"+r].prototype,Array.prototype.slice.call(n,0)[0])}catch(e){}e.extend(e.jqx["_"+r].prototype,{toThemeProperty:function(t,i){return e.jqx.toThemeProperty(this,t,i)}}),e.jqx["_"+r].prototype.refresh=function(){this.base&&this.base.refresh(!0)},e.jqx["_"+r].prototype.createInstance=function(){},e.jqx["_"+r].prototype.addEventHandler=function(e,t){this.host.bind(e,t)},e.jqx["_"+r].prototype.removeEventHandler=function(e,t){this.host.unbind(e)},e.jqx["_"+r].prototype.applyTo=function(t,i){if(!(i instanceof Array)){var n=[]
n.push(i),i=n}e.jqx.applyWidget(t,r,i,this)},e.jqx["_"+r].prototype.getInstance=function(){return this},e.jqx["_"+r].prototype.propertyChangeMap={},e.jqx["_"+r].prototype.addHandler=function(t,i,n,r){e.jqx.addHandler(e(t),i,n,r)},e.jqx["_"+r].prototype.removeHandler=function(t,i,n){e.jqx.removeHandler(e(t),i,n)},e.jqx["_"+r].prototype.setOptions=function(){if(this.host&&this.host.length&&1==this.host.length)return e.jqx.jqxWidgetProxy(r,this.host[0],arguments)}},e.jqx.toThemeProperty=function(e,t,i){if(""==e.theme)return t
for(var n=t.split(" "),r="",o=0;o<n.length;o++){o>0&&(r+=" ")
var a=n[o]
r+=null!=i&&i?a+"-"+e.theme:a+" "+a+"-"+e.theme}return r},e.jqx.addHandler=function(t,i,n,r){for(var o=i.split(" "),a=0;a<o.length;a++){var s=o[a]
if(window.addEventListener)switch(s){case"mousewheel":e.jqx.browser.mozilla?t[0].addEventListener("DOMMouseScroll",n,!1):t[0].addEventListener("mousewheel",n,!1)
continue
case"mousemove":if(!r){t[0].addEventListener("mousemove",n,!1)
continue}}null==r||null==r?t.on?t.on(s,n):t.bind(s,n):t.on?t.on(s,r,n):t.bind(s,r,n)}},e.jqx.removeHandler=function(t,i,n){if(i)for(var r=i.split(" "),o=0;o<r.length;o++){var a=r[o]
if(window.removeEventListener)switch(a){case"mousewheel":e.jqx.browser.mozilla?t[0].removeEventListener("DOMMouseScroll",n,!1):t[0].removeEventListener("mousewheel",n,!1)
continue
case"mousemove":if(n){t[0].removeEventListener("mousemove",n,!1)
continue}}null!=a?null==n?t.off?t.off(a):t.unbind(a):t.off?t.off(a,n):t.unbind(a,n):t.off?t.off():t.unbind()}else t.off?t.off():t.unbind()},e.jqx.theme=e.jqx.theme||"",e.jqx.scrollAnimation=e.jqx.scrollAnimation||!1,e.jqx.resizeDelay=e.jqx.resizeDelay||10,e.jqx.ready=function(){e(window).trigger("jqxReady")},e.jqx.init=function(){e.each(arguments[0],function(t,i){"theme"==t&&(e.jqx.theme=i),"scrollBarSize"==t&&(e.jqx.utilities.scrollBarSize=i),"touchScrollBarSize"==t&&(e.jqx.utilities.touchScrollBarSize=i),"scrollBarButtonsVisibility"==t&&(e.jqx.utilities.scrollBarButtonsVisibility=i)})},e.jqx.utilities=e.jqx.utilities||{},e.extend(e.jqx.utilities,{scrollBarSize:13,touchScrollBarSize:0,scrollBarButtonsVisibility:"visible",createId:function(){var e=function(){return(65536*(1+Math.random())|0).toString(16).substring(1)}
return"jqxWidget"+e()+e()},setTheme:function(t,i,n){if(void 0!==n&&n[0].className.split){for(var r=n[0].className.split(" "),o=[],a=[],s=n.children(),l=0;l<r.length;l+=1)r[l].indexOf(t)>=0&&(t.length>0?(o.push(r[l]),a.push(r[l].replace(t,i))):a.push(r[l].replace("-"+i,"")+"-"+i))
for(this._removeOldClasses(o,n),this._addNewClasses(a,n),l=0;l<s.length;l+=1)this.setTheme(t,i,e(s[l]))}},_removeOldClasses:function(e,t){for(var i=0;i<e.length;i+=1)t.removeClass(e[i])},_addNewClasses:function(e,t){for(var i=0;i<e.length;i+=1)t.addClass(e[i])},getOffset:function(t){var i=e.jqx.mobile.getLeftPos(t[0])
return{top:e.jqx.mobile.getTopPos(t[0]),left:i}},resize:function(t,i,n,r){void 0===r&&(r=!0)
var o=-1,a=this,s=function(e){if(!a.hiddenWidgets)return-1
for(var t=-1,i=0;i<a.hiddenWidgets.length;i++)if(e.id){if(a.hiddenWidgets[i].id==e.id){t=i
break}}else if(a.hiddenWidgets[i].id==e[0].id){t=i
break}return t}
if(this.resizeHandlers){for(var l=0;l<this.resizeHandlers.length;l++)if(t.id){if(this.resizeHandlers[l].id==t.id){o=l
break}}else if(this.resizeHandlers[l].id==t[0].id){o=l
break}if(!0===n)return-1!=o&&this.resizeHandlers.splice(o,1),0==this.resizeHandlers.length&&((c=e(window)).off?(c.off("resize.jqx"),c.off("orientationchange.jqx"),c.off("orientationchanged.jqx")):(c.unbind("resize.jqx"),c.unbind("orientationchange.jqx"),c.unbind("orientationchanged.jqx")),this.resizeHandlers=null),void(-1!=(d=s(t))&&this.hiddenWidgets&&this.hiddenWidgets.splice(d,1))}else if(!0===n){var d
return void(-1!=(d=s(t))&&this.hiddenWidgets&&this.hiddenWidgets.splice(d,1))}a=this
var c,h=function(t,i){if(a.resizeHandlers){var n=function(e){for(var t=-1,i=e.parentNode;i;)t++,i=i.parentNode
return t},r=function(e,t){if(!e.widget||!t.widget)return 0
var i=n(e.widget[0]),r=n(t.widget[0])
try{if(i<r)return-1
if(i>r)return 1}catch(e){}return 0},o=function(t){if(a.hiddenWidgets.length>0){a.hiddenWidgets.sort(r)
var n=function(){for(var t=!1,n=new Array,r=0;r<a.hiddenWidgets.length;r++){var o=a.hiddenWidgets[r]
e.jqx.isHidden(o.widget)?(t=!0,n.push(o)):o.callback&&o.callback(i)}a.hiddenWidgets=n,t||clearInterval(a.__resizeInterval)}
if(0==t)return n(),void(a.__resizeInterval&&clearInterval(a.__resizeInterval))
a.__resizeInterval&&clearInterval(a.__resizeInterval),a.__resizeInterval=setInterval(function(){n()},100)}}
a.hiddenWidgets&&a.hiddenWidgets.length>0&&o(!1),a.hiddenWidgets=new Array,a.resizeHandlers.sort(r)
for(var l=0;l<a.resizeHandlers.length;l++){var d=a.resizeHandlers[l],c=d.widget,h=d.data
if(h&&h.jqxWidget){var u=h.jqxWidget.width,p=h.jqxWidget.height
h.jqxWidget.base&&(null==u&&(u=h.jqxWidget.base.width),null==p&&(p=h.jqxWidget.base.height)),void 0===u&&void 0===p&&(u=h.jqxWidget.element.style.width,p=h.jqxWidget.element.style.height)
var m=!1
if(null!=u&&-1!=u.toString().indexOf("%")&&(m=!0),null!=p&&-1!=p.toString().indexOf("%")&&(m=!0),e.jqx.isHidden(c))-1===s(c)&&(m||!0===t)&&!0!==d.data.nestedWidget&&a.hiddenWidgets.push(d)
else if(void 0===t||!0!==t){if(m){if(d.callback(i),a.watchedElementData)for(var f=0;f<a.watchedElementData.length;f++)if(a.watchedElementData[f].element==h.jqxWidget.element){a.watchedElementData[f].offsetWidth=h.jqxWidget.element.offsetWidth,a.watchedElementData[f].offsetHeight=h.jqxWidget.element.offsetHeight
break}a.hiddenWidgets.indexOf(d)>=0&&a.hiddenWidgets.splice(a.hiddenWidgets.indexOf(d),1)}if(h.jqxWidget.element){var g=h.jqxWidget.element.className
if((g.indexOf("dropdownlist")>=0||g.indexOf("datetimeinput")>=0||g.indexOf("combobox")>=0||g.indexOf("menu")>=0)&&h.jqxWidget.isOpened&&h.jqxWidget.isOpened()){if(i&&"resize"==i&&e.jqx.mobile.isTouchDevice())continue
h.jqxWidget.close()}}}}}o()}}
this.resizeHandlers||(this.resizeHandlers=new Array,(c=e(window)).on?(this._resizeTimer=null,this._initResize=null,c.on("resize.jqx",function(t){null!=a._resizeTimer&&clearTimeout(a._resizeTimer),a._initResize?a._resizeTimer=setTimeout(function(){h(null,"resize")},e.jqx.resizeDelay):(a._initResize=!0,h(null,"resize"))}),c.on("orientationchange.jqx",function(e){h(null,"orientationchange")}),c.on("orientationchanged.jqx",function(e){h(null,"orientationchange")})):(c.bind("resize.jqx",function(e){h(null,"orientationchange")}),c.bind("orientationchange.jqx",function(e){h(null,"orientationchange")}),c.bind("orientationchanged.jqx",function(e){h(null,"orientationchange")})))
var u=t.data()
r&&-1===o&&this.resizeHandlers.push({id:t[0].id,widget:t,callback:i,data:u})
try{var p=u.jqxWidget.width,m=u.jqxWidget.height
u.jqxWidget.base&&(null==p&&(p=u.jqxWidget.base.width),null==m&&(m=u.jqxWidget.base.height)),void 0===p&&void 0===m&&(p=u.jqxWidget.element.style.width,m=u.jqxWidget.element.style.height)
var f=!1
null!=p&&-1!=p.toString().indexOf("%")&&(f=!0),null!=m&&-1!=m.toString().indexOf("%")&&(f=!0),f&&(this.watchedElementData||(this.watchedElementData=[]),(a=this).watchedElementData.push({element:t[0],offsetWidth:t[0].offsetWidth,offsetHeight:t[0].offsetHeight,callback:i}),a.observer||(a.observer=new MutationObserver(function(t){a.watchedElementData.forEach&&a.watchedElementData.forEach(function(t){t.element.offsetWidth===t.offsetWidth&&t.element.offsetHeight===t.offsetHeight||(t.offsetWidth=t.element.offsetWidth,t.offsetHeight=t.element.offsetHeight,t.timer&&clearTimeout(t.timer),t.timer=setTimeout(function(){e.jqx.isHidden(e(t.element))?t.timer=setInterval(function(){e.jqx.isHidden(e(t.element))||(clearInterval(t.timer),t.callback())},100):t.callback()}))})}),a.observer.observe(document.body,{attributes:!0,childList:!0,characterData:!0})))}catch(e){}e.jqx.isHidden(t)&&!0===r&&h(!0),e.jqx.resize=function(){h(null,"resize")}},parseJSON:function(t){if(!t||"string"!=typeof t)return null
if(t=e.trim(t),window.JSON&&window.JSON.parse)return window.JSON.parse(t)
if(/^[\],:{}\s]*$/.test(t.replace(/\\(?:["\\\/bfnrt]|u[\da-fA-F]{4})/g,"@").replace(/"[^"\\\r\n]*"|true|false|null|-?(?:\d\d*\.|)\d+(?:[eE][\-+]?\d+|)/g,"]").replace(/(?:^|:|,)(?:\s*\[)+/g,"")))return new Function("return "+t)()
throw new Error("Invalid JSON: "+t)},html:function(t,i){var n=/ JQXLite\d+="(?:null|\d+)"/g
if(!e(t).on)return e(t).html(i)
try{return e.access(t,function(i){var r=t[0]||{},o=0,a=t.length
if(void 0===i)return 1===r.nodeType?r.innerHTML.replace(n,""):void 0
var s=new RegExp("<(?:abbr|article|aside|audio|bdi|canvas|data|datalist|details|figcaption|figure|footer|header|hgroup|mark|meter|nav|output|progress|section|summary|time|video)[\\s/>]","i")
if("string"==typeof i&&!/<(?:script|style|link)/i.test(i)&&(e.support.htmlSerialize||!s.test(i))&&(e.support.leadingWhitespace||!/^\s+/.test(i))&&!{option:[1,"<select multiple='multiple'>","</select>"],legend:[1,"<fieldset>","</fieldset>"],thead:[1,"<table>","</table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],col:[2,"<table><tbody></tbody><colgroup>","</colgroup></table>"],area:[1,"<map>","</map>"],_default:[0,"",""]}[(/<([\w:]+)/.exec(i)||["",""])[1].toLowerCase()]){i=i.replace(/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/gi,"<$1></$2>")
try{for(;o<a;o++)1===(r=this[o]||{}).nodeType&&(e.cleanData(r.getElementsByTagName("*")),r.innerHTML=i)
r=0}catch(e){}}r&&t.empty().append(i)},null,i,arguments.length)}catch(n){return e(t).html(i)}},hasTransform:function(t){var i=""
if(""==(i=t.css("transform"))||"none"==i){if(""!=(i=t.parents().css("transform"))&&"none"!=i)return""!=i&&"none"!=i
var n=e.jqx.utilities.getBrowser()
"msie"==n.browser?""!=(i=t.css("-ms-transform"))&&"none"!=i||(i=t.parents().css("-ms-transform")):"chrome"==n.browser?""!=(i=t.css("-webkit-transform"))&&"none"!=i||(i=t.parents().css("-webkit-transform")):"opera"==n.browser?""!=(i=t.css("-o-transform"))&&"none"!=i||(i=t.parents().css("-o-transform")):"mozilla"==n.browser&&(""!=(i=t.css("-moz-transform"))&&"none"!=i||(i=t.parents().css("-moz-transform")))}return""!=i&&"none"!=i||(i=e(document.body).css("transform")),""!=i&&"none"!=i&&null!=i},getBrowser:function(){var e=navigator.userAgent.toLowerCase(),t=/(chrome)[ \/]([\w.]+)/.exec(e)||/(webkit)[ \/]([\w.]+)/.exec(e)||/(opera)(?:.*version|)[ \/]([\w.]+)/.exec(e)||/(msie) ([\w.]+)/.exec(e)||e.indexOf("compatible")<0&&/(mozilla)(?:.*? rv:([\w.]+)|)/.exec(e)||[],i={browser:t[1]||"",version:t[2]||"0"}
return e.indexOf("rv:11.0")>=0&&e.indexOf(".net4.0c")>=0&&(i.browser="msie",i.version="11",t[1]="msie"),e.indexOf("edge")>=0&&(i.browser="msie",i.version="12",t[1]="msie"),i[t[1]]=t[1],i}}),e.jqx.browser=e.jqx.utilities.getBrowser(),e.jqx.isHidden=function(e){if(!e||!e[0])return!1
var t=e[0].offsetWidth,i=e[0].offsetHeight
return 0===t||0===i},e.jqx.ariaEnabled=!0,e.jqx.aria=function(t,i,n){if(e.jqx.ariaEnabled)if(null==i)e.each(t.aria,function(i,n){if(null==(r=t.base?t.base.host.attr(i):t.host.attr(i))||e.isFunction(r)){var r=t[n.name]
e.isFunction(r)&&(r=t[n.name]()),null==r&&(r="")
try{t.base?t.base.host.attr(i,r.toString()):t.host.attr(i,r.toString())}catch(e){}}else{var o=r
switch(n.type){case"number":o=new Number(r),isNaN(o)&&(o=r)
break
case"boolean":o="true"==r
break
case"date":("Invalid Date"==(o=new Date(r))||isNaN(o))&&(o=r)}t[n.name]=o}})
else try{t.host?t.base?t.base.host?t.base.host.attr(i,n.toString()):t.attr(i,n.toString()):t.host?t.element.setAttribute?t.element.setAttribute(i,n.toString()):t.host.attr(i,n.toString()):t.attr(i,n.toString()):t.setAttribute&&t.setAttribute(i,n.toString())}catch(e){}},Array.prototype.indexOf||(Array.prototype.indexOf=function(e){var t=this.length,i=Number(arguments[1])||0
for((i=i<0?Math.ceil(i):Math.floor(i))<0&&(i+=t);i<t;i++)if(i in this&&this[i]===e)return i
return-1}),e.jqx.mobile=e.jqx.mobile||{},e.jqx.position=function(t){var i=parseInt(t.pageX),n=parseInt(t.pageY)
if(e.jqx.mobile.isTouchDevice()){var r=e.jqx.mobile.getTouches(t)[0]
i=parseInt(r.pageX),n=parseInt(r.pageY)}return{left:i,top:n}},e.extend(e.jqx.mobile,{_touchListener:function(e,t){var i={mousedown:"touchstart",mouseup:"touchend",mousemove:"touchmove"},n=function(e,t){var i=document.createEvent("MouseEvents")
return i.initMouseEvent(e,t.bubbles,t.cancelable,t.view,t.detail,t.screenX,t.screenY,t.clientX,t.clientY,t.ctrlKey,t.altKey,t.shiftKey,t.metaKey,t.button,t.relatedTarget),i._pageX=t.pageX,i._pageY=t.pageY,i}(i[e.type],e)
e.target.dispatchEvent(n)
var r=e.target["on"+i[e.type]]
"function"==typeof r&&r(e)},setMobileSimulator:function(t,i){if(!this.isTouchDevice()){this.simulatetouches=!0,0==i&&(this.simulatetouches=!1)
var n={mousedown:"touchstart",mouseup:"touchend",mousemove:"touchmove"},r=this
if(window.addEventListener){var o=function(){for(var e in n)t.addEventListener&&(t.removeEventListener(e,r._touchListener),t.addEventListener(e,r._touchListener,!1))}
e.jqx.browser.msie,o()}}},isTouchDevice:function(){if(null!=this.touchDevice)return this.touchDevice
var e="Browser CodeName: "+navigator.appCodeName
if(e+="Browser Name: "+navigator.appName,e+="Browser Version: "+navigator.appVersion,e+="Platform: "+navigator.platform,-1!=(e+="User-agent header: "+navigator.userAgent).indexOf("Android"))return!0
if(-1!=e.indexOf("IEMobile"))return!0
if(-1!=e.indexOf("Windows Phone"))return!0
if(-1!=e.indexOf("WPDesktop"))return!0
if(-1!=e.indexOf("ZuneWP7"))return!0
if(-1!=e.indexOf("BlackBerry")&&-1!=e.indexOf("Mobile Safari"))return!0
if(-1!=e.indexOf("ipod"))return!0
if(-1!=e.indexOf("nokia")||-1!=e.indexOf("Nokia"))return!0
if(-1!=e.indexOf("Chrome/17"))return!1
if(-1!=e.indexOf("CrOS"))return!1
if(-1!=e.indexOf("Opera")&&-1==e.indexOf("Mobi")&&-1==e.indexOf("Mini")&&-1!=e.indexOf("Platform: Win"))return!1
if(-1!=e.indexOf("Opera")&&-1!=e.indexOf("Mobi")&&-1!=e.indexOf("Opera Mobi"))return!0
var t={ios:"i(?:Pad|Phone|Pod)(?:.*)CPU(?: iPhone)? OS ",android:"(Android |HTC_|Silk/)",blackberry:"BlackBerry(?:.*)Version/",rimTablet:"RIM Tablet OS ",webos:"(?:webOS|hpwOS)/",bada:"Bada/"}
try{if(null!=this.touchDevice)return this.touchDevice
for(var i in this.touchDevice=!1,t)if(t.hasOwnProperty(i)){var n=t[i]
if(e.match(new RegExp("(?:"+n+")([^\\s;]+)")))return"blackberry"==i.toString()?(this.touchDevice=!1,!1):(this.touchDevice=!0,!0)}var r=navigator.userAgent
if(-1!=navigator.platform.toLowerCase().indexOf("win")){if(r.indexOf("Windows Phone")>=0||r.indexOf("WPDesktop")>=0||r.indexOf("IEMobile")>=0||r.indexOf("ZuneWP7")>=0)return this.touchDevice=!0,!0
if(r.indexOf("Touch")>=0)return"MSPointerDown"in window||"pointerdown"in window?(this.touchDevice=!0,!0):r.indexOf("ARM")>=0?(this.touchDevice=!0,!0):(this.touchDevice=!1,!1)}return-1!=navigator.platform.toLowerCase().indexOf("win")?(this.touchDevice=!1,!1):(("ontouchstart"in window||window.DocumentTouch&&document instanceof DocumentTouch)&&(this.touchDevice=!0),this.touchDevice)}catch(e){return this.touchDevice=!1,!1}},getLeftPos:function(e){for(var t=e.offsetLeft;null!=(e=e.offsetParent);)"HTML"!=e.tagName&&(t+=e.offsetLeft,document.all&&(t+=e.clientLeft))
return t},getTopPos:function(t){for(var i=t.offsetTop,n=e(t).coord();null!=(t=t.offsetParent);)"HTML"!=t.tagName&&(i+=t.offsetTop-t.scrollTop,document.all&&(i+=t.clientTop))
var r=navigator.userAgent.toLowerCase()
return-1==r.indexOf("windows phone")&&-1==r.indexOf("WPDesktop")&&-1==r.indexOf("ZuneWP7")&&-1==r.indexOf("msie 9")&&-1==r.indexOf("msie 11")&&-1==r.indexOf("msie 10")||-1==r.indexOf("touch")?this.isSafariMobileBrowser()?this.isSafari4MobileBrowser()&&this.isIPadSafariMobileBrowser()?i:-1!=r.indexOf("version/7")?n.top:(-1==r.indexOf("version/6")&&-1==r.indexOf("version/5")||(i+=e(window).scrollTop()),/(Android.*Chrome\/[.0-9]* (!?Mobile))/.exec(navigator.userAgent)?i+e(window).scrollTop():/(Android.*Chrome\/[.0-9]* Mobile)/.exec(navigator.userAgent)?i+e(window).scrollTop():n.top):i:n.top},isChromeMobileBrowser:function(){return-1!=navigator.userAgent.toLowerCase().indexOf("android")},isOperaMiniMobileBrowser:function(){var e=navigator.userAgent.toLowerCase()
return-1!=e.indexOf("opera mini")||-1!=e.indexOf("opera mobi")},isOperaMiniBrowser:function(){return-1!=navigator.userAgent.toLowerCase().indexOf("opera mini")},isNewSafariMobileBrowser:function(){var e=navigator.userAgent.toLowerCase(),t=-1!=e.indexOf("ipad")||-1!=e.indexOf("iphone")||-1!=e.indexOf("ipod")
return t=t&&-1!=e.indexOf("version/5")},isSafari4MobileBrowser:function(){var e=navigator.userAgent.toLowerCase(),t=-1!=e.indexOf("ipad")||-1!=e.indexOf("iphone")||-1!=e.indexOf("ipod")
return t=t&&-1!=e.indexOf("version/4")},isWindowsPhone:function(){var e=navigator.userAgent.toLowerCase()
return-1!=e.indexOf("windows phone")||-1!=e.indexOf("WPDesktop")||-1!=e.indexOf("ZuneWP7")||-1!=e.indexOf("msie 9")||-1!=e.indexOf("msie 11")||-1!=e.indexOf("msie 10")&&-1!=e.indexOf("touch")},isSafariMobileBrowser:function(){var e=navigator.userAgent.toLowerCase()
return!!/(Android.*Chrome\/[.0-9]* (!?Mobile))/.exec(navigator.userAgent)||!!/(Android.*Chrome\/[.0-9]* Mobile)/.exec(navigator.userAgent)||-1!=e.indexOf("ipad")||-1!=e.indexOf("iphone")||-1!=e.indexOf("ipod")||-1!=e.indexOf("mobile safari")},isIPadSafariMobileBrowser:function(){return-1!=navigator.userAgent.toLowerCase().indexOf("ipad")},isMobileBrowser:function(){var e=navigator.userAgent.toLowerCase()
return-1!=e.indexOf("ipad")||-1!=e.indexOf("iphone")||-1!=e.indexOf("android")},getTouches:function(e){if(e.originalEvent){if(e.originalEvent.touches&&e.originalEvent.touches.length)return e.originalEvent.touches
if(e.originalEvent.changedTouches&&e.originalEvent.changedTouches.length)return e.originalEvent.changedTouches}return e.touches||(e.touches=new Array,e.touches[0]=null!=e.originalEvent?e.originalEvent:e,null!=e.originalEvent&&e.pageX&&(e.touches[0]=e),"mousemove"==e.type&&(e.touches[0]=e)),e.touches},getTouchEventName:function(e){if(!this.isWindowsPhone())return e
if(-1!=navigator.userAgent.toLowerCase().indexOf("windows phone 7")){if(-1!=e.toLowerCase().indexOf("start"))return"MSPointerDown"
if(-1!=e.toLowerCase().indexOf("move"))return"MSPointerMove"
if(-1!=e.toLowerCase().indexOf("end"))return"MSPointerUp"}return-1!=e.toLowerCase().indexOf("start")?"pointerdown":-1!=e.toLowerCase().indexOf("move")?"pointermove":-1!=e.toLowerCase().indexOf("end")?"pointerup":void 0},dispatchMouseEvent:function(e,t,i){if(!this.simulatetouches){var n=document.createEvent("MouseEvent")
n.initMouseEvent(e,!0,!0,t.view,1,t.screenX,t.screenY,t.clientX,t.clientY,!1,!1,!1,!1,0,null),null!=i&&i.dispatchEvent(n)}},getRootNode:function(e){for(;1!==e.nodeType;)e=e.parentNode
return e},setTouchScroll:function(e,t){this.enableScrolling||(this.enableScrolling=[]),this.enableScrolling[t]=e},touchScroll:function(t,i,n,r,o,a){if(null!=t){var s=this,l=0,d=0
this.scrolling||(this.scrolling=[]),this.scrolling[r]=!1
var c=!1,h=e(t),u=["select","input","textarea"]
this.enableScrolling||(this.enableScrolling=[]),this.enableScrolling[r]=!0,r=r
var p,m,f,g,v,b,y,_,w,x,C,S,T,I,E,P,D=this.getTouchEventName("touchstart")+".touchScroll",k=this.getTouchEventName("touchend")+".touchScroll",A=this.getTouchEventName("touchmove")+".touchScroll"
m=i,f=0
var j=0,M=0,N=0,q=0
p=o.jqxScrollBar("max"),I=325
var O=function(){var e,t,i
t=(e=Date.now())-_,_=e,i=f-y,E=j-q,y=f,q=j,v=!0,b=1e3*i/(1+t)*.8+.2*b,P=1e3*E/(1+t)*.8+.2*P},B=!1,L=function(t){if(!s.enableScrolling[r])return!0
if(-1===e.inArray(t.target.tagName.toLowerCase(),u)){f=a.jqxScrollBar("value"),j=o.jqxScrollBar("value")
var i,n=s.getTouches(t),h=n[0]
return 1==n.length&&s.dispatchMouseEvent("mousedown",h,s.getRootNode(h.target)),p=o.jqxScrollBar("max"),m=a.jqxScrollBar("max"),B=!1,v=!0,g=G(i=t),T=W(i),b=x=P=0,y=f,q=j,_=Date.now(),clearInterval(w),w=setInterval(O,100),M=f,N=j,f>0&&f<m&&a[0].style.visibility,c=!1,l=h.pageY,d=h.pageX,s.simulatetouches&&null!=h._pageY&&(l=h._pageY,d=h._pageX),s.scrolling[r]=!0,0,0,!0}}
h.on?h.on(D,L):h.bind(D,L)
var R=function(e,t){return f=e>m?m:e<0?0:e,n(null,e,0,0,t),e>m?"max":e<0?"min":"value"},H=function(e,t){return j=e>p?p:e<0?0:e,n(e,null,0,0,t),e>p?"max":e<0?"min":"value"},V=function(e){if(!s.enableScrolling[r])return!0
if(!s.scrolling[r])return!0
B&&(e.preventDefault(),e.stopPropagation())
var t=s.getTouches(e)
if(t.length>1)return!0
var i=t[0].pageY,n=t[0].pageX
s.simulatetouches&&null!=t[0]._pageY&&(i=t[0]._pageY,n=t[0]._pageX)
var h=i-l,u=n-d
c=!0,h,u
var b=null==o||"hidden"!=o[0].style.visibility,y=null==a||"hidden"!=a[0].style.visibility;(b||y)&&(b||y)&&function(e){var t,i,n
if(v){t=G(e),n=W(e),E=T-n
var r="value"
if((i=g-t)>2||i<-2)return g=t,r=R(f+i,e),O(),"min"==r&&0===M||"max"==r&&M===m||!y||(e.preventDefault(),e.stopPropagation(),B=!0,!1)
if(E>2||E<-2)return T=n,r=H(j+E,e),O(),"min"==r&&0===N||"max"==r&&N===p||!b||(B=!0,e.preventDefault(),e.stopPropagation(),!1)
e.preventDefault()}}(e)}
h.on?h.on(A,V):h.bind(A,V)
var F=function(e){if(!s.enableScrolling[r])return!0
var t=s.getTouches(e)[0]
if(!s.scrolling[r])return!0
if(v=!1,clearInterval(w),b>10||b<-10?(x=.8*b,C=Math.round(f+x),_=Date.now(),requestAnimationFrame(X),a.fadeIn(100)):P>10||P<-10?(x=.8*P,S=Math.round(j+x),_=Date.now(),requestAnimationFrame(J),o.fadeIn(100)):(o.fadeOut(100),a.fadeOut(100)),s.scrolling[r]=!1,!c){t=s.getTouches(e)[0]
var i=s.getRootNode(t.target)
return s.dispatchMouseEvent("mouseup",t,i),s.dispatchMouseEvent("click",t,i),!0}s.dispatchMouseEvent("mouseup",t,e.target)}
if(this.simulatetouches){null!=e(window).on||e(window).bind
var z=function(e){try{F(e)}catch(e){}s.scrolling[r]=!1}
if(null!=e(window).on?e(document).on("mouseup.touchScroll",z):e(document).bind("mouseup.touchScroll",z),window.frameElement&&null!=window.top){var $=function(e){try{F(e)}catch(e){}s.scrolling[r]=!1}
window.top.document&&(e(window.top.document).on?e(window.top.document).on("mouseup",$):e(window.top.document).bind("mouseup",$))}null!=e(document).on||e(document).bind
var U=function(e){if(!s.scrolling[r])return!0
s.scrolling[r]=!1
var t=s.getTouches(e)[0],i=s.getRootNode(t.target)
s.dispatchMouseEvent("mouseup",t,i),s.dispatchMouseEvent("click",t,i)}
null!=e(document).on?e(document).on("touchend",U):e(document).bind("touchend",U)}h.on&&(h.on("dragstart",function(e){e.preventDefault()}),h.on("selectstart",function(e){e.preventDefault()})),h.on?h.on(k+" touchcancel.touchScroll",F):h.bind(k+" touchcancel.touchScroll",F)}function G(e){return e.targetTouches&&e.targetTouches.length>=1?e.targetTouches[0].clientY:e.originalEvent&&void 0!==e.originalEvent.clientY?e.originalEvent.clientY:s.getTouches(e)[0].clientY}function W(e){return e.targetTouches&&e.targetTouches.length>=1?e.targetTouches[0].clientX:e.originalEvent&&void 0!==e.originalEvent.clientX?e.originalEvent.clientX:s.getTouches(e)[0].clientX}function X(){var e,t
x&&(e=Date.now()-_,(t=-x*Math.exp(-e/I))>.5||t<-.5?(R(C+t),requestAnimationFrame(X)):(R(C),a.fadeOut("fast")))}function J(){var e,t
x&&(e=Date.now()-_,(t=-x*Math.exp(-e/I))>.5||t<-.5?(H(S+t),requestAnimationFrame(J)):(H(S),o.fadeOut("fast")))}}}),e.jqx.cookie=e.jqx.cookie||{},e.extend(e.jqx.cookie,{cookie:function(t,i,n){if(arguments.length>1&&"[object Object]"!==String(i)){if(n=e.extend({},n),null==i&&(n.expires=-1),"number"==typeof n.expires){var r=n.expires,o=n.expires=new Date
o.setDate(o.getDate()+r)}return i=String(i),document.cookie=[encodeURIComponent(t),"=",n.raw?i:encodeURIComponent(i),n.expires?"; expires="+n.expires.toUTCString():"",n.path?"; path="+n.path:"",n.domain?"; domain="+n.domain:"",n.secure?"; secure":""].join("")}var a,s=(n=i||{}).raw?function(e){return e}:decodeURIComponent
return(a=new RegExp("(?:^|; )"+encodeURIComponent(t)+"=([^;]*)").exec(document.cookie))?s(a[1]):null}}),e.jqx.string=e.jqx.string||{},e.extend(e.jqx.string,{replace:function(e,t,i){if(t===i)return this
for(var n=e,r=n.indexOf(t);-1!=r;)r=(n=n.replace(t,i)).indexOf(t)
return n},contains:function(e,t){return null!=e&&null!=t&&-1!=e.indexOf(t)},containsIgnoreCase:function(e,t){return null!=e&&null!=t&&-1!=e.toString().toUpperCase().indexOf(t.toString().toUpperCase())},equals:function(e,t){return null!=e&&null!=t&&(e=this.normalize(e),t.length==e.length&&e.slice(0,t.length)==t)},equalsIgnoreCase:function(e,t){return null!=e&&null!=t&&(e=this.normalize(e),t.length==e.length&&e.toUpperCase().slice(0,t.length)==t.toUpperCase())},startsWith:function(e,t){return null!=e&&null!=t&&e.slice(0,t.length)==t},startsWithIgnoreCase:function(e,t){return null!=e&&null!=t&&e.toUpperCase().slice(0,t.length)==t.toUpperCase()},normalize:function(e){return 65279==e.charCodeAt(e.length-1)&&(e=e.substring(0,e.length-1)),e},endsWith:function(e,t){return null!=e&&null!=t&&(e=this.normalize(e)).slice(-t.length)==t},endsWithIgnoreCase:function(e,t){return null!=e&&null!=t&&(e=this.normalize(e)).toUpperCase().slice(-t.length)==t.toUpperCase()}}),e.extend(e.easing,{easeOutBack:function(e,t,i,n,r,o){return null==o&&(o=1.70158),n*((t=t/r-1)*t*((o+1)*t+o)+1)+i},easeInQuad:function(e,t,i,n,r){return n*(t/=r)*t+i},easeInOutCirc:function(e,t,i,n,r){return(t/=r/2)<1?-n/2*(Math.sqrt(1-t*t)-1)+i:n/2*(Math.sqrt(1-(t-=2)*t)+1)+i},easeInOutSine:function(e,t,i,n,r){return-n/2*(Math.cos(Math.PI*t/r)-1)+i},easeInCubic:function(e,t,i,n,r){return n*(t/=r)*t*t+i},easeOutCubic:function(e,t,i,n,r){return n*((t=t/r-1)*t*t+1)+i},easeInOutCubic:function(e,t,i,n,r){return(t/=r/2)<1?n/2*t*t*t+i:n/2*((t-=2)*t*t+2)+i},easeInSine:function(e,t,i,n,r){return-n*Math.cos(t/r*(Math.PI/2))+n+i},easeOutSine:function(e,t,i,n,r){return n*Math.sin(t/r*(Math.PI/2))+i},easeInOutSine:function(e,t,i,n,r){return-n/2*(Math.cos(Math.PI*t/r)-1)+i}})}(jqxBaseFramework),function(e){e.event&&e.event.special&&e.extend(e.event.special,{close:{noBubble:!0},open:{noBubble:!0},cellclick:{noBubble:!0},rowclick:{noBubble:!0},tabclick:{noBubble:!0},selected:{noBubble:!0},expanded:{noBubble:!0},collapsed:{noBubble:!0},valuechanged:{noBubble:!0},expandedItem:{noBubble:!0},collapsedItem:{noBubble:!0},expandingItem:{noBubble:!0},collapsingItem:{noBubble:!0}}),e.fn.extend&&e.fn.extend({ischildof:function(t){if(!e(this).parents)return t.element.contains(this.element)
for(var i=e(this).parents().get(),n=0;n<i.length;n++)if("string"!=typeof t){var r=i[n]
if(void 0!==t&&r==t[0])return!0}else if(void 0!==t&&e(i[n]).is(t))return!0
return!1}}),e.fn.jqxProxy=function(){var t=e(this).data().jqxWidget,i=Array.prototype.slice.call(arguments,0),n=t.element
return n||(n=t.base.element),e.jqx.jqxWidgetProxy(t.widgetName,n,i)}
var t=e.fn.val
e.fn.val=function(i){return void 0===i?e(this).hasClass("jqx-widget")&&(n=e(this).data().jqxWidget)&&n.val?n.val():this[0]&&this[0].tagName.toLowerCase().indexOf("angular")>=0&&(n=e(this).find(".jqx-widget").data().jqxWidget)&&n.val?n.val():t.call(this):e(this).hasClass("jqx-widget")&&(n=e(this).data().jqxWidget)&&n.val?2!=arguments.length?n.val(i):n.val(i,arguments[1]):this[0]&&this[0].tagName.toLowerCase().indexOf("angular")>=0&&(n=e(this).find(".jqx-widget").data().jqxWidget)&&n.val?2!=arguments.length?n.val(i):n.val(i,arguments[1]):t.call(this,i)
var n},e.fn.modal&&e.fn.modal.Constructor&&(e.fn.modal.Constructor.prototype.enforceFocus=function(){e(document).off("focusin.bs.modal").on("focusin.bs.modal",e.proxy(function(t){if(this.$element[0]!==t.target&&!this.$element.has(t.target).length){if(e(t.target).parents().hasClass("jqx-popup"))return!0
this.$element.trigger("focus")}},this))}),e.fn.coord=function(t){var i,n,r={top:0,left:0},o=this[0],a=o&&o.ownerDocument
if(a){if(i=a.documentElement,!e.contains(i,o))return r
void 0!==typeof o.getBoundingClientRect&&(r=o.getBoundingClientRect()),n=function(t){return e.isWindow(t)?t:9===t.nodeType&&(t.defaultView||t.parentWindow)}(a)
var s=0,l=0,d=navigator.userAgent.toLowerCase()
if((-1!=d.indexOf("ipad")||-1!=d.indexOf("iphone"))&&(s=2),1==t&&"static"!=document.body.style.position&&""!=document.body.style.position){var c=e(document.body).coord()
s=-c.left,l=-c.top}return{top:l+r.top+(n.pageYOffset||i.scrollTop)-(i.clientTop||0),left:s+r.left+(n.pageXOffset||i.scrollLeft)-(i.clientLeft||0)}}}}(jqxBaseFramework)
var Qt=Object.freeze({})
$.jqx.theme="legacy"
var Kt=Object.freeze({})
!function(e){e.jqx.observableArray=function(t,i){if("string"==typeof t&&(t=e.parseJSON(t)),!Object.defineProperty||!function(){try{return Object.defineProperty({},"x",{}),!0}catch(e){return!1}}()){var n=Object.defineProperty
Object.defineProperty=function(e,t,i){if(n)try{return n(e,t,i)}catch(e){}if(e!==Object(e))throw TypeError("Object.defineProperty called on non-object")
return Object.prototype.__defineGetter__&&"get"in i&&Object.prototype.__defineGetter__.call(e,t,i.get),Object.prototype.__defineSetter__&&"set"in i&&Object.prototype.__defineSetter__.call(e,t,i.set),"value"in i?e[t]=i.value:e[t]||(e[t]=i),e}}Array.prototype.forEach||(Array.prototype.forEach=function(e){if(null==this)throw TypeError()
var t=Object(this),i=t.length>>>0
if("function"!=typeof e)throw TypeError()
var n,r=arguments[1]
for(n=0;n<i;n++)n in t&&e.call(r,t[n],n,t)}),"function"!=typeof Object.getOwnPropertyNames&&(Object.getOwnPropertyNames=function(e){if(e!==Object(e))throw TypeError("Object.getOwnPropertyNames called on non-object")
var t,i=[]
for(t in e)Object.prototype.hasOwnProperty.call(e,t)&&i.push(t)
return i})
var r,o=this,a=[]
o.notifier=null,o.name="observableArray",o.observing=!0,o.changes=new Array
i=i
return o.observe=function(){o.observing=!0,1==arguments.length&&(i=arguments[0])},o.unobserve=function(){o.observing=!1},o.toArray=function(){return a.slice(0)},o.toJSON=function(e,t){var i=a
t&&(i=t)
var n=/[\\\"\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,r={"\b":"\\b","\t":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"}
function o(e){return'"'+e.replace(n,function(e){var t=r[e]
return"string"==typeof t?t:"\\u"+("0000"+e.charCodeAt(0).toString(16)).slice(-4)})+'"'}function s(e){return e<10?"0"+e:e}function l(t){switch(Object.prototype.toString.call(t)){case"[object Date]":return function(e){return isFinite(e.valueOf())?e.getUTCFullYear()+"-"+s(e.getUTCMonth()+1)+"-"+s(e.getUTCDate())+"T"+s(e.getUTCHours())+":"+s(e.getUTCMinutes())+":"+s(e.getUTCSeconds())+'Z"':"null"}(t)
case"[object Array]":return function(e){var t,i=e.length,n=[]
for(t=0;t<i;t++)n.push(d(t,e)||"null")
return"["+n.join(",")+"]"}(t)}return function(t){var i,n,r=[]
for(i in t)if(Object.prototype.hasOwnProperty.call(t,i)){if(""!=i&&e&&-1===e.indexOf(i))continue;(n=d(i,t))&&r.push(o(i)+":"+n)}return"{"+r.join(",")+"}"}(t)}function d(e,t){var i=t[e],n=typeof i
return i&&"object"==typeof i&&"function"==typeof i.toJSON&&(n=typeof(i=i.toJSON(e))),/(number|float|int|integer|string|boolean)/.test(n)||!i&&"object"===n?function(e,t){switch(t){case"string":return o(e)
case"number":case"float":case"integer":case"int":return isFinite(e)?e:"null"
case"boolean":return e}return"null"}(i,n):l(i)}return!e&&window.JSON&&"function"==typeof window.JSON.stringify?window.JSON.stringify(i):d("",{"":i})},o.defineIndexProperty=function(t){if(!(t in o)){var i=function(t,i,n,s){var l=t[i],d=l,c=function(){return d},h=function(t){if(d!==(l=t)){var n=d
if(d=l,"function"==typeof r){var c=a.indexOf(s),h="",u=function(t,n){Object.getOwnPropertyNames(t).forEach(function(r){var o=e.type(t[r])
"array"==o||"object"==o?u(t[r],n+"."+r):i===r&&(h=n+"."+r)})}
u(s,c),r({object:o,type:"update",path:h,index:c,name:i,newValue:l,oldValue:n})}}return d=l,l}
null!=t[i]&&"length"!=i&&(Object.defineProperty?Object.defineProperty(t,i,{get:c,set:h}):Object.prototype.__defineGetter__&&Object.prototype.__defineSetter__&&(Object.prototype.__defineGetter__.call(t,i,c),Object.prototype.__defineSetter__.call(t,i,h)))},n=function(t,r,o){var a=e.type(t);/(number|float|int|integer|string|boolean)/.test(a)||void 0!==t&&Object.getOwnPropertyNames(t).forEach(function(a){var s=e.type(t[a])
"array"==s||"object"==s?(i(t,a,0,o),n(t[a],r+"."+a,o)):i(t,a,0,o)})}
Object.defineProperty(o,t,{configurable:!0,enumerable:!0,get:function(){return a[t]},set:function(e){var i=a[t]
o.toJSON(null,i)!=o.toJSON(null,e)&&(a[t]=e,"function"==typeof r&&r({object:o,type:"update",path:t.toString(),index:t,name:"index",newValue:e,oldValue:i}),n(e,t,e))}}),n(o[t],t,o[t])}},o.push=function(){for(var e,t=0,i=arguments.length;t<i;t++)e=a.length,a.push(arguments[t]),o.defineIndexProperty(e),"function"==typeof r&&r({object:o,type:"add",name:"length",index:e,newValue:a.length,oldValue:e})
return a.length},o.pop=function(){if(~a.length){var e=a.length-1,t=a.pop()
return delete o[e],"function"==typeof r&&r({object:o,type:"delete",name:"length",index:e,newValue:a.length,oldValue:e}),t}},o.unshift=function(){for(var e=a.length,t=0,i=arguments.length;t<i;t++)a.splice(t,0,arguments[t]),o.defineIndexProperty(a.length-1)
return"function"==typeof r&&r({object:o,type:"add",index:0,name:"length",newValue:a.length,oldValue:e}),a.length},o.shift=function(){var e=a.length
if(~a.length){var t=a.shift()
return 0===a.length&&delete o[e],"function"==typeof r&&r({object:o,type:"delete",index:e,name:"length",newValue:a.length,oldValue:e}),t}},o.slice=function(t,i,n){var r=a.slice(t,i)
return new e.jqx.observableArray(r,n)},o.splice=function(t,i,n){var s,l=[]
for(t=~t?t:a.length-t,i=(null==i?a.length-t:i)||0;i--;)s=a.splice(t,1)[0],l.push(s),delete o[a.length],"function"==typeof r&&r({object:o,type:"delete",index:t,name:"length",newValue:-1,oldValue:t})
for(var d=2,c=arguments.length;d<c;d++)a.splice(t,0,arguments[d]),o.defineIndexProperty(a.length-1),"function"==typeof r&&r({object:o,type:"add",index:t,name:"length",newValue:a.length-1,oldValue:t}),t++
return new e.jqx.observableArray(l,n)},Object.defineProperty(o,"length",{configurable:!1,enumerable:!0,get:function(){return a.length},set:function(e){var t=Number(e)
if(!(t%1==0&&t>=0))throw new RangeError("Invalid array length")
return t<a.length?o.splice(t):t>a.length&&o.push.apply(o,new Array(t-a.length)),e}}),e.jqx.observableArray.prototype.fromArray=function(t,i){return new e.jqx.observableArray(t,i)},e.jqx.observableArray.prototype.clone=function(){var t=new e.jqx.observableArray(a,i)
return t.observing=o.observing,t.changes=o.changes,t.notifier=o.notifier,t},o.remove=function(e){if(e<0||e>=o.length)throw new Error("Invalid index : "+e)
if(o.hasOwnProperty(e)){var t=o[e]
return o[e]=void 0,a[e]=void 0,"function"==typeof r&&r({object:o,type:"delete",index:e,name:"index",newValue:void 0,oldValue:t}),!0}return!1},o.concat=function(t,i){var n=a.concat(t)
return new e.jqx.observableArray(n,i)},Object.getOwnPropertyNames(Array.prototype).forEach(function(e){if(!(e in o)){Object.defineProperty(o,e,{configurable:!1,enumerable:!0,writeable:!1,value:function(){var t=o.observing
o.observing=!1
var i=a[e].apply(a,arguments)
return o.observing=t,i}})}}),o.set=function(t,i){if("string"==e.type(t)&&t.split(".").length>1){for(var n=t.split("."),r=o,a=0;a<n.length;a++){if(0===a&&n[a]>=o.length)throw new Error("Invalid Index: "+t)
a<n.length-1?r=r[n[a]]:r[n[a]]=i}return!0}return t>=o.length?o.push(i):o[t]=i,!0},o.get=function(e){return o[e]},t instanceof Array&&o.push.apply(o,t),r=function(){o.observing&&(arguments&&arguments[0]&&o.changes.push(arguments[0]),i&&i.apply(o,arguments),o.notifier&&o.notifier.apply(o,arguments))},o},e.jqx.formatDate=function(t,i,n){return e.jqx.dataFormat.formatdate(t,i,n)},e.jqx.formatNumber=function(t,i,n){return e.jqx.dataFormat.formatnumber(t,i,n)},e.jqx.dataAdapter=function(t,i){if(null!=t&&(void 0!==t.dataFields&&(t.datafields=t.dataFields),void 0!==t.dataType&&(t.datatype=t.dataType),void 0!==t.localData&&(t.localdata=t.localData),void 0!==t.sortColumn&&(t.sortcolumn=t.sortColumn),void 0!==t.sortDirection&&(t.sortdirection=t.sortDirection),void 0!==t.sortOrder&&(t.sortdirection=t.sortOrder),void 0!==t.formatData&&(t.formatdata=t.formatData),void 0!==t.processData&&(t.processdata=t.processData),void 0!==t.pageSize&&(t.pagesize=t.pageSize),void 0!==t.pageNum&&(t.pagenum=t.pageNum),void 0!==t.updateRow&&(t.updaterow=t.updateRow),void 0!==t.addRow&&(t.addrow=t.addRow),void 0!==t.deleteRow&&(t.deleterow=t.deleteRow),void 0!==t.contentType&&(t.contenttype=t.contentType),null!=t.totalRecords&&(t.totalrecords=t.totalRecords),null!=t.loadError&&(t.loadError=t.loadError),null!=t.sortComparer&&(t.sortcomparer=t.sortComparer)),this._source=t,this._options=i||{},null!=t.beforeLoadComplete&&(this._options.beforeLoadComplete=this._source.beforeLoadComplete),null!=t.downloadComplete&&(this._options.downloadComplete=this._source.downloadComplete),null!=t.loadComplete&&(this._options.loadComplete=this._source.loadComplete),null!=t.autoBind&&(this._options.downloadComplete=this._source.autoBind),null!=t.formatData&&(this._options.formatData=this._source.formatData),null!=t.loadError&&(this._options.loadError=this._source.loadError),null!=t.beforeSend&&(this._options.beforeSend=this._source.beforeSend),null!=t.contentType&&(this._options.contentType=this._source.contentType),null!=t.async&&(this._options.async=this._source.async),null!=t.loadServerData&&(this._options.loadServerData=this._source.loadServerData),null!=t.uniqueDataFields&&(this._options.uniqueDataFields=this._source.uniqueDataFields),this.records=new Array,this._downloadComplete=new Array,this._bindingUpdate=new Array,null!=t&&null!=t.localdata&&"function"==typeof t.localdata){var n=t.localdata()
if(null!=n){t._localdata=t.localdata
var r=this
t._localdata.subscribe&&(r._oldlocaldata=[],t._localdata.subscribe(function(t){var i=function(t){return e.isArray(t)?e.makeArray(i(e(t))):e.extend(!0,{},t)}
0!=r.suspendKO&&null!=r.suspendKO&&0!=r._oldlocaldata.length||(r._oldlocaldata=i(t))},t._localdata,"beforeChange"),t._localdata.subscribe(function(e){if(0==r.suspendKO||null==r.suspendKO){var i=""
r._oldrecords=r.records,0==r._oldlocaldata.length&&(t.localdata=t._localdata()),0==r._oldlocaldata.length?i="change":e&&(r._oldlocaldata.length==e.length&&(i="update"),r._oldlocaldata.length>e.length&&(i="remove"),r._oldlocaldata.length<e.length&&(i="add")),r.dataBind(null,i)}},t._localdata,"change"),r._knockoutdatasource=!0),t.localdata=n}}1==this._options.autoBind&&this.dataBind()},e.jqx.dataAdapter.prototype={getrecords:function(){return this.records},beginUpdate:function(){this.isUpdating=!0},endUpdate:function(e){this.isUpdating=!1,0!=e&&(this._changedrecords&&this._changedrecords.length>0?(this.callBindingUpdate("update"),this._changedrecords=[]):this.dataBind(null,""))},formatDate:function(t,i,n){return e.jqx.dataFormat.formatdate(t,i,n)},formatNumber:function(t,i,n){return e.jqx.dataFormat.formatnumber(t,i,n)},dataBind:function(t,i){if(1!=this.isUpdating){var n=this._source
if(n){n.generatedfields&&(n.datafields=null,n.generatedfields=null),e.jqx.dataFormat.datescache=new Array,null!=n.dataFields&&(n.datafields=n.dataFields),null==n.recordstartindex&&(n.recordstartindex=0),null==n.recordendindex&&(n.recordendindex=0),null==n.loadallrecords&&(n.loadallrecords=!0),null==n.root&&(n.root=""),null==n.record&&(n.record=""),null!=n.sort&&(this.sort=n.sort),null!=n.filter?this.filter=n.filter:this.filter=null,null!=n.sortcolumn&&(this.sortcolumn=n.sortcolumn),null!=n.sortdirection&&(this.sortdirection=n.sortdirection),null!=n.sortcomparer&&(this.sortcomparer=n.sortcomparer),this.records=new Array
var r=this._options||{}
if(this.virtualmode=null!=r.virtualmode&&r.virtualmode,this.totalrecords=null!=r.totalrecords?r.totalrecords:0,this.pageable=null!=r.pageable&&r.pageable,this.pagesize=null!=r.pagesize?r.pagesize:0,this.pagenum=null!=r.pagenum?r.pagenum:0,this.cachedrecords=null!=r.cachedrecords?r.cachedrecords:new Array,this.originaldata=new Array,this.recordids=new Array,this.updaterow=null!=r.updaterow?r.updaterow:null,this.addrow=null!=r.addrow?r.addrow:null,this.deleterow=null!=r.deleterow?r.deleterow:null,this.cache=null!=r.cache&&r.cache,this.unboundmode=!1,null!=n.formatdata&&(r.formatData=n.formatdata),null!=n.data&&(null==r.data&&(r.data={}),e.extend(r.data,n.data)),null!=n.mapChar&&(n.mapchar=n.maxChar),null!=n.mapchar?this.mapChar=n.mapchar?n.mapchar:">":this.mapChar=r.mapChar?r.mapChar:">",(r.unboundmode||n.unboundmode)&&(this.unboundmode=r.unboundmode||n.unboundmode),null!=n.cache&&(this.cache=n.cache),this.koSubscriptions)for(var o=0;o<this.koSubscriptions.length;o++)this.koSubscriptions[o].dispose()
this.koSubscriptions=new Array,this.pagenum<0&&(this.pagenum=0)
var a=this,s=n.datatype
"csv"!==n.datatype&&"tab"!==n.datatype&&"tsv"!==n.datatype&&"text"!=n.datatype||(s="text")
var l=null==r.async||r.async
switch(null!=n.async&&(l=n.async),s){case"local":case"array":case"observablearray":case"observableArray":default:if(null==n.localdata&&n.length){n.localdata=new Array
for(var d=0;d<n.length;d++)n.localdata[n.localdata.length]=n[d],n[d].uid=d}n.beforeprocessing&&e.isFunction(n.beforeprocessing)&&n.beforeprocessing(n.localdata)
var c=n.localdata.length
if(this.totalrecords=this.virtualmode&&n.totalrecords||c,this.unboundmode)if(this.totalrecords=this.unboundmode&&n.totalrecords||c,(p=n.datafields?n.datafields.length:0)>0)for(d=0;d<this.totalrecords;d++){for(var h={},u=0;u<p;u++)h[n.datafields[u].name]=""
h.uid=d,n.localdata[n.localdata.length]=h}null==this.totalrecords&&(this.totalrecords=0)
var p=n.datafields?n.datafields.length:0,m=function(t,i){for(var r={},o=0;o<i;o++){var s=n.datafields?n.datafields[o]:{},l=""
if(null!=s&&null!=s){if(s.map){if(e.isFunction(s.map))l=s.map(t)
else{var d=s.map.split(a.mapChar)
if(d.length>0){for(var c=t,h=0;h<d.length;h++)c&&(c=c[d[h]])
l=c}else l=t[s.map]}null!=l&&null!=l?l=l.toString():null==l&&null!=l&&(l="")}var u=!1
""==l&&(u=!0,null!=(l=t[s.name])&&null!=l&&(n._localdata&&l.subscribe?l=l():"array"!=s.type&&("date"===s.type?l&&l instanceof Date&&(l=l):l=l.toString()))),"[object Object]"==l&&s.map&&u&&(l=""),l=a.getvaluebytype(l,s),null!=s.displayname?r[s.displayname]=l:r[s.name]=l}}return r}
if(n._localdata){this._changedrecords=[],this.records=new Array
var f=n._localdata()
if(e.each(f,function(t,r){if("string"==typeof r)a.records.push(r)
else{var o={},s=0,l=this
e.each(this,function(i,r){var d=null,c="string",h=i
if(p>0){for(var u=!1,m=!1,f=0;f<p;f++){var g=n.datafields[f]
if(null!=g&&g.name==i){u=!0,d=g.map,c=g.type,h=g.name
break}if(null!=g&&g.map&&g.map.indexOf(i)>=0){u=!0,d=g.map,c=g.type,h=g.name,m=!0
var v=l[i]
if(null!=d)if((w=d.split(a.mapChar)).length>0){for(var b=l,y=0;y<w.length;y++)b=b[w[y]]
v=b}else v=l[d]
"string"!=c&&(v=a.getvaluebytype(v,{type:c})),o[h]=v,null!=o[h]&&(s+=o[h].toString().length+o[h].toString().substr(0,1))}}if(!u)return!0
if(m)return!0}if(e.isFunction(l[i])){v=l[i]()
if("string"!=c&&(v=a.getvaluebytype(v,{type:c})),o[i]=v,l[i].subscribe){var _=t
a.koSubscriptions[a.koSubscriptions.length]=l[i].subscribe(function(e){var t=_
o[i]=e
var n={index:t,oldrecord:o,record:o}
if(a._changedrecords.push(n),!a.isUpdating)return a.callBindingUpdate("update"),a._changedrecords=[],!1})}}else{var w
v=l[i]
if(null!=d)if((w=d.split(a.mapChar)).length>0){for(b=l,y=0;y<w.length;y++)b=b[w[y]]
v=b}else v=l[d]
"string"!=c&&(v=a.getvaluebytype(v,{type:c})),o[h]=v,null!=o[h]&&(s+=o[h].toString().length+o[h].toString().substr(0,1))}})
var d=a.getid(n.id,l,t)
if(o.uid=d,a.records.push(o),o._koindex=s,a._oldrecords){var c=a.records.length-1
if("update"==i&&a._oldrecords[c]._koindex!=s){var h={index:c,oldrecord:a._oldrecords[c],record:o}
a._changedrecords.push(h)}}}}),"add"==i)for(c=a.records.length,d=0;d<c;d++){h=a.records[d]
for(var g=!1,v=0;v<a._oldrecords.length;v++)if(a._oldrecords[v]._koindex===h._koindex){g=!0
break}g||a._changedrecords.push({index:d,oldrecord:null,record:h,position:0!=d?"last":"first"})}else if("remove"==i)for(c=a._oldrecords.length,d=0;d<c;d++){var b=a._oldrecords[d]
a.records[d]?a.records[d]._koindex!=b._koindex&&a._changedrecords.push({index:d,oldrecord:b,record:null}):a._changedrecords.push({index:d,oldrecord:b,record:null})}}else if(e.isArray(n.localdata))if(0==p){y=0,_=new Array
e.each(n.localdata,function(t,i){var r=new Object(this)
if("string"==typeof i)return a.records=n.localdata,!1
var o=a.getid(n.id,r,t)
if("object"==typeof o&&(o=t),r.uid=o,0==t){for(var s in this){y++
var l=e.type(this[s])
_.push({name:s,type:l})}p=y,n.datafields=_,n.generatedfields=_}if(p>0){var d=m(r,p)
d.uid=o,a.records[a.records.length]=d}else a.records[a.records.length]=r})}else e.each(n.localdata,function(e){var t,i=m(t=this,p),r=a.getid(n.id,i,e)
"object"==typeof r&&(r=e),(t=new Object(i)).uid=r,a.records[a.records.length]=t})
else{this.records=new Array
var y=0,_=new Array
e.each(n.localdata,function(t){var i=a.getid(n.id,this,t)
if(0==p&&!("string"==typeof this||this instanceof String)){for(var r in this){y++
var o=e.type(this[r])
_.push({name:r,type:o})}p=y,n.datafields=_,n.generatedfields=_}if(p>0){var s=m(this,p)
s.uid=i,a.records[a.records.length]=s}else this.uid=i,a.records[a.records.length]=this})}if(this.originaldata=n.localdata,this.cachedrecords=this.records,this.addForeignValues(n),r.uniqueDataFields){var w=this.getUniqueRecords(this.records,r.uniqueDataFields)
this.records=w,this.cachedrecords=w}if(r.beforeLoadComplete)null!=(C=r.beforeLoadComplete(a.records,this.originaldata))&&(a.records=C,a.cachedrecords=C)
if(r.autoSort&&r.autoSortField){var x=Object.prototype.toString
Object.prototype.toString=function(){return this[r.autoSortField]},a.records.sort(function(t,i){if(void 0===t&&(t=null),void 0===i&&(i=null),null===t&&null===i)return 0
if(null===t&&null!==i)return 1
if(null!==t&&null===i)return-1
if(t=t.toString(),i=i.toString(),null===t&&null===i)return 0
if(null===t&&null!==i)return 1
if(null!==t&&null===i)return-1
if(e.jqx.dataFormat.isNumber(t)&&e.jqx.dataFormat.isNumber(i))return t<i?-1:t>i?1:0
if(e.jqx.dataFormat.isDate(t)&&e.jqx.dataFormat.isDate(i))return t<i?-1:t>i?1:0
e.jqx.dataFormat.isNumber(t)||e.jqx.dataFormat.isNumber(i)||(t=String(t).toLowerCase(),i=String(i).toLowerCase())
try{if(t<i)return-1
if(t>i)return 1}catch(e){}return 0}),Object.prototype.toString=x}a.loadedData=n.localdata,a.buildHierarchy(),e.isFunction(r.loadComplete)&&r.loadComplete(n.localdata,a.records)
break
case"json":case"jsonp":case"xml":case"xhtml":case"script":case"text":case"ics":if(null!=n.localdata&&!n.url){if(e.isFunction(n.beforeprocessing)&&n.beforeprocessing(n.localdata),"xml"===n.datatype?a.loadxml(n.localdata,n.localdata,n):"text"===s?a.loadtext(n.localdata,n):"ics"===s?a.loadics(n.localdata,n):a.loadjson(n.localdata,n.localdata,n),a.addForeignValues(n),r.uniqueDataFields){w=a.getUniqueRecords(a.records,r.uniqueDataFields)
a.records=w,a.cachedrecords=w}var C
if(r.beforeLoadComplete)null!=(C=r.beforeLoadComplete(a.records,this.originaldata))&&(a.records=C,a.cachedrecords=C)
return a.loadedData=n.localdata,a.buildHierarchy.call(a),e.isFunction(r.loadComplete)&&r.loadComplete(n.localdata,a.records),void a.callBindingUpdate(i)}var S=null!=r.data?r.data:{}
if(n.processdata&&n.processdata(S),e.isFunction(r.processData)&&r.processData(S),e.isFunction(r.formatData)){var T=r.formatData(S)
null!=T&&(S=T)}var I="application/x-www-form-urlencoded"
r.contentType&&(I=r.contentType)
var E="GET"
n.type&&(E=n.type),r.type&&(E=r.type)
var P=s
if("ics"==s&&(P="text"),n.url&&n.url.length>0)e.isFunction(r.loadServerData)?a._requestData(S,n,r):this.xhr=e.jqx.data.ajax({dataType:P,cache:this.cache,type:E,url:n.url,async:l,timeout:n.timeout,contentType:I,data:S,success:function(t,i,o){var l
e.isFunction(n.beforeprocessing)&&(null!=(l=n.beforeprocessing(t,i,o))&&(t=l))
e.isFunction(r.downloadComplete)&&(null!=(l=r.downloadComplete(t,i,o))&&(t=l))
if(null==t)return a.records=new Array,a.cachedrecords=new Array,a.originaldata=new Array,a.callDownloadComplete(),void(e.isFunction(r.loadComplete)&&r.loadComplete(new Array))
var d=t
if(t.records&&(d=t.records),null!=t.totalrecords?n.totalrecords=t.totalrecords:null!=t.totalRecords&&(n.totalrecords=t.totalRecords),"xml"===n.datatype?a.loadxml(null,d,n):"text"===s?a.loadtext(d,n):"ics"===s?a.loadics(d,n):a.loadjson(null,d,n),a.addForeignValues(n),r.uniqueDataFields){var c=a.getUniqueRecords(a.records,r.uniqueDataFields)
a.records=c,a.cachedrecords=c}if(r.beforeLoadComplete){var h=r.beforeLoadComplete(a.records,t)
null!=h&&(a.records=h,a.cachedrecords=h)}a.loadedData=t,a.buildHierarchy.call(a),a.callDownloadComplete(),e.isFunction(r.loadComplete)&&r.loadComplete(t,i,o,a.records)},error:function(t,i,o){e.isFunction(n.loaderror)&&n.loaderror(t,i,o),e.isFunction(r.loadError)&&r.loadError(t,i,o),t=null,a.callDownloadComplete()},beforeSend:function(t,i){e.isFunction(r.beforeSend)&&r.beforeSend(t,i),e.isFunction(n.beforesend)&&n.beforesend(t,i)}})
else if(a.buildHierarchy(new Array),a.callDownloadComplete(),e.isFunction(r.loadComplete)){if(!D)var D={}
r.loadComplete(D)}}this.callBindingUpdate(i)}}},buildHierarchy:function(e){var t=this._source,i=new Array
if(t.datafields){if(t.hierarchy&&!t.hierarchy.reservedNames)t.hierarchy.reservedNames={leaf:"leaf",parent:"parent",expanded:"expanded",checked:"checked",selected:"selected",level:"level",icon:"icon",data:"data"}
else if(t.hierarchy)(r=t.hierarchy.reservedNames).leaf||(r.leaf="leaf"),r.parent||(r.parent="parent"),r.expanded||(r.expanded="expanded"),r.checked||(r.checked="checked"),r.selected||(r.selected="selected"),r.level||(r.level="level"),r.data||(r.data="data")
if(t.hierarchy){var n=this,r=t.hierarchy.reservedNames
if(t.hierarchy.root){if("xml"==t.dataType){i=this.getRecordsHierarchy("uid","parentuid","records",null,e)
return this.hierarchy=i,i}this.hierarchy=this.records
for(var o=t.hierarchy.root,a=0;a<this.records.length;a++){var s=this.records[a]
if(s){var l=function(e){if(t.hierarchy.record)e.records=e[o][t.hierarchy.record]
else{var i=o.split(n.mapChar),a=null
if(i.length>1){for(var s=e,l=0;l<i.length;l++)null!=s&&(s=s[i[l]])
a=s}else a=e[o]
e.records=a}(null==e.records||e.records&&0==e.records.length)&&(e[r.leaf]=!0)}
l(s),s[r.level]=0
var d=this.getid(t.id,s,a)
s.uid=d,s[r.parent]=null,s[r.data]=s,void 0===s[r.expanded]&&(s[r.expanded]=!1)
var c=function(e,i){if(i)for(var o=0;o<i.length;o++){var a=i[o]
if(a){l(a),a[r.level]=e[r.level]+1,a[r.parent]=e,a[r.data]=a
var s=n.getid(t.id,a,o)
s==o&&null==t.id?a.uid=e.uid+"_"+s:a.uid=s,void 0===a[r.expanded]&&(a[r.expanded]=!1),c(a,a.records)}}else e.records=new Array}
c(s,s.records)}}return this.hierarchy}if(t.hierarchy.keyDataField&&t.hierarchy.parentDataField){i=this.getRecordsHierarchy(t.hierarchy.keyDataField.name,t.hierarchy.parentDataField.name,"records",null,e)
return this.hierarchy=i,i}if(t.hierarchy.groupingDataFields){var h=new Array
for(a=0;a<t.hierarchy.groupingDataFields.length;a++)h.push(t.hierarchy.groupingDataFields[a].name)
i=this.getGroupedRecords(h,"records","label",null,"data",null,"parent",e)
return this.hierarchy=i,i}}}},addRecord:function(e,t,i,n){var r=this
if(null!=e){if(null==i){if(this.hierarchy&&this.hierarchy.length>=0&&(this._source.hierarchy||n)){var o=r._source&&r._source.hierarchy?r._source.hierarchy.reservedNames:null
null==o&&(o={leaf:"leaf",parent:"parent",expanded:"expanded",checked:"checked",selected:"selected",level:"level",icon:"icon",data:"data"}),e[o.level]=0,"last"==t?this.hierarchy.push(e):"number"==typeof t&&isFinite(t)?this.hierarchy.splice(t,0,e):this.hierarchy.splice(0,0,e)}else"last"==t?this.records.push(e):"number"==typeof t&&isFinite(t)?this.records.splice(t,0,e):this.records.splice(0,0,e)
return!0}if(this.hierarchy.length>0){var a=function(n){if(n)for(var o=0;o<n.length;o++){var s=n[o]
if(s.uid==i){var l=r._source&&r._source.hierarchy?r._source.hierarchy.reservedNames:null
return null==l&&(l={leaf:"leaf",parent:"parent",expanded:"expanded",checked:"checked",selected:"selected",level:"level",icon:"icon",data:"data"}),e[l.parent]=s,e[l.level]=s[l.level]+1,s.records?s[l.leaf]=!1:(s.records=new Array,s[l.leaf]=!1),"last"==t?s.records.push(e):"number"==typeof t&&isFinite(t)?s.records.splice(t,0,e):s.records.splice(0,0,e),!0}s.records&&a(s.records)}}
a(this.hierarchy)}}return!1},deleteRecord:function(e){var t=this
if(this.hierarchy.length>0){var i=function(n){if(n)for(var r=0;r<n.length;r++){if((s=n[r]).uid==e){n.splice(r,1),t.recordids[e]&&delete t.recordids[e]
var o=function(e){for(var i=0;i<e.length;i++){for(var n=e[i].uid,r=0;r<t.records.length;r++){if(t.records[r].uid==n){t.records.splice(r,1)
break}}e[i].records&&o(e[i].records)}}
s.records&&o(s.records)
for(var a=0;a<t.records.length;a++){var s
if((s=t.records[a]).uid==e){t.records.splice(a,1)
break}}return!0}s.records&&i(s.records)}}
i(this.hierarchy)}else for(var n=0;n<this.records.length;n++){if(this.records[n].uid==e)return this.records.splice(n,1),!0}return!1},addForeignValues:function(e){for(var t=this,i=e.datafields?e.datafields.length:0,n=0;n<i;n++){var r=e.datafields[n]
if(null!=r)if(null!=r.values){null==r.value&&(r.value=r.name),null==r.values.value&&(r.values.value=r.value)
var o,a,s=new Array
t.pageable&&t.virtualmode?(a=(o=t.pagenum*t.pagesize)+t.pagesize)>t.totalrecords&&(a=t.totalrecords):t.virtualmode?(o=e.recordstartindex,(a=e.recordendindex)>t.totalrecords&&(a=t.totalrecords)):(o=0,a=t.records.length)
for(var l=o;l<a;l++){var d=t.records[l],c=r.name,h=d[r.value]
if(null!=s[h])d[c]=s[h]
else for(var u=0;u<r.values.source.length;u++){var p=r.values.source[u],m=p[r.values.value]
if(null==m&&(m=p.uid),m==h){var f=p[r.values.name]
d[c]=f,s[h]=f
break}}}}else if(null!=r.value)for(l=0;l<t.records.length;l++){(d=t.records[l])[r.name]=d[r.value]}}},abort:function(){this.xhr&&4!=this.xhr.readyState&&(this.xhr.abort(),this.callDownloadComplete())},_requestData:function(t,i,n){var r=this
n.loadServerData(t,i,function(t){if(t.totalrecords&&(i.totalrecords=t.totalrecords,r.totalrecords=t.totalrecords),t.records&&(r.records=t.records,r.cachedrecords=t.records),r.addForeignValues(i),n.uniqueDataFields){var o=r.getUniqueRecords(r.records,n.uniqueDataFields)
r.records=o,r.cachedrecords=o}if(n.beforeLoadComplete){var a=n.beforeLoadComplete(r.records)
null!=a&&(r.records=a,r.cachedrecords=a)}for(var s=0;s<r.records.length;s++){var l=r.records[s]
null!=l&&null==l.uid&&(l.uid=r.getid(i.id,l,s))}r.buildHierarchy.call(r),e.isFunction(n.loadComplete)&&n.loadComplete(t),r.callDownloadComplete()})},getUniqueRecords:function(e,t){if(e&&t)for(var i=e.length,n=t.length,r=new Array,o=new Array,a=0;a<i;a++){var s=e[a],l=""
if(null!=s){for(var d=0;d<n;d++){l+=s[t[d]]+"_"}o[l]||(r[r.length]=s),o[l]=!0}}return r},getAggregatedData:function(t,i,n,r){var o=n
o||(o=this.records)
var a={},s=new Array,l=o.length
if(0!=l&&null!=l){for(var d=0;d<l;d++)for(var c=o[d],h=0;h<t.length;h++){var u=t[h],p=c[u.name]
if(u.aggregates){a[u.name]=a[u.name]||{},s[u.name]=s[u.name]||0,s[u.name]++
var m=function(t){for(var i in t){var n=a[u.name][i]
null==n&&(a[u.name][i]=0,n=0),e.isFunction(t[i])&&(n=t[i](n,p,u.name,c,r)),a[u.name][i]=n}},f=parseFloat(p);(f=!isNaN(f))&&(p=parseFloat(p)),"number"==typeof p&&isFinite(p)?e.each(u.aggregates,function(){var e=a[u.name][this]
if(null==e&&(e=0,"min"==this&&(e=9999999999999),"max"==this&&(e=-9999999999999)),"sum"==this||"avg"==this||"stdev"==this||"stdevp"==this||"var"==this||"varp"==this)e+=parseFloat(p)
else if("product"==this)0==d?e=parseFloat(p):e*=parseFloat(p)
else if("min"==this)e=Math.min(e,parseFloat(p))
else if("max"==this)e=Math.max(e,parseFloat(p))
else if("count"==this)e++
else if("object"==typeof this)return void m(this)
a[u.name][this]=e}):e.each(u.aggregates,function(){if("min"==this||"max"==this||"count"==this||"product"==this||"sum"==this||"avg"==this||"stdev"==this||"stdevp"==this||"var"==this||"varp"==this){if(null===p)return!0
var e=a[u.name][this]
return null==e&&(e=0),a[u.name][this]=e,!0}"object"==typeof this&&m(this)})}}for(h=0;h<t.length;h++){u=t[h]
if(a[u.name]||(a[u.name]={},e.each(u.aggregates,function(e){a[u.name][this]=0})),null!=a[u.name].avg){p=a[u.name].avg
var g=s[u.name]
a[u.name].avg=0===g||null==g?0:p/g}else null!=a[u.name].count&&(a[u.name].count=l);(a[u.name].stdev||a[u.name].stdevp||a[u.name].var||a[u.name].varp)&&e.each(u.aggregates,function(e){if("stdev"==this||"var"==this||"varp"==this||"stdevp"==this){for(var t=a[u.name][this],i=l,n=t/l,r=0,s=0;s<l;s++){var d=o[s][u.name]
r+=(d-n)*(d-n)}var c="stdevp"==this||"varp"==this?i:i-1
0==c&&(c=1),"var"==this||"varp"==this?a[u.name][this]=r/c:"stdevp"!=this&&"stdev"!=this||(a[u.name][this]=Math.sqrt(r/c))}}),u.formatStrings&&e.each(u.aggregates,function(t){var n=u.formatStrings[t]
if(n)if("min"==this||"max"==this||"count"==this||"product"==this||"sum"==this||"avg"==this||"stdev"==this||"stdevp"==this||"var"==this||"varp"==this){var r=a[u.name][this]
a[u.name][this]=e.jqx.dataFormat.formatnumber(r,n,i)}else if("object"==typeof this)for(var o in this){r=a[u.name][o]
a[u.name][o]=e.jqx.dataFormat.formatnumber(r,n,i)}})}return a}},bindDownloadComplete:function(e,t){this._downloadComplete[this._downloadComplete.length]={id:e,func:t}},unbindDownloadComplete:function(e){for(var t=0;t<this._downloadComplete.length;t++)if(this._downloadComplete[t].id==e){this._downloadComplete[t].func=null,this._downloadComplete.splice(t,1)
break}},callDownloadComplete:function(){for(var e=0;e<this._downloadComplete.length;e++){var t=this._downloadComplete[e]
null!=t.func&&t.func()}},setSource:function(e){this._source=e},generatekey:function(){var e=function(){return(65536*(1+Math.random())|0).toString(16).substring(1)}
return e()+e()+"-"+e()+"-"+e()+"-"+e()+"-"+e()+e()+e()},getGroupedRecords:function(t,i,n,r,o,a,s,l,d){d||(d=0)
for(var c=new Array,h=0;h<t.length;h++)c[h]=this.generatekey()
i||(i="items"),n||(n="group"),o||(o="record"),s||(s="parentItem"),void 0===a&&(a="value")
var u=new Array,p=0,m=new Array,f=t.length
new Array
if(!l)l=this.records
for(var g=l.length,v=function(t){var i=t
return r&&e.each(r,function(){this.name&&this.map&&(i[this.map]=i[this.name])}),i},b=0;b<g;b++){var y=v(l[b]),_=(y[this.uniqueId],new Array),w=0
for(h=0;h<f;h++){var x=y[t[h]]
null!=x&&(_[w++]={value:x,hash:c[h]})}if(_.length!=f)break
for(var C=null,S="",T=0;T<_.length;T++){0
var I=_[T].value
if(null==m[S=S+"_"+_[T].hash+"_"+I]||null==m[S]){if(null==C){(C={level:0})[s]=null,C[n]=I,C[o]=y,void 0!==y.expanded?C.expanded=y.expanded:C.expanded=!1,a&&(C[a]=y[a]),C[i]=new Array
var E=u.length+d
this._source.id&&"number"!=typeof y.uid&&!isFinite(y.uid)||(E="Row"+E),C.uid=E,u[p++]=C}else{var P={level:C.level+1}
P[s]=C,P[n]=I,P[i]=new Array,P[o]=y,void 0!==y.expanded?P.expanded=y.expanded:P.expanded=!1,a&&(P[a]=y[a]),P.uid=C.uid+"_"+C[i].length,C[i][C[i].length]=P,C=P}m[S]=C}else C=m[S]}y&&(y.leaf=!0),null!=C?(null==this._source.id&&(null==y.uid?y.uid=C.uid+"_"+C[i].length:-1==y.uid.toString().indexOf(C.uid)&&(y.uid=C.uid+"_"+y.uid)),y[s]=C,y.level=C.level+1,C[i][C[i].length]=y):null==y.uid&&(y.uid=this.generatekey())}return u},getRecordsHierarchy:function(t,i,n,r,o){var a=new Array,s=this.records
if(o&&(s=o),0==this.records.length)return null
for(var l=null!=n?n:"items",d=[],c=s,h=c.length,u=this._source&&this._source.hierarchy?this._source.hierarchy.reservedNames:null,p=function(t){var i=t
return r&&e.each(r,function(){this.name&&this.map&&(i[this.map]=i[this.name])}),i},m=0;m<h;m++){var f=(v=e.extend({},c[m]))[i]
d[g=v[t]]={parentid:f,item:v}}for(m=0;m<h;m++){f=(v=e.extend({},c[m]))[i]
var g=v[t]
if(null!=d[f]){var v={parentid:f,item:d[g].item},b=d[f].item
b[l]||(b[l]=[])
var y=b[l].length,_=v.item
u?null==_[u.parent]&&(_[u.parent]=b):null==_.parent&&(_.parent=b)
var w=p(_)
b[l][y]=w,d[f].item=b,d[g]=v}else{_=d[g].item
u?null==_[u.parent]&&(_[u.parent]=null):null==_.parent&&(_.parent=null)
w=p(_)
u?w[u.level]=0:w.level=0,a[a.length]=w}}if(0!=a.length){var x=function(e,t){for(var i=0;i<t.length;i++){u?t[i][u.level]=e:t[i].level=e
var n=t[i][l]
n&&n.length>0?x(e+1,n):u?t[i][u.leaf]=!0:t[i].leaf=!0}}
x(0,a)}return a},bindBindingUpdate:function(e,t){this._bindingUpdate[this._bindingUpdate.length]={id:e,func:t}},unbindBindingUpdate:function(e){for(var t=0;t<this._bindingUpdate.length;t++)if(this._bindingUpdate[t].id==e){this._bindingUpdate[t].func=null,this._bindingUpdate.splice(t,1)
break}},callBindingUpdate:function(e){for(var t=0;t<this._bindingUpdate.length;t++){var i=this._bindingUpdate[t]
null!=i.func&&i.func(e)}},getid:function(t,i,n){if(null==t||null==t.name||!t.name){if(e(t,i).length>0)return e(t,i).text()
if(t&&t.toString().length>0){if(null!=(s=e(i).attr(t))&&s.toString().length>0)return e.trim(s).split(" ").join("").replace(/([ #;?%&,.+*~\':"!^$[\]()=>|\/@])/g,"")
var r=t.split(this.mapChar)
if(r.length>1){for(var o=i,a=0;a<r.length;a++)null!=o&&(o=o[r[a]])
if(null!=o)return o}else if(null!=i[t])return i[t]}return n}if(null!=(s=e(i).attr(t.name))&&s.toString().length>0)return s
if(t.map)try{var s
if(null!=(s=e(i).attr(t.map))&&s.toString().length>0)return s
if(e(t.map,i).length>0)return e(t.map,i).text()
if(e(t.name,i).length>0)return e(t.name,i).text()}catch(e){return n}},loadjson:function(t,i,n){"string"==typeof t&&(t=e.parseJSON(t)),null==n.root&&(n.root=""),null==n.record&&(n.record=""),(t=t||i)||(t=[])
var r=this
if(""!=n.root)if((S=n.root.split(r.mapChar)).length>1){for(var o=t,a=0;a<S.length;a++)null!=o&&(o=o[S[a]])
t=o}else{if(void 0!==t[n.root]?t=t[n.root]:t[0]&&void 0!==t[0][n.root]?t=t[0][n.root]:e.each(t,function(e){if(this==n.root)return t=this,!1
null!=this[n.root]&&(t=this[n.root])}),!t)if((S=n.root.split(r.mapChar)).length>0){for(o=t,a=0;a<S.length;a++)null!=o&&(o=o[S[a]])
t=o}}else if(!t.length)for(var s in t)if(e.isArray(t[s])){t=t[s]
break}if(null!=t&&null==t.length&&(t=e.makeArray(t)),null==t||null==t||"undefined"==t||null==t.length)throw new Error("jqxDataAdapter: JSON Parse error! Invalid JSON. Please, check your JSON or your jqxDataAdapter initialization!")
if(0!=t.length){var l=t.length
this.totalrecords=this.virtualmode&&n.totalrecords||l,this.records=new Array,this.originaldata=new Array
var d=this.records,c=this.pageable?this.pagesize*this.pagenum:n.recordstartindex
this.recordids=new Array,n.loadallrecords&&(c=0,l=this.totalrecords)
var h=0
this.virtualmode&&(h=c=this.pageable?this.pagesize*this.pagenum:n.recordstartindex,c=0,l=this.totalrecords)
var u=n.datafields?n.datafields.length:0
if(0==u){var p=t[0],m=new Array
for(var s in p){var f=s
m[m.length]={name:f}}n.datafields=m,n.generatedfields=n.datafields,u=m.length}for(var g=c,v=c;v<l;v++){var b=t[v]
if(null==b)break
if(!n.record||""==n.record||null!=(b=b[n.record])){var y=this.getid(n.id,b,v)
if("object"==typeof y&&(y=v),!this.recordids[y]){this.recordids[y]=b
for(var _={},w=0;w<u;w++){var x=n.datafields[w],C=""
if(null!=x&&null!=x){if(x.map){var S
if(e.isFunction(x.map))C=x.map(b)
else if((S=x.map.split(r.mapChar)).length>0){var T=b
for(a=0;a<S.length;a++)null!=T&&(T=T[S[a]])
C=T}else C=b[x.map]
null!=C&&null!=C?C=this.getvaluebytype(C,x):null==C&&null!=C&&(C="")}if(""==C&&!x.map&&(null==(C=b[x.name])&&null!=C&&(C=""),null!=x.value&&null!=C)){var I=C[x.value]
null!=I&&(C=I)}if(C=this.getvaluebytype(C,x),null!=x.displayname?_[x.displayname]=C:_[x.name]=C,"array"===x.type){var E=function(t){if(t)for(var i=0;i<t.length;i++){var o=t[i]
if(o)for(var a=0;a<u;a++){var s=n.datafields[a],l=""
if(null!=s&&null!=s){if(s.map){if(e.isFunction(s.map))l=s.map(o)
else{var d=s.map.split(r.mapChar)
if(d.length>0){for(var c=o,h=0;h<d.length;h++)null!=c&&(c=c[d[h]])
l=c}else l=o[s.map]}null!=l&&null!=l?l=this.getvaluebytype(l,s):null==l&&null!=l&&(l="")}if(""==l&&!s.map&&(null==(l=o[s.name])&&null!=l&&(l=""),null!=s.value&&null!=l)){var p=l[s.value]
null!=p&&(l=p)}l=this.getvaluebytype(l,s),null!=s.displayname?o[s.displayname]=l:o[s.name]=l,"array"===s.type&&E.call(this,l)}}}}
E.call(this,C)}}}(n.recordendindex<=0||c<n.recordendindex)&&(d[h+g]=new Object(_),d[h+g].uid=y,this.originaldata[h+g]=new Object(d[v]),g++)}}}this.records=d,this.cachedrecords=this.records}else this.totalrecords=0},loadxml:function(t,i,n){"string"==typeof t&&(t=i=e(e.parseXML(t)),t=null),null==n.root&&(n.root=""),null==n.record&&(n.record=""),(t=e.jqx.browser.msie&&i&&null!=i.xml?e(n.root+" "+n.record,e.parseXML(i.xml)):t||e(n.root+" "+n.record,i))||(t=[])
var r=t.length
if(0!=t.length){this.totalrecords=this.virtualmode&&n.totalrecords||r,this.records=new Array,this.originaldata=new Array
var o=this.records,a=this.pageable?this.pagesize*this.pagenum:n.recordstartindex
this.recordids=new Array,n.loadallrecords&&(a=0,r=this.totalrecords)
var s=0
this.virtualmode&&(s=a=this.pageable?this.pagesize*this.pagenum:n.recordstartindex,a=0,r=this.totalrecords)
var l=n.datafields?n.datafields.length:0
if(0==l){var d=t[0],c=new Array
for(var h in d){var u=h
c[c.length]={name:u}}n.datafields=c,n.generatedfields=n.datafields,l=c.length}for(var p=a,m=a;m<r;m++){if(null==(E=t[m]))break
var f=this.getid(n.id,E,m)
if(!this.recordids[f]){this.recordids[f]=E
var g={},v=!1
n.hierarchy&&n.hierarchy.root&&(v=!0)
for(var b=0;b<l;b++){var y=n.datafields[b],_=""
if(null!=y&&null!=y){if(y.map)if(e.isFunction(y.map))_=y.map(E)
else{var w=y.map.indexOf("[")
if(w<0)if(1==(_=e(y.map,E)).length)_=_.text()
else{!0
for(var x=new Array,C=0;C<_.length;C++)x.push(e(_[C]).text())
_=x,v&&x.length>0&&(_=x[0])}else{var S=y.map.substring(0,w-1),T=y.map.indexOf("]"),I=y.map.substring(w+1,T)
null==(_=e(S,E).attr(I))&&(_=e(E).attr(I)),null==_&&(_="")}""==_&&null==(_=e(E).attr(y.map))&&(_="")}if(""==_){if(1==(_=e(y.name,E)).length)_=_.text()
else{for(x=new Array,C=0;C<_.length;C++)x.push(e(_[C]).text())
_=x,v&&x.length>0&&(_=x[0])}""==_&&null==(_=e(E).attr(y.name))&&(_=""),""==_&&E.nodeName&&E.nodeName==y.name&&E.firstChild&&(_=e(E.firstChild).text())}_=this.getvaluebytype(_,y),null!=y.displayname?g[y.displayname]=_:g[y.name]=_}}(n.recordendindex<=0||a<n.recordendindex)&&(o[s+p]=e.extend({},g),o[s+p].uid=f,this.originaldata[s+p]=e.extend({},o[m]),p++)}}if(n.hierarchy&&n.hierarchy.root)for(m=a;m<r;m++){var E=t[m],P=o[m]
if(e(E).parent().length>0){f=this.getid(n.id,e(E).parents(n.hierarchy.record+":first"))
P.parentuid=f}else P.parentuid=null}this.records=o,this.cachedrecords=this.records}},loadics:function(e,t){if(null!=e){var i=t.rowDelimiter||this.rowDelimiter||"\n",n=e.split(i),r=n.length,o=e.split("\r")
1==r&&o.length>1&&(r=(n=o).length),this.records=new Array,this.originaldata=new Array
var a=this.records
this.recordids=new Array
for(var s=function(e){var t=/^(\d{4})(\d{2})(\d{2})(T(\d{2})(\d{2})(\d{2})Z)?$/.exec(e)
if(!t)throw new Error("Invalid UNTIL value: "+e)
return new Date(Date.UTC(t[1],t[2]-1,t[3],t[5]||0,t[6]||0,t[7]||0))},l=0;l<r;l++){var d=n[l]
if("BEGIN:VEVENT"!=d)if(d.indexOf("SUMMARY")>=0)h.SUMMARY=d.substring(d.indexOf("SUMMARY")+8)
else if(d.indexOf("LOCATION")>=0)h.LOCATION=d.substring(d.indexOf("LOCATION")+9)
else if(d.indexOf("DESCRIPTION")>=0)h.DESCRIPTION=d.substring(d.indexOf("DESCRIPTION")+12)
else if(d.indexOf("RRULE")>=0)h.RRULE=d.substring(d.indexOf("RRULE")+6)
else if(d.indexOf("EXDATE")>=0){var c=d.substring(d.indexOf("EXDATE")+7)
h.EXDATE=c}else d.indexOf("DTEND")>=0?h.DTEND=s(d.substring(d.indexOf("DTEND")+6)):d.indexOf("DTSTART")>=0?h.DTSTART=s(d.substring(d.indexOf("DTSTART")+8)):d.indexOf("UID")>=0?h.uid=h.UID=d.substring(d.indexOf("UID")+4):d.indexOf("STATUS")>=0?h.STATUS=d.substring(d.indexOf("STATUS")+7):"END:VEVENT"!=d||a.push(h)
else var h={}}this.records=a,this.cachedrecords=this.records}},loadtext:function(t,i){if(null!=t){var n=i.rowDelimiter||this.rowDelimiter||"\n",r=t.split(n),o=r.length,a=t.split("\r")
1==o&&a.length>1&&(o=(r=a).length),this.totalrecords=this.virtualmode&&i.totalrecords||o,this.records=new Array,this.originaldata=new Array
var s=this.records,l=this.pageable?this.pagesize*this.pagenum:i.recordstartindex
this.recordids=new Array,i.loadallrecords&&(l=0,o=this.totalrecords)
var d=0
this.virtualmode&&(d=l=this.pageable?this.pagesize*this.pagenum:i.recordstartindex,l=0,o=this.totalrecords)
var c=i.datafields.length,h=i.columnDelimiter||this.columnDelimiter
h||(h="tab"===i.datatype||"tsv"===i.datatype?"\t":",")
for(var u=l;u<o;u++){var p=r[u],m=null
if(!this.recordids[m]){null==i.id&&(m=u,this.recordids[m]=p)
for(var f={},g=r[u].split(h),v=0;v<c;v++)if(!(v>=g.length)){var b=i.datafields[v],y=g[v]
b.map&&e.isFunction(b.map)&&(y=b.map(p)),b.type&&(y=this.getvaluebytype(y,b)),f[b.map||b.name||v.toString()]=y,null!=i.id&&i.id===b.name&&(m=y,this.recordids[m]=p)}null==m&&(m=u),s[d+u]=e.extend({},f),s[d+u].uid=m,this.originaldata[d+u]=e.extend({},s[u])}}this.records=s,this.cachedrecords=this.records}},getvaluebytype:function(t,i){var n=t
if(null==t)return t
if(e.isArray(t)&&"array"!=i.type){for(var r=0;r<t.length;r++)t[r]=this.getvaluebytype(t[r],i)
return t}if("date"==i.type)if("NaN"==t)t=""
else{if(t&&t instanceof Date)return t
var o=new Date(t)
if("string"==typeof t&&i.format){var a=e.jqx.dataFormat.parsedate(t,i.format)
null!=a&&(o=a)}null==(t=("NaN"==o.toString()||"Invalid Date"==o.toString())&&e.jqx.dataFormat?e.jqx.dataFormat.tryparsedate(t):o)&&(t=n)}else if("float"==i.type||"number"==i.type||"decimal"==i.type)if("NaN"==t)t=""
else{t=parseFloat(t)
isNaN(t)&&(t=n)}else if("int"==i.type||"integer"==i.type){t=parseInt(t)
isNaN(t)&&(t=n)}else"bool"!=i.type&&"boolean"!=i.type||(null!=t&&null!=t.toLowerCase&&("false"==t.toLowerCase()?t=!1:"true"==t.toLowerCase()&&(t=!0)),t=1==t||(0!=t||""===t)&&"")
return t}},e.jqx.dataFormat={},e.extend(e.jqx.dataFormat,{regexTrim:/^\s+|\s+$/g,regexInfinity:/^[+-]?infinity$/i,regexHex:/^0x[a-f0-9]+$/i,regexParseFloat:/^[+-]?\d*\.?\d*(e[+-]?\d+)?$/,toString:Object.prototype.toString,isBoolean:function(e){return"boolean"==typeof e},isObject:function(t){return t&&("object"==typeof t||e.isFunction(t))||!1},isDate:function(e){return e instanceof Date},arrayIndexOf:function(e,t){if(e.indexOf)return e.indexOf(t)
for(var i=0,n=e.length;i<n;i++)if(e[i]===t)return i
return-1},isString:function(e){return"string"==typeof e},isNumber:function(e){return"number"==typeof e&&isFinite(e)},isNull:function(e){return null===e},isUndefined:function(e){return void 0===e},isValue:function(e){return this.isObject(e)||this.isString(e)||this.isNumber(e)||this.isBoolean(e)},isEmpty:function(t){return!(!this.isString(t)&&this.isValue(t))&&(!this.isValue(t)||""===(t=e.trim(t).replace(/\&nbsp\;/gi,"").replace(/\&#160\;/gi,"")))},startsWith:function(e,t){return 0===e.indexOf(t)},endsWith:function(e,t){return e.substr(e.length-t.length)===t},trim:function(e){return(e+"").replace(this.regexTrim,"")},isArray:function(e){return"[object Array]"===this.toString.call(e)},defaultcalendar:function(){return{"/":"/",":":":",firstDay:0,days:{names:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],namesAbbr:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],namesShort:["Su","Mo","Tu","We","Th","Fr","Sa"]},months:{names:["January","February","March","April","May","June","July","August","September","October","November","December",""],namesAbbr:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec",""]},AM:["AM","am","AM"],PM:["PM","pm","PM"],eras:[{name:"A.D.",start:null,offset:0}],twoDigitYearMax:2029,patterns:{d:"M/d/yyyy",D:"dddd, MMMM dd, yyyy",t:"h:mm tt",T:"h:mm:ss tt",f:"dddd, MMMM dd, yyyy h:mm tt",F:"dddd, MMMM dd, yyyy h:mm:ss tt",M:"MMMM dd",Y:"yyyy MMMM",S:"yyyy'-'MM'-'dd'T'HH':'mm':'ss",ISO:"yyyy-MM-dd hh:mm:ss",ISO2:"yyyy-MM-dd HH:mm:ss",d1:"dd.MM.yyyy",d2:"dd-MM-yyyy",d3:"MM-dd-yyyy",zone1:"yyyy-MM-ddTHH:mm:ss-HH:mm",zone2:"yyyy-MM-ddTHH:mm:ss+HH:mm",custom:"yyyy-MM-ddTHH:mm:ss.fff",custom2:"yyyy-MM-dd HH:mm:ss.fff"},percentsymbol:"%",currencysymbol:"$",currencysymbolposition:"before",decimalseparator:".",thousandsseparator:","}},expandFormat:function(e,t){t=t||"F"
var i,n=e.patterns,r=t.length
if(1===r){if(!(i=n[t]))throw"Invalid date format string '"+t+"'."
t=i}else 2===r&&"%"===t.charAt(0)&&(t=t.charAt(1))
return t},getEra:function(e,t){if(!t)return 0
if("string"==typeof e)return 0
for(var i,n=e.getTime(),r=0,o=t.length;r<o;r++)if(null===(i=t[r].start)||n>=i)return r
return 0},toUpper:function(e){return e.split(" ").join(" ").toUpperCase()},toUpperArray:function(e){for(var t=[],i=0,n=e.length;i<n;i++)t[i]=this.toUpper(e[i])
return t},getEraYear:function(e,t,i,n){var r=e.getFullYear()
return!n&&t.eras&&(r-=t.eras[i].offset),r},toUpper:function(e){return e?e.toUpperCase():""},getDayIndex:function(e,t,i){var n,r=e.days,o=e._upperDays
return o||(e._upperDays=o=[this.toUpperArray(r.names),this.toUpperArray(r.namesAbbr),this.toUpperArray(r.namesShort)]),t=t.toUpperCase(),i?-1===(n=this.arrayIndexOf(o[1],t))&&(n=this.arrayIndexOf(o[2],t)):n=this.arrayIndexOf(o[0],t),n},getMonthIndex:function(e,t,i){var n=e.months,r=e.monthsGenitive||e.months,o=e._upperMonths,a=e._upperMonthsGen
o||(e._upperMonths=o=[this.toUpperArray(n.names),this.toUpperArray(n.namesAbbr)],e._upperMonthsGen=a=[this.toUpperArray(r.names),this.toUpperArray(r.namesAbbr)]),t=this.toUpper(t)
var s=this.arrayIndexOf(i?o[1]:o[0],t)
return s<0&&(s=this.arrayIndexOf(i?a[1]:a[0],t)),s},appendPreOrPostMatch:function(e,t){for(var i=0,n=!1,r=0,o=e.length;r<o;r++){var a=e.charAt(r)
switch(a){case"'":n?t.push("'"):i++,n=!1
break
case"\\":n&&t.push("\\"),n=!n
break
default:t.push(a),n=!1}}return i},getTokenRegExp:function(){return/\/|dddd|ddd|dd|d|MMMM|MMM|MM|M|yyyy|yy|y|hh|h|HH|H|mm|m|ss|s|tt|t|fff|ff|f|zzz|zz|z|gg|g/g},formatlink:function(e,t){var i=""
return t&&t.target&&(i="target="+t.target),""!=i?"<a "+i+' href="'+e+'">'+e+"</a>":'<a href="'+e+'">'+e+"</a>"},formatemail:function(e){return'<a href="mailto:'+e+'">'+e+"</a>"},formatNumber:function(e,t,i){return this.formatnumber(e,t,i)},formatnumber:function(e,t,i){if(null!=i&&null!=i&&""!=i||(i=this.defaultcalendar()),""===t||null===t)return e
var n
this.isNumber(e)||(e*=1),t.length>1&&(n=parseInt(t.slice(1),10))
var r={},o=t.charAt(0).toUpperCase()
switch(r.thousandsSeparator=i.thousandsseparator,r.decimalSeparator=i.decimalseparator,o){case"D":case"d":case"F":case"f":r.decimalPlaces=n
break
case"N":case"n":r.decimalPlaces=0
break
case"C":case"c":r.decimalPlaces=n,"before"==i.currencysymbolposition?r.prefix=i.currencysymbol:r.suffix=i.currencysymbol
break
case"P":case"p":r.suffix=i.percentsymbol,r.decimalPlaces=n
break
default:throw"Bad number format specifier: "+o}if(this.isNumber(e)){var a,s=e<0,l=e+"",d=r.decimalSeparator?r.decimalSeparator:"."
if(this.isNumber(r.decimalPlaces)){var c=r.decimalPlaces,h=Math.pow(10,c)
if(a=(l=(e*h).toFixed(0)/h+"").lastIndexOf("."),c>0)for(a<0?a=(l+=d).length-1:"."!==d&&(l=l.replace(".",d));l.length-1-a<c;)l+="0"}else{(a=(l=e+"").lastIndexOf("."))>0&&null==c&&"."!==d&&(l=l.replace(".",d))}if(r.thousandsSeparator){var u=r.thousandsSeparator
a=(a=l.lastIndexOf(d))>-1?a:l.length
for(var p=l.substring(a),m=-1,f=a;f>0;f--)++m%3==0&&f!==a&&(!s||f>1)&&(p=u+p),p=l.charAt(f-1)+p
l=p}return l=r.prefix?r.prefix+l:l,l=r.suffix?l+r.suffix:l}return e},tryparsedate:function(t,i){null!=i&&null!=i||(i=this.defaultcalendar())
if(""==t)return null
if(null==t||t.substring||(t=t.toString()),null!=t&&"/Date("==t.substring(0,6)){if("Invalid Date"==(n=new Date(+t.replace(/\/Date\((\d+)\)\//,"$1")))){var n=null;(N=t.match(/^\/Date\((\d+)([-+]\d\d)(\d\d)\)\/$/))&&(n=new Date(1*N[1]+36e5*N[2]+6e4*N[3]))}if(null==n||"Invalid Date"==n||isNaN(n)){var r=/^\/Date\((-?\d+)(\+|-)?(\d+)?\)\/$/.exec(t)
if(r){var o=new Date(parseInt(r[1]))
if(r[2]){var a=parseInt(r[3])
"-"===r[2]&&(a=-a)
var s=o.getUTCMinutes()
o.setUTCMinutes(s-a)}if(!isNaN(o.valueOf()))return o}}return n}var l,d,c=i.patterns
for(var h in c)if(n=this.parsedate(t,c[h],i)){if("ISO"==h)if(u=this.parsedate(t,c.ISO2,i))return u
return n}if(null!=t){for(var u=null,p=[":","/","-"],m=!0,f=0;f<p.length;f++)-1!=t.indexOf(p[f])&&(m=!1)
if(m){var g=new Number(t)
if(!isNaN(g))return new Date(g)}}if("string"===e.type(t)){var v=this
t=v.trim(t)
var b=[":","/","-"," ",","]
l=", ",d=","
var y="",_=t=t.replace(new RegExp(l,"g"),d)
t.indexOf(":")>=0?(y=t.substring(t.indexOf(":")-2),y=v.trim(y),_=t.substring(0,t.indexOf(":")-2)):t.toUpperCase().indexOf("AM")>=0?(y=t.substring(t.toUpperCase().indexOf("AM")-2),y=v.trim(y),_=t.substring(0,t.toUpperCase().indexOf("AM")-2)):t.toUpperCase().indexOf("PM")>=0&&(y=t.substring(t.toUpperCase().indexOf("PM")-2),y=v.trim(y),_=t.substring(0,t.toUpperCase().indexOf("PM")-2))
var w=new Date,x=!1
if(_){for(var C=0;C<b.length;C++)if(_.indexOf(b[C])>=0){p=_.split(b[C])
break}var S=new Array,T=new Array,I=new Array,E=null,P=null
for(C=0;C<p.length;C++){f=p[C]
var D=v.parsedate(f,"d",i)||v.parsedate(f,"dd",i)||v.parsedate(f,"ddd",i)||v.parsedate(f,"dddd",i)
if(D&&f.length<=2){E=C,S.push(D.getDate())
break}}for(C=0;C<p.length;C++){f=p[C]
var k=v.parsedate(f,"M",i)||v.parsedate(f,"MM",i)||v.parsedate(f,"MMM",i)||v.parsedate(f,"MMMM",i)
if(k){if(null!=E&&E==C)continue
if(T.push(k.getMonth()),f.length>2){P=C
break}}}for(C=0;C<p.length;C++){f=p[C]
var A=v.parsedate(f,"yyyy",i)
if(A){if(null!=E&&E==C)continue
if(null!=P&&P==C)continue
I.push(A.getFullYear())}}for(var j=new Array,M=0;M<S.length;M++)for(var N=0;N<T.length;N++)for(var q=0;q<I.length;q++){o=new Date(I[q],T[N],S[M])
I[q]<1970&&o.setFullYear(I[q]),NaN!=o.getTime()&&j.push(o)}j.length>0&&(w=j[0],x=!0)}if(y){var O=y.indexOf(":")>=0?y.split(":"):y,B=v.parsedate(y,"h:mm tt",i)||v.parsedate(y,"h:mm:ss tt",i)||v.parsedate(y,"HH:mm:ss.fff",i)||v.parsedate(y,"HH:mm:ss.ff",i)||v.parsedate(y,"HH:mm:ss.tttt",i)||v.parsedate(y,"HH:mm:ss",i)||v.parsedate(y,"HH:mm",i)||v.parsedate(y,"HH",i),L=0,R=0,H=0,V=0
B&&NaN!=B.getTime()?(L=B.getHours(),R=B.getMinutes(),H=B.getSeconds(),V=B.getMilliseconds()):(1==O.length&&(L=parseInt(O[0])),2==O.length&&(L=parseInt(O[0]),R=parseInt(O[1])),3==O.length&&(L=parseInt(O[0]),R=parseInt(O[1]),O[2].indexOf(".")>=0?(H=parseInt(O[2].toString().split(".")[0]),V=parseInt(O[2].toString().split(".")[1])):H=parseInt(O[2])),4==O.length&&(L=parseInt(O[0]),R=parseInt(O[1]),H=parseInt(O[2]),V=parseInt(O[3]))),!w||isNaN(L)||isNaN(R)||isNaN(H)||isNaN(V)||(w.setHours(L,R,H,V),x=!0)}if(x)return w}return null},getparseregexp:function(e,t){var i=e._parseRegExp
if(i){var n=i[t]
if(n)return n}else e._parseRegExp=i={}
for(var r,o=this.expandFormat(e,t).replace(/([\^\$\.\*\+\?\|\[\]\(\)\{\}])/g,"\\\\$1"),a=["^"],s=[],l=0,d=0,c=this.getTokenRegExp();null!==(r=c.exec(o));){var h=o.slice(l,r.index)
if(l=c.lastIndex,(d+=this.appendPreOrPostMatch(h,a))%2)a.push(r[0])
else{var u,p=r[0],m=p.length
switch(p){case"dddd":case"ddd":case"MMMM":case"MMM":case"gg":case"g":u="(\\D+)"
break
case"tt":case"t":u="(\\D*)"
break
case"yyyy":case"fff":case"ff":case"f":u="(\\d{"+m+"})"
break
case"dd":case"d":case"MM":case"M":case"yy":case"y":case"HH":case"H":case"hh":case"h":case"mm":case"m":case"ss":case"s":u="(\\d\\d?)"
break
case"zzz":u="([+-]?\\d\\d?:\\d{2})"
break
case"zz":case"z":u="([+-]?\\d\\d?)"
break
case"/":u="(\\"+e["/"]+")"
break
default:throw"Invalid date format pattern '"+p+"'."}u&&a.push(u),s.push(r[0])}}this.appendPreOrPostMatch(o.slice(l),a),a.push("$")
var f={regExp:a.join("").replace(/\s+/g,"\\s+"),groups:s}
return i[t]=f},outOfRange:function(e,t,i){return e<t||e>i},expandYear:function(e,t){var i=new Date,n=this.getEra(i)
if(t<100){var r=e.twoDigitYearMax
r="string"==typeof r?(new Date).getFullYear()%100+parseInt(r,10):r
var o=this.getEraYear(i,e,n);(t+=o-o%100)>r&&(t-=100)}return t},parsedate:function(e,t,i){null!=i&&null!=i||(i=this.defaultcalendar()),e=this.trim(e)
var n=i,r=this.getparseregexp(n,t),o=new RegExp(r.regExp).exec(e)
if(null===o)return null
for(var a,s=r.groups,l=null,d=null,c=null,h=null,u=null,p=0,m=0,f=0,g=0,v=null,b=!1,y=0,_=s.length;y<_;y++){var w=o[y+1]
if(w){var x=s[y],C=x.length,S=parseInt(w,10)
switch(x){case"dd":case"d":if(h=S,this.outOfRange(h,1,31))return null
break
case"MMM":case"MMMM":if(c=this.getMonthIndex(n,w,3===C),this.outOfRange(c,0,11))return null
break
case"M":case"MM":if(c=S-1,this.outOfRange(c,0,11))return null
break
case"y":case"yy":case"yyyy":if(d=C<4?this.expandYear(n,S):S,this.outOfRange(d,0,9999))return null
break
case"h":case"hh":if(12===(p=S)&&(p=0),this.outOfRange(p,0,11))return null
break
case"H":case"HH":if(p=S,this.outOfRange(p,0,23))return null
break
case"m":case"mm":if(m=S,this.outOfRange(m,0,59))return null
break
case"s":case"ss":if(f=S,this.outOfRange(f,0,59))return null
break
case"tt":case"t":if(!(b=n.PM&&(w===n.PM[0]||w===n.PM[1]||w===n.PM[2]))&&(!n.AM||w!==n.AM[0]&&w!==n.AM[1]&&w!==n.AM[2]))return null
break
case"f":case"ff":case"fff":if(g=S*Math.pow(10,3-C),this.outOfRange(g,0,999))return null
break
case"ddd":case"dddd":if(u=this.getDayIndex(n,w,3===C),this.outOfRange(u,0,6))return null
break
case"zzz":var T=w.split(/:/)
if(2!==T.length)return null
if(a=parseInt(T[0],10),this.outOfRange(a,-12,13))return null
var I=parseInt(T[1],10)
if(this.outOfRange(I,0,59))return null
v=60*a+(this.startsWith(w,"-")?-I:I)
break
case"z":case"zz":if(a=S,this.outOfRange(a,-12,13))return null
v=60*a
break
case"g":case"gg":var E=w
if(!E||!n.eras)return null
E=this.trim(E.toLowerCase())
for(var P=0,D=n.eras.length;P<D;P++)if(E===n.eras[P].name.toLowerCase()){l=P
break}if(null===l)return null}}}var k,A=new Date,j=n.convert
if(k=A.getFullYear(),null===d?d=k:n.eras&&(d+=n.eras[l||0].offset),null===c&&(c=0),null===h&&(h=1),j){if(null===(A=j.toGregorian(d,c,h)))return null}else{if(A.setFullYear(d,c,h),A.getDate()!==h)return null
if(null!==u&&A.getDay()!==u)return null}if(b&&p<12&&(p+=12),A.setHours(p,m,f,g),null!==v){var M=A.getMinutes()-(v+A.getTimezoneOffset())
A.setHours(A.getHours()+parseInt(M/60,10),M%60)}return A},cleardatescache:function(){this.datescache=new Array},formatDate:function(e,t,i){return this.formatdate(e,t,i)},formatdate:function(e,t,i){if(null!=i&&null!=i||(i=this.defaultcalendar()),"string"==typeof e)return e
var n,r=e.toString()+"_"+t
if(this.datescache&&this.datescache[r]&&-1==t.indexOf("f"))return this.datescache[r]
if(!t||!t.length||"i"===t)return n=this.formatDate(e,i.patterns.F,i)
var o=i.eras,a="s"===t
t=this.expandFormat(i,t),n=[]
var s,l,d=["0","00","000"],c=0,h=this.getTokenRegExp()
function u(e,t){var i,n=e+""
return t>1&&n.length<t?(i=d[t-2]+n).substr(i.length-t,t):i=n}function p(e,t){if(l)return l[t]
if(null!=e.getMonth)switch(t){case 0:return e.getFullYear()
case 1:return e.getMonth()
case 2:return e.getDate()}}for(;;){var m=h.lastIndex,f=h.exec(t),g=t.slice(m,f?f.index:t.length)
if(c+=this.appendPreOrPostMatch(g,n),!f)break
if(c%2)n.push(f[0])
else{var v=f[0],b=v.length
switch(v){case"ddd":case"dddd":var y=3===b?i.days.namesAbbr:i.days.names
n.push(y[e.getDay()])
break
case"d":case"dd":!0,n.push(u(p(e,2),b))
break
case"MMM":case"MMMM":var _=p(e,1)
n.push(i.months[3===b?"namesAbbr":"names"][_])
break
case"M":case"MM":n.push(u(p(e,1)+1,b))
break
case"y":case"yy":case"yyyy":_=this.getEraYear(e,i,this.getEra(e,o),a),b<4&&(_%=100),n.push(u(_,b))
break
case"h":case"hh":0===(s=e.getHours()%12)&&(s=12),n.push(u(s,b))
break
case"H":case"HH":n.push(u(e.getHours(),b))
break
case"m":case"mm":n.push(u(e.getMinutes(),b))
break
case"s":case"ss":n.push(u(e.getSeconds(),b))
break
case"t":case"tt":_=e.getHours()<12?i.AM?i.AM[0]:" ":i.PM?i.PM[0]:" ",n.push(1===b?_.charAt(0):_)
break
case"f":case"ff":case"fff":n.push(u(e.getMilliseconds(),3).substr(0,b))
break
case"z":case"zz":s=e.getTimezoneOffset()/60,n.push((s<=0?"+":"-")+u(Math.floor(Math.abs(s)),b))
break
case"zzz":s=e.getTimezoneOffset()/60,n.push((s<=0?"+":"-")+u(Math.floor(Math.abs(s)),2)+":"+u(Math.abs(e.getTimezoneOffset()%60),2))
break
case"g":case"gg":i.eras&&n.push(i.eras[this.getEra(e,o)].name)
break
case"/":n.push(i["/"])
break
default:throw"Invalid date format pattern '"+v+"'."}}}var w=n.join("")
return this.datescache||(this.datescache=new Array),this.datescache[r]=w,w}}),e.jqx.data={}
var t,i,n=/#.*$/,r=/^(.*?):[ \t]*([^\r\n]*)\r?$/gm,o=/^(?:GET|HEAD)$/,a=/^\/\//,s=/\?/,l=/([?&])_=[^&]*/,d=/^([\w\+\.\-]+:)(?:\/\/([^\/?#:]*)(?::(\d+)|)|)/,c=/\s+/,h=(e.fn.load,{}),u={},p=["*/"]+["*"]
try{i=location.href}catch(e){(i=document.createElement("a")).href="",i=i.href}function m(t){return function(i,n){"string"!=typeof i&&(n=i,i="*")
var r,o,a=i.toLowerCase().split(c),s=0,l=a.length
if(e.isFunction(n))for(;s<l;s++)r=a[s],(o=/^\+/.test(r))&&(r=r.substr(1)||"*"),(t[r]=t[r]||[])[o?"unshift":"push"](n)}}function f(e,t,i,n,r,o){(o=o||{})[r=r||t.dataTypes[0]]=!0
for(var a,s=e[r],l=0,d=s?s.length:0,c=e===h;l<d&&(c||!a);l++)"string"==typeof(a=s[l](t,i,n))&&(!c||o[a]?a=void 0:(t.dataTypes.unshift(a),a=f(e,t,i,n,a,o)))
return!c&&a||o["*"]||(a=f(e,t,i,n,"*",o)),a}function g(t,i){var n,r,o=e.jqx.data.ajaxSettings.flatOptions||{}
for(n in i)void 0!==i[n]&&((o[n]?t:r||(r={}))[n]=i[n])
r&&e.extend(!0,t,r)}t=d.exec(i.toLowerCase())||[],e.extend(e.jqx.data,{ajaxSetup:function(t,i){return i?g(t,e.jqx.data.ajaxSettings):(i=t,t=e.jqx.data.ajaxSettings),g(t,i),t},ajaxSettings:{url:i,isLocal:/^(?:about|app|app\-storage|.+\-extension|file|res|widget):$/.test(t[1]),global:!0,type:"GET",contentType:"application/x-www-form-urlencoded; charset=UTF-8",processData:!0,async:!0,accepts:{xml:"application/xml, text/xml",html:"text/html",text:"text/plain",json:"application/json, text/javascript","*":p},contents:{xml:/xml/,html:/html/,json:/json/},responseFields:{xml:"responseXML",text:"responseText"},converters:{"* text":window.String,"text html":!0,"text json":e.parseJSON,"text xml":e.parseXML},flatOptions:{context:!0,url:!0}},ajaxPrefilter:m(h),ajaxTransport:m(u),ajax:function(i,m){"object"==typeof i&&(m=i,i=void 0),m=m||{}
var g,v,b,y,_,w,x,C,S=e.jqx.data.ajaxSetup({},m),T=S.context||S,I=T!==S&&(T.nodeType||T instanceof e)?e(T):e.event,E=e.Deferred(),P=e.Callbacks("once memory"),D=S.statusCode||{},k={},A={},j=0,M="canceled",N={readyState:0,setRequestHeader:function(e,t){if(!j){var i=e.toLowerCase()
e=A[i]=A[i]||e,k[e]=t}return this},getAllResponseHeaders:function(){return 2===j?v:null},getResponseHeader:function(e){var t
if(2===j){if(!b)for(b={};t=r.exec(v);)b[t[1].toLowerCase()]=t[2]
t=b[e.toLowerCase()]}return void 0===t?null:t},overrideMimeType:function(e){return j||(S.mimeType=e),this},abort:function(e){return e=e||M,y&&y.abort(e),q(0,e),this}}
function q(t,i,n,r){var o,a,s,l,d,c=i
2!==j&&(j=2,_&&clearTimeout(_),y=void 0,v=r||"",N.readyState=t>0?4:0,n&&(l=function(e,t,i){var n,r,o,a,s=e.contents,l=e.dataTypes,d=e.responseFields
for(r in d)r in i&&(t[d[r]]=i[r])
for(;"*"===l[0];)l.shift(),void 0===n&&(n=e.mimeType||t.getResponseHeader("content-type"))
if(n)for(r in s)if(s[r]&&s[r].test(n)){l.unshift(r)
break}if(l[0]in i)o=l[0]
else{for(r in i){if(!l[0]||e.converters[r+" "+l[0]]){o=r
break}a||(a=r)}o=o||a}if(o)return o!==l[0]&&l.unshift(o),i[o]}(S,N,n)),t>=200&&t<300||304===t?(S.ifModified&&((d=N.getResponseHeader("Last-Modified"))&&(e.lastModified[g]=d),(d=N.getResponseHeader("Etag"))&&(e.etag[g]=d)),304===t?(c="notmodified",o=!0):(c=(o=function(e,t){var i,n,r,o,a=e.dataTypes.slice(),s=a[0],l={},d=0
e.dataFilter&&(t=e.dataFilter(t,e.dataType))
if(a[1])for(i in e.converters)l[i.toLowerCase()]=e.converters[i]
for(;r=a[++d];)if("*"!==r){if("*"!==s&&s!==r){if(!(i=l[s+" "+r]||l["* "+r]))for(n in l)if((o=n.split(" "))[1]===r&&(i=l[s+" "+o[0]]||l["* "+o[0]])){!0===i?i=l[n]:!0!==l[n]&&(r=o[0],a.splice(d--,0,r))
break}if(!0!==i)if(i&&e.throws)t=i(t)
else try{t=i(t)}catch(e){return{state:"parsererror",error:i?e:"No conversion from "+s+" to "+r}}}s=r}return{state:"success",data:t}}(S,l)).state,a=o.data,o=!(s=o.error))):(s=c,c&&!t||(c="error",t<0&&(t=0))),N.status=t,N.statusText=(i||c)+"",o?E.resolveWith(T,[a,c,N]):E.rejectWith(T,[N,c,s]),N.statusCode(D),D=void 0,x&&I.trigger("ajax"+(o?"Success":"Error"),[N,S,o?a:s]),P.fireWith(T,[N,c]),x&&(I.trigger("ajaxComplete",[N,S]),--e.active||e.event.trigger("ajaxStop")))}if(E.promise(N),N.success=N.done,N.error=N.fail,N.complete=P.add,N.statusCode=function(e){var t
if(e)if(j<2)for(t in e)D[t]=[D[t],e[t]]
else t=e[N.status],N.always(t)
return this},S.url=((i||S.url)+"").replace(n,"").replace(a,t[1]+"//"),S.dataTypes=e.trim(S.dataType||"*").toLowerCase().split(c),null==S.crossDomain&&(w=d.exec(S.url.toLowerCase()),S.crossDomain=!(!w||w[1]===t[1]&&w[2]===t[2]&&(w[3]||("http:"===w[1]?80:443))==(t[3]||("http:"===t[1]?80:443)))),S.data&&S.processData&&"string"!=typeof S.data&&(S.data=e.param(S.data,S.traditional)),f(h,S,m,N),2===j)return N
if(x=S.global,S.type=S.type.toUpperCase(),S.hasContent=!o.test(S.type),x&&0==e.active++&&e.event.trigger("ajaxStart"),!S.hasContent&&(S.data&&(S.url+=(s.test(S.url)?"&":"?")+S.data,delete S.data),g=S.url,!1===S.cache)){var O=(new Date).getTime(),B=S.url.replace(l,"$1_="+O)
S.url=B+(B===S.url?(s.test(S.url)?"&":"?")+"_="+O:"")}for(C in(S.data&&S.hasContent&&!1!==S.contentType||m.contentType)&&N.setRequestHeader("Content-Type",S.contentType),S.ifModified&&(g=g||S.url,e.lastModified[g]&&N.setRequestHeader("If-Modified-Since",e.lastModified[g]),e.etag[g]&&N.setRequestHeader("If-None-Match",e.etag[g])),N.setRequestHeader("Accept",S.dataTypes[0]&&S.accepts[S.dataTypes[0]]?S.accepts[S.dataTypes[0]]+("*"!==S.dataTypes[0]?", "+p+"; q=0.01":""):S.accepts["*"]),S.headers)N.setRequestHeader(C,S.headers[C])
if(S.beforeSend&&(!1===S.beforeSend.call(T,N,S)||2===j))return N.abort()
for(C in M="abort",{success:1,error:1,complete:1})N[C](S[C])
if(y=f(u,S,m,N)){N.readyState=1,x&&I.trigger("ajaxSend",[N,S]),S.async&&S.timeout>0&&(_=setTimeout(function(){N.abort("timeout")},S.timeout))
try{j=1,y.send(k,q)}catch(e){if(!(j<2))throw e
q(-1,e)}}else q(-1,"No Transport")
return N},active:0,lastModified:{},etag:{}})
var v=[],b=/\?/,y=/(=)\?(?=&|$)|\?\?/,_=(new Date).getTime()
e.jqx.data.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var t=v.pop()||e.expando+"_"+_++
return this[t]=!0,t}}),e.jqx.data.ajaxPrefilter("json jsonp",function(t,i,n){var r,o,a,s=t.data,l=t.url,d=!1!==t.jsonp,c=d&&y.test(l),h=d&&!c&&"string"==typeof s&&!(t.contentType||"").indexOf("application/x-www-form-urlencoded")&&y.test(s)
if("jsonp"===t.dataTypes[0]||c||h)return r=t.jsonpCallback=e.isFunction(t.jsonpCallback)?t.jsonpCallback():t.jsonpCallback,o=window[r],c?t.url=l.replace(y,"$1"+r):h?t.data=s.replace(y,"$1"+r):d&&(t.url+=(b.test(l)?"&":"?")+t.jsonp+"="+r),t.converters["script json"]=function(){return a||e.error(r+" was not called"),a[0]},t.dataTypes[0]="json",window[r]=function(){a=arguments},n.always(function(){window[r]=o,t[r]&&(t.jsonpCallback=i.jsonpCallback,v.push(r)),a&&e.isFunction(o)&&o(a[0]),a=o=void 0}),"script"}),e.jqx.data.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/javascript|ecmascript/},converters:{"text script":function(t){return e.globalEval(t),t}}}),e.jqx.data.ajaxPrefilter("script",function(e){void 0===e.cache&&(e.cache=!1),e.crossDomain&&(e.type="GET",e.global=!1)}),e.jqx.data.ajaxTransport("script",function(e){if(e.crossDomain){var t,i=document.head||document.getElementsByTagName("head")[0]||document.documentElement
return{send:function(n,r){(t=document.createElement("script")).async="async",e.scriptCharset&&(t.charset=e.scriptCharset),t.src=e.url,t.onload=t.onreadystatechange=function(e,n){(n||!t.readyState||/loaded|complete/.test(t.readyState))&&(t.onload=t.onreadystatechange=null,i&&t.parentNode&&i.removeChild(t),t=void 0,n||r(200,"success"))},i.insertBefore(t,i.firstChild)},abort:function(){t&&t.onload(0,1)}}}})
var w,x,C=!!window.ActiveXObject&&function(){for(var e in w)w[e](0,1)},S=0
function T(){try{return new window.XMLHttpRequest}catch(e){}}e.jqx.data.ajaxSettings.xhr=window.ActiveXObject?function(){return!this.isLocal&&T()||function(){try{return new window.ActiveXObject("Microsoft.XMLHTTP")}catch(e){}}()}:T,x=e.jqx.data.ajaxSettings.xhr(),e.extend(e.support,{ajax:!!x,cors:!!x&&"withCredentials"in x}),e.support||(e.support={ajax:!0}),e.support.ajax&&e.jqx.data.ajaxTransport(function(t){var i
if(!t.crossDomain||e.support.cors)return{send:function(n,r){var o,a,s=t.xhr()
if(t.username?s.open(t.type,t.url,t.async,t.username,t.password):s.open(t.type,t.url,t.async),t.xhrFields)for(a in t.xhrFields)s[a]=t.xhrFields[a]
t.mimeType&&s.overrideMimeType&&s.overrideMimeType(t.mimeType),t.crossDomain||n["X-Requested-With"]||(n["X-Requested-With"]="XMLHttpRequest")
try{for(a in n)s.setRequestHeader(a,n[a])}catch(e){}s.send(t.hasContent&&t.data||null),i=function(e,n){var a,l,d,c,h
try{if(i&&(n||4===s.readyState))if(i=void 0,o&&(s.onreadystatechange=function(){},C&&delete w[o]),n)4!==s.readyState&&s.abort()
else{a=s.status,d=s.getAllResponseHeaders(),c={},(h=s.responseXML)&&h.documentElement&&(c.xml=h)
try{c.text=s.responseText}catch(e){}try{l=s.statusText}catch(e){l=""}a||!t.isLocal||t.crossDomain?1223===a&&(a=204):a=c.text?200:404}}catch(e){n||r(-1,e)}c&&r(a,l,c,d)},t.async?4===s.readyState?setTimeout(i,0):(o=++S,C&&(w||(w={},e(window).unload(C)),w[o]=i),s.onreadystatechange=i):i()},abort:function(){i&&i(0,1)}}}),e.jqx.filter=function(){this.operator="and"
var t=["EMPTY","NOT_EMPTY","CONTAINS","CONTAINS_CASE_SENSITIVE","DOES_NOT_CONTAIN","DOES_NOT_CONTAIN_CASE_SENSITIVE","STARTS_WITH","STARTS_WITH_CASE_SENSITIVE","ENDS_WITH","ENDS_WITH_CASE_SENSITIVE","EQUAL","EQUAL_CASE_SENSITIVE","NULL","NOT_NULL"],i=["EQUAL","NOT_EQUAL","LESS_THAN","LESS_THAN_OR_EQUAL","GREATER_THAN","GREATER_THAN_OR_EQUAL","NULL","NOT_NULL"],n=["EQUAL","NOT_EQUAL","LESS_THAN","LESS_THAN_OR_EQUAL","GREATER_THAN","GREATER_THAN_OR_EQUAL","NULL","NOT_NULL"],r=["EQUAL","NOT_EQUAL"],o=new Array,a=new Array
this.evaluate=function(e){for(var t=!0,i=0;i<o.length;i++){var n=o[i].evaluate(e)
t=0==i?n:1==a[i]||"or"==a[i]?t||n:t&&n}return t},this.getfilterscount=function(){return o.length},this.setoperatorsbyfiltertype=function(e,o){switch(e){case"numericfilter":i=o
break
case"stringfilter":t=o
break
case"datefilter":n=o
break
case"booleanfilter":r=o}},this.getoperatorsbyfiltertype=function(e){var o=new Array
switch(e){case"numericfilter":o=i.slice(0)
break
case"stringfilter":o=t.slice(0)
break
case"datefilter":o=n.slice(0)
break
case"booleanfilter":o=r.slice(0)}return o}
var s=function(){var e=function(){return(65536*(1+Math.random())|0).toString(16).substring(1)}
return e()+"-"+e()+"-"+e()}
this.createfilter=function(e,t,i,n,r,o){if(null==e||null==e)return null
switch(e){case"numericfilter":return new c(t,i.toUpperCase())
case"stringfilter":return new l(t,i.toUpperCase())
case"datefilter":return new h(t,i.toUpperCase(),r,o)
case"booleanfilter":return new d(t,i.toUpperCase())
case"custom":return new u(t,i.toUpperCase(),n)}throw new Error("jqxGrid: There is no such filter type. The available filter types are: 'numericfilter', 'stringfilter', 'datefilter' and 'booleanfilter'")},this.getfilters=function(){for(var e=new Array,t=0;t<o.length;t++){var i={value:o[t].filtervalue,condition:o[t].comparisonoperator,operator:a[t],type:o[t].type}
o[t].data&&(i.id=o[t].data),e[t]=i}return e},this.addfilter=function(e,t){o[o.length]=t,t.key=s(),a[a.length]=e},this.removefilter=function(e){for(var t=0;t<o.length;t++)if(o[t].key==e.key){o.splice(t,1),a.splice(t,1)
break}},this.getoperatorat=function(e){return null==e||null==e?null:e<0||e>o.length?null:a[e]},this.setoperatorat=function(e,t){return null==e||null==e?null:e<0||e>o.length?null:void(a[t]=t)},this.getfilterat=function(e){return null==e||null==e?null:e<0||e>o.length?null:o[e]},this.setfilterat=function(e,t){return null==e||null==e?null:e<0||e>o.length?null:(t.key=s(),void(o[e]=t))},this.clear=function(){o=new Array,a=new Array}
var l=function(t,i){this.filtervalue=t,this.comparisonoperator=i,this.type="stringfilter",this.evaluate=function(t){var i=this.filtervalue,n=this.comparisonoperator
if(null==t||null==t||""==t){if("NULL"==n)return!0
if("EQUAL"==n&&t==i)return!0
if("NOT_EQUAL"==n&&t!=i)return!0
if("EMPTY"!=n)return!1
if(""==t)return!0}var r=""
try{r=t.toString()}catch(e){return!0}var o=function(t,i){switch(n){case"EQUAL":return e.jqx.string.equalsIgnoreCase(t,i)
case"EQUAL_CASE_SENSITIVE":return e.jqx.string.equals(t,i)
case"NOT_EQUAL":return!e.jqx.string.equalsIgnoreCase(t,i)
case"NOT_EQUAL_CASE_SENSITIVE":return!e.jqx.string.equals(t,i)
case"CONTAINS":return e.jqx.string.containsIgnoreCase(t,i)
case"CONTAINS_CASE_SENSITIVE":return e.jqx.string.contains(t,i)
case"DOES_NOT_CONTAIN":return!e.jqx.string.containsIgnoreCase(t,i)
case"DOES_NOT_CONTAIN_CASE_SENSITIVE":return!e.jqx.string.contains(t,i)
case"EMPTY":return""==t
case"NOT_EMPTY":return""!=t
case"NOT_NULL":return null!=t
case"STARTS_WITH":return e.jqx.string.startsWithIgnoreCase(t,i)
case"ENDS_WITH":return e.jqx.string.endsWithIgnoreCase(t,i)
case"ENDS_WITH_CASE_SENSITIVE":return e.jqx.string.endsWith(t,i)
case"STARTS_WITH_CASE_SENSITIVE":return e.jqx.string.startsWith(t,i)
default:return!1}},a=new Array
if(i&&i.indexOf&&(i.indexOf("|")>=0||i.indexOf(" AND ")>=0||i.indexOf(" OR ")>=0||i.indexOf(" and ")>=0||i.indexOf(" or ")>=0)){if(g=o(r,i))return g
var s=i.indexOf(" AND ")>=0?i.split(" AND "):new Array,l=i.indexOf(" OR ")>=0?i.split(" OR "):new Array,d=i.indexOf(" and ")>=0?i.split(" and "):new Array,c=i.indexOf(" or ")>=0?i.split(" or "):new Array,h=i.indexOf("|")>=0?i.split("|"):new Array
if(h.length>0)for(var u=0;u<h.length;u++)h[u]=e.trim(h[u])
var p=i.indexOf(" ")>=0?i.split(" "):new Array
if(p.length>0)for(u=0;u<p.length;u++)p[u]=e.trim(p[u])
if(s=(s=s.concat(p)).concat(d),l=(l=l.concat(h)).concat(c),s.length>0)for(u=0;u<s.length;u++)!s[u].indexOf(" OR ")>=0&&a.push(s[u])
if(l.length>0)for(u=0;u<l.length;u++)!l[u].indexOf(" AND ")>=0&&a.push(l[u])
for(var m=void 0,f=0;f<a.length;f++){var g=o(r,t=a[f]),v=f<s.length?"and":"or"
m=null==m?g:"or"==v?m||g:m&&g}return m}return o(r,i)}},d=function(e,t){this.filtervalue=e,this.comparisonoperator=t,this.type="booleanfilter",this.evaluate=function(e){var t=this.filtervalue,i=this.comparisonoperator
if(null==e||null==e)return"NULL"==i
var n=e
switch(i){case"EQUAL":return n==t||n.toString()==t.toString()
case"NOT_EQUAL":return n!=t&&n.toString()!=t.toString()
default:return!1}}},c=function(t,i){this.filtervalue=t,this.comparisonoperator=i,this.type="numericfilter",this.evaluate=function(t){var i=this.filtervalue,n=this.comparisonoperator
if(null==t||""===t){if("NOT_NULL"==n)return!1
if("NULL"==n)return!0
switch(n){case"EQUAL":return t==i
case"NOT_EQUAL":return t!=i}return!1}if("NULL"==n)return!1
if("NOT_NULL"==n)return!0
var r=t
try{r=parseFloat(r)}catch(e){if(""!=t.toString())return!1}var o=function(t,i){switch(n){case"EQUAL":return t==i
case"NOT_EQUAL":return t!=i
case"GREATER_THAN":return t>i
case"GREATER_THAN_OR_EQUAL":return t>=i
case"LESS_THAN":return t<i
case"LESS_THAN_OR_EQUAL":return t<=i
case"STARTS_WITH":return e.jqx.string.startsWithIgnoreCase(t.toString(),i.toString())
case"ENDS_WITH":return e.jqx.string.endsWithIgnoreCase(t.toString(),i.toString())
case"ENDS_WITH_CASE_SENSITIVE":return e.jqx.string.endsWith(t.toString(),i.toString())
case"STARTS_WITH_CASE_SENSITIVE":return e.jqx.string.startsWith(t.toString(),i.toString())
case"CONTAINS":return e.jqx.string.containsIgnoreCase(t.toString(),i.toString())
case"CONTAINS_CASE_SENSITIVE":return e.jqx.string.contains(t.toString(),i.toString())
case"DOES_NOT_CONTAIN":return!e.jqx.string.containsIgnoreCase(t.toString(),i.toString())
case"DOES_NOT_CONTAIN_CASE_SENSITIVE":return!e.jqx.string.contains(t.toString(),i.toString())
default:return!0}},a=new Array
if(i&&i.indexOf&&(i.indexOf("|")>=0||i.indexOf(" AND ")>=0||i.indexOf(" OR ")>=0||i.indexOf(" and ")>=0||i.indexOf(" or ")>=0)){if(g=o(r,i))return g
var s=(i=i.toString()).indexOf(" AND ")>=0?i.split(" AND "):new Array,l=i.indexOf(" OR ")>=0?i.split(" OR "):new Array,d=i.indexOf(" and ")>=0?i.split(" and "):new Array,c=i.indexOf(" or ")>=0?i.split(" or "):new Array
s=s.concat(d),l=l.concat(c)
var h=i.indexOf("|")>=0?i.split("|"):new Array
if(h.length>0)for(var u=0;u<h.length;u++)h[u]=e.trim(h[u])
if(l=l.concat(h),s.length>0)for(u=0;u<s.length;u++)!s[u].indexOf(" OR ")>=0&&a.push(s[u])
if(l.length>0)for(u=0;u<l.length;u++)!l[u].indexOf(" AND ")>=0&&a.push(l[u])
for(var p=void 0,m=0;m<a.length;m++){if((t=a[m])&&t.indexOf&&t.indexOf("..")>=0){var f=t.toString().split("..")
2==f.length&&(g=r>=f[0]&&r<=f[1])}else var g=o(r,t)
var v=m<s.length?"and":"or"
p=null==p?g:"or"==v?p||g:p&&g}return p}return i&&i.indexOf&&i.indexOf("..")>=0&&2==(a=i.toString().split("..")).length?r>=a[0]&&r<=a[1]:o(r,i)}},h=function(t,i,n,r){this.filtervalue=t,this.type="datefilter"
var o=this
if(null!=n&&null!=r){var a=e.jqx.dataFormat.parsedate(t,n,r)
if(null!=a)this.filterdate=a
else{var s=e.jqx.dataFormat.tryparsedate(t,r)
null!=s&&(this.filterdate=s)}}else{var l
"NaN"==(l=new Date(t)).toString()||"Invalid Date"==l.toString()?this.filterdate=e.jqx.dataFormat.tryparsedate(t):this.filterdate=l}this.filterdate||("NaN"==(l=new Date(t)).toString()||"Invalid Date"==l.toString()?this.filterdate=e.jqx.dataFormat.tryparsedate(t):this.filterdate=l)
this.comparisonoperator=i,this.evaluate=function(t){var i=this.filtervalue,a=this.comparisonoperator
if(null==t||null==t||""==t){if("NOT_NULL"==a)return!1
if("NULL"==a)return!0
switch(a){case"EQUAL":return t==i
case"NOT_EQUAL":return t!=i}return!1}if("NULL"==a)return!1
if("NOT_NULL"==a)return!0
var s=new Date
s.setFullYear(1900,0,1),s.setHours(12,0,0,0)
try{var l=new Date(t)
s=t="NaN"==l.toString()||"Invalid Date"==l.toString()?e.jqx.dataFormat.tryparsedate(t):l
var d=!1
if(null!=n&&null!=r)if(n.indexOf("t")>=0||n.indexOf("T")>=0||n.indexOf(":")>=0||n.indexOf("f")>=0)if(d=!0,i&&-1==i.toString().indexOf(":"))null!=(C=e.jqx.dataFormat.tryparsedate(i.toString()+":00",r))&&(o.filterdate=C)
d||(s.setHours(0),s.setMinutes(0),s.setSeconds(0))}catch(e){if(""!=t.toString())return!1}if(null!=o.filterdate)i=o.filterdate
else if(i&&i.indexOf&&(-1!=i.indexOf(":")||!isNaN(parseInt(i)))){var c=new Date(s)
c.setHours(12,0,0,0)
for(var h=i.split(":"),u=0;u<h.length;u++)0==u&&c.setHours(h[u]),1==u&&c.setMinutes(h[u]),2==u&&c.setSeconds(h[u])
i=c}d&&i&&i.setFullYear&&s&&s.getFullYear&&-1==n.indexOf("d")&&-1==n.indexOf("M")&&-1==n.indexOf("y")&&i.setFullYear(s.getFullYear(),s.getMonth(),s.getDate())
var p=function(t,i){switch(null==t&&(t=""),a){case"EQUAL":return t.toString()==i.toString()
case"NOT_EQUAL":return t.toString()!=i.toString()
case"GREATER_THAN":return t>i
case"GREATER_THAN_OR_EQUAL":return t>=i
case"LESS_THAN":return t<i
case"LESS_THAN_OR_EQUAL":return t<=i
case"STARTS_WITH":return e.jqx.string.startsWithIgnoreCase(t.toString(),i.toString())
case"ENDS_WITH":return e.jqx.string.endsWithIgnoreCase(t.toString(),i.toString())
case"ENDS_WITH_CASE_SENSITIVE":return e.jqx.string.endsWith(t.toString(),i.toString())
case"STARTS_WITH_CASE_SENSITIVE":return e.jqx.string.startsWith(t.toString(),i.toString())
case"CONTAINS":return e.jqx.string.containsIgnoreCase(t.toString(),i.toString())
case"CONTAINS_CASE_SENSITIVE":return e.jqx.string.contains(t.toString(),i.toString())
case"DOES_NOT_CONTAIN":return!e.jqx.string.containsIgnoreCase(t.toString(),i.toString())
case"DOES_NOT_CONTAIN_CASE_SENSITIVE":return!e.jqx.string.contains(t.toString(),i.toString())
default:return!0}},m=new Array
if(i&&i.indexOf&&(i.indexOf("|")>=0||i.indexOf(" AND ")>=0||i.indexOf(" OR ")>=0||i.indexOf(" and ")>=0||i.indexOf(" or ")>=0)){if(C=p(s,i))return C
var f=i.indexOf(" AND ")>=0?i.split(" AND "):new Array,g=i.indexOf(" OR ")>=0?i.split(" OR "):new Array,v=i.indexOf(" and ")>=0?i.split(" and "):new Array,b=i.indexOf(" or ")>=0?i.split(" or "):new Array
f=f.concat(v),g=g.concat(b)
var y=i.indexOf("|")>=0?i.split("|"):new Array
if(y.length>0)for(u=0;u<y.length;u++)y[u]=e.trim(y[u])
if(g=g.concat(y),f.length>0)for(u=0;u<f.length;u++)!f[u].indexOf(" OR ")>=0&&m.push(f[u])
if(g.length>0)for(u=0;u<g.length;u++)!g[u].indexOf(" AND ")>=0&&m.push(g[u])
for(var _=void 0,w=0;w<m.length;w++){if((t=m[w])&&t.indexOf&&t.indexOf("..")>=0){var x=t.toString().split("..")
2==x.length&&(C=s>=x[0]&&s<=x[1])}else var C=p(s,t)
var S=w<f.length?"and":"or"
_=null==_?C:"or"==S?_||C:_&&C}return _}return i&&i.indexOf&&i.indexOf("..")>=0&&2==(m=i.toString().split("..")).length?s>=m[0]&&s<=m[1]:p(s,i)}},u=function(e,t,i){this.filtervalue=e,this.comparisonoperator=t,this.evaluate=function(e,t){return i(this.filtervalue,e,this.comparisonoperator)}}}}(jqxBaseFramework)
var Zt=Object.freeze({})
!function(e){e.jqx.longInt=function(){this.longObj=new Object
var e=this.longObj
return e.mathObj=new Object,e.mathObj.Long=new Object,e.mathObj.Long=function(e,t){this.lowBits=0|e,this.highBits=0|t},e.mathObj.Long.IntCache={},e.mathObj.Long.fromInt=function(t){if(-128<=t&&t<128){var i=e.mathObj.Long.IntCache[t]
if(i)return i}var n=new e.mathObj.Long(0|t,t<0?-1:0)
return-128<=t&&t<128&&(e.mathObj.Long.IntCache[t]=n),n},e.mathObj.Long.fromNumber=function(t){return isNaN(t)||!isFinite(t)?e.mathObj.Long.ZERO:t<=-e.mathObj.Long.TWO_PWR_63_DBL_?e.mathObj.Long.MIN_VALUE:t+1>=e.mathObj.Long.TWO_PWR_63_DBL_?e.mathObj.Long.MAX_VALUE:t<0?e.mathObj.Long.fromNumber(-t).negate():new e.mathObj.Long(t%e.mathObj.Long.TWO_PWR_32_DBL_|0,t/e.mathObj.Long.TWO_PWR_32_DBL_|0)},e.mathObj.Long.fromBits=function(t,i){return new e.mathObj.Long(t,i)},e.mathObj.Long.fromString=function(t,i){if(0===t.length)throw new Error("number format error: empty string")
var n=i||10
if(n<2||36<n)throw new Error("radix out of range: "+n)
if("-"===t.charAt(0))return e.mathObj.Long.fromString(t.substring(1),n).negate()
if(t.indexOf("-")>=0)throw new Error('number format error: interior "-" character: '+t)
for(var r=e.mathObj.Long.fromNumber(Math.pow(n,8)),o=e.mathObj.Long.ZERO,a=0;a<t.length;a+=8){var s=Math.min(8,t.length-a),l=parseInt(t.substring(a,a+s),n)
if(s<8){var d=e.mathObj.Long.fromNumber(Math.pow(n,s))
o=o.multiply(d).add(e.mathObj.Long.fromNumber(l))}else o=(o=o.multiply(r)).add(e.mathObj.Long.fromNumber(l))}return o},e.mathObj.Long.TWO_PWR_16_DBL_=65536,e.mathObj.Long.TWO_PWR_24_DBL_=1<<24,e.mathObj.Long.TWO_PWR_32_DBL_=e.mathObj.Long.TWO_PWR_16_DBL_*e.mathObj.Long.TWO_PWR_16_DBL_,e.mathObj.Long.TWO_PWR_31_DBL_=e.mathObj.Long.TWO_PWR_32_DBL_/2,e.mathObj.Long.TWO_PWR_48_DBL_=e.mathObj.Long.TWO_PWR_32_DBL_*e.mathObj.Long.TWO_PWR_16_DBL_,e.mathObj.Long.TWO_PWR_64_DBL_=e.mathObj.Long.TWO_PWR_32_DBL_*e.mathObj.Long.TWO_PWR_32_DBL_,e.mathObj.Long.TWO_PWR_63_DBL_=e.mathObj.Long.TWO_PWR_64_DBL_/2,e.mathObj.Long.ZERO=e.mathObj.Long.fromInt(0),e.mathObj.Long.ONE=e.mathObj.Long.fromInt(1),e.mathObj.Long.NEG_ONE=e.mathObj.Long.fromInt(-1),e.mathObj.Long.MAX_VALUE=e.mathObj.Long.fromBits(-1,2147483647),e.mathObj.Long.MIN_VALUE=e.mathObj.Long.fromBits(0,-2147483648),e.mathObj.Long.TWO_PWR_24_=e.mathObj.Long.fromInt(1<<24),e.mathObj.Long.prototype.toInt=function(){return this.lowBits},e.mathObj.Long.prototype.toNumber=function(){return this.highBits*e.mathObj.Long.TWO_PWR_32_DBL_+this.getLowBitsUnsigned()},e.mathObj.Long.prototype.toString=function(t){var i,n,r=t||10
if(r<2||36<r)throw new Error("radix out of range: "+r)
if(this.isZero())return"0"
if(this.isNegative()){if(this.equals(e.mathObj.Long.MIN_VALUE)){var o=e.mathObj.Long.fromNumber(r),a=this.div(o)
return i=a.multiply(o).subtract(this),a.toString(r)+i.toInt().toString(r)}switch(r){case 2:case 8:case 16:return function(e,t){for(var i="";e.length<64;)e="0"+e
for(var n=0;n<e.length;n++)i+="1"===e.charAt(n)?"0":"1"
for(var r=!0,o="",a=i.length-1;a>=0;a--){var s
"0"===i.charAt(a)?!0===r?(s="1",r=!1):s="0":s=!0===r?"0":"1",o=s+""+o}switch(t){case 2:return o
case 8:o="00"+o
for(var l="",d=22;d>=1;d--){var c=o[3*d-3]+""+o[3*d-2]+o[3*d-1]
l=parseInt(c,2).toString(8)+""+l}return l
case 16:for(var h="",u=16;u>=1;u--){var p=o[4*u-4]+""+o[4*u-3]+o[4*u-2]+o[4*u-1]
h=parseInt(p,2).toString(16)+""+h}return h}}(n=this.negate().toString(2),r)
default:return n="-"+this.negate().toString(r)}}var s=e.mathObj.Long.fromNumber(Math.pow(r,6))
for(i=this,n="";;){var l=i.div(s),d=i.subtract(l.multiply(s)).toInt().toString(r)
if((i=l).isZero())return d+n
for(;d.length<6;)d="0"+d
n=""+d+n}},e.mathObj.Long.prototype.getHighBits=function(){return this.highBits},e.mathObj.Long.prototype.getLowBits=function(){return this.lowBits},e.mathObj.Long.prototype.getLowBitsUnsigned=function(){return this.lowBits>=0?this.lowBits:e.mathObj.Long.TWO_PWR_32_DBL_+this.lowBits},e.mathObj.Long.prototype.getNumBitsAbs=function(){if(this.isNegative())return this.equals(e.mathObj.Long.MIN_VALUE)?64:this.negate().getNumBitsAbs()
for(var t=0!==this.highBits?this.highBits:this.lowBits,i=31;i>0&&0==(t&1<<i);i--);return 0!==this.highBits?i+33:i+1},e.mathObj.Long.prototype.isZero=function(){return 0===this.highBits&&0===this.lowBits},e.mathObj.Long.prototype.isNegative=function(){return this.highBits<0},e.mathObj.Long.prototype.isOdd=function(){return 1==(1&this.lowBits)},e.mathObj.Long.prototype.equals=function(e){return this.highBits===e.highBits&&this.lowBits===e.lowBits},e.mathObj.Long.prototype.notEquals=function(e){return this.highBits!==e.highBits||this.lowBits!==e.lowBits},e.mathObj.Long.prototype.lessThan=function(e){return this.compare(e)<0},e.mathObj.Long.prototype.lessThanOrEqual=function(e){return this.compare(e)<=0},e.mathObj.Long.prototype.greaterThan=function(e){return this.compare(e)>0},e.mathObj.Long.prototype.greaterThanOrEqual=function(e){return this.compare(e)>=0},e.mathObj.Long.prototype.compare=function(e){if(this.equals(e))return 0
var t=this.isNegative(),i=e.isNegative()
return t&&!i?-1:!t&&i?1:this.subtract(e).isNegative()?-1:1},e.mathObj.Long.prototype.negate=function(){return this.equals(e.mathObj.Long.MIN_VALUE)?e.mathObj.Long.MIN_VALUE:this.not().add(e.mathObj.Long.ONE)},e.mathObj.Long.prototype.add=function(t){var i=this.highBits>>>16,n=65535&this.highBits,r=this.lowBits>>>16,o=65535&this.lowBits,a=t.highBits>>>16,s=65535&t.highBits,l=t.lowBits>>>16,d=0,c=0,h=0,u=0
return h+=(u+=o+(65535&t.lowBits))>>>16,u&=65535,c+=(h+=r+l)>>>16,h&=65535,d+=(c+=n+s)>>>16,c&=65535,d+=i+a,d&=65535,e.mathObj.Long.fromBits(h<<16|u,d<<16|c)},e.mathObj.Long.prototype.subtract=function(e){return this.add(e.negate())},e.mathObj.Long.prototype.multiply=function(t){if(this.isZero())return e.mathObj.Long.ZERO
if(t.isZero())return e.mathObj.Long.ZERO
if(this.equals(e.mathObj.Long.MIN_VALUE))return t.isOdd()?e.mathObj.Long.MIN_VALUE:e.mathObj.Long.ZERO
if(t.equals(e.mathObj.Long.MIN_VALUE))return this.isOdd()?e.mathObj.Long.MIN_VALUE:e.mathObj.Long.ZERO
if(this.isNegative())return t.isNegative()?this.negate().multiply(t.negate()):this.negate().multiply(t).negate()
if(t.isNegative())return this.multiply(t.negate()).negate()
if(this.lessThan(e.mathObj.Long.TWO_PWR_24_)&&t.lessThan(e.mathObj.Long.TWO_PWR_24_))return e.mathObj.Long.fromNumber(this.toNumber()*t.toNumber())
var i=this.highBits>>>16,n=65535&this.highBits,r=this.lowBits>>>16,o=65535&this.lowBits,a=t.highBits>>>16,s=65535&t.highBits,l=t.lowBits>>>16,d=65535&t.lowBits,c=0,h=0,u=0,p=0
return u+=(p+=o*d)>>>16,p&=65535,h+=(u+=r*d)>>>16,u&=65535,h+=(u+=o*l)>>>16,u&=65535,c+=(h+=n*d)>>>16,h&=65535,c+=(h+=r*l)>>>16,h&=65535,c+=(h+=o*s)>>>16,h&=65535,c+=i*d+n*l+r*s+o*a,c&=65535,e.mathObj.Long.fromBits(u<<16|p,c<<16|h)},e.mathObj.Long.prototype.div=function(t){if(t.isZero())throw new Error("division by zero")
if(this.isZero())return e.mathObj.Long.ZERO
var i,n
if(this.equals(e.mathObj.Long.MIN_VALUE))return t.equals(e.mathObj.Long.ONE)||t.equals(e.mathObj.Long.NEG_ONE)?e.mathObj.Long.MIN_VALUE:t.equals(e.mathObj.Long.MIN_VALUE)?e.mathObj.Long.ONE:(i=this.shiftRight(1).div(t).shiftLeft(1)).equals(e.mathObj.Long.ZERO)?t.isNegative()?e.mathObj.Long.ONE:e.mathObj.Long.NEG_ONE:(n=this.subtract(t.multiply(i)),i.add(n.div(t)))
if(t.equals(e.mathObj.Long.MIN_VALUE))return e.mathObj.Long.ZERO
if(this.isNegative())return t.isNegative()?this.negate().div(t.negate()):this.negate().div(t).negate()
if(t.isNegative())return this.div(t.negate()).negate()
var r=e.mathObj.Long.ZERO
for(n=this;n.greaterThanOrEqual(t);){i=Math.max(1,Math.floor(n.toNumber()/t.toNumber()))
for(var o=Math.ceil(Math.log(i)/Math.LN2),a=o<=48?1:Math.pow(2,o-48),s=e.mathObj.Long.fromNumber(i),l=s.multiply(t);l.isNegative()||l.greaterThan(n);)i-=a,l=(s=e.mathObj.Long.fromNumber(i)).multiply(t)
s.isZero()&&(s=e.mathObj.Long.ONE),r=r.add(s),n=n.subtract(l)}return r},e.mathObj.Long.prototype.modulo=function(e){return this.subtract(this.div(e).multiply(e))},e.mathObj.Long.prototype.not=function(){return e.mathObj.Long.fromBits(~this.lowBits,~this.highBits)},e.mathObj.Long.prototype.and=function(t){return e.mathObj.Long.fromBits(this.lowBits&t.lowBits,this.highBits&t.highBits)},e.mathObj.Long.prototype.or=function(t){return e.mathObj.Long.fromBits(this.lowBits|t.lowBits,this.highBits|t.highBits)},e.mathObj.Long.prototype.xor=function(t){return e.mathObj.Long.fromBits(this.lowBits^t.lowBits,this.highBits^t.highBits)},e.mathObj.Long.prototype.shiftLeft=function(t){if(0===(t&=63))return this
var i=this.lowBits
if(t<32){var n=this.highBits
return e.mathObj.Long.fromBits(i<<t,n<<t|i>>>32-t)}return e.mathObj.Long.fromBits(0,i<<t-32)},e.mathObj.Long.prototype.shiftRight=function(t){if(0===(t&=63))return this
var i=this.highBits
if(t<32){var n=this.lowBits
return e.mathObj.Long.fromBits(n>>>t|i<<32-t,i>>t)}return e.mathObj.Long.fromBits(i>>t-32,i>=0?0:-1)},e.mathObj.Long.prototype.shiftRightUnsigned=function(t){if(0===(t&=63))return this
var i=this.highBits
if(t<32){var n=this.lowBits
return e.mathObj.Long.fromBits(n>>>t|i<<32-t,i>>>t)}return 32===t?e.mathObj.Long.fromBits(i,0):e.mathObj.Long.fromBits(i>>>t-32,0)},e},e.jqx.math=function(){var t=new Object,i=new e.jqx.longInt
return t.getDecimalNotation=function(e,t,i,n){if("decimal"===t)return e
e=e.toString()
var r,o=Number(e).toExponential()
return"scientific"===t?function(e){var t=e.indexOf("e"),i=e.slice(t+1),n=e.slice(0,t+1)
return n=n.replace("e","×10"),n=(n+=function(e){for(var t="",i=0;i<e.length;i++){var n="-0123456789".indexOf(e.charAt(i))
t+=-1!==n?"⁻⁰¹²³⁴⁵⁶⁷⁸⁹"[n]:e[i]}return t}(i)).replace("+","")}(o):"engineering"===t?function(e){var t=e.indexOf("e"),r=e.slice(t+1),o=e.slice(0,t),a=parseInt(r,10)%3
if(o*=Math.pow(10,a),r>0){var s=e.slice(0,t).length-a-2
s>=0&&(o=o.toFixed(s))}var l,d=parseInt(r,10)-a
return l=d<0?"":"+",void 0!==i?o=Number(o).toFixed(i):void 0!==n&&(o=Number(Number(o).toPrecision(n)).toString()),o+"e"+l+d}(o):(void 0!==i?r=i:void 0!==n&&(r=n-1),void 0!==r&&(o=Number(e).toExponential(r)),o)},t.getRadixValue=function(t,i,n){function r(e,t,i,n){this.sign=e,this.firstCoefficient=t,this.otherCoefficients=i,this.exponent=n,this.NaN=0,this.infinity=0,this.parse=o}function o(e){var t,i,n,r,o,a,s,l,d,c,h,u
n="123456789",r="0123456789",o="0",a="Ee",s="+",l="",d="",c=1
var p=0
h="",i=0
for(var m=0;m<e.length;m++)switch(t=e.charAt(m),i){case 0:i=-1,-1!="+".indexOf(t)&&(i=1,s="+"),-1!="-".indexOf(t)&&(i=2,s="-"),-1!=n.indexOf(t)&&(i=3,s="+",l=t),-1!=".".indexOf(t)&&(i=4,s="+",p--),-1!=o.indexOf(t)&&(i=5,s="+")
break
case 1:case 2:i=-1,-1!=n.indexOf(t)&&(i=3,l=t),-1!=".".indexOf(t)&&(i=4,p--),-1!=o.indexOf(t)&&(i=5)
break
case 3:i=-1,-1!=".".indexOf(t)&&(i=6),-1!=r.indexOf(t)&&(i=3,p++,d+=t),-1!=a.indexOf(t)&&(i=9)
break
case 4:i=-1,-1!=n.indexOf(t)&&(i=8,l=t),-1!=o.indexOf(t)&&(i=7,p--)
break
case 5:i=-1,-1!=n.indexOf(t)&&(i=3,l=t),-1!=".".indexOf(t)&&(i=4,p--),-1!=o.indexOf(t)&&(i=5)
break
case 6:i=-1,-1!=r.indexOf(t)&&(i=6,d+=t),-1!=a.indexOf(t)&&(i=9)
break
case 7:i=-1,-1!=o.indexOf(t)&&(i=7,p--),-1!=n.indexOf(t)&&(i=8,l=t),-1!=a.indexOf(t)&&(i=9)
break
case 8:i=-1,-1!=r.indexOf(t)&&(i=8,d+=t),-1!=a.indexOf(t)&&(i=9)
break
case 9:i=-1,-1!="+".indexOf(t)&&(i=10,c=1),-1!="-".indexOf(t)&&(i=11,c=-1),-1!=r.indexOf(t)&&(i=12,c=1,h+=t)
break
case 10:case 11:case 12:i=-1,-1!=r.indexOf(t)&&(i=12,h+=t)}if(u="",-1==i)return"infinity"==e.toLowerCase()?(this.sign="+",this.firstCoefficient="",this.otherCoefficients="",this.exponent=0,this.NaN=0,this.infinity=1,0):"+infinity"==e.toLowerCase()?(this.sign="+",this.firstCoefficient="",this.otherCoefficients="",this.exponent=0,this.NaN=0,this.infinity=1,0):"-infinity"==e.toLowerCase()?(this.sign="-",this.firstCoefficient="",this.otherCoefficients="",this.exponent=0,this.NaN=0,this.infinity=1,0):(this.sign="",this.firstCoefficient="",this.otherCoefficients="",this.exponent=0,this.NaN=1,this.infinity=0,-1)
i=0
for(m=d.length-1;m>=0;m--)switch(t=d.charAt(m),i){case 0:case 1:-1!=o.indexOf(t)&&(i=1),-1!=n.indexOf(t)&&(i=2,u=t+u)
break
case 2:-1!=r.indexOf(t)&&(i=2,u=t+u)}return""==h&&(h="0"),h=parseInt(h,10)*c+p+"",""==u&&(u="0"),""==l&&(l="0",u="0",c="+",h="0"),this.sign=s,this.firstCoefficient=l,this.otherCoefficients=u,this.exponent=parseInt(h,10),this.NaN=0,this.infinity=0,0}function a(e,t,i,n){this.integer=e,this.fractional=t,this.sign=i,this.status=n,this.fromScientific=s}function s(e,t,i){var n,r
0==e.NaN?1==e.infinity?(this.integer="0",this.fractional="0",this.sign=e.sign,this.status="infinity"):e.exponent>=t&&e.exponent<=i?(e.exponent<0&&(n="0",r=function(e,t){for(var i=0;i<t;i++)e="0"+e
return e}(e.firstCoefficient+e.otherCoefficients,-1*e.exponent-1)),e.exponent>=0&&(n=function(e,t){for(var i=0;i<t;i++)e+="0"
return e}(n=e.firstCoefficient+e.otherCoefficients.substr(0,e.exponent),e.exponent-e.otherCoefficients.length),""==(r=e.otherCoefficients.substr(e.exponent))&&(r="0")),this.integer=n,this.fractional=r,this.sign=e.sign,this.status="normal"):e.exponent<t?(this.integer="0",this.fractional="0",this.sign=e.sign,this.status="normal"):e.exponent>i&&(this.integer="",this.fractional="",this.sign=e.sign,this.status="infinity"):(this.integer="",this.fractional="",this.sign="",this.status="NaN")}function l(e,t,i){this.mantissa=e,this.exponent=t,this.sign=i,this.getBinary=c,this.getHex=h,this.fromDecimal=d}function d(e){var t,i,n,r,o,a,s,l,d,c
if(t=e.integer,i=e.fractional,n=e.sign,"infinity"==e.status)this.mantissa="00000000000000000000000",this.exponent=128,this.sign=n
else if("NaN"==e.status)this.mantissa="11111111111111111111111",this.exponent=128,this.sign="+"
else{if(o="0"!=(r=u(t))?p(i,25-r.length,0):p(i,25,1),0==parseInt(r,10)&&0==parseInt(o,10))l=-127,d="00000000000000000000000"
else{(l=(a=r+"."+o).indexOf(".")-a.indexOf("1"))>0&&l--,s=l<-126?-126-l:0,c=(d=(a=r+o).substr(a.indexOf("1")+1-s,24)).length
for(var h=0;h<23-c;h++)d+="0";(c=function(e,t){var i,n,r
if(1==t){i=""
for(var o=e.length-1;o>=0;o--)r=parseInt(e.charAt(o),10),1==t&&1==r?(n=0,t=1):0==t&&0==r?(n=0,t=0):(n=1,t=0),i=n+i
1==t&&(i=t+i)}else i=e
return i}(d.substr(0,23),parseInt(d.charAt(23),10))).length>23?(d=c.substr(1),l++):d=c,l<-126&&(l=-127),l>127&&(l=128,d="00000000000000000000000")}this.mantissa=d,this.exponent=l,this.sign=n}}function c(){var e,t
t=8-(e=u(this.exponent+127+"")).length
for(var i=0;i<t;i++)e="0"+e
return("+"==this.sign?"0":"1")+e+this.mantissa}function h(){return function(e){var t,i=new Array("0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F")
t=""
for(var n=0;n<e.length;n+=4)t+=i[parseInt(e.substr(n,4),2)]
return t}(this.getBinary())}function u(e){var t,i,n,r,o,a,s,l,d,c,h=new Array,u=new Array("000","001","010","011","100","101","110","111")
if(o=3*Math.floor((Math.floor(Math.log(Math.pow(10,e.length))/Math.LN2)+1)/3)+3,i=e,0!=(t=e.length-13*Math.floor(e.length/13)))for(var p=t;p<13;p++)i="0"+i
n=0
for(p=0;p<i.length;p+=13)h[n]=parseInt(i.substr(p,13),10),n++
r=n,s="",a=0
for(l=1;a<o&&0!=l;){d=0,l=0
for(p=0;p<r;p++)h[p]+=1e13*d,c=Math.floor(h[p]/8),d=h[p]-8*c,h[p]=c,l+=h[p]
s=u[d]+s,0!=a?a+=3:-1!=u[d].indexOf("1")?(a=3-u[d].indexOf("1"),2-u[d].indexOf("1")):3}return s=-1==s.indexOf("1")?"0":s.substr(s.indexOf("1"))}function p(e,t,i){var n,r,o,a,s,l,d,c,h,u,p,m=new Array,f=new Array("000","001","010","011","100","101","110","111")
if(s=3*Math.floor(t/3)+3,r=e,0!=(n=e.length-15*Math.floor(e.length/15)))for(var g=n;g<15;g++)r+="0"
o=0
for(g=0;g<r.length;g+=15)m[o]=parseInt(r.substr(g,15),10),o++
for(a=o,d="",l=0==i?0:-1,h=0,c=1;l<s&&0!=c;){u=0,c=0
for(g=a-1;g>=0;g--)m[g]=8*m[g]+u,u=Math.floor(m[g]/1e15),m[g]-=1e15*u,c+=m[g]
d+=f[u],-1!=l?l+=3:-1!=f[u].indexOf("1")?(l=3-f[u].indexOf("1"),h+=f[u].indexOf("1")):h+=3}if(d.length<t){p=t-d.length
for(g=0;g<p;g++)d+="0"}else d=d.substr(0,h+t)
return d}var m,f,g,v,b
switch(i){case!1:if(10!==n){var y=(f=t.toString(),g=new r("","","",""),v=new a("","","",""),b=new l("","",""),g.parse(f),v.fromScientific(g,-45,45),b.fromDecimal(v),b.getHex()),_=function(e){var t,i=new Array("0000","0001","0010","0011","0100","0101","0110","0111","1000","1001","1010","1011","1100","1101","1110","1111")
t=""
for(var n=0;n<e.length;n++)t+=i["0123456789ABCDEF".indexOf(e.charAt(n))]
return t}(y)
switch(n){case 2:return _
case 8:return parseInt(_,2).toString(8)
case 16:return y}m=parseInt(t)}else m=parseFloat(t)
m=m.toString(n)
break
case"s":m=new e.jqx.longObj.mathObj.Long.fromString(t.toString(),10).toString(n)
break
case"u":var w=new BigNumber(t)
if(-1===w.compare(0))throw new Error("Unsigned 64-bit integers cannot be negative.")
m=w.toString(n)}return m},e.extend(t,i.mathObj.Long),t}}(jqxBaseFramework)
var ei=Object.freeze({})
!function(){var e;(e=jqxBaseFramework).jqx.jqxWidget("jqxDraw","",{}),e.extend(e.jqx._jqxDraw.prototype,{defineInstance:function(){e.extend(!0,this,{renderEngine:""})
var t=["clear","on","off","removeElement","attr","getAttr","line","circle","rect","path","pieslice","text","measureText"]
for(var i in t)this._addFn(e.jqx._jqxDraw.prototype,t[i])},_addFn:function(e,t){e[t]||(e[t]=function(){return this.renderer[t].apply(this.renderer,arguments)})},createInstance:function(e){},_initRenderer:function(t){return e.jqx.createRenderer(this,t)},_internalRefresh:function(){if(!e.jqx.isHidden(this.host)){this.renderer||(this.host.empty(),this._initRenderer(this.host))
var t=this.renderer
if(t){var i=t.getRect()
this._render({x:1,y:1,width:i.width,height:i.height}),t instanceof e.jqx.HTML5Renderer&&t.refresh()}}},_saveAsImage:function(t,i,n,r){return e.jqx._widgetToImage(this,t,i,n,r)},_render:function(e){this.renderer,this._plotRect=e},refresh:function(){this._internalRefresh()},getSize:function(){var e=this._plotRect
return{width:e.width,height:e.height}},saveAsPNG:function(e,t,i){return this._saveAsImage("png",e,t,i)},saveAsJPEG:function(e,t,i){return this._saveAsImage("jpeg",e,t,i)}}),function(e){e.jqx.toGreyScale=function(t){if(-1==t.indexOf("#"))return t
var i=e.jqx.cssToRgb(t)
i[0]=i[1]=i[2]=Math.round(.3*i[0]+.59*i[1]+.11*i[2])
var n=e.jqx.rgbToHex(i[0],i[1],i[2])
return"#"+n[0]+n[1]+n[2]},e.jqx.adjustColor=function(t,i){if("string"!=typeof t)return"#000000"
if(-1==t.indexOf("#"))return t
var n=e.jqx.cssToRgb(t),r=e.jqx.rgbToHsl(n)
r[2]=Math.min(1,r[2]*i),r[1]=Math.min(1,r[1]*i*1.1),n=e.jqx.hslToRgb(r)
t="#"
for(var o=0;o<3;o++){var a=Math.round(n[o])
1==(a=e.jqx.decToHex(a)).toString().length&&(t+="0"),t+=a}return t.toUpperCase()},e.jqx.decToHex=function(e){return e.toString(16)},e.jqx.hexToDec=function(e){return parseInt(e,16)},e.jqx.rgbToHex=function(t,i,n){return[e.jqx.decToHex(t),e.jqx.decToHex(i),e.jqx.decToHex(n)]},e.jqx.hexToRgb=function(t,i,n){return[e.jqx.hexToDec(t),e.jqx.hexToDec(i),e.jqx.hexToDec(n)]},e.jqx.cssToRgb=function(t){return t.indexOf("rgb")<=-1?e.jqx.hexToRgb(t.substring(1,3),t.substring(3,5),t.substring(5,7)):t.substring(4,t.length-1).split(",")},e.jqx.hslToRgb=function(t){var i,n,r,o=parseFloat(t[0]),a=parseFloat(t[1]),s=parseFloat(t[2])
if(0==a)i=n=r=s
else{var l=s<.5?s*(1+a):s+a-s*a,d=2*s-l
i=e.jqx.hueToRgb(d,l,o+1/3),n=e.jqx.hueToRgb(d,l,o),r=e.jqx.hueToRgb(d,l,o-1/3)}return[255*i,255*n,255*r]},e.jqx.hueToRgb=function(e,t,i){return i<0&&(i+=1),i>1&&(i-=1),i<1/6?e+6*(t-e)*i:i<.5?t:i<2/3?e+(t-e)*(2/3-i)*6:e},e.jqx.rgbToHsl=function(e){var t,i,n=parseFloat(e[0])/255,r=parseFloat(e[1])/255,o=parseFloat(e[2])/255,a=Math.max(n,r,o),s=Math.min(n,r,o),l=(a+s)/2
if(a==s)t=i=0
else{var d=a-s
switch(i=l>.5?d/(2-a-s):d/(a+s),a){case n:t=(r-o)/d+(r<o?6:0)
break
case r:t=(o-n)/d+2
break
case o:t=(n-r)/d+4}t/=6}return[t,i,l]},e.jqx.swap=function(e,t){var i=e
e=t,t=i},e.jqx.getNum=function(t){if(e.isArray(t)){for(var i=0;i<t.length;i++)if(!isNaN(t[i]))return t[i]}else if(isNaN(t))return 0
return 0},e.jqx._ptdist=function(e,t,i,n){return Math.sqrt((i-e)*(i-e)+(n-t)*(n-t))},e.jqx._ptrnd=function(t){if(!document.createElementNS)return Math.round(t)==t?t:e.jqx._rnd(t,1,!1,!0)
var i=e.jqx._rnd(t,.5,!1,!0)
return.5!=Math.abs(i-Math.round(i))?i>t?i-.5:i+.5:i},e.jqx._ptRotate=function(e,t,i,n,r){var o=Math.sqrt(Math.pow(Math.abs(e-i),2)+Math.pow(Math.abs(t-n),2)),a=Math.asin((e-i)/o)+r
return{x:e=i+Math.cos(a)*o,y:t=n+Math.sin(a)*o}},e.jqx._rup=function(e){var t=Math.round(e)
return e>t&&t++,t},e.jqx.log=function(e,t){return Math.log(e)/(t?Math.log(t):1)},e.jqx._mod=function(e,t){var i=Math.abs(e>t?t:e),n=1
if(0!=i)for(;i*n<100;)n*=10
return(e*=n)%(t*=n)/n},e.jqx._rnd=function(t,i,n,r){if(isNaN(t))return t
void 0===r&&(r=!0)
var o=t-(1==r?t%i:e.jqx._mod(t,i))
return t==o?o:(n?t>o&&(o+=i):o>t&&(o-=i),1==i?Math.round(o):o)},e.jqx.commonRenderer={pieSlicePath:function(e,t,i,n,r,o,a){n||(n=1)
var s=Math.abs(r-o),l=s>180?1:0
s>=360&&(o=r+359.99)
var d=r*Math.PI*2/360,c=o*Math.PI*2/360,h=e,u=e,p=t,m=t,f=!isNaN(i)&&i>0
if(f&&(a=0),a+i>0){if(a>0){var g=(s/2+r)*Math.PI*2/360
e+=a*Math.cos(g),t-=a*Math.sin(g)}if(f){var v=i
h=e+v*Math.cos(d),p=t-v*Math.sin(d),u=e+v*Math.cos(c),m=t-v*Math.sin(c)}}var b=e+n*Math.cos(d),y=e+n*Math.cos(c),_=t-n*Math.sin(d),w=t-n*Math.sin(c),x="",C=Math.abs(Math.abs(o-r)-360)>.02
return f?(x="M "+u+","+m,x+=" a"+i+","+i,x+=" 0 "+l+",1 "+(h-u)+","+(p-m),x+=C?" L"+b+","+_:" M"+b+","+_,x+=" a"+n+","+n,x+=" 0 "+l+",0 "+(y-b)+","+(w-_),C&&(x+=" Z")):(x="M "+y+","+w,x+=" a"+n+","+n,x+=" 0 "+l+",1 "+(b-y)+","+(_-w),C&&(x+=" L"+e+","+t,x+=" Z")),x},measureText:function(t,i,n,r,o){var a=o._getTextParts(t,i,n),s=a.width,l=a.height
0==r&&(l/=.6)
var d={}
if(isNaN(i)&&(i=0),0==i)d={width:e.jqx._rup(s),height:e.jqx._rup(l)}
else{var c=i*Math.PI*2/360,h=Math.abs(Math.sin(c)),u=Math.abs(Math.cos(c)),p=Math.abs(s*h+l*u),m=Math.abs(s*u+l*h)
d={width:e.jqx._rup(m),height:e.jqx._rup(p)}}return r&&(d.textPartsInfo=a),d},alignTextInRect:function(t,i,n,r,o,a,s,l,d,c){var h=d*Math.PI*2/360,u=Math.sin(h),p=Math.cos(h),m=o*u,f=o*p
"center"==s||""==s||"undefined"==s?t+=n/2:"right"==s&&(t+=n),"center"==l||"middle"==l||""==l||"undefined"==l?i+=r/2:"bottom"==l?i+=r-a/2:"top"==l&&(i+=a/2)
var g="middle";-1!=(c=c||"").indexOf("top")?g="top":-1!=c.indexOf("bottom")&&(g="bottom")
var v="center"
return-1!=c.indexOf("left")?v="left":-1!=c.indexOf("right")&&(v="right"),"center"==v?(t-=f/2,i-=m/2):"right"==v&&(t-=f,i-=m),"top"==g?(t-=a*u,i+=a*p):"middle"==g&&(t-=a*u/2,i+=a*p/2),{x:t=e.jqx._rup(t),y:i=e.jqx._rup(i)}}},e.jqx.svgRenderer=function(){},e.jqx.svgRenderer.prototype={_svgns:"http://www.w3.org/2000/svg",init:function(e){e.append("<table class=tblChart cellspacing='0' cellpadding='0' border='0' align='left' valign='top'><tr><td colspan=2 class=tdTop></td></tr><tr><td class=tdLeft></td><td><div class='chartContainer' style='position:relative' onselectstart='return false;'></div></td></tr></table>"),this.host=e
var t=e.find(".chartContainer")
t[0].style.width=e.width()+"px",t[0].style.height=e.height()+"px"
try{var i=document.createElementNS(this._svgns,"svg")
i.setAttribute("id","svgChart"),i.setAttribute("version","1.1"),i.setAttribute("width","100%"),i.setAttribute("height","100%"),i.setAttribute("overflow","hidden"),t[0].appendChild(i),this.canvas=i}catch(e){return!1}return this._id=(new Date).getTime(),this.clear(),this._layout(),this._runLayoutFix(),!0},getType:function(){return"SVG"},refresh:function(){},_runLayoutFix:function(){this._fixLayout()},_fixLayout:function(){var t=this.canvas.getBoundingClientRect(),i=parseFloat(t.left)==parseInt(t.left),n=parseFloat(t.top)==parseInt(t.top)
if(e.jqx.browser.msie){i=!0,n=!0
for(var r=this.host,o=0,a=0;r&&r.position&&r[0].parentNode;){var s=r.position()
o+=parseFloat(s.left)-parseInt(s.left),a+=parseFloat(s.top)-parseInt(s.top),r=r.parent()}i=parseFloat(o)==parseInt(o),n=parseFloat(a)==parseInt(a)}i||(this.host.find(".tdLeft")[0].style.width="0.5px"),n||(this.host.find(".tdTop")[0].style.height="0.5px")},_layout:function(){var t=this.host.find(".chartContainer")
this._width=Math.max(e.jqx._rup(this.host.width())-1,0),this._height=Math.max(e.jqx._rup(this.host.height())-1,0),t[0].style.width=this._width,t[0].style.height=this._height,this._fixLayout()},getRect:function(){return{x:0,y:0,width:this._width,height:this._height}},getContainer:function(){return this.host.find(".chartContainer")},clear:function(){for(;this.canvas.childElementCount>0;)this.removeElement(this.canvas.firstElementChild)
this._defaultParent=void 0,this._defs=document.createElementNS(this._svgns,"defs"),this._gradients={},this.canvas.appendChild(this._defs)},removeElement:function(e){if(null!=e){this.removeHandler(e)
try{for(;e.firstChild;)this.removeElement(e.firstChild)
e.parentNode?e.parentNode.removeChild(e):this.canvas.removeChild(e)}catch(e){}}},_openGroups:[],beginGroup:function(){var e=this._activeParent(),t=document.createElementNS(this._svgns,"g")
return e.appendChild(t),this._openGroups.push(t),t},endGroup:function(){0!=this._openGroups.length&&this._openGroups.pop()},_activeParent:function(){return 0==this._openGroups.length?this.canvas:this._openGroups[this._openGroups.length-1]},createClipRect:function(e){var t=document.createElementNS(this._svgns,"clipPath"),i=document.createElementNS(this._svgns,"rect")
return this.attr(i,{x:e.x,y:e.y,width:e.width,height:e.height,fill:"none"}),this._clipId=this._clipId||0,t.id="cl"+this._id+"_"+(++this._clipId).toString(),t.appendChild(i),this._defs.appendChild(t),t},getWindowHref:function(){var t=e.jqx.browser
if(t&&"msie"==t.browser&&t.version<10)return""
var i=window.location.href
return i?i=(i=i.replace(/([\('\)])/g,"\\$1")).replace(/#.*$/,""):i},setClip:function(e,t){var i="url("+this.getWindowHref()+"#"+t.id+")"
return this.attr(e,{"clip-path":i})},_clipId:0,addHandler:function(t,i,n){e(t).on?e(t).on(i,n):e(t).bind(i,n)},removeHandler:function(t,i,n){e(t).off?e(t).off(i,n):e(t).unbind(i,n)},on:function(e,t,i){this.addHandler(e,t,i)},off:function(e,t,i){this.removeHandler(e,t,i)},shape:function(e,t){var i=document.createElementNS(this._svgns,e)
if(i){for(var n in t)i.setAttribute(n,t[n])
return this._activeParent().appendChild(i),i}},_getTextParts:function(t,i,n){var r={width:0,height:0,parts:[]}
if(void 0===t)return r
var o=t.toString().split("<br>"),a=this._activeParent(),s=document.createElementNS(this._svgns,"text")
this.attr(s,n)
for(var l=0;l<o.length;l++){var d,c=o[l],h=s.ownerDocument.createTextNode(c)
s.appendChild(h),a.appendChild(s)
try{d=s.getBBox()}catch(e){}var u=e.jqx._rup(d.width),p=e.jqx._rup(.6*d.height)
s.removeChild(h),r.width=Math.max(r.width,u),r.height+=p+(l>0?4:0),r.parts.push({width:u,height:p,text:c})}return a.removeChild(s),r},_measureText:function(t,i,n,r){return e.jqx.commonRenderer.measureText(t,i,n,r,this)},measureText:function(e,t,i){return this._measureText(e,t,i,!1)},text:function(t,i,n,r,o,a,s,l,d,c,h){var u,p=this._measureText(t,a,s,!0).textPartsInfo,m=p.parts
if(d||(d="center"),c||(c="center"),(m.length>1||l)&&(u=this.beginGroup()),l){var f=this.createClipRect({x:e.jqx._rup(i)-1,y:e.jqx._rup(n)-1,width:e.jqx._rup(r)+2,height:e.jqx._rup(o)+2})
this.setClip(u,f)}var g,v,b=this._activeParent()
g=p.width,v=p.height,(isNaN(r)||r<=0)&&(r=g),(isNaN(o)||o<=0)&&(o=v)
var y=r||0,_=o||0
if(!a||0==a){n+=v,"center"==c||"middle"==c?n+=(_-v)/2:"bottom"==c&&(n+=_-v),r||(r=g),o||(o=v)
b=this._activeParent()
for(var w=0,x=m.length-1;x>=0;x--){var C=document.createElementNS(this._svgns,"text")
this.attr(C,s),this.attr(C,{cursor:"default"})
var S=C.ownerDocument.createTextNode(m[x].text)
C.appendChild(S)
var T=i,I=m[x].width,E=m[x].height
"center"==d?T+=(y-I)/2:"right"==d&&(T+=y-I),this.attr(C,{x:e.jqx._rup(T),y:e.jqx._rup(n+w),width:e.jqx._rup(I),height:e.jqx._rup(E)}),b.appendChild(C),w-=m[x].height+4}return u?(this.endGroup(),u):C}var P=e.jqx.commonRenderer.alignTextInRect(i,n,r,o,g,v,d,c,a,h)
i=P.x,n=P.y
var D=this.shape("g",{transform:"translate("+i+","+n+")"}),k=this.shape("g",{transform:"rotate("+a+")"})
D.appendChild(k)
for(w=0,x=m.length-1;x>=0;x--){var A=document.createElementNS(this._svgns,"text")
this.attr(A,s),this.attr(A,{cursor:"default"})
S=A.ownerDocument.createTextNode(m[x].text)
A.appendChild(S)
T=0,I=m[x].width,E=m[x].height
"center"==d?T+=(p.width-I)/2:"right"==d&&(T+=p.width-I),this.attr(A,{x:e.jqx._rup(T),y:e.jqx._rup(w),width:e.jqx._rup(I),height:e.jqx._rup(E)}),k.appendChild(A),w-=E+4}return b.appendChild(D),u&&this.endGroup(),D},line:function(e,t,i,n,r){var o=this.shape("line",{x1:e,y1:t,x2:i,y2:n})
return this.attr(o,r),o},path:function(e,t){var i=this.shape("path")
return i.setAttribute("d",e),t&&this.attr(i,t),i},rect:function(t,i,n,r,o){t=e.jqx._ptrnd(t),i=e.jqx._ptrnd(i),n=Math.max(1,e.jqx._rnd(n,1,!1)),r=Math.max(1,e.jqx._rnd(r,1,!1))
var a=this.shape("rect",{x:t,y:i,width:n,height:r})
return o&&this.attr(a,o),a},circle:function(e,t,i,n){var r=this.shape("circle",{cx:e,cy:t,r:i})
return n&&this.attr(r,n),r},pieSlicePath:function(t,i,n,r,o,a,s){return e.jqx.commonRenderer.pieSlicePath(t,i,n,r,o,a,s)},pieslice:function(e,t,i,n,r,o,a,s){var l=this.pieSlicePath(e,t,i,n,r,o,a),d=this.shape("path")
return d.setAttribute("d",l),s&&this.attr(d,s),d},attr:function(e,t){if(e&&t)for(var i in t)"textContent"==i?e.textContent=t[i]:e.setAttribute(i,t[i])},removeAttr:function(e,t){if(e&&t)for(var i in t)"textContent"==i?e.textContent="":e.removeAttribute(t[i])},getAttr:function(e,t){return e.getAttribute(t)},_gradients:{},_toLinearGradient:function(t,i,n){var r="grd"+this._id+t.replace("#","")+(i?"v":"h"),o="url("+this.getWindowHref()+"#"+r+")"
if(this._gradients[o])return o
var a=document.createElementNS(this._svgns,"linearGradient")
this.attr(a,{x1:"0%",y1:"0%",x2:i?"0%":"100%",y2:i?"100%":"0%",id:r})
for(var s=0;s<n.length;s++){var l=n[s],d=document.createElementNS(this._svgns,"stop"),c="stop-color:"+e.jqx.adjustColor(t,l[1])
this.attr(d,{offset:l[0]+"%",style:c}),a.appendChild(d)}return this._defs.appendChild(a),this._gradients[o]=!0,o},_toRadialGradient:function(t,i,n){var r="grd"+this._id+t.replace("#","")+"r"+(null!=n?n.key:""),o="url("+this.getWindowHref()+"#"+r+")"
if(this._gradients[o])return o
var a=document.createElementNS(this._svgns,"radialGradient")
null==n?this.attr(a,{cx:"50%",cy:"50%",r:"100%",fx:"50%",fy:"50%",id:r}):this.attr(a,{cx:n.x,cy:n.y,r:n.outerRadius,id:r,gradientUnits:"userSpaceOnUse"})
for(var s=0;s<i.length;s++){var l=i[s],d=document.createElementNS(this._svgns,"stop"),c="stop-color:"+e.jqx.adjustColor(t,l[1])
this.attr(d,{offset:l[0]+"%",style:c}),a.appendChild(d)}return this._defs.appendChild(a),this._gradients[o]=!0,o}},e.jqx.vmlRenderer=function(){},e.jqx.vmlRenderer.prototype={init:function(t){t.append("<div class='chartContainer' style=\"position:relative;overflow:hidden;\"><div>"),this.host=t
var i=t.find(".chartContainer")
i[0].style.width=t.width()+"px",i[0].style.height=t.height()+"px"
var n=!0
try{for(var r=0;r<document.namespaces.length;r++)if("v"==document.namespaces[r].name&&"urn:schemas-microsoft-com:vml"==document.namespaces[r].urn){n=!1
break}}catch(e){return!1}return e.jqx.browser.msie&&parseInt(e.jqx.browser.version)<9&&document.childNodes&&document.childNodes.length>0&&document.childNodes[0].data&&-1!=document.childNodes[0].data.indexOf("DOCTYPE")?(n&&document.namespaces.add("v","urn:schemas-microsoft-com:vml"),this._ie8mode=!0):n&&(document.namespaces.add("v","urn:schemas-microsoft-com:vml"),document.createStyleSheet().cssText="v\\:* { behavior: url(#default#VML); display: inline-block; }"),this.canvas=i[0],this._width=Math.max(e.jqx._rup(i.width()),0),this._height=Math.max(e.jqx._rup(i.height()),0),i[0].style.width=this._width+2,i[0].style.height=this._height+2,this._id=(new Date).getTime(),this.clear(),!0},getType:function(){return"VML"},refresh:function(){},getRect:function(){return{x:0,y:0,width:this._width,height:this._height}},getContainer:function(){return this.host.find(".chartContainer")},clear:function(){for(;this.canvas.childElementCount>0;)this.removeHandler(this.canvas.firstElementChild),this.canvas.removeChild(this.canvas.firstElementChild)
this._gradients={},this._defaultParent=void 0},removeElement:function(e){null!=e&&(this.removeHandler(e),e.parentNode.removeChild(e))},_openGroups:[],beginGroup:function(){var e=this._activeParent(),t=document.createElement("v:group")
return t.style.position="absolute",t.coordorigin="0,0",t.coordsize=this._width+","+this._height,t.style.left=0,t.style.top=0,t.style.width=this._width,t.style.height=this._height,e.appendChild(t),this._openGroups.push(t),t},endGroup:function(){0!=this._openGroups.length&&this._openGroups.pop()},_activeParent:function(){return 0==this._openGroups.length?this.canvas:this._openGroups[this._openGroups.length-1]},createClipRect:function(e){var t=document.createElement("div")
return t.style.height=e.height+1+"px",t.style.width=e.width+1+"px",t.style.position="absolute",t.style.left=e.x+"px",t.style.top=e.y+"px",t.style.overflow="hidden",this._clipId=this._clipId||0,t.id="cl"+this._id+"_"+(++this._clipId).toString(),this._activeParent().appendChild(t),t},setClip:function(e,t){},_clipId:0,addHandler:function(t,i,n){e(t).on?e(t).on(i,n):e(t).bind(i,n)},removeHandler:function(t,i,n){e(t).off?e(t).off(i,n):e(t).unbind(i,n)},on:function(e,t,i){this.addHandler(e,t,i)},off:function(e,t,i){this.removeHandler(e,t,i)},_getTextParts:function(t,i,n){var r={width:0,height:0,parts:[]},o=t.toString().split("<br>"),a=this._activeParent(),s=document.createElement("v:textbox")
this.attr(s,n),a.appendChild(s)
for(var l=0;l<o.length;l++){var d=o[l],c=document.createElement("span")
c.appendChild(document.createTextNode(d)),s.appendChild(c),n&&n.class&&(c.className=n.class)
var h=e(s),u=e.jqx._rup(h.width()),p=e.jqx._rup(.6*h.height())
if(0==p&&e.jqx.browser.msie&&parseInt(e.jqx.browser.version)<9){var m=h.css("font-size")
m&&(p=parseInt(m),isNaN(p)&&(p=0))}s.removeChild(c),r.width=Math.max(r.width,u),r.height+=p+(l>0?2:0),r.parts.push({width:u,height:p,text:d})}return a.removeChild(s),r},_measureText:function(t,i,n,r){return i=Math.abs(i)>45?90:0,e.jqx.commonRenderer.measureText(t,i,n,r,this)},measureText:function(e,t,i){return this._measureText(e,t,i,!1)},text:function(t,i,n,r,o,a,s,l,d,c){var h
s&&s.stroke&&(h=s.stroke),null==h&&(h="black")
var u,p=this._measureText(t,a,s,!0),m=p.textPartsInfo.parts,f=p.width,g=p.height
if((isNaN(r)||0==r)&&(r=f),(isNaN(o)||0==o)&&(o=g),d||(d="center"),c||(c="center"),(m.length>0||l)&&(u=this.beginGroup()),l){var v=this.createClipRect({x:e.jqx._rup(i),y:e.jqx._rup(n),width:e.jqx._rup(r),height:e.jqx._rup(o)})
this.setClip(u,v)}var b=this._activeParent(),y=r||0,_=o||0,w=0,x=0
"center"==d?w+=(y-f)/2:"right"==d&&(w+=y-f),"center"==c?x=(_-g)/2:"bottom"==c&&(x=_-g),0==(a=Math.abs(a)>45?90:0)?(n+=g+x,i+=w):(i+=f+w,n+=x)
for(var C,S=0,T=m.length-1;T>=0;T--){var I=m[T],E=(f-I.width)/2
0==a&&"left"==d?E=0:0==a&&"right"==d?E=f-I.width:90==a&&(E=(g-I.width)/2)
var P=S-I.height
x=90==a?E:P,w=90==a?P:E,(C=document.createElement("v:textbox")).style.position="absolute",C.style.left=e.jqx._rup(i+w),C.style.top=e.jqx._rup(n+x),C.style.width=e.jqx._rup(I.width),C.style.height=e.jqx._rup(I.height),90==a&&(C.style.filter="progid:DXImageTransform.Microsoft.BasicImage(rotation=3)",C.style.height=e.jqx._rup(I.height)+5)
var D=document.createElement("span")
D.appendChild(document.createTextNode(I.text)),s&&s.class&&(D.className=s.class),C.appendChild(D),b.appendChild(C),S-=I.height+(T>0?2:0)}return u?(this.endGroup(),b):C},shape:function(e,t){var i=document.createElement(this._createElementMarkup(e))
if(i){for(var n in t)i.setAttribute(n,t[n])
return this._activeParent().appendChild(i),i}},line:function(e,t,i,n,r){var o="M "+e+","+t+" L "+i+","+n+" X E",a=this.path(o)
return this.attr(a,r),a},_createElementMarkup:function(e){var t="<v:"+e+' style=""></v:'+e+">"
return this._ie8mode&&(t=t.replace('style=""','style="behavior: url(#default#VML);"')),t},path:function(e,t){var i=document.createElement(this._createElementMarkup("shape"))
return i.style.position="absolute",i.coordsize=this._width+" "+this._height,i.coordorigin="0 0",i.style.width=parseInt(this._width),i.style.height=parseInt(this._height),i.style.left="0px",i.style.top="0px",i.setAttribute("path",e),this._activeParent().appendChild(i),t&&this.attr(i,t),i},rect:function(t,i,n,r,o){t=e.jqx._ptrnd(t),i=e.jqx._ptrnd(i),n=e.jqx._rup(n),r=e.jqx._rup(r)
var a=this.shape("rect",o)
return a.style.position="absolute",a.style.left=t,a.style.top=i,a.style.width=n,a.style.height=r,a.strokeweight=0,o&&this.attr(a,o),a},circle:function(t,i,n,r){var o=this.shape("oval")
return t=e.jqx._ptrnd(t-n),i=e.jqx._ptrnd(i-n),n=e.jqx._rup(n),o.style.position="absolute",o.style.left=t,o.style.top=i,o.style.width=2*n,o.style.height=2*n,r&&this.attr(o,r),o},updateCircle:function(t,i,n,r){null==i&&(i=parseFloat(t.style.left)+parseFloat(t.style.width)/2),null==n&&(n=parseFloat(t.style.top)+parseFloat(t.style.height)/2),null==r&&(r=parseFloat(t.width)/2),i=e.jqx._ptrnd(i-r),n=e.jqx._ptrnd(n-r),r=e.jqx._rup(r),t.style.left=i,t.style.top=n,t.style.width=2*r,t.style.height=2*r},pieSlicePath:function(t,i,n,r,o,a,s){r||(r=1)
var l=Math.abs(o-a)
l>360&&(o=0,a=360)
var d=o*Math.PI*2/360,c=a*Math.PI*2/360,h=t,u=i,p=!isNaN(n)&&n>0
if(p&&(s=0),s>0){var m=(l/2+o)*Math.PI*2/360
t+=s*Math.cos(m),i-=s*Math.sin(m)}if(p){var f=n
h=e.jqx._ptrnd(t+f*Math.cos(d)),u=e.jqx._ptrnd(i-f*Math.sin(d)),e.jqx._ptrnd(t+f*Math.cos(c)),e.jqx._ptrnd(i-f*Math.sin(c))}e.jqx._ptrnd(t+r*Math.cos(d))
var g=e.jqx._ptrnd(t+r*Math.cos(c)),v=(e.jqx._ptrnd(i-r*Math.sin(d)),e.jqx._ptrnd(i-r*Math.sin(c)))
r=e.jqx._ptrnd(r),n=e.jqx._ptrnd(n),t=e.jqx._ptrnd(t),i=e.jqx._ptrnd(i)
var b=Math.round(65535*o),y=Math.round(65536*(a-o))
n<0&&(n=1)
var _=""
return p?(_="M"+h+" "+u,_+=" AE "+t+" "+i+" "+n+" "+n+" "+b+" "+y,_+=" L "+g+" "+v,b=Math.round(65535*(o-a)),_+=" AE "+t+" "+i+" "+r+" "+r+" "+(y=Math.round(65536*a))+" "+b,_+=" L "+h+" "+u):(_="M"+t+" "+i,_+=" AE "+t+" "+i+" "+r+" "+r+" "+b+" "+y),_+=" X E"},pieslice:function(e,t,i,n,r,o,a,s){var l=this.pieSlicePath(e,t,i,n,r,o,a),d=this.path(l,s)
return s&&this.attr(d,s),d},_keymap:[{svg:"fill",vml:"fillcolor"},{svg:"stroke",vml:"strokecolor"},{svg:"stroke-width",vml:"strokeweight"},{svg:"stroke-dasharray",vml:"dashstyle"},{svg:"fill-opacity",vml:"fillopacity"},{svg:"stroke-opacity",vml:"strokeopacity"},{svg:"opacity",vml:"opacity"},{svg:"cx",vml:"style.left"},{svg:"cy",vml:"style.top"},{svg:"height",vml:"style.height"},{svg:"width",vml:"style.width"},{svg:"x",vml:"style.left"},{svg:"y",vml:"style.top"},{svg:"d",vml:"v"},{svg:"display",vml:"style.display"}],_translateParam:function(e){for(var t in this._keymap)if(this._keymap[t].svg==e)return this._keymap[t].vml
return e},attr:function(e,t){if(e&&t)for(var i in t){var n=this._translateParam(i)
null!=t[i]&&("fillcolor"==n&&-1!=t[i].indexOf("grd")?e.type=t[i]:"fillcolor"==n&&"transparent"==t[i]?(e.style.filter="alpha(opacity=0)",e["-ms-filter"]="progid:DXImageTransform.Microsoft.Alpha(Opacity=0)"):"opacity"==n||"fillopacity"==n?e.fill&&(e.fill.opacity=t[i]):"textContent"==n?e.children[0].innerText=t[i]:"dashstyle"==n?e.dashstyle=t[i].replace(","," "):-1==n.indexOf("style.")?e[n]=t[i]:e.style[n.replace("style.","")]=t[i])}},removeAttr:function(e,t){if(e&&t)for(var i in t)e.removeAttribute(t[i])},getAttr:function(e,t){var i=this._translateParam(t)
return"opacity"==i||"fillopacity"==i?e.fill?e.fill.opacity:1:-1==i.indexOf("style.")?e[i]:e.style[i.replace("style.","")]},_gradients:{},_toRadialGradient:function(e,t,i){return e},_toLinearGradient:function(t,i,n){if(this._ie8mode)return t
var r="grd"+t.replace("#","")+(i?"v":"h"),o="#"+r
if(this._gradients[o])return o
var a=document.createElement(this._createElementMarkup("fill"))
a.type="gradient",a.method="linear",a.angle=i?0:90
for(var s="",l=0;l<n.length;l++){var d=n[l]
d>0&&(s+=", "),s+=d[0]+"% "+e.jqx.adjustColor(t,d[1])}a.colors=s
var c=document.createElement(this._createElementMarkup("shapetype"))
return c.appendChild(a),c.id=r,this.canvas.appendChild(c),o}},e.jqx.HTML5Renderer=function(){},e.jqx.ptrnd=function(e){if(.5==Math.abs(Math.round(e)-e))return e
var t=Math.round(e)
return t<e&&(t-=1),t+.5},e.jqx.HTML5Renderer.prototype={init:function(e){try{this.host=e,this.host.append("<div class='chartContainer' style='position:relative' onselectstart='return false;'><canvas id='__jqxCanvasWrap' style='width:100%; height: 100%;'/></div>"),this.canvas=e.find("#__jqxCanvasWrap"),this.canvas[0].width=e.width(),this.canvas[0].height=e.height(),this.ctx=this.canvas[0].getContext("2d"),this._elements={},this._maxId=0,this._gradientId=0,this._gradients={},this._currentPoint={x:0,y:0},this._lastCmd="",this._pos=0}catch(e){return!1}return!0},getType:function(){return"HTML5"},getContainer:function(){return this.host.find(".chartContainer")},getRect:function(){return{x:0,y:0,width:this.canvas[0].width-1,height:this.canvas[0].height-1}},beginGroup:function(){},endGroup:function(){},setClip:function(){},createClipRect:function(e){},addHandler:function(e,t,i){},removeHandler:function(e,t,i){},on:function(e,t,i){this.addHandler(e,t,i)},off:function(e,t,i){this.removeHandler(e,t,i)},clear:function(){this._elements={},this._maxId=0,this._renderers._gradients={},this._gradientId=0},removeElement:function(e){null!=e&&this._elements[e.id]&&delete this._elements[e.id]},shape:function(e,t){var i={type:e,id:this._maxId++}
for(var n in t)i[n]=t[n]
return this._elements[i.id]=i,i},attr:function(e,t){for(var i in t)e[i]=t[i]},removeAttr:function(e,t){for(var i in t)delete e[t[i]]},rect:function(e,t,i,n,r){if(isNaN(e))throw'Invalid value for "x"'
if(isNaN(t))throw'Invalid value for "y"'
if(isNaN(i))throw'Invalid value for "width"'
if(isNaN(n))throw'Invalid value for "height"'
var o=this.shape("rect",{x:e,y:t,width:i,height:n})
return r&&this.attr(o,r),o},path:function(e,t){var i=this.shape("path",t)
return this.attr(i,{d:e}),i},line:function(e,t,i,n,r){return this.path("M "+e+","+t+" L "+i+","+n,r)},circle:function(e,t,i,n){var r=this.shape("circle",{x:e,y:t,r:i})
return n&&this.attr(r,n),r},pieSlicePath:function(t,i,n,r,o,a,s){return e.jqx.commonRenderer.pieSlicePath(t,i,n,r,o,a,s)},pieslice:function(e,t,i,n,r,o,a,s){var l=this.path(this.pieSlicePath(e,t,i,n,r,o,a),s)
return this.attr(l,{x:e,y:t,innerRadius:i,outerRadius:n,angleFrom:r,angleTo:o}),l},_getCSSStyle:function(e){var t=document.styleSheets
try{for(var i=0;i<t.length;i++)for(var n=0;t[i].cssRules&&n<t[i].cssRules.length;n++)if(-1!=t[i].cssRules[n].selectorText.indexOf(e))return t[i].cssRules[n].style}catch(e){}return{}},_getTextParts:function(t,i,n){var r="Arial",o="10pt",a=""
if(n&&n.class){var s=this._getCSSStyle(n.class)
s.fontSize&&(o=s.fontSize),s.fontFamily&&(r=s.fontFamily),s.fontWeight&&(a=s.fontWeight)}this.ctx.font=a+" "+o+" "+r
for(var l={width:0,height:0,parts:[]},d=t.toString().split("<br>"),c=0;c<d.length;c++){var h=d[c],u=this.ctx.measureText(h).width,p=document.createElement("span.jqxchart")
p.font=this.ctx.font,p.textContent=h,document.body.appendChild(p)
var m=.6*p.offsetHeight
document.body.removeChild(p),l.width=Math.max(l.width,e.jqx._rup(u)),l.height+=m+(c>0?4:0),l.parts.push({width:u,height:m,text:h})}return l},_measureText:function(t,i,n,r){return e.jqx.commonRenderer.measureText(t,i,n,r,this)},measureText:function(e,t,i){return this._measureText(e,t,i,!1)},text:function(e,t,i,n,r,o,a,s,l,d,c){var h=this.shape("text",{text:e,x:t,y:i,width:n,height:r,angle:o,clip:s,halign:l,valign:d,rotateAround:c})
if(a&&this.attr(h,a),h.fontFamily="Arial",h.fontSize="10pt",h.fontWeight="",h.color="#000000",a&&a.class){var u=this._getCSSStyle(a.class)
h.fontFamily=u.fontFamily||h.fontFamily,h.fontSize=u.fontSize||h.fontSize,h.fontWeight=u.fontWeight||h.fontWeight,h.color=u.color||h.color}var p=this._measureText(e,0,a,!0)
return this.attr(h,{textPartsInfo:p.textPartsInfo,textWidth:p.width,textHeight:p.height}),(n<=0||isNaN(n))&&this.attr(h,{width:p.width}),(r<=0||isNaN(r))&&this.attr(h,{height:p.height}),h},_toLinearGradient:function(t,i,n){if(this._renderers._gradients[t])return t
for(var r=[],o=0;o<n.length;o++)r.push({percent:n[o][0]/100,color:e.jqx.adjustColor(t,n[o][1])})
var a="gr"+this._gradientId++
return this.createGradient(a,i?"vertical":"horizontal",r),a},_toRadialGradient:function(t,i){if(this._renderers._gradients[t])return t
for(var n=[],r=0;r<i.length;r++)n.push({percent:i[r][0]/100,color:e.jqx.adjustColor(t,i[r][1])})
var o="gr"+this._gradientId++
return this.createGradient(o,"radial",n),o},createGradient:function(e,t,i){this._renderers.createGradient(this,e,t,i)},_renderers:{createGradient:function(e,t,i,n){e._gradients[t]={orientation:i,colorStops:n}},setStroke:function(e,t){var i=e.ctx
i.strokeStyle=t.stroke||"transparent",i.lineWidth=t["stroke-width"]||1,null!=t["fill-opacity"]?i.globalAlpha=t["fill-opacity"]:null!=t.opacity?i.globalAlpha=t.opacity:i.globalAlpha=1,i.setLineDash&&(t["stroke-dasharray"]?i.setLineDash(t["stroke-dasharray"].split(",")):i.setLineDash([]))},setFillStyle:function(t,i){var n=t.ctx
if(n.fillStyle="transparent",null!=i["fill-opacity"]?n.globalAlpha=i["fill-opacity"]:null!=i.opacity?n.globalAlpha=i.opacity:n.globalAlpha=1,i.fill&&-1==i.fill.indexOf("#")&&t._gradients[i.fill]){var r,o,a,s,l,d="horizontal"!=t._gradients[i.fill].orientation,c="radial"==t._gradients[i.fill].orientation,h=e.jqx.ptrnd(i.x),u=e.jqx.ptrnd(i.y),p=e.jqx.ptrnd(i.x+(d?0:i.width)),m=e.jqx.ptrnd(i.y+(d?i.height:0))
"circle"!=i.type&&"path"!=i.type&&"rect"!=i.type||!c||(o=e.jqx.ptrnd(i.x),a=e.jqx.ptrnd(i.y),s=i.innerRadius||0,l=i.outerRadius||i.r||0,"rect"==i.type&&(o+=i.width/2,a+=i.height/2),r=n.createRadialGradient(o,a,s,o,a,l)),c||((isNaN(h)||isNaN(p)||isNaN(u)||isNaN(m))&&(h=0,u=0,p=d?0:n.canvas.width,m=d?n.canvas.height:0),r=n.createLinearGradient(h,u,p,m))
for(var f=t._gradients[i.fill].colorStops,g=0;g<f.length;g++)r.addColorStop(f[g].percent,f[g].color)
n.fillStyle=r}else i.fill&&(n.fillStyle=i.fill)},rect:function(t,i){0!=i.width&&0!=i.height&&(t.fillRect(e.jqx.ptrnd(i.x),e.jqx.ptrnd(i.y),i.width,i.height),t.strokeRect(e.jqx.ptrnd(i.x),e.jqx.ptrnd(i.y),i.width,i.height))},circle:function(t,i){0!=i.r&&(t.beginPath(),t.arc(e.jqx.ptrnd(i.x),e.jqx.ptrnd(i.y),i.r,0,2*Math.PI,!1),t.closePath(),t.fill(),t.stroke())},_parsePoint:function(e){return{x:this._parseNumber(e),y:this._parseNumber(e)}},_parseNumber:function(e){for(var t=!1,i=this._pos;i<e.length;i++)if(e[i]>="0"&&e[i]<="9"||"."==e[i]||"e"==e[i]||"-"==e[i]&&!t||"-"==e[i]&&i>=1&&"e"==e[i-1])t=!0
else{if(t||" "!=e[i]&&","!=e[i])break
this._pos++}var n=parseFloat(e.substring(this._pos,i))
if(!isNaN(n))return this._pos=i,n},_cmds:"mlcazq",_isRelativeCmd:function(t){return e.jqx.string.contains(this._cmds,t)},_parseCmd:function(t){for(var i=this._pos;i<t.length;i++){if(e.jqx.string.containsIgnoreCase(this._cmds,t[i]))return this._pos=i+1,this._lastCmd=t[i],this._lastCmd
if(" "!=t[i]){if(t[i]>="0"&&t[i]<="9"){if(this._pos=i,""==this._lastCmd)break
return this._lastCmd}}else this._pos++}},_toAbsolutePoint:function(e){return{x:this._currentPoint.x+e.x,y:this._currentPoint.y+e.y}},path:function(e,t){var i=t.d
this._pos=0,this._lastCmd=""
var n=void 0
this._currentPoint={x:0,y:0},e.beginPath()
for(;this._pos<i.length;){var r=this._parseCmd(i)
if(null==r)break
if("M"!=r&&"m"!=r)if("L"!=r&&"l"!=r)if("A"!=r&&"a"!=r)if("Z"!=r&&"z"!=r||null==n)if("C"!=r&&"c"!=r)if("Q"!=r&&"q"!=r);else{o=this._parsePoint(i),a=this._parsePoint(i)
e.quadraticCurveTo(o.x,o.y,a.x,a.y),this._currentPoint=a}else{var o=this._parsePoint(i),a=this._parsePoint(i),s=this._parsePoint(i)
e.bezierCurveTo(o.x,o.y,a.x,a.y,s.x,s.y),this._currentPoint=s}else e.lineTo(n.x,n.y),this._currentPoint=n
else{var l=this._parseNumber(i),d=this._parseNumber(i),c=this._parseNumber(i)*(Math.PI/180),h=this._parseNumber(i),u=this._parseNumber(i),p=this._parsePoint(i)
if(this._isRelativeCmd(r)&&(p=this._toAbsolutePoint(p)),0==l||0==d)continue
var m=this._currentPoint,f={x:Math.cos(c)*(m.x-p.x)/2+Math.sin(c)*(m.y-p.y)/2,y:-Math.sin(c)*(m.x-p.x)/2+Math.cos(c)*(m.y-p.y)/2},g=Math.pow(f.x,2)/Math.pow(l,2)+Math.pow(f.y,2)/Math.pow(d,2)
g>1&&(l*=Math.sqrt(g),d*=Math.sqrt(g))
var v=(h==u?-1:1)*Math.sqrt((Math.pow(l,2)*Math.pow(d,2)-Math.pow(l,2)*Math.pow(f.y,2)-Math.pow(d,2)*Math.pow(f.x,2))/(Math.pow(l,2)*Math.pow(f.y,2)+Math.pow(d,2)*Math.pow(f.x,2)))
isNaN(v)&&(v=0)
var b={x:v*l*f.y/d,y:v*-d*f.x/l},y={x:(m.x+p.x)/2+Math.cos(c)*b.x-Math.sin(c)*b.y,y:(m.y+p.y)/2+Math.sin(c)*b.x+Math.cos(c)*b.y},_=function(e){return Math.sqrt(Math.pow(e[0],2)+Math.pow(e[1],2))},w=function(e,t){return(e[0]*t[0]+e[1]*t[1])/(_(e)*_(t))},x=function(e,t){return(e[0]*t[1]<e[1]*t[0]?-1:1)*Math.acos(w(e,t))},C=x([1,0],[(f.x-b.x)/l,(f.y-b.y)/d]),S=[(f.x-b.x)/l,(f.y-b.y)/d],T=[(-f.x-b.x)/l,(-f.y-b.y)/d],I=x(S,T)
w(S,T)<=-1&&(I=Math.PI),w(S,T)>=1&&(I=0),0==u&&I>0&&(I-=2*Math.PI),1==u&&I<0&&(I+=2*Math.PI)
w=l>d?l:d
var E=l>d?1:l/d,P=l>d?d/l:1
e.translate(y.x,y.y),e.rotate(c),e.scale(E,P),e.arc(0,0,w,C,C+I,1-u),e.scale(1/E,1/P),e.rotate(-c),e.translate(-y.x,-y.y)}else{if(null==(D=this._parsePoint(i)))break
e.lineTo(D.x,D.y),this._currentPoint=D}else{var D
if(null==(D=this._parsePoint(i)))break
e.moveTo(D.x,D.y),this._currentPoint=D,null==n&&(n=D)}}e.fill(),e.stroke(),e.closePath()},text:function(t,i){var n=e.jqx.ptrnd(i.x),r=e.jqx.ptrnd(i.y),o=e.jqx.ptrnd(i.width),a=e.jqx.ptrnd(i.height),s=i.halign,l=i.valign,d=i.angle,c=i.rotateAround,h=i.textPartsInfo,u=h.parts,p=i.clip
null==p&&(p=!0),t.save(),s||(s="center"),l||(l="center"),p&&(t.rect(n,r,o,a),t.clip())
var m=i.textWidth,f=i.textHeight,g=o||0,v=a||0
if(t.fillStyle=i.color,t.font=i.fontWeight+" "+i.fontSize+" "+i.fontFamily,d&&0!=d){var b=e.jqx.commonRenderer.alignTextInRect(n,r,o,a,m,f,s,l,d,c)
n=b.x,r=b.y
var y=d*Math.PI*2/360
t.translate(n,r),t.rotate(y)
w=0
var _=h.width
for(x=u.length-1;x>=0;x--){S=0
"center"==s?S+=(_-u[x].width)/2:"right"==s&&(S+=_-u[x].width),t.fillText(u[x].text,S,w),w-=u[x].height+4}t.restore()}else{r+=f,"center"==l||"middle"==l?r+=(v-f)/2:"bottom"==l&&(r+=v-f),o||(o=m),a||(a=f)
for(var w=0,x=u.length-1;x>=0;x--){var C=u[x],S=n,T=u[x].width
u[x].height
"center"==s?S+=(g-T)/2:"right"==s&&(S+=g-T),t.fillText(C.text,S,r+w),w-=C.height+(x>0?4:0)}t.restore()}}},refresh:function(){for(var e in this.ctx.clearRect(0,0,this.canvas[0].width,this.canvas[0].height),this._elements){var t=this._elements[e]
this._renderers.setFillStyle(this,t),this._renderers.setStroke(this,t),this._renderers[this._elements[e].type](this.ctx,t)}}},e.jqx.createRenderer=function(t,i){var n=t,r=n.renderer=null
if(document.createElementNS&&"HTML5"!=n.renderEngine&&"VML"!=n.renderEngine&&!(r=new e.jqx.svgRenderer).init(i)){if("SVG"==n.renderEngine)throw"Your browser does not support SVG"
return null}if(null==r&&"HTML5"!=n.renderEngine){if(!(r=new e.jqx.vmlRenderer).init(i)){if("VML"==n.renderEngine)throw"Your browser does not support VML"
return null}n._isVML=!0}if(null==r&&("HTML5"==n.renderEngine||null==n.renderEngine)&&!(r=new e.jqx.HTML5Renderer).init(i))throw"Your browser does not support HTML5 Canvas"
return n.renderer=r,r},e.jqx._widgetToImage=function(t,i,n,r,o,a){var s=t
if(!s)return!1
null!=n&&""!=n||(n="image."+i)
var l=s.renderEngine,d=s.enableAnimations
if(s.enableAnimations=!1,s.renderEngine="HTML5",s.renderEngine!=l)try{s.refresh()}catch(e){return s.renderEngine=l,s.refresh(),s.enableAnimations=d,!1}var c=s.renderer.getContainer().find("canvas")[0],h=!0
e.isFunction(a)&&(h=a(t,c))
var u=!0
return h&&(u=e.jqx.exportImage(c,i,n,r,o)),s.renderEngine!=l&&(s.renderEngine=l,s.refresh(),s.enableAnimations=d),u},e.jqx.getByPriority=function(e){for(var t=void 0,i=0;i<e.length&&null==t;i++)null==t&&null!=e[i]&&(t=e[i])
return t},e.jqx.exportImage=function(t,i,n,r,o){if(!t)return!1
var a="pdf"===i.toLowerCase()
if(a&&(i="jpeg"),null!=n&&""!=n||(n="image."+i),null==r||""==r)throw"Please specifiy export server"
var s=!0
try{if(t){var l=t.toDataURL("image/"+i)
if(a){e.jqx.pdfExport||(e.jqx.pdfExport={orientation:"portrait",paperSize:"a4"})
var d=595
switch(e.jqx.pdfExport.paperSize){case"legal":d=612
"portrait"!==e.jqx.pdfExport.orientation&&(d=1008)
break
case"letter":d=612
"portrait"!==e.jqx.pdfExport.orientation&&(d=792)
break
case"a3":d=841
"portrait"!==e.jqx.pdfExport.orientation&&(d=1190)
break
case"a4":d=595
"portrait"!==e.jqx.pdfExport.orientation&&(d=842)
break
case"a5":d=420
"portrait"!==e.jqx.pdfExport.orientation&&(d=595)}var c=72*e(t).width()/96
c>=d-20&&(c=d-20)
var h=new(void 0)(e.jqx.pdfExport.orientation,"pt",e.jqx.pdfExport.paperSize)
return h.addImage(l,"JPEG",10,10,c,0),void h.save(n)}if(l=l.replace("data:image/"+i+";base64,",""),o)e.ajax({dataType:"string",url:r,type:"POST",data:{content:l,fname:n},async:!1,success:function(e,t,i){s=!0},error:function(e,t,i){s=!1}})
else{var u=document.createElement("form")
u.method="POST",u.action=r,u.style.display="none",document.body.appendChild(u)
var p=document.createElement("input")
p.name="fname",p.value=n,p.style.display="none"
var m=document.createElement("input")
m.name="content",m.value=l,m.style.display="none",u.appendChild(p),u.appendChild(m),u.submit(),document.body.removeChild(u),s=!0}}}catch(e){s=!1}return s}}(jqxBaseFramework),jqxBaseFramework}()
var ti=Object.freeze({})
!function(){var e;(e=jqxBaseFramework).jqx.jqxWidget("jqxMenu","",{}),e.extend(e.jqx._jqxMenu.prototype,{defineInstance:function(){var t={items:new Array,mode:"horizontal",width:null,height:null,minimizeWidth:"auto",easing:"easeInOutSine",animationShowDuration:200,animationHideDuration:200,autoCloseInterval:0,animationHideDelay:100,animationShowDelay:100,menuElements:new Array,autoSizeMainItems:!1,autoCloseOnClick:!0,autoCloseOnMouseLeave:!0,enableRoundedCorners:!0,disabled:!1,autoOpenPopup:!0,enableHover:!0,autoOpen:!0,autoGenerate:!0,clickToOpen:!1,showTopLevelArrows:!1,touchMode:"auto",source:null,popupZIndex:17e3,rtl:!1,keyboardNavigation:!1,lockFocus:!1,title:"",events:["shown","closed","itemclick","initialized","open","close"]}
return this===e.jqx._jqxMenu.prototype?t:(e.extend(!0,this,t),t)},createInstance:function(t){var i=this
if(this.host.attr("role","menubar"),e.jqx.utilities.resize(this.host,function(){i.refresh()},!1,"popup"!=this.mode),"auto"!=this.minimizeWidth&&null!=this.minimizeWidth&&this.width&&-1==this.width.toString().indexOf("%")&&e(window).resize(function(){i.refresh()}),this.host.css("outline","none"),this.source&&null!=this.source){var n=this.loadItems(this.source)
this.element.innerHTML=n}if(this._tmpHTML=this.element.innerHTML,this.element.innerHTML.indexOf("UL")){var r=this.host.find("ul:first")
r.length>0&&this._createMenu(r[0])}this.host.data("autoclose",{}),this._render(),this._setSize(),e.jqx.browser.msie&&e.jqx.browser.version<8&&this.host.attr("hideFocus",!0)},focus:function(){try{if("popup"===this.mode&&this.keyboardNavigation&&this.host.closest("div.jqx-menu-wrapper").focus(),this.keyboardNavigation){this.host.focus()
var t=this,i=function(){if(e.jqx.isHidden(e(t.items[0].element))){var i=t._nextVisibleItem(t.items[0],0)
i&&(e(i.element).addClass(t.toThemeProperty("jqx-fill-state-focus")),t.activeItem=i)}else e(t.items[0].element).addClass(t.toThemeProperty("jqx-fill-state-focus")),t.activeItem=t.items[0]}
this.activeItem?e.jqx.isHidden(e(this.activeItem.element))?(e(this.activeItem.element).removeClass(this.toThemeProperty("jqx-fill-state-focus")),i()):e(this.activeItem.element).addClass(this.toThemeProperty("jqx-fill-state-focus")):i()}}catch(e){}},loadItems:function(t,i){if(null!=t){if(0==t.length)return""
var n=this
this.items=new Array
var r='<ul class="jqx-menu-ul">'
return i&&(r='<ul class="jqx-menu-ul" style="width:'+i+';">'),e.map(t,function(e){if(null==e)return null
r+=n._parseItem(e)}),r+="</ul>"}},_parseItem:function(e){var t=""
if(null==e)return null
var i=e.label
!e.label&&e.html&&(i=e.html),i||(i="Item"),"string"==typeof e&&(i=e),null!=e.selected&&e.selected
var n=!1
return null!=e.disabled&&e.disabled&&(n=!0),t+="<li",n&&(t+=' item-disabled="true" '),e.label&&!e.html&&(t+=' item-label="'+i+'" '),null!=e.value&&(t+=' item-value="'+e.value+'" '),null!=e.id&&(t+=' id="'+e.id+'" '),t+=">"+i,e.items&&(e.subMenuWidth?t+=this.loadItems(e.items,e.subMenuWidth):t+=this.loadItems(e.items)),t+="</li>"},_setSize:function(){if(null!=this.width&&-1!=this.width.toString().indexOf("%")?this.host.width(this.width):null!=this.width&&-1!=this.width.toString().indexOf("px")?this.host.width(this.width):null==this.width||isNaN(this.width)||this.host.width(this.width),null!=this.height&&-1!=this.height.toString().indexOf("%")?this.host.height(this.height):null!=this.height&&-1!=this.height.toString().indexOf("px")?this.host.height(this.height):null==this.height||isNaN(this.height)||this.host.height(this.height),null===this.height&&this.host.height("auto"),null!=this.minimizeWidth&&"popup"!=this.mode){var t=e(window).width()
if(!e.jqx.response){var i=!1
navigator.userAgent.match(/Windows|Linux|MacOS/)&&(navigator.userAgent.indexOf("Windows Phone")>=0||navigator.userAgent.indexOf("WPDesktop")>=0||navigator.userAgent.indexOf("IEMobile")>=0||navigator.userAgent.indexOf("ZuneWP7")>=0||(i=!0))
var n=this.minimizeWidth
if(i&&"auto"==this.minimizeWidth)return}if("auto"==this.minimizeWidth&&e.jqx.response){var r=new e.jqx.response
"Phone"!=r.device.type&&"Tablet"!=r.device.type||this.minimized||this.minimize()}else t<n&&!this.minimized?this.minimize():this.minimized&&t>=n&&this.restore()}},minimize:function(){if(!this.minimized){var t=this
if(this.host.addClass(this.toThemeProperty("jqx-menu-minimized")),this.minimized=!0,this._tmpMode=this.mode,this.mode="simple",(r=this.host.closest("div.jqx-menu-wrapper")).remove(),e("#menuWrapper"+this.element.id).remove(),e.each(this.items,function(){e(this.element),e(this.subMenuElement).closest("div.jqx-menu-popup").remove()}),this.source){var i=this.loadItems(this.source)
this.element.innerHTML=i,this._tmpHTML=this.element.innerHTML}if(this.element.innerHTML=this._tmpHTML,this.element.innerHTML.indexOf("UL")){var n=this.host.find("ul:first")
n.length>0&&this._createMenu(n[0])}this._render()
var r,o=this.host.find("ul:first")
o.wrap('<div class="jqx-menu-wrapper" style="z-index:'+this.popupZIndex+'; padding: 0px; display: none; margin: 0px; height: auto; width: auto; position: absolute; top: 0; left: 0; display: block; visibility: visible;"></div>'),(r=o.closest("div.jqx-menu-wrapper"))[0].id="menuWrapper"+this.element.id,r.detach(),r.appendTo(e(document.body)),r.addClass(this.toThemeProperty("jqx-widget")),r.addClass(this.toThemeProperty("jqx-menu")),r.addClass(this.toThemeProperty("jqx-menu-minimized")),r.addClass(this.toThemeProperty("jqx-widget-header")),o.children().hide(),r.hide(),r.find("ul").addClass(this.toThemeProperty("jqx-menu-ul-minimized")),this.minimizedItem=e("<div></div>"),this.minimizedItem.addClass(this.toThemeProperty("jqx-item")),this.minimizedItem.addClass(this.toThemeProperty("jqx-menu-item-top")),this.addHandler(r,"keydown",function(e){return t.handleKeyDown(e)}),this.minimizedItem.addClass(this.toThemeProperty("jqx-menu-minimized-button")),this.minimizedItem.prependTo(this.host),this.titleElement=e("<div>"+this.title+"</div>"),this.titleElement.addClass(this.toThemeProperty("jqx-item")),this.titleElement.addClass(this.toThemeProperty("jqx-menu-title")),this.titleElement.prependTo(this.host),e("<div style='clear:both;'></div>").insertAfter(this.minimizedItem),t.minimizedHidden=!0
var a=function(e){if(t.minimizedHidden){r.find("ul:first").children().show(),t.minimizedHidden=!1,r.show(),r.css("opacity",0),r.css("left",-r.outerWidth())
var i=!1,n=r.width()
"right"==t.minimizedItem.css("float")&&(r.css("left",t.host.coord().left+t.host.width()+n),i=!0),r.css("top",t.host.coord().top+t.host.height()),r.animate({left:i?t.host.coord().left+t.host.width()-n:t.host.coord().left,opacity:.95},t.animationShowDuration,function(){})}else!function(e){t.minimizedHidden=!0,t.minimizedItem.show()
var i=!1
"right"==t.minimizedItem.css("float")&&(i=!0),r.animate({left:i?t.host.coord().left+t.host.width()+r.width():-r.outerWidth(),opacity:0},t.animationHideDuration,function(){r.find("ul:first").children().hide(),r.hide()})}()
t._raiseEvent("2",{type:"mouse",item:t.minimizedItem[0],event:e}),t._setSize()}
this.addHandler(e(window),"orientationchange.jqxmenu"+this.element.id,function(e){setTimeout(function(){if(!t.minimizedHidden){var e=r.width(),i=!1
e=r.width(),"right"==t.minimizedItem.css("float")&&(i=!0),r.css("top",t.host.coord().top+t.host.height()),r.css({left:i?t.host.coord().left+t.host.width()-e:t.host.coord().left})}},25)}),this.addHandler(this.minimizedItem,"click",function(e){a(e)})}},restore:function(){if(this.minimized){if(this.host.find("ul").removeClass(this.toThemeProperty("jqx-menu-ul-minimized")),this.host.removeClass(this.toThemeProperty("jqx-menu-minimized")),this.minimized=!1,this.mode=this._tmpMode,this.minimizedItem&&this.minimizedItem.remove(),e("#menuWrapper"+this.element.id).remove(),this.source){var t=this.loadItems(this.source)
this.element.innerHTML=t,this._tmpHTML=t}if(this.element.innerHTML=this._tmpHTML,this.element.innerHTML.indexOf("UL")){var i=this.host.find("ul:first")
i.length>0&&this._createMenu(i[0])}this._setSize(),this._render()}},isTouchDevice:function(){if(null!=this._isTouchDevice)return this._isTouchDevice
var t=e.jqx.mobile.isTouchDevice()
return 1==this.touchMode?t=!0:0==this.touchMode&&(t=!1),t&&(this.host.addClass(this.toThemeProperty("jqx-touch")),e(".jqx-menu-item").addClass(this.toThemeProperty("jqx-touch"))),this._isTouchDevice=t,t},refresh:function(e){e||this._setSize()},resize:function(e,t){this.width=e,this.height=t,this.refresh()},_closeAll:function(t){var i=null!=t?t.data:this,n=i.items
e.each(n,function(){1==this.hasItems&&this.isOpen&&i._closeItem(i,this)}),"popup"==i.mode&&null!=t&&(i._isRightClick(t)||i.close())},closeItem:function(t){if(null==t)return!1
var i=t,n=document.getElementById(i),r=this
return e.each(r.items,function(){1==this.isOpen&&this.element==n&&(r._closeItem(r,this),this.parentId&&r.closeItem(this.parentId))}),!0},openItem:function(t){if(null==t)return!1
var i=t,n=document.getElementById(i),r=this
return e.each(r.items,function(){0==this.isOpen&&this.element==n&&(r._openItem(r,this),this.parentId&&r.openItem(this.parentId))}),!0},_getClosedSubMenuOffset:function(t){var i=e(t.subMenuElement),n=-i.outerHeight(),r=-i.outerWidth(),o=0==t.level&&"horizontal"==this.mode
switch(o?r=0:n=0,t.openVerticalDirection){case"up":case"center":n=i.outerHeight()}switch(t.openHorizontalDirection){case this._getDir("left"):case"center":r=o?0:i.outerWidth()}return{left:r,top:n}},_closeItem:function(t,i,n,r){if(null==t||null==i)return!1
var o=e(i.subMenuElement),a=0==i.level&&"horizontal"==this.mode,s=this._getClosedSubMenuOffset(i),l=s.top,d=s.left,c=(e(i.element),o.closest("div.jqx-menu-popup"))
if(null!=c){var h=t.animationHideDelay
1==r&&(h=0),o.data("timer")&&null!=o.data("timer").show&&(clearTimeout(o.data("timer").show),o.data("timer").show=null)
var u=function(){i.isOpen=!1,a?o.stop().animate({top:l},t.animationHideDuration,function(){e(i.element).removeClass(t.toThemeProperty("jqx-fill-state-pressed")),e(i.element).removeClass(t.toThemeProperty("jqx-menu-item-top-selected")),e(i.element).removeClass(t.toThemeProperty("jqx-rc-b-expanded")),c.removeClass(t.toThemeProperty("jqx-rc-t-expanded"))
var n=e(i.arrow)
n.length>0&&t.showTopLevelArrows&&(n.removeClass(),"down"==i.openVerticalDirection?(n.addClass(t.toThemeProperty("jqx-menu-item-arrow-down")),n.addClass(t.toThemeProperty("jqx-icon-arrow-down"))):(n.addClass(t.toThemeProperty("jqx-menu-item-arrow-up")),n.addClass(t.toThemeProperty("jqx-icon-arrow-up")))),e.jqx.aria(e(i.element),"aria-expanded",!1),c.css({display:"none"}),0==t.animationHideDuration&&o.css({top:l}),t._raiseEvent("1",i)}):(e.jqx.browser.msie,o.stop().animate({left:d},t.animationHideDuration,function(){var n
0==t.animationHideDuration&&o.css({left:d}),i.level>0?(e(i.element).removeClass(t.toThemeProperty("jqx-fill-state-pressed")),e(i.element).removeClass(t.toThemeProperty("jqx-menu-item-selected")),(n=e(i.arrow)).length>0&&(n.removeClass(),"left"!=i.openHorizontalDirection?(n.addClass(t.toThemeProperty("jqx-menu-item-arrow-"+t._getDir("right"))),n.addClass(t.toThemeProperty("jqx-icon-arrow-"+t._getDir("right")))):(n.addClass(t.toThemeProperty("jqx-menu-item-arrow-"+t._getDir("left"))),n.addClass(t.toThemeProperty("jqx-icon-arrow-"+t._getDir("left")))))):(e(i.element).removeClass(t.toThemeProperty("jqx-fill-state-pressed")),e(i.element).removeClass(t.toThemeProperty("jqx-menu-item-top-selected")),(n=e(i.arrow)).length>0&&(n.removeClass(),"left"!=i.openHorizontalDirection?(n.addClass(t.toThemeProperty("jqx-menu-item-arrow-top-"+t._getDir("right"))),n.addClass(t.toThemeProperty("jqx-icon-arrow-"+t._getDir("right")))):(n.addClass(t.toThemeProperty("jqx-menu-item-arrow-top-"+t._getDir("left"))),n.addClass(t.toThemeProperty("jqx-icon-arrow-"+t._getDir("left")))))),e.jqx.aria(e(i.element),"aria-expanded",!1),c.css({display:"none"}),t._raiseEvent("1",i)}))}
if(h>0?o.data("timer")&&(o.data("timer").hide=setTimeout(function(){u()},h)):u(),null!=n&&n){var p=o.children()
e.each(p,function(){t.menuElements[this.id]&&t.menuElements[this.id].isOpen&&(e(t.menuElements[this.id].subMenuElement),t._closeItem(t,t.menuElements[this.id],!0,!0))})}}},getSubItems:function(t,i){if(null==t)return!1
var n=this,r=new Array
null!=i&&e.extend(r,i)
var o=t,a=this.menuElements[o],s=e(a.subMenuElement).find(".jqx-menu-item")
return e.each(s,function(){r[this.id]=n.menuElements[this.id]
var t=n.getSubItems(this.id,r)
e.extend(r,t)}),r},disable:function(t,i){if(null!=t){var n=t
if(this.menuElements[n]){var r=this.menuElements[n]
r.disabled=i
var o=e(r.element)
r.element.disabled=i,e.each(o.children(),function(){this.disabled=i}),i?(o.addClass(this.toThemeProperty("jqx-menu-item-disabled")),o.addClass(this.toThemeProperty("jqx-fill-state-disabled"))):(o.removeClass(this.toThemeProperty("jqx-menu-item-disabled")),o.removeClass(this.toThemeProperty("jqx-fill-state-disabled")))}}},getItem:function(e){return this.menuElements[e]?this.menuElements[e]:null},disableItem:function(e){this.disable(e,!0)},hideItem:function(t){if(this.menuElements[t]){var i=this.menuElements[t]
e(i.element).hide()}},showItem:function(t){if(this.menuElements[t]){var i=this.menuElements[t]
e(i.element).show()}},enableItem:function(e){this.disable(e,!1)},_setItemProperty:function(e,t,i){if(null!=e){var n=e
if(this.menuElements[n]){var r=this.menuElements[n]
r[t]&&(r[t]=i)}}},setItemOpenDirection:function(t,i,n){if(null!=t){var r=t,o=this,a=e.jqx.browser.msie&&e.jqx.browser.version<8
if(this.menuElements[r]){var s=this.menuElements[r]
if(null!=i&&(s.openHorizontalDirection=i,s.hasItems&&s.level>0&&null!=(d=e(s.element)))){var l=e(s.arrow)
null==s.arrow&&(l=e('<span id="arrow'+d[0].id+'"></span>'),a?l.appendTo(d):l.prependTo(d),s.arrow=l[0]),l.removeClass(),"left"==s.openHorizontalDirection?(l.addClass(o.toThemeProperty("jqx-menu-item-arrow-"+o._getDir("left"))),l.addClass(o.toThemeProperty("jqx-icon-arrow-"+o._getDir("left")))):(l.addClass(o.toThemeProperty("jqx-menu-item-arrow-"+o._getDir("right"))),l.addClass(o.toThemeProperty("jqx-icon-arrow-"+o._getDir("right")))),l.css("visibility","inherit"),a?(l.css("display","inline-block"),l.css("float","none")):(l.css("display","block"),l.css("float","right"))}if(null!=n){s.openVerticalDirection=n,l=e(s.arrow)
var d=e(s.element)
if(!o.showTopLevelArrows)return
null!=d&&(null==s.arrow&&(l=e('<span id="arrow'+d[0].id+'"></span>'),a?l.appendTo(d):l.prependTo(d),s.arrow=l[0]),l.removeClass(),"down"==s.openVerticalDirection?(l.addClass(o.toThemeProperty("jqx-menu-item-arrow-down")),l.addClass(o.toThemeProperty("jqx-icon-arrow-down"))):(l.addClass(o.toThemeProperty("jqx-menu-item-arrow-up")),l.addClass(o.toThemeProperty("jqx-icon-arrow-up"))),l.css("visibility","inherit"),a?(l.css("display","inline-block"),l.css("float","none")):(l.css("display","block"),l.css("float","right")))}}}},_getSiblings:function(e){for(var t=new Array,i=0,n=0;n<this.items.length;n++)this.items[n]!=e&&this.items[n].parentId==e.parentId&&this.items[n].hasItems&&(t[i++]=this.items[n])
return t},_openItem:function(t,i,n){if(null==t||null==i)return!1
if(i.isOpen)return!1
if(i.disabled)return!1
if(t.disabled)return!1
var r=t.popupZIndex
null!=n&&(r=n)
var o=t.animationHideDuration
t.animationHideDuration=0,t._closeItem(t,i,!0,!0),t.animationHideDuration=o,e(i.element).focus()
var a=[5,5],s=e(i.subMenuElement)
null!=s&&s.stop(),s.data("timer")&&null!=s.data("timer").hide&&clearTimeout(s.data("timer").hide)
var l=s.closest("div.jqx-menu-popup"),d=e(i.element),c=0==i.level?this._getOffset(i.element):d.position()
if(i.level>0&&this.hasTransform){var h=parseInt(d.coord().top)-parseInt(this._getOffset(i.element).top)
c.top+=h}0==i.level&&"popup"==this.mode&&(c=d.coord())
var u=0==i.level&&"horizontal"==this.mode,p=u?c.left:null!=this.menuElements[i.parentId]&&null!=this.menuElements[i.parentId].subMenuElement?parseInt(e(e(this.menuElements[i.parentId].subMenuElement).closest("div.jqx-menu-popup")).outerWidth())-a[0]:parseInt(s.outerWidth())
if(l.css({visibility:"visible",display:"block",left:p,top:u?c.top+d.outerHeight():c.top,zIndex:r}),s.css("display","block"),"horizontal"!=this.mode&&0==i.level){var m=this._getOffset(this.element)
l.css("left",-1+m.left+this.host.outerWidth()),s.css("left",-s.outerWidth())}else{var f=this._getClosedSubMenuOffset(i)
s.css("left",f.left),s.css("top",f.top)}l.css({height:parseInt(s.outerHeight())+parseInt(a[1])+"px"})
var g=0,v=0
switch(i.openVerticalDirection){case"up":if(u){s.css("top",s.outerHeight()),g=a[1]
var b=parseInt(s.parent().css("padding-bottom"))
isNaN(b)&&(b=0),b>0&&l.addClass(this.toThemeProperty("jqx-menu-popup-clear")),s.css("top",s.outerHeight()-b),l.css({display:"block",top:c.top-l.outerHeight(),zIndex:r})}else g=a[1],s.css("top",s.outerHeight()),l.css({display:"block",top:c.top-l.outerHeight()+a[1]+d.outerHeight(),zIndex:r})
break
case"center":u?(s.css("top",0),l.css({display:"block",top:c.top-l.outerHeight()/2+a[1],zIndex:r})):(s.css("top",0),l.css({display:"block",top:c.top+d.outerHeight()/2-l.outerHeight()/2+a[1],zIndex:r}))}switch(i.openHorizontalDirection){case this._getDir("left"):u?l.css({left:c.left-(l.outerWidth()-d.outerWidth()-a[0])}):(v=0,s.css("left",l.outerWidth()),l.css({left:c.left-l.outerWidth()+2*i.level}))
break
case"center":u?l.css({left:c.left-(l.outerWidth()/2-d.outerWidth()/2-a[0]/2)}):(l.css({left:c.left-(l.outerWidth()/2-d.outerWidth()/2-a[0]/2)}),s.css("left",l.outerWidth()))}if(u){if(parseInt(s.css("top"))==g)return void(i.isOpen=!0)}else if(parseInt(s.css("left"))==v)return void i.isOpen
e.each(t._getSiblings(i),function(){t._closeItem(t,this,!0,!0)})
var y=e.data(t.element,"animationHideDelay")
t.animationHideDelay=y,this.autoCloseInterval>0&&(null!=this.host.data("autoclose")&&null!=this.host.data("autoclose").close&&clearTimeout(this.host.data("autoclose").close),null!=this.host.data("autoclose")&&(this.host.data("autoclose").close=setTimeout(function(){t._closeAll()},this.autoCloseInterval))),s.data("timer")&&(s.data("timer").show=setTimeout(function(){if(null!=l)if(u)s.stop(),s.css("left",v),e.jqx.browser.msie,d.addClass(t.toThemeProperty("jqx-fill-state-pressed")),d.addClass(t.toThemeProperty("jqx-menu-item-top-selected")),"down"==i.openVerticalDirection?(e(i.element).addClass(t.toThemeProperty("jqx-rc-b-expanded")),l.addClass(t.toThemeProperty("jqx-rc-t-expanded"))):(e(i.element).addClass(t.toThemeProperty("jqx-rc-t-expanded")),l.addClass(t.toThemeProperty("jqx-rc-b-expanded"))),(n=e(i.arrow)).length>0&&t.showTopLevelArrows&&(n.removeClass(),"down"==i.openVerticalDirection?(n.addClass(t.toThemeProperty("jqx-menu-item-arrow-down-selected")),n.addClass(t.toThemeProperty("jqx-icon-arrow-down"))):(n.addClass(t.toThemeProperty("jqx-menu-item-arrow-up-selected")),n.addClass(t.toThemeProperty("jqx-icon-arrow-up")))),0==t.animationShowDuration?(s.css({top:g}),i.isOpen=!0,t._raiseEvent("0",i),e.jqx.aria(e(i.element),"aria-expanded",!0)):s.animate({top:g},t.animationShowDuration,t.easing,function(){i.isOpen=!0,e.jqx.aria(e(i.element),"aria-expanded",!0),t._raiseEvent("0",i)})
else{var n
s.stop(),s.css("top",g),e.jqx.browser.msie,i.level>0?(d.addClass(t.toThemeProperty("jqx-fill-state-pressed")),d.addClass(t.toThemeProperty("jqx-menu-item-selected")),(n=e(i.arrow)).length>0&&(n.removeClass(),"left"!=i.openHorizontalDirection?(n.addClass(t.toThemeProperty("jqx-menu-item-arrow-"+t._getDir("right")+"-selected")),n.addClass(t.toThemeProperty("jqx-icon-arrow-"+t._getDir("right")))):(n.addClass(t.toThemeProperty("jqx-menu-item-arrow-"+t._getDir("left")+"-selected")),n.addClass(t.toThemeProperty("jqx-icon-arrow-"+t._getDir("left")))))):(d.addClass(t.toThemeProperty("jqx-fill-state-pressed")),d.addClass(t.toThemeProperty("jqx-menu-item-top-selected")),(n=e(i.arrow)).length>0&&(n.removeClass(),"left"!=i.openHorizontalDirection?(n.addClass(t.toThemeProperty("jqx-menu-item-arrow-"+t._getDir("right")+"-selected")),n.addClass(t.toThemeProperty("jqx-icon-arrow-"+t._getDir("right")))):(n.addClass(t.toThemeProperty("jqx-menu-item-arrow-"+t._getDir("left")+"-selected")),n.addClass(t.toThemeProperty("jqx-icon-arrow-"+t._getDir("left")))))),e.jqx.browser.msie,0==t.animationShowDuration?(s.css({left:v}),t._raiseEvent("0",i),i.isOpen=!0,e.jqx.aria(e(i.element),"aria-expanded",!0)):s.animate({left:v},t.animationShowDuration,t.easing,function(){t._raiseEvent("0",i),i.isOpen=!0,e.jqx.aria(e(i.element),"aria-expanded",!0)})}},this.animationShowDelay))},_getDir:function(e){switch(e){case"left":return this.rtl?"right":"left"
case"right":return this.rtl?"left":"right"}return"left"},_applyOrientation:function(t,i){var n,r=this,o=0
if(r.host.removeClass(r.toThemeProperty("jqx-menu-horizontal")),r.host.removeClass(r.toThemeProperty("jqx-menu-vertical")),r.host.removeClass(r.toThemeProperty("jqx-menu")),r.host.removeClass(r.toThemeProperty("jqx-widget")),r.host.addClass(r.toThemeProperty("jqx-widget")),r.host.addClass(r.toThemeProperty("jqx-menu")),null!=t&&null!=i&&"popup"==i){if(r.host.parent().length>0&&r.host.parent().parent().length>0&&r.host.parent().parent()[0]==document.body){var a=e.data(document.body,"jqxMenuOldHost"+r.element.id)
null!=a&&((s=r.host.closest("div.jqx-menu-wrapper")).remove(),s.appendTo(a),r.host.css("display","block"),r.host.css("visibility","visible"),s.css("display","block"),s.css("visibility","visible"))}}else null==t&&null==i&&e.data(document.body,"jqxMenuOldHost"+r.element.id,r.host.parent()[0])
switch(r.autoOpenPopup?"popup"==r.mode?(r.addHandler(e(document),"contextmenu."+r.element.id,function(e){return!1}),r.addHandler(e(document),"mousedown.menu"+r.element.id,function(e){r._openContextMenu(e)})):(r.removeHandler(e(document),"contextmenu."+r.element.id),r.removeHandler(e(document),"mousedown.menu"+r.element.id)):(r.removeHandler(e(document),"contextmenu."+r.element.id),r.removeHandler(e(document),"mousedown.menu"+r.element.id),r.addHandler(e(document),"contextmenu."+r.element.id,function(e){if(e.target&&e.target.className.indexOf&&e.target.className.indexOf("jqx-menu")>=0)return!1})),r.rtl&&r.host.addClass(r.toThemeProperty("jqx-rtl")),r.mode){case"horizontal":r.host.addClass(r.toThemeProperty("jqx-widget-header")),r.host.addClass(r.toThemeProperty("jqx-menu-horizontal")),e.each(r.items,function(){if(n=e(this.element),(t=e(this.arrow)).removeClass(),this.hasItems&&this.level>0&&((t=e('<span style="border: none; background-color: transparent;" id="arrow'+n[0].id+'"></span>')).prependTo(n),t.css("float",r._getDir("right")),t.addClass(r.toThemeProperty("jqx-menu-item-arrow-"+r._getDir("right"))),t.addClass(r.toThemeProperty("jqx-icon-arrow-"+r._getDir("right"))),this.arrow=t[0]),0==this.level){if(e(this.element).css("float",r._getDir("left")),!this.ignoretheme&&this.hasItems&&r.showTopLevelArrows){var t=e('<span style="border: none; background-color: transparent;" id="arrow'+n[0].id+'"></span>'),i=e.jqx.browser.msie&&e.jqx.browser.version<8
null==this.arrow?i?t.appendTo(n):t.prependTo(n):t=e(this.arrow),"down"==this.openVerticalDirection?(t.addClass(r.toThemeProperty("jqx-menu-item-arrow-down")),t.addClass(r.toThemeProperty("jqx-icon-arrow-down"))):(t.addClass(r.toThemeProperty("jqx-menu-item-arrow-up")),t.addClass(r.toThemeProperty("jqx-icon-arrow-up"))),t.css("visibility","inherit"),i?t.css("display","inline-block"):(t.css("display","block"),t.css("float","right")),this.arrow=t[0]}else this.ignoretheme||!this.hasItems||r.showTopLevelArrows||null!=this.arrow&&((t=e(this.arrow)).remove(),this.arrow=null)
o=Math.max(o,n.height())}})
break
case"vertical":case"popup":case"simple":if(r.host.addClass(r.toThemeProperty("jqx-menu-vertical")),e.each(r.items,function(){if(n=e(this.element),this.hasItems&&!this.ignoretheme){if(this.arrow&&e(this.arrow).remove(),"simple"==r.mode)return!0
var t=e('<span style="border: none; background-color: transparent;" id="arrow'+n[0].id+'"></span>')
t.prependTo(n),t.css("float","right"),0==this.level?(t.addClass(r.toThemeProperty("jqx-menu-item-arrow-top-"+r._getDir("right"))),t.addClass(r.toThemeProperty("jqx-icon-arrow-"+r._getDir("right")))):(t.addClass(r.toThemeProperty("jqx-menu-item-arrow-"+r._getDir("right"))),t.addClass(r.toThemeProperty("jqx-icon-arrow-"+r._getDir("right")))),this.arrow=t[0]}n.css("float","none")}),"popup"==r.mode){r.host.addClass(r.toThemeProperty("jqx-widget-content")),r.host.wrap('<div tabindex=0 class="jqx-menu-wrapper" style="z-index:'+r.popupZIndex+'; border: none; background-color: transparent; padding: 0px; margin: 0px; position: absolute; top: 0; left: 0; display: block; visibility: visible;"></div>')
var s=r.host.closest("div.jqx-menu-wrapper")
r.host.addClass(r.toThemeProperty("jqx-popup")),s[0].id="menuWrapper"+r.element.id,s.appendTo(e(document.body)),r.addHandler(s,"keydown",function(e){return r.handleKeyDown(e)})}else r.host.addClass(r.toThemeProperty("jqx-widget-header"))
if("popup"==r.mode){var l=r.host.height()
r.host.css("position","absolute"),r.host.css("top","0"),r.host.css("left","0"),"simple"!=r.mode&&(r.host.height(l),r.host.css("display","none"))}}var d=r.isTouchDevice()
r.autoCloseOnClick&&(r.removeHandler(e(document),"mousedown.menu"+r.element.id,r._closeAfterClick),r.addHandler(e(document),"mousedown.menu"+r.element.id,r._closeAfterClick,r),d&&(r.removeHandler(e(document),e.jqx.mobile.getTouchEventName("touchstart")+".menu"+r.element.id,r._closeAfterClick,r),r.addHandler(e(document),e.jqx.mobile.getTouchEventName("touchstart")+".menu"+r.element.id,r._closeAfterClick,r)))},_getBodyOffset:function(){var t=0,i=0
return"0px"!=e("body").css("border-top-width")&&(t=parseInt(e("body").css("border-top-width")),isNaN(t)&&(t=0)),"0px"!=e("body").css("border-left-width")&&(i=parseInt(e("body").css("border-left-width")),isNaN(i)&&(i=0)),{left:i,top:t}},_getOffset:function(t){var i=e.jqx.mobile.isSafariMobileBrowser(),n=e(t).coord(!0),r=n.top,o=n.left
"0px"!=e("body").css("border-top-width")&&(r=parseInt(r)+this._getBodyOffset().top),"0px"!=e("body").css("border-left-width")&&(o=parseInt(o)+this._getBodyOffset().left)
var a=e.jqx.mobile.isWindowsPhone(),s=e.jqx.mobile.isTouchDevice()
return this.hasTransform||null!=i&&i||a||s?{left:e.jqx.mobile.getLeftPos(t),top:e.jqx.mobile.getTopPos(t)}:{left:o,top:r}},_isRightClick:function(e){var t
return e||(e=window.event),e.which?t=3==e.which:e.button&&(t=2==e.button),t},_openContextMenu:function(e){this._isRightClick(e)&&this.open(parseInt(e.clientX)+5,parseInt(e.clientY)+5)},close:function(){var t=this
e.data(this.element,"contextMenuOpened"+this.element.id)&&(this.host,e.each(t.items,function(){this.hasItems&&t._closeItem(t,this)}),e.each(t.items,function(){1==this.isOpen&&e(this.subMenuElement).closest("div.jqx-menu-popup").hide(this.animationHideDuration)}),this.host.hide(this.animationHideDuration),e.data(t.element,"contextMenuOpened"+this.element.id,!1),t._raiseEvent("1",t),t._raiseEvent("5"))},open:function(t,i){if("popup"==this.mode){var n=0
"block"==this.host.css("display")&&(this.close(),n=this.animationHideDuration)
var r=this
null!=t&&null!=t||(t=0),null!=i&&null!=i||(i=0),setTimeout(function(){r.host.show(r.animationShowDuration),r.host.css("visibility","visible"),e.data(r.element,"contextMenuOpened"+r.element.id,!0),r._raiseEvent("0",r),r._raiseEvent("4",{left:t,top:i}),r.host.css("z-index",9999),null!=t&&null!=i&&r.host.css({left:t,top:i}),r.focus()},n)}},_renderHover:function(e,t,i){var n=this
t.ignoretheme||(this.addHandler(e,"mouseenter",function(){n.hoveredItem=t,t.disabled||t.separator||!n.enableHover||n.disabled||(t.level>0?(e.addClass(n.toThemeProperty("jqx-fill-state-hover")),e.addClass(n.toThemeProperty("jqx-menu-item-hover"))):(e.addClass(n.toThemeProperty("jqx-fill-state-hover")),e.addClass(n.toThemeProperty("jqx-menu-item-top-hover"))))}),this.addHandler(e,"mouseleave",function(){t.disabled||t.separator||!n.enableHover||n.disabled||(t.level>0?(e.removeClass(n.toThemeProperty("jqx-fill-state-hover")),e.removeClass(n.toThemeProperty("jqx-menu-item-hover"))):(e.removeClass(n.toThemeProperty("jqx-fill-state-hover")),e.removeClass(n.toThemeProperty("jqx-menu-item-top-hover"))))}))},_closeAfterClick:function(t){var i=null!=t?t.data:this,n=!1
i.autoCloseOnClick&&(e.each(e(t.target).parents(),function(){if(this.className.indexOf&&-1!=this.className.indexOf("jqx-menu"))return n=!0,!1}),n||(t.data=i,i._closeAll(t)))},_autoSizeHorizontalMenuItems:function(){var t=this
if(t.autoSizeMainItems&&"horizontal"==this.mode){var i,n=this.maxHeight
parseInt(n)>parseInt(this.host.height())&&(n=parseInt(this.host.height())),n=parseInt(this.host.height()),e.each(this.items,function(){if(i=e(this.element),0==this.level&&n>0){var r=i.children().length>0?parseInt(i.children().height()):i.height(),o=t.host.find("ul:first"),a=parseInt(o.css("padding-top")),s=parseInt(o.css("margin-top")),l=n-2*(s+a),d=parseInt(l)/2-r/2,c=parseInt(d),h=parseInt(d)
i.css("padding-top",c),i.css("padding-bottom",h),parseInt(i.outerHeight())>l&&(i.css("padding-top",c-1),c-=1)}})}e.each(this.items,function(){if(i=e(this.element),this.hasItems&&this.level>0&&this.arrow){var t=e(this.arrow),n=e(this.element).height()
n>15&&t.css("margin-top",(n-15)/2)}})},_nextVisibleItem:function(e,t){if(null==e||null==e)return null
for(var i=e;null!=i;)if(i=i.nextItem,this._isVisible(i)&&!i.disabled&&"separator"!==i.type){if(this.minimized)return i
if(null!=t&&i&&i.level!=t)continue
return i}return null},_prevVisibleItem:function(e,t){if(null==e||null==e)return null
for(var i=e;null!=i;)if(i=i.prevItem,this._isVisible(i)&&!i.disabled&&"separator"!==i.type){if(this.minimized)return i
if(null!=t&&i&&i.level!=t)continue
return i}return null},_parentItem:function(t){if(null==t||null==t)return null
var i=t.parentElement
if(!i)return null
var n=null
return e.each(this.items,function(){if(this.element==i)return n=this,!1}),n},_isElementVisible:function(t){return null!=t&&"none"!=e(t).css("display")&&"hidden"!=e(t).css("visibility")},_isVisible:function(e){if(null==e||null==e)return!1
if(!this._isElementVisible(e.element))return!1
var t=this._parentItem(e)
if(null==t)return!0
if(this.minimized)return!0
if(null!=t){if(!this._isElementVisible(t.element))return!1
if(!t.isOpen&&!this.minimized)return!1
for(;null!=t;){if(null!=(t=this._parentItem(t))&&!this._isElementVisible(t.element))return!1
if(null!=t&&!t.isOpen)return!1}}return!0},_render:function(t,i){this.disabled&&(this.host.addClass(this.toThemeProperty("jqx-fill-state-disabled")),this.host.addClass(this.toThemeProperty("jqx-menu-disabled"))),null==this.host.attr("tabindex")&&this.host.attr("tabindex",0)
var n=this.popupZIndex,r=[5,5],o=this
e.data(o.element,"animationHideDelay",o.animationHideDelay)
var a=this.isTouchDevice(),s=a&&(e.jqx.mobile.isWindowsPhone()||navigator.userAgent.indexOf("Touch")>=0);-1!=navigator.platform.toLowerCase().indexOf("win")&&(navigator.userAgent.indexOf("Windows Phone")>=0||navigator.userAgent.indexOf("WPDesktop")>=0||navigator.userAgent.indexOf("IEMobile")>=0||navigator.userAgent.indexOf("ZuneWP7")>=0?this.touchDevice=!0:navigator.userAgent.indexOf("Touch")>=0&&("MSPointerDown"in window||e.jqx.mobile.isWindowsPhone()||navigator.userAgent.indexOf("ARM")>=0)&&(s=!0,o.clickToOpen=!0,o.autoCloseOnClick=!1,o.enableHover=!1)),e.data(document.body,"menuel",this),this.hasTransform=e.jqx.utilities.hasTransform(this.host),this._applyOrientation(t,i),this.removeHandler(this.host,"blur"),this.removeHandler(this.host,"focus"),this.addHandler(this.host,"blur",function(t){if(o.keyboardNavigation&&o.activeItem){if("popup"===o.mode&&document.activeElement&&document.activeElement.className.indexOf("jqx-menu-wrapper")>=0)return
e(o.activeItem.element).removeClass(o.toThemeProperty("jqx-fill-state-focus")),o.activeItem=null}}),this.addHandler(this.host,"focus",function(t){if(o.keyboardNavigation&&!o.activeItem)if(o.hoveredItem)e(o.hoveredItem.element).addClass(o.toThemeProperty("jqx-fill-state-focus")),o.activeItem=o.hoveredItem
else{var i=function(){if(e.jqx.isHidden(e(o.items[0].element))){var t=o._nextVisibleItem(o.items[0],0)
t&&(e(t.element).addClass(o.toThemeProperty("jqx-fill-state-focus")),o.activeItem=t)}else e(o.items[0].element).addClass(o.toThemeProperty("jqx-fill-state-focus")),o.activeItem=o.items[0]}
o.activeItem?e.jqx.isHidden(e(o.activeItem.element))?(e(o.activeItem.element).removeClass(o.toThemeProperty("jqx-fill-state-focus")),i()):e(o.activeItem.element).addClass(o.toThemeProperty("jqx-fill-state-focus")):i()}}),this.removeHandler(this.host,"keydown"),o.handleKeyDown=function(t){if(!o.keyboardNavigation)return!0
if("input"===t.target.nodeName.toLowerCase())return!0
var i=null,n=null
if(e.each(o.items,function(){return!!this.disabled||(this.element.className.indexOf("pressed")>=0&&(n=this),this.element.className.indexOf("focus")>=0?(i=this,!1):void 0)}),!i&&n&&(i=n),i||(e(o.items[0].element).addClass(o.toThemeProperty("jqx-fill-state-focus")),o.activeItem=o.items[0],i=o.activeItem),27==t.keyCode&&(t.data=o,o._closeAll(t),i))for(var r=i;null!=r;)r.parentItem?r=r.parentItem:(e(o.activeItem.element).removeClass(o.toThemeProperty("jqx-fill-state-focus")),o.activeItem=r,e(o.activeItem.element).addClass(o.toThemeProperty("jqx-fill-state-focus")),r=r.parentItem)
if(13==t.keyCode&&i){o._raiseEvent("2",{item:i.element,event:t,type:"keyboard"})
var a=null!=i.anchor?e(i.anchor):null
if(null!=a&&a.length>0){var s=a.attr("href"),l=a.attr("target")
null!=s&&(null!=l?window.open(s,l):window.location=s)}t.preventDefault(),t.stopPropagation(),e(i.element).focus()}var d=function(e){if(null==e)return new Array
for(var t=new Array,i=0,n=0;n<o.items.length;n++)o.items[n].parentId==e.parentId&&(t[i++]=o.items[n])
return t},c=""
switch(t.keyCode){case 40:c="down"
break
case 38:c="up"
break
case 39:c="right"
break
case 37:c="left"}if(i&&"left"===i.openHorizontalDirection&&"left"===c&&(c="right"),i&&"left"===i.openHorizontalDirection&&"right"===c&&(c="left"),i&&"top"===i.openVerticalDirection&&"top"===c&&(c="bottom"),i&&"top"===i.openVerticalDirection&&"bottom"===c&&(c="top"),o.rtl&&("right"===c?c="left":"left"===c&&(c="right")),"right"===c&&!o.minimized){if(t.altKey&&(0!=i.level&&i.hasItems||"horizontal"!=o.mode))o._openItem(o,i)
else{var h=o._nextVisibleItem(i,0),u=o._nextVisibleItem(i),p=d(u)
h||(h=u),h&&(h.parentId===i.parentId&&0==h.level&&"horizontal"==o.mode||u.id==p[0].id&&0!=u.level)&&(u.id==p[0].id&&(0!=i.level||0==i.level&&"horizontal"!=o.mode)&&(h=u),e(h.element).addClass(o.toThemeProperty("jqx-fill-state-focus")),e(i.element).removeClass(o.toThemeProperty("jqx-fill-state-focus")),o.activeItem=h)}t.preventDefault(),t.stopPropagation()}if("left"===c&&!o.minimized){if(t.altKey&&(0!=i.level&&"horizontal"!==o.mode||i.level>1&&"horizontal"===o.mode||1==i.level&&i.hasItems&&"horizontal"===o.mode))i.hasItems?o._closeItem(o,i):i.parentItem&&(o._closeItem(o,i.parentItem),e(i.parentItem.element).addClass(o.toThemeProperty("jqx-fill-state-focus")),e(i.element).removeClass(o.toThemeProperty("jqx-fill-state-focus")),o.activeItem=i.parentItem)
else{var h=o._prevVisibleItem(i,0),m=i.parentItem
h&&h.parentId===i.parentId&&0==h.level&&"horizontal"==o.mode?(e(h.element).addClass(o.toThemeProperty("jqx-fill-state-focus")),e(i.element).removeClass(o.toThemeProperty("jqx-fill-state-focus")),o.activeItem=h):m&&0==m.level&&"horizontal"==o.mode||!m||m.level!=i.level-1||(e(m.element).addClass(o.toThemeProperty("jqx-fill-state-focus")),e(i.element).removeClass(o.toThemeProperty("jqx-fill-state-focus")),o.activeItem=m)}t.preventDefault(),t.stopPropagation()}if("down"===c?(t.altKey?(0==i.level&&i.hasItems&&o._openItem(o,i),o.minimized&&o.minimizedHidden&&o.minimizedItem.trigger("click")):(p=d(h=o._nextVisibleItem(i,i.level)),o.minimized&&h?(e(h.element).addClass(o.toThemeProperty("jqx-fill-state-focus")),e(i.element).removeClass(o.toThemeProperty("jqx-fill-state-focus")),o.activeItem=h):(h&&(h.parentId===i.parentId||h.id==p[0].id&&"horizontal"==o.mode)&&(0==h.level&&"horizontal"==o.mode||(e(h.element).addClass(o.toThemeProperty("jqx-fill-state-focus")),e(i.element).removeClass(o.toThemeProperty("jqx-fill-state-focus")),o.activeItem=h)),"horizontal"===o.mode&&0===i.level&&i.isOpen&&i.hasItems&&(h=o._nextVisibleItem(i),e(h.element).addClass(o.toThemeProperty("jqx-fill-state-focus")),e(i.element).removeClass(o.toThemeProperty("jqx-fill-state-focus")),o.activeItem=h))),t.preventDefault(),t.stopPropagation()):"up"===c&&(t.altKey?(i.parentItem&&0==i.parentItem.level?(o._closeItem(o,i.parentItem),e(i.parentItem.element).addClass(o.toThemeProperty("jqx-fill-state-focus")),e(i.element).removeClass(o.toThemeProperty("jqx-fill-state-focus")),o.activeItem=i.parentItem):null===i.parentItem&&0===i.level&&"horizontal"===o.mode&&o._closeItem(o,i),o.minimized&&(o.minimizedHidden||o.minimizedItem.trigger("click"))):(h=o._prevVisibleItem(i,i.level),p=d(i),o.minimized&&h?(e(h.element).addClass(o.toThemeProperty("jqx-fill-state-focus")),e(i.element).removeClass(o.toThemeProperty("jqx-fill-state-focus")),o.activeItem=h):h&&(h.parentId===i.parentId||h.id==i.parentId&&0==h.level&&"horizontal"==o.mode)?0==h.level&&"horizontal"===o.mode&&0===i.level||(e(h.element).addClass(o.toThemeProperty("jqx-fill-state-focus")),e(i.element).removeClass(o.toThemeProperty("jqx-fill-state-focus")),o.activeItem=h):i&&i.id==p[0].id&&i.parentItem&&0===i.parentItem.level&&"horizontal"===o.mode&&(h=i.parentItem,e(h.element).addClass(o.toThemeProperty("jqx-fill-state-focus")),e(i.element).removeClass(o.toThemeProperty("jqx-fill-state-focus")),o.activeItem=h)),t.preventDefault(),t.stopPropagation()),9==t.keyCode)if(h=t.shiftKey?o._prevVisibleItem(i):o._nextVisibleItem(i))e(h.element).addClass(o.toThemeProperty("jqx-fill-state-focus")),e(i.element).removeClass(o.toThemeProperty("jqx-fill-state-focus")),o.activeItem=h,t.preventDefault(),t.stopPropagation()
else if(o.lockFocus){p=new Array
for(var f=0,g=0;g<o.items.length;g++)o.items[g]!=i&&o.items[g].parentId==i.parentId&&(p[f++]=o.items[g])
p.length>0&&(t.shiftKey?(e(p[p.length-1].element).addClass(o.toThemeProperty("jqx-fill-state-focus")),o.activeItem=p[p.length-1]):(e(p[0].element).addClass(o.toThemeProperty("jqx-fill-state-focus")),o.activeItem=p[0]),e(i.element).removeClass(o.toThemeProperty("jqx-fill-state-focus"))),t.preventDefault(),t.stopPropagation()}else i&&(e(i.element).removeClass(o.toThemeProperty("jqx-fill-state-focus")),o.activeItem=null)},this.addHandler(this.host,"keydown",function(e){o.handleKeyDown(e)}),o.enableRoundedCorners&&this.host.addClass(o.toThemeProperty("jqx-rc-all")),e.each(this.items,function(){var t=this,i=e(t.element)
if(i.attr("role","menuitem"),o.enableRoundedCorners&&i.addClass(o.toThemeProperty("jqx-rc-all")),o.removeHandler(i,"click"),o.addHandler(i,"click",function(i){if(!t.disabled&&!o.disabled&&(o.keyboardNavigation&&(o.activeItem&&e(o.activeItem.element).removeClass(o.toThemeProperty("jqx-fill-state-focus")),o.activeItem=t,e(t.element).addClass(o.toThemeProperty("jqx-fill-state-focus")),o.minimized&&i.stopPropagation()),o._raiseEvent("2",{type:"mouse",item:t.element,event:i}),o.autoOpen?!o.autoCloseOnClick||a||o.clickToOpen||t.closeOnClick&&(i.data=o,o._closeAll(i)):t.level>0&&(!o.autoCloseOnClick||a||o.clickToOpen||(i.data=o,o._closeAll(i))),a&&o.autoCloseOnClick&&(i.data=o,t.hasItems||o._closeAll(i)),"A"!=i.target.tagName&&"a"!=i.target.tagName)){var n=null!=t.anchor?e(t.anchor):null
if(null!=n&&n.length>0){var r=n.attr("href"),s=n.attr("target")
null!=r&&(null!=s?window.open(r,s):window.location=r)}}}),o.removeHandler(i,"mouseenter"),o.removeHandler(i,"mouseleave"),s||"simple"==o.mode||o._renderHover(i,t,a),null!=t.subMenuElement){var l=e(t.subMenuElement)
if("simple"==o.mode)return l.show(),!0
l.wrap('<div class="jqx-menu-popup '+o.toThemeProperty("jqx-menu-popup")+'" style="border: none; background-color: transparent; z-index:'+n+'; padding: 0px; margin: 0px; position: absolute; top: 0; left: 0; display: block; visibility: hidden;"><div style="background-color: transparent; border: none; position:absolute; overflow:hidden; left: 0; top: 0; right: 0; width: 100%; height: 100%;"></div></div>'),l.css({overflow:"hidden",position:"absolute",left:0,display:"inherit",top:-l.outerHeight()}),l.data("timer",{}),t.level>0?l.css("left",-l.outerWidth()):"horizontal"==o.mode&&l.css("left",0),n++
var d=e(t.subMenuElement).closest("div.jqx-menu-popup").css({width:parseInt(e(t.subMenuElement).outerWidth())+parseInt(r[0])+"px",height:parseInt(e(t.subMenuElement).outerHeight())+parseInt(r[1])+"px"}),c=i.closest("div.jqx-menu-popup")
if(c.length>0){var h=l.css("margin-left"),u=l.css("margin-right"),p=l.css("padding-left"),m=l.css("padding-right")
d.appendTo(c),l.css("margin-left",h),l.css("margin-right",u),l.css("padding-left",p),l.css("padding-right",m)}else h=l.css("margin-left"),u=l.css("margin-right"),p=l.css("padding-left"),m=l.css("padding-right"),d.appendTo(e(document.body)),l.css("margin-left",h),l.css("margin-right",u),l.css("padding-left",p),l.css("padding-right",m)
o.clickToOpen?(o.removeHandler(i,"mousedown"),o.addHandler(i,"mousedown",function(e){clearTimeout(l.data("timer").hide),null!=l&&l.stop(),0!=t.level||t.isOpen||(e.data=o,o._closeAll(e)),t.isOpen?o._closeItem(o,t,!0):o._openItem(o,t)})):((a||s)&&(o.removeHandler(i,e.jqx.mobile.getTouchEventName("touchstart")),o.addHandler(i,e.jqx.mobile.getTouchEventName("touchstart"),function(e){return clearTimeout(l.data("timer").hide),null!=l&&l.stop(),0!=t.level||t.isOpen||"popup"==o.mode||(e.data=o,o._closeAll(e)),t.isOpen?o._closeItem(o,t,!0):o._openItem(o,t),!1})),s||(o.addHandler(i,"mouseenter",function(){if((o.autoOpen||t.level>0&&!o.autoOpen)&&clearTimeout(l.data("timer").hide),!t.parentId||0==t.parentId||!o.menuElements[t.parentId]||o.menuElements[t.parentId].isOpen)return(o.autoOpen||t.level>0&&!o.autoOpen)&&o._openItem(o,t),!1}),o.addHandler(i,"mousedown",function(){o.autoOpen||0!=t.level||(clearTimeout(l.data("timer").hide),null!=l&&l.stop(),t.isOpen?o._closeItem(o,t,!0):o._openItem(o,t))}),o.addHandler(i,"mouseleave",function(i){if(o.autoCloseOnMouseLeave){clearTimeout(l.data("timer").hide)
var n=e(t.subMenuElement),r={left:parseInt(i.pageX),top:parseInt(i.pageY)},a={left:parseInt(n.coord().left),top:parseInt(n.coord().top),width:parseInt(n.outerWidth()),height:parseInt(n.outerHeight())},s=!0
a.left-5<=r.left&&r.left<=a.left+a.width+5&&a.top<=r.top&&r.top<=a.top+a.height&&(s=!1),s&&o._closeItem(o,t,!0)}}),o.removeHandler(d,"mouseenter"),o.addHandler(d,"mouseenter",function(){clearTimeout(l.data("timer").hide)}),o.removeHandler(d,"mouseleave"),o.addHandler(d,"mouseleave",function(e){o.autoCloseOnMouseLeave&&(clearTimeout(l.data("timer").hide),clearTimeout(l.data("timer").show),null!=l&&l.stop(),o._closeItem(o,t,!0))})))}}),"simple"==this.mode&&this._renderSimpleMode(),this._autoSizeHorizontalMenuItems(),this._raiseEvent("3",this)},_renderSimpleMode:function(){this.host.show()},createID:function(){var e=Math.random()+""
for(e="99"+(e=e.replace(".","")),e/=1;this.items[e];)e=(e=Math.random()+"").replace(".",""),e/=1
return"menuItem"+e},_createMenu:function(t,i){if(null!=t){null==i&&(i=!0),null==i&&(i=!0),e(t).addClass("jqx-menu-ul")
var n=e(t).find("li"),r=0
this.itemMapping=new Array
for(var o=0;o<n.length;o++){var a=n[o],s=e(a)
if(-1!=a.className.indexOf("jqx-menu")||0!=this.autoGenerate){var l=a.id
l||(l=this.createID()),i&&(a.id=l,this.items[r]=new e.jqx._jqxMenu.jqxMenuItem,this.menuElements[l]=this.items[r]),r+=1
var d=0,c=this
s.children().each(function(){return i||(this.className="",c.autoGenerate&&(e(c.items[r-1].subMenuElement)[0].className="",c.minimized||e(c.items[r-1].subMenuElement).addClass(c.toThemeProperty("jqx-widget-content")),e(c.items[r-1].subMenuElement).addClass(c.toThemeProperty("jqx-menu-dropdown")),e(c.items[r-1].subMenuElement).addClass(c.toThemeProperty("jqx-popup")))),-1!=this.className.indexOf("jqx-menu-dropdown")?(i&&(c.items[r-1].subMenuElement=this),!1):!c.autoGenerate||"ul"!=this.tagName&&"UL"!=this.tagName?void 0:(i&&(c.items[r-1].subMenuElement=this),this.className="",c.minimized||e(this).addClass(c.toThemeProperty("jqx-widget-content")),e(this).addClass(c.toThemeProperty("jqx-menu-dropdown")),e(this).addClass(c.toThemeProperty("jqx-popup")),e(this).attr("role","menu"),c.rtl?e(this).addClass(c.toThemeProperty("jqx-rc-l")):e(this).addClass(c.toThemeProperty("jqx-rc-r")),e(this).addClass(c.toThemeProperty("jqx-rc-b")),!1)}),s.parents().each(function(){return-1!=this.className.indexOf("jqx-menu-item")?(d=this.id,!1):!c.autoGenerate||"li"!=this.tagName&&"LI"!=this.tagName?void 0:(d=this.id,!1)})
var h=!1,u=a.getAttribute("type"),p=a.getAttribute("ignoretheme")||a.getAttribute("data-ignoretheme")
p?"true"!=p&&1!=p||(p=!0):p=!1,u?"separator"==u&&(h=!0):u=a.type,h||(u=d?"sub":"top")
var m=this.items[r-1]
if(i){m.id=l,m.parentId=d,m.type=u,m.separator=h,m.element=n[o]
var f=s.children("a")
m.disabled="true"==a.getAttribute("item-disabled"),m.level=s.parents("li").length,m.anchor=f.length>0?f:null,m.anchor&&e(m.anchor).attr("tabindex",-1)}m.ignoretheme=p
var g=this.menuElements[d]
null!=g&&(g.ignoretheme&&(m.ignoretheme=g.ignoretheme,p=g.ignoretheme),m.parentItem=g,m.parentElement=g.element),this.autoGenerate&&("separator"==u?(s.removeClass(),s.addClass(this.toThemeProperty("jqx-menu-item-separator")),s.attr("role","separator")):p||(s[0].className.indexOf("jqx-grid-menu-item-touch")>=0?s[0].className=this.toThemeProperty("jqx-grid-menu-item-touch"):s[0].className="",this.rtl&&s.addClass(this.toThemeProperty("jqx-rtl")),m.level>0&&!c.minimized?(s.addClass(this.toThemeProperty("jqx-item")),s.addClass(this.toThemeProperty("jqx-menu-item"))):(s.addClass(this.toThemeProperty("jqx-item")),s.addClass(this.toThemeProperty("jqx-menu-item-top"))))),m.disabled&&(s.addClass(c.toThemeProperty("jqx-menu-item-disabled")),s.addClass(c.toThemeProperty("jqx-fill-state-disabled"))),this.itemMapping[o]={element:n[o],item:m},this.itemMapping["id"+n[o].id]=this.itemMapping[o],i&&!p&&(m.hasItems=s.find("li").length>0,m.hasItems&&m.element&&(e.jqx.aria(e(m.element),"aria-haspopup",!0),m.subMenuElement.id||(m.subMenuElement.id=e.jqx.utilities.createId()),e.jqx.aria(e(m.element),"aria-owns",m.subMenuElement.id)))}}for(var v=0;v<n.length;v++){var b=n[v]
if(this.itemMapping["id"+b.id]){if(!(m=this.itemMapping["id"+b.id].item))continue
m.prevItem=null,m.nextItem=null,v>0&&this.itemMapping["id"+n[v-1].id]&&(m.prevItem=this.itemMapping["id"+n[v-1].id].item),v<n.length-1&&this.itemMapping["id"+n[v+1].id]&&(m.nextItem=this.itemMapping["id"+n[v+1].id].item)}}}},destroy:function(){var t=this
e.jqx.utilities.resize(t.host,null,!0)
var i=t.host.closest("div.jqx-menu-wrapper")
t.removeHandler(i,"keydown"),i.remove(),t.removeHandler(e("#menuWrapper"+t.element.id),"keydown"),e("#menuWrapper"+t.element.id).remove(),t.removeHandler(t.host,"keydown"),t.removeHandler(t.host,"focus"),t.removeHandler(t.host,"blur"),t.removeHandler(e(document),"mousedown.menu"+t.element.id,t._closeAfterClick),t.removeHandler(e(document),"mouseup.menu"+t.element.id,t._closeAfterClick),t.removeHandler(e(document),"contextmenu."+t.element.id),t.removeHandler(t.host,"contextmenu."+t.element.id),e.data(document.body,"jqxMenuOldHost"+t.element.id,null),t.isTouchDevice()&&t.removeHandler(e(document),e.jqx.mobile.getTouchEventName("touchstart")+".menu"+t.element.id,t._closeAfterClick,this),e(window).off&&e(window).off("resize.menu"+t.element.id),e.each(t.items,function(){var i=e(this.element)
t.removeHandler(i,"click"),t.removeHandler(i,"selectstart"),t.removeHandler(i,"mouseenter"),t.removeHandler(i,"mouseleave"),t.removeHandler(i,"mousedown"),t.removeHandler(i,"mouseleave"),e(this.subMenuElement).closest("div.jqx-menu-popup").remove(),delete this.subMenuElement,delete this.element}),e.data(document.body,"menuel",null),delete t.menuElements,t.items=new Array,delete t.items
var n=e.data(t.element,"jqxMenu")
n&&delete n.instance,t.host.removeClass(),t.host.remove(),delete t.host,delete t.element},_raiseEvent:function(t,i){null==i&&(i={owner:null})
var n=this.events[t],r=i
r.owner=this
var o=new e.Event(n)
return"2"==t&&((r=i.item).owner=this,r.clickType=i.type,e.extend(o,i.event),o.type="itemclick"),o.owner=this,o.args=r,this.host.trigger(o)},propertiesChangedHandler:function(t,i,n){if(n.width&&n.height&&2==Object.keys(n).length&&(t._setSize(),"popup"===t.mode)){this.host.closest("div.jqx-menu-wrapper")[i](n)
var r=this.host[0].id
e("#"+r)[i](n)}},propertyChangedHandler:function(t,i,n,r){if(null!=this.isInitialized&&0!=this.isInitialized&&!(t.batchUpdate&&t.batchUpdate.width&&t.batchUpdate.height&&2==Object.keys(t.batchUpdate).length)&&("disabled"==i&&(t.disabled?(t.host.addClass(t.toThemeProperty("jqx-fill-state-disabled")),t.host.addClass(t.toThemeProperty("jqx-menu-disabled"))):(t.host.removeClass(t.toThemeProperty("jqx-fill-state-disabled")),t.host.removeClass(t.toThemeProperty("jqx-menu-disabled")))),r!=n))if("touchMode"==i&&(this._isTouchDevice=null,t._render(r,n)),"width"!==i&&"height"!==i){if("source"==i&&null!=t.source){var o=t.loadItems(t.source)
t.element.innerHTML=o
var a=t.host.find("ul:first")
a.length>0&&(t.refresh(),t._createMenu(a[0]),t._render())}"autoCloseOnClick"==i?0==r?t.removeHandler(e(document),"mousedown.menu"+this.element.id,t._closeAll):t.addHandler(e(document),"mousedown.menu"+this.element.id,t,t._closeAll):"mode"==i||"width"==i||"height"==i||"showTopLevelArrows"==i?(t.refresh(),"mode"==i?t._render(r,n):t._applyOrientation()):"theme"==i&&e.jqx.utilities.setTheme(n,r,t.host)}else if(t._setSize(),"popup"===t.mode){this.host.closest("div.jqx-menu-wrapper")[i](r)
var s=this.host[0].id
e("#"+s)[i](r)}}}),jqxBaseFramework.jqx._jqxMenu.jqxMenuItem=function(e,t,i){return{id:e,parentId:t,parentItem:null,anchor:null,type:i,disabled:!1,level:0,isOpen:!1,hasItems:!1,element:null,subMenuElement:null,arrow:null,openHorizontalDirection:"right",openVerticalDirection:"down",closeOnClick:!0}}}()
var ii=Object.freeze({})
!function(){var e;(e=jqxBaseFramework).jqx.jqxWidget("jqxListBox","",{}),e.extend(e.jqx._jqxListBox.prototype,{defineInstance:function(){var t={disabled:!1,width:null,height:null,items:new Array,multiple:!1,selectedIndex:-1,selectedIndexes:new Array,source:null,scrollBarSize:e.jqx.utilities.scrollBarSize,enableHover:!0,enableSelection:!0,visualItems:new Array,groups:new Array,equalItemsWidth:!0,itemHeight:-1,visibleItems:new Array,emptyGroupText:"Group",checkboxes:!1,hasThreeStates:!1,autoHeight:!1,autoItemsHeight:!1,roundedcorners:!0,touchMode:"auto",displayMember:"",groupMember:"",valueMember:"",searchMember:"",searchMode:"startswithignorecase",incrementalSearch:!0,incrementalSearchDelay:1e3,incrementalSearchKeyDownDelay:300,allowDrag:!1,allowDrop:!0,dropAction:"default",touchModeStyle:"auto",keyboardNavigation:!0,enableMouseWheel:!0,multipleextended:!1,selectedValues:new Array,emptyString:"",rtl:!1,rendered:null,renderer:null,dragStart:null,dragEnd:null,focusable:!0,ready:null,_checkForHiddenParent:!0,autoBind:!0,_renderOnDemand:!1,filterable:!1,filterHeight:27,filterPlaceHolder:"Looking for",filterDelay:100,filterChange:null,aria:{"aria-disabled":{name:"disabled",type:"boolean"}},events:["select","unselect","change","checkChange","dragStart","dragEnd","bindingComplete","itemAdd","itemRemove","itemUpdate"]}
return this===e.jqx._jqxListBox.prototype?t:(e.extend(!0,this,t),t)},createInstance:function(t){15!=e.jqx.utilities.scrollBarSize&&(this.scrollBarSize=e.jqx.utilities.scrollBarSize),null==this.width&&(this.width=200),null==this.height&&(this.height=200),this.renderListBox()
var i=this
e.jqx.utilities.resize(this.host,function(){i._updateSize()},!1,this._checkForHiddenParent)},resize:function(e,t){this.width=e,this.height=t,this._updateSize()},render:function(){this.renderListBox(),this.refresh()},renderListBox:function(){var t=(s=this).element.nodeName.toLowerCase()
if("select"==t||"ul"==t||"ol"==t){s.field=s.element,s.field.className&&(s._className=s.field.className)
var i={title:s.field.title}
s.field.id.length?i.id=s.field.id.replace(/[^\w]/g,"_")+"_jqxListBox":i.id=e.jqx.utilities.createId()+"_jqxListBox"
var n=e("<div></div>",i)
s.width||(s.width=e(s.field).width()),s.height||(s.height=e(s.field).outerHeight()),s.element.style.cssText=s.field.style.cssText,e(s.field).hide().after(n)
var r=s.host.data()
if(s.host=n,s.host.data(r),s.element=n[0],s.element.id=s.field.id,s.field.id=i.id,s._className&&(s.host.addClass(s._className),e(s.field).removeClass(s._className)),s.field.tabIndex){var o=s.field.tabIndex
s.field.tabIndex=-1,s.element.tabIndex=o}}else if(s.host.find("li").length>0||s.host.find("option").length>0){var a=e.jqx.parseSourceTag(this.element)
s.source=a.items}s.element.innerHTML=""
var s,l=(s=s).element.className
l+=" "+s.toThemeProperty("jqx-listbox"),l+=" "+s.toThemeProperty("jqx-reset"),l+=" "+s.toThemeProperty("jqx-rc-all"),l+=" "+s.toThemeProperty("jqx-widget"),l+=" "+s.toThemeProperty("jqx-widget-content"),s.element.className=l,null!=s.width&&-1!=s.width.toString().indexOf("%")&&s.host.width(s.width),null!=s.height&&-1!=s.height.toString().indexOf("%")&&(s.host.height(s.height),0==s.host.height()&&s.host.height(200)),null!=s.width&&-1!=s.width.toString().indexOf("px")?s.host.width(s.width):null==s.width||isNaN(s.width)||(s.element.style.width=parseInt(s.width)+"px"),null!=s.height&&-1!=s.height.toString().indexOf("px")?s.host.height(s.height):null==s.height||isNaN(s.height)||(s.element.style.height=parseInt(s.height)+"px"),s.multiple||s.multipleextended||s.checkboxes?e.jqx.aria(s,"aria-multiselectable",!0):e.jqx.aria(s,"aria-multiselectable",!1)
var d="<div style='-webkit-appearance: none; background: transparent; outline: none; width:100%; height: 100%; align:left; border: 0px; padding: 0px; margin: 0px; left: 0px; top: 0px; valign:top; position: relative;'><div style='-webkit-appearance: none; border: none; background: transparent; outline: none; width:100%; height: 100%; padding: 0px; margin: 0px; align:left; left: 0px; top: 0px; valign:top; position: relative;'><div id='filter"+s.element.id+"' style='display: none; visibility: inherit; align:left; valign:top; left: 0px; top: 0px; position: absolute;'><input style='position: absolute;'/></div><div id='listBoxContent' style='-webkit-appearance: none; border: none; background: transparent; outline: none; border: none; padding: 0px; overflow: hidden; margin: 0px; align:left; valign:top; left: 0px; top: 0px; position: absolute;'></div><div id='verticalScrollBar"+s.element.id+"' style='visibility: inherit; align:left; valign:top; left: 0px; top: 0px; position: absolute;'></div><div id='horizontalScrollBar"+s.element.id+"' style='visibility: inherit; align:left; valign:top; left: 0px; top: 0px; position: absolute;'></div><div id='bottomRight' style='align:left; valign:top; left: 0px; top: 0px; border: none; position: absolute;'/></div></div>"
s.host.attr("role","listbox"),s.element.innerHTML=d,s._checkForHiddenParent&&(s._addInput(),s.host.attr("tabIndex")||s.host.attr("tabIndex",1)),s.filter=e(s.element.firstChild.firstChild.firstChild),s.filterInput=e(s.filter[0].firstChild),s.filterInput.attr("placeholder",s.filterPlaceHolder),s.filterInput.addClass(s.toThemeProperty("jqx-widget jqx-listbox-filter-input jqx-input jqx-rc-all")),s.addHandler(s.filterInput,"keyup.textchange",function(e){13==e.keyCode?s._search(e):s.filterDelay>0&&(s._filterTimer&&clearTimeout(s._filterTimer),s._filterTimer=setTimeout(function(){s._search(e)},s.filterDelay)),e.stopPropagation()})
var c=e(s.element.firstChild.firstChild.firstChild.nextSibling.nextSibling)
if(!s.host.jqxButton)throw new Error("jqxListBox: Missing reference to jqxbuttons.js.")
if(!c.jqxScrollBar)throw new Error("jqxListBox: Missing reference to jqxscrollbar.js.")
var h=parseInt(s.host.height())/2
0==h&&(h=10),s.vScrollBar=c.jqxScrollBar({_initialLayout:!0,vertical:!0,rtl:s.rtl,theme:s.theme,touchMode:s.touchMode,largestep:h})
var u=e(s.element.firstChild.firstChild.firstChild.nextSibling.nextSibling.nextSibling)
if(s.hScrollBar=u.jqxScrollBar({_initialLayout:!0,vertical:!1,rtl:s.rtl,touchMode:s.touchMode,theme:s.theme}),s.content=e(s.element.firstChild.firstChild.firstChild.nextSibling),s.content[0].id="listBoxContent"+s.element.id,s.bottomRight=e(s.element.firstChild.firstChild.firstChild.nextSibling.nextSibling.nextSibling.nextSibling).addClass(s.toThemeProperty("jqx-listbox-bottomright")).addClass(s.toThemeProperty("jqx-scrollbar-state-normal")),s.bottomRight[0].id="bottomRight"+s.element.id,s.vScrollInstance=e.data(s.vScrollBar[0],"jqxScrollBar").instance,s.hScrollInstance=e.data(s.hScrollBar[0],"jqxScrollBar").instance,s.isTouchDevice()&&!(e.jqx.browser.msie&&e.jqx.browser.version<9)){var p=e("<div class='overlay' unselectable='on' style='z-index: 99; -webkit-appearance: none; border: none; background: black; opacity: 0.01; outline: none; border: none; padding: 0px; overflow: hidden; margin: 0px; align:left; valign:top; left: 0px; top: 0px; position: absolute;'></div>")
s.content.parent().append(p),s.overlayContent=s.host.find(".overlay"),s.filterable&&s.overlayContent.css("top","30px")}s._updateTouchScrolling(),s.host.addClass("jqx-disableselect"),s.host.jqxDragDrop},_highlight:function(e,t){var i=t.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&")
return e.replace(new RegExp("("+i+")","ig"),function(e,t){return"<b>"+t+"</b>"})},_addInput:function(){var t=this.host.attr("name")
t&&this.host.attr("name",""),this.input=e("<input type='hidden'/>"),this.host.append(this.input),this.input.attr("name",t)},_updateTouchScrolling:function(){var t=this
if(this.isTouchDevice()){t.enableHover=!1
var i=this.overlayContent?this.overlayContent:this.content
this.removeHandler(e(i),e.jqx.mobile.getTouchEventName("touchstart")+".touchScroll"),this.removeHandler(e(i),e.jqx.mobile.getTouchEventName("touchmove")+".touchScroll"),this.removeHandler(e(i),e.jqx.mobile.getTouchEventName("touchend")+".touchScroll"),this.removeHandler(e(i),"touchcancel.touchScroll"),e.jqx.mobile.touchScroll(i,t.vScrollInstance.max,function(e,i){null!=i&&"hidden"!=t.vScrollBar.css("visibility")&&(t.vScrollInstance.value,t.vScrollInstance.setPosition(i),t._lastScroll=new Date),null!=e&&"hidden"!=t.hScrollBar.css("visibility")&&(t.hScrollInstance.value,t.hScrollInstance.setPosition(e),t._lastScroll=new Date)},this.element.id,this.hScrollBar,this.vScrollBar),"visible"!=t.vScrollBar.css("visibility")&&"visible"!=t.hScrollBar.css("visibility")?e.jqx.mobile.setTouchScroll(!1,this.element.id):e.jqx.mobile.setTouchScroll(!0,this.element.id),this._arrange()}},isTouchDevice:function(){var t=e.jqx.mobile.isTouchDevice()
if(1==this.touchMode){if(this.touchDevice)return!0
if(e.jqx.browser.msie&&e.jqx.browser.version<9)return!1
this.touchDevice=!0,t=!0,e.jqx.mobile.setMobileSimulator(this.element)}else 0==this.touchMode&&(t=!1)
return t&&0!=this.touchModeStyle&&(this.scrollBarSize=e.jqx.utilities.touchScrollBarSize),t&&this.host.addClass(this.toThemeProperty("jqx-touch")),t},beginUpdate:function(){this.updatingListBox=!0},endUpdate:function(){this.updatingListBox=!1,this._addItems(),this._renderItems()},beginUpdateLayout:function(){this.updating=!0},resumeUpdateLayout:function(){this.updating=!1,this.vScrollInstance.value=0,this._render(!1)},propertiesChangedHandler:function(e,t,i){i.width&&i.height&&2==Object.keys(i).length&&(e._cachedItemHtml=new Array,e.refresh())},propertyChangedHandler:function(t,i,n,r){if(null!=this.isInitialized&&0!=this.isInitialized&&n!=r&&!(t.batchUpdate&&t.batchUpdate.width&&t.batchUpdate.height&&2==Object.keys(t.batchUpdate).length)){if("_renderOnDemand"==i&&(t._render(!1,!0),-1!=t.selectedIndex)){var o=t.selectedIndex
t.selectedIndex=-1,t._stopEvents=!0,t.selectIndex(o,!1,!0),-1==t.selectedIndex&&(t.selectedIndex=o),t._stopEvents=!1}if("filterable"==i&&t.refresh(),"filterHeight"==i&&t._arrange(),"filterPlaceHolder"==i&&t.filterInput.attr("placeholder",r),"renderer"==i&&(t._cachedItemHtml=new Array,t.refresh()),"itemHeight"==i&&t.refresh(),"source"!=i&&"checkboxes"!=i||(null==r&&n&&n.unbindBindingUpdate&&(n.unbindBindingUpdate(t.element.id),n.unbindDownloadComplete(t.element.id)),t.clearSelection(),t.refresh()),"scrollBarSize"!=i&&"equalItemsWidth"!=i||r!=n&&t._updatescrollbars(),"disabled"==i&&(t._renderItems(),t.vScrollBar.jqxScrollBar({disabled:r}),t.hScrollBar.jqxScrollBar({disabled:r})),"touchMode"==i||"rtl"==i){if(t._removeHandlers(),t.vScrollBar.jqxScrollBar({touchMode:r}),t.hScrollBar.jqxScrollBar({touchMode:r}),"touchMode"==i&&!(e.jqx.browser.msie&&e.jqx.browser.version<9)){var a=e("<div class='overlay' unselectable='on' style='z-index: 99; -webkit-appearance: none; border: none; background: black; opacity: 0.01; outline: none; border: none; padding: 0px; overflow: hidden; margin: 0px; align:left; valign:top; left: 0px; top: 0px; position: absolute;'></div>")
t.content.parent().append(a),t.overlayContent=t.host.find(".overlay")}t.filterable&&t.filterInput&&("rtl"==i&&r?t.filterInput.addClass(t.toThemeProperty("jqx-rtl")):"rtl"!=i||r||t.filterInput.removeClass(t.toThemeProperty("jqx-rtl")),t._arrange()),t._updateTouchScrolling(),t._addHandlers(),t._render(!1)}if(this.updating||"width"!=i&&"height"!=i||t._updateSize(),"theme"==i&&n!=r&&(t.hScrollBar.jqxScrollBar({theme:t.theme}),t.vScrollBar.jqxScrollBar({theme:t.theme}),t.host.removeClass(),t.host.addClass(t.toThemeProperty("jqx-listbox")),t.host.addClass(t.toThemeProperty("jqx-widget")),t.host.addClass(t.toThemeProperty("jqx-widget-content")),t.host.addClass(t.toThemeProperty("jqx-reset")),t.host.addClass(t.toThemeProperty("jqx-rc-all")),t.refresh()),"selectedIndex"==i&&(t.clearSelection(),t.selectIndex(r,!0)),"displayMember"==i||"valueMember"==i){if(n!=r){var s=t.selectedIndex
t.refresh(),t.selectedIndex=s,t.selectedIndexes[s]=s}t._renderItems()}"autoHeight"==i&&(n!=r?t._render(!1):(t._updatescrollbars(),t._renderItems())),t._checkForHiddenParent&&e.jqx.isHidden(t.host)&&e.jqx.utilities.resize(this.host,function(){t._updateSize()},!1,t._checkForHiddenParent)}},loadFromSelect:function(t){if(null!=t){var i=e("#"+t)
if(i.length>0){var n=e.jqx.parseSourceTag(i[0]),r=n.items,o=n.index
this.source=r,this.fromSelect=!0,this.clearSelection(),this.selectedIndex=o,this.selectedIndexes[this.selectedIndex]=this.selectedIndex,this.refresh()}}},invalidate:function(){this._cachedItemHtml=[],this._renderItems(),this.virtualSize=null,this._updateSize()},refresh:function(t){var i=this
if(null!=this.vScrollBar){this._cachedItemHtml=[],this.visibleItems=new Array
var n=function(e){if(1==e&&-1!=i.selectedIndex){var t=i.selectedIndex
i.selectedIndex=-1,i._stopEvents=!0,i.selectIndex(t,!1,!0),-1==i.selectedIndex&&(i.selectedIndex=t),i._stopEvents=!1}}
if(null!=this.itemswrapper&&(this.itemswrapper.remove(),this.itemswrapper=null),e.jqx.dataAdapter&&null!=this.source&&this.source._source)return this.databind(this.source,t),void n(t);(this.autoBind||!this.autoBind&&!t)&&(this.field&&this.loadSelectTag(),this.items=this.loadItems(this.source)),this._render(!1,1==t),n(t),this._raiseEvent("6")}},loadSelectTag:function(){var t=e.jqx.parseSourceTag(this.field)
this.source=t.items,-1==this.selectedIndex&&(this.selectedIndex=t.index)},_render:function(e,t){return this._renderOnDemand?(this.visibleItems=new Array,this.renderedVisibleItems=new Array,void this._renderItems()):(this._addItems(),this._renderItems(),this.vScrollInstance.setPosition(0),this._cachedItemHtml=new Array,(null==e||e)&&null!=this.items&&null!=this.items&&this.selectedIndex>=0&&this.selectedIndex<this.items.length&&this.selectIndex(this.selectedIndex,!0,!0,!0),this.allowDrag&&this._enableDragDrop&&(this._enableDragDrop(),this.isTouchDevice())?(this._removeHandlers(),this.overlayContent&&(this.overlayContent.remove(),this.overlayContent=null),this._updateTouchScrolling(),void this._addHandlers()):(this._updateTouchScrolling(),this.rendered&&this.rendered(),void(this.ready&&this.ready())))},_hitTest:function(e,t){this.filterable&&(t-=this.filterHeight)<0&&(t=0)
var i=parseInt(this.vScrollInstance.value),n=this._searchFirstVisibleIndex(t+i,this.renderedVisibleItems)
if(null!=this.renderedVisibleItems[n]&&this.renderedVisibleItems[n].isGroup)return null
if(this.renderedVisibleItems.length>0){var r=this.renderedVisibleItems[this.renderedVisibleItems.length-1]
if(r.height+r.top<t+i)return null}return n=this._searchFirstVisibleIndex(t+i),this.visibleItems[n]},_searchFirstVisibleIndex:function(e,t){null==e&&(e=parseInt(this.vScrollInstance.value))
var i=0
null!=t&&null!=t||(t=this.visibleItems)
for(var n=t.length;i<=n;){var r=parseInt((i+n)/2),o=t[r]
if(null==o)break
if(o.initialTop>e&&o.initialTop+o.height>e)n=r-1
else{if(!(o.initialTop<e&&o.initialTop+o.height<=e))return r
i=r+1}}return 0},_renderItems:function(){if(null!=this.items&&0!=this.items.length){if(1!=this.updatingListBox){var t=this.isTouchDevice(),i=this.vScrollInstance,n=this.hScrollInstance,r=parseInt(i.value),o=parseInt(n.value)
this.rtl&&"hidden"!=this.hScrollBar[0].style.visibility&&(o=n.max-o),this.items.length,this.host.width()
var a=parseInt(this.content[0].style.width),s=a+parseInt(n.max)
parseInt(this.vScrollBar[0].style.width),this.vScrollBar[0].style.visibility,"visible"!=this.hScrollBar[0].style.visibility&&(s=a),this._getVirtualItemsCount()
var l=new Array,d=0,c=parseInt(this.element.style.height)+2;-1!=this.element.style.height.indexOf("%")&&(c=this.host.outerHeight()),isNaN(c)&&(c=0)
var h=0,u=0,p=0
if(0==i.value||0==this.visibleItems.length)for(var m=0;m<this.items.length;m++)(I=this.items[m]).visible&&(I.top=-r,I.initialTop=-r,!I.isGroup&&I.visible&&(this.visibleItems[u++]=I,I.visibleIndex=u-1),this.renderedVisibleItems[p++]=I,I.left=-o,I.top+I.height>=0&&I.top-I.height<=c&&(l[d++]={index:m,item:I}),r-=I.height,r--)
var f=r>0?this._searchFirstVisibleIndex(this.vScrollInstance.value,this.renderedVisibleItems):0,g=0
d=0
for(var v=this.vScrollInstance.value,b=0;g<100+c&&null!=(I=this.renderedVisibleItems[f])&&(I.visible&&(I.left=-o,I.top+I.height-v>=0&&I.initialTop-v-I.height<=2*c&&(l[d++]={index:f,item:I})),f++,I.visible&&(g+=I.initialTop-v+I.height-g),!(++b>this.items.length-1)););if(!this._renderOnDemand){var y=this.toThemeProperty("jqx-listitem-state-normal")+" "+this.toThemeProperty("jqx-item"),_=this.toThemeProperty("jqx-listitem-state-group"),w=this.toThemeProperty("jqx-listitem-state-disabled")+" "+this.toThemeProperty("jqx-fill-state-disabled"),x=0,C=this
for(m=0;m<this.visualItems.length;m++){var S=this.visualItems[m],T=function(){var e=S[0].firstChild
C.checkboxes&&(e=S[0].lastChild),null!=e&&(e.style.visibility="hidden",e.className=""),C.checkboxes&&S.find(".chkbox").css({visibility:"hidden"})}
if(m<l.length){var I
if((I=l[m].item).initialTop-v>=c){T()
continue}var E=e(S[0].firstChild)
if(this.checkboxes&&(E=e(S[0].lastChild)),0==E.length)continue
if(null==E[0])continue
E[0].className="",E[0].style.display="block",E[0].style.visibility="inherit"
var P=""
if(P=!I.isGroup&&!this.selectedIndexes[I.index]>=0?y:_,(I.disabled||this.disabled)&&(P+=" "+w),this.roundedcorners&&(P+=" "+this.toThemeProperty("jqx-rc-all")),t&&(P+=" "+this.toThemeProperty("jqx-listitem-state-normal-touch")),E[0].className=P,this.renderer)if(I.key||(I.key=this.generatekey()),this._cachedItemHtml||(this._cachedItemHtml=new Array),this._cachedItemHtml[I.key])E[0].innerHTML!=this._cachedItemHtml[I.key]&&(E[0].innerHTML=this._cachedItemHtml[I.key])
else{var D=this.renderer(I.index,I.label,I.value)
E[0].innerHTML=D,this._cachedItemHtml[I.key]=E[0].innerHTML}else{if(-1!==this.itemHeight){var k=2+2*parseInt(E.css("padding-top"))
E[0].style.lineHeight=I.height-k+"px",E.css("vertical-align","middle")}null!=I.html&&I.html.toString().length>0?E[0].innerHTML=I.html:null!=I.label||null!=I.value?null!=I.label?(E[0].innerHTML!==I.label&&(E[0].innerHTML=I.label),""==e.trim(I.label)&&(E[0].innerHTML=this.emptyString,""==this.emptyString&&(E[0].style.height=I.height-8+"px")),this.incrementalSearch||I.disabled||null!=this.searchString&&""!=this.searchString&&(E[0].innerHTML=this._highlight(I.label.toString(),this.searchString))):null===I.label?(E[0].innerHTML=this.emptyString,""==this.emptyString&&(E[0].style.height=I.height-8+"px")):E[0].innerHTML!==I.value?E[0].innerHTML=I.value:""==I.label&&(E[0].innerHTML=" "):""!=I.label&&null!=I.label||(E[0].innerHTML="",E[0].style.height=I.height-8+"px")}if(S[0].style.left=I.left+"px",S[0].style.top=I.initialTop-v+"px",I.element=E[0],I.title&&(E[0].title=I.title),this.equalItemsWidth&&!I.isGroup){if(0==h){var A=parseInt(s)
A-=parseInt(E.outerWidth())-parseInt(E.width())
var j=1
h=A-=2*(j=null!=j?parseInt(j):0),this.checkboxes&&"hidden"==this.hScrollBar[0].style.visibility&&(h-=18)}a>this.virtualSize.width?(E[0].style.width=h+"px",I.width=h):(E[0].style.width=-4+this.virtualSize.width+"px",I.width=this.virtualSize.width-4)}else E.width()<this.host.width()&&E.width(this.host.width()-2)
if(this.rtl&&(E[0].style.textAlign="right"),this.autoItemsHeight&&(E[0].style.whiteSpace="pre-line",E.width(h),I.width=h),x=0,this.checkboxes&&!I.isGroup){0==x&&(x=(I.height-16)/2,x++),(q=e(S.children()[0]))[0].item=I,this.rtl?"0px"!=E[0].style.left&&(E[0].style.left="0px"):"18px"!=E[0].style.left&&(E[0].style.left="18px"),this.rtl&&q.css("left",8+I.width+"px"),q[0].style.top=x+"px",q[0].style.display="block",q[0].style.visibility="inherit"
var M=I.checked,N=I.checked?" "+this.toThemeProperty("jqx-checkbox-check-checked"):""
q[0].firstChild&&q[0].firstChild.firstChild&&q[0].firstChild.firstChild.firstChild&&q[0].firstChild.firstChild&&(M?q[0].firstChild.firstChild.firstChild.className=N:!1===M?q[0].firstChild.firstChild.firstChild.className="":null===M&&(q[0].firstChild.firstChild.firstChild.className=this.toThemeProperty("jqx-checkbox-check-indeterminate"))),e.jqx.ariaEnabled&&(M?S[0].setAttribute("aria-selected",!0):S[0].removeAttribute("aria-selected"))}else if(this.checkboxes){var q;(q=e(S.children()[0])).css({display:"none",visibility:"inherit"})}!I.disabled&&(!this.filterable&&this.selectedIndexes[I.visibleIndex]>=0||I.selected&&this.filterable)?(E.addClass(this.toThemeProperty("jqx-listitem-state-selected")),E.addClass(this.toThemeProperty("jqx-fill-state-pressed")),e.jqx.ariaEnabled&&(S[0].setAttribute("aria-selected",!0),this._activeElement=S[0])):this.checkboxes||e.jqx.ariaEnabled&&S[0].removeAttribute("aria-selected")}else T()}}}}else this.visibleItems=new Array},generatekey:function(){var e=function(){return(65536*(1+Math.random())|0).toString(16).substring(1)}
return e()+e()+"-"+e()+"-"+e()+"-"+e()+"-"+e()+e()+e()},_calculateVirtualSize:function(t){if(!this._renderOnDemand){var i=0,n=2,r=0,o=document.createElement("span")
this.equalItemsWidth&&e(o).css("float","left"),o.style.whiteSpace="pre"
var a=0,s=void 0===t?this.host.outerHeight():t+2
document.body.appendChild(o)
var l=this.items.length,d=this.host.width()
if(this.autoItemsHeight&&(d-=10,"hidden"!=this.vScrollBar.css("visibility")&&(d-=20)),this.autoItemsHeight||this.renderer||this.groups.length>=1||l>0&&null!=this.items[0].html&&""!=this.items[0].html){for(r=0;r<l;r++)if((!(_=this.items[r]).isGroup||""!=_.label||""!=_.html)&&_.visible){var c=""
if(_.isGroup?c+=this.toThemeProperty("jqx-listitem-state-group jqx-rc-all"):c+=this.toThemeProperty("jqx-widget jqx-listitem-state-normal jqx-rc-all"),c+=" "+this.toThemeProperty("jqx-fill-state-normal"),this.isTouchDevice()&&(c+=" "+this.toThemeProperty("jqx-touch")),o.className=c,this.autoItemsHeight){o.style.whiteSpace="pre-line"
var h=this.checkboxes?-20:0
o.style.width=h+d+"px"}if(this.renderer){var u=this.renderer(_.index,_.label,_.value)
o.innerHTML=u}else null!=_.html&&_.html.toString().length>0?o.innerHTML=_.html:null==_.label&&null==_.value||(null!=_.label?(o.innerHTML=_.label,""==_.label&&(o.innerHTML="Empty")):o.innerHTML=_.value)
var p=o.offsetHeight,m=o.offsetWidth
this.itemHeight>-1&&(p=this.itemHeight),_.height=p,_.width=m,n+=++p,i=Math.max(i,m),n<=s&&a++}}else{n=0
var f=0,g="",v=0,b=0,y=-1
for(r=0;r<l;r++){var _;(_=this.items[r]).isGroup&&""==_.label&&""==_.html||!_.visible||(c="",0==++y&&(c+=this.toThemeProperty("jqx-listitem-state-normal jqx-rc-all"),c+=" "+this.toThemeProperty("jqx-fill-state-normal"),c+=" "+this.toThemeProperty("jqx-widget"),c+=" "+this.toThemeProperty("jqx-listbox"),c+=" "+this.toThemeProperty("jqx-widget-content"),this.isTouchDevice()&&(c+=" "+this.toThemeProperty("jqx-touch"),c+=" "+this.toThemeProperty("jqx-listitem-state-normal-touch")),o.className=c,this.autoItemsHeight&&(o.style.whiteSpace="pre-line",h=this.checkboxes?-20:0,o.style.width=h+d+"px"),null==_.html||""==_.label||null==_.label?o.innerHTML="Item":null!=_.html&&_.html.toString().length>0?o.innerHTML=_.html:null==_.label&&null==_.value||(null!=_.label?null!=_.label.toString().match(new RegExp("\\w"))||null!=_.label.toString().match(new RegExp("\\d"))?o.innerHTML=_.label:o.innerHTML="Item":o.innerHTML=_.value),p=1+o.offsetHeight,this.itemHeight>-1&&(p=this.itemHeight),f=p),null!=v&&(b=v),null!=_.html&&_.html.toString().length>0?b!=(v=Math.max(v,_.html.toString().length))&&(g=_.html):null!=_.label?b!=(v=Math.max(v,_.label.length))&&(g=_.label):null!=_.value&&b!=(v=Math.max(v,_.value.length))&&(g=_.value),_.height=f,n+=f,++n<=s&&a++)}o.innerHTML=g,i=o.offsetWidth}return n+=2,a<10&&(a=10),this.filterable&&(n+=this.filterHeight),o.parentNode.removeChild(o),{width:i,height:n,itemsPerPage:a}}},_getVirtualItemsCount:function(){if(0==this.virtualItemsCount){var e=parseInt(this.host.height())/5
return e>this.items.length&&(e=this.items.length),e}return this.virtualItemsCount},_addItems:function(t){if(!this._renderOnDemand&&1!=(o=this).updatingListBox){if(null==o.items||0==o.items.length)return o.virtualSize={width:0,height:0,itemsPerPage:0},o._updatescrollbars(),o.renderedVisibleItems=new Array,void(o.itemswrapper&&o.itemswrapper.children().remove())
var i=o.host.height()
if(0==t){var n=2*(u=o._calculateVirtualSize(i)).itemsPerPage
return o.autoHeight&&(n=o.items.length),o.virtualItemsCount=Math.min(n,o.items.length),u.width,o.virtualSize=u,void o._updatescrollbars()}var r=0
o.visibleItems=new Array,o.renderedVisibleItems=new Array,o._removeHandlers(),o.allowDrag&&o._enableDragDrop&&(o.itemswrapper=null),null==o.itemswrapper&&(o.content[0].innerHTML="",o.itemswrapper=e('<div style="outline: 0 none; overflow:hidden; width:100%; position: relative;"></div>'),o.itemswrapper[0].style.height=2*i+"px",o.content[0].appendChild(o.itemswrapper[0])),n=2*(u=o._calculateVirtualSize(i)).itemsPerPage,o.autoHeight&&(n=o.items.length),o.virtualItemsCount=Math.min(n,o.items.length)
var o=this
u.width,o.virtualSize=u
var a=Math.max(o.host.width(),17+u.width)
o.itemswrapper[0].style.width=a+"px"
for(var s="",l=e.jqx.browser.msie&&e.jqx.browser.version<9?' unselectable="on"':"",d=0;d<o.virtualItemsCount;d++){var c=o.items[d]
if(s+="<div"+l+" role='option' id='listitem"+d+o.element.id+"' class='jqx-listitem-element'>",o.checkboxes){s+='<div style="background-color: transparent; padding: 0; margin: 0; position: absolute; float: left; width: 16px; height: 16px;" class="chkbox">'
var h='<div class="'+o.toThemeProperty("jqx-checkbox-default")+" "+o.toThemeProperty("jqx-fill-state-normal")+" "+o.toThemeProperty("jqx-rc-all")+'"><div style="cursor: pointer; width: 13px; height: 13px;">'
h+='<span style="width: 13px; height: 13px;" class="checkBoxCheck'+(c.checked?" "+o.toThemeProperty("jqx-checkbox-check-checked"):"")+'"></span>',s+=h+="</div></div>",s+="</div>"}s+="<span"+l+" style='white-space: pre; -ms-touch-action: none;'></span></div>"}this.WinJS?o.itemswrapper.html(s):o.itemswrapper[0].innerHTML=s
var u,p=o.itemswrapper.children()
for(d=0;d<o.virtualItemsCount;d++){c=o.items[d]
var m=e(p[d])
o.allowDrag&&o._enableDragDrop&&m.addClass("draggable"),o.checkboxes&&(e(m.children()[0]),m.css("float","left"),e(m[0].firstChild).css("float","left")),m[0].style.height=c.height+"px",m[0].style.top=r+"px",r+=c.height+1,o.visualItems[d]=m}if(o._addHandlers(),o._updatescrollbars(),o.autoItemsHeight)n=2*(u=o._calculateVirtualSize(i)).itemsPerPage,o.autoHeight&&(n=o.items.length),o.virtualItemsCount=Math.min(n,o.items.length),o=this,u.width,o.virtualSize=u,o._updatescrollbars()
e.jqx.browser.msie&&e.jqx.browser.version<8&&(o.host.attr("hideFocus",!0),o.host.find("div").attr("hideFocus",!0))}},_updatescrollbars:function(){var t=this
if(t.virtualSize){var i=t.virtualSize.height,n=t.virtualSize.width,r=t.vScrollInstance,o=t.hScrollInstance
t._arrange(!1)
var a=!1,s=t.host.outerWidth(),l=t.host.outerHeight(),d=0
if(n>s&&(d=t.hScrollBar.outerHeight()+2),i+d>l){var c=r.max
r.max=2+parseInt(i)+d-parseInt(l-2),"inherit"!=t.vScrollBar[0].style.visibility&&(t.vScrollBar[0].style.visibility="inherit",a=!0),c!=r.max&&r._arrange()}else"hidden"!=t.vScrollBar[0].style.visibility&&(t.vScrollBar[0].style.visibility="hidden",a=!0,r.setPosition(0))
var h=0
"hidden"!=t.vScrollBar[0].style.visibility&&(h=t.scrollBarSize+6)
var u=t.checkboxes?20:0
if(t.autoItemsHeight)t.hScrollBar[0].style.visibility="hidden"
else if(n>=s-h-u){var p=o.max
"inherit"==t.vScrollBar[0].style.visibility?o.max=u+h+parseInt(n)-t.host.width()+4:o.max=u+parseInt(n)-t.host.width()+6,"inherit"!=t.hScrollBar[0].style.visibility&&(t.hScrollBar[0].style.visibility="inherit",a=!0),p!=o.max&&o._arrange(),"inherit"==t.vScrollBar[0].style.visibility&&(r.max=2+parseInt(i)+t.hScrollBar.outerHeight()+2-parseInt(t.host.height()))}else"hidden"!=t.hScrollBar[0].style.visibility&&(t.hScrollBar[0].style.visibility="hidden",a=!0)
o.setPosition(0),a&&t._arrange(),t.itemswrapper&&(t.itemswrapper[0].style.width=Math.max(0,Math.max(s-2,17+n))+"px",t.itemswrapper[0].style.height=Math.max(0,2*l)+"px"),t.isTouchDevice()&&("visible"!=t.vScrollBar.css("visibility")&&"visible"!=t.hScrollBar.css("visibility")?e.jqx.mobile.setTouchScroll(!1,t.element.id):e.jqx.mobile.setTouchScroll(!0,t.element.id))}},clear:function(){this.source=null,this.clearSelection(),this.refresh()},clearSelection:function(e){for(var t=0;t<this.selectedIndexes.length;t++)this.selectedIndexes[t]&&-1!=this.selectedIndexes[t]&&this._raiseEvent("1",{index:t,type:"api",item:this.getVisibleItem(t),originalEvent:null}),this.selectedIndexes[t]=-1
this.selectedIndex=-1,this.selectedValue=null,this.selectedValues=new Array,0!=e&&this._renderItems()},unselectIndex:function(e,t){if(!isNaN(e)){this.selectedIndexes[e]=-1
for(var i=!1,n=0;n<this.selectedIndexes.length;n++){var r=this.selectedIndexes[n];-1!=r&&null!=r&&(i=!0)}if(!i){this.selectedValue=null,this.selectedIndex=-1
var o=this.getVisibleItem(e)
o&&this.selectedValues[o.value]&&(this.selectedValues[o.value]=null)}null!=t&&1!=t||(this._renderItems(),this._raiseEvent("1",{index:e,type:"api",item:this.getVisibleItem(e),originalEvent:null})),this._updateInputSelection(),this._raiseEvent("2",{index:e,type:"api",item:this.getItem(e)})}},getInfo:function(){var e=this,t=this.getItems(),i=this.getVisibleItems(),n=function(){var t=e.vScrollInstance.value
e.filterable&&(t-=e.filterHeight)
for(var n=new Array,r=0;r<i.length;r++){var o=i[r]
if(o){var a=o.initialTop,s=!0;(a+o.height-t<0||a-t>=e.host.height())&&(s=!1),s&&n.push(o)}}return n}()
return{items:t,visibleItems:i,viewItems:n}},getItem:function(t){if(-1==t||isNaN(t)||"string"==typeof t)return-1===t?null:this.getItemByValue(t)
var i=null
return e.each(this.items,function(){if(this.index==t)return i=this,!1}),i},getVisibleItem:function(e){return-1==e||isNaN(e)||"string"==typeof e?-1===e?null:this.getItemByValue(e):this.visibleItems[e]},getVisibleItems:function(){return this.visibleItems},checkIndex:function(t,i,n){if(this.checkboxes&&!isNaN(t)&&!(t<0||t>=this.visibleItems.length||null!=this.visibleItems[t]&&this.visibleItems[t].disabled||this.disabled)){var r=this.getItem(t);(this.groups.length>0||this.filterable)&&(r=this.getVisibleItem(t)),null!=r&&(e(r.checkBoxElement),r.checked=!0,null!=i&&1!=i||this._updateCheckedItems()),null!=n&&1!=n||this._raiseEvent(3,{label:r.label,value:r.value,checked:!0,item:r})}},getCheckedItems:function(){if(!this.checkboxes)return null
var t=new Array
return null!=this.items?(e.each(this.items,function(){this.checked&&(t[t.length]=this)}),t):void 0},checkAll:function(t){if(this.checkboxes&&!this.disabled){var i=this
e.each(this.items,function(){!1!==t&&!0!==this.checked&&i._raiseEvent(3,{label:this.label,value:this.value,checked:!0,item:this}),this.checked=!0}),this._updateCheckedItems()}},uncheckAll:function(t){if(this.checkboxes&&!this.disabled){var i=this
e.each(this.items,function(){!1!==t&&!1!==this.checked&&(this.checked=!1,i._raiseEvent(3,{label:this.label,value:this.value,checked:!1,item:this})),this.checked=!1}),this._updateCheckedItems()}},uncheckIndex:function(t,i,n){if(this.checkboxes&&!isNaN(t)&&!(t<0||t>=this.visibleItems.length||null!=this.visibleItems[t]&&this.visibleItems[t].disabled||this.disabled)){var r=this.getItem(t);(this.groups.length>0||this.filterable)&&(r=this.getVisibleItem(t)),null!=r&&(e(r.checkBoxElement),r.checked=!1,null!=i&&1!=i||this._updateCheckedItems()),null!=n&&1!=n||this._raiseEvent(3,{label:r.label,value:r.value,checked:!1,item:r})}},indeterminateIndex:function(t,i,n){if(this.checkboxes&&!isNaN(t)&&!(t<0||t>=this.visibleItems.length||null!=this.visibleItems[t]&&this.visibleItems[t].disabled||this.disabled)){var r=this.getItem(t);(this.groups.length>0||this.filterable)&&(r=this.getVisibleItem(t)),null!=r&&(e(r.checkBoxElement),r.checked=null,null!=i&&1!=i||this._updateCheckedItems()),null!=n&&1!=n||this._raiseEvent(3,{checked:null})}},getSelectedIndex:function(){return this.selectedIndex},getSelectedItems:function(){var e=this.getVisibleItems(),t=this.selectedIndexes,i=[]
for(var n in t)-1!=t[n]&&(i[i.length]=e[n])
return i},getSelectedItem:function(){var e=this.getSelectedItems()
return e&&e.length>0?e[0]:null},_updateCheckedItems:function(){var t=this.selectedIndex
this.clearSelection(!1),this.getCheckedItems(),this.selectedIndex=t,this._renderItems()
var i=e.data(this.element,"hoveredItem")
null!=i&&(e(i).addClass(this.toThemeProperty("jqx-listitem-state-hover")),e(i).addClass(this.toThemeProperty("jqx-fill-state-hover"))),this._updateInputSelection()},getItemByValue:function(t){if(null!=this.visibleItems){if(t&&t.value&&(t=t.value),this.itemsByValue)return this.itemsByValue[e.trim(t).split(" ").join("?")]
for(var i=this.visibleItems,n=0;n<i.length;n++)if(i[n].value==t)return i[n]}},checkItem:function(e){if(null!=e){var t=this._getItemByParam(e)
return this.checkIndex(t.visibleIndex,!0)}return!1},uncheckItem:function(e){if(null!=e){var t=this._getItemByParam(e)
return this.uncheckIndex(t.visibleIndex,!0)}return!1},indeterminateItem:function(e){if(null!=e){var t=this._getItemByParam(e)
return this.indeterminateIndex(t.visibleIndex,!0)}return!1},val:function(e){if(this.input){if(function(t){for(var i in t)if(t.hasOwnProperty(i))return!1
return"number"!=typeof e&&"date"!=typeof e&&"boolean"!=typeof e&&"string"!=typeof e}(e)||0==arguments.length)return this.input.val()
var t=this.getItemByValue(e)
return null!=t&&this.selectItem(t),this.input?this.input.val():void 0}},selectItem:function(e){if(null!=e){if(null==e.index){var t=this.getItemByValue(e)
t&&(e=t)}return this.selectIndex(e.visibleIndex,!0)}return this.clearSelection(),!1},unselectItem:function(e){if(null!=e){if(null==e.index){var t=this.getItemByValue(e)
t&&(e=t)}return this.unselectIndex(e.visibleIndex,!0)}return!1},selectIndex:function(e,t,i,n,r,o){if(!isNaN(e)){var a=this.selectedIndex
if(this.filterable&&(this.selectedIndex=-1),!(e<-1||e>=this.visibleItems.length||null!=this.visibleItems[e]&&this.visibleItems[e].disabled||this.disabled)){if(this.multiple||this.multipleextended||this.selectedIndex!=e||n||this.checkboxes){if(this.checkboxes){this._updateCheckedItems()
var s=a
this.selectedIndex!=e||this.multiple||(s=-1),null==r&&(r="none")
var l=this.getItem(e),d=this.getItem(s)
return this.visibleItems&&this.items&&this.visibleItems.length!=this.items.length&&(l=this.getVisibleItem(e),d=this.getVisibleItem(s)),this._raiseEvent("1",{index:s,type:r,item:d,originalEvent:o}),this.selectedIndex=e,this.selectedIndexes[s]=-1,this.selectedIndexes[e]=e,l&&(this.selectedValue=l.value,this.selectedValues[l.value]=l.value),this._raiseEvent("0",{index:e,type:r,item:l,originalEvent:o}),void this._renderItems()}this.focused=!0
var c=!1
if(this.selectedIndex!=e&&(c=!0),s=a,this.selectedIndex!=e||this.multiple||(s=-1),null==r&&(r="none"),l=this.getItem(e),d=this.getItem(s),this.visibleItems&&this.items&&this.visibleItems.length!=this.items.length&&(l=this.getVisibleItem(e),d=this.getVisibleItem(s)),null!=n&&n)this._raiseEvent("1",{index:s,type:r,item:d,originalEvent:o}),this.selectedIndex=e,this.selectedIndexes[s]=-1,this.selectedIndexes[e]=e,l&&(this.selectedValue=l.value,this.selectedValues[l.value]=l.value),this._raiseEvent("0",{index:e,type:r,item:l,originalEvent:o})
else{var h=this,u=function(e,t,i,n,r,o){h._raiseEvent("1",{index:t,type:i,item:n,originalEvent:o}),h.selectedIndex=e,h.selectedIndexes=[],t=e,h.selectedIndexes[e]=e,h.selectedValues=new Array,r&&(h.selectedValues[r.value]=r.value),h._raiseEvent("0",{index:e,type:i,item:r,originalEvent:o})},p=function(e,t,i,n,r,o){null==h.selectedIndexes[e]||-1==h.selectedIndexes[e]?(h.selectedIndexes[e]=e,h.selectedIndex=e,r&&(h.selectedValues[r.value]=r.value,h._raiseEvent("0",{index:e,type:i,item:r,originalEvent:o}))):(t=h.selectedIndexes[e],(n=h.getVisibleItem(t))&&(h.selectedValues[n.value]=null),h.selectedIndexes[e]=-1,h.selectedIndex=-1,h._raiseEvent("1",{index:t,type:i,item:n,originalEvent:o}))}
if(this.multipleextended)if(this._shiftKey||this._ctrlKey){if(this._ctrlKey)"keyboard"==r&&(this.clearSelection(!1),h._clickedIndex=e),p(e,s,r,d,l,o)
else if(this._shiftKey){null==h._clickedIndex&&(h._clickedIndex=s)
var m=Math.min(h._clickedIndex,e),f=Math.max(h._clickedIndex,e)
this.clearSelection(!1)
for(var g=m;g<=f;g++)h.selectedIndexes[g]=g,h.selectedValues[h.getVisibleItem(g).value]=h.getVisibleItem(g).value,h._raiseEvent("0",{index:g,type:r,item:this.getVisibleItem(g),originalEvent:o})
h.selectedIndex="keyboard"!=r?h._clickedIndex:e}}else"keyboard"!=r&&"mouse"!=r?(p(e,s,r,d,l,o),h._clickedIndex=e):(this.clearSelection(!1),h._clickedIndex=e,u(e,s,r,d,l,o))
else this.multiple?p(e,s,r,d,l,o):(l&&(this.selectedValue=l.value),u(e,s,r,d,l,o))}return null!=i&&1!=i||this._renderItems(),null!=t&&null!=t&&1==t&&this.ensureVisible(e),this._raiseEvent("2",{index:e,item:l,oldItem:d,type:r,originalEvent:o}),this._updateInputSelection(),c}this.visibleItems&&this.items&&this.visibleItems.length!=this.items.length&&(l=this.getVisibleItem(e))&&(this.selectedValue=l.value,this.selectedValues[l.value]=l.value)}}},_updateInputSelection:function(){this._syncSelection()
var t=new Array
if(this.input&&(-1==this.selectedIndex?this.input.val(""):this.items&&null!=this.items[this.selectedIndex]&&(this.input.val(this.items[this.selectedIndex].value),t.push(this.items[this.selectedIndex].value)),this.multiple||this.multipleextended||this.checkboxes)){var i=this.checkboxes?this.getCheckedItems():this.getSelectedItems(),n=""
if(i){for(var r=0;r<i.length;r++)null!=i[r]&&(r==i.length-1?n+=i[r].value:n+=i[r].value+",",t.push(i[r].value))
this.input.val(n)}}this.field&&this.input&&("select"==this.field.nodeName.toLowerCase()?e.each(this.field,function(i,n){e(this).removeAttr("selected"),this.selected=t.indexOf(this.value)>=0,this.selected&&e(this).attr("selected",!0)}):e.each(this.items,function(i,n){e(this.originalItem.originalItem).removeAttr("data-selected"),this.selected=t.indexOf(this.value)>=0,this.selected&&e(this.originalItem.originalItem).attr("data-selected",!0)}))},isIndexInView:function(e){if(isNaN(e))return!1
if(!this.items)return!1
if(e<0||e>=this.items.length)return!1
var t=this.vScrollInstance.value,i=0
this.filterable&&(i=this.filterHeight)
var n=this.visibleItems[e]
if(null==n)return!0
var r=n.initialTop,o=n.height
return!(r-t<i||r-t+i+o>=this.host.outerHeight())},_itemsInPage:function(){var t=0,i=this
return this.items&&e.each(this.items,function(){if(this.initialTop+this.height>=i.content.height())return!1
t++}),t},_firstItemIndex:function(){return null!=this.visibleItems?this.visibleItems[0]&&this.visibleItems[0].isGroup?this._nextItemIndex(0):0:-1},_lastItemIndex:function(){return null!=this.visibleItems?this.visibleItems[this.visibleItems.length-1]&&this.visibleItems[this.visibleItems.length-1].isGroup?this._prevItemIndex(this.visibleItems.length-1):this.visibleItems.length-1:-1},_nextItemIndex:function(e){for(var t=e+1;t<this.visibleItems.length;t++)if(this.visibleItems[t]&&!this.visibleItems[t].disabled&&!this.visibleItems[t].isGroup)return t
return-1},_prevItemIndex:function(e){for(var t=e-1;t>=0;t--)if(this.visibleItems[t]&&!this.visibleItems[t].disabled&&!this.visibleItems[t].isGroup)return t
return-1},clearFilter:function(){this.filterInput.val(""),this._updateItemsVisibility("")},_search:function(e){var t=this.filterInput.val()
if(9!=e.keyCode&&"none"!=this.searchMode&&null!=this.searchMode&&"undefined"!=this.searchMode&&16!=e.keyCode&&17!=e.keyCode&&20!=e.keyCode)return 37!=e.keyCode&&39!=e.keyCode&&void(e.altKey||18==e.keyCode||e.keyCode>=33&&e.keyCode<=40||(e.ctrlKey||e.metaKey||this.ctrlKey)&&88!=e.keyCode&&86!=e.keyCode||t!==this.searchString&&this._updateItemsVisibility(t))},_updateItemsVisibility:function(t){var i=this.getItems()
if(null==i)return{index:-1,matchItem:new Array}
var n=this,r=new Array,o=0
e.each(i,function(i){var a=""
if(!this.isGroup){a=(a=this.searchLabel?this.searchLabel:this.label?this.label:this.value?this.value:this.title?this.title:"jqxItem").toString()
var s=!1
switch(n.searchMode){case"containsignorecase":s=e.jqx.string.containsIgnoreCase(a,t)
break
case"contains":s=e.jqx.string.contains(a,t)
break
case"equals":s=e.jqx.string.equals(a,t)
break
case"equalsignorecase":s=e.jqx.string.equalsIgnoreCase(a,t)
break
case"startswith":s=e.jqx.string.startsWith(a,t)
break
case"startswithignorecase":s=e.jqx.string.startsWithIgnoreCase(a,t)
break
case"endswith":s=e.jqx.string.endsWith(a,t)
break
case"endswithignorecase":s=e.jqx.string.endsWithIgnoreCase(a,t)}s||(this.visible=!1),s&&(r[o++]=this,this.visible=!0,this.visibleIndex),""==t&&(this.visible=!0,s=!1)}}),n.renderedVisibleItems=new Array,n.visibleItems=new Array,n.vScrollInstance.setPosition(0,!0),n._addItems(!1),n._renderItems()
for(var a=0;a<n.items.length;a++)n.selectedIndexes[a]=-1
for(var s in n.selectedIndex=-1,n.selectedValues){t=n.selectedValues[s]
var l=n.getItemByValue(t)
l&&l.visible&&(n.selectedIndex=l.visibleIndex,n.selectedIndexes[l.visibleIndex]=l.visibleIndex)}n._syncSelection(),n.filterChange&&n.filterChange(t)},_getMatches:function(t,i){if(null==t||0==t.length)return-1
null==i&&(i=0)
var n=this.getItems(),r=this,o=-1
return e.each(n,function(n){var a=""
if(!this.isGroup){a=this.searchLabel?this.searchLabel.toString():this.label?this.label.toString():this.value?this.value.toString():this.title?this.title.toString():"jqxItem"
var s=!1
switch(r.searchMode){case"containsignorecase":s=e.jqx.string.containsIgnoreCase(a,t)
break
case"contains":s=e.jqx.string.contains(a,t)
break
case"equals":s=e.jqx.string.equals(a,t)
break
case"equalsignorecase":s=e.jqx.string.equalsIgnoreCase(a,t)
break
case"startswith":s=e.jqx.string.startsWith(a,t)
break
case"startswithignorecase":s=e.jqx.string.startsWithIgnoreCase(a,t)
break
case"endswith":s=e.jqx.string.endsWith(a,t)
break
case"endswithignorecase":s=e.jqx.string.endsWithIgnoreCase(a,t)}if(s&&this.visibleIndex>=i)return o=this.visibleIndex,!1}}),o},findItems:function(t){var i=this.getItems(),n=this,r=0,o=new Array
return e.each(i,function(i){var a=""
if(!this.isGroup){a=this.label?this.label:this.value?this.value:this.title?this.title:"jqxItem"
var s=!1
switch(n.searchMode){case"containsignorecase":s=e.jqx.string.containsIgnoreCase(a,t)
break
case"contains":s=e.jqx.string.contains(a,t)
break
case"equals":s=e.jqx.string.equals(a,t)
break
case"equalsignorecase":s=e.jqx.string.equalsIgnoreCase(a,t)
break
case"startswith":s=e.jqx.string.startsWith(a,t)
break
case"startswithignorecase":s=e.jqx.string.startsWithIgnoreCase(a,t)
break
case"endswith":s=e.jqx.string.endsWith(a,t)
break
case"endswithignorecase":s=e.jqx.string.endsWithIgnoreCase(a,t)}s&&(o[r++]=this)}}),o},_syncSelection:function(){if(this.filterable){if(this.items)for(var e=0;e<this.items.length;e++)(t=this.items[e]).selected=!1
for(e=0;e<this.visibleItems.length;e++){var t=this.visibleItems[e]
this.selectedIndexes&&this.selectedIndexes[e]==t.visibleIndex&&(t.selected=!0)}this.itemswrapper&&this._renderItems()}},_handleKeyDown:function(e){var t=e.keyCode,i=this,n=i.selectedIndex,r=i.selectedIndex
if(this.keyboardNavigation&&this.enableSelection&&(!this.filterInput||e.target!=this.filterInput[0])){var o,a=function(){(i.multiple||i.checkboxes)&&i.clearSelection(!1)}
if(e.altKey&&(t=-1),32==t&&this.checkboxes)return null!=(o=this.getItem(n))&&(i._updateItemCheck(o,n),e.preventDefault()),i._searchString="",i.selectIndex(o.visibleIndex,!1,!0,!0,"keyboard",e),void i._renderItems()
if(i.incrementalSearch){var s=-1
i._searchString||(i._searchString=""),(8==t||46==t)&&i._searchString.length>=1&&(i._searchString=i._searchString.substr(0,i._searchString.length-1))
var l=String.fromCharCode(t),d=!isNaN(parseInt(l)),c=!1
if(t>=65&&t<=97||d||8==t||32==t||46==t){e.shiftKey||(l=l.toLocaleLowerCase())
var h=1+i.selectedIndex
8!=t&&32!=t&&46!=t&&(i._searchString.length>0&&i._searchString.substr(0,1)==l?(h=1+i.selectedIndex,i._searchString+=l):i._searchString+=l),32==t&&(i._searchString+=" ")
var u=this._getMatches(i._searchString,h);(s=u)!=i._lastMatchIndex&&-1!=s||(u=this._getMatches(i._searchString,0),s=u),i._lastMatchIndex=s,s>=0&&(i._toSelectTimer&&clearTimeout(i._toSelectTimer),i._toSelectTimer=setTimeout(function(){a(),i.selectIndex(s,!1,!1,!1,"keyboard",e),i.isIndexInView(s)?i._renderItems():i.ensureVisible(s)},i.incrementalSearchKeyDownDelay)),c=!0}if(null!=i._searchTimer&&clearTimeout(i._searchTimer),27!=t&&13!=t||(i._searchString=""),i._searchTimer=setTimeout(function(){i._searchString="",i._renderItems()},i.incrementalSearchDelay),s>=0)return
if(c)return!1}if(33==t){var p=i._itemsInPage()
i.selectedIndex-p>=0?(a(),i.selectIndex(r-p,!1,!1,!1,"keyboard",e)):(a(),i.selectIndex(i._firstItemIndex(),!1,!1,!1,"keyboard",e)),i._searchString=""}if(32==t&&this.checkboxes&&(null!=(o=this.getItem(n))&&(i._updateItemCheck(o,n),e.preventDefault()),i._searchString=""),36==t&&(a(),i.selectIndex(i._firstItemIndex(),!1,!1,!1,"keyboard",e),i._searchString=""),35==t&&(a(),i.selectIndex(i._lastItemIndex(),!1,!1,!1,"keyboard",e),i._searchString=""),34==t&&(p=i._itemsInPage(),i.selectedIndex+p<i.visibleItems.length?(a(),i.selectIndex(r+p,!1,!1,!1,"keyboard",e)):(a(),i.selectIndex(i._lastItemIndex(),!1,!1,!1,"keyboard",e)),i._searchString=""),38==t){if(i._searchString="",!(i.selectedIndex>0))return!1
if((m=i._prevItemIndex(i.selectedIndex))==i.selectedIndex||-1==m)return!0
a(),i.selectIndex(m,!1,!1,!1,"keyboard",e)}else if(40==t){if(i._searchString="",!(i.selectedIndex+1<i.visibleItems.length))return!1
var m
if((m=i._nextItemIndex(i.selectedIndex))==i.selectedIndex||-1==m)return!0
a(),i.selectIndex(m,!1,!1,!1,"keyboard",e)}return 35!=t&&36!=t&&38!=t&&40!=t&&34!=t&&33!=t||(i.isIndexInView(i.selectedIndex)?i._renderItems():i.ensureVisible(i.selectedIndex),!1)}},_updateItemCheck:function(e,t){if(!this.disabled)switch(1==e.checked?e.checked=!(!e.hasThreeStates||!this.hasThreeStates)&&null:e.checked=null!=e.checked,e.checked){case!0:this.checkIndex(t)
break
case!1:this.uncheckIndex(t)
break
default:this.indeterminateIndex(t)}},wheel:function(e,t){if(t.autoHeight||!t.enableMouseWheel)return e.returnValue=!0,!0
if(t.disabled)return!0
var i=0
if(e||(e=window.event),e.originalEvent&&e.originalEvent.wheelDelta&&(e.wheelDelta=e.originalEvent.wheelDelta),e.wheelDelta?i=e.wheelDelta/120:e.detail&&(i=-e.detail/3),i){var n=t._handleDelta(i)
return n&&(e.preventDefault&&e.preventDefault(),null!=e.originalEvent&&(e.originalEvent.mouseHandled=!0),null!=e.stopPropagation&&e.stopPropagation()),!!n&&(n=!1,e.returnValue=n,n)}e.preventDefault&&e.preventDefault(),e.returnValue=!1},_handleDelta:function(e){var t=this.vScrollInstance.value
return e<0?this.scrollDown():this.scrollUp(),t!=this.vScrollInstance.value},focus:function(){try{this.focused=!0,this.host.focus()
var e=this
setTimeout(function(){e.host.focus()},25)}catch(e){}},_removeHandlers:function(){this.removeHandler(e(document),"keydown.listbox"+this.element.id),this.removeHandler(e(document),"keyup.listbox"+this.element.id),this.removeHandler(this.vScrollBar,"valueChanged"),this.removeHandler(this.hScrollBar,"valueChanged"),this._mousewheelfunc?this.removeHandler(this.host,"mousewheel",this._mousewheelfunc):this.removeHandler(this.host,"mousewheel"),this.removeHandler(this.host,"keydown"),this.removeHandler(this.content,"mouseleave"),this.removeHandler(this.content,"focus"),this.removeHandler(this.content,"blur"),this.removeHandler(this.host,"focus"),this.removeHandler(this.host,"blur"),this.removeHandler(this.content,"mouseenter"),this.removeHandler(this.content,"mouseup"),this.removeHandler(this.content,"mousedown"),this.removeHandler(this.content,"touchend"),this._mousemovefunc?this.removeHandler(this.content,"mousemove",this._mousemovefunc):this.removeHandler(this.content,"mousemove"),this.removeHandler(this.content,"selectstart"),this.overlayContent&&this.removeHandler(this.overlayContent,e.jqx.mobile.getTouchEventName("touchend"))},_updateSize:function(){if(this.virtualSize||(this._oldheight=null,this.virtualSize=this._calculateVirtualSize()),this._arrange(),this.host.height()!=this._oldheight||this.host.width()!=this._oldwidth){if(this.host.width(),this._oldwidth,this.autoItemsHeight)this._render(!1)
else if(this.items)if(this.items.length>0&&this.virtualItemsCount*this.items[0].height<this._oldheight-2)this._render(!1)
else{var e=this.vScrollInstance.value
this._updatescrollbars(),this._renderItems(),e<this.vScrollInstance.max?this.vScrollInstance.setPosition(e):this.vScrollInstance.setPosition(this.vScrollInstance.max)}this._oldwidth=this.host.width(),this._oldheight=this.host.height()}},_addHandlers:function(){var t=this
this.focused=!1,new Date
var i=this.isTouchDevice()
this.addHandler(this.vScrollBar,"valueChanged",function(i){e.jqx.browser.msie&&e.jqx.browser.version>9?setTimeout(function(){t._renderItems()},1):t._renderItems()}),this.addHandler(this.hScrollBar,"valueChanged",function(){t._renderItems()}),this._mousewheelfunc&&this.removeHandler(this.host,"mousewheel",this._mousewheelfunc),this._mousewheelfunc=function(e){t.wheel(e,t)},this.addHandler(this.host,"mousewheel",this._mousewheelfunc),this.addHandler(e(document),"keydown.listbox"+this.element.id,function(e){t._ctrlKey=e.ctrlKey||e.metaKey,t._shiftKey=e.shiftKey}),this.addHandler(e(document),"keyup.listbox"+this.element.id,function(e){t._ctrlKey=e.ctrlKey||e.metaKey,t._shiftKey=e.shiftKey}),this.addHandler(this.host,"keydown",function(e){return t._handleKeyDown(e)}),this.addHandler(this.content,"mouseleave",function(i){t.focused=!1
var n=e.data(t.element,"hoveredItem")
null!=n&&(e(n).removeClass(t.toThemeProperty("jqx-listitem-state-hover")),e(n).removeClass(t.toThemeProperty("jqx-fill-state-hover")),e.data(t.element,"hoveredItem",null))}),this.addHandler(this.content,"focus",function(e){t.disabled||(t.host.addClass(t.toThemeProperty("jqx-fill-state-focus")),t.focused=!0)}),this.addHandler(this.content,"blur",function(e){t.focused=!1,t.host.removeClass(t.toThemeProperty("jqx-fill-state-focus"))}),this.addHandler(this.host,"focus",function(e){t.disabled||(t.host.addClass(t.toThemeProperty("jqx-fill-state-focus")),t.focused=!0)}),this.addHandler(this.host,"blur",function(i){e.jqx.browser.msie&&e.jqx.browser.version<9&&t.focused||(t.host.removeClass(t.toThemeProperty("jqx-fill-state-focus")),t.focused=!1)}),this.addHandler(this.content,"mouseenter",function(e){t.focused=!0})
var n=e.jqx.utilities.hasTransform(this.host)
if(this.enableSelection){var r=t.isTouchDevice()&&!0!==this.touchMode,o=r?"touchend":"mousedown"
if(this.overlayContent)this.addHandler(this.overlayContent,e.jqx.mobile.getTouchEventName("touchend"),function(i){if(!t.enableSelection)return!0
if(r&&(t._newScroll=new Date,t._newScroll-t._lastScroll<500))return!0
var n=e.jqx.mobile.getTouches(i)[0]
if(null!=n){var o=t.host.offset(),a=parseInt(n.pageX),s=parseInt(n.pageY)
1==t.touchMode&&null!=n._pageX&&(a=parseInt(n._pageX),s=parseInt(n._pageY)),a-=o.left,s-=o.top
var l=t._hitTest(a,s)
if(null!=l&&!l.isGroup){if(t._newScroll=new Date,t._newScroll-t._lastScroll<500)return!1
if(t.checkboxes)return void t._updateItemCheck(l,l.visibleIndex)
if(-1==l.html.indexOf("href"))return t.selectIndex(l.visibleIndex,!1,!0,!1,"mouse",i),i.preventDefault&&i.preventDefault(),t.content.trigger("click"),!1
setTimeout(function(){return t.selectIndex(l.visibleIndex,!1,!0,!1,"mouse",i),t.content.trigger("click"),!1},100)}}})
else{var a=!1
this.addHandler(this.content,o,function(i){if(!t.enableSelection)return!0
if(a=!0,r&&(t._newScroll=new Date,t._newScroll-t._lastScroll<500))return!1
if(t.focused=!0,!t.isTouchDevice()&&t.focusable&&t.host.focus(),i.target.id!="listBoxContent"+t.element.id&&t.itemswrapper[0]!=i.target){var s=i.target,l=e(s).offset(),d=t.host.offset()
if(n){var c=e.jqx.mobile.getLeftPos(s),h=e.jqx.mobile.getTopPos(s)
l.left=c,l.top=h,c=e.jqx.mobile.getLeftPos(t.element),h=e.jqx.mobile.getTopPos(t.element),d.left=c,d.top=h}var u=parseInt(l.top)-parseInt(d.top),p=parseInt(l.left)-parseInt(d.left),m=t._hitTest(p,u)
if(null!=m&&!m.isGroup){var f=function(e,i){t._shiftKey||(t._clickedIndex=e.visibleIndex),t.checkboxes?(p=20+i.pageX-l.left,t.rtl?("hidden"!=t.hScrollBar.css("visibility")?t.hScrollInstance.max:t.host.width(),p<=t.host.width()-20&&(t.allowDrag?setTimeout(function(){t._dragItem||a||(t._updateItemCheck(e,e.visibleIndex),t.selectIndex(e.visibleIndex,!1,!0,!1,"mouse",i))},200):(t._updateItemCheck(e,e.visibleIndex),t.selectIndex(e.visibleIndex,!1,!0,!1,"mouse",i)))):p+t.hScrollInstance.value>=20&&(t.allowDrag?setTimeout(function(){t._dragItem||a||(t._updateItemCheck(e,e.visibleIndex),t.selectIndex(e.visibleIndex,!1,!0,!1,"mouse",i))},200):(t._updateItemCheck(e,e.visibleIndex),t.selectIndex(e.visibleIndex,!1,!0,!1,"mouse",i)))):t.selectIndex(e.visibleIndex,!1,!0,!1,"mouse",i)}
m.disabled||(-1!=m.html.indexOf("href")?setTimeout(function(){f(m,i)},100):f(m,i))}if("mousedown"==o){var g=!1
return i.which?g=3==i.which:i.button&&(g=2==i.button),!!g}}return!0})}this.addHandler(this.content,"mouseup",function(e){t.vScrollInstance.handlemouseup(t,e),a=!1}),e.jqx.browser.msie&&this.addHandler(this.content,"selectstart",function(e){return!1})}i=this.isTouchDevice(),this.enableHover&&!i&&(this._mousemovefunc=function(r){if(i)return!0
if(!t.enableHover)return!0
if(1==e.jqx.browser.msie&&e.jqx.browser.version,null==r.target)return!0
if(t.disabled)return!0
if(t.focused=!0,!t.vScrollInstance.isScrolling()&&r.target.id!="listBoxContent"+t.element.id&&t.itemswrapper[0]!=r.target){var o=r.target,a=e(o).offset(),s=t.host.offset()
if(n){var l=e.jqx.mobile.getLeftPos(o),d=e.jqx.mobile.getTopPos(o)
a.left=l,a.top=d,l=e.jqx.mobile.getLeftPos(t.element),d=e.jqx.mobile.getTopPos(t.element),s.left=l,s.top=d}var c=parseInt(a.top)-parseInt(s.top),h=parseInt(a.left)-parseInt(s.left),u=t._hitTest(h,c)
if(null!=u&&!u.isGroup&&!u.disabled){var p=e.data(t.element,"hoveredItem")
null!=p&&(e(p).removeClass(t.toThemeProperty("jqx-listitem-state-hover")),e(p).removeClass(t.toThemeProperty("jqx-fill-state-hover"))),e.data(t.element,"hoveredItem",u.element)
var m=e(u.element)
m.addClass(t.toThemeProperty("jqx-listitem-state-hover")),m.addClass(t.toThemeProperty("jqx-fill-state-hover"))}}},this.addHandler(this.content,"mousemove",this._mousemovefunc))},_arrange:function(e){null==e&&(e=!0)
var t=this,i=null,n=null,r=t.filterable?t.filterHeight:0,o=function(e){return 0==(e=t.host.height())&&(e=200,t.host.height(e)),e}
null!=t.width&&-1!=t.width.toString().indexOf("px")?i=t.width:null==t.width||isNaN(t.width)||(i=t.width),null!=t.height&&-1!=t.height.toString().indexOf("px")?n=t.height:null==t.height||isNaN(t.height)||(n=t.height),null!=t.width&&-1!=t.width.toString().indexOf("%")&&(t.host.css("width",t.width),i=t.host.width()),null!=t.height&&-1!=t.height.toString().indexOf("%")&&(t.host.css("height",t.height),n=o(n)),null!=i&&(i=parseInt(i),parseInt(t.element.style.width)!=parseInt(t.width)&&t.host.width(t.width)),t.autoHeight?t.virtualSize&&("hidden"!=t.hScrollBar.css("visibility")?(t.host.height(t.virtualSize.height+parseInt(t.scrollBarSize)+3),t.height=t.virtualSize.height+parseInt(t.scrollBarSize)+3,n=t.height):(t.host.height(t.virtualSize.height),t.height=t.virtualSize.height,n=t.virtualSize.height)):null!=n&&(n=parseInt(n),parseInt(t.element.style.height)!=parseInt(t.height)&&(t.host.height(t.height),o(n)))
var a=t.scrollBarSize
isNaN(a)&&(a=parseInt(a),isNaN(a)?a="17px":a+="px"),a=parseInt(a)
var s=2,l=1
if(t.vScrollBar&&("hidden"!=t.vScrollBar[0].style.visibility?l=a+4:t.vScrollInstance.setPosition(0),0==a&&(l=1,s=1),t.hScrollBar)){"hidden"!=t.hScrollBar[0].style.visibility?s=a+4:t.hScrollInstance.setPosition(0),t.autoItemsHeight&&(t.hScrollBar[0].style.visibility="hidden",s=0),null==n&&(n=0)
var d=parseInt(n)-4-a
d<0&&(d=0),parseInt(t.hScrollBar[0].style.height)!=a&&(parseInt(a)<0&&(a=0),t.hScrollBar[0].style.height=parseInt(a)+"px"),t.hScrollBar[0].style.top!=d+"px"&&(t.hScrollBar[0].style.top=d+"px",t.hScrollBar[0].style.left="0px")
var c=i-a-4
c<0&&(c=0)
var h=c+"px"
if(t.hScrollBar[0].style.width!=h&&(t.hScrollBar[0].style.width=h),l<=1&&i>=2&&(t.hScrollBar[0].style.width=parseInt(i-2)+"px"),a!=parseInt(t.vScrollBar[0].style.width)&&(t.vScrollBar[0].style.width=parseInt(a)+"px"),parseInt(n)-s!=parseInt(t.vScrollBar[0].style.height)){var u=parseInt(n)-s
u<0&&(u=0),t.vScrollBar[0].style.height=u+"px"}null==i&&(i=0)
var p=parseInt(i)-parseInt(a)-4+"px"
p!=t.vScrollBar[0].style.left&&(parseInt(p)>=0&&(t.vScrollBar[0].style.left=p),t.vScrollBar[0].style.top="0px")
var m=t.vScrollInstance
m.disabled=t.disabled,e&&m._arrange()
var f=t.hScrollInstance
if(f.disabled=t.disabled,e&&f._arrange(),"hidden"!=t.vScrollBar[0].style.visibility&&"hidden"!=t.hScrollBar[0].style.visibility?(t.bottomRight[0].style.visibility="inherit",t.bottomRight[0].style.left=1+parseInt(t.vScrollBar[0].style.left)+"px",t.bottomRight[0].style.top=1+parseInt(t.hScrollBar[0].style.top)+"px",t.rtl&&t.bottomRight.css({left:0}),t.bottomRight[0].style.width=parseInt(a)+3+"px",t.bottomRight[0].style.height=parseInt(a)+3+"px"):t.bottomRight[0].style.visibility="hidden",parseInt(t.content[0].style.width)!=parseInt(i)-l){var g=parseInt(i)-l
g<0&&(g=0),t.content[0].style.width=g+"px"}if(t.rtl&&(t.vScrollBar.css({left:"0px",top:"0px"}),t.hScrollBar.css({left:t.vScrollBar.width()+2+"px"}),"hidden"!=t.vScrollBar[0].style.visibility?t.content.css("margin-left",4+t.vScrollBar.width()):(t.content.css("margin-left",0),t.hScrollBar.css({left:"0px"})),t.filterable&&t.filterInput&&t.filterInput.css({left:t.vScrollBar.width()+6+"px"})),parseInt(t.content[0].style.height)!=parseInt(n)-s){var v=parseInt(n)-s
v<0&&(v=0),t.content[0].style.height=v+"px",t.content[0].style.top="0px"}r>0&&(t.content[0].style.top=r+"px",t.content[0].style.height=parseInt(t.content[0].style.height)-r+"px"),t.filterable?(t.filterInput[0].style.height=r-6+"px",t.filterInput[0].style.top="3px",t.rtl||(t.filterInput[0].style.left=parseInt(t.content.css("left"))+3+"px"),t.filterInput[0].style.width=parseInt(t.content.css("width"))-7+"px",t.filter[0].style.display="block"):t.filter[0].style.display="none",t.overlayContent&&(t.overlayContent.width(parseInt(i)-l),t.overlayContent.height(parseInt(n)-s))}},ensureVisible:function(t,i){if(isNaN(t)&&(r=this.getItemByValue(t))&&(t=r.index),this.isIndexInView(t)){if(i)for(n=0;n<this.visibleItems.length;n++)(r=this.visibleItems[n]).visibleIndex!=t||r.isGroup||(a=this.vScrollInstance.value,c=r.initialTop,this.filterable&&(c=this.filterHeight+2+r.initialTop),a+this.host.height()<this.vScrollInstance.max&&this.vScrollInstance.setPosition(c))}else{if(t<0)return
if(this.autoHeight)(o=e.data(this.vScrollBar[0],"jqxScrollBar").instance).setPosition(0)
else for(var n=0;n<this.visibleItems.length;n++){var r
if((r=this.visibleItems[n]).visibleIndex==t&&!r.isGroup){var o,a=(o=e.data(this.vScrollBar[0],"jqxScrollBar").instance).value,s=this.filterable?this.filterHeight+2:0,l="hidden"===this.hScrollBar.css("visibility")?0:this.scrollBarSize+4
if(r.initialTop<a)o.setPosition(r.initialTop),0==n&&o.setPosition(0)
else if(r.initialTop+r.height>a+this.host.height()-s){var d=this.host.height()
if(this.filterable?o.setPosition(this.filterHeight+2+r.initialTop+r.height+2-d+l):(o.setPosition(r.initialTop+r.height+2-d+l),n===this.visibleItems.length-1&&o.setPosition(o.max)),i){var a=o.value,c=r.initialTop
this.filterable&&(c=this.filterHeight+2+r.initialTop),a+d<o.max&&o.setPosition(c)}}break}}}this._renderItems()},scrollTo:function(e,t){"hidden"!=this.vScrollBar.css("visibility")&&this.vScrollInstance.setPosition(t),"hidden"!=this.hScrollBar.css("visibility")&&this.hScrollInstance.setPosition(e)},scrollDown:function(){if("hidden"==this.vScrollBar.css("visibility"))return!1
var e=this.vScrollInstance
return e.value+e.largestep<=e.max?(e.setPosition(e.value+e.largestep),!0):(e.setPosition(e.max),!0)},scrollUp:function(){if("hidden"==this.vScrollBar.css("visibility"))return!1
var e=this.vScrollInstance
return e.value-e.largestep>=e.min?(e.setPosition(e.value-e.largestep),!0):e.value!=e.min&&(e.setPosition(e.min),!0)},databind:function(t,i){this.records=new Array
var n=!!t._source,r=new e.jqx.dataAdapter(t,{autoBind:!1})
n&&(r=t,t=t._source)
var o=function(t,i){var n=function(i){var n=null
if("string"==typeof i)var r=i,o=i,a=""
else null!=t.displayMember&&""!=t.displayMember&&(o=i[t.valueMember],r=i[t.displayMember])
a="",t.groupMember?a=i[t.groupMember]:i&&null!=i.group&&(a=i.group),t.searchMember?n=i[t.searchMember]:i&&null!=i.searchLabel&&(n=i.searchLabel),t.valueMember||t.displayMember||"string"==e.type(i)&&(r=o=i.toString()),i&&null!=i.label&&(r=i.label),i&&null!=i.value&&(o=i.value)
var s=!1
i&&null!=i.checked&&(s=i.checked)
var l=""
i&&null!=i.html&&(l=i.html)
var d=!0
i&&null!=i.visible&&(d=i.visible)
var c=!1
i&&null!=i.disabled&&(c=i.disabled)
var h=!1
i&&null!=i.hasThreeStates&&(h=i.hasThreeStates)
var u={}
return u.label=r,u.value=o,u.searchLabel=n,u.html=l,u.visible=d,u.originalItem=i,u.group=a,u.groupHtml="",u.disabled=c,u.checked=s,u.hasThreeStates=h,u}
if(null!=i&&r._changedrecords[0])e.each(r._changedrecords,function(){var e=this.index,r=this.record
if("remove"!=i)var o=n(r)
switch(i){case"update":t.updateAt(o,e)
break
case"add":t.insertAt(o,e)
break
case"remove":t.removeAt(e)}})
else{t.records=r.records
for(var o=t.records.length,a=new Array,s=0;s<o;s++){var l=t.records[s],d=n(l)
d.index=s,a[s]=d}t.items=t.loadItems(a,!0),t._render(),t._raiseEvent("6")}}
null!=t.type&&(r._options.type=t.type),null!=t.formatdata&&(r._options.formatData=t.formatdata),null!=t.contenttype&&(r._options.contentType=t.contenttype),null!=t.async&&(r._options.async=t.async)
var a=this
switch(t.datatype){case"local":case"array":default:(null!=t.localdata||e.isArray(t))&&(r.unbindBindingUpdate(this.element.id),(this.autoBind||!this.autoBind&&!i)&&r.dataBind(),o(this),r.bindBindingUpdate(this.element.id,function(e){o(a,e)}))
break
case"json":case"jsonp":case"xml":case"xhtml":case"script":case"text":case"csv":case"tab":if(null!=t.localdata)return r.unbindBindingUpdate(this.element.id),(this.autoBind||!this.autoBind&&!i)&&r.dataBind(),o(this),void r.bindBindingUpdate(this.element.id,function(){o(a)})
var s={}
r._options.data?e.extend(r._options.data,s):(t.data&&e.extend(s,t.data),r._options.data=s),r.unbindDownloadComplete(a.element.id),r.bindDownloadComplete(a.element.id,function(){o(a)}),(this.autoBind||!this.autoBind&&!i)&&r.dataBind()}},loadItems:function(t,i){if(null==t)return this.groups=new Array,this.items=new Array,void(this.visualItems=new Array)
var n=this,r=0,o=0,a=0
this.groups=new Array,this.items=new Array,this.visualItems=new Array
var s=new Array
this.itemsByValue=new Array,e.map(t,function(t){if(null==t)return null
var l=new e.jqx._jqxListBox.item,d=t.group,c=t.groupHtml,h=t.title,u=null
if(n.searchMember?u=t[n.searchMember]:t&&null!=t.searchLabel&&(u=t.searchLabel),null!=h&&null!=h||(h=""),null!=d&&null!=d||(d=""),n.groupMember&&(d=t[n.groupMember]),null!=c&&null!=c||(c=""),!n.groups[d]){n.groups[d]={items:new Array,index:-1,caption:d,captionHtml:c}
var p=++r+"jqxGroup"
n.groups[p]=n.groups[d],o++,n.groups.length=o}var m=n.groups[d]
return m.index++,m.items[m.index]=l,"string"==typeof t?(l.label=t,l.value=t,arguments.length>1&&arguments[1]&&"string"==e.type(arguments[1])&&(l.label=t,l.value=arguments[1])):null==t.label&&null==t.value&&null==t.html&&null==t.group&&null==t.groupHtml?(l.label=t.toString(),l.value=t.toString()):(l.label=t.label,l.value=t.value,void 0===l.label&&(l.label=t.value),void 0===l.value&&(l.value=t.label)),"string"!=typeof t&&(void 0===t.label&&""!=n.displayMember&&(null!=t[n.displayMember]?l.label=t[n.displayMember]:l.label=""),void 0===t.value&&""!=n.valueMember&&(l.value=t[n.valueMember])),l.hasThreeStates=null==t.hasThreeStates||t.hasThreeStates,l.originalItem=t,i&&(l.originalItem=t.originalItem),l.title=h,h&&void 0===l.value&&void 0===l.label&&(l.value=l.label=h),l.html=t.html||"",t.html&&t.html,l.group=d,l.checked=t.checked||!1,l.groupHtml=t.groupHtml||"",l.disabled=t.disabled||!1,l.visible=null==t.visible||t.visible,l.searchLabel=u,l.index=a,s[a]=l,a++,l})
var l=new Array,d=0
if(null==this.fromSelect||0==this.fromSelect)for(var c=0;c<o;c++){var h=(r=c+1)+"jqxGroup",u=this.groups[h]
if(null==u||null==u)break
if(0==c&&""==u.caption&&""==u.captionHtml&&o<=1){for(var p=0;p<u.items.length;p++){var m=u.items[p].value
null!=u.items[p].value&&null!=u.items[p].value||(m=p),this.itemsByValue[e.trim(m).split(" ").join("?")]=u.items[p]}return u.items}var f=new e.jqx._jqxListBox.item
f.isGroup=!0,f.label=u.caption,""==u.caption&&""==u.captionHtml&&(u.caption=this.emptyGroupText,f.label=u.caption),f.html=u.captionHtml,l[d]=f,d++
for(var g=0;g<u.items.length;g++)l[d]=u.items[g],m=u.items[g].value,""!=u.items[g].value&&null!=u.items[g].value||(m=d),n.itemsByValue[e.trim(m).split(" ").join("?")]=u.items[g],d++}else{d=0
var v=new Array
e.each(s,function(){if(!v[this.group]&&""!=this.group){var t=new e.jqx._jqxListBox.item
t.isGroup=!0,t.label=this.group,l[d]=t,d++,v[this.group]=!0}l[d]=this
var i=this.value
""!=this.value&&null!=this.value||(i=d-1),n.itemsByValue[e.trim(i).split(" ").join("?")]=this,d++})}return l},_mapItem:function(t){var i=new e.jqx._jqxListBox.item
return this.displayMember&&(null==t.label&&(t.label=t[this.displayMember]),null==t.value&&(t.value=t[this.valueMember])),"string"==typeof t?(i.label=t,i.value=t):"number"==typeof t?(i.label=t.toString(),i.value=t.toString()):(i.label=void 0!==t.label?t.label:t.value,i.value=void 0!==t.value?t.value:t.label),null==i.label&&null==i.value&&null==i.html&&(i.label=i.value=t),i.html=t.html||"",i.group=t.group||"",i.checked=t.checked||!1,i.title=t.title||"",i.groupHtml=t.groupHtml||"",i.disabled=t.disabled||!1,i.visible=t.visible||!0,i},addItem:function(e){return this.insertAt(e,this.items?this.items.length:0)},_getItemByParam:function(e){if(null!=e&&null==e.index){var t=this.getItemByValue(e)
t&&(e=t)}return e},insertItem:function(e,t){var i=this._getItemByParam(e)
return this.insertAt(i,t)},updateItem:function(e,t){var i=this._getItemByParam(t)
return!(!i||null==i.index)&&this.updateAt(e,i.index)},updateAt:function(t,i){if(null!=t){var n=this._mapItem(t)
this.itemsByValue[e.trim(n.value).split(" ").join("?")]=this.items[i],this.items[i].value=n.value,this.items[i].label=n.label,this.items[i].html=n.html,this.items[i].disabled=n.disabled,this._raiseEvent("9",{item:this.items[i]})}this._cachedItemHtml=[],this._renderItems(),this.rendered&&this.rendered()},insertAt:function(t,i){if(null==t)return!1
if(this._cachedItemHtml=[],null==this.items||0==this.items.length){this.source=new Array,this.refresh(),(r=this._mapItem(t)).index=0,this.items[this.items.length]=r,this._addItems(!0),this._renderItems(),this.rendered&&this.rendered(),this.allowDrag&&this._enableDragDrop&&this._enableDragDrop()
var n=r.value
return""!=r.value&&null!=r.value||(n=i),this.itemsByValue[e.trim(n).split(" ").join("?")]=r,!1}var r=this._mapItem(t)
if(-1==i||null==i||null==i||i>=this.items.length)r.index=this.items.length,this.items[this.items.length]=r
else{for(var o=new Array,a=0,s=!1,l=0,d=0;d<this.items.length;d++)0==this.items[d].isGroup&&l>=i&&!s&&(o[a++]=r,r.index=i,l++,s=!0),o[a]=this.items[d],this.items[d].isGroup||(o[a].index=l,l++),a++
this.items=o}n=r.value,""!=r.value&&null!=r.value||(n=i),this.itemsByValue[e.trim(n).split(" ").join("?")]=r,this.visibleItems=new Array,this.renderedVisibleItems=new Array
var c=e.data(this.vScrollBar[0],"jqxScrollBar").instance,h=c.value
return c.setPosition(0),this.allowDrag&&this._enableDragDrop||this.virtualSize&&this.virtualSize.height<10+this.host.height()?this._addItems(!0):this._addItems(!1),this.groups.length,this._renderItems(),this.allowDrag&&this._enableDragDrop&&this._enableDragDrop(),c.setPosition(h),this._raiseEvent("7",{item:r}),this.rendered&&this.rendered(),!0},removeAt:function(t){if(t<0||t>this.items.length-1)return!1
if(null==t)return!1
var i=this.items[t].height
""!=(p=this.items[t].value)&&null!=p||(p=t),this.itemsByValue[e.trim(p).split(" ").join("?")]=null
var n=this.items[t]
if(this.groups.length>1){for(var r=new Array,o=0;o<this.items.length;o++)this.items[o].isGroup||r.push({item:this.items[o],key:o})
if(!r[t])return!1
this.items.splice(r[t].key,1)}else this.items.splice(t,1)
var a=new Array,s=0,l=0
for(o=0;o<this.items.length;o++)a[s]=this.items[o],this.items[o].isGroup||(a[s].index=l,l++),s++
this.items=a
var d=e.data(this.vScrollBar[0],"jqxScrollBar").instance,c=(d=e.data(this.vScrollBar[0],"jqxScrollBar").instance).value
if(d.setPosition(0),this.visibleItems=new Array,this.renderedVisibleItems=new Array,this.items.length>0){if(this.virtualSize){this.virtualSize.height-=i
var h=2*this.virtualSize.itemsPerPage
this.autoHeight&&(h=this.items.length),this.virtualItemsCount=Math.min(h,this.items.length)}this._updatescrollbars()}else this._addItems()
this._renderItems(),this.allowDrag&&this._enableDragDrop&&this._enableDragDrop(),"hidden"!=this.vScrollBar.css("visibility")?d.setPosition(c):d.setPosition(0),this.itemsByValue=new Array
for(var u=0;u<this.items.length;u++){var p=this.items[u].value
""!=this.items[u].value&&null!=this.items[u].value||(p=u),this.itemsByValue[e.trim(p).split(" ").join("?")]=this.items[u]}return this._raiseEvent("8",{item:n}),0===this.items.length&&(this.selectedIndex=-1,this.selectedValue=null,this._updateInputSelection()),this.rendered&&this.rendered(),!0},removeItem:function(e,t){var i=this._getItemByParam(e),n=-1
if(i&&null!=i.index&&!0!==t){for(var r=0;r<this.items.length;r++)if(this.items[r].label==i.label&&this.items[r].value==i.value){n=r
break}if(-1!=n)return this.removeAt(n)}if(-1==n)return this.removeAt(i.index)},getItems:function(){return this.items},disableItem:function(e){var t=this._getItemByParam(e)
this.disableAt(t.index)},enableItem:function(e){var t=this._getItemByParam(e)
this.enableAt(t.index)},disableAt:function(e){return!(!this.items||e<0||e>this.items.length-1||(this.items[e].disabled=!0,this._renderItems(),0))},enableAt:function(e){return!(!this.items||e<0||e>this.items.length-1||(this.items[e].disabled=!1,this._renderItems(),0))},destroy:function(){this.source&&this.source.unbindBindingUpdate&&this.source.unbindBindingUpdate(this.element.id),this._removeHandlers(),this.vScrollBar.jqxScrollBar("destroy"),this.hScrollBar.jqxScrollBar("destroy"),this.vScrollBar.remove(),this.hScrollBar.remove(),this.content.remove(),e.jqx.utilities.resize(this.host,null,!0)
var t=e.data(this.element,"jqxListBox")
delete this.hScrollInstance,delete this.vScrollInstance,delete this.vScrollBar,delete this.hScrollBar,delete this.content,delete this.bottomRight,delete this.itemswrapper,delete this.visualItems,delete this.visibleItems,delete this.items,delete this.groups,delete this.renderedVisibleItems,delete this._mousewheelfunc,delete this._mousemovefunc,delete this._cachedItemHtml,delete this.itemsByValue,delete this._activeElement,delete this.source,delete this.events,this.input&&(this.input.remove(),delete this.input),t&&delete t.instance,this.host.removeData(),this.host.removeClass(),this.host.remove(),this.element=null,delete this.element,this.host=null,delete this.set,delete this.get,delete this.call,delete this.host},_raiseEvent:function(t,i){if(1==this._stopEvents)return!0
null==i&&(i={owner:null})
var n=this.events[t],r=i
r.owner=this,this._updateInputSelection()
var o=new e.Event(n)
if(o.owner=this,o.args=r,null!=this.host)var a=this.host.trigger(o)
return a}}),function(e){e.jqx.parseSourceTag=function(t){var i=new Array,n=e(t).find("option"),r=e(t).find("optgroup"),o=!1
0===n.length&&(n=e(t).find("li")).length>0&&(o=!0)
var a=null,s=(a=-1,new Array)
if(e.each(n,function(t){var n=r.find(this).length>0,l=null
null==this.text||null!=this.label&&""!=this.label||(this.label=this.text),!0===o&&(this.label=e(this).text(),this.selected=e(this).attr("data-selected"),this.checked=this.selected,this.value=e(this).attr("data-value")||t,this.disabled=e(this).attr("disabled"))
var d={style:this.style.cssText,selected:this.selected,html:this.innerHTML,classes:this.className,disabled:this.disabled,value:this.value,label:this.label,title:this.title,originalItem:this}
e.jqx.browser.msie&&e.jqx.browser.version<8&&!o&&""==d.value&&null!=this.text&&this.text.length>0&&(d.value=this.text),n&&(l=r.find(this).parent()[0].label,d.group=l,s[l]||(s[l]=new Array,s.length++),s[l].push(d)),this.selected&&(a=t),d.checked=this.selected,void 0!==d.label&&i.push(d)}),s.length>0){var l=new Array
for(var d in s)if("indexOf"!==d){for(var c=0;c<r.length;c++)if(d===r[c].label||r[c].text){r[c]
break}e.each(s[d],function(e,t){void 0!==this.label&&l.push(this)})}}return l&&l.length>0?{items:l,index:a}:{items:i,index:a}},e.jqx._jqxListBox.item=function(){return{group:"",groupHtml:"",selected:!1,isGroup:!1,highlighted:!1,value:null,label:"",html:null,visible:!0,disabled:!1,element:null,width:null,height:null,initialTop:null,top:null,left:null,title:"",index:-1,checkBoxElement:null,originalItem:null,checked:!1,visibleIndex:-1}}}(jqxBaseFramework)}()
var ni=Object.freeze({})
!function(e){e.jqx.cssroundedcorners=function(e){var t={all:"jqx-rc-all",top:"jqx-rc-t",bottom:"jqx-rc-b",left:"jqx-rc-l",right:"jqx-rc-r","top-right":"jqx-rc-tr","top-left":"jqx-rc-tl","bottom-right":"jqx-rc-br","bottom-left":"jqx-rc-bl"}
for(var i in t)if(t.hasOwnProperty(i)&&e==i)return t[i]},e.jqx.jqxWidget("jqxButton","",{}),e.extend(e.jqx._jqxButton.prototype,{defineInstance:function(){var t={type:"",cursor:"arrow",roundedCorners:"all",disabled:!1,height:null,width:null,overrideTheme:!1,enableHover:!0,enableDefault:!0,enablePressed:!0,imgPosition:"center",imgSrc:"",imgWidth:16,imgHeight:16,value:null,textPosition:"",textImageRelation:"overlay",rtl:!1,_ariaDisabled:!1,_scrollAreaButton:!1,template:"default",aria:{"aria-disabled":{name:"disabled",type:"boolean"}}}
return this===e.jqx._jqxButton.prototype?t:(e.extend(!0,this,t),t)},_addImage:function(t){if("input"==this.element.nodeName.toLowerCase()||"button"==this.element.nodeName.toLowerCase()||"div"==this.element.nodeName.toLowerCase()){if(this._img)this._img.setAttribute("src",this.imgSrc),this._img.setAttribute("width",this.imgWidth),this._img.setAttribute("height",this.imgHeight),this._text.innerHTML=this.value
else{this.field=this.element,this.field.className&&(this._className=this.field.className)
var i={title:this.field.title},n=null
if(this.field.getAttribute("value"))n=this.field.getAttribute("value")
else if("input"!=this.element.nodeName.toLowerCase())n=this.element.innerHTML
this.value&&(n=this.value),this.field.id.length?i.id=this.field.id.replace(/[^\w]/g,"_")+"_"+t:i.id=e.jqx.utilities.createId()+"_"+t
var r=document.createElement("div")
r.id=i.id,r.title=i.title,r.style.cssText=this.field.style.cssText,r.style.boxSizing="border-box"
var o=document.createElement("img")
o.setAttribute("src",this.imgSrc),o.setAttribute("width",this.imgWidth),o.setAttribute("height",this.imgHeight),r.appendChild(o),this._img=o
var a=document.createElement("span")
n&&(a.innerHTML=n,this.value=n),r.appendChild(a),this._text=a,this.field.style.display="none",this.field.parentNode&&this.field.parentNode.insertBefore(r,this.field.nextSibling)
var s=this.host.data()
this.host=e(r),this.host.data(s),this.element=r,this.element.id=this.field.id,this.field.id=i.id
var l=new e(this.element),d=new e(this.field)
if(this._className&&(l.addClass(this._className),d.removeClass(this._className)),this.field.tabIndex){var c=this.field.tabIndex
this.field.tabIndex=-1,this.element.tabIndex=c}}this.imgSrc?this._img.style.display="inline":this._img.style.display="none",this.value?this._text.style.display="inline":this._text.style.display="none",this._positionTextAndImage()}},_positionTextAndImage:function(){var e=this.element.offsetWidth,t=this.element.offsetHeight,i=this.imgWidth,n=this.imgHeight
""==this.imgSrc&&(i=0,n=0)
var r=this._text.offsetWidth,o=this._text.offsetHeight,a=0,s=0
switch(this.textImageRelation){case"imageBeforeText":case"textBeforeImage":a=i+r+8+4+8,s=Math.max(n,o)+8+4+8
break
case"imageAboveText":case"textAboveImage":a=Math.max(i,r)+8,s=n+o+4+8+8
break
case"overlay":a=Math.max(i,r)+8,s=Math.max(n,o)+8}this.width||(this.element.style.width=a+"px",e=a),this.height||(this.element.style.height=s+"px",t=s),this._img.style.position="absolute",this._text.style.position="absolute",this.element.style.position="relative",this.element.style.overflow="hidden"
var l={},d={},c=function(e,t,i,n,r){switch(t.width<n&&(t.width=n),t.height<r&&(t.height=r),i){case"left":e.style.left=t.left+"px",e.style.top=t.top+t.height/2-r/2+"px"
break
case"topLeft":e.style.left=t.left+"px",e.style.top=t.top+"px"
break
case"bottomLeft":e.style.left=t.left+"px",e.style.top=t.top+t.height-r+"px"
break
default:case"center":e.style.left=t.left+t.width/2-n/2+"px",e.style.top=t.top+t.height/2-r/2+"px"
break
case"top":e.style.left=t.left+t.width/2-n/2+"px",e.style.top=t.top+"px"
break
case"bottom":e.style.left=t.left+t.width/2-n/2+"px",e.style.top=t.top+t.height-r+"px"
break
case"right":e.style.left=t.left+t.width-n+"px",e.style.top=t.top+t.height/2-r/2+"px"
break
case"topRight":e.style.left=t.left+t.width-n+"px",e.style.top=t.top+"px"
break
case"bottomRight":e.style.left=t.left+t.width-n+"px",e.style.top=t.top+t.height-r+"px"}},h=0,u=0,p=e,m=t,f=(p-h)/2,g=(m-u)/2,v=this._img,b=this._text,y=m-u,_=p-h
switch(h+=4,u+=4,p=p-4-2,_=_-8-2,y=y-8-2,this.textImageRelation){case"imageBeforeText":switch(this.imgPosition){case"left":case"topLeft":case"bottomLeft":d={left:h,top:u,width:h+i,height:y},l={left:h+i+4,top:u,width:_-i-4,height:y}
break
case"center":case"top":case"bottom":l={left:(d={left:f-r/2-i/2-2,top:u,width:i,height:y}).left+i+4,top:u,width:p-d.left-i-4,height:y}
break
case"right":case"topRight":case"bottomRight":l={left:(d={left:p-r-i-4,top:u,width:i,height:y}).left+i+4,top:u,width:p-d.left-i-4,height:y}}c(v,d,this.imgPosition,i,n),c(b,l,this.textPosition,r,o)
break
case"textBeforeImage":switch(this.textPosition){case"left":case"topLeft":case"bottomLeft":l={left:h,top:u,width:h+r,height:y},d={left:h+r+4,top:u,width:_-r-4,height:y}
break
case"center":case"top":case"bottom":d={left:(l={left:f-r/2-i/2-2,top:u,width:r,height:y}).left+r+4,top:u,width:p-l.left-r-4,height:y}
break
case"right":case"topRight":case"bottomRight":d={left:(l={left:p-r-i-4,top:u,width:r,height:y}).left+r+4,top:u,width:p-l.left-r-4,height:y}}c(v,d,this.imgPosition,i,n),c(b,l,this.textPosition,r,o)
break
case"imageAboveText":switch(this.imgPosition){case"topRight":case"top":case"topLeft":d={left:h,top:u,width:_,height:n},l={left:h,top:u+n+4,width:_,height:y-n-4}
break
case"left":case"center":case"right":l={left:h,top:(d={left:h,top:g-n/2-o/2-2,width:_,height:n}).top+4+n,width:_,height:y-d.top-4-n}
break
case"bottomLeft":case"bottom":case"bottomRight":l={left:h,top:(d={left:h,top:m-n-o-4,width:_,height:n}).top+4+n,width:_,height:o}}c(v,d,this.imgPosition,i,n),c(b,l,this.textPosition,r,o)
break
case"textAboveImage":switch(this.textPosition){case"topRight":case"top":case"topLeft":l={left:h,top:u,width:_,height:o},d={left:h,top:u+o+4,width:_,height:y-o-4}
break
case"left":case"center":case"right":d={left:h,top:(l={left:h,top:g-n/2-o/2-2,width:_,height:o}).top+4+o,width:_,height:y-l.top-4-o}
break
case"bottomLeft":case"bottom":case"bottomRight":d={left:h,top:(l={left:h,top:m-n-o-4,width:_,height:o}).top+4+o,width:_,height:n}}c(v,d,this.imgPosition,i,n),c(b,l,this.textPosition,r,o)
break
case"overlay":default:l={left:h,top:u,width:_,height:y},c(v,d={left:h,top:u,width:_,height:y},this.imgPosition,i,n),c(b,l,this.textPosition,r,o)}},createInstance:function(t){var i=this
i._setSize(),i.buttonObj=new e(i.element),(""!=i.imgSrc||""!=i.textPosition||i.element.value&&i.element.value.indexOf("<")>=0||null!=i.value)&&(i.refresh(),i._addImage("jqxButton"),i.buttonObj=new e(i.element)),i._ariaDisabled||i.element.setAttribute("role","button"),""!==i.type&&i.element.setAttribute("type",i.type),i.overrideTheme||(i.buttonObj.addClass(i.toThemeProperty(e.jqx.cssroundedcorners(i.roundedCorners))),i.enableDefault&&i.buttonObj.addClass(i.toThemeProperty("jqx-button")),i.buttonObj.addClass(i.toThemeProperty("jqx-widget"))),i.isTouchDevice=e.jqx.mobile.isTouchDevice(),i._ariaDisabled||e.jqx.aria(this),"arrow"!=i.cursor&&(i.disabled?i.element.style.cursor="arrow":i.element.style.cursor=i.cursor)
var n="mouseenter mouseleave mousedown focus blur"
if(i._scrollAreaButton)n="mousedown"
i.isTouchDevice&&(i.addHandler(i.host,e.jqx.mobile.getTouchEventName("touchstart"),function(e){i.isPressed=!0,i.refresh()}),i.addHandler(e(document),e.jqx.mobile.getTouchEventName("touchend")+"."+i.element.id,function(e){i.isPressed=!1,i.refresh()})),i.addHandler(i.host,n,function(e){switch(e.type){case"mouseenter":i.isTouchDevice||!i.disabled&&i.enableHover&&(i.isMouseOver=!0,i.refresh())
break
case"mouseleave":i.isTouchDevice||!i.disabled&&i.enableHover&&(i.isMouseOver=!1,i.refresh())
break
case"mousedown":i.disabled||(i.isPressed=!0,i.refresh())
break
case"focus":i.disabled||(i.isFocused=!0,i.refresh())
break
case"blur":i.disabled||(i.isFocused=!1,i.refresh())}}),i.mouseupfunc=function(e){i.disabled||(i.isPressed||i.isMouseOver)&&(i.isPressed=!1,i.refresh())},i.addHandler(document,"mouseup.button"+i.element.id,i.mouseupfunc)
try{if((""!=document.referrer||window.frameElement)&&null!=window.top&&window.top!=window.that){var r=""
if(window.parent&&document.referrer&&(r=document.referrer),-1!=r.indexOf(document.location.host)){window.top.document&&i.addHandler(e(window.top.document),"mouseup",function(e){i.isPressed=!1,i.refresh()})}}}catch(e){}i.propertyChangeMap.roundedCorners=function(t,i,n,r){t.buttonObj.removeClass(t.toThemeProperty(e.jqx.cssroundedcorners(n))),t.buttonObj.addClass(t.toThemeProperty(e.jqx.cssroundedcorners(r)))},i.propertyChangeMap.disabled=function(t,i,n,r){n!=r&&(t.refresh(),t.element.setAttribute("disabled",r),t.element.disabled=r,t.element.style.cursor=r?"default":t.cursor,e.jqx.aria(t,"aria-disabled",t.disabled))},i.propertyChangeMap.rtl=function(e,t,i,n){i!=n&&e.refresh()},i.propertyChangeMap.template=function(e,t,i,n){i!=n&&(e.buttonObj.removeClass(e.toThemeProperty("jqx-"+i)),e.refresh())},i.propertyChangeMap.theme=function(t,i,n,r){t.buttonObj.removeClass(t.element),t.enableDefault&&t.buttonObj.addClass(t.toThemeProperty("jqx-button")),t.buttonObj.addClass(t.toThemeProperty("jqx-widget")),t.overrideTheme||t.buttonObj.addClass(t.toThemeProperty(e.jqx.cssroundedcorners(t.roundedCorners))),t._oldCSSCurrent=null,t.refresh()},i.disabled&&(i.element.disabled=!0,i.element.setAttribute("disabled","true"))},resize:function(e,t){this.width=e,this.height=t,this._setSize()},val:function(t){var i=this.host.find("input")
return i.length>0?0==arguments.length||"object"==typeof t?i.val():(i.val(t),this.refresh(),i.val()):0==arguments.length||"object"==typeof t?"button"==this.element.nodeName.toLowerCase()?e(this.element).text():this.element.value:(this.element.value=arguments[0],"button"==this.element.nodeName.toLowerCase()&&e(this.element).text(arguments[0]),void this.refresh())},_setSize:function(){var e=this.height,t=this.width
e&&(isNaN(e)||(e+="px"),this.element.style.height=e),t&&(isNaN(t)||(t+="px"),this.element.style.width=t)},_removeHandlers:function(){this.removeHandler(this.host,"selectstart"),this.removeHandler(this.host,"click"),this.removeHandler(this.host,"focus"),this.removeHandler(this.host,"blur"),this.removeHandler(this.host,"mouseenter"),this.removeHandler(this.host,"mouseleave"),this.removeHandler(this.host,"mousedown"),this.removeHandler(e(document),"mouseup.button"+this.element.id,this.mouseupfunc),this.isTouchDevice&&(this.removeHandler(this.host,e.jqx.mobile.getTouchEventName("touchstart")),this.removeHandler(e(document),e.jqx.mobile.getTouchEventName("touchend")+"."+this.element.id)),this.mouseupfunc=null,delete this.mouseupfunc},focus:function(){this.host.focus()},destroy:function(){this._removeHandlers()
var t=e.data(this.element,"jqxButton")
t&&delete t.instance,this.host.removeClass(),this.host.removeData(),this.host.remove(),delete this.set,delete this.get,delete this.call,delete this.element,delete this.host},render:function(){this.refresh()},propertiesChangedHandler:function(e,t,i){i&&i.width&&i.height&&2==Object.keys(i).length&&(e._setSize(),e.refresh())},propertyChangedHandler:function(e,t,i,n){null!=this.isInitialized&&0!=this.isInitialized&&n!=i&&(e.batchUpdate&&e.batchUpdate.width&&e.batchUpdate.height&&2==Object.keys(e.batchUpdate).length||("type"===t&&e.element.setAttribute("type",n),"textImageRelation"!=t&&"textPosition"!=t&&"imgPosition"!=t||(e._img?e._positionTextAndImage():e._addImage("jqxButton")),"imgSrc"!=t&&"imgWidth"!=t&&"imgHeight"!=t&&"value"!=t||e._addImage("jqxButton"),"width"!=t&&"height"!=t||(e._setSize(),e.refresh())))},refresh:function(){if(!this.overrideTheme){var e=this.toThemeProperty("jqx-fill-state-focus"),t=this.toThemeProperty("jqx-fill-state-disabled"),i=this.toThemeProperty("jqx-fill-state-normal")
this.enableDefault||(i="")
var n=this.toThemeProperty("jqx-fill-state-hover"),r=this.toThemeProperty("jqx-fill-state-pressed"),o=this.toThemeProperty("jqx-fill-state-pressed")
this.enablePressed||(r="")
var a=""
if(this.host){if(this.element.disabled=this.disabled,this.disabled)return this._oldCSSCurrent&&this.buttonObj.removeClass(this._oldCSSCurrent),a=i+" "+t,"default"!==this.template&&""!==this.template&&(a+=" jqx-"+this.template,""!=this.theme&&(a+=" jqx-"+this.template+"-"+this.theme)),this.buttonObj.addClass(a),void(this._oldCSSCurrent=a)
a=this.isMouseOver&&!this.isTouchDevice?this.isPressed?o:n:this.isPressed?r:i,this.isFocused&&(a+=" "+e),"default"!==this.template&&""!==this.template&&(a+=" jqx-"+this.template,""!=this.theme&&(a+=" jqx-"+this.template+"-"+this.theme)),a!=this._oldCSSCurrent&&(this._oldCSSCurrent&&this.buttonObj.removeClass(this._oldCSSCurrent),this.buttonObj.addClass(a),this._oldCSSCurrent=a),this.rtl&&(this.buttonObj.addClass(this.toThemeProperty("jqx-rtl")),this.element.style.direction="rtl")}}}}),e.jqx.jqxWidget("jqxLinkButton","",{}),e.extend(e.jqx._jqxLinkButton.prototype,{defineInstance:function(){this.disabled=!1,this.height=null,this.width=null,this.rtl=!1,this.href=null},createInstance:function(t){var i=this
this.host.onselectstart=function(){return!1},this.host.attr("role","button")
var n=this.height||this.element.offsetHeight,r=this.width||this.element.offsetWidth
this.href=this.element.getAttribute("href"),this.target=this.element.getAttribute("target"),this.content=this.host.text(),this.element.innerHTML=""
var o=document.createElement("input")
o.type="button",o.className="jqx-wrapper "+this.toThemeProperty("jqx-reset"),this._setSize(o,r,n),o.value=this.content,new e(this.element).addClass(this.toThemeProperty("jqx-link")),this.element.style.color="inherit",this.element.appendChild(o),this._setSize(o,r,n)
var a=null==t?{}:t[0]||{}
e(o).jqxButton(a),this.wrapElement=o,this.disabled&&(this.element.disabled=!0),this.propertyChangeMap.disabled=function(e,t,i,n){e.element.disabled=n,e.wrapElement.jqxButton({disabled:n})},this.addHandler(e(o),"click",function(e){return this.disabled||i.onclick(e),!1})},_setSize:function(e,t,i){i&&(isNaN(i)||(i+="px"),e.style.height=i),t&&(isNaN(t)||(t+="px"),e.style.width=t)},onclick:function(e){null!=this.target?window.open(this.href,this.target):window.location=this.href}}),e.jqx.jqxWidget("jqxRepeatButton","jqxButton",{}),e.extend(e.jqx._jqxRepeatButton.prototype,{defineInstance:function(){this.delay=50},createInstance:function(t){var i=this,n=e.jqx.mobile.isTouchDevice(),r=n?"touchend."+this.base.element.id:"mouseup."+this.base.element.id,o=n?"touchstart."+this.base.element.id:"mousedown."+this.base.element.id
this.addHandler(e(document),r,function(e){null!=i.timeout&&(clearTimeout(i.timeout),i.timeout=null,i.refresh()),null!=i.timer&&(clearInterval(i.timer),i.timer=null,i.refresh())}),this.addHandler(this.base.host,o,function(e){null!=i.timer&&clearInterval(i.timer),i.timeout=setTimeout(function(){clearInterval(i.timer),i.timer=setInterval(function(e){i.ontimer(e)},i.delay)},150)}),this.mousemovefunc=function(e){n||0==e.which&&null!=i.timer&&(clearInterval(i.timer),i.timer=null)},this.addHandler(this.base.host,"mousemove",this.mousemovefunc)},destroy:function(){var t=e.jqx.mobile.isTouchDevice(),i=t?"touchend."+this.base.element.id:"mouseup."+this.base.element.id,n=t?"touchstart."+this.base.element.id:"mousedown."+this.base.element.id
this.removeHandler(this.base.host,"mousemove",this.mousemovefunc),this.removeHandler(this.base.host,n),this.removeHandler(e(document),i),this.timer=null,delete this.mousemovefunc,delete this.timer
var r=e.data(this.base.element,"jqxRepeatButton")
r&&delete r.instance,e(this.base.element).removeData(),this.base.destroy(),delete this.base},stop:function(){clearInterval(this.timer),this.timer=null},ontimer:function(t){t=new e.Event("click")
null!=this.base&&null!=this.base.host&&this.base.host.trigger(t)}}),e.jqx.jqxWidget("jqxToggleButton","jqxButton",{}),e.extend(e.jqx._jqxToggleButton.prototype,{defineInstance:function(){this.toggled=!1,this.uiToggle=!0,this.aria={"aria-checked":{name:"toggled",type:"boolean"},"aria-disabled":{name:"disabled",type:"boolean"}}},createInstance:function(t){var i=this
i.base.overrideTheme=!0,i.isTouchDevice=e.jqx.mobile.isTouchDevice(),e.jqx.aria(this),i.propertyChangeMap.roundedCorners=function(t,i,n,r){t.base.buttonObj.removeClass(t.toThemeProperty(e.jqx.cssroundedcorners(n))),t.base.buttonObj.addClass(t.toThemeProperty(e.jqx.cssroundedcorners(r)))},i.propertyChangeMap.toggled=function(e,t,i,n){e.refresh()},i.propertyChangeMap.disabled=function(e,t,i,n){e.base.disabled=n,e.refresh()},i.addHandler(i.base.host,"click",function(e){!i.base.disabled&&i.uiToggle&&i.toggle()}),i.isTouchDevice||(i.addHandler(i.base.host,"mouseenter",function(e){i.base.disabled||i.refresh()}),i.addHandler(i.base.host,"mouseleave",function(e){i.base.disabled||i.refresh()})),i.addHandler(i.base.host,"mousedown",function(e){i.base.disabled||i.refresh()}),i.addHandler(e(document),"mouseup.togglebutton"+i.base.element.id,function(e){i.base.disabled||i.refresh()})},destroy:function(){this._removeHandlers(),this.base.destroy()},_removeHandlers:function(){this.removeHandler(this.base.host,"click"),this.removeHandler(this.base.host,"mouseenter"),this.removeHandler(this.base.host,"mouseleave"),this.removeHandler(this.base.host,"mousedown"),this.removeHandler(e(document),"mouseup.togglebutton"+this.base.element.id)},toggle:function(){this.toggled=!this.toggled,this.refresh(),e.jqx.aria(this,"aria-checked",this.toggled)},unCheck:function(){this.toggled=!1,this.refresh()},check:function(){this.toggled=!0,this.refresh()},refresh:function(){var e=this.base.toThemeProperty("jqx-fill-state-disabled"),t=this.base.toThemeProperty("jqx-fill-state-normal")
this.base.enableDefault||(t="")
var i=this.base.toThemeProperty("jqx-fill-state-hover"),n=this.base.toThemeProperty("jqx-fill-state-pressed"),r=this.base.toThemeProperty("jqx-fill-state-pressed"),o=""
if(this.base.element.disabled=this.base.disabled,this.base.disabled)return o=t+" "+e,void this.base.buttonObj.addClass(o)
o=this.base.isMouseOver&&!this.isTouchDevice?this.base.isPressed||this.toggled?r:i:this.base.isPressed||this.toggled?n:t,"default"!==this.base.template&&""!==this.base.template&&(o+=" jqx-"+this.base.template,""!=this.base.theme&&(o+=" jqx-"+this.template+"-"+this.base.theme)),this.base.buttonObj.hasClass(e)&&e!=o&&this.base.buttonObj.removeClass(e),this.base.buttonObj.hasClass(t)&&t!=o&&this.base.buttonObj.removeClass(t),this.base.buttonObj.hasClass(i)&&i!=o&&this.base.buttonObj.removeClass(i),this.base.buttonObj.hasClass(n)&&n!=o&&this.base.buttonObj.removeClass(n),this.base.buttonObj.hasClass(r)&&r!=o&&this.base.buttonObj.removeClass(r),this.base.buttonObj.hasClass(o)||this.base.buttonObj.addClass(o)}})}(jqxBaseFramework)
var ri=Object.freeze({})
!function(e){e.jqx.jqxWidget("jqxScrollBar","",{}),e.extend(e.jqx._jqxScrollBar.prototype,{defineInstance:function(){var t={height:null,width:null,vertical:!1,min:0,max:1e3,value:0,step:10,largestep:50,thumbMinSize:10,thumbSize:0,thumbStep:"auto",roundedCorners:"all",showButtons:!0,disabled:!1,touchMode:"auto",touchModeStyle:"auto",thumbTouchSize:0,_triggervaluechanged:!0,rtl:!1,areaDownCapture:!1,areaUpCapture:!1,_initialLayout:!1,offset:0,reference:0,velocity:0,frame:0,timestamp:0,ticker:null,amplitude:0,target:0}
return this===e.jqx._jqxScrollBar.prototype?t:(e.extend(!0,this,t),t)},createInstance:function(e){this.render()},render:function(){this._mouseup=new Date
var t=this,i="<div id='jqxScrollOuterWrap' style='box-sizing: content-box; width:100%; height: 100%; align:left; border: 0px; valign:top; position: relative;'><div id='jqxScrollWrap' style='box-sizing: content-box; width:100%; height: 100%; left: 0px; top: 0px; align:left; valign:top; position: absolute;'><div id='jqxScrollBtnUp' style='box-sizing: content-box; align:left; valign:top; left: 0px; top: 0px; position: absolute;'><div></div></div><div id='jqxScrollAreaUp' style='box-sizing: content-box; align:left; valign:top; left: 0px; top: 0px; position: absolute;'></div><div id='jqxScrollThumb' style='box-sizing: content-box; align:left; valign:top; left: 0px; top: 0px; position: absolute;'></div><div id='jqxScrollAreaDown' style='box-sizing: content-box; align:left; valign:top; left: 0px; top: 0px; position: absolute;'></div><div id='jqxScrollBtnDown' style='box-sizing: content-box; align:left; valign:top; left: 0px; top: 0px; position: absolute;'><div></div></div></div></div>"
if(e.jqx.utilities&&"hidden"==e.jqx.utilities.scrollBarButtonsVisibility&&(this.showButtons=!1),t.WinJS?MSApp.execUnsafeLocalFunction(function(){t.host.html(i)}):this.element.innerHTML=i,null!=this.width&&parseInt(this.width)>0&&this.host.width(parseInt(this.width)),null!=this.height&&parseInt(this.height)>0&&this.host.height(parseInt(this.height)),this.isPercentage=!1,null!=this.width&&-1!=this.width.toString().indexOf("%")&&(this.host.width(this.width),this.isPercentage=!0),null!=this.height&&-1!=this.height.toString().indexOf("%")&&(this.host.height(this.height),this.isPercentage=!0),this.isPercentage){var n=this
e.jqx.utilities.resize(this.host,function(){n._arrange()},!1)}this.thumbCapture=!1,this.scrollOuterWrap=e(this.element.firstChild),this.scrollWrap=e(this.scrollOuterWrap[0].firstChild),this.btnUp=e(this.scrollWrap[0].firstChild),this.areaUp=e(this.btnUp[0].nextSibling),this.btnThumb=e(this.areaUp[0].nextSibling),this.arrowUp=e(this.btnUp[0].firstChild),this.areaDown=e(this.btnThumb[0].nextSibling),this.btnDown=e(this.areaDown[0].nextSibling),this.arrowDown=e(this.btnDown[0].firstChild)
var r=this.element.id
if(this.btnUp[0].id="jqxScrollBtnUp"+r,this.btnDown[0].id="jqxScrollBtnDown"+r,this.btnThumb[0].id="jqxScrollThumb"+r,this.areaUp[0].id="jqxScrollAreaUp"+r,this.areaDown[0].id="jqxScrollAreaDown"+r,this.scrollWrap[0].id="jqxScrollWrap"+r,this.scrollOuterWrap[0].id="jqxScrollOuterWrap"+r,!this.host.jqxRepeatButton)throw new Error("jqxScrollBar: Missing reference to jqxbuttons.js.")
this.btnUp.jqxRepeatButton({_ariaDisabled:!0,overrideTheme:!0,disabled:this.disabled}),this.btnDown.jqxRepeatButton({_ariaDisabled:!0,overrideTheme:!0,disabled:this.disabled}),this.btnDownInstance=e.data(this.btnDown[0],"jqxRepeatButton").instance,this.btnUpInstance=e.data(this.btnUp[0],"jqxRepeatButton").instance,this.areaUp.jqxRepeatButton({_scrollAreaButton:!0,_ariaDisabled:!0,overrideTheme:!0}),this.areaDown.jqxRepeatButton({_scrollAreaButton:!0,_ariaDisabled:!0,overrideTheme:!0}),this.btnThumb.jqxButton({_ariaDisabled:!0,overrideTheme:!0,disabled:this.disabled}),this.propertyChangeMap.value=function(e,t,i,n){isNaN(n)||i!=n&&e.setPosition(parseFloat(n),!0)},this.propertyChangeMap.width=function(e,t,i,n){null!=e.width&&parseInt(e.width)>0&&(e.host.width(parseInt(e.width)),e._arrange())},this.propertyChangeMap.height=function(e,t,i,n){null!=e.height&&parseInt(e.height)>0&&(e.host.height(parseInt(e.height)),e._arrange())},this.propertyChangeMap.theme=function(e,t,i,n){e.setTheme()},this.propertyChangeMap.max=function(e,t,i,n){isNaN(n)||i!=n&&(e.max=parseInt(n),e.min>e.max&&(e.max=e.min+1),e._arrange(),e.setPosition(e.value))},this.propertyChangeMap.min=function(e,t,i,n){isNaN(n)||i!=n&&(e.min=parseInt(n),e.min>e.max&&(e.max=e.min+1),e._arrange(),e.setPosition(e.value))},this.propertyChangeMap.disabled=function(e,t,i,n){i!=n&&(n?e.host.addClass(e.toThemeProperty("jqx-fill-state-disabled")):e.host.removeClass(e.toThemeProperty("jqx-fill-state-disabled")),e.btnUp.jqxRepeatButton("disabled",e.disabled),e.btnDown.jqxRepeatButton("disabled",e.disabled),e.btnThumb.jqxButton("disabled",e.disabled))},this.propertyChangeMap.touchMode=function(e,t,i,n){i!=n&&(e._updateTouchBehavior(),!0===n?(e.showButtons=!1,e.refresh()):!1===n&&(e.showButtons=!0,e.refresh()))},this.propertyChangeMap.rtl=function(e,t,i,n){i!=n&&e.refresh()},this.buttonUpCapture=!1,this.buttonDownCapture=!1,this._updateTouchBehavior(),this.setPosition(this.value),this._addHandlers(),this.setTheme()},resize:function(e,t){this.width=e,this.height=t,this._arrange()},_updateTouchBehavior:function(){if(this.isTouchDevice=e.jqx.mobile.isTouchDevice(),1==this.touchMode){if(e.jqx.browser.msie&&e.jqx.browser.version<9)return void this.setTheme()
this.isTouchDevice=!0,e.jqx.mobile.setMobileSimulator(this.btnThumb[0]),this._removeHandlers(),this._addHandlers(),this.setTheme()}else 0==this.touchMode&&(this.isTouchDevice=!1)},_addHandlers:function(){var t=this,i=!1
try{("ontouchstart"in window||window.DocumentTouch&&document instanceof DocumentTouch)&&(i=!0,this._touchSupport=!0)}catch(e){}if((t.isTouchDevice||i)&&(this.addHandler(this.btnThumb,e.jqx.mobile.getTouchEventName("touchend"),function(e){var i=t.vertical?t.toThemeProperty("jqx-scrollbar-thumb-state-pressed"):t.toThemeProperty("jqx-scrollbar-thumb-state-pressed-horizontal"),n=t.toThemeProperty("jqx-fill-state-pressed")
return t.btnThumb.removeClass(i),t.btnThumb.removeClass(n),t.disabled||t.handlemouseup(t,e),!1}),this.addHandler(this.btnThumb,e.jqx.mobile.getTouchEventName("touchstart"),function(e){if(!t.disabled){if(1==t.touchMode)e.clientX=e.originalEvent.clientX,e.clientY=e.originalEvent.clientY
else{var i=e
i.originalEvent.touches&&i.originalEvent.touches.length?(e.clientX=i.originalEvent.touches[0].clientX,e.clientY=i.originalEvent.touches[0].clientY):(e.clientX=e.originalEvent.clientX,e.clientY=e.originalEvent.clientY)}t.handlemousedown(e),e.preventDefault&&e.preventDefault()}}),e.jqx.mobile.touchScroll(this.element,t.max,function(e,i,n,r,o){if("visible"==t.host.css("visibility")){if(1==t.touchMode)o.clientX=o.originalEvent.clientX,o.clientY=o.originalEvent.clientY
else{var a=o
a.originalEvent.touches&&a.originalEvent.touches.length?(o.clientX=a.originalEvent.touches[0].clientX,o.clientY=a.originalEvent.touches[0].clientY):(o.clientX=o.originalEvent.clientX,o.clientY=o.originalEvent.clientY)}var s=t.vertical?t.toThemeProperty("jqx-scrollbar-thumb-state-pressed"):t.toThemeProperty("jqx-scrollbar-thumb-state-pressed-horizontal")
t.btnThumb.addClass(s),t.btnThumb.addClass(t.toThemeProperty("jqx-fill-state-pressed")),t.thumbCapture=!0,t.handlemousemove(o)}},t.element.id,t.host,t.host)),!this.isTouchDevice){try{if((""!=document.referrer||window.frameElement)&&null!=window.top&&window.top!=window.self){var n=null
if(window.parent&&document.referrer&&(n=document.referrer),n&&-1!=n.indexOf(document.location.host)){var r=function(e){t.disabled||t.handlemouseup(t,e)}
window.top.document.addEventListener?window.top.document.addEventListener("mouseup",r,!1):window.top.document.attachEvent&&window.top.document.attachEvent("onmouseup",r)}}}catch(e){}this.addHandler(this.btnDown,"click mouseup mousedown",function(e){var i=t.step
switch(Math.abs(t.max-t.min)<=i&&(i=1),t.rtl&&!t.vertical&&(i=-t.step),e.type){case"click":t.buttonDownCapture&&!t.isTouchDevice?t.disabled||t.setPosition(t.value+i):!t.disabled&&t.isTouchDevice&&t.setPosition(t.value+i)
break
case"mouseup":if(!t.btnDownInstance.base.disabled&&t.buttonDownCapture)return t.buttonDownCapture=!1,t.btnDown.removeClass(t.toThemeProperty("jqx-scrollbar-button-state-pressed")),t.btnDown.removeClass(t.toThemeProperty("jqx-fill-state-pressed")),t._removeArrowClasses("pressed","down"),t.handlemouseup(t,e),t.setPosition(t.value+i),!1
break
case"mousedown":if(!t.btnDownInstance.base.disabled)return t.buttonDownCapture=!0,t.btnDown.addClass(t.toThemeProperty("jqx-fill-state-pressed")),t.btnDown.addClass(t.toThemeProperty("jqx-scrollbar-button-state-pressed")),t._addArrowClasses("pressed","down"),!1}}),this.addHandler(this.btnUp,"click mouseup mousedown",function(e){var i=t.step
switch(Math.abs(t.max-t.min)<=i&&(i=1),t.rtl&&!t.vertical&&(i=-t.step),e.type){case"click":t.buttonUpCapture&&!t.isTouchDevice?t.disabled||t.setPosition(t.value-i):!t.disabled&&t.isTouchDevice&&t.setPosition(t.value-i)
break
case"mouseup":if(!t.btnUpInstance.base.disabled&&t.buttonUpCapture)return t.buttonUpCapture=!1,t.btnUp.removeClass(t.toThemeProperty("jqx-scrollbar-button-state-pressed")),t.btnUp.removeClass(t.toThemeProperty("jqx-fill-state-pressed")),t._removeArrowClasses("pressed","up"),t.handlemouseup(t,e),t.setPosition(t.value-i),!1
break
case"mousedown":if(!t.btnUpInstance.base.disabled)return t.buttonUpCapture=!0,t.btnUp.addClass(t.toThemeProperty("jqx-fill-state-pressed")),t.btnUp.addClass(t.toThemeProperty("jqx-scrollbar-button-state-pressed")),t._addArrowClasses("pressed","up"),!1}})}var o="click"
if(this.isTouchDevice&&(o=e.jqx.mobile.getTouchEventName("touchend")),this.addHandler(this.areaUp,o,function(e){if(!t.disabled){var i=t.largestep
return t.rtl&&!t.vertical&&(i=-t.largestep),t.setPosition(t.value-i),!1}}),this.addHandler(this.areaDown,o,function(e){if(!t.disabled){var i=t.largestep
return t.rtl&&!t.vertical&&(i=-t.largestep),t.setPosition(t.value+i),!1}}),this.addHandler(this.areaUp,"mousedown",function(e){if(!t.disabled)return t.areaUpCapture=!0,!1}),this.addHandler(this.areaDown,"mousedown",function(e){if(!t.disabled)return t.areaDownCapture=!0,!1}),this.addHandler(this.btnThumb,"mousedown dragstart",function(e){if("dragstart"===e.type)return!1
t.disabled||t.handlemousedown(e),e.preventDefault&&e.preventDefault()}),this.addHandler(e(document),"mouseup."+this.element.id,function(e){t.disabled||t.handlemouseup(t,e)}),!this.isTouchDevice&&(this.mousemoveFunc=function(e){t.disabled||t.handlemousemove(e)},this.addHandler(e(document),"mousemove."+this.element.id,this.mousemoveFunc),this.addHandler(e(document),"mouseleave."+this.element.id,function(e){t.disabled||t.handlemouseleave(e)}),this.addHandler(e(document),"mouseenter."+this.element.id,function(e){t.disabled||t.handlemouseenter(e)}),!t.disabled)){this.addHandler(this.btnUp,"mouseenter mouseleave",function(e){"mouseenter"===e.type?t.disabled||t.btnUpInstance.base.disabled||1==t.touchMode||(t.btnUp.addClass(t.toThemeProperty("jqx-scrollbar-button-state-hover")),t.btnUp.addClass(t.toThemeProperty("jqx-fill-state-hover")),t._addArrowClasses("hover","up")):t.disabled||t.btnUpInstance.base.disabled||1==t.touchMode||(t.btnUp.removeClass(t.toThemeProperty("jqx-scrollbar-button-state-hover")),t.btnUp.removeClass(t.toThemeProperty("jqx-fill-state-hover")),t._removeArrowClasses("hover","up"))})
var a=t.toThemeProperty("jqx-scrollbar-thumb-state-hover")
t.vertical||(a=t.toThemeProperty("jqx-scrollbar-thumb-state-hover-horizontal")),this.addHandler(this.btnThumb,"mouseenter mouseleave",function(e){"mouseenter"===e.type?t.disabled||1==t.touchMode||(t.btnThumb.addClass(a),t.btnThumb.addClass(t.toThemeProperty("jqx-fill-state-hover"))):t.disabled||1==t.touchMode||(t.btnThumb.removeClass(a),t.btnThumb.removeClass(t.toThemeProperty("jqx-fill-state-hover")))}),this.addHandler(this.btnDown,"mouseenter mouseleave",function(e){"mouseenter"===e.type?t.disabled||t.btnDownInstance.base.disabled||1==t.touchMode||(t.btnDown.addClass(t.toThemeProperty("jqx-scrollbar-button-state-hover")),t.btnDown.addClass(t.toThemeProperty("jqx-fill-state-hover")),t._addArrowClasses("hover","down")):t.disabled||t.btnDownInstance.base.disabled||1==t.touchMode||(t.btnDown.removeClass(t.toThemeProperty("jqx-scrollbar-button-state-hover")),t.btnDown.removeClass(t.toThemeProperty("jqx-fill-state-hover")),t._removeArrowClasses("hover","down"))})}},destroy:function(){var t=this.btnUp,i=this.btnDown,n=this.btnThumb,r=(this.scrollWrap,this.areaUp),o=this.areaDown
this.arrowUp.remove(),delete this.arrowUp,this.arrowDown.remove(),delete this.arrowDown,o.removeClass(),r.removeClass(),i.removeClass(),t.removeClass(),n.removeClass(),t.jqxRepeatButton("destroy"),i.jqxRepeatButton("destroy"),r.jqxRepeatButton("destroy"),o.jqxRepeatButton("destroy"),n.jqxButton("destroy")
var a=e.data(this.element,"jqxScrollBar")
this._removeHandlers(),this.btnUp=null,this.btnDown=null,this.scrollWrap=null,this.areaUp=null,this.areaDown=null,this.scrollOuterWrap=null,delete this.mousemoveFunc,delete this.btnDownInstance,delete this.btnUpInstance,delete this.scrollOuterWrap,delete this.scrollWrap,delete this.btnDown,delete this.areaDown,delete this.areaUp,delete this.btnDown,delete this.btnUp,delete this.btnThumb,delete this.propertyChangeMap.value,delete this.propertyChangeMap.min,delete this.propertyChangeMap.max,delete this.propertyChangeMap.touchMode,delete this.propertyChangeMap.disabled,delete this.propertyChangeMap.theme,delete this.propertyChangeMap,a&&delete a.instance,this.host.removeData(),this.host.remove(),delete this.host,delete this.set,delete this.get,delete this.call,delete this.element},_removeHandlers:function(){this.removeHandler(this.btnUp,"mouseenter"),this.removeHandler(this.btnDown,"mouseenter"),this.removeHandler(this.btnThumb,"mouseenter"),this.removeHandler(this.btnUp,"mouseleave"),this.removeHandler(this.btnDown,"mouseleave"),this.removeHandler(this.btnThumb,"mouseleave"),this.removeHandler(this.btnUp,"click"),this.removeHandler(this.btnDown,"click"),this.removeHandler(this.btnDown,"mouseup"),this.removeHandler(this.btnUp,"mouseup"),this.removeHandler(this.btnDown,"mousedown"),this.removeHandler(this.btnUp,"mousedown"),this.removeHandler(this.areaUp,"mousedown"),this.removeHandler(this.areaDown,"mousedown"),this.removeHandler(this.areaUp,"click"),this.removeHandler(this.areaDown,"click"),this.removeHandler(this.btnThumb,"mousedown"),this.removeHandler(this.btnThumb,"dragstart"),this.removeHandler(e(document),"mouseup."+this.element.id),this.mousemoveFunc?this.removeHandler(e(document),"mousemove."+this.element.id,this.mousemoveFunc):this.removeHandler(e(document),"mousemove."+this.element.id),this.removeHandler(e(document),"mouseleave."+this.element.id),this.removeHandler(e(document),"mouseenter."+this.element.id)},_addArrowClasses:function(e,t){"pressed"==e&&(e="selected"),""!=e&&(e="-"+e),this.vertical?("up"!=t&&null!=t||this.arrowUp.addClass(this.toThemeProperty("jqx-icon-arrow-up"+e)),"down"!=t&&null!=t||this.arrowDown.addClass(this.toThemeProperty("jqx-icon-arrow-down"+e))):("up"!=t&&null!=t||this.arrowUp.addClass(this.toThemeProperty("jqx-icon-arrow-left"+e)),"down"!=t&&null!=t||this.arrowDown.addClass(this.toThemeProperty("jqx-icon-arrow-right"+e)))},_removeArrowClasses:function(e,t){"pressed"==e&&(e="selected"),""!=e&&(e="-"+e),this.vertical?("up"!=t&&null!=t||this.arrowUp.removeClass(this.toThemeProperty("jqx-icon-arrow-up"+e)),"down"!=t&&null!=t||this.arrowDown.removeClass(this.toThemeProperty("jqx-icon-arrow-down"+e))):("up"!=t&&null!=t||this.arrowUp.removeClass(this.toThemeProperty("jqx-icon-arrow-left"+e)),"down"!=t&&null!=t||this.arrowDown.removeClass(this.toThemeProperty("jqx-icon-arrow-right"+e)))},setTheme:function(){var t=this.btnUp,i=this.btnDown,n=this.btnThumb,r=this.scrollWrap,o=(this.areaUp,this.areaDown,this.arrowUp),a=this.arrowDown,s=this.btnUp,l=this.btnDown
this.scrollWrap[0].className=this.toThemeProperty("jqx-reset"),this.scrollOuterWrap[0].className=this.toThemeProperty("jqx-reset")
var d=this.toThemeProperty("jqx-reset")
this.areaDown[0].className=d,this.areaUp[0].className=d
var c=this.toThemeProperty("jqx-scrollbar")+" "+this.toThemeProperty("jqx-widget")+" "+this.toThemeProperty("jqx-widget-content")
this.host.addClass(c),this.isTouchDevice&&this.host.addClass(this.toThemeProperty("jqx-scrollbar-mobile")),i[0].className=this.toThemeProperty("jqx-scrollbar-button-state-normal"),t[0].className=this.toThemeProperty("jqx-scrollbar-button-state-normal")
var h=""
if(this.vertical?(o[0].className=d+" "+this.toThemeProperty("jqx-icon-arrow-up"),a[0].className=d+" "+this.toThemeProperty("jqx-icon-arrow-down"),h=this.toThemeProperty("jqx-scrollbar-thumb-state-normal")):(o[0].className=d+" "+this.toThemeProperty("jqx-icon-arrow-left"),a[0].className=d+" "+this.toThemeProperty("jqx-icon-arrow-right"),h=this.toThemeProperty("jqx-scrollbar-thumb-state-normal-horizontal")),h+=" "+this.toThemeProperty("jqx-fill-state-normal"),n[0].className=h,this.disabled?(r.addClass(this.toThemeProperty("jqx-fill-state-disabled")),r.removeClass(this.toThemeProperty("jqx-scrollbar-state-normal"))):(r.addClass(this.toThemeProperty("jqx-scrollbar-state-normal")),r.removeClass(this.toThemeProperty("jqx-fill-state-disabled"))),"all"==this.roundedCorners)if(this.host.addClass(this.toThemeProperty("jqx-rc-all")),this.vertical){var u=e.jqx.cssroundedcorners("top")
u=this.toThemeProperty(u),t.addClass(u)
var p=e.jqx.cssroundedcorners("bottom")
p=this.toThemeProperty(p),i.addClass(p)}else{var m=e.jqx.cssroundedcorners("left")
m=this.toThemeProperty(m),t.addClass(m)
var f=e.jqx.cssroundedcorners("right")
f=this.toThemeProperty(f),i.addClass(f)}else{var g=e.jqx.cssroundedcorners(this.roundedCorners)
g=this.toThemeProperty(g),s.addClass(g),l.addClass(g)}g=e.jqx.cssroundedcorners(this.roundedCorners)
g=this.toThemeProperty(g),n.hasClass(g)||n.addClass(g),"none"===t.css("display")&&(this.showButtons=!1,this.touchModeStyle=!0,n.addClass(this.toThemeProperty("jqx-scrollbar-thumb-state-normal-touch"))),this.isTouchDevice&&0!=this.touchModeStyle&&(this.showButtons=!1,n.addClass(this.toThemeProperty("jqx-scrollbar-thumb-state-normal-touch")))},isScrolling:function(){return null!=this.thumbCapture&&null!=this.buttonDownCapture&&null!=this.buttonUpCapture&&null!=this.areaDownCapture&&null!=this.areaUpCapture&&(this.thumbCapture||this.buttonDownCapture||this.buttonUpCapture||this.areaDownCapture||this.areaUpCapture)},track:function(){var e,t,i,n
t=(e=Date.now())-this.timestamp,this.timestamp=e,i=this.offset-this.frame,this.frame=this.offset,n=1e3*i/(1+t),this.velocity=.2*n+.2*this.velocity},handlemousedown:function(t){if(null==this.thumbCapture||0==this.thumbCapture){this.thumbCapture=!0
var i=this.btnThumb
null!=i&&(i.addClass(this.toThemeProperty("jqx-fill-state-pressed")),this.vertical?i.addClass(this.toThemeProperty("jqx-scrollbar-thumb-state-pressed")):i.addClass(this.toThemeProperty("jqx-scrollbar-thumb-state-pressed-horizontal")))}var n=this
this.thumbCapture&&e.jqx.scrollAnimation&&(n.reference=parseInt(n.btnThumb[0].style.top),n.offset=parseInt(n.btnThumb[0].style.top),n.vertical||(n.reference=parseInt(n.btnThumb[0].style.left),n.offset=parseInt(n.btnThumb[0].style.left)),n.velocity=n.amplitude=0,n.frame=n.offset,n.timestamp=Date.now(),clearInterval(n.ticker),n.ticker=setInterval(function(){n.track()},100)),this.dragStartX=t.clientX,this.dragStartY=t.clientY,this.dragStartValue=this.value},toggleHover:function(e,t){},refresh:function(){this._arrange()},_setElementPosition:function(e,t,i){isNaN(t)||parseInt(e[0].style.left)!=parseInt(t)&&(e[0].style.left=t+"px"),isNaN(i)||parseInt(e[0].style.top)!=parseInt(i)&&(e[0].style.top=i+"px")},_setElementTopPosition:function(e,t){isNaN(t)||(e[0].style.top=t+"px")},_setElementLeftPosition:function(e,t){isNaN(t)||(e[0].style.left=t+"px")},handlemouseleave:function(e){var t=this.btnUp,i=this.btnDown
if((this.buttonDownCapture||this.buttonUpCapture)&&(t.removeClass(this.toThemeProperty("jqx-scrollbar-button-state-pressed")),i.removeClass(this.toThemeProperty("jqx-scrollbar-button-state-pressed")),this._removeArrowClasses("pressed")),1==this.thumbCapture){var n=this.btnThumb,r=this.vertical?this.toThemeProperty("jqx-scrollbar-thumb-state-pressed"):this.toThemeProperty("jqx-scrollbar-thumb-state-pressed-horizontal")
n.removeClass(r),n.removeClass(this.toThemeProperty("jqx-fill-state-pressed"))}},handlemouseenter:function(e){var t=this.btnUp,i=this.btnDown
if(this.buttonUpCapture&&(t.addClass(this.toThemeProperty("jqx-scrollbar-button-state-pressed")),t.addClass(this.toThemeProperty("jqx-fill-state-pressed")),this._addArrowClasses("pressed","up")),this.buttonDownCapture&&(i.addClass(this.toThemeProperty("jqx-scrollbar-button-state-pressed")),i.addClass(this.toThemeProperty("jqx-fill-state-pressed")),this._addArrowClasses("pressed","down")),1==this.thumbCapture){var n=this.btnThumb
this.vertical?n.addClass(this.toThemeProperty("jqx-scrollbar-thumb-state-pressed")):n.addClass(this.toThemeProperty("jqx-scrollbar-thumb-state-pressed-horizontal")),n.addClass(this.toThemeProperty("jqx-fill-state-pressed"))}},handlemousemove:function(e){var t=this.btnUp,i=this.btnDown
if(null!=i&&null!=t){if(null!=t&&null!=i&&null!=this.buttonDownCapture&&null!=this.buttonUpCapture&&(this.buttonDownCapture&&0==e.which?(i.removeClass(this.toThemeProperty("jqx-scrollbar-button-state-pressed")),i.removeClass(this.toThemeProperty("jqx-fill-state-pressed")),this._removeArrowClasses("pressed","down"),this.buttonDownCapture=!1):this.buttonUpCapture&&0==e.which&&(t.removeClass(this.toThemeProperty("jqx-scrollbar-button-state-pressed")),t.removeClass(this.toThemeProperty("jqx-fill-state-pressed")),this._removeArrowClasses("pressed","up"),this.buttonUpCapture=!1)),1!=this.thumbCapture)return!1
var n=this.btnThumb
if(0==e.which&&!this.isTouchDevice&&!this._touchSupport){this.thumbCapture=!1,this._arrange()
var r=this.vertical?this.toThemeProperty("jqx-scrollbar-thumb-state-pressed"):this.toThemeProperty("jqx-scrollbar-thumb-state-pressed-horizontal")
return n.removeClass(r),n.removeClass(this.toThemeProperty("jqx-fill-state-pressed")),!0}null!=e.preventDefault&&e.preventDefault(),null!=e.originalEvent&&(e.originalEvent.mouseHandled=!0),null!=e.stopPropagation&&e.stopPropagation()
var o=0
try{o=this.vertical?e.clientY-this.dragStartY:e.clientX-this.dragStartX
var a=this._btnAndThumbSize
this._btnAndThumbSize||(a=this.vertical?t.height()+i.height()+n.height():t.width()+i.width()+n.width())
var s=(this.max-this.min)/(this.scrollBarSize-a)
if("auto"!=this.thumbStep){if(o*=s,Math.abs(this.dragStartValue+o-this.value)>=parseInt(this.thumbStep)){var l=Math.round(parseInt(o)/this.thumbStep)*this.thumbStep
return this.rtl&&!this.vertical?this.setPosition(this.dragStartValue-l):this.setPosition(this.dragStartValue+l),!1}return!1}l=o*=s
this.rtl&&!this.vertical&&(l=-o),this.setPosition(this.dragStartValue+l),this.offset=parseInt(n[0].style.left),this.vertical&&(this.offset=parseInt(n[0].style.top))}catch(e){alert(e)}return!1}},handlemouseup:function(t,i){var n=!1
if(this.thumbCapture){this.thumbCapture=!1
var r=this.btnThumb,o=this.vertical?this.toThemeProperty("jqx-scrollbar-thumb-state-pressed"):this.toThemeProperty("jqx-scrollbar-thumb-state-pressed-horizontal")
if(r.removeClass(o),r.removeClass(this.toThemeProperty("jqx-fill-state-pressed")),n=!0,this._mouseup=new Date,e.jqx.scrollAnimation){var a=this
clearInterval(this.ticker),(this.velocity>25||this.velocity<-25)&&(this.amplitude=.8*this.velocity,this.target=Math.round(this.offset+this.amplitude),this.vertical,this.target-=this.reference,this.timestamp=Date.now(),requestAnimationFrame(function e(){var t,i
if(a.amplitude)if(t=Date.now()-a.timestamp,(i=-a.amplitude*Math.exp(-t/325))>.5||i<-.5){var n=r=(a.max-a.min)/(a.scrollBarSize-a._btnAndThumbSize)*(a.target+i)
a.rtl&&!a.vertical&&(n=-r),a.setPosition(a.dragStartValue+n),requestAnimationFrame(e)}else{var r
n=r=(a.max-a.min)/(a.scrollBarSize-a._btnAndThumbSize)*(a.target+i),a.rtl&&!a.vertical&&(n=-r),a.setPosition(a.dragStartValue+n)}}))}}if(this.areaDownCapture=this.areaUpCapture=!1,this.buttonUpCapture||this.buttonDownCapture){var s=this.btnUp,l=this.btnDown
this.buttonUpCapture=!1,this.buttonDownCapture=!1,s.removeClass(this.toThemeProperty("jqx-scrollbar-button-state-pressed")),l.removeClass(this.toThemeProperty("jqx-scrollbar-button-state-pressed")),s.removeClass(this.toThemeProperty("jqx-fill-state-pressed")),l.removeClass(this.toThemeProperty("jqx-fill-state-pressed")),this._removeArrowClasses("pressed"),n=!0,this._mouseup=new Date}n&&(null!=i.preventDefault&&i.preventDefault(),null!=i.originalEvent&&(i.originalEvent.mouseHandled=!0),null!=i.stopPropagation&&i.stopPropagation())},setPosition:function(t,i){this.element
if(null!=t&&NaN!=t||(t=this.min),t>=this.max&&(t=this.max),t<this.min&&(t=this.min),this.value!==t||1==i){if(t==this.max){var n=new e.Event("complete")
this.host.trigger(n)}var r=this.value
if(this._triggervaluechanged){var o=new e.Event("valueChanged")
o.previousValue=this.value,o.currentValue=t}this.value=t,this._positionelements(),this._triggervaluechanged&&this.host.trigger(o),this.valueChanged&&this.valueChanged({currentValue:this.value,previousvalue:r})}return t},val:function(e){return function(t){for(var i in t)if(t.hasOwnProperty(i))return!1
return"number"!=typeof e&&"date"!=typeof e&&"boolean"!=typeof e&&"string"!=typeof e}(e)||0==arguments.length?this.value:(this.setPosition(e),e)},_getThumbSize:function(e){var t=this.max-this.min,i=0
return t>1?i=e/(t+e)*e:1==t?i=e-1:0==t&&(i=e),this.thumbSize>0&&(i=this.thumbSize),i<this.thumbMinSize&&(i=this.thumbMinSize),Math.min(i,e)},_positionelements:function(){this.element
var e=this.areaUp,t=this.areaDown,i=(this.btnUp,this.btnDown,this.btnThumb),n=(this.scrollWrap,this._height?this._height:this.host.height()),r=this._width?this._width:this.host.width(),o=this.vertical?r:n
this.showButtons||(o=0)
var a=this.vertical?n:r
this.scrollBarSize=a
var s=this._getThumbSize(a-2*o);(s=Math.floor(s))<this.thumbMinSize&&(s=this.thumbMinSize),(NaN==n||n<10)&&(n=10),(NaN==r||r<10)&&(r=10),o+=2,this.btnSize=o
var l=this._btnAndThumbSize
if(!this._btnAndThumbSize){l=this.vertical?2*this.btnSize+i.outerHeight():2*this.btnSize+i.outerWidth()
l=Math.round(l)}var d=(a-l)/(this.max-this.min)*(this.value-this.min)
if(this.rtl&&!this.vertical&&(d=(a-l)/(this.max-this.min)*(this.max-this.value-this.min)),(d=Math.round(d))<0&&(d=0),this.vertical){var c=a-d-l
c<0&&(c=0),t[0].style.height=c+"px",e[0].style.height=d+"px",this._setElementTopPosition(e,o),this._setElementTopPosition(i,o+d),this._setElementTopPosition(t,o+d+s)}else e[0].style.width=d+"px",t[0].style.width=a-d-l>=0?a-d-l+"px":"0px",this._setElementLeftPosition(e,o),this._setElementLeftPosition(i,o+d),this._setElementLeftPosition(t,2+o+d+s)},_arrange:function(){if(this._initialLayout)this._initialLayout=!1
else{if(this.min>this.max){var e=this.min
this.min=this.max,this.max=e}if(this.min<0){var t=this.max-this.min
this.min=0,this.max=t}this.element
var i=this.areaUp,n=this.areaDown,r=this.btnUp,o=this.btnDown,a=this.btnThumb,s=this.scrollWrap,l=parseInt(this.element.style.height),d=parseInt(this.element.style.width)
if(this.isPercentage)l=this.host.height(),d=this.host.width()
isNaN(l)&&(l=0),isNaN(d)&&(d=0),this._width=d,this._height=l
var c=this.vertical?d:l
this.showButtons||(c=0),r[0].style.width=c+"px",r[0].style.height=c+"px",o[0].style.width=c+"px",o[0].style.height=c+"px",this.vertical?s[0].style.width=d+2+"px":s[0].style.height=l+2+"px",this._setElementPosition(r,0,0)
var h=c+2
this.vertical?this._setElementPosition(o,0,l-h):this._setElementPosition(o,d-h,0)
var u=this.vertical?l:d
this.scrollBarSize=u
var p=this._getThumbSize(u-2*h);(p=Math.floor(p-2))<this.thumbMinSize&&(p=this.thumbMinSize)
var m=!1
this.isTouchDevice&&0!=this.touchModeStyle&&(m=!0),this.vertical?(a[0].style.width=d+"px",a[0].style.height=p+"px",m&&0!==this.thumbTouchSize&&(a.css({width:this.thumbTouchSize+"px"}),a.css("margin-left",(this.host.width()-this.thumbTouchSize)/2))):(a[0].style.width=p+"px",a[0].style.height=l+"px",m&&0!==this.thumbTouchSize&&(a.css({height:this.thumbTouchSize+"px"}),a.css("margin-top",(this.host.height()-this.thumbTouchSize)/2))),(NaN==l||l<10)&&(l=10),(NaN==d||d<10)&&(d=10),this.btnSize=c
var f=this.vertical?2*h+(2+parseInt(a[0].style.height)):2*h+(2+parseInt(a[0].style.width))
f=Math.round(f),this._btnAndThumbSize=f
var g=(u-f)/(this.max-this.min)*(this.value-this.min)
if(this.rtl&&!this.vertical&&(g=(u-f)/(this.max-this.min)*(this.max-this.value-this.min)),g=Math.round(g),(isNaN(g)||g<0||g===-1/0||g===1/0)&&(g=0),this.vertical){var v=u-g-f
v<0&&(v=0),n[0].style.height=v+"px",n[0].style.width=d+"px",i[0].style.height=g+"px",i[0].style.width=d+"px"
var b=parseInt(this.element.style.height)
this.isPercentage&&(b=this.host.height()),a[0].style.visibility="inherit",(b-3*parseInt(c)<0||b<f)&&(a[0].style.visibility="hidden"),this._setElementPosition(i,0,h),this._setElementPosition(a,0,h+g),this._setElementPosition(n,0,h+g+p)}else{g>0&&(i[0].style.width=g+"px"),l>0&&(i[0].style.height=l+"px")
var y=u-g-f
y<0&&(y=0),n[0].style.width=y+"px",n[0].style.height=l+"px"
var _=parseInt(this.element.style.width)
this.isPercentage&&(_=this.host.width()),a[0].style.visibility="inherit",(_-3*parseInt(c)<0||_<f)&&(a[0].style.visibility="hidden"),this._setElementPosition(i,h,0),this._setElementPosition(a,h+g,0),this._setElementPosition(n,h+g+p,0)}}}})}(jqxBaseFramework)
var oi=Object.freeze({})
!function(e){e.jqx.jqxWidget("jqxNumberInput","",{}),e.extend(e.jqx._jqxNumberInput.prototype,{defineInstance:function(){var t={value:null,decimal:0,min:-99999999,max:99999999,width:200,validationMessage:"Invalid value",height:25,textAlign:"right",readOnly:!1,promptChar:"_",decimalDigits:2,decimalSeparator:".",groupSeparator:",",groupSize:3,symbol:"",symbolPosition:"left",digits:8,negative:!1,negativeSymbol:"-",disabled:!1,inputMode:"advanced",spinButtons:!1,spinButtonsWidth:18,spinButtonsStep:1,autoValidate:!0,spinMode:"advanced",enableMouseWheel:!0,touchMode:"auto",allowNull:!0,placeHolder:"",changeType:null,template:"",rtl:!1,events:["valueChanged","textchanged","mousedown","mouseup","keydown","keyup","keypress","change"],aria:{"aria-valuenow":{name:"decimal",type:"number"},"aria-valuemin":{name:"min",type:"number"},"aria-valuemax":{name:"max",type:"number"},"aria-disabled":{name:"disabled",type:"boolean"}},invalidArgumentExceptions:["invalid argument exception"]}
return this===e.jqx._jqxNumberInput.prototype?t:(e.extend(!0,this,t),t)},createInstance:function(e){var t=this.host.attr("value")
null!=t&&(this.decimal=t),null!=this.value&&(this.decimal=this.value)
this._createFromInput("jqxNumberInput"),this.render()},_createFromInput:function(t){if("input"==this.element.nodeName.toLowerCase()){this.field=this.element,this.field.className&&(this._className=this.field.className)
var i={title:this.field.title}
if(this.field.value&&(this.decimal=parseFloat(this.field.value)),this.field.getAttribute("min")){var n=this.field.getAttribute("min")
this.min=parseFloat(n)}if(this.field.getAttribute("step")){var r=this.field.getAttribute("step")
this.spinButtonsStep=parseFloat(r)}if(this.field.getAttribute("max")){var o=this.field.getAttribute("max")
this.max=parseFloat(o)}this.field.id.length?i.id=this.field.id.replace(/[^\w]/g,"_")+"_"+t:i.id=e.jqx.utilities.createId()+"_"+t
var a=e("<div></div>",i)
a[0].style.cssText=this.field.style.cssText,this.width||(this.width=e(this.field).width()),this.height||(this.height=e(this.field).outerHeight()),e(this.field).hide().after(a)
var s=this.host.data()
if(this.host=a,this.host.data(s),this.element=a[0],this.element.id=this.field.id,this.field.id=i.id,this._className&&(this.host.addClass(this._className),e(this.field).removeClass(this._className)),this.field.tabIndex){var l=this.field.tabIndex
this.field.tabIndex=-1,this.element.tabIndex=l}}},_doTouchHandling:function(){var e=this,t=e.savedValue
if(e.parsing||(e.parsing=!0),e.parsing){e.numberInput.val()&&0==e.numberInput.val().indexOf("-")?e.setvalue("negative",!0):e.setvalue("negative",!1)
for(var i=e.numberInput.val(),n=0;n<i.length-1;n++){var r=i.substring(n,n+1)
if(isNaN(parseFloat(r))&&-1===e.symbol.toString().indexOf(r)&&"%"!=r&&"$"!=r&&"."!=r&&","!=r&&"-"!=r)return e.numberInput[0].value=t,void(e.parsing=!1)}e.ValueString=e.GetValueString(e.numberInput.val(),e.decimalSeparator,""!=e.decimalSeparator),e._parseDecimalInSimpleMode(),e.decimal=e.ValueString,e.getvalue("negative")&&(e.decimal="-"+e.ValueString),e.parsing=!1}},render:function(){this.host.attr({role:"spinbutton"}),this.host.attr("data-role","input"),e.jqx.aria(this),e.jqx.aria(this,"aria-multiline",!1)
var t=this;(this.officeMode||this.theme&&-1!=this.theme.indexOf("office"))&&18==this.spinButtonsWidth&&(this.spinButtonsWidth=15),(e.jqx.mobile.isTouchDevice()||!0===this.touchMode)&&(this.inputMode="textbox",this.spinMode="simple"),""==this.decimalSeparator&&(this.decimalSeparator=" "),this.host.addClass(this.toThemeProperty("jqx-input")),this.host.addClass(this.toThemeProperty("jqx-rc-all")),this.host.addClass(this.toThemeProperty("jqx-widget")),this.host.addClass(this.toThemeProperty("jqx-widget-content")),this.host.addClass(this.toThemeProperty("jqx-numberinput")),this.spinButtons?this._spinButtons():(this.numberInput=e("<input style='border:none;' autocomplete='off' type='textarea'/>").appendTo(this.host),this.numberInput.addClass(this.toThemeProperty("jqx-input-content")),this.numberInput.addClass(this.toThemeProperty("jqx-widget-content"))),this.numberInput.attr("placeholder",this.placeHolder)
var i=this.host.attr("name");(i&&this.numberInput.attr("name",i),this.host.attr("tabindex")&&(this.numberInput.attr("tabindex",this.host.attr("tabindex")),this.host.removeAttr("tabindex")),e.jqx.mobile.isTouchDevice()||!0===this.touchMode||"textbox"==this.inputMode)&&((t=this).savedValue="",this.addHandler(this.numberInput,"focus",function(){t.savedValue=t.numberInput[0].value}),this.addHandler(this.numberInput,"change",function(){t._doTouchHandling()}))
e.data(this.host[0],"jqxNumberInput").jqxNumberInput=this
t=this
this.host.parents("form").length>0&&this.addHandler(this.host.parents("form"),"reset",function(){setTimeout(function(){t.setDecimal(0)},10)}),this.propertyChangeMap.disabled=function(e,t,i,r){r?(e.numberInput.addClass(n.toThemeProperty("jqx-input-disabled")),e.numberInput.attr("disabled",!0)):(e.host.removeClass(n.toThemeProperty("jqx-input-disabled")),e.numberInput.attr("disabled",!1)),e.spinButtons&&e.host.jqxRepeatButton&&(e.upbutton.jqxRepeatButton({disabled:r}),e.downbutton.jqxRepeatButton({disabled:r}))},this.disabled&&(this.numberInput.addClass(this.toThemeProperty("jqx-input-disabled")),this.numberInput.attr("disabled",!0),this.host.addClass(this.toThemeProperty("jqx-fill-state-disabled"))),this.selectedText="",this.decimalSeparatorPosition=-1
this.element.id,this.element
var n=this
this.oldValue=this._value(),this.items=new Array
this.value
var r=this.decimal
this._initializeLiterals(),this._render(),this.setDecimal(r)
t=this
setTimeout(function(){},100),this._addHandlers(),e.jqx.utilities.resize(this.host,function(){t._render()})},refresh:function(e){e||this._render()},wheel:function(e,t){if(t.enableMouseWheel){t.changeType="mouse"
var i=0
if(e||(e=window.event),e.originalEvent&&e.originalEvent.wheelDelta&&(e.wheelDelta=e.originalEvent.wheelDelta),e.wheelDelta?i=e.wheelDelta/120:e.detail&&(i=-e.detail/3),i){var n=t._handleDelta(i)
return e.preventDefault&&e.preventDefault(),null!=e.originalEvent&&(e.originalEvent.mouseHandled=!0),null!=e.stopPropagation&&e.stopPropagation(),!!n&&(n=!1,e.returnValue=n,n)}e.preventDefault&&e.preventDefault(),e.returnValue=!1}},_handleDelta:function(e){return e<0?this.spinDown():this.spinUp(),!0},_addHandlers:function(){var t=this
this.addHandler(this.numberInput,"paste",function(i){var n,r=t._selection()
i.preventDefault(),i.originalEvent.clipboardData?n=(i.originalEvent||i).clipboardData.getData("text/plain"):window.clipboardData&&(n=window.clipboardData.getData("Text")),this.selectedText=n,e.data(document.body,"jqxSelection",this.selectedText),"simple"!=t.inputMode?t._pasteSelectedText():t.val(n),setTimeout(function(){t._setSelectionStart(r.start)})}),this.addHandler(this.numberInput,"mousedown",function(e){return t._raiseEvent(2,e)}),this._mousewheelfunc=this._mousewheelfunc||function(e){if(!t.editcell)return t.wheel(e,t),!1},this.removeHandler(this.host,"mousewheel",this._mousewheelfunc),this.addHandler(this.host,"mousewheel",this._mousewheelfunc)
var i=""
this.addHandler(this.numberInput,"focus",function(n){e.data(t.numberInput,"selectionstart",t._selection().start),t.host.addClass(t.toThemeProperty("jqx-fill-state-focus")),t.spincontainer&&t.spincontainer.addClass(t.toThemeProperty("jqx-numberinput-focus")),i=t.numberInput.val(),t._savedValue=t.decimal}),this.addHandler(this.numberInput,"blur",function(n){if("simple"==t.inputMode&&t._exitSimpleInputMode(n,t,!1,i),t.autoValidate){var r=parseFloat(t.decimal)
t.getvalue("negative")&&t.decimal>0&&(r=-parseFloat(t.decimal)),r>t.max&&(t._disableSetSelection=!0,t.setDecimal(t.max),t._disableSetSelection=!1),r<t.min&&(t._disableSetSelection=!0,t.setDecimal(t.min),t._disableSetSelection=!1)}return t.host.removeClass(t.toThemeProperty("jqx-fill-state-focus")),t.spincontainer&&t.spincontainer.removeClass(t.toThemeProperty("jqx-numberinput-focus")),t.numberInput.val()!=i&&(t._raiseEvent(7,n),e.jqx.aria(t,"aria-valuenow",t.decimal),t.element.value=t.decimal),!0}),this.addHandler(this.numberInput,"mouseup",function(e){return t._raiseEvent(3,e)}),this.addHandler(this.numberInput,"keydown",function(e){return t.changeType="keyboard",t._raiseEvent(4,e)}),this.addHandler(this.numberInput,"keyup",function(e){return t._raiseEvent(5,e)}),this.addHandler(this.numberInput,"keypress",function(e){return t._raiseEvent(6,e)})},focus:function(){try{this.numberInput.focus()}catch(e){}},_removeHandlers:function(){this.removeHandler(this.numberInput,"mousedown"),e.jqx.mobile.isOperaMiniMobileBrowser()&&this.removeHandler(e(document),"click."+this.element.id,this._exitSimpleInputMode,this),this.removeHandler(this.numberInput,"paste"),this.removeHandler(this.numberInput,"focus"),this.removeHandler(this.numberInput,"blur"),this.removeHandler(this.numberInput,"mouseup"),this.removeHandler(this.numberInput,"keydown"),this.removeHandler(this.numberInput,"keyup"),this.removeHandler(this.numberInput,"keypress")},_spinButtons:function(){if(!this.host.jqxRepeatButton)throw new Error("jqxNumberInput: Missing reference to jqxbuttons.js.")
this.numberInput?this.numberInput.css("float","left"):(this.numberInput=e("<input autocomplete='off' style='border: none; position: relative; float: left;' type='textarea'/>"),this.numberInput.appendTo(this.host),this.numberInput.addClass(this.toThemeProperty("jqx-input-content")),this.numberInput.addClass(this.toThemeProperty("jqx-widget-content"))),this.spincontainer&&(this.upbutton&&this.upbutton.jqxRepeatButton("destroy"),this.downbutton&&this.downbutton.jqxRepeatButton("destroy"),this.spincontainer.remove()),this.spincontainer=e('<div style="float: right; height: 100%; overflow: hidden; position: relative;"></div>'),this.rtl&&(this.spincontainer.css("float","right"),this.numberInput.css("float","right"),this.spincontainer.css("left","-1px")),this.host.append(this.spincontainer),this.upbutton=e('<div style="overflow: hidden; padding: 0px; margin-left: -1px; position: relative;"><div></div></div>'),this.spincontainer.append(this.upbutton),this.upbutton.jqxRepeatButton({overrideTheme:!0,disabled:this.disabled,roundedCorners:"top-right"}),this.downbutton=e('<div style="overflow: hidden; padding: 0px; margin-left: -1px; position: relative;"><div></div></div>'),this.spincontainer.append(this.downbutton),this.downbutton.jqxRepeatButton({overrideTheme:!0,disabled:this.disabled,roundedCorners:"bottom-right"}),this.template&&(this.upbutton.addClass(this.toThemeProperty("jqx-"+this.template)),this.downbutton.addClass(this.toThemeProperty("jqx-"+this.template)))
var t=this
this.downbutton.addClass(this.toThemeProperty("jqx-fill-state-normal jqx-action-button")),this.upbutton.addClass(this.toThemeProperty("jqx-fill-state-normal jqx-action-button")),this.upbutton.addClass(this.toThemeProperty("jqx-rc-tr")),this.downbutton.addClass(this.toThemeProperty("jqx-rc-br")),this.addHandler(this.downbutton,"mouseup",function(e){t.disabled||(t.downbutton.removeClass(t.toThemeProperty("jqx-fill-state-pressed")),t._downArrow.removeClass(t.toThemeProperty("jqx-icon-arrow-down-selected")))}),this.addHandler(this.upbutton,"mouseup",function(e){t.disabled||(t.upbutton.removeClass(t.toThemeProperty("jqx-fill-state-pressed")),t._upArrow.removeClass(t.toThemeProperty("jqx-icon-arrow-up-selected")))}),this.removeHandler(e(document),"mouseup."+this.element.id),this.addHandler(e(document),"mouseup."+this.element.id,function(e){t.upbutton.removeClass(t.toThemeProperty("jqx-fill-state-pressed")),t._upArrow.removeClass(t.toThemeProperty("jqx-icon-arrow-up-selected")),t.downbutton.removeClass(t.toThemeProperty("jqx-fill-state-pressed")),t._downArrow.removeClass(t.toThemeProperty("jqx-icon-arrow-down-selected"))}),this.addHandler(this.downbutton,"mousedown",function(i){if(!t.disabled)return e.jqx.browser.msie&&e.jqx.browser.version<9&&(t._inputSelection=t._selection()),t.downbutton.addClass(t.toThemeProperty("jqx-fill-state-pressed")),t._downArrow.addClass(t.toThemeProperty("jqx-icon-arrow-down-selected")),i.preventDefault(),i.stopPropagation(),!1}),this.addHandler(this.upbutton,"mousedown",function(i){if(!t.disabled)return e.jqx.browser.msie&&e.jqx.browser.version<9&&(t._inputSelection=t._selection()),t.upbutton.addClass(t.toThemeProperty("jqx-fill-state-pressed")),t._upArrow.addClass(t.toThemeProperty("jqx-icon-arrow-up-selected")),i.preventDefault(),i.stopPropagation(),!1}),this.addHandler(this.upbutton,"mouseenter",function(e){t.upbutton.addClass(t.toThemeProperty("jqx-fill-state-hover")),t._upArrow.addClass(t.toThemeProperty("jqx-icon-arrow-up-hover"))}),this.addHandler(this.upbutton,"mouseleave",function(e){t.upbutton.removeClass(t.toThemeProperty("jqx-fill-state-hover")),t._upArrow.removeClass(t.toThemeProperty("jqx-icon-arrow-up-hover"))}),this.addHandler(this.downbutton,"mouseenter",function(e){t.downbutton.addClass(t.toThemeProperty("jqx-fill-state-hover")),t._downArrow.addClass(t.toThemeProperty("jqx-icon-arrow-down-hover"))}),this.addHandler(this.downbutton,"mouseleave",function(e){t.downbutton.removeClass(t.toThemeProperty("jqx-fill-state-hover")),t._downArrow.removeClass(t.toThemeProperty("jqx-icon-arrow-down-hover"))}),this.upbutton.css("border-width","0px"),this.downbutton.css("border-width","0px"),this.disabled?(this.upbutton[0].disabled=!0,this.downbutton[0].disabled=!0):(this.upbutton[0].disabled=!1,this.downbutton[0].disabled=!1),this.spincontainer.addClass(this.toThemeProperty("jqx-input")),this.spincontainer.addClass(this.toThemeProperty("jqx-rc-r")),this.spincontainer.css("border-width","0px"),this.rtl?this.spincontainer.css("border-right-width","1px"):this.spincontainer.css("border-left-width","1px"),this._upArrow=this.upbutton.find("div"),this._downArrow=this.downbutton.find("div"),this._upArrow.addClass(this.toThemeProperty("jqx-icon-arrow-up")),this._downArrow.addClass(this.toThemeProperty("jqx-icon-arrow-down")),this._upArrow.addClass(this.toThemeProperty("jqx-input-icon")),this._downArrow.addClass(this.toThemeProperty("jqx-input-icon"))
t=this
this._upArrow.hover(function(){t.disabled||t._upArrow.addClass(t.toThemeProperty("jqx-icon-arrow-up-hover"))},function(){t._upArrow.removeClass(t.toThemeProperty("jqx-icon-arrow-up-hover"))}),this._downArrow.hover(function(){t.disabled||t._downArrow.addClass(t.toThemeProperty("jqx-icon-arrow-down-hover"))},function(){t._downArrow.removeClass(t.toThemeProperty("jqx-icon-arrow-down-hover"))})
var i=e.jqx.mobile.isTouchDevice(),n="click"
i&&(n=e.jqx.mobile.getTouchEventName("touchstart")),i&&(this.addHandler(this.downbutton,"click",function(e){t.spinDown()}),this.addHandler(this.upbutton,"click",function(e){t.spinUp()})),this.addHandler(this.downbutton,n,function(n){return i?(n.preventDefault(),n.stopPropagation()):(0==t._selection().start&&t._setSelectionStart(t.numberInput.val().length),e.jqx.browser.msie&&e.jqx.browser.version<9&&t._setSelectionStart(t._inputSelection.start)),t.spinDown(),!1}),this.addHandler(this.upbutton,n,function(n){return i?(n.preventDefault(),n.stopPropagation()):(0==t._selection().start&&t._setSelectionStart(t.numberInput.val().length),e.jqx.browser.msie&&e.jqx.browser.version<9&&t._setSelectionStart(t._inputSelection.start)),t.spinUp(),!1})},spinDown:function(){var t=this,i=this.decimal
if("none"!=t.spinMode)if(null!=this.decimal){var n=(f=this.getvalue("negative"))?-1:0
if((e.jqx.mobile.isTouchDevice()||"textbox"==this.inputMode)&&t._doTouchHandling(),!t.disabled){var r=this._selection(),o=this.decimal
if((h=this.getDecimal())<this.min)return h=this.min,this.setDecimal(this.min),this._setSelectionStart(r.start),void this.spinDown()
if(h>this.max)return h=this.max,this.setDecimal(this.max),this._setSelectionStart(r.start),void this.spinDown()
t.spinButtonsStep<0&&(t.spinButtonsStep=1)
var a=n+(parseInt(t.decimal)-t.spinButtonsStep).toString().length<=t.digits
if("advanced"!=t.spinMode){if(h-t.spinButtonsStep>=t.min&&a){for(var s=1,l=0;l<t.decimalDigits;l++)s*=10
var d=s*h-s*t.spinButtonsStep
d/=s,d=this._parseDecimalValueToEditorValue(d),t.setDecimal(d)}}else{var c=this._getspindecimal(),h=(this._getSeparatorPosition(),parseFloat(c.decimal))
t.spinButtonsStep<0&&(t.spinButtonsStep=1)
a=n+(parseInt(h)-t.spinButtonsStep).toString().length<=t.digits,s=1
if(-1!=(p=c.decimal.indexOf("."))){var u=c.decimal.length-p-1
for(s=1,l=0;l<u;l++)s*=10
var p;-1==(p=(h=(h-=new Number(t.spinButtonsStep/s)).toFixed(u)).toString().indexOf("."))&&(h=h.toString()+".")
var m=h.toString()+c.afterdecimal;(m=(m=new Number(m)).toFixed(t.decimalDigits))>=t.min&&(m=this._parseDecimalValueToEditorValue(m),t.setDecimal(m))}else if(h-t.spinButtonsStep>=t.min&&a){d=s*h-s*t.spinButtonsStep;(m=(d/=s).toString()+c.afterdecimal)>=t.min&&(m=this._parseDecimalValueToEditorValue(m),t.setDecimal(m))}}if(null==m||"simple"!=this.inputMode)return this._setSelectionStart(r.start),t.savedValue=t.numberInput[0].value,i!=this.decimal&&(e.jqx.mobile.isTouchDevice()&&this._raiseEvent(0,{}),this._raiseEvent(7,{})),void e.jqx.aria(self,"aria-valuenow",this.decimal)
m=this.decimal.toString()
var f=this.getvalue("negative")
0==n&&f?this._setSelectionStart(r.start+1):null==m||null!=o&&o.toString().length!=m.length?f?this._setSelectionStart(r.start+1):this._setSelectionStart(r.start-1):this._setSelectionStart(r.start),i!=this.decimal&&(e.jqx.mobile.isTouchDevice()&&this._raiseEvent(0,{}),this._raiseEvent(7,{})),e.jqx.aria(self,"aria-valuenow",this.decimal)}}else this.setDecimal(0)},_getspindecimal:function(){var e=this._selection(),t="",i=(this._getSeparatorPosition(),this._getVisibleItems()),n=this._getHiddenPrefixCount(),r=this.numberInput.val()
this.numberInput.val().length==e.start&&0==e.length&&(this._setSelection(e.start,e.start+1),e=this._selection())
for(var o="advanced"!=this.inputMode,a=0;a<e.start;a++)if(o){var s=r.substring(a,a+1)
!isNaN(parseInt(s))&&(t+=s),s==this.decimalSeparator&&(t+=s)}else i[a].canEdit&&i[a].character!=this.promptChar?t+=i[a].character:i[a].canEdit||-1==this.decimalSeparatorPosition||i[a]!=i[this.decimalSeparatorPosition-n]||(0==t.length&&(t="0"),t+=i[a].character)
var l=""
for(a=e.start;a<i.length;a++)if(o){s=r.substring(a,a+1)
!isNaN(parseInt(s))&&(l+=s),s==this.decimalSeparator&&(l+=s)}else i[a].canEdit&&i[a].character!=this.promptChar?l+=i[a].character:i[a].canEdit||-1==this.decimalSeparatorPosition||i[a]!=i[this.decimalSeparatorPosition-n]||(l+=i[a].character)
return{decimal:this.getvalue("negative")?"-"+this._parseDecimalValue(t).toString():this._parseDecimalValue(t).toString(),afterdecimal:this._parseDecimalValue(l)}},_parseDecimalValue:function(e){if("."!=this.decimalSeparator){var t=e.toString().indexOf(this.decimalSeparator)
if(t>=0)return e.toString().substring(0,t)+"."+e.toString().substring(t+1)}return e},_parseDecimalValueToEditorValue:function(e){if("."!=this.decimalSeparator){var t=e.toString().indexOf(".")
if(t>=0)return e.toString().substring(0,t)+this.decimalSeparator+e.toString().substring(t+1)}return e},spinUp:function(){var t=this,i=this.decimal
if("none"!=t.spinMode)if(null!=this.decimal){(e.jqx.mobile.isTouchDevice()||"textbox"==this.inputMode)&&t._doTouchHandling()
var n=(f=this.getvalue("negative"))?-1:0
if(!t.disabled){var r=this._selection(),o=t.decimal
if((h=t.getDecimal())<this.min)return h=this.min,this.setDecimal(this.min),this._setSelectionStart(r.start),void this.spinUp()
if(h>this.max)return h=this.max,this.setDecimal(this.max),this._setSelectionStart(r.start),void this.spinUp()
t.spinButtonsStep<0&&(t.spinButtonsStep=1)
var a=n+(parseInt(t.decimal)+t.spinButtonsStep).toString().length<=t.digits
if("advanced"!=t.spinMode){if(h+t.spinButtonsStep<=t.max&&a){for(var s=1,l=0;l<t.decimalDigits;l++)s*=10
var d=s*h+s*t.spinButtonsStep
d/=s,d=this._parseDecimalValueToEditorValue(d),t.setDecimal(d)}}else{var c=this._getspindecimal(),h=(this._getSeparatorPosition(),parseFloat(c.decimal))
t.spinButtonsStep<0&&(t.spinButtonsStep=1)
a=n+(parseInt(h)+t.spinButtonsStep).toString().length<=t.digits,s=1
if(-1!=(p=c.decimal.indexOf("."))){var u=c.decimal.length-p-1
for(s=1,l=0;l<u;l++)s*=10
var p;-1==(p=(h=(h+=new Number(t.spinButtonsStep/s)).toFixed(u)).toString().indexOf("."))&&(h=h.toString()+".")
var m=h.toString()+c.afterdecimal
m=(m=new Number(m)).toFixed(t.decimalDigits),new Number(m).toFixed(t.decimalDigits)<=t.max?(m=this._parseDecimalValueToEditorValue(m),t.setDecimal(m)):m=void 0}else if(h+t.spinButtonsStep<=t.max&&a){d=s*h+s*t.spinButtonsStep,m=(d/=s).toString()+c.afterdecimal
new Number(m).toFixed(t.decimalDigits)<=t.max?(m=this._parseDecimalValueToEditorValue(m),f&&-1==m.indexOf("-")&&"-0"!=c.decimal&&(m="-"+m),t.setDecimal(m)):m=void 0}}if(null==m||"simple"!=this.inputMode)return this._setSelectionStart(r.start),t.savedValue=t.numberInput[0].value,i!=this.decimal&&(e.jqx.mobile.isTouchDevice()&&this._raiseEvent(0,{}),this._raiseEvent(7,{})),void e.jqx.aria(self,"aria-valuenow",this.decimal)
m=this.decimal.toString()
var f=this.getvalue("negative");-1!=n||f?null==m||null!=o&&o.toString().length!=m.length?f?this._setSelectionStart(r.start):this._setSelectionStart(1+r.start):this._setSelectionStart(r.start):this._setSelectionStart(-1+r.start),i!=this.decimal&&(e.jqx.mobile.isTouchDevice()&&this._raiseEvent(0,{}),this._raiseEvent(7,{})),e.jqx.aria(self,"aria-valuenow",this.decimal)}}else this.setDecimal(0)},_exitSimpleInputMode:function(t,i,n,r){if(null==i&&(i=t.data),null!=i){if(null==n){if(null!=t.target&&null!=i.element&&(null!=t.target.id&&t.target.id.toString().length>0&&i.host.find("#"+t.target.id).length>0||t.target==i.element))return
var o=i.host.offset(),a=o.left,s=o.top,l=i.host.width(),d=i.host.height(),c=e(t.target).offset()
if(c.left>=a&&c.left<=a+l&&c.top>=s&&c.top<=s+d)return}if(e.jqx.mobile.isOperaMiniBrowser()&&i.numberInput.attr("readonly",!0),!i.disabled&&!i.readOnly)if(null!=e.data(i.numberInput,"simpleInputMode"))return e.data(i.numberInput,"simpleInputMode",null),this._parseDecimalInSimpleMode(),!1}},_getDecimalInSimpleMode:function(){var e=this.decimal
if("."!=this.decimalSeparator){var t=e.toString().indexOf(this.decimalSeparator)
if(t>0)e=e.toString().substring(0,t)+"."+e.toString().substring(t+1)}return e},_parseDecimalInSimpleMode:function(e){var t=this.getvalue("negative"),i=this.ValueString
if(null==i&&(i=this.GetValueString(this.numberInput.val(),this.decimalSeparator,""!=this.decimalSeparator)),"."!=this.decimalSeparator){var n=i.toString().indexOf(".")
if(n>0){var r=i.toString().substring(0,n)+this.decimalSeparator+i.toString().substring(n+1)
i=r}}var o=t?"-":""
"left"==this.symbolPosition&&(o+=this.symbol)
var a=this.digits%this.groupSize
0==a&&(a=this.groupSize)
var s=i.toString()
s.indexOf("-")>=0&&(s=s.substring(s.indexOf("-")+1)),o+=s,"right"==this.symbolPosition&&(o+=this.symbol),0!=e&&this.numberInput.val(o)},_enterSimpleInputMode:function(t,i){null==i&&(i=t.data)
var n=this._selection()
if(null!=i){var r=i.getvalue("negative"),o=i.decimal
r&&o>0&&(o=-o),i.numberInput.val(o),e.data(i.numberInput,"simpleInputMode",!0),e.jqx.mobile.isOperaMiniBrowser()&&i.numberInput.attr("readonly",!1),this._parseDecimalInSimpleMode(),this._setSelectionStart(n.start)}},setvalue:function(e,t){void 0!==this[e]&&("decimal"==e?this._setDecimal(t):(this[e]=t,this.propertyChangedHandler(this,e,t,t)))},getvalue:function(e){return"decimal"==e&&null!=this.negative&&1==this.negative?-Math.abs(this[e]):e in this?this[e]:null},_getString:function(){for(var e="",t=0;t<this.items.length;t++){e+=this.items[t].character}return e},_literal:function(e,t,i,n){return{character:e,regex:t,canEdit:i,isSeparator:n}},_initializeLiterals:function(){if("textbox"!=this.inputMode){for(var e=0,t=this.negativeSymbol.length,i=0;i<t;i++){var n=this.negativeSymbol.substring(i,i+1),r="",o=!1,a=null
a=this.negative?this._literal(n,r,o,!1):this._literal("",r,o,!1),this.items[e]=a,e++}var s=this.symbol.length
if("left"==this.symbolPosition)for(i=0;i<s;i++){n=this.symbol.substring(i,i+1),r="",o=!1,a=this._literal(n,r,o,!1)
this.items[e]=a,e++}var l=this.digits%this.groupSize
0==l&&(l=this.groupSize)
for(i=0;i<this.digits;i++){n=this.promptChar,r="\\d",o=!0,a=this._literal(n,r,o,!1)
if(this.items[e]=a,e++,i<this.digits-1&&null!=this.groupSeparator&&this.groupSeparator.length>0){if(0==--l){l=this.groupSize
var d=this._literal(this.groupSeparator,"",!1,!1)
this.items[e]=d,e++}}else i==this.digits-1&&(a.character=0)}if(this.decimalSeparatorPosition=-1,null!=this.decimalDigits&&this.decimalDigits>0){0==(n=this.decimalSeparator).length&&(n=".")
a=this._literal(n,"",!1,!0)
this.items[e]=a,this.decimalSeparatorPosition=e,e++
for(i=0;i<this.decimalDigits;i++){r="\\d"
var c=this._literal(0,r,!0,!1)
this.items[e]=c,e++}}if("right"==this.symbolPosition)for(i=0;i<s;i++){n=this.symbol.substring(i,i+1),r="",o=!1,a=this._literal(n,r,o)
this.items[e]=a,e++}}},_match:function(e,t){return new RegExp(t,"i").test(e)},_raiseEvent:function(t,i){var n=this.events[t],r={}
if(r.owner=this,"none"==this.host.css("display"))return!0
var o=i.charCode?i.charCode:i.keyCode?i.keyCode:0,a=!0,s=this.readOnly
if((3==t||2==t)&&!this.disabled){if("simple"==this.inputMode||"textbox"==this.inputMode)return!0
this._handleMouse(i)}if(0==t){var l=this.getvalue("decimal")
this.max<l||this.min>l?this.host.addClass(this.toThemeProperty("jqx-input-invalid")):(this.host.removeClass(this.toThemeProperty("jqx-input-invalid")),this.host.addClass(this.toThemeProperty("jqx-input")),this.host.addClass(this.toThemeProperty("jqx-rc-all")))}var d=new e.Event(n)
d.owner=this,r.value=this.getvalue("decimal"),r.text=this.numberInput.val(),d.args=r,7==t&&(r.type=this.changeType,this.changeType=null),null!=n&&4!=t&&5!=t&&6!=t&&(a=this.host.trigger(d))
var c=this
if("textbox"==this.inputMode)return a
if("simple"!=this.inputMode){if(4==t){if(s||this.disabled)return!1
a=c._handleKeyDown(i,o)}else if(5==t)(s||this.disabled)&&(a=!1)
else if(6==t){if(s||this.disabled)return!1
a=c._handleKeyPress(i,o)}}else if(4==t||5==t||6==t){if(e.jqx.mobile.isTouchDevice()||!0===this.touchMode)return!0
if(s||this.disabled)return!1
var h=String.fromCharCode(o),u=(parseInt(h),!0)
if(i.ctrlKey||i.shiftKey||i.metaKey||o>=65&&o<=90&&(u=!1),6==t&&null!=e.jqx.browser.opera&&8==o)return!1
if(u){if(4==t&&(u=c._handleSimpleKeyDown(i,o)),189==o||45==o||109==o||173==o){var p=c._selection()
if(4==t)0==c.getvalue("negative")?c.setvalue("negative",!0):c.setvalue("negative",!1),c.decimal=c.ValueString,c._parseDecimalInSimpleMode(),c._setSelectionStart(p.start),u=!1,c._raiseEvent(0,c.value),c._raiseEvent(1,c.numberInput.val())}var m=r.ctrlKey||r.metaKey
if(!e.jqx.browser.msie)if(m&&99==o||m&&67==o||m&&122==o||m&&90==o||m&&118==o||m&&86==o||i.shiftKey&&45==o)return(e.jqx.browser.webkit||e.jqx.browser.chrome)&&c._handleSimpleKeyDown(i,o),67==o
if(m&&97==o||m&&65==o)return!0
if(6==t&&u)return this._isSpecialKey(o)}return u}return a},GetSelectionInValue:function(e,t,i,n){for(var r=0,o=0;o<t.length&&!(o>=e);o++){var a=t.substring(o,o+1);(!isNaN(parseInt(a))||n&&t.substring(o,o+1)==i)&&r++}return r},GetSelectionLengthInValue:function(e,t,i,n){for(var r=0,o=0;o<i.length&&!(o>=e+t);o++){var a=i.substring(o,o+1),s=!isNaN(parseInt(a));(t>0&&o>=e&&s||o>=e&&i[o].toString()==n)&&r++}return r},GetInsertTypeByPositionInValue:function(e,t,i,n){var r="before",o=this.GetValueString(i,t,n)
return e>this.GetDigitsToSeparator(0,o,t)&&(r="after"),r},RemoveRange:function(e,t,i,n,r,o){var a=this.digits,s=e,l=t,d=0,c=(this.decimal,this._selection(),""!=(n=this.decimalSeparator))
if(0==l&&this.ValueString.length<this.decimalPossibleChars-1)return d
var h=this.GetSeparatorPositionInText(n,i)
r||(h=this.GetSeparatorPositionInText(n,i)),h<0&&!c&&i.length>1&&(h=i.length),-1==h&&(h=i.length)
var u=c?1:0
t<2&&1==o&&(this.ValueString.length-this.decimalDigits-u==a&&e+t<h&&l++)
for(var p="",m=0;m<i.length;m++){if(m<s||m>=s+l)p+=i.substring(m,m+1)
else if((f=i.substring(m,m+1))!=n){var f=i.substring(m,m+1)
if(!(this.symbol&&""!=this.symbol&&this.symbol.indexOf(f)>=0))if(m>h)p+="0"
else{f=i.substring(m,m+1)
!isNaN(parseInt(f))&&d++}}else p+=n}0==p.length&&(p="0"),r?this.numberInput.val(p):this.ValueString=p
var g=p.substring(0,1)
g==n&&isNaN(parseInt(g))&&(p="0"+p)
return this.ValueString=this.GetValueString(p,n,c),this.decimal=this.ValueString,this._parseDecimalInSimpleMode(),this._setSelectionStart(s),d},InsertDigit:function(e,t){"number"!=typeof this.digits&&(this.digits=parseInt(this.digits)),"number"!=typeof this.decimalDigits&&(this.decimalDigits=parseInt(this.decimalDigits))
var i=1+this.digits,n=this._selection(),r=this.getvalue("negative"),o=!1
0==n.start&&""!=this.symbol&&"left"==this.symbolPosition&&(this._setSelectionStart(n.start+1),n=this._selection(),o=!0),(r&&o||r&&!o&&0==n.start)&&(this._setSelectionStart(n.start+1),n=this._selection())
var a=this.numberInput.val().substring(n.start,n.start+1),s=this.numberInput.val(),l=this.decimalSeparator,d=""!=l&&this.decimalDigits>0
if(a==this.symbol&&"right"==this.symbolPosition){if(0!=this.decimalDigits)return
if(this.ValueString=this.GetValueString(s,l,d),this.ValueString.length>=i)return}this.ValueString=this.GetValueString(s,l,d),""==this.ValueString&&(this.ValueString=new Number(0).toFixed(this.decimalDigits))
var c=this.ValueString
this.decimalDigits>0&&t>=c.length&&(t=c.length-1)
var h=""
t<c.length&&(h=c.substring(t,t+1))
var u=!1
"after"==this.GetInsertTypeByPositionInValue(t,l,s,d)&&(u=!0)
var p=d?1:0
h!=l&&this.ValueString.length-this.decimalDigits-p>=i-1&&(u=!0),"0"===h&&1===this.ValueString.length&&0===this.decimalDigits&&(u=!0)
var m=d?1:0
if(!(!u&&this.ValueString&&this.ValueString.length>=this.digits+this.decimalDigits+m)){if(u&&h!=l){if((b=c.substring(0,t)).length==c.length&&this.ValueString.length>=this.digits+this.decimalDigits+m)return
var f=e,g=""
t+1<c.length&&(g=c.substring(t+1))
var v=b+f+g
this.ValueString=v}else{var b
v=(b=c.substring(0,t))+(f=e)+(g=c.substring(t))
"0"==c.substring(0,1)&&c.substring(1,2)==l&&(v=f+c.substring(1),h==l&&(this._setSelectionStart(n.start-1),n=this._selection())),this.ValueString=v}this.decimal=r?-this.ValueString:this.ValueString,this._parseDecimalInSimpleMode()
var y=n.start
y+=1,this._setSelectionStart(y),this.value=this.decimal,this._raiseEvent(0,this.value),this._raiseEvent(1,this.numberInput.val())}},GetStringToSeparator:function(e,t,i){var n=this.GetSeparatorPositionInText(t,e),r=e.subString(0,n)
return this.GetValueString(r,t,i)},GetSeparatorPositionInText:function(e,t){for(var i=-1,n=0;n<t.length;n++)if(t.substring(n,n+1)==e){i=n
break}return i},GetValueString:function(e,t,i){for(var n="",r=0;r<e.length;r++){var o=e.substring(r,r+1)
!isNaN(parseInt(o))&&(n+=o),o==t&&(n+=t)}return n},Backspace:function(){var e=this._selection(),t=this._selection(),i=this.numberInput.val()
if(0!=e.start||0!=e.length){this.isBackSpace=!0
var n=i.substring[(e.start,e.start+1)]
isNaN(parseInt(n))
if(e.start>0&&0==e.length){this._setSelectionStart(e.start-1)
e=this._selection()}this.Delete(),this._setSelectionStart(t.start-1),this.isBackSpace=!1}},Delete:function(e){var t=this._selection(),i=this.numberInput.val()
if(0===t.start&&"-"==i.substring(0,1)){this.setvalue("negative",!1)
t=this._selection(),i=this.numberInput.val()}var n=t.start,r=t.length
r=Math.max(r,1),this.ValueString=this.GetValueString(i,this.decimalSeparator,""!=this.decimalSeparator),n>this.ValueString.indexOf(this.decimalSeparator)&&this.decimalDigits>0&&n++
var o=0
this.symbol&&("left"==this.symbolPosition&&o--,this.negative&&o--),this.RemoveRange(t.start+o,r,this.ValueString,".",!1)
var a=this.ValueString.substring(0,1)
!isNaN(parseInt(a))||(this.ValueString="0"+this.ValueString),this.decimal=this.ValueString,this._parseDecimalInSimpleMode(),this._setSelectionStart(n),this.value=this.decimal,this._raiseEvent(0,this.value),this._raiseEvent(1,this.numberInput.val())},insertsimple:function(e){var t=this._selection(),i=this.numberInput.val()
if(!(t.start==i.length&&null!=this.decimal&&this.decimalDigits>0)){this.decimal
var n=this.decimalSeparator
this.ValueString=this.GetValueString(i,n,""!=n)
var r=this.GetSelectionInValue(t.start,i,n,""!=n),o=this.GetSelectionLengthInValue(t.start,t.length,i,n)
this.GetDigitsToSeparator(0,this.ValueString,n)
if(this.decimalDigits>0&&r>=this.ValueString.length&&r--,""==this.ValueString)return this.ValueString=new Number(0).toFixed(this.decimalDigits),this.ValueString=this.ValueString.replace(".",n),this.RemoveRange(t.start,o,this.ValueString,n,!1,!0),void this.InsertDigit(e,0,t)
this.RemoveRange(t.start,o,this.ValueString,n,!1,!0),this.InsertDigit(e,r,t)}},GetDigitsToSeparator:function(e,t,i){if(null==i&&(i="."),t.indexOf(i)<0)return t.length
for(var n=0;n<t.length;n++)if(t.substring(n,n+1)==i){e=n
break}return e},_handleSimpleKeyDown:function(t,i){var n,r=this._selection(),o=t.ctrlKey||t.metaKey
if((8==i||46==i)&&o)return this.setDecimal(null),!1
if(r.start>=0&&r.start<this.items.length)var a=String.fromCharCode(i)
27===i&&(this.setDecimal(this._savedValue),-1!=(n=this.GetSeparatorPositionInText(this.decimalSeparator,this.numberInput.val()))&&this._setSelectionStart(n),t.preventDefault())
if(this.rtl&&37==i){var s=(l=t.shiftKey)?1:0
return l?this._setSelection(r.start+1-s,r.start+r.length+1):this._setSelection(r.start+1-s,r.start+1),!1}if(this.rtl&&39==i){var l
s=(l=t.shiftKey)?1:0
return l?this._setSelection(r.start-1,r.length+s+r.start-1):this._setSelection(r.start-1,r.start-1),!1}if(8==i)return this.Backspace(),!1
if(190==i||110==i)return-1!=(n=this.GetSeparatorPositionInText(this.decimalSeparator,this.numberInput.val()))&&this._setSelectionStart(n+1),!1
if(188==i){for(var d=this.numberInput.val(),c=r.start;c<d.length;c++)if(d[c]==this.groupSeparator){this._setSelectionStart(1+c)
break}return!1}if((o=t.ctrlKey||t.metaKey)&&99==i||o&&67==i){r=this._selection()
var h="",u=this.numberInput.val()
if(r.start>0||r.length>0)for(c=r.start;c<r.end;c++)h+=u.substring(c,c+1)
if(e.data(document.body,"jqxSelection",h),e.jqx.browser.msie)window.clipboardData.setData("Text",h)
else{var p=this,m=e('<textarea style="position: absolute; left: -1000px; top: -1000px;"/>')
m.val(h),e("body").append(m),m.select(),setTimeout(function(){document.designMode="off",m.select(),m.remove(),p.focus()},100)}return this.savedText=h,!0}if(o&&122==i||o&&90==i)return!1
if(o&&118==i||o&&86==i||t.shiftKey&&45==i)return e.jqx.browser.msie&&!this.savedText&&(this.savedText=window.clipboardData.getData("Text")),null!=this.savedText&&this.savedText.length>0?this.val(this.savedText):this.val(e.data(document.body,"jqxSelection")),!1
a=String.fromCharCode(i)
var f=parseInt(a)
if(i>=96&&i<=105&&(f=i-96,i-=48),!isNaN(f)){p=this
return this.insertsimple(f),!1}if(46==i)return this.Delete(),!1
if(38==i)return this.spinUp(),!1
if(40==i)return this.spinDown(),!1
var g=this._isSpecialKey(i)
return!e.jqx.browser.mozilla||g},_getEditRange:function(){for(var e=0,t=0,i=0;i<this.items.length;i++)if(this.items[i].canEdit){e=i
break}for(i=this.items.length-1;i>=0;i--)if(this.items[i].canEdit){t=i
break}return{start:e,end:t}},_getVisibleItems:function(){for(var e=new Array,t=0,i=0;i<this.items.length;i++)this.items[i].character.toString().length>0&&(e[t]=this.items[i],t++)
return e},_hasEmptyVisibleItems:function(){for(var e=this._getVisibleItems(),t=0;t<e.length;t++)if(e[t].canEdit&&e[t].character==this.promptChar)return!0
return!1},_getFirstVisibleNonEmptyIndex:function(){for(var e=this._getVisibleItems(),t=0;t<e.length;t++)if(e[t].canEdit&&e[t].character!=this.promptChar)return t},_handleMouse:function(e,t){var i=this._selection()
if(i.length<=1){var n=this._getFirstVisibleNonEmptyIndex()
i.start<n&&this._setSelectionStart(n)}},_insertKey:function(t){this.numberInput[0].focus()
var i=String.fromCharCode(t),n=parseInt(i)
if(!isNaN(n)){for(var r=0,o=0;o<this.items.length;o++)0==this.items[o].character.length&&r++
var a=this._selection(),s=this
if(a.start>=0&&a.start<=this.items.length){var l=!1,d=this._getFirstVisibleNonEmptyIndex()
a.start<d&&0==a.length&&(isNaN(i)&&" "!=i||(this._setSelectionStart(d),a=this._selection()))
this._getFirstEditableItemIndex()
var c=this._getLastEditableItemIndex(),h=this._getVisibleItems()
e.each(h,function(e,t){if(!(a.start>e&&e!=h.length-1)){var n=h[e]
if(e>c&&(n=h[c]),!isNaN(i)&&" "!=i&&n.canEdit){var o=s._getSeparatorPosition()
if(s._match(i,n.regex)){if(!l&&a.length>0){for(var d=a.start+r;d<a.end+r;d++)s.items[d].canEdit&&(s.items[d].character=d>o?"0":s.promptChar)
var u=s._getString()
l=!0}o=s._getSeparatorPosition()
var p=s._hasEmptyVisibleItems()
if(null==s.decimal&&(a.start=o-1,a.start<0&&(a.start=0),a.end=a.start),a.start<=o&&p){var m=e;-1==s.decimalSeparatorPosition&&a.start==o&&(m=e+1),null==s.decimal&&(m=a.start)
for(var f="",g=0;g<m;g++)h[g].canEdit&&h[g].character!=s.promptChar&&(f+=h[g].character)
f+=i
var v=s.decimal<1?1:0
a.start==o&&-1!=s.decimalSeparatorPosition&&(f+=s.decimalSeparator,v=0)
for(g=m+v;g<h.length;g++)h[g].character==s.decimalSeparator&&h[g].isSeparator?f+=h[g].character:h[g].canEdit&&h[g].character!=s.promptChar&&(f+=h[g].character)
"."!=s.decimalSeparator&&(f=s._parseDecimalValue(f)),f=parseFloat(f).toString(),f=(f=new Number(f)).toFixed(s.decimalDigits),"."!=s.decimalSeparator&&(f=s._parseDecimalValueToEditorValue(f)),s.setvalue("decimal",f)
u=s._getString()
if(a.end<o?s._setSelectionStart(a.end+v):s._setSelectionStart(a.end),a.length>=1&&s._setSelectionStart(a.end),a.length==s.numberInput.val().length){var b=s._moveCaretToDecimalSeparator(),y=s.decimalSeparatorPosition>=0?1:0
s._setSelectionStart(b-y)}}else if(a.start<o||a.start>o){if(s.numberInput.val().length==a.start&&-1!=s.decimalSeparatorPosition)return!1
if(s.numberInput.val().length==a.start&&-1==s.decimalSeparatorPosition&&!p)return!1
f=""
var _=!1
for(g=0;g<e;g++)h[g].canEdit&&h[g].character!=s.promptChar&&(f+=h[g].character),h[g].character==s.decimalSeparator&&h[g].isSeparator&&(f+=h[g].character,_=!0)
f+=i
v=s.decimal<1?1:0
_||a.start!=o-1||(f+=s.decimalSeparator,_=!0)
for(g=e+1;g<h.length;g++)!_&&h[g].character==s.decimalSeparator&&h[g].isSeparator?f+=h[g].character:h[g].canEdit&&h[g].character!=s.promptChar&&(f+=h[g].character)
s.setvalue("decimal",f)
u=s._getString()
if(s.decimalSeparatorPosition<0&&n==h[c])return s._setSelectionStart(e),!1
var w=u.indexOf(s.symbol)
if(w<=(s.getvalue("negative")?1:0)&&(w=u.length),a.start<w?s._setSelectionStart(e+1):s._setSelectionStart(e),a.length,a.length==s.numberInput.val().length){b=s._moveCaretToDecimalSeparator()
s._setSelectionStart(b-1)}}return!1}}}})}}},_handleKeyPress:function(t,i){var n=this._selection(),r=t.ctrlKey||t.metaKey
if(r&&97==i||r&&65==i)return!0
if(8==i)return n.start>0&&this._setSelectionStart(n.start),!1
if(46==i)return n.start<this.items.length&&this._setSelectionStart(n.start),!1
e.jqx.browser.mozilla||(45!=i&&173!=i&&109!=i&&189!=i||(0==this.getvalue("negative")?this.setvalue("negative",!0):this.setvalue("negative",!1)))
return e.jqx.browser.msie&&this._insertKey(i),this._isSpecialKey(i)},_deleteSelectedText:function(){var e=this._selection(),t="",i=this._getSeparatorPosition(),n=this._getVisibleItems(),r=this._getHiddenPrefixCount()
this.numberInput.val().length==e.start&&0==e.length&&(this._setSelection(e.start,e.start+1),e=this._selection())
for(var o=0;o<e.start;o++)n[o].canEdit&&n[o].character!=this.promptChar?t+=n[o].character:n[o].canEdit||-1==this.decimalSeparatorPosition||n[o]!=n[this.decimalSeparatorPosition-r]||(0==t.length&&(t="0"),t+=n[o].character)
for(o=e.start;o<e.end;o++)o>i&&-1!=this.decimalSeparatorPosition?n[o].canEdit&&n[o].character!=this.promptChar&&(t+="0"):n[o].canEdit||-1==this.decimalSeparatorPosition||n[o]!=n[this.decimalSeparatorPosition-r]||(0==t.length&&(t="0"),t+=n[o].character)
for(o=e.end;o<n.length;o++)n[o].canEdit&&n[o].character!=this.promptChar?t+=n[o].character:n[o].canEdit||-1==this.decimalSeparatorPosition||n[o]!=n[this.decimalSeparatorPosition-r]||(0==t.length&&(t="0"),t+=n[o].character)
return this.setvalue("decimal",t),e.length>0},_restoreInitialState:function(){var e=parseInt(this.decimalDigits)
e>0&&(e+=2)
for(var t=this.items.length-1;t>this.items.length-1-e&&this.items[t];t--)this.items[t].canEdit&&this.items[t].character==this.promptChar&&(this.items[t].character=0)},clear:function(){this.setDecimal(0)},clearDecimal:function(){if("textbox"!=this.inputMode){for(var e=0;e<this.items.length;e++)this.items[e].canEdit&&(this.items[e].character=this.promptChar)
this._restoreInitialState()}else this.numberInput.val()},_saveSelectedText:function(){var t=this._selection(),i="",n=this._getVisibleItems()
if(t.start>0||t.length>0)for(var r=t.start;r<t.end;r++)n[r].canEdit&&n[r].character!=this.promptChar?i+=n[r].character:n[r].isSeparator&&(i+=n[r].character)
return e.jqx.browser.msie&&window.clipboardData.setData("Text",i),i},_pasteSelectedText:function(){var t=this._selection()
if(this.selectedText=e.data(document.body,"jqxSelection"),window.clipboardData){var i=window.clipboardData.getData("Text")
if(i!=this.selectedText&&i.length>0&&(this.selectedText=window.clipboardData.getData("Text"),null==this.selectedText||null==this.selectedText))return}t.start,this._getVisibleItems()
if(null!=this.selectedText)for(var n=0;n<this.selectedText.length;n++){var r=parseInt(this.selectedText[n])
if(!isNaN(r)){var o=48+r
this._insertKey(o)}}},_getHiddenPrefixCount:function(){var e=0
if(this.negative||e++,"left"==this.symbolPosition)for(var t=0;t<this.symbol.length;t++)""==this.symbol.substring(t,t+1)&&e++
return e},_getEditableItem:function(){for(var e=this._selection(),t=0;t<this.items.length;t++)if(t<e.start&&this.items[t].canEdit&&this.items[t].character!=this.promptChar)return this.items[t]
return null},_getEditableItems:function(){for(var e=new Array,t=0,i=0;i<this.items.length;i++)this.items[i].canEdit&&(e[t]=this.items[i],t++)
return e},_getValidSelectionStart:function(e){for(var t=this.items.length-1;t>=0;t--)if(this.items[t].canEdit&&this.items[t].character!=this.promptChar)return t
return-1},_getEditableItemIndex:function(e){for(var t=this._selection(),i=this._getHiddenPrefixCount(),n=this._getVisibleItems(),r=t.start,o=-1,a=0;a<r;a++)a<n.length&&n[a].canEdit&&(o=a+i)
if(-1==o&&t.length>0){r=t.end
for(a=0;a<r;a++)if(a<n.length&&n[a].canEdit){o=a+i
break}}return o},_getEditableItemByIndex:function(e){for(var t=0;t<this.items.length;t++)if(t>e&&this.items[t].canEdit&&this.items[t].character!=this.promptChar)return t
return-1},_getFirstEditableItemIndex:function(){for(var e=this._getVisibleItems(),t=0;t<e.length;t++)if(e[t].character!=this.promptChar&&e[t].canEdit&&"0"!=e[t].character)return t
return-1},_getLastEditableItemIndex:function(){for(var e=this._getVisibleItems(),t=e.length-1;t>=0;t--)if(e[t].character!=this.promptChar&&e[t].canEdit)return t
return-1},_moveCaretToDecimalSeparator:function(){for(var e=this.items.length-1;e>=0;e--)if(this.items[e].character==this.decimalSeparator&&this.items[e].isSeparator)return this.negative?(this._setSelectionStart(e+1),e):(this._setSelectionStart(e),e)
return this.numberInput.val().length},_handleBackspace:function(){var e=this._selection(),t=this._getHiddenPrefixCount(),i=this._getEditableItemIndex()-t,n=this._getFirstVisibleNonEmptyIndex(),r=!1
if(this.negative&&(r=!0,(n>=i+1||0==e.start)&&(this.setvalue("negative",!1),0==e.length))){this._setSelectionStart(e.start-1)
e=this._selection()}if(i>=0){0==e.length&&-1!=i&&this._setSelection(i,i+1)
var o=e.start>this._getSeparatorPosition()+1&&this.decimalSeparatorPosition>0
o&&(e=this._selection())
this._deleteSelectedText()
if(e.length<1||o?this._setSelectionStart(e.start):e.length>=1&&this._setSelectionStart(e.end),e.length==this.numberInput.val().length||r){var a=this._moveCaretToDecimalSeparator()
this._setSelectionStart(a-1)}}else this._setSelectionStart(e.start)},_handleKeyDown:function(t,i){var n=this._selection(),r=t.ctrlKey||t.metaKey
if((8==i||46==i)&&r)return this.setDecimal(null),!1
if(this.rtl&&37==i){var o=(a=t.shiftKey)?1:0
return a?this._setSelection(n.start+1-o,n.start+n.length+1):this._setSelection(n.start+1-o,n.start+1),!1}if(this.rtl&&39==i){var a
o=(a=t.shiftKey)?1:0
return a?this._setSelection(n.start-1,n.length+o+n.start-1):this._setSelection(n.start-1,n.start-1),!1}if(r&&97==i||r&&65==i)return!0
if(r&&120==i||r&&88==i)return this.selectedText=this._saveSelectedText(t),e.data(document.body,"jqxSelection",this.selectedText),this._handleBackspace(),!1
if(r&&99==i||r&&67==i)return this.selectedText=this._saveSelectedText(t),e.data(document.body,"jqxSelection",this.selectedText),!1
if(r&&122==i||r&&90==i)return!1
if(r&&118==i||r&&86==i||t.shiftKey&&45==i)return this._pasteSelectedText(),!1
if(n.start>=0&&n.start<this.items.length){var s=String.fromCharCode(i)
this.items[n.start]}if(8==i)return this._handleBackspace(),!1
if(190==i||110==i)return this._moveCaretToDecimalSeparator(),!1
if(188==i){for(var l=this.numberInput.val(),d=n.start;d<l.length;d++)if(l[d]==this.groupSeparator){this._setSelectionStart(1+d)
break}return!1}if(null==e.jqx.browser.msie){s=String.fromCharCode(i)
var c=parseInt(s)
if(i>=96&&i<=105&&(c=i-96,i-=48),!isNaN(c)){return this._insertKey(i),!1}}if(46==i){var h=this._getVisibleItems()
if(n.start<h.length){o=0==h[n.start].canEdit?2:1
if(0==n.start)if(this.negative)if(this.setvalue("negative",!1),0==n.length&&this._setSelectionStart(0),0==(n=this._selection()).length)return!1
0==n.length&&this._setSelection(n.start+o,n.start+o+n.length),this._handleBackspace(),new Number(this.decimal)<1||n.start>this._getSeparatorPosition()?this._setSelectionStart(n.end+o):n.start+1<this.decimalSeparatorPosition&&this._setSelectionStart(n.end+o)}return!1}if(38==i)return this.spinUp(),!1
if(40==i)return this.spinDown(),!1
27===i&&(this.setDecimal(this._savedValue),this._setSelectionStart(n.end),t.preventDefault())
var u=this._isSpecialKey(i)
e.jqx.browser.mozilla&&(45!=i&&173!=i&&109!=i&&189!=i||(0==this.getvalue("negative")?this.setvalue("negative",!0):this.setvalue("negative",!1)))
return!e.jqx.browser.mozilla||u},_isSpecialKey:function(e){return 8==e||9==e||13==e||35==e||36==e||37==e||39==e||27==e||46==e},_selection:function(){try{if("selectionStart"in this.numberInput[0]){var e=this.numberInput[0],t=e.selectionEnd-e.selectionStart
return{start:e.selectionStart,end:e.selectionEnd,length:t,text:e.value}}var i=document.selection.createRange()
if(null==i)return{start:0,end:e.value.length,length:0}
var n=this.numberInput[0].createTextRange(),r=n.duplicate()
n.moveToBookmark(i.getBookmark()),r.setEndPoint("EndToStart",n)
t=i.text.length
return{start:r.text.length,end:r.text.length+i.text.length,length:t,text:i.text}}catch(e){return{start:0,end:0,length:0}}},selectAll:function(){var e=this.numberInput
setTimeout(function(){if("selectionStart"in e[0])e[0].focus(),e[0].setSelectionRange(0,e[0].value.length)
else{var t=e[0].createTextRange()
t.collapse(!0),t.moveEnd("character",e[0].value.length),t.moveStart("character",0),t.select()}},10)},_setSelection:function(t,i){if(1!=this._disableSetSelection&&(!e.jqx.mobile.isTouchDevice()&&1!=this.touchMode))try{if("selectionStart"in this.numberInput[0])this.numberInput[0].focus(),this.numberInput[0].setSelectionRange(t,i)
else{var n=this.numberInput[0].createTextRange()
n.collapse(!0),n.moveEnd("character",i),n.moveStart("character",t),n.select()}}catch(e){}},_setSelectionStart:function(t){this._setSelection(t,t),e.data(this.numberInput,"selectionstart",t)},resize:function(e,t){this.width=e,this.height=t,this._render(!1)},_render:function(t){var i=parseInt(this.host.css("border-left-width")),n=parseInt(this.host.css("border-left-width")),r=parseInt(this.host.css("border-left-width")),o=parseInt(this.host.css("border-left-width"))
this.numberInput.css("padding-top","0px"),this.numberInput.css("padding-bottom","0px"),this.host.height(this.height),this.host.width(this.width)
var a=this.host.width(),s=this.host.height()
this.numberInput.css({"border-left-width":0,"border-right-width":0,"border-bottom-width":0,"border-top-width":0}),isNaN(r)&&(r=1),isNaN(n)&&(n=1),isNaN(o)&&(o=1),isNaN(i)&&(i=1),this.numberInput.css("text-align",this.textAlign)
var l=this.numberInput.css("font-size")
""==l&&(l=13),this.numberInput.css("height",parseInt(l)+4+"px"),this.numberInput.css("width",a-2)
var d=s-2*r-parseInt(l)-2;(isNaN(d)&&(d=0),d<0&&(d=0),this.spinButtons&&this.spincontainer)&&(a-=parseInt(this.spinButtonsWidth-2),e.jqx.mobile.isTouchDevice()||!0===this.touchMode?(this.spincontainer.width(2*this.spinButtonsWidth),a-=this.spinButtonsWidth,this.upbutton.height("100%"),this.downbutton.height("100%"),this.downbutton.css("float","left"),this.upbutton.css("float","right"),this.upbutton.width(this.spinButtonsWidth),this.downbutton.width(1+this.spinButtonsWidth)):(this.spincontainer.width(this.spinButtonsWidth),this.upbutton.width(this.spinButtonsWidth+2),this.downbutton.width(this.spinButtonsWidth+2),this.upbutton.height("50%"),this.downbutton.height("50%"),this.spincontainer.width(this.spinButtonsWidth)),this._upArrow.height("100%"),this._downArrow.height("100%"),this.numberInput.css("width",a-6),this.numberInput.css("margin-right","2px"))
var c=d/2
e.jqx.browser.msie&&e.jqx.browser.version<8&&(c=d/4),this.numberInput.css("padding-left","0px"),this.numberInput.css("padding-right","0px"),this.numberInput.css("padding-top",Math.round(c)+"px"),this.numberInput.css("padding-bottom",Math.round(c)+"px"),null!=t&&1!=t||(this.numberInput.val(this._getString()),"advanced"!=this.inputMode&&this._parseDecimalInSimpleMode())},destroy:function(){this._removeHandlers(),this.host.remove()},inputValue:function(e){return void 0===e?this._value():(this.propertyChangedHandler(this,"value",this._value,e),this._refreshValue(),this)},_value:function(){return this.numberInput.val()},val:function(e){if((void 0===e||"object"==typeof e)&&null!==e)return this.getDecimal()
if(null!==e){var t=e;(t=t.toString()).indexOf(this.symbol)>-1&&(t=t.replace(this.symbol,""))
t=(t=function(e,t,i){var n=e
if(t==i)return e
for(var r=n.indexOf(t);-1!=r;)r=(n=n.replace(t,i)).indexOf(t)
return n}(t,this.groupSeparator,"")).replace(this.decimalSeparator,".")
for(var i="",n=0;n<t.length;n++){var r=t.substring(n,n+1)
"-"===r&&(i+="-"),"."===r&&(i+="."),null!=r.match(/^[0-9]+$/)&&(i+=r)}t=(t=i).replace(/ /g,""),t=new Number(t),this.setDecimal(t)}else this.setDecimal(null)},getDecimal:function(){return null==this.decimal?null:("simple"==this.inputMode&&(this._parseDecimalInSimpleMode(!1),this.decimal=this._getDecimalInSimpleMode(this.decimal)),""==this.decimal?0:this.getvalue("negative")&&this.decimal>0?-parseFloat(this.decimal):parseFloat(this.decimal))},setDecimal:function(e){var t=e
if("."!=this.decimalSeparator)if(null===e)this._setDecimal(e)
else{var i,n,r,o=e
if("number"!=typeof e)if(-1!=(i=(e=e.toString()).indexOf(".")))o=(n=e.substring(0,i))+"."+(r=e.substring(i+1)),-1!=n.indexOf("-")&&(n=n.substring(1)),e="advanced"!=this.inputMode?n+"."+r:n+this.decimalSeparator+r
else if(-1!=(i=e.indexOf(this.decimalSeparator)))o=(n=e.substring(0,i))+"."+(r=e.substring(i+1)),-1!=n.indexOf("-")&&(n=n.substring(1)),e="advanced"!=this.inputMode?n+"."+r:n+this.decimalSeparator+r
o<0?this.setvalue("negative",!0):this.setvalue("negative",!1),this._setDecimal(e)}else e<0?this.setvalue("negative",!0):this.setvalue("negative",!1),null===e?this._setDecimal(e):this._setDecimal(Math.abs(e))
null==t&&this.numberInput.val("")},_setDecimal:function(e){if(this.allowNull||null!=e||(this.decimal=0,e=0),null==e)return this.decimal=null,this.value=null,this.clearDecimal(),this._refreshValue(),this.decimal=null,void(this.value=null);-1!=e.toString().indexOf("e")&&(e=new Number(e).toFixed(this.decimalDigits).toString()),this.clearDecimal()
var t=e.toString(),i="",n="",r=!0
0==t.length&&(t="0")
for(var o=0;o<t.length;o++){if("number"==typeof e){if("."==t.substring(o,o+1)){r=!1
continue}}else if(t.substring(o,o+1)==this.decimalSeparator){r=!1
continue}r?i+=t.substring(o,o+1):n+=t.substring(o,o+1)}i.length>0&&(i=parseFloat(i).toString())
var a=this.digits
a<i.length&&(i=i.substr(0,a))
var s=0,l=this._getSeparatorPosition()
for(o=l+=this._getHiddenPrefixCount();o>=0;o--)o<this.items.length&&this.items[o].canEdit&&s<i.length&&(this.items[o].character=i.substring(i.length-s-1,i.length-s),s++)
s=0
for(o=l;o<this.items.length;o++)this.items[o].canEdit&&s<n.length&&(this.items[o].character=n.substring(s,s+1),s++)
if(this._refreshValue(),"."==this.decimalSeparator)this.ValueString=new Number(e).toFixed(this.decimalDigits)
else{var d=e.toString().indexOf(this.decimalSeparator)
if(d>0){var c=e.toString().substring(0,d)+"."+e.toString().substring(d+1)
this.ValueString=new Number(c).toFixed(this.decimalDigits)}else this.ValueString=new Number(e).toFixed(this.decimalDigits)}("advanced"!=this.inputMode&&(this._parseDecimalInSimpleMode(),this._raiseEvent(1,this.ValueString)),"textbox"==this.inputMode)&&(this.decimal=this.ValueString,this.getvalue("negative")&&(this.decimal="-"+this.ValueString));(e=this.val())<this.min||e>this.max?this.host.addClass("jqx-input-invalid"):this.host.removeClass("jqx-input-invalid")},_getSeparatorPosition:function(){var e=this._getHiddenPrefixCount()
return this.decimalSeparatorPosition>0?this.decimalSeparatorPosition-e:this.items.length-e},_setTheme:function(){this.host.removeClass(),this.host.addClass(this.toThemeProperty("jqx-input")),this.host.addClass(this.toThemeProperty("jqx-rc-all")),this.host.addClass(this.toThemeProperty("jqx-widget")),this.host.addClass(this.toThemeProperty("jqx-widget-content")),this.host.addClass(this.toThemeProperty("jqx-numberinput")),this.spinButtons&&(this.downbutton.removeClass(),this.upbutton.removeClass(),this.downbutton.addClass(this.toThemeProperty("jqx-scrollbar-button-state-normal")),this.upbutton.addClass(this.toThemeProperty("jqx-scrollbar-button-state-normal")),this._upArrow.removeClass(),this._downArrow.removeClass(),this._upArrow.addClass(this.toThemeProperty("jqx-icon-arrow-up")),this._downArrow.addClass(this.toThemeProperty("jqx-icon-arrow-down"))),this.numberInput.removeClass(),this.numberInput.addClass(this.toThemeProperty("jqx-input-content"))},propertiesChangedHandler:function(e,t,i){i&&i.width&&i.height&&2==Object.keys(i).length&&e._render()},propertyChangedHandler:function(t,i,n,r){if(!(t.batchUpdate&&t.batchUpdate.width&&t.batchUpdate.height&&2==Object.keys(t.batchUpdate).length)){if("template"==i&&(t.upbutton.removeClass(t.toThemeProperty("jqx-"+t.template)),t.downbutton.removeClass(t.toThemeProperty("jqx-"+t.template)),t.upbutton.addClass(t.toThemeProperty("jqx-"+t.template)),t.downbutton.addClass(t.toThemeProperty("jqx-"+t.template))),("digits"==i||"groupSize"==i||"decimalDigits"==i)&&r<0)throw new Error(this.invalidArgumentExceptions[0])
if("placeHolder"==i&&t.numberInput.attr("placeholder",t.placeHolder),"theme"===i&&e.jqx.utilities.setTheme(n,r,t.host),"digits"==i&&r!=n&&(t.digits=parseInt(r)),"min"!=i&&"max"!=i||(e.jqx.aria(t,"aria-value"+i,r.toString()),t._refreshValue()),"decimalDigits"==i&&r!=n&&(t.decimalDigits=parseInt(r)),"decimalSeparator"==i||"digits"==i||"symbol"==i||"symbolPosition"==i||"groupSize"==i||"groupSeparator"==i||"decimalDigits"==i||"negativeSymbol"==i){var o=t.decimal
if("decimalSeparator"==i&&""==r&&(r=" "),n!=r){var a=t._selection()
t.items=new Array,t._initializeLiterals(),t.value=t._getString(),t._refreshValue(),t._setDecimal(o)}}if("rtl"==i&&(t.rtl?(t.spincontainer&&(t.spincontainer.css("float","right"),t.spincontainer.css("border-right-width","1px")),t.numberInput.css("float","right")):(t.spincontainer&&(t.spincontainer.css("float","right"),t.spincontainer.css("border-right-width","1px")),t.numberInput.css("float","left"))),"spinButtons"==i&&(t.spincontainer?(r?t.spincontainer.css("display","block"):t.spincontainer.css("display","none"),t._render()):t._spinButtons()),"touchMode"===i&&(t.inputMode="textbox",t.spinMode="simple",t.render()),"negative"==i&&"advanced"==t.inputMode){a=t._selection()
var s=0
r?(t.items[0].character=t.negativeSymbol[0],s=1):(t.items[0].character="",s=-1),t._refreshValue(),t.isInitialized&&t._setSelection(a.start+s,a.end+s)}if("decimal"==i&&(t.value=r,t.setDecimal(r)),"value"===i&&(t.value=r,t.setDecimal(r),t._raiseEvent(1,r)),"textAlign"==i&&(t.textAlign=r,t._render()),"disabled"==i&&(t.numberInput.attr("disabled",r),t.disabled?t.host.addClass(t.toThemeProperty("jqx-fill-state-disabled")):t.host.removeClass(t.toThemeProperty("jqx-fill-state-disabled")),e.jqx.aria(t,"aria-disabled",r.toString())),"readOnly"==i&&(t.readOnly=r),"promptChar"==i){for(var l=0;l<t.items.length;l++)t.items[l].character==t.promptChar&&(t.items[l].character=r)
t.promptChar=r}"width"==i?(t.width=r,t._render()):"height"==i&&(t.height=r,t._render())}},_value:function(){return this.value},_refreshValue:function(){var e=this.value
if("textbox"!==this.inputMode){this.value=this._getString(),e=this.value
for(var t="",i=0;i<this.items.length;i++){var n=this.items[i]
n.canEdit&&n.character!=this.promptChar&&(t+=n.character),i==this.decimalSeparatorPosition&&(t+=".")}this.decimal=t
var r=!1
this.oldValue!==e&&(this.oldValue=e,this._raiseEvent(0,e),r=!0),"simple"!=this.inputMode&&(this.numberInput.val(e),r&&this._raiseEvent(1,e)),null==e&&this.numberInput.val("")}}})}(jqxBaseFramework)
var ai=Object.freeze({})
!function(e){e.jqx.jqxWidget("jqxFormattedInput","",{}),e.extend(e.jqx._jqxFormattedInput.prototype,{defineInstance:function(){var t={width:null,height:null,radix:10,outputNotation:"default",value:"0",min:"-9223372036854775808",max:"9223372036854775807",upperCase:!1,spinButtons:!0,spinButtonsStep:1,spinButtonsWidth:18,dropDown:!1,dropDownWidth:null,popupZIndex:2e4,placeHolder:"",roundedCorners:!0,disabled:!1,rtl:!1,readOnly:!1,textAlign:"right",int64:"s",digits:8,decimalDigits:null,decimalSeparator:".",spinMode:"simple",_opened:!1,$popup:document.createElement("ul"),events:["open","close","change","radixChange","valueChanged","textChanged"]}
e.extend(!0,this,t)},createInstance:function(){if(this._IE8=e.jqx.browser.msie&&e.jqx.browser.version<9,"none"!==this.host.css("display")&&!1!==document.body.contains(this.element)||(this._initiallyHidden=!0),this._regex={2:new RegExp(/([0-1])/),8:new RegExp(/([0-7])/),10:new RegExp(/([0-9\-\+e])/i),16:new RegExp(/([0-9]|[a-f])/i)},!1!==this.int64){try{BigNumber}catch(e){throw new Error("jqxFormattedInput: Missing reference to jqxmath.js")}this._regex[10]=new RegExp(/([0-9\-])/),"s"===this.int64&&this._Long()}this.spinButtonsWidth<16&&(this.spinButtonsWidth=16),this._checkStructure(),this.render()},render:function(){var t,i=this
function n(e){function t(t){t.className=i.toThemeProperty("jqx-fill-state-normal jqx-formatted-input-spin-button"),t.style.width=i.spinButtonsWidth-1+"px",e.appendChild(t)}function n(e,t,n){e.setAttribute("unselectable","on"),e.className=i.toThemeProperty("jqx-input-icon jqx-formatted-input-icon jqx-icon-arrow-"+n),t.appendChild(e)}i._spinButtonsContainerElement=e,e.className=i.toThemeProperty("jqx-formatted-input-spin-buttons-container"),e.style.width=i.spinButtonsWidth+"px",i._upbutton=document.createElement("div"),t(i._upbutton),i._downbutton=document.createElement("div"),t(i._downbutton),i._upArrow=document.createElement("div"),n(i._upArrow,i._upbutton,"up"),i._downArrow=document.createElement("div"),n(i._downArrow,i._downbutton,"down"),"s"===i.int64?i._spinButtonsStepObject=new i.longObj.math.Long.fromNumber(i.spinButtonsStep):"u"===i.int64?i._spinButtonsStepObject=new BigNumber(i.spinButtonsStep):!1===i.int64&&(i._spinButtonsStepObject=Number(i.spinButtonsStep))}function r(e){if(i._addon=e,e.className=i.toThemeProperty("jqx-formatted-input-addon"),!i._arrow){var t=document.createElement("div")
t.className=i.toThemeProperty("jqx-icon jqx-icon-arrow-down"),e.appendChild(t),i._arrow=t}}if(i._radixNumber=i._getRadix(i.radix),!1===i.int64?(10!==i._radixNumber&&(i.radix=10,i._radixNumber=10),!0===i.dropDown&&(i.dropDown=!1),"-9223372036854775808"===i.min&&(i.min=Number.NEGATIVE_INFINITY),"9223372036854775807"===i.max&&(i.max=1/0)):(null!==i.decimalDigits&&(i.decimalDigits=null),i.min===Number.NEGATIVE_INFINITY&&("s"===i.int64?i.min="-9223372036854775808":i.min="0"),i.max===1/0&&("s"===i.int64?i.max="9223372036854775807":i.max="18446744073709551615")),""!==i.value&&("s"===i.int64?i._number=new i.longObj.math.Long.fromString(i.value.toString(),i._radixNumber):"u"===i.int64?i._number=i._toBigNumberDecimal(i.value):!1===i.int64&&(i._number=Number(i._discardDecimalSeparator(i.value)))),i.baseHost&&(i.host=i.baseHost,i.element=i.host[0]),"div"===this.element.nodeName.toLowerCase()){this.baseElement=this.element
var o=i.element.getElementsByTagName("input")[0]
if(!o)throw new Error('jqxFormattedInput: Missing <input type="text" /> in the widget\'s HTML structure.')
this.baseHost=e(this.baseElement)
var a=this.host.data()
this.host=e(o),this.element=o,this.host.data(a),this.baseElement.className=i.toThemeProperty("jqx-widget jqx-input-group")
for(var s=i.baseHost.children(),l=0;l<s.length;l++){var d=s[l],c="jqx-input-group-addon"
d!==i.element&&(c+=" jqx-fill-state-normal"),"div"===d.nodeName.toLowerCase()&&(!1===i.rtl?i._spinButtonsContainerElement||!0!==i.spinButtons?i._addon||!0!==i.dropDown||2!==l&&(1!==l||!1!==i.spinButtons)||r(d):n(d):i._addon||!0!==i.dropDown?i._spinButtonsContainerElement||!0!==i.spinButtons||1!==l&&(0!==l||!1!==i.dropDown)||(n(d),c+=" jqx-formatted-input-spin-buttons-container-rtl",!0===i.dropDown&&-1===i._addon.className.indexOf("jqx-formatted-input-addon-rtl")&&(i._addon.className+=" "+i.toThemeProperty("jqx-formatted-input-addon-rtl"))):(r(d),!0===i.spinButtons&&(c+=" jqx-formatted-input-addon-rtl"))),d.className+=" "+i.toThemeProperty(c)}}!0===i._initialized&&i.removeHandlers(),this.addHandlers(),i.rtl&&(i.element.className+=" "+i.toThemeProperty("jqx-rtl")),!0===i.readOnly&&(i.element.readOnly=!0),"s"===i.int64?(10!==i._radixNumber&&"-9223372036854775808"===i.min.toString()?i._minObject=new i.longObj.math.Long.fromNumber(i.min):i._setMinMax("min"),10!==i._radixNumber&&"9223372036854775807"===i.max.toString()?i._maxObject=new i.longObj.math.Long.fromNumber(i.max):i._setMinMax("max")):"u"===i.int64?("-9223372036854775808"===i.min&&(i.min="0"),"9223372036854775807"===i.max&&(i.max="18446744073709551615"),10!==i._radixNumber&&"0"===i.min.toString()?i._minObject=new BigNumber(i.min):i._setMinMax("min"),10!==i._radixNumber&&"18446744073709551615"===i.max.toString()?i._maxObject=new BigNumber(i.max):i._setMinMax("max")):(i._minObject=Number(i._discardDecimalSeparator(i.min)),i._maxObject=Number(i._discardDecimalSeparator(i.max))),""!==i.value&&null!==i.value?(!0===i.upperCase?i.element.className+=" "+i.toThemeProperty("jqx-formatted-input-upper-case"):i.element.className+=" "+i.toThemeProperty("jqx-formatted-input-lower-case"),t=i._validateValue(i.value,!0),i._checkNotation(i.value),10!==i._radixNumber||"exponential"!==i.outputNotation&&"engineering"!==i.outputNotation?i._eNotation&&(i._number=i._largeExponentialToDecimal(i._number),t=i._number):(i._eNotation&&(i._number=i._largeExponentialToDecimal(i._number)),t=i._getDecimalNotation(i.outputNotation)),i.element.value=t):i._spinButtonsContainerElement&&(i._spinButtonsContainerElement.className+=" "+i.toThemeProperty("jqx-fill-state-disabled")),i._checkNotation(),i._eNotation||(i.element.value=i._validateDigits(i.element.value),i._handleOutputNotation())},_addClasses:function(){var t=""
this.dropDown&&(this.$popup.className=this.toThemeProperty("jqx-popup jqx-input-popup jqx-menu jqx-menu-vertical jqx-menu-dropdown jqx-widget jqx-widget-content"),e.jqx.browser.msie&&(this.$popup.className+=" "+this.toThemeProperty("jqx-noshadow"))),this.roundedCorners&&(this.baseHost?(this.dropDown&&(this.$popup.className+=" "+this.toThemeProperty("jqx-rc-all")),this.baseElement.className+=" "+this.toThemeProperty("jqx-rc-all"),!1===this.rtl?(t+=" jqx-rc-l",this._addon&&(this._addon.className+=" "+this.toThemeProperty("jqx-rc-r"))):(t+=" jqx-rc-r",this._addon&&(this._addon.className+=" "+this.toThemeProperty("jqx-rc-l")))):t+=" jqx-rc-all"),this.disabled&&(t+=" jqx-fill-state-disabled",this.baseHost&&(this._spinButtonsContainerElement&&(this._spinButtonsContainerElement.className+=" "+this.toThemeProperty("jqx-fill-state-disabled")),this._addon&&(this._addon.className+=" "+this.toThemeProperty("jqx-fill-state-disabled")))),this.element.className+=" "+this.toThemeProperty(t)},selectAll:function(){var e=this.host
setTimeout(function(){if("selectionStart"in e[0])e[0].focus(),e[0].setSelectionRange(0,e[0].value.length)
else{var t=e[0].createTextRange()
t.collapse(!0),t.moveEnd("character",e[0].value.length),t.moveStart("character",0),t.select()}},10)},selectLast:function(){var e=this.host
this.selectStart(e[0].value.length)},selectFirst:function(){this.selectStart(0)},selectStart:function(e){var t=this.host
setTimeout(function(){if("selectionStart"in t[0])t[0].focus(),t[0].setSelectionRange(e,e)
else{var i=t[0].createTextRange()
i.collapse(!0),i.moveEnd("character",e),i.moveStart("character",e),i.select()}},10)},focus:function(){try{var e=this
e.element.focus(),setTimeout(function(){e.element.focus()},25)}catch(e){}},refresh:function(e){if(this.element.className+=" "+this.toThemeProperty("jqx-widget-content jqx-input jqx-formatted-input jqx-widget jqx-formatted-input-align-"+this.textAlign),e&&this._addClasses(),this.baseHost){if(this.width&&(this.baseElement.style.width=this._toPx(this.width)),this.height){this.baseElement.style.height=this._toPx(this.height)
for(var t=0,i=this.baseHost.children(),n=0;n<i.length;n++){var r=i[n]
r.style.height="100%",r!==this.element&&(t+=r.offsetWidth)}var o="string"==typeof this.width&&-1!==this.width.indexOf("%")?1:0
if(this._IE8){var a=this.element.style
a.width=this.baseElement.offsetWidth-t-o+"px",this._spinButtonsContainerElement&&(!1===this.rtl||!0===this.rtl&&this._addon)&&(this._spinButtonsContainerElement.style.borderLeftWidth="0px"),this._addon&&(!1===this.rtl?this._addon.style.borderLeftWidth="0px":this._spinButtonsContainerElement||(this._addon.style.borderRightWidth="0px"))
var s=this.element.currentStyle,l=function(e){return"string"==typeof e?"medium"===e?1:parseInt(e,10):e},d=Math.max(0,this.baseElement.offsetHeight-(l(s.borderTopWidth)+l(s.borderBottomWidth)+l(s.paddingTop)+l(s.paddingBottom)))+"px"
a.lineHeight=d}else this.element.style.width="calc(100% - "+(t+o)+"px)"}}else this.width&&(this.element.style.width=this._toPx(this.width)),this.height&&(this.element.style.height=this._toPx(this.height))
this.element.disabled=this.disabled,this.element.placeholder||this._refreshPlaceHolder(),e&&(this._initialized=!0)},_toPx:function(e){return"number"==typeof e?e+"px":e},_refreshPlaceHolder:function(){if("placeholder"in this.element&&!(e.jqx.browser.msie&&e.jqx.browser.version<9))this.element.placeholder=this.placeHolder
else{""===this.element.value&&(this.element.value=this.placeHolder)}},destroy:function(){this.removeHandlers(),this.baseHost?(e.jqx.utilities.resize(this.baseHost,null,!0),this.baseHost.remove()):this.host.remove(),this.$popup&&e(this.$popup).remove()},propertyChangedHandler:function(t,i,n,r){function o(e,i){!1===i?(e.style.display="none",!0===t.rtl&&(!0===t.spinButtons&&(t._spinButtonsContainerElement.className+=" "+t.toThemeProperty("jqx-formatted-input-spin-buttons-container-rtl-border")),!0===t.dropDown&&t._removeClass(t._addon,t.toThemeProperty("jqx-formatted-input-addon-rtl")))):(e.style.display="block",!0===t.rtl&&!0===t.spinButtons&&!0===t.dropDown&&(t._removeClass(t._spinButtonsContainerElement,t.toThemeProperty("jqx-formatted-input-spin-buttons-container-rtl-border")),t._addon.className+=" "+t.toThemeProperty("jqx-formatted-input-addon-rtl")))
var n=0
t.spinButtons&&(n+=t.spinButtonsWidth),t.dropDown&&(n+=t._addon.offsetWidth),t._IE8?t.element.style.width=t.baseElement.offsetWidth-n-("string"==typeof t.width&&-1!==t.width.indexOf("%")?1:0)+"px":t.element.style.width="calc(100% - "+n+"px)"}function a(i){var n=t.element,r=document.createElement("div")
if(t.baseHost){var o,a=t.baseHost.children()
o="div"===a[1].nodeName.toLowerCase()||t.rtl&&"spinButtons"===i?a[1]:a[0],!1===t.rtl&&"spinButtons"===i||!0===t.rtl&&"dropDown"===i?t.baseElement.insertBefore(r,o):t.rtl?t.baseElement.insertBefore(r,o):t.baseElement.appendChild(r),t.render()
var s="string"==typeof t.width&&-1!==t.width.indexOf("%")
t._IE8?(t.element.style.width=t.baseElement.offsetWidth-t.spinButtonsWidth-t._addon.offsetWidth-(s?1:0)+"px",s&&(r.style.borderLeftWidth="0px")):t.element.style.width=t.element.style.width="calc(100% - "+(t.spinButtonsWidth+t._addon.offsetWidth+(s?1:0))+"px)"}else{var l=n.id,d=n.parentNode,c=n.nextSibling,h=document.createElement("div")
t.element.removeAttribute("id"),h.setAttribute("id",l),h.appendChild(n),t.rtl?h.insertBefore(r,n):h.appendChild(r),c?d.insertBefore(h,c):d.appendChild(h),t.baseElement=h,t.baseHost=e(h)
var u=t.host.data()
u.jqxFormattedInput.host=t.baseHost,u.jqxFormattedInput.element=h,t.baseHost.data(u),t.element.style.height="",t.render(),t.refresh()}t._addClasses()}if(r!==n)switch(i){case"roundedCorners":r?t.baseHost?(t.dropDown&&(t.$popup.className+=" "+t.toThemeProperty("jqx-rc-all")),t.baseElement.className+=" "+t.toThemeProperty("jqx-rc-all"),!1===t.rtl?(t.element.className+=" "+t.toThemeProperty("jqx-rc-l"),t._addon&&(t._addon.className+=" "+t.toThemeProperty("jqx-rc-r"))):(t.element.className+=" "+t.toThemeProperty("jqx-rc-r"),t._addon&&(t._addon.className+=" "+t.toThemeProperty("jqx-rc-l")))):t.element.className+=" "+t.toThemeProperty("jqx-rc-all"):t.baseHost?(t.dropDown&&t._removeClass(t.$popup,t.toThemeProperty("jqx-rc-all")),t._removeClass(t.baseElement,t.toThemeProperty("jqx-rc-all")),!1===t.rtl?(t._removeClass(t.element,t.toThemeProperty("jqx-rc-l")),t._addon&&t._removeClass(t._addon,t.toThemeProperty("jqx-rc-r"))):(t._removeClass(t.element,t.toThemeProperty("jqx-rc-r")),t._addon&&t._removeClass(t._addon,t.toThemeProperty("jqx-rc-l")))):t._removeClass(t.element,t.toThemeProperty("jqx-rc-all"))
break
case"placeHolder":t._refreshPlaceHolder()
break
case"theme":e.jqx.utilities.setTheme(n,r,t.host)
break
case"disabled":r?(t.element.className+=" "+t.toThemeProperty("jqx-fill-state-disabled"),t.baseHost&&(t._spinButtonsContainerElement&&(t._spinButtonsContainerElement.className+=" "+t.toThemeProperty("jqx-fill-state-disabled")),t._addon&&(t._addon.className+=" "+t.toThemeProperty("jqx-fill-state-disabled")))):(t._removeClass(t.element,t.toThemeProperty("jqx-fill-state-disabled")),t.baseHost&&""!==t.value&&null!==t.value&&(t._spinButtonsContainerElement&&t._removeClass(t._spinButtonsContainerElement,t.toThemeProperty("jqx-fill-state-disabled")),t._addon&&t._removeClass(t._addon,t.toThemeProperty("jqx-fill-state-disabled")))),t.refresh()
break
case"value":n.toString().toUpperCase()!==r.toString().toUpperCase()&&t.val(r)
break
case"radix":!1!==t.int64?t._changeRadix(r):(t.radix=10,t._radixNumber=10)
break
case"outputNotation":var s
if(10===t._radixNumber)s="exponential"===r?t._number.toExponential():"engineering"===r?t._getDecimalNotation("engineering"):t._number.toString(10),t.element.value=t._applyDecimalSeparator(s),t.refresh()
break
case"min":case"max":!1!==t.int64&&("min"===i&&r===Number.NEGATIVE_INFINITY?"s"===t.int64?t.min="-9223372036854775808":t.min="0":"max"===i&&r===1/0&&("s"===t.int64?t.max="9223372036854775807":t.max="18446744073709551615")),t._setMinMax(i),t._validateValue(t.value,!0),t.value=t.element.value
break
case"upperCase":""!==t.element.value&&(!0===r?(t._removeClass(t.element,t.toThemeProperty("jqx-formatted-input-lower-case")),t.element.className+=" "+t.toThemeProperty("jqx-formatted-input-upper-case")):(t._removeClass(t.element,t.toThemeProperty("jqx-formatted-input-upper-case")),t.element.className+=" "+t.toThemeProperty("jqx-formatted-input-lower-case")))
break
case"spinButtons":t._spinButtonsContainerElement?o(t._spinButtonsContainerElement,r):a("spinButtons")
break
case"spinButtonsStep":"s"===t.int64?t._spinButtonsStepObject=new t.longObj.math.Long.fromNumber(r):"u"===t.int64?t._spinButtonsStepObject=new BigNumber(r):!1===t.int64&&(t._spinButtonsStepObject=Number(r))
break
case"dropDown":if(!1===t.int64)return void(t.dropDown=!1)
t._addon?o(t._addon,r):a("dropDown")
break
case"readOnly":!0===r?t.host.attr("readonly",!0):t.host.removeAttr("readonly")
break
case"textAlign":t._removeClass(t.element,t.toThemeProperty("jqx-formatted-input-align-"+n)),t.element.className+=" "+t.toThemeProperty("jqx-formatted-input-align-"+r)
break
case"spinButtonsWidth":r<16&&(t.spinButtonsWidth=16,r=16),t._spinButtonsContainerElement.style.width=r+"px",t._upbutton.style.width=r-1+"px",t._downbutton.style.width=r-1+"px",t.refresh()
break
case"digits":t.element.value=t._validateDigits(t.element.value),t.refresh()
break
case"decimalDigits":!1===t.int64?t.element.value=t._validateDigits(t.element.value):t.decimalDigits=null,t.refresh()
break
case"decimalSeparator":var l=t._discardDecimalSeparator(t.element.value,n)
t.element.value=t._applyDecimalSeparator(l),t.refresh()
break
default:t.refresh()}},select:function(e,t,i){i||(i=this._find("jqx-fill-state-pressed",this.$popup).getAttribute("data-value")),this._changeRadix(parseInt(i,10)),this._setMaxLength(!0),this.close()},setValue:function(e){var t=this.element.value
t!=e&&(this.element.value=e,this.value=e,this._raiseEvent("4",{value:e,oldValue:t}),this._raiseEvent("2",{value:e,oldValue:t,radix:this._radixNumber}))},val:function(t){if(void 0===t&&""!==t||"object"==typeof t&&!0===e.isEmptyObject(t)||"binary"===t||"octal"===t||"decimal"===t||"exponential"===t||"scientific"===t||"engineering"===t||"hexadecimal"===t){if(!t||"object"==typeof t&&!0===e.isEmptyObject(t))return this.element.value
if(!1!==this.int64||"exponential"!==t&&"scientific"!==t&&"engineering"!==t){if(!1===this.int64||"binary"!==t&&"octal"!==t&&"decimal"!==t&&"hexadecimal"===t)return this.element.value
var i=this._getRadix(t)
return this._number.toString(i)}return this._getDecimalNotation(t)}if((t=t.toString()).toUpperCase()!==this.element.value.toString().toUpperCase()){var n=this.element.value
!0===this.upperCase&&(t=t.toUpperCase())
for(var r=t.split(""),o=0;o<r.length;o++){var a=r[o]
if(!this._regex[""+this._radixNumber].test(a)&&a!==this.decimalSeparator||10!==this._radixNumber&&a===this.decimalSeparator)return}var s=this._validateValue(t,!0)
return!1===this.int64&&Number(n)===Number(s)?void(this.element.value=n):(this._handleOutputNotation(),s=this.element.value,this.value=s,this._raiseEvent("4",{value:s,oldValue:n}),this._raiseEvent("2",{value:s,oldValue:n,radix:this._radixNumber}),s)}return t},clear:function(){this.val(""),this._removeClass(this.element,this.toThemeProperty("jqx-formatted-input-upper-case jqx-formatted-input-lower-case")),this._spinButtonsContainerElement&&(this._spinButtonsContainerElement.className+=" "+this.toThemeProperty("jqx-fill-state-disabled"))},_changeRadix:function(e){var t=this._getRadix(e),i=""!==this.value?this._number.toString(t):"",n=this.radix,r=this.value
this.radix=e,this._radixNumber=t,this.element.value=i,this.value=i,this._raiseEvent("3",{radix:e,oldRadix:n,value:i,oldValue:r})},_raiseEvent:function(t,i){void 0===i&&(i={owner:null})
var n=this.events[t]
i.owner=this
var r=new e.Event(n)
return r.owner=this,r.args=i,r.preventDefault&&r.preventDefault(),this.baseHost?this.baseHost.trigger(r):this.host.trigger(r)},open:function(){var t=this,i=t.baseElement?t.baseElement.id:t.element.id,n=e(t.$popup).children()
function r(e){var i=t._find("jqx-fill-state-pressed",t.$popup)
i&&t._removeClass(i,"jqx-fill-state-pressed"),e.currentTarget.className+=" "+t.toThemeProperty("jqx-fill-state-pressed")}for(var o=0;o<n.length;o++){var a=n[o]
t.removeHandler(a,"mouseenter.jqxFormattedInput"+i)}if(t._setPopupOptions(),t._render(t._popupOptions),!e.jqx.isHidden(this.host)){var s
if(s=t.baseHost?e.extend({},t.baseHost.coord(!0),{height:t.baseElement.offsetHeight}):e.extend({},t.host.coord(!0),{height:t.host[0].offsetHeight}),!this.$popup.parentElement){var l=i+"_popup"
this.$popup.setAttribute("id",l),e.jqx.aria(this,"aria-owns",l),document.body.appendChild(t.$popup)}t.$popup.style.position="absolute",t.$popup.style.zIndex=this.popupZIndex,t.$popup.style.top=s.top+s.height+"px",t.$popup.style.left=s.left+"px",t.$popup.style.display="block"
for(var d=e(t.$popup).children(),c=0,h=0;h<d.length;h++){var u=d[h]
t.addHandler(u,"mouseenter.jqxFormattedInput"+i,r),c+=u.offsetHeight+1}return t.$popup.style.height=c+"px",this._opened=!0,t.baseHost&&(t._addon.className+=" "+t.toThemeProperty("jqx-fill-state-pressed jqx-combobox-arrow-selected"),t._arrow.className+=" "+t.toThemeProperty("jqx-icon-arrow-down-selected")),this._raiseEvent("0",{popup:this.$popup}),e.jqx.aria(this,"aria-expanded",!0),this}},close:function(){return this.$popup.style.display="none",this._opened=!1,this.baseHost&&(this._removeClass(this._addon,this.toThemeProperty("jqx-fill-state-pressed jqx-combobox-arrow-selected")),this._removeClass(this._arrow,this.toThemeProperty("jqx-icon-arrow-down-selected"))),this._raiseEvent("1",{popup:this.$popup}),e.jqx.aria(this,"aria-expanded",!1),this},_render:function(e){for(var t="",i=0;i<e.length;i++){var n,r=e[i],o="jqx-item jqx-menu-item jqx-formatted-input-item"
switch(i){case 0:n=2
break
case 1:n=8
break
case 2:n=10
break
case 3:n=16}n===this._radixNumber&&(o+=" jqx-fill-state-pressed"),this.rtl&&(o+=" jqx-rtl jqx-formatted-input-item-rtl"),this.roundedCorners&&(o+=" jqx-rc-all"),t+='<li class="'+this.toThemeProperty(o)+'" data-value="'+n+'"><a href="#">'+r+"</a></li>"}if(this.$popup.innerHTML=t,this.dropDownWidth)this.$popup.style.width=this.dropDownWidth+"px"
else if(this.baseHost){var a="string"==typeof this.width&&-1!==this.width.indexOf("%")?1:0
this.$popup.style.width=this.baseElement.offsetWidth-6-a+"px"}else this.$popup.style.width=this.element.offsetWidth-6+"px"
return this},next:function(){var e=this._find("jqx-fill-state-pressed",this.$popup),t=e.nextSibling
this._removeClass(e,"jqx-fill-state-pressed"),t||(t=this.$popup.firstChild),t.className+=" "+this.toThemeProperty("jqx-fill-state-pressed")},prev:function(){var e=this._find("jqx-fill-state-pressed",this.$popup),t=e.previousSibling
this._removeClass(e,"jqx-fill-state-pressed"),t||(t=this.$popup.lastChild),t.className+=" "+this.toThemeProperty("jqx-fill-state-pressed")},addHandlers:function(){var t=this,i=t.baseElement?t.baseElement.id:t.element.id
this.addHandler(this.host,"focus.jqxFormattedInput"+i,function(){t.onFocus()}),this.addHandler(this.host,"blur.jqxFormattedInput"+i,function(){t.onBlur()}),this.addHandler(this.host,"keypress.jqxFormattedInput"+i,function(e){t.keypress(e)}),this.addHandler(this.host,"keyup.jqxFormattedInput"+i,function(e){t.keyup(e)}),this.addHandler(this.host,"keydown.jqxFormattedInput"+i,function(e){t.keydown(e)}),this.addHandler(this.$popup,"mousedown.jqxFormattedInput"+i,function(e){t.click(e)}),this.addHandler(this.host,"change.jqxFormattedInput"+i,function(e){e.stopPropagation(),e.preventDefault()}),this.addHandler(this.host,"mousewheel.jqxFormattedInput"+i,function(e){t.element===document.activeElement&&(e.wheelDelta>0?t._incrementOrDecrement("add"):t._incrementOrDecrement("subtract"))}),t.baseHost&&(t._spinButtonsContainerElement&&(t.addHandler(t._upbutton,"mousedown.jqxFormattedInputSpinButtonUp"+i,function(){t.disabled||""===t.value||null===t.value||(t._upbutton.className+=" "+t.toThemeProperty("jqx-fill-state-pressed"),t._incrementOrDecrement("add"))}),t.addHandler(t._upbutton,"mouseup.jqxFormattedInputSpinButtonUp"+i,function(){t.disabled||""===t.value||null===t.value||t._removeClass(t._upbutton,t.toThemeProperty("jqx-fill-state-pressed"))}),t.addHandler(t._downbutton,"mousedown.jqxFormattedInputSpinButtonDown"+i,function(){t.disabled||""===t.value||null===t.value||(t._downbutton.className+=" "+t.toThemeProperty("jqx-fill-state-pressed"),t._incrementOrDecrement("subtract"))}),t.addHandler(t._downbutton,"mouseup.jqxFormattedInputSpinButtonDown"+i,function(){t.disabled||""===t.value||null===t.value||t._removeClass(t._downbutton,t.toThemeProperty("jqx-fill-state-pressed"))}),t.addHandler(t._upbutton,"mouseenter.jqxFormattedInputSpinButtons"+i,function(){t.disabled||""===t.value||null===t.value||(t._upbutton.className+=" "+t.toThemeProperty("jqx-fill-state-hover"),t._upArrow.className+=" "+t.toThemeProperty("jqx-icon-arrow-up-hover"))}),t.addHandler(t._downbutton,"mouseenter.jqxFormattedInputSpinButtons"+i,function(){t.disabled||""===t.value||null===t.value||(t._downbutton.className+=" "+t.toThemeProperty("jqx-fill-state-hover"),t._downArrow.className+=" "+t.toThemeProperty("jqx-icon-arrow-down-hover"))}),t.addHandler(t._upbutton,"mouseleave.jqxFormattedInputSpinButtons"+i,function(){t.disabled||""===t.value||null===t.value||(t._removeClass(t._upbutton,t.toThemeProperty("jqx-fill-state-hover")),t._removeClass(t._upArrow,t.toThemeProperty("jqx-icon-arrow-up-hover")))}),t.addHandler(t._downbutton,"mouseleave.jqxFormattedInputSpinButtons"+i,function(){t.disabled||""===t.value||null===t.value||(t._removeClass(t._downbutton,t.toThemeProperty("jqx-fill-state-hover")),t._removeClass(t._downArrow,t.toThemeProperty("jqx-icon-arrow-down-hover")))}),t.addHandler(document.body,"mouseup.jqxFormattedInputSpinButtons"+i,function(){t._removeClass(t._upbutton,t.toThemeProperty("jqx-fill-state-pressed")),t._removeClass(t._downbutton,t.toThemeProperty("jqx-fill-state-pressed"))})),t._addon&&(t.addHandler(t._addon,"click.jqxFormattedInputAddon"+i,function(){t.disabled||(t._opened?t.close():t.open())}),t.addHandler(t._addon,"mouseenter.jqxFormattedInputAddon"+i,function(){t.disabled||""===t.value||null===t.value||(t._addon.className+=" "+t.toThemeProperty("jqx-fill-state-hover jqx-combobox-arrow-hover"),t._arrow.className+=" "+t.toThemeProperty("jqx-icon-arrow-down-hover"))}),t.addHandler(t._addon,"mouseleave.jqxFormattedInputAddon"+i,function(){t.disabled||""===t.value||null===t.value||(t._removeClass(t._addon,t.toThemeProperty("jqx-fill-state-hover jqx-combobox-arrow-hover")),t._removeClass(t._arrow,t.toThemeProperty("jqx-icon-arrow-down-hover")))}),t.addHandler(t._addon,"blur.jqxFormattedInputAddon"+i,function(){t._opened&&!t.disabled&&t.close()}),t.addHandler(t._arrow,"blur.jqxFormattedInputAddon"+i,function(){t._opened&&!t.disabled&&t.close()})),e.jqx.utilities.resize(t.baseHost,function(){var e
!0===t._opened&&t.close(),t._IE8?(e=0,t.spinButtons&&(e+=t.spinButtonsWidth),t._addon&&(e+=t._addon.offsetWidth),t.element.style.width=t.baseElement.offsetWidth-e-1+"px",t.element.style.lineHeight=t.baseElement.offsetHeight+"px"):!0===t._initiallyHidden&&(e=0,t.spinButtons&&(e+=t.spinButtonsWidth),t.dropDown&&(e+=t._addon.offsetWidth),t.element.style.width="calc(100% - "+e+"px)",t._initiallyHidden=!1)}))},removeHandlers:function(){var e=this.baseElement?this.baseElement.id:this.element.id
this.removeHandler(this.host,"focus.jqxFormattedInput"+e),this.removeHandler(this.host,"blur.jqxFormattedInput"+e),this.removeHandler(this.host,"keypress.jqxFormattedInput"+e),this.removeHandler(this.host,"keyup.jqxFormattedInput"+e),this.removeHandler(this.host,"keydown.jqxFormattedInput"+e),this.removeHandler(this.$popup,"mousedown.jqxFormattedInput"+e),this.removeHandler(this.host,"mousewheel.jqxFormattedInput"+e),this.removeHandler(this.host,"change.jqxFormattedInput"+e),this.removeHandler(this.host,"mousewheel.jqxFormattedInput"+e),this.baseHost&&(this._spinButtonsContainerElement&&(this.removeHandler(this._upbutton,"mousedown.jqxFormattedInputSpinButtonUp"+e),this.removeHandler(this._upbutton,"mouseup.jqxFormattedInputSpinButtonUp"+e),this.removeHandler(this._downbutton,"mousedown.jqxFormattedInputSpinButtonDown"+e),this.removeHandler(this._downbutton,"mouseup.jqxFormattedInputSpinButtonDown"+e),this.removeHandler(this._upbutton,"mouseenter.jqxFormattedInputSpinButtonUp"+e),this.removeHandler(this._downbutton,"mouseenter.jqxFormattedInputSpinButtonDown"+e),this.removeHandler(this._upbutton,"mouseleave.jqxFormattedInputSpinButtonUp"+e),this.removeHandler(this._downbutton,"mouseleave.jqxFormattedInputSpinButtonDown"+e),this.removeHandler(document.body,"mouseup.jqxFormattedInputSpinButtons"+e)),this._addon&&(this.removeHandler(this._addon,"click.jqxFormattedInputAddon"+e),this.removeHandler(this._addon,"mouseenter.jqxFormattedInputAddon"+e),this.removeHandler(this._addon,"mouseleave.jqxFormattedInputAddon"+e),this.removeHandler(this._addon,"blur.jqxFormattedInputAddon"+e),this.removeHandler(this._arrow,"blur.jqxFormattedInputAddon"+e)))},move:function(e){if(this._opened){switch(e.keyCode){case 9:case 13:case 27:e.preventDefault()
break
case 38:e.preventDefault(),this.prev()
break
case 40:e.preventDefault(),this.next()}e.stopPropagation()}},keydown:function(e){var t=e.charCode?e.charCode:e.which
if(this.readOnly)return!1
this.suppressKeyPressRepeat=-1!==[40,38,9,13,27].indexOf(e.keyCode),this.move(e),40!==t?38!==t||(!0===e.altKey?this._addon&&this.close():this._incrementOrDecrement("add")):!0===e.altKey?this._addon&&(this.onBlur(),this.open()):this._incrementOrDecrement("subtract")},keypress:function(t){var i=t.key||String.fromCharCode(t.keyCode)
if(this.valChanged=!1,(!e.jqx.browser.mozilla||"ArrowLeft"!==i&&"ArrowRight"!==i&&"ArrowUp"!==i&&"ArrowDown"!==i&&"Backspace"!==i&&"Delete"!==i&&"Home"!==i&&"End"!==i)&&!this.suppressKeyPressRepeat&&!this.readOnly){this.move(t)
var n=this.element.value
if(i===this.decimalSeparator){if((n.match(new RegExp("\\"+this.decimalSeparator,"g"))||[]).length>0)return t.preventDefault(),!1}else{if("Enter"===i)return
if(!0!==this._regex[this._radixNumber.toString()].test(i))return!1===t.ctrlKey?(t.preventDefault(),!1):void 0
if("+"===i||"-"===i)if(!1!==this.int64)"-"===n.charAt(0)?this._minus=!1:this._minus=!0,t.preventDefault()
else{var r=(n.match(/-/g)||[]).length+(n.match(/\+/g)||[]).length
if(r>0&&-1===n.toLowerCase().indexOf("e")||r>1)return t.preventDefault(),!1}else if("e"===i.toLowerCase()&&10===this._radixNumber){if((n.toLowerCase().match(/e/g)||[]).length>0)return t.preventDefault(),!1}}var o=this._getCaretPosition(),a=n,s=a.slice(0,o)+i+a.slice(o)
s!==a&&(this.valChanged=!0,this.valueChangedOld=a,this.valueChangedNew=s,this._raiseEvent("5",{value:s,oldValue:a}))}},keyup:function(e){switch(this.valChanged&&(this._raiseEvent("4",{value:this.valueChangedNew,oldValue:this.valueChangedOld}),this._supressValueChangedEvent=!0),e.keyCode){case 40:case 38:case 16:case 17:case 18:break
case 9:case 13:this._opened&&this.select(e,this)
break
case 27:if(!this._opened)return
this.close()
break
case 189:if("s"!==this.int64)return
if(10===this._radixNumber){var t=this.element.value.replace(/-/g,"")
!0===this._minus?this.element.value="-"+t:this.element.value=t}}e.stopPropagation(),e.preventDefault(),""!==this.element.value?this._spinButtonsContainerElement&&this._removeClass(this._spinButtonsContainerElement,this.toThemeProperty("jqx-fill-state-disabled")):(this._removeClass(this.element,this.toThemeProperty("jqx-formatted-input-upper-case jqx-formatted-input-lower-case")),this._spinButtonsContainerElement&&(this._spinButtonsContainerElement.className+=" "+this.toThemeProperty("jqx-fill-state-disabled")))},_getCaretPosition:function(){var e=this.element,t=0
if(document.selection){e.focus()
var i=document.selection.createRange()
i.moveStart("character",-e.value.length),t=i.text.length}else(e.selectionStart||"0"===e.selectionStart)&&(t=e.selectionStart)
return t},_setCaretPosition:function(e){var t=this.element
setTimeout(function(){if("selectionStart"in t)t.focus(),t.setSelectionRange(e,e)
else{var i=t.createTextRange()
i.collapse(!0),i.moveEnd("character",e),i.moveStart("character",e),i.select()}},10)},onBlur:function(){this._opened&&this.close(),this._setMaxLength(),this._removeClass(this.element,"jqx-fill-state-focus"),this._removeClass(this._spinButtonsContainerElement,"jqx-fill-state-focus"),this._removeClass(this._addon,"jqx-fill-state-focus"),this._change(),!1===this.int64&&(this.element.value=this._validateDigits(this.element.value)),this._handleOutputNotation(),this._checkNotation(),this.upperCase?this.element.className+=" "+this.toThemeProperty("jqx-formatted-input-upper-case"):this.element.className+=" "+this.toThemeProperty("jqx-formatted-input-lower-case"),"placeholder"in this.element&&!(e.jqx.browser.msie&&e.jqx.browser.version<9)||""!==this.element.value&&this.element.value!==this.placeHolder||(this.element.value=this.placeHolder)},_handleOutputNotation:function(){if(this._checkNotation(),!1===this.int64){var e=Number(this._discardDecimalSeparator(this.element.value))
switch(this._number=e,this.outputNotation){case"default":if(this._eNotation){var t=-1!==e.toString().indexOf("e")
this.element.value=t?this._largeExponentialToDecimal(e):this._validateDigits(e)}break
case"exponential":var i
i=this._eNotation?e.toExponential():this._getDecimalNotation("exponential"),this.element.value=this._applyDecimalSeparator(i)
break
case"engineering":this.element.value=this._applyDecimalSeparator(this._getDecimalNotation("engineering"))}}},_largeExponentialToDecimal:function(e){var t=e.toString(),i=t.indexOf("e"),n=new BigNumber(t.slice(0,i)),r=t.slice(i+2),o=t.slice(i+1,i+2),a=new BigNumber(10).pow(o+r)
return n.multiply(a).toString()},onFocus:function(){this._setMaxLength(!0),this.element.className+=" "+this.toThemeProperty("jqx-fill-state-focus"),this._spinButtonsContainerElement&&(this._spinButtonsContainerElement.className+=" "+this.toThemeProperty("jqx-fill-state-focus")),this._addon&&(this._addon.className+=" "+this.toThemeProperty("jqx-fill-state-focus")),this._removeClass(this.element,this.toThemeProperty("jqx-formatted-input-upper-case jqx-formatted-input-lower-case")),"placeholder"in this.element&&!(e.jqx.browser.msie&&e.jqx.browser.version<9)||this.element.value!==this.placeHolder||(this.element.value="")},click:function(e){e.stopPropagation(),e.preventDefault()
var t=e.target.getAttribute("data-value")
this.select(e,this,t)},_change:function(){var e=this.value,t=this._validateValue(this.element.value,!0)
this._removeClass(this.element,"jqx-input-invalid"),this._removeClass(this._spinButtonsContainerElement,"jqx-input-invalid"),this._removeClass(this._addon,"jqx-input-invalid"),!1===this.int64&&Number(e)===Number(t)||t.toUpperCase()!==e.toString().toUpperCase()&&(this._checkNotation(),!0!==this._supressValueChangedEvent?this._raiseEvent("4",{value:t,oldValue:e}):this._supressValueChangedEvent=!1,this._raiseEvent("2",{value:t,oldValue:e,radix:this._radixNumber}),this.value=t)},_getRadix:function(e){switch(e){case 10:case"decimal":return 10
case 2:case"binary":return 2
case 8:case"octal":return 8
case 16:case"hexadecimal":return 16}},_setPopupOptions:function(){this._popupOptions=[],""!==this.value?(this._popupOptions.push(this._number.toString(2)+" <em>(BIN)</em>"),this._popupOptions.push(this._number.toString(8)+" <em>(OCT)</em>"),this._popupOptions.push(this._number.toString(10)+" <em>(DEC)</em>"),this._popupOptions.push(this._number.toString(16)+" <em>(HEX)</em>")):(this._popupOptions.push("BIN"),this._popupOptions.push("OCT"),this._popupOptions.push("DEC"),this._popupOptions.push("HEX"))},_validateValue:function(e,t){if(""!==e){var i
if("s"===this.int64?i=new this.longObj.math.Long.fromString(e.toString(),this._radixNumber):"u"===this.int64?i=this._toBigNumberDecimal(e.toString()):!1===this.int64&&(i=Number(this._discardDecimalSeparator(e.toString()))),"s"===this.int64&&i.lessThan(this._minObject)||"u"===this.int64&&-1===i.compare(this._minObject)){if(t){this._number=this._minObject
var n=this._minObject.toString(this._radixNumber)
return 16===this._radixNumber&&!0===this.upperCase&&(n=n.toUpperCase()),this.element.value=n,n}return!1}if("s"===this.int64&&i.greaterThan(this._maxObject)||"u"===this.int64&&1===i.compare(this._maxObject)){if(t){this._number=this._maxObject
var r=this._maxObject.toString(this._radixNumber)
return 16===this._radixNumber&&!0===this.upperCase&&(r=r.toUpperCase()),this.element.value=r,r}return!1}return!1===this.int64&&(i<this._minObject||i>this._maxObject)?!!t&&(i<this._minObject?(this._number=this._minObject,this.element.value=this._validateDigits(this._minObject)):(this._number=this._maxObject,this.element.value=this._validateDigits(this._maxObject)),this.element.value):!t||(this._number=i,this.element.value=e,e)}return!t||(this.element.value="",e)},_validateDigits:function(e){var t=this
function i(e){return"number"==typeof e?e:parseFloat(e.replace(t.decimalSeparator,"."))}return e=t._discardDecimalSeparator(e.toString()),(null!==t.decimalDigits?i(e).toFixed(t.decimalDigits):Number(i(e).toPrecision(t.digits)).toString()).replace(".",t.decimalSeparator)},_getNegativeDecimal:function(e,t){var i=e
if(8===t){for(var n=[],r=0;r<11;r++){for(var o=parseInt(e.charAt(r),8).toString(2);3!==o.length;)o="0"+o
n.push(o)}"0"===(i=n.join("")).charAt(0)&&(i=i.slice(1))}else if(16===t){for(var a=[],s=0;s<8;s++){for(var l=parseInt(e.charAt(s),16).toString(2);4!==l.length;)l="0"+l
a.push(l)}i=a.join("")}for(var d="",c=0;c<i.length;c++){d+="1"===i.charAt(c)?"0":"1"}return d=-1*(parseInt(d,2)+1)},_setMaxLength:function(e){var t
if(!0===e&&!1!==this.int64)switch(this._radixNumber){case 2:t=64
break
case 8:t=22
break
case 10:t=20
break
case 16:t=16}else t=524288
this.host.attr("maxlength",t)},_setMinMax:function(e){"s"===this.int64?this["_"+e+"Object"]=new this.longObj.math.Long.fromString(this[e].toString(),this._radixNumber):"u"===this.int64?this["_"+e+"Object"]=this._toBigNumberDecimal(this[e].toString()):!1===this.int64&&(this["_"+e+"Object"]=Number(this._discardDecimalSeparator(this[e])))},_getDecimalNotation:function(e){var t=this,i=t._number.toString(10)
var n,r=Number(i).toExponential()
return"scientific"===e?function(e){var i=e.indexOf("e"),n=e.slice(i+1),r=e.slice(0,i+1)
return r=r.replace("e","×10"),r=(r+=t._toSuperScript(n)).replace("+","")}(r):"engineering"===e?function(e){var i=e.indexOf("e"),n=e.slice(i+1),r=e.slice(0,i),o=parseInt(n,10)%3
if(0===o)return e
if(r*=Math.pow(10,o),n>0){var a=e.slice(0,i).length-o-2
a>=0&&(r=r.toFixed(a))}var s,l=parseInt(n,10)-o
return s=l<0?"":"+",void 0!==t.decimalDigits?r=Number(r).toFixed(t.decimalDigits):void 0!==t.digits&&(r=Number(Number(r).toPrecision(t.digits)).toString()),r+"e"+s+l}(r):(void 0!==t.decimalDigits?n=t.decimalDigits:void 0!==t.digits&&(n=t.digits-1),void 0!==n&&(r=Number(i).toExponential(n)),r)},_toSuperScript:function(e,t){for(var i="⁻⁰¹²³⁴⁵⁶⁷⁸⁹",n="",r=0;r<e.length;r++)if(!0===t){var o=i.indexOf(e.charAt(r))
n+=-1!==o?"-0123456789"[o]:e[r]}else{var a="-0123456789".indexOf(e.charAt(r))
n+=-1!==a?i[a]:e[r]}return n},_incrementOrDecrement:function(e){var t,i=this.element===document.activeElement,n=!1
if("u"!==this.int64||"0"!==this._number.toString()||"subtract"!==e){if(i&&(t=this._getCaretPosition(),this._setCaretPosition(t)),"s"===this.int64?(this._number=new this.longObj.math.Long.fromString(this.element.value,this._radixNumber),n=this._number.isNegative()):"u"===this.int64?this._number=this._toBigNumberDecimal(this.element.value):!1===this.int64&&(this._number=Number(this._discardDecimalSeparator(this.element.value))),"simple"===this.spinMode||"advanced"===this.spinMode&&!1===i||!0===n&&10!==this._radixNumber)!1!==this.int64?this._number=this._number[e](this._spinButtonsStepObject):"add"===e?this._number+=this._spinButtonsStepObject:this._number-=this._spinButtonsStepObject
else{if(0===t||isNaN(this.element.value.charAt(t-1))&&this.element.value.charAt(t-1)!==this.decimalSeparator)return
var r,o=this.element.value
if(!1!==this.int64){r=o.length-t
var a=new BigNumber(this._radixNumber).pow(r)
"s"===this.int64&&(a=new this.longObj.math.Long.fromString(a.toString(),10)),this._number=this._number[e](this._spinButtonsStepObject.multiply(a))}else{var s,l=o.indexOf(this.decimalSeparator),d=1,c=0
!0===this._eNotation&&(s=o.toLowerCase().indexOf("e"),c=Number(o.slice(s+1)),d=Math.pow(10,c)),r=-1===l?this._eNotation?o.slice(0,s).length-t:o.length-t:t-1<=l?t>=l?0:l-t:l-t+1,"add"===e?!this._eNotation||this._eNotation&&t<s+3?this._number+=this._spinButtonsStepObject*Math.pow(10,r)*d:this._number*=10:!this._eNotation||this._eNotation&&t<s+3?this._number-=this._spinButtonsStepObject*Math.pow(10,r)*d:this._number/=10}}if(!1!==this.int64)this.element.value=this._number.toString(this._radixNumber)
else switch(this.outputNotation){case"default":this._checkNotation(this._number.toString()),!0===this._eNotation?this.element.value=this._largeExponentialToDecimal(this._number):this.element.value=this._validateDigits(this._number)
break
case"exponential":var h=this._number.toExponential()
this.element.value=this._applyDecimalSeparator(h)
break
case"engineering":this.element.value=this._applyDecimalSeparator(this._getDecimalNotation("engineering"))}this._change(),this._handleOutputNotation()}},_negativeBinary:function(e,t){for(var i="";e.length<64;)e="0"+e
for(var n=0;n<e.length;n++){i+="1"===e.charAt(n)?"0":"1"}for(var r=!0,o="",a=i.length-1;a>=0;a--){var s
"0"===i.charAt(a)?!0===r?(s="1",r=!1):s="0":s=!0===r?"0":"1",o=s+""+o}switch(t){case 2:return o
case 8:o="00"+o
for(var l="",d=22;d>=1;d--){var c=o[3*d-3]+""+o[3*d-2]+o[3*d-1]
l=parseInt(c,2).toString(8)+""+l}return l
case 16:for(var h="",u=16;u>=1;u--){var p=o[4*u-4]+""+o[4*u-3]+o[4*u-2]+o[4*u-1]
h=parseInt(p,2).toString(16)+""+h}return h}},_toBigNumberDecimal:function(e){var t,i=this._radixNumber
if(10===i)t=new BigNumber(e)
else{t=new BigNumber(0)
for(var n=e.length-1;n>=0;n--){var r=new BigNumber(parseInt(e.charAt(n),i))
t=t.add(r.multiply(new BigNumber(i).pow(e.length-1-n)))}}return t},_checkNotation:function(e){void 0===e&&(e=this.element.value),-1!==e.toString().toLowerCase().indexOf("e")?this._eNotation=!0:this._eNotation=!1},_discardDecimalSeparator:function(e,t){if(void 0===t&&(t=this.decimalSeparator),"."!==t&&e!==1/0&&e!==Number.NEGATIVE_INFINITY){var i=new RegExp(t,"g")
return e.replace(i,".")}return e},_applyDecimalSeparator:function(e){return"."!==this.decimalSeparator&&(e=e.replace(/\./g,this.decimalSeparator)),e},_removeClass:function(t,i){e(t).removeClass(i)},_find:function(t,i){for(var n=e(i).children(),r=0;r<n.length;r++){var o=n[r]
if(-1!==o.className.indexOf(t))return o}},_checkStructure:function(){if("div"===this.element.nodeName.toLowerCase()){var e=this.element.getElementsByTagName("div"),t=0
this.spinButtons&&(t+=1),this.dropDown&&(t+=1),1===t&&2===e.length||0===t&&1===e.length?this.element.removeChild(e[0]):0===t&&2===e.length&&(this.element.removeChild(e[1]),this.element.removeChild(e[0]))}},_Long:function(){var e=this
e.longObj={}
var t=e.longObj
t.math={},t.math.Long={},t.math.Long=function(e,t){this.lowBits=0|e,this.highBits=0|t},t.math.Long.IntCache={},t.math.Long.fromInt=function(e){if(-128<=e&&e<128){var i=t.math.Long.IntCache[e]
if(i)return i}var n=new t.math.Long(0|e,e<0?-1:0)
return-128<=e&&e<128&&(t.math.Long.IntCache[e]=n),n},t.math.Long.fromNumber=function(e){return isNaN(e)||!isFinite(e)?t.math.Long.ZERO:e<=-t.math.Long.TWO_PWR_63_DBL_?t.math.Long.MIN_VALUE:e+1>=t.math.Long.TWO_PWR_63_DBL_?t.math.Long.MAX_VALUE:e<0?t.math.Long.fromNumber(-e).negate():new t.math.Long(e%t.math.Long.TWO_PWR_32_DBL_|0,e/t.math.Long.TWO_PWR_32_DBL_|0)},t.math.Long.fromBits=function(e,i){return new t.math.Long(e,i)},t.math.Long.fromString=function(e,i){if(0===e.length)throw new Error("number format error: empty string")
var n=i||10
if(n<2||36<n)throw new Error("radix out of range: "+n)
if("-"===e.charAt(0))return t.math.Long.fromString(e.substring(1),n).negate()
if(e.indexOf("-")>=0)throw new Error('number format error: interior "-" character: '+e)
for(var r=t.math.Long.fromNumber(Math.pow(n,8)),o=t.math.Long.ZERO,a=0;a<e.length;a+=8){var s=Math.min(8,e.length-a),l=parseInt(e.substring(a,a+s),n)
if(s<8){var d=t.math.Long.fromNumber(Math.pow(n,s))
o=o.multiply(d).add(t.math.Long.fromNumber(l))}else o=(o=o.multiply(r)).add(t.math.Long.fromNumber(l))}return o},t.math.Long.TWO_PWR_16_DBL_=65536,t.math.Long.TWO_PWR_24_DBL_=1<<24,t.math.Long.TWO_PWR_32_DBL_=t.math.Long.TWO_PWR_16_DBL_*t.math.Long.TWO_PWR_16_DBL_,t.math.Long.TWO_PWR_31_DBL_=t.math.Long.TWO_PWR_32_DBL_/2,t.math.Long.TWO_PWR_48_DBL_=t.math.Long.TWO_PWR_32_DBL_*t.math.Long.TWO_PWR_16_DBL_,t.math.Long.TWO_PWR_64_DBL_=t.math.Long.TWO_PWR_32_DBL_*t.math.Long.TWO_PWR_32_DBL_,t.math.Long.TWO_PWR_63_DBL_=t.math.Long.TWO_PWR_64_DBL_/2,t.math.Long.ZERO=t.math.Long.fromInt(0),t.math.Long.ONE=t.math.Long.fromInt(1),t.math.Long.NEG_ONE=t.math.Long.fromInt(-1),t.math.Long.MAX_VALUE=t.math.Long.fromBits(-1,2147483647),t.math.Long.MIN_VALUE=t.math.Long.fromBits(0,-2147483648),t.math.Long.TWO_PWR_24_=t.math.Long.fromInt(1<<24),t.math.Long.prototype.toInt=function(){return this.lowBits},t.math.Long.prototype.toNumber=function(){return this.highBits*t.math.Long.TWO_PWR_32_DBL_+this.getLowBitsUnsigned()},t.math.Long.prototype.toString=function(i){var n,r,o=i||10
if(o<2||36<o)throw new Error("radix out of range: "+o)
if(this.isZero())return"0"
if(this.isNegative()){if(this.equals(t.math.Long.MIN_VALUE)){var a=t.math.Long.fromNumber(o),s=this.div(a)
return n=s.multiply(a).subtract(this),s.toString(o)+n.toInt().toString(o)}switch(o){case 2:case 8:case 16:return r=this.negate().toString(2),e._negativeBinary(r,o)
default:return r="-"+this.negate().toString(o)}}var l=t.math.Long.fromNumber(Math.pow(o,6))
for(n=this,r="";;){var d=n.div(l),c=n.subtract(d.multiply(l)).toInt().toString(o)
if((n=d).isZero())return c+r
for(;c.length<6;)c="0"+c
r=""+c+r}},t.math.Long.prototype.getHighBits=function(){return this.highBits},t.math.Long.prototype.getLowBits=function(){return this.lowBits},t.math.Long.prototype.getLowBitsUnsigned=function(){return this.lowBits>=0?this.lowBits:t.math.Long.TWO_PWR_32_DBL_+this.lowBits},t.math.Long.prototype.getNumBitsAbs=function(){if(this.isNegative())return this.equals(t.math.Long.MIN_VALUE)?64:this.negate().getNumBitsAbs()
for(var e=0!==this.highBits?this.highBits:this.lowBits,i=31;i>0&&0==(e&1<<i);i--);return 0!==this.highBits?i+33:i+1},t.math.Long.prototype.isZero=function(){return 0===this.highBits&&0===this.lowBits},t.math.Long.prototype.isNegative=function(){return this.highBits<0},t.math.Long.prototype.isOdd=function(){return 1==(1&this.lowBits)},t.math.Long.prototype.equals=function(e){return this.highBits===e.highBits&&this.lowBits===e.lowBits},t.math.Long.prototype.notEquals=function(e){return this.highBits!==e.highBits||this.lowBits!==e.lowBits},t.math.Long.prototype.lessThan=function(e){return this.compare(e)<0},t.math.Long.prototype.lessThanOrEqual=function(e){return this.compare(e)<=0},t.math.Long.prototype.greaterThan=function(e){return this.compare(e)>0},t.math.Long.prototype.greaterThanOrEqual=function(e){return this.compare(e)>=0},t.math.Long.prototype.compare=function(e){if(this.equals(e))return 0
var t=this.isNegative(),i=e.isNegative()
return t&&!i?-1:!t&&i?1:this.subtract(e).isNegative()?-1:1},t.math.Long.prototype.negate=function(){return this.equals(t.math.Long.MIN_VALUE)?t.math.Long.MIN_VALUE:this.not().add(t.math.Long.ONE)},t.math.Long.prototype.add=function(e){var i=this.highBits>>>16,n=65535&this.highBits,r=this.lowBits>>>16,o=65535&this.lowBits,a=e.highBits>>>16,s=65535&e.highBits,l=e.lowBits>>>16,d=0,c=0,h=0,u=0
return h+=(u+=o+(65535&e.lowBits))>>>16,u&=65535,c+=(h+=r+l)>>>16,h&=65535,d+=(c+=n+s)>>>16,c&=65535,d+=i+a,d&=65535,t.math.Long.fromBits(h<<16|u,d<<16|c)},t.math.Long.prototype.subtract=function(e){return this.add(e.negate())},t.math.Long.prototype.multiply=function(e){if(this.isZero())return t.math.Long.ZERO
if(e.isZero())return t.math.Long.ZERO
if(this.equals(t.math.Long.MIN_VALUE))return e.isOdd()?t.math.Long.MIN_VALUE:t.math.Long.ZERO
if(e.equals(t.math.Long.MIN_VALUE))return this.isOdd()?t.math.Long.MIN_VALUE:t.math.Long.ZERO
if(this.isNegative())return e.isNegative()?this.negate().multiply(e.negate()):this.negate().multiply(e).negate()
if(e.isNegative())return this.multiply(e.negate()).negate()
if(this.lessThan(t.math.Long.TWO_PWR_24_)&&e.lessThan(t.math.Long.TWO_PWR_24_))return t.math.Long.fromNumber(this.toNumber()*e.toNumber())
var i=this.highBits>>>16,n=65535&this.highBits,r=this.lowBits>>>16,o=65535&this.lowBits,a=e.highBits>>>16,s=65535&e.highBits,l=e.lowBits>>>16,d=65535&e.lowBits,c=0,h=0,u=0,p=0
return u+=(p+=o*d)>>>16,p&=65535,h+=(u+=r*d)>>>16,u&=65535,h+=(u+=o*l)>>>16,u&=65535,c+=(h+=n*d)>>>16,h&=65535,c+=(h+=r*l)>>>16,h&=65535,c+=(h+=o*s)>>>16,h&=65535,c+=i*d+n*l+r*s+o*a,c&=65535,t.math.Long.fromBits(u<<16|p,c<<16|h)},t.math.Long.prototype.div=function(e){if(e.isZero())throw new Error("division by zero")
if(this.isZero())return t.math.Long.ZERO
var i,n
if(this.equals(t.math.Long.MIN_VALUE))return e.equals(t.math.Long.ONE)||e.equals(t.math.Long.NEG_ONE)?t.math.Long.MIN_VALUE:e.equals(t.math.Long.MIN_VALUE)?t.math.Long.ONE:(i=this.shiftRight(1).div(e).shiftLeft(1)).equals(t.math.Long.ZERO)?e.isNegative()?t.math.Long.ONE:t.math.Long.NEG_ONE:(n=this.subtract(e.multiply(i)),i.add(n.div(e)))
if(e.equals(t.math.Long.MIN_VALUE))return t.math.Long.ZERO
if(this.isNegative())return e.isNegative()?this.negate().div(e.negate()):this.negate().div(e).negate()
if(e.isNegative())return this.div(e.negate()).negate()
var r=t.math.Long.ZERO
for(n=this;n.greaterThanOrEqual(e);){i=Math.max(1,Math.floor(n.toNumber()/e.toNumber()))
for(var o=Math.ceil(Math.log(i)/Math.LN2),a=o<=48?1:Math.pow(2,o-48),s=t.math.Long.fromNumber(i),l=s.multiply(e);l.isNegative()||l.greaterThan(n);)i-=a,l=(s=t.math.Long.fromNumber(i)).multiply(e)
s.isZero()&&(s=t.math.Long.ONE),r=r.add(s),n=n.subtract(l)}return r},t.math.Long.prototype.modulo=function(e){return this.subtract(this.div(e).multiply(e))},t.math.Long.prototype.not=function(){return t.math.Long.fromBits(~this.lowBits,~this.highBits)},t.math.Long.prototype.and=function(e){return t.math.Long.fromBits(this.lowBits&e.lowBits,this.highBits&e.highBits)},t.math.Long.prototype.or=function(e){return t.math.Long.fromBits(this.lowBits|e.lowBits,this.highBits|e.highBits)},t.math.Long.prototype.xor=function(e){return t.math.Long.fromBits(this.lowBits^e.lowBits,this.highBits^e.highBits)},t.math.Long.prototype.shiftLeft=function(e){if(0===(e&=63))return this
var i=this.lowBits
if(e<32){var n=this.highBits
return t.math.Long.fromBits(i<<e,n<<e|i>>>32-e)}return t.math.Long.fromBits(0,i<<e-32)},t.math.Long.prototype.shiftRight=function(e){if(0===(e&=63))return this
var i=this.highBits
if(e<32){var n=this.lowBits
return t.math.Long.fromBits(n>>>e|i<<32-e,i>>e)}return t.math.Long.fromBits(i>>e-32,i>=0?0:-1)},t.math.Long.prototype.shiftRightUnsigned=function(e){if(0===(e&=63))return this
var i=this.highBits
if(e<32){var n=this.lowBits
return t.math.Long.fromBits(n>>>e|i<<32-e,i>>>e)}return 32===e?t.math.Long.fromBits(i,0):t.math.Long.fromBits(i>>>e-32,0)}}})}(jqxBaseFramework)
var si=Object.freeze({})
!function(e){e.jqx.jqxWidget("jqxComplexInput","",{}),e.extend(e.jqx._jqxComplexInput.prototype,{defineInstance:function(){e.extend(!0,this,{width:null,height:null,outputNotation:"default",value:"",spinButtons:!1,spinButtonsStep:1,interval:null,spinButtonsWidth:18,spinMode:"simple",placeHolder:"",roundedCorners:!0,disabled:!1,rtl:!1,readOnly:!1,textAlign:"right",upperCase:!1,decimalSeparator:".",digits:8,decimalDigits:null,min:null,max:null,events:["change","valueChanged","textChanged"]})},createInstance:function(){this._firefox="mozilla"===e.jqx.browser.browser,this._oldIE=e.jqx.browser.msie&&e.jqx.browser.version<9,this._currentNumber={},this._allowedCharacters=new RegExp(/([\+\-0-9ei])/i),this.render(),this._initialized=!0},render:function(){if(!0!==this._initialized&&"DIV"===this.element.nodeName.toUpperCase()){this.baseHost=this.host,this.baseElement=this.element
var t=this.host.data(),i=this.baseElement.getElementsByTagName("input")[0]
i||((i=document.createElement("input")).setAttribute("type","text"),this.baseElement.appendChild(i)),this.host=e(i),this.element=i,this.host.data(t)
var n=this.baseElement.getElementsByTagName("div")[0]
n&&!1===this.spinButtons&&this.baseElement.removeChild(n)}if(!0===this.spinButtons){if(!this.baseHost)throw new Error("jqxComplexInput: Invalid HTML structure. Please initialize the complex input from a div with an input and another div inside.")
this._appendSpinButtons()}this._handlespinButtonsInterval(),!0===this.readOnly&&this.element.setAttribute("readonly",!0),this._addClasses(),this._setSize(),!0===this._initialized&&this._removeHandlers(),this._addHandlers(),this._suppressEvent=!0
var r=this.value.replace(/\s+/g,"")
this.val(r),this._suppressEvent=!1,this._refreshPlaceHolder()},refresh:function(e){!0!==e&&this.render()},destroy:function(){this._removeHandlers(),this.baseHost?this.baseHost.remove():this.host.remove()},val:function(t){var i,n
if("string"!=typeof t&&("object"!=typeof t||!1!==e.isEmptyObject(t)))return this.element.value
if("string"==typeof t)if(-1===(t=t.toLowerCase()).indexOf("e"))i=this._getReal(t),n=this._getImaginary(t)
else{var r=this._exponentialToDecimal(t)
i=1*r.realPart,n=1*r.imaginaryPart}else"object"==typeof t&&!1===e.isEmptyObject(t)&&(i=t.real,n=t.imaginary)
var o=i+" "+(n>=0?"+":"-")+" "+Math.abs(n)+"i"
o!==this._currentNumber.value&&(this.element.value=o,this._onChange(this.value),"default"!==this.outputNotation&&this._setNotation())},getReal:function(){var e=this.getDecimalNotation("real",this.outputNotation)
return e=e.toString().replace(".",this.decimalSeparator)},_getReal:function(t){(!t||"object"==typeof t&&!0===e.isEmptyObject(t))&&(t=this.element.value)
var i=e.trim(t),n=""
if(0===(t.match(/i/g)||[]).length)return i
if(!0!==this._eNotation){"+"===t.charAt(0)?i=i.slice(1,t.length):"-"===t.charAt(0)&&(i=i.slice(1,t.length),n="-")
var r=function(t){return i=i.slice(0,t),i=e.trim(i),n+""+i},o=i.indexOf("+")
if(-1!==o)return r(o)
var a=i.indexOf("-")
return-1!==a?r(a):"0"}return this._exponentialToDecimal(i).realPart.toExponential()},getImaginary:function(){var e=this.getDecimalNotation("imaginary",this.outputNotation)
return e=e.toString().replace(".",this.decimalSeparator)},_getImaginary:function(t){if((!t||"object"==typeof t&&!0===e.isEmptyObject(t))&&(t=this.element.value),0===(t.match(/i/g)||[]).length)return"0"
var i=e.trim(t),n=""
if(!0!==this._eNotation){"-"!==i.charAt(0)&&"+"!==i.charAt(0)||(n="-"===i.charAt(0)?"-":"+",i=e.trim(i.slice(1,t.length)))
var r=function(t,n){return i=i.slice(t+1,i.indexOf("i")),""===(i=e.trim(i))&&(i=1),n+""+i},o=i.indexOf("+")
if(-1!==o)return r(o,"")
var a=i.indexOf("-")
return-1!==a?r(a,"-"):""===(i=n+""+i.slice(0,i.indexOf("i")))||"+"===i?"1":"-"===i?"-1":i}return this._exponentialToDecimal(i).imaginaryPart.toExponential()},_checkNotation:function(e){void 0===e&&(e=this.element.value),-1!==e.toString().toLowerCase().indexOf("e")?this._eNotation=!0:this._eNotation=!1},getDecimalNotation:function(e,t){var i=this
"real"===e?e=i._currentNumber.realPart:"imaginary"===e&&(e=i._currentNumber.imaginaryPart)
var n,r=i._toNumber(e).toExponential()
return"scientific"===t?function(e){var t=e.indexOf("e"),n=e.slice(t+1),r=e.slice(0,t+1)
return r=r.replace("e","×10"),r=(r+=i._toSuperScript(n)).replace("+","")}(r):"engineering"===t?function(e){var t=e.indexOf("e"),n=e.slice(t+1),r=e.slice(0,t),o=parseInt(n,10)%3
if(0===o)return e
if(r*=Math.pow(10,o),n>0){var a=e.slice(0,t).length-o-2
a>=0&&(r=r.toFixed(a))}var s,l=parseInt(n,10)-o
return s=l<0?"":"+",void 0!==i.decimalDigits?r=Number(r).toFixed(i.decimalDigits):void 0!==i.digits&&(r=Number(Number(r).toPrecision(i.digits)).toString()),r+"e"+s+l}(r):"exponential"===t?(void 0!==i.decimalDigits?n=i.decimalDigits:void 0!==i.digits&&(n=i.digits-1),null!=n&&(r=Number(e).toExponential(n)),r):Number(r)},clear:function(){var e=this.element.value
this.element.value="",this._onChange(e)},propertyChangedHandler:function(t,i,n,r){if(r!==n){var o=t.element,a=t._spinButtonsContainerElement
switch(i){case"width":case"height":t._setSize()
break
case"outputNotation":"default"===r?t.element.value=t._currentNumber.value:t._setNotation()
break
case"value":t.element.value=r,t._onChange(n)
break
case"spinButtons":var s=function(){t._removeClass(o,t.toThemeProperty("jqx-rc-all")),!1===t.rtl?(o.className+=" "+t.toThemeProperty("jqx-rc-l"),a.className+=" "+t.toThemeProperty("jqx-rc-r")):(o.className+=" "+t.toThemeProperty("jqx-rc-r"),a.className+=" "+t.toThemeProperty("jqx-rc-l"))}
if(a)!1===r?(o.style.width="100%",a.style.display="none",o.className+=" "+t.toThemeProperty("jqx-rc-all")):(t._oldIE?o.style.width=o.offsetWidth-t.spinButtonsWidth+"px":o.style.width="calc(100% - "+t.spinButtonsWidth+"px)",a.style.display="block",s())
else if(!0===r){var l=document.createElement("div")
if(t.baseElement)t.rtl?t.baseElement.insertBefore(l,o):t.baseElement.appendChild(l),t.render()
else{var d=o.id,c=o.parentNode,h=o.nextSibling,u=document.createElement("div")
o.removeAttribute("id"),u.setAttribute("id",d),u.appendChild(o),t.rtl?u.insertBefore(l,o):u.appendChild(l),h?c.insertBefore(u,h):c.appendChild(u),t.baseElement=u,t.baseHost=e(u)
var p=t.host.data()
p.jqxComplexInput.host=t.baseHost,p.jqxComplexInput.element=u,t.baseHost.data(p),t.element.style.height="",t.render()}a=t._spinButtonsContainerElement,s()}break
case"spinButtonsWidth":if(a&&t.spinButtons){var m=n-r,f=r-1+"px"
a.style.width=r+"px",t._upbutton.style.width=f,t._downbutton.style.width=f,t._oldIE?o.style.width=o.offsetWidth-m+"px":o.style.width="calc(100% - "+r+"px)"}break
case"placeHolder":t._refreshPlaceHolder(n)
break
case"roundedCorners":a?!0===r?!1===t.rtl?(o.className+=" "+t.toThemeProperty("jqx-rc-l"),a.className+=" "+t.toThemeProperty("jqx-rc-r")):(o.className+=" "+t.toThemeProperty("jqx-rc-r"),a.className+=" "+t.toThemeProperty("jqx-rc-l")):!1===t.rtl?(t._removeClass(o,t.toThemeProperty("jqx-rc-l")),t._removeClass(a,t.toThemeProperty("jqx-rc-r"))):(t._removeClass(o,t.toThemeProperty("jqx-rc-r")),t._removeClass(a,t.toThemeProperty("jqx-rc-l"))):!0===r?o.className+=" "+t.toThemeProperty("jqx-rc-all"):t._removeClass(o,t.toThemeProperty("jqx-rc-all"))
break
case"disabled":!0===r?(o.setAttribute("disabled",!0),o.className+=" "+t.toThemeProperty("jqx-fill-state-disabled jqx-input-disabled"),a&&(a.className+=" "+t.toThemeProperty("jqx-fill-state-disabled"))):(o.removeAttribute("disabled"),t._removeClass(o,t.toThemeProperty("jqx-fill-state-disabled jqx-input-disabled")),a&&t._removeClass(a,t.toThemeProperty("jqx-fill-state-disabled")))
break
case"rtl":a&&(!0===r?(o.className+=" "+t.toThemeProperty("jqx-complex-input-child-rtl"),t._removeClass(a,t.toThemeProperty("jqx-complex-input-spin-buttons-container-ltr")),a.className+=" "+t.toThemeProperty("jqx-complex-input-child-rtl jqx-complex-input-spin-buttons-container-rtl"),!0===t.roundedCorners&&(t._removeClass(o,t.toThemeProperty("jqx-rc-l")),o.className+=" "+t.toThemeProperty("jqx-rc-r"),t._removeClass(a,t.toThemeProperty("jqx-rc-r")),a.className+=" "+t.toThemeProperty("jqx-rc-l"))):(t._removeClass(o,t.toThemeProperty("jqx-complex-input-child-rtl")),t._removeClass(a,t.toThemeProperty("jqx-complex-input-child-rtl jqx-complex-input-spin-buttons-container-rtl")),a.className+=" "+t.toThemeProperty("jqx-complex-input-spin-buttons-container-ltr"),!0===t.roundedCorners&&(t._removeClass(o,t.toThemeProperty("jqx-rc-r")),o.className+=" "+t.toThemeProperty("jqx-rc-l"),t._removeClass(a,t.toThemeProperty("jqx-rc-l")),a.className+=" "+t.toThemeProperty("jqx-rc-r"))))
break
case"theme":e.jqx.utilities.setTheme(n,r,t.host)
break
case"readOnly":!0===r?o.setAttribute("readonly",!0):o.removeAttribute("readonly")
break
case"textAlign":t._removeClass(o,t.toThemeProperty("jqx-complex-input-align-"+n)),o.className+=" "+t.toThemeProperty("jqx-complex-input-align-"+r)
break
case"upperCase":r?(t._removeClass(o,t.toThemeProperty("jqx-complex-input-lower-case")),o.className+=" "+t.toThemeProperty("jqx-complex-input-upper-case")):(t._removeClass(o,t.toThemeProperty("jqx-complex-input-upper-case")),o.className+=" "+t.toThemeProperty("jqx-complex-input-lower-case"))
break
case"digits":case"decimalDigits":case"min":case"max":t._onChange(t.value)
break
case"decimalSeparator":var g=new RegExp(n,"g")
t.element.value=t.element.value.replace(g,r)
break
case"interval":t._handlespinButtonsInterval()}}},_raiseEvent:function(t,i){void 0===i&&(i={owner:null})
var n=this.events[t]
i.owner=this
var r=new e.Event(n)
return r.owner=this,r.args=i,r.preventDefault&&r.preventDefault(),this.host.trigger(r)},_appendSpinButtons:function(){var e=this,t=e.baseElement.getElementsByTagName("div")[0]
function i(i){i.setAttribute("unselectable","on"),i.className=e.toThemeProperty("jqx-fill-state-normal jqx-formatted-input-spin-button"),i.style.width=e.spinButtonsWidth-1+"px",t.appendChild(i)}function n(t,i,n){t.setAttribute("unselectable","on"),t.className=e.toThemeProperty("jqx-input-icon jqx-formatted-input-icon jqx-icon-arrow-"+n),i.appendChild(t)}t||(t=document.createElement("div"),e.baseElement.appendChild(t)),t.setAttribute("unselectable","on"),t.className=e.toThemeProperty("jqx-fill-state-normal jqx-complex-input-child jqx-formatted-input-spin-buttons-container jqx-complex-input-spin-buttons-container"),t.style.width=e.spinButtonsWidth+"px",!1===e.rtl?t.className+=" "+e.toThemeProperty("jqx-complex-input-spin-buttons-container-ltr"):t.className+=" "+e.toThemeProperty("jqx-complex-input-child-rtl jqx-complex-input-spin-buttons-container-rtl"),e._upbutton=document.createElement("div"),i(e._upbutton),e._downbutton=document.createElement("div"),i(e._downbutton),e._upArrow=document.createElement("div"),n(e._upArrow,e._upbutton,"up"),e._downArrow=document.createElement("div"),n(e._downArrow,e._downbutton,"down"),e._spinButtonsContainerElement=t},_addClasses:function(){var e=this.element,t="",i=""
t+=" jqx-widget jqx-input jqx-complex-input jqx-widget-content jqx-complex-input-align-"+this.textAlign,this.baseElement&&(this.baseElement.className+=" "+this.toThemeProperty("jqx-widget jqx-complex-input-parent"),t+=" jqx-complex-input-child"),!0===this.roundedCorners&&(this._spinButtonsContainerElement?!1===this.rtl?(t+=" jqx-rc-l",i+=" jqx-rc-r"):(t+=" jqx-rc-r",i+=" jqx-rc-l"):t+=" jqx-rc-all"),!0===this.disabled&&(e.disabled=!0,t+=" jqx-fill-state-disabled jqx-input-disabled",this._spinButtonsContainerElement&&(i+=" jqx-fill-state-disabled")),!0===this.rtl&&(t+=" jqx-complex-input-child-rtl",i+=" jqx-complex-input-child-rtl"),!1===this.upperCase?t+=" jqx-complex-input-lower-case":t+=" jqx-complex-input-upper-case",e.className+=" "+this.toThemeProperty(t),this._spinButtonsContainerElement&&(this._spinButtonsContainerElement.className+=" "+this.toThemeProperty(i))},_refreshPlaceHolder:function(e){"placeholder"in this.element?this.element.placeholder=this.placeHolder:""!==this.element.value&&this.element.value!==e||(this.element.value=this.placeHolder)},_setSize:function(){var t=this,i="string"==typeof t.width&&-1!==t.width.indexOf("%")?1:0,n=t.spinButtons?t.spinButtonsWidth:0,r="string"==typeof t.height&&-1!==t.height.indexOf("%")
function o(e){return"string"==typeof e?"medium"===e?1:parseInt(e,10):e}function a(){if(t.baseElement){var e=t.baseElement.currentStyle
if(t.element.style.height=Math.max(0,t.baseElement.offsetHeight-(o(e.borderTopWidth)+o(e.borderBottomWidth)+o(e.paddingTop)+o(e.paddingBottom))+i)+"px",t.element.style.lineHeight=t.element.style.height,t.spinButtons){t.element.style.width=Math.max(0,t.baseElement.offsetWidth-n-i)+"px"
var a=t._spinButtonsContainerElement.currentStyle
t._spinButtonsContainerElement.style.height=Math.max(0,t.baseElement.offsetHeight-(o(a.borderTopWidth)+o(a.borderBottomWidth)+o(a.paddingTop)+o(a.paddingBottom))+i)+"px"}else t.element.style.width="100%"}else r&&(t.element.style.lineHeight=t.element.offsetHeight+"px")}if(t.baseElement?(t.baseElement.style.width=t._toPx(t.width),t.baseElement.style.height=t._toPx(t.height),t._oldIE?a():t.element.style.width="calc(100% - "+(n+i)+"px)"):(t.element.style.width=t._toPx(t.width),t.element.style.height=t._toPx(t.height)),t._oldIE){t.element.style.lineHeight=t.element.offsetHeight+"px"
var s=t.baseHost||t.host
e.jqx.utilities.resize(s,function(){a()})}},_toPx:function(e){return"number"==typeof e?e+"px":e},_addHandlers:function(){var e,t=this,i=t.element,n=t._spinButtonsContainerElement
e=t.baseElement?t.baseElement.id:i.id,t.addHandler(t.host,"focus.jqxComplexInput"+e,function(){i.className+=" "+t.toThemeProperty("jqx-fill-state-focus"),n&&(n.className+=" "+t.toThemeProperty("jqx-fill-state-focus")),"placeholder"in i||i.value!==t.placeHolder||(i.value="")}),t.addHandler(t.host,"blur.jqxComplexInput"+e,function(){t._removeClass(i,t.toThemeProperty("jqx-fill-state-focus")),n&&t._removeClass(n,t.toThemeProperty("jqx-fill-state-focus")),(i.value!==t.value||"placeholder"in i||!("placeholder"in i)&&""===i.value)&&t._onChange(t.value),"placeholder"in i||""!==i.value&&i.value!==t.placeHolder||(i.value=t.placeHolder),"default"!==t.outputNotation&&t._setNotation()}),t.addHandler(t.host,"keydown.jqxComplexInput"+e,function(e){var i=e.charCode?e.charCode:e.which
if(t.readOnly)return!1
40===i?t._incrementOrDecrement(-1):38===i&&t._incrementOrDecrement(1)}),t.addHandler(t.host,"keypress.jqxComplexInput"+e,function(e){if(t.valChanged=!1,!t._firefox||!e.ctrlKey){var n=e.key||String.fromCharCode(e.keyCode)
if(!0===t._allowedCharacters.test(n)){if("+"===n||"-"===n){var r=(i.value.match(/-/g)||[]).length+(i.value.match(/\+/g)||[]).length
if("default"===t.outputNotation&&r>1||"default"!==t.outputNotation&&r>3)return e.preventDefault(),!1}else if("i"===n.toLowerCase()){if(-1!==i.value.toLowerCase().indexOf(n.toLowerCase()))return e.preventDefault(),!1}else if("e"===n.toLowerCase()){if((i.value.toLowerCase().match(/e/g)||[]).length>1)return e.preventDefault(),!1}}else if(n===t.decimalSeparator){if((i.value.match(new RegExp("\\"+t.decimalSeparator,"g"))||[]).length>1)return e.preventDefault(),!1}else{if("Enter"!==n)return e.preventDefault(),!1
if(i.value!==t.value)return void t._onChange(t.value)}var o=t._getCaretPosition(),a=i.value,s=a.slice(0,o)+n+a.slice(o)
s!==a&&(t.valChanged=!0,t.valueChangedOld=a,t.valueChangedNew=s,t._raiseEvent("2",{value:s,oldValue:a}))}}),t.addHandler(t.host,"keyup.jqxComplexInput"+e,function(e){t.valChanged&&(t._raiseEvent("1",{value:t.valueChangedNew,oldValue:t.valueChangedOld}),t._supressValueChangedEvent=!0),n&&(""===e.target.value?n.className+=" "+t.toThemeProperty("jqx-fill-state-disabled"):!1===t.disabled&&t._removeClass(n,t.toThemeProperty("jqx-fill-state-disabled")))}),t.addHandler(t.host,"mousewheel.jqxComplexInput"+e,function(e){t.host.is(":focus")&&(e.originalEvent.wheelDelta>0?t._incrementOrDecrement(1):t._incrementOrDecrement(-1))}),n&&(t.addHandler(t._upbutton,"mousedown.jqxComplexInputSpinButtonUp"+e,function(){t.disabled||""===t.value||null===t.value||(t._upbutton.className+=" "+t.toThemeProperty("jqx-fill-state-pressed"),t._incrementOrDecrement(1))}),t.addHandler(t._upbutton,"mouseup.jqxComplexInputSpinButtonUp"+e,function(){t.disabled||""===t.value||null===t.value||t._removeClass(t._upbutton,t.toThemeProperty("jqx-fill-state-pressed"))}),t.addHandler(t._downbutton,"mousedown.jqxComplexInputSpinButtonDown"+e,function(){t.disabled||""===t.value||null===t.value||(t._downbutton.className+=" "+t.toThemeProperty("jqx-fill-state-pressed"),t._incrementOrDecrement(-1))}),t.addHandler(t._downbutton,"mouseup.jqxComplexInputSpinButtonDown"+e,function(){t.disabled||""===t.value||null===t.value||t._removeClass(t._downbutton,t.toThemeProperty("jqx-fill-state-pressed"))}),t.addHandler(t._upbutton,"mouseenter.jqxComplexInputSpinButtonUp"+e,function(){t.disabled||""===t.value||null===t.value||(t._upbutton.className+=" "+t.toThemeProperty("jqx-fill-state-hover"),t._upArrow.className+=" "+t.toThemeProperty("jqx-icon-arrow-up-hover"))}),t.addHandler(t._downbutton,"mouseenter.jqxComplexInputSpinButtonDown"+e,function(){t.disabled||""===t.value||null===t.value||(t._downbutton.className+=" "+t.toThemeProperty("jqx-fill-state-hover"),t._downArrow.className+=" "+t.toThemeProperty("jqx-icon-arrow-down-hover"))}),t.addHandler(t._upbutton,"mouseleave.jqxComplexInputSpinButtonUp"+e,function(){t.disabled||""===t.value||null===t.value||(t._removeClass(t._upbutton,t.toThemeProperty("jqx-fill-state-hover")),t._removeClass(t._upArrow,t.toThemeProperty("jqx-icon-arrow-up-hover")))}),t.addHandler(t._downbutton,"mouseleave.jqxComplexInputSpinButtonDown"+e,function(){t.disabled||""===t.value||null===t.value||(t._removeClass(t._downbutton,t.toThemeProperty("jqx-fill-state-hover")),t._removeClass(t._downArrow,t.toThemeProperty("jqx-icon-arrow-down-hover")))}),t.addHandler(document.body,"mouseup.jqxComplexInputSpinButtons"+e,function(){t._removeClass(t._upbutton,t.toThemeProperty("jqx-fill-state-pressed")),t._removeClass(t._downbutton,t.toThemeProperty("jqx-fill-state-pressed"))}))},_removeHandlers:function(){var e
e=this.baseElement?this.baseElement.id:this.element.id,this.removeHandler(this.host,"focus.jqxComplexInput"+e),this.removeHandler(this.host,"blur.jqxComplexInput"+e),this.removeHandler(this.host,"keydown.jqxComplexInput"+e),this.removeHandler(this.host,"keypress.jqxComplexInput"+e),this.removeHandler(this.host,"keyup.jqxComplexInput"+e),this.removeHandler(this.host,"mousewheel.jqxComplexInput"+e),this._spinButtonsContainerElement&&(this.removeHandler(this._upbutton,"mousedown.jqxComplexInputSpinButtonUp"+e),this.removeHandler(this._upbutton,"mouseup.jqxComplexInputSpinButtonUp"+e),this.removeHandler(this._downbutton,"mousedown.jqxComplexInputSpinButtonDown"+e),this.removeHandler(this._downbutton,"mouseup.jqxComplexInputSpinButtonDown"+e),this.removeHandler(this._upbutton,"mouseenter.jqxComplexInputSpinButtonUp"+e),this.removeHandler(this._downbutton,"mouseenter.jqxComplexInputSpinButtonDown"+e),this.removeHandler(this._upbutton,"mouseleave.jqxComplexInputSpinButtonUp"+e),this.removeHandler(this._downbutton,"mouseleave.jqxComplexInputSpinButtonDown"+e),this.removeHandler(document.body,"mouseup.jqxComplexInputSpinButtons"+e))},_validatePart:function(e){return(null!==this.decimalDigits?this._toNumber(e).toFixed(this.decimalDigits):Number(this._toNumber(e).toPrecision(this.digits)).toString()).replace(".",this.decimalSeparator)},_onChange:function(t){var i,n
this._checkNotation()
var r=this.element.value.toLowerCase()
if(""!==e.trim(r)&&e.trim(r)!==this.placeHolder){if(-1!==r.indexOf("++")||-1!==r.indexOf("+-")){var o=r.indexOf("+")
r=r.slice(0,o+1)+""+r.slice(o+2,r.length)}else if(-1!==r.indexOf("--")||-1!==r.indexOf("-+")){var a=r.indexOf("-")
r=r.slice(0,a+1)+""+r.slice(a+2,r.length)}if(-1!==r.indexOf(this.decimalSeparator+this.decimalSeparator)){var s=r.indexOf(this.decimalSeparator)
r=r.slice(0,s+1)+""+r.slice(s+2,r.length)}if("."!==this.decimalSeparator){var l=new RegExp(this.decimalSeparator,"g")
r=r.replace(l,".")}var d=this._validatePart(Number(this._getReal(r)).toString()),c=this._validatePart(Number(this._getImaginary(r)).toString()),h=parseFloat(c.replace(this.decimalSeparator,"."))>=0?"+":"-"
if(i=d,n=c,"-"===c.charAt(0)&&(c=c.slice(1)),isNaN(i.replace(this.decimalSeparator,"."))||isNaN(n.replace(this.decimalSeparator,".")))return void(this.element.value=t)
this.element.value=d+" "+h+" "+c+"i",this.value=this.element.value,!1===this.disabled&&this._spinButtonsContainerElement&&this._removeClass(this._spinButtonsContainerElement,this.toThemeProperty("jqx-fill-state-disabled"))}else i=0,n=0,this.value="",this._spinButtonsContainerElement&&(this._spinButtonsContainerElement.className+=" "+this.toThemeProperty("jqx-fill-state-disabled"))
this._currentNumber={value:this.value,realPart:i,imaginaryPart:n}
var u=this._validate()
!0!==u&&(this._currentNumber={value:u.value,realPart:u.realPart,imaginaryPart:u.imaginaryPart},this.value=u.value,this.element.value=this.value),"default"!==this.outputNotation&&""!==this.element.value&&this._setNotation(),this.value===t&&!0!==this._suppressEvent||!0!==this._suppressEvent&&(!0!==this._supressValueChangedEvent?this._raiseEvent("1",{value:this.value,oldValue:t}):this._supressValueChangedEvent=!1,this._raiseEvent("0",{value:this.value,oldValue:t,realPart:i,imaginaryPart:n}))},_handlespinButtonsInterval:function(){null!==this.interval&&(this._intervalRealPart=this._getReal(this.interval),this._intervalImaginaryPart=this._getImaginary(this.interval))},_incrementOrDecrement:function(e){var t=this
t._checkNotation()
var i,n,r,o=t.element===document.activeElement,a=t.element.value
"default"===t.outputNotation?(n=t._getReal(),r=t._getImaginary()):(n=(n=t.getDecimalNotation("real",t.outputNotation)).replace(".",t.decimalSeparator),r=(r=t.getDecimalNotation("imaginary",t.outputNotation)).replace(".",t.decimalSeparator))
var s=t._toNumber(n),l=t._toNumber(r)
"-"===r.charAt(0)&&(r=r.slice(1))
var d,c={},h={},u=n.length,p=r.length,m=n.indexOf(t.decimalSeparator),f=r.indexOf(t.decimalSeparator),g=0
o&&(i=t._getCaretPosition(),t._onChange(t.value),t._setCaretPosition(i)),c.from=a.indexOf(n),c.to=c.from+u,h.from=a.indexOf(r+"i"),h.to=h.from+p
var v=h.from-2
function b(i,n){return i+(o?t.spinButtonsStep:parseFloat(t["_interval"+n+"Part"]))*Math.pow(10,g)*e}function y(e,t,o,a){var s="-"===("real"===e?n:r).charAt(0)?1:0
if(i>=o.from+1+s&&i<=o.to){if(-1!==a){var l=o.from+a
g=(d=l-(i-1))<=0?d:d-1}else g=o.to-i
return b(t)}return t}function _(o,a){var s,l,d
"real"===o?(s=n,l=c.from,d=c.to):(s=r,l=h.from,d=h.to)
var u=s.toLowerCase().indexOf("e"),p=l+u
if("-"===s.charAt(0)&&i===l+1||i<=l||i>d||i===p+1||i===p+2)return"return"
var m=s.indexOf(t.decimalSeparator),f=Number(s.charAt(u+2))
return i>p+2&&i<d+1?a*=Math.pow(Math.pow(10,t.spinButtonsStep*e),Math.pow(10,d-i)):-1!==m?a+=i===l+m+1||i===l+m?t.spinButtonsStep*Math.pow(10,f)*e:t.spinButtonsStep*Math.pow(10,l+m+1-i)*Math.pow(10,f)*e:-1===m&&(a+=t.spinButtonsStep*Math.pow(10,p-i)*Math.pow(10,f)*e),a}if(void 0===i)null!==t.interval&&(s=b(s,"Real"),l=b(l,"Imaginary"))
else if(i<=v)if("advanced"===t.spinMode){if(!0!==t._eNotation)s=y("real",s,c,m)
else if("return"===(s=_("real",s)))return void t._setNotation()}else s=b(s)
else if("advanced"===t.spinMode){if(!0!==t._eNotation)l=y("imaginary",l,h,f)
else if("return"===(l=_("imaginary",l)))return void t._setNotation()}else l=b(l)
var w=l>=0?"+":"-",x=s.toString().replace(".",t.decimalSeparator)+" "+w+" "+Math.abs(l).toString().replace(".",t.decimalSeparator)+"i"
t.element.value=x,t._onChange(t.value),"default"!==t.outputNotation&&t._setNotation(),o&&t._setCaretPosition(i)},_getCaretPosition:function(){var e=this.element
if("selectionStart"in e)return e.selectionStart
if(document.selection){e.focus()
var t=document.selection.createRange(),i=document.selection.createRange().text.length
return t.moveStart("character",-e.value.length),t.text.length-i}},_setCaretPosition:function(e){var t=this.element
setTimeout(function(){if("selectionStart"in t)t.focus(),t.setSelectionRange(e,e)
else{var i=t.createTextRange()
i.collapse(!0),i.moveEnd("character",e),i.moveStart("character",e),i.select()}},10)},_exponentialToDecimal:function(t){var i=t.indexOf("e")+2,n=t.slice(i),r=n.indexOf("+"),o=n.indexOf("-")
i=-1!==r&&(r<o||-1===o)?r:o
var a=n.slice(i),s=t.replace(a,""),l=(a=a.slice(0,a.length-1)).charAt(0)
a=e.trim(a.slice(1)),"-"===l&&(a="-"+a)
var d=this.decimalSeparator
if("."!==d){var c=new RegExp(d,"g")
s=s.replace(c,"."),a=a.replace(c,".")}return{realPart:s=1*parseFloat(s).toFixed(20),imaginaryPart:a=1*parseFloat(a).toFixed(20)}},_setNotation:function(){var e=this.getDecimalNotation(this._currentNumber.realPart,this.outputNotation),t=this.getDecimalNotation(Math.abs(this._toNumber(this._currentNumber.imaginaryPart)),this.outputNotation),i=e+" "+(this._toNumber(this._currentNumber.imaginaryPart)>=0?"+":"-")+" "+t+"i"
"."!==this.decimalSeparator&&(i=i.replace(/\./g,this.decimalSeparator)),this.element.value=i},_toSuperScript:function(e,t){for(var i="⁻⁰¹²³⁴⁵⁶⁷⁸⁹",n="",r=0;r<e.length;r++)if(!0===t){var o=i.indexOf(e.charAt(r))
n+=-1!==o?"-0123456789"[o]:e[r]}else{var a="-0123456789".indexOf(e.charAt(r))
n+=-1!==a?i[a]:e[r]}return n},_toNumber:function(e){return"number"==typeof e?e:parseFloat(e.replace(this.decimalSeparator,"."))},_compare:function(e,t){var i=this._toNumber(this._getReal(e)),n=this._toNumber(this._getImaginary(e)),r=this._toNumber(this._getReal(t)),o=this._toNumber(this._getImaginary(t))
return i<r?-1:i>r?1:n<o?-1:n>o?1:0},_validate:function(){var e=this,t=e._currentNumber.value,i=new RegExp(e.decimalSeparator,"g")
function n(t){var n=t,r={}
return"."!==e.decimalSeparator&&(n=t.replace(i,".")),r.realPart=e._getReal(n),r.imaginaryPart=e._getImaginary(n),r.value=function(t,i){t=e._validatePart(Number(t).toString()),i=e._validatePart(Number(i).toString())
var n=parseFloat(i.replace(e.decimalSeparator,"."))>=0?"+":"-"
return"-"===i.charAt(0)&&(i=i.slice(1)),t+" "+n+" "+i+"i"}(r.realPart,r.imaginaryPart),r}return null!==e.min&&-1===e._compare(t,e.min)?n(e.min):null===e.max||1!==e._compare(t,e.max)||n(e.max)},_removeClass:function(t,i){e(t).removeClass(i)}})}(jqxBaseFramework)
var li=Object.freeze({})
!function(e){e.jqx.jqxWidget("jqxSlider","",{}),e.extend(e.jqx._jqxSlider.prototype,{defineInstance:function(){var t={disabled:!1,width:300,height:30,step:1,max:10,min:0,int64:!1,orientation:"horizontal",showTicks:!0,tickMode:"default",tickNumber:10,minorTickNumber:20,niceInterval:!1,ticksPosition:"both",ticksFrequency:2,minorTicksFrequency:1,showMinorTicks:!1,showButtons:!0,buttonsPosition:"both",mode:"default",showRange:!0,rangeSlider:!1,value:0,values:[0,10],tooltip:!1,tooltipFormatFunction:null,tooltipFormatSettings:null,tooltipPosition:"near",tooltipHideDelay:500,sliderButtonSize:14,tickSize:7,minorTickSize:4,showTickLabels:!1,tickLabelStyleSettings:null,tickLabelFormatSettings:null,tickLabelFormatFunction:null,template:"",layout:"normal",rtl:!1,changeType:null,editableLabels:!1,padding:{},_settings:{vertical:{size:"height",oSize:"width",outerOSize:"outerWidth",outerSize:"outerHeight",left:"top",top:"left",start:"_startY",mouse:"_mouseStartY",page:"pageY",opposite:"horizontal"},horizontal:{size:"width",oSize:"height",outerOSize:"outerHeight",outerSize:"outerWidth",left:"left",top:"top",start:"_startX",mouse:"_mouseStartX",page:"pageX",opposite:"vertical"}},_touchEvents:{mousedown:e.jqx.mobile.getTouchEventName("touchstart"),click:e.jqx.mobile.getTouchEventName("touchstart"),mouseup:e.jqx.mobile.getTouchEventName("touchend"),mousemove:e.jqx.mobile.getTouchEventName("touchmove"),mouseenter:"mouseenter",mouseleave:"mouseleave"},_events:["change","slide","slideEnd","slideStart","created"],_invalidArgumentExceptions:{invalidWidth:"Invalid width.",invalidHeight:"Invalid height.",invalidStep:"Invalid step.",invalidMaxValue:"Invalid maximum value.",invalidMinValue:"Invalid minimum value.",invalidTickFrequency:"Invalid tick frequency.",invalidValue:"Invalid value.",invalidValues:"Invalid values.",invalidTicksPosition:"Invalid ticksPosition",invalidButtonsPosition:"Invalid buttonsPosition"},_lastValue:[],_track:null,_leftButton:null,_rightButton:null,_slider:null,_rangeBar:null,_slideEvent:null,_capturedElement:null,_slideStarted:!1,_helpers:[],aria:{"aria-valuenow":{name:"value",type:"number"},"aria-valuemin":{name:"min",type:"number"},"aria-valuemax":{name:"max",type:"number"},"aria-disabled":{name:"disabled",type:"boolean"}}}
return this===e.jqx._jqxSlider.prototype?t:(e.extend(!0,this,t),t)},_createFromInput:function(t){var i,n,r,o,a,s
if("input"===this.element.nodeName.toLowerCase()&&(this.field=this.element,this.field.className&&(this._className=this.field.className),i={title:this.field.title},this.field.value&&(i.value=this.field.value),this.field.id.length?i.id=this.field.id.replace(/[^\w]/g,"_")+"_"+t:i.id=e.jqx.utilities.createId()+"_"+t,this.field.getAttribute("min")&&(n=this.field.getAttribute("min"),this.min=parseFloat(n)),this.field.getAttribute("step")&&(r=this.field.getAttribute("step"),this.step=parseFloat(r)),this.field.getAttribute("max")&&(o=this.field.getAttribute("max"),this.max=parseFloat(o)),a=document.createElement("div"),void 0!==i.id&&a.setAttribute("id",i.id),void 0!==i.value&&a.setAttribute("value",i.value),a.style.cssText=this.field.style.cssText,this.width||(this.width=this.field.offsetWidth),this.height||(this.height=this.field.offsetHeight),this.field.style.display="none",this.field.parentNode&&this.field.parentNode.insertBefore(a,this.field.nextSibling),s=this.host.data(),this.host=e(a),this.host.data(s),this.element=a,this.element.id=this.field.id,this.field.id=i.id,this._helpers.element=new jqxHelper(this.element),this._helpers.field=new jqxHelper(this.field),this._className&&(this._helpers.element.addClass(this._className),this._helpers.field.removeClass(this._className)),this.field.tabIndex)){var l=this.field.tabIndex
this.field.tabIndex=-1,this.element.tabIndex=l}},createInstance:function(t){var i=this
window.jqxHelper||(window.jqxHelper=e),i._createFromInput("jqxSlider"),i._isTouchDevice=e.jqx.mobile.isTouchDevice()
if(i.element.innerHTML="<div role='slider'><div style='width:100%; height: 100%;'></div></div><div><div></div><div></div><div></div></div><div><div style='width:100%; height: 100%;'></div></div>",i._leftButton=i.element.firstChild,i._contentWrapper=i._leftButton.nextSibling,i._rightButton=i._contentWrapper.nextSibling,i.element.className=i.toThemeProperty("jqx-slider jqx-widget"),i._topTicks=i._contentWrapper.firstChild,i._track=i._topTicks.nextSibling,i._bottomTicks=i._track.nextSibling,i._leftButton.className=i.toThemeProperty("jqx-slider-left"),i._rightButton.className=i.toThemeProperty("jqx-slider-left"),i._helpers.leftButton=new jqxHelper(i._leftButton),i._helpers.rightButton=new jqxHelper(i._rightButton),i._helpers.element=new jqxHelper(i.element),i._helpers.track=new jqxHelper(i._track),!i.host.jqxRepeatButton)throw new Error("jqxSlider: Missing reference to jqxbuttons.js.")
if(e.jqx.aria(this),"s"===i.int64){if(!e.jqx.longInt)throw new Error("jqxSlider: Missing reference to jqxmath.js")
e.jqx.longInt(i),i._value64=(new e.jqx.math).fromString(i.value.toString(),10),i._values64=[(new e.jqx.math).fromString(i.values[0].toString(),10),(new e.jqx.math).fromString(i.values[1].toString(),10)],i._min64=(new e.jqx.math).fromString(i.min.toString(),10),i._max64=(new e.jqx.math).fromString(i.max.toString(),10),i._step64=(new e.jqx.math).fromString(i.step.toString(),10),i._ticksFrequency64=(new e.jqx.math).fromString(i.ticksFrequency.toString(),10),i._minorTicksFrequency64=(new e.jqx.math).fromString(i.minorTicksFrequency.toString(),10)}else if("u"===i.int64){try{new BigNumber(i.value)}catch(e){throw new Error("jqxSlider: Missing reference to jqxmath.js")}i._value64=new BigNumber(i.value),i._values64=[new BigNumber(i.values[0]),new BigNumber(i.values[1])],i._min64=new BigNumber(i.min),i._max64=new BigNumber(i.max),i._step64=new BigNumber(i.step),i._ticksFrequency64=new BigNumber(i.ticksFrequency),i._minorTicksFrequency64=new BigNumber(i.minorTicksFrequency)}i._helpers.element.width(i.width),i._helpers.element.height(i.height),i._helpers.element.isRendered?i._helpers.element.isRendered()?(e(i._leftButton).jqxRepeatButton({template:i.template,theme:i.theme,delay:50,width:i.sliderButtonSize,height:i.sliderButtonSize}),e(i._rightButton).jqxRepeatButton({template:i.template,theme:i.theme,delay:50,width:i.sliderButtonSize,height:i.sliderButtonSize}),i.render()):(i._helpers.element.sizeChanged(function(){e(i._leftButton).jqxRepeatButton({template:i.template,theme:i.theme,delay:50,width:i.sliderButtonSize,height:i.sliderButtonSize}),e(i._rightButton).jqxRepeatButton({template:i.template,theme:i.theme,delay:50,width:i.sliderButtonSize,height:i.sliderButtonSize}),i.render()}),i._helpers.element.sizeStyleChanged(function(){var e=i._helpers.element.getSizeFromStyle()
e.width&&(i.width=e.width),e.height&&(i.height=e.height),i.__trackSize=null,i.__thumbSize=null,i._performLayout(),i._initialSettings()})):(e(i._leftButton).jqxRepeatButton({template:i.template,theme:i.theme,delay:50,width:i.sliderButtonSize,height:i.sliderButtonSize}),e(i._rightButton).jqxRepeatButton({template:i.template,theme:i.theme,delay:50,width:i.sliderButtonSize,height:i.sliderButtonSize}),i.render())},render:function(){var t=this
t._setPaddingValues(),t._rendering=!0,t._refresh(),t._raiseEvent(4,{value:t.getValue()}),t._addInput(),null==t.element.getAttribute("tabindex")&&t.element.setAttribute("tabindex",0),e.jqx.utilities.resize(t.host,function(){t.__trackSize=null,t.__thumbSize=null,t._performLayout(),t._initialSettings()}),"vertical"===t.orientation&&(t.element.style.minWidth="96px"),t._rendering=!1},focus:function(){try{this.host.focus()}catch(e){}},destroy:function(){this.removeHandler(e(document),"mouseup.arrow"+this.element.id),this.removeHandler(e(document),this._getEvent("mouseup")+"."+this.element.id),this.removeHandler(e(document),this._getEvent("mousemove")+"."+this.element.id),e.jqx.utilities.resize(this.host,null,!0),this.host.remove(),this._helpers=[]},_addInput:function(){var e=this.element.getAttribute("name"),t=document.createElement("input")
t.setAttribute("type","hidden"),this.element.appendChild(t),e&&t.setAttribute("name",e),this.rangeSlider?this.values&&(t.value=this.value.rangeStart.toString()+"-"+this.value.rangeEnd.toString()):t.value=this.value.toString(),this.input=t},_getSetting:function(e){return this._settings[this.orientation][e]},_getEvent:function(e){return this._isTouchDevice?this._touchEvents[e]:e},refresh:function(e){e||this._refresh()},_refresh:function(){this._render(),this._performLayout(),this._removeEventHandlers(),this._addEventHandlers(),this._initialSettings()},_render:function(){this._addTrack(),this._addSliders(),this._addTickContainers(),this._updateButtonsVisibility(),this._addRangeBar()},_addTrack:function(){var e=this._track
this._helpers.track.addClass(this.toThemeProperty("jqx-slider-track")),e.setAttribute("style",""),this._helpers.track.removeClass(this.toThemeProperty("jqx-slider-track-"+this._getSetting("opposite"))),this._helpers.track.addClass(this.toThemeProperty("jqx-slider-track-"+this.orientation)),this._helpers.track.addClass(this.toThemeProperty("jqx-fill-state-normal jqx-rc-all"))},_addSliders:function(){if(null===this._slider||this._slider.length<1){this._slider={}
var e=document.createElement("div"),t=document.createElement("div")
e.className=this.toThemeProperty("jqx-slider-slider"),t.className=this.toThemeProperty("jqx-slider-slider"),this._slider.left=e,this._track.appendChild(e),this._slider.right=t,this._track.appendChild(t),this._helpers.track=new jqxHelper(this._track),this._helpers.left=new jqxHelper(this._slider.left),this._helpers.right=new jqxHelper(this._slider.right),this.template&&(this._helpers.left.addClass(this.toThemeProperty("jqx-"+this.template)),this._helpers.right.addClass(this.toThemeProperty("jqx-"+this.template)))}this._helpers.left.removeClass(this.toThemeProperty("jqx-slider-slider-"+this._getSetting("opposite"))),this._helpers.left.addClass(this.toThemeProperty("jqx-slider-slider-"+this.orientation)),this._helpers.right.removeClass(this.toThemeProperty("jqx-slider-slider-"+this._getSetting("opposite"))),this._helpers.right.addClass(this.toThemeProperty("jqx-slider-slider-"+this.orientation)),this._helpers.right.addClass(this.toThemeProperty("jqx-fill-state-normal")),this._helpers.left.addClass(this.toThemeProperty("jqx-fill-state-normal"))},_addTickContainers:function(){this._bottomTicks.className=this.toThemeProperty("jqx-slider-tickscontainer"),this._topTicks.className=this.toThemeProperty("jqx-slider-tickscontainer")
var e="visible"
this.showTicks||(e="hidden"),this._bottomTicks.style.visibility=e,this._topTicks.style.visibility=e},_updateButtonsVisibility:function(){var e="block"
this.showButtons&&!this.rangeSlider||(e="none"),this._rightButton.style.display=e,this._leftButton.style.display=e},_getNiceInterval:function(t){function i(e){return Math.log(parseFloat(e))/Math.LN10}var n,r="Width"
"vertical"===this.orientation&&(r="Height")
var o,a,s=document.createElement("span")
if(s.className=this.toThemeProperty("jqx-widget jqx-slider-label"),s.style.position="absolute",s.style.visibility="hidden",this.tickLabelStyleSettings){var l=this.tickLabelStyleSettings
s.style.fontSize=l.fontSize,s.style.fontFamily=l.fontFamily,s.style.fontWeight=l.fontWeight,s.style.fontStyle=l.fontStyle}o=this._formatLabel(this.min),a=this._formatLabel(this.max)
var d=e.jqx.browser.msie?0:1
document.body.appendChild(s),s.innerHTML=o
var c=s["scroll"+r]+d
s.innerHTML=a
var h=s["scroll"+r]+d
s.parentNode.removeChild(s)
var u=Math.max(h,c),p=0
u>105&&(p=(u-105)/100),u*=1.5+p
var m=this._getTrackSize()
m>64&&!1===this.showButtons&&(m-=64)
var f,g,v,b,y,_=Math.round(m/u)
return 0===_&&(_=1),!0===t&&(_*=4),!1===this.int64?(f=this.max-this.min,g=Math.floor(i(f)-i(_)),y=(n=f<2*(b=_*(v=Math.pow(10,g)))?1:f<3*b?2:f<7*b?5:10)*v):(f=new BigNumber(this.max).subtract(new BigNumber(this.min)),g=Math.floor(i(f.toString())-i(_)),v=new BigNumber(10).pow(new BigNumber(g)),b=new BigNumber(_).multiply(v),n=-1===f.compare(new BigNumber(2*b))?1:-1===f.compare(new BigNumber(3*b))?2:-1===f.compare(new BigNumber(7*b))?5:10,-1===(y=new BigNumber(n).multiply(v)).compare(1)&&(y=new BigNumber(1)),"s"===this.int64&&(y=(new e.jqx.math).fromString(y.toString()))),y},_formatLabel:function(t,i){var n,r=!0!==i?this.tickLabelFormatFunction:this.tooltipFormatFunction,o=!0!==i?this.tickLabelFormatSettings:this.tooltipFormatSettings
return r?n=r(t):o?void 0!==o.radix?n=(new e.jqx.math).getRadixValue(t,this.int64,o.radix):void 0!==o.outputNotation&&"default"!==o.outputNotation&&"decimal"!==o.outputNotation?n=(new e.jqx.math).getDecimalNotation(t,o.outputNotation,o.decimalDigits,o.digits):void 0!==o.decimalDigits?n=Number(t).toFixed(o.decimalDigits):void 0!==o.digits&&(n=Number(Number(t).toPrecision(o.digits)).toString()):n=t,n},_addTicks:function(t,i){if(this.showTicks){var n,r,o,a,s,l,d,c,h,u,p,m,f,g=parseInt(t.style[this._getSetting("size")],10),v="normal"===this.layout&&"horizontal"===this.orientation&&!1===this.rtl||"reverse"===this.layout&&"vertical"===this.orientation,b=""
!1===this.int64?(s=this.max-this.min,"default"===this.tickMode?(this.niceInterval?(o=this._getNiceInterval(),a=this._getNiceInterval(!0)):(o=this.ticksFrequency,a=this.minorTicksFrequency),l=Math.round(s/o),d=Math.round(s/a)):"tickNumber"===this.tickMode&&(l=this.tickNumber,d=this.minorTickNumber,o=Math.round(s/l)),h=this.min,u=this.max):"s"===this.int64?(s=this._max64.subtract(this._min64),"default"===this.tickMode?(this.niceInterval?(o=this._getNiceInterval(),a=this._getNiceInterval(!0)):(o=this._ticksFrequency64,a=this._minorTicksFrequency64),l=s.div(o).toNumber(),d=s.div(a).toNumber()):"tickNumber"===this.tickMode&&(l=this.tickNumber,d=this.minorTickNumber,o=s.div((new e.jqx.math).fromNumber(l))),h=this._min64.toString(),u=this._max64.toString()):"u"===this.int64&&(s=this._max64.subtract(this._min64),"default"===this.tickMode?(this.niceInterval?(o=this._getNiceInterval(),a=this._getNiceInterval(!0)):(o=this._ticksFrequency64,a=this._minorTicksFrequency64),l=parseInt(s.divide(o).toString(),10),d=parseInt(s.divide(a).toString(),10)):"tickNumber"===this.tickMode&&(l=this.tickNumber,d=this.minorTickNumber,o=s.divide(new BigNumber(l)).intPart()),h=this._min64.toString(),u=this._max64.toString())
var y=g/l
c=g/d,t.innerHTML="",r=v?this._formatLabel(h):this._formatLabel(u)
var _=document.createElement("span")
if(_.style.visibility="hidden",_.className=this.toThemeProperty("jqx-widget jqx-widget-content jqx-slider"),this.tickLabelStyleSettings){var w=this.tickLabelStyleSettings
_.style.fontSize=w.fontSize,_.style.fontFamily=w.fontFamily,_.style.fontWeight=w.fontWeight,_.style.fontStyle=w.fontStyle}document.body.appendChild(_),_.innerHTML="0"
var x={width:_.offsetWidth,height:_.offsetHeight}
_.parentNode.removeChild(_)
var C=parseInt(t.style[this._getSetting("oSize")],10),S="horizontal"===this.orientation?this.padding.left:0
b+=this._addTick(t,S,this.min,C,r,x,!1,i)
var T=document.createElement("span")
T.className=this.toThemeProperty("jqx-widget"),T.style.position="absolute",T.style.visibility="hidden",document.body.appendChild(T),T.innerHTML=this.min.toString(),p="horizontal"===this.orientation?T.offsetWidth:T.offsetHeight
var I=0,E=0
if("default"===this.tickMode&&!0===this.niceInterval){var P,D
if(!1===this.int64)E=(I=v?(D=(P=this.min)-P%o+o)-P:(P=this.max)-(D=P-P%o))/o*y
else{var k=new BigNumber(o.toString())
v?I=(D=(P=new BigNumber(this.min)).subtract(P.mod(k)).add(k)).subtract(P):(D=(P=new BigNumber(this.max)).subtract(P.mod(k)),I=P.subtract(D)),E=parseFloat(I.divide(k).multiply(y).toString())}var A=!0
if(p>=E&&(A=!1),D.toString()!==this.max.toString()&&E<g){var j=this._formatLabel(D.toString())
b+=this._addTick(t,E+S,D,C,j,x,!1,i,A)}}for(m=1;m<l;m++){var M
n=m*y+E,n=Math.floor(n),!1===this.int64?M=v?this.min+o*m+I:this.max-o*m-I:"s"===this.int64?M=v?this._min64.add(o.multiply((new e.jqx.math).fromString(m.toString(),10))).add((new e.jqx.math).fromString(I.toString(),10)).toString():this._max64.subtract(o.multiply((new e.jqx.math).fromString(m.toString(),10))).subtract((new e.jqx.math).fromString(I.toString(),10)).toString():"u"===this.int64&&(M=v?this._min64.add(o.multiply(m)).add(I).toString():this._max64.subtract(o.multiply(m)).subtract(I).toString()),M.toString()!==this.max.toString()&&(r=this._formatLabel(M.toString()),f=!0,"default"===this.tickMode&&!0===this.niceInterval&&(T.innerHTML=r,n+(p="horizontal"===this.orientation?T.offsetWidth:T.offsetHeight)>=l*y&&(f=!1)),b+=this._addTick(t,n+S,m,C,r,x,!1,i,f))}if(this.showMinorTicks)for(m=1;m<d;m++)n=m*c,n=Math.floor(n),r="",b+=this._addTick(t,n+S,m,C,r,x,!0,i)
r=v?this._formatLabel(u):this._formatLabel(h),b+=this._addTick(t,l*y+S,this.max,C,r,x,!1,i),t.innerHTML=b,T.parentNode.removeChild(T)}},_addTick:function(e,t,i,n,r,o,a,s,l){var d,c,h=""
h=this.toThemeProperty("jqx-slider-tick"),h+=" "+this.toThemeProperty("jqx-fill-state-pressed"),this.template&&(h+=" "+this.toThemeProperty("jqx-"+this.template))
var u=this._getSetting("top"),p="2px",m=this.tickSize
if(a&&(m=this.minorTickSize),e!==this._bottomTicks&&(p=n-m-2+"px"),"horizontal"===this.orientation){if(c='<div style="'+u+": "+p+"; "+this._getSetting("oSize")+":  "+m+"px; float: left; position:absolute; left:"+t+'px;" class="'+this.toThemeProperty("jqx-slider-tick-horizontal")+" "+h+'"></div>',this.showTickLabels){p=e!==this._bottomTicks?n-m-o.height-2+"px":2+m+"px"
var f=o.width*r.toString().length
if(d=t-(f/=2),!1!==l){var g="",v="",b="",y=""
if(this.tickLabelStyleSettings){var _=this.tickLabelStyleSettings
_.fontSize&&(g=_.fontSize),_.fontFamily&&(v=_.fontFamily),_.fontWeight&&(b=_.fontWeight),_.fontStyle&&(y=_.fontStyle)}c+='<div class="'+this.toThemeProperty("jqx-slider-label jqx-slider-label-"+s)+'" style="'+u+": "+p+"; float: left; position:absolute; left:"+d+"px; white-space: nowrap; font-size: "+g+"; font-family: "+v+"; font-weight: "+b+"; font-style: "+y+'">'+r+"</div>"}}}else if(c='<div style="'+u+": "+p+"; "+this._getSetting("oSize")+":  "+m+"px; float: none; position:absolute; top:"+t+'px;" class="'+this.toThemeProperty("jqx-slider-tick-vertical")+" "+h+'"></div>',this.showTickLabels){p=e!==this._bottomTicks?n-m-r.toString().length*o.width-6+"px":6+m+"px"
var w=o.height
d=t-(w/=2),!1!==l&&(c+='<div class="'+this.toThemeProperty("jqx-slider-label jqx-slider-label-"+s)+'" style="'+u+": "+p+"; float: none; position:absolute; top:"+d+'px;">'+r+"</div>")}return c},_addRangeBar:function(){(null===this._rangeBar||this._rangeBar.length<1)&&(this._rangeBar=document.createElement("div"),this._rangeBar.className=this.toThemeProperty("jqx-slider-rangebar jqx-fill-state-pressed jqx-rc-all"),this.template&&(this._rangeBar.className+=" "+this.toThemeProperty("jqx-"+this.template)),this._helpers.rangeBar=new jqxHelper(this._rangeBar),this._track.appendChild(this._rangeBar)),this.showRange?this._rangeBar.style.display="block":this._rangeBar.style.display="none",this._thumbSize=this._slider.left.offsetWidth},_getLeftDisplacement:function(){if(!this.showButtons)return 0
if(this.rangeSlider)return 0
switch(this.buttonsPosition){case"left":return this._leftButton[this._getSetting("outerSize")](!0)+this._rightButton[this._getSetting("outerSize")](!0)
case"right":return 0
default:return this._leftButton[this._getSetting("outerSize")](!0)}return 0},_performLayout:function(){null!==this.width&&-1!==this.width.toString().indexOf("px")?this.element.style.width=parseInt(this.width,10)+"px":void 0===this.width||isNaN(this.width)||(this.element.style.width=parseInt(this.width,10)+"px"),null!==this.height&&-1!==this.height.toString().indexOf("px")?this.element.style.height=parseInt(this.height,10)+"px":void 0===this.height||isNaN(this.height)||(this.element.style.height=parseInt(this.height,10)+"px")
null!==this.width&&-1!==this.width.toString().indexOf("%")&&(!0,this._helpers.element.width(this.width)),null!==this.height&&-1!==this.height.toString().indexOf("%")&&(!0,this._helpers.element.height(this.height))
var e=this._helpers.element.innerHeight()
"width"===this._getSetting("size")&&(e=this._helpers.element.innerWidth()),this._performButtonsLayout(),this._performTrackLayout(e-6),this._contentWrapper.style[this._getSetting("size")]=this._track.style[this._getSetting("size")],this._contentWrapper.style[this._getSetting("oSize")]=this.element.style[this._getSetting("oSize")],this._performTicksLayout(),this._performRangeBarLayout()
var t=this.padding
if("horizontal"===this.orientation){if(this._contentWrapper.style.position="absolute",this._contentWrapper.style.left="0px",this._contentWrapper.style.top="0px",this.showButtons&&!this.rangeSlider&&(this._contentWrapper.style.left=1+this._helpers.leftButton.outerWidth(!0)+"px",this._leftButton.style.left=t.left+"px",this._rightButton.style.right=t.right+"px","left"===this.buttonsPosition?(this._contentWrapper.style.left=2+2*this._helpers.leftButton.innerWidth()+this._helpers.left.innerWidth()/2+"px",this._rightButton.style.left=1+this._helpers.leftButton.innerWidth()+"px"):"right"===this.buttonsPosition&&(this._contentWrapper.style.left=this._helpers.left.innerWidth()/2+"px",this._leftButton.style.left="",this._leftButton.style.right=1+t.right+this._helpers.leftButton.innerWidth()+"px",this._rightButton.style.right=this._leftButton.style.right-this._helpers.leftButton.innerWidth()+"px")),!this.showButtons||this.rangeSlider){var i=2+Math.ceil(this.sliderButtonSize/2)
this._contentWrapper.style.left=i+"px"}}else if(this._contentWrapper.style.position="absolute",this._contentWrapper.style.left="0px",this._contentWrapper.style.top="0px",this.showButtons&&!this.rangeSlider&&(this._contentWrapper.style.top=1+this._helpers.leftButton.outerHeight(!0)+"px",this._leftButton.style.top="0px",this._rightButton.style.bottom="0px",this._leftButton.style.left="",this._leftButton.style.right="",this._rightButton.style.left="",this._rightButton.style.right="","left"===this.buttonsPosition?(this._contentWrapper.style.top=2+2*this._helpers.leftButton.innerHeight()+this._helpers.left.innerHeight()/2+"px",this._rightButton.style.top=1+this._helpers.leftButton.innerHeight()+"px"):"right"===this.buttonsPosition&&(this._contentWrapper.style.top=this._helpers.left.innerHeight()/2+"px",this._leftButton.style.top="",this._leftButton.style.bottom=1+this._helpers.leftButton.innerHeight()+"px",this._rightButton.style.bottom=this._leftButton.style.bottom-this._helpers.leftButton.innerHeight()+"px")),!this.showButtons||this.rangeSlider){i=2+Math.ceil(this.sliderButtonSize/2)
this._contentWrapper.style.top=i+"px"}if(this.rangeSlider?this._slider.left.style.visibility="visible":this._slider.left.style.visibility="hidden",this._refreshRangeBar(),"vertical"===this.orientation&&this.showButtons){this._leftButton.offsetWidth,this._track.offsetWidth
this._track.style.marginLeft="1px"}this._editableLabels()},_performTrackLayout:function(e){var t=e;(this.showButtons&&!this.rangeSlider&&("horizontal"===this.orientation?t-=this._helpers.leftButton.innerWidth()+this._helpers.rightButton.innerWidth()+4:t-=this._helpers.leftButton.innerHeight()+this._helpers.rightButton.innerHeight()+4),this.rangeSlider||!this.showButtons)&&(t=e-2*(2+Math.ceil(this.sliderButtonSize/2)))
"horizontal"===this.orientation?(t-=this.padding.left+this.padding.right,t-=this._helpers.left.outerWidth()-2):t-=this._helpers.left.outerHeight()-2,this._track.style[this._getSetting("size")]=t+"px",this._track.style.left=this.padding.left+"px",this._slider.left.style.left="0px",this._slider.left.style.top="0px",this._slider.right.style.left="0px",this._slider.right.style.top="0px"},_performTicksLayout:function(){this._performTicksContainerLayout(),this._addTicks(this._topTicks,"top"),this._addTicks(this._bottomTicks,"bottom"),this._topTicks.style.visibility="hidden",this._bottomTicks.style.visibility="hidden","top"!==this.ticksPosition&&"both"!==this.ticksPosition||!this.showTicks||(this._topTicks.style.visibility="visible"),"bottom"!==this.ticksPosition&&"both"!==this.ticksPosition||!this.showTicks||(this._bottomTicks.style.visibility="visible")},_performTicksContainerLayout:function(){var e
"horizontal"===this.orientation?(this._topTicks.style.width=this._track.style.width,this._bottomTicks.style.width=this._track.style.width,e=(parseInt(this.element.style.height,10)-this._helpers.track.outerHeight())/2-2,this._topTicks.style.height=e+"px",this._bottomTicks.style.height=e+"px",this._topTicks.style.float="none",this._track.style.float="none",this._bottomTicks.style.float="none"):(this._topTicks.style.height=this._track.style.height,this._bottomTicks.style.height=this._track.style.height,e=(parseInt(this.element.style.width,10)-this._helpers.track.outerWidth())/2-2,this._topTicks.style.width=e+"px",this._bottomTicks.style.width=e+"px",this._topTicks.style.float="left",this._track.style.float="left",this._bottomTicks.style.float="left")},_performButtonsLayout:function(){this._updateButtonsVisibilityStyles(),this._updateButtonsVisibilityClasses(),this._updateButtonsVisibilityHover(),this._centerElement(this._rightButton),this._centerElement(this._leftButton),this._layoutButtons()},_centerElement:function(e){var t=new jqxHelper(e)
e.style.marginLeft="0px",e.style.marginTop="0px",e.style.marginRight="0px",e.style.marginBottom="0px"
var i=(parseFloat(this.element.style[this._getSetting("oSize")])-parseFloat(t[this._getSetting("outerOSize")]()))/2
return"horizontal"===this.orientation?(e.style.marginLeft="0px",e.style.marginTop=i+"px"):(e.style.marginTop="0px;",e.style.marginLeft=i+"px"),e},_updateButtonsVisibilityStyles:function(){this._leftButton.style.backgroundPosition="center",this._rightButton.style.backgroundPosition="center","vertical"===this.orientation&&(this._leftButton.style.float="none",this._rightButton.style.float="none"),this._leftButton.style.position="absolute",this._rightButton.style.position="absolute"},_updateButtonsVisibilityClasses:function(){var e={prev:"left",next:"right"}
"vertical"===this.orientation&&(e={prev:"up",next:"down"}),this._helpers.leftButton.addClass(this.toThemeProperty("jqx-rc-all jqx-slider-button")),this._helpers.rightButton.addClass(this.toThemeProperty("jqx-rc-all jqx-slider-button")),this._leftArrow=this._leftButton.firstChild,this._rightArrow=this._rightButton.firstChild,this._helpers.leftArrow=new jqxHelper(this._leftArrow),this._helpers.rightArrow=new jqxHelper(this._rightArrow),this._helpers.leftArrow.removeClass(this.toThemeProperty("jqx-icon-arrow-left")),this._helpers.rightArrow.removeClass(this.toThemeProperty("jqx-icon-arrow-right")),this._helpers.leftArrow.removeClass(this.toThemeProperty("jqx-icon-arrow-up")),this._helpers.rightArrow.removeClass(this.toThemeProperty("jqx-icon-arrow-down")),this._helpers.leftArrow.addClass(this.toThemeProperty("jqx-icon-arrow-"+e.prev)),this._helpers.rightArrow.addClass(this.toThemeProperty("jqx-icon-arrow-"+e.next))},_updateButtonsVisibilityHover:function(){var t=this,i={prev:"left",next:"right"}
"vertical"===t.orientation&&(i={prev:"up",next:"down"}),t.removeHandler(e(document),"mouseup.arrow"+t.element.id),t.addHandler(e(document),"mouseup.arrow"+t.element.id,function(){t._helpers.leftArrow.removeClass(t.toThemeProperty("jqx-icon-arrow-"+i.prev+"-selected")),t._helpers.rightArrow.removeClass(t.toThemeProperty("jqx-icon-arrow-"+i.next+"-selected")),t.sliderTooltip?(t.sliderTooltipTimer&&clearTimeout(t.sliderTooltipTimer),t.sliderTooltipTimer=setTimeout(function(){t.sliderTooltipObj.fadeOut("fast"),t._mouseDown=!1},t.tooltipHideDelay)):t._mouseDown=!1}),t.removeHandler(t._leftButton,"mousedown."+t.element.id),t.removeHandler(t._leftButton,"mouseup."+t.element.id),t.removeHandler(t._leftButton,"mouseenter."+t.element.id),t.removeHandler(t._leftButton,"mouseleave."+t.element.id),t.removeHandler(t._rightButton,"mousedown."+t.element.id),t.removeHandler(t._rightButton,"mouseup."+t.element.id),t.removeHandler(t._rightButton,"mouseenter."+t.element.id),t.removeHandler(t._rightButton,"mouseleave."+t.element.id),t.addHandler(t._leftButton,"mousedown."+t.element.id,function(){t.disabled||(t._helpers.leftArrow.addClass(t.toThemeProperty("jqx-icon-arrow-"+i.prev+"-selected")),t._mouseDown=!0)}),t.addHandler(t._leftButton,"mouseup."+t.element.id,function(){t.disabled||t._helpers.leftArrow.removeClass(t.toThemeProperty("jqx-icon-arrow-"+i.prev+"-selected"))}),t.addHandler(t._leftButton,"mouseenter."+t.element.id,function(){t.disabled||t._helpers.leftArrow.addClass(t.toThemeProperty("jqx-icon-arrow-"+i.prev+"-hover"))}),t.addHandler(t._leftButton,"mouseleave."+t.element.id,function(){t.disabled||t._helpers.leftArrow.removeClass(t.toThemeProperty("jqx-icon-arrow-"+i.prev+"-hover"))}),t.addHandler(t._rightButton,"mousedown."+t.element.id,function(){t.disabled||(t._helpers.rightArrow.addClass(t.toThemeProperty("jqx-icon-arrow-"+i.next+"-selected")),t._mouseDown=!0)}),t.addHandler(t._rightButton,"mouseup."+t.element.id,function(){t.disabled||t._helpers.rightArrow.removeClass(t.toThemeProperty("jqx-icon-arrow-"+i.next+"-selected"))}),t.addHandler(t._rightButton,"mouseenter."+t.element.id,function(){t.disabled||t._helpers.rightArrow.addClass(t.toThemeProperty("jqx-icon-arrow-"+i.next+"-hover"))}),t.addHandler(t._rightButton,"mouseleave."+t.element.id,function(){t.disabled||t._helpers.rightArrow.removeClass(t.toThemeProperty("jqx-icon-arrow-"+i.next+"-hover"))})},_layoutButtons:function(){"horizontal"===this.orientation?this._horizontalButtonsLayout():this._verticalButtonsLayout()},_horizontalButtonsLayout:function(){var e=2+Math.ceil(this.sliderButtonSize/2)
"left"===this.buttonsPosition?(this._leftButton.style.marginRight="0px",this._rightButton.style.marginRight=e+"px"):"right"===this.buttonsPosition?(this._leftButton.style.marginLeft=2+e+"px",this._rightButton.style.marginRight="0px"):(this._leftButton.style.marginRight=e+"px",this._rightButton.style.marginLeft=e+"px")},_verticalButtonsLayout:function(){var e=2+Math.ceil(this.sliderButtonSize/2)
"left"===this.buttonsPosition?(this._leftButton.style.marginBottom="0px",this._rightButton.style.marginBottom=e+"px"):"right"===this.buttonsPosition?(this._leftButton.style.marginTop=2+e+"px",this._rightButton.style.marginBottom="0px"):(this._leftButton.style.marginBottom=e+"px",this._rightButton.style.marginTop=2+e+"px")
var t=parseInt(this._leftButton.style.marginLeft,10)
this._leftButton.style.marginLeft=t-1+"px",this._rightButton.style.marginLeft=t-1+"px"},_performRangeBarLayout:function(){this._rangeBar.style[this._getSetting("oSize")]=this._helpers.track[this._getSetting("oSize")]()+"px",this._rangeBar.style[this._getSetting("size")]=this._helpers.track[this._getSetting("size")]()+"px",this._rangeBar.style.position="absolute",this._rangeBar.style.left="0px",this._rangeBar.style.top="0px"},_raiseEvent:function(t,i){var n=this._events[t],r=new e.Event(n,this.element)
return!1===this._triggerEvents||(!!this._rendering||(r.args=i,0===t&&(r.args.type=this.changeType,this.changeType=null),1===t&&(r.args.cancel=!1,this._slideEvent=r),this._lastValue[t]=i.value,r.owner=this,this.host.trigger(r)))},_initialSettings:function(){!1===this.int64?this.rangeSlider?"number"!=typeof this.value?this.setValue(this.value):this.setValue(this.values):(void 0===this.value&&(this.value=0),this.setValue(this.value)):!1===this.rangeSlider||!0===Array.isArray(this._value64)?this.setValue(this._value64):this.setValue(this._values64),this.disabled&&this.disable()},_addEventHandlers:function(){var t=this
t.addHandler(t._slider.right,t._getEvent("mousedown"),t._startDrag,{that:this}),t.addHandler(t._slider.left,t._getEvent("mousedown"),t._startDrag,{that:this}),t.addHandler(e(document),t._getEvent("mouseup")+"."+t.element.id,function(){t._stopDrag()})
try{if((""!==document.referrer||window.frameElement)&&null!==window.top&&window.top!==window.self){var i=function(){t._stopDrag()},n=null
window.parent&&document.referrer&&(n=document.referrer),n&&-1!==n.indexOf(document.location.host)&&window.top.document&&(window.top.document.addEventListener?window.top.document.addEventListener("mouseup",i,!1):window.top.document.attachEvent&&window.top.document.attachEvent("onmouseup",i))}}catch(e){}t.addHandler(e(document),t._getEvent("mousemove")+"."+t.element.id,t._performDrag,{that:this}),t.addHandler(t._slider.left,"mouseenter",function(){t.disabled||t._helpers.left.addClass(t.toThemeProperty("jqx-fill-state-hover"))}),t.addHandler(t._slider.right,"mouseenter",function(){t.disabled||t._helpers.right.addClass(t.toThemeProperty("jqx-fill-state-hover"))}),t.addHandler(t._slider.left,"mouseleave",function(){t.disabled||t._helpers.left.removeClass(t.toThemeProperty("jqx-fill-state-hover"))}),t.addHandler(t._slider.right,"mouseleave",function(){t.disabled||t._helpers.right.removeClass(t.toThemeProperty("jqx-fill-state-hover"))}),t.addHandler(t._slider.left,"mousedown",function(){t.disabled||t._helpers.left.addClass(t.toThemeProperty("jqx-fill-state-pressed"))}),t.addHandler(t._slider.right,"mousedown",function(){t.disabled||t._helpers.right.addClass(t.toThemeProperty("jqx-fill-state-pressed"))}),t.addHandler(t._slider.left,"mouseup",function(){t.disabled||t._helpers.left.removeClass(t.toThemeProperty("jqx-fill-state-pressed"))}),t.addHandler(t._slider.right,"mouseup",function(){t.disabled||t._helpers.right.removeClass(t.toThemeProperty("jqx-fill-state-pressed"))}),t.addHandler(t._leftButton,t._getEvent("click"),t._leftButtonHandler,{that:this}),t.addHandler(t._rightButton,t._getEvent("click"),t._rightButtonHandler,{that:this}),t.addHandler(t._track,t._getEvent("mousedown"),t._trackMouseDownHandler,{that:this}),t.addHandler(t.host,"focus",function(){t._helpers.track.addClass(t.toThemeProperty("jqx-fill-state-focus")),t._helpers.leftButton.addClass(t.toThemeProperty("jqx-fill-state-focus")),t._helpers.rightButton.addClass(t.toThemeProperty("jqx-fill-state-focus")),t._helpers.right.addClass(t.toThemeProperty("jqx-fill-state-focus")),t._helpers.left.addClass(t.toThemeProperty("jqx-fill-state-focus"))}),t.addHandler(t.host,"blur",function(){t._helpers.track.removeClass(t.toThemeProperty("jqx-fill-state-focus")),t._helpers.leftButton.removeClass(t.toThemeProperty("jqx-fill-state-focus")),t._helpers.rightButton.removeClass(t.toThemeProperty("jqx-fill-state-focus")),t._helpers.right.removeClass(t.toThemeProperty("jqx-fill-state-focus")),t._helpers.left.removeClass(t.toThemeProperty("jqx-fill-state-focus"))}),t.element.onselectstart=function(){return!1},t._addMouseWheelListeners(),t._addKeyboardListeners()},_addMouseWheelListeners:function(){var t=this
t.addHandler(t.host,"mousewheel",function(i){if(t.disabled)return!0
if(t.changeType="mouse",document.activeElement&&!e(document.activeElement).ischildof(t.host))return!0
var n=i.wheelDelta
i.originalEvent&&i.originalEvent.wheelDelta&&(i.wheelDelta=i.originalEvent.wheelDelta),"wheelDelta"in i||(n=-40*i.detail),n>0?t.incrementValue():t.decrementValue(),i.preventDefault()})},_addKeyboardListeners:function(){var e=this
e.addHandler(e.host,"keydown",function(t){if(!0!==e._editingLabels)switch(e.changeType="keyboard",t.keyCode){case 40:case 37:return"normal"!==e.layout||e.rtl?e.incrementValue():e.decrementValue(),!1
case 38:case 39:return"normal"!==e.layout||e.rtl?e.decrementValue():e.incrementValue(),!1
case 36:return e.rangeSlider?e.setValue([e.values[0],e.max]):e.setValue(e.min),!1
case 35:return e.rangeSlider?e.setValue([e.min,e.values[1]]):e.setValue(e.max),!1}})},_trackMouseDownHandler:function(t){var i=t.data.that,n=e.jqx.mobile.getTouches(t)[0],r=parseInt(i._slider.left.style[i._getSetting("size")],10)
isNaN(r)&&(r=0)
var o=(i._isTouchDevice?n:t)[i._getSetting("page")]-r/2,a=i._getClosest(o),s=i._getValueByPosition(o)
i._mouseDown=!0,i.changeType="mouse",i._setValue(s,a),i.input&&e.jqx.aria(i,"aria-valuenow",i.input.value)},_getClosest:function(e){return this.rangeSlider?(e=e-this._helpers.track.offset()[this._getSetting("left")]-this._helpers.left[this._getSetting("size")]()/2,Math.abs(parseInt(this._slider.left.style[this._getSetting("left")],10)-e)<Math.abs(parseInt(this._slider.right.style[this._getSetting("left")],10)-e)?this._slider.left:this._slider.right):this._slider.right},_removeEventHandlers:function(){this.removeHandler(this._slider.right,this._getEvent("mousedown"),this._startDrag),this.removeHandler(this._slider.left,this._getEvent("mousedown"),this._startDrag),this.removeHandler(e(document),this._getEvent("mouseup")+"."+this.host.attr("id"),this._stopDrag),this.removeHandler(e(document),this._getEvent("mousemove")+"."+this.host.attr("id"),this._performDrag),this.removeHandler(this._leftButton,this._getEvent("click"),this._leftButtonHandler),this.removeHandler(this._rightButton,this._getEvent("click"),this._rightButtonHandler),this.removeHandler(this._track,this._getEvent("mousedown"),this._trackMouseDownHandler),this.element.onselectstart=null,this.removeHandler(this.host,this._getEvent("mousewheel")),this.removeHandler(this.host,this._getEvent("keydown"))},_rightButtonClick:function(){this.changeType="mouse","horizontal"!==this.orientation||this.rtl?this.decrementValue():this.incrementValue()},_leftButtonClick:function(){this.changeType="mouse","horizontal"!==this.orientation||this.rtl?this.incrementValue():this.decrementValue()},_rightButtonHandler:function(e){var t=e.data.that
return"normal"===t.layout?t._rightButtonClick():t._leftButtonClick(),!1},_leftButtonHandler:function(e){var t=e.data.that
return"normal"===t.layout?t._leftButtonClick():t._rightButtonClick(),!1},_startDrag:function(t){var i=t.data.that
i.changeType="mouse",i._capturedElement=t.target
var n=new jqxHelper(t.target).offset()
i._startX=n.left,i._startY=n.top
var r=e.jqx.position(t)
if(i._mouseStartX=r.left,i._mouseStartY=r.top,i._mouseDown=!0,t.stopPropagation(),i.tooltip&&i._showTooltip(i._capturedElement,i.value),i._isTouchDevice)return!1},_stopDrag:function(){this._slideStarted&&this._raiseEvent(2,{value:this.getValue()}),this._slideStarted&&null!==this._capturedElement?(this.input&&e.jqx.aria(this,"aria-valuenow",this.input.value),this._helpers.left.removeClass(this.toThemeProperty("jqx-fill-state-pressed")),this._helpers.right.removeClass(this.toThemeProperty("jqx-fill-state-pressed")),this._slideStarted=!1,this._capturedElement=null,this.sliderTooltip&&this.sliderTooltipObj.fadeOut("fast")):this._capturedElement=null},_performDrag:function(t){var i=t.data.that
if(null!==i._capturedElement){if(0===t.which&&e.jqx.browser.msie&&e.jqx.browser.version<9)return i._stopDrag(),!1
var n=e.jqx.position(t),r="horizontal"===i.orientation?n.left:n.top
if(i._isDragged(r),i._slideStarted||i._isTouchDevice)return i._dragHandler(r)}},_isDragged:function(e){Math.abs(e-this[this._getSetting("mouse")])>2&&!this._slideStarted?(this._slideStarted=!0,this._valueChanged(3)&&this._raiseEvent(3,{value:this.getValue()})):null==this._capturedElement&&(this._slideStarted=!1)},_dragHandler:function(e){e=e-this[this._getSetting("mouse")]+this[this._getSetting("start")]
var t=this._getValueByPosition(e)
if(this.rangeSlider){var i=this._helpers.right,n=this._helpers.left,r=this._getSetting("left")
this._capturedElement===n?parseFloat(e)>i.offset()[r]&&(e=i.offset()[r]):parseFloat(e)<n.offset()[r]&&(e=n.offset()[r])}return this._setValue(t,this._capturedElement,e),!1},_getValueByPosition:function(e){return"default"===this.mode?this._getFloatingValueByPosition(e):this._getFixedValueByPosition(e)},_getFloatingValueByPosition:function(t){var i,n,r,o,a=t-this._helpers.track.offset()[this._getSetting("left")]+this._slider.left.offsetWidth/2,s=a/this._helpers.track[this._getSetting("size")]()
return a<0&&(a=0),!1===this.int64?i=(this.max-this.min)*s+this.min:"s"===this.int64?(o=(new e.jqx.math).fromNumber(this._helpers.track[this._getSetting("size")](),10),n=this._max64.subtract(this._min64),r=this._divide64(n,o)*a,i=(new e.jqx.math).fromNumber(r,10).add(this._min64)):"u"===this.int64&&(o=new BigNumber(this._helpers.track[this._getSetting("size")]()),n=this._max64.subtract(this._min64),r=this._divide64(n,o)*a,i=new BigNumber(r).add(this._min64)),"normal"===this.layout?"horizontal"!==this.orientation||this.rtl?!1===this.int64?this.max+this.min-i:this._max64.add(this._min64).subtract(i):i:"horizontal"===this.orientation?!1===this.int64?this.max+this.min-i:this._max64.add(this._min64).subtract(i):i},_getThumbSize:function(){if(this.__thumbSize)return this.__thumbSize
var e=this._helpers.left[this._getSetting("size")]()
return this.__thumbSize=e,e},_getTrackSize:function(){if(this.__trackSize)return this.__trackSize
var e=parseInt(this._helpers.track[this._getSetting("size")](),10)
return this.__trackSize=e,e},_getFixedValueByPosition:function(t){var i,n,r,o,a,s,l,d=this._getTrackSize(),c=this._getThumbSize(),h={number:-1,distance:Number.MAX_VALUE}
if(!1===this.int64)for(o=this.step,a=d/(s=(this.max-this.min)/o),l=this._helpers.track.offset()[this._getSetting("left")]-c/2,n=this.max+this.step,"fixedRange"===this.mode&&(n=this.max),r=this.min;r<=n;r+=this.step)Math.abs(h.distance-t)>Math.abs(l-t)&&(h.distance=l,h.number=r),l+=a
else if("s"===this.int64)for(o=this._step64,s=this._max64.subtract(this._min64).div(this._step64),a=this._divide64((new e.jqx.math).fromNumber(d,10),s),l=this._helpers.track.offset()[this._getSetting("left")]-c/2,h={number:(new e.jqx.math).fromString(this._min64.toString(),10),distance:l},i=(new e.jqx.math).fromString(this._min64.toString(),10);"fixedRange"!==this.mode?i.lessThanOrEqual(this._max64.add(this._step64)):i.lessThanOrEqual(this._max64);i=i.add(this._step64))Math.abs(h.distance-t)>Math.abs(l-t)&&(h.distance=l,h.number=(new e.jqx.math).fromString(i.toString(),10)),l+=a
else if("u"===this.int64){o=this._step64,s=this._max64.subtract(this._min64).divide(this._step64),a=parseFloat(new BigNumber(d).divide(s).toString()),l=this._helpers.track.offset()[this._getSetting("left")]-c/2,h={number:new BigNumber(this._min64.toString()),distance:l}
var u="fixedRange"!==this.mode?this._max64.add(this._step64):this._max64
for(i=new BigNumber(this._min64.toString());1!==i.compare(u);i=i.add(this._step64))Math.abs(h.distance-t)>Math.abs(l-t)&&(h.distance=l,h.number=new BigNumber(i.toString())),l+=a}return"normal"===this.layout?"horizontal"!==this.orientation||this.rtl?!1===this.int64?this.max+this.min-h.number:this._max64.add(this._min64).subtract(h.number):h.number:"horizontal"===this.orientation?!1===this.int64?this.max+this.min-h.number:this._max64.add(this._min64).subtract(h.number):h.number},_setValue:function(e,t,i){if(!this._slideEvent||!this._slideEvent.args.cancel){if(e=this._handleValue(e,t),this._setSliderPosition(e,t,i),this._fixZIndexes(),this._valueChanged(1)&&this._raiseEvent(1,{value:this.getValue()}),this._valueChanged(0)&&this._raiseEvent(0,{value:this.getValue()}),!this.input)return
this.rangeSlider?this.values&&void 0!==this.value.rangeEnd&&void 0!==this.value.rangeStart&&(this.input.value=this.value.rangeStart.toString()+"-"+this.value.rangeEnd.toString()):this.input.value=this.value.toString()}},_valueChanged:function(e){var t=this.getValue()
return!this.rangeSlider&&this._lastValue[e]!==t||this.rangeSlider&&("object"!=typeof this._lastValue[e]||parseFloat(this._lastValue[e].rangeEnd)!==parseFloat(t.rangeEnd)||parseFloat(this._lastValue[e].rangeStart)!==parseFloat(t.rangeStart))},_handleValue:function(e,t){return e=this._validateValue(e,t),t===this._slider.left&&(!1===this.int64?this.values[0]=e:(this.values[0]=e.toString(),this._value64[0]=e)),t===this._slider.right&&(!1===this.int64?this.values[1]=e:(this.values[1]=e.toString(),this._values64[1]=e)),this.rangeSlider?(this.value={rangeStart:this.values[0],rangeEnd:this.values[1]},!1!==this.int64&&(this._value64={rangeStart:this._values64[0],rangeEnd:this._values64[1]})):!1===this.int64?this.value=e:(this.value=e.toString(),this._value64=e),e},_fixZIndexes:function(){this.values[1]-this.values[0]<.5&&this.max-this.values[0]<.5?(this._slider.left.style.zIndex=20,this._slider.right.style.zIndex=15):(this._slider.left.style.zIndex=15,this._slider.right.style.zIndex=20)},_refreshRangeBar:function(){var t,i=this._helpers.left,n=this._helpers.right,r=this._helpers.track,o=this._getSetting("left"),a=this._getSetting("size"),s=this.rtl&&"horizontal"===this.orientation
if("normal"===this.layout){t=i.position()[o]
e(i[0]).position()[o];("vertical"===this.orientation||s)&&(t=n.position()[o])}else t=n.position()[o],"vertical"===this.orientation&&(t=i.position()[o])
this.rangeSlider?this._rangeBar.style[o]=t+"px":"horizontal"!==this.orientation||!s&&"normal"===this.layout?"vertical"===this.orientation&&(this._rangeBar.style[o]=t-r.position().top+i.innerHeight()/2+"px"):this._rangeBar.style[o]=t-r.position().left+i.innerWidth()/2+"px",this._rangeBar.style[a]=Math.abs(n.position()[o]-i.position()[o])+"px"},_validateValue:function(e,t){return!1===this.int64?(e>this.max&&(e=this.max),e<this.min&&(e=this.min),this.rangeSlider&&(t===this._slider.left?e>=this.values[1]&&(e=this.values[1]):e<=this.values[0]&&(e=this.values[0]))):"s"===this.int64?(e.greaterThan(this._max64)&&(e=this._max64),e.lessThan(this._min64)&&(e=this._min64)):"u"===this.int64&&(1===e.compare(this._max64)&&(e=this._max64),-1===e.compare(this._min64)&&(e=this._min64)),e},_setSliderPosition:function(t,i,n){var r,o,a,s,l=parseInt(this._helpers.track[this._getSetting("size")](),10)
n&&(n-=this._helpers.track.offset()[this._getSetting("left")])
var d=parseInt(this._helpers.left[this._getSetting("size")](),10)
isNaN(d)&&(d=0),"s"===this.int64?("number"==typeof t?t=(new e.jqx.math).fromNumber(t,10):"string"==typeof t&&(t=(new e.jqx.math).fromString(t,10)),t.greaterThan(this._max64)&&(t=(new e.jqx.math).fromString(this._max64.toString(),10)),t.lessThan(this._min64)&&(t=(new e.jqx.math).fromString(this._min64.toString(),10)),s=1-(a=this._divide64(t.subtract(this._min64),this._max64.subtract(this._min64))),"normal"===this.layout?(r=a,("horizontal"!==this.orientation||"horizontal"===this.orientation&&this.rtl)&&(r=s)):(r=s,"horizontal"!==this.orientation&&(r=a)),o=l*r-d/2,i.style[this._getSetting("left")]=o+"px"):"u"===this.int64?("number"!=typeof t&&"string"!=typeof t||(t=new BigNumber(t)),1===t.compare(this._max64)&&(t=new BigNumber(this._max64)),-1===t.compare(this._min64)&&(t=new BigNumber(this._min64)),s=1-(a=this._divide64(t.subtract(this._min64),this._max64.subtract(this._min64))),"normal"===this.layout?(r=a,("horizontal"!==this.orientation||"horizontal"===this.orientation&&this.rtl)&&(r=s)):(r=s,"horizontal"!==this.orientation&&(r=a)),o=l*r-d/2,i.style[this._getSetting("left")]=o+"px"):!1===this.int64&&("normal"===this.layout?(r=(t-this.min)/(this.max-this.min),("horizontal"!==this.orientation||"horizontal"===this.orientation&&this.rtl)&&(r=1-(t-this.min)/(this.max-this.min))):(r=1-(t-this.min)/(this.max-this.min),"horizontal"!==this.orientation&&(r=(t-this.min)/(this.max-this.min))),o=l*r-d/2,i.style[this._getSetting("left")]=o+"px"),this.tooltip&&this._showTooltip(i,this.value),this._refreshRangeBar()},_divide64:function(e,t){var i,n,r,o
if(i=e.toString(),(r=t.toString()).length>15){var a=r.length-15
if(r=r.slice(0,15)+"."+r.slice(15),o=parseFloat(r),i.length>a){var s=i.length-a
i=i.slice(0,s)+"."+i.slice(s)}else if(i.length===a)i="0."+i
else{for(var l="0.",d=0;d<a-i.length;d++)l+="0"
i=l+""+i}n=parseFloat(i)}else"s"===this.int64?(n=e.toNumber(),o=t.toNumber()):(n=parseFloat(e.toString()),o=parseFloat(t.toString()))
return n/o},_showTooltip:function(e,t){if(this._slideStarted||null!=this._capturedElement||this._mouseDown){if(t=this._formatLabel(t,!0),!this.toolTipCreated){var i="tooltip"+this.element.id,n=document.createElement("div")
n.style.display="none",n.style.position="absolute",n.style.visibility="hidden",n.style.boxShadow="none",n.style.top="0px",n.style.left="0px",n.style.zIndex=99999,n.setAttribute("id",i),document.body.appendChild(n)
var r=document.createElement("div")
r.setAttribute("id",i+"Main"),n.appendChild(r)
var o=document.createElement("div")
o.setAttribute("id",i+"Text"),r.appendChild(o)
var a=document.createElement("div")
a.setAttribute("id",i+"Arrow"),a.style.top="0px",a.style.left="0px",n.appendChild(a),this.sliderTooltip=n,this.sliderTooltipObj=new jqxHelper(this.sliderTooltip),this.sliderTooltipObj.initAnimate&&this.sliderTooltipObj.initAnimate(),o.innerHTML=t,this.sliderTooltip.className=this.toThemeProperty("jqx-tooltip jqx-popup"),r.className=this.toThemeProperty("jqx-widget jqx-fill-state-normal jqx-tooltip-main"),o.className=this.toThemeProperty("jqx-widget jqx-fill-state-normal jqx-tooltip-text"),a.className=this.toThemeProperty("jqx-widget jqx-fill-state-normal jqx-tooltip-arrow"),this.sliderTooltipContent=o,this.sliderTooltipArrow=a,this.sliderTooltipMain=r,this.sliderTooltipArrowObj=new jqxHelper(this.sliderTooltipArrow),this.arrowSize=5,this.toolTipCreated=!0,this.rangeSlider&&(this.sliderTooltipArrow.style.visibility="hidden")}var s=new jqxHelper(e).offset()
this.sliderTooltip.style.display="block",this.sliderTooltip.style.visibility="visible"
var l=this.sliderButtonSize+this.tickSize
if(this.rangeSlider){var d=this.value?this.value.rangeStart:"",c=this.value?this.value.rangeEnd:""
""!==d?this.sliderTooltipContent.innerHTML=d+" - "+c:(this.sliderTooltip.style.display="none",this.sliderTooltip.style.visibility="hidden")}else this.sliderTooltipContent.innerHTML=t.toString()
var h,u,p,m=this.sliderTooltip.offsetWidth
if("horizontal"===this.orientation)switch(u=s.left+this.sliderButtonSize/2-m/2,this.rangeSlider&&(p=(this._helpers.right.offset().left-this._helpers.left.offset().left-this._thumbSize)/2,u=this._helpers.left.offset().left-m/2+p+this._thumbSize),this.tooltipPosition){case"far":h=s.top+l+this.arrowSize,this.sliderTooltipObj.offset({top:h,left:u}),this.sliderTooltipArrowObj.addClass(this.toThemeProperty("jqx-tooltip-arrow-t-b")),this.sliderTooltipArrow.style.borderTopWidth="0px",this.sliderTooltipArrow.style.borderRightWidth=this.arrowSize+"px",this.sliderTooltipArrow.style.borderBottomWidth=this.arrowSize+"px",this.sliderTooltipArrow.style.borderLeftWidth=this.arrowSize+"px",this.sliderTooltipArrowObj.offset({top:h-this.arrowSize,left:u-this.arrowSize/2-1+m/2})
break
case"near":h=s.top-this.arrowSize-this.sliderTooltipObj.innerHeight()-1,this.sliderTooltipObj.offset({top:h,left:u}),this.sliderTooltipArrowObj.addClass(this.toThemeProperty("jqx-tooltip-arrow-t-b")),this.sliderTooltipArrow.style.borderTopWidth=this.arrowSize+"px",this.sliderTooltipArrow.style.borderRightWidth=this.arrowSize+"px",this.sliderTooltipArrow.style.borderBottomWidth="0px",this.sliderTooltipArrow.style.borderLeftWidth=this.arrowSize+"px",this.sliderTooltipArrowObj.offset({top:h+this.sliderTooltipObj.innerHeight(),left:u-this.arrowSize/2-1+m/2})}else{var f=this.sliderTooltipObj.innerHeight()
switch(u=s.left-m-this.arrowSize-this.tickSize,h=s.top+this._thumbSize/2-f/2-1,this.rangeSlider&&(p=(this._helpers.right.offset().top-this._helpers.left.offset().top-this._thumbSize)/2,h=this._helpers.left.offset().top-f/2+p+this._thumbSize),this.tooltipPosition){case"far":u=s.left+this._thumbSize+this.arrowSize+this.tickSize,this.sliderTooltipObj.offset({top:h,left:u}),this.sliderTooltipArrowObj.addClass(this.toThemeProperty("jqx-tooltip-arrow-l-r")),this.sliderTooltipArrow.style.borderTopWidth=this.arrowSize+"px",this.sliderTooltipArrow.style.borderRightWidth=this.arrowSize+"px",this.sliderTooltipArrow.style.borderBottomWidth=this.arrowSize+"px",this.sliderTooltipArrow.style.borderLeftWidth="0px",this.sliderTooltipArrowObj.offset({top:h+this.sliderTooltipObj.innerHeight()/2-this.arrowSize/2-2,left:u-this.arrowSize})
break
case"near":this.sliderTooltipObj.offset({top:h,left:u}),this.sliderTooltipArrowObj.addClass(this.toThemeProperty("jqx-tooltip-arrow-l-r")),this.sliderTooltipArrow.style.borderTopWidth=this.arrowSize+"px",this.sliderTooltipArrow.style.borderRightWidth="0px",this.sliderTooltipArrow.style.borderBottomWidth=this.arrowSize+"px",this.sliderTooltipArrow.style.borderLeftWidth=this.arrowSize+"px",this.sliderTooltipArrowObj.offset({top:h+this.sliderTooltipObj.innerHeight()/2-this.arrowSize/2-2,left:u+m+2})}}}},propertiesChangedHandler:function(e,t,i){i&&i.width&&i.height&&2===Object.keys(i).length&&(e.__trackSize=null,e.__thumbSize=null,e._performLayout(),e._initialSettings())},propertyChangedHandler:function(t,i,n,r){if(t.__trackSize=null,t.__thumbSize=null,!(t.batchUpdate&&t.batchUpdate.width&&t.batchUpdate.height&&2===Object.keys(t.batchUpdate).length))switch(i){case"template":t.template&&(t._helpers.left.removeClass(t.toThemeProperty("jqx-"+n)),t._helpers.right.removeClass(t.toThemeProperty("jqx-"+n)),t._helpers.rangeBar.removeClass(t.toThemeProperty("jqx-"+n)),t._helpers.left.addClass(t.toThemeProperty("jqx-"+t.template)),t._helpers.right.addClass(t.toThemeProperty("jqx-"+t.template)),e(t._leftButton).jqxRepeatButton({template:r}),e(t._rightButton).jqxRepeatButton({template:r}),t._helpers.rangeBar.addClass(t.toThemeProperty("jqx-"+t.template)))
break
case"theme":e.jqx.utilities.setTheme(n,r,t.host),e(t._leftButton).jqxRepeatButton({theme:r}),e(t._rightButton).jqxRepeatButton({theme:r})
break
case"disabled":r?(t.disabled=!0,t.disable()):(t.disabled=!1,t.enable())
break
case"width":case"height":t.__trackSize=null,t.__thumbSize=null,t._performLayout(),t._initialSettings()
break
case"min":case"max":"s"===t.int64?t["_"+i+"64"]=(new e.jqx.math).fromString(r.toString(),10):"u"===t.int64&&(t["_"+i+"64"]=new BigNumber(r)),t._performLayout(),t.__trackSize=null,t.__thumbSize=null,t._initialSettings()
break
case"showTicks":case"ticksPosition":case"tickSize":case"tickMode":case"tickNumber":case"minorTickNumber":t._performLayout(),t._initialSettings()
break
case"ticksFrequency":case"minorTicksFrequency":"s"===t.int64?t["_"+i+"64"]=(new e.jqx.math).fromString(r.toString(),10):"u"===t.int64&&(t["_"+i+"64"]=new BigNumber(r)),t._performLayout(),t._initialSettings()
break
case"showRange":case"showButtons":case"orientation":case"rtl":t._render(),t._performLayout(),t._initialSettings(),"orientation"===i&&(t.element.style.minWidth="vertical"===r?"96px":"")
break
case"buttonsPosition":t._refresh()
break
case"rangeSlider":t.value=r?{rangeEnd:t.value,rangeStart:t.value}:t.value.rangeEnd,t._render(),t._performLayout(),t._initialSettings()
break
case"value":var o=r
"s"===t.int64?(o=(new e.jqx.math).fromString(r.toString(),10),t._value64=o):"u"===t.int64?(o=new BigNumber(r),t._value64=o):!1===t.int64&&(t.rangeSlider||(t.value=parseFloat(r))),t.setValue(o)
break
case"values":var a=r
"s"===t.int64?(a=[(new e.jqx.math).fromString(r[0].toString(),10),(new e.jqx.math).fromString(r[1].toString(),10)],t._values64=a):"u"===t.int64&&(a=[new BigNumber(r[0]),new BigNumber(r[1])],t._values64=a),t.setValue(a)
break
case"tooltip":break
case"step":"s"===t.int64?t._step64=(new e.jqx.math).fromString(r.toString(),10):"u"===t.int64&&(t._step64=new BigNumber(r))
break
case"editableLabels":t._performLayout(),t._initialSettings()
break
case"tickLabelStyleSettings":t._setPaddingValues(!0),t._performLayout(),t._initialSettings()
break
default:t._refresh()}},incrementValue:function(t){var i
!1===this.int64?((void 0===t||isNaN(parseFloat(t)))&&(t=this.step),this.rangeSlider?this.values[1]<this.max&&this._setValue(this.values[1]+t,this._slider.right):this.values[1]>=this.min&&this.values[1]<this.max&&this._setValue(this.values[1]+t,this._slider.right)):"s"===this.int64?(t=void 0===t||isNaN(parseFloat(t))?this._step64:(new e.jqx.math).fromString(t.toString(),10),(i=this._values64[1].add(t)).lessThan(this._values64[1])&&(i=this._max64),this.rangeSlider?this._values64[1].lessThan(this._max64)&&this._setValue(i,this._slider.right):this._values64[1].greaterThanOrEqual(this._min64)&&this._values64[1].lessThan(this._max64)&&this._setValue(i,this._slider.right)):"u"===this.int64&&(t=void 0===t||isNaN(parseFloat(t))?this._step64:new BigNumber(t),-1===(i=this._values64[1].add(t)).compare(this._values64[1])&&(i=this._max64),this.rangeSlider?-1===this._values64[1].compare(this._max64)&&this._setValue(i,this._slider.right):-1!==this._values64[1].compare(this._min64)&&-1===this._values64[1].compare(this._max64)&&this._setValue(i,this._slider.right)),this.input&&e.jqx.aria(this,"aria-valuenow",this.input.value)},decrementValue:function(t){var i
!1===this.int64?((void 0===t||isNaN(parseFloat(t)))&&(t=this.step),this.rangeSlider?this.values[0]>this.min&&this._setValue(this.values[0]-t,this._slider.left):this.values[1]<=this.max&&this.values[1]>this.min&&this._setValue(this.values[1]-t,this._slider.right)):"s"===this.int64?(t=void 0===t||isNaN(parseFloat(t))?this._step64:(new e.jqx.math).fromString(t.toString(),10),this.rangeSlider?((i=this._values64[0].subtract(t)).greaterThan(this._values64[0])&&(i=this._min64),this._values64[0].greaterThan(this._min64)&&this._setValue(i,this._slider.left)):((i=this._values64[1].subtract(t)).greaterThan(this._values64[1])&&(i=this._min64),this._values64[1].lessThanOrEqual(this._max64)&&this._values64[1].greaterThan(this._min64)&&this._setValue(i,this._slider.right))):"u"===this.int64&&(t=void 0===t||isNaN(parseFloat(t))?this._step64:new BigNumber(t),this.rangeSlider?(1===(i=this._values64[0].subtract(t)).compare(this._values64[0])&&(i=this._min64),1===this._values64[0].compare(this._min64)&&this._setValue(i,this._slider.left)):(1===(i=this._values64[1].subtract(t)).compare(this._values64[1])&&(i=this._min64),1!==this._values64[1].compare(this._max64)&&1===this._values64[1].compare(this._min64)&&this._setValue(i,this._slider.right))),this.input&&e.jqx.aria(this,"aria-valuenow",this.input.value)},val:function(t){var i
if(0===arguments.length||!e.isArray(t)&&"object"==typeof t)return this.getValue()
!1===this.int64?this.setValue(t):"s"===this.int64?(i=(new e.jqx.math).fromString(t.toString(),10),this.setValue(i)):"u"===this.int64&&(i=new BigNumber(t),this.setValue(i))},setValue:function(t){var i,n,r;(!1===this.int64||"string"!=typeof t&&"number"!=typeof t||("s"===this.int64?"string"==typeof t?t=(new e.jqx.math).fromString(t,10):"number"==typeof t&&(t=(new e.jqx.math).fromNumber(t,10)):"u"===this.int64&&(t=new BigNumber(t))),this.rangeSlider)?(arguments.length<2?t instanceof Array?(i=t[0],n=t[1]):"object"==typeof t&&void 0!==t.rangeStart&&void 0!==t.rangeEnd&&(i=t.rangeStart,n=t.rangeEnd):(i=arguments[0],n=arguments[1]),this._triggerEvents=!1,this._setValue(n,this._slider.right),this._triggerEvents=!0,this._setValue(i,this._slider.left)):(this._triggerEvents=!1,r=!1===this.int64?this.min:this._min64,this._setValue(r,this._slider.left),this._triggerEvents=!0,this._setValue(t,this._slider.right))
this.input&&e.jqx.aria(this,"aria-valuenow",this.input.value)},getValue:function(){var e=this.value
return!1!==this.int64&&(e=this._value64.toString()),e},_enable:function(t){t?(this._addEventHandlers(),this.disabled=!1,this._helpers.element.removeClass(this.toThemeProperty("jqx-fill-state-disabled"))):(this._removeEventHandlers(),this.disabled=!0,this._helpers.element.addClass(this.toThemeProperty("jqx-fill-state-disabled"))),e(this._leftButton).jqxRepeatButton({disabled:this.disabled}),e(this._rightButton).jqxRepeatButton({disabled:this.disabled})},disable:function(){this._enable(!1),e.jqx.aria(this,"aria-disabled",!0)},enable:function(){this._enable(!0),e.jqx.aria(this,"aria-disabled",!1)},_setPaddingValues:function(t){var i,n,r=this,o=document.createElement("span")
if(o.className=r.toThemeProperty("jqx-widget jqx-slider-label"),o.style.position="absolute",o.visibility="hidden",r.tickLabelStyleSettings){var a=r.tickLabelStyleSettings
o.style.fontSize=a.fontSize,o.style.fontFamily=a.fontFamily,o.style.fontWeight=a.fontWeight,o.style.fontStyle=a.fontStyle}"normal"===r.layout?(i=r._formatLabel(r.min),n=r._formatLabel(r.max)):(i=r._formatLabel(r.max),n=r._formatLabel(r.min)),document.body.appendChild(o),o.innerHTML=i
var s="horizontal"===r.orientation?o.offsetWidth:o.offsetHeight
o.innerHTML=n
var l="horizontal"===r.orientation?o.offsetWidth:o.offsetHeight
function d(e){var t,i,n
return!0===r.showButtons?(t=27,i=0):(t=0,i=8),n=Math.ceil(e/2)+1-t,n=Math.max(n,i)}o.parentNode.removeChild(o),(!0===t||!0!==t&&(void 0===r.padding||e.isEmptyObject(r.padding)))&&("horizontal"===r.orientation?r.padding={left:d(s),right:d(l)}:r.padding={bottom:d(s),top:d(l)})},_editableLabels:function(){var t=this
function i(i,n){if(!t.disabled){var a=function(e){var i=document.createElement("span")
i.className=t.toThemeProperty("jqx-widget jqx-slider-label"),i.style.position="absolute",i.style.visibility="hidden",document.body.appendChild(i),i.innerHTML=e
var n={width:i.scrollWidth,height:i.scrollHeight}
return i.parentNode.removeChild(i),n}(t._formatLabel(n))
o.offset(e(i).offset()),r.style.width=a.width+10+"px",r.style.height=a.height+"px",r.style.visibility="visible",r.value=n,r.select(),t._editingLabels=!0}}function n(i,n,r,o){if(i===t[n].toString())return!1
if("s"===t.int64){var a=(new e.jqx.math).fromString(i,10)
if("min"===n&&-1!==a.compare(t["_"+o+"64"])||"max"===n&&1!==a.compare(t["_"+o+"64"]))return!1
t[r]=a,t[n]=i}else if("u"===t.int64){var s=new BigNumber(i)
if(-1===s.compare(0)||"min"===n&&-1!==s.compare(t["_"+o+"64"])||"max"===n&&1!==s.compare(t["_"+o+"64"]))return!1
t[r]=s,t[n]=i}else{if("min"===n&&i>=t[o]||"max"===n&&i<=t[o])return!1
t[n]=parseFloat(i)}}if(t.showTickLabels&&t.editableLabels){var r,o,a=t.element.id,s=t.element.getElementsByClassName("jqx-slider-label-top"),l=t.element.getElementsByClassName("jqx-slider-label-bottom"),d=t.ticksPosition,c=/^-?\d+\.?\d*$/
if("both"===d||"top"===d){var h,u,p=s[0],m=s[s.length-1]
"horizontal"===t.orientation&&"normal"===t.layout&&!1===t.rtl||"vertical"===t.orientation&&"reverse"===t.layout?(h=p,u=m):(h=m,u=p),t.addHandler(e(h),"dblclick.jqxSlider"+a,function(){i(this,t.min),t._editedProperty="min"}),t.addHandler(e(u),"dblclick.jqxSlider"+a,function(){i(this,t.max),t._editedProperty="max"})}if("both"===d||"bottom"===d){var f,g,v=l[0],b=l[l.length-1]
"horizontal"===t.orientation&&"normal"===t.layout&&!1===t.rtl||"vertical"===t.orientation&&"reverse"===t.layout?(f=v,g=b):(f=b,g=v),t.addHandler(e(f),"dblclick.jqxSlider"+a,function(){i(this,t.min),t._editedProperty="min"}),t.addHandler(e(g),"dblclick.jqxSlider"+a,function(){i(this,t.max),t._editedProperty="max"})}!0!==t._labelInputCreated?((r=document.createElement("input")).className="jqx-slider-label-input",t.element.appendChild(r)):r=t.element.querySelector(".jqx-slider-label-input"),o=e(r),!0!==t._labelInputCreated&&(t.addHandler(o,"blur.jqxGauge"+t.element.id,function(){var e=this.value
if(r.style.visibility="hidden",c.test(e)){if("min"===t._editedProperty){if(!1===n(e,"min","_min64","max"))return}else if(!1===n(e,"max","_max64","min"))return
t._refresh(),t._editingLabels=!1}}),t._labelInputCreated=!0)}}})}(jqxBaseFramework)
var di=Object.freeze({})
!function(e){e.jqx.jqxWidget("jqxInput","",{}),e.extend(e.jqx._jqxInput.prototype,{defineInstance:function(){var t={disabled:!1,filter:this._filter,sort:this._sort,highlight:this._highlight,dropDownWidth:null,renderer:this._renderer,opened:!1,$popup:document.createElement("ul"),source:[],roundedCorners:!0,searchMode:"default",placeHolder:"",width:null,height:null,value:"",rtl:!1,displayMember:"",valueMember:"",events:["select","open","close","change"],popupZIndex:2e4,items:8,minLength:1,maxLength:null}
return this===e.jqx._jqxInput.prototype?t:(e.extend(!0,this,t),t)},createInstance:function(){"none"!==this.host.css("display")&&!1!==document.body.contains(this.element)||(this._initiallyHidden=!0),this._popupHelper=e(this.$popup),this.render()},render:function(){var t=this
if("textarea"===this.element.nodeName.toLowerCase())this.element.style.overflow="auto"
else if("div"===this.element.nodeName.toLowerCase()){this.baseHost=this.element
var i=t.element.getElementsByTagName("input"),n=!1
if(e.each(i,function(){var t=this.type
if(null==t||"text"===t||"textarea"===t)return i=e(this),n=!0,!1}),!n)throw new Error("jqxInput: Missing Text Input in the Input Group")
if(i.length>0){this.baseHost=e(this.element),t.baseElement=t.element
var r=this.host.data()
this.host=i,this.element=i[0],this.host.data(r),t.baseElement.className+=" "+t.toThemeProperty("jqx-widget jqx-rc-all jqx-input-group")
var o=this.baseHost.children()
e.each(o,function(i){var n="jqx-input-group-addon"
e(this).removeClass(t.toThemeProperty("jqx-rc-all")),0===i&&(n+=" jqx-rc-l"),i===o.length-1&&(n+=" jqx-rc-r"),this!==t.element&&(n+=" jqx-fill-state-normal"),this.className+=" "+t.toThemeProperty(n)})}}this.addHandlers(),this.rtl&&(t.element.className+=" "+t.toThemeProperty("jqx-rtl")),t.element.setAttribute("role","textbox"),e.jqx.aria(this,"aria-autocomplete","both"),e.jqx.aria(this,"aria-disabled",this.disabled),e.jqx.aria(this,"aria-readonly",!1),e.jqx.aria(this,"aria-multiline",!1),this.source&&this.source.length&&e.jqx.aria(this,"aria-haspopup",!0),""!==this.value&&(this.element.value=this.value),this._oldsource=this.source,this._updateSource()},_updateSource:function(){var t=this,i=function(e){if(void 0===e)return null
if("string"==typeof e||e instanceof String)return{label:e,value:e}
if("string"!=typeof e&&e instanceof String==!1){var i="",n=""
return""!==t.displayMember&&void 0!==t.displayMember&&e[t.displayMember]&&(i=e[t.displayMember]),""!==t.valueMember&&void 0!==t.valueMember&&(n=e[t.valueMember]),""===i&&(i=e.label),""===n&&(n=e.value),{label:i,value:n}}return e},n=function(e){for(var t=[],n=0;n<e.length;n++)t[n]=i(e[n])
return t}
if(this.source&&this.source._source){if(this.adapter=this.source,null!=this.adapter._source.localdata)this.adapter.unbindBindingUpdate(this.element.id),this.adapter.bindBindingUpdate(this.element.id,function(){t.source=n(t.adapter.records)})
else{var r={}
this.adapter._options.data?e.extend(t.adapter._options.data,r):(this.source._source.data&&e.extend(r,this.source._source.data),this.adapter._options.data=r),this.adapter.unbindDownloadComplete(this.element.id),this.adapter.bindDownloadComplete(this.element.id,function(){t.source=n(t.adapter.records)})}this.source.dataBind()}else e.isFunction(this.source)||(this.source=n(this.source))},_refreshClasses:function(t){var i=t?"addClass":"removeClass",n="jqx-widget-content jqx-input jqx-widget",r="jqx-popup jqx-input-popup jqx-menu jqx-menu-vertical jqx-menu-dropdown jqx-widget jqx-widget-content"
e.jqx.browser.msie&&(r+=" jqx-noshadow"),this.roundedCorners&&(n+=" jqx-rc-all",r+=" jqx-rc-all"),this.disabled?n+=" jqx-fill-state-disabled":this.host.removeClass(this.toThemeProperty("jqx-fill-state-disabled")),this.host[i](this.toThemeProperty(n)),this._popupHelper[i](this.toThemeProperty(r))},selectAll:function(){var e=this.host
setTimeout(function(){if("selectionStart"in e[0])e[0].focus(),e[0].setSelectionRange(0,e[0].value.length)
else{var t=e[0].createTextRange()
t.collapse(!0),t.moveEnd("character",e[0].value.length),t.moveStart("character",0),t.select()}},10)},selectLast:function(){var e=this.host
this.selectStart(e[0].value.length)},selectFirst:function(){this.selectStart(0)},selectStart:function(e){var t=this.host
setTimeout(function(){if("selectionStart"in t[0])t[0].focus(),t[0].setSelectionRange(e,e)
else{var i=t[0].createTextRange()
i.collapse(!0),i.moveEnd("character",e),i.moveStart("character",e),i.select()}},10)},focus:function(){try{var e=this
e.element.focus(),setTimeout(function(){e.element.focus()},25)}catch(e){}},resize:function(e,t){this.width=e,this.height=t,this.refresh()},refresh:function(){if(this._refreshClasses(!1),this._refreshClasses(!0),this.baseHost){this.width&&(this.baseElement.style.width=this._toPx(this.width)),this.height&&(this.baseElement.style.height=this._toPx(this.height))
var t=this,i=e.jqx.browser.msie&&e.jqx.browser.version<9,n=0
if(e.each(this.baseHost.children(),function(){this.style.height="100%",this!==t.element&&(n+=e(this).outerWidth())}),t._addonsWidth=n,i){var r=Math.max(0,t.baseElement.offsetHeight-2)
t.element.style.width=Math.max(0,t.baseElement.offsetWidth-n-1)+"px",t.element.style.minHeight=r+"px",t.element.style.lineHeight=r+"px"}else t.element.style.width="calc(100% - "+n+"px)"
e.jqx.utilities.resize(t.baseHost,function(){if(i&&"string"==typeof t.width&&-1!==t.width.indexOf("%")&&!t._initiallyHidden)t.element.style.width=t.baseElement.offsetWidth-t._addonsWidth-1+"px"
else if(t._initiallyHidden){if(t._addonsWidth=t._getAddonsWidth(),i){t.element.style.width=t.baseElement.offsetWidth-t._addonsWidth-1+"px"
var e=t.baseElement.offsetHeight-2
t.element.style.minHeight=e+"px",t.element.style.lineHeight=e+"px"}else t.element.style.width="calc(100% - "+t._addonsWidth+"px)"
t._initiallyHidden=!1}})}else this.width&&(this.element.style.width=this._toPx(this.width)),this.height&&(this.element.style.height=this._toPx(this.height))
this.disabled?this.element.setAttribute("disabled",!0):this.element.removeAttribute("disabled"),this.maxLength&&this.element.setAttribute("maxlength",this.maxLength),this.element.getAttribute("placeholder")||this._refreshPlaceHolder()},_refreshPlaceHolder:function(){"placeholder"in this.element&&!(e.jqx.browser.msie&&e.jqx.browser.version<9)?this.element.setAttribute("placeHolder",this.placeHolder):""===this.element.value&&(this.element.value=this.placeHolder)},destroy:function(){this.removeHandlers(),this.baseHost?this.baseHost.remove():this.host.remove(),this.$popup&&this._popupHelper.remove()},propertiesChangedHandler:function(e,t,i){i.width&&i.height&&2===Object.keys(i).length&&e.refresh()},propertyChangedHandler:function(t,i,n,r){if("width"!==i||r===n)return"placeHolder"===i?("placeholder"in t.element&&!(e.jqx.browser.msie&&e.jqx.browser.version<9)||t.element.value!==n||(t.element.value=""),void t._refreshPlaceHolder()):void(t.batchUpdate&&t.batchUpdate.width&&t.batchUpdate.height&&2===Object.keys(t.batchUpdate).length||("theme"===i&&e.jqx.utilities.setTheme(n,r,t.host),"opened"!==i?("source"===i&&(t._oldsource=r,t._updateSource()),"displayMember"!==i&&"valueMember"!==i||(t.source=t._oldsource,t._updateSource()),"disabled"===i&&e.jqx.aria(t,"aria-disabled",t.disabled),"value"===i&&(t.element.value=r),t.refresh()):r?t.open():t.close()))
t.baseHost?(t.baseElement.style.width=t._toPx(r),e.jqx.browser.msie&&e.jqx.browser.version<9&&(t.element.style.width=t.baseElement.offsetWidth-t._addonsWidth-1+"px")):t.element.style.width=t._toPx(r)},select:function(e,t,i){var n=this._find("jqx-fill-state-pressed",this._popupHelper),r=n.getAttribute("data-value"),o=n.getAttribute("data-name")
return this.element.value=this.renderer(o,this.element.value),this.selectedItem={label:o,value:r},this.element.setAttribute("data-value",r),this.element.setAttribute("data-label",o),this._raiseEvent("0",{item:{label:o,value:r},label:o,value:r}),this._raiseEvent("3",{type:i,item:{label:o,value:r},label:o,value:r}),this.value=o,this.close()},val:function(e){return 0===arguments.length||null!=e&&"object"==typeof e&&!e.label&&!e.value?""!==this.displayMember&&""!==this.valueMember&&this.selectedItem?""===this.element.value?"":this.selectedItem:this.element.value:e&&e.label?(this.selectedItem={label:e.label,value:e.value},this.element.setAttribute("data-value",e.value),this.element.setAttribute("data-label",e.label),this.value=e,this.element.value=e.label,this.element.value):(this.value=e,this.element.value=e,this.element.setAttribute("data-value",e),this.element.setAttribute("data-label",e),e&&e.label?this._raiseEvent("3",{type:null,item:{label:e.label,value:e.value},label:e.label,value:e.value}):this._raiseEvent("3",{type:null,item:{label:e,value:e},label:e,value:e}),this.element.value)},_raiseEvent:function(t,i){void 0===i&&(i={owner:null})
var n=this.events[t]
i.owner=this
var r=new e.Event(n)
return r.owner=this,r.args=i,r.preventDefault&&r.preventDefault(),this.host.trigger(r)},_renderer:function(e){return e},open:function(){if(!e.jqx.isHidden(this.host)){var t=e.extend({},this.host.coord(!0),{height:this.element.offsetHeight})
if(this.$popup.parentNode!==document.body){var i=this.element.id+"_popup"
this.$popup.id=i,e.jqx.aria(this,"aria-owns",i),document.body.appendChild(this.$popup)}this.$popup.style.position="absolute",this.$popup.style.zIndex=this.popupZIndex,this.$popup.style.top=this._toPx(t.top+t.height),this.$popup.style.left=this._toPx(t.left),this.$popup.style.display="block"
var n=0,r=this._popupHelper.children()
return e.each(r,function(){n+=e(this).outerHeight()+1}),this.$popup.style.height=this._toPx(n),this.opened=!0,this._raiseEvent("1",{popup:this.$popup}),e.jqx.aria(this,"aria-expanded",!0),this}},close:function(){return this.$popup.style.display="none",this.opened=!1,this._raiseEvent("2",{popup:this.$popup}),e.jqx.aria(this,"aria-expanded",!1),this},suggest:function(){var t
return this.query=this.element.value,!this.query||this.query.length<this.minLength?this.opened?this.close():this:(t=e.isFunction(this.source)?this.source(this.query,e.proxy(this.load,this)):this.source)?this.load(t):this},load:function(e){for(var t=[],i=0;i<e.length;i++){var n=e[i]
this.filter(n)&&t.push(n)}return(t=this.sort(t)).length?this._render(t.slice(0,this.items)).open():this.opened?this.close():this},_filter:function(t){var i=this.query,n=t
switch(null!=t.label?n=t.label:this.displayMember&&(n=t[this.displayMember]),this.searchMode){case"none":break
default:return e.jqx.string.containsIgnoreCase(n,i)
case"contains":return e.jqx.string.contains(n,i)
case"equals":return e.jqx.string.equals(n,i)
case"equalsignorecase":return e.jqx.string.equalsIgnoreCase(n,i)
case"startswith":return e.jqx.string.startsWith(n,i)
case"startswithignorecase":return e.jqx.string.startsWithIgnoreCase(n,i)
case"endswith":return e.jqx.string.endsWith(n,i)
case"endswithignorecase":return e.jqx.string.endsWithIgnoreCase(n,i)}},_sort:function(e){for(var t=[],i=[],n=[],r=0;r<e.length;r++){var o=e[r],a=o
o.label?a=o.label:this.displayMember&&(a=o[this.displayMember]),0===a.toString().toLowerCase().indexOf(this.query.toString().toLowerCase())?t.push(o):a.toString().indexOf(this.query)>=0?i.push(o):a.toString().toLowerCase().indexOf(this.query.toString().toLowerCase())>=0&&n.push(o)}return t.concat(i,n)},_highlight:function(e){var t=this.query
t=t.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&")
var i=new RegExp("("+t+")","ig")
return e.replace(i,function(e,t){return"<b>"+t+"</b>"})},_render:function(t){var i=this,n=i._popupHelper.children()
if(n.length>0)for(var r=0;r<n.length;r++)e(n[r]).remove()
var o=function(e,t){var n,r,o=e,a=document.createElement("li"),s=document.createElement("a")
s.setAttribute("href","#"),a.appendChild(s),void 0!==e.value&&null!==e.value?void 0!==e.label&&null!==e.label?(n=e.label,r=e.value):(n=e.value,r=e.value):void 0!==e.label&&null!==e.label?(n=e.label,r=e.label):void 0!==i.displayMember&&""!==i.displayMember?(n=e[i.displayMember],r=e[i.valueMember]):(n=e,r=e),a.setAttribute("data-value",r),a.setAttribute("data-name",n),e.label?o=e.label:i.displayMember&&(o=e[i.displayMember]),s.innerHTML=i.highlight(o)
var l=""
i.rtl&&(l=" jqx-rtl"),0===t&&(l+=" jqx-fill-state-pressed"),a.className=i.toThemeProperty("jqx-item jqx-menu-item jqx-rc-all"+l),i.$popup.appendChild(a),i.addHandler(a,"mouseenter",function(e){i.mouseenter(e)})}
return function(e){for(var t=0;t<e.length;t++)o(e[t],t)}(t),this.dropDownWidth?this.$popup.style.width=i._toPx(i.dropDownWidth):this.$popup.style.width=i._toPx(i.element.offsetWidth-6),this},next:function(){var t=this._find("jqx-fill-state-pressed",this._popupHelper),i=t.nextSibling
e(t).removeClass(this.toThemeProperty("jqx-fill-state-pressed")),i||(i=this.$popup.firstChild),i.className+=" "+this.toThemeProperty("jqx-fill-state-pressed")},prev:function(){var t=this._find("jqx-fill-state-pressed",this._popupHelper),i=t.previousSibling
e(t).removeClass(this.toThemeProperty("jqx-fill-state-pressed")),i||(i=this.$popup.lastChild),i.className+=" "+this.toThemeProperty("jqx-fill-state-pressed")},addHandlers:function(){var e=this,t=".jqxInput"+e.element.id
e.addHandler(e.host,"focus"+t,function(){e.onFocus()}),e.addHandler(e.host,"blur"+t,function(){e.onBlur()}),e.addHandler(e.host,"change"+t,function(t){if(!t.args){t.stopPropagation(),t.preventDefault()
var i,n,r=e.val()
r&&r.label?(i=r.label,n=r.val):(i=r,n=r),e._raiseEvent("3",{type:"keyboard",item:{label:i,value:n},label:i,value:n}),e.value=i}}),e.addHandler(e.host,"keypress"+t,function(t){e.keypress(t)}),e.addHandler(e.host,"keyup"+t,function(t){e.keyup(t)}),e.addHandler(e.host,"keydown"+t,function(t){e.keydown(t)}),e.addHandler(e.$popup,"mousedown"+t,function(t){e.click(t)})},removeHandlers:function(){var e=".jqxInput"+this.element.id
this.removeHandler(this.host,"change"+e),this.removeHandler(this.host,"focus"+e),this.removeHandler(this.host,"blur"+e),this.removeHandler(this.host,"keypress"+e),this.removeHandler(this.host,"keyup"+e),this.removeHandler(this.host,"keydown"+e),this.removeHandler(this.$popup,"mousedown"+e)},move:function(e){if(this.opened){switch(e.keyCode){case 9:case 13:case 27:e.preventDefault()
break
case 38:e.shiftKey||(e.preventDefault(),this.prev())
break
case 40:e.shiftKey||(e.preventDefault(),this.next())}e.stopPropagation()}},keydown:function(e){this.suppressKeyPressRepeat=-1!==[40,38,9,13,27].indexOf(e.keyCode),this.move(e)},keypress:function(e){this.suppressKeyPressRepeat||this.move(e)},keyup:function(e){switch(e.keyCode){case 40:case 38:case 16:case 17:case 18:break
case 9:case 13:if(!this.opened)return
this.select(e,this,"keyboard")
break
case 27:if(!this.opened)return
this.close()
break
default:var t=this
this.timer&&clearTimeout(this.timer),this.timer=setTimeout(function(){t.suggest()},300)}e.stopPropagation(),e.preventDefault()},clear:function(){this.val("")},onBlur:function(){var t=this
setTimeout(function(){t.close()},150),t.host.removeClass(t.toThemeProperty("jqx-fill-state-focus")),"placeholder"in t.element&&!(e.jqx.browser.msie&&e.jqx.browser.version<9)||""!==t.element.value&&t.element.value!==t.placeHolder||(t.element.value=t.placeHolder)},onFocus:function(){this.element.className+=" "+this.toThemeProperty("jqx-fill-state-focus"),"placeholder"in this.element&&!(e.jqx.browser.msie&&e.jqx.browser.version<9)||this.element.value!==this.placeHolder||(this.element.value="")},click:function(e){e.stopPropagation(),e.preventDefault(),this.select(e,this,"mouse")},mouseenter:function(t){e(this._find("jqx-fill-state-pressed",this._popupHelper)).removeClass(this.toThemeProperty("jqx-fill-state-pressed")),t.currentTarget.className+=" "+this.toThemeProperty("jqx-fill-state-pressed")},_toPx:function(e){return"number"==typeof e?e+"px":e},_find:function(e,t){for(var i=t.children(),n=0;n<i.length;n++){var r=i[n]
if(-1!==r.className.indexOf(e))return r}},_getAddonsWidth:function(){for(var t=this.baseHost.children(),i=0,n=0;n<t.length;n++)t[n]!==this.element&&(i+=e(t[n]).outerWidth())
return i}})}(jqxBaseFramework)
var ci=Object.freeze({})
!function(e){e.jqx.jqxWidget("jqxPathControl","",{}),e.extend(e.jqx._jqxPathControl.prototype,{defineInstance:function(){e.extend(!0,this,{width:null,height:"auto",path:"",pathFormat:"windows",customDrive:!1,customDirectorySeparator:null,fileDrop:!0,accept:".*",placeHolder:"Not a Path.",readOnly:!1,browseButtonText:"...",browseFunction:null,disabled:!1,rtl:!1,events:["change","formatChange","fileDrop"]})},createInstance:function(){this._render(!0)},_render:function(e){this._constructPath(this.path),this._setSize(),!0===e?this._appendElements():this._removeHandlers(),this._addHandlers(),this._addClasses(),this._validateExtension()},render:function(){this._render(!1)},refresh:function(e){!0!==e&&this._render(!1)},destroy:function(){this._removeHandlers(),this.host.remove()},val:function(t){if(void 0===t||"string"!=typeof t&&e.isEmptyObject(t))return this.path
if("windows"===t||"unix"===t||"custom"===t)return this._formatPath(t)
var i=this._input.val()
this._constructPath(t),this.path!==i&&(this._input.val(this.path),this._raiseEvent("0",{path:this.path,oldPath:i}),this._validateExtension())},_clear:function(){this._drive=void 0,this._pathArray=[],this.path="",this._input.val("")},clear:function(){if(""!==this.path){var e=this.path
this._clear(),this._raiseEvent("0",{path:this.path,oldPath:e})}},browse:function(){this.browseFunction&&this.browseFunction(this.path)},propertyChangedHandler:function(e,t,i,n){if(n!==i)switch(t){case"width":e.host.css("width",n)
break
case"height":e.host.css("height",n)
break
case"path":e.val(n)
break
case"pathFormat":var r=e.path
e.path=e._formatPath(n,!0),e._input.val(e.path),e._raiseEvent("1",{format:n,oldFormat:i,path:e.path,oldPath:r})
break
case"customDrive":case"customDirectorySeparator":"custom"===e.pathFormat&&(e.path=e._formatPath("custom",!0),e._input.val(e.path))
break
case"accept":e._validateExtension()
break
case"placeHolder":e._input.attr("placeholder",n)
break
case"readOnly":!0===n?e._input.attr("readonly",""):e._input.removeAttr("readonly")
break
case"browseButtonText":e._button.text(n)
var o=e._button.outerWidth()
e._input[0].style.width="calc(100% - "+(o+7)+"px)"
break
case"disabled":!0===n?(e.host.addClass(e.toThemeProperty("jqx-fill-state-disabled")),e._input.attr("disabled","disabled"),e._button.addClass(e.toThemeProperty("jqx-path-control-button-disabled")),e._button.jqxButton({disabled:!0})):(e.host.removeClass(e.toThemeProperty("jqx-fill-state-disabled")),e._input.removeAttr("disabled"),e._button.removeClass(e.toThemeProperty("jqx-path-control-button-disabled")),e._button.jqxButton({disabled:!1}))
break
case"rtl":!0===n?(e._input.addClass(e.toThemeProperty("jqx-path-control-input-rtl")),e._button.removeClass(e.toThemeProperty("jqx-path-control-button-ltr")),e._button.addClass(e.toThemeProperty("jqx-path-control-button-rtl"))):(e._input.removeClass(e.toThemeProperty("jqx-path-control-input-rtl")),e._button.removeClass(e.toThemeProperty("jqx-path-control-button-rtl")),e._button.addClass(e.toThemeProperty("jqx-path-control-button-ltr"))),e._button.jqxButton({rtl:n})}},_raiseEvent:function(t,i){void 0===i&&(i={owner:null})
var n=this.events[t]
i.owner=this
var r=new e.Event(n)
return r.owner=this,r.args=i,r.preventDefault&&r.preventDefault(),this.host.trigger(r)},_constructPath:function(e){var t=e
if(this._pathArray=[],this._drive=void 0,t=(t=t.replace(/\//g,">")).replace(/\\/g,">"),this.customDirectorySeparator){var i=new RegExp("\\"+this.customDirectorySeparator,"g")
t=t.replace(i,">")}var n=t.indexOf(":");-1!==n?(this._drive=t.slice(0,n),t=t.slice(n+2)):">"===t.charAt(0)&&(this._drive=t.slice(1,t.slice(1).indexOf(">")+1),t=t.slice(t.indexOf(this._drive)+this._drive.length+1)),this._pathArray=t.split(">"),this.path=this._formatPath(this.pathFormat,!0)},_formatPath:function(e,t){if(e!==this.pathFormat||!0===t){var i,n=""
switch(e){case"windows":this._drive&&(n+=this._drive+":\\"),i="\\"
break
case"unix":this._drive&&(n+="/"+this._drive+"/"),i="/"
break
case"custom":this._drive&&(!0===this.customDrive?n+=this._drive+":"+this.customDirectorySeparator:n+=this.customDirectorySeparator),i=this.customDirectorySeparator}for(var r=0;r<this._pathArray.length;r++)n+=this._pathArray[r],r!==this._pathArray.length-1&&(n+=i)
return n}return this.path},_setSize:function(){this.host.css("width",this.width),this.host.css("height",this.height)},_appendElements:function(){var t=this.readOnly?"readonly":"",i=this.disabled?"disabled":""
this._input=e('<input type="text" placeholder="'+this.placeHolder+'" '+t+" "+i+' class="'+this.toThemeProperty("jqx-path-control-input")+" "+this.toThemeProperty("jqx-input")+" "+this.toThemeProperty("jqx-widget-content")+" "+this.toThemeProperty("jqx-rc-all")+'" value="'+this.path+'" />'),this.host.append(this._input),this._button=e('<button class="'+this.toThemeProperty("jqx-path-control-button")+'">'+this.browseButtonText+"</button>"),this.host.append(this._button),this._button.jqxButton({theme:this.theme,height:"100%",disabled:this.disabled,rtl:this.rtl})
var n=this._button.outerWidth()
this._input[0].style.width="calc(100% - "+(n+7)+"px)",!0===this.rtl?(this._input.addClass(this.toThemeProperty("jqx-path-control-input-rtl")),this._button.addClass(this.toThemeProperty("jqx-path-control-button-rtl"))):this._button.addClass(this.toThemeProperty("jqx-path-control-button-ltr"))},_addClasses:function(){this.host.addClass(this.toThemeProperty("jqx-widget")),this.host.addClass(this.toThemeProperty("jqx-fill-state-normal")),this.host.addClass(this.toThemeProperty("jqx-rc-all")),this.host.addClass(this.toThemeProperty("jqx-path-control")),this.host.addClass(this.toThemeProperty("jqx-path-control-transparent-border")),!0===this.disabled&&(this.host.addClass(this.toThemeProperty("jqx-fill-state-disabled")),this._button.addClass(this.toThemeProperty("jqx-path-control-button-disabled")))},_addHandlers:function(){var e=this,t=e.element.id
e.addHandler(e._input,"focus.jqxPathControl"+t,function(){e._input.addClass(e.toThemeProperty("jqx-fill-state-focus"))}),e.addHandler(e._input,"blur.jqxPathControl"+t,function(){e._input.removeClass(e.toThemeProperty("jqx-fill-state-focus"))})
var i=["56","188","190","191","220","222"]
e.addHandler(e._input,"keydown.jqxPathControl"+t,function(e){var t=e.charCode?e.charCode:e.which
!0===(!0===e.shiftKey&&-1!==i.indexOf(t.toString())||106===t)&&e.preventDefault()}),e.addHandler(e._input,"change.jqxPathControl"+t,function(t){t.stopPropagation()
var i=t.target.value,n=e.path
""===i?e._clear():(e._constructPath(i),e._validateExtension()),e._input.val(e.path),e._raiseEvent("0",{path:e.path,oldPath:n})}),e.addHandler(e._button,"click.jqxPathControl"+t,function(){e.browse()}),e.addHandler(e.host,"dragenter.jqxPathControl"+t,function(e){e.preventDefault(),e.stopPropagation()}),e.addHandler(e.host,"dragleave.jqxPathControl"+t,function(t){t.preventDefault(),t.stopPropagation(),!0===e.fileDrop&&e.host.addClass(e.toThemeProperty("jqx-path-control-transparent-border"))}),e.addHandler(e.host,"dragover.jqxPathControl"+t,function(t){t.preventDefault(),t.stopPropagation(),!0===e.fileDrop?e.host.removeClass(e.toThemeProperty("jqx-path-control-transparent-border")):t.originalEvent.dataTransfer.dropEffect="none"}),e.addHandler(e.host,"drop.jqxPathControl"+t,function(t){if(t.preventDefault(),t.stopPropagation(),!0===e.fileDrop){if(t.originalEvent.dataTransfer&&t.originalEvent.dataTransfer.files&&t.originalEvent.dataTransfer.files.length){var i=t.originalEvent.dataTransfer.files[0].name
e._raiseEvent("2",{fileName:i}),e.val(i)}e.host.addClass(e.toThemeProperty("jqx-path-control-transparent-border"))}})},_removeHandlers:function(){var e=this.element.id
this.removeHandler(this._input,"focus.jqxPathControl"+e),this.removeHandler(this._input,"blur.jqxPathControl"+e),this.removeHandler(this._input,"keydown.jqxPathControl"+e),this.removeHandler(this._input,"change.jqxPathControl"+e),this.removeHandler(this._button,"click.jqxPathControl"+e),this.removeHandler(this.host,"dragenter.jqxPathControl"+e),this.removeHandler(this.host,"dragleave.jqxPathControl"+e),this.removeHandler(this.host,"dragover.jqxPathControl"+e),this.removeHandler(this.host,"drop.jqxPathControl"+e)},_validateExtension:function(){if(".*"!==this.accept&&""!==this.path){var e=this.path.lastIndexOf("."),t=this.path.charAt(e+1)
if(-1!==e&&"."!==this.path.charAt(e-1)&&""!==t&&("windows"===this.pathFormat&&"\\"!==t||"unix"===this.pathFormat&&"/"!==t||"custom"===this.pathFormat&&t!==this.customDirectorySeparator))this.path.slice(e).toLowerCase()===this.accept.toLowerCase()?this._input.removeClass(this.toThemeProperty("jqx-path-control-input-invalid")):this._input.addClass(this.toThemeProperty("jqx-path-control-input-invalid"))
else this._input.removeClass(this.toThemeProperty("jqx-path-control-input-invalid"))}else this._input.removeClass(this.toThemeProperty("jqx-path-control-input-invalid"))}})}(jqxBaseFramework)
var hi=Object.freeze({})
!function(e){e.jqx.jqxWidget("jqxPopover","",{}),e.extend(e.jqx._jqxPopover.prototype,{defineInstance:function(){var t={arrowOffsetValue:null,animationType:"fade",position:"bottom",animationOpenDelay:"fast",animationCloseDelay:"fast",autoClose:!0,isModal:!1,height:null,initContent:null,offset:null,rtl:!1,showArrow:!0,showCloseButton:!1,selector:null,title:"",width:null,_toggleElement:null,_popover:null,_popoverTop:0,_popoverLeft:0,_init:!1,_ie8:e.jqx.browser.msie&&8===e.jqx.browser.version,_ie7:e.jqx.browser.msie&&e.jqx.browser.version<8,_left:0,_top:0,events:["open","close"]}
return this===e.jqx._jqxPopover.prototype?t:(e.extend(!0,this,t),t)},createInstance:function(){this._content=this.host.children()},render:function(){var t=this.element.id
if(this._content.detach(),this._toggleElement=e(this.selector),0===this._toggleElement.length)throw new Error('jqxPopover: Invalid Popover toggler: "'+this.selector+'".')
if(null===this._toggleElement)throw new Error("jqxPopover: Missing Popover toggler.")
var i=e('<div id="'+t+'" class="'+this.toThemeProperty("jqx-popover")+'"><div class="'+this.toThemeProperty("jqx-popover-arrow")+'"></div><div class="'+this.toThemeProperty("jqx-popover-title")+'"></div><div class="'+this.toThemeProperty("jqx-popover-content")+'"></div></div>')
e("body").append(i)
var n=this.host.data()
this.host.detach(),this.host=i,this.host.data(n),this.element=i[0],this.element.id=t,this._popover=e("#"+t)
var r=this._popover.find(".jqx-popover-title")
r.append(this.title)
var o=this._popover.find(".jqx-popover-content")
if(o.append(this._content),this._popover.hide(),this._removeHandlers(),this._addHandlers(),this._popover.addClass(this.position),r.addClass(this.toThemeProperty("jqx-widget-header")),this._popover.addClass(this.toThemeProperty("jqx-widget jqx-widget-content jqx-rc-all")),this.showArrow?(this._popover.addClass(this.toThemeProperty("jqx-popover-arrow-"+this.position)),this._popover.find(".jqx-popover-arrow").css("display","block")):this._popover.find(".jqx-popover-arrow").css("display","none"),this.rtl&&(r.addClass(this.toThemeProperty("jqx-rtl")),r.css("direction","rtl"),o.css("direction","rtl")),this.showCloseButton){var a=e('<div class="'+this.toThemeProperty("jqx-window-close-button-background")+'"></div>'),s=e('<div style="width: 100%; height: 100%;" class="'+this.toThemeProperty("jqx-window-close-button")+" "+this.toThemeProperty("jqx-icon-close")+'"></div>')
a.append(s),r.append(a),r.css("min-height","16px"),a.addClass(this.toThemeProperty("jqx-popover-close-button")),this.closeButton=s,this.rtl&&a.addClass(this.toThemeProperty("jqx-popover-close-button-rtl"))}if(this.arrowOffsetValue)if("bottom"==this.position||"top"==this.position){var l=this._popover.find(".jqx-popover-arrow").css("margin-left")
this._popover.find(".jqx-popover-arrow").css("margin-left",parseInt(l)+this.arrowOffsetValue)}else{var d=this._popover.find(".jqx-popover-arrow").css("margin-top")
this._popover.find(".jqx-popover-arrow").css("margin-top",parseInt(d)+this.arrowOffsetValue)}(this.width||this.height)&&(this._popover.css("width",this.width),this._popover.css("height",this.height))},refresh:function(e){this.render()},destroy:function(){0!==this.length&&(this._removeHandlers(),this._popover.remove(),this._removeModalBackground())},propertyChangedHandler:function(e,t,i,n){this.render()},_stickToToggleElement:function(){this._popover.css("left","0px"),this._popover.css("top","0px")
var e=this._toggleElement,t=e.offset(),i=e.outerHeight(),n=e.outerWidth(),r=this._popover.height(),o=this._popover.width()
switch(this.position){case"left":this._popoverTop=t.top-r/2+i/2,this._popoverLeft=t.left-this._popover.outerWidth()
break
case"right":this._popoverTop=t.top-r/2+i/2,this._popoverLeft=t.left+n
break
case"top":this._popoverTop=t.top-this._popover.outerHeight(),this._popoverLeft=t.left-o/2+n/2
break
case"bottom":this._popoverTop=t.top+i,this._popoverLeft=t.left-o/2+n/2}var a=this.offset?parseFloat(this.offset.left):0,s=this.offset?parseFloat(this.offset.top):0
this._popover.css("top",s+this._popoverTop),this._popover.css("left",a+this._popoverLeft)},open:function(){var e=this
function t(){e._popover.show(),e._raiseEvent("0"),e._isOpen=!0}function i(){e.initContent&&!1===e._init&&(e.initContent(),e._init=!0,e._stickToToggleElement())}if(e._stickToToggleElement(),!0===e._ie7)return t(),void i()
switch(e.animationType){case"fade":e._popover.fadeIn(e.animationOpenDelay,function(){e._raiseEvent("0"),i(),e._isOpen=!0})
break
case"none":t(),i()}e._makeModalBackground()},close:function(){var e=this
if(e._isOpen)if(!0!==e._ie7){switch(e.animationType){case"fade":e._popover.fadeOut(e.animationCloseDelay,function(){e._raiseEvent("1"),e._isOpen=!1})
break
case"none":t()}e._removeModalBackground()}else t()
function t(){e._popover.hide(),e._raiseEvent("1"),e._isOpen=!1}},_raiseEvent:function(t,i){void 0===i&&(i={owner:null})
var n=this.events[t]
i.owner=this
var r=new e.Event(n)
return r.owner=this,r.args=i,r.preventDefault&&r.preventDefault(),this._popover.trigger(r)},_makeModalBackground:function(){!0===this.isModal&&(this.modalBackground=e("<div></div>"),this.modalBackground.addClass(this.toThemeProperty("jqx-popover-modal-background")),e(document.body).prepend(this.modalBackground),e(document.body).addClass(this.toThemeProperty("jqx-unselectable")),this.host.addClass(this.toThemeProperty("jqx-selectable")))},_removeModalBackground:function(){!0===this.isModal&&void 0!==this.modalBackground&&(this.modalBackground.remove(),e(document.body).removeClass(this.toThemeProperty("jqx-unselectable")),this.host.removeClass(this.toThemeProperty("jqx-selectable")))},_addHandlers:function(){var t=this,i=t.element.id
t.addHandler(e(document),"keydown.jqxPopover"+i,function(e){27==e.keyCode&&t.close()}),t.addHandler(e(document),"click.jqxPopover"+i,function(i){t.closeButton&&i.target==t.closeButton[0]&&t.close(),!0===t.autoClose&&(i.target==t.element||e(i.target).ischildof(t._popover)||t.isModal||t.close())}),t.addHandler(e(window),"resize.jqxPopover"+i,function(e){"none"!=t.element.style.display&&t._stickToToggleElement()}),t.selector&&t.addHandler(t._toggleElement,"click.jqxPopover"+i,function(e){e.stopPropagation(),"none"!=t.host.css("display")?t.close():t.open()})},_removeHandlers:function(){var t=this.element.id
this.removeHandler(e(document),"click.jqxPopover"+t),this.selector&&this.removeHandler(this._toggleElement,"click.jqxPopover"+t),this.removeHandler(e(document),"keydown.jqxPopover"+t),this.removeHandler(e(window),"resize.jqxPopover"+t)}})}(jqxBaseFramework)
var ui=Object.freeze({})
!function(e){e.jqx.jqxWidget("jqxCheckBox","",{}),e.extend(e.jqx._jqxCheckBox.prototype,{defineInstance:function(){var t={animationShowDelay:300,animationHideDelay:300,width:null,height:null,boxSize:"13px",checked:!1,hasThreeStates:!1,disabled:!1,enableContainerClick:!0,locked:!1,groupName:"",keyboardCheck:!0,enableHover:!0,hasInput:!0,rtl:!1,updated:null,disabledContainer:!1,changeType:null,_canFocus:!0,aria:{"aria-checked":{name:"checked",type:"boolean"},"aria-disabled":{name:"disabled",type:"boolean"}},events:["checked","unchecked","indeterminate","change"]}
return this===e.jqx._jqxCheckBox.prototype?t:(e.extend(!0,this,t),t)},createInstance:function(e){this._createFromInput("CheckBox"),this.render()},_createFromInput:function(t){if("input"==this.element.nodeName.toLowerCase()){this.field=this.element,this.field.className&&(this._className=this.field.className)
var i={title:this.field.title}
this.field.value&&(i.value=this.field.value),this.field.checked&&(i.checked=!0),this.field.id.length?i.id=this.field.id.replace(/[^\w]/g,"_")+"_"+t:i.id=e.jqx.utilities.createId()+"_"+t
var n=this.element.nextSibling,r=!1
!n||"#text"!=n.nodeName&&"span"!=n.nodeName||(r=!0)
var o=0,a=e("<div></div>",i)
if(r){a.append(n)
var s=e("<span>"+e(n).text()+"</span>")
s.appendTo(e(document.body)),o+=s.width(),s.remove()}a[0].style.cssText=this.field.style.cssText,this.width||(this.width=e(this.field).width()+o+10),this.height||(this.height=e(this.field).outerHeight()+10),e(this.field).hide().after(a)
var l=this.host.data()
if(this.host=a,this.host.data(l),this.element=a[0],this.element.id=this.field.id,this.field.id=i.id,this._className&&(this.host.addClass(this._className),e(this.field).removeClass(this._className)),this.field.tabIndex){var d=this.field.tabIndex
this.field.tabIndex=-1,this.element.tabIndex=d}}},_addInput:function(){if(this.hasInput){this.input&&this.input.remove()
var t=this.host.attr("name")
this.input=e("<input type='hidden'/>"),this.host.append(this.input),t&&this.input.attr("name",t),this.input.val(this.checked),this.host.attr("role","checkbox"),e.jqx.aria(this)}},render:function(){this.init=!0
var t=this
this.setSize(),this.propertyChangeMap.width=function(e,i,n,r){t.setSize()},this.propertyChangeMap.height=function(e,i,n,r){t.setSize()},this._removeHandlers(),this.width||this.host.css("overflow-x","visible"),this.height||this.host.css("overflow-y","visible"),this.checkbox&&(this.checkbox.remove(),this.checkbox=null),this.checkMark&&(this.checkMark.remove(),this.checkMark=null),this.box&&(this.box.remove(),this.box=null),this.clear&&(this.clear.remove(),this.clear=null),null==this.boxSize&&(this.boxSize=13)
var i=parseInt(this.boxSize)+"px",n=Math.floor((parseInt(this.boxSize)-13)/2),r=n
n+="px",r+="px","13px"!=this.boxSize?this.checkbox=e('<div><div style="width: '+i+"; height: "+i+';"><span style="position: relative; left: '+n+"; top: "+r+'; width: 13px; height: 13px;"></span></div></div>'):this.checkbox=e('<div><div style="width: '+i+"; height: "+i+';"><span style="width: '+i+"; height: "+i+';"></span></div></div>'),this.host.prepend(this.checkbox),this.disabledContainer||(this.host.attr("tabIndex")||this.host.attr("tabIndex",0),this.clear=e('<div style="clear: both;"></div>'),this.host.append(this.clear)),this.checkMark=e(this.checkbox[0].firstChild.firstChild),this.box=this.checkbox,this.box.addClass(this.toThemeProperty("jqx-checkbox-default")+" "+this.toThemeProperty("jqx-fill-state-normal")+" "+this.toThemeProperty("jqx-rc-all")),this.disabled&&this.disable(),this.disabledContainer||(this.host.addClass(this.toThemeProperty("jqx-widget")),this.host.addClass(this.toThemeProperty("jqx-checkbox"))),this.locked&&!this.disabledContainer&&this.host.css("cursor","auto")
var o=this.element.getAttribute("checked")
"checked"!=o&&"true"!=o&&1!=o||(this.checked=!0),this._addInput(),this._render(),this._addHandlers(),this.init=!1,this._centerBox()},_centerBox:function(){if(this.height&&-1==this.height.toString().indexOf("%")&&this.box){var e=parseInt(this.height)
this.host.css("line-height",e+"px")
var t=e-parseInt(this.boxSize)-1
t/=2,this.box.css("margin-top",parseInt(t))}},refresh:function(e){e||(this.setSize(),this._render())},resize:function(e,t){this.width=e,this.height=t,this.refresh()},setSize:function(){null!=this.width&&-1!=this.width.toString().indexOf("px")?this.host.width(this.width):null==this.width||isNaN(this.width)?null!=this.width&&-1!=this.width.toString().indexOf("%")&&(this.element.style.width=this.width):this.host.width(this.width),null!=this.height&&-1!=this.height.toString().indexOf("px")?this.host.height(this.height):null==this.height||isNaN(this.height)?null!=this.height&&-1!=this.height.toString().indexOf("%")&&(this.element.style.height=this.height):this.host.height(this.height),this._centerBox()},_addHandlers:function(){var t=this,i="mousedown"
e.jqx.mobile.isTouchDevice()&&(i=e.jqx.mobile.getTouchEventName("touchend")),this.addHandler(this.box,i,function(e){if(!t.disabled&&!t.enableContainerClick&&!t.locked)return t.changeType="mouse",t.toggle(),t.updated&&(e.owner=t,t.updated(e,t.checked,t.oldChecked)),e.preventDefault&&e.preventDefault(),!1}),this.disabledContainer||(this.addHandler(this.host,"keydown",function(e){if(!t.disabled&&!t.locked&&t.keyboardCheck&&32==e.keyCode)return!t._canFocus||(t.changeType="keyboard",t.toggle(),t.updated&&(e.owner=t,t.updated(e,t.checked,t.oldChecked)),e.preventDefault&&e.preventDefault(),!1)}),this.addHandler(this.host,i,function(e){if(!t.disabled&&t.enableContainerClick&&!t.locked)return t.changeType="mouse",t.toggle(),e.preventDefault&&e.preventDefault(),t._canFocus&&t.focus(),!1}),this.addHandler(this.host,"selectstart",function(e){if(!t.disabled&&t.enableContainerClick)return e.preventDefault&&e.preventDefault(),!1}),this.addHandler(this.host,"mouseup",function(e){!t.disabled&&t.enableContainerClick&&e.preventDefault&&e.preventDefault()}),this.addHandler(this.host,"focus",function(e){if(!t.disabled&&!t.locked)return!t._canFocus||(t.enableHover&&t.box.addClass(t.toThemeProperty("jqx-checkbox-hover")),t.box.addClass(t.toThemeProperty("jqx-fill-state-focus")),e.preventDefault&&e.preventDefault(),t.hovered=!0,!1)}),this.addHandler(this.host,"blur",function(e){if(!t.disabled&&!t.locked)return!t._canFocus||(t.enableHover&&t.box.removeClass(t.toThemeProperty("jqx-checkbox-hover")),t.box.removeClass(t.toThemeProperty("jqx-fill-state-focus")),e.preventDefault&&e.preventDefault(),t.hovered=!1,!1)}),this.addHandler(this.host,"mouseenter",function(e){if(t.locked&&t.host.css("cursor","arrow"),t.enableHover&&!t.disabled&&t.enableContainerClick&&!t.locked)return t.box.addClass(t.toThemeProperty("jqx-checkbox-hover")),t.box.addClass(t.toThemeProperty("jqx-fill-state-hover")),e.preventDefault&&e.preventDefault(),t.hovered=!0,!1}),this.addHandler(this.host,"mouseleave",function(e){if(t.enableHover&&!t.disabled&&t.enableContainerClick&&!t.locked)return t.box.removeClass(t.toThemeProperty("jqx-checkbox-hover")),t.box.removeClass(t.toThemeProperty("jqx-fill-state-hover")),e.preventDefault&&e.preventDefault(),t.hovered=!1,!1}),this.addHandler(this.box,"mouseenter",function(){t.locked||t.disabled||t.enableContainerClick||(t.box.addClass(t.toThemeProperty("jqx-checkbox-hover")),t.box.addClass(t.toThemeProperty("jqx-fill-state-hover")))}),this.addHandler(this.box,"mouseleave",function(){t.disabled||t.enableContainerClick||(t.box.removeClass(t.toThemeProperty("jqx-checkbox-hover")),t.box.removeClass(t.toThemeProperty("jqx-fill-state-hover")))}))},focus:function(){try{this.host.focus()}catch(e){}},_removeHandlers:function(){var t="mousedown"
e.jqx.mobile.isTouchDevice()&&(t="touchend"),this.box&&(this.removeHandler(this.box,t),this.removeHandler(this.box,"mouseenter"),this.removeHandler(this.box,"mouseleave")),this.removeHandler(this.host,t),this.removeHandler(this.host,"mouseup"),this.removeHandler(this.host,"selectstart"),this.removeHandler(this.host,"mouseenter"),this.removeHandler(this.host,"mouseleave"),this.removeHandler(this.host,"keydown"),this.removeHandler(this.host,"blur"),this.removeHandler(this.host,"focus")},_render:function(){this.disabled?this.disable():this.enableContainerClick?this.host.css("cursor","pointer"):this.init||this.host.css("cursor","auto"),this.rtl&&(this.box.addClass(this.toThemeProperty("jqx-checkbox-rtl")),this.host.addClass(this.toThemeProperty("jqx-rtl"))),this.updateStates()},_setState:function(e,t){this.checked!=e&&(this.checked=e,this.checked?this.checkMark[0].className=this.toThemeProperty("jqx-checkbox-check-checked"):null==this.checked?this.checkMark[0].className=this.toThemeProperty("jqx-checkbox-check-indeterminate"):this.checkMark[0].className=""),!1!==t&&!0!==t||(this.locked=t)},val:function(e){return 0==arguments.length||null!=e&&"object"==typeof e?this.checked:("string"==typeof e?("true"==e&&this.check(),"false"==e&&this.uncheck(),""==e&&this.indeterminate()):(1==e&&this.check(),0==e&&this.uncheck(),null==e&&this.indeterminate()),this.checked)},check:function(){this.checked=!0
var t=this
if(this.checkMark.removeClass(),e.jqx.browser.msie||0==this.animationShowDelay?this.checkMark.addClass(this.toThemeProperty("jqx-checkbox-check-checked")):(this.checkMark.addClass(this.toThemeProperty("jqx-checkbox-check-checked")),this.checkMark.css("opacity",0),this.checkMark.stop().animate({opacity:1},this.animationShowDelay,function(){})),null!=this.groupName&&this.groupName.length>0){var i=e.find(this.toThemeProperty(".jqx-checkbox",!0))
e.each(i,function(){e(this).jqxCheckBox("groupName")==t.groupName&&this!=t.element&&e(this).jqxCheckBox("uncheck")})}this._raiseEvent("0"),this._raiseEvent("3",{checked:!0}),null!=this.input&&(this.input.val(this.checked),e.jqx.aria(this,"aria-checked",this.checked))},uncheck:function(){this.checked=!1
var t=this
e.jqx.browser.msie||0==this.animationHideDelay?""!=t.checkMark[0].className&&(t.checkMark[0].className=""):(this.checkMark.css("opacity",1),this.checkMark.stop().animate({opacity:0},this.animationHideDelay,function(){""!=t.checkMark[0].className&&(t.checkMark[0].className="")})),this._raiseEvent("1"),this._raiseEvent("3",{checked:!1}),null!=this.input&&(this.input.val(this.checked),e.jqx.aria(this,"aria-checked",this.checked))},indeterminate:function(){this.checked=null,this.checkMark.removeClass(),e.jqx.browser.msie||0==this.animationShowDelay?this.checkMark.addClass(this.toThemeProperty("jqx-checkbox-check-indeterminate")):(this.checkMark.addClass(this.toThemeProperty("jqx-checkbox-check-indeterminate")),this.checkMark.css("opacity",0),this.checkMark.stop().animate({opacity:1},this.animationShowDelay,function(){})),this._raiseEvent("2"),this._raiseEvent("3",{checked:null}),null!=this.input&&(this.input.val(this.checked),e.jqx.aria(this,"aria-checked","undefined"))},toggle:function(){this.disabled||this.locked||(null!=this.groupName&&this.groupName.length>0?1!=this.checked&&(this.checked=!0,this.updateStates()):(this.oldChecked=this.checked,1==this.checked?this.checked=!!this.hasThreeStates&&null:this.checked=null!=this.checked,this.updateStates(),null!=this.input&&this.input.val(this.checked)))},updateStates:function(){this.checked?this.check():0==this.checked?this.uncheck():null==this.checked&&this.indeterminate()},disable:function(){this.disabled=!0,1==this.checked?this.checkMark.addClass(this.toThemeProperty("jqx-checkbox-check-disabled")):null==this.checked&&this.checkMark.addClass(this.toThemeProperty("jqx-checkbox-check-indeterminate-disabled")),this.box.addClass(this.toThemeProperty("jqx-checkbox-disabled-box")),this.host.addClass(this.toThemeProperty("jqx-checkbox-disabled")),this.host.addClass(this.toThemeProperty("jqx-fill-state-disabled")),this.box.addClass(this.toThemeProperty("jqx-checkbox-disabled")),e.jqx.aria(this,"aria-disabled",this.disabled)},enable:function(){1==this.checked?this.checkMark.removeClass(this.toThemeProperty("jqx-checkbox-check-disabled")):null==this.checked&&this.checkMark.removeClass(this.toThemeProperty("jqx-checkbox-check-indeterminate-disabled")),this.box.removeClass(this.toThemeProperty("jqx-checkbox-disabled-box")),this.host.removeClass(this.toThemeProperty("jqx-checkbox-disabled")),this.host.removeClass(this.toThemeProperty("jqx-fill-state-disabled")),this.box.removeClass(this.toThemeProperty("jqx-checkbox-disabled")),this.disabled=!1,e.jqx.aria(this,"aria-disabled",this.disabled)},destroy:function(){this.host.remove()},_raiseEvent:function(t,i){if(!this.init){var n=this.events[t],r=new e.Event(n)
r.owner=this,i||(i={}),i.type=this.changeType,this.changeType=null,r.args=i
try{var o=this.host.trigger(r)}catch(e){}return o}},propertiesChangedHandler:function(e,t,i){i.width&&i.height&&2==Object.keys(i).length&&e.setSize()},propertyChangedHandler:function(t,i,n,r){if(null!=this.isInitialized&&0!=this.isInitialized&&!(t.batchUpdate&&t.batchUpdate.width&&t.batchUpdate.height&&2==Object.keys(t.batchUpdate).length)){if("enableContainerClick"!=i||t.disabled||t.locked||(r?t.host.css("cursor","pointer"):t.host.css("cursor","auto")),"rtl"==i&&(r?(t.box.addClass(t.toThemeProperty("jqx-checkbox-rtl")),t.host.addClass(t.toThemeProperty("jqx-rtl"))):(t.box.removeClass(t.toThemeProperty("jqx-checkbox-rtl")),t.host.removeClass(t.toThemeProperty("jqx-rtl")))),"boxSize"==i&&t.render(),"theme"==i&&e.jqx.utilities.setTheme(n,r,t.host),"checked"==i&&r!=n)switch(r){case!0:t.check()
break
case!1:t.uncheck()
break
case null:t.indeterminate()}"disabled"==i&&r!=n&&(r?t.disable():t.enable())}}})}(jqxBaseFramework)
var pi=Object.freeze({})
!function(e){e.jqx.jqxWidget("jqxSwitchButton","",{}),e.extend(e.jqx._jqxSwitchButton.prototype,{defineInstance:function(){var t={disabled:!1,checked:!1,onLabel:"On",offLabel:"Off",toggleMode:"default",animationDuration:250,width:90,height:30,animationEnabled:!0,thumbSize:"40%",orientation:"horizontal",switchRatio:"50%",metroMode:!1,_isMouseDown:!1,rtl:!1,_dimensions:{horizontal:{size:"width",opSize:"height",oSize:"outerWidth",opOSize:"outerHeight",pos:"left",oPos:"top",opposite:"vertical"},vertical:{size:"height",opSize:"width",oSize:"outerHeight",opOSize:"outerWidth",pos:"top",oPos:"left",opposite:"horizontal"}},_touchEvents:{mousedown:"touchstart",click:"touchend",mouseup:"touchend",mousemove:"touchmove",mouseenter:"mouseenter",mouseleave:"mouseleave"},_borders:{},_isTouchDevice:!1,_distanceRequired:3,_isDistanceTraveled:!1,_thumb:void 0,_onLabel:void 0,_offLabel:void 0,_wrapper:void 0,_animationActive:!1,aria:{"aria-checked":{name:"checked",type:"boolean"},"aria-disabled":{name:"disabled",type:"boolean"}},_events:["checked","unchecked","change"]}
return this===e.jqx._jqxSwitchButton.prototype?t:(e.extend(!0,this,t),t)},createInstance:function(t){if(this._createFromInput(),this.element.nodeName&&("INPUT"==this.element.nodeName||"BUTTON"==this.element.nodeName))throw"jqxSwitchButton can be rendered only from a DIV tag."
this.host.attr("role","checkbox"),e.jqx.aria(this),this.render()
var i=this
i.element.tabIndex||i.host.attr("tabindex",0),e.jqx.utilities.resize(this.host,function(){i.element.innerHTML="",i.render()})},_createFromInput:function(){if("input"==this.element.nodeName.toLowerCase()){this.field=this.element,this.field.className&&(this._className=this.field.className)
var t={title:this.field.title}
this.field.value&&(t.value=this.field.value),this.field.checked&&(t.checked=!0),this.field.id.length?t.id=this.field.id.replace(/[^\w]/g,"_")+"_jqxSwitchButton":t.id=e.jqx.utilities.createId()+"_jqxSwitchButton"
var i=e("<div></div>",t)
i[0].style.cssText=this.field.style.cssText,this.width||(this.width=e(this.field).width()),this.height||(this.height=e(this.field).outerHeight()),e(this.field).hide().after(i)
var n=this.host.data()
if(this.host=i,this.host.data(n),this.element=i[0],this.element.id=this.field.id,this.field.id=t.id,this._className&&(this.host.addClass(this._className),e(this.field).removeClass(this._className)),this.field.tabIndex){var r=this.field.tabIndex
this.field.tabIndex=-1,this.element.tabIndex=r}}},resize:function(e,t){this.width=e,this.height=t,this.render()},render:function(){this.innerHTML="",!this.theme||""==this.theme||-1==this.theme.indexOf("metro")&&-1==this.theme.indexOf("windowsphone")&&-1==this.theme.indexOf("office")||("40%"==this.thumbSize&&(this.thumbSize=12),this.metroMode=!0)
var t=e.data(document.body,"jqx-switchbutton")||1
this._idHandler(t),e.data(document.body,"jqx-draggables",++t),this._isTouchDevice=e.jqx.mobile.isTouchDevice(),this.switchRatio=parseInt(this.switchRatio,10),this._render(),this._addClasses(),this._performLayout(),this._removeEventHandlers(),this._addEventHandles(),this._disableSelection()
this.checked||this._switchButton(!1,0,!0),this.disabled&&(this.element.disabled=!0)},setOnLabel:function(e){this._onLabel.html('<div style="display: inline-block;">'+e+"</div>"),this._centerLabels()},setOffLabel:function(e){this._offLabel.html('<div style="display: inline-block;">'+e+"</div>"),this._centerLabels()},toggle:function(){this.checked?this.uncheck():this.check()},val:function(e){return 0==arguments.length||null!=e&&"object"==typeof e?this.checked:("string"==typeof e?("true"==e&&this.check(),"false"==e&&this.uncheck(),""==e&&this.indeterminate()):(1==e&&this.check(),0==e&&this.uncheck(),null==e&&this.indeterminate()),this.checked)},uncheck:function(){this._switchButton(!1),e.jqx.aria(this,"aria-checked",this.checked)},check:function(){this._switchButton(!0),e.jqx.aria(this,"aria-checked",this.checked)},_idHandler:function(e){if(!this.element.id){var t="jqx-switchbutton-"+e
this.element.id=t}},_dir:function(e){return this._dimensions[this.orientation][e]},_getEvent:function(t){if(this._isTouchDevice){var i=this._touchEvents[t]
return e.jqx.mobile.getTouchEventName(i)}return t},_render:function(){this._thumb=e("<div/>"),this._onLabel=e("<div/>"),this._offLabel=e("<div/>"),this._wrapper=e("<div/>"),this._onLabel.appendTo(this.host),this._thumb.appendTo(this.host),this._offLabel.appendTo(this.host),this.host.wrapInner(this._wrapper),this._wrapper=this.host.children(),this.setOnLabel(this.onLabel),this.setOffLabel(this.offLabel)},_addClasses:function(){var e=this._thumb,t=this._onLabel,i=this._offLabel
this.host.addClass(this.toThemeProperty("jqx-switchbutton")),this.host.addClass(this.toThemeProperty("jqx-widget")),this.host.addClass(this.toThemeProperty("jqx-widget-content")),this._wrapper.addClass(this.toThemeProperty("jqx-switchbutton-wrapper")),e.addClass(this.toThemeProperty("jqx-fill-state-normal")),e.addClass(this.toThemeProperty("jqx-switchbutton-thumb")),t.addClass(this.toThemeProperty("jqx-switchbutton-label-on")),t.addClass(this.toThemeProperty("jqx-switchbutton-label")),i.addClass(this.toThemeProperty("jqx-switchbutton-label-off")),i.addClass(this.toThemeProperty("jqx-switchbutton-label")),this.checked?this.host.addClass(this.toThemeProperty("jqx-switchbutton-on")):this.host.removeClass(this.toThemeProperty("jqx-switchbutton-on"))},_performLayout:function(){var e,t=this.host,i=this._dir("opSize"),n=this._dir("size"),r=this._wrapper
if(t.css({width:this.width,height:this.height}),r.css(i,t[i]()),this._thumbLayout(),this._labelsLayout(),e=this._borders[this._dir("opposite")],r.css(n,t[n]()+this._offLabel[this._dir("oSize")]()+e),r.css(i,t[i]()),this.metroMode||this.theme&&""!=this.theme&&(-1!=this.theme.indexOf("metro")||-1!=this.theme.indexOf("office"))){this._thumb
var o=this._onLabel,a=this._offLabel
o.css("position","relative"),o.css("top","1px"),o.css("margin-left","1px"),a.css("position","relative"),a.css("top","1px"),a.css("left","-2px"),a.css("margin-right","1px"),a.height(o.height()-2),a.width(o.width()-3),o.height(o.height()-2),o.width(o.width()-3),this._thumb[this._dir("size")](this.thumbSize+3),this._thumb.css("top","-1px"),this._thumb[this._dir("opSize")](t[this._dir("opSize")]()+2),this._thumb.css("position","relative"),this.host.css("overflow","hidden"),this.checked?(this._onLabel.css("visibility","visible"),this._offLabel.css("visibility","hidden"),this._thumb.css("left","0px")):(this._onLabel.css("visibility","hidden"),this._offLabel.css("visibility","visible"),this._thumb.css("left","-2px"))}},_thumbLayout:function(){var e=this.thumbSize,t=this.host
e.toString().indexOf("%")>=0&&(e=t[this._dir("size")]()*parseInt(e,10)/100),this._thumb[this._dir("size")](e),this._thumb[this._dir("opSize")](t[this._dir("opSize")]()),this._handleThumbBorders()},_handleThumbBorders:function(){this._borders.horizontal=parseInt(this._thumb.css("border-left-width"),10)||0,this._borders.horizontal+=parseInt(this._thumb.css("border-right-width"),10)||0,this._borders.vertical=parseInt(this._thumb.css("border-top-width"),10)||0,this._borders.vertical+=parseInt(this._thumb.css("border-bottom-width"),10)||0
var e=this._borders[this._dir("opposite")]
"horizontal"===this.orientation?(this._thumb.css("margin-top",-e/2),this._thumb.css("margin-left",0)):(this._thumb.css("margin-left",-e/2),this._thumb.css("margin-top",0))},_labelsLayout:function(){var e=this.host,t=this._thumb,i=this._dir("opSize"),n=this._dir("size"),r=this._dir("oSize"),o=e[n]()-t[r](),a=this._borders[this._dir("opposite")]/2
this._onLabel[n](o+a),this._offLabel[n](o+a),this.rtl&&this._onLabel[n](o+2*a),this._onLabel[i](e[i]()),this._offLabel[i](e[i]()),this._orderLabels(),this._centerLabels()},_orderLabels:function(){if("horizontal"===this.orientation){var e="left"
this.rtl&&(e="right"),this._onLabel.css("float",e),this._thumb.css("float",e),this._offLabel.css("float",e)}else this._onLabel.css("display","block"),this._offLabel.css("display","block")},_centerLabels:function(){var e=this._onLabel.children("div"),t=this._offLabel.children("div"),i=e.parent().height(),n=e.outerHeight(),r=this._borders[this.orientation]/2||0
0==n&&(n=14)
var o=Math.floor((i-n)/2)+r
e.css("margin-top",o),t.css("margin-top",o)},_removeEventHandlers:function(){var t="."+this.element.id
this.removeHandler(this._wrapper,this._getEvent("click")+t,this._clickHandle),this.removeHandler(this._thumb,this._getEvent("mousedown")+t,this._mouseDown),this.removeHandler(e(document),this._getEvent("mouseup")+t,this._mouseUp),this.removeHandler(e(document),this._getEvent("mousemove")+t,this._mouseMove),this.removeHandler(this._thumb,"mouseenter"+t),this.removeHandler(this._thumb,"mouseleave"+t),this.removeHandler(this._wrapper,"focus"+t),this.removeHandler(this._wrapper,"blur"+t)},_addEventHandles:function(){var t="."+this.element.id,i=this
this.addHandler(this.host,"focus"+t,function(e){return i.host.addClass(i.toThemeProperty("jqx-fill-state-focus")),!1}),this.addHandler(this.host,"blur"+t,function(){i.host.removeClass(i.toThemeProperty("jqx-fill-state-focus"))}),this.addHandler(this._thumb,"mouseenter"+t,function(){i._thumb.addClass(i.toThemeProperty("jqx-fill-state-hover"))}),this.addHandler(this._thumb,"mouseleave"+t,function(){i._thumb.removeClass(i.toThemeProperty("jqx-fill-state-hover"))}),this.addHandler(this._wrapper,this._getEvent("click")+t,this._clickHandle,{self:this}),this.addHandler(this._thumb,this._getEvent("mousedown")+t,this._mouseDown,{self:this}),this.addHandler(e(document),this._getEvent("mouseup")+t,this._mouseUp,{self:this}),this.addHandler(e(document),this._getEvent("mousemove")+t,this._mouseMove,{self:this})},enable:function(){this.disabled=!1,this.element.disabled=!1,e.jqx.aria(this,"aria-disabled",this.disabled)},disable:function(){this.disabled=!0,this.element.disabled=!0,e.jqx.aria(this,"aria-disabled",this.disabled)},_clickHandle:function(e){var t=e.data.self
"click"!==t.toggleMode&&"default"!==t.toggleMode||t.disabled||t._isDistanceTraveled||t._dragged||(t._wrapper.stop(),t.toggle()),t._thumb.removeClass(t.toThemeProperty("jqx-fill-state-pressed"))},_mouseDown:function(e){var t=e.data.self,i=t._wrapper
t.metroMode&&(t.host.css("overflow","hidden"),t._onLabel.css("visibility","visible"),t._offLabel.css("visibility","visible")),t._mouseStartPosition=t._getMouseCoordinates(e),t._buttonStartPosition={left:parseInt(i.css("margin-left"),10)||0,top:parseInt(i.css("margin-top"),10)||0},t.disabled||"slide"!==t.toggleMode&&"default"!==t.toggleMode||(t._wrapper.stop(),t._isMouseDown=!0,t._isDistanceTraveled=!1,t._dragged=!1),t._thumb.addClass(t.toThemeProperty("jqx-fill-state-pressed"))},_mouseUp:function(e){var t=e.data.self
if(t.metroMode,t._isMouseDown=!1,t._thumb.removeClass(t.toThemeProperty("jqx-fill-state-pressed")),t._isDistanceTraveled){var i=t._wrapper,n=parseInt(i.css("margin-"+t._dir("pos")),10)||0
t._dropHandler(n)?t._switchButton(!t.checked):t._switchButton(t.checked,null,!0),t._isDistanceTraveled=!1}},_mouseMove:function(e){var t=e.data.self,i=t._getMouseCoordinates(e)
if(t._isMouseDown&&t._distanceTraveled(i)){var n=t._dir("pos"),r=t._wrapper,o=t._buttonStartPosition[n]+i[n]-t._mouseStartPosition[n]
o=t._validatePosition(o)
return t._dragged=!0,r.css("margin-"+t._dir("pos"),o),t._onLabel.css("visibility","visible"),t._offLabel.css("visibility","visible"),!1}},_distanceTraveled:function(e){if(this._isDistanceTraveled)return!0
if(this._isMouseDown){var t=this._mouseStartPosition,i=this._distanceRequired
return this._isDistanceTraveled=Math.abs(e.left-t.left)>=i||Math.abs(e.top-t.top)>=i,this._isDistanceTraveled}return!1},_validatePosition:function(e){var t=this._borders[this._dir("opposite")],i=-(this.host[this._dir("size")]()-this._thumb[this._dir("oSize")]())-t
return 0<e?0:i>e?i:e},_dropHandler:function(e){var t=-(this.host[this._dir("size")]()-this._thumb[this._dir("oSize")]()),i=Math.abs(t-0)
return Math.abs(e-this._buttonStartPosition[this._dir("pos")])>=i*(this.switchRatio/100)},_switchButton:function(e,t,i){this.metroMode?(this.host.css("overflow","hidden"),this._onLabel.css("visibility","visible"),this._offLabel.css("visibility","visible"),e?this._thumb.css("left","0px"):this._thumb.css("left","-2px")):(this._onLabel.css("visibility","visible"),this._offLabel.css("visibility","visible"))
var n=this._wrapper,r=this,o={},a=this._borders[this._dir("opposite")],s=0
void 0===t&&(t=this.animationEnabled?this.animationDuration:0),this.rtl?e?(s=this.host[this._dir("size")]()-this._thumb[this._dir("oSize")]()+a,this.metroMode&&(s+=5)):this.metroMode&&(s-=3):e||(s=this.host[this._dir("size")]()-this._thumb[this._dir("oSize")]()+a),o["margin-"+this._dir("pos")]=-s,e?r.host.addClass(r.toThemeProperty("jqx-switchbutton-on")):r.host.removeClass(r.toThemeProperty("jqx-switchbutton-on")),n.animate(o,t,function(){e?(r._onLabel.css("visibility","visible"),r._offLabel.css("visibility","hidden")):(r._onLabel.css("visibility","hidden"),r._offLabel.css("visibility","visible")),r.checked=e,i||r._handleEvent(!e)})},_handleEvent:function(e){e!==this.checked&&this._raiseEvent(2,{check:this.checked,checked:this.checked}),e?this._raiseEvent(0,{checked:this.checked}):this._raiseEvent(1,{checked:this.checked})},_disableSelection:function(){var t=this.host.find("*")
e.each(t,function(t,i){i.onselectstart=function(){return!1},e(i).addClass("jqx-disableselect")})},_getMouseCoordinates:function(e){return this._isTouchDevice&&e.originalEvent.touches?{left:e.originalEvent.touches[0].pageX,top:e.originalEvent.touches[0].pageY}:{left:e.pageX,top:e.pageY}},destroy:function(){this._removeEventHandlers(),this.host.removeClass(this.toThemeProperty("jqx-switchbutton")),this._wrapper.remove()},_raiseEvent:function(t,i){var n=e.Event(this._events[t])
return n.args=i,this.host.trigger(n)},_themeChanger:function(t,i,n){if(t){void 0===n&&(n=this.host)
for(var r=n[0].className.split(" "),o=[],a=[],s=n.children(),l=0;l<r.length;l+=1)r[l].indexOf(t)>=0&&(o.push(r[l]),a.push(r[l].replace(t,i)))
this._removeOldClasses(o,n),this._addNewClasses(a,n)
for(l=0;l<s.length;l+=1)this._themeChanger(t,i,e(s[l]))}},_removeOldClasses:function(e,t){for(var i=0;i<e.length;i+=1)t.removeClass(e[i])},_addNewClasses:function(e,t){for(var i=0;i<e.length;i+=1)t.addClass(e[i])},propertiesChangedHandler:function(e,t,i){i&&i.width&&i.height&&2==Object.keys(i).length&&(e._wrapper.css("margin-left","0px"),e._wrapper.css("margin-top","0px"),e._performLayout(),e._wrapper.css("left","0px"),e._wrapper.css("top","0px"),e._switchButton(this.checked,0,!0))},propertyChangedHandler:function(t,i,n,r){if(!(t.batchUpdate&&t.batchUpdate.width&&t.batchUpdate.height&&2==Object.keys(t.batchUpdate).length))switch(i){case"disabled":r?t.disable():t.enable()
break
case"switchRatio":t.switchRatio=parseInt(t.switchRatio,10)
break
case"checked":r?t.check():t.uncheck()
break
case"onLabel":t.setOnLabel(r)
break
case"offLabel":t.setOffLabel(r)
break
case"theme":e.jqx.utilities.setTheme(n,r,t.host)
break
case"width":case"height":case"thumbSize":case"orientation":t._wrapper.css("margin-left","0px"),t._wrapper.css("margin-top","0px"),t._performLayout(),t._wrapper.css("left","0px"),t._wrapper.css("top","0px"),t._switchButton(this.checked,0,!0)}}})}(jqxBaseFramework)
var mi=Object.freeze({})
!function(e){e.jqx.jqxWidget("jqxRibbon","",{}),e.extend(e.jqx._jqxRibbon.prototype,{defineInstance:function(){var t={width:null,height:"auto",mode:"default",position:"top",selectedIndex:-1,selectionMode:"click",popupCloseMode:"click",animationType:"fade",animationDelay:400,scrollPosition:"both",disabled:!1,rtl:!1,scrollStep:10,scrollDelay:30,reorder:!1,initContent:null,_roundedCorners:!0,_removeByDrag:!1,_suppressReorder:!0,events:["select","unselect","change","_removeByDrag","reorder"]}
return this===e.jqx._jqxRibbon.prototype?t:(e.extend(!0,this,t),t)},createInstance:function(){"none"!==this.host.css("display")&&!1!==document.body.contains(this.element)||(this._initiallyHidden=!0),this._browser=e.jqx.browser,"popup"!==this.mode&&-1===this.selectedIndex&&(this.selectedIndex=0),this._originalHTML=this.element.innerHTML,this._render(!0)},render:function(){this._render()},refresh:function(e){!0!==e&&this._render()},destroy:function(){this._removeHandlers(),this.host.remove()},selectAt:function(e){this._selectAt(e)},clearSelection:function(){-1!==this.selectedIndex&&this._clearSelection()},disableAt:function(t){this._items[t]._disabled=!0,e(this._items[t]).addClass(this.toThemeProperty("jqx-fill-state-disabled")),t===this.selectedIndex&&this._clearSelection()},enableAt:function(t){this._items[t]._disabled=!1,e(this._items[t]).removeClass(this.toThemeProperty("jqx-fill-state-disabled"))},hideAt:function(e){this._items[e].style.display="none",this._checkScrollButtons(),e===this.selectedIndex?this._clearSelection():this._updatePositions()},showAt:function(e){"horizontal"===this._orientation?this._items[e].style.display="inline-block":this._items[e].style.display="inherit",this._checkScrollButtons(),this._updatePositions()},val:function(e){if(!e)return this.selectedIndex
this._selectAt(e)},addAt:function(t,i){var n="jqx-ribbon-item jqx-ribbon-item-"+this.position,r="jqx-widget-content jqx-ribbon-content-section jqx-ribbon-content-section-"+this.position
this._removeHandlers()
var o=document.createElement("li")
o.innerHTML=i.title
var a=document.createElement("div")
if("string"==typeof i.content)a.innerHTML=i.content
else if(void 0!==i.content.length)try{if(void 0!==jQuery&&i.content instanceof jQuery)e(a).append(i.content)
else if(e.isArray(i.content))for(var s=0;s<i.content.length;s++)i.content[s].appendTo(a)
else for(;i.content.length>0;)a.appendChild(i.content[0])}catch(e){}else a.appendChild(i.content)
switch(this.position){case"top":n+=" jqx-rc-t",r+=" jqx-rc-b"
break
case"bottom":n+=" jqx-rc-b",r+=" jqx-rc-t"
break
case"left":n+=" jqx-rc-l",r+=" jqx-rc-r"
break
case"right":n+=" jqx-rc-r",r+=" jqx-rc-l"}"popup"===this.mode&&(r+=" jqx-ribbon-content-section-popup jqx-ribbon-content-section-"+this._orientation+"-popup"),!0===this.rtl&&(n+=" jqx-ribbon-item-rtl"),o.className=this.toThemeProperty(n),a.className=this.toThemeProperty(r),this._items.length-1>=t?(this._headerElement.insertBefore(o,this._items[t]),this._contentElement.insertBefore(a,this._contentSections[t])):(this._headerElement.appendChild(o),this._contentElement.appendChild(a)),this._updateItems(),this._addHandlers(),this._checkScrollButtons(),t<=this.selectedIndex&&this.selectedIndex<this._items.length-1&&this.selectedIndex++,this._updatePositions(),this.selectedIndex<0||(this._suppressSelectionEvents=!0,this._selectAt(this.selectedIndex,this.selectedIndex,!0))},removeAt:function(t){t===this.selectedIndex&&this._clearSelection(),e(this._items[t]).remove(),e(this._contentSections[t]).remove(),this._updateItems(!0),this._updatePositions(),this._checkScrollButtons()},updateAt:function(e,t){var i=this._items[e]
i.innerHTML=t.newTitle,this._contentSections[e].innerHTML=t.newContent,i._isInitialized=!1,this.initContent&&e===this.selectedIndex&&(this.initContent(e),i._isInitialized=!0),this._updatePositions()},setPopupLayout:function(e,t,i,n){var r=this._contentSections[e]
"popup"===this.mode&&(r.getAttribute("data-width")||(r.style.width&&r.setAttribute("data-width",r.style.width),r.style.height&&r.setAttribute("data-height",r.style.height)),i&&(r.style.width=this._toPx(i)),n&&(r.style.height=this._toPx(n)),r._layout=t,this._positionContent(e))},propertiesChangedHandler:function(e,t,i){i&&i.width&&i.height&&2===Object.keys(i).length&&(e.element.style.width=e._toPx(e.width),e.element.style.height=e._toPx(e.height),e._updateSize())},propertyChangedHandler:function(t,i,n,r){if(!(t.batchUpdate&&t.batchUpdate.width&&t.batchUpdate.height&&2===Object.keys(t.batchUpdate).length)&&r!==n)switch(i){case"width":case"height":t.element.style[i]=t._toPx(r),t._updateSize()
break
case"position":t._render()
break
case"mode":t._contentElement.style.width="auto",t._removeHandlers(null,n),t._render()
break
case"selectedIndex":t._selectAt(r,n)
break
case"selectionMode":t._removeHandlers(n),t._addHandlers()
break
case"scrollPosition":var o=t._scrollButtonNear,a=t._scrollButtonFar
e(o).removeClass(t.toThemeProperty("jqx-ribbon-scrollbutton-"+n+" jqx-rc-tr jqx-rc-bl jqx-rc-tl")),e(a).removeClass(t.toThemeProperty("jqx-ribbon-scrollbutton-"+n+" jqx-rc-tr jqx-rc-bl jqx-rc-br")),o.className+=" "+t.toThemeProperty("jqx-ribbon-scrollbutton-"+r),a.className+=" "+t.toThemeProperty("jqx-ribbon-scrollbutton-"+r),t._scrollButtonRc(o,a),t._checkScrollButtons(),t._updatePositions()
break
case"disabled":!0===r?(t._removeHandlers(),t.element.className+=" "+t.toThemeProperty("jqx-fill-state-disabled")):(t.host.removeClass(t.toThemeProperty("jqx-fill-state-disabled")),t._addHandlers())
break
case"theme":e.jqx.utilities.setTheme(n,r,t.host)
break
case"rtl":if(!0===r){t._headerElement.className+=" "+t.toThemeProperty("jqx-ribbon-header-rtl")
for(var s=0;s<t._items.length;s++)t._items[s].className+=" "+t.toThemeProperty("jqx-ribbon-item-rtl")}else{t._header.removeClass(t.toThemeProperty("jqx-ribbon-header-rtl"))
for(var l=0;l<t._items.length;l++)e(t._items[l]).removeClass(t.toThemeProperty("jqx-ribbon-item-rtl"))}t._positionSelectionToken(t.selectedIndex)}},_raiseEvent:function(t,i){var n,r=this.events[t],o=new e.Event(r)
o.owner=this,o.args=i
try{n=this.host.trigger(o)}catch(e){}return n},_render:function(t){var i=this
switch(!0!==t&&i._removeHandlers(),i._selectionTokenOffsetY=0,i._browser.browser){case"mozilla":i._browserWidthRtlFlag=0,i._browserScrollRtlFlag=1,i._selectionTokenOffsetX=1
break
case"msie":i._browserWidthRtlFlag=0,i._browserScrollRtlFlag=-1,"8.0"===i._browser.version?i._selectionTokenOffsetX=1:"7.0"===i._browser.version?(i._selectionTokenOffsetX=0,"popup"!==i.mode||"bottom"!==i.position&&"right"!==i.position||(i._selectionTokenOffsetY=2)):i._selectionTokenOffsetX=0
break
default:i._browserWidthRtlFlag=1,i._browserScrollRtlFlag=1,i._selectionTokenOffsetX=0}if(!0===t){var n=i.host.children()
i._headerElement=n[0],i._header=e(n[0]),i._contentElement=n[1],i._content=e(n[1]),i._checkStructure(n)}i._headerElement.style.float="none",i._contentElement.style.padding="0px",i.element.style.width=i._toPx(i.width),i.element.style.height=i._toPx(i.height),"bottom"!==i.position&&"right"!==i.position||i.element.insertBefore(i._contentElement,i._headerElement),"top"===i.position||"bottom"===i.position?i._orientation="horizontal":i._orientation="vertical","right"===i.position?i._headerElement.style.float="right":"left"===i.position&&(i._headerElement.style.float="left"),i._contentSections=i._content.children(),e.each(i._contentSections,function(){this.getAttribute("data-width")&&(this.style.width=this.getAttribute("data-width"),this.style.height=this.getAttribute("data-height"),this.removeAttribute("data-width"),this.removeAttribute("data-height"))}),!0===t&&(i._selectionToken=document.createElement("div"),i._selectionToken.className=i.toThemeProperty("jqx-widget-content jqx-ribbon-selection-token jqx-ribbon-selection-token-"+i.position),i.element.appendChild(i._selectionToken)),i._updateItems(),!0!==i._initiallyHidden&&i._addClasses(),!0===t&&(i._appendScrollButtons(),i._checkScrollButtons()),i._allowSelection=!0,-1!==i.selectedIndex&&(i._items[i.selectedIndex].className+=" "+i.toThemeProperty("jqx-widget-content jqx-ribbon-item-selected"),i._positionSelectionToken(i.selectedIndex),i._contentSections[i.selectedIndex].style.display="block",i.initContent&&(i.initContent(i.selectedIndex),i._items[i.selectedIndex]._isInitialized=!0)),i.disabled?i.element.className+=" "+i.toThemeProperty("jqx-fill-state-disabled"):i._addHandlers(),e.jqx.utilities.resize(i.host,function(){i._initiallyHidden&&(i._initiallyHidden=!1,i._addClasses(),-1!==i.selectedIndex&&(i._items[i.selectedIndex].className+=" "+i.toThemeProperty("jqx-widget-content jqx-ribbon-item-selected"))),i._updateSize(!0)})},_updateSize:function(e){if("7.0"===this._browser.version&&"msie"===this._browser.browser)if("horizontal"===this._orientation)this._header.css("width",this.host.width()-parseInt(this._header.css("padding-left"),10)-parseInt(this._header.css("padding-right"),10)-parseInt(this._header.css("border-left-width"),10)-parseInt(this._header.css("border-right-width"),10)),this._contentSections.width(this._content.width()-parseInt(this._contentSections.css("border-left-width"),10)-parseInt(this._contentSections.css("border-right-width"),10)-parseInt(this._contentSections.css("padding-left"),10)-parseInt(this._contentSections.css("padding-right"),10)),"default"===this.mode&&"string"==typeof this.height&&-1!==this.height.indexOf("%")&&this._contentSections.height(this._content.height()-this._header.height()-parseInt(this._contentSections.css("border-bottom-width"),10)-parseInt(this._contentSections.css("border-top-width"),10)-1)
else if(this._header.css("height",this.host.height()-parseInt(this._header.css("padding-top"),10)-parseInt(this._header.css("padding-bottom"),10)-parseInt(this._header.css("border-top-width"),10)-parseInt(this._header.css("border-bottom-width"),10)),this._contentSections.height(this._content.height()-parseInt(this._contentSections.css("border-top-width"),10)-parseInt(this._contentSections.css("border-bottom-width"),10)-parseInt(this._contentSections.css("padding-top"),10)-parseInt(this._contentSections.css("padding-bottom"),10)),"default"===this.mode&&"string"==typeof this.width&&-1!==this.height.indexOf("%")){var t="left"===this.position?parseInt(this._contentSections.css("border-left-width"),10)+parseInt(this._contentSections.css("border-right-width"),10)+1:0
this._contentSections.width(this._content.width()-this._header.width()-t)}this._checkScrollButtons(!0),this._updatePositions(void 0,e),"popup"===this.mode&&this._positionPopup()},_stopAnimation:function(){if(!this._allowSelection){this.selectedIndex=this._animatingIndex
var t=e(this._contentSections[this._animatingIndex])
this._initAnimate(t),t.animate("finish"),this._clearSelection(!0,this._animatingIndex),this._allowSelection=!0}},_selectAt:function(t,i,n){var r=this
if(void 0===i&&(i=r.selectedIndex),(t!==i||!0===n)&&(r._stopAnimation(),r._allowSelection)){if(r._animatingIndex=t,-1!==r.selectedIndex&&r._clearSelection(!0,i),r._allowSelection=!1,r._selecting=t,"click"===r.selectionMode&&e(r._items[t]).removeClass(r.toThemeProperty("jqx-fill-state-hover jqx-ribbon-item-hover")),"popup"===r.mode&&r._roundedCorners){var o,a
switch(r._header.removeClass(r.toThemeProperty("jqx-rc-all")),r.position){case"top":o="jqx-rc-t",a="jqx-rc-b"
break
case"bottom":o="jqx-rc-b",a="jqx-rc-t"
break
case"left":o="jqx-rc-l",a="jqx-rc-r"
break
case"right":o="jqx-rc-r",a="jqx-rc-l"}r._headerElement.className+=" "+r.toThemeProperty(o)
for(var s=0;s<r._items.length;s++)r._items[s].className+=" "+r.toThemeProperty(o),r._contentSections[s].className+=" "+r.toThemeProperty(a)}var l
switch(r._items[t].className+=" "+r.toThemeProperty("jqx-widget-content jqx-ribbon-item-selected"),r._selectionToken.style.display="block",r._updatePositions(t),r.animationType){case"fade":l=e(r._contentSections[t]),r._initAnimate(l),"none"===l.css("display")?l.fadeIn({duration:r.animationDelay,complete:function(){r._animationComplete(t,i)}}):l.fadeOut({duration:r.animationDelay,complete:function(){r._animationComplete(t,i)}})
break
case"slide":l=e(r._contentSections[t])
var d=r.position
"top"===d?d="up":"bottom"===d&&(d="down"),r.slideAnimation=r._slide(l,{mode:"show",direction:d,duration:r.animationDelay},t,i)
break
case"none":r._contentSections[t].style.display="block",r._animationComplete(t,i)}}},_clearSelection:function(t,i){var n=this
if("popup"===n.mode&&n._roundedCorners&&(n._headerElement.className+=" "+n.toThemeProperty("jqx-rc-all")),n._selecting=-1,void 0===i&&(i=n.selectedIndex),e(n._items[i]).removeClass(n.toThemeProperty("jqx-widget-content jqx-ribbon-item-selected")),n._selectionToken.style.display="none",!0!==t&&"none"!==n.animationType){var r=e(n._contentSections[i])
if("fade"===n.animationType)n._initAnimate(r),r.fadeOut({duration:n.animationDelay,complete:function(){n._clearSelectionComplete(i)}})
else if("slide"===n.animationType){var o=n.position
"top"===o?o="up":"bottom"===o&&(o="down"),n._stopAnimation(),i=n.selectedIndex,n.slideAnimation=n._slide(r,{mode:"hide",direction:o,duration:n.animationDelay},i),n.selectedIndex=-1}}else{if(-1===i)return
n._contentSections[i].style.display="none",n._clearSelectionComplete(i,t)}},_addHandlers:function(){var t,i=this,n=i.element.id,r=!1
function o(e){var t=i._closest(e.target,"li"),n=t._index
i._items[n]._disabled||(n!==i.selectedIndex?i._selectAt(n):"popup"===i.mode&&"none"!==i.popupCloseMode&&(t.className+=" "+i.toThemeProperty("jqx-fill-state-hover jqx-ribbon-item-hover"),i._clearSelection()))}function a(n){if(!0===i.reorder&&!0===r){for(var o=i._closest(n.target,"li")._index,a=i._items[t].innerHTML,s=i._contentSections[t].childNodes,l=[];s.length>0;)l.push(e(s[0]).detach())
i._suppressSelectionEvents=!0,i._oldReorderIndex=t,i.removeAt(t),i.clearSelection(),i.addAt(o,{title:a,content:l}),i.selectAt(o),setTimeout(function(){e(i._items[o]).trigger("mousedown")},0)}else{var d=i._closest(n.target,"li")
g(d._index)&&(d.className+=" "+i.toThemeProperty("jqx-fill-state-hover jqx-ribbon-item-hover"))}}function s(t){var n=i._closest(t.target,"li")
g(n._index)&&e(n).removeClass(i.toThemeProperty("jqx-fill-state-hover jqx-ribbon-item-hover"))}function l(e){if("#document"!==e.target.nodeName){var n=i._closest(e.target,"li")
!0!==i.reorder&&!0!==i._removeByDrag||n._index!==i.selectedIndex||(r=!0,t=n._index,n.style.cursor="move")}}function d(){"mouseLeave"===i.popupCloseMode&&"popup"===i.mode&&i._clearSelection()}function c(e){var t=i._closest(e.target,"li")._index
i._items[t]._disabled||t===i.selectedIndex||i._selectAt(t)}function h(e){var t=i._closest(e.target,"li")._index
i._items[t]._disabled||"popup"===i.mode&&"none"!==i.popupCloseMode&&i._clearSelection()}function u(){"mouseLeave"===i.popupCloseMode&&"popup"===i.mode&&i._clearSelection()}var p,m,f=function(t){if("click"===i.popupCloseMode&&"popup"===i.mode&&-1!==i.selectedIndex){if("svg"===t.target.tagName)return
var r=i._closest(t.target,void 0,"jqx-ribbon")
if(void 0!==r&&r.getAttribute("id")!==n)return void i._clearSelection()
if(void 0===t.target.className||-1!==t.target.className.indexOf("jqx-ribbon-content-popup"))return void i._clearSelection()
if(e(t.target).ischildof(i.host))return
var o=!1,a=[],s=function(e){e.parentElement&&(a.push(e.parentElement),s(e.parentElement))}
s(t.target),e.each(a,function(){if(void 0!==this.className&&this.className.indexOf){if(-1!==this.className.indexOf("jqx-ribbon"))return o=!0,!1
if(-1!==this.className.indexOf("jqx-ribbon"))return n===this.id&&(o=!0),!1}}),o||i._clearSelection()}}
if("click"===i.selectionMode){for(var g=function(e){return(i._selecting!==e&&!1===i._allowSelection||(-1===i._selecting||i.selectedIndex!==e)&&!0===i._allowSelection)&&!i._items[e]._disabled},v=0;v<i._items.length;v++){var b=i._items[v]
i.addHandler(b,"click.ribbon"+n,o),i.addHandler(b,"mouseenter.ribbon"+n,a),i.addHandler(b,"mouseleave.ribbon"+n,s),i.addHandler(b,"mousedown.ribbon"+n,l)}if("popup"===i.mode){i.addHandler(i.host,"mouseleave.ribbon"+n,function(){"mouseLeave"===i.popupCloseMode&&"popup"===i.mode&&i._clearSelection()})
for(var y=0;y<i._contentSections.length;y++)i.addHandler(i._contentSections[y],"mouseleave.ribbon"+n,d)
i.addHandler(e(document),"mousedown.ribbon"+n,function(e){f(e)})}if(!0===i._removeByDrag)for(var _=0;_<i._items.length;_++)i._items[_].className+=" "+i.toThemeProperty("jqx-ribbon-item-docking-layout")
i.addHandler(document,"mouseup.ribbon"+n,function(){r=!1
for(var e=0;e<i._items.length;e++)i._items[e].style.cursor=""}),i.addHandler(i._header,"mouseleave.ribbon"+n,function(e){!0===i._removeByDrag&&!0===r&&(i._raiseEvent("3",{draggedIndex:t,x:e.pageX,y:e.pageY}),i._items.length>1&&i.removeAt(t),r=!1,e.target.style.cursor="")})}else if("hover"===i.selectionMode){for(var w=0;w<i._items.length;w++){var x=i._items[w]
i.addHandler(x,"mouseenter.ribbon"+n,c),"popup"===i.mode&&i.addHandler(x,"click.ribbon"+n,h)}if("popup"===i.mode){i.addHandler(i.host,"mouseleave.ribbon"+n,function(){"mouseLeave"===i.popupCloseMode&&"popup"===i.mode&&i._clearSelection()})
for(var C=0;C<i._contentSections.length;C++)i.addHandler(i._contentSections,"mouseleave.ribbon"+n,u)
i.addHandler(e(document),"mousedown.ribbon"+n,function(e){f(e)})}}e.jqx.mobile.isTouchDevice()?(p="touchstart",m="touchend"):(p="mousedown",m="mouseup"),i.addHandler(i._scrollButtonNear,p+".ribbon"+n,function(){return"horizontal"===i._orientation?i._timeoutNear=setInterval(function(){var e=i._headerElement.scrollLeft,t=i.rtl&&"msie"===i._browser.browser?-1:1
i._headerElement.scrollLeft=e-i.scrollStep*t,i._updatePositions()},i.scrollDelay):i._timeoutNear=setInterval(function(){var e=i._headerElement.scrollTop
i._headerElement.scrollTop=e-i.scrollStep,i._updatePositions()},i.scrollDelay),!1}),i.addHandler(i._scrollButtonFar,p+".ribbon"+n,function(){return"horizontal"===i._orientation?i._timeoutFar=setInterval(function(){var e=i._headerElement.scrollLeft,t=i.rtl&&"msie"===i._browser.browser?-1:1
i._headerElement.scrollLeft=e+i.scrollStep*t,i._updatePositions()},i.scrollDelay):i._timeoutFar=setInterval(function(){var e=i._headerElement.scrollTop
i._headerElement.scrollTop=e+i.scrollStep,i._updatePositions()},i.scrollDelay),!1}),i.addHandler(e(document),m+".ribbon"+n,function(){clearInterval(i._timeoutNear),clearInterval(i._timeoutFar)})},_removeHandlers:function(t,i){var n,r,o=this.element.id
t||(t=this.selectionMode),i||(i=this.mode)
for(var a=0;a<this._items.length;a++){var s=this._items[a]
this.removeHandler(s,"mouseenter.ribbon"+o),"click"===t&&(this.removeHandler(s,"click.ribbon"+o),this.removeHandler(s,"mouseleave.ribbon"+o),this.removeHandler(s,"mousedown.ribbon"+o))}"click"===t?(this.removeHandler(document,"mouseup.ribbon"+o),this.removeHandler(this._header,"mouseleave.ribbon"+o)):"hover"===t&&"popup"===i&&this.removeHandler(this.host,"mouseleave.ribbon"+o),e.jqx.mobile.isTouchDevice()?(n="touchstart",r="touchend"):(n="mousedown",r="mouseup"),this.removeHandler(this._scrollButtonNear,n+".ribbon"+o),this.removeHandler(this._scrollButtonFar,n+".ribbon"+o),this.removeHandler(e(document),r+".ribbon"+o)},_checkStructure:function(e){if(2!==e.length)throw new Error("jqxRibbon: Invalid HTML structure. You need to add a ul and a div to the widget container.")
if(this._header.children().length!==this._content.children().length)throw new Error("jqxRibbon: Invalid HTML structure. For each list item you must have a corresponding div element.")},_addClasses:function(){var t,i,n,r="jqx-widget-content jqx-ribbon-content-section jqx-ribbon-content-section-"+this.position,o="jqx-widget-content jqx-ribbon-content jqx-ribbon-content-"+this._orientation,a="jqx-widget-header jqx-disableselect jqx-ribbon-header jqx-ribbon-header-"+this._orientation,s="jqx-ribbon-item jqx-ribbon-item-"+this.position
if(this._content.removeClass(),this._header.removeClass(this.toThemeProperty("jqx-rc-all jqx-widget-header jqx-disableselect jqx-rc-t jqx-rc-b jqx-rc-l jqx-rc-r jqx-rc-all jqx-ribbon-header-"+this._orientation+"-popup jqx-ribbon-header-bottom jqx-ribbon-header-auto jqx-ribbon-header-right jqx-ribbon-header-rtl")),this.host.removeClass(),this._roundedCorners)switch(this.position){case"top":a+=" jqx-rc-t",s+=" jqx-rc-t",r+=" jqx-rc-b"
break
case"bottom":a+=" jqx-rc-b",s+=" jqx-rc-b",r+=" jqx-rc-t"
break
case"left":a+=" jqx-rc-l",s+=" jqx-rc-l",r+=" jqx-rc-r"
break
case"right":a+=" jqx-rc-r",s+=" jqx-rc-r",r+=" jqx-rc-l"}else switch(this.position){case"top":s+=" jqx-rc-t"
break
case"bottom":s+=" jqx-rc-b"
break
case"left":s+=" jqx-rc-l"
break
case"right":s+=" jqx-rc-r"}!0===this.rtl&&(a+=" jqx-ribbon-header-rtl",s+=" jqx-ribbon-item-rtl"),this.element.className+=" "+this.toThemeProperty("jqx-widget jqx-ribbon"),this._headerElement.className+=" "+this.toThemeProperty(a),this._contentElement.className+=" "+this.toThemeProperty(o)
for(var l=0;l<this._items.length;l++){var d=e(this._contentSections[l]),c=e(this._items[l])
d.removeClass(),c.removeClass(this.toThemeProperty("jqx-fill-state-disabled jqx-ribbon-item-rtl jqx-widget-content jqx-ribbon-item-selected jqx-rc-t jqx-rc-b jqx-rc-l jqx-rc-r jqx-ribbon-item-docking-layout jqx-ribbon-item jqx-ribbon-item-"+this.position)),"popup"===this.mode&&(r+=" jqx-ribbon-content-section-popup jqx-ribbon-content-popup-"+this.position+" jqx-ribbon-content-section-"+this._orientation+"-popup"),this._contentSections[l].className+=" "+this.toThemeProperty(r),this._items[l].className+=" "+this.toThemeProperty(s)}("popup"===this.mode?(-1===this.selectedIndex&&this._roundedCorners&&(this.element.className+=" "+this.toThemeProperty("jqx-rc-all"),this._headerElement.className+=" "+this.toThemeProperty("jqx-rc-all")),this.element.className+=" "+this.toThemeProperty("jqx-ribbon-popup"),this._headerElement.className+=" "+this.toThemeProperty("jqx-ribbon-header-"+this._orientation+"-popup"),this._contentElement.className+=" "+this.toThemeProperty("jqx-ribbon-content-popup"),this._positionPopup()):"horizontal"===this._orientation?"auto"!==this.height?(i=this._headerElement.offsetHeight,"top"===this.position?this._contentElement.style.paddingTop=this._toPx(i):this._headerElement.className+=" "+this.toThemeProperty("jqx-ribbon-header-bottom")):this._headerElement.className+=" "+this.toThemeProperty("jqx-ribbon-header-auto"):"vertical"===this._orientation&&("auto"!==this.width?(t=this._headerElement.offsetWidth,"left"===this.position?this._contentElement.style.paddingLeft=this._toPx(t):(this._headerElement.className+=" "+this.toThemeProperty("jqx-ribbon-header-right"),this._contentElement.style.paddingRight=this._toPx(t))):(this.element.className+=" "+this.toThemeProperty("jqx-ribbon-auto"),this._headerElement.className+=" "+this.toThemeProperty("jqx-ribbon-header-auto"),this._contentElement.className+=" "+this.toThemeProperty("jqx-ribbon-content-auto-width"))),"7.0"===this._browser.version&&"msie"===this._browser.browser)&&("horizontal"===this._orientation?(this._header.css("width",this.host.width()-parseInt(this._header.css("padding-left"),10)-parseInt(this._header.css("padding-right"),10)-parseInt(this._header.css("border-left-width"),10)-parseInt(this._header.css("border-right-width"),10)),this._items.height(this._items.height()-parseInt(this._items.css("padding-top"),10)-parseInt(this._items.css("padding-bottom"),10)-parseInt(this._items.css("border-top-width"),10)-parseInt(this._items.css("border-bottom-width"),10)),this._contentSections.width(this._contentSections.width()-parseInt(this._contentSections.css("border-left-width"),10)-parseInt(this._contentSections.css("border-right-width"),10)-parseInt(this._contentSections.css("padding-left"),10)-parseInt(this._contentSections.css("padding-right"),10)),"default"===this.mode&&"auto"!==this.height&&("top"===this.position?this._contentSections.css("padding-top",i):this._contentSections.css("padding-bottom",i),this._content.css("height",this.host.height()+2),this._contentSections.css("height",this._content.height()-parseInt(this._contentSections.css("border-bottom-width"),10)-parseInt(this._contentSections.css("border-top-width"),10)-1))):("left"===this.position?(this._contentElement.className+=" "+this.toThemeProperty("jqx-ribbon-content-left"),n=parseInt(this._contentSections.css("border-left-width"),10)+parseInt(this._contentSections.css("border-right-width"),10)+1):(this._contentElement.className+=" "+this.toThemeProperty("jqx-ribbon-content-right"),n=0),this._header.css("height",this.host.height()-parseInt(this._header.css("padding-top"),10)-parseInt(this._header.css("padding-bottom"),10)-parseInt(this._header.css("border-top-width"),10)-parseInt(this._header.css("border-bottom-width"),10)),this._items.width(this._items.width()-parseInt(this._items.css("padding-left"),10)-parseInt(this._items.css("padding-right"),10)-parseInt(this._items.css("border-left-width"),10)-parseInt(this._items.css("border-right-width"),10)),this._contentSections.height(this._contentSections.height()-parseInt(this._contentSections.css("border-top-width"),10)-parseInt(this._contentSections.css("border-bottom-width"),10)-parseInt(this._contentSections.css("padding-top"),10)-parseInt(this._contentSections.css("padding-bottom"),10)),"default"===this.mode&&"auto"!==this.width&&("left"===this.position?this._contentSections.css("padding-left",t):this._contentSections.css("padding-right",t),this._contentSections.width(this._content.width()-this._header.width()-n))))},_positionPopup:function(){var e="7.0"===this._browser.version&&"msie"===this._browser.browser
switch(this.position){case"top":this._contentElement.style.top=this._toPx(this._headerElement.offsetHeight)
break
case"bottom":this._contentElement.style.bottom=e?this._toPx(this._height(this._headerElement)):this._toPx(this._headerElement.offsetHeight)
break
case"left":this._contentElement.style.left=this._toPx(this._headerElement.offsetWidth)
break
case"right":this._contentElement.style.right=this._header.outerWidth()+"px"}},_appendScrollButtons:function(){var e=this,t="horizontal"===e._orientation?["left","right"]:["up","down"]
function i(t,i,n){t.className=e.toThemeProperty("jqx-ribbon-scrollbutton jqx-ribbon-scrollbutton-"+e.position+" jqx-ribbon-scrollbutton-"+e.scrollPosition+" jqx-widget-header "+i),t.innerHTML='<div class="'+e.toThemeProperty("jqx-ribbon-scrollbutton-inner "+n)+'"></div>',"horizontal"===e._orientation?t.style.height=e._toPx(e._height(e._headerElement)):t.style.width=e._toPx(e._width(e._headerElement)),e.element.appendChild(t)}var n=document.createElement("div")
i(n,"jqx-ribbon-scrollbutton-lt","jqx-icon-arrow-"+t[0])
var r=document.createElement("div")
if(i(r,"jqx-ribbon-scrollbutton-rb","jqx-icon-arrow-"+t[1]),e._scrollButtonRc(n,r),e._scrollButtonNear=n,e._scrollButtonFar=r,e.roundedCorners)switch(e.position){case"top":case"bottom":n.style.marginLeft="-1px",r.style.marginRight="-1px"
break
case"right":case"left":n.style.marginTop="-1px",r.style.marginBottom="-1px"}},_scrollButtonRc:function(e,t){if(this.roundedCorners)switch(this.position){case"top":"far"!==this.scrollPosition&&(e.className+=" "+this.toThemeProperty("jqx-rc-tl")),"near"!==this.scrollPosition&&(t.className+=" "+this.toThemeProperty("jqx-rc-tr"))
break
case"bottom":"far"!==this.scrollPosition&&(e.className+=" "+this.toThemeProperty("jqx-rc-bl")),"near"!==this.scrollPosition&&(t.className+=" "+this.toThemeProperty("jqx-rc-br"))
break
case"left":"far"!==this.scrollPosition&&(e.className+=" "+this.toThemeProperty("jqx-rc-tl")),"near"!==this.scrollPosition&&(t.className+=" "+this.toThemeProperty("jqx-rc-bl"))
break
case"right":"far"!==this.scrollPosition&&(e.className+=" "+this.toThemeProperty("jqx-rc-tr")),"near"!==this.scrollPosition&&(t.className+=" "+this.toThemeProperty("jqx-rc-br"))}},_updateItems:function(e){function t(){i._items[n]._index===i.selectedIndex&&(i.selectedIndex=n)}var i=this
i._items=i._header.children(),i._contentSections=i._content.children()
for(var n=0;n<i._items.length;n++){var r=i._items[n]
r.setAttribute("unselectable","on"),void 0===r._index&&(r._disabled=!1,r._isInitialized=!1,i._contentSections[n]._layout="default"),!0===e&&t(),r._index=n,!0!==e&&t(),i._contentSections[n]&&(i._contentSections[n]._index=n)}},_positionContent:function(t){var i,n,r,o,a,s,l=this,d=l._contentSections[t]
"horizontal"===l._orientation?(i=l.element.offsetWidth,n=l.host.offset().left,r=l._items[t].offsetWidth,o=e(l._items[t]).offset().left,a=d.offsetWidth||parseInt(d.style.width,10),s="left"):(i=l.element.offsetHeight,n=l.host.offset().top,r=l._items[t].offsetHeight,o=e(l._items[t]).offset().top,a=d.offsetHeight||parseInt(d.style.height,10),s="top")
var c=function(e){e<0?e=0:e+a>i&&(e=i-a),d.style[s]=l._toPx(e)}
switch(d._layout){case"near":c(o-n)
break
case"far":c(o-n-(a-r))
break
case"center":c(o-n-(a-r)/2)
break
default:if("right"===l.position)for(var h=0;h<l._contentSections.length;h++)l._contentSections[h].style.right="1px"
else d.style[s]=""}},_checkScrollButtons:function(t){var i=this,n=0
e.each(i._items,function(){var t=e(this)
"none"!==t.css("display")&&(n+="horizontal"===i._orientation?t.outerWidth(!0):t.outerHeight(!0))})
var r="horizontal"===i._orientation?["margin-left","margin-right"]:["margin-top","margin-bottom"],o="horizontal"===i._orientation?i._width(i._headerElement):i._height(i._headerElement)
if(i._itemMargins||(i._itemMargins=[],i._itemMargins.push(e(i._items[0]).css(r[0])),i._itemMargins.push(e(i._items[i._items.length-1]).css(r[1]))),n>o){i._scrollButtonNear.style.display="block",i._scrollButtonFar.style.display="block"
var a=i.rtl?i._itemMargins[0]:17,s=i.rtl?i._itemMargins[0]:17
switch(i.scrollPosition){case"near":s=0,a=34
break
case"far":s=34,a=17}i._items[0]&&(i._items[0].style[r[0]]=i._toPx(a)),i._items[i._items.length-1]&&(i._items[i._items.length-1].style[r[1]]=i._toPx(s))}else i._items[0]&&(i._items[0].style[r[0]]=i._toPx(i._itemMargins[0])),i._items[i._items.length-1]&&(i._items[i._items.length-1].style[r[1]]=i._toPx(i._itemMargins[1])),i._scrollButtonNear.style.display="none",i._scrollButtonFar.style.display="none"
if(!0===t)if("horizontal"===i._orientation){var l=i._toPx(i._height(i._headerElement))
i._scrollButtonNear.style.height=l,i._scrollButtonFar.style.height=l}else{var d=i._toPx(i._width(i._headerElement))
i._scrollButtonNear.style.width=d,i._scrollButtonFar.style.width=d}},_positionSelectionToken:function(t){if(-1!==t){var i,n,r,o,a,s=e(this._items[t])
if(0===s.length)return
if("horizontal"===this._orientation){var l,d
!0===this.rtl?(l=1===this._browserWidthRtlFlag?this._headerElement.scrollWidth-this._headerElement.clientWidth:0,d=this._browserScrollRtlFlag):(l=0,d=1),r=s[0].offsetLeft+l-this._headerElement.scrollLeft*d-this._selectionTokenOffsetX+2,a=this._headerElement.offsetHeight-1
var c=this._width(s[0])+parseInt(s.css("padding-left"),10)+parseInt(s.css("padding-right"),10)
"top"===this.position?(i=a-this._selectionTokenOffsetY,n=""):(i="",n=a-this._selectionTokenOffsetY),this._selectionToken.style.top=this._toPx(i),this._selectionToken.style.bottom=this._toPx(n),this._selectionToken.style.left=this._toPx(r),this._selectionToken.style.width=this._toPx(c)}else{i=s[0].offsetTop-this._headerElement.scrollTop-this._selectionTokenOffsetX+2,a=this._headerElement.offsetWidth-1
var h=this._height(s[0])+parseInt(s.css("padding-top"),10)+parseInt(s.css("padding-bottom"),10)
"left"===this.position?(r=a-this._selectionTokenOffsetY,o=""):(r="",o=a-this._selectionTokenOffsetY),this._selectionToken.style.top=this._toPx(i),this._selectionToken.style.left=this._toPx(r),this._selectionToken.style.right=this._toPx(o),this._selectionToken.style.height=this._toPx(h)}}},_updatePositions:function(e,t){if(isNaN(e)&&(e=!0===t&&null!==this._selecting&&this._selecting>=0?this._selecting:this.selectedIndex),-1!==e&&(this._positionSelectionToken(e),"popup"===this.mode&&"default"!==this._contentSections[e]._layout&&this._positionContent(e),"popup"===this.mode&&("left"===this.position||"right"===this.position))){this._contentElement.style.width="auto"
var i=this._contentSections[e].style.width&&this._contentSections[e].style.width.indexOf("%")>=0
this._contentElement.style.width=i?this._toPx(this._width(this._contentSections[e])-this._width(this._headerElement)):this._toPx(this._width(this._contentSections[e]))}},_animationComplete:function(e,t){var i=-1!==t?t:null
this._contentElement.style.pointerEvents="auto",this.selectedIndex=e,!0!==this._suppressSelectionEvents?(this._raiseEvent("0",{selectedIndex:e}),this._raiseEvent("2",{unselectedIndex:i,selectedIndex:e})):(!0!==this._suppressReorder&&void 0!==this._oldReorderIndex&&e!==this._oldReorderIndex&&this._raiseEvent("4",{newIndex:e,oldIndex:this._oldReorderIndex}),this._suppressSelectionEvents=!1,this._suppressReorder=!1),this.initContent&&!1===this._items[e]._isInitialized&&(this.initContent(e),this._items[e]._isInitialized=!0),this._allowSelection=!0,this._selecting=null},_clearSelectionComplete:function(e,t){this._selecting=null,void 0===e&&(e=this.selectedIndex),-1!==e&&(this._contentElement.style.pointerEvents="none",!0!==this._suppressSelectionEvents&&this._raiseEvent("1",{unselectedIndex:e})),!0!==t&&(this.selectedIndex=-1)},_slide:function(t,i,n,r){var o=this
if(o.activeAnimations||(o.activeAnimations=[]),o.activeAnimations.length>0)for(var a=0;a<o.activeAnimations.length;a++)o.activeAnimations[a].clearQueue(),o.activeAnimations[a].finish()
else t.clearQueue(),t.animate("finish")
var s,l=function(e,t){for(var i=0;i<t.length;i++)null!==t[i]&&e.length>0&&e.data("ui-effects-"+t[i],e[0].style[t[i]])},d=function(e,t){var i,n
for(n=0;n<t.length;n++)null!==t[n]&&(void 0===(i=e.data("ui-effects-"+t[n]))&&(i=""),e.css(t[n],i))},c=function(t){if(t.parent().is(".ui-effects-wrapper"))return t.parent()
var i={width:t.outerWidth(!0),height:t.outerHeight(!0),float:t.css("float")},n=e("<div></div>").addClass("ui-effects-wrapper").css({fontSize:"100%",background:"transparent",border:"none",margin:0,padding:0}),r={width:t.width(),height:t.height()},o=document.activeElement
try{o.id}catch(e){o=document.body}return t.wrap(n),(t[0]===o||e.contains(t[0],o))&&e(o).focus(),n=t.parent(),"static"===t.css("position")?(n.css({position:"relative"}),t.css({position:"relative"})):(e.extend(i,{position:t.css("position"),zIndex:t.css("z-index")}),e.each(["top","left","bottom","right"],function(e,n){i[n]=t.css(n),isNaN(parseInt(i[n],10))&&(i[n]="auto")}),t.css({position:"relative",top:0,left:0,right:"auto",bottom:"auto"})),t.css(r),n.css(i).show()},h=function(t){var i=document.activeElement
return t.parent().is(".ui-effects-wrapper")&&(t.parent().replaceWith(t),(t[0]===i||e.contains(t[0],i))&&e(i).focus()),t},u=["position","top","bottom","left","right","width","height"],p=i.mode,m="show"===p,f=i.direction||"left",g="up"===f||"down"===f?"top":"left",v="up"===f||"left"===f,b={}
l(t,u),t.show(),s=i.distance||t["top"===g?"outerHeight":"outerWidth"](!0),c(t).css({overflow:"hidden"}),m&&t.css(g,v?isNaN(s)?"-"+s:-s:s),b[g]=(m?v?"+=":"-=":v?"-=":"+=")+s
return o.activeAnimations.push(t),t.animate(b,{duration:i.duration,easing:i.easing,complete:function(){o.activeAnimations.pop(t),"show"===p?o._animationComplete(n,r):"hide"===p&&(t.hide(),o._clearSelectionComplete(n)),d(t,u),h(t)}}),function(){t.clearQueue(),t.stop(!0,!0)}},_toPx:function(e){return"number"==typeof e?e+"px":e},_width:function(t){var i=e(t),n=i.css("border-left-width"),r=i.css("border-right-width"),o=parseInt(i.css("padding-left"),10),a=parseInt(i.css("padding-right"),10),s="none"===i.css("display")
s&&(t.style.display="block"),n=-1===n.indexOf("px")?1:parseInt(n,10),r=-1===r.indexOf("px")?1:parseInt(r,10)
var l=t.offsetWidth-(n+r+o+a)
return s&&(t.style.display="none"),Math.max(0,l)},_height:function(t){var i=e(t),n=i.css("border-top-width"),r=i.css("border-bottom-width"),o=parseInt(i.css("padding-top"),10),a=parseInt(i.css("padding-bottom"),10)
n=-1===n.indexOf("px")?1:parseInt(n,10),r=-1===r.indexOf("px")?1:parseInt(r,10)
var s=t.offsetHeight-(n+r+o+a)
return Math.max(0,s)},_closest:function(e,t,i){if(t){if(e.nodeName.toLowerCase()===t)return e
for(var n=e.parentNode;null!==n&&"#document"!==n.nodeName;){if(n.nodeName.toLowerCase()===t)return n
n=n.parentNode}}if(i){if((" "+e.className+" ").replace(/[\n\t]/g," ").indexOf(" "+i+" ")>-1)return e
for(var r=e.parentNode;null!==r&&"#document"!==r.nodeName;){if((" "+r.className+" ").replace(/[\n\t]/g," ").indexOf(" "+i+" ")>-1)return r
r=r.parentNode}}},_initAnimate:function(e){if(e.initAnimate){if(e.animate)return
e.initAnimate()}}})}(jqxBaseFramework)
var fi=Object.freeze({})
!function(e){e.jqx.jqxWidget("jqxProgressBar","",{}),e.extend(e.jqx._jqxProgressBar.prototype,{defineInstance:function(){var t={colorRanges:[],value:0,oldValue:null,max:100,min:0,orientation:"horizontal",layout:"normal",width:null,height:null,showText:!1,animationDuration:300,disabled:!1,rtl:!1,renderText:null,template:"",aria:{"aria-valuenow":{name:"value",type:"number"},"aria-disabled":{name:"disabled",type:"boolean"}},events:["valueChanged","invalidValue","complete","change"]}
return this===e.jqx._jqxProgressBar.prototype?t:(e.extend(!0,this,t),t)},createInstance:function(t){var i=this
this.host.addClass(this.toThemeProperty("jqx-progressbar")),this.host.addClass(this.toThemeProperty("jqx-widget")),this.host.addClass(this.toThemeProperty("jqx-widget-content")),this.host.addClass(this.toThemeProperty("jqx-rc-all")),e.jqx.aria(this),null!=this.width&&-1!=this.width.toString().indexOf("px")?this.host.width(this.width):(null==this.width||isNaN(this.width),this.host.width(this.width)),null!=this.height&&-1!=this.height.toString().indexOf("px")?this.host.height(this.height):(null==this.height||isNaN(this.height),this.host.height(this.height)),this.valueDiv=e("<div></div>").appendTo(this.element),this._addRanges(),this.valueDiv.addClass(this.toThemeProperty("jqx-fill-state-pressed")),this.template&&this.valueDiv.addClass(this.toThemeProperty("jqx-"+this.template)),this.feedbackElementHost=e("<div style='left: 0px; top: 0px; width: 100%; height: 100%; position: absolute;'></div>").appendTo(this.host),this.feedbackElement=e("<span class='text'></span>").appendTo(this.feedbackElementHost),this.feedbackElement.addClass(this.toThemeProperty("jqx-progressbar-text")),this.oldValue=this._value(),this.refresh(),e.jqx.utilities.resize(this.host,function(){i.refresh()})},_addRanges:function(){if(0!=this.colorRanges.length)for(var e="vertical"==this.orientation,t=this.colorRanges,i=t.length,n=0;n<i;n++){var r=t[n].stop,o=t[n].color
this._createColorElements(r,o,e,i-n,n)}},_refreshColorElements:function(){for(var e=this.host.outerWidth(),t=this.host.outerHeight(),i="vertical"==this.orientation,n=0;n<this.colorRanges.length;n++){var r=this.colorRanges[n].element
if(!r)return this.host.find(".jqx-progressbar-range").remove(),void this._addRanges()
var o=this.colorRanges[n].stop
o>Math.min(this.max,this.value)&&(o=Math.min(this.max,this.value))
var a,s=100*(o-this.min)/(this.max-this.min)
a=i?t*s/100:e*s/100,a+="px",i?(r.css("height",a),"reverse"==this.layout?r.css("bottom",0):r.css("top",0)):(r.css("width",a),(this.rtl||"reverse"==this.layout)&&r.css("right","0px"))}},_createColorElements:function(t,i,n,r,o){var a
t>Math.min(this.max,this.value)&&(t=Math.min(this.max,this.value))
var s=100*t/this.max
this.host.width(),this.host.height()
a=n?this.host.outerHeight()*s/100:this.host.outerWidth()*s/100,a+="px"
var l,d=e(this.valueDiv).parent()[0];(d.style.position="relative",n=n||!1)?((l=e("<div/>")).attr("class","jqx-progressbar-range"),l.css("width","100%"),l.css("height",a),l.css("background-color",i),l.css("position","absolute"),l.css("z-index",r),"reverse"==this.layout?l.css("bottom",0):l.css("top",0),l.appendTo(d)):((l=e("<div/>")).attr("class","jqx-progressbar-range"),l.css("width",a),l.css("height","100%"),l.css("background-color",i),l.css("position","absolute"),l.css("z-index",r),l.css("top","0px"),this.rtl&&l.css("right","0px"),l.appendTo(d))
this.colorRanges[o].element=l},resize:function(e,t){this.width=e,this.height=t,this.refresh()},destroy:function(){this.host.removeClass(),this.valueDiv.removeClass(),this.valueDiv.remove(),this.feedbackElement.remove()},_raiseevent:function(t,i,n){if(null!=this.isInitialized&&1==this.isInitialized){var r=this.events[t],o=new e.Event(r)
return o.previousValue=i,o.currentValue=n,o.owner=this,this.host.trigger(o)}},actualValue:function(t){return void 0===t?this._value():(e.jqx.aria(this,"aria-valuenow",t),e.jqx.setvalueraiseevent(this,"value",t),this._value())},val:function(e){return 0==arguments.length||"object"==typeof e?this.actualValue():this.actualValue(e)},propertiesChangedHandler:function(e,t,i){i&&i.width&&i.height&&2==Object.keys(i).length&&(e.host.width(i.width),e.host.height(i.height),e.refresh())},propertyChangedHandler:function(t,i,n,r){if(this.isInitialized&&n!=r&&!(t.batchUpdate&&t.batchUpdate.width&&t.batchUpdate.height&&2==Object.keys(t.batchUpdate).length)){"colorRanges"==i&&(t.host.find(".jqx-progressbar-range").remove(),t._addRanges()),"min"==i&&t.value<r?t.value=r:"max"==i&&t.value>r&&(t.value=r),"value"===i&&null!=this.value&&(this.value=r,this.oldValue=n,e.jqx.aria(t,"aria-valuenow",r),(r<this.min||r>this.max)&&this._raiseevent(1,n,r),this.refresh()),"theme"==i&&e.jqx.utilities.setTheme(n,r,t.host),"renderText"==i||"orientation"==i||"layout"==i||"showText"==i||"min"==i||"max"==i?this.refresh():"width"==i&&null!=this.width?null==this.width||isNaN(this.width)||(this.host.width(this.width),this.refresh()):"height"==i&&null!=this.height&&(null==this.height||isNaN(this.height)||(this.host.height(this.height),this.refresh())),"disabled"==i&&this.refresh()}},_value:function(){var e=this.value
if("number"!=typeof e){var t=parseInt(e)
e=isNaN(t)?0:t}return Math.min(this.max,Math.max(this.min,e))},_percentage:function(){return 100*(this._value()-this.min)/(this.max-this.min)},_textwidth:function(t){var i=e("<span>"+t+"</span>")
e(this.host).append(i)
var n=i.width()
return i.remove(),n},_textheight:function(t){var i=e("<span>"+t+"</span>")
e(this.host).append(i)
var n=i.height()
return i.remove(),n},_initialRender:!0,refresh:function(t){if(!0!==t){var i=this.actualValue(),n=this._percentage()
if(this.disabled)return this.host.addClass(this.toThemeProperty("jqx-progressbar-disabled")),void this.host.addClass(this.toThemeProperty("jqx-fill-state-disabled"))
if(this.host.removeClass(this.toThemeProperty("jqx-progressbar-disabled")),this.host.removeClass(this.toThemeProperty("jqx-fill-state-disabled")),e(this.element.children[0]).show(),!isNaN(i)&&!isNaN(n)){this.oldValue!==i&&(this._raiseevent(0,this.oldValue,i),this._raiseevent(3,this.oldValue,i),this.oldValue=i)
var r=this.oldValue,o=this.host.outerHeight(),a=this.host.outerWidth()
null!=this.width&&(a=parseInt(this.width)),null!=this.height&&(o=parseInt(this.height)),this._refreshColorElements()
var s=parseInt(this.host.outerWidth())/2
parseInt(this.host.outerHeight())
isNaN(n)&&(n=0),this.valueDiv.removeClass(this.toThemeProperty("jqx-progressbar-value-vertical jqx-progressbar-value")),"horizontal"==this.orientation?(this.valueDiv.width(0),this.valueDiv[0].style.height="100%",this.valueDiv.addClass(this.toThemeProperty("jqx-progressbar-value"))):(this.valueDiv[0].style.width="100%",this.valueDiv.height(0),this.valueDiv.addClass(this.toThemeProperty("jqx-progressbar-value-vertical")))
var l=this
try{var d=this.element.children[0]
if(e(d)[0].style.position="relative","horizontal"==this.orientation){e(d).toggle(i>=this.min)
a=this.host.outerWidth()*n/100
var c=0;("reverse"==this.layout||this.rtl)&&(this._initialRender&&(e(d)[0].style.left=this.host.width()+"px",e(d)[0].style.width=0),c=this.host.outerWidth()-a),e(d).stop(),e(d).animate({width:a,left:c+"px"},this.animationDuration,function(){l._value()===l.max&&l._raiseevent(2,r,l.max)})}else{e(d).toggle(i>=this.min)
o=this.host.height()*n/100
var h=0
"reverse"==this.layout&&(this._initialRender&&(e(d)[0].style.top=this.host.height()+"px",e(d)[0].style.height=0),h=this.host.height()-o),e(d).stop(),e(d).animate({height:o,top:h+"px"},this.animationDuration,function(){var t=l._percentage()
isNaN(t)&&(t=0),t.toFixed(0)==l.min&&(e(d).hide(),l._value()===l.max&&l._raiseevent(2,r,l.max))})}}catch(e){}this._initialRender=!1,this.feedbackElement.html(n.toFixed(0)+"%").toggle(1==this.showText),this.renderText&&this.feedbackElement.html(this.renderText(n.toFixed(0)+"%",n)),this.feedbackElement.css("position","absolute"),this.feedbackElement.css("top","50%"),this.feedbackElement.css("left","0"),this.colorRanges.length>0&&this.feedbackElement.css("z-index",this.colorRanges.length+1)
var u=this.feedbackElement.height(),p=this.feedbackElement.width(),m=Math.floor(s-parseInt(p)/2)
this.feedbackElement.css({left:m,"margin-top":-parseInt(u)/2+"px"})}}}})}(jqxBaseFramework)
var gi=Object.freeze({})
!function(e){e.jqx.jqxWidget("jqxTooltip","",{}),e.extend(e.jqx._jqxTooltip.prototype,{defineInstance:function(){var t={width:"auto",height:"auto",position:"default",enableBrowserBoundsDetection:!0,content:"",left:0,top:0,absolutePositionX:0,absolutePositionY:0,trigger:"hover",showDelay:100,autoHide:!0,autoHideDelay:3e3,closeOnClick:!0,disabled:!1,animationShowDelay:200,animationHideDelay:"fast",showArrow:!0,name:"",opacity:.9,rtl:!1,_isOpen:!1,selector:null,opening:null,value:null,_eventsMap:{mousedown:e.jqx.mobile.getTouchEventName("touchstart"),mouseup:e.jqx.mobile.getTouchEventName("touchend")},events:["open","close","opening","closing"]}
return this===e.jqx._jqxTooltip.prototype?t:(e.extend(!0,this,t),t)},createInstance:function(){this._isTouchDevice=e.jqx.mobile.isTouchDevice()
var t=e.data(document.body,"_tooltipIDArray"+this.name)
t?this.IDArray=t:(this.IDArray=[],e.data(document.body,"_tooltipIDArray"+this.name,this.IDArray))
var i="jqxtooltip"+this._generatekey()
this.IDArray.push({tooltipID:i,tooltipHost:this.host})
var n=document.createElement("div")
n.setAttribute("id",i),n.innerHTML='<div id="'+i+'Main"><div id="'+i+'Text"></div></div><div id="'+i+'Arrow"></div>',e.jqx.browser.msie&&(n.className=this.toThemeProperty("jqx-noshadow")),document.body.appendChild(n),this._tooltip=n,this._tooltipHelper=e(n),this._tooltipHelper.initAnimate&&this._tooltipHelper.initAnimate(),n.style.visibility="hidden",n.style.display="none",n.style.opacity=0,n.style.zIndex=99999
var r=document.getElementById(i+"Arrow")
this._arrow=r,!1===this.showArrow&&(r.style.visibility="hidden",r.style.display="none"),this._main=document.getElementById(i+"Main"),this._text=document.getElementById(i+"Text"),this._setTheme(),this._setSize(),this._setContent(),!1===this.disabled&&(this._trigger(),!0===this.closeOnClick&&this._clickHide())},open:function(){if(arguments&&arguments.length&&2===arguments.length&&(this.position="absolute",this.left=arguments[0],this.top=arguments[1],this.absolutePositionX=arguments[0],this.absolutePositionY=arguments[1]),!1===this.disabled&&"removed"!==this._id())if("mouse"===this.position||"mouseenter"===this.position){var e=this.position
this.position="default",this._raiseEvent("2"),this._setPosition(),this._animateShow(),this.position=e}else this._raiseEvent("2"),this._setPosition(),this._animateShow()},close:function(t){var i=this,n=e.jqx.browser.msie&&e.jqx.browser.version<9
"object"==typeof t&&e.isEmptyObject(t)&&(t=this.animationHideDelay)
var r=parseFloat(i._tooltip.style.opacity),o=function(){clearTimeout(i.autoHideTimeout),i._raiseEvent("3"),i._tooltipHelper.animate({opacity:0},t,function(){i._tooltip.style.visibility="hidden",i._tooltip.style.display="none",i._raiseEvent("1"),i._isOpen=!1})}
!1!==this._isOpen||0===r?!0===this._isOpen&&(!n&&r===this.opacity||n)&&o():o()},destroy:function(){var e=this.IDArray.length
this._removeHandlers(),this._tooltipHelper.remove()
for(var t=0;t<e;t++)if(this.IDArray[t].tooltipHost===this.host){this.IDArray.splice(t,1)
break}this.host.removeData("jqxTooltip")},refresh:function(e){if(!0!==e){var t=this
this.rtl&&(t._text.className+=" "+t.toThemeProperty("jqx-rtl"),t._text.style.direction="rtl")
var i=parseFloat(t._tooltip.style.opacity)
"removed"!==this._id()&&(!0===this.disabled&&!0===this._isOpen&&i===this.opacity&&(clearTimeout(this.autoHideTimeout),this._tooltipHelper.animate({opacity:0},this.animationHideDelay,function(){t._tooltip.style.visibility="hidden",t._tooltip.style.display="none",t._isOpen=!1})),this._setTheme(),this._setContent(),this._setSize(),"mouse"!==this.position&&"mouseenter"!==this.position&&this._setPosition(),this._removeHandlers(),!1===this.disabled&&(this._trigger(),!0===this.closeOnClick&&this._clickHide()))}},propertyChangedHandler:function(e,t,i,n){"content"===t&&(this.changeContentFlag=!0),e.refresh()},_raiseEvent:function(t,i){var n,r=this.events[t],o=new e.Event(r)
o.owner=this,o.args=i
try{n=this.host.trigger(o)}catch(e){}return n},_generatekey:function(){var e=function(){return(65536*(1+Math.random())|0).toString(16).substring(1)}
return e()+e()},_id:function(){for(var e,t=this.IDArray.length,i=0;i<t;i++)if(this.IDArray[i].tooltipHost===this.host){e="#"+this.IDArray[i].tooltipID
break}return void 0===e&&(e="removed"),e},_setPosition:function(t){var i=this,n=i._tooltip
if(!1===this._isOpen&&0===parseFloat(n.style.opacity)||!0===this.changeContentFlag){if(!t&&("mouse"===this.position||"mouseenter"===this.position))return
n.style.display="block",this.changeContentFlag=!1,this.documentTop=document.documentElement.scrollTop,this.documentLeft=document.documentElement.scrollLeft,this.windowWidth=window.innerWidth,this.windowHeight=window.innerHeight,this.hostWidth=i.element.offsetWidth,this.hostHeight=i.element.offsetHeight,this.tooltipWidth=n.offsetWidth,this.tooltipHeight=n.offsetHeight,this.hostOffset=this.host.offset(),this.tooltipOffset=i._tooltipHelper.offset(),this.defaultOffset=30,this.offsetHorizontal=parseInt(this.left,10),this.offsetVertical=parseInt(this.top,10)
var r,o=i._arrow,a=e(o),s=i._main,l=e(s),d=s.offsetWidth,c=s.offsetHeight
switch(this.arrowSize=5,this.tooltipMainOffset=l.offset(),this.tooltipArrowOffset={},this.position){case"top":this.tooltipOffset.left=this.hostOffset.left+this.hostWidth/2-this.tooltipWidth/2+this.offsetHorizontal,this.tooltipOffset.top=this.hostOffset.top-this.tooltipHeight-this.arrowSize+this.offsetVertical,this._detectBrowserBounds(),this.tooltipMainOffset=l.offset(),i._removeClass(o,i.toThemeProperty("jqx-tooltip-arrow-l-r")),o.className+=" "+i.toThemeProperty("jqx-tooltip-arrow-t-b"),o.style.borderWidth=this.arrowSize+"px "+this.arrowSize+"px 0px",this.tooltipArrowOffset.left=this.tooltipMainOffset.left+(d/2-this.arrowSize),this.tooltipArrowOffset.top=this.tooltipMainOffset.top+c,a.offset({top:this.tooltipArrowOffset.top,left:this.tooltipArrowOffset.left})
break
case"bottom":this.tooltipOffset.left=this.hostOffset.left+this.hostWidth/2-this.tooltipWidth/2+this.offsetHorizontal,this.tooltipOffset.top=this.hostOffset.top+this.hostHeight+this.arrowSize+this.offsetVertical,this._detectBrowserBounds(),this.tooltipMainOffset=l.offset(),i._removeClass(o,i.toThemeProperty("jqx-tooltip-arrow-l-r")),o.className+=" "+i.toThemeProperty("jqx-tooltip-arrow-t-b"),o.style.borderWidth="0 "+this.arrowSize+"px "+this.arrowSize+"px",this.tooltipArrowOffset.left=this.tooltipMainOffset.left+(d/2-this.arrowSize),this.tooltipArrowOffset.top=this.tooltipMainOffset.top-this.arrowSize,a.offset({top:this.tooltipArrowOffset.top,left:this.tooltipArrowOffset.left})
break
case"left":r=window.getComputedStyle?window.getComputedStyle(s):s.currentStyle,this.tooltipOffset.left=this.hostOffset.left-this.tooltipWidth-this.arrowSize+this.offsetHorizontal-(parseInt(r.borderLeftWidth,10)+parseInt(r.borderRightWidth,10)),this.tooltipOffset.top=this.hostOffset.top+this.hostHeight/2-this.tooltipHeight/2+this.offsetVertical,this._detectBrowserBounds(),i._removeClass(o,i.toThemeProperty("jqx-tooltip-arrow-t-b")),o.className+=" "+i.toThemeProperty("jqx-tooltip-arrow-l-r"),o.style.borderWidth=this.arrowSize+"px 0px "+this.arrowSize+"px "+this.arrowSize+"px",this.tooltipMainOffset=l.offset(),this.tooltipArrowOffset.left=this.tooltipMainOffset.left+d,this.tooltipArrowOffset.top=this.tooltipMainOffset.top+c/2-this.arrowSize,a.offset({top:this.tooltipArrowOffset.top,left:this.tooltipArrowOffset.left})
break
case"right":this.tooltipOffset.left=this.hostOffset.left+this.hostWidth+this.arrowSize+this.offsetHorizontal,this.tooltipOffset.top=this.hostOffset.top+this.hostHeight/2-this.tooltipHeight/2+this.offsetVertical,this.tooltipOffset.top=parseInt(this.tooltipOffset.top,10),this._detectBrowserBounds(),this.tooltipMainOffset=l.offset(),i._removeClass(o,i.toThemeProperty("jqx-tooltip-arrow-t-b")),o.className+=" "+i.toThemeProperty("jqx-tooltip-arrow-l-r"),o.style.borderWidth=this.arrowSize+"px "+this.arrowSize+"px "+this.arrowSize+"px 0px",this.tooltipArrowOffset.left=this.tooltipMainOffset.left-this.arrowSize,this.tooltipArrowOffset.top=this.tooltipMainOffset.top+s.offsetHeight/2-this.arrowSize,a.offset({top:this.tooltipArrowOffset.top,left:this.tooltipArrowOffset.left})
break
case"top-left":this.tooltipOffset.left=this.hostOffset.left+this.defaultOffset-this.tooltipWidth+this.offsetHorizontal,this.tooltipOffset.top=this.hostOffset.top-this.tooltipHeight-this.arrowSize+this.offsetVertical,this._detectBrowserBounds(),this.tooltipMainOffset=l.offset(),i._removeClass(o,i.toThemeProperty("jqx-tooltip-arrow-l-r")),o.className+=" "+i.toThemeProperty("jqx-tooltip-arrow-t-b"),o.style.borderWidth=this.arrowSize+"px "+this.arrowSize+"px  0px",this.tooltipArrowOffset.left=this.tooltipMainOffset.left+d-6*this.arrowSize,this.tooltipArrowOffset.top=this.tooltipMainOffset.top+c,a.offset({top:this.tooltipArrowOffset.top,left:this.tooltipArrowOffset.left})
break
case"bottom-left":this.tooltipOffset.left=this.hostOffset.left+this.defaultOffset-this.tooltipWidth+this.offsetHorizontal,this.tooltipOffset.top=this.hostOffset.top+this.hostHeight+this.arrowSize+this.offsetVertical,this._detectBrowserBounds(),this.tooltipMainOffset=l.offset(),i._removeClass(o,i.toThemeProperty("jqx-tooltip-arrow-l-r")),o.className+=" "+i.toThemeProperty("jqx-tooltip-arrow-t-b"),o.style.borderWidth="0 "+this.arrowSize+"px "+this.arrowSize+"px",this.tooltipArrowOffset.left=this.tooltipMainOffset.left+d-6*this.arrowSize,this.tooltipArrowOffset.top=this.tooltipMainOffset.top-this.arrowSize,a.offset({top:this.tooltipArrowOffset.top,left:this.tooltipArrowOffset.left})
break
case"top-right":this.tooltipOffset.left=this.hostOffset.left+this.hostWidth-this.defaultOffset+this.offsetHorizontal,this.tooltipOffset.top=this.hostOffset.top-this.tooltipHeight-this.arrowSize+this.offsetVertical,this._detectBrowserBounds(),this.tooltipMainOffset=l.offset(),i._removeClass(o,i.toThemeProperty("jqx-tooltip-arrow-l-r")),o.className+=" "+i.toThemeProperty("jqx-tooltip-arrow-t-b"),o.style.borderWidth=this.arrowSize+"px "+this.arrowSize+"px  0px",this.tooltipArrowOffset.left=this.tooltipMainOffset.left+4*this.arrowSize,this.tooltipArrowOffset.top=this.tooltipMainOffset.top+c,a.offset({top:this.tooltipArrowOffset.top,left:this.tooltipArrowOffset.left})
break
case"bottom-right":this.tooltipOffset.left=this.hostOffset.left+this.hostWidth-this.defaultOffset+this.offsetHorizontal,this.tooltipOffset.top=this.hostOffset.top+this.hostHeight+this.arrowSize+this.offsetVertical,this._detectBrowserBounds(),this.tooltipMainOffset=l.offset(),i._removeClass(o,i.toThemeProperty("jqx-tooltip-arrow-l-r")),o.className+=" "+i.toThemeProperty("jqx-tooltip-arrow-t-b"),o.style.borderWidth="0 "+this.arrowSize+"px "+this.arrowSize+"px",this.tooltipArrowOffset.left=this.tooltipMainOffset.left+4*this.arrowSize,this.tooltipArrowOffset.top=this.tooltipMainOffset.top-this.arrowSize,a.offset({top:this.tooltipArrowOffset.top,left:this.tooltipArrowOffset.left})
break
case"absolute":i._tooltipHelper.offset({top:this.absolutePositionY,left:this.absolutePositionX}),o.style.borderWidth="0px"
break
case"mouse":if(!1===this._isTouchDevice)switch(this.trigger){case"hover":this.mouseHoverTimeout&&clearTimeout(this.mouseHoverTimeout),this.mouseHoverTimeout=setTimeout(function(){i.tooltipOffset.left=t.pageX+10,i.tooltipOffset.top=t.pageY+10,i._detectBrowserBounds()},this.showDelay)
break
case"click":this.tooltipOffset.left=t.pageX+10,this.tooltipOffset.top=t.pageY+10,this._detectBrowserBounds()}else{var h,u=t.pageX,p=t.pageY
if(t.originalEvent)t.originalEvent.touches&&t.originalEvent.touches.length?h=t.originalEvent.touches[0]:t.originalEvent.changedTouches&&t.originalEvent.changedTouches.length&&(h=t.originalEvent.changedTouches[0]),void 0!==h&&(u=h.pageX,p=h.pageY)
this.tooltipOffset.left=u+10,this.tooltipOffset.top=p+10,this._detectBrowserBounds()}o.style.borderWidth="0px"
break
case"mouseenter":var m={top:t.pageY,left:t.pageX}
m.top<this.hostOffset.top+10&&m.top>this.hostOffset.top-10?(this.tooltipOffset.left=m.left-this.tooltipWidth/2,this.tooltipOffset.top=this.hostOffset.top-this.tooltipHeight-this.arrowSize,this._detectBrowserBounds(),this.tooltipMainOffset=l.offset(),i._removeClass(o,i.toThemeProperty("jqx-tooltip-arrow-l-r")),o.className+=" "+i.toThemeProperty("jqx-tooltip-arrow-t-b"),o.style.borderWidth=this.arrowSize+"px "+this.arrowSize+"px  0px",this.tooltipArrowOffset.left=this.tooltipMainOffset.left+(d/2-this.arrowSize),this.tooltipArrowOffset.top=this.tooltipMainOffset.top+c,a.offset({top:this.tooltipArrowOffset.top,left:this.tooltipArrowOffset.left})):m.top<this.hostOffset.top+this.hostHeight+10&&m.top>this.hostOffset.top+this.hostHeight-10?(this.tooltipOffset.left=m.left-this.tooltipWidth/2,this.tooltipOffset.top=this.hostOffset.top+this.hostHeight+this.arrowSize,this._detectBrowserBounds(),this.tooltipMainOffset=l.offset(),i._removeClass(o,i.toThemeProperty("jqx-tooltip-arrow-l-r")),o.className+=" "+i.toThemeProperty("jqx-tooltip-arrow-t-b"),o.style.borderWidth="0 "+this.arrowSize+"px "+this.arrowSize+"px",this.tooltipArrowOffset.left=this.tooltipMainOffset.left+(d/2-this.arrowSize),this.tooltipArrowOffset.top=this.tooltipMainOffset.top-this.arrowSize,a.offset({top:this.tooltipArrowOffset.top,left:this.tooltipArrowOffset.left})):m.left<this.hostOffset.left+10&&m.left>this.hostOffset.left-10?(r=window.getComputedStyle?window.getComputedStyle(s):s.currentStyle,this.tooltipOffset.left=this.hostOffset.left-this.tooltipWidth-this.arrowSize-(parseInt(r.borderLeftWidth,10)+parseInt(r.borderRightWidth,10)),this.tooltipOffset.top=m.top-this.tooltipHeight/2,this._detectBrowserBounds(),this.tooltipMainOffset=l.offset(),i._removeClass(o,i.toThemeProperty("jqx-tooltip-arrow-t-b")),o.className+=" "+i.toThemeProperty("jqx-tooltip-arrow-l-r"),o.style.borderWidth=this.arrowSize+"px 0px "+this.arrowSize+"px "+this.arrowSize+"px",this.tooltipMainOffset=l.offset(),this.tooltipArrowOffset.left=this.tooltipMainOffset.left+d,this.tooltipArrowOffset.top=this.tooltipMainOffset.top+c/2-this.arrowSize,a.offset({top:this.tooltipArrowOffset.top,left:this.tooltipArrowOffset.left})):m.left<this.hostOffset.left+this.hostWidth+10&&m.left>this.hostOffset.left+this.hostWidth-10&&(this.tooltipOffset.left=this.hostOffset.left+this.hostWidth+this.arrowSize,this.tooltipOffset.top=m.top-this.tooltipHeight/2,this._detectBrowserBounds(),this.tooltipMainOffset=l.offset(),i._removeClass(o,i.toThemeProperty("jqx-tooltip-arrow-t-b")),o.className+=" "+i.toThemeProperty("jqx-tooltip-arrow-l-r"),o.style.borderWidth=this.arrowSize+"px "+this.arrowSize+"px "+this.arrowSize+"px 0px",this.tooltipMainOffset=l.offset(),this.tooltipArrowOffset.left=this.tooltipMainOffset.left-this.arrowSize,this.tooltipArrowOffset.top=this.tooltipMainOffset.top+c/2-this.arrowSize,a.offset({top:this.tooltipArrowOffset.top,left:this.tooltipArrowOffset.left}))
break
case"default":this.tooltipOffset.left=this.hostOffset.left+this.hostWidth-this.defaultOffset,this.tooltipOffset.top=this.hostOffset.top+this.hostHeight+this.arrowSize,this._detectBrowserBounds(),this.tooltipMainOffset=l.offset(),i._removeClass(o,i.toThemeProperty("jqx-tooltip-arrow-l-r")),o.className+=" "+i.toThemeProperty("jqx-tooltip-arrow-t-b"),o.style.borderWidth="0 "+this.arrowSize+"px "+this.arrowSize+"px",this.tooltipArrowOffset.left=this.tooltipMainOffset.left+4*this.arrowSize,this.tooltipArrowOffset.top=this.tooltipMainOffset.top-this.arrowSize,a.offset({top:this.tooltipArrowOffset.top,left:this.tooltipArrowOffset.left})}}},_setContent:function(){this._text.innerHTML=this.content},opened:function(){return this._isOpen&&"block"==this.host.css("display")&&"visible"==this.host.css("visibility")},_animateShow:function(){this._closeAll(),clearTimeout(this.autoHideTimeout)
var t=parseFloat(this._tooltip.style.opacity)
if(!1===this._isOpen&&0===t){var i=this
if(i._tooltip.style.visibility="visible",i._tooltip.style.display="block",i._tooltip.style.opacity=0,this.opening)if(!1===this.opening(this))return
i._tooltipHelper.animate({opacity:this.opacity},this.animationShowDelay,function(){i._raiseEvent("0"),i._isOpen=!0,i.openedTooltip=i,e.data(document.body,"_openedTooltip"+i.name,i),i.autoHideTimeout&&clearTimeout(i.autoHideTimeout),i.autoHideDelay>0&&!0===i.autoHide&&(i.autoHideTimeout=setTimeout(function(){i._autoHide()},i.autoHideDelay))})}},_trigger:function(){if("removed"!==this._id()){var t=this,i=this.host
if(this.selector&&(i=e("#"+this.selector)),!1===this._isTouchDevice)switch(this.trigger){case"hover":"mouse"===this.position?(this.addHandler(i,"mousemove.tooltip",function(e){1===t._enterFlag&&(t._raiseEvent("2"),t._setPosition(e),clearTimeout(t.hoverShowTimeout),t.hoverShowTimeout=setTimeout(function(){t._animateShow(),t._enterFlag=0},t.showDelay))}),this.addHandler(i,"mouseenter.tooltip",function(){0!==t._leaveFlag&&(t._enterFlag=1)}),this.addHandler(i,"mouseleave.tooltip",function(e){t._leaveFlag=1,clearTimeout(t.hoverShowTimeout)
var i=t._tooltipHelper.offset(),n=t._tooltip.offsetWidth,r=t._tooltip.offsetHeight;(parseInt(e.pageX,10)<parseInt(i.left,10)||parseInt(e.pageX,10)>parseInt(i.left,10)+n)&&t.close(),(parseInt(e.pageY,10)<parseInt(i.top,10)||parseInt(e.pageY,10)>parseInt(i.top,10)+r)&&t.close()}),this.addHandler(t._tooltipHelper,"mouseleave.tooltip",function(e){t._checkBoundariesAuto(e),0!==t._clickFlag&&0!==t._autoFlag?t._leaveFlag=0:(t._leaveFlag=1,t.close())})):(this.addHandler(i,"mouseenter.tooltip",function(e){clearTimeout(t.hoverShowTimeout),t.hoverShowTimeout=setTimeout(function(){t._raiseEvent("2"),t._setPosition(e),t._animateShow()},t.showDelay)}),this.addHandler(i,"mouseleave.tooltip",function(e){if(t._leaveFlag=1,clearTimeout(t.hoverShowTimeout),t.autoHide){var i=e.pageX,n=e.pageY,r=t._tooltipHelper.offset(),o=r.left,a=r.top,s=t._tooltip.offsetWidth,l=t._tooltip.offsetHeight;(parseInt(i,10)<parseInt(o,10)||parseInt(i,10)>parseInt(o,10)+s||parseInt(n,10)<parseInt(a,10)||parseInt(n,10)>parseInt(a,10)+l)&&t.close()}}),this.addHandler(t._tooltipHelper,"mouseleave.tooltip",function(e){t._checkBoundariesAuto(e),0!==t._clickFlag&&0!==t._autoFlag?t._leaveFlag=0:(t._leaveFlag=1,t.autoHide&&t.close())}))
break
case"click":this.addHandler(i,"click.tooltip",function(e){"mouseenter"===t.position&&(t.position="mouse"),t._raiseEvent("2"),t._setPosition(e),t._animateShow()})}else"none"!==this.trigger&&this.addHandler(i,"touchstart.tooltip",function(e){"mouseenter"===t.position&&(t.position="mouse"),t._raiseEvent("2"),t._setPosition(e),t._animateShow()})}},_autoHide:function(){var e=this,t=parseFloat(e._tooltip.style.opacity)
!0===this.autoHide&&!0===this._isOpen&&t>=this.opacity&&(e._raiseEvent("3"),e._tooltipHelper.animate({opacity:0},e.animationHideDelay,function(){e._tooltip.style.visibility="hidden",e._tooltip.style.display="none",e._raiseEvent("1"),e._isOpen=!1}))},_clickHide:function(){var e=this
this.addHandler(e._tooltipHelper,"click.tooltip",function(t){e._checkBoundariesClick(t),e.close()})},_setSize:function(){this._tooltip.style.width=this._toPx(this.width),this._tooltip.style.height=this._toPx(this.height)},resize:function(){this._setSize()},_setTheme:function(){this._tooltip.className+=" "+this.toThemeProperty("jqx-tooltip jqx-popup"),this._main.className+=" "+this.toThemeProperty("jqx-widget jqx-fill-state-normal jqx-tooltip-main"),this._text.className+=" "+this.toThemeProperty("jqx-widget jqx-fill-state-normal jqx-tooltip-text"),this._arrow&&(this._arrow.className+=" "+this.toThemeProperty("jqx-widget jqx-fill-state-normal jqx-tooltip-arrow"))},_initialPosition:function(){var e=this.position
this.position="default",this._setPosition(),this.position=e},_detectBrowserBounds:function(){var e=this._tooltipHelper
this.enableBrowserBoundsDetection?this.tooltipOffset.top<this.documentTop&&this.tooltipOffset.left<0?e.offset({top:this.documentTop,left:this.documentLeft}):this.tooltipOffset.top<this.documentTop&&this.tooltipOffset.left+this.tooltipWidth>this.windowWidth+this.documentLeft?e.offset({top:this.documentTop,left:this.windowWidth+this.documentLeft-this.tooltipWidth}):this.tooltipOffset.top<this.documentTop?e.offset({top:this.documentTop,left:this.tooltipOffset.left}):this.tooltipOffset.top+this.tooltipHeight>this.windowHeight+this.documentTop&&this.tooltipOffset.left<0?e.offset({top:this.windowHeight+this.documentTop-this.tooltipHeight,left:this.documentLeft}):this.tooltipOffset.top+this.tooltipHeight>this.windowHeight+this.documentTop&&this.tooltipOffset.left+this.tooltipWidth>this.windowWidth+this.documentLeft?e.offset({top:this.windowHeight+this.documentTop-this.tooltipHeight,left:this.windowWidth+this.documentLeft-this.tooltipWidth}):this.tooltipOffset.top+this.tooltipHeight>this.windowHeight+this.documentTop?e.offset({top:this.windowHeight+this.documentTop-this.tooltipHeight,left:this.tooltipOffset.left}):this.tooltipOffset.left<0?e.offset({top:this.tooltipOffset.top,left:this.documentLeft}):this.tooltipOffset.left+this.tooltipWidth>this.windowWidth+this.documentLeft?e.offset({top:this.tooltipOffset.top,left:this.windowWidth+this.documentLeft-this.tooltipWidth}):e.offset({top:this.tooltipOffset.top,left:this.tooltipOffset.left}):e.offset({top:this.tooltipOffset.top,left:this.tooltipOffset.left})},_checkBoundaries:function(e){return e.pageX>=this.hostOffset.left&&e.pageX<=this.hostOffset.left+this.hostWidth&&e.pageY>=this.hostOffset.top&&e.pageY<=this.hostOffset.top+this.hostHeight},_checkBoundariesClick:function(e){this._checkBoundaries(e)?this._clickFlag=1:this._clickFlag=0},_checkBoundariesAuto:function(e){this._checkBoundaries(e)?this._autoFlag=1:this._autoFlag=0},_removeHandlers:function(){this.removeHandler(this.host,"mouseenter.tooltip"),this.removeHandler(this.host,"mousemove.tooltip"),this.removeHandler(this.host,"mouseleave.tooltip"),this.removeHandler(this.host,"click.tooltip"),this.removeHandler(this.host,"touchstart.tooltip"),this.removeHandler(this._tooltipHelper,"click.tooltip"),this.removeHandler(this._tooltipHelper,"mouseleave.tooltip")},_closeAll:function(){for(var e=0;e<this.IDArray.length;e++){var t=this.IDArray[e].tooltipID,i=document.getElementById(t)
i!==this._tooltip&&(i.style.opacity=0,i.style.visibility="hidden",i.style.display="none",this._isOpen=!1)}},_toPx:function(e){return"number"==typeof e?e+"px":e},_removeClass:function(t,i){e(t).removeClass(i)}})}(jqxBaseFramework)
var vi=Object.freeze({})
!function(e){e.jqx.jqxWidget("jqxDropDownList","",{}),e.extend(e.jqx._jqxDropDownList.prototype,{defineInstance:function(){var t={disabled:!1,width:null,height:null,items:new Array,selectedIndex:-1,source:null,scrollBarSize:15,arrowSize:19,enableHover:!0,enableSelection:!0,autoItemsHeight:!1,visualItems:new Array,groups:new Array,equalItemsWidth:!0,itemHeight:-1,visibleItems:new Array,emptyGroupText:"Group",checkboxes:!1,openDelay:250,closeDelay:300,dropDownContainer:"default",animationType:"default",autoOpen:!1,dropDownWidth:"auto",dropDownHeight:"200px",autoDropDownHeight:!1,keyboardSelection:!0,enableBrowserBoundsDetection:!1,dropDownHorizontalAlignment:"left",dropDownVerticalAlignment:"bottom",displayMember:"",valueMember:"",groupMember:"",searchMember:"",searchMode:"startswithignorecase",incrementalSearch:!0,incrementalSearchDelay:700,renderer:null,placeHolder:"Please Choose:",promptText:"Please Choose:",emptyString:"",rtl:!1,selectionRenderer:null,listBox:null,popupZIndex:9999999999999,renderMode:"default",touchMode:"auto",_checkForHiddenParent:!0,autoBind:!0,ready:null,focusable:!0,filterable:!1,filterHeight:27,filterPlaceHolder:"Looking for",filterDelay:100,template:"default",aria:{"aria-disabled":{name:"disabled",type:"boolean"}},events:["open","close","select","unselect","change","checkChange","bindingComplete","itemAdd","itemRemove","itemUpdate"]}
return this===e.jqx._jqxDropDownList.prototype?t:(e.extend(!0,this,t),t)},createInstance:function(e){this.render()},render:function(){(l=this).width||(l.width=200),l.height||(l.height=25)
var t=l.element.nodeName.toLowerCase()
if("select"==t||"ul"==t||"ol"==t){l.field=l.element,l.field.className&&(l._className=l.field.className)
var i={title:l.field.title}
l.field.id.length?i.id=l.field.id.replace(/[^\w]/g,"_")+"_jqxDropDownList":i.id=e.jqx.utilities.createId()+"_jqxDropDownList"
var n=e("<div></div>",i)
l.width||(l.width=e(l.field).width()),l.height||(l.height=e(l.field).outerHeight()),n[0].style.cssText=l.field.style.cssText,e(l.field).hide().after(n)
var r=l.host.data()
if(l.host=n,l.host.data(r),l.element=n[0],l.element.id=l.field.id,l.field.id=i.id,l._className&&(l.host.addClass(l._className),e(l.field).removeClass(l._className)),l.field.tabIndex){var o=l.field.tabIndex
l.field.tabIndex=-1,l.element.tabIndex=o}var a=e.jqx.parseSourceTag(l.field)
l.source=a.items,-1==l.selectedIndex&&(l.selectedIndex=a.index)}else if(l.host.find("li").length>0||l.host.find("option").length>0){a=e.jqx.parseSourceTag(this.element)
l.source=a.items}l.element.innerHTML="",l.isanimating=!1,l.id=l.element.id||e.jqx.utilities.createId(),l.host.attr("role","combobox"),e.jqx.aria(l,"aria-autocomplete","both"),e.jqx.aria(l,"aria-readonly",!1)
var s="<div style='background-color: transparent; -webkit-appearance: none; outline: none; width:100%; height: 100%; padding: 0px; margin: 0px; border: 0px; position: relative;'><div id='dropdownlistWrapper' style='overflow: hidden; outline: none; background-color: transparent; border: none; float: left; width:100%; height: 100%; position: relative;'><div id='dropdownlistContent' unselectable='on' style='outline: none; background-color: transparent; border: none; float: left; position: relative;'></div><div id='dropdownlistArrow' unselectable='on' style='background-color: transparent; border: none; float: right; position: relative;'><div unselectable='on'></div></div></div></div>"
if(null==e.jqx._jqxListBox||null==e.jqx._jqxListBox)throw new Error("jqxDropDownList: Missing reference to jqxlistbox.js.")
l.host.attr("tabindex")||l.host.attr("tabindex",0)
l.touch=e.jqx.mobile.isTouchDevice(),l.comboStructure=s,l.element.innerHTML=s,l.dropdownlistWrapper=e(l.element.firstChild.firstChild),l.dropdownlistArrow=e(l.dropdownlistWrapper[0].firstChild.nextSibling),l.arrow=e(l.dropdownlistArrow[0].firstChild),l.dropdownlistContent=e(l.dropdownlistWrapper[0].firstChild),l.dropdownlistContent.addClass(l.toThemeProperty("jqx-dropdownlist-content jqx-disableselect")),l.rtl&&l.dropdownlistContent.addClass(l.toThemeProperty("jqx-rtl jqx-dropdownlist-content-rtl")),l.addHandler(l.dropdownlistWrapper,"selectstart",function(){return!1}),l.dropdownlistWrapper[0].id="dropdownlistWrapper"+l.element.id,l.dropdownlistArrow[0].id="dropdownlistArrow"+l.element.id,l.dropdownlistContent[0].id="dropdownlistContent"+l.element.id,l._addInput(),"Please Choose:"!=l.promptText&&(l.placeHolder=l.promptText)
var l,d=l.toThemeProperty("jqx-widget")+" "+l.toThemeProperty("jqx-dropdownlist-state-normal")+" "+l.toThemeProperty("jqx-rc-all")+" "+l.toThemeProperty("jqx-fill-state-normal")
l.element.className+=" "+d,l._firstDiv=e(l.element.firstChild)
try{var c="listBox"+l.id,h=e(e.find("#"+c))
h.length>0&&h.remove(),e.jqx.aria(l,"aria-owns",c),e.jqx.aria(l,"aria-haspopup",!0)
var u=e("<div style='overflow: hidden; background-color: transparent; border: none; position: absolute;' id='listBox"+l.id+"'><div id='innerListBox"+l.id+"'></div></div>")
u.hide(),"element"==l.dropDownContainer?u.appendTo(l.host):u.appendTo(document.body),l.container=u,l.listBoxContainer=e(e.find("#innerListBox"+l.id))
var p=l.width
"auto"!=l.dropDownWidth&&(p=l.dropDownWidth),null==p&&0==(p=l.host.width())&&(p=l.dropDownWidth),null==l.dropDownHeight&&(l.dropDownHeight=200)
l.container.width(parseInt(p)+25),l.container.height(parseInt(l.dropDownHeight)+25),l._ready=!1,l.addHandler(l.listBoxContainer,"bindingComplete",function(t){l.listBox||(l.listBox=e.data(l.listBoxContainer[0],"jqxListBox").instance),l.selectedIndex!=l.listBoxContainer.jqxListBox("selectedIndex")?(l.listBox=e.data(l.listBoxContainer[0],"jqxListBox").instance,l.listBoxContainer.jqxListBox({selectedIndex:l.selectedIndex}),l.renderSelection("mouse")):l.renderSelection("mouse"),l._ready||(l.ready&&l.ready(),l._ready=!0),l._raiseEvent("6")}),l.addHandler(l.listBoxContainer,"itemAdd",function(e){l._raiseEvent("7",e.args)}),l.addHandler(l.listBoxContainer,"itemRemove",function(e){l._raiseEvent("8",e.args)}),l.addHandler(l.listBoxContainer,"itemUpdate",function(e){l._raiseEvent("9",e.args)}),l.listBoxContainer.jqxListBox({filterHeight:l.filterHeight,filterPlaceHolder:l.filterPlaceHolder,filterDelay:l.filterDelay,autoItemsHeight:l.autoItemsHeight,filterable:l.filterable,allowDrop:!1,allowDrag:!1,autoBind:l.autoBind,_checkForHiddenParent:!1,focusable:l.focusable,touchMode:l.touchMode,checkboxes:l.checkboxes,rtl:l.rtl,_renderOnDemand:!0,emptyString:l.emptyString,itemHeight:l.itemHeight,width:p,searchMode:l.searchMode,incrementalSearch:l.incrementalSearch,incrementalSearchDelay:l.incrementalSearchDelay,groupMember:l.groupMember,searchMember:l.searchMember,displayMember:l.displayMember,valueMember:l.valueMember,height:l.dropDownHeight,autoHeight:l.autoDropDownHeight,scrollBarSize:l.scrollBarSize,selectedIndex:l.selectedIndex,source:l.source,theme:l.theme,rendered:function(){l.selectedIndex!=l.listBoxContainer.jqxListBox("selectedIndex")?(l.listBox=e.data(l.listBoxContainer[0],"jqxListBox").instance,l.listBoxContainer.jqxListBox({selectedIndex:l.selectedIndex}),l.renderSelection("mouse")):l.renderSelection("mouse")},renderer:l.renderer,filterChange:function(e){l.autoDropDownHeight&&l.container.height(l.listBoxContainer.height()+25)}}),"element"===l.dropDownContainer?l.listBoxContainer.css({position:"absolute",top:0,left:0}):l.listBoxContainer.css({position:"absolute",zIndex:l.popupZIndex,top:0,left:0}),l.template&&l.listBoxContainer.addClass(l.toThemeProperty("jqx-"+l.template+"-item")),l.listBox=e.data(l.listBoxContainer[0],"jqxListBox").instance,l.listBox.enableSelection=l.enableSelection,l.listBox.enableHover=l.enableHover,l.listBox.equalItemsWidth=l.equalItemsWidth,l.listBox.selectIndex(l.selectedIndex),l.listBox._arrange(),l.listBoxContainer.addClass(l.toThemeProperty("jqx-popup")),e.jqx.browser.msie&&l.listBoxContainer.addClass(l.toThemeProperty("jqx-noshadow")),l.addHandler(l.listBoxContainer,"unselect",function(e){l._raiseEvent("3",{index:e.args.index,type:e.args.type,item:e.args.item})}),l.addHandler(l.listBoxContainer,"change",function(e){e.args&&("keyboard"!=e.args.type?l._raiseEvent("4",{index:e.args.index,type:e.args.type,item:e.args.item}):"keyboard"==e.args.type&&(l.isOpened()||l._raiseEvent("4",{index:l.selectedIndex,type:"keyboard",item:l.getItem(l.selectedIndex)})))}),"none"==l.animationType?l.container.css("display","none"):l.container.hide()}catch(e){console&&console.log(e)}if((l=l).propertyChangeMap.disabled=function(t,i,n,r){r?(t.host.addClass(l.toThemeProperty("jqx-dropdownlist-state-disabled")),t.host.addClass(l.toThemeProperty("jqx-fill-state-disabled")),t.dropdownlistContent.addClass(l.toThemeProperty("jqx-dropdownlist-content-disabled"))):(t.host.removeClass(l.toThemeProperty("jqx-dropdownlist-state-disabled")),t.host.removeClass(l.toThemeProperty("jqx-fill-state-disabled")),t.dropdownlistContent.removeClass(l.toThemeProperty("jqx-dropdownlist-content-disabled"))),e.jqx.aria(t,"aria-disabled",t.disabled)},l.disabled&&(l.host.addClass(l.toThemeProperty("jqx-dropdownlist-state-disabled")),l.host.addClass(l.toThemeProperty("jqx-fill-state-disabled")),l.dropdownlistContent.addClass(l.toThemeProperty("jqx-dropdownlist-content-disabled"))),"top"==l.dropDownVerticalAlignment?l.arrow.addClass(l.toThemeProperty("jqx-icon-arrow-up")):l.arrow.addClass(l.toThemeProperty("jqx-icon-arrow-down")),l.arrow.addClass(l.toThemeProperty("jqx-icon")),"simple"===l.renderMode&&(l.arrow.remove(),l.host.removeClass(l.toThemeProperty("jqx-fill-state-normal")),l.host.removeClass(l.toThemeProperty("jqx-rc-all"))),l.template&&l.host.addClass(l.toThemeProperty("jqx-"+l.template)),l._updateHandlers(),l._setSize(),l._arrange(),l.listBox&&l.renderSelection(),e.jqx.browser.msie&&e.jqx.browser.version<8&&l.host.parents(".jqx-window").length>0){var m=l.host.parents(".jqx-window").css("z-index")
u.css("z-index",m+10),l.listBoxContainer.css("z-index",m+10)}},resize:function(e,t){this.width=e,this.height=t,this._setSize(),this._arrange()},val:function(e){if(!this.dropdownlistContent)return""
if(this.input&&(function(t){for(var i in t)if(t.hasOwnProperty(i))return!1
return"number"!=typeof e&&"date"!=typeof e&&"boolean"!=typeof e&&"string"!=typeof e}(e)||0==arguments.length))return this.input.val()
var t=this.getItemByValue(e)
return null!=t&&this.selectItem(t),this.input?this.input.val():void 0},focus:function(){try{var e=this,t=function(){e.host&&(e.host.focus(),e._firstDiv&&e._firstDiv.focus())}
t(),setTimeout(function(){t()},10)}catch(e){}},_addInput:function(){var t=this.host.attr("name")
this.input=e("<input type='hidden'/>"),this.host.append(this.input),t&&this.input.attr("name",t)},getItems:function(){return this.listBox?this.listBox.items:new Array},getVisibleItems:function(){return this.listBox.getVisibleItems()},_setSize:function(){null!=this.width&&-1!=this.width.toString().indexOf("px")?this.host.width(this.width):null==this.width||isNaN(this.width)||this.host.width(this.width),null!=this.height&&-1!=this.height.toString().indexOf("px")?this.host.height(this.height):null==this.height||isNaN(this.height)||this.host.height(this.height)
var t=!1
null!=this.width&&-1!=this.width.toString().indexOf("%")&&(t=!0,this.element.style.width=this.width),null!=this.height&&-1!=this.height.toString().indexOf("%")&&(t=!0,this.element.style.height=this.height)
var i=this
if(t){var n=this.host.width()
"auto"!=this.dropDownWidth&&(n=this.dropDownWidth),this.listBoxContainer.jqxListBox({width:n}),this.container.width(parseInt(n)+25)}e.jqx.utilities.resize(this.host,function(){!function(){if(i._arrange(),"auto"==i.dropDownWidth){var e=i.host.width()
i.listBoxContainer.jqxListBox({width:e}),i.container.width(parseInt(e)+25)}}()},!1,this._checkForHiddenParent)},isOpened:function(){var t=e.data(document.body,"openedJQXListBox"+this.id)
return null!=t&&t==this.listBoxContainer},_updateHandlers:function(){var t=this
this.removeHandlers(),this.touch||(this.addHandler(this.host,"mouseenter",function(){!t.disabled&&t.enableHover&&"simple"!==t.renderMode&&(!0,t.host.addClass(t.toThemeProperty("jqx-dropdownlist-state-hover")),"top"==t.dropDownVerticalAlignment?t.arrow.addClass(t.toThemeProperty("jqx-icon-arrow-up-hover")):t.arrow.addClass(t.toThemeProperty("jqx-icon-arrow-down-hover")),t.host.addClass(t.toThemeProperty("jqx-fill-state-hover")))}),this.addHandler(this.host,"mouseleave",function(){!t.disabled&&t.enableHover&&"simple"!==t.renderMode&&(t.host.removeClass(t.toThemeProperty("jqx-dropdownlist-state-hover")),t.host.removeClass(t.toThemeProperty("jqx-fill-state-hover")),t.arrow.removeClass(t.toThemeProperty("jqx-icon-arrow-down-hover")),t.arrow.removeClass(t.toThemeProperty("jqx-icon-arrow-up-hover")),!1)})),this.host.parents()&&this.addHandler(this.host.parents(),"scroll.dropdownlist"+this.element.id,function(e){t.isOpened()&&t.close()})
var i="mousedown"
this.touch&&(i=e.jqx.mobile.getTouchEventName("touchstart")),this.addHandler(this.dropdownlistWrapper,i,function(e){if(!t.disabled){var i="block"==t.container.css("display")
if(!t.isanimating){if(i)return t.hideListBox(),!1
t.showListBox(),t.focusable?t.focus():e.preventDefault&&e.preventDefault()}}}),t.autoOpen&&(this.addHandler(this.host,"mouseenter",function(){!t.isOpened()&&t.autoOpen&&(t.open(),t.host.focus())}),e(document).on("mousemove."+t.id,function(e){if(t.isOpened()&&t.autoOpen){var i=t.host.coord(),n=i.top,r=i.left,o=t.container.coord(),a=o.left,s=o.top,l=!0
e.pageY>=n&&e.pageY<=n+t.host.height()&&e.pageX>=r&&e.pageX<r+t.host.width()&&(l=!1),e.pageY>=s&&e.pageY<=s+t.container.height()&&e.pageX>=a&&e.pageX<a+t.container.width()&&(l=!1),l&&t.close()}})),this.touch?this.addHandler(e(document),e.jqx.mobile.getTouchEventName("touchstart")+"."+this.id,t.closeOpenedListBox,{me:this,listbox:this.listBox,id:this.id}):this.addHandler(e(document),"mousedown."+this.id,t.closeOpenedListBox,{me:this,listbox:this.listBox,id:this.id}),this.addHandler(this.host,"keydown",function(e){var i="block"==t.container.css("display")
if("none"==t.host.css("display"))return!0
if(("13"==e.keyCode||"9"==e.keyCode)&&!t.isanimating)return i&&(t.renderSelection(),"13"==e.keyCode&&t.focusable&&t._firstDiv.focus(),t.hideListBox(),t.keyboardSelection||t._raiseEvent("2",{index:t.selectedIndex,type:"keyboard",item:t.getItem(t.selectedIndex)}),"13"==e.keyCode&&t._raiseEvent("4",{index:t.selectedIndex,type:"keyboard",item:t.getItem(t.selectedIndex)})),!i||"9"==e.keyCode
if(115==e.keyCode)return t.isanimating||(t.isOpened()?t.isOpened()&&t.hideListBox():t.showListBox()),!1
if(e.altKey&&"block"==t.host.css("display"))if(38==e.keyCode){if(t.isOpened())return t.hideListBox(),!0}else if(40==e.keyCode&&!t.isOpened())return t.showListBox(),!0
return"27"!=e.keyCode||t.ishiding?t.disabled?void 0:(t._kbnavigated=t.listBox._handleKeyDown(e),t._kbnavigated):(t.isOpened()&&(t.hideListBox(),null!=t.tempSelectedIndex&&t.selectIndex(t.tempSelectedIndex)),!0)}),this.addHandler(this.listBoxContainer,"checkChange",function(e){t.renderSelection(),t._updateInputSelection(),t._raiseEvent(5,{label:e.args.label,value:e.args.value,checked:e.args.checked,item:e.args.item})}),this.addHandler(this.listBoxContainer,"select",function(e){if(!t.disabled){if(!e.args)return
"keyboard"!=e.args.type||t.isOpened()||t.renderSelection(),("keyboard"!=e.args.type||t.keyboardSelection)&&(t.renderSelection(),t._raiseEvent("2",{index:e.args.index,type:e.args.type,item:e.args.item,originalEvent:e.args.originalEvent}),"mouse"==e.args.type&&(t.checkboxes||(t.hideListBox(),t._firstDiv&&t.focusable&&t._firstDiv.focus())))}}),this.listBox&&this.listBox.content&&this.addHandler(this.listBox.content,"click",function(e){if(!t.disabled){if(t.listBox.itemswrapper&&e.target===t.listBox.itemswrapper[0])return!0
t.renderSelection("mouse"),t.touch||t.ishiding||t.checkboxes||(t.hideListBox(),t._firstDiv&&t.focusable&&t._firstDiv.focus()),t.keyboardSelection||(!1===t._kbnavigated&&(t.tempSelectedIndex!=t.selectedIndex&&t._raiseEvent("4",{index:t.selectedIndex,type:"mouse",item:t.getItem(t.selectedIndex)}),t._kbnavigated=!0),null==t._oldSelectedInd&&(t._oldSelectedIndx=t.selectedIndex),t.selectedIndex!=t._oldSelectedIndx&&(t._raiseEvent("2",{index:t.selectedIndex,type:"keyboard",item:t.getItem(t.selectedIndex)}),t._oldSelectedIndx=t.selectedIndex))}}),this.addHandler(this.host,"focus",function(e){"simple"!==t.renderMode&&(t.host.addClass(t.toThemeProperty("jqx-dropdownlist-state-focus")),t.host.addClass(t.toThemeProperty("jqx-fill-state-focus")))}),this.addHandler(this.host,"blur",function(){"simple"!==t.renderMode&&(t.host.removeClass(t.toThemeProperty("jqx-dropdownlist-state-focus")),t.host.removeClass(t.toThemeProperty("jqx-fill-state-focus")))}),this.addHandler(this._firstDiv,"focus",function(e){"simple"!==t.renderMode&&(t.host.addClass(t.toThemeProperty("jqx-dropdownlist-state-focus")),t.host.addClass(t.toThemeProperty("jqx-fill-state-focus")))}),this.addHandler(this._firstDiv,"blur",function(){"simple"!==t.renderMode&&(t.host.removeClass(t.toThemeProperty("jqx-dropdownlist-state-focus")),t.host.removeClass(t.toThemeProperty("jqx-fill-state-focus")))})},removeHandlers:function(){var t="mousedown"
this.touch&&(t=e.jqx.mobile.getTouchEventName("touchstart")),this.removeHandler(this.dropdownlistWrapper,t),this.listBox&&this.listBox.content&&this.removeHandler(this.listBox.content,"click"),this.removeHandler(this.host,"loadContent"),this.removeHandler(this.listBoxContainer,"checkChange"),this.removeHandler(this.host,"keydown"),this.removeHandler(this.host,"focus"),this.removeHandler(this.host,"blur"),this.removeHandler(this._firstDiv,"focus"),this.removeHandler(this._firstDiv,"blur"),this.removeHandler(this.host,"mouseenter"),this.removeHandler(this.host,"mouseleave"),this.removeHandler(e(document),"mousemove."+this.id)},getItem:function(e){return this.listBox.getItem(e)},getItemByValue:function(e){return this.listBox.getItemByValue(e)},selectItem:function(e){null!=this.listBox&&(this.listBox.selectItem(e),this.selectedIndex=this.listBox.selectedIndex,this.renderSelection("mouse"))},unselectItem:function(e){null!=this.listBox&&(this.listBox.unselectItem(e),this.renderSelection("mouse"))},checkItem:function(e){null!=this.listBox&&this.listBox.checkItem(e)},uncheckItem:function(e){null!=this.listBox&&this.listBox.uncheckItem(e)},indeterminateItem:function(e){null!=this.listBox&&this.listBox.indeterminateItem(e)},renderSelection:function(){if(null!=this.listBox){this.height&&-1!=this.height.toString().indexOf("%")&&this._arrange()
var t=this.listBox.visibleItems[this.listBox.selectedIndex]
if(this.filterable&&-1==this.listBox.selectedIndex)for(var i in this.listBox.selectedValues){var n=this.listBox.selectedValues[i],r=this.listBox.getItemByValue(n)
r&&(t=r)}if(this.checkboxes){var o=this.getCheckedItems()
t=null!=o&&o.length>0?o[0]:null}if(null==t){var a;(a=e('<span unselectable="on" style="color: inherit; border: none; background-color: transparent;"></span>')).appendTo(e(document.body)),a.addClass(this.toThemeProperty("jqx-widget")),a.addClass(this.toThemeProperty("jqx-listitem-state-normal")),a.addClass(this.toThemeProperty("jqx-item")),e.jqx.utilities.html(a,this.placeHolder)
var s=this.dropdownlistContent.css("padding-top"),l=this.dropdownlistContent.css("padding-bottom")
a.css("padding-top",s),a.css("padding-bottom",l)
var d=a.outerHeight()
a.remove(),a.removeClass(),e.jqx.utilities.html(this.dropdownlistContent,a)
var c=this.host.height()
return null!=this.height&&null!=this.height&&-1===this.height.toString().indexOf("%")&&(c=parseInt(this.height)),(v=parseInt((parseInt(c)-parseInt(d))/2))>0&&(this.dropdownlistContent.css("margin-top",v+"px"),this.dropdownlistContent.css("margin-bottom",v+"px")),this.selectionRenderer?(e.jqx.utilities.html(this.dropdownlistContent,this.selectionRenderer(a,-1,"","")),this.dropdownlistContent.css("margin-top","0px"),this.dropdownlistContent.css("margin-bottom","0px"),this._updateInputSelection()):this._updateInputSelection(),this.selectedIndex=this.listBox.selectedIndex,"auto"===this.width&&this._arrange(),void(this.focusable&&this.isOpened()&&this.focus())}this.selectedIndex=this.listBox.selectedIndex,(a=e(document.createElement("span")))[0].setAttribute("unselectable","on")
try{a[0].style.color="inherit"}catch(e){}a[0].style.borderWidth="0px",a[0].style.backgroundColor="transparent",a.appendTo(e(document.body)),a.addClass(this.toThemeProperty("jqx-widget jqx-listitem-state-normal jqx-item"))
var h=!1
try{null!=t.html&&null!=t.html&&t.html.toString().length>0?e.jqx.utilities.html(a,t.html):null!=t.label&&null!=t.label&&t.label.toString().length>0?e.jqx.utilities.html(a,t.label):null===t.label||""===t.label?(h=!0,e.jqx.utilities.html(a,"")):null!=t.value&&null!=t.value&&t.value.toString().length>0?e.jqx.utilities.html(a,t.value):null!=t.title&&null!=t.title&&t.title.toString().length>0?e.jqx.utilities.html(a,t.title):""!=t.label&&null!=t.label||(h=!0,e.jqx.utilities.html(a,""))}catch(e){}""===(s=this.dropdownlistContent[0].style.paddingTop)&&(s="0px"),""===(l=this.dropdownlistContent[0].style.paddingBottom)&&(l="0px"),a[0].style.paddingTop=s,a[0].style.paddingBottom=l,0===(d=a.outerHeight())&&(d=16),""!=t.label&&null!=t.label||!h||e.jqx.utilities.html(a,"")
var u=this.width&&this.width.toString().indexOf("%")<=0
if(a.remove(),a.removeClass(),this.selectionRenderer)e.jqx.utilities.html(this.dropdownlistContent,this.selectionRenderer(a,t.index,t.label,t.value)),this.focusable&&this.isOpened()&&this.focus()
else if(this.checkboxes){for(var p=this.getCheckedItems(),m="",f=0;f<p.length;f++)f==p.length-1?m+=p[f].label:m+=p[f].label+","
a.text(m),u&&a.css("max-width",this.host.width()-30),a.css("overflow","hidden"),a.css("display","block"),this.rtl||u&&a.css("width",this.host.width()-30),a.css("text-overflow","ellipsis"),a.css("padding-bottom",1+parseInt(l)),this.dropdownlistContent.html(a),this.focusable&&this.isOpened()&&this.focus()}else{var g=this.host.width()-this.arrowSize-3
this.width&&"auto"!==this.width&&(u&&(this.rtl||a.css("max-width",g+"px")),a[0].style.overflow="hidden",a[0].style.display="block",a[0].style.paddingTop=1+parseInt(l)+"px",this.rtl||u&&(g<0&&(g=0),a[0].style.width=g+"px"),a[0].style.textOverflow="ellipsis"),this.dropdownlistContent[0].innerHTML=a[0].innerHTML,this.focusable&&this.isOpened()&&this.focus()}var v
c=this.host.height()
null!=this.height&&null!=this.height&&-1===this.height.toString().indexOf("%")&&(c=parseInt(this.height)),(v=parseInt((parseInt(c)-parseInt(d))/2))>=0&&(this.dropdownlistContent[0].style.marginTop=v+"px",this.dropdownlistContent[0].style.marginBottom=v+"px"),this.selectionRenderer&&(this.dropdownlistContent[0].style.marginTop="0px",this.dropdownlistContent[0].style.marginBottom="0px"),this.dropdownlistContent&&this.input&&this._updateInputSelection(),this.listBox&&this.listBox._activeElement&&e.jqx.aria(this,"aria-activedescendant",this.listBox._activeElement.id),"auto"===this.width&&this._arrange()}},_updateInputSelection:function(){if(this.input){var t=new Array
if(-1==this.selectedIndex)this.input.val("")
else{var i=this.getSelectedItem()
null!=i?(this.input.val(i.value),t.push(i.value)):this.input.val(this.dropdownlistContent.text())}if(this.checkboxes){var n=this.getCheckedItems(),r=""
if(null!=n)for(var o=0;o<n.length;o++){var a=n[o].value
null!=a&&(o==n.length-1?r+=a:r+=a+",",t.push(a))}this.input.val(r)}}this.field&&this.input&&("select"==this.field.nodeName.toLowerCase()?e.each(this.field,function(i,n){e(this).removeAttr("selected"),this.selected=t.indexOf(this.value)>=0,this.selected&&e(this).attr("selected",!0)}):e.each(this.items,function(i,n){e(this.originalItem.originalItem).removeAttr("data-selected"),this.selected=t.indexOf(this.value)>=0,this.selected&&e(this.originalItem.originalItem).attr("data-selected",!0)}))},setContent:function(t){e.jqx.utilities.html(this.dropdownlistContent,t),this._updateInputSelection()},dataBind:function(){this.listBoxContainer.jqxListBox({source:this.source}),this.renderSelection("mouse"),null==this.source&&this.clearSelection()},clear:function(){this.listBoxContainer.jqxListBox({source:null}),this.clearSelection()},clearSelection:function(t){this.selectedIndex=-1,this._updateInputSelection(),this.listBox.clearSelection(),this.renderSelection(),this.selectionRenderer||e.jqx.utilities.html(this.dropdownlistContent,this.placeHolder)},unselectIndex:function(e,t){isNaN(e)||(this.listBox.unselectIndex(e,t),this.renderSelection())},selectIndex:function(e,t,i,n){this.listBox.selectIndex(e,t,i,n,"api")},getSelectedIndex:function(){return this.selectedIndex},getSelectedItem:function(){return this.listBox.getVisibleItem(this.selectedIndex)},getCheckedItems:function(){return this.listBox.getCheckedItems()},checkIndex:function(e){this.listBox.checkIndex(e)},uncheckIndex:function(e){this.listBox.uncheckIndex(e)},indeterminateIndex:function(e){this.listBox.indeterminateIndex(e)},checkAll:function(){this.listBox.checkAll(),this.renderSelection("mouse")},uncheckAll:function(){this.listBox.uncheckAll(),this.renderSelection("mouse")},addItem:function(e){return this.listBox.addItem(e)},insertAt:function(e,t){return null!=e&&this.listBox.insertAt(e,t)},removeAt:function(e){var t=this.listBox.removeAt(e)
return this.renderSelection("mouse"),t},removeItem:function(e){var t=this.listBox.removeItem(e)
return this.renderSelection("mouse"),t},updateItem:function(e,t){var i=this.listBox.updateItem(e,t)
return this.renderSelection("mouse"),i},updateAt:function(e,t){var i=this.listBox.updateAt(e,t)
return this.renderSelection("mouse"),i},ensureVisible:function(e){return this.listBox.ensureVisible(e)},disableAt:function(e){return this.listBox.disableAt(e)},enableAt:function(e){return this.listBox.enableAt(e)},disableItem:function(e){return this.listBox.disableItem(e)},enableItem:function(e){return this.listBox.enableItem(e)},_findPos:function(t){for(;t&&("hidden"==t.type||1!=t.nodeType||e.expr.filters.hidden(t));)t=t.nextSibling
var i=e(t).coord(!0)
return[i.left,i.top]},testOffset:function(t,i,n){var r=t.outerWidth(),o=t.outerHeight(),a=e(window).width()+e(window).scrollLeft(),s=e(window).height()+e(window).scrollTop()
if(i.left+r>a&&r>this.host.width()){var l=this.host.coord().left,d=r-this.host.width()
i.left=l-d+2}return i.left<0&&(i.left=parseInt(this.host.coord().left)+"px"),i.top-=Math.min(i.top,i.top+o>s&&s>o?Math.abs(o+n+22):0),i},open:function(){this.showListBox()},close:function(){this.hideListBox()},_getBodyOffset:function(){var t=0,i=0
return"0px"!=e("body").css("border-top-width")&&(t=parseInt(e("body").css("border-top-width")),isNaN(t)&&(t=0)),"0px"!=e("body").css("border-left-width")&&(i=parseInt(e("body").css("border-left-width")),isNaN(i)&&(i=0)),{left:i,top:t}},showListBox:function(){if(e.jqx.aria(this,"aria-expanded",!0),this.listBox._renderOnDemand&&this.listBoxContainer.jqxListBox({_renderOnDemand:!1}),"auto"==this.dropDownWidth&&null!=this.width&&this.width.indexOf&&(-1!=this.width.indexOf("%")||-1!=this.width.indexOf("auto"))&&this.listBox.host.width()!=this.host.width()){var t=this.host.width()
this.listBoxContainer.jqxListBox({width:t}),this.container.width(parseInt(t)+25)}var i,n=this,r=this.listBoxContainer,o=this.listBox,a=(e(window).scrollTop(),e(window).scrollLeft(),parseInt(this._findPos(this.host[0])[1])+parseInt(this.host.outerHeight())-1+"px"),s=parseInt(Math.round(this.host.coord(!0).left))
i=s+"px","element"===this.dropDownContainer&&(a=parseInt(this.host.outerHeight())-1+"px",i=0)
var l=e.jqx.mobile.isSafariMobileBrowser()||e.jqx.mobile.isWindowsPhone()
if(null!=this.listBox){this.ishiding=!1,this.keyboardSelection||(this.listBox.selectIndex(this.selectedIndex),this.listBox.ensureVisible(this.selectedIndex)),this.tempSelectedIndex=this.selectedIndex,this.autoDropDownHeight&&this.container.height(this.listBoxContainer.height()+25),null!=l&&l&&(i=e.jqx.mobile.getLeftPos(this.element),a=e.jqx.mobile.getTopPos(this.element)+parseInt(this.host.outerHeight()),"0px"!=e("body").css("border-top-width")&&(a=parseInt(a)-this._getBodyOffset().top+"px"),"0px"!=e("body").css("border-left-width")&&(i=parseInt(i)-this._getBodyOffset().left+"px")),r.stop(),"simple"!==this.renderMode&&(this.host.addClass(this.toThemeProperty("jqx-dropdownlist-state-selected")),this.host.addClass(this.toThemeProperty("jqx-fill-state-pressed")),"top"==this.dropDownVerticalAlignment?this.arrow.addClass(this.toThemeProperty("jqx-icon-arrow-up-selected")):this.arrow.addClass(this.toThemeProperty("jqx-icon-arrow-down-selected"))),this.container.css("left",i),this.container.css("top",a),o._arrange()
var d=!1
if("right"==this.dropDownHorizontalAlignment||this.rtl){var c=this.container.outerWidth(),h=Math.abs(c-this.host.width())
c>this.host.width()?this.container.css("left",25+parseInt(Math.round(s))-h+"px"):this.container.css("left",25+parseInt(Math.round(s))+h+"px")}if("top"==this.dropDownVerticalAlignment){var u=r.height()
d=!0,r.css("top",23),r.addClass(this.toThemeProperty("jqx-popup-up"))
var p=parseInt(this.host.outerHeight()),m=parseInt(a)-Math.abs(u+p+23)
this.container.css("top",m)}if(this.enableBrowserBoundsDetection){var f=this.testOffset(r,{left:parseInt(this.container.css("left")),top:parseInt(a)},parseInt(this.host.outerHeight()))
parseInt(this.container.css("top"))!=f.top?(d=!0,r.css("top",23),r.addClass(this.toThemeProperty("jqx-popup-up"))):r.css("top",0),this.container.css("top",f.top),parseInt(this.container.css("left"))!=f.left&&this.container.css("left",f.left)}if("none"==this.animationType)this.container.css("display","block"),e.data(document.body,"openedJQXListBoxParent",n),e.data(document.body,"openedJQXListBox"+this.id,r),r.css("margin-top",0),r.css("opacity",1),o._renderItems(),n._raiseEvent("0",o)
else if(this.container.css("display","block"),n.isanimating=!0,"fade"==this.animationType)r.css("margin-top",0),r.css("opacity",0),r.animate({opacity:1},this.openDelay,function(){e.data(document.body,"openedJQXListBoxParent",n),e.data(document.body,"openedJQXListBox"+n.id,r),n.ishiding=!1,n.isanimating=!1,o._renderItems(),n._raiseEvent("0",o)})
else{r.css("opacity",1)
var g=r.outerHeight()
d?r.css("margin-top",g):r.css("margin-top",-g),r.animate({"margin-top":0},this.openDelay,function(){e.data(document.body,"openedJQXListBoxParent",n),e.data(document.body,"openedJQXListBox"+n.id,r),n.ishiding=!1,n.isanimating=!1,o._renderItems(),n._raiseEvent("0",o)})}d?(this.host.addClass(this.toThemeProperty("jqx-rc-t-expanded")),r.addClass(this.toThemeProperty("jqx-rc-b-expanded"))):(this.host.addClass(this.toThemeProperty("jqx-rc-b-expanded")),r.addClass(this.toThemeProperty("jqx-rc-t-expanded"))),"simple"!==this.renderMode&&(r.addClass(this.toThemeProperty("jqx-fill-state-focus")),this.host.addClass(this.toThemeProperty("jqx-dropdownlist-state-focus")),this.host.addClass(this.toThemeProperty("jqx-fill-state-focus")))}},hideListBox:function(){e.jqx.aria(this,"aria-expanded",!1)
var t=this.listBoxContainer,i=this.listBox,n=this.container,r=this
if(e.data(document.body,"openedJQXListBox"+this.id,null),"none"==this.animationType)this.container.css("display","none")
else if(!r.ishiding){t.stop()
var o=t.outerHeight()
t.css("margin-top",0),r.isanimating=!0
var a=-o
parseInt(this.container.coord().top)<parseInt(this.host.coord().top)&&(a=o),"fade"==this.animationType?(t.css({opacity:1}),t.animate({opacity:0},this.closeDelay,function(){n.css("display","none"),r.isanimating=!1,r.ishiding=!1})):t.animate({"margin-top":a},this.closeDelay,function(){n.css("display","none"),r.isanimating=!1,r.ishiding=!1})}this.ishiding=!0,this.host.removeClass(this.toThemeProperty("jqx-dropdownlist-state-selected")),this.host.removeClass(this.toThemeProperty("jqx-fill-state-pressed")),this.arrow.removeClass(this.toThemeProperty("jqx-icon-arrow-down-selected")),this.arrow.removeClass(this.toThemeProperty("jqx-icon-arrow-up-selected")),this.host.removeClass(this.toThemeProperty("jqx-rc-b-expanded")),t.removeClass(this.toThemeProperty("jqx-rc-t-expanded")),this.host.removeClass(this.toThemeProperty("jqx-rc-t-expanded")),t.removeClass(this.toThemeProperty("jqx-rc-b-expanded")),t.removeClass(this.toThemeProperty("jqx-fill-state-focus")),this.host.removeClass(this.toThemeProperty("jqx-dropdownlist-state-focus")),this.host.removeClass(this.toThemeProperty("jqx-fill-state-focus")),this._raiseEvent("1",i)},closeOpenedListBox:function(t){var i=t.data.me,n=e(t.target),r=t.data.listbox
if(null==r)return!0
if(e(t.target).ischildof(t.data.me.host))return!0
if(!i.isOpened())return!0
if(e(t.target).ischildof(i.listBoxContainer))return!0
var o=!1
return e.each(n.parents(),function(){if("undefined"!=this.className&&this.className.indexOf){if(-1!=this.className.indexOf("jqx-listbox"))return o=!0,!1
if(-1!=this.className.indexOf("jqx-dropdownlist"))return i.element.id==this.id&&(o=!0),!1}}),null!=r&&!o&&i.isOpened()&&i.hideListBox(),!0},clearFilter:function(){this.listBox.clearFilter()},loadFromSelect:function(e){this.listBox.loadFromSelect(e)},refresh:function(e){!0!==e&&(this._setSize(),this._arrange(),this.listBox&&this.renderSelection())},_arrange:function(){var e=parseInt(this.host.width()),t=parseInt(this.host.height()),i=(this.arrowSize,this.arrowSize),n=e-i-6
if(n>0&&"auto"!==this.width?this.dropdownlistContent[0].style.width=n+"px":n<=0&&(this.dropdownlistContent[0].style.width="0px"),"auto"===this.width&&(this.dropdownlistContent.css("width","auto"),e=this.dropdownlistContent.width()+i+6,this.host.width(e)),this.dropdownlistContent[0].style.height=t+"px",this.dropdownlistContent[0].style.left="0px",this.dropdownlistContent[0].style.top="0px",this.dropdownlistArrow[0].style.width=i+"px",this.width&&this.width.toString().indexOf("%")>=0){var r=100*i/e,o=100*n/e
this.dropdownlistArrow[0].style.width=r+"%",this.dropdownlistContent[0].style.width=o+"%"}this.dropdownlistArrow[0].style.height=t+"px",this.rtl&&(this.dropdownlistArrow.css("float","left"),this.dropdownlistContent.css("float","right"))},destroy:function(){e.jqx.utilities.resize(this.host,null,!0),this.removeHandler(this.listBoxContainer,"select"),this.removeHandler(this.listBoxContainer,"unselect"),this.removeHandler(this.listBoxContainer,"change"),this.removeHandler(this.dropdownlistWrapper,"selectstart"),this.removeHandler(this.dropdownlistWrapper,"mousedown"),this.removeHandler(this.host,"keydown"),this.removeHandler(this.listBoxContainer,"select"),this.removeHandler(this.listBox.content,"click"),this.removeHandler(this.listBoxContainer,"bindingComplete"),this.host.parents()&&this.removeHandler(this.host.parents(),"scroll.dropdownlist"+this.element.id),this.removeHandlers(),this.listBoxContainer.jqxListBox("destroy"),this.listBoxContainer.remove(),this.host.removeClass(),this.removeHandler(e(document),"mousedown."+this.id,this.closeOpenedListBox),this.touch&&this.removeHandler(e(document),e.jqx.mobile.getTouchEventName("touchstart")+"."+this.id),this.dropdownlistArrow.remove(),delete this.dropdownlistArrow,delete this.dropdownlistWrapper,delete this.listBoxContainer,delete this.input,delete this.arrow,delete this.dropdownlistContent,delete this.listBox,delete this._firstDiv,this.container.remove(),delete this.container
var t=e.data(this.element,"jqxDropDownList")
t&&delete t.instance,this.host.removeData(),this.host.remove(),delete this.comboStructure,delete this.host,delete this.element},_raiseEvent:function(t,i){null==i&&(i={owner:null})
var n=this.events[t]
i.owner=this
var r=new e.Event(n)
return r.owner=this,2!=t&&3!=t&&4!=t&&5!=t&&6!=t&&7!=t&&8!=t&&9!=t||(r.args=i),this.host.trigger(r)},propertiesChangedHandler:function(e,t,i){if(i.width&&i.height&&2==Object.keys(i).length){if(e._setSize(),"width"==t&&"auto"==e.dropDownWidth){var n=e.host.width()
e.listBoxContainer.jqxListBox({width:n}),e.container.width(parseInt(n)+25)}e._arrange(),e.close()}},propertyChangedHandler:function(t,i,n,r){if(null!=t.isInitialized&&0!=t.isInitialized&&!(t.batchUpdate&&t.batchUpdate.width&&t.batchUpdate.height&&2==Object.keys(t.batchUpdate).length)){if("template"==i&&(t.listBoxContainer.removeClass(t.toThemeProperty("jqx-"+n+"-item")),t.listBoxContainer.addClass(t.toThemeProperty("jqx-"+t.template+"-item")),t.host.removeClass(t.toThemeProperty("jqx-"+n)),t.host.addClass(t.toThemeProperty("jqx-"+t.template))),"dropDownVerticalAlignment"==i&&(t.arrow.removeClass(t.toThemeProperty("jqx-icon-arrow-up")),t.arrow.removeClass(t.toThemeProperty("jqx-icon-arrow-down")),"top"==t.dropDownVerticalAlignment?t.arrow.addClass(t.toThemeProperty("jqx-icon-arrow-up")):t.arrow.addClass(t.toThemeProperty("jqx-icon-arrow-down")),t.listBoxContainer.css("top",0),t.listBoxContainer.removeClass(this.toThemeProperty("jqx-popup-up"))),"autoItemsHeight"==i&&t.listBoxContainer.jqxListBox({autoItemsHeight:r}),"filterable"==i&&t.listBoxContainer.jqxListBox({filterable:r}),"filterHeight"==i&&t.listBoxContainer.jqxListBox({filterHeight:r}),"filterPlaceHolder"==i&&t.listBoxContainer.jqxListBox({filterPlaceHolder:r}),"filterDelay"==i&&t.listBoxContainer.jqxListBox({filterDelay:r}),"enableSelection"==i&&t.listBoxContainer.jqxListBox({enableSelection:r}),"enableHover"==i&&t.listBoxContainer.jqxListBox({enableHover:r}),"autoOpen"==i&&t._updateHandlers(),"emptyString"==i&&(t.listBox.emptyString=t.emptyString),"itemHeight"==i&&t.listBoxContainer.jqxListBox({itemHeight:r}),"renderer"==i&&t.listBoxContainer.jqxListBox({renderer:r}),"rtl"==i&&(r?(t.dropdownlistArrow.css("float","left"),t.dropdownlistContent.css("float","right")):(t.dropdownlistArrow.css("float","right"),t.dropdownlistContent.css("float","left")),t.listBoxContainer.jqxListBox({rtl:t.rtl})),"source"==i&&(t.listBoxContainer.jqxListBox({source:t.source}),t.listBox.selectedIndex=-1,t.listBox.selectIndex(this.selectedIndex),t.renderSelection(),null==r&&t.clear()),"displayMember"!=i&&"valueMember"!=i||(t.listBoxContainer.jqxListBox({displayMember:t.displayMember,valueMember:t.valueMember}),t.renderSelection()),"placeHolder"==i&&t.renderSelection(),"theme"==i&&null!=r&&(t.listBoxContainer.jqxListBox({theme:r}),t.listBoxContainer.addClass(t.toThemeProperty("jqx-popup")),e.jqx.utilities.setTheme(n,r,t.host)),"autoDropDownHeight"==i&&(t.listBoxContainer.jqxListBox({autoHeight:t.autoDropDownHeight}),t.autoDropDownHeight?t.container.height(t.listBoxContainer.height()+25):(t.listBoxContainer.jqxListBox({height:t.dropDownHeight}),t.container.height(parseInt(t.dropDownHeight)+25)),t.listBox._arrange(),t.listBox._updatescrollbars()),"searchMode"==i&&t.listBoxContainer.jqxListBox({searchMode:t.searchMode}),"incrementalSearch"==i&&t.listBoxContainer.jqxListBox({incrementalSearch:t.incrementalSearch}),"incrementalSearchDelay"==i&&t.listBoxContainer.jqxListBox({incrementalSearchDelay:t.incrementalSearchDelay}),"dropDownHeight"==i&&(t.autoDropDownHeight||(t.listBoxContainer.jqxListBox({height:t.dropDownHeight}),t.container.height(parseInt(t.dropDownHeight)+25))),"dropDownWidth"==i||"scrollBarSize"==i){var o=t.width
"auto"!=t.dropDownWidth&&(o=t.dropDownWidth),t.listBoxContainer.jqxListBox({width:o,scrollBarSize:t.scrollBarSize}),t.container.width(parseInt(o)+25)}if(("width"==i||"height"==i)&&r!=n){if(this.refresh(),"width"==i&&"auto"==t.dropDownWidth){o=t.host.width()
t.listBoxContainer.jqxListBox({width:o}),t.container.width(parseInt(o)+25)}t.close()}"checkboxes"==i&&t.listBoxContainer.jqxListBox({checkboxes:t.checkboxes}),"selectedIndex"==i&&null!=t.listBox&&(t.listBox.selectIndex(parseInt(r)),t.renderSelection())}}})}(jqxBaseFramework)
var bi=Object.freeze({})
!function(e){e.jqx.jqxWidget("jqxExpander","",{}),e.extend(e.jqx._jqxExpander.prototype,{defineInstance:function(){var t={width:"auto",height:"auto",expanded:!0,expandAnimationDuration:259,collapseAnimationDuration:250,animationType:"slide",toggleMode:"click",showArrow:!0,arrowPosition:"right",headerPosition:"top",disabled:!1,initContent:null,rtl:!1,easing:"easeInOutSine",aria:{"aria-disabled":{name:"disabled",type:"boolean"}},events:["expanding","expanded","collapsing","collapsed","resize"]}
return this===e.jqx._jqxExpander.prototype?t:(e.extend(!0,this,t),t)},createInstance:function(){this._isTouchDevice=e.jqx.mobile.isTouchDevice(),e.jqx.aria(this),this._cachedHTMLStructure=this.host.html(),this._rendered=!1,this.render(),this._rendered=!0},expand:function(){if(!1===this.disabled&&!1===this.expanded&&1==this._expandChecker){var t=this
switch(this._expandChecker=0,this._raiseEvent("0"),this._header.removeClass(this.toThemeProperty("jqx-fill-state-normal")),this._header.addClass(this.toThemeProperty("jqx-fill-state-pressed jqx-expander-header-expanded")),"top"==this.headerPosition?(this._arrow.removeClass(this.toThemeProperty("jqx-icon-arrow-down jqx-icon-arrow-down-hover jqx-icon-arrow-up-hover jqx-icon-arrow-down-selected jqx-expander-arrow-top")),this._arrow.addClass(this.toThemeProperty("jqx-icon-arrow-up jqx-icon-arrow-up-selected jqx-expander-arrow-bottom jqx-expander-arrow-expanded"))):"bottom"==this.headerPosition&&(this._arrow.removeClass(this.toThemeProperty("jqx-icon-arrow-up jqx-icon-arrow-up-selected jqx-icon-arrow-down-hover jqx-icon-arrow-up-hover jqx-expander-arrow-bottom")),this._arrow.addClass(this.toThemeProperty("jqx-icon-arrow-down jqx-expander-arrow-top jqx-expander-arrow-expanded-top"))),this.animationType){case"slide":"top"==this.headerPosition?this._content.slideDown({duration:this.expandAnimationDuration,easing:this.easing,complete:function(){t.expanded=!0,e.jqx.aria(t._header,"aria-expanded",!0),e.jqx.aria(t._content,"aria-hidden",!1),t._raiseEvent("1"),t.initContent&&!1===t._initialized&&(t.initContent(),t._initialized=!0)}}):"bottom"==this.headerPosition&&(this._contentElement.style.display="",this._contentElement.style.height="0px",e.jqx.browser.msie&&e.jqx.browser.version<8&&(this._contentElement.style.display="block"),!0===this._cntntEmpty?this._content.animate({height:0},{duration:this.expandAnimationDuration,easing:this.easing,complete:function(){t.expanded=!0,e.jqx.aria(t._header,"aria-expanded",!0),e.jqx.aria(t._content,"aria-hidden",!1),t._raiseEvent("1"),t.initContent&&!1===t._initialized&&(t.initContent(),t._initialized=!0)}}):this._content.animate({height:this._contentHeight},{duration:this.expandAnimationDuration,easing:this.easing,complete:function(){t.expanded=!0,e.jqx.aria(t._header,"aria-expanded",!0),e.jqx.aria(t._content,"aria-hidden",!1),t._raiseEvent("1"),t.initContent&&!1===t._initialized&&(t.initContent(),t._initialized=!0)}}))
break
case"fade":this._content.fadeIn({duration:this.expandAnimationDuration,easing:this.easing,complete:function(){t.expanded=!0,e.jqx.aria(t._header,"aria-expanded",!0),e.jqx.aria(t._content,"aria-hidden",!1),t._raiseEvent("1"),t.initContent&&!1===t._initialized&&(t.initContent(),t._initialized=!0)}})
break
case"none":this._contentElement.style.display="",this.expanded=!0,e.jqx.aria(t._header,"aria-expanded",!0),e.jqx.aria(t._content,"aria-hidden",!1),this._raiseEvent("1"),this.initContent&&!1===this._initialized&&(this.initContent(),this._initialized=!0)}}},collapse:function(){if(!1===this.disabled&&!0===this.expanded&&0===this._expandChecker){var t=this
switch(this._expandChecker=1,this._raiseEvent("2"),this._header.removeClass(this.toThemeProperty("jqx-fill-state-pressed jqx-expander-header-expanded")),this._header.addClass(this.toThemeProperty("jqx-fill-state-normal")),"top"==this.headerPosition?(this._arrow.removeClass(this.toThemeProperty("jqx-icon-arrow-up jqx-icon-arrow-up-selected jqx-expander-arrow-bottom jqx-expander-arrow-expanded")),this._arrow.addClass(this.toThemeProperty("jqx-icon-arrow-down jqx-expander-arrow-top")),t._hovered&&this._arrow.addClass(this.toThemeProperty("jqx-icon-arrow-down-hover"))):"bottom"==this.headerPosition&&(this._arrow.removeClass(this.toThemeProperty("jqx-icon-arrow-down jqx-icon-arrow-down-selected jqx-expander-arrow-top jqx-expander-arrow-expanded-top")),this._arrow.addClass(this.toThemeProperty("jqx-icon-arrow-up jqx-expander-arrow-bottom")),t._hovered&&this._arrow.addClass(this.toThemeProperty("jqx-icon-arrow-up-hover"))),this.animationType){case"slide":"top"==this.headerPosition?this._content.slideUp({duration:this.collapseAnimationDuration,easing:this.easing,complete:function(){t.expanded=!1,e.jqx.aria(t._header,"aria-expanded",!1),e.jqx.aria(t._content,"aria-hidden",!0),t._raiseEvent("3")}}):"bottom"==this.headerPosition&&this._content.animate({height:0},{duration:this.expandAnimationDuration,easing:this.easing,complete:function(){t._contentElement.style.display="none",t.expanded=!1,e.jqx.aria(t._header,"aria-expanded",!1),e.jqx.aria(t._content,"aria-hidden",!0),t._raiseEvent("3")}})
break
case"fade":this._content.fadeOut({duration:this.collapseAnimationDuration,easing:this.easing,complete:function(){t.expanded=!1,e.jqx.aria(t._header,"aria-expanded",!1),e.jqx.aria(t._content,"aria-hidden",!0),t._raiseEvent("3")}})
break
case"none":t._contentElement.style.display="none",this.expanded=!1,e.jqx.aria(t._header,"aria-expanded",!1),e.jqx.aria(t._content,"aria-hidden",!0),this._raiseEvent("3")}}},setHeaderContent:function(e){this._headerText.innerHTML=e,this.invalidate()},getHeaderContent:function(){return this._headerText.innerHTML},setContent:function(e){this._content.html(e),this._checkContent(),this.invalidate()},getContent:function(){return this._content.html()},enable:function(){this.disabled=!1,this.refresh(),e.jqx.aria(this,"aria-disabled",!1)},disable:function(){this.disabled=!0,this.refresh(),e.jqx.aria(this,"aria-disabled",!0)},invalidate:function(){e.jqx.isHidden(this.host)||this._setSize()},refresh:function(e){!0!==e&&(this._removeHandlers(),!0===this.showArrow?this._arrowElement.style.display="":this._arrowElement.style.display="none",this._setTheme(),this._setSize(),!1===this.disabled&&this._toggle(),this._keyBoard())},render:function(){var t=this
if(t._rendered)t.refresh()
else{this.widgetID=this.element.id
var i=this.host.children()
this._headerText=i[0],this._headerElement=document.createElement("div"),this._header=e(this._headerElement),this._contentElement=i[1],this._content=e(this._contentElement),this._content.initAnimate&&this._content.initAnimate(),"top"===this.headerPosition?t.element.insertBefore(t._headerElement,t._headerText):t.element.appendChild(t._headerElement),t._headerElement.appendChild(t._headerText)
var n=this._headerText.className
this._headerElement.className=n,this._headerText.className="",this.rtl?this._headerText.className+=" "+t.toThemeProperty("jqx-expander-header-content-rtl"):this._headerText.className+=" "+t.toThemeProperty("jqx-expander-header-content"),t._arrowElement=document.createElement("div"),t._headerElement.appendChild(t._arrowElement),this._arrow=e(t._arrowElement),!0===this.showArrow?t._arrowElement.style.display="":t._arrowElement.style.display="none",null===this._headerElement.getAttribute("tabindex")&&null===this._contentElement.getAttribute("tabindex")&&("top"===t.headerPosition?(this._headerElement.setAttribute("tabindex",1),this._contentElement.setAttribute("tabindex",2)):(this._headerElement.setAttribute("tabindex",2),this._contentElement.setAttribute("tabindex",1))),this._setTheme()
try{if(0===this._header.length||0===this._content.length||i.length<2||i.length>2)throw"Invalid jqxExpander structure. Please add only two child div elements to your jqxExpander div that will represent the expander's header and content."}catch(e){throw new Error(e)}this._setSize(),!0===this.expanded?("top"==this.headerPosition?this._arrow.addClass(this.toThemeProperty("jqx-icon-arrow-up jqx-icon-arrow-up-selected jqx-expander-arrow-bottom jqx-expander-arrow-expanded")):"bottom"==this.headerPosition&&this._arrow.addClass(this.toThemeProperty("jqx-icon-arrow-down jqx-icon-arrow-down-selected jqx-expander-arrow-top jqx-expander-arrow-expanded-top")),this.initContent&&this.initContent(),this._initialized=!0,this._expandChecker=0):!1===this.expanded&&(this._arrow.removeClass(this.toThemeProperty("jqx-icon-arrow-down-selected jqx-icon-arrow-up-selected")),"top"==this.headerPosition?this._arrow.addClass(this.toThemeProperty("jqx-icon-arrow-down jqx-expander-arrow-top")):"bottom"==this.headerPosition&&this._arrow.addClass(this.toThemeProperty("jqx-icon-arrow-up jqx-expander-arrow-bottom")),this._initialized=!1,this._expandChecker=1,this._contentElement.style.display="none"),this._checkContent(),!1===this.disabled&&this._toggle(),this._keyBoard(),e.jqx.utilities.resize(this.host,function(){t.invalidate()})}},destroy:function(){this.removeHandler(e(window),"resize.expander"+this.widgetID),this.host.remove(),e(this.element).removeData("jqxExpander")},focus:function(){try{!1===this.disabled&&this._headerElement.focus()}catch(e){}},propertiesChangedHandler:function(e,t,i){i.width&&i.height&&2==Object.keys(i).length&&e._setSize()},propertyChangedHandler:function(e,t,i,n){e.batchUpdate&&e.batchUpdate.width&&e.batchUpdate.height&&2==Object.keys(e.batchUpdate).length||("width"!=t&&"height"!=t?"expanded"==t?!0===n&&!1===i?(this.expanded=!1,this.expand()):!1===n&&!0===i&&(this.expanded=!0,this.collapse()):this.refresh():e._setSize())},_raiseEvent:function(t,i){var n,r=this.events[t],o=new e.Event(r)
o.owner=this,o.args=i
try{n=this.host.trigger(o)}catch(e){}return n},resize:function(e,t){this.width=e,this.height=t,this._setSize()},_setSize:function(){this.element.style.width=this._toPx(this.width),this.element.style.height=this._toPx(this.height),this._headerElement.style.height="auto",this._headerElement.style.minHeight=this._arrowElement.offsetHeight
var e=this.arrowPosition
if(this.rtl)switch(e){case"left":e="right"
break
case"right":e="left"}"right"==e?(this._headerText.style.float="left",this._headerText.style.marginLeft="0px",this._arrowElement.style.float="right",this._arrowElement.style.position="relative"):"left"==e&&("auto"==this.width?(this._headerText.style.float="left",this._headerText.style.marginLeft="17px",this._arrowElement.style.float="left",this._arrowElement.style.position="absolute"):(this._headerText.style.float="right",this._headerText.style.marginLeft="0px",this._arrowElement.style.float="left",this._arrowElement.style.position="relative")),this._arrowElement.style.marginTop=this._headerText.offsetHeight/2-this._arrowElement.offsetHeight/2+"px",this._contentElement.style.height="auto"
var t=Math.max(0,this._content.height())
if("auto"==this.height)this._contentHeight=t
else{var i=Math.round(this.element.offsetHeight)-Math.round(this._header.outerHeight())-1
i<0&&(i=0),this._contentHeight||(this._contentHeight=t),i!=this._contentHeight?(this._contentElement.style.height=this._toPx(i),this._contentHeight=Math.round(this._content.outerHeight())):this._contentElement.style.height=this._toPx(this._contentHeight)}},_toggle:function(){var t=this
if(!1===this._isTouchDevice)switch(this._header.removeClass(this.toThemeProperty("jqx-expander-header-disabled")),this.toggleMode){case"click":this.addHandler(this._header,"click.expander"+this.widgetID,function(){t._animate()})
break
case"dblclick":this.addHandler(this._header,"dblclick.expander"+this.widgetID,function(){t._animate()})
break
case"none":this._header.addClass(this.toThemeProperty("jqx-expander-header-disabled"))}else{if("none"==this.toggleMode)return
this.addHandler(this._header,e.jqx.mobile.getTouchEventName("touchstart")+"."+this.widgetID,function(){t._animate()})}},_animate:function(){!0===this.expanded?(this.collapse(),this._header.addClass(this.toThemeProperty("jqx-fill-state-hover jqx-expander-header-hover")),"top"==this.headerPosition?this._arrow.addClass(this.toThemeProperty("jqx-expander-arrow-top-hover jqx-expander-arrow-down-hover")):"bottom"==this.headerPosition&&this._arrow.addClass(this.toThemeProperty("jqx-expander-arrow-bottom-hover jqx-expander-arrow-up-hover"))):(this.expand(),this._header.removeClass(this.toThemeProperty("jqx-fill-state-hover jqx-expander-header-hover")),"top"==this.headerPosition?this._arrow.removeClass(this.toThemeProperty("jqx-expander-arrow-top-hover jqx-expander-arrow-down-hover")):"bottom"==this.headerPosition&&this._arrow.removeClass(this.toThemeProperty("jqx-expander-arrow-bottom-hover jqx-expander-arrow-up-hover")))},_removeHandlers:function(){this.removeHandler(this._header,"click.expander"+this.widgetID),this.removeHandler(this._header,"dblclick.expander"+this.widgetID),this.removeHandler(this._header,"mouseenter.expander"+this.widgetID),this.removeHandler(this._header,"mouseleave.expander"+this.widgetID)},_setTheme:function(){var e=this,t="jqx-widget jqx-expander",i="jqx-widget-header jqx-expander-header",n="jqx-widget-content jqx-expander-content"
!0===this.rtl&&(t+=" jqx-rtl"),!1===this.disabled?(this._header.removeClass(this.toThemeProperty("jqx-expander-header-disabled")),this.host.removeClass(this.toThemeProperty("jqx-fill-state-disabled")),!0===this.expanded?i+=" jqx-fill-state-pressed jqx-expander-header-expanded":(i+=" jqx-fill-state-normal",this._header.removeClass(this.toThemeProperty("jqx-expander-header-expanded"))),this._hovered=!1,e._isTouchDevice||(this.addHandler(this._header,"mouseenter.expander"+this.widgetID,function(){e._hovered=!0,1==e._expandChecker&&(e._header.removeClass(e.toThemeProperty("jqx-fill-state-normal jqx-fill-state-pressed")),e._header.addClass(e.toThemeProperty("jqx-fill-state-hover jqx-expander-header-hover")),"top"==e.headerPosition?(e.expanded?e._arrow.addClass(e.toThemeProperty("jqx-icon-arrow-up-hover")):e._arrow.addClass(e.toThemeProperty("jqx-icon-arrow-down-hover")),e._arrow.addClass(e.toThemeProperty("jqx-expander-arrow-top-hover jqx-expander-arrow-down-hover"))):"bottom"==e.headerPosition&&(e.expanded&&e._arrow.addClass(e.toThemeProperty("jqx-icon-arrow-down-hover")),e._arrow.addClass(e.toThemeProperty("jqx-expander-arrow-bottom-hover jqx-expander-arrow-up-hover"))))}),this.addHandler(this._header,"mouseleave.expander"+this.widgetID,function(){e._hovered=!1,e._header.removeClass(e.toThemeProperty("jqx-fill-state-hover jqx-expander-header-hover")),e._arrow.removeClass(e.toThemeProperty("jqx-icon-arrow-up-hover jqx-icon-arrow-down-hover")),"top"==e.headerPosition?e._arrow.removeClass(e.toThemeProperty("jqx-expander-arrow-top-hover jqx-expander-arrow-down-hover")):"bottom"==e.headerPosition&&e._arrow.removeClass(e.toThemeProperty("jqx-expander-arrow-bottom-hover jqx-expander-arrow-up-hover")),1==e._expandChecker?e._header.addClass(e.toThemeProperty("jqx-fill-state-normal")):e._header.addClass(e.toThemeProperty("jqx-fill-state-pressed"))}))):(t+=" jqx-fill-state-disabled",i+=" jqx-expander-header-disabled"),"top"==this.headerPosition?n+=" jqx-expander-content-bottom":"bottom"==this.headerPosition&&(n+=" jqx-expander-content-top"),this.host.addClass(this.toThemeProperty(t)),this._header.addClass(this.toThemeProperty(i)),this._content.addClass(this.toThemeProperty(n)),this._arrow.addClass(this.toThemeProperty("jqx-expander-arrow"))},_checkContent:function(){this._cntntEmpty=/^\s*$/.test(this._contentElement.innerHTML),!0===this._cntntEmpty?(this._contentElement.style.height="0px",this._content.addClass(this.toThemeProperty("jqx-expander-content-empty"))):("auto"===this.height?this._contentElement.style.height="auto":this._contentElement.style.height=this._contentHeight+"px",this._content.removeClass(this.toThemeProperty("jqx-expander-content-empty")))},_keyBoard:function(){var e=this
this._focus(),this.addHandler(this.host,"keydown.expander"+this.widgetID,function(t){var i=!1
if((!0===e.focusedH||!0===e.focusedC)&&!1===e.disabled){switch(t.keyCode){case 13:case 32:"none"!=e.toggleMode&&(!0===e.focusedH&&e._animate(),i=!0)
break
case 38:!0===t.ctrlKey&&!0===e.focusedC&&e._headerElement.focus(),i=!0
break
case 40:!0===t.ctrlKey&&!0===e.focusedH&&e._contentElement.focus(),i=!0}return!0}return i&&t.preventDefault&&t.preventDefault(),!i})},_focus:function(){var t=this
this.addHandler(this._header,"focus.expander"+this.widgetID,function(){t.focusedH=!0,e.jqx.aria(t._header,"aria-selected",!0),t._header.addClass(t.toThemeProperty("jqx-fill-state-focus"))}),this.addHandler(this._header,"blur.expander"+this.widgetID,function(){t.focusedH=!1,e.jqx.aria(t._header,"aria-selected",!1),t._header.removeClass(t.toThemeProperty("jqx-fill-state-focus"))}),this.addHandler(this._headerText,"focus.expander"+this.widgetID,function(){t._headerElement.focus()}),this.addHandler(this._arrow,"focus.expander"+this.widgetID,function(){t._headerElement.focus()}),this.addHandler(this._content,"focus.expander"+this.widgetID,function(){t.focusedC=!0,t._content.addClass(t.toThemeProperty("jqx-fill-state-focus"))}),this.addHandler(this._content,"blur.expander"+this.widgetID,function(){t.focusedC=!1,t._content.removeClass(t.toThemeProperty("jqx-fill-state-focus"))})},_toPx:function(e){return"number"==typeof e?e+"px":e}})}(jqxBaseFramework)
var yi=Object.freeze({})
!function(e){e.jqx.jqxWidget("jqxColorPicker","",{}),e.extend(e.jqx._jqxColorPicker.prototype,{defineInstance:function(){var t={disabled:!1,height:null,width:null,color:new e.jqx.color({hex:"ff0000"}),redString:"R:",greenString:"G:",blueString:"B:",showTransparent:!1,colorMode:"saturation",_delayLoading:!1,events:["colorchange"]}
return this===e.jqx._jqxColorPicker.prototype?t:(e.extend(!0,this,t),t)},_createFromInput:function(t){if("input"==this.element.nodeName.toLowerCase()){this.field=this.element,this.field.className&&(this._className=this.field.className)
var i={title:this.field.title}
if(this.field.getAttribute("value")){var n=this.field.getAttribute("value")
this.color=new e.jqx.color({hex:n})}this.field.id.length?i.id=this.field.id.replace(/[^\w]/g,"_")+"_"+t:i.id=e.jqx.utilities.createId()+"_"+t
var r=e("<div></div>",i)
r[0].style.cssText=this.field.style.cssText,this.width||(this.width=e(this.field).width()),this.height||(this.height=e(this.field).outerHeight()),e(this.field).hide().after(r)
var o=this.host.data()
if(this.host=r,this.host.data(o),this.element=r[0],this.element.id=this.field.id,this.field.id=i.id,this._className&&(this.host.addClass(this._className),e(this.field).removeClass(this._className)),this.field.tabIndex){var a=this.field.tabIndex
this.field.tabIndex=-1,this.element.tabIndex=a}}},createInstance:function(t){this._createFromInput("jqxColorPicker"),this.render()
var i=this
e.jqx.utilities.resize(this.host,function(){i._setSize(),i.refresh()},!1,!this._delayLoading)},render:function(){this.element.innerHTML=""
this._isTouchDevice=e.jqx.mobile.isTouchDevice(),"string"==typeof this.color&&(this.color=new e.jqx.color({hex:this.color})),this._setSize(),this.host.addClass(this.toThemeProperty("jqx-widget")),this.host.addClass(this.toThemeProperty("jqx-reset")),this.host.addClass(this.toThemeProperty("jqx-color-picker")),this.container=e("<div style='width: 100%; height: 100%; position: relative;'></div>"),this.container.appendTo(this.host),this.colorMap=e("<div style='left: 0; top: 0; position: absolute;'></div>"),this.colorMap.appendTo(this.container),this.colorBar=e("<div style='left: 0; top: 0; position: absolute;'></div>"),this.colorBar.appendTo(this.container),this.colorPanel=e("<div style='left: 0; top: 0; position: absolute;'></div>"),this.colorPanel.appendTo(this.container),this.hexPanel=e("<div style='float: left;'></div>"),this.hexPanel.appendTo(this.colorPanel),this.hexPanel.append('<span style="text-align: left;" >#</span>'),this.hex=e("<input maxlength='6' style='height: 18px;'/>"),this.hex.addClass(this.toThemeProperty("jqx-input")),this.hex.addClass(this.toThemeProperty("jqx-widget-content")),this.hex.appendTo(this.hexPanel),this.colorPanel.append('<div style="font-size: 1px; clear: both;"></div>'),this.rgb=e("<div style='margin-top: 2px;'></div>"),this.rgb.appendTo(this.colorPanel),this.red=e("<input style='width: 25px; height: 18px;' maxlength='3'/>"),this.red.addClass(this.toThemeProperty("jqx-input")),this.red.addClass(this.toThemeProperty("jqx-widget-content")),this.rgb.append('<span style="text-align: left;">'+this.redString+"</span>"),this.red.appendTo(this.rgb),this.green=e("<input style='margin-right: 2px; height: 18px; width: 25px;' maxlength='3'/>"),this.green.addClass(this.toThemeProperty("jqx-input")),this.green.addClass(this.toThemeProperty("jqx-widget-content")),this.rgb.append('<span style="text-align: left;">'+this.greenString+"</span>"),this.green.appendTo(this.rgb),this.colorPanel.addClass(this.toThemeProperty("jqx-color-picker-map-overlay")),this._mapImageOverlayURL=this._getImageUrl(this.colorPanel),this.colorPanel.removeClass(this.toThemeProperty("jqx-color-picker-map-overlay")),this.blue=e("<input style='height: 18px; width: 25px;' maxlength='3'/>"),this.blue.addClass(this.toThemeProperty("jqx-input")),this.blue.addClass(this.toThemeProperty("jqx-widget-content")),this.rgb.append('<span style="text-align: left;">'+this.blueString+"</span>"),this.blue.appendTo(this.rgb),this.preview=e("<div style='background: red; position: absolute;'></div>"),this.preview.addClass(this.toThemeProperty("jqx-widget-content")),this.preview.appendTo(this.colorPanel),this.colorBarPointer=e("<div style='top: 0; left: 0; position: absolute; width: 100%;'></div>"),this.colorBarPointer.addClass(this.toThemeProperty("jqx-color-picker-bar-pointer")),this.colorMapPointer=e("<div style='top: 0; left: 0; position: absolute; width: 100%;'></div>"),this.colorMapPointer.addClass(this.toThemeProperty("jqx-color-picker-pointer")),this.transparent=e("<div style='text-align: center; clear: both;'><a style='text-align: center;' href='#'>transparent</a></div>"),this.disabled&&(this.host.addClass(this.toThemeProperty("jqx-fill-state-disabled")),this.element.disabled=!0),this._addHandlers()},val:function(e){return 0==arguments.length?"#"+this.color.hex:(this.setColor(e),this.color.hex)},_setPositionFromValue:function(){var e=this.color.h,t=100-this.color.v,i=this.colorMap.height(),n=this.colorMap.width(),r=e*n/360,o=t*i/100
if("saturation"==this.colorMode){a=(a=100-this.color.s)*i/100,this._saturation=100-this.color.s,this.colorMapPointer.css("margin-left",r-8),this.colorMapPointer.css("margin-top",o-8),this.colorBarPointer.css("margin-top",a-8),this.colorMapImageOverlay.css("opacity",(100-this.color.s)/100)}else{var a
r=(e=this.color.s)*n/100,o=t*i/100
a=(a=360-this.color.h)*i/360,this._hue=this.color.h,this.colorMapPointer.css("margin-left",r-8),this.colorMapPointer.css("margin-top",o-8),this.colorBarPointer.css("margin-top",a-8)}},updateRGB:function(){this.color.setRgb(this.red.val(),this.green.val(),this.blue.val()),this._updateUI(),this._raiseEvent("0",{color:this.color}),this.color.transparent=!1},_setPosition:function(t,i,n){var r=parseInt(t.pageX),o=parseInt(i.offset().left),a=parseInt(t.pageY),s=parseInt(i.offset().top)
if(this._isTouchDevice){var l=e.jqx.position(t)
r=l.left,a=l.top}-1==n[0].className.indexOf("jqx-color-picker-bar")&&n.css("margin-left",r-8-o),a>=s&&a<=s+i.height()&&n.css("margin-top",a-8-s)},_handleKeyInput:function(e,t,i){if(!e.disabled){if(!e._validateKey(t))return t
i.val(e._setValueInRange(i.val(),0,255)),this.updateRGB(),this._setPositionFromValue()}},_addHandlers:function(){var t=this
this.addHandler(this.colorMapPointer,"dragStart",function(e){return e.preventDefault(),!1}),this.addHandler(this.colorBarPointer,"dragStart",function(e){return e.preventDefault(),!1}),this.addHandler(this.transparent,"click",function(e){t._raiseEvent("0",{color:"transparent"}),e.preventDefault(),t.color.transparent=!0}),this.addHandler(this.host,"selectionstart",function(e){return e.preventDefault(),!1}),this.addHandler(this.blue,"keyup blur",function(e){t._handleKeyInput(t,e,t.blue)}),this.addHandler(this.green,"keyup blur",function(e){t._handleKeyInput(t,e,t.green)}),this.addHandler(this.red,"keyup blur",function(e){t._handleKeyInput(t,e,t.red)}),this.addHandler(this.hex,"keyup blur",function(e){if(!t.disabled)return t._validateKey(e)?void(6==t.hex.val().toString().length&&(t.hex.val(t.color.validateHex(t.hex.val())),t.color.setHex(t.hex.val()),t._updateUI(),t._setPositionFromValue(),t._raiseEvent("0",{color:t.color}))):e}),this.addHandler(this.colorMap,"dragstart",function(e){return e.preventDefault(),!1})
var i=function(e){var i;(t._setPosition(e,t.colorMap,t.colorMapPointer),"saturation"==t.colorMode)?((i=t._valuesFromMouse(e,t.colorMap,360,100)).x>360&&(i.x=360),t.color.setHsv(i.x,null!=t._saturation?100-t._saturation:100,100-i.y)):((i=t._valuesFromMouse(e,t.colorMap,100,100)).x>100&&(i.x=100),t.color.setHsv(null!=t._hue?t._hue:360,i.x,100-i.y))
t._updateUI(),t._raiseEvent("0",{color:t.color}),t.color.transparent=!1},n="mousedown.picker"+this.element.id
this._isTouchDevice&&(n=e.jqx.mobile.getTouchEventName("touchstart")+".picker"+this.element.id),this.addHandler(this.colorMap,n,function(e){t.disabled||(t.beginDrag=!0,i(e))})
var r="mousemove.picker"+this.element.id
this._isTouchDevice&&(r=e.jqx.mobile.getTouchEventName("touchmove")+".picker"+this.element.id),this.addHandler(e(document),r,function(e){t.disabled||1==t.beginDrag&&(i(e),t._isTouchDevice&&e.preventDefault())}),this._isTouchDevice||this.addHandler(this.colorBar,"dragstart",function(e){return e.preventDefault(),!1})
var o=function(e){if(t._setPosition(e,t.colorBar,t.colorBarPointer),"saturation"==t.colorMode){var i=t._valuesFromMouse(e,t.colorBar,100,100)
t.color.s=i.y,t._saturation=i.y,t.colorMapImageOverlay.css("opacity",t.color.s/100),t.color.setHsv(t.color.h,100-t.color.s,t.color.v)}else{i=t._valuesFromMouse(e,t.colorBar,100,360)
t.color.h=360-i.y,t._hue=t.color.h,t.color.setHsv(t.color.h,t.color.s,t.color.v)}t._updateUI(),t._raiseEvent("0",{color:t.color}),t.color.transparent=!1},a="mousemove.colorBar"+this.element.id,s="mousedown.colorBar"+this.element.id,l="mouseup.colorBar"+this.element.id
this._isTouchDevice&&(a=e.jqx.mobile.getTouchEventName("touchmove")+".colorBar"+this.element.id,s=e.jqx.mobile.getTouchEventName("touchstart")+".colorBar"+this.element.id,l=e.jqx.mobile.getTouchEventName("touchend")+".colorBar"+this.element.id),this.addHandler(this.colorBar,s,function(e){t.disabled||(t.beginDragBar=!0,o(e))}),this.addHandler(e(document),a,function(e){t.disabled||1==t.beginDragBar&&(o(e),t._isTouchDevice&&e.preventDefault())}),this.addHandler(e(document),l,function(e){t.disabled||(t.beginDrag=!1,t.beginDragBar=!1)})},_removeHandlers:function(){this.removeHandler(this.transparent,"click"),this.removeHandler(this.host,"selectionstart"),this.removeHandler(this.blue,"keyup blur"),this.removeHandler(this.green,"keyup blur"),this.removeHandler(this.red,"keyup blur"),this.removeHandler(this.hex,"keyup blur"),this.removeHandler(this.colorMap,"dragstart"),this.removeHandler(this.colorBar,"dragstart"),this.removeHandler(this.colorMapPointer,"dragStart"),this.removeHandler(this.colorBarPointer,"dragStart")
var t=this.element.id,i="mousemove.colorBar"+t,n="mousedown.colorBar"+t,r="mouseup.colorBar"+t,o="mousedown.picker"+t,a="mousemove.picker"+t
this._isTouchDevice&&(i=e.jqx.mobile.getTouchEventName("touchmove")+".colorBar"+t,n=e.jqx.mobile.getTouchEventName("touchstart")+".colorBar"+t,r=e.jqx.mobile.getTouchEventName("touchend")+".colorBar"+t,o=e.jqx.mobile.getTouchEventName("touchstart")+".picker"+t,a=e.jqx.mobile.getTouchEventName("touchmove")+".picker"+t),this.removeHandler(this.colorMap,o),this.removeHandler(this.colorMap,a),this.removeHandler(this.colorBar,n),this.removeHandler(this.colorBar,i),this.removeHandler(e(document),a),this.removeHandler(e(document),i),this.removeHandler(e(document),r)},_raiseEvent:function(t,i){null==i&&(i={owner:null})
var n=this.events[t],r=i||{}
r.owner=this
var o=new e.Event(n)
return o.owner=this,o.args=r,this.host.trigger(o)},setColor:function(t){t&&("transparent"==t?(this.color.transparent=!0,this.color.hex="000",this.color.r=0,this.color.g=0,this.color.b=0):t.r?this.color=new e.jqx.color({rgb:t}):"#"==t.substring(0,1)?this.color=new e.jqx.color({hex:t.substring(1)}):this.color=new e.jqx.color({hex:t}),this._updateUI(),this._setPositionFromValue(),this._raiseEvent("0",{color:this.color}))},getColor:function(){return this.color},resize:function(e,t){this.width=e,this.height=t,this._setSize(),this.refresh()},propertyChangedHandler:function(e,t,i,n){null!=e.isInitialized&&0!=e.isInitialized&&("colorMode"==t&&e.refresh(),"color"==t&&(e._updateUI(),e._setPositionFromValue(),e._raiseEvent("0",{color:n})),"width"!=t&&"height"!=t||(e._setSize(),e.refresh()),"showTransparent"==t&&e.refresh(),"disabled"==t&&(this.element.disabled=n,n?e.host.addClass(e.toThemeProperty("jqx-fill-state-disabled")):e.host.removeClass(e.toThemeProperty("jqx-fill-state-disabled"))))},_valuesFromMouse:function(t,i,n,r){var o=0,a=0,s=i.offset(),l=i.height(),d=i.width(),c=t.pageX,h=t.pageY
if(this._isTouchDevice){var u=e.jqx.position(t)
c=u.left,h=u.top}return o=c<s.left?0:c>s.left+d?d:c-s.left+1,a=h<s.top?0:h>s.top+l?l:h-s.top+1,{x:parseInt(o/d*n),y:parseInt(a/l*r)}},_validateKey:function(e){return 9!=e.keyCode&&16!=e.keyCode&&38!=e.keyCode&&29!=e.keyCode&&40!=e.keyCode&&17!=e.keyCode&&37!=e.keyCode&&(!e.ctrlKey||e.keyCode!="c".charCodeAt()&&e.keyCode!="v".charCodeAt())&&(!e.ctrlKey||e.keyCode!="C".charCodeAt()&&e.keyCode!="V".charCodeAt())&&(!e.ctrlKey&&!e.shiftKey)},_setValueInRange:function(e,t,i){return""==e||isNaN(e)?t:(e=parseInt(e))>i?i:e<t?t:e},destroy:function(){e.jqx.utilities.resize(this.host,null,!0),this.host.removeClass(),this._removeHandlers(),this.host.remove()},setPointerStyle:function(e){this.colorMapPointer.removeClass(),"transparent"!=e&&""!=e.hex||this.colorMapPointer.addClass(this.toThemeProperty("jqx-color-picker-pointer"))
"Black"==(255-(.299*e.r+.587*e.g+.114*e.b)<105?"Black":"White")?this.colorMapPointer.addClass(this.toThemeProperty("jqx-color-picker-pointer")):this.colorMapPointer.addClass(this.toThemeProperty("jqx-color-picker-pointer-alt"))},_updateUI:function(){this.red.val(this.color.r),this.green.val(this.color.g),this.blue.val(this.color.b),this.hex.val(this.color.hex)
var t=new e.jqx.color({hex:"fff"})
"saturation"==this.colorMode?(t.setHsv(this.color.h,100,this.color.v),this.colorBar.css("background","#"+t.hex)):(t.setHsv(this.color.h,100,100),this.colorMap.css("background-color","#"+t.hex)),this.preview.css("background","#"+this.color.hex),this.setPointerStyle(this.color)},_setSize:function(){null!=this.width&&-1!=this.width.toString().indexOf("px")?this.host.width(this.width):null==this.width||isNaN(this.width)||this.host.width(this.width),null!=this.height&&-1!=this.height.toString().indexOf("px")?this.host.height(this.height):null==this.height||isNaN(this.height)||this.host.height(this.height),this.host.width()<130&&this.host.width(150),this.host.height()<70&&this.host.height(70),null!=this.width&&-1!=this.width.toString().indexOf("%")&&this.host.width(this.width),null!=this.height&&-1!=this.height.toString().indexOf("%")&&this.host.height(this.height)},_arrange:function(){var e=this.host.height(),t=this.host.width(),i=e-44
if(this.showTransparent&&(i=e-64),!(i<=0)){this.colorMap.width(85*t/100),this.colorMap.height(i),this.colorBar.height(i),this.colorBar.css("left",this.colorMap.width()+4),this.colorBar.width(8*t/100),this.colorBarPointer.width(this.colorBar.width()),this.colorPanel.width(t),this.colorPanel.height(40),this.showTransparent&&this.colorPanel.height(60),this.colorPanel.css("top",i+4),this.colorPanel.css("text-align","left"),this.hex.width(this.colorMap.width()-this.colorBar.width()-4)
var n=this.red.prev().outerWidth()-this.hex.prev().outerWidth()
n<4&&(n=4),this.hex.css("margin-left",n+"px"),this.preview.width(this.colorBar.width()+7),this.preview.height(25),this.preview.addClass(this.toThemeProperty("jqx-rc-all")),this.preview.addClass(this.toThemeProperty("jqx-color-picker-preview")),this.preview.css("left",this.colorMap.width()-2),this.preview.css("top","5px")
var r=this.hex.width()-this.blue.prev().outerWidth()-this.green.prev().outerWidth()-6
return r>0?(this.blue.width(r/3),this.green.width(r/3),void this.red.width(r/3)):void 0}},_getColorPointer:function(){var t=e("<div></div>")
return t.addClass(this.toThemeProperty("jqx-color-picker-pointer")),t},_getImageUrl:function(e){var t=e.css("backgroundImage")
return t=(t=(t=(t=t.replace('url("',"")).replace('")',"")).replace("url(","")).replace(")","")},refresh:function(){this._delayLoading||(this._saturation=null,this._hue=null,this.colorMap.removeClass(),this.colorBar.removeClass(),this.colorMap.addClass(this.toThemeProperty("jqx-disableselect")),this.colorBar.addClass(this.toThemeProperty("jqx-disableselect")),this.colorPanel.addClass(this.toThemeProperty("jqx-color-picker-panel")),this.colorBar.css("background-image",""),this.colorMap.css("background-image",""),"saturation"==this.colorMode?(this.colorMap.addClass(this.toThemeProperty("jqx-color-picker-map")),this.colorBar.addClass(this.toThemeProperty("jqx-color-picker-bar"))):(this.colorMap.addClass(this.toThemeProperty("jqx-color-picker-map-hue")),this.colorBar.addClass(this.toThemeProperty("jqx-color-picker-bar-hue"))),this._barImageURL=this._getImageUrl(this.colorBar),this._mapImageURL=this._getImageUrl(this.colorMap),this._arrange(),this.colorBar.children().remove(),this.colorBarImageContainer=e("<div style='overflow: hidden;'></div>"),this.colorBarImageContainer.width(this.colorBar.width()),this.colorBarImageContainer.height(this.colorBar.height()),this.colorBarImageContainer.appendTo(this.colorBar),this.colorBarImage=e("<img/>"),this.colorBarImage.appendTo(this.colorBarImageContainer),this.colorBarImage.attr("src",this._barImageURL),this.colorBar.css("background-image","none"),this.colorBarImage.attr("width",this.colorBar.width()),this.colorBarImage.attr("height",this.colorBar.height()),this.colorBarPointer.appendTo(this.colorBar),this.colorMap.children().remove(),this.colorMapImage=e("<img/>"),this.colorMapImage.appendTo(this.colorMap),this.colorMapImage.attr("src",this._mapImageURL),this.colorMap.css("background-image","none"),this.colorMapImage.attr("width",this.colorMap.width()),this.colorMapImage.attr("height",this.colorMap.height()),this.colorMapImageOverlay=e("<img style='position: absolute; left: 0; top: 0;'/>"),this.colorMapImageOverlay.prependTo(this.colorMap),this.colorMapImageOverlay.attr("src",this._mapImageOverlayURL),this.colorMapImageOverlay.attr("width",this.colorMap.width()),this.colorMapImageOverlay.attr("height",this.colorMap.height()),this.colorMapImageOverlay.css("opacity",0),this.colorMapPointer.appendTo(this.colorMap),this.showTransparent&&this.transparent.appendTo(this.colorPanel),this._updateUI(),this._setPositionFromValue())}}),e.jqx.color=function(e){var t={r:0,g:0,b:0,h:0,s:0,v:0,hex:"",hexToRgb:function(e){var t="00",i="00",n="00"
return 6==(e=this.validateHex(e)).length?(t=e.substring(0,2),i=e.substring(2,4),n=e.substring(4,6)):(e.length>4&&(t=e.substring(4,e.length),e=e.substring(0,4)),e.length>2&&(i=e.substring(2,e.length),e=e.substring(0,2)),e.length>0&&(n=e.substring(0,e.length))),{r:this.hexToInt(t),g:this.hexToInt(i),b:this.hexToInt(n)}},validateHex:function(e){return(e=(e=new String(e).toUpperCase()).replace(/[^A-F0-9]/g,"0")).length>6&&(e=e.substring(0,6)),e},webSafeDec:function(e){return e=Math.round(e/51),e*=51},hexToWebSafe:function(e){var t,i,n
return 3==e.length?(t=e.substring(0,1),i=e.substring(1,1),n=e.substring(2,1)):(t=e.substring(0,2),i=e.substring(2,4),n=e.substring(4,6)),this.intToHex(this.webSafeDec(this.hexToInt(t)))+this.intToHex(this.webSafeDec(this.hexToInt(i)))+this.intToHex(this.webSafeDec(this.hexToInt(n)))},rgbToWebSafe:function(e){return{r:this.webSafeDec(e.r),g:this.webSafeDec(e.g),b:this.webSafeDec(e.b)}},rgbToHex:function(e){return this.intToHex(e.r)+this.intToHex(e.g)+this.intToHex(e.b)},intToHex:function(e){var t=parseInt(e).toString(16)
return 1==t.length&&(t="0"+t),t.toUpperCase()},hexToInt:function(e){return parseInt(e,16)},hslToRgb:function(e){var t=parseInt(e.h)/360,i=parseInt(e.s)/100,n=parseInt(e.l)/100
if(n<=.5)var r=n*(1+i)
else r=n+i-n*i
var o=2*n-r,a=t+1/3,s=t,l=t-1/3
return{r:Math.round(255*this.hueToRgb(o,r,a)),g:Math.round(255*this.hueToRgb(o,r,s)),b:Math.round(255*this.hueToRgb(o,r,l))}},hueToRgb:function(e,t,i){return i<0?i+=1:i>1&&(i-=1),6*i<1?e+(t-e)*i*6:2*i<1?t:3*i<2?e+(t-e)*(2/3-i)*6:e},rgbToHsv:function(e){var t=e.r/255,i=e.g/255,n=e.b/255,r={h:0,s:0,v:0},o=0,a=0
if(t>=i&&t>=n?(a=t,o=i>n?n:i):i>=n&&i>=t?(a=i,o=t>n?n:t):(a=n,o=i>t?t:i),r.v=a,r.s=a?(a-o)/a:0,r.s){var s=a-o
r.h=t==a?(i-n)/s:i==a?2+(n-t)/s:4+(t-i)/s,r.h=parseInt(60*r.h),r.h<0&&(r.h+=360)}else r.h=0
return r.s=parseInt(100*r.s),r.v=parseInt(100*r.v),r},hsvToRgb:function(e){var t={r:0,g:0,b:0},i=e.h,n=e.s,r=e.v
if(0==n)t.r=t.g=t.b=0==r?0:parseInt(255*r/100)
else{360==i&&(i=0),i/=60,n/=100,r/=100
var o=parseInt(i),a=i-o,s=r*(1-n),l=r*(1-n*a),d=r*(1-n*(1-a))
switch(o){case 0:t.r=r,t.g=d,t.b=s
break
case 1:t.r=l,t.g=r,t.b=s
break
case 2:t.r=s,t.g=r,t.b=d
break
case 3:t.r=s,t.g=l,t.b=r
break
case 4:t.r=d,t.g=s,t.b=r
break
case 5:t.r=r,t.g=s,t.b=l}t.r=parseInt(255*t.r),t.g=parseInt(255*t.g),t.b=parseInt(255*t.b)}return t},setRgb:function(e,t,i){var n=function(e){return e<0||e>255?0:isNaN(parseInt(e))?0:e}
this.r=n(e),this.g=n(t),this.b=n(i)
var r=this.rgbToHsv(this)
this.h=r.h,this.s=r.s,this.v=r.v,this.hex=this.rgbToHex(this)},setHsl:function(e,t,i){this.h=e,this.s=t,this.l=i
var n=this.hslToRgb(this)
this.r=n.r,this.g=n.g,this.b=n.b,this.hex=this.rgbToHex(n)},setHsv:function(e,t,i){this.h=e,this.s=t,this.v=i
var n=this.hsvToRgb(this)
this.r=n.r,this.g=n.g,this.b=n.b,this.hex=this.rgbToHex(n)},setHex:function(e){this.hex=e
var t=this.hexToRgb(this.hex)
this.r=t.r,this.g=t.g,this.b=t.b
var i=this.rgbToHsv(t)
this.h=i.h,this.s=i.s,this.v=i.v}}
if(e)if(e.hex){var i=t.validateHex(e.hex)
t.setHex(i)}else e.r?t.setRgb(e.r,e.g,e.b):e.h?t.setHsv(e.h,e.s,e.v):e.rgb&&t.setRgb(e.rgb.r,e.rgb.g,e.rgb.b)
return t}}(jqxBaseFramework)
var _i=Object.freeze({})
!function(e){e.jqx.jqxWidget("jqxDropDownButton","",{}),e.extend(e.jqx._jqxDropDownButton.prototype,{defineInstance:function(){var t={disabled:!1,width:null,height:null,arrowSize:19,enableHover:!0,openDelay:250,closeDelay:300,animationType:"default",enableBrowserBoundsDetection:!1,dropDownHorizontalAlignment:"left",dropDownVerticalAlignment:"bottom",popupZIndex:2e4,dropDownContainer:"default",autoOpen:!1,rtl:!1,initContent:null,dropDownWidth:null,dropDownHeight:null,focusable:!0,template:"default",touchMode:!1,aria:{"aria-disabled":{name:"disabled",type:"boolean"}},events:["open","close","opening","closing"]}
return this===e.jqx._jqxDropDownButton.prototype?t:(e.extend(!0,this,t),t)},createInstance:function(t){this.width||(this.width=200),this.height||(this.height=25),this.isanimating=!1,this.setupInstance()
var i=e("<div style='background-color: transparent; -webkit-appearance: none; outline: none; width:100%; height: 100%; padding: 0px; margin: 0px; border: 0px; position: relative;'><div id='dropDownButtonWrapper' style='outline: none; background-color: transparent; border: none; float: left; width:100%; height: 100%; position: relative;'><div id='dropDownButtonContent' unselectable='on' style='outline: none; background-color: transparent; border: none; float: left; position: relative;'/><div id='dropDownButtonArrow' unselectable='on'  style='background-color: transparent; border: none; float: right; position: relative;'><div unselectable='on'></div></div></div></div>")
this.host.attr("tabindex")?(i.attr("tabindex",this.host.attr("tabindex")),this.host.removeAttr("tabindex")):i.attr("tabindex",0),this.focusable||i.removeAttr("tabIndex"),e.jqx.aria(this),this.popupContent=this.host.children(),this.host.attr("role","button"),0==this.popupContent.length?(this.popupContent=e("<div>"+this.host.text()+"</div>"),this.popupContent.css("display","block"),this.element.innerHTML=""):this.popupContent.detach()
var n=this
this.addHandler(this.host,"loadContent",function(e){n._arrange()})
try{var r="dropDownButtonPopup"+this.element.id,o=e(e.find("#"+r))
o.length>0&&o.remove(),e.jqx.aria(this,"aria-haspopup",!0),e.jqx.aria(this,"aria-owns",r)
var a=e("<div class='dropDownButton' style='overflow: hidden; left: -1000px; top: -1000px; position: absolute;' id='dropDownButtonPopup"+this.element.id+"'></div>")
a.addClass(this.toThemeProperty("jqx-widget-content")),a.addClass(this.toThemeProperty("jqx-dropdownbutton-popup")),a.addClass(this.toThemeProperty("jqx-popup")),a.addClass(this.toThemeProperty("jqx-rc-all")),"element"!=this.dropDownContainer&&a.css("z-index",this.popupZIndex),e.jqx.browser.msie&&a.addClass(this.toThemeProperty("jqx-noshadow")),this.popupContent.appendTo(a),"element"==this.dropDownContainer?a.appendTo(this.host):a.appendTo(document.body),this.container=a,this.container.css("visibility","hidden")}catch(e){}this.touch=e.jqx.mobile.isTouchDevice(),this.dropDownButtonStructure=i,this.host.append(i),this.dropDownButtonWrapper=this.host.find("#dropDownButtonWrapper"),this.firstDiv=this.dropDownButtonWrapper.parent(),this.dropDownButtonArrow=this.host.find("#dropDownButtonArrow"),this.arrow=e(this.dropDownButtonArrow.children()[0]),this.dropDownButtonContent=this.host.find("#dropDownButtonContent"),this.dropDownButtonContent.addClass(this.toThemeProperty("jqx-dropdownlist-content")),this.dropDownButtonWrapper.addClass(this.toThemeProperty("jqx-disableselect")),this.rtl&&this.dropDownButtonContent.addClass(this.toThemeProperty("jqx-rtl"))
var s=this
this.host.parents()&&this.addHandler(this.host.parents(),"scroll.dropdownbutton"+this.element.id,function(e){s.isOpened()&&s.close()}),this.addHandler(this.dropDownButtonWrapper,"selectstart",function(){return!1}),this.dropDownButtonWrapper[0].id="dropDownButtonWrapper"+this.element.id,this.dropDownButtonArrow[0].id="dropDownButtonArrow"+this.element.id,this.dropDownButtonContent[0].id="dropDownButtonContent"+this.element.id
s=this
this.propertyChangeMap.disabled=function(t,i,n,r){r?(t.host.addClass(s.toThemeProperty("jqx-dropdownlist-state-disabled")),t.host.addClass(s.toThemeProperty("jqx-fill-state-disabled")),t.dropDownButtonContent.addClass(s.toThemeProperty("jqx-dropdownlist-content-disabled"))):(t.host.removeClass(s.toThemeProperty("jqx-dropdownlist-state-disabled")),t.host.removeClass(s.toThemeProperty("jqx-fill-state-disabled")),t.dropDownButtonContent.removeClass(s.toThemeProperty("jqx-dropdownlist-content-disabled"))),e.jqx.aria(t,"aria-disabled",t.disabled)},this.disabled&&(this.host.addClass(this.toThemeProperty("jqx-dropdownlist-state-disabled")),this.host.addClass(this.toThemeProperty("jqx-fill-state-disabled")),this.dropDownButtonContent.addClass(this.toThemeProperty("jqx-dropdownlist-content-disabled")))
var l=this.toThemeProperty("jqx-rc-all")+" "+this.toThemeProperty("jqx-fill-state-normal")+" "+this.toThemeProperty("jqx-widget")+" "+this.toThemeProperty("jqx-widget-content")+" "+this.toThemeProperty("jqx-dropdownlist-state-normal")
if(this.host.addClass(l),this.arrow.addClass(this.toThemeProperty("jqx-icon-arrow-down")),this.arrow.addClass(this.toThemeProperty("jqx-icon")),this.template&&this.host.addClass(this.toThemeProperty("jqx-"+this.template)),this._setSize(),this.render(),e.jqx.browser.msie&&e.jqx.browser.version<8&&(this.container.css("display","none"),this.host.parents(".jqx-window").length>0)){var d=this.host.parents(".jqx-window").css("z-index")
a.css("z-index",d+10),this.container.css("z-index",d+10)}},setupInstance:function(){var t=this,i={setContent:function(e){t.dropDownButtonContent.children().remove(),t.dropDownButtonContent[0].innerHTML="",t.dropDownButtonContent.append(e)},val:function(e){if(0==arguments.length||"object"==typeof e)return t.dropDownButtonContent.text()
t.dropDownButtonContent.html(e)},getContent:function(){return t.dropDownButtonContent.children().length>0?t.dropDownButtonContent.children():t.dropDownButtonContent.text()},_setSize:function(){null!=t.width&&-1!=t.width.toString().indexOf("px")?t.host[0].style.width=t.width:null==t.width||isNaN(t.width)||(t.host[0].style.width=parseInt(t.width)+"px"),null!=t.height&&-1!=t.height.toString().indexOf("px")?t.host[0].style.height=t.height:null==t.height||isNaN(t.height)||(t.host[0].style.height=parseInt(t.height)+"px")
var i=!1
null!=t.width&&-1!=t.width.toString().indexOf("%")&&(i=!0,t.host.width(t.width)),null!=t.height&&-1!=t.height.toString().indexOf("%")&&(i=!0,t.host.height(t.height))
var n=this
i&&t.refresh(!1),e.jqx.utilities.resize(t.host,function(){n._arrange()})},isOpened:function(){var t=e.data(document.body,"openedJQXButton"+this.element.id)
return null!=t&&t==this.popupContent},focus:function(){try{t.host.focus()}catch(e){}},render:function(){t.removeHandlers()
var i=this
t.touch||(t.addHandler(t.host,"mouseenter",function(){!i.disabled&&i.enableHover&&(!0,i.host.addClass(i.toThemeProperty("jqx-dropdownlist-state-hover")),i.arrow.addClass(i.toThemeProperty("jqx-icon-arrow-down-hover")),i.host.addClass(i.toThemeProperty("jqx-fill-state-hover")))}),t.addHandler(t.host,"mouseleave",function(){!i.disabled&&i.enableHover&&(i.host.removeClass(i.toThemeProperty("jqx-dropdownlist-state-hover")),i.host.removeClass(i.toThemeProperty("jqx-fill-state-hover")),i.arrow.removeClass(i.toThemeProperty("jqx-icon-arrow-down-hover")),!1)})),i.autoOpen&&(t.addHandler(t.host,"mouseenter",function(){!i.isOpened()&&i.autoOpen&&(i.open(),i.host.focus())}),t.addHandler(e(document),"mousemove."+i.element.id,function(e){if(i.isOpened()&&i.autoOpen){var t=i.host.coord(),n=t.top,r=t.left,o=i.container.coord(),a=o.left,s=o.top,l=!0
e.pageY>=n&&e.pageY<=n+i.host.height()&&e.pageX>=r&&e.pageX<r+i.host.width()&&(l=!1),e.pageY>=s&&e.pageY<=s+i.container.height()&&e.pageX>=a&&e.pageX<a+i.container.width()&&(l=!1),l&&i.close()}})),t.addHandler(t.dropDownButtonWrapper,"mousedown",function(e){if(!i.disabled){var t="visible"==i.container.css("visibility")
if(!i.isanimating){if(t)return i.close(),!1
i.open(),i.focusable||e.preventDefault&&e.preventDefault()}}}),t.touch&&t.addHandler(e(document),e.jqx.mobile.getTouchEventName("touchstart")+"."+t.element.id,i.closeOpenedDropDown,{me:this,popup:t.container,id:t.element.id}),t.addHandler(e(document),"mousedown."+t.element.id,i.closeOpenedDropDown,{me:this,popup:t.container,id:t.element.id}),t.addHandler(t.host,"keydown",function(e){var t="visible"==i.container.css("visibility")
return"none"==i.host.css("display")||("13"==e.keyCode&&(i.isanimating||t&&i.close()),115==e.keyCode?(i.isanimating||(i.isOpened()?i.isOpened()&&i.close():i.open()),!1):(e.altKey&&"block"==i.host.css("display")&&(38==e.keyCode?i.isOpened()&&i.close():40==e.keyCode&&(i.isOpened()||i.open())),void("27"==e.keyCode&&(i.ishiding||(i.close(),null!=i.tempSelectedIndex&&i.selectIndex(i.tempSelectedIndex))))))}),t.addHandler(t.firstDiv,"focus",function(){i.host.addClass(i.toThemeProperty("jqx-dropdownlist-state-focus")),i.host.addClass(i.toThemeProperty("jqx-fill-state-focus"))}),t.addHandler(t.firstDiv,"blur",function(){i.host.removeClass(i.toThemeProperty("jqx-dropdownlist-state-focus")),i.host.removeClass(i.toThemeProperty("jqx-fill-state-focus"))})},removeHandlers:function(){t.removeHandler(t.dropDownButtonWrapper,"mousedown"),t.removeHandler(t.host,"keydown"),t.removeHandler(t.firstDiv,"focus"),t.removeHandler(t.firstDiv,"blur"),t.removeHandler(t.host,"mouseenter"),t.removeHandler(t.host,"mouseleave"),t.autoOpen&&(t.removeHandler(t.host,"mouseenter"),t.removeHandler(t.host,"mouseleave")),t.removeHandler(e(document),"mousemove."+this.element.id)},_findPos:function(t){for(;t&&("hidden"==t.type||1!=t.nodeType||e.expr.filters.hidden(t));)t=t.nextSibling
var i=e(t).coord(!0)
return[i.left,i.top]},testOffset:function(i,n,r){var o=i.outerWidth(),a=i.outerHeight(),s=e(window).width()+e(window).scrollLeft(),l=e(window).height()+e(window).scrollTop()
if(n.left+o>s&&o>t.host.width()){var d=t.host.coord().left,c=o-t.host.width()
n.left=d-c+2}return n.left<0&&(n.left=parseInt(t.host.coord().left)+"px"),n.top-=Math.min(n.top,n.top+a>l&&l>a?Math.abs(a+r+22):0),n},_getBodyOffset:function(){var t=0,i=0
return"0px"!=e("body").css("border-top-width")&&(t=parseInt(e("body").css("border-top-width")),isNaN(t)&&(t=0)),"0px"!=e("body").css("border-left-width")&&(i=parseInt(e("body").css("border-left-width")),isNaN(i)&&(i=0)),{left:i,top:t}},open:function(){e.jqx.aria(this,"aria-expanded",!0)
var t=this,i=this
if((null==t.dropDownWidth||"auto"==t.dropDownWidth)&&null!=t.width&&t.width.indexOf&&-1!=t.width.indexOf("%")){var n=t.host.width()
t.container.width(parseInt(n))}i._raiseEvent("2")
var r,o=t.popupContent,a=(e(window).scrollTop(),e(window).scrollLeft(),parseInt(t._findPos(t.host[0])[1])+parseInt(t.host.outerHeight())-1+"px"),s=parseInt(Math.round(t.host.coord(!0).left))
r=s+"px"
var l=e.jqx.mobile.isSafariMobileBrowser()||e.jqx.mobile.isWindowsPhone()
t.ishiding=!1,t.tempSelectedIndex=t.selectedIndex,null!=l&&l&&(r=e.jqx.mobile.getLeftPos(t.element),a=e.jqx.mobile.getTopPos(t.element)+parseInt(t.host.outerHeight()),"0px"!=e("body").css("border-top-width")&&(a=parseInt(a)-t._getBodyOffset().top+"px"),"0px"!=e("body").css("border-left-width")&&(r=parseInt(r)-t._getBodyOffset().left+"px")),o.stop(),t.host.addClass(t.toThemeProperty("jqx-dropdownlist-state-selected")),t.host.addClass(t.toThemeProperty("jqx-fill-state-pressed")),t.arrow.addClass(t.toThemeProperty("jqx-icon-arrow-down-selected"))
var d=!1
e.jqx.browser.msie&&e.jqx.browser.version<8&&(d=!0),d&&t.container.css("display","block"),t.container.css("left",r),t.container.css("top",a)
var c=!1,h=function(){if("right"==t.dropDownHorizontalAlignment||t.rtl){var e=t.container.width(),i=Math.abs(e-t.host.width())
e>t.host.width()?t.container.css("left",parseInt(Math.round(s))-i+"px"):t.container.css("left",parseInt(Math.round(s))+i+"px")}}
if(h.call(this),"top"==t.dropDownVerticalAlignment){var u=o.height()
c=!0,t.container.height(o.outerHeight()),o.addClass(this.toThemeProperty("jqx-popup-up"))
var p=parseInt(t.host.outerHeight()),m=parseInt(a)-Math.abs(u+p)
t.interval&&clearInterval(t.interval),t.interval=setInterval(function(){if(o.outerHeight()!=t.container.height()){t.container.height(o.outerHeight())
var e=parseInt(a)-Math.abs(o.height()+p)
t.container.css("top",e)}},50),o.css("top",23),t.container.css("top",m)}if(t.enableBrowserBoundsDetection){var f=t.testOffset(o,{left:parseInt(t.container.css("left")),top:parseInt(a)},parseInt(t.host.outerHeight()))
parseInt(t.container.css("top"))!=f.top?(c=!0,t.container.height(o.outerHeight()),o.css("top",23),t.interval&&clearInterval(t.interval),t.interval=setInterval(function(){if(o.outerHeight()!=i.container.height()){var e=i.testOffset(o,{left:parseInt(t.container.css("left")),top:parseInt(a)},parseInt(t.host.outerHeight()))
t.container.css("top",e.top),t.container.height(o.outerHeight())}},50)):o.css("top",0),t.container.css("top",f.top),parseInt(t.container.css("left"))!=f.left&&t.container.css("left",f.left)}if("none"==t.animationType)t.container.css("visibility","visible"),e.data(document.body,"openedJQXButtonParent",i),e.data(document.body,"openedJQXButton"+t.element.id,o),o.css("margin-top",0),o.css("opacity",1),t._raiseEvent("0"),h.call(i)
else{t.container.css("visibility","visible")
var g=o.outerHeight()
i.isanimating=!0,"fade"==t.animationType?(o.css("margin-top",0),o.css("opacity",0),o.animate({opacity:1},t.openDelay,function(){e.data(document.body,"openedJQXButtonParent",i),e.data(document.body,"openedJQXButton"+i.element.id,o),i.ishiding=!1,i.isanimating=!1,i._raiseEvent("0")}),h.call(i)):(o.css("opacity",1),c?o.css("margin-top",g):o.css("margin-top",-g),h.call(i),o.animate({"margin-top":0},t.openDelay,function(){e.data(document.body,"openedJQXButtonParent",i),e.data(document.body,"openedJQXButton"+i.element.id,o),i.ishiding=!1,i.isanimating=!1,i._raiseEvent("0")}))}c?(t.host.addClass(t.toThemeProperty("jqx-rc-t-expanded")),t.container.addClass(t.toThemeProperty("jqx-rc-b-expanded"))):(t.host.addClass(t.toThemeProperty("jqx-rc-b-expanded")),t.container.addClass(t.toThemeProperty("jqx-rc-t-expanded"))),t.focusable&&(t.firstDiv.focus(),setTimeout(function(){i.firstDiv.focus()},10)),t.container.addClass(t.toThemeProperty("jqx-fill-state-focus")),t.host.addClass(i.toThemeProperty("jqx-dropdownlist-state-focus")),t.host.addClass(i.toThemeProperty("jqx-fill-state-focus"))},close:function(){e.jqx.aria(this,"aria-expanded",!1)
var t=this.popupContent,i=this.container,n=this
n._raiseEvent("3")
var r=!1
if(e.jqx.browser.msie&&e.jqx.browser.version<8&&(r=!0),this.isOpened()){if(e.data(document.body,"openedJQXButton"+this.element.id,null),"none"==this.animationType)this.container.css("visibility","hidden"),r&&this.container.css("display","none")
else if(!n.ishiding){n.isanimating=!0,t.stop()
var o=t.outerHeight()
t.css("margin-top",0)
var a=-o
parseInt(this.container.coord().top)<parseInt(this.host.coord().top)&&(a=o),"fade"==this.animationType?(t.css({opacity:1}),t.animate({opacity:0},this.closeDelay,function(){i.css("visibility","hidden"),n.isanimating=!1,n.ishiding=!1,r&&i.css("display","none")})):t.animate({"margin-top":a},this.closeDelay,function(){i.css("visibility","hidden"),n.isanimating=!1,n.ishiding=!1,r&&i.css("display","none")})}this.ishiding=!0,this.host.removeClass(this.toThemeProperty("jqx-dropdownlist-state-selected")),this.host.removeClass(this.toThemeProperty("jqx-fill-state-pressed")),this.arrow.removeClass(this.toThemeProperty("jqx-icon-arrow-down-selected")),this.host.removeClass(this.toThemeProperty("jqx-rc-b-expanded")),this.container.removeClass(this.toThemeProperty("jqx-rc-t-expanded")),this.host.removeClass(this.toThemeProperty("jqx-rc-t-expanded")),this.container.removeClass(this.toThemeProperty("jqx-rc-b-expanded")),this.container.removeClass(this.toThemeProperty("jqx-fill-state-focus")),this.host.removeClass(this.toThemeProperty("jqx-dropdownlist-state-focus")),this.host.removeClass(this.toThemeProperty("jqx-fill-state-focus")),this._raiseEvent("1")}},closeOpenedDropDown:function(t){var i=t.data.me,n=e(t.target)
if(e(t.target).ischildof(t.data.me.host))return!0
if(e(t.target).ischildof(t.data.me.popupContent))return!0
var r=!1
return e.each(n.parents(),function(){if("undefined"!=this.className){if(this.className.indexOf&&-1!=this.className.indexOf("dropDownButton"))return r=!0,!1
if(this.className.indexOf&&-1!=this.className.indexOf("jqx-popup"))return r=!0,!1}}),r||i.close(),!0},refresh:function(){t._arrange()},_arrange:function(){var e=parseInt(this.host.width()),t=parseInt(this.host.height()),i=(this.arrowSize,this.arrowSize),n=e-i-6
if(n>0&&(this.dropDownButtonContent[0].style.width=n+"px"),this.dropDownButtonContent[0].style.height=parseInt(t)+"px",this.dropDownButtonContent[0].style.left="0px",this.dropDownButtonContent[0].style.top="0px",this.dropDownButtonArrow[0].style.width=parseInt(i)+"px",this.dropDownButtonArrow[0].style.height=parseInt(t)+"px",this.rtl&&(this.dropDownButtonArrow.css("float","left"),this.dropDownButtonContent.css("float","right"),this.dropDownButtonContent.css("left",-3)),null!=this.dropDownWidth)if(this.dropDownWidth.toString().indexOf("%")>=0){e=parseInt(this.dropDownWidth)*this.host.width()/100
this.container.width(e)}else this.container.width(this.dropDownWidth)
null!=this.dropDownHeight&&this.container.height(this.dropDownHeight)},destroy:function(){e.jqx.utilities.resize(this.host,null,!0)
this.interval&&clearInterval(this.interval),this.removeHandler(this.dropDownButtonWrapper,"selectstart"),this.removeHandler(this.dropDownButtonWrapper,"mousedown"),this.removeHandler(this.host,"keydown"),this.host.removeClass(),this.removeHandler(e(document),"mousedown."+this.element.id,self.closeOpenedDropDown),this.host.remove(),this.container.remove()},_raiseEvent:function(i,n){null==n&&(n={owner:null}),2!=i||t.contentInitialized||t.initContent&&(t.initContent(),t.contentInitialized=!0)
var r=t.events[i]
n.owner=this
var o=new e.Event(r)
return o.owner=this,2!=i&&3!=i&&4!=i||(o.args=n),t.host.trigger(o)},resize:function(e,i){t.width=e,t.height=i,t._setSize(),t._arrange()},propertiesChangedHandler:function(e,t,i){i.width&&i.height&&2==Object.keys(i).length&&(e._setSize(),e._arrange(),e.close())},propertyChangedHandler:function(i,n,r,o){null!=t.isInitialized&&0!=t.isInitialized&&(i.batchUpdate&&i.batchUpdate.width&&i.batchUpdate.height&&2==Object.keys(i.batchUpdate).length||("template"==n&&(i.host.removeClass(i.toThemeProperty("jqx-"+r)),i.host.addClass(i.toThemeProperty("jqx-"+i.template))),"rtl"==n&&(o?(i.dropDownButtonArrow.css("float","left"),i.dropDownButtonContent.css("float","right")):(i.dropDownButtonArrow.css("float","right"),i.dropDownButtonContent.css("float","left"))),"autoOpen"==n&&i.render(),"theme"==n&&null!=o&&e.jqx.utilities.setTheme(r,o,i.host),"width"!=n&&"height"!=n||(i._setSize(),i._arrange())))}}
e.extend(!0,this,i)}})}(jqxBaseFramework)
var wi=Object.freeze({})
!function(e){e.jqx.jqxWidget("jqxArray","",{}),e.extend(e.jqx._jqxArray.prototype,{defineInstance:function(){e.extend(!0,this,{width:null,height:null,type:"none",value:null,dimensions:1,rows:1,columns:1,elementWidth:75,elementHeight:25,showIndexDisplay:!0,indexerWidth:50,indexerHeight:25,showVerticalScrollbar:!1,showHorizontalScrollbar:!1,showSelection:!0,disabled:!1,customWidgetDefaultValue:null,elementTemplate:null,changeProperty:null,getElementValue:null,setElementValue:null,arrayIndexingMode:"LabVIEW",events:["change","elementClick","sizeChange","dimensionChange","arraySizeChange","scroll"]})},createInstance:function(){this._render()},_render:function(){this._coordinates=[],this._getDefaultCellValue(),this._validateProperties(),this._addClasses(),this._addInnerElements(),this._addInitialDimensions(),"none"!==this.type&&(this._addElementStructure(),this._structureAdded=!0,this._initializeElements(!1)),this._getInitialFill(),this._updateWidgetWidth(),this._updateWidgetHeight()},render:function(){this.refresh()},refresh:function(e){if(!0!==e){this._updateWidgetWidth(),this._updateWidgetHeight(),this._scroll()}},destroy:function(){for(var t=0;t<this._indexers.length;t++)this._indexers[t].jqxNumberInput("destroy")
this._hScrollBarInitialized&&this._horizontalScrollBar.jqxScrollBar("destroy"),this._vScrollBarInitialized&&this._verticalScrollBar.jqxScrollBar("destroy"),this._widget&&e(".jqx-array-element-"+this.element.id)[this._widget]("destroy"),this.host.remove()},val:function(t,i){var n
if(2===arguments.length){if("none"===this.type)return
n=JSON.stringify(this.value)
for(var r=this.value,o=0;o<this.dimensions-1;o++){var a=i[o]
void 0===a&&(a=0,i[o]=0),void 0===r[a]&&(r[a]=[]),r=r[a]}var s=i[o]
void 0===s&&(s=0,i[o]=0),this._areDifferent(r[s],t)&&(r[s]=t,this._fillValueArray(i.slice(0)),this._raiseEvent("0",{value:this.value,oldValue:JSON.parse(n),dimensionIndexes:i}))}else{if(void 0===t||e.isEmptyObject(t))return this.value
if("none"===this.type)return
var l=JSON.stringify(this.value)
l!==JSON.stringify(t)&&(n=this.value,this.value=t,this._validateValue(),l!==JSON.stringify(this.value)&&(this._scroll(),this._getInitialFill(),this._raiseEvent("0",{value:this.value,oldValue:n})))}},addDimension:function(t){var i=this
if(!0===i._suppressDimensionChange||32!==i.dimensions){var n=e('<div class="jqx-array-indexer"></div>')
i._indexerContainer.prepend(n),n.jqxNumberInput({theme:i.theme,width:i.indexerWidth-2,height:i.indexerHeight,inputMode:"simple",decimalDigits:0,spinButtons:!0,min:0,max:4294967295,disabled:i.disabled}),n.find(".jqx-icon-arrow-up").parent()[0].classList.add("jqx-array-indexer-increment"),n.find(".jqx-icon-arrow-down").parent()[0].classList.add("jqx-array-indexer-decrement"),i.addHandler(n,"change.jqxArray"+i.element.id,function(t){var n=e(this).data("dimension"),r="LabVIEW"===i.arrayIndexingMode?i.dimensions-n-1:n,o=parseFloat(t.args.value)
i._coordinates[r]=o,i._scroll(),"none"===i.type||0!==n&&1!==n||i._syncScrollbar(n,o),t.stopPropagation()}),i._dimensions.push({index:i._dimensions.length,indexer:n}),"LabVIEW"===i.arrayIndexingMode?(i._indexers.unshift(n),i._coordinates.unshift(0)):(i._indexers.push(n),i._coordinates.push(0)),n.data({dimension:i._indexers.length-1}),!0!==i._suppressDimensionChange&&(i.dimensions+=1,i._raiseEvent("3",{type:"add"})),!0!==i._initialDimensions&&!1!==t&&(i._addDimensionToJSArray(),"LabVIEW"===i.arrayIndexingMode?i._filledUpTo.unshift(0):i._filledUpTo.push(0),!0===i._oneDimensionSpecialCase&&(i._oneDimensionSpecialCase=!1,i._verticalScrollBar.val(0),i._scroll())),void 0!==i._absoluteSelectionStart&&i._absoluteSelectionStart.push(0),void 0!==i._absoluteSelectionEnd&&i._absoluteSelectionEnd.push(0),!1===i._suppressDimensionChange&&!0===i.showIndexDisplay&&i.dimensions*(i.indexerHeight+4)-2>i.height&&i._updateWidgetHeight("dimensions")}},removeDimension:function(e,t){var i=this._dimensions.length-1
if(this._dimensions.length>1){if(2===this.dimensions){var n=this.rows
this.rows=1,this._changeRowsColumns("rows",n,1,void 0,!0)}var r
this._dimensions[i].indexer.jqxNumberInput("destroy"),this._dimensions.pop(),"LabVIEW"===this.arrayIndexingMode?(r=this._coordinates[0],this._indexers.splice(0,1),this._coordinates.splice(0,1)):(r=this._coordinates[i],this._indexers.pop(),this._coordinates.pop()),!0!==this._suppressDimensionChange&&(this.dimensions-=1,this._raiseEvent("3",{type:"remove"})),!1!==t&&(this._removeDimensionFromJSArray(),"LabVIEW"===this.arrayIndexingMode?this._filledUpTo.splice(0,1):this._filledUpTo.pop()),void 0!==this._absoluteSelectionStart&&this._absoluteSelectionStart.pop(),void 0!==this._absoluteSelectionEnd&&this._absoluteSelectionEnd.pop(),r>0&&this._scroll(),(this.dimensions>1&&!1===this._suppressDimensionChange&&!0===this.showIndexDisplay&&(this.dimensions+1)*(this.indexerHeight+4)-2>=this.height||1===this.dimensions&&!0!==e)&&this._updateWidgetHeight("dimensions")}},setIndexerValue:function(e){for(var t=!1,i=0;i<e.length;i++){var n=e[i].index,r="LabVIEW"===this.arrayIndexingMode?this.dimensions-n-1:n,o=e[i].value,a=this._indexers[n]
void 0!==a&&o!==this._coordinates[n]&&(t=!0,a.val(o),this._coordinates[n]=o,"none"===this.type||0!==r&&1!==r||this._syncScrollbar(r,o))}!0===t&&this._scroll()},getIndexerValue:function(){for(var e=this._indexers,t=[],i=0;i<e.length;i++)t.push(e[i].val())
return t},showLastElement:function(){var e,t,i=[]
"LabVIEW"===this.arrayIndexingMode?(e=this.dimensions-1,t=this.dimensions-2):(e=0,t=1)
for(var n=0;n<this.dimensions;n++){var r=this._filledUpTo[n]
n===e?r=r<=this.columns-1?0:r-this.columns+1:n===t&&(r=r<=this.rows-1?0:r-this.rows+1),i.push({index:n,value:r})}this.setIndexerValue(i)},insertRowBefore:function(e,t){var i=this,n=JSON.stringify(i.value),r="LabVIEW"===i.arrayIndexingMode
if(r&&!0!==t)i.insertColumnBefore(e,!0)
else{if(1===i.dimensions){if(!(r&&!i._oneDimensionSpecialCase||!r&&i._oneDimensionSpecialCase))return
i.value.splice(e+i._coordinates[0],0,i._getDefaultValue()),i._scroll(),i._filledUpTo[0]++}else{var o,a=i._filledUpTo.slice(0)
if(r){var s=i.dimensions-1
o=e+i._coordinates[s]
var l=function(e,t){if(s!==t)for(var n=0;n<e.length;n++)l(e[n],t+1)
else e.splice(o,0,i._getDefaultValue())}
l(i.value,0),a[s]++}else{o=e+i._coordinates[1]
for(var d=0;d<i.value.length;d++){i.value[d].splice(o,0,void 0)}a[1]++}i._fillValueArray(a,!0)}i._raiseEvent("0",{value:i.value,oldValue:JSON.parse(n)}),i._setMaxValuesOfScrollBars()}},insertColumnBefore:function(e,t){var i,n=JSON.stringify(this.value),r="LabVIEW"===this.arrayIndexingMode
if(r&&!0!==t)this.insertRowBefore(e,!0)
else{if(1===this.dimensions){if(!(r&&this._oneDimensionSpecialCase||!r&&!this._oneDimensionSpecialCase))return
this.value.splice(e+this._coordinates[0],0,this._getDefaultValue()),this._scroll(),this._filledUpTo[0]++}else{var o=this._filledUpTo.slice(0)
if(r){i=e+this._coordinates[this.dimensions-2]
var a=this.dimensions-2,s=function(e,t){if(a!==t)for(var n=0;n<e.length;n++)s(e[n],t+1)
else e.splice(i,0,[])}
s(this.value,0),o[a]++}else i=e+this._coordinates[0],this.value.splice(i,0,this._returnEmptyArray()[0]),o[0]++
this._fillValueArray(o,!0)}this._raiseEvent("0",{value:this.value,oldValue:JSON.parse(n)}),this._setMaxValuesOfScrollBars()}},deleteRow:function(e){var t,i,n="LabVIEW"===this.arrayIndexingMode,r=JSON.stringify(this.value)
if(1===this.dimensions){if(!this._oneDimensionSpecialCase)return void(0===e&&this.emptyArray())
this.value.splice(e+this._coordinates[0],1),this._filledUpTo[0]--}else{if(n){t=this.dimensions-2,i=e+this._coordinates[t]
var o=function(e,n){if(t!==n)for(var r=0;r<e.length;r++)o(e[r],n+1)
else e.splice(i,1)}
o(this.value,0)}else{t=1,i=e+this._coordinates[1]
for(var a=0;a<this.value.length;a++){this.value[a].splice(i,1)}}this._filledUpTo[t]--}r!==JSON.stringify(this.value)&&(this._scroll(),this._raiseEvent("0",{value:this.value,oldValue:JSON.parse(r)}),this._setMaxValuesOfScrollBars())},deleteColumn:function(e){var t="LabVIEW"===this.arrayIndexingMode
if(this._oneDimensionSpecialCase)0===e&&this.emptyArray()
else{var i,n,r=JSON.stringify(this.value)
if(t){i=this.dimensions-1,n=e+this._coordinates[i]
var o=function(e,t){if(i!==t)for(var r=0;r<e.length;r++)o(e[r],t+1)
else e.splice(n,1)}
o(this.value,0)}else i=0,n=e+this._coordinates[0],this.value.splice(n,1)
JSON.stringify(this.value)!==r&&(this._filledUpTo[i]--,this._scroll(),this._raiseEvent("0",{value:this.value,oldValue:JSON.parse(r)}),this._setMaxValuesOfScrollBars())}},selectElement:function(e,t){this.startSelection(e,t),this.endSelection(e,t)},startSelection:function(e,t){this._absoluteSelectionStart=this._coordinates.slice(0),"LabVIEW"===this.arrayIndexingMode?(this._absoluteSelectionStart[this.dimensions-1]=t,this._absoluteSelectionStart[this.dimensions-2]=e):(this._absoluteSelectionStart[0]=t,this._absoluteSelectionStart[1]=e),this._absoluteSelectionEnd=void 0},endSelection:function(e,t){if(void 0!==this._absoluteSelectionStart){this._absoluteSelectionEnd=this._coordinates.slice(0),"LabVIEW"===this.arrayIndexingMode?(this._absoluteSelectionEnd[this.dimensions-1]=t,this._absoluteSelectionEnd[this.dimensions-2]=e):(this._absoluteSelectionEnd[0]=t,this._absoluteSelectionEnd[1]=e)
for(var i=!0,n=0;n<this.dimensions;n++)i=i&&this._absoluteSelectionStart[n]<=this._absoluteSelectionEnd[n]
i?this._refreshSelection():this._absoluteSelectionEnd=void 0}},selectAll:function(){if(!("LabVIEW"===this.arrayIndexingMode&&-1===this._filledUpTo[0]||"JavaScript"===this.arrayIndexingMode&&-1===this._filledUpTo[this._filledUpTo.length-1])){var e=new Array(this.dimensions)
Array.prototype.fill?e.fill(0):this._fillArray(e,0),this._absoluteSelectionStart=e,this._absoluteSelectionEnd=this._filledUpTo.slice(0),this._refreshSelection()}},clearSelection:function(){this._absoluteSelectionStart=void 0,this._absoluteSelectionEnd=void 0,this.showSelection&&this._clearSelection()},reinitializeArray:function(){var e=this,t=e.dimensions,i=JSON.stringify(e.value)
if(1===e.dimensions)Array.prototype.fill?e.value.fill(e._getDefaultValue()):e._fillArray(e.value,e._getDefaultValue())
else{var n=function(i,r){for(var o=0;o<i.length;o++)r===t?i[o]=e._getDefaultValue():n(i[o],r+1)}
n(e.value,1)}i!==JSON.stringify(e.value)&&(e._scroll(),e._raiseEvent("0",{value:e.value,oldValue:JSON.parse(i)}))},emptyArray:function(){if("none"!==this.type){var e=this._cells,t=this.value
if(this.value=this._returnEmptyArray(),JSON.stringify(t)===JSON.stringify(this.value))return
for(var i=0;i<e.length;i++)for(var n=0;n<e[i].length;n++){var r=e[i][n].widget,o={x:n,y:i}
r[0].classList.add("jqx-fill-state-disabled"),r[0].classList.add("jqx-array-element-empty"),this._areDifferent(this._getElementValue(r,o),this._getDefaultValue())&&(r.supressChange=!0,this._setElementValue(this._getDefaultValue(),r,o))}Array.prototype.fill?this._filledUpTo.fill(0):this._fillArray(this._filledUpTo,0),this.clearSelection(),this._raiseEvent("0",{value:this.value,oldValue:t})}},reset:function(t){if("none"!==this.type||!0===t){this.type="none"
var i=this.rows
this.rows=1,this._changeRowsColumns("rows",i,1,!0),i=this.columns,this.columns=1,this._changeRowsColumns("columns",i,1)
var n=this._cells[0][0]
this._widget&&n.widget[this._widget]("destroy"),e(n.td).empty(),this._table.style.display="none",this._widget=void 0,this._defaultValue=void 0
var r=this.value
this.value=null,this._raiseEvent("0",{value:this.value,oldValue:r}),this._hScrollBarInitialized&&this._horizontalScrollBar.jqxScrollBar({max:0,value:0}),this._vScrollBarInitialized&&this._verticalScrollBar.jqxScrollBar({max:0,value:0})}},hitTest:function(t,i){var n=this.element.id,r=e(document.elementFromPoint(t,i)),o=r.closest(".jqx-array-element-"+n),a=r.closest(".jqx-array-indexer"),s=r.closest("#"+n)
if(o.length>0)return{type:"element",htmlElement:o[0],row:o.data("row"),column:o.data("col")}
if(a.length>0){var l=a.data("dimension")
return"LabVIEW"===this.arrayIndexingMode&&(l=this.dimensions-l-1),{type:"indexer",htmlElement:a[0],dimension:l}}return s.length>0?{type:"array",htmlElement:s[0]}:void 0},getElement:function(e,t){var i=this._cells
if(void 0!==i[e]&&void 0!==i[e][t])return i[e][t].widget[0]},getElementSize:function(){return{width:this.elementWidth,height:this.elementHeight}},setColumnWidth:function(t,i){if((t=parseInt(t,10))!==this.elementWidth||!0===i){var n=e(".jqx-array-element-"+this.element.id)
if(this.elementWidth=t,"none"!==this.type){if(this._updateWidgetWidth(),"custom"!==this.type)n[this._widget]({width:t})
else if(this.changeProperty)this.changeProperty("width",t,n)
else try{console.warn('jqxArray: When "type" is \'custom\' and the column width is changed, the "changeProperty" callback function should be implemented.')}catch(e){}this._raiseEvent("2",{width:t,height:this.elementHeight})}}},setRowHeight:function(t,i){if((t=parseInt(t,10))!==this.elementHeight||!0===i){var n=e(".jqx-array-element-"+this.element.id)
if(this.elementHeight=t,"none"!==this.type){if(this._updateWidgetHeight(),"custom"!==this.type)n[this._widget]({height:t})
else if(this.changeProperty)this.changeProperty("height",t,n)
else try{console.warn('jqxArray: When "type" is \'custom\' and the row height is changed, the "changeProperty" callback function should be implemented.')}catch(e){}this._raiseEvent("2",{width:this.elementWidth,height:t})}}},resizeElement:function(t,i){if(t=parseInt(t,10),i=parseInt(i,10),t!==this.elementWidth||i!==this.elementHeight)if(t!==this.elementWidth)if(i!==this.elementHeight){var n=e(".jqx-array-element-"+this.element.id)
if(this.elementWidth=t,this.elementHeight=i,"none"!==this.type){if(this._updateWidgetWidth(),this._updateWidgetHeight(),"custom"!==this.type)n[this._widget]({width:t,height:i})
else if(this.changeProperty)this.changeProperty("width",t,n),this.changeProperty("height",i,n)
else try{console.warn('jqxArray: When "type" is \'custom\' and the column width and row height are changed, the "changeProperty" callback function should be implemented.')}catch(e){}this._raiseEvent("2",{width:t,height:i})}}else this.setColumnWidth(t)
else this.setRowHeight(i)},setDefaultValue:function(e){this._areDifferent(e,this._defaultValue)&&(this._defaultValue=e,this._scroll())},toggleElementGap:function(){var e=this.host.find(".jqx-array-table-data")
void 0===this._elementGap&&(this._elementGap=!1),this._elementGap?(this._tdBorder-=6,e.removeClass("jqx-array-table-data-gap"),this._elementGap=!1):(this._tdBorder+=6,e.addClass("jqx-array-table-data-gap"),this._elementGap=!0),this._updateWidgetWidth(),this._updateWidgetHeight()},transposeArray:function(){var e=this
if(2===e.dimensions){var t=e.value[0].map(function(t,i){return e.value.map(function(e){return e[i]})}),i=JSON.stringify(e.value)
e.value=t,e._scroll(),e._raiseEvent("0",{value:t,oldValue:JSON.parse(i)}),e._filledUpTo.reverse()}},copyElementValueToClipboard:function(t,i){var n=this._getValueInCell(t,i)
if(void 0!==n)try{var r=e('<input type="text" style="position: absolute;" value="'+n+'" />')
r.appendTo(this.host),r.select(),document.execCommand("copy"),r.remove()}catch(e){}},propertiesChangedHandler:function(e,t,i){if(i.type&&"none"!==i.type&&i.elementTemplate)e._fullRefresh(t,i)
else if(i.rows&&i.columns){if(i.rows===t.rows)return i.columns===t.columns?void 0:void e._changeRowsColumns("columns",t.columns,i.columns)
if(i.columns===t.columns)return void e._changeRowsColumns("rows",t.rows,i.rows)
if(1===e.dimensions&&1===i.columns&&i.rows>1)return e._changeRowsColumns("columns",t.columns,i.columns),void e._changeRowsColumns("rows",t.rows,i.rows)
e.columns=t.columns,e._changeRowsColumns("rows",t.rows,i.rows),e.columns=i.columns,e._changeRowsColumns("columns",t.columns,i.columns)}},propertyChangedHandler:function(t,i,n,r){if(t.batchUpdate){if(t.batchUpdate.type&&"none"!==t.batchUpdate.type&&t.batchUpdate.elementTemplate)return
if(t.batchUpdate.rows&&t.batchUpdate.columns&&("rows"===i||"columns"===i))return}var o
if(r!==n)switch(i){case"width":if(r=t._validateSizeProperty("width"),"none"!==t.type){var a=r-n,s=t.elementWidth+t._tdBorder
if(Math.abs(a)<s)return void(t.width=n)
var l=Math.floor(a/s),d=t.columns,c=d+l
t.columns=c,t._changeRowsColumns("columns",d,c)}else t._updateWidgetWidth()
break
case"height":"none"===t.type?(t._validateSizeProperty("height"),t._updateWidgetHeight()):t.height=n
break
case"type":t._getDefaultCellValue(),"none"!==n&&"none"!==r?(t._initializeElements(!0),t._updateWidgetWidth(),t._updateWidgetHeight()):"none"===n?(t.value=t._returnEmptyArray(),!0===t._structureAdded?(t._initializeElements(!1),t._table.style.display="table"):(t._addElementStructure(),t._structureAdded=!0,t._initializeElements(!1)),t._updateWidgetWidth(),t._updateWidgetHeight(),t._getInitialFill()):"none"===r&&t.reset(!0)
break
case"value":JSON.stringify(n)!==JSON.stringify(r)&&(t._validateValue(),JSON.stringify(n)!==JSON.stringify(t.value)&&(t._scroll(),t._getInitialFill(),t._raiseEvent("0",{value:t.value,oldValue:n})))
break
case"dimensions":t._addRemoveMultipleDimensions(n,r)
break
case"rows":case"columns":t._changeRowsColumns(i,n,r)
break
case"elementWidth":r=t._validateSizeProperty("elementWidth"),t.setColumnWidth(r,!0)
break
case"elementHeight":r=t._validateSizeProperty("elementHeight"),t.setRowHeight(r,!0)
break
case"showIndexDisplay":t._indexerContainer[0].style.display=r?"block":"none",t._updateWidgetWidth(),t._updateWidgetHeight("showIndexDisplay")
break
case"indexerWidth":r=t._validateSizeProperty("indexerWidth"),t._indexerContainer[0].style.width=r+"px"
for(var h=0;h<t._indexers.length;h++)t._indexers[h].jqxNumberInput({width:r-2})
t._updateWidgetWidth()
break
case"indexerHeight":r=t._validateSizeProperty("indexerHeight")
for(var u=0;u<t._indexers.length;u++)t._indexers[u].jqxNumberInput({height:r})
t._updateWidgetHeight()
break
case"showVerticalScrollbar":if(!0!==t._vScrollBarInitialized)if(t._updateWidgetWidth(!0),t._initializeVScrollBar(),t.dimensions>1){var p="LabVIEW"===t.arrayIndexingMode?t.dimensions-2:1
t._syncScrollbar(1,t._coordinates[p])}else t._syncScrollbar(1,t._coordinates[0])
else t._showVerticalScrollbar(r)
break
case"showHorizontalScrollbar":var m
if(!0!==t._hScrollBarInitialized)t._updateWidgetHeight("showHorizontalScrollbar"),t._initializeHScrollBar(),m="LabVIEW"===t.arrayIndexingMode?t.dimensions-1:0,t._syncScrollbar(0,t._coordinates[m])
else t._showHorizontalScrollbar(r)
break
case"showSelection":r?t._refreshSelection():t._clearSelection()
break
case"disabled":r?t.element.classList.add("jqx-fill-state-disabled"):t.host.removeClass("jqx-fill-state-disabled")
for(var f=0;f<t._indexers.length;f++)t._indexers[f].jqxNumberInput({disabled:r})
if("none"!==t.type){if(o=e(".jqx-array-element-"+t.element.id),"custom"!==t.type)o[t._widget]({disabled:r})
else if(t.changeProperty)t.changeProperty("disabled",r,o)
else try{console.warn('jqxArray: When "type" is \'custom\' and the "disabled" property is changed, the "changeProperty" callback function should be implemented.')}catch(e){}t._scroll()}break
case"customWidgetDefaultValue":"custom"===t.type&&(t._defaultValue=r,t._scroll())
break
case"elementTemplate":if("none"!==t.type){o=e(".jqx-array-element-"+t.element.id)
for(var g=0;g<o.length;g++){var v=e(o[g])
t.elementTemplate(v,{x:v.data("col"),y:v.data("row")})}}break
case"theme":for(var b=0;b<t._indexers.length;b++)t._indexers[b].jqxNumberInput({theme:r})
e(t._bigContainer).removeClass("jqx-fill-state-pressed-"+n),t._bigContainer.classList.add("jqx-fill-state-pressed-"+r)
for(var y=0;y<t.rows;y++)for(var _=0;_<t.columns;_++){var w=e(t._cells[y][_].td)
w.removeClass("jqx-fill-state-pressed-"+n),w[0].classList.add("jqx-fill-state-pressed-"+r)}"none"!==t.type&&(o=e(".jqx-array-element-"+t.element.id),"custom"!==t.type?o[t._widget]({theme:r}):t.changeProperty&&t.changeProperty("theme",r,o)),t._hScrollBarInitialized&&t._horizontalScrollBar.jqxScrollBar({theme:r}),t._vScrollBarInitialized&&t._verticalScrollBar.jqxScrollBar({theme:r}),t._scroll()
break
case"arrayIndexingMode":t.arrayIndexingMode=n}},_raiseEvent:function(t,i){void 0===i&&(i={owner:null})
var n=this.events[t]
i.owner=this
var r=new e.Event(n)
return r.owner=this,r.args=i,r.preventDefault&&r.preventDefault(),this.host.trigger(r)},_fullRefresh:function(e,t){if(t.indexerWidth){var i=parseInt(t.indexerWidth,10)
this._indexerContainer[0].style.width=i+"px"
for(var n=0;n<this._indexers.length;n++)this._indexers[n].jqxNumberInput({width:i-2})}this._getDefaultCellValue()
var r=this.showVerticalScrollbar,o=this.showHorizontalScrollbar
this._validateProperties(),this._showVerticalScrollbar(r),this._showHorizontalScrollbar(o)
var a=!1
t.value||(a=!0),t.dimensions&&t.dimensions!==e.dimensions&&this._addRemoveMultipleDimensions(e.dimensions,t.dimensions,a),!0===this._structureAdded?(this._initializeElements(!1),this._table.style.display="table"):(this._addElementStructure(),this._structureAdded=!0,this._initializeElements(!1)),this._getInitialFill(),this._updateWidgetWidth(),this._updateWidgetHeight(),this._scroll()},_validateProperties:function(){this._validateSizeProperty("width"),this._validateSizeProperty("height"),this._validateSizeProperty("elementWidth"),this._validateSizeProperty("elementHeight"),this._validateSizeProperty("indexerWidth"),this._validateSizeProperty("indexerHeight"),this._oneDimensionSpecialCase=!1,"none"===this.type?(this.rows=1,this.columns=1):(this.rows<1&&(this.rows=1),this.columns<1&&(this.columns=1)),(this.dimensions<1||this.dimensions>32)&&(this.dimensions=1),1===this.dimensions&&(this.columns>1?(this.rows=1,!0===this.showVerticalScrollbar&&(this.showVerticalScrollbar=!1)):1!==this.rows&&(this._oneDimensionSpecialCase=!0,!0===this.showHorizontalScrollbar&&(this.showHorizontalScrollbar=!1))),"none"===this.type&&(null===this.width&&(this.width=this.indexerWidth+80+(this.showVerticalScrollbar?20:0)),null===this.height&&(this.height=80+(this.showHorizontalScrollbar?20:0))),this._validateValue()},_validateSizeProperty:function(e){if("string"==typeof this[e]){var t=parseInt(this[e],10)
return this[e]=t,t}return this[e]},_validateValue:function(){null===this.value||void 0===this.value?this.value=this._returnEmptyArray():this._validateValueArrayDimensions()},_validateValueArrayDimensions:function(){var e=0,t=this.value,i=!1
if(t.constructor!==Array)this.value=[t],t=this.value,e=1
else for(;t.constructor===Array;)if(e++,void 0===(t=t[0])){i=!0
break}if(this.dimensions>e){if(i)return void(this.value=this._returnEmptyArray())
for(;this.dimensions>e;)this._addDimensionToJSArray(e),e++}},_addInnerElements:function(){var t=this.element.id,i=this.showIndexDisplay?"block":"none",n='<div id="'+t+'IndexerContainer" class="jqx-array-indexer-container" style="width: '+this.indexerWidth+"px; display: "+i+';"></div><div id="'+t+'BigContainer" class="jqx-array-big-container jqx-array-background '+this.toThemeProperty("jqx-fill-state-pressed")+'"><div id="'+t+'CentralContainer" class="jqx-array-central-container"><div id="'+t+'MainContainer"></div><div id="'+t+'HorizontalScrollbarContainer" class="jqx-array-scrollbar-container-horizontal" style="display: none;"><div id="'+t+'HorizontalScrollbar" class="jqx-array-scrollbar-horizontal"></div></div></div><div id="'+t+'VerticalScrollbarContainer" class="jqx-array-scrollbar-container-vertical" style="display: none;"><div id="'+t+'VerticalScrollbar" class="jqx-array-scrollbar-vertical"></div></div></div><div style="clear: both;"></div>'
this.element.innerHTML=n,this._indexerContainer=e("#"+t+"IndexerContainer"),this._bigContainer=document.getElementById(t+"BigContainer"),this._mainContainer=document.getElementById(t+"MainContainer"),this._horizontalScrollBarContainer=document.getElementById(t+"HorizontalScrollbarContainer"),this._horizontalScrollBar=e("#"+t+"HorizontalScrollbar"),this._verticalScrollBarContainer=document.getElementById(t+"VerticalScrollbarContainer"),this._verticalScrollBar=e("#"+t+"VerticalScrollbar"),this._tableBorder=2,this.showVerticalScrollbar&&this._initializeVScrollBar(),this.showHorizontalScrollbar&&this._initializeHScrollBar()},_addClasses:function(){this.element.className="jqx-array jqx-widget",this.disabled&&this.element.classList.add("jqx-fill-state-disabled")},_addInitialDimensions:function(){var e=this.dimensions
this._dimensions=[],this._indexers=[],this._suppressDimensionChange=!0,this._initialDimensions=!0
for(var t=0;t<e;t++)this.addDimension()
this._suppressDimensionChange=!1,this._initialDimensions=!1},_addRemoveMultipleDimensions:function(e,t,i){if(!(t<1||t>32)||(this.dimensions=1,this.dimensions!==e)){var n=this.dimensions-e
if(this._suppressDimensionChange=!0,n>0){do{this.addDimension(i),n-=1}while(n>0)
this._raiseEvent("3",{type:"add"})}else if(n<0){if(1===t){var r=this.rows
this.rows=1,this.dimensions=e,this._changeRowsColumns("rows",r,1,void 0,!0),this.dimensions=t}do{this.removeDimension(!0,i),n+=1}while(n<0)
this._raiseEvent("3",{type:"remove"}),1===t&&this.showVerticalScrollbar&&this._showVerticalScrollbar(!1)}if(this._suppressDimensionChange=!1,!0===this.showIndexDisplay){if(1!==t){if(t-e>0&&t*(this.indexerHeight+4)-2<this.height)return
if(t-e<0&&e*(this.indexerHeight+4)-2<this.height)return}this._updateWidgetHeight("dimensions")}}},_addElementStructure:function(){this._cells=[],this._table=document.createElement("table"),this._table.className="jqx-array-element-gap"
var t=document.createElement("tbody")
this._table.appendChild(t),this._tableBody=e(t)
for(var i=document.createDocumentFragment(),n=0;n<this.rows;n++){var r=document.createElement("tr"),o=document.createDocumentFragment()
r.classList.add("jqx-array-table-row"),this._cells.push([])
for(var a=0;a<this.columns;a++){var s=document.createElement("td")
s.classList.add("jqx-fill-state-pressed"),s.classList.add("jqx-array-table-data"),""!==this.theme&&s.classList.add("jqx-fill-state-pressed-"+this.theme),this._elementGap&&s.classList.add("jqx-array-table-data-gap"),this._cells[n].push({td:s}),o.appendChild(s)}r.appendChild(o),i.appendChild(r)}t.appendChild(i),this._mainContainer.appendChild(this._table)},_initializeElements:function(t){var i=this,n=i._cells
function r(e){i.elementTemplate&&i.elementTemplate(e,{x:a,y:o})}if(i._initializeElement=function(){},"custom"!==i.type)switch(i.type){case"numeric":i._initializeElement=function(e,t){e.jqxNumberInput({theme:i.theme,width:i.elementWidth,height:i.elementHeight,inputMode:"simple",spinButtons:!0,decimal:t,disabled:i.disabled}),r(e)}
break
case"boolean":i._initializeElement=function(e,t){e.jqxSwitchButton({theme:i.theme,width:i.elementWidth,height:i.elementHeight,checked:t,disabled:i.disabled}),r(e)}
break
case"string":i._initializeElement=function(e,t){e.jqxInput({theme:i.theme,width:i.elementWidth,height:i.elementHeight,value:t,disabled:i.disabled}),r(e)}
break
case"path":i._initializeElement=function(e,t){e.jqxPathControl({theme:i.theme,width:i.elementWidth,height:i.elementHeight,path:t.toString(),disabled:i.disabled}),r(e)}}else i._initializeElement=function(e,t){if(!i.elementTemplate)throw new Error('jqxArray: When "type" is \'custom\', the "elementTemplate" callback function has to be implemented.')
var n={x:a,y:o}
i.elementTemplate(e,n),void 0!==t&&i._setElementValue(t,e,n)}
for(var o=0;o<n.length;o++)for(var a=0;a<n[o].length;a++)!0===t&&(i._widget&&n[o][a].widget[i._widget]("destroy"),e(n[o][a].td).empty()),i._initializeWidget(o,a)
var s=n[0][0].widget
i._tdBorder=parseInt(s.css("border-left-width"),10)+parseInt(s.css("border-right-width"),10),i._paddingH=0,i._paddingV=0,"content-box"===s.css("box-sizing")&&(i._tdBorder+=2,i._paddingH=parseInt(s.css("padding-left"),10)+parseInt(s.css("padding-right"),10),i._paddingV=parseInt(s.css("padding-top"),10)+parseInt(s.css("padding-bottom"),10)),i._elementGap&&(i._tdBorder+=6)},_addElementHandlers:function(e){var t=this,i=t.element.id
t.addHandler(e,"change.jqxArray"+i,function(i){if(!0!==e.supressChange||"jqxNumberInput"===t._widget){e.removeClass("jqx-fill-state-disabled jqx-array-element-empty")
var n=e.data("col"),r=e.data("row")
t._updateValue(r,n,t._getElementValue(e,{x:n,y:r},!0))}else e.supressChange=!1
i.stopPropagation()}),t.addHandler(e,"click.jqxArray"+i,function(){t._raiseEvent("1",{element:e[0]})})},_getDefaultCellValue:function(){switch(this.type){case"custom":this._widget=void 0,this._defaultValue=null!==this.customWidgetDefaultValue?this.customWidgetDefaultValue:void 0
break
case"numeric":if(!this.host.jqxNumberInput)throw new Error("jqxArray: Missing reference to jqxnumberinput.js.")
this._widget="jqxNumberInput",this._defaultValue=0
break
case"boolean":if(!this.host.jqxSwitchButton)throw new Error("jqxArray: Missing reference to jqxswitchbutton.js.")
this._widget="jqxSwitchButton",this._defaultValue=!1
break
case"string":if(!this.host.jqxInput)throw new Error("jqxArray: Missing reference to jqxinput.js.")
this._widget="jqxInput",this._defaultValue=""
break
case"path":if(!this.host.jqxPathControl)throw new Error("jqxArray: Missing reference to jqxpathcontrol.js.")
this._widget="jqxPathControl",this._defaultValue=""}},_updateValue:function(e,t,i){var n=this._getValueInCell(e,t)
if(this._areDifferent(i,n)){var r=this._coordinates,o=r.slice(0),a=[]
"LabVIEW"===this.arrayIndexingMode?(o[o.length-1]+=t,o[o.length-2]+=e):(o[0]+=t,o[1]+=e)
for(var s=0;s<this.dimensions;s++)0===s?!1===this._oneDimensionSpecialCase?a.push(o[0]):a.push(e+r[0]):1===s?a.push(o[1]):a.push(o[s])
for(var l=this.value,d=0;d<a.length;d++)void 0!==l[a[d]]&&l[a[d]]!==n||(d!==a.length-1?l[a[d]]=[]:l[a[d]]=i),l=l[a[d]]
this._fillValueArray(a.slice(0)),this._raiseEvent("0",{value:i,oldValue:n,dimensionIndexes:a})}},_getValueInCell:function(e,t){var i,n=this.value,r=this._coordinates,o=r.length
if(1===o)i=!1===this._oneDimensionSpecialCase?n[t+r[0]]:n[e+r[0]]
else{var a=r.slice(0)
"LabVIEW"===this.arrayIndexingMode?(a[o-1]+=t,a[o-2]+=e):(a[0]+=t,a[1]+=e)
var s=n[a[0]]
if(void 0!==s){var l=s[a[1]]
if(void 0!==l&&(i=l,o>2))for(var d=2;d<o&&void 0!==i;d++)i=i[a[d]]}}return i},_scroll:function(){var e=["jqx-fill-state-disabled","jqx-array-element-empty"]
if("none"!==this.type)for(var t=0;t<this._cells.length;t++)for(var i=0;i<this._cells[t].length;i++){var n,r=this._getValueInCell(t,i),o=this._cells[t][i].widget,a={x:i,y:t},s=this._getElementValue(o,a)
void 0!==r?(o[0].classList.remove(e[0]),o[0].classList.remove(e[1]),o.removeClass(e),this._areDifferent(s,r)?(o.supressChange=!0,this._setElementValue(r,o,a)):o.supressChange=!1,n=!1):(o[0].classList.add(e[0]),o[0].classList.add(e[1]),this._areDifferent(s,this._defaultValue)?(o.supressChange=!0,this._setElementValue(this._getDefaultValue(),o,a)):o.supressChange=!1,n=!0),this._addSelectionClass(i,t,this._cells[t][i].td,n)}},_areDifferent:function(e,t){if(e instanceof Date){if(t instanceof Date)return e.getTime()!==t.getTime()
if("string"==typeof t)try{return e.getTime()!==new Date(t).getTime()}catch(e){}return!0}if(t instanceof Date){if(e instanceof Date)return t.getTime()!==e.getTime()
if("string"==typeof e)try{return t.getTime()!==new Date(e).getTime()}catch(e){}return!0}return"object"!=typeof e||typeof e!=typeof t?e!==t:JSON.stringify(e)!==JSON.stringify(t)},_returnEmptyArray:function(){var e=[],t=e
if(this.dimensions>1)for(var i=1;i<this.dimensions;i++)t[0]=[],t=t[0]
return e},_addDimensionToJSArray:function(e){if("LabVIEW"===this.arrayIndexingMode)this.value=[this.value]
else{void 0===e&&(e=this.dimensions-1)
var t=function(i,n){for(var r=0;r<i.length;r++)n!==e?t(i[r],n+1):i[r]=[i[r]]}
t(this.value,1)}},_removeDimensionFromJSArray:function(){var e=this
if("LabVIEW"===e.arrayIndexingMode)e.value=e.value[0]
else{var t=e.dimensions+1,i=function(n,r,o,a){for(var s=0;s<n.length;s++)r!==t&&n[s].length>0?i(n[s],r+1,n,s):void 0!==o?o[a]=n[0]:e.value=e.value[0]}
i(e.value,1)}},_initializeWidget:function(t,i){var n,r=this._cells[t][i],o=this._getValueInCell(t,i)
n="string"!==this.type?e("<div></div>"):e("<input />"),r.widget=n,r.td.appendChild(n[0]),this._initializeElement(n,void 0===o?this._getDefaultValue():o,r),n[0].classList.add("jqx-array-element"),n[0].classList.add("jqx-array-element-"+this.element.id),void 0===o&&(n[0].classList.add("jqx-fill-state-disabled"),n[0].classList.add("jqx-array-element-empty")),n.data({row:t,col:i}),this._addElementHandlers(n)},_addRemoveColumn:function(t){if("add"===t){for(var i=this._tableBody.children(),n=0;n<this._cells.length;n++){var r=this._cells[n],o=document.createElement("td")
o.classList.add("jqx-fill-state-pressed"),o.classList.add("jqx-array-table-data"),""!==this.theme&&o.classList.add("jqx-fill-state-pressed-"+this.theme),this._elementGap&&o.classList.add("jqx-array-table-data-gap"),r.push({td:o}),i[n].appendChild(o),this._initializeWidget(n,r.length-1)}this.columns++,!0!==this._suppressScroll&&this._scroll()}else if("remove"===t&&this.columns>1){for(var a=0;a<this._cells.length;a++){var s=this._cells[a],l=s[s.length-1]
this._widget&&l.widget[this._widget]("destroy"),e(l.td).remove(),s.pop()}this.columns--}},_addRemoveRow:function(e){if("add"===e&&(this.dimensions>1||1===this.dimensions&&1===this.columns)){this._cells.push([])
var t=document.createElement("tr"),i=document.createDocumentFragment(),n=this._cells.length-1,r=[]
t.classList.add("jqx-array-table-row")
for(var o=0;o<this.columns;o++){var a=document.createElement("td")
a.classList.add("jqx-fill-state-pressed"),a.classList.add("jqx-array-table-data"),""!==this.theme&&a.classList.add("jqx-fill-state-pressed-"+this.theme),this._elementGap&&a.classList.add("jqx-array-table-data-gap"),this._cells[n].push({td:a}),r.push(a),i.appendChild(a)}t.appendChild(i),this._tableBody[0].appendChild(t)
for(var s=0;s<r.length;s++)this._initializeWidget(n,s)
this.rows++,!0!==this._suppressScroll&&this._scroll()}else if("remove"===e&&this.rows>1){var l=this._tableBody.children().last(),d=this._cells[this._cells.length-1]
if(this._widget)for(var c=0;c<d.length;c++)d[c].widget[this._widget]("destroy")
l.remove(),this._cells.pop(),this.rows--}},_getInitialFill:function(){if(this._filledUpTo=[],"none"!==this.type){for(var e=this.value,t=0;t<this.dimensions;t++){var i=e.length-1
this._filledUpTo[t]=i,e=e[i]}this._setMaxValuesOfScrollBars()}},_fillValueArray:function(e,t){var i=this,n=i.dimensions
if(void 0!==i._filledUpTo&&!0!==t){for(var r=!0,o=0;o<e.length;o++)r=r&&i._filledUpTo[o]>=e[o],e[o]=Math.max(e[o],i._filledUpTo[o])
if(!0===r)return void i._scroll()}i._filledUpTo=e.slice(0),function t(r,o){for(var a=0;a<=e[o];a++)o!==n-1?(void 0===r[a]&&(r[a]=[]),t(r[a],o+1)):void 0===r[a]&&(r[a]=i._getDefaultValue())}(i.value,0),i._scroll(),i._setMaxValuesOfScrollBars()},_changeRowsColumns:function(e,t,i,n,r){var o="_addRemove"+e.charAt(0).toUpperCase()+e.slice(1,e.length-1)
if(!(i<1&&(this[e]=1,this[e]===t))){if(1===this.dimensions)if(!0===this._oneDimensionSpecialCase)"columns"===e&&this[e]>1&&(this._oneDimensionSpecialCase=!1,this.showVerticalScrollbar&&(this._showVerticalScrollbar(!1),this._showHorizontalScrollbar(!0)))
else if("rows"===e){if(this.columns>1)return void(this.rows=1)
this.rows>1&&(this._oneDimensionSpecialCase=!0,!0===this.showHorizontalScrollbar&&(this._showHorizontalScrollbar(!1),this._showVerticalScrollbar(!0)))}var a=this[e]-t
if(this[e]=t,a>0){this._suppressScroll=!0
do{this[o]("add"),a-=1}while(a>0)
this._suppressScroll=!1,this._scroll()}else if(a<0)do{this[o]("remove"),a+=1}while(a<0)
this._raiseEvent("4",{type:e,number:this[e],oldNumber:t}),"columns"===e?(this._updateWidgetWidth(),this._setMaxValuesOfScrollBars("horizontal")):"rows"===e&&!0!==r&&(this._updateWidgetHeight(!0===n?"dimensions":void 0),this._setMaxValuesOfScrollBars("vertical"))}},_updateWidgetWidth:function(e){if(null!==this.element.parentNode){var t,i,n=this.showVerticalScrollbar?20:0,r=this.showIndexDisplay?this.indexerWidth:0,o=this._elementGap?-1*(2*this.columns-4):0
if("none"!==this.type)i=(t=this.columns*(this.elementWidth+this._tdBorder+this._paddingH)+this._tableBorder+o)+n,this.width=i+r
else{!0===e&&(!0===this.showVerticalScrollbar?this.width+=20:this.width-=20)
var a=r+18+n
this.width<a&&(this.width=a),t=(i=this.width-r)-n}var s=document.getElementById(this.element.id+"CentralContainer")
null!==s&&(s.style.width=t+"px",this._bigContainer.style.width=i+"px",this._horizontalScrollBarContainer.style.width=t-2+"px",this._horizontalScrollBar.trigger("resize"),this.element.style.width=this.width+"px")}},_updateWidgetHeight:function(e){var t,i=this.showHorizontalScrollbar?20:0,n=this.showIndexDisplay?this.dimensions*(this.indexerHeight+4)-2:0,r=this._elementGap?-1*(2*this.rows-4):0
if("none"!==this.type)t=this.rows*(this.elementHeight+this._tdBorder+this._paddingV)+this._tableBorder+i+r
else{if("showHorizontalScrollbar"===e){var o=parseInt(this._bigContainer.style.height,10)
t=!0===this.showHorizontalScrollbar?o+20:o-20}else t="showIndexDisplay"===e&&!1===this.showIndexDisplay||"dimensions"===e?parseInt(this._bigContainer.style.height,10):this.height
var a=18+i
t<a&&(t=a)}this._mainContainer.style.height=t-i+"px",this.height=Math.max(n,t),this._verticalScrollBarContainer.style.height=t-i-this._tableBorder+"px",this._verticalScrollBar.trigger("resize"),this._bigContainer.style.height=t+"px",this.element.style.height=this.height+"px"},_inSelection:function(e,t){var i,n,r,o,a=this._coordinates,s=!0
if("LabVIEW"===this.arrayIndexingMode?(i=this.dimensions-1,n=this.dimensions-2):(i=0,n=1),r=e+a[i],o=t+a[n],1===this.dimensions)return r>=this._absoluteSelectionStart[i]&&r<=this._absoluteSelectionEnd[i]
if(s=r>=this._absoluteSelectionStart[i]&&r<=this._absoluteSelectionEnd[i]&&o>=this._absoluteSelectionStart[n]&&o<=this._absoluteSelectionEnd[n],"LabVIEW"===this.arrayIndexingMode)for(var l=0;l<n;l++)s=s&&a[l]>=this._absoluteSelectionStart[l]&&a[l]<=this._absoluteSelectionEnd[l]
else for(var d=2;d<this.dimensions;d++)s=s&&a[d]>=this._absoluteSelectionStart[d]&&a[d]<=this._absoluteSelectionEnd[d]
return s},_refreshSelection:function(){if(this.showSelection)for(var e=0;e<this.rows;e++)for(var t=0;t<this.columns;t++){var i=void 0===this._getValueInCell(e,t)
this._addSelectionClass(t,e,this._cells[e][t].td,i)}},_addSelectionClass:function(t,i,n,r){this.showSelection&&void 0!==this._absoluteSelectionStart&&void 0!==this._absoluteSelectionEnd&&(!1===r&&this._inSelection(t,i)?n.classList.add("jqx-array-element-selected"):e(n).removeClass("jqx-array-element-selected"))},_clearSelection:function(){for(var t=0;t<this.rows;t++)for(var i=0;i<this.columns;i++){var n=this._cells[t][i].td
e(n).removeClass("jqx-array-element-selected")}},_initializeVScrollBar:function(){if(!this.host.jqxScrollBar)throw new Error("jqxArray: Missing reference to jqxscrollbar.js.")
this._verticalScrollBarContainer.style.display="block",this._verticalScrollBar.jqxScrollBar({theme:this.theme,height:"100%",width:16,min:0,max:0,value:0,vertical:!0}),this._addVScrollBarHandlers(),this._vScrollBarInitialized=!0},_addVScrollBarHandlers:function(){var t=this,i=t.element.id,n=t._verticalScrollBar,r=n[0].id,o=e("#jqxScrollBtnUp"+r),a=e("#jqxScrollBtnDown"+r)
t.addHandler(n.add(o).add(a),"mousedown.jqxArray"+i,function(){t.host.find(":focus").blur()}),t.addHandler(n,"valueChanged.jqxArray"+i,function(e){if("none"!==t.type)if(!0!==t._suppressScrollbarEvent){var i=t._oneDimensionSpecialCase?0:1
t._moveScrollbar(n,"vertical",i,Math.round(e.currentValue))}else t._suppressScrollbarEvent=!1}),t.addHandler(o,"mousedown.jqxArray"+i,function(){if(!t.disabled){var e=n.jqxScrollBar("min"),i=n.jqxScrollBar("value")
i-1>=e&&n.jqxScrollBar("setPosition",i-1)}}),t.addHandler(a,"mousedown.jqxArray"+i,function(){t.disabled||"none"!==t.type&&t._pressScrollbarDownButton(n)})},_initializeHScrollBar:function(){if(!this.host.jqxScrollBar)throw new Error("jqxArray: Missing reference to jqxscrollbar.js.")
this._horizontalScrollBarContainer.style.display="block",this._horizontalScrollBar.jqxScrollBar({theme:this.theme,width:"100%",height:16,min:0,max:0,value:0}),this._addHScrollBarHandlers(),this._hScrollBarInitialized=!0},_addHScrollBarHandlers:function(){var t=this,i=t.element.id,n=t._horizontalScrollBar,r=n[0].id,o=e("#jqxScrollBtnUp"+r),a=e("#jqxScrollBtnDown"+r)
t.addHandler(n.add(o).add(a),"mousedown.jqxArray"+i,function(){t.host.find(":focus").blur()}),t.addHandler(n,"valueChanged.jqxArray"+i,function(e){"none"!==t.type&&(!0!==t._suppressScrollbarEvent?t._moveScrollbar(n,"horizontal",0,Math.round(e.currentValue)):t._suppressScrollbarEvent=!1)}),t.addHandler(o,"mousedown.jqxArray"+i,function(){if(!t.disabled){var e=n.jqxScrollBar("min"),i=n.jqxScrollBar("value")
i-1>=e&&n.jqxScrollBar("setPosition",i-1)}}),t.addHandler(a,"mousedown.jqxArray"+i,function(){t.disabled||"none"!==t.type&&t._pressScrollbarDownButton(n)})},_moveScrollbar:function(e,t,i,n){if(!isNaN(n)){var r,o=this._getMaxValuesOfScrollBars(t),a=e.jqxScrollBar("max")
r="LabVIEW"===this.arrayIndexingMode?this.dimensions-i-1:i,this._indexers[r].val(n),this._coordinates[r]=n,n<=o?e.jqxScrollBar({max:o}):n<=a&&e.jqxScrollBar({max:n}),this._scroll(),this._raiseEvent("5",{direction:t})}},_pressScrollbarDownButton:function(e){var t=e.jqxScrollBar("max"),i=e.val()
!0===isNaN(i)&&(i=0),t===i&&e.jqxScrollBar({max:t+1,value:t+1})},_getMaxValuesOfScrollBars:function(e){var t,i,n,r=0,o=this._filledUpTo.length
return"horizontal"===e?(n=this._horizontalScrollBar.val(),t="LabVIEW"===this.arrayIndexingMode?this._filledUpTo[o-1]:this._filledUpTo[0],i=this.columns):(n=this._verticalScrollBar.val(),t=this._oneDimensionSpecialCase?"LabVIEW"===this.arrayIndexingMode?this._filledUpTo[o-1]:this._filledUpTo[0]:"LabVIEW"===this.arrayIndexingMode?this._filledUpTo[o-2]:this._filledUpTo[1],i=this.rows),void 0===t?0:(t+1===i?r=1:t===i?r=2:t>i&&(r=t-i+2),Math.max(r,n))},_setMaxValuesOfScrollBars:function(e){!this.showHorizontalScrollbar||void 0!==e&&"horizontal"!==e||this._horizontalScrollBar.jqxScrollBar({max:this._getMaxValuesOfScrollBars("horizontal")}),!this.showVerticalScrollbar||void 0!==e&&"vertical"!==e||this._verticalScrollBar.jqxScrollBar({max:this._getMaxValuesOfScrollBars("vertical")})},_syncScrollbar:function(e,t){var i,n
if(0===e&&!1===this._oneDimensionSpecialCase){if(!this.showHorizontalScrollbar)return
i=this._getMaxValuesOfScrollBars("horizontal"),n=this._horizontalScrollBar}else{if(!this.showVerticalScrollbar)return
i=this._getMaxValuesOfScrollBars("vertical"),n=this._verticalScrollBar}t>i&&(i=t)
var r=n.jqxScrollBar("max")
r!==i&&(r>i&&(this._suppressScrollbarEvent=!0),n.jqxScrollBar({max:i})),n.val()!==t&&(this._suppressScrollbarEvent=!0,n.val(t))},_showVerticalScrollbar:function(e){var t;(this.showVerticalScrollbar=e,this._updateWidgetWidth(!0),!0===e)?(this._verticalScrollBarContainer.style.display="block",!0!==this._vScrollBarInitialized&&this._initializeVScrollBar(),"none"!==this.type&&(t=this._oneDimensionSpecialCase?0:"LabVIEW"===this.arrayIndexingMode?this.dimensions-2:1,this._syncScrollbar(1,this._coordinates[t]))):this._verticalScrollBarContainer.style.display="none"},_getDefaultValue:function(){return this._cloneValue(this._defaultValue)},_cloneValue:function(t){return"object"!=typeof t?t:t instanceof Array?e.extend(!0,[],t):t instanceof Date?new Date(t.getTime()):t instanceof Object?e.extend(!0,{},t):void 0},_showHorizontalScrollbar:function(e){var t;(this.showHorizontalScrollbar=e,this._updateWidgetHeight("showHorizontalScrollbar"),!0===e)?(this._horizontalScrollBarContainer.style.display="block",!0!==this._hScrollBarInitialized&&this._initializeHScrollBar(),"none"!==this.type&&(t="LabVIEW"===this.arrayIndexingMode?this.dimensions-1:0,this._syncScrollbar(0,this._coordinates[t]))):this._horizontalScrollBarContainer.style.display="none"},_fillArray:function(e,t){for(var i=e.length>>>0,n=arguments[1]>>0,r=n<0?Math.max(i+n,0):Math.min(n,i),o=arguments[2],a=void 0===o?i:o>>0,s=a<0?Math.max(i+a,0):Math.min(a,i);r<s;)e[r]=t,r++
return e},_getElementValue:function(e,t,i){var n
return this.getElementValue?(n=this.getElementValue(e,t),!0!==i?n:this._cloneValue(n)):(n=e.val(),!0!==i?n:this._cloneValue(n))},_setElementValue:function(e,t,i){e=this._cloneValue(e),this.setElementValue?(this.setElementValue(e,t,i),!0===t.supressChange&&(t.supressChange=!1)):t.val(e)}})}(jqxBaseFramework)
var xi=Object.freeze({})
!function(e){function t(t,i){return this.owner=t,this.datafield=null,this.displayfield=null,this.text="",this.createfilterpanel=null,this.sortable=!0,this.hideable=!0,this.editable=!0,this.hidden=!1,this.groupable=!0,this.renderer=null,this.cellsrenderer=null,this.checkchange=null,this.threestatecheckbox=!1,this.buttonclick=null,this.columntype=null,this.cellsformat="",this.align="left",this.cellsalign="left",this.width="auto",this.minwidth=25,this.maxwidth="auto",this.pinned=!1,this.visibleindex=-1,this.filterable=!0,this.filter=null,this.filteritems=[],this.resizable=!0,this.initeditor=null,this.createeditor=null,this.createwidget=null,this.initwidget=null,this.destroywidget=null,this.destroyeditor=null,this.geteditorvalue=null,this.validation=null,this.classname="",this.cellclassname="",this.cellendedit=null,this.cellbeginedit=null,this.cellvaluechanging=null,this.aggregates=null,this.aggregatesrenderer=null,this.menu=!0,this.createfilterwidget=null,this.filtertype="default",this.filtercondition=null,this.rendered=null,this.exportable=!0,this.exporting=!1,this.draggable=!0,this.nullable=!0,this.clipboard=!0,this.enabletooltips=!0,this.columngroup=null,this.filterdelay=800,this.reseteverpresentrowwidgetvalue=null,this.geteverpresentrowwidgetvalue=null,this.createeverpresentrowwidget=null,this.initeverpresentrowwidget=null,this.validateeverpresentrowwidgetvalue=null,this.destroyeverpresentrowwidget=null,this.getcolumnproperties=function(){return{nullable:this.nullable,sortable:this.sortable,hideable:this.hideable,hidden:this.hidden,groupable:this.groupable,width:this.width,align:this.align,editable:this.editable,minwidth:this.minwidth,maxwidth:this.maxwidth,resizable:this.resizable,datafield:this.datafield,text:this.text,exportable:this.exportable,cellsalign:this.cellsalign,pinned:this.pinned,cellsformat:this.cellsformat,columntype:this.columntype,classname:this.classname,cellclassname:this.cellclassname,menu:this.menu}},this.setproperty=function(e,t){if(this[e]){var i=this[e]
this[e]=t,this.owner._columnPropertyChanged(this,e,t,i)}else if(this[e.toLowerCase()]){i=this[e.toLowerCase()]
this[e.toLowerCase()]=t,this.owner._columnPropertyChanged(this,e.toLowerCase(),t,i)}},this._initfields=function(i){if(null!=i){var n=this.that
if(e.jqx.hasProperty(i,"dataField")&&(this.datafield=e.jqx.get(i,"dataField")),e.jqx.hasProperty(i,"displayField")?this.displayfield=e.jqx.get(i,"displayField"):this.displayfield=this.datafield,e.jqx.hasProperty(i,"enableTooltips")&&(this.enabletooltips=e.jqx.get(i,"enableTooltips")),e.jqx.hasProperty(i,"text")?this.text=e.jqx.get(i,"text"):this.text=this.displayfield,e.jqx.hasProperty(i,"createfilterpanel")&&(this.createfilterpanel=e.jqx.get(i,"createfilterpanel")),e.jqx.hasProperty(i,"sortable")&&(this.sortable=e.jqx.get(i,"sortable")),e.jqx.hasProperty(i,"hideable")&&(this.hideable=e.jqx.get(i,"hideable")),e.jqx.hasProperty(i,"hidden")&&(this.hidden=e.jqx.get(i,"hidden")),e.jqx.hasProperty(i,"groupable")&&(this.groupable=e.jqx.get(i,"groupable")),e.jqx.hasProperty(i,"renderer")&&(this.renderer=e.jqx.get(i,"renderer")),e.jqx.hasProperty(i,"align")&&(this.align=e.jqx.get(i,"align")),e.jqx.hasProperty(i,"cellsAlign")&&(this.cellsalign=e.jqx.get(i,"cellsAlign")),e.jqx.hasProperty(i,"clipboard")&&(this.clipboard=e.jqx.get(i,"clipboard")),e.jqx.hasProperty(i,"cellsFormat")&&(this.cellsformat=e.jqx.get(i,"cellsFormat")),e.jqx.hasProperty(i,"width")&&(this.width=e.jqx.get(i,"width")),e.jqx.hasProperty(i,"minWidth")&&(this.minwidth=parseInt(e.jqx.get(i,"minWidth")),isNaN(this.minwidth)&&(this.minwidth=25)),e.jqx.hasProperty(i,"maxWidth")&&(this.maxwidth=parseInt(e.jqx.get(i,"maxWidth")),isNaN(this.maxwidth)&&(this.maxwidth="auto")),e.jqx.hasProperty(i,"cellsRenderer")?this.cellsrenderer=e.jqx.get(i,"cellsRenderer"):i.cellsRenderer&&(this.cellsrenderer=i.cellsRenderer),e.jqx.hasProperty(i,"columnType")&&(this.columntype=e.jqx.get(i,"columnType")),e.jqx.hasProperty(i,"checkChange")&&(this.checkchange=e.jqx.get(i,"checkChange")),e.jqx.hasProperty(i,"buttonClick")?this.buttonclick=e.jqx.get(i,"buttonClick"):i.buttonClick&&(this.buttonclick=i.buttonClick),e.jqx.hasProperty(i,"pinned")&&(this.pinned=e.jqx.get(i,"pinned")),e.jqx.hasProperty(i,"visibleIndex")&&(this.visibleindex=e.jqx.get(i,"visibleIndex")),e.jqx.hasProperty(i,"filterable")&&(this.filterable=e.jqx.get(i,"filterable")),e.jqx.hasProperty(i,"filter")&&(this.filter=e.jqx.get(i,"filter")),e.jqx.hasProperty(i,"resizable")&&(this.resizable=e.jqx.get(i,"resizable")),e.jqx.hasProperty(i,"editable")&&(this.editable=e.jqx.get(i,"editable")),e.jqx.hasProperty(i,"initEditor")?this.initeditor=e.jqx.get(i,"initEditor"):i.initEditor&&(this.initeditor=i.initEditor),e.jqx.hasProperty(i,"createEditor")?this.createeditor=e.jqx.get(i,"createEditor"):i.createEditor&&(this.createeditor=i.createEditor),e.jqx.hasProperty(i,"initWidget")?this.initwidget=e.jqx.get(i,"initWidget"):i.initWidget&&(this.initwidget=i.initWidget),e.jqx.hasProperty(i,"createWidget")?this.createwidget=e.jqx.get(i,"createWidget"):i.createWidget&&(this.createwidget=i.createWidget),e.jqx.hasProperty(i,"destroyWidget")?this.destroywidget=e.jqx.get(i,"destroyWidget"):i.destroyWidget&&(this.destroywidget=i.destroyWidget),e.jqx.hasProperty(i,"reseteverpresentrowwidgetvalue")||e.jqx.hasFunction(i,"reseteverpresentrowwidgetvalue")?this.reseteverpresentrowwidgetvalue=e.jqx.get(i,"reseteverpresentrowwidgetvalue"):i.resetEverPresentRowWidgetValue&&(this.reseteverpresentrowwidgetvalue=i.resetEverPresentRowWidgetValue),e.jqx.hasProperty(i,"geteverpresentrowwidgetvalue")||e.jqx.hasFunction(i,"geteverpresentrowwidgetvalue")?this.geteverpresentrowwidgetvalue=e.jqx.get(i,"geteverpresentrowwidgetvalue"):i.getEverPresentRowWidgetValue&&(this.geteverpresentrowwidgetvalue=i.getEverPresentRowWidgetValue),e.jqx.hasProperty(i,"createeverpresentrowwidget")||e.jqx.hasFunction(i,"createeverpresentrowwidget")?this.createeverpresentrowwidget=e.jqx.get(i,"createeverpresentrowwidget"):i.createEverPresentRowWidget&&(this.createeverpresentrowwidget=i.createEverPresentRowWidget),e.jqx.hasProperty(i,"initeverpresentrowwidget")||e.jqx.hasFunction(i,"initeverpresentrowwidget")?this.initeverpresentrowwidget=e.jqx.get(i,"initeverpresentrowwidget"):i.initEverPresentRowWidget&&(this.initeverpresentrowwidget=i.initEverPresentRowWidget),e.jqx.hasProperty(i,"validateeverpresentrowwidgetvalue")?this.validateeverpresentrowwidgetvalue=e.jqx.get(i,"validateeverpresentrowwidgetvalue"):i.validateEverPresentRowWidgetValue&&(this.validateeverpresentrowwidgetvalue=i.validateEverPresentRowWidgetValue),e.jqx.hasProperty(i,"destroyeverpresentrowwidget")||e.jqx.hasFunction(i,"destroyeverpresentrowwidget")?this.destroyeverpresentrowwidget=e.jqx.get(i,"destroyeverpresentrowwidget"):i.destroyEverPresentRowWidget&&(this.destroyEverPresentRowWidget=i.destroyEverPresentRowWidget),e.jqx.hasProperty(i,"destroyEditor")?this.destroyeditor=e.jqx.get(i,"destroyEditor"):i.destroyEditor&&(this.destroyeditor=i.destroyEditor),e.jqx.hasProperty(i,"getEditorValue")?this.geteditorvalue=e.jqx.get(i,"getEditorValue"):i.getEditorValue&&(this.geteditorvalue=i.getEditorValue),e.jqx.hasProperty(i,"validation")?this.validation=e.jqx.get(i,"validation"):i.validation&&(this.validation=i.validation),e.jqx.hasProperty(i,"cellBeginEdit")?this.cellbeginedit=e.jqx.get(i,"cellBeginEdit"):i.cellBeginEdit&&(this.cellbeginedit=i.cellBeginEdit),e.jqx.hasProperty(i,"cellEndEdit")?this.cellendedit=e.jqx.get(i,"cellEndEdit"):i.cellEndEdit&&(this.cellendedit=i.cellEndEdit),e.jqx.hasProperty(i,"className")&&(this.classname=e.jqx.get(i,"className")),e.jqx.hasProperty(i,"cellClassName")?this.cellclassname=e.jqx.get(i,"cellClassName"):i.cellClassName&&(this.cellclassname=i.cellClassName),e.jqx.hasProperty(i,"menu")&&(this.menu=e.jqx.get(i,"menu")),e.jqx.hasProperty(i,"aggregates")&&(this.aggregates=e.jqx.get(i,"aggregates")),e.jqx.hasProperty(i,"aggregatesRenderer")&&(this.aggregatesrenderer=e.jqx.get(i,"aggregatesRenderer")),e.jqx.hasProperty(i,"createFilterWidget")&&(this.createfilterwidget=e.jqx.get(i,"createFilterWidget")),e.jqx.hasProperty(i,"filterType")&&(this.filtertype=e.jqx.get(i,"filterType")),e.jqx.hasProperty(i,"filterDelay")&&(this.filterdelay=e.jqx.get(i,"filterDelay")),e.jqx.hasProperty(i,"rendered")&&(this.rendered=e.jqx.get(i,"rendered")),e.jqx.hasProperty(i,"exportable")&&(this.exportable=e.jqx.get(i,"exportable")),e.jqx.hasProperty(i,"filterItems")&&(this.filteritems=e.jqx.get(i,"filterItems")),e.jqx.hasProperty(i,"cellValueChanging")&&(this.cellvaluechanging=e.jqx.get(i,"cellValueChanging")),e.jqx.hasProperty(i,"draggable")&&(this.draggable=e.jqx.get(i,"draggable")),e.jqx.hasProperty(i,"filterCondition")&&(this.filtercondition=e.jqx.get(i,"filterCondition")),e.jqx.hasProperty(i,"threeStateCheckbox")&&(this.threestatecheckbox=e.jqx.get(i,"threeStateCheckbox")),e.jqx.hasProperty(i,"nullable")&&(this.nullable=e.jqx.get(i,"nullable")),e.jqx.hasProperty(i,"columnGroup")&&(this.columngroup=e.jqx.get(i,"columnGroup")),!i instanceof String&&"string"!=typeof i)for(var r in i)if(!n.hasOwnProperty(r)&&!n.hasOwnProperty(r.toLowerCase()))throw t.host.remove(),new Error("jqxGrid: Invalid property name - "+r+".")}},this._initfields(i),this}function i(e,t){return this.setdata=function(e){null!=e&&(this.bounddata=e,this.boundindex=e.boundindex,this.visibleindex=e.visibleindex,this.group=e.group,this.parentbounddata=e.parentItem,this.uniqueid=e.uniqueid,this.level=e.level)},this.setdata(t),this.parentrow=null,this.subrows=new Array,this.owner=e,this.height=25,this.hidden=!1,this.rowdetails=null,this.rowdetailsheight=100,this.rowdetailshidden=!0,this.top=-1,this.setrowinfo=function(e){this.hidden=e.hidden,this.rowdetails=e.rowdetails,this.rowdetailsheight=e.rowdetailsheight,this.rowdetailshidden=!e.showdetails,this.height=e.height},this}e.jqx.jqxWidget("jqxGrid","",{}),e.extend(e.jqx._jqxGrid.prototype,{defineInstance:function(){var t={disabled:!1,width:600,height:400,pagerheight:34,groupsheaderheight:34,pagesize:10,pagesizeoptions:["5","10","20"],rowsheight:28,columnsheight:30,filterrowheight:31,groupindentwidth:30,rowdetails:!1,enablerowdetailsindent:!0,enablemousewheel:!0,initrowdetails:null,layoutrowdetails:null,editable:!1,editmode:"selectedcell",pageable:!1,pagermode:"default",pagerbuttonscount:5,groupable:!1,sortable:!1,filterable:!1,filtermode:"default",autoshowfiltericon:!0,showfiltercolumnbackground:!0,showpinnedcolumnbackground:!0,showsortcolumnbackground:!0,altrows:!1,altstart:1,altstep:1,showrowdetailscolumn:!0,showtoolbar:!1,toolbarheight:34,showstatusbar:!1,statusbarheight:34,enableellipsis:!0,groups:[],groupsrenderer:null,groupcolumnrenderer:null,groupsexpandedbydefault:!1,pagerrenderer:null,touchmode:"auto",columns:[],selectedrowindex:-1,selectedrowindexes:new Array,selectedcells:new Array,autobind:!0,selectedcell:null,tableZIndex:799,headerZIndex:299,updatefilterconditions:null,showgroupaggregates:!1,showaggregates:!1,showfilterrow:!1,showeverpresentrow:!1,everpresentrowposition:"top",everpresentrowactions:"add reset",everpresentrowactionsmode:"buttons",everpresentrowheight:30,autorowheight:!1,autokoupdates:!0,handlekeyboardnavigation:null,showsortmenuitems:!0,showfiltermenuitems:!0,showgroupmenuitems:!0,enablebrowserselection:!1,enablekeyboarddelete:!0,clipboard:!0,clipboardbegin:null,clipboardend:null,copytoclipboardwithheaders:!1,copytoclipboardhiddencolumns:!1,ready:null,updatefilterpanel:null,autogeneratecolumns:!1,rowdetailstemplate:null,scrollfeedback:null,rendertoolbar:null,renderstatusbar:null,rendered:null,multipleselectionbegins:null,columngroups:null,cellhover:null,source:{beforeprocessing:null,beforesend:null,loaderror:null,localdata:null,data:null,datatype:"array",datafields:[],url:"",root:"",record:"",id:"",totalrecords:0,recordstartindex:0,recordendindex:0,loadallrecords:!0,sortcolumn:null,sortdirection:null,sort:null,filter:null,sortcomparer:null},filter:null,dataview:null,updatedelay:null,autoheight:!1,autowidth:!1,showheader:!0,showgroupsheader:!0,closeablegroups:!0,scrollbarsize:e.jqx.utilities.scrollBarSize,touchscrollbarsize:e.jqx.utilities.touchScrollBarSize,scrollbarautoshow:e.jqx.utilities.scrollBarAutoShow,virtualmode:!1,sort:null,columnsmenu:!0,columnsresize:!1,columnsautoresize:!0,columnsreorder:!1,columnsmenuwidth:15,autoshowcolumnsmenubutton:!0,popupwidth:"auto",popupheight:"auto",columnmenuopening:null,columnmenuclosing:null,sorttogglestates:2,rendergridrows:null,enableanimations:!0,enablecolumnsvirtualization:!0,enabletooltips:!1,selectionmode:"singlerow",enablehover:!0,loadingerrormessage:"The data is still loading. When the data binding is completed, the Grid raises the 'bindingcomplete' event. Call this function in the 'bindingcomplete' event handler.",verticalscrollbarstep:30,verticalscrollbarlargestep:400,horizontalscrollbarstep:10,horizontalscrollbarlargestep:50,keyboardnavigation:!0,touchModeStyle:"auto",autoshowloadelement:!0,showdefaultloadelement:!0,showemptyrow:!0,autosavestate:!1,autoloadstate:!1,_updating:!1,_pagescache:new Array,_pageviews:new Array,_cellscache:new Array,_rowdetailscache:new Array,_rowdetailselementscache:new Array,_requiresupdate:!1,_hasOpenedMenu:!1,scrollmode:"physical",deferreddatafields:null,localization:null,rtl:!1,menuitemsarray:[],events:["initialized","rowClick","rowSelect","rowUnselect","groupExpand","groupCollapse","sort","columnClick","cellClick","pageChanged","pageSizeChanged","bindingComplete","groupsChanged","filter","columnResized","cellSelect","cellUnselect","cellBeginEdit","cellEndEdit","cellValueChanged","rowExpand","rowCollapse","rowDoubleClick","cellDoubleClick","columnReordered","pageChanging"]}
return this===e.jqx._jqxGrid.prototype?t:(e.extend(!0,this,t),t)},createInstance:function(t){this.that=this
this.pagesize=parseInt(this.pagesize),this.toolbarheight=parseInt(this.toolbarheight),this.columnsheight=parseInt(this.columnsheight),this.filterrowheight=parseInt(this.filterrowheight),this.statusbarheight=parseInt(this.statusbarheight),this.groupsheaderheight=parseInt(this.groupsheaderheight),this.detailsVisibility=new Array,this.savedArgs=t&&t.length>0?t[0]:null
var i="<div class='jqx-clear jqx-border-reset jqx-overflow-hidden jqx-max-size jqx-position-relative'><div tabindex='1' class='jqx-clear jqx-max-size jqx-position-relative jqx-overflow-hidden jqx-background-reset' id='wrapper"+this.element.id+"'><div class='jqx-clear jqx-position-absolute' id='toolbar' style='visibility: hidden;'></div><div class='jqx-clear jqx-position-absolute' id='groupsheader' style='visibility: hidden;'></div><div class='jqx-clear jqx-overflow-hidden jqx-position-absolute jqx-border-reset jqx-background-reset' id='content"+this.element.id+"'></div><div class='jqx-clear jqx-position-absolute' id='verticalScrollBar"+this.element.id+"'></div><div class='jqx-clear jqx-position-absolute' id='horizontalScrollBar"+this.element.id+"'></div><div class='jqx-clear jqx-position-absolute jqx-border-reset' id='bottomRight'></div><div class='jqx-clear jqx-position-absolute' id='addrow'></div><div class='jqx-clear jqx-position-absolute' id='statusbar'></div><div class='jqx-clear jqx-position-absolute' id='pager' style='z-index: 20;'></div></div></div>"
if(this.element.innerHTML="",15!=e.jqx.utilities.scrollBarSize&&(this.scrollbarsize=e.jqx.utilities.scrollBarSize),this.source){if(!this.source.dataBind){if(!e.jqx.dataAdapter)throw new Error("jqxGrid: Missing reference to jqxdata.js")
this.source=new e.jqx.dataAdapter(this.source)}(o=this.source._source.datafields)&&o.length>0&&(this.editmode=this.editmode.toLowerCase(),this.selectionmode=this.selectionmode.toLowerCase())}this.host.attr("role","grid"),this.host.attr("align","left"),this.element.innerHTML=i,this.host.addClass(this.toTP("jqx-grid")),this.host.addClass(this.toTP("jqx-reset")),this.host.addClass(this.toTP("jqx-rc-all")),this.host.addClass(this.toTP("jqx-widget")),this.host.addClass(this.toTP("jqx-widget-content")),this.wrapper=this.host.find("#wrapper"+this.element.id),this.content=this.host.find("#content"+this.element.id),this.content.addClass(this.toTP("jqx-reset"))
var n=this.host.find("#verticalScrollBar"+this.element.id),r=this.host.find("#horizontalScrollBar"+this.element.id)
if(this.bottomRight=this.host.find("#bottomRight").addClass(this.toTP("jqx-grid-bottomright jqx-scrollbar-state-normal")),!n.jqxScrollBar)throw new Error("jqxGrid: Missing reference to jqxscrollbar.js")
if(this.editors=new Array,this.vScrollBar=n.jqxScrollBar({vertical:!0,rtl:this.rtl,touchMode:this.touchmode,step:this.verticalscrollbarstep,largestep:this.verticalscrollbarlargestep,theme:this.theme,_triggervaluechanged:!1}),this.hScrollBar=r.jqxScrollBar({vertical:!1,rtl:this.rtl,touchMode:this.touchmode,step:this.horizontalscrollbarstep,largestep:this.horizontalscrollbarlargestep,theme:this.theme,_triggervaluechanged:!1}),this.addnewrow=this.host.find("#addrow"),this.addnewrow[0].id="addrow"+this.element.id,this.addnewrow.addClass(this.toTP("jqx-widget-header")),this.pager=this.host.find("#pager"),this.pager[0].id="pager"+this.element.id,this.toolbar=this.host.find("#toolbar"),this.toolbar[0].id="toolbar"+this.element.id,this.toolbar.addClass(this.toTP("jqx-grid-toolbar")),this.toolbar.addClass(this.toTP("jqx-widget-header")),this.statusbar=this.host.find("#statusbar"),this.statusbar[0].id="statusbar"+this.element.id,this.statusbar.addClass(this.toTP("jqx-grid-statusbar")),this.statusbar.addClass(this.toTP("jqx-widget-header")),this.pager.addClass(this.toTP("jqx-grid-pager")),this.pager.addClass(this.toTP("jqx-widget-header")),this.groupsheader=this.host.find("#groupsheader"),this.groupsheader.addClass(this.toTP("jqx-grid-groups-header")),this.groupsheader.addClass(this.toTP("jqx-widget-header")),this.groupsheader[0].id="groupsheader"+this.element.id,this.vScrollBar.css("visibility","hidden"),this.hScrollBar.css("visibility","hidden"),this.vScrollInstance=e.data(this.vScrollBar[0],"jqxScrollBar").instance,this.hScrollInstance=e.data(this.hScrollBar[0],"jqxScrollBar").instance,this.gridtable=null,this.isNestedGrid=!!this.host.parent()&&9999==this.host.parent().css("z-index"),this.touchdevice=this.isTouchDevice(),this.localizestrings&&(this.localizestrings(),null!=this.localization&&this.localizestrings(this.localization,!1)),this.rowdetailstemplate&&(null==this.rowdetailstemplate.rowdetails&&(this.rowdetailstemplate.rowdetails="<div></div>"),null==this.rowdetailstemplate.rowdetailsheight&&(this.rowdetailstemplate.rowdetailsheight=200),null==this.rowdetailstemplate.rowdetailshidden&&(this.rowdetailstemplate.rowdetailshidden=!0)),this.showfilterrow&&!this.filterable)throw new Error('jqxGrid: "showfilterrow" requires setting the "filterable" property to true!')
if(this.autorowheight&&!this.autoheight&&!this.pageable)throw new Error('jqxGrid: "autorowheight" requires setting the "autoheight" or "pageable" property to true!')
if(this.virtualmode&&null==this.rendergridrows)throw new Error('jqxGrid: "virtualmode" requires setting the "rendergridrows"!')
if(this.virtualmode&&!this.pageable&&this.groupable)throw new Error('jqxGrid: "grouping" in "virtualmode" without paging is not supported!')
if(!this._testmodules()){var o
if(this._builddataloadelement(),this._cachedcolumns=this.columns,this.columns&&this.columns.length>299&&(this.headerZIndex=this.columns.length+100),28!=this.rowsheight&&this._measureElement("cell"),(30!=this.columnsheight||this.columngroups)&&this._measureElement("column"),this.source)if(null==(o=this.source.datafields)&&this.source._source&&(o=this.source._source.datafields),o)for(var a=0;a<this.columns.length;a++){var s=this.columns[a]
if(s&&s.cellsformat&&s.cellsformat.length>2)for(var l=0;l<o.length;l++)if(o[l].name==s.datafield&&!o[l].format){o[l].format=s.cellsformat
break}}this.databind(this.source),this.showtoolbar&&this.toolbar.css("visibility","inherit"),this.showstatusbar&&this.statusbar.css("visibility","inherit"),this._arrange(),this.pageable&&this._initpager&&this._initpager(),this.tableheight=null
var d=this.that,c=function(){d.content&&(d.content[0].scrollTop=0,d.content[0].scrollLeft=0),d.gridcontent&&(d.gridcontent[0].scrollLeft=0,d.gridcontent[0].scrollTop=0)}
this.addHandler(this.content,"mousedown",function(){c()}),this.addHandler(this.content,"scroll",function(e){return c(),!1}),this.showfilterrow||(this.showstatusbar||this.showtoolbar||this.host.addClass("jqx-disableselect"),this.content.addClass("jqx-disableselect")),this.enablebrowserselection&&(this.content.removeClass("jqx-disableselect"),this.host.removeClass("jqx-disableselect")),this._resizeWindow(),this.disabled&&this.host.addClass(this.toThemeProperty("jqx-fill-state-disabled")),this.hasTransform=e.jqx.utilities.hasTransform(this.host),"logical"==this.scrollmode&&(this.vScrollInstance.thumbStep=this.rowsheight,this.vScrollInstance.step=this.rowsheight),e.jqx.isHidden(this.host)||(this.filterable||this.groupable||this.sortable)&&this._initmenu()}},_resizeWindow:function(){var t=this.that
if(null!=this.width&&-1!=this.width.toString().indexOf("%")||null!=this.height&&-1!=this.height.toString().indexOf("%")){this._updatesizeonwindowresize=!0,e.jqx.utilities.resize(this.host,function(i){var n=e(window).width(),r=e(window).height(),o=t.host.width(),a=t.host.height()
if(t.autoheight&&(t._lastHostWidth=r),t._lastHostWidth!=o||t._lastHostHeight!=a){if(t.touchdevice&&t.editcell&&"orientationchange"!==i)return
t._updatesize(t._lastHostWidth!=o,t._lastHostHeight!=a)}t._lastWidth=n,t._lastHeight=r,t._lastHostWidth=o,t._lastHostHeight=a})
var i=t.host.width(),n=t.host.height()
t._lastHostWidth=i,t._lastHostHeight=n}},_builddataloadelement:function(){if(this.dataloadelement&&this.dataloadelement.remove(),this.dataloadelement=e('<div style="overflow: hidden; position: absolute;"></div>'),this.showdefaultloadelement){var t=e('<div style="z-index: 99999; margin-left: -66px; left: 50%; top: 50%; margin-top: -24px; position: relative; width: 100px; height: 33px; padding: 5px; font-family: verdana; font-size: 12px; color: #767676; border-color: #898989; border-width: 1px; border-style: solid; background: #f6f6f6; border-collapse: collapse;"><div style="float: left;"><div style="float: left; overflow: hidden; width: 32px; height: 32px;" class="jqx-grid-load"/><span style="margin-top: 10px; float: left; display: block; margin-left: 5px;" >'+this.gridlocalization.loadtext+"</span></div></div>")
t.addClass(this.toTP("jqx-rc-all")),this.dataloadelement.addClass(this.toTP("jqx-rc-all")),t.addClass(this.toTP("jqx-fill-state-normal")),this.dataloadelement.append(t)}else this.dataloadelement.addClass(this.toTP("jqx-grid-load"))
this.dataloadelement.width(this.host.width()),this.dataloadelement.height(this.host.height()),this.wrapper.prepend(this.dataloadelement)},_measureElement:function(t){var i=e("<span style='visibility: hidden; white-space: nowrap;'>measure Text</span>")
i.addClass(this.toTP("jqx-widget")),e(document.body).append(i),"cell"==t?this._cellheight=i.height():this._columnheight=i.height(),i.remove()},_measureMenuElement:function(){var t=e("<span style='visibility: hidden; white-space: nowrap;'>measure Text</span>")
t.addClass(this.toTP("jqx-widget")),t.addClass(this.toTP("jqx-menu")),t.addClass(this.toTP("jqx-menu-item-top")),t.addClass(this.toTP("jqx-fill-state-normal")),this.isTouchDevice()&&t.addClass(this.toTP("jqx-grid-menu-item-touch")),e(document.body).append(t)
var i=t.outerHeight()
return t.remove(),i},_measureElementWidth:function(t){var i=e("<span style='visibility: hidden; white-space: nowrap;'>"+t+"</span>")
i.addClass(this.toTP("jqx-widget")),i.addClass(this.toTP("jqx-grid")),i.addClass(this.toTP("jqx-grid-column-header")),i.addClass(this.toTP("jqx-widget-header")),e(document.body).append(i)
var n=i.outerWidth()+20
return i.remove(),n},_getBodyOffset:function(){var t=0,i=0
return"0px"!=e("body").css("border-top-width")&&(t=parseInt(e("body").css("border-top-width")),isNaN(t)&&(t=0)),"0px"!=e("body").css("border-left-width")&&(i=parseInt(e("body").css("border-left-width")),isNaN(i)&&(i=0)),{left:i,top:t}},_testmodules:function(){var t="",i=this.that,n=function(){""!=t.length&&(t+=",")}
if(this.columnsmenu&&!this.host.jqxMenu&&(this.sortable||this.groupable||this.filterable)&&(n(),t+=" jqxmenu.js"),this.host.jqxScrollBar||(n(),t+=" jqxscrollbar.js"),this.host.jqxButton||(n(),t+=" jqxbuttons.js"),e.jqx.dataAdapter||(n(),t+=" jqxdata.js"),this.pageable&&!this.gotopage&&(n(),t+="jqxgrid.pager.js"),this.filterable&&!this.applyfilters&&(n(),t+=" jqxgrid.filter.js"),this.groupable&&!this._initgroupsheader&&(n(),t+=" jqxgrid.grouping.js"),this.columnsresize&&!this.autoresizecolumns&&(n(),t+=" jqxgrid.columnsresize.js"),this.columnsreorder&&!this.setcolumnindex&&(n(),t+=" jqxgrid.columnsreorder.js"),this.sortable&&!this.sortby&&(n(),t+=" jqxgrid.sort.js"),this.editable&&!this.begincelledit&&(n(),t+=" jqxgrid.edit.js"),this.showaggregates&&!this.getcolumnaggregateddata&&(n(),t+=" jqxgrid.aggregates.js"),this.keyboardnavigation&&!this.selectrow&&(n(),t+=" jqxgrid.selection.js"),""!=t||this.editable||this.filterable||this.pageable){var r=[],o=function(e){switch(e){case"checkbox":i.host.jqxCheckBox||r.checkbox||(r.checkbox=!0,n(),t+=" jqxcheckbox.js")
break
case"numberinput":i.host.jqxNumberInput||r.numberinput||(r.numberinput=!0,n(),t+=" jqxnumberinput.js")
break
case"datetimeinput":i.host.jqxDateTimeInput||r.datetimeinput?i.host.jqxCalendar||r.calendar||(n(),t+=" jqxcalendar.js"):(n(),r.datetimeinput=!0,t+=" jqxdatetimeinput.js(requires: jqxcalendar.js)")
break
case"combobox":i.host.jqxComboBox||r.combobox?i.host.jqxListBox||r.listbox||(n(),r.listbox=!0,t+=" jqxlistbox.js"):(n(),r.combobox=!0,t+=" jqxcombobox.js(requires: jqxlistbox.js)")
break
case"dropdownlist":i.host.jqxDropDownList||r.dropdownlist?i.host.jqxListBox||r.listbox||(n(),r.listbox=!0,t+=" jqxlistbox.js"):(n(),r.dropdownlist=!0,t+=" jqxdropdownlist.js(requires: jqxlistbox.js)")}};(this.filterable||this.pageable)&&o("dropdownlist")
for(var a=0;a<this.columns.length;a++){var s
if(null!=this.columns[a])if(o(s=this.columns[a].columntype),this.filterable&&this.showfilterrow)"checkedlist"!=(s=this.columns[a].filtertype)&&"bool"!=s||o("checkbox"),"date"==s&&o("datetimeinput")}if(""!=t)throw new Error("jqxGrid: Missing references to the following module(s): "+t)}return!1},focus:function(){try{this.wrapper.focus()
var e=this.that
setTimeout(function(){e.wrapper.focus()},25),this.focused=!0}catch(e){}},hiddenParent:function(){return e.jqx.isHidden(this.host)},resize:function(e,t){this.width=e,this.height=t,this._updatesize(!0,!0)},_updatesize:function(t,i){if(!this._loading){var n=this.that
n._newmax=null
var r=n.host.width(),o=n.host.height()
n._oldWidth||(n._oldWidth=r),n._oldHeight||(n._oldHeight=o),n._resizeTimer&&clearTimeout(n._resizeTimer)
n._resizeTimer=setTimeout(function(){if(n.resizingGrid=!0,!e.jqx.isHidden(n.host)){if(n.editcell&&(n.endcelledit(n.editcell.row,n.editcell.column,!0,!0),n._oldselectedcell=null),d!=n._oldHeight||1==i){var o=n.groupable&&n.groups.length>0,a=n.vScrollBar.css("visibility")
if(!n.autoheight){if(n.virtualmode&&(n._pageviews=new Array),o||n.rowdetails||n.pageable){n._arrange(),n.prerenderrequired=!0
d=Math.round(n.host.height())+2*n.rowsheight,n._gettableheight()
var s=Math.round(d/n.rowsheight),l=Math.max(n.dataview.totalrows,n.dataview.totalrecords)
n.pageable&&(l=n.pagesize,n.pagesize>Math.max(n.dataview.totalrows,n.dataview.totalrecords)&&n.autoheight?l=Math.max(n.dataview.totalrows,n.dataview.totalrecords):n.autoheight||n.dataview.totalrows<n.pagesize&&(l=Math.max(n.dataview.totalrows,n.dataview.totalrecords)))
n.rowsheight,n._getpagesize()
!n.pageable&&n.autoheight&&(s=l),n.virtualsizeinfo&&(n.virtualsizeinfo.visiblerecords=s),n.rendergridcontent(!0,!1),n._renderrows(n.virtualsizeinfo)}else{n._arrange(),n.virtualsizeinfo=n._calculatevirtualheight()
var d=Math.round(n.host.height())+2*n.rowsheight
parseInt(d)>=parseInt(n._oldHeight)&&(n.prerenderrequired=!0),n._renderrows(n.virtualsizeinfo),n.rtl&&(n._updatecolumnwidths(),n.table&&n.table.width(n.columnsheader.width()),n._updatecellwidths())}a!=n.vScrollBar.css("visibility")&&(n.vScrollInstance.setPosition(0),n._arrange(),n._updatecolumnwidths(),n.table&&n.table.width(n.columnsheader.width()),n._updatecellwidths())}}if(r!=n._oldWidth||1==t){var c=!1
if(n.editcell&&n.editcell.editor)switch(n.editcell.columntype){case"dropdownlist":if(c=n.editcell.editor.jqxDropDownList("isOpened")||n.editcell.editor.jqxDropDownList("isanimating")&&!n.editcell.editor.jqxDropDownList("ishiding"))return n.editcell.editor.jqxDropDownList({openDelay:0}),n.editcell.editor.jqxDropDownList("open"),void n.editcell.editor.jqxDropDownList({openDelay:250})
break
case"combobox":if(c=n.editcell.editor.jqxComboBox("isOpened")||n.editcell.editor.jqxComboBox("isanimating")&&!n.editcell.editor.jqxComboBox("ishiding"))return n.editcell.editor.jqxComboBox({openDelay:0}),n.editcell.editor.jqxComboBox("open"),void n.editcell.editor.jqxComboBox({openDelay:250})
break
case"datetimeinput":if(c)return c=n.editcell.editor.jqxDateTimeInput("isOpened")||n.editcell.editor.jqxDateTimeInput("isanimating")&&!n.editcell.editor.jqxDateTimeInput("ishiding"),n.editcell.editor.jqxDateTimeInput({openDelay:0}),n.editcell.editor.jqxDateTimeInput("open"),void n.editcell.editor.jqxDateTimeInput({openDelay:250})}var h=n.hScrollBar.css("visibility")
n._arrange(),n._updatecolumnwidths(),n.table&&n.table.width(n.columnsheader.width()),n._updatecellwidths(),0==t&&n._oldWidth>r||i&&0!=n.dataview.rows.length||n._renderrows(n.virtualsizeinfo),h!=n.hScrollBar.css("visibility")&&n.hScrollInstance.setPosition(0)}n._oldWidth=r,n._oldHeight=d,n.resizingGrid=!1}},5)}},getTouches:function(t){return e.jqx.mobile.getTouches(t)},_updateTouchScrolling:function(){var t=this.that
if(t.isTouchDevice()){t.scrollmode="logical",t.vScrollInstance.thumbStep=t.rowsheight
var i=e.jqx.mobile.getTouchEventName("touchstart"),n=e.jqx.mobile.getTouchEventName("touchend"),r=e.jqx.mobile.getTouchEventName("touchmove")
t.enablehover=!1,t.gridcontent&&(t.removeHandler(t.gridcontent,i+".touchScroll"),t.removeHandler(t.gridcontent,r+".touchScroll"),t.removeHandler(t.gridcontent,n+".touchScroll"),t.removeHandler(t.gridcontent,"touchcancel.touchScroll"),e.jqx.mobile.touchScroll(t.gridcontent[0],t.vScrollInstance.max,function(e,i){null!=i&&"visible"==t.vScrollBar.css("visibility")&&t.vScrollInstance.setPosition(i),null!=e&&"visible"==t.hScrollBar.css("visibility")&&t.hScrollInstance.setPosition(e),t.vScrollInstance.thumbCapture=!0,t._lastScroll=new Date},this.element.id,this.hScrollBar,this.vScrollBar),t._overlayElement&&(t.removeHandler(t._overlayElement,i+".touchScroll"),t.removeHandler(t._overlayElement,r+".touchScroll"),t.removeHandler(t._overlayElement,n+".touchScroll"),t.removeHandler(t._overlayElement,"touchcancel.touchScroll"),e.jqx.mobile.touchScroll(t._overlayElement[0],t.vScrollInstance.max,function(e,i){null!=i&&"visible"==t.vScrollBar.css("visibility")&&t.vScrollInstance.setPosition(i),null!=e&&"visible"==t.hScrollBar.css("visibility")&&t.hScrollInstance.setPosition(e),t.vScrollInstance.thumbCapture=!0,t._lastScroll=new Date},this.element.id,this.hScrollBar,this.vScrollBar),this.addHandler(this.host,i,function(){t.editcell?t._overlayElement.css("visibility","hidden"):t._overlayElement.css("visibility","visible")}),this.addHandler(this.host,n,function(){t.editcell?t._overlayElement.css("visibility","hidden"):t._overlayElement.css("visibility","visible")})))}},_rendercelltexts:function(){},isTouchDevice:function(){if(null!=this.touchDevice)return this.touchDevice
var t=e.jqx.mobile.isTouchDevice()
if(this.touchDevice=t,1==this.touchmode){if(e.jqx.browser.msie&&e.jqx.browser.version<9)return this.enablehover=!1,!1
t=!0,e.jqx.mobile.setMobileSimulator(this.element),this.touchDevice=t}else 0==this.touchmode&&(t=!1)
return t&&0!=this.touchModeStyle&&(this.touchDevice=!0,this.host.addClass(this.toThemeProperty("jqx-touch")),this.host.find("jqx-widget-content").addClass(this.toThemeProperty("jqx-touch")),this.host.find("jqx-widget-header").addClass(this.toThemeProperty("jqx-touch")),this.scrollbarsize=this.touchscrollbarsize),t},toTP:function(e){return this.toThemeProperty(e)},localizestrings:function(t,i){if(this._cellscache=new Array,e.jqx.dataFormat&&e.jqx.dataFormat.cleardatescache(),this._loading)throw new Error("jqxGrid: "+this.loadingerrormessage)
if(null!=t){for(var n in t)n.toLowerCase()!==n&&(t[n.toLowerCase()]=t[n])
if(t.pagergotopagestring&&(this.gridlocalization.pagergotopagestring=t.pagergotopagestring),t.pagershowrowsstring&&(this.gridlocalization.pagershowrowsstring=t.pagershowrowsstring),t.pagerrangestring&&(this.gridlocalization.pagerrangestring=t.pagerrangestring),t.pagernextbuttonstring&&(this.gridlocalization.pagernextbuttonstring=t.pagernextbuttonstring),t.pagerpreviousbuttonstring&&(this.gridlocalization.pagerpreviousbuttonstring=t.pagerpreviousbuttonstring),t.pagerfirstbuttonstring&&(this.gridlocalization.pagerfirstbuttonstring=t.pagerfirstbuttonstring),t.pagerlastbuttonstring&&(this.gridlocalization.pagerlastbuttonstring=t.pagerlastbuttonstring),t.groupsheaderstring&&(this.gridlocalization.groupsheaderstring=t.groupsheaderstring),t.sortascendingstring&&(this.gridlocalization.sortascendingstring=t.sortascendingstring),t.sortdescendingstring&&(this.gridlocalization.sortdescendingstring=t.sortdescendingstring),t.sortremovestring&&(this.gridlocalization.sortremovestring=t.sortremovestring),t.groupbystring&&(this.gridlocalization.groupbystring=t.groupbystring),t.groupremovestring&&(this.gridlocalization.groupremovestring=t.groupremovestring),t.firstDay&&(this.gridlocalization.firstDay=t.firstDay),t.days&&(this.gridlocalization.days=t.days),t.months&&(this.gridlocalization.months=t.months),t.AM&&(this.gridlocalization.AM=t.AM),t.PM&&(this.gridlocalization.PM=t.PM),t.patterns&&(this.gridlocalization.patterns=t.patterns),t.percentsymbol&&(this.gridlocalization.percentsymbol=t.percentsymbol),t.currencysymbol&&(this.gridlocalization.currencysymbol=t.currencysymbol),t.currencysymbolposition&&(this.gridlocalization.currencysymbolposition=t.currencysymbolposition),null!=t.decimalseparator&&(this.gridlocalization.decimalseparator=t.decimalseparator),null!=t.thousandsseparator&&(this.gridlocalization.thousandsseparator=t.thousandsseparator),t.filterclearstring&&(this.gridlocalization.filterclearstring=t.filterclearstring),t.filterstring&&(this.gridlocalization.filterstring=t.filterstring),t.filtershowrowstring&&(this.gridlocalization.filtershowrowstring=t.filtershowrowstring),t.filtershowrowdatestring&&(this.gridlocalization.filtershowrowdatestring=t.filtershowrowdatestring),t.filterselectallstring&&(this.gridlocalization.filterselectallstring=t.filterselectallstring),t.filterchoosestring&&(this.gridlocalization.filterchoosestring=t.filterchoosestring),t.filterorconditionstring&&(this.gridlocalization.filterorconditionstring=t.filterorconditionstring),t.filterandconditionstring&&(this.gridlocalization.filterandconditionstring=t.filterandconditionstring),t.filterstringcomparisonoperators&&(this.gridlocalization.filterstringcomparisonoperators=t.filterstringcomparisonoperators),t.filternumericcomparisonoperators&&(this.gridlocalization.filternumericcomparisonoperators=t.filternumericcomparisonoperators),t.filterdatecomparisonoperators&&(this.gridlocalization.filterdatecomparisonoperators=t.filterdatecomparisonoperators),t.filterbooleancomparisonoperators&&(this.gridlocalization.filterbooleancomparisonoperators=t.filterbooleancomparisonoperators),t.emptydatastring&&(this.gridlocalization.emptydatastring=t.emptydatastring),t.filterselectstring&&(this.gridlocalization.filterselectstring=t.filterselectstring),t.todaystring&&(this.gridlocalization.todaystring=t.todaystring),t.clearstring&&(this.gridlocalization.clearstring=t.clearstring),t.validationstring&&(this.gridlocalization.validationstring=t.validationstring),t.loadtext&&(this.gridlocalization.loadtext=t.loadtext),t.addrowstring&&(this.gridlocalization.addrowstring=t.addrowstring),t.udpaterowstring&&(this.gridlocalization.udpaterowstring=t.udpaterowstring),t.deleterowstring&&(this.gridlocalization.deleterowstring=t.deleterowstring),t.resetrowstring&&(this.gridlocalization.resetrowstring=t.resetrowstring),t.everpresentrowplaceholder&&(this.gridlocalization.everpresentrowplaceholder=t.everpresentrowplaceholder),!1!==i){if(this._initpager&&this._initpager(),this._initgroupsheader&&this._initgroupsheader(),this._initmenu&&this._initmenu(),this._builddataloadelement(),e(this.dataloadelement).css("visibility","hidden"),e(this.dataloadelement).css("display","none"),this.filterable&&this.showfilterrow&&this._updatefilterrow){for(var n in this._filterrowcache)e(this._filterrowcache[n]).remove()
this._filterrowcache=[],this._updatefilterrow()}this.showaggregates&&this.refresheaggregates&&this.refresheaggregates(),this._renderrows(this.virtualsizeinfo)}}else this.gridlocalization={"/":"/",":":":",firstDay:0,days:{names:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],namesAbbr:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],namesShort:["Su","Mo","Tu","We","Th","Fr","Sa"]},months:{names:["January","February","March","April","May","June","July","August","September","October","November","December",""],namesAbbr:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec",""]},AM:["AM","am","AM"],PM:["PM","pm","PM"],eras:[{name:"A.D.",start:null,offset:0}],twoDigitYearMax:2029,patterns:{d:"M/d/yyyy",D:"dddd, MMMM dd, yyyy",t:"h:mm tt",T:"h:mm:ss tt",f:"dddd, MMMM dd, yyyy h:mm tt",F:"dddd, MMMM dd, yyyy h:mm:ss tt",M:"MMMM dd",Y:"yyyy MMMM",S:"yyyy'-'MM'-'dd'T'HH':'mm':'ss",ISO:"yyyy-MM-dd hh:mm:ss",ISO2:"yyyy-MM-dd HH:mm:ss",d1:"dd.MM.yyyy",d2:"dd-MM-yyyy",d3:"dd-MMMM-yyyy",d4:"dd-MM-yy",d5:"H:mm",d6:"HH:mm",d7:"HH:mm tt",d8:"dd/MMMM/yyyy",d9:"MMMM-dd",d10:"MM-dd",d11:"MM-dd-yyyy"},percentsymbol:"%",currencysymbol:"$",currencysymbolposition:"before",decimalseparator:".",thousandsseparator:",",pagergotopagestring:"Go to page:",pagershowrowsstring:"Show rows:",pagerrangestring:" of ",pagerpreviousbuttonstring:"previous",pagernextbuttonstring:"next",pagerfirstbuttonstring:"first",pagerlastbuttonstring:"last",groupsheaderstring:"Drag a column and drop it here to group by that column",sortascendingstring:"Sort Ascending",sortdescendingstring:"Sort Descending",sortremovestring:"Remove Sort",groupbystring:"Group By this column",groupremovestring:"Remove from groups",filterclearstring:"Clear",filterstring:"Filter",filtershowrowstring:"Show rows where:",filtershowrowdatestring:"Show rows where date:",filterorconditionstring:"Or",filterandconditionstring:"And",filterselectallstring:"(Select All)",filterchoosestring:"Please Choose:",filterstringcomparisonoperators:["empty","not empty","contains","contains(match case)","does not contain","does not contain(match case)","starts with","starts with(match case)","ends with","ends with(match case)","equal","equal(match case)","null","not null"],filternumericcomparisonoperators:["equal","not equal","less than","less than or equal","greater than","greater than or equal","null","not null"],filterdatecomparisonoperators:["equal","not equal","less than","less than or equal","greater than","greater than or equal","null","not null"],filterbooleancomparisonoperators:["equal","not equal"],validationstring:"Entered value is not valid",emptydatastring:"No data to display",filterselectstring:"Select Filter",loadtext:"Loading...",clearstring:"Clear",todaystring:"Today",addrowstring:"Add",udpaterowstring:"Update",deleterowstring:"Delete",resetrowstring:"Reset",everpresentrowplaceholder:"Enter "}},_getmenudefaultheight:function(){var t=0
this.sortable&&this._togglesort&&this.showsortmenuitems&&(t=3),this.groupable&&this._initgroupsheader&&this.showgroupmenuitems&&(t+=2)
var i=t*this._measureMenuElement()+9
return this.filterable&&!this.showfilterrow&&this.showfiltermenuitems&&(i+=190,e.jqx.browser.msie&&e.jqx.browser.version<8&&(i+=20)),i},_initmenu:function(){var t=this.that
if(this.host.jqxMenu){if(this.gridmenu){if(this._hasOpenedMenu)return
this.filterable&&this._destroyfilterpanel&&this._destroyfilterpanel(),this.removeHandler(this.gridmenu,"keydown"),this.removeHandler(this.gridmenu,"closed"),this.removeHandler(this.gridmenu,"itemclick"),this.gridmenu.jqxMenu("destroy"),this.gridmenu.removeData(),this.gridmenu.remove()}this.menuitemsarray=new Array
var i=""
this.isTouchDevice()&&(i="jqx-grid-menu-item-touch"),this.gridmenu=e('<div id="gridmenu'+this.element.id+'" style="z-index: 9999999999999;"></div>'),this.host.append(this.gridmenu)
var n=e("<ul></ul>"),r=e('<li class="'+i+'"><div class="jqx-grid-sortasc-icon"></div>'+this.gridlocalization.sortascendingstring+"</li>"),o=e('<li class="'+i+'"><div class="jqx-grid-sortdesc-icon"></div>'+this.gridlocalization.sortdescendingstring+"</li>"),a=e('<li class="'+i+'"><div class="jqx-grid-sortremove-icon"></div>'+this.gridlocalization.sortremovestring+"</li>"),s='<div class="jqx-grid-groupby-icon"></div>',l=e('<li class="'+i+'">'+s+this.gridlocalization.groupbystring+"</li>"),d=e('<li class="'+i+'">'+s+this.gridlocalization.groupremovestring+"</li>"),c=e('<li type="separator"></li>'),h=e('<li class="filter '+i+'" style="height: 190px;" ignoretheme="true"><div class="filter"></div></li>'),u=this.gridlocalization.sortascendingstring.length,p=this.gridlocalization.sortascendingstring
this.gridlocalization.sortdescendingstring.length>u&&(u=this.gridlocalization.sortdescendingstring.length,p=this.gridlocalization.sortdescendingstring),this.gridlocalization.sortremovestring.length>u&&(u=this.gridlocalization.sortremovestring.length,p=this.gridlocalization.sortremovestring),this.groupable&&this._initgroupsheader&&this.showgroupmenuitems&&(this.gridlocalization.groupbystring.length>u&&(u=this.gridlocalization.groupbystring.length,p=this.gridlocalization.groupbystring),this.gridlocalization.groupremovestring.length>u&&(u=this.gridlocalization.groupremovestring.length,p=this.gridlocalization.groupremovestring))
var m=200
p=e.trim(p).replace(/\&nbsp\;/gi,"").replace(/\&#160\;/gi,"")
var f=e("<span>"+p+"</span>")
f.addClass(this.toThemeProperty("jqx-menu-item")),this.host.append(f),m=f.outerWidth()+60,f.remove()
var g=0
this.sortable&&this._togglesort&&this.showsortmenuitems&&(n.append(r),this.menuitemsarray[0]=r[0],n.append(o),this.menuitemsarray[1]=o[0],n.append(a),this.menuitemsarray[2]=a[0],g=3),this.groupable&&this._initgroupsheader&&this.showgroupmenuitems&&(n.append(l),this.menuitemsarray[3]=l[0],n.append(d),this.menuitemsarray[4]=d[0],g+=2)
var v=g*this._measureMenuElement()+9,b=!0
if(this.filterable&&!this.showfilterrow&&this.showfiltermenuitems){if(!this._initfilterpanel)throw new Error("jqxGrid: Missing reference to jqxgrid.filter.js.")
this.menuitemsarray[5]=h[0],this.menuitemsarray[6]=h[0],n.append(c),n.append(h),v+=190,e.jqx.browser.msie&&e.jqx.browser.version<8&&(v+=20),this.isTouchDevice()&&(v+=30)
var y=e(h).find("div:first")
this.excelfilterpanel=e("<div></div>"),this.filterpanel=y,this.filtermenu=e(h),m+=20,this._initfilterpanel(this,y,"",m),this._initfilterpanel(this,this.excelfilterpanel,"",m,!0),b=!1,this.removeHandler(e(document),"click.menu"+t.element.id,t._closemenuafterclick,t),this.addHandler(e(document),"click.menu"+t.element.id,t._closemenuafterclick,t)}if(this.gridmenu.append(n),e.jqx.browser.msie&&e.jqx.browser.version<8&&this.filterable&&(e("#listBoxfilter1"+this.element.id).css("z-index",4990),e("#listBoxfilter2"+this.element.id).css("z-index",4990),e("#listBoxfilter3"+this.element.id).css("z-index",4990),e("#gridmenu"+this.element.id).css("z-index",5e3),this.addHandler(e("#gridmenu"+this.element.id),"initialized",function(){e("#menuWrappergridmenu"+t.element.id).css("z-index",4980)})),null==this.menuitemsarray[0]&&(v=65),this.removeHandler(e(window),"orientationchange.jqxgrid"+this.element.id),this.removeHandler(e(window),"orientationchanged.jqxgrid"+this.element.id),this.addHandler(e(window),"orientationchange.jqxgrid"+this.element.id,function(){t.gridmenu.jqxMenu("close")}),this.addHandler(e(window),"orientationchanged.jqxgrid"+this.element.id,function(){t.gridmenu.jqxMenu("close")}),this.removeHandler(this.gridmenu,"keydown"),this.addHandler(this.gridmenu,"keydown",function(i){if(27==i.keyCode)t.gridmenu.jqxMenu("close")
else if(13==i.keyCode&&t.filterable&&t._buildfilter){var n="block"==e(e.find("#filter1"+t.element.id)).jqxDropDownList("container").css("display"),r="block"==e(e.find("#filter2"+t.element.id)).jqxDropDownList("container").css("display"),o="block"==e(e.find("#filter3"+t.element.id)).jqxDropDownList("container").css("display")
if(e(e.find("#filterclearbutton"+t.element.id)).hasClass("jqx-fill-state-focus")){var a=e.data(document.body,"contextmenu"+t.element.id).column
t._clearfilter(t,t.element,a),t.gridmenu.jqxMenu("close")}else if(!n&&!r&&!o){a=e.data(document.body,"contextmenu"+t.element.id).column
t.gridmenu.jqxMenu("close"),t._buildfilter(t,h,a)}}}),"auto"!=this.popupwidth&&(m=this.popupwidth),this.gridmenu.jqxMenu({popupZIndex:999999,width:m,height:v,autoCloseOnClick:b,autoOpenPopup:!1,mode:"popup",theme:this.theme,animationShowDuration:0,animationHideDuration:0,animationShowDelay:0}),this.filterable&&this.gridmenu.jqxMenu("_setItemProperty",h[0].id,"closeOnClick",!1),this.rtl){var _=this.that
e.each(n.find("li"),function(){e(this).addClass(_.toTP("jqx-rtl"))})
var w=function(e){var t=e.find("div")
t.css("float","right"),t.css("margin-left","4px"),t.css("margin-right","-4px")}
w(a),w(o),w(r),w(l),w(d)}this._handlemenueevents()}else this.columnsmenu=!1},_arrangemenu:function(){this.gridmenu||this._initmenu()
var t=this.gridlocalization.sortascendingstring.length,i=this.gridlocalization.sortascendingstring
this.gridlocalization.sortdescendingstring.length>t&&(t=this.gridlocalization.sortdescendingstring.length,i=this.gridlocalization.sortdescendingstring),this.gridlocalization.sortremovestring.length>t&&(t=this.gridlocalization.sortremovestring.length,i=this.gridlocalization.sortremovestring),this.groupable&&this._initgroupsheader&&(this.gridlocalization.groupbystring.length>t&&(t=this.gridlocalization.groupbystring.length,i=this.gridlocalization.groupbystring),this.gridlocalization.groupremovestring.length>t&&(t=this.gridlocalization.groupremovestring.length,i=this.gridlocalization.groupremovestring))
var n=200
i=e.trim(i).replace(/\&nbsp\;/gi,"").replace(/\&#160\;/gi,"")
var r=e("<span>"+i+"</span>")
r.addClass(this.toThemeProperty("jqx-menu-item")),this.host.append(r),n=r.outerWidth()+60,r.remove()
var o=0
this.sortable&&this._togglesort&&this.showsortmenuitems&&(o=3),this.groupable&&this._initgroupsheader&&this.showgroupmenuitems&&(o+=2)
var a=o*this._measureMenuElement()+9
this.filterable&&this.showfiltermenuitems&&this._initfilterpanel&&(a+=190,n+=20,e.jqx.browser.msie&&e.jqx.browser.version<8&&(a+=20),this.isTouchDevice()&&(a+=30)),null==this.menuitemsarray[0]&&(a=65),"auto"!=this.popupwidth&&(n=this.popupwidth),"auto"!=this.popupheight&&(a=this.popupheight),this.gridmenu.jqxMenu({width:n,height:a})},_closemenuafterclick:function(t){var i=null!=t?t.data:this,n=!1
if(null==t.target||null!=t.target&&null==t.target.className.indexOf)i.gridmenu.jqxMenu("close")
else if(-1==t.target.className.indexOf("filter")||-1!=t.target.className.indexOf("jqx-grid-cell-filter"))if(-1==t.target.className.indexOf("jqx-grid-cell")){if(!i._hasOpenedMenu||!e(t.target).ischildof(i.gridmenu)){i.host.coord()
var r=i.gridmenu.coord(),o=t.pageX,a=t.pageY
if(e.each(e(t.target).parents(),function(){return null!=this.id&&this.id.indexOf&&-1!=this.id.indexOf("filter")?(n=!0,!1):this.className.indexOf&&-1!=this.className.indexOf("filter")&&-1==this.className.indexOf("jqx-grid-cell-filter")?(n=!0,!1):this.className.indexOf&&-1!=this.className.indexOf("jqx-grid-cell")?(i.gridmenu.jqxMenu("close"),!1):this.className.indexOf&&-1!=this.className.indexOf("jqx-grid-column")?(i.gridmenu.jqxMenu("close"),!1):void 0}),!n){try{if("default"===i.filtermode){var s=e(e.find("#filter1"+i.element.id)).jqxDropDownList("listBox").vScrollInstance._mouseup
if((l=new Date)-s<100)return
if(l-e(e.find("#filter3"+i.element.id)).jqxDropDownList("listBox").vScrollInstance._mouseup<100)return
if("block"==e(e.find("#filter3"+i.element.id)).jqxDropDownList("container").css("display"))return
if("block"==e(e.find("#filter1"+i.element.id)).jqxDropDownList("container").css("display"))return
if("block"==e(e.find("#filter2"+i.element.id)).jqxDropDownList("container").css("display"))return
if(i._hasdatefilter&&"div"==e(".filtertext1"+i.element.id)[0].nodeName.toLowerCase()){if("block"==e(".filtertext1"+i.element.id).jqxDateTimeInput("container").css("display"))return
if("block"==e(".filtertext2"+i.element.id).jqxDateTimeInput("container").css("display"))return}}else{var l
s=e(e.find("#filter1"+i.element.id)).data().jqxListBox.instance.vScrollInstance._mouseup
if((l=new Date)-s<100)return
if(l-e(e.find("#filter1"+i.element.id)).data().jqxListBox.instance.hScrollInstance._mouseup<100)return}}catch(e){}if(!(o>=r.left&&o<=r.left+i.gridmenu.width()&&a>=r.top&&a<=r.top+i.gridmenu.height())){if(i.columnmenuclosing){var d=e.data(document.body,"contextmenu"+i.element.id)
if(d||(d={column:{displayfield:null}}),!1===i.columnmenuclosing(i.gridmenu,d.column.displayfield,e(i.gridmenu).height()))return}i.gridmenu.jqxMenu("close")}}}}else i.gridmenu.jqxMenu("close")},_handlemenueevents:function(){var t=this.that
this.removeHandler(this.gridmenu,"closed"),this.addHandler(this.gridmenu,"closed",function(e){t._closemenu()}),this.removeHandler(this.gridmenu,"itemclick"),this.addHandler(this.gridmenu,"itemclick",function(i){for(var n=i.args,r=0;r<t.menuitemsarray.length;r++){if(n==t.menuitemsarray[r]){if(null!=e(n).attr("ignoretheme"))return
var o=e.data(document.body,"contextmenu"+t.element.id),a=o.column
t.filterable&&t.gridmenu.jqxMenu("close")
var s=a.displayfield
if(null==s&&(s=a.datafield),null!=o)switch(r){case 0:t.sortby(s,"ascending",null)
break
case 1:t.sortby(s,"descending",null)
break
case 2:t.sortby(s,null,null)
break
case 3:t.addgroup(s)
break
case 4:t.removegroup(s)
break
case 5:var l=e(t.menuitemsarray[6])
e(l).css("display","block")}break}}})},getdatainformation:function(){var e=this.dataview.totalrecords
return this.summaryrows&&(e+=this.summaryrows.length),{rowscount:e,sortinformation:this.getsortinformation(),paginginformation:this.getpaginginformation()}},getsortinformation:function(){return{sortcolumn:this.sortcolumn,sortdirection:this.sortdirection}},getpaginginformation:function(){return{pagenum:this.dataview.pagenum,pagesize:this.pagesize,pagescount:Math.ceil(this.dataview.totalrecords/this.pagesize)}},_updaterowsproperties:function(){this._updatehiddenrows(),this._updaterowheights(),this._updaterowdetails()},_updatehiddenrows:function(){var t=this.that
this.hiddens=new Array
var i=this.hiddenboundrows
e.each(i,function(e){if(null!=this.index){this.index
var i=t.getrowvisibleindex(e)
t.hiddens[i]=this.hidden}})},_updaterowheights:function(){var t=this.that
this.heights=new Array
var i=this.heightboundrows
e.each(i,function(e){if(null!=this.index){this.index
var i=t.getrowvisibleindex(e)
t.heights[i]=this.height}})},_updaterowdetails:function(){var t=this.that
this.details=new Array
var i=this.detailboundrows
e.each(i,function(e){if(null!=this.index){this.index
var i=t.getrowvisibleindex(e)
t.details[i]=this.details}})},_getmenuitembyindex:function(e){return null==e?null:this.menuitemsarray[e]},openmenu:function(t){if(!this._openingmenu){this._openingmenu=!0,this.closemenu()
var i=this.getcolumn(t)
if(!i.menu)return!1
this.gridmenu||this._initmenu()
var n=i.columnsmenu
e(i.element).trigger("mouseenter"),this.menuOwner=i
for(var r=this,o=0;o<r.columns.records.length;o++)r.columns.records[o].datafield!=t&&e(r.columns.records[o].element).trigger("mouseleave")
setTimeout(function(){"block"==e(n)[0].style.display&&e(n).trigger("click"),r._openingmenu=!1},200)}},closemenu:function(){this._closemenu()},_closemenu:function(){if(this._hasOpenedMenu){if(this.columnmenuclosing)if((t=e.data(document.body,"contextmenu"+this.element.id))||(t={column:{displayfield:null}}),!1===this.columnmenuclosing(this.gridmenu,t.column.displayfield,e(this.gridmenu).height()))return
null!=this.gridmenu&&this.gridmenu.jqxMenu("close")
var t
if(null!=(t=e.data(document.body,"contextmenu"+this.element.id))&&this.autoshowcolumnsmenubutton){if(this.enableanimations){e(t.columnsmenu).animate({"margin-left":0},"fast",function(){e(t.columnsmenu).css("display","none")})
var i=this.rtl?0:-32
t.column.iconscontainer.animate({"margin-left":i},"fast")}else{e(t.columnsmenu).css("display","none")
i=this.rtl?0:-32
t.column.iconscontainer.css("margin-left",i)}e.data(document.body,"contextmenu"+this.element.id,null)}this._hasOpenedMenu=!1,this.menuOwner=null
var n=this._getmenuitembyindex(5)
if(n){var r=e(n).find("#filter1"+this.element.id),o=e(n).find("#filter2"+this.element.id),a=e(n).find("#filter3"+this.element.id)
r.length>0&&"default"===this.filtermode&&(r.jqxDropDownList("hideListBox"),o.length>0&&o.jqxDropDownList("hideListBox"),a.length>0&&a.jqxDropDownList("hideListBox"))}}},scrolloffset:function(e,t){null!=e&&null!=t&&null!=e&&null!=t&&(this.vScrollBar.jqxScrollBar("setPosition",e),this.hScrollBar.jqxScrollBar("setPosition",t))},scrollleft:function(e){null!=e&&null!=e&&"hidden"!=this.hScrollBar.css("visibility")&&this.hScrollBar.jqxScrollBar("setPosition",e)},scrolltop:function(e){null!=e&&null!=e&&"hidden"!=this.vScrollBar.css("visibility")&&this.vScrollBar.jqxScrollBar("setPosition",e)},beginupdate:function(e,t){this._updating=!0,this._datachanged=!1,!0===e&&(this._batchupdate=!0),!0===t&&(this._stopbindings=!0)},endupdate:function(){this.resumeupdate()},resumeupdate:function(){if(this._updating=!1,this._batchupdate)return this._batchupdate=!1,this._datachanged=!1,void(this._stopbindings?this.updatebounddata():this.render())
if(this._stopbindings)this.updatebounddata("data")
else{if(1==this._datachanged){var e=this.vScrollInstance.value
this.render(!0,!0,!1),this._datachanged=!1,0!=e&&e<this.vScrollInstance.max&&this.scrolltop(e)}else this.rendergridcontent(!0),this._renderrows(this.virtualsizeinfo)
this.showaggregates&&this.renderaggregates&&this.renderaggregates(),this._updatecolumnwidths(),this._updatecellwidths(),this._renderrows(this.virtualsizeinfo)}},updating:function(){return this._updating},showloadelement:function(){this.renderloadelement&&this.dataloadelement.html(this.renderloadelement()),this.dataloadelement.width(this.host.width()),this.dataloadelement.height(this.host.height()),e(this.dataloadelement).css("visibility","visible"),e(this.dataloadelement).css("display","block")},hideloadelement:function(){e(this.dataloadelement).css("visibility","hidden"),e(this.dataloadelement).css("display","none")},_updatefocusedfilter:function(){var e=this.that
e.focusedfilter&&(e.focusedfilter.focus(),setTimeout(function(){if(e.focusedfilter.focus(),"input"==e.focusedfilter[0].nodeName.toLowerCase()){var t=e.focusedfilter.val().length
try{if("selectionStart"in e.focusedfilter[0])e.focusedfilter[0].setSelectionRange(t,t)
else{var i=e.focusedfilter[0].createTextRange()
i.collapse(!0),i.moveEnd("character",t),i.moveStart("character",t),i.select()}}catch(e){}}},50))},databind:function(t,i){if(!0!==this.loadingstate&&!0!==this._stopbindings){var n=window
"block"==this.host.css("display")&&(this.autoshowloadelement?(e(this.dataloadelement).css("visibility","visible"),e(this.dataloadelement).css("display","block"),this.dataloadelement.width(this.host.width()),this.dataloadelement.height(this.host.height()),this._hideemptyrow()):(e(this.dataloadelement).css("visibility","hidden"),e(this.dataloadelement).css("display","none"))),!this._initgroupsheader&&this.groups.length>0&&(this.groups=new Array)
var r=this.that
null==t&&(t={}),t.recordstartindex||(t.recordstartindex=0),t.recordendindex||(t.recordendindex=0),null!=t.loadallrecords&&null!=t.loadallrecords||(t.loadallrecords=!0),null!=t.sortcomparer&&null!=t.sortcomparer||(t.sortcomparer=null),null!=t.filter&&null!=t.filter||(t.filter=null),null!=t.sort&&null!=t.sort||(t.sort=null),null!=t.data&&null!=t.data||(t.data=null)
var o=null
if(null!=t&&(o=null!=t._source?t._source.url:t.url),this.dataview=this.dataview||new e.jqx.dataview,e.jqx.dataview.sort&&e.extend(this.dataview,new e.jqx.dataview.sort),e.jqx.dataview.grouping&&e.extend(this.dataview,new e.jqx.dataview.grouping),this.dataview.suspendupdate(),this.dataview.pageable=this.pageable,this.dataview.groupable=this.groupable,this.dataview.groups=this.groups,this.dataview.virtualmode=this.virtualmode,this.dataview.grid=this,this.dataview._clearcaches(),!this.pageable&&this.virtualmode&&(this.loadondemand=!0),!r.initializedcall){if(t._source&&this.sortable&&(null!=t._source.sortcolumn&&(this.sortcolumn=t._source.sortcolumn,this.source.sortcolumn=this.sortcolumn,this.dataview.sortfield=t._source.sortcolumn,t._source.sortcolumn=null),null!=t._source.sortdirection)){this.dataview.sortfielddirection=t._source.sortdirection
var a=t._source.sortdirection
if("a"==a||"asc"==a||"ascending"==a||1==a)var s=!0
else s=!1
this.sortdirection=null!=a?{ascending:s,descending:!s}:{ascending:!1,descending:!1}}this.pageable&&t._source&&(null!=t._source.pagenum&&(this.dataview.pagenum=t._source.pagenum),null!=t._source.pagesize?(this.pagesize=t._source.pagesize,this.dataview.pagesize=t._source.pagesize):(this.dataview.pagesize=t._source.pagesize,null==this.dataview.pagesize&&(this.dataview.pagesize=this.pagesize))),this.sortable&&(t.sortcolumn&&(this.dataview.sortfield=t.sortcolumn),t.sortdirection&&(this.dataview.sortfielddirection=t.sortdirection)),this.filterable&&this.columns&&e.each(this.columns,function(){this.filter&&r.dataview.addfilter(this.datafield,this.filter)})}this._loading=!0,this.dataview.update=function(t){if(!r.pageable&&r.virtualmode&&(r.loadondemand=!0),r._loading=!1,r.dataview.isupdating()&&r.dataview.resumeupdate(!1),r.pageable&&r.pagerrenderer){if(!r._initpager)throw new Error("jqxGrid: Missing reference to jqxgrid.pager.js.")
r._initpager()}if(r.source&&r.source.sortcolumn&&r.sortby&&!r.virtualmode)r.render(),r.source._source.sort||r.sortby(r.source.sortcolumn,r.source.sortdirection,r.source.sortcomparer),r.source.sortcolumn=null,r._postrender("data")
else{var o=r.vScrollInstance.value,a=r.hScrollInstance.value,s=r.source?r.source.datatype:"array"
if("local"!=s||"array"!=s){var l=null==r.virtualsizeinfo||null!=r.virtualsizeinfo&&0==r.virtualsizeinfo.virtualheight
if("cells"==i){var d=!1
if(r.filterable&&r._initfilterpanel&&r.dataview.filters.length&&(d=!0),0==t)return r.vScrollInstance.isScrolling()||r.hScrollInstance.isScrolling()||(r._cellscache=new Array,r._pagescache=new Array,r._renderrows(r.virtualsizeinfo),r.showfilterrow&&r.filterable&&r.filterrow&&r._updatelistfilters(!0),r.showaggregates&&r._updateaggregates&&r._updateaggregates()),r.sortcolumn&&r.sortby(r.sortcolumn,r.dataview.sortfielddirection,r.source.sortcomparer),r.autoshowloadelement&&(e(r.dataloadelement).css("visibility","hidden"),e(r.dataloadelement).css("display","none")),r.virtualmode&&!r._loading&&(r.loadondemand=!0,r._renderrows(r.virtualsizeinfo)),void r._postrender("data")
d?i="filter":null!=r.sortcolumn&&(i="sort")}!r.virtualmode||l||r.virtualmode&&r.pageable?1==r.initializedcall&&"pagechanged"==i?(o=0,r.groupable&&r.groups.length>0?(r._render(!0,!0,!1,!1,!1),r._updatecolumnwidths(),r._updatecellwidths(),r._renderrows(r.virtualsizeinfo),r._postrender("data")):(r.rendergridcontent(!0),r.pageable&&r.updatepagerdetails&&(r.updatepagerdetails(),r.autoheight?(r._updatepageviews(),r.autorowheight&&r._renderrows(this.virtualsizeinfo)):r.autorowheight&&(r._updatepageviews(),r._renderrows(this.virtualsizeinfo)))),r.showaggregates&&r._updateaggregates&&r._updateaggregates(),r._postrender("data")):"filter"==i?(r.virtualmode,r._render(!0,!0,!1,!1,!1),r._updatecolumnwidths(),r._updatecellwidths(),r._renderrows(r.virtualsizeinfo),r._updatefocusedfilter(),r._postrender("data")):"sort"==i?(r.virtualmode?(r.rendergridcontent(!0),r.showaggregates&&r._updateaggregates&&r._updateaggregates(),r._postrender("data")):(r._render(!0,!0,!1,!1,!1),r.sortcolumn&&!r.source.sort&&r.sortby(r.sortcolumn,r.dataview.sortfielddirection,r.source.sortcomparer),r._postrender("data")),r.source.sort&&r._updatefocusedfilter()):"data"==i?(r._render(!0,!0,!1,!1,!1),r._postrender("data")):"state"==i?(r._render(!0,!0,!1,r.menuitemsarray&&r.menuitemsarray.length>0&&!r.virtualmode),r._postrender("data")):(r._render(!0,!0,!0,r.menuitemsarray&&r.menuitemsarray.length>0&&!r.virtualmode),r._postrender("data")):r.virtualmode&&1==t&&!r.pageable?(r._render(!0,!0,!1,!1,!1),r._updatefocusedfilter(),r._updatecolumnwidths(),r._updatecellwidths(),r._renderrows(r.virtualsizeinfo),r._postrender("data")):r.virtualmode&&!r.pageable&&0==t&&null!=i?(r.rendergridcontent(!0),r.showaggregates&&r._updateaggregates&&r._updateaggregates(),r._postrender("data")):r.virtualmode&&0==r.dataview.totalrecords&&r.dataview.filters.length>0?(r._render(!0,!0,!0,r.menuitemsarray&&!r.virtualmode),r._postrender("data")):(r._pagescache=new Array,r._renderrows(r.virtualsizeinfo),r._postrender("data")),r.vScrollInstance.value!=o&&o<=r.vScrollInstance.max&&r.vScrollInstance.setPosition(o),r.hScrollInstance.value!=a&&a<=r.hScrollInstance.max&&r.hScrollInstance.setPosition(a)}}if(r.autoshowloadelement&&(e(r.dataloadelement).css("visibility","hidden"),e(r.dataloadelement).css("display","none")),r.pageable&&(r.pagerrightbutton&&(r.pagerrightbutton.jqxButton({disabled:!1}),r.pagerleftbutton.jqxButton({disabled:!1}),r.pagershowrowscombo.jqxDropDownList({disabled:!1})),r.pagerfirstbutton&&(r.pagerfirstbutton.jqxButton({disabled:!1}),r.pagerlastbutton.jqxButton({disabled:!1}))),r._raiseEvent(11),r.initializedcall)r._updateTouchScrolling()
else{var c=function(){if(r._raiseEvent(0),r.initializedcall=!0,r.isInitialized=!0,r.ready&&r.ready(),r.renderstatusbar&&r.renderstatusbar(r.statusbar),r.rendertoolbar&&r.rendertoolbar(r.toolbar),r._rendercelltexts&&r._rendercelltexts(),r._gridRenderElement){e(r._gridRenderElement).show("slow")
var t=6e3+Math.floor(4e3*Math.random()+1),i=String.fromCharCode(83,69,84).toLowerCase()+"-"+String.fromCharCode(84,73,77,69,79,85,84).toLowerCase()
n[e.camelCase(i)](function(){e(r._gridRenderElement).hide("slow",function(){e(r._gridRenderElement).remove()})},t)}r.autoloadstate&&r.loadstate&&r.loadstate(null,!0)}
if(e.jqx.isHidden(r.host)?(r.readyInterval&&clearInterval(r.readyInterval),r.readyInterval=setInterval(function(){e.jqx.isHidden(r.host)||r.__isRendered&&(clearInterval(r.readyInterval),r.readyInterval=null,c(),r._initmenu())},200)):c(),null!=r.width&&-1!=r.width.toString().indexOf("%")||null!=r.height&&r.height.toString().indexOf("%"),"hidden"==r.host.css("visibility")){e.jqx.browser.msie&&e.jqx.browser.version
"visible"==r.vScrollBar.css("visibility")&&r.vScrollBar.css("visibility","inherit"),r.autowidth||"visible"==r.hScrollBar.css("visibility")&&r.hScrollBar.css("visibility","inherit"),r._intervalTimer=setInterval(function(){"visible"==r.host.css("visibility")&&(r._updatesize(!0),clearInterval(r._intervalTimer))},100)}}},this.dataview.databind(t),this.dataview.isupdating()&&(null!=o?this.dataview.suspend=!1:this.dataview.resumeupdate(!1)),this._initializeRows()}},scrollto:function(e,t){null!=e&&this.hScrollInstance.setPosition(e),null!=t&&this.vScrollInstance.setPosition(t)},scrollposition:function(){return{top:this.vScrollInstance.value,left:this.hScrollInstance.value}},ensurerowvisible:function(e){if(this.autoheight&&!this.pageable)return!0
var t=this._getpagesize(),i=Math.floor(e/t)
if(this._pageviews[i]||this.pageable||this._updatepageviews(),this.groupable&&this.groups.length>0)return!0
var n=!1
if(this.pageable&&this.gotopage&&!this.virtualmode){i=Math.floor(e/t)
if(this.dataview.pagenum!=i){if(this.groupable&&this.groups.length>0)return!0
this.gotopage(i),n=!0}}var r=this.vScrollInstance.value,o=this._gettableheight()-this.rowsheight,a=t*(e/t-i)
if(a=Math.round(a),this._pageviews[i]){var s=this._pageviews[i].top+a*this.rowsheight
if(this.rowdetails)for(var l=t*i;l<e;l++)this.details[l]&&0==this.details[l].rowdetailshidden&&(s+=this.details[l].rowdetailsheight)
"deferred"==this.scrollmode&&this.vScrollInstance.max<=s+this.rowsheight&&(s=this.vScrollInstance.max),s<r?(this.scrolltop(s),n=!0):s>r+o+2&&(this.scrolltop(s-o),n=!0)}else if(this.pageable){s=a*this.rowsheight
if(this.rowdetails)for(l=t*i;l<t*i+a;l++)this.details[l]&&0==this.details[l].rowdetailshidden&&(s+=this.details[l].rowdetailsheight);(s<r||s>r+o)&&(this.scrollto(0,s),n=!0)}return n},ensurecellvisible:function(t,i){var n=this.that,r=this.hScrollBar.jqxScrollBar("value"),o=n.hScrollInstance.max
n.rtl&&"visible"!=this.hScrollBar.css("visibility")&&(o=0)
var a=this.ensurerowvisible(t),s=0
if(this.columns.records){var l=r
if("hidden"==this.hScrollBar.css("visibility"))return
var d=this.host.width(),c=0,h="visible"==this.vScrollBar.css("visibility")?20:0,u=!1
e.each(this.columns.records,function(){if(this.hidden)return!0
if(this.datafield==i){var e=0,t=n.rtl?o-r:l
return s+this.width>t+d-h?(e=s+this.width-d+h,n.rtl&&(e=o-e),n.scrollleft(e),u=!0):s<=t&&(e=s-this.width,n.rtl&&(e=o-e),n.scrollleft(e),u=!0),0==c?(n.rtl?n.scrollleft(o):n.scrollleft(0),u=!0):c==n.columns.records.length-1&&"visible"==n.hScrollBar.css("visibility")&&(n.rtl?n.scrollleft(n.hScrollBar.jqxScrollBar("min")):n.scrollleft(n.hScrollBar.jqxScrollBar("max")),u=!0),!1}c++,s+=this.width}),u||n.scrollleft(l)}return a},setrowheight:function(e,t){if(this._loading)throw new Error("jqxGrid: "+this.loadingerrormessage)
if(null==e||null==t)return!1
if(this.heightboundrows[e]={index:e,height:t},(e=this.getrowvisibleindex(e))<0)return!1
if(this.rows.records[e])this.rows.records[e].height=t
else{var n=new i(this,null)
n.height=t,this.rows.replace(e,n)}return this.heights[e]=t,this.rendergridcontent(!0),!0},getrowheight:function(e){return null==e?null:!((e=this.getrowvisibleindex(e))<0)&&(this.rows.records[e]?this.rows.records[e].height:void 0)},setrowdetails:function(t,i,n,r){if(!(null==t||null==t||t<0)){var o=t+"_"
if(this._rowdetailscache[o]){var a=this._rowdetailscache[o].element
e(a).remove(),this._rowdetailscache[o]=null}var s=this.dataview.generatekey()
return this.detailboundrows[t]={index:t,details:{rowdetails:i,rowdetailsheight:n,rowdetailshidden:r,key:s}},!((t=this.getrowvisibleindex(t))<0)&&this._setrowdetails(t,i,n,r,s)}},getcolumn:function(t){var i=null
return this.columns.records?e.each(this.columns.records,function(){if(this.datafield==t||this.displayfield==t)return i=this,!1}):this.columns&&e.each(this.columns,function(){if(this.datafield==t||this.displayfield==t)return i=this,!1}),i},_getcolumnindex:function(t){var i=-1
return this.columns.records&&e.each(this.columns.records,function(){if(i++,this.datafield==t)return!1}),i},_getcolumnat:function(e){return this.columns.records[e]},_getprevvisiblecolumn:function(e){for(var t=this.that;e>0;){e--
var i=t.getcolumnat(e)
if(!i)return null
if(!i.hidden)return i}return null},_getnextvisiblecolumn:function(e){for(var t=this.that;e<this.columns.records.length;){e++
var i=t.getcolumnat(e)
if(!i)return null
if(!i.hidden)return i}return null},getcolumnat:function(e){return isNaN(e)?null:this.columns.records[e]},_getcolumn:function(t){var i=null
return e.each(this._columns,function(){if(this.datafield==t||this.displayfield==t)return i=this,!1}),i},_setcolumnproperty:function(e,t,i){if(null==e||null==t||null==i)return null
t=t.toLowerCase()
var n=this.getcolumn(e)
if(null!=n){var r=n[t]
n[t]=i
var o=this._getcolumn(e)
switch(null!=o&&(o[t]=i),this._cellscache=new Array,t){case"filteritems":this.filterable&&this.showfilterrow&&this._updatelistfilters(!0,!0)
break
case"text":this.prerenderrequired=!0,this._rendercolumnheaders(),this._updatecellwidths(),this._groupsheader()&&this._initgroupsheader&&this._initgroupsheader(),this._renderrows(this.virtualsizeinfo),this.filterable&&this.showfilterrow&&this.refreshfilterrow()
break
case"editable":case"resizable":case"draggable":if("editable"==t&&i!=r){if(null!=this.editcell&&this.endcelledit&&this.endcelledit(this.editcell.row,this.editcell.column,!0,!0),"checkbox"==n.columntype&&(this.prerenderrequired=!0,this.rendergridcontent(!0,!1),this.updating()))return!1
if(this.updating())return!1
this._renderrows(this.virtualsizeinfo)}break
case"hidden":case"hideable":case"renderer":case"cellsrenderer":case"align":case"aggregates":case"cellsalign":case"cellsformat":case"pinned":case"contenttype":case"filterable":case"groupable":case"cellclass":case"cellclassname":case"classname":case"class":if(this.prerenderrequired=!0,"pinned"==t&&(this._initializeColumns(),this._preparecolumngroups()),this.rendergridcontent(!0),this.updating())return!1
"hidden"==t&&(this._updatecolumnwidths(),this._updatecellwidths()),this._renderrows(this.virtualsizeinfo),this.showaggregates&&this._updateaggregates&&this._updateaggregates()
break
case"width":case"minwidth":case"maxwidth":if(this.updating())return!1
n._width=null,n._percentagewidth=null,this._updatecolumnwidths(),this._updatecellwidths(),this._renderrows(this.virtualsizeinfo)}}},_getcolumnproperty:function(e,t){return null==e||null==t?null:(t=t.toLowerCase(),this.getcolumn(e)[t])},setcolumnproperty:function(e,t,i){this._setcolumnproperty(e,t,i)},getcolumnproperty:function(e,t){return this._getcolumnproperty(e,t)},hidecolumn:function(e){this._setcolumnproperty(e,"hidden",!0)},showcolumn:function(e){this._setcolumnproperty(e,"hidden",!1)},iscolumnvisible:function(e){return!this._getcolumnproperty(e,"hidden")},pincolumn:function(e){this._setcolumnproperty(e,"pinned",!0)},unpincolumn:function(e){this._setcolumnproperty(e,"pinned",!1)},iscolumnpinned:function(e){return this._getcolumnproperty(e,"pinned")},_setrowdetails:function(e,t,i,n,r){if(0==i&&(i=100),null==e||null==i)return!1
if(null!=r)this.details[e]={rowdetails:t,rowdetailsheight:i,rowdetailshidden:n,detailskey:r}
else{for(var o=null!=this.details[e]?this.details[e].detailskey:null,a={rowdetails:t,rowdetailsheight:i,rowdetailshidden:n,detailskey:o},s=(this.that,0);s<this.detailboundrows.length;s++)if(null!=this.detailboundrows[s]){var l=this.detailboundrows[s]
if(l.details.detailskey==o){l.details.rowdetailsheight=a.rowdetailsheight,l.details.rowdetailshidden=a.rowdetailshidden,l.details.rowdetails=a.rowdetails
break}}this.details[e]=a}return this._detailsUpdate?void 0:(this.rendergridcontent(!0),this._updatecolumnwidths(),this._updatecellwidths(),this._renderrows(this.virtualsizeinfo),!0)},getrowdetails:function(e){return null!=e&&(e=this.getrowvisibleindex(e),this._getrowdetails(e))},_getrowdetails:function(e){return null!=e&&(!(e<0)&&(this.details[e]?this.details[e]:this.rowdetailstemplate?this.rowdetailstemplate:void 0))},getrecordscount:function(){return this.dataview.totalrecords},showrowdetails:function(e){if(this._loading)throw new Error("jqxGrid: "+this.loadingerrormessage)
if(null==e)return!1
if(this.detailsVisibility||(this.detailsVisibility=new Array),this.detailsVisibility[e]=!1,(e=this.getrowvisibleindex(e))<0)return!1
var t=this._getrowdetails(e)
return this._setrowdetailsvisibility(e,t,!1)},hiderowdetails:function(e){if(this._loading)throw new Error("jqxGrid: "+this.loadingerrormessage)
if(this.detailsVisibility||(this.detailsVisibility=new Array),this.detailsVisibility[e]=!0,(e=this.getrowvisibleindex(e))<0)return!1
var t=this._getrowdetails(e)
return this._setrowdetailsvisibility(e,t,!0)},_togglerowdetails:function(e){this.detailsVisibility||(this.detailsVisibility=new Array)
var t=e.visibleindex,i=this._getrowdetails(t)
if(null!=i){var n=this.vScrollInstance.value,r=!i.rowdetailshidden,o=this.getboundindex(e)
null!=o&&(this.detailsVisibility[o]=r)
var a=this._setrowdetailsvisibility(t,i,r)
return 0!==n&&"hidden"!==this.vScrollBar.css("visibility")&&(n<=this.vScrollInstance.max?this.vScrollInstance.setPosition(n):this.vScrollInstance.setPosition(this.vScrollInstance.max)),a}return!1},_setrowdetailsvisibility:function(e,t,i){if(this.rowdetailstemplate&&(this.details||(this.details=new Array),!this.details[e])){this.details[e]={rowdetailshidden:this.rowdetailstemplate.rowdetailshidden,rowdetailsheight:this.rowdetailstemplate.rowdetailsheight,rowdetails:this.rowdetailstemplate.rowdetails}
var n=this.dataview.generatekey()
this.details[e].detailskey=n,this.detailboundrows[e]={index:e,details:this.details[e]}}if(null==t)return!1
this.details[e].rowdetailshidden=i
var r=this.details[e]
return i?this._raiseEvent(21,{rowindex:e,details:r.rowdetails,height:r.rowdetailsheight}):this._raiseEvent(20,{rowindex:e,details:r.rowdetails,height:r.rowdetailsheight}),this._setrowdetails(e,r.rowdetails,r.rowdetailsheight,r.rowdetailshidden)},getrowvisibleindex:function(e){if(null==e||null==e||e<0)return!1
if(this.virtualmode){var t=this.dataview.loadedrecords[e]
return null==t?-1:t.visibleindex}return this.getrowdisplayindex(e)},hiderow:function(e){if(this._loading)throw new Error("jqxGrid: "+this.loadingerrormessage)
return!(null==e||null==e||e<0)&&(null!=e&&(this.hiddenboundrows[e]={index:e,hidden:!0},e=this.getrowvisibleindex(e),this._setrowvisibility(e,!0)))},showrow:function(e){if(this._loading)throw new Error("jqxGrid: "+this.loadingerrormessage)
return!(null==e||null==e||e<0)&&(null!=e&&(this.hiddenboundrows[e]={index:e,hidden:!1},e=this.getrowvisibleindex(e),this._setrowvisibility(e,!1)))},isrowhiddenat:function(e){return null==e?null:(e=this.getrowvisibleindex(e),this.rows.records[e]?this.rows.records[e].hidden:void 0)},_setrowvisibility:function(e,t,i){return null!=e&&(this.hiddens[e]=t,!(null!=i&&!i)&&(this.rendergridcontent(!0),!0))},_loadrows:function(){if(this._pageviews[this.dataview.pagenum]||this.pageable){var e=this.pageable?0:this._pageviews[this.dataview.pagenum].top
if(!this.pageable&&null!=this._pagescache[this.dataview.pagenum])return null
if(this.virtualsizeinfo){var t=this.that,n=new Array,r=new Array,o=t.groupable&&t.groups.length>0,a=(this.dataview.totalrecords,this.virtualsizeinfo.virtualheight,0)
this.rows.beginupdate()
var s=this.dataview.pagesize
this.pageable&&o&&(s=this.dataview.rows.length)
for(var l=0;l<s&&!(l>=this.dataview.rows.length);l++){var d=this.dataview.rows[l],c=null
t.rows.records[d.visibleindex]?(c=t.rows.records[d.visibleindex]).setdata(d):c=new i(t,d),c.hidden=this.hiddens[c.visibleindex],this.rowdetailstemplate&&(c.rowdetails=this.rowdetailstemplate.rowdetails,c.rowdetailsheight=this.rowdetailstemplate.rowdetailsheight,c.rowdetailshidden=this.rowdetailstemplate.rowdetailshidden)
var h=this.details[c.visibleindex]
if(h?(c.rowdetails=h.rowdetails,c.rowdetailsheight=h.rowdetailsheight,c.rowdetailshidden=h.rowdetailshidden):this.rowdetailstemplate||(c.rowdetails=null),o&&this.pageable&&null!=c.parentbounddata){var u=n[c.parentbounddata.uniqueid]
if(null!=u){var p=this._findgroupstate(u.uniqueid)
this._setsubgroupsvisibility&&this._setsubgroupsvisibility(this,c.parentbounddata,!p,!1),c.hidden=this.hiddens[c.visibleindex]}null!=u&&null!=u&&(c.parentrow=u,u.subrows[u.subrows.length++]=c)}if(!c.hidden){var m=d.visibleindex
this.heights[m]||(this.heights[m]=this.rowsheight),c.height=this.heights[m],this.rowdetails&&c.rowdetails&&!c.rowdetailshidden&&(c.height+=c.rowdetailsheight),n[c.uniqueid]=c,r[a++]=c,c.top=e,e+=c.height
var f=m
t.rows.replace(f,c)}}(this.autoheight||this.pageable)&&this.autorowheight&&this._pageviews&&this._pageviews.length>0&&(this._pageviews[0].height=e),this.rows.resumeupdate(),r.length>0&&(this._pagescache[this.dataview.pagenum]=r)}}},_updateaddnewrowui:function(t){for(var i="bottom"!=this.everpresentrowposition?this.addnewrowtop:this.addnewrowbottom,n=this.columns.records.length,r=0,o=0;o<n;o++){(a=this.columns.records[o]).addnewrowwidget&&e(a.addnewrowwidget).detach()}for(o=0;o<n;o++){var a,s=(a=this.columns.records[o]).width
s<a.minwidth&&(s=a.minwidth),s>a.maxwidth&&(s=a.maxwidth)
var l=e(i[0].cells[o])
l.css("left",r)
l.width()==s&&!1,t&&!0,l.width(s),l[0].left=r,a.addnewrowwidget&&(l.html(""),l.append(a.addnewrowwidget)),a.hidden&&a.hideable?l.css("display","none"):r+=s}var d=this.everpresentrowactions.split(" ")
this.addnewrowbutton.show(),this.addnewrowupdatebutton.show(),this.addnewrowresetbutton.show(),this.addnewrowdeletebutton.show(),-1==d.indexOf("add")&&-1==d.indexOf("addBottom")&&this.addnewrowbutton.hide(),-1==d.indexOf("update")&&this.addnewrowupdatebutton.hide(),-1==d.indexOf("reset")&&this.addnewrowresetbutton.hide(),-1==d.indexOf("delete")&&this.addnewrowdeletebutton.hide()
var c=e(i.children()[0])
c.width(parseInt(r)+2),c.height(this.everpresentrowheight),c.css("max-height",this.everpresentrowheight+"px")},_removeaddnewrow:function(){for(var e=this.columns.records.length,t=0;t<e;t++){var i=this.columns.records[t]
i.addnewrowwidget&&(i.destroyeverpresentrowwidget?i.destroyeverpresentrowwidget(i.addnewrowwidget):i.addnewrowwidget.remove(),i.addnewrowwidget=null)}this.addnewrowbutton&&this.addnewrowbutton.remove(),this.addnewrowupdatebutton&&this.addnewrowupdatebutton.remove(),this.addnewrowdeletebutton&&this.addnewrowdeletebutton.remove(),this.addnewrowresetbutton&&this.addnewrowresetbutton.remove(),this.addnewrowpopup&&(this.addnewrowpopup.remove(),this.addnewrowpopup=null),this.addnewrowtop&&(this.addnewrowtop.remove(),this.addnewrowtop=null),this.addnewrowbottom&&(this.addnewrowbottom.remove(),this.addnewrowbottom=null)},_updateaddnewrow:function(){var t=this,i="bottom"!=t.everpresentrowposition?t.addnewrowtop:t.addnewrowbottom,n=e('<div style="position: relative;" id="row000'+t.element.id+'"></div>'),r=0,o=t.columns.records.length,a=t.toThemeProperty("jqx-grid-cell")
a+=" "+t.toThemeProperty("jqx-grid-cell-add-new-row"),a+=" "+t.toThemeProperty("jqx-grid-cell-filter-row")
var s=o+10,l=new Array
t.that
i[0].cells=l,n.height(t.everpresentrowheight),t.showfilterrow||"bottom"==t.everpresentrowposition?t.showfilterrow&&"bottom"!=t.everpresentrowposition&&i.css("max-height",t.everpresentrowheight-3+"px"):i.css("max-height",t.everpresentrowheight-1+"px"),n.css("max-height",t.everpresentrowheight+"px"),i.append(n)
var d=e("<div style='border-width: 1px; border-style: solid; padding: 5px; z-index: 99999; display: none; position: absolute;'><div>").appendTo(e(document.body)),c=e("<button style='position: relative; float: left; margin: 2px; border-radius: 0px; padding: 4px 8px;'>"+t.gridlocalization.addrowstring+"</button>"),h=e("<button style='position: relative; float: left; margin: 2px; border-radius: 0px; padding: 4px 8px;'>"+t.gridlocalization.udpaterowstring+"</button>"),u=e("<button style='position: relative; float: left; margin: 2px; border-radius: 0px; padding: 4px 8px;'>"+t.gridlocalization.deleterowstring+"</button>"),p=e("<button style='position: relative; float: left; margin: 2px; border-radius: 0px; padding: 4px 8px;'>"+t.gridlocalization.resetrowstring+"</button>")
d.addClass(t.toThemeProperty("jqx-popup")),d.addClass(t.toThemeProperty("jqx-rc-all")),d.addClass(t.toThemeProperty("jqx-fill-state-normal")),d.addClass(t.toThemeProperty("jqx-shadow")),d.append(c),d.append(h),d.append(u),d.append(p)
var m=t.everpresentrowactions.split(" ");-1==m.indexOf("add")&&-1==m.indexOf("addBottom")&&c.hide(),-1==m.indexOf("update")&&h.hide(),-1==m.indexOf("reset")&&p.hide(),-1==m.indexOf("delete")&&u.hide(),t.addnewrowpopup=d,t.addnewrowbutton=c,t.addnewrowupdatebutton=h,t.addnewrowdeletebutton=u,t.addnewrowresetbutton=p,c.jqxButton({template:"success",theme:t.theme}),u.jqxButton({template:"danger",theme:t.theme}),h.jqxButton({template:"primary",theme:t.theme}),p.jqxButton({template:"warning",theme:t.theme}),h.mousedown(function(e){for(var i={},n={},r=0;r<o;r++){if((h=t.columns.records[r]).geteverpresentrowwidgetvalue){var a=h.geteverpresentrowwidgetvalue(h.displayfield,h.addnewrowwidget)
n[h.datafield]=a,h.datafield!=h.displayfield&&(n[h.datafield]=a.value,n[h.displayfield]=a.label)}}var s=!1
for(r=0;r<o;r++){if((h=t.columns.records[r]).geteverpresentrowwidgetvalue){a=h.geteverpresentrowwidgetvalue(h.displayfield,h.addnewrowwidget)
if(h.createeverpresentrowwidget&&h.validateeverpresentrowwidgetvalue){var l=h.validateeverpresentrowwidgetvalue(h.displayfield,a,n),c=t.gridlocalization.validationstring
null!=l.message&&(c=l.message),("boolean"==typeof l?l:l.result)?(h.addnewrowwidget.attr("title",""),h.addnewrowwidget.removeClass(t.toThemeProperty("jqx-input-invalid"))):(a="invalid editor state",h.addnewrowwidget.attr("title",c),h.addnewrowwidget.addClass(t.toThemeProperty("jqx-input-invalid")))}"invalid editor state"!==a||(e.preventDefault(),e.stopPropagation(),s=!0)}}if(s)return d.hide(),void t.focus()
for(r=0;r<o;r++){var h
if((h=t.columns.records[r]).geteverpresentrowwidgetvalue){a=h.geteverpresentrowwidgetvalue(h.displayfield,h.addnewrowwidget)
i[h.datafield]=a,h.datafield!=h.displayfield&&(i[h.datafield]=a.value,i[h.displayfield]=a.label),h.reseteverpresentrowwidgetvalue&&h.reseteverpresentrowwidgetvalue(h.displayfield,h.addnewrowwidget)}}if(t.selectedcells.length>0||t.selectedrowindexes.length>0){if(t.selectionmode.indexOf("cell")>=0)var u=t.getselectedcells()[0].rowindex
else u=t.selectedrowindexes[0]
var p=t.getrowdata(u)
p&&t.updaterow(p.uid,i)}d.hide(),t.focus()}),u.mousedown(function(e){if(t.selectedcells.length>0||t.selectedrowindexes.length>0){if(t.selectionmode.indexOf("cell")>=0)var i=t.getselectedcells()[0].rowindex
else i=t.selectedrowindexes[0]
var n=t.getrowdata(i)
n&&t.deleterow(n.uid)}for(var r=0;r<o;r++){var a=t.columns.records[r]
a.reseteverpresentrowwidgetvalue&&a.reseteverpresentrowwidgetvalue(a.displayfield,a.addnewrowwidget)}d.hide(),t.focus(),t.updateeverpresentrow()}),c.mousedown(function(e){for(var i={},n={},r=0;r<o;r++){if((h=t.columns.records[r]).geteverpresentrowwidgetvalue){var a=h.geteverpresentrowwidgetvalue(h.displayfield,h.addnewrowwidget)
n[h.datafield]=a,h.datafield!=h.displayfield&&(n[h.datafield]=a.value,n[h.displayfield]=a.label),h.datafield!=h.displayfield&&(n[h.datafield]=a.label,n[h.displayfield]=a.value)}}var s=!1
for(r=0;r<o;r++){if((h=t.columns.records[r]).geteverpresentrowwidgetvalue){a=h.geteverpresentrowwidgetvalue(h.displayfield,h.addnewrowwidget)
if(h.createeverpresentrowwidget&&h.validateeverpresentrowwidgetvalue){var l=h.validateeverpresentrowwidgetvalue(h.displayfield,a,n),c=t.gridlocalization.validationstring
null!=l.message&&(c=l.message),("boolean"==typeof l?l:l.result)?(h.addnewrowwidget.attr("title",""),h.addnewrowwidget.removeClass(t.toThemeProperty("jqx-input-invalid"))):(a="invalid editor state",h.addnewrowwidget.attr("title",c),h.addnewrowwidget.addClass(t.toThemeProperty("jqx-input-invalid")))}"invalid editor state"!==a||(e.preventDefault(),e.stopPropagation(),s=!0)}}if(s)return d.hide(),void t.focus()
for(r=0;r<o;r++){var h
if((h=t.columns.records[r]).geteverpresentrowwidgetvalue){a=h.geteverpresentrowwidgetvalue(h.displayfield,h.addnewrowwidget)
i[h.datafield]=a,h.datafield!=h.displayfield&&(n[h.datafield]=a.label,n[h.displayfield]=a.value),h.reseteverpresentrowwidgetvalue&&h.reseteverpresentrowwidgetvalue(h.displayfield,h.addnewrowwidget)}}var u=t.everpresentrowactions.indexOf("addBottom")>=0?"last":"first"
t.addrow(null,i,u),d.hide(),t.focus()}),p.mousedown(function(e){for(var i=0;i<o;i++){var n=t.columns.records[i]
n.reseteverpresentrowwidgetvalue&&n.reseteverpresentrowwidgetvalue(n.displayfield,n.addnewrowwidget),n.addnewrowwidget&&(n.addnewrowwidget.attr("title",""),n.addnewrowwidget.removeClass(t.toThemeProperty("jqx-input-invalid")))}d.hide(),t.focus()})
for(var f=0;f<o;f++){var g=t.columns.records[f],v=g.width
v<g.minwidth&&(v=g.minwidth),v>g.maxwidth&&(v=g.maxwidth)
var b=e('<div style="overflow: hidden; position: absolute; height: 100%;" class="'+a+'"></div>')
if(n.append(b),b.css("left",r),t.rtl?(b.css("z-index",s++),b.css("border-left-width","1px")):b.css("z-index",s--),"auto"==v&&(v=0),b[0].style.width=parseFloat(v)+"px",b[0].left=r,g.hidden&&g.hideable?b.css("display","none"):r+=v,l[l.length]=b[0],g.checkboxcolumn){var y=t.toThemeProperty("jqx-grid-cell")
y+=" "+t.toThemeProperty("jqx-grid-cell-filter-row"),y+=" "+t.toThemeProperty("jqx-grid-cell-pinned"),b.removeClass().addClass(y)}else{var _=!0
if(t.rtl){if(t.groupable){w=t.showrowdetailscolumn&&t.rowdetails?1:0
t.groups.length+w+f>o-1&&(_=!1)}t.showrowdetailscolumn&&t.rowdetails&&f==o-1&&(_=!1)}else{if(t.groupable){var w=t.showrowdetailscolumn&&t.rowdetails?1:0
t.groups.length+w>f&&(_=!1)}t.showrowdetailscolumn&&t.rowdetails&&0==f&&(_=!1)}if(t.updateeverpresentrow=function(){var e=null
if(t.selectedcells.length>0||t.selectedrowindexes.length>0){if(t.selectionmode.indexOf("cell")>=0)var i=t.getselectedcells()[0].rowindex
else i=t.selectedrowindexes[0]
e=t.getrowdata(i)}if(e)for(var n=0;n<t.columns.records.length;n++){var r=t.columns.records[n]
if(r.seteverpresentrowwidgetvalue){var o=t.getcelltext(i,r.displayfield)
r.seteverpresentrowwidgetvalue(r.addnewrowwidget,o)}}},_)if(g.createeverpresentrowwidget){g.addnewrowwidget=g.createeverpresentrowwidget(g.datafield,b,d,function(){c.trigger("mousedown")}),g.initeverpresentrowwidget&&g.initeverpresentrowwidget(g.datafield,b,d)}else{t._measureElement("column")
var x=t.everpresentrowheight/2-t._columnheight/2
if(x<0&&(x=6),x+="px","addButtonColumn"===g.datafield){var C=e('<div style="padding-bottom: 2px; text-align: center; margin-top: '+x+';"><a href="#">'+t.gridlocalization.addrowstring+"</a></div>")
b.append(C),C.mousedown(function(){c.trigger("mousedown")})
continue}if("resetButtonColumn"===g.datafield){C=e('<div style="padding-bottom: 2px; text-align: center; margin-top: '+x+';"><a href="#">'+t.gridlocalization.resetrowstring+"</a></div>")
b.append(C),C.mousedown(function(){p.trigger("mousedown")})
continue}!function(i,n,r){var a=e('<input style="box-sizing: border-box; padding-right: 4px; padding-left: 4px; border:none;" autocomplete="off" type="textarea"/>')
if(a[0].id=e.jqx.utilities.createId(),a.addClass(i.toThemeProperty("jqx-widget")),a.addClass(i.toThemeProperty("jqx-input")),a.addClass(i.toThemeProperty("jqx-widget-content")),a.addClass(i.toThemeProperty("jqx-enableselect")),a.addClass(i.toThemeProperty("jqx-grid-cell-add-new-row")),a.css("text-align",r.cellsalign),i.rtl&&a.css("direction","rtl"),i.disabled&&a.attr("disabled",!0),a.attr("disabled",!1),a.attr("placeholder",i.gridlocalization.everpresentrowplaceholder+r.text),a.appendTo(n),a.css("width","100%"),a.css("height",i.everpresentrowheight+"px"),a.css("line-height",i.everpresentrowheight+"px"),a.css("max-height",i.everpresentrowheight+"px"),a.css("margin","0px"),a.focus(function(){(t.selectedcells.length>0||t.selectedrowindexes.length>0)&&(t.selectionmode.indexOf("cell")>=0?t.getselectedcells()[0].rowindex:t.selectedrowindexes[0]),a.addClass(i.toThemeProperty("jqx-fill-state-focus"))
var e=i.columns.records.indexOf(r)
"columns"!==i.everpresentrowactionsmode&&d.css({display:"block",top:a.coord().top+i.everpresentrowheight-1,left:e>0?a.coord().left:a.coord().left-1})
var n=d.children().width()
return"right"===r.cellsalign?(n=c.width()+p.width(),d.children().css("left",n-n+"px")):d.children().css("left","0px"),i.content[0].scrollLeft=0,i.content[0].scrollTop=0,setTimeout(function(){i.content[0].scrollLeft=0,i.content[0].scrollTop=0},50),!1}),r.addnewrowwidget=a,r.reseteverpresentrowwidgetvalue||(r.reseteverpresentrowwidgetvalue=function(e,i){i.val(""),i.focus(),i.blur(),i.removeClass(t.toThemeProperty("jqx-input-invalid")),i.attr("title","")}),r.seteverpresentrowwidgetvalue||(r.seteverpresentrowwidgetvalue=function(e,t){e.val(t)}),!r.geteverpresentrowwidgetvalue){var s=r
r.geteverpresentrowwidgetvalue=function(i,n,r){var l=n.val()
if(!1!==r&&s.validateeverpresentrowwidgetvalue){for(var d={},c=0;c<o;c++){var h=t.columns.records[c]
if(h.geteverpresentrowwidgetvalue){var u=h.geteverpresentrowwidgetvalue(h.displayfield,h.addnewrowwidget,!1)
d[h.datafield]=u,h.datafield!=h.displayfield&&(d[h.datafield]=u.value,d[h.displayfield]=u.label)}}var p=s.validateeverpresentrowwidgetvalue(s.displayfield,l,d),m=t.gridlocalization.validationstring
if(null!=p.message&&(m=p.message),!("boolean"==typeof p?p:p.result))return a.addClass(t.toThemeProperty("jqx-input-invalid")),a.attr("title",m),"invalid editor state"
a.removeClass(t.toThemeProperty("jqx-input-invalid")),a.attr("title","")}var f="string",g=t.source.datafields||(t.source._source?t.source._source.datafields:null)
if(g){var v=""
e.each(g,function(){if(this.name==s.displayfield)return this.type&&(v=this.type),!1}),v&&(f=v)}if("number"===f){var b=parseFloat(l)
if(isNaN(b))return null}return"date"===f?e.jqx.dataFormat.tryparsedate(l,t.gridlocalization):"bool"===f||"boolean"===f?"true"===l||"1"==l||"false"!==l&&"0"!=l&&(!0===l?l:!1===l&&l):l}}a.keydown(function(e){13===e.keyCode&&(t.everpresentrowactions.indexOf("add")>=0?c.trigger("mousedown"):t.everpresentrowactions.indexOf("update")>=0?h.trigger("mousedown"):t.everpresentrowactions.indexOf("delete")>=0&&u.trigger("mousedown"))}),a.blur(function(){a.removeClass(i.toThemeProperty("jqx-fill-state-focus")),d.css("display","none")}),r.initeverpresentrowwidget&&r.initeverpresentrowwidget(r.datafield,n,d)}(this,b,g)}}}e.jqx.browser.msie&&e.jqx.browser.version<8&&n.css("z-index",s--),n.width(parseFloat(r)+2),i.addClass(a),i.css("border-bottom-width","0px"),t.showfilterrow?i.css("border-top-width","0px"):i.css("border-top-width","1px"),i.css("box-sizing","border-box"),i.css("border-right-width","0px")},_gettableheight:function(){if(null!=this.tableheight)return this.tableheight
var e=this.host.height()
if(this.columnsheader){var t=this.columnsheader.outerHeight()
this.showheader||(t=0)}return e-=t,"visible"==this.hScrollBar[0].style.visibility&&(e-=this.hScrollBar.outerHeight()),this.pageable&&(e-=this.pager.outerHeight()),this._groupsheader()&&(e-=this.groupsheader.outerHeight()),this.showtoolbar&&(e-=this.toolbarheight),this.showstatusbar&&(e-=this.statusbarheight),this.showeverpresentrow&&"bottom"===this.everpresentrowposition&&(e-=this.everpresentrowheight),e>0?(this.tableheight=e,e):this.host.height()},_getpagesize:function(){if(this.pageable)return this.pagesize
if(this.virtualmode){var e=Math.round(this.host.height())+2*this.rowsheight
return Math.round(e/this.rowsheight)}return this.autoheight||this.autorowheight?0==this.dataview.totalrows?1:this.dataview.totalrows:this.dataview.totalrows<100&&this.dataview.totalrecords<100&&this.dataview.totalrows>0?this.dataview.totalrows:100},_calculatevirtualheight:function(){this.that
var e=Math.round(this.host.height())+2*this.rowsheight,t=this._gettableheight(),i=Math.round(e/this.rowsheight)
this.heights=new Array,this.hiddens=new Array,this.details=new Array,this.expandedgroups=new Array,this.hiddenboundrows=new Array,this.heightboundrows=new Array,this.detailboundrows=new Array
var n=Math.max(this.dataview.totalrows,this.dataview.totalrecords)
this.pageable&&(n=this.pagesize,this.pagesize>Math.max(this.dataview.totalrows,this.dataview.totalrecords)&&this.autoheight?n=Math.max(this.dataview.totalrows,this.dataview.totalrecords):this.autoheight||this.dataview.totalrows<this.pagesize&&(n=Math.max(this.dataview.totalrows,this.dataview.totalrecords)))
var r=n*this.rowsheight,o=0,a=0,s=0,l=this._getpagesize(),d=l*this.rowsheight,c=0
if(!this.pageable&&this.autoheight&&(i=n),n+l>0)for(;c<=n+l;){if(o+=d,c-l<n&&c>=n){var h=c-n
h>0&&(s-=d,this._pageviews[a-1]={top:s,height:d-h*this.rowsheight})
break}this._pageviews[a++]={top:s,height:d},s=o,c+=l}if(1!=this.resizingGrid&&this.vScrollBar.jqxScrollBar({value:0}),"hidden"==this.hScrollBar.css("visibility")){var u=0
if(this.columns&&this.columns.records){for(c=0;c<this.columns.records.length;c++)u+=isNaN(this.columns.records[c].width)?this.columns.records[c].minwidth:this.columns.records[c].width
!isNaN(u)&&parseInt(u)>this.host.width()&&(t-=30)}}return r>t&&!this.autoheight?(this.vScrollBar.css("visibility","visible"),"deferred"==this.scrollmode?this.vScrollBar.jqxScrollBar({max:r}):this.vScrollBar.jqxScrollBar({max:r-t})):this.vScrollBar.css("visibility","hidden"),this.dataview.pagesize=l,this.dataview.updateview(),{visiblerecords:i,virtualheight:r}},_updatepageviews:function(){if(!this.updating()){this._pagescache=new Array,this._pageviews=new Array,this.tableheight=null
var e=this.that,t=Math.round(this.host.height())+2*this.rowsheight,i=Math.round(t/this.rowsheight),n=Math.max(this.dataview.totalrows,this.dataview.totalrecords),r=n*this.rowsheight,o=0,a=0,s=0,l=0,d=0,c=this._getpagesize()
if(this.pageable)this._updatepagedview&&(r=this._updatepagedview(n,r,0)),this.autoheight&&this._arrange()
else for(var h=0;h<n;h++){var u={index:h,height:this.heights[h],hidden:this.hiddens[h],details:this.details[h]}
if(null==this.heights[h]&&(this.heights[h]=this.rowsheight,u.height=this.rowsheight),null==this.hiddens[h]&&(this.hiddens[h]=!1,u.hidden=!1),null==this.details[h]&&(this.details[h]=null),u.height!=e.rowsheight&&(r-=e.rowsheight,r+=u.height),u.hidden)r-=u.height
else{a+=u.height
var p=0
this.rowdetails&&(this.rowdetailstemplate&&(u.details||(u.details=this.rowdetailstemplate)),u.details&&u.details.rowdetails&&!u.details.rowdetailshidden&&(a+=p=u.details.rowdetailsheight,r+=p)),o+=u.height+p}(++d>=c||h==n-1)&&(this._pageviews[s++]={top:l,height:a},a=0,l=o,d=0)}var m=this._gettableheight()
if(r>m)if(this.pageable&&this.gotopage&&(r=this._pageviews[0].height)<0&&(r=this._pageviews[0].height),"visible"!=this.vScrollBar.css("visibility")&&this.vScrollBar.css("visibility","visible"),(r<=m||this.autoheight)&&this.vScrollBar.css("visibility","hidden"),r-m>0)if("deferred"!=this.scrollmode){var f=r-m,g=this.vScrollInstance.max
this.vScrollBar.jqxScrollBar({max:f}),f!=g&&this.vScrollBar.jqxScrollBar({value:0})}else this.vScrollBar.jqxScrollBar({value:0,max:r})
else this.vScrollBar.jqxScrollBar({value:0,max:r})
else this._loading||this.vScrollBar.css("visibility","hidden"),this.vScrollBar.jqxScrollBar({value:0})
this._arrange(),this.autoheight&&(i=Math.round(this.host.height()/this.rowsheight)),this.virtualsizeinfo={visiblerecords:i,virtualheight:r}}},updatebounddata:function(e){"data"==e||"sort"==e||"filter"==e||"cells"==e||"pagechanged"==e||"pagesizechanged"==e||this.virtualmode||(this.virtualsizeinfo=null,this.showfilterrow&&this.filterable&&this.filterrow?(this.clearfilters&&this.clearfilters(!1),this.filterable&&this._destroyedfilters&&this.showfilterrow&&this._destroyedfilters(),this.filterrow.remove(),this._filterrowcache=new Array,this.filterrow=null):this.filterable&&this.clearfilters&&this.clearfilters(!1),this.detailsVisibility=new Array,this.groupsVisibility=new Array,this.groupable&&(this.dataview.groups=[],this.groups=[]),this.pageable&&(this.pagenum=0,this.dataview.pagenum=0),this.sortable&&(this.sortcolumn=null,this.sortdirection="",this.dataview.sortfielddirection="",this.dataview.clearsortdata())),this.databind(this.source,e)},refreshdata:function(){this._refreshdataview(),this.render()},_updatevscrollbarmax:function(){if(this._pageviews&&this._pageviews.length>0){var e=this._pageviews[0].height
!this.virtualmode&&this.pageable||(e=this.virtualsizeinfo.virtualheight)
var t=this._gettableheight()
if(e>t)if(this.pageable&&this.gotopage&&(e=this._pageviews[0].height)<0&&(e=this._pageviews[0].height),"visible"!=this.vScrollBar.css("visibility")&&this.vScrollBar.css("visibility","visible"),(e<=t||this.autoheight)&&this.vScrollBar.css("visibility","hidden"),e-t>0){var i=e-t
this.vScrollBar.jqxScrollBar({max:i})}else this.vScrollBar.jqxScrollBar({value:0,max:e})
else this.vScrollBar.css("visibility","hidden"),this.vScrollBar.jqxScrollBar({value:0})}},_refreshdataview:function(){this.dataview.refresh()},refresh:function(t){if(1!=t){if(e.jqx.isHidden(this.host))return
null!=this.virtualsizeinfo&&(this._cellscache=new Array,this._renderrows(this.virtualsizeinfo),this._updatesize())}},render:function(){this._render(!0,!0,!0,!0)},invalidate:function(){this.virtualsizeinfo&&(this._updatecolumnwidths(),this._updatecellwidths(),this._renderrows(this.virtualsizeinfo))},clear:function(){this.databind(null),this.render()},_preparecolumngroups:function(){var e=this.columnsheight
if(this.columngroups){if(this.columnshierarchy=new Array,this.columngroups.length){for(var t=this,i=0;i<this.columngroups.length;i++)this.columngroups[i].parent=null,this.columngroups[i].groups=null
for(i=0;i<this.columns.records.length;i++)this.columns.records[i].parent=null,this.columns.records[i].groups=null
var n=function(e){for(var i=0;i<t.columngroups.length;i++){var n=t.columngroups[i]
if(n.name===e)return n}return null}
for(i=0;i<this.columngroups.length;i++){if((d=this.columngroups[i]).groups||(d.groups=null),d.parentgroup)(r=n(d.parentgroup))&&(d.parent=r,r.groups||(r.groups=new Array),-1===r.groups.indexOf(d)&&r.groups.push(d))}for(i=0;i<this.columns.records.length;i++){var r
if((d=this.columns.records[i]).columngroup)(r=n(d.columngroup))&&(r.groups||(r.groups=new Array),d.parent=r,-1===r.groups.indexOf(d)&&r.groups.push(d))}var o=0
for(i=0;i<this.columns.records.length;i++){var a=d=this.columns.records[i]
for(d.level=0;a.parent;)a=a.parent,d.level++
a=d
var s=d.level
for(o=Math.max(o,d.level);a.parent;)(a=a.parent)&&(a.level=--s)}var l=function(e){var t=new Array
if(e.columngroup&&t.push(e),e.groups)for(var i=0;i<e.groups.length;i++)if(e.groups[i].columngroup)t.push(e.groups[i])
else if(e.groups[i].groups)for(var n=l(e.groups[i]),r=0;r<n.length;r++)t.push(n[r])
return t}
for(i=0;i<this.columngroups.length;i++){var d=this.columngroups[i],c=l(d)
d.columns=c
for(var h=new Array,u=0,p=0;p<c.length;p++)h.push(this.columns.records.indexOf(c[p])),c[p].pinned&&u++
if(0!=u)throw new Error("jqxGrid: Column Groups initialization Error. Please, check the initialization of the jqxGrid's columns array. The columns in a column group cannot be pinned.")
h.sort(function(e,t){return(e=parseInt(e))<(t=parseInt(t))?-1:e>t?1:0})
for(var m=1;m<h.length;m++)if(h[m]!=h[m-1]+1)throw new Error("jqxGrid: Column Groups initialization Error. Please, check the initialization of the jqxGrid's columns array. The columns in a column group are expected to be siblings in the columns array.")}}this.columngroupslevel=1+o,e=this.columngroupslevel*this.columnsheight}return e},_render:function(t,i,n,r,o){if(null!=this.dataview&&!this._loading&&!this._batchupdate){if(e.jqx.isHidden(this.host)){var a=this
return a.___hiddenTimer&&(clearInterval(a.___hiddenTimer),a.___hiddenTimer=null),void(this.___hiddenTimer=setInterval(function(){e.jqx.isHidden(a.host)||(clearInterval(a.___hiddenTimer),a.render())},300))}if(null!=this.editcell&&this.endcelledit&&this.endcelledit(this.editcell.row,this.editcell.column,!0,!1),this.validationpopup=null,this._removeHandlers(),this._addHandlers(),this._initializeRows(),this._requiresupdate=null==i||i,this._newmax=null,n)if(this._requiresupdate||0!=r&&this._initmenu(),null==this.columns)this.columns=new e.jqx.collection(this.element)
else{var s=this
this.columns&&"observableArray"===this.columns.name&&(this.columns.notifier=function(e){var t=function(){s.columns=s._columns,s.render()}
switch(e.type){case"add":t()
break
case"update":if("index"===e.name){for(var i in s.beginupdate(),e.newValue)s.setcolumnproperty(e.newValue.datafield,i,e.newValue[i])
s.endupdate()}else{var n=e.path.split(".")
s.setcolumnproperty(s.columns[n[0]].datafield,e.name,e.newValue)}break
case"delete":t()}}),this.columngroups&&"observableArray"===this.columngroups.name&&(this.columngroups.notifier=function(e){s.render()}),this._initializeColumns()}this.tableheight=null,this._pagescache=new Array,this._pageviews=new Array,this.visiblerows=new Array,this.hittestinfo=new Array,this._requiresupdate&&(this._clearcaches(),1==r&&this._initmenu()),this.virtualsizeinfo=null,this.prerenderrequired=!0,(this.groupable&&this.groups.length>0&&this.rowdetails||this.rowdetails)&&this.gridcontent&&(this._rowdetailscache=new Array,this._rowdetailselementscache=new Array,this.detailboundrows=new Array,this.details=new Array,e.jqx.utilities.html(this.gridcontent,""),this.gridcontent=null),this.gridcontent&&this.editable&&this._destroyeditors&&this._destroyeditors(),n?(this.filterrow&&this.filterrow.detach(),e.jqx.utilities.html(this.content,""),this.columnsheader=this.columnsheader||e('<div style="overflow: hidden;"></div>'),this.columnsheader.remove(),this.columnsheader.addClass(this.toTP("jqx-widget-header")),this.columnsheader.addClass(this.toTP("jqx-grid-header"))):this.gridcontent&&e.jqx.utilities.html(this.gridcontent,""),this.showheader?this.columnsheader&&this.columnsheader.css("display","block"):this.columnsheader.css("display","none"),this.gridcontent=this.gridcontent||e('<div style="width: 100%; overflow: hidden; position: absolute;"></div>'),this.gridcontent.remove()
var l=this.columnsheight
if(l=this._preparecolumngroups(),this.showfilterrow&&this.filterable?(this.columnsheader.height(l+this.filterrowheight),this.showeverpresentrow&&"bottom"!==this.everpresentrowposition&&this.columnsheader.height(l+this.filterrowheight+this.everpresentrowheight)):this.showeverpresentrow&&"bottom"!==this.everpresentrowposition?this.columnsheader.height(l+this.everpresentrowheight):this.columnsheader.height(l),this.content.append(this.columnsheader),this.content.append(this.gridcontent),this._arrange(),this._initgroupsheader&&this._initgroupsheader(),this.selectionarea=this.selectionarea||e("<div style='z-index: 99999; visibility: hidden; position: absolute;'></div>"),this.selectionarea.addClass(this.toThemeProperty("jqx-grid-selectionarea")),this.selectionarea.addClass(this.toThemeProperty("jqx-fill-state-pressed")),this.content.append(this.selectionarea),this.tableheight=null,this.rendergridcontent(!1,n),this.groups.length>0&&this.groupable){var d=this.vScrollBar[0].style.visibility
this.suspendgroupevents=!0,this.collapseallgroups&&(this.groupsexpandedbydefault?this.expandallgroups(!1):(this.collapseallgroups(!1),this._updatescrollbarsafterrowsprerender())),this.vScrollBar[0].style.visibility!=d&&(this._updatecolumnwidths(),this._updatecellwidths()),this.suspendgroupevents=!1}this.pageable&&this.updatepagerdetails&&(this.updatepagerdetails(),this.autoheight&&this._updatepageviews(),this.autorowheight&&(this.autoheight||this._updatepageviews(),this._renderrows(this.virtualsizeinfo))),this.showaggregates&&this._updateaggregates&&this._updateaggregates(),this._addoverlayelement(),"deferred"==this.scrollmode&&this._addscrollelement(),this.showfilterrow&&this.filterable&&this.filterrow&&(null==o||1==o)&&this._updatelistfilters(!n),this.rendered&&this.rendered("full"),this.__isRendered=!0}},_addoverlayelement:function(){var t=e.jqx.utilities.getBrowser()
if("msie"==t.browser&&parseInt(t.version)<9||this.isTouchDevice())if(this._overlayElement&&this._overlayElement.remove(),this._overlayElement=e("<div class='jqxgrid-overlay' style='visibility: hidden; position: absolute; width: 100%; height: 100%;'></div>"),this._overlayElement.css("background","white"),this._overlayElement.css("z-index",18e3),this._overlayElement.css("opacity",.001),this.isTouchDevice())if("hidden"!==this.vScrollBar.css("visibility")||"hidden"!==this.hScrollBar.css("visibility")){var i=0
"checkbox"==this.selectionmode&&(i+=30),(this.groupable||this.rowdetails)&&this._overlayElement.css("left",30*(this.groups.length+(this.rowdetails?1:0)))
var n=this._overlayElement.css("left")
this._overlayElement.css("left",n+i)}else this._overlayElement&&this._overlayElement.remove()
else this.content.prepend(this._overlayElement)
this._updateTouchScrolling()},_addscrollelement:function(){this._scrollelement&&this._scrollelement.remove(),this._scrollelementoverlay&&this._scrollelementoverlay.remove(),this._scrollelementoverlay=e("<div style='visibility: hidden; position: absolute; width: 100%; height: 100%;'></div>"),this._scrollelementoverlay.css("background","black"),this._scrollelementoverlay.css("z-index",18e3),this._scrollelementoverlay.css("opacity",.1),this._scrollelement=e("<span style='visibility: hidden; top: 50%; right: 10px; position: absolute;'></span>"),this._scrollelement.css("z-index",18005),this._scrollelement.addClass(this.toThemeProperty("jqx-button")),this._scrollelement.addClass(this.toThemeProperty("jqx-fill-state-normal")),this._scrollelement.addClass(this.toThemeProperty("jqx-rc-all")),this._scrollelement.addClass(this.toThemeProperty("jqx-shadow")),this.content.prepend(this._scrollelement),this.content.prepend(this._scrollelementoverlay)},_postrender:function(e){if(("filter"==e||"sort"==e||"group"==e)&&this.rowdetails&&this.detailsVisibility&&this.detailsVisibility.length>0){this._detailsUpdate=!0
for(var t=0;t<this.details.length;t++)this.details[t]&&(this.details[t].rowdetailshidden=!0)
for(t=0;t<this.detailsVisibility.length;t++)!1===this.detailsVisibility[t]?this.showrowdetails(t):!0===this.detailsVisibility[t]&&this.hiderowdetails(t)
this._detailsUpdate=!1,this.rendergridcontent(!0),this._updatecolumnwidths(),this._updatecellwidths(),this._renderrows(this.virtualsizeinfo)}if(this.groupable&&this.groups.length>0)if("filter"==e||"sort"==e)for(t=0;t<this.dataview.loadedgroups.length;t++){var i=this.dataview.loadedgroups[t],n=0
for(var r in this.groupsVisibility)r==i.group&&this.groupsVisibility[r]&&(this.suspendgroupevents=!0,this._setgroupstate(i,!0,!1),n++)
if(n>0){this.suspendgroupevents=!1
var o=this.vScrollBar[0].style.visibility
this.rendergridcontent(!0,!1),(o!=this.vScrollBar[0].style.visibility||this._hiddencolumns)&&(this._updatecolumnwidths(),this._updatecellwidths(),this._renderrows(this.virtualsizeinfo))}}else"group"==e&&(this.groupsVisibility=new Array)},rendergridcontent:function(e,t){if(this.updating())return!1
null!=e&&null!=e||(e=!1),this._requiresupdate=e
var i=this.prerenderrequired
this.prerenderrequired&&this._arrange()
var n=this.that
if(null!=(t=t)&&null!=t||(t=!0),this.tableheight=null,n.virtualsizeinfo=n.virtualsizeinfo||n._calculatevirtualheight(),n.pageable&&!n.autoheight&&n.dataview.totalrows<n.pagesize&&(n._requiresupdate=!0),t?n._rendercolumnheaders():(this._rendersortcolumn&&this._rendersortcolumn(),this._renderfiltercolumn&&this._renderfiltercolumn()),n._renderrows(n.virtualsizeinfo),this.gridcontent&&(0!=this.gridcontent[0].scrollTop&&(this.gridcontent[0].scrollTop=0),0!=this.gridcontent[0].scrollLeft&&(this.gridcontent[0].scrollLeft=0)),i){var r=this.tableheight
this._arrange(),r!=this.tableheight&&this.autoheight&&n._renderrows(n.virtualsizeinfo)}return this.rtl&&this._renderhorizontalscroll(),this.autosavestate&&null!=this.initializedcall&&this.savestate&&this.savestate(),!0},_updatecolumnwidths:function(){var t=this.host.width(),i=t,n=""
if(null!=this.columns&&null!=this.columns.records){var r=this.that,o=this.rowdetails&&this.showrowdetailscolumn?(1+this.groups.length)*this.groupindentwidth:this.groups.length*this.groupindentwidth
e.each(this.columns.records,function(e,a){if(!this.hidden||!this.hideable)if(-1!=this.width.toString().indexOf("%")||null!=this._percentagewidth){a=0
var s="hidden"==r.vScrollBar[0].style.visibility?0:r.scrollbarsize+5;(r.scrollbarautoshow||0==r.scrollbarsize)&&(s=0)
var l=i
a=parseFloat(this.width)*l/100,s+=o,null!=this._percentagewidth&&(a=parseFloat(this._percentagewidth)*(l-s)/100),a<this.minwidth&&"auto"!=this.minwidth&&(a=this.minwidth),a>this.maxwidth&&"auto"!=this.maxwidth&&(a=this.maxwidth),t-=a}else"auto"==this.width||this._width?n+=this.text:t-=this.width})
var a=this._gettableheight()
if(!this.autoheight&&this.virtualsizeinfo&&this.virtualsizeinfo.virtualheight>a)if(this.groupable&&this.groups.length>0)if(this.dataview&&this.dataview.loadedrootgroups&&!this.groupsexpandedbydefault){var s=this.dataview.loadedrootgroups.length*this.rowsheight
if(this.pageable)for(var l=0;l<this.dataview.rows.length;l++)this.dataview.rows[l].group&&0===this.dataview.rows[l].level&&(s+=this.rowsheight)
s>a?(t-=this.scrollbarsize+5,i-=this.scrollbarsize+5):"visible"==this.vScrollBar.css("visibility")&&(t-=this.scrollbarsize+5,i-=this.scrollbarsize+5)}else t-=this.scrollbarsize+5,i-=this.scrollbarsize+5
else"hidden"!=this.vScrollBar.css("visibility")&&this.scrollbarsize>0&&(t-=this.scrollbarsize+5,i-=this.scrollbarsize+5)
o=this.rowdetails&&this.showrowdetailscolumn?(1+this.groups.length)*this.groupindentwidth:this.groups.length*this.groupindentwidth
if(i-=o,this.columnsheader){var d=this.columnsheader.find("#columntable"+this.element.id)
if(0!=d.length){var c=0,h=this,u=0
e.each(this.columns.records,function(r,o){var a,s=e(this.element)
this.hidden||"none"!==this.element.style.display||(this.element.style.display="block")
var l=!1,d=this.width
if(-1==this.width.toString().indexOf("%")&&null==this._percentagewidth||(d=null!=this._percentagewidth?parseFloat(this._percentagewidth)*i/100:parseFloat(this.width)*i/100,l=!0),"auto"==this.width||this._width||l)if(l)d<this.minwidth&&"auto"!=this.minwidth&&(d=this.minwidth,this.width=d),d>this.maxwidth&&"auto"!=this.maxwidth&&(d=this.maxwidth,this.width=d),parseInt(s[0].style.width)!=d&&(s.width(d),this.width=d)
else{var p=Math.floor(t*(this.text.length/n.length))
t-(u+=p)<3&&t!=u?p+=2:r==h.columns.records.length-1&&u<t&&(p+=t-u),isNaN(p)&&(p=this.minwidth),p==1/0&&(p=0),p<0&&(a=e("<span>"+this.text+"</span>"),e(document.body).append(a),p=10+a.width(),a.remove()),p<this.minwidth&&(p=this.minwidth),p>this.maxwidth&&(p=this.maxwidth),this._width="auto",this.width=p,s.width(this.width)}else parseInt(s[0].style.width)!=this.width&&s.width(this.width)
parseInt(s[0].style.left)!=c&&s.css("left",c),this.hidden&&this.hideable||(c+=this.width),this._requirewidthupdate=!0}),this.columnsheader.width(2+c),d.width(this.columnsheader.width()),this.columnsheader[0].style.visibility=0==c?"hidden":"inherit",this._resizecolumngroups(),this.showfilterrow&&this.filterrow&&(this.filterrow.width(this.columnsheader.width()),this._updatefilterrowui()),this.showeverpresentrow&&("bottom"!==this.everpresentrowposition?this.addnewrowtop.width(this.columnsheader.width()):this.addnewrowbottom.width(this.columnsheader.width()),this._updateaddnewrowui()),this.autowidth&&this._arrange()}}}},_rendercolumnheaders:function(){var t=this.that
if(!this.prerenderrequired)return this._rendersortcolumn&&this._rendersortcolumn(),this._renderfiltercolumn&&this._renderfiltercolumn(),this.showfilterrow&&this.filterrow&&(this.filterrow.width(this.columnsheader.width()),this._updatefilterrowui()),void(this.showeverpresentrow&&("bottom"!==this.everpresentrowposition?this.addnewrowtop.width(this.columnsheader.width()):this.addnewrowbottom.width(this.columnsheader.width()),this._updateaddnewrowui()))
this._columnsbydatafield=new Array,this.columnsheader.find("#columntable"+this.element.id).remove()
var i=e('<div id="columntable'+this.element.id+'" style="height: 100%; position: relative;"></div>')
i[0].cells=new Array
var n=0,r=0,o="",a=this.host.width(),s=a,l=new Array,d=new Array,c=this.rowdetails&&this.showrowdetailscolumn?(1+this.groups.length)*this.groupindentwidth:this.groups.length*this.groupindentwidth
if(e.each(this.columns.records,function(e,i){if(!this.hidden||!this.hideable)if("auto"==this.width||this._width)o+=this.text
else if(this.width<this.minwidth&&"auto"!=this.minwidth)a-=this.minwidth
else if(this.width>this.maxwidth&&"auto"!=this.maxwidth)a-=this.maxwidth
else if(-1!=this.width.toString().indexOf("%")){i=0
var n="hidden"==t.vScrollBar[0].style.visibility?0:t.scrollbarsize+5
n+=c,(i=parseFloat(this.width)*(s-n)/100)<this.minwidth&&"auto"!=this.minwidth&&(i=this.minwidth),i>this.maxwidth&&"auto"!=this.maxwidth&&(i=this.maxwidth),a-=i}else"string"==typeof this.width&&(this.width=parseInt(this.width)),a-=this.width
this.pinned||this.grouped||this.checkboxcolumn?(t._haspinned&&(this.pinned=!0),l[l.length]=this):d[d.length]=this}),this.rtl){var h=0
l.reverse()
for(u=this.columns.records.length-1;u>=this.columns.records.length-l.length;u--)this.columns.replace(u,l[h++])
for(p=0;p<d.length;p++)this.columns.replace(p,d[p])}else{for(var u=0;u<l.length;u++)this.columns.replace(u,l[u])
for(var p=0;p<d.length;p++)this.columns.replace(l.length+p,d[p])}var m=this.headerZIndex,f=t.groupable?t.groups.length:0
this.rowdetails&&this.showrowdetailscolumn&&f++
var g=t.columnsheader.height()
this.showfilterrow&&(this.columngroups?g-=this.filterrowheight:g=this.columnsheight),this.showeverpresentrow&&"bottom"!==this.everpresentrowposition&&(g-=this.everpresentrowheight)
var v=this._gettableheight()
if(this.virtualsizeinfo&&this.virtualsizeinfo.virtualheight>v&&!this.scrollbarautoshow)if(this.groupable&&this.groups.length>0)if(this.dataview&&this.dataview.loadedrootgroups&&!this.groupsexpandedbydefault){var b=0
if(this.pageable){if(this.pageable)for(var y=0;y<this.dataview.rows.length;y++)this.dataview.rows[y].group&&0===this.dataview.rows[y].level&&(b+=this.rowsheight)}else b=this.dataview.loadedrootgroups.length*this.rowsheight
b>v&&(a-=this.scrollbarsize+5,s-=this.scrollbarsize+5)}else a-=this.scrollbarsize+5,s-=this.scrollbarsize+5
else!this.autoheight&&this.scrollbarsize>0&&(a-=this.scrollbarsize+5,s-=this.scrollbarsize+5)
s-=c
var _=document.createDocumentFragment(),w=0
if(e.each(this.columns.records,function(l,d){var c
this.height=t.columnsheight,t.columngroups&&t.columngroups.length&&(this.height=function(e,i){var n=t.columngroupslevel*t.columnsheight
return n-=i.level*t.columnsheight}(this.datafield,this),g=this.height)
var h=t.toTP("jqx-grid-column-header")+" "+t.toTP("jqx-widget-header")
t.rtl&&(h+=" "+t.toTP("jqx-grid-column-header-rtl"))
var u=t.rtl?150+m+1:150+m-1,p=t.rtl?m++:m--,v=e('<div role="columnheader" style="z-index: '+p+';position: absolute; height: 100%;" class="'+h+'"><div style="height: 100%; width: 100%;"></div></div>')
t.columngroups&&(v[0].style.height=g+"px",v[0].style.bottom="0px",this.pinned&&(v[0].style.zIndex=u)),this.uielement=v,""!=this.classname&&this.classname&&v.addClass(this.classname)
var b=this.width,y=!1
if(null===this.width&&(this.width="auto"),-1==this.width.toString().indexOf("%")&&null==this._percentagewidth||(b=null!=this._percentagewidth?parseFloat(this._percentagewidth)*s/100:parseFloat(this.width)*s/100,y=!0),"auto"==this.width||this._width||y){if(y)b<this.minwidth&&"auto"!=this.minwidth&&(b=this.minwidth),b>this.maxwidth&&"auto"!=this.maxwidth&&(b=this.maxwidth),null!=this._percentagewidth&&-1==this.width.toString().indexOf("%")||(this._percentagewidth=this.width),v.width(b),this.width=b
else if(!this.hidden){var x=Math.floor(a*(this.text.length/o.length))
a-(w+=x)<3&&a!=w?a-w==1?x++:x+=2:l==t.columns.records.length-1&&w<a&&(x+=a-w),isNaN(x)&&(x=this.minwidth),x<0&&(c=e("<span>"+this.text+"</span>"),e(document.body).append(c),x=10+c.width(),c.remove()),x<this.minwidth&&(x=this.minwidth),x>this.maxwidth&&(x=this.maxwidth),this._width="auto",this.width=x,b=this.width,v.width(this.width)}}else b<this.minwidth&&"auto"!=this.minwidth&&(b=this.minwidth,this.width=b),b>this.maxwidth&&"auto"!=this.maxwidth&&(b=this.maxwidth,this.width=b),v[0].style.width=parseInt(b)+"px"
this.hidden&&this.hideable&&v.css("display","none")
var C=e(v.children()[0]),S=t.rtl?t.toTP("jqx-grid-column-menubutton")+" "+t.toTP("jqx-grid-column-menubutton-rtl"):t.toTP("jqx-grid-column-menubutton")
S+=" "+t.toTP("jqx-icon-arrow-down")
var T=e('<div style="height: '+g+'px; display: none; left: 100%; top: 0%; position: absolute;"><div class="'+S+'" style="width: 100%; height:100%;"></div></div>')
t.enableanimations||T.css("margin-left",-16),t.rtl&&T.css("left","0px"),this.columnsmenu=T[0],i[0].cells[l]=v[0],T[0].style.width=parseInt(t.columnsmenuwidth)+"px"
var I=t.columnsmenu,E=!1,P=!1,D=t.groupable&&f>0&&n<f||t.rowdetails&&n<f
if(t.rtl&&(D=t.groupable&&f>0&&n<f||t.rowdetails&&n<f,D&=l>t.columns.records.length-1-f),D)n++,I&=!1,this.sortable=!1,this.editable=!1,P=!0
else{var k=null!=this.renderer?this.renderer(this.text,this.align,g):t._rendercolumnheader(this.text,this.align,g,t)
null==k&&(k=t._rendercolumnheader(this.text,this.align,g,t)),null!=this.renderer&&(k=e(k)),I&=!0,E=!0}if(t.WinJS?MSApp.execUnsafeLocalFunction(function(){C.append(e(k))}):this.renderer?C.append(e(k)):k&&(C[0].innerHTML=k),null!=k){var A=e('<div class="iconscontainer" style="height: '+g+'px; margin-left: -32px; display: block; position: absolute; left: 100%; top: 0%; width: 32px;"><div class="filtericon '+t.toTP("jqx-widget-header")+'" style="height: '+g+'px; float: right; display: none; width: 16px;"><div class="'+t.toTP("jqx-grid-column-filterbutton")+'" style="width: 100%; height:100%;"></div></div><div class="sortasc '+t.toTP("jqx-widget-header")+'" style="height: '+g+'px; float: right; display: none; width: 16px;"><div class="'+t.toTP("jqx-grid-column-sortascbutton")+" "+t.toTP("jqx-icon-arrow-up")+'" style="width: 100%; height:100%;"></div></div><div class="sortdesc '+t.toTP("jqx-widget-header")+'" style="height: '+g+'px; float: right; display: none; width: 16px;"><div class="'+t.toTP("jqx-grid-column-sortdescbutton")+" "+t.toTP("jqx-icon-arrow-down")+'" style="width: 100%; height:100%;"></div></div></div>')
T.addClass(t.toTP("jqx-widget-header")),C.append(A)
var j=A.children()
this.sortasc=j[1],this.sortdesc=j[2],this.filtericon=j[0],this.iconscontainer=A,t.rtl&&(A.css("margin-left","0px"),A.css("left","0px"),e(this.sortasc).css("float","left"),e(this.filtericon).css("float","left"),e(this.sortdesc).css("float","left")),!t.autoshowfiltericon&&this.filterable&&e(this.filtericon).css("display","block")}if(this.element=v[0],I&&(t._handlecolumnsmenu(t,C,v,T,this),this.menu||T.hide()),_.appendChild(v[0]),t.groupable&&E){if(v[0].id=t.dataview.generatekey(),!t._handlecolumnstogroupsdragdrop)throw new Error("jqxGrid: Missing reference to jqxgrid.grouping.js.")
t._handlecolumnstogroupsdragdrop(this,v)}t.columnsreorder&&this.draggable&&t._handlecolumnsdragreorder&&t._handlecolumnsdragreorder(this,v)
var M=this
if(t.addHandler(v,"click",function(e){if(M.checkboxcolumn)return!0
if(t.sorttogglestates>0&&t._togglesort&&!t._loading){if(t.suspendClick)return!0
t._togglesort(M)}e.preventDefault(),t._raiseEvent(7,{column:M.getcolumnproperties(),datafield:M.datafield,originalEvent:e})}),M.resizable&&t.columnsresize&&!P){var N=!1,q="mousemove"
t.isTouchDevice()&&!0!==t.touchmode&&(N=!0,q=e.jqx.mobile.getTouchEventName("touchstart")),t.addHandler(v,q,function(i){var n=parseInt(i.pageX),r=5,o=parseInt(v.coord().left)
if(t.hasTransform&&(o=e.jqx.utilities.getOffset(v).left),t.resizing)return!0
if(t._handlecolumnsresize){if(N)return r=40,(n=t.getTouches(i)[0].pageX)>=o+M.width-r?(t.resizablecolumn={columnelement:v,column:M},v.css("cursor","col-resize")):(v.css("cursor",""),t.resizablecolumn=null),!0
var a=M.width
if(t.rtl&&(a=0),n>=o+a-r){if(n<=o+a+r)return t.resizablecolumn={columnelement:v,column:M},v.css("cursor","col-resize"),!1
v.css("cursor",""),t.resizablecolumn=null}else v.css("cursor",""),n<o+a-r&&(M._animating||M._menuvisible||v.mouseenter()),t.resizablecolumn=null}})}(v.css("left",r),this.hidden&&this.hideable||(r+=b),M.rendered)&&(M.rendered(e(C[0].firstChild),M.align,g)&&null!=A&&A.hide())
if(M.checkboxcolumn){if(A&&A.hide(),!t.host.jqxCheckBox)throw new Error("jqxGrid: Missing reference to jqxcheckbox.js")
C.html('<div style="cursor: pointer; margin-left: 5px; top: 50%; margin-top: -8px; position: relative;"></div>')
var O=C.find("div:first")
O.jqxCheckBox({_canFocus:!1,disabled:t.disabled,disabledContainer:!0,theme:t.theme,enableContainerClick:!1,width:16,height:16,animationShowDelay:0,animationHideDelay:0}),M.checkboxelement=O
var B=O.data().jqxCheckBox.instance
t._checkboxcolumn=M,B.updated=function(e,i,n){t._checkboxcolumnupdating=!0,t.disabled&&(O.jqxCheckBox({disabled:t.disabled}),i=n),i?t.selectallrows():t.unselectallrows(),t._checkboxcolumnupdating=!1}}}),r>0?this.columnsheader.width(2+r):this.columnsheader.width(r),i[0].appendChild(_),this.columnsrow=i,t.columnsheader.append(i),this.showfilterrow&&this._updatefilterrow){if(this.columngroups?i.height(this.columngroupslevel*this.columnsheight):i.height(this.columnsheight),!this.filterrow){var x=e("<div style='position: relative !important; '></div>")
x[0].id="filterrow."+this.element.id,x.height(this.filterrowheight),this.filterrow=x}this.filterrow.width(2+r),this.columnsheader.append(this.filterrow),this._updatefilterrow()}if(this.showeverpresentrow&&"bottom"!==this.everpresentrowposition){if(this.columngroups?i.height(this.columngroupslevel*this.columnsheight):i.height(this.columnsheight),!this.addnewrowtop){var C=e("<div style='position: relative !important; z-index:"+this.headerZIndex+";'></div>")
C[0].id="addnewrowtop."+this.element.id,C.height(this.everpresentrowheight),this.addnewrowtop=C}this.addnewrowtop.width(2+r),"topAboveFilterRow"==this.everpresentrowposition&&this.filterrow?this.addnewrowtop.insertBefore(this.filterrow):this.columnsheader.append(this.addnewrowtop),this._updateaddnewrow()}else if(this.showeverpresentrow&&"bottom"===this.everpresentrowposition){if(!this.addnewrowbottom){var S=e("<div style='position: relative !important; z-index:"+this.headerZIndex+";'></div>")
S[0].id="addnewrowbottom."+this.element.id,S.height(this.everpresentrowheight),this.addnewrowbottom=S}this.addnewrowbottom.width(2+r),this.addnewrow.append(this.addnewrowbottom),this._updateaddnewrow()}i[0].style.visibility=0==r?"hidden":"inherit",i.width(r),this._handlecolumnsdragdrop&&this._handlecolumnsdragdrop(),this._handlecolumnsreorder&&this._handlecolumnsreorder(),this._rendersortcolumn&&this._rendersortcolumn(),this._renderfiltercolumn&&this._renderfiltercolumn(),this._handlecolumnsresize&&this._handlecolumnsresize(),this.columngroups&&this._rendercolumngroups(),this._updatecheckboxselection&&this._updatecheckboxselection()},_rendercolumngroups:function(){if(this.columngroups){for(var t=0,i=0;i<this.columns.records.length;i++)this.columns.records[i].pinned&&t++
var n=this.headerZIndex-t+this.columns.records.length,r=this.that,o=r.toTP("jqx-grid-column-header")+" "+r.toTP("jqx-grid-columngroup-header")+" "+r.toTP("jqx-widget-header")
r.rtl&&(o+=" "+r.toTP("jqx-grid-columngroup-header-rtl"))
var a=this.columnsheader.find("#columntable"+this.element.id)
a.find("jqx-grid-columngroup-header").remove()
for(var s=0;s<this.columngroupslevel-1;s++)for(i=0;i<this.columngroups.length;i++){var l=this.columngroups[i],d=l.level
if(d===s){var c=d*this.columnsheight,h=99999
if(l.groups){var u=function(e){for(var t=0,i=0;i<e.groups.length;i++){var n=e.groups[i]
n.groups?t+=u(n):n.hidden||(t+=n.width,h=Math.min(parseFloat(n.element.style.left),h))}return t}
l.width=u(l),l.left=h
var p=this.columnsheight,m=n--,f=e('<div role="columnheader" style="z-index: '+m+';position: absolute;" class="'+o+'"></div>'),g=e(this._rendercolumnheader(l.text,l.align,this.columnsheight,this))
if(l.renderer){g=e("<div style='height: 100%; width: 100%;'></div>")
var v=l.renderer(l.text,l.align,p)
g.html(v)}f.append(g),f[0].style.left=h+"px",0===h&&(f[0].style.borderLeftColor="transparent"),f[0].style.top=c+"px",f[0].style.height=p+"px",f[0].style.width=-1+l.width+"px",a.append(f),l.element=f,l.rendered&&l.rendered(g,l.align,p)}}}}},_resizecolumngroups:function(){if(this.columngroups)for(var e=0;e<this.columngroups.length;e++){var t=this.columngroups[e],i=t.level*this.columnsheight,n=99999
if(t.groups){var r=function(e){for(var t=0,i=0;i<e.groups.length;i++){var o=e.groups[i]
o.groups?t+=r(o):o.hidden||(t+=o.width,n=Math.min(parseFloat(o.element.style.left),n))}return t}
t.width=r(t),t.left=n
var o=this.columnsheight,a=t.element
a[0].style.left=n+"px",a[0].style.top=i+"px",a[0].style.height=o+"px",a[0].style.width=-1+t.width+"px"}}},_handlecolumnsmenu:function(t,i,n,r,o){t.dragmousedown=null,r[0].id=t.dataview.generatekey(),i.append(r),n[0].columnsmenu=r[0],o.element=n[0]
var a=this.columnsmenuwidth+1,s="mouseenter"
if(t.isTouchDevice()&&(s="touchstart"),t.addHandler(n,s,function(i){var s=parseInt(i.pageX),l=t.columnsresize&&o.resizable?3:0,d=parseInt(n.coord().left)
t.hasTransform&&(d=e.jqx.utilities.getOffset(n).left)
var c=o.width
if(t.rtl&&(c=0),0!=l&&s>=d+c-l&&s<=d+c+l)return!1
var h=t.vScrollInstance.isScrolling()
o.menu&&t.autoshowcolumnsmenubutton&&!h&&!t.disabled&&function(){if(!o.menu)return!1
if(!t.resizing){if(o._menuvisible&&t._hasOpenedMenu)return!1
if(o._animating=!0,t.menuitemsarray&&t.menuitemsarray.length>0)if(t.enableanimations)r.css("display","block"),r.stop(),o.iconscontainer.stop(),t.rtl?(r.css("margin-left",-a),r.animate({"margin-left":"0px"},"fast",function(){r.css("display","block"),o._animating=!1,o._menuvisible=!0})):(r.css("margin-left","0px"),r.animate({"margin-left":-a},"fast",function(){r.css("display","block"),o._animating=!1,o._menuvisible=!0})),e=t.rtl?a:-(32+a),o.iconscontainer.animate({"margin-left":e},"fast")
else{r.css("display","block")
var e=t.rtl?16:-48
o.iconscontainer.css("margin-left",e+"px"),o._animating=!1,o._menuvisible=!0}}}()}),!t.autoshowcolumnsmenubutton){r.css("display","block")
var l=t.rtl?16:-48
o.iconscontainer.css("margin-left",l+"px"),t.rtl?r.css({"margin-left":"0px"}):r.css({"margin-left":-a})}t.addHandler(n,"mouseleave",function(i){if(t.menuitemsarray&&t.menuitemsarray.length>0&&o.menu){var n=e.data(document.body,"contextmenu"+t.element.id)
if(null!=n&&r[0].id==n.columnsmenu.id)return
if(t.autoshowcolumnsmenubutton)if(t.enableanimations){t.rtl?r.css("margin-left","0px"):r.css("margin-left",-a),r.stop(),o.iconscontainer.stop(),t.rtl?r.animate({"margin-left":-a},"fast",function(){r.css("display","none"),o._menuvisible=!1}):r.animate({"margin-left":0},"fast",function(){r.css("display","none"),o._menuvisible=!1})
s=t.rtl?0:-32
o.iconscontainer.animate({"margin-left":s},"fast")}else{r.css("display","none")
var s=t.rtl?0:-32
o.iconscontainer.css("margin-left",s+"px"),o._menuvisible=!1}}})
var d=!0,c="",h=e(o.filtericon)
t.addHandler(r,"mousedown",function(i){t.gridmenu||t._initmenu(),d=!e.data(t.gridmenu[0],"contextMenuOpened"+t.gridmenu[0].id),null!=(c=e.data(document.body,"contextmenu"+t.element.id))&&(c=c.column.datafield)}),t.addHandler(h,"mousedown",function(i){t.gridmenu||t._initmenu(),d=!e.data(t.gridmenu[0],"contextMenuOpened"+t.gridmenu[0].id),null!=(c=e.data(document.body,"contextmenu"+t.element.id))&&(c=c.column.datafield)})
var u=function(){if(!o.menu)return!1
if(t.gridmenu||t._initmenu(),t.disabled)return!1
for(var i=0;i<t.columns.records.length;i++)t.columns.records[i].datafield!=o.datafield&&(t.columns.records[i]._menuvisible=!1)
var n=r.coord(!0),a=r.height()
if(!d&&(d=!0,c==o.datafield))return t._closemenu(),!1
var s=t.host.coord(!0)
t.hasTransform&&(s=e.jqx.utilities.getOffset(t.host),n=e.jqx.utilities.getOffset(r)),s.left+t.host.width()>parseInt(n.left)+t.gridmenu.width()?t.gridmenu.jqxMenu("open",n.left,n.top+a):t.gridmenu.jqxMenu("open",r.width()+n.left-t.gridmenu.width(),n.top+a),t.gridmenu.width()<100&&t._arrangemenu(),t._hasOpenedMenu=!0
var l=t._getmenuitembyindex(0),h=t._getmenuitembyindex(1),u=t._getmenuitembyindex(2),p=t._getmenuitembyindex(3),m=t._getmenuitembyindex(4),f=t._getmenuitembyindex(5)
if(null!=l&&null!=h&&null!=u){var g=o.sortable&&t.sortable
if(t.gridmenu.jqxMenu("disable",l.id,!g),t.gridmenu.jqxMenu("disable",h.id,!g),t.gridmenu.jqxMenu("disable",u.id,!g),null!=o.displayfield)if(t.sortcolumn==o.displayfield){var v=t.getsortinformation()
g&&(v.sortdirection.ascending?t.gridmenu.jqxMenu("disable",l.id,!0):t.gridmenu.jqxMenu("disable",h.id,!0))}else t.gridmenu.jqxMenu("disable",u.id,!0)}if(null!=p&&null!=m&&(t.groupable&&o.groupable?t.groups&&-1!=t.groups.indexOf(o.datafield)?(t.gridmenu.jqxMenu("disable",p.id,!0),t.gridmenu.jqxMenu("disable",m.id,!1)):(t.gridmenu.jqxMenu("disable",p.id,!1),t.gridmenu.jqxMenu("disable",m.id,!0)):(t.gridmenu.jqxMenu("disable",m.id,!0),t.gridmenu.jqxMenu("disable",p.id,!0))),null!=f){t.menuOwner=o,t._updatefilterpanel(t,f,o)
var b=0
t.sortable&&t._togglesort&&t.showsortmenuitems&&(b+=3),t.groupable&&t.addgroup&&t.showgroupmenuitems&&(b+=2)
var y=33*b+6
y=b*t._measureMenuElement()+14
e.jqx.browser.msie&&e.jqx.browser.version<8&&(y+=20,e(f).height(190)),t.isTouchDevice()&&(y+=10),t.filterable&&t.showfiltermenuitems&&(o.filterable?(t.gridmenu.height(y+190),e(f).css("display","block")):(t.gridmenu.height(y),e(f).css("display","none")))}t.columnmenuopening&&(!1===t.columnmenuopening(t.gridmenu,o.displayfield,t.gridmenu.height())&&t._closemenu())
e.data(document.body,"contextmenu"+t.element.id,{column:o,columnsmenu:r[0]})}
t.addHandler(h,"click",function(e){return!!o.menu&&(t.showfilterrow||("block"!=r[0].style.display&&n.trigger("mouseenter"),setTimeout(function(){"block"!=r[0].style.display&&n.trigger("mouseenter"),u()},200)),!1)}),t.addHandler(r,"click",function(e){return!!o.menu&&(u(),!1)}),t.isTouchDevice()&&t.addHandler(r,e.jqx.mobile.getTouchEventName("touchstart"),function(e){return!!o.menu&&(t._hasOpenedMenu?t._closemenu():u(),!1)})},_removecolumnhandlers:function(t){var i=this.that,n=e(t.element)
if(n.length>0){i.removeHandler(n,"mouseenter"),i.removeHandler(n,"mouseleave")
var r=e(t.filtericon)
if(i.removeHandler(r,"mousedown"),i.removeHandler(r,"click"),i.removeHandler(n,"click"),i.removeHandler(n,"mousemove"),i.columnsreorder&&(i.removeHandler(n,"mousedown.drag"),i.removeHandler(n,"mousemove.drag")),i.removeHandler(n,"dragstart"),n[0].columnsmenu){var o=e(n[0].columnsmenu)
i.removeHandler(o,"click"),i.removeHandler(o,"mousedown"),i.removeHandler(o,e.jqx.mobile.getTouchEventName("touchstart"))}}},_rendercolumnheader:function(e,t,i,n){var r="7px"
return n.columngroups?((r=i/2-this._columnheight/2)<0&&(r=6),r+="px"):30!=this.columnsheight&&((r=this.columnsheight/2-this._columnheight/2)<0&&(r=6),r+="px"),this.enableellipsis?"left"==t?'<div style="padding-bottom: 2px; overflow: hidden; text-overflow: ellipsis; text-align: '+t+"; margin-left: 4px; margin-right: 2px; margin-bottom: "+r+"; margin-top: "+r+';"><span style="text-overflow: ellipsis; cursor: default;">'+e+"</span></div>":'<div style="padding-bottom: 2px; overflow: hidden; text-overflow: ellipsis; text-align: '+t+"; margin-left: 2px; margin-right: 4px; margin-bottom: "+r+"; margin-top: "+r+';"><span style="text-overflow: ellipsis; cursor: default;">'+e+"</span></div>":"center"==t||"middle"==t?'<div style="padding-bottom: 2px; text-align: center; margin-top: '+r+';"><a href="#">'+e+"</a></div>":'<a style="margin-top: '+r+"; float: "+t+';" href="#">'+e+"</a>"},_renderrows:function(t,i,n){var r=this.that
if((this.pageable||this.groupable)&&(this.autoheight||this.autorowheight)&&null!=this.table&&null!=this.table[0].rows&&this.table[0].rows.length<this.dataview.rows.length&&(r.prerenderrequired=!0),!this.pageable&&(this.autoheight||this.autorowheight)&&(this.virtualmode||this.unboundmode)){var o=this.source.totalrecords
isNaN(o)||null!=this.table&&null!=this.table[0].rows&&this.table[0].rows.length!=o&&(r.prerenderrequired=!0)}!this.autoheight&&!this.autorowheight||r.prerenderrequired||this.table&&this.table[0].rows&&(this.table[0].rows.length<this.dataview.records.length&&(this.pageable&&this.table[0].rows.length<this.dataview.pagesize?r.prerenderrequired=!0:this.pageable||(r.prerenderrequired=!0)),this.table[0].rows.length<this.dataview.cachedrecords.length&&(this.pageable&&this.table[0].rows.length<this.dataview.pagesize?r.prerenderrequired=!0:this.pageable||(r.prerenderrequired=!0))),r._prerenderrows(t),r._requiresupdate&&(r._requiresupdate=!1,r._updatepageviews())
var a=function(){r._loading||(r.WinJS?MSApp.execUnsafeLocalFunction(function(){r._rendervisualrows()}):r._rendervisualrows(),r.virtualmode&&r.showaggregates&&r._updateaggregates&&r.refreshaggregates())},s=e.jqx.browser.msie&&e.jqx.browser.version<10
if(this.virtualmode){this.loadondemand&&(a(),function(){if(r.rendergridrows){var e=r._startboundindex
null==e&&(e=0)
var t=e+1+r.dataview.pagesize
if(null!=e&&null!=t){var n=!!r.source._source
if((n?r.source._source.recordstartindex:r.source.recordstartindex)!=e||1==i){if(n){if(t>=r.source._source.totalrecords&&((e=(t=r.source._source.totalrecords)-r.dataview.pagesize-1)<0&&(e=0),r.source._source.recordendindex==t&&r.source._source.recordstartindex==e))return
r.source._source.recordstartindex=e,r.source._source.recordendindex=t}else r.source.recordstartindex=e,r.source.recordendindex=t
r.updatebounddata("cells")}}}}(),this.loadondemand=!1)
var l=null==this._browser?this._isIE10():this._browser
this.editable&&this.editcell&&!this.vScrollInstance.isScrolling()&&!this.hScrollInstance.isScrolling()?a():this.autoheight?a():l||s||navigator&&-1!=navigator.userAgent.indexOf("Safari")?(null!=this._scrolltimer&&clearTimeout(this._scrolltimer),this._scrolltimer=setTimeout(function(){a()},5)):a()}else{if("deferred"==this.scrollmode&&(this.hScrollInstance.isScrolling()||this.vScrollInstance.isScrolling())){null!=this._scrolltimer&&clearInterval(this._scrolltimer)
var d=this._getfirstvisualrow()
if(null!=d){var c=this.scrollfeedback?this.scrollfeedback(d.bounddata):function(t){if(null==d)return""
var i="<table>",n=r.deferreddatafields
null==n&&r.columns.records.length>0&&(n=new Array).push(r.columns.records[0].displayfield)
for(var o=0;o<n.length;o++){var a=n[o],s=r._getcolumnbydatafield(a)
if(s){var l=r._getcellvalue(s,d)
""!=s.cellsformat&&e.jqx.dataFormat&&(e.jqx.dataFormat.isDate(l)?l=e.jqx.dataFormat.formatdate(l,s.cellsformat,r.gridlocalization):e.jqx.dataFormat.isNumber(l)&&(l=e.jqx.dataFormat.formatnumber(l,s.cellsformat,r.gridlocalization))),i+="<tr><td>"+l+"</td></tr>"}}return i+="</table>"}(d.bounddata)
c!=this._scrollelementcontent&&(this._scrollelement[0].innerHTML=c,this._scrollelementcontent=c)}return this._scrollelement.css("visibility","visible"),this._scrollelementoverlay.css("visibility","visible"),this._scrollelement.css("margin-top",-this._scrollelement.height()/2),void(this._scrolltimer=setInterval(function(){r.hScrollInstance.isScrolling()||r.vScrollInstance.isScrolling()||(a(),r._scrollelement.css("visibility","hidden"),r._scrollelementoverlay.css("visibility","hidden"),clearInterval(r._scrolltimer),d&&r.ensurerowvisible(d.visibleindex))},100))}if(navigator&&-1==navigator.userAgent.indexOf("Chrome")&&-1!=navigator.userAgent.indexOf("Safari")&&(this._updatedelay=1),null!=this.touchDevice&&1==this.touchDevice&&(this._updatedelay=5),((l=null==this._browser?this._isIE10():this._browser)||s)&&(this._updatedelay=5),l&&this.hScrollInstance.isScrolling())return void a()
if(e.jqx.browser.mozilla&&0==this._updatedelay&&(this.vScrollInstance.isScrolling()||this.hScrollInstance.isScrolling())&&(this._updatedelay=0),this.isTouchDevice()&&(this._updatedelay=0),null!=this.updatedelay&&(this._updatedelay=this.updatedelay),0==this._updatedelay)a()
else{var h=this._jqxgridrendertimer
null!=h&&clearTimeout(h),this.vScrollInstance.isScrolling()||this.hScrollInstance.isScrolling()?(this._updatedelay?h=setTimeout(function(){a()},this._updatedelay):(h=null,a()),this._jqxgridrendertimer=h):(this._jqxgridrendertimer=h,a())}}if(r.autorowheight&&!r.autoheight&&this._pageviews.length>0){var u=this._gettableheight(),p=this._pageviews[0].height
if(p>u)if(this.pageable&&this.gotopage&&(p=this._pageviews[0].height)<0&&(p=this._pageviews[0].height),"visible"!=this.vScrollBar.css("visibility")&&this.vScrollBar.css("visibility","visible"),(p<=u||this.autoheight)&&this.vScrollBar.css("visibility","hidden"),p-u>0){if("deferred"!=this.scrollmode){var m=p-u,f=this.vScrollInstance.max
if(this.vScrollBar.jqxScrollBar({max:m}),Math.round(m)!=Math.round(f))this.vScrollBar.jqxScrollBar("value")>m&&this.vScrollBar.jqxScrollBar({value:0})}}else this.vScrollBar.jqxScrollBar({value:0,max:p})
else this._loading||this.vScrollBar.css("visibility","hidden"),this.vScrollBar.jqxScrollBar({value:0})
this._arrange(),this.virtualsizeinfo&&(this.virtualsizeinfo.virtualheight=p)}},scrolling:function(){return{vertical:this.vScrollInstance.isScrolling(),horizontal:this.hScrollInstance.isScrolling()}},_renderhorizontalscroll:function(){var e=this.hScrollInstance,t=e.value
"hidden"===this.hScrollBar.css("visibility")&&(e.value=0,t=0)
var i=parseInt(t)
if(null!=this.table){var n=this.table[0].rows.length,r=this.columnsrow,o=this.groupable&&this.groups.length>0?this.groups.length:0,a=this.columns.records.length-o,s=this.columns.records,l=0==this.dataview.rows.length
if(this.rtl&&"hidden"!=this.hScrollBar.css("visibility")&&(i=e.max-i),l&&!this._haspinned){for(var d=0;d<n;d++)for(var c=this.table[0].rows[d],h=0;h<o+a;h++){if(null!=(u=c.cells[h]))if(s[h].pinned)if(u.style.marginLeft=i+"px",0==d)r[0].cells[h].style.marginLeft=i+"px"}this.table[0].style.marginLeft=-i+"px",r[0].style.marginLeft=-i+"px"}else if(this._haspinned||null==this._haspinned){for(d=0;d<n;d++)for(c=this.table[0].rows[d],h=0;h<o+a;h++){var u
if(null!=(u=c.cells[h]))if(s[h].pinned){if(0==i&&""==u.style.marginLeft)continue
var p=null,m=null,f=null
if(this.showeverpresentrow&&this.addnewrowtop&&this.addnewrowtop[0].cells&&(f=this.addnewrowtop[0].cells[h]),this.showfilterrow&&this.filterrow&&this.filterrow[0].cells&&(m=this.filterrow[0].cells[h]),this.showaggregates&&this.statusbar[0].cells&&(p=this.statusbar[0].cells[h]),this.rtl){if(u.style.marginLeft=-parseInt(t)+"px",0==d)r[0].cells[h].style.marginLeft=-parseInt(t)+"px",p&&(p.style.marginLeft=-parseInt(t)+"px"),m&&(m.style.marginLeft=-parseInt(t)+"px"),f&&(f.style.marginLeft=-parseInt(t)+"px")}else if(u.style.marginLeft=i+"px",0==d)r[0].cells[h].style.marginLeft=i+"px",p&&(p.style.marginLeft=i+"px"),m&&(m.style.marginLeft=i+"px"),f&&(f.style.marginLeft=i+"px")}}this.table[0].style.marginLeft=-i+"px",r[0].style.marginLeft=-i+"px"}else 0==this._haspinned&&(this.table[0].style.marginLeft=-i+"px",r[0].style.marginLeft=-i+"px")
if(this.showaggregates&&this.statusbar[0].cells){var g=0
this.rtl&&"hidden"!=this.vScrollBar.css("visibility")&&"hidden"!=this.hScrollBar.css("visibility")&&(g=2+parseInt(this.hScrollBar.css("left"))),this.statusbar[0].style.marginLeft=-i+g+"px"}this.showfilterrow&&this.filterrow&&this.filterrow[0].cells&&(this.filterrow[0].style.marginLeft=-i+"px"),this.showeverpresentrow&&this.addnewrowtop&&this.addnewrowtop[0].cells&&(this.addnewrowtop[0].style.marginLeft=-i+"px")}},_updaterowdetailsvisibility:function(){if(this.rowdetails)for(var t=0;t<this._rowdetailselementscache.length;t++)e(this._rowdetailselementscache[t]).css("display","none")},_getvisualcolumnsindexes:function(e,t,i,n,r,o){if(this.rowdetails||this.rtl||this.editcell||this.width&&this.width.toString().indexOf("%")>=0||this.exporting)return{start:0,end:i+n}
var a=0,s=-1,l=i+n,d=!1
if(this.autorowheight)return{start:0,end:i+n}
if(!r)for(var c=0;c<i+n;c++){if(d||this.columns.records[c].pinned&&o&&(d=!0),this.columns.records[c].hidden||(a+=this.columns.records[c].width),a>=e&&-1==s&&(s=c),a>t+e){l=c
break}}return++l>i+n&&(l=i+n),(-1==s||d)&&(s=0),{start:s,end:l}},_getvirtualcolumnsindexes:function(e,t,i,n,r){if(this.rtl||this.editcell||this.exporting)return{start:0,end:i+n}
var o=0,a=-1,s=i+n
if(this.autorowheight)return{start:0,end:i+n}
if(!r)for(var l=0;l<i+n;l++){if(this.columns.records[l].hidden||(o+=this.columns.records[l].width),o>=e&&-1==a&&(a=l),o>t+e){s=l
break}}return++s>i+n&&(s=i+n),-1==a&&(a=0),{start:a,end:s}},_getfirstvisualrow:function(){var e=this.vScrollInstance.value,t=parseInt(e)
if(0==this._pagescache.length&&(this.dataview.updateview(),this._loadrows()),"visible"!=this.vScrollBar[0].style.visibility&&(t=0),!this.pageable){var i=this._findvisiblerow(t,this._pageviews)
if(-1==i)return null
i!=this.dataview.pagenum?(this.dataview.pagenum=i,this.dataview.updateview(),this._loadrows()):this._pagescache[this.dataview.pagenum]||this._loadrows()}var n=this._findvisiblerow(t,this._pagescache[this.dataview.pagenum]),r=this._pagescache[this.dataview.pagenum]
if(r&&r[0])return r[n]},_rendervisualrows:function(){if(this.virtualsizeinfo){var t=this.vScrollInstance,i=this.hScrollInstance,n=t.value,r=i.value,o=parseInt(n),a=parseInt(r),s=this._gettableheight(),l=null!=this._hostwidth?this._hostwidth:this.host.width()
"visible"==this.hScrollBar[0].style.visibility&&(s+=29),"deferred"==this.scrollmode&&0!=this._newmax&&o>this._newmax&&null!=this._newmax&&(o=this._newmax)
var d=t.isScrolling()||i.isScrolling()||this._keydown,c=this.groupable&&this.groups.length>0
if(this.visiblerows=new Array,this.hittestinfo=new Array,this.editcell&&null==this.editrow&&this._hidecelleditor(!1),null!=this.editrow&&this._hideeditors(),this.virtualmode&&!this.pageable&&(this._pagescache=new Array),0==this._pagescache.length&&(this.dataview.updateview(),this._loadrows()),"hidden"==this.vScrollBar[0].style.visibility&&(o=0),!this.pageable){var h=this._findvisiblerow(o,this._pageviews)
if(-1==h)return this._clearvisualrows(),this._renderemptyrow(),void this._updaterowdetailsvisibility()
h!=this.dataview.pagenum?(this.dataview.pagenum=h,this.dataview.updateview(),this._loadrows()):this._pagescache[this.dataview.pagenum]||this._loadrows()}var u=this.groupable&&this.groups.length>0?this.groups.length:0
if(this.columns.records){var p=this.columns.records.length-u,m=this._findvisiblerow(o,this._pagescache[this.dataview.pagenum]),f=this._pagescache[this.dataview.pagenum],g=m
g<0&&(g=0)
var v=0,b=0,y=0,_=0,w=this.virtualsizeinfo.visiblerecords,x=this.groupable?this.groups.length:0,C=this.toTP("jqx-grid-cell")+" "+this.toTP("jqx-item")
this.rtl&&(C+=" "+this.toTP("jqx-grid-cell-rtl")),(this.autoheight||this.autorowheight)&&this.pageable&&(!this.groupable||this.groupable&&0===this.groups.length)&&(w=this.dataview.pagesize),c&&(C=" "+this.toTP("jqx-grid-group-cell")),this.isTouchDevice()&&(C+=" "+this.toTP("jqx-touch")),this.autorowheight&&(C+=" jqx-grid-cell-wrap")
var S=this.rowsheight,T=this._rendercell,I=this._getvisualcolumnsindexes(a,l,u,p,c,!0),E=I.start,P=I.end,D=this._getvirtualcolumnsindexes(a,l,u,p,c),k=D.start,A=D.end
e.jqx.browser.msie&&e.jqx.browser.version
if((this.autoheight||this.pageable)&&this.autorowheight&&this._pageviews[0]&&(this._oldpageviewheight=this._pageviews[0].height),this.autorowheight&&(g=0),g>=0){this._updaterowdetailsvisibility(),this._startboundindex=null!=f?f[g].bounddata.boundindex:0,this._startvisibleindex=null!=f?f[g].bounddata.visibleindex:0
var j=this.table[0].rows
if(this.columns.records.length>10&&this.enablecolumnsvirtualization)for(var M=function(e){return!(!e.parentNode||"#document-fragment"==e.parentNode.nodeName)},N=0;N<j.length;N++){for(var q=j[N],O=0;O<k;O++){var B=O
if(!this.columns.records[B].pinned&&null!=this.columns.records[B].datafield){M(R=q.cells[B])&&R.parentNode.removeChild(R)
var L=this.columns.records[B].element
this.columns.records[B]._rendered=!1,M(L)&&this.columnsrow[0].removeChild(L),this.filterrow&&M(this.filterrow[0].cells[B])&&this.columns.records[B].filterable&&this.filterrow[0].cells[B].parentNode.removeChild(this.filterrow[0].cells[B])}}for(O=A;O<this.columns.records.length;O++){B=O
if(!this.columns.records[B].pinned&&null!=this.columns.records[B].datafield){M(R=q.cells[B])&&R.parentNode.removeChild(R)
L=this.columns.records[B].element
this.columns.records[B]._rendered=!1,M(L)&&this.columnsrow[0].removeChild(L),this.filterrow&&M(this.filterrow[0].cells[B])&&this.columns.records[B].filterable&&this.filterrow[0].cells[B].parentNode.removeChild(this.filterrow[0].cells[B])}}for(O=k;O<A;O++){var R
B=O
M(R=q.cells[B])||q.appendChild(R)
L=this.columns.records[B].element
this.columns.records[B]._rendered=!0,M(L)||this.columnsrow[0].appendChild(L),this.filterrow&&!M(this.filterrow[0].cells[B])&&this.columns.records[B].filterable&&this.filterrow[0].firstChild.appendChild(this.filterrow[0].cells[B])}}for(var H=0;H<w&&b<w;H++){var V=null!=f?f[g+H]:null
if(null==V){if(g=-H,this._pagescache[this.dataview.pagenum+1])f=this._pagescache[this.dataview.pagenum+1],this.dataview.pagenum++
else{var F=this._pageviews.length
do{if(!(this.dataview.pagenum<this._pageviews.length-1)){f=void 0
break}this.dataview.pagenum++,f=void 0,this._pageviews[this.dataview.pagenum].height>0&&(this.dataview.updateview(),this._loadrows(),f=this._pagescache[this.dataview.pagenum])}while(null==f&&this.dataview.pagenum<F)}null!=f&&(V=f[g+H])}if(null!=V){if(V.hidden)continue
if(this._endboundindex=this._startboundindex+H,this._endvisibleindex=this._startvisibleindex+H,0==H){var z=Math.abs(o-V.top)
this.table[0].style.top=-z+"px",_=-z}if(!(q=this.table[0].rows[b]))continue
parseInt(q.style.height)!=V.height&&(q.style.height=parseInt(V.height)+"px"),y+=V.height
var $=this.rowdetails&&V.rowdetails,U=!V.rowdetailshidden
$&&U&&(q.style.height=parseInt(V.height-V.rowdetailsheight)+"px",w++)
var G=this._isrowselected(!0,V)
for(O=E;O<P;O++){B=O
this._rendervisualcell(T,C,G,$,U,c,x,q,V,B,b,d)}if(null!=V.group&&this._rendergroup&&this._rendergroup(x,q,V,u,p,b,l),this.autorowheight&&(this.autoheight||this.pageable)){for(S=this.rowsheight,O=E;O<P;O++)this.editable&&this.editcell&&this.editcell.column==this.columns.records[O].datafield&&this.editcell.row==this.getboundindex(V)&&this.editcell.editor?S=Math.max(S,this.editcell.editor.height()):q.cells[O].firstChild&&(S=Math.max(S,8+parseInt(q.cells[O].firstChild.offsetHeight)))
q.style.height=parseInt(S)+"px",this.heights[this._startboundindex+H]=S,$&&U&&(S+=V.rowdetailsheight),V.height=S}if(this.visiblerows[this.visiblerows.length]=V,this.hittestinfo[this.hittestinfo.length]={row:V,visualrow:q,details:!1},$&&U){b++
q=this.table[0].rows[b]
this._renderrowdetails(C,q,V,u,p,b),this.visiblerows[this.visiblerows.length]=V,this.hittestinfo[this.hittestinfo.length]={row:V,visualrow:q,details:!0}}if(!this.autorowheight&&y+_>=s)break}else{this._clearvisualrow(a,c,b,u,p),y+v+_<=s&&(v+=S)}b++}if(this._horizontalvalue=a,v>0&&"visible"==this.vScrollBar[0].style.visibility){parseInt(this.table.css("top"))
var W=this._pageviews[this._pageviews.length-1],X=t.max,J=W.top+W.height-s
"visible"==this.hScrollBar.css("visibility")&&(J+=this.scrollbarsize+20),X==J||this.autorowheight||J>=0&&("deferred"!=this.scrollmode?(t.max=J,t.setPosition(t.max)):this._newmax!=J&&(this._newmax=J,this._rendervisualrows()))}}if((this.autoheight||this.pageable)&&this.autorowheight){this._pagescache=new Array
var Y=0,Q=0
for(N=0;N<this.visiblerows.length;N++){var K=this.visiblerows[N]
K.top=Y,Y+=K.height,Q+=K.height
$=this.rowdetails&&K.rowdetails,U=!K.rowdetailshidden,q=this.table[0].rows[N]
$&&U&&N++
for(O=E;O<P;O++){var Z=this.columns.records[O]
if(!Z.hidden&&!Z.cellsrenderer){var ee=q.cells[O],te=0
if(ee.firstChild){te=(K.height-parseInt(ee.firstChild.offsetHeight)-8)/2
if($&&U)te=(K.height-K.rowdetailsheight-e(ee.firstChild).height()-8)/2}else te=(K.height-parseInt(e(ee).height())-8)/2
if(te>=0&&(te=parseInt(te)+4,ee.firstChild&&-1==ee.firstChild.className.indexOf("jqx-grid-groups-row")&&"checkbox"!=Z.columntype&&"button"!=Z.columntype)){if(this.editable&&this.editcell&&this.editcell.column==Z.datafield&&this.editcell.row==this.getboundindex(K))continue
ee.firstChild.style.marginTop=te+"px"}}}}this._pageviews[0]&&(this._pageviews[0].height=Q),this._arrange()}if(this._renderemptyrow(),this.toCompile&&this.toCompile.length>0){e.each(this.toCompile,function(t,i){if(this.compiled)return!0
var n=this.cell
if(!n)return!0
e.jqx.angularCompile&&e.jqx.angularCompile(n,"<div>"+this.value+"</div>"),this.compiled=!0})}}}},_hideemptyrow:function(){if(this.showemptyrow&&this.table&&this.table[0].rows){var t=this.table[0].rows[0]
if(t)for(var i=!1,n=0;n<t.cells.length;n++){var r=e(t.cells[n])
"none"==r.css("display")||i||r.width()!=this.host.width()&&r.text()!=this.gridlocalization.emptydatastring||(r[0].checkbox=null,r[0].button=null,i=!0,r[0].innerHTML="")}}},_renderemptyrow:function(){if(!this._loading&&0==this.dataview.records.length&&this.showemptyrow){var t=!1,i=this.toTP("jqx-grid-cell")
if(this.table&&this.table.length>0&&this.table[0].rows&&this.table[0].rows.length>0){var n=this.table[0].rows[0]
this.table[0].style.top="0px"
for(var r=0;r<n.cells.length;r++){var o=e(n.cells[r])
if("none"!=o.css("display")&&!t){o[0].checkbox=null,o[0].button=null,o[0].className=i,t=!0,o[0].innerHTML=""
var a=e("<span style='white-space: nowrap; float: left; margin-left: 50%; position: relative;'></span>")
a.text(this.gridlocalization.emptydatastring),o.append(a)
var s=0
this.oldhscroll||(s=parseInt(this.table[0].style.marginLeft),this.rtl&&(o.css("z-index",999),o.css("overflow","visible"))),a.css("left",-s-a.width()/2),a.css("top",this._gettableheight()/2-a.height()/2),e.jqx.browser.msie&&e.jqx.browser.version<8&&(a.css("margin-left","0px"),a.css("left",this.host.width()/2-a.width()/2))
var l=Math.abs(parseInt(this.table[0].style.top))
isNaN(l)&&(l=0),e(n).height(this._gettableheight()+l),o.css("margin-left","0px"),o.width(this.host.width()),this.table.width()<this.host.width()&&this.table.width(this.host.width())}o.addClass(this.toThemeProperty("jqx-grid-empty-cell"))}}}},_clearvisualrows:function(){var e=this.virtualsizeinfo.visiblerecords,t=this.hScrollInstance.value,i=parseInt(t),n=this.groupable&&this.groups.length>0
if(this.columns.records)for(var r=0;r<e;r++)this._clearvisualrow(i,n,r,0,this.columns.records.length)},_iscellselected:function(e,t,i){var n=!1,r=0
if(this.virtualmode&&this.pageable&&this.groupable&&this.groups.length>0&&(r=this.dataview.pagesize*this.dataview.pagenum),this.groups.length>0&&this.pageable&&this.groupable){var o=this.getrowboundindexbyid(t.bounddata.uid)
if(-1!=o){for(var a in this.selectedcells)a==o+"_"+i&&(n=!0)
return n}return!1}if(e&&null!=t.bounddata)if("singlerow"!=this.selectionmode){if(this.dataview.filters.length>0)if(this.virtualmode||null==t.bounddata.dataindex)for(var a in this.selectedcells)a==r+t.bounddata.boundindex+"_"+i&&(n=!0)
else for(var a in this.selectedcells)a==r+t.bounddata.dataindex+"_"+i&&(n=!0)
else for(var a in this.selectedcells)if(a==r+t.bounddata.boundindex+"_"+i){n=!0
break}}else if(this.dataview.filters.length>0){if(this.virtualmode||null==t.bounddata.dataindex){for(var a in this.selectedcells)if(a==r+t.bounddata.boundindex+"_"+i){n=!0
break}}else for(var a in this.selectedcells)if(a==r+t.bounddata.dataindex+"_"+i){n=!0
break}}else for(var a in this.selectedcells)if(a==r+t.bounddata.boundindex==this.selectedrowindex){n=!0
break}return n},_isrowselected:function(e,t){var i=!1,n=0
if(this.virtualmode&&this.pageable&&this.groupable&&this.groups.length>0&&(n=this.dataview.pagesize*this.dataview.pagenum),this.groupable&&this.groups.length>0&&this.pageable){var r=this.getrowboundindexbyid(t.bounddata.uid)
return null!=r&&-1!=r&&(-1!=this.selectedrowindexes.indexOf(r)&&(i=!0),i||(i=r==this.selectedrowindex&&-1!=this.selectedrowindex),i)}return e&&null!=t.bounddata&&("singlerow"!=this.selectionmode?this.dataview.filters.length>0?this.virtualmode||null==t.bounddata.dataindex?-1!=this.selectedrowindexes.indexOf(n+t.bounddata.boundindex)&&(i=!0):-1!=this.selectedrowindexes.indexOf(n+t.bounddata.dataindex)&&(i=!0):-1!=this.selectedrowindexes.indexOf(n+t.bounddata.boundindex)&&(i=!0):this.dataview.filters.length>0?this.virtualmode||null==t.bounddata.dataindex?-1!=this.selectedrowindexes.indexOf(n+t.bounddata.boundindex)&&(i=!0):-1!=this.selectedrowindexes.indexOf(n+t.bounddata.dataindex)&&(i=!0):n+t.bounddata.boundindex==this.selectedrowindex&&(i=!0)),i},_rendervisualcell:function(t,i,n,r,o,a,s,l,d,c,h,u){var p=this.columns.records[c]
if(p.hidden){(f=l.cells[c]).innerHTML=""}else{var m=this._getcellvalue(p,d),f=l.cells[c],g=i
if(-1!=this.selectionmode.indexOf("cell")&&(n=this.dataview.filters.length>0?!!this.selectedcells[d.bounddata.dataindex+"_"+p.datafield]:!!this.selectedcells[d.boundindex+"_"+p.datafield],this.editcell&&this.editcell.row===d.boundindex&&this.editcell.column===p.datafield&&"checkbox"!==p.columntype&&(n=!1),(this.virtualmode||this.groupable&&this.groups.length>0&&this.pageable)&&(n=this._iscellselected(!0,d,p.datafield))),""!=p.cellclassname&&p.cellclassname)if("string"==typeof p.cellclassname)g+=" "+p.cellclassname
else{var v=p.cellclassname(this.getboundindex(d),p.datafield,m,d.bounddata)
v&&(g+=" "+v)}var b=this.showsortcolumnbackground&&this.sortcolumn&&p.displayfield==this.sortcolumn
if(b&&(g+=" "+this.toTP("jqx-grid-cell-sort")),p.filter&&this.showfiltercolumnbackground&&(g+=" "+this.toTP("jqx-grid-cell-filter")),d.bounddata.totalsrow&&(g+=" "+this.toTP("jqx-grid-cell-pinned")),(p.pinned&&this.showpinnedcolumnbackground||p.grouped)&&(a&&d.bounddata.totalsrow||(g+=" "+this.toTP("jqx-grid-cell-pinned"))),this.altrows&&null==d.group){var y=d.visibleindex
y>=this.altstart&&(this.altstart+y)%(1+this.altstep)==0&&(g+=b?" "+this.toTP("jqx-grid-cell-sort-alt"):" "+this.toTP("jqx-grid-cell-alt"),p.filter&&this.showfiltercolumnbackground&&(g+=" "+this.toTP("jqx-grid-cell-filter-alt")),p.pinned&&this.showpinnedcolumnbackground&&(g+=" "+this.toTP("jqx-grid-cell-pinned-alt")))}if(c<=s){if(a||this.rowdetails||this.pageable&&this.virtualmode){var _=e(f),w=this.columns.records[c].width
f.style.width!=parseInt(w)+"px"&&_.width(w)}}else if((a||this.rowdetails)&&this._hiddencolumns){_=e(f),w=this.columns.records[c].width
parseInt(f.style.width)!=w&&_.width(w)}var x=!0
if(this.rowdetails&&r&&(o&&!a?g+=" "+this.toTP("jqx-grid-details-cell"):a&&(g+=" "+this.toTP("jqx-grid-group-details-cell")),this.showrowdetailscolumn))if(this.rtl){if(null==d.group&&c==l.cells.length-s-1){C=this.toThemeProperty("jqx-icon-arrow-down")
if(o)g+=" "+this.toTP("jqx-grid-group-expand-rtl"),g+=" "+C
else g+=" "+this.toTP("jqx-grid-group-collapse-rtl"),g+=" "+(C=this.toThemeProperty("jqx-icon-arrow-left"))
return x=!1,f.title="",f.innerHTML="",void(f.className!=g&&(f.className=g))}}else if(null==d.group&&c==s&&!d.bounddata.totalsrow){var C=this.toThemeProperty("jqx-icon-arrow-down")
if(o)g+=" "+this.toTP("jqx-grid-group-expand"),g+=" "+C
else g+=" "+this.toTP("jqx-grid-group-collapse"),g+=" "+(C=this.toThemeProperty("jqx-icon-arrow-right"))
return x=!1,f.title="",f.innerHTML="",void(f.className!=g&&(f.className=g))}if(n&&x&&c>=s&&(g+=" "+this.toTP("jqx-grid-cell-selected"),g+=" "+this.toTP("jqx-fill-state-pressed")),f.className!=g&&(f.className=g),null!=d.group)return m="",f.title="",void(f.innerHTML="")
t(this,p,d,m,f,u)}},_rendercell:function(t,i,n,r,o,a){var s=r+"_"+i.visibleindex
if("number"==i.columntype||null!=i.cellsrenderer)s=n.uniqueid+"_"+i.visibleindex
if("number"==i.columntype&&(r=n.visibleindex),t.editcell&&null==t.editrow)if("selectedrow"==t.editmode&&i.editable&&t.editable){if(t.editcell.row==t.getboundindex(n)&&t._showcelleditor)return void(t.hScrollInstance.isScrolling()||t.vScrollInstance.isScrolling()?t._showcelleditor(t.editcell.row,i,o,!1,!1):t._showcelleditor(t.editcell.row,i,o,t.editcell.init))}else if(t.editcell.row==t.getboundindex(n)&&t.editcell.column==i.datafield&&(t.editcell.element=o,t.editcell.editing&&t._showcelleditor))return void(t.hScrollInstance.isScrolling()||t.vScrollInstance.isScrolling()?t._showcelleditor(t.editcell.row,i,t.editcell.element,t.editcell.init,!1):t._showcelleditor(t.editcell.row,i,t.editcell.element,t.editcell.init))
var l=t._defaultcellsrenderer(r,i),d=t._cellscache[s]
if(!d){if("checkbox"==i.columntype)return t._rendercheckboxcell(t,o,i,n,r),t._cellscache[s]={element:"",title:r},void(t.enabletooltips&&i.enabletooltips&&(o.title=""+r))
if("button"==i.columntype)return null!=i.cellsrenderer&&(r=i.cellsrenderer(t.getboundindex(n),i.datafield,r,l,i.getcolumnproperties(),n.bounddata)),t._renderbuttoncell(t,o,i,n,r),t._cellscache[s]={element:"",title:r},void(t.enabletooltips&&i.enabletooltips&&(o.title=""+r))
if("number"==i.columntype&&(r=n.visibleindex),i.createwidget)return null!=i.cellsrenderer&&(r=i.cellsrenderer(t.getboundindex(n),i.datafield,r,l,i.getcolumnproperties(),n.bounddata)),t._renderwidgetcell(t,o,i,n,r),t._cellscache[s]={element:"",title:r},void(t.enabletooltips&&i.enabletooltips&&(o.title=r))
m=null
if(null!=i.cellsrenderer){if((m=i.cellsrenderer(t.getboundindex(n),i.datafield,r,l,i.getcolumnproperties(),n.bounddata))&&(m.indexOf("<jqx-")>=0||m.indexOf(" ng-")>=0))return void(t.toCompile&&t.toCompile.push({cell:o,value:m,row:t.getboundindex(n)}))}else m=l
null==m&&(m=l)
var c=r
if(t.enabletooltips&&i.enabletooltips&&(""!=i.cellsformat&&e.jqx.dataFormat&&(e.jqx.dataFormat.isDate(r)?c=e.jqx.dataFormat.formatdate(c,i.cellsformat,t.gridlocalization):e.jqx.dataFormat.isNumber(r)&&(c=e.jqx.dataFormat.formatnumber(c,i.cellsformat,t.gridlocalization))),o.title=c),t.WinJS)e(o).html(m)
else{var h=o.innerHTML
if(h.indexOf("editor")>=0||null!=i.cellsrenderer||t.groupable||t.virtualmode)o.innerHTML=m
else if(h.length>0){f=m.indexOf(">"),g=m.indexOf("</"),v=m.substring(f+1,g),b=o.childNodes[0]
if(v.indexOf(">")>=0)o.innerHTML=m
else if(b.childNodes[0])v!=b.childNodes[0].nodeValue&&(v.indexOf("&")>=0||h.indexOf("span")>=0?o.innerHTML=m:b.childNodes[0].nodeValue=v)
else{y=document.createTextNode(v)
b.appendChild(y)}}else h!=m&&(o.innerHTML=m)}return t._cellscache[s]={element:o.innerHTML,title:c},!0}if("checkbox"==i.columntype){if(t.host.jqxCheckBox){""===r&&(r=null)
var u=0==o.innerHTML.toString().length
if(!o.checkbox||t.groupable||u?t._rendercheckboxcell(t,o,i,n,r):(o.checkboxrow=t.getboundindex(n),""==r&&(r=!1),"1"==r&&(r=!0),"0"==r&&(r=!1),1==r&&(r=!0),0==r&&(r=!1),"true"==r&&(r=!0),"false"==r&&(r=!1),null!=r||i.threestatecheckbox||(r=!1),i.checkboxcolumn&&(r=!1,t.dataview.filters.length>0&&!t.virtualmode&&null!=n.bounddata.dataindex?-1!=t.selectedrowindexes.indexOf(n.bounddata.dataindex)&&(r=!0):-1!=t.selectedrowindexes.indexOf(n.bounddata.boundindex)&&(r=!0)),t.disabled||(o.checkboxinstance?o.checkboxinstance._setState(r):o.checkbox.jqxCheckBox("_setState",r))),null!=i.cellsrenderer){var p=i.cellsrenderer(t.getboundindex(n),i.datafield,r,l,i.getcolumnproperties(),n.bounddata)
null!=p&&(o.innerHTML=p)}return}}else if("button"==i.columntype&&t.host.jqxButton)return""==r&&(r=!1),null!=i.cellsrenderer&&(r=i.cellsrenderer(t.getboundindex(n),i.datafield,r,l,i.getcolumnproperties(),n.bounddata)),""==o.innerHTML&&(o.buttonrow=t.getboundindex(n),o.button=null,t._renderbuttoncell(t,o,i,n,r)),void(o.button&&!t.groupable?(o.buttonrow=t.getboundindex(n),o.button.val(r)):t._renderbuttoncell(t,o,i,n,r))
if(i.createwidget)if(""==o.innerHTML&&(o.widgetrow=t.getboundindex(n),o.widget=null,t._renderwidgetcell(t,o,i,n,r)),o.widget&&!t.groupable){if(o.widgetrow=t.getboundindex(n),!i.initwidget)throw new Error("jqxGrid: 'initwidget' column function is not implemented. Please, implement 'initwidget'")
i.initwidget(t.getboundindex(n),i.datafield,r,o.firstChild)}else t._renderwidgetcell(t,o,i,n,r)
else{var m=d.element
if(null!=i.cellsrenderer||o.childNodes&&0==o.childNodes.length||t.groupable||t.rowdetails)o.innerHTML!=m&&(o.innerHTML=m)
else if(o.innerHTML.indexOf("editor")>=0)o.innerHTML=m
else if(a){var f=m.indexOf(">"),g=m.indexOf("</"),v=m.substring(f+1,g),b=o.childNodes[0]
if(v.indexOf(">")>=0)o.innerHTML=m
else if(b.childNodes[0])v!=b.childNodes[0].nodeValue&&(v.indexOf("&")>=0?o.innerHTML=m:b.childNodes[0].nodeValue=v)
else{var y=document.createTextNode(v)
b.appendChild(y)}}else o.innerHTML!=m&&(o.innerHTML=m)
t.enabletooltips&&i.enabletooltips&&(o.title=d.title)}},_isIE10:function(){if(null==this._browser){var t=e.jqx.utilities.getBrowser()
if("msie"==t.browser&&parseInt(t.version)>9)this._browser=!0
else if(this._browser=!1,"msie"==t.browser){var i="Browser CodeName: "+navigator.appCodeName
i+="Browser Name: "+navigator.appName,i+="Browser Version: "+navigator.appVersion,i+="Platform: "+navigator.platform,-1!=(i+="User-agent header: "+navigator.userAgent).indexOf("Zune 4.7")&&(this._browser=!0)}}return this._browser},_renderinlinecell:function(t,i,n,r,o){e(i)
i.innerHTML='<div style="position: absolute;"></div>'},_rendercheckboxcell:function(t,i,n,r,o){if(t.host.jqxCheckBox){var a=e(i)
if(""===o&&(o=!!n.threestatecheckbox&&null),null!==o||n.threestatecheckbox||(o=!1),"1"==o&&(o=!0),"0"==o&&(o=!1),1==o&&(o=!0),0==o&&(o=!1),"true"==o&&(o=!0),"false"==o&&(o=!1),n.checkboxcolumn){o=!1
var s=this.getboundindex(r);-1!=this.selectedrowindexes.indexOf(s)&&(o=!0)}if(0==a.find(".jqx-checkbox").length)i.innerHTML='<div style="position: absolute; top: 50%; left: 50%; margin-top: -7px; margin-left: -10px;"></div>',e(i.firstChild).jqxCheckBox({disabled:t.disabled,_canFocus:!1,hasInput:!1,hasThreeStates:n.threestatecheckbox,enableContainerClick:!1,animationShowDelay:0,animationHideDelay:0,locked:!0,theme:t.theme,checked:o}),this.enabletooltips&&n.enabletooltips&&(i.title=""+o),this.editable&&n.editable&&e(i.firstChild).jqxCheckBox({locked:!1}),n.checkboxcolumn&&e(i.firstChild).jqxCheckBox({locked:!1}),i.checkbox=e(i.firstChild),i.checkboxinstance=i.checkbox.data().jqxCheckBox.instance,i.checkboxrow=this.getboundindex(r),e.data(i.firstChild,"jqxCheckBox").instance.updated=function(r,o,a){if(t.disabled){o=a
for(var s=t.table[0].rows.length,l=t._getcolumnindex(n.datafield),d=0;d<s;d++){(h=t.table[0].rows[d].cells[l].firstChild)&&e(h).jqxCheckBox({disabled:t.disabled})}}if(n.editable&&!t.disabled){s=t.table[0].rows.length,l=t._getcolumnindex(n.datafield)
if(null==t.editrow){if(n.cellbeginedit)if(0==n.cellbeginedit(i.checkboxrow,n.datafield,n.columntype,!o))return void t.setcellvalue(i.checkboxrow,n.datafield,!o,!0)
if(n.cellvaluechanging){var c=n.cellvaluechanging(i.checkboxrow,n.datafield,n.columntype,a,o)
null!=c&&(o=c)}if("selectedrow"!==t.editmode)for(d=0;d<s;d++){var h;(h=t.table[0].rows[d].cells[l].firstChild)&&e(h).jqxCheckBox("destroy")}if(t.editcell&&0==t.editcell.validated)t.setcellvalue(i.checkboxrow,n.datafield,!o,!0)
else if("selectedrow"!==t.editmode||null==t.editcell){var u=t.getrowdata(i.checkboxrow)
t._raiseEvent(17,{rowindex:i.checkboxrow,row:u,datafield:n.datafield,value:a,columntype:n.columntype}),t.setcellvalue(i.checkboxrow,n.datafield,o,!0),t._raiseEvent(18,{rowindex:i.checkboxrow,row:u,datafield:n.datafield,oldvalue:a,value:o,columntype:n.columntype})}else t.setcellvalue(i.checkboxrow,n.datafield,o,!1,!1)
n.cellendedit&&n.cellendedit(i.checkboxrow,n.datafield,n.columntype,o)}}else n.checkboxcolumn&&(t.editcell&&t.endcelledit(t.editcell.row,t.editcell.column,!1,!0),t.disabled||(o?t.selectrow(i.checkboxrow):t.unselectrow(i.checkboxrow),t.autosavestate&&t.savestate&&t.savestate()))}
else i.checkboxrow=this.getboundindex(r),e(i.firstChild).jqxCheckBox("_setState",o,!(this.editable&&n.editable||n.checkboxcolumn))}},_renderwidgetcell:function(t,i,n,r,o){if(0==e(i).find(".jqx-grid-widget").length){i.innerHTML='<div class="jqx-grid-widget" style="opacity: 0.99; position: absolute; width: 100%; height:100%; top: 0%; left: 0%; padding: 0px;"></div>',n.createwidget(r,n.datafield,o,i.firstChild),e(i.firstChild).attr("hideFocus","true"),e(i.firstChild).children().addClass("jqx-grid-widget"),i.widget=e(i.firstChild),i.widgetrow=t.getboundindex(r)}else n.initwidget(t.getboundindex(r),n.datafield,o,i.firstChild),i.widgetrow=t.getboundindex(r),e(i.firstChild).val(o)},_renderbuttoncell:function(t,i,n,r,o){if(t.host.jqxButton)if(""==o&&(o=!1),0==e(i).find(".jqx-button").length)if(i.innerHTML='<input type="button" style="opacity: 0.99; position: absolute; top: 0%; left: 0%; padding: 0px; margin-top: 2px; margin-left: 2px;"/>',e(i.firstChild).val(o),e(i.firstChild).attr("hideFocus","true"),e(i.firstChild).jqxButton({disabled:t.disabled,theme:t.theme,height:t.rowsheight-4,width:n.width-4}),i.button=e(i.firstChild),i.buttonrow=t.getboundindex(r),this.isTouchDevice()){var a=e.jqx.mobile.getTouchEventName("touchend")
t.addHandler(e(i.firstChild),a,function(e){n.buttonclick&&n.buttonclick(i.buttonrow,e)})}else t.addHandler(e(i.firstChild),"click",function(e){n.buttonclick&&n.buttonclick(i.buttonrow,e)})
else i.buttonrow=t.getboundindex(r),e(i.firstChild).val(o)},_clearvisualrow:function(t,i,n,r,o){var a=this.toTP("jqx-grid-cell")
i&&(a=" "+this.toTP("jqx-grid-group-cell")),a+=" "+this.toTP("jqx-grid-cleared-cell")
for(var s=this.table[0].rows,l=0;l<r+o;l++)if(s[n]){var d=s[n].cells[l]
d.className!=a&&(d.className=a)
var c=this.columns.records[l]
if(this._horizontalvalue!=t&&!c.pinned&&1==this.oldhscroll){d.style.marginLeft=-t+"px"}var h=c.width
h<c.minwidth&&(h=c.minwidth),h>c.maxwidth&&(h=c.maxwidth),parseInt(d.style.width)!=h&&(e(d)[0].style.width="auto"!=h?h+"px":h),""!=d.title&&(d.title=""),""!=d.innerHTML&&(d.innerHTML="")}s[n]&&parseInt(s[n].style.height)!=this.rowsheight&&(s[n].style.height=parseInt(this.rowsheight)+"px")},_findgroupstate:function(e){var t=this._findgroup(e)
return null!=t&&t.expanded},_findgroup:function(e){return this.expandedgroups[e]?this.expandedgroups[e]:null},_clearcaches:function(){this._columnsbydatafield=new Array,this._pagescache=new Array,this._pageviews=new Array,this._cellscache=new Array,this.heights=new Array,this.hiddens=new Array,this.hiddenboundrows=new Array,this.heightboundrows=new Array,this.detailboundrows=new Array,this.details=new Array,this.expandedgroups=new Array,this._rowdetailscache=new Array,this._rowdetailselementscache=new Array,e.jqx.dataFormat&&e.jqx.dataFormat.cleardatescache(),this.tableheight=null},_getColumnText:function(t){if(null==this._columnsbydatafield&&(this._columnsbydatafield=new Array),this._columnsbydatafield[t])return this._columnsbydatafield[t]
var i=t,n=null
return e.each(this.columns.records,function(){if(this.datafield==t||this.displayfield==t)return i=this.text,n=this,!1}),this._columnsbydatafield[t]={label:i,column:n},this._columnsbydatafield[t]},_getcolumnbydatafield:function(t){if(null==this.__columnsbydatafield&&(this.__columnsbydatafield=new Array),this.__columnsbydatafield[t])return this.__columnsbydatafield[t]
var i=null
return e.each(this.columns.records,function(){if(this.datafield==t||this.displayfield==t)return this.text,i=this,!1}),this.__columnsbydatafield[t]=i,this.__columnsbydatafield[t]},isscrollingvertically:function(){return this.vScrollBar.jqxScrollBar("isScrolling")},_renderrowdetails:function(t,i,n,r,o,a){if(null!=i){var s=e(i),l=this.rowdetails&&this.showrowdetailscolumn?(1+this.groups.length)*this.groupindentwidth:this.groups.length*this.groupindentwidth
if(this.groupable&&this.groups.length>0)for(var d=0;d<=o;d++){var c;(c=e(i.cells[d]))[0].innerHTML="",c[0].className="jqx-grid-details-cell"}if("none"==(c=e(i.cells[0]))[0].style.display){for(var h=i.cells[0],u=2;null!=h&&"none"==h.style.display&&u<10;)h=i.cells[0+u-1],u++
c=e(h)}if(this.rtl)for(var p=r;p<o;p++)i.cells[p].innerHTML="",i.cells[p].className="jqx-grid-details-cell"
c.css("width","100%"),s.height(n.rowdetailsheight),c[0].className=t
var m=this.getboundindex(n),f=m+"_"
if(this._rowdetailscache[f]){var g=this._rowdetailscache[f].html
if(this.initrowdetails){if(this._rowdetailscache[f].element){var v=this._rowdetailscache[f].element,b=c.coord(),y=this.gridcontent.coord(),_=parseInt(b.top)-parseInt(y.top),w=parseInt(b.left)-parseInt(y.left)
this.rtl&&(w=0),e(v).css("top",_),e(v).css("left",w),e(v).css("display","block"),e(v).width(this.host.width()-l),this.layoutrowdetails&&this.layoutrowdetails(m,v,this.element,this.getrowdata(m))}}else c[0].innerHTML=g}else{c[0].innerHTML="",this.enablerowdetailsindent||(l=0)
var x='<div class="jqx-enableselect" role="rowgroup" style="border: none; overflow: hidden; width: 100%; height: 100%; margin-left: '+l+'px;">'+n.rowdetails+"</div>"
if(this.rtl)x='<div class="jqx-enableselect" role="rowgroup" style="border: none; overflow: hidden; width: 100%; height: 100%; margin-left: 0px; margin-right: '+l+'px;">'+n.rowdetails+"</div>"
if(this._rowdetailscache[f]={id:i.id,html:x},this.initrowdetails){v=e(x)[0]
e(this.gridcontent).prepend(e(v)),e(v).css("position","absolute"),e(v).width(this.host.width()-l),e(v).height(c.height())
b=c.coord()
e(v).css("z-index",9999),this.isTouchDevice()&&e(v).css("z-index",99999),e(v).addClass(this.toThemeProperty("jqx-widget-content"))
b=c.coord(),y=this.gridcontent.coord(),_=parseInt(b.top)-parseInt(y.top),w=parseInt(b.left)-parseInt(y.left)
e(v).css("top",_),e(v).css("left",w),this.content[0].scrollTop=0,this.content[0].scrollLeft=0
var C=e(e(v).children()[0])
""!=C[0].id&&(C[0].id=C[0].id+m),this.initrowdetails(m,v,this.element,this.getrowdata(m)),this._rowdetailscache[f].element=v,this._rowdetailselementscache[m]=v}else c[0].innerHTML=x}}},_defaultcellsrenderer:function(t,i){""!=i.cellsformat&&e.jqx.dataFormat&&(e.jqx.dataFormat.isDate(t)?t=e.jqx.dataFormat.formatdate(t,i.cellsformat,this.gridlocalization):e.jqx.dataFormat.isNumber(t)&&(t=e.jqx.dataFormat.formatnumber(t,i.cellsformat,this.gridlocalization)))
var n="6px"
if(28!=this.rowsheight&&((n=this.rowsheight/2-this._cellheight/2)<0&&(n=4),n+="px"),this.enableellipsis){if("center"==i.cellsalign||"middle"==i.cellsalign)return'<div class="jqx-grid-cell-middle-align" style="margin-top: '+n+';">'+t+"</div>"
if("left"==i.cellsalign)return'<div class="jqx-grid-cell-left-align" style="margin-top: '+n+';">'+t+"</div>"
if("right"==i.cellsalign)return'<div class="jqx-grid-cell-right-align" style="margin-top: '+n+';">'+t+"</div>"}return"center"==i.cellsalign||"middle"==i.cellsalign?'<div style="text-align: center; margin-top: '+n+';">'+t+"</div>":'<span style="margin-left: 4px; margin-right: 2px; margin-top: '+n+"; float: "+i.cellsalign+';">'+t+"</span>"},getcelltext:function(t,i){if(null==t||null==i)return null
var n=this.getcellvalue(t,i),r=this.getcolumn(i)
return r&&""!=r.cellsformat&&e.jqx.dataFormat&&(e.jqx.dataFormat.isDate(n)?n=e.jqx.dataFormat.formatdate(n,r.cellsformat,this.gridlocalization):e.jqx.dataFormat.isNumber(n)&&(n=e.jqx.dataFormat.formatnumber(n,r.cellsformat,this.gridlocalization))),n},getcelltextbyid:function(t,i){if(null==t||null==i)return null
var n=this.getcellvaluebyid(t,i),r=this.getcolumn(i)
return r&&""!=r.cellsformat&&e.jqx.dataFormat&&(e.jqx.dataFormat.isDate(n)?n=e.jqx.dataFormat.formatdate(n,r.cellsformat,this.gridlocalization):e.jqx.dataFormat.isNumber(n)&&(n=e.jqx.dataFormat.formatnumber(n,r.cellsformat,this.gridlocalization))),n},_getcellvalue:function(e,t){var i=null
return i=t.bounddata[e.datafield],null!=e.displayfield&&(i=t.bounddata[e.displayfield]),null==i&&(i=""),i},getcell:function(e,t){if(null==e||null==t)return null
var i=parseInt(e),n=e,r=""
return isNaN(i)||(n=this.getrowdata(i)),null!=n&&(r=n[t]),this._getcellresult(r,e,t)},getrenderedcell:function(e,t){if(null==e||null==t)return null
var i=parseInt(e),n=e,r=""
return isNaN(i)||(n=this.getrenderedrowdata(i)),null!=n&&(r=n[t]),this._getcellresult(r,e,t)},_getcellresult:function(e,t,i){var n=this.getcolumn(i)
if(null==n||null==n)return null
var r=n.getcolumnproperties(),o=r.hidden,a=r.width,s=r.pinned,l=r.cellsalign,d=r.cellsformat,c=this.getrowheight(t)
return 0==c?null:{value:e,row:t,column:i,datafield:i,width:a,height:c,hidden:o,pinned:s,align:l,format:d}},setcellvaluebyid:function(e,t,i,n,r){var o=this.getrowboundindexbyid(e)
return this.setcellvalue(o,t,i,n,r)},getcellvaluebyid:function(e,t){var i=this.getrowboundindexbyid(e)
return this.getcellvalue(i,t)},setcellvalue:function(t,i,n,r,o){if(null==t||null==i)return!1
var a=parseInt(t),s=t
isNaN(a)||(s=this.getrowdata(a))
var l=!1
this.filterable&&this._initfilterpanel&&this.dataview.filters.length&&(l=!0),this.virtualmode&&(this._pagescache=new Array),this.sortcache&&(this.sortcache={})
var d="",c=""
if(null==s||s[i]===n)return this._updating||0==r||this._renderrows(this.virtualsizeinfo),!1
if(null!==s[i]||""!==n){var h=this._getcolumnbydatafield(i),u="string"
if(w=this.source.datafields||(this.source._source?this.source._source.datafields:null)){var p=""
e.each(w,function(){if(this.name==h.displayfield)return this.type&&(p=this.type),!1}),p&&(u=p),c=s[h.displayfield]}if(d=s[i],!h.nullable||null!=n&&""!==n&&h.nullable&&void 0===n.label){if(e.jqx.dataFormat.isNumber(d)||"number"==u||"float"==u||"int"==u||"decimal"==u&&"date"!=u)this.gridlocalization&&","==this.gridlocalization.decimalseparator&&n&&n.indexOf&&n.indexOf(",")>=0&&(n=n.replace(",",".")),n=new Number(n),n=parseFloat(n),isNaN(n)&&(n=0)
else if((e.jqx.dataFormat.isDate(d)||"date"==u)&&""!=n){var m=n
"Invalid Date"!=(m=new Date(m))&&null!=m?n=m:"Invalid Date"==m&&(n=m=new Date)}if(s[i]===n)return void(this._updating||0==r||this._renderrows(this.virtualsizeinfo))}var f=this.source&&this.source._source.localdata&&"observableArray"===this.source._source.localdata.name
if(s[i]=n,f){var g=this.source._source.localdata
g._updating||(g._updating=!0,g[t][i]=n,g._updating=!1)}var v=this.getrenderedrowdata(a,!0)
if(v){if(v[i]=n,null!=n&&null!=n.label&&(s[(h=this._getcolumnbydatafield(i)).displayfield]=n.label,v[h.displayfield]=n.label,s[i]=n.value,v[i]=n.value,f&&!g._updating&&(g._updating=!0,g[t][i]=n.value,g[t][h.displayfield]=n.label,g._updating=!1)),l&&null!=s.dataindex&&(s.dataindex,this.dataview.cachedrecords[s.dataindex][i]=n,null!=n&&null!=n.label&&(this.dataview.cachedrecords[s.dataindex][i]=n.value,this.dataview.cachedrecords[s.dataindex][h.displayfield]=n.label)),this.source&&this.source._knockoutdatasource&&!this._updateFromAdapter&&this.autokoupdates&&this.source._source._localdata){var b=a
l&&null!=s.dataindex&&(b=s.dataindex)
var y=this.source._source._localdata()[b]
this.source.suspendKO=!0
var _=y
if(_[i]&&_[i].subscribe)null!=n&&null!=n.label?(_[h.displayfield](n.label),_[i](n.value)):_[i](n)
else{var w=this.source._source.datafields,x=null
if(w&&e.each(w,function(){if(this.name==i)return x=this.map,!1}),null==x)null!=n&&null!=n.label?(_[i]=n.value,_[h.displayfield]=n.label):_[i]=n
else{var C=x.split(this.source.mapChar)
if(C.length>0){for(var S=_,T=0;T<C.length-1;T++)S=S[C[T]]
S[C[C.length-1]]=n}}this.source._source._localdata.replace(y,e.extend({},_))}this.source.suspendKO=!1}if(this.sortcolumn&&this.dataview.sortby&&!this._updating){var I=this.getsortinformation()
this.sortcolumn==i&&(this.dataview.clearsortdata(),this.dataview.sortby(I.sortcolumn,I.sortdirection.ascending))}else this._updating||this.dataview.sortby&&this.dataview.sortcache[i]&&(this.dataview.sortcache[i]=null)
if(this._cellscache=new Array,this._pagescache=new Array,this.source.updaterow&&(null==o||1==o)){var E=this.that
try{var P=this.getrowid(a)
null==this.source.updaterow(P,s,function(e){0==e&&(E.setcellvalue(t,i,d,!0,!1),d!=c&&E.setcellvalue(t,E.getcolumn(i).displayfield,c,!0,!1))})&&!0}catch(e){return!1,E.setcellvalue(t,i,d,!0,!1),void(d!=c&&E.setcellvalue(t,E.getcolumn(i).displayfield,c,!0,!1))}}var D=this.vScrollInstance.value
if(this._updating&&1!=r&&(r=!1),1==r||null==r){E=this.that
var k=function(){E.pageable&&E.updatepagerdetails&&(E.updatepagerdetails(),(E.autoheight||E.autorowheight)&&E._updatepageviews())},A=this.groupable&&this.groups.length>0
l&&!A?((this.autoheight||this.autorowheight)&&(this.prerenderrequired=!0),this.dataview.refresh(),this.rendergridcontent(!0,!1),k(),this._renderrows(this.virtualsizeinfo)):this.sortcolumn&&!A?((this.autoheight||this.autorowheight)&&(this.prerenderrequired=!0),this.dataview.reloaddata(),this.rendergridcontent(!0,!1),k(),this._renderrows(this.virtualsizeinfo)):this.groupable&&this.groups.length>0?((this.autoheight||this.autorowheight)&&(this.prerenderrequired=!0),this.pageable&&-1!=this.groups.indexOf(i)?(this._pagescache=new Array,this._cellscache=new Array,this.dataview.refresh(),this._render(!0,!0,!1,!1)):(this._pagescache=new Array,this._cellscache=new Array,this.dataview.updateview(),this._renderrows(this.virtualsizeinfo))):(this.dataview.updateview(),this._renderrows(this.virtualsizeinfo))}if(this.vScrollInstance.setPosition(D),this.showaggregates&&this._updatecolumnsaggregates&&this._updatecolumnsaggregates(),this.showfilterrow&&this.filterable&&this.filterrow){var j=this.getcolumn(i).filtertype
"list"!=j&&"checkedlist"!=j||this._updatelistfilters(!0)}return this._raiseEvent(19,{rowindex:t,datafield:i,newvalue:n,value:n,oldvalue:d}),!0}}},getcellvalue:function(e,t){if(null==e||null==t)return null
var i=parseInt(e),n=e
return isNaN(i)||(n=this.getrowdata(i)),null!=n?n[t]:null},getrows:function(){var t=this.dataview.records.length
if(this.virtualmode){for(var i=new Array,n=0;n<this.dataview.records.length;n++){var r=this.dataview.records[n]
r&&i.push(r)}void 0===this.dataview.records.length&&e.each(this.dataview.records,function(){this&&i.push(this)})
var o=0
return this.pageable&&(o=this.dataview.pagenum*this.dataview.pagesize),i.length>this.source._source.totalrecords-o?i.slice(0,this.source._source.totalrecords-o):i}if(this.dataview.sortdata){for(i=new Array,n=0;n<t;n++){var a
a=e.extend({},this.dataview.sortdata[n].value),i[n]=a}return i}return this.dataview.records},getrowboundindexbyid:function(e){var t=this.dataview.recordsbyid["id"+e]
if(t&&t.boundindex)return this.getboundindex(t)
for(var i=this.getboundrows(),n=0;n<i.length;n++)if(i[n]&&i[n].uid==e)return n
return-1},getrowdatabyid:function(e){var t=this.dataview.recordsbyid["id"+e]
if(t)return t
var i=this.getrowboundindexbyid(e)
return this.getboundrows()[i]},getrowdata:function(e){return null==e&&(e=0),this.virtualmode?this.dataview.records[e]:this.getboundrows()[e]},getrenderedrowdata:function(e,t){if(null==e&&(e=0),this.virtualmode){var i=this.getrowvisibleindex(e)
return n=this.dataview.loadedrecords[i]}if((i=this.getrowvisibleindex(e))>=0){if(this.groupable&&this.groups.length>0)var n=this.dataview.loadedrecords[i]
else{n=this.dataview.loadedrecords[i]
if(this.pageable&&(null==t||0==t))n=this.dataview.loadedrecords[this.dataview.pagesize*this.dataview.pagenum+e]}return n}return null},getboundrows:function(){return this.dataview.cachedrecords},getrowdisplayindex:function(e){for(var t=this.getdisplayrows(),i=0;i<t.length;i++)if(t[i])if(void 0!==t[i].dataindex){if(t[i].dataindex==e)return t[i].visibleindex}else if(t[i].boundindex==e)return t[i].visibleindex
return-1},getboundindex:function(e){var t=e.boundindex
return this.groupable&&this.groups.length>0&&this.pageable&&e.bounddata&&(t=this.getrowboundindexbyid(e.bounddata.uid)),this.dataview.filters.length>0&&(e.bounddata?void 0!==e.bounddata.dataindex&&(t=e.bounddata.dataindex):void 0!==e.dataindex&&(t=e.dataindex)),t},getrowboundindex:function(e){var t=this.getdisplayrows()[e]
return t?void 0!==t.dataindex?t.dataindex:t.boundindex:-1},getdisplayrows:function(){return this.dataview.loadedrecords},getloadedrows:function(){return this.getdisplayrows()},getvisiblerowdata:function(e){var t=this.getvisiblerows()
return t?t[e]:null},getloadedrowdata:function(e){var t=this.getloadedrows()
return t?t[e]:null},getvisiblerows:function(){if(this.virtualmode)return this.dataview.loadedrecords
if(this.pageable){for(var e=[],t=0;t<this.dataview.pagesize;t++){if(null==(i=this.dataview.loadedrecords[t+this.dataview.pagesize*this.dataview.pagenum]))break
e.push(i)}return e}if(null!=this._startboundindex&&null!=this._endboundindex){for(e=[],t=this._startvisibleindex;t<=this._endvisibleindex;t++){var i
if(null==(i=this.dataview.loadedrecords[t]))break
e.push(i)}return e}return this.dataview.loadedrecords},getrowid:function(e){if(null==e&&(e=0),this.virtualmode){var t=this.getrowvisibleindex(e)
if(i=this.dataview.loadedrecords[t])return i.uid}else{var i=null,n=this.dataview.filters.length>0
if(e>=0&&e<this.dataview.bounditems.length&&!n){if(this.groupable&&this.groups.length>0){t=this.getrowvisibleindex(e)
var i=this.dataview.loadedrecords[t]}else t=this.getrowvisibleindex(e),i=this.dataview.loadedrecords[t]
if(i)return i.uid}if(this.dataview.filters.length>0)return(i=this.getboundrows()[e])&&null!=i.uid?i.uid:null}return null},_updateGridData:function(e){var t=!1
this.filterable&&this._initfilterpanel&&this.dataview.filters.length&&(t=!0),t?(this.dataview.refresh(),"updaterow"==e?(this._render(!0,!0,!1,!1,!1),this.invalidate()):this.render()):this.sortcolumn||this.groupable&&this.groups.length>0?(this.dataview.reloaddata(),this.render()):(this._cellscache=new Array,this._pagescache=new Array,this._renderrows(this.virtualsizeinfo)),this.showfilterrow&&this.filterable&&this.filterrow&&this._updatelistfilters(!0)},updaterow:function(t,i,n){if(null!=t&&null!=i){var r=this.that,o=!1
r._datachanged=!0
var a=function(t,i,r){if(t._loading)throw new Error("jqxGrid: "+t.loadingerrormessage)
var o=!1
e.isArray(i)?(e.each(i,function(e,i){o=t.dataview.updaterow(this,r[e],!1)}),t._cellscache=new Array,t._pagescache=new Array,t.dataview.refresh()):o=t.dataview.updaterow(i,r)
var a=t.vScrollInstance.value
if(null!=n&&1!=n||null!=t._updating&&0!=t._updating||t._updateGridData("updaterow"),t.showaggregates&&t._updatecolumnsaggregates&&t._updatecolumnsaggregates(),t.source&&t.source._knockoutdatasource&&!t._updateFromAdapter&&t.autokoupdates&&t.source._source._localdata){var s=t.dataview.recordsbyid["id"+i],l=t.dataview.records.indexOf(s),d=t.source._source._localdata()[l]
t.source.suspendKO=!0,t.source._source._localdata.replace(d,e.extend({},s)),t.source.suspendKO=!1}if(t.source&&t.source._source.localdata&&"observableArray"===t.source._source.localdata.name&&!t.source._source.localdata._updating){t.source._source.localdata._updating=!0
var c=t.getrowboundindexbyid(i)
t.source._source.localdata.set(c,r),t.source._source.localdata._updating=!1}return t.vScrollInstance.setPosition(a),o}
if(this.source.updaterow){try{null==(o=this.source.updaterow(t,i,function(e){1==e||null==e?a(r,t,i):o=!1}))&&(o=!0)}catch(e){o=!1}}else o=a(r,t,i)
return o}return!1},deleterow:function(t,i){if(null!=t){this._datachanged=!0
var n=!1,r=this.that,o=this.getrowboundindexbyid(t),a=new Array
new Array
if(null!=o&&(this.selectedrowindexes.indexOf(o)>=0&&this.selectedrowindexes.splice(this.selectedrowindexes.indexOf(o),1),this.selectedrowindex==o&&(this.selectedrowindex=-1),!this.virtualmode))if(r.selectionmode.indexOf("row")>=0)e.each(this.selectedrowindexes,function(){var e=r.getrowid(this)
a.push(e)}),this.selectedrowindexes=new Array,this.selectedrowindex=-1
else if(r.selectionmode.indexOf("cell")>=0)for(var s in r.selectedcells){var l=r.selectedcells[s],d=r.getrowid(l.rowindex)
l.rowid=d}var c=function(t,n){if(t._loading)throw new Error("jqxGrid: "+t.loadingerrormessage)
var r=!1,s=t.vScrollInstance.value
if(e.isArray(n))e.each(n,function(){r=t.dataview.deleterow(this,!1)}),t._cellscache=new Array,t._pagescache=new Array,t.dataview.refresh()
else r=t.dataview.deleterow(n)
if(!t.virtualmode)if(t.selectionmode.indexOf("row")>=0)e.each(a,function(){var e=t.getrowboundindexbyid(this);-1!=e&&t.selectrow(e,!1)})
else{var l=new Array
for(var d in t.selectedcells){var c=t.selectedcells[d],h=c.rowid,u=t.getrowboundindexbyid(h);-1!=u&&(c.rowindex=u,l[u+"_"+c.datafield]=c)}t.selectedcells=l}if(null!=t._updating&&0!=t._updating||null!=i&&1!=i||setTimeout(function(){t._render(!0,!0,!1,!1),"visible"!=t.vScrollBar.css("visibility")&&(t._arrange(),t._updatecolumnwidths(),t._updatecellwidths(),t._renderrows(t.virtualsizeinfo))}),t.source&&t.source._knockoutdatasource&&!t._updateFromAdapter&&t.autokoupdates&&t.source._source._localdata&&(t.source.suspendKO=!0,t.source._source._localdata.pop(),t.source.suspendKO=!1),t.source&&t.source._source.localdata&&"observableArray"===t.source._source.localdata.name&&(t.source._source.localdata._updating||(t.source._source.localdata._updating=!0,t.source._source.localdata.splice(o,1),t.source._source.localdata._updating=!1)),t.dataview.sortby){var p=t.getsortinformation()
p.sortcolumn&&(t.dataview.clearsortdata(),t.dataview.sortby(p.sortcolumn,p.sortdirection?p.sortdirection.ascending:null))}return t.vScrollInstance.setPosition(s),r}
if(this.source.deleterow){try{this.source.deleterow(t,function(e){1!=e&&null!=e||c(r,t)}),null==n&&(n=!0)}catch(e){n=!1}}else n=c(r,t)
return n}return!1},addrow:function(t,i,n){if(null!=i){this._datachanged=!0,null==n&&(n="last")
var r=!1,o=this.that
if(null==t){var a=this.dataview.filters&&this.dataview.filters.length>0?this.dataview.cachedrecords.length:this.dataview.totalrecords
if(e.isArray(i)){var s=new Array
e.each(i,function(e,t){var n=o.dataview.getid(o.dataview.source.id,i[e],a+e)
s.push(n)}),t=s}else for(t=this.dataview.getid(this.dataview.source.id,i,a);null!=this.dataview.recordsbyid["id"+t];)t++}var l=function(t,i,n,r){if(t._loading)throw new Error("jqxGrid: "+t.loadingerrormessage)
var o=t.vScrollInstance.value,a=!1
if(e.isArray(n)?(e.each(n,function(e,n){null!=this.dataindex&&delete this.dataindex
var o=null
null!=i&&null!=i[e]&&(o=i[e]),a=t.dataview.addrow(o,this,r,!1)}),t._cellscache=new Array,t._pagescache=new Array,t.dataview.refresh()):(null!=n&&null!=n.dataindex&&delete n.dataindex,a=t.dataview.addrow(i,n,r)),null!=t._updating&&0!=t._updating||setTimeout(function(){t._render(!0,!0,!1,!1),t.invalidate()}),t.source&&t.source._knockoutdatasource&&!t._updateFromAdapter&&t.autokoupdates&&t.source._source._localdata&&(t.source.suspendKO=!0,t.source._source._localdata.push(n),t.source.suspendKO=!1),t.source&&t.source._source.localdata&&"observableArray"===t.source._source.localdata.name&&!t.source._source.localdata._updating){t.source._source.localdata._updating=!0
var s=t.getrowboundindexbyid(i)
t.source._source.localdata.set(s,n),t.source._source.localdata._updating=!1}return"deferred"!=t.scrollmode?t.vScrollInstance.setPosition(o):t.vScrollInstance.setPosition(0),a}
if(this.source.addrow){try{null==(r=this.source.addrow(t,i,n,function(e,r){1!=e&&null!=e||(null!=r&&(t=r),l(o,t,i,n))}))&&(r=!0)}catch(e){r=!1}if(0==r)return!1}else l(this,t,i,n)
return r}return!1},_findvisiblerow:function(e,t){null==e&&(e=parseInt(this.vScrollInstance.value))
var i=0
null!=t&&null!=t||(t=this.rows.records)
for(var n=t.length;i<=n;){var r=parseInt((i+n)/2),o=t[r]
if(null==o)break
if(o.top>e&&o.top+o.height>e)n=r-1
else{if(!(o.top<e&&o.top+o.height<e))return r
i=r+1}}return-1},_updatecellwidths:function(){var e=this.virtualsizeinfo
if(e){var t=this.that
if(null!=t.gridcontent){null==t.table&&(t.table=t.gridcontent.find("#contenttable"+t.element.id))
var i=t.groupable&&t.groups.length>0,n=0,r=e.visiblerecords
if(t.pageable&&(t.autoheight||t.autorowheight)&&(r=t.dataview.pagesize,t.groupable&&(t.dataview.updateview(),r=t.dataview.rows.length)),t.groupable||t.pageable||!t.autoheight&&!t.autorowheight||(r=t.dataview.totalrecords),t.rowdetails&&(r+=t.dataview.pagesize),t.columns.records){for(var o=t.columns.records.length,a=t.table[0].rows,s=0;s<r;s++){var l=a[s]
if(!l)break
for(var d=l.cells,c=0,h=0;h<o;h++){var u=t.columns.records[h],p=u.width,m=d[h]
parseInt(m.style.left)!=c&&(m.style.left=c+"px"),parseInt(m.style.width)!=p&&(m.style.width=p+"px"),u.hidden&&u.hideable?m.style.display="none":c+=parseFloat(p)}0==n&&(t.table.width(parseFloat(c)+2),n=c)}t.showaggregates&&t._updateaggregates&&t._updateaggregates(),t.showfilterrow&&t.filterable&&t._updatefilterrowui&&t._updatefilterrowui(),t.showeverpresentrow&&t._updateaddnewrowui(),t._updatescrollbarsafterrowsprerender(),i&&t._renderrows(t.virtualsizeinfo)}}}},_updatescrollbarsafterrowsprerender:function(){var e=this.that,t=e.hScrollBar[0].style.visibility,i=0,n=e.vScrollBar[0].style.visibility
"visible"==n&&(i=e.scrollbarsize+3),0==e.scrollbarsize&&(i=0),e.scrollbarautoshow&&(i=0)
var r=e.element.style.width
if(r=r.toString().indexOf("%")>=0?e.host.width():parseInt(r),parseInt(e.table[0].style.width)-2>r-i){if("visible"!=t&&(e.autowidth||(e.hScrollBar[0].style.visibility="visible"),e._arrange()),"visible"==n){if("deferred"==e.scrollmode||e.virtualmode)e._updatevscrollbarmax()
else if(e.virtualsizeinfo){var o=e.virtualsizeinfo.virtualheight-e._gettableheight()
!isNaN(o)&&o>0&&("hidden"!=t?e.vScrollBar.jqxScrollBar("max",o+e.scrollbarsize+4):e.vScrollBar.jqxScrollBar("max",o))}}else i=-2
e.hScrollBar.jqxScrollBar("max",i+e.table.width()-e.host.width())}else"hidden"!=t&&(e.hScrollBar.css("visibility","hidden"),e._arrange())
e._renderhorizontalscroll()},_prerenderrows:function(t){var i=this.that
if(1==i.prerenderrequired){if(i.prerenderrequired=!1,i.editable&&i._destroyeditors&&i._destroyeditors(),null==i.gridcontent)return
i.gridcontent.find("#contenttable"+i.element.id).remove(),null!=i.table&&(i.table.remove(),i.table=null),i.table=e('<div id="contenttable'+i.element.id+'" style="overflow: hidden; position: relative;"></div>'),i.gridcontent.addClass(i.toTP("jqx-grid-content")),i.gridcontent.addClass(i.toTP("jqx-widget-content")),i.gridcontent.append(i.table)
var n=i.groupable&&i.groups.length>0,r=0
i.table[0].rows=new Array
var o=i.toTP("jqx-grid-cell")
n&&(o=" "+i.toTP("jqx-grid-group-cell"))
var a=t.visiblerecords
if(i.pageable&&(i.autoheight||i.autorowheight)&&(a=i.dataview.pagesize,i.groupable&&(i.dataview.updateview(),(a=i.dataview.rows.length)<i.dataview.pagesize&&(a=i.dataview.pagesize))),i.pageable||!i.autoheight&&!i.autorowheight||(a=i.dataview.totalrecords),i.groupable&&i.groups.length>0&&(i.autoheight||i.autorowheight)&&!i.pageable&&(a=i.dataview.rows.length),i.rowdetails&&(i.autoheight||i.autorowheight?a+=i.dataview.pagesize:a+=a),!i.columns.records)return
var s=i.columns.records.length
e.jqx.browser.msie&&e.jqx.browser.version>8&&i.table.css("opacity","0.99"),e.jqx.browser.mozilla,-1!=navigator.userAgent.indexOf("Safari")&&i.table.css("opacity","0.99")
var l=e.jqx.browser.msie&&e.jqx.browser.version<8
l&&i.host.attr("hideFocus","true")
var d=i.tableZIndex
a*s>d&&(d=a*s)
i.dataview.records.length,i.isTouchDevice()
var c=""
i._hiddencolumns=!1
for(var h=0;h<a;h++){var u='<div role="row" style="position: relative; height:'+i.rowsheight+'px;" id="row'+h+i.element.id+'">'
if(l){u='<div role="row" style="position: relative; z-index: '+d+"; height:"+i.rowsheight+'px;" id="row'+h+i.element.id+'">'
d--}for(var p=0,m=0;m<s;m++){if((_=(y=i.columns.records[m]).width)<y.minwidth&&(_=y.minwidth),_>y.maxwidth&&(_=y.maxwidth),i.rtl){var f='<div role="gridcell" style="left: '+p+"px; z-index: "+(d-s+2*m)+"; width:"+_+"px;"
d--}else f='<div role="gridcell" style="left: '+p+"px; z-index: "+d--+"; width:"+_+"px;"
y.hidden&&y.hideable?(f+="display: none;",i._hiddencolumns=!0,d++):p+=_,f+='" class="'+o+'">',f+=this._defaultcellsrenderer("",y),u+=f+="</div>"}0==r&&(i.table.width(parseInt(p)+2),r=p),c+=u+="</div>"}i.WinJS?MSApp.execUnsafeLocalFunction(function(){i.table.html(c)}):i.table[0].innerHTML=c,i.table[0].rows=new Array
var g=i.table.children()
for(h=0;h<a;h++){var v=g[h]
i.table[0].rows.push(v),v.cells=new Array
var b=e(v).children()
for(m=0;m<s;m++)v.cells.push(b[m])}if(0==a){p=0
if(i.showemptyrow){u=e('<div style="position: relative;" id="row0'+i.element.id+'"></div>')
i.table.append(u),u.height(i.rowsheight),i.table[0].rows[0]=u[0],i.table[0].rows[0].cells=new Array}for(m=0;m<s;m++){var y,_=(y=i.columns.records[m]).width
if(i.showemptyrow)(f=e('<div style="position: absolute; height: 100%; left: '+p+"px; z-index: "+d--+"; width:"+_+'px;" class="'+o+'"></div>')).height(i.rowsheight),u.append(f),i.table[0].rows[0].cells[m]=f[0]
_<y.minwidth&&(_=y.minwidth),_>y.maxwidth&&(_=y.maxwidth),y.hidden&&y.hideable||(p+=_)}i.table.width(parseInt(p)+2),r=p}i._updatescrollbarsafterrowsprerender(),i.rendered&&i.rendered("rows"),i.toCompile=new Array,i._addoverlayelement()}},_groupsheader:function(){return this.groupable&&this.showgroupsheader},_arrange:function(){var e=null,t=null
this.tableheight=null
var i=this.that,n=!1,r=!1
if(null!=i.width&&-1!=i.width.toString().indexOf("px")?e=i.width:null==i.width||isNaN(i.width)||(e=i.width),null!=i.width&&-1!=i.width.toString().indexOf("%")&&(e=i.width,n=!0),i.scrollbarautoshow&&(i.vScrollBar[0].style.display="none",i.hScrollBar[0].style.display="none",i.vScrollBar[0].style.zIndex=i.tableZIndex+i.headerZIndex,i.hScrollBar[0].style.zIndex=i.tableZIndex+i.headerZIndex),i.autowidth){for(var o=0,a=0;a<i.columns.records.length;a++){var s=i.columns.records[a].width
o+="auto"==s?s=i._measureElementWidth(i.columns.records[a].text):s}"hidden"!=i.vScrollBar.css("visibility")&&(o+=i.scrollbarsize+4),e=o,i.width=e}null!=i.height&&-1!=i.height.toString().indexOf("px")?t=i.height:null==i.height||isNaN(i.height)||(t=i.height),null!=i.height&&-1!=i.height.toString().indexOf("%")&&(t=i.height,r=!0)
var l=function(){var e=0
return e+=i.showheader&&null!=i.columnsheader?i.columnsheader.height()+2:0,i.pageable&&(e+=i.pagerheight),i._groupsheader()&&(e+=i.groupsheaderheight),i.showtoolbar&&(e+=i.toolbarheight),i.showstatusbar&&(e+=i.statusbarheight),i.showeverpresentrow&&"bottom"===i.everpresentrowposition&&(e+=i.everpresentrowheight),"visible"==i.hScrollBar[0].style.visibility&&(e+=20),e}
if(i.autoheight&&i.virtualsizeinfo)if(i.pageable&&i.gotopage){t=(d=0)+(i._pageviews[0]?i._pageviews[0].height:0),t+=l(),i.showemptyrow&&0==i.dataview.totalrecords&&(t+=i.rowsheight)}else{var d=i.host.height()-i._gettableheight()
i._pageviews.length>0?(t=d+i._pageviews[i._pageviews.length-1].height+i._pageviews[i._pageviews.length-1].top,i.vScrollBar[0].style.visibility="hidden"):(t=l(),i.showemptyrow&&(t+=i.rowsheight))}else i.autoheight&&(t=i.dataview.totalrecords*i.rowsheight,i.pageable&&i.gotopage&&(t=i.pagesize*i.rowsheight),i._loading&&(t=250,i.dataloadelement.height(t)),(t+=l())>1e4&&(t=1e4))
null!=e?(e=parseInt(e),n?i.element.style.width=i.width:i.element.style.width!=parseInt(i.width)+"px"&&(i.element.style.width=parseInt(i.width)+"px"),n&&((e=i.host.width())<=2&&(e=600,i.host.width(e)),i._oldWidth||(i._oldWidth=e))):i.host.width(250),null!=t?(r||(t=parseInt(t)),r?i.element.style.height=i.height:i.element.style.height!=parseInt(t)+"px"&&(i.element.style.height=parseInt(t)+"px"),r&&!i.autoheight&&(0==(t=i.host.height())&&(t=400,i.host.height(t)),i._oldHeight||(i._oldHeight=t))):i.host.height(250),i.autoheight&&(i.tableheight=null,i._gettableheight())
var c=0
if(i.showtoolbar?(i.toolbar.width(e),i.toolbar.height(i.toolbarheight-1),i.toolbar.css("top",0),c+=i.toolbarheight,t-=parseInt(i.toolbarheight)):i.toolbar[0].style.height="0px",i.showstatusbar?(i.showaggregates?i.statusbar.width(i.table?Math.max(e,i.table.width()):e):i.statusbar.width(e),i.statusbar.height(i.statusbarheight)):i.statusbar[0].style.height="0px",i.showeverpresentrow&&"bottom"===i.everpresentrowposition?(i.addnewrow.width(e),i.addnewrow.height(i.everpresentrowheight)):i.addnewrow[0].style.height="0px",i._groupsheader()){i.groupsheader.width(e),i.groupsheader.height(i.groupsheaderheight),i.groupsheader.css("top",c),c+=h=i.groupsheader.height()+1,t>h&&(t-=parseInt(h))}else{i.groupsheader[0].style.width!=e+"px"&&(i.groupsheader[0].style.width=parseInt(e)+"px"),i.groupsheader[0].style.height="0px",i.groupsheader[0].style.top!=c+"px"&&i.groupsheader.css("top",c)
var h,u=c+(h=i.showgroupsheader&&i.groupable?i.groupsheaderheight:0)+"px"
i.content[0].style.top!=u&&i.content.css("top",c+i.groupsheaderheight)}var p=i.scrollbarsize
isNaN(p)&&(p=parseInt(p),isNaN(p)?p="17px":p+="px"),p=parseInt(p)
var m=2,f=0
"visible"==i.vScrollBar[0].style.visibility&&(f=p+4),"visible"==i.hScrollBar[0].style.visibility&&(m=p+4+2),0==p&&(f=0,m=0)
var g=0
i.pageable&&(g=i.pagerheight,m+=i.pagerheight),i.showstatusbar&&(m+=i.statusbarheight,g+=i.statusbarheight),i.showeverpresentrow&&"bottom"===i.everpresentrowposition&&(m+=i.everpresentrowheight,g+=i.everpresentrowheight),i.hScrollBar[0].style.height!=p+"px"&&(i.hScrollBar[0].style.height=parseInt(p)+"px"),i.hScrollBar[0].style.top==c+t-4-p-g+"px"&&"0px"==i.hScrollBar[0].style.left||i.hScrollBar.css({top:c+t-4-p-g+"px",left:"0px"})
var v=i.hScrollBar[0].style.width,b=!1,y=!1
0==f?v!=e-2+"px"&&(i.hScrollBar.width(e-2),b=!0):v!=e-p-4+"px"&&(i.hScrollBar.width(e-p-4+"px"),b=!0),i.autoheight||(i.vScrollBar[0].style.width!=p+"px"&&(i.vScrollBar.width(p),y=!0),i.vScrollBar[0].style.height!=parseInt(t)-m+"px"&&(i.vScrollBar.height(parseInt(t)-m+"px"),y=!0),i.vScrollBar[0].style.left==parseInt(e)-parseInt(p)-4+"px"&&i.vScrollBar[0].style.top==c+"px"||i.vScrollBar.css({left:parseInt(e)-parseInt(p)-4+"px",top:c})),i.rtl&&(i.vScrollBar.css({left:"0px",top:c}),"hidden"!=i.vScrollBar.css("visibility")&&i.hScrollBar.css({left:p+2}))
var _=i.vScrollInstance
_.disabled=i.disabled,i.autoheight||y&&_.refresh()
var w=i.hScrollInstance
w.disabled=i.disabled,b&&w.refresh(),i.autowidth&&(i.hScrollBar[0].style.visibility="hidden"),i.statusbarheight=parseInt(i.statusbarheight),i.toolbarheight=parseInt(i.toolbarheight)
var x=function(e){if("visible"==e.vScrollBar[0].style.visibility&&"visible"==e.hScrollBar[0].style.visibility){e.bottomRight[0].style.visibility="visible",e.bottomRight.css({left:1+parseInt(e.vScrollBar.css("left")),top:parseInt(e.hScrollBar.css("top"))}),e.rtl&&e.bottomRight.css("left","0px"),e.bottomRight.width(parseInt(p)+3),e.bottomRight.height(parseInt(p)+4)
var t=e.showeverpresentrow&&"bottom"==e.everpresentrowposition?e.everpresentrowheight:0
t>0&&!e.showaggregates&&(e.bottomRight.css("z-index",99),e.bottomRight.height(parseInt(p)+4+t),e.bottomRight.css({top:parseInt(e.hScrollBar.css("top"))-t})),e.showaggregates&&(e.bottomRight.css("z-index",99),e.bottomRight.height(parseInt(p)+4+e.statusbarheight+t),e.bottomRight.css({top:parseInt(e.hScrollBar.css("top"))-e.statusbarheight-t}))}else e.bottomRight[0].style.visibility="hidden"}
if(x(this),i.content[0].style.width!=e-f+"px"&&i.content.width(e-f),i.content[0].style.height!=t-m+3+"px"&&i.content.height(t-m+3),i.scrollbarautoshow&&(i.content[0].style.width!=e+"px"&&i.content.width(e),i.content[0].style.height!=t+"px"&&i.content.height(t)),i.content[0].style.top!=c+"px"&&i.content.css("top",c),i.rtl&&(i.content.css("left",f),i.scrollbarautoshow&&i.content.css("left","0px"),i.table)){var C=i.table.width()
C<e-f&&i.content.css("left",e-C)}if(i.showstatusbar&&(i.statusbar.css("top",c+t-i.statusbarheight-(i.pageable?i.pagerheight:0)),i.showaggregates&&("visible"==i.hScrollBar.css("visibility")&&(i.hScrollBar.css({top:c+t-4-p-g+i.statusbarheight+"px"}),i.statusbar.css("top",1+c+t-p-5-i.statusbarheight-(i.pageable?i.pagerheight:0))),x(this)),i.rtl&&("visible"!=i.hScrollBar.css("visibility")?i.statusbar.css("left",i.content.css("left")):i.statusbar.css("left","0px"))),i.showeverpresentrow&&"bottom"===i.everpresentrowposition&&(i.addnewrow.css("top",c+t-(i.showstatusbar?i.statusbarheight:0)-(i.pageable?i.pagerheight:0)-i.everpresentrowheight),i.rtl&&("visible"!=i.hScrollBar.css("visibility")?i.addnewrow.css("left",i.content.css("left")):i.addnewrow.css("left","0px"))),i.pageable?(i.pager.width(e),i.pager.height(i.pagerheight),i.pager.css("top",c+t-i.pagerheight-1)):i.pager[0].style.height="0px",null!=i.table){var S=-2
if("visible"==i.vScrollBar[0].style.visibility&&(S=i.scrollbarsize+3),"visible"==i.hScrollBar[0].style.visibility){var T=S+i.table.width()-i.host.width()
T>=0&&i.hScrollBar.jqxScrollBar("max",T),"visible"==i.hScrollBar[0].style.visibility&&0==T&&(i.hScrollBar[0].style.visibility="hidden",i._arrange())}}e!=parseInt(i.dataloadelement[0].style.width)&&(i.dataloadelement[0].style.width=i.element.style.width),t!=parseInt(i.dataloadelement[0].style.height)&&(i.dataloadelement[0].style.height=i.element.style.height),i._hostwidth=e},destroy:function(){if(delete e.jqx.dataFormat.datescache,delete this.gridlocalization,e.jqx.utilities.resize(this.host,null,!0),(""!=document.referrer||window.frameElement)&&null!=window.top&&window.top!=window.self&&this.removeHandler(e(window.top.document),"mouseup.grid"+this.element.id),this.table&&this.table[0]){for(var t=this.table[0].rows.length,i=0;i<t;i++){for(var n=this.table[0].rows[i],r=n.cells.length,o=0;o<r;o++)e(n.cells[o]).remove(),n.cells[o]=null,delete n.cells[o]
n.cells=null,n.cells&&delete n.cells,e(this.table[0].rows[i]).remove(),this.table[0].rows[i]=null}try{delete this.table[0].rows}catch(e){}this.table.remove(),delete this.table}if(this.columns&&this.columns.records){for(i=0;i<this.columns.records.length;i++){var a=this.columns.records[i]
a.addnewrowwidget&&a.destroyeverpresentrowwidget&&a.destroyeverpresentrowwidget(a.addnewrowwidget),this._removecolumnhandlers(this.columns.records[i]),a.element&&(e(a.element).remove(),e(a.sortasc).remove(),e(a.sortdesc).remove(),e(a.filtericon).remove(),e(a.menu).remove(),a.element=null,a.uielement=null,a.sortasc=null,a.sortdesc=null,a.filtericon=null,a.menu=null,delete a.element,delete a.uielement,delete a.sortasc,delete a.sortdesc,delete a.filtericon,delete a.menu,delete this.columnsrow[0].cells[i])}try{delete this.columnsrow[0].cells}catch(e){}delete this.columnsrow}if(e.removeData(document.body,"contextmenu"+this.element.id),this.host.jqxDropDownList&&this._destroyfilterpanel&&this._destroyfilterpanel(),this.editable&&this._destroyeditors&&this._destroyeditors(),this.filterable&&this._destroyedfilters&&this.showfilterrow&&this._destroyedfilters(),this.host.jqxMenu&&this.gridmenu&&(this.removeHandler(e(document),"click.menu"+this.element.id),this.removeHandler(this.gridmenu,"keydown"),this.removeHandler(this.gridmenu,"closed"),this.removeHandler(this.gridmenu,"itemclick"),this.gridmenu.jqxMenu("destroy"),this.gridmenu=null),this.pagershowrowscombo&&(this.pagershowrowscombo.jqxDropDownList("destroy"),this.pagershowrowscombo=null),this.pagerrightbutton&&(this.removeHandler(this.pagerrightbutton,"mousedown"),this.removeHandler(this.pagerrightbutton,"mouseup"),this.removeHandler(this.pagerrightbutton,"click"),this.pagerrightbutton.jqxButton("destroy"),this.pagerrightbutton=null),this.pagerleftbutton&&(this.removeHandler(this.pagerleftbutton,"mousedown"),this.removeHandler(this.pagerleftbutton,"mouseup"),this.removeHandler(this.pagerleftbutton,"click"),this.pagerleftbutton.jqxButton("destroy"),this.removeHandler(e(document),"mouseup.pagerbuttons"+this.element.id),this.pagerleftbutton=null),this.removeHandler(e(document),"selectstart."+this.element.id),this.removeHandler(e(document),"mousedown.resize"+this.element.id),this.removeHandler(e(document),"mouseup.resize"+this.element.id),this.removeHandler(e(document),"mousemove.resize"+this.element.id),this.isTouchDevice()){var s=e.jqx.mobile.getTouchEventName("touchmove")+".resize"+this.element.id,l=e.jqx.mobile.getTouchEventName("touchstart")+".resize"+this.element.id,d=e.jqx.mobile.getTouchEventName("touchend")+".resize"+this.element.id
this.removeHandler(e(document),s),this.removeHandler(e(document),l),this.removeHandler(e(document),d)}if(this.removeHandler(e(document),"mousedown.reorder"+this.element.id),this.removeHandler(e(document),"mouseup.reorder"+this.element.id),this.removeHandler(e(document),"mousemove.reorder"+this.element.id),this.isTouchDevice()){s=e.jqx.mobile.getTouchEventName("touchmove")+".reorder"+this.element.id,l=e.jqx.mobile.getTouchEventName("touchstart")+".reorder"+this.element.id,d=e.jqx.mobile.getTouchEventName("touchend")+".reorder"+this.element.id
this.removeHandler(e(document),s),this.removeHandler(e(document),l),this.removeHandler(e(document),d)}if(this.removeHandler(e(window),"resize."+this.element.id),this.resizeline&&this.resizeline.remove(),this.resizestartline&&this.resizestartline.remove(),this.groupable){s="mousemove.grouping"+this.element.id,l="mousedown.grouping"+this.element.id,d="mouseup.grouping"+this.element.id
this.removeHandler(e(document),s),this.removeHandler(e(document),l),this.removeHandler(e(document),d)}if(this.columnsreorder){s="mousemove.reorder"+this.element.id,l="mousedown.reorder"+this.element.id,d="mouseup.reorder"+this.element.id
this.removeHandler(e(document),s),this.removeHandler(e(document),l),this.removeHandler(e(document),d),delete this.columnsbounds}if(this.content&&(this.removeHandler(this.content,"mousedown"),this.removeHandler(this.content,"scroll")),this._removeHandlers(),this.hScrollInstance.destroy(),this.vScrollInstance.destroy(),this.hScrollBar.remove(),this.vScrollBar.remove(),this._clearcaches(),delete this.hScrollInstance,delete this.vScrollInstance,delete this.visiblerows,delete this.hittestinfo,delete this.rows,delete this.columns,delete this.columnsbydatafield,delete this.pagescache,delete this.pageviews,delete this.cellscache,delete this.heights,delete this.hiddens,delete this.hiddenboundrows,delete this.heightboundrows,delete this.detailboundrows,delete this.details,delete this.expandedgroups,delete this._rowdetailscache,delete this._rowdetailselementscache,delete this.columnsmenu,this.columnsheader&&(this.columnsheader.remove(),delete this.columnsheader),this.selectionarea&&(this.selectionarea.remove(),delete this.selectionarea),this.menuitemsarray&&this.menuitemsarray.length){var c=this.menuitemsarray.length
for(i=0;i<c;i++)e(this.menuitemsarray[i]).remove()}delete this.menuitemsarray,this.dataview._clearcaches(),this.content.removeClass(),this.content.remove(),this.content=null,delete this.content,this.vScrollBar=null,this.hScrollBar=null,delete this.hScrollBar,delete this.hScrollBar,this.gridcontent&&(this.gridcontent.remove(),delete this.gridcontent),this.gridmenu&&(this.gridmenu=null,delete this.gridmenu),delete this._mousemovefunc,delete this._mousewheelfunc,this.dataview.destroy(),delete this.dataview,this.bottomRight.remove(),delete this.bottomRight,this.wrapper.remove(),delete this.wrapper,this.pagerdiv&&(this.pagerdiv.remove(),delete this.pagerdiv),this.pagerpageinput&&(this.pagerpageinput.remove(),delete this.pagerpageinput),this.pagergoto&&(this.pagergoto.remove(),delete this.pagergoto),this.pagershowrows&&(this.pagershowrows.remove(),delete this.pagershowrows),this.pagerfirstbutton&&(this.pagerfirstbutton.remove(),delete this.pagerfirstbutton),this.pagerlastbutton&&(this.pagerlastbutton.remove(),delete this.pagerlastbutton),this.pagerbuttons&&(this.pagerbuttons.remove(),delete this.pagerbuttons),this.pagerdetails&&(this.pagerdetails.remove(),delete this.pagerdetails),this.pagergotoinput&&(this.pagergotoinput.remove(),delete this.pagergotoinput),this.pager.remove(),delete this.pager,this.groupsheader.remove(),delete this.groupsheader,this.dataloadelement.remove(),delete this.dataloadelement,this.toolbar.remove(),delete this.toolbar,this.statusbar.remove(),delete this.statusbar,this.host.removeData(),this.host.removeClass(),this.host.remove(),this.host=null,delete this.host,delete this.element,delete this.set,delete this.get,delete this.that,delete this.call},_initializeColumns:function(){var i=this.source?this.source.datafields:null
null==i&&this.source&&this.source._source&&(i=this.source._source.datafields)
var n=!!i&&i.length>0
if(this.autogeneratecolumns){var r=new Array
if(i)e.each(i,function(){var e={datafield:this.name,text:this.text||this.name,cellsformat:this.format||""}
r.push(e)})
else if(this.source.records.length>0){var o=this.source.records[0]
for(var a in o)if("uid"!=a){var s={width:100,datafield:a,text:a}
r.push(s)}}this.columns=r}if(this.columns&&this.columns.records)for(var l=0;l<this.columns.records.length;l++)this._removecolumnhandlers(this.columns.records[l])
var d=this.that,c=new e.jqx.collection(this.element),h=0;(this._haspinned=!1,this._columns?this.columns=this._columns:this._columns=this.columns,this.groupable&&e.each(this.groups,function(e){var i=new t(d,this)
i.visibleindex=h++,i.width=d.groupindentwidth,c.add(i),i.grouped=!0,i.filterable=!1,i.sortable=!1,i.editable=!1,i.resizable=!1,i.draggable=!1}),this.rowdetails&&this.showrowdetailscolumn)&&((s=new t(d,this)).visibleindex=h++,s.width=d.groupindentwidth,s.pinned=!0,s.editable=!1,s.filterable=!1,s.draggable=!1,s.groupable=!1,s.resizable=!1,c.add(s),d._haspinned=!0)
"checkbox"==this.selectionmode&&((s=new t(d,null)).visibleindex=h++,s.width=d.groupindentwidth,s.checkboxcolumn=!0,s.editable=!1,s.columntype="checkbox",s.groupable=!1,s.draggable=!1,s.filterable=!1,s.resizable=!1,s.datafield="_checkboxcolumn",c.add(s))
var u=new Array
e.each(this.columns,function(e){if(null!=d.columns[e]){var i=new t(d,this)
if(i.visibleindex=h++,null!=this.dataField&&(this.datafield=this.dataField),this.pinned&&(d._haspinned=!0),d.showeverpresentrow&&("addButtonColumn"!==this.datafield&&"resetButtonColumn"!==this.datafield&&"updateButtonColumn"!==this.datafield&&"deleteButtonColumn"!==this.datafield||(i.editable=!1,i.groupable=!1,i.draggable=!1,i.filterable=!1,i.resizable=!1,i.menu=!1)),null==this.datafield)d.source&&d.source._source&&"array"==d.source._source.datatype&&(n||(d.source._source.datafields?d.source._source.datafields.push({name:e.toString()}):(d.source._source.datafields=new Array,d.source._source.datafields.push({name:e.toString()}))),this.datafield=e.toString(),this.displayfield=e.toString(),i.datafield=this.datafield,i.displayfield=this.displayfield)
else{if(u[this.datafield])throw new Error("jqxGrid: Invalid column 'datafield' setting. jqxGrid's columns should be initialized with unique data fields.")
u[this.datafield]=!0}c.add(i)}}),this.rtl&&c.records.reverse(),this.columns=c},_initializeRows:function(){var t=new e.jqx.collection(this.element)
this.rows&&this.rows.clear(),this.rows=t},_raiseEvent:function(t,i){if(null==i&&(i={owner:null}),!1!==this._trigger){var n=this.events[t]
if(this._camelCase||(n=n.toLowerCase()),(2==t||15==t)&&this.showeverpresentrow&&(this.everpresentrowactions.indexOf("delete")>=0||this.everpresentrowactions.indexOf("update")>=0)){if(this.updateeverpresentrow)var r=this
setTimeout(function(){r.updateeverpresentrow()},50)}var o=i
o.owner=this
var a=new e.Event(n)
a.owner=this,a.args=o
var s=this.host.trigger(a)
return i=a.args,s}},wheel:function(e,t){if(t.autoheight&&"visible"!=t.hScrollBar.css("visibility"))return e.returnValue=!0,!0
var i=0
if(e||(e=window.event),e.originalEvent&&e.originalEvent.wheelDelta&&(e.wheelDelta=e.originalEvent.wheelDelta),e.wheelDelta?i=e.wheelDelta/120:e.detail&&(i=-e.detail/3),i){var n=t._handleDelta(i)
return n&&(e.preventDefault&&e.preventDefault(),null!=e.originalEvent&&(e.originalEvent.mouseHandled=!0),null!=e.stopPropagation&&e.stopPropagation()),!!n&&(n=!1,e.returnValue=n,n)}e.preventDefault&&e.preventDefault(),e.returnValue=!1},_handleDelta:function(e){if("hidden"!=this.vScrollBar.css("visibility")){var t=this.vScrollInstance.value
if(e<0?this.scrollDown():this.scrollUp(),t!=this.vScrollInstance.value)return!0}else if("hidden"!=this.hScrollBar.css("visibility")){t=this.hScrollInstance.value
if(e>0?this.hScrollInstance.value>2*this.horizontalscrollbarstep?this.hScrollInstance.setPosition(this.hScrollInstance.value-2*this.horizontalscrollbarstep):this.hScrollInstance.setPosition(0):this.hScrollInstance.value<this.hScrollInstance.max?this.hScrollInstance.setPosition(this.hScrollInstance.value+2*this.horizontalscrollbarstep):this.hScrollInstance.setPosition(this.hScrollInstance.max),t!=this.hScrollInstance.value)return!0}return!1},scrollDown:function(){if("hidden"!=this.vScrollBar.css("visibility")){var e=this.vScrollInstance
e.value+this.rowsheight<=e.max?e.setPosition(parseInt(e.value)+this.rowsheight):e.setPosition(e.max)}},scrollUp:function(){if("hidden"!=this.vScrollBar.css("visibility")){var e=this.vScrollInstance
e.value-this.rowsheight>=e.min?e.setPosition(parseInt(e.value)-this.rowsheight):e.setPosition(e.min)}},_removeHandlers:function(){var t=this.that
t.removeHandler(e(window),"orientationchange.jqxgrid"+t.element.id),t.removeHandler(e(window),"orientationchanged.jqxgrid"+t.element.id),t.removeHandler(t.vScrollBar,"valueChanged"),t.removeHandler(t.hScrollBar,"valueChanged"),t.vScrollInstance.valueChanged=null,t.hScrollInstance.valueChanged=null
var i="mousedown.jqxgrid"
t.isTouchDevice()&&(i=e.jqx.mobile.getTouchEventName("touchend")),t.removeHandler(t.host,"dblclick.jqxgrid"),t.removeHandler(t.host,i),t.removeHandler(t.content,"mousemove",t._mousemovefunc),t.removeHandler(t.host,"mouseleave.jqxgrid"),t.removeHandler(t.content,"mouseenter"),t.removeHandler(t.content,"mouseleave"),t.removeHandler(t.content,"mousedown"),t.removeHandler(t.content,"scroll"),t.removeHandler(t.content,"selectstart."+t.element.id),t.removeHandler(t.host,"dragstart."+t.element.id),t.removeHandler(t.host,"keydown.edit"+t.element.id),t.removeHandler(e(document),"keydown.edit"+t.element.id),t.removeHandler(e(document),"keyup.edit"+t.element.id),t._mousemovedocumentfunc&&t.removeHandler(e(document),"mousemove.selection"+t.element.id,t._mousemovedocumentfunc),t.removeHandler(e(document),"mouseup.selection"+t.element.id),t._mousewheelfunc&&t.removeHandler(t.host,"mousewheel",t._mousewheelfunc),t.editable&&t.removeHandler(e(document),"mousedown.gridedit"+t.element.id),t.host.off&&(t.content.off("mousemove"),t.host.off("mousewheel"))},_addHandlers:function(){var t=this.that,i=t.isTouchDevice()
i||t.addHandler(t.host,"dragstart."+t.element.id,function(e){return!1}),t.scrollbarautoshow&&(t.addHandler(t.host,"mouseenter.gridscroll"+t.element.id,function(e){t.vScrollBar.fadeIn("fast"),t.hScrollBar.fadeIn("fast")}),t.addHandler(t.host,"mouseleave.gridscroll"+t.element.id,function(e){t.vScrollInstance.isScrolling()||t.hScrollInstance.isScrolling()||(t.vScrollBar.fadeOut("fast"),t.hScrollBar.fadeOut("fast"))})),t.editable&&t.addHandler(e(document),"mousedown.gridedit"+t.element.id,function(e){if(t.editable&&t.begincelledit&&t.editcell&&!t.vScrollInstance.isScrolling()&&!t.vScrollInstance.isScrolling()){var i=t.host.coord(),n=t.host.width(),r=t.host.height(),o=!1,a=!1
if((e.pageY<i.top||e.pageY>i.top+r)&&(o=!0,a=!0),(e.pageX<i.left||e.pageX>i.left+n)&&(o=!0,!0),o){if(t.editcell&&t.editcell.editor)switch(t.editcell.columntype){case"datetimeinput":if(t.editcell.editor.jqxDateTimeInput&&t.editcell.editor.jqxDateTimeInput("container")&&"block"==t.editcell.editor.jqxDateTimeInput("container")[0].style.display){var s=t.editcell.editor.jqxDateTimeInput("container").coord().top,l=t.editcell.editor.jqxDateTimeInput("container").coord().top+t.editcell.editor.jqxDateTimeInput("container").height()
if(!a||!(e.pageY<s||e.pageY>l))return
o=!0,t.editcell.editor.jqxDateTimeInput("close")}break
case"combobox":if(t.editcell.editor.jqxComboBox&&t.editcell.editor.jqxComboBox("container")&&"block"==t.editcell.editor.jqxComboBox("container")[0].style.display){s=t.editcell.editor.jqxComboBox("container").coord().top,l=t.editcell.editor.jqxComboBox("container").coord().top+t.editcell.editor.jqxComboBox("container").height()
if(!a||!(e.pageY<s||e.pageY>l))return
o=!0,t.editcell.editor.jqxComboBox("close")}break
case"dropdownlist":if(t.editcell.editor.jqxDropDownList&&t.editcell.editor.jqxDropDownList("container")&&"block"==t.editcell.editor.jqxDropDownList("container")[0].style.display){s=t.editcell.editor.jqxDropDownList("container").coord().top,l=t.editcell.editor.jqxDropDownList("container").coord().top+t.editcell.editor.jqxDropDownList("container").height()
if(!a||!(e.pageY<s||e.pageY>l))return
o=!0,t.editcell.editor.jqxDropDownList("close")}break
case"template":case"custom":for(var d=["jqxDropDownList","jqxComboBox","jqxDropDownButton","jqxDateTimeInput"],c=function(i){var n=t.editcell.editor.data()
if(n[i]&&n[i].instance.container&&"block"==n[i].instance.container[0].style.display){var r=n[i].instance,s=r.container.coord().top,l=r.container.coord().top+r.container.height()
return!(!a||!(e.pageY<s||e.pageY>l))&&(o=!0,r.close(),!0)}},h=0;h<d.length;h++){if(0==c(d[h]))return}}t.endcelledit(t.editcell.row,t.editcell.column,!1,!0),t._oldselectedcell=null}}}),t.vScrollInstance.valueChanged=function(e){t.virtualsizeinfo&&(t._closemenu(),"physical"!=t.scrollmode?(t._renderrows(t.virtualsizeinfo),t.currentScrollValue=e.currentValue):(null!=t.currentScrollValue&&Math.abs(t.currentScrollValue-e.currentValue),t._renderrows(t.virtualsizeinfo),t.currentScrollValue=e.currentValue),t.pageable||t.groupable||!t.dataview.virtualmode||(t.loadondemandupdate&&clearTimeout(t.loadondemandupdate),t.loadondemandupdate=setTimeout(function(){t.loadondemand=!0,t._renderrows(t.virtualsizeinfo)},100)),i&&(t._lastScroll=new Date))},t.hScrollInstance.valueChanged=function(n){if(t.virtualsizeinfo){t._closemenu()
var r=function(){t._renderhorizontalscroll(),t._renderrows(t.virtualsizeinfo),t.editcell&&!t.editrow&&t._showcelleditor&&t.editcell.editing&&(t.hScrollInstance.isScrolling()||t._showcelleditor(t.editcell.row,t.getcolumn(t.editcell.column),t.editcell.element,t.editcell.init))}
if(i)r()
else{null==t._browser?t._isIE10():t._browser
navigator&&-1!=navigator.userAgent.indexOf("Safari")&&-1==navigator.userAgent.indexOf("Chrome")?(t._hScrollTimer&&clearTimeout(t._hScrollTimer),t._hScrollTimer=setTimeout(function(){r()},1)):e.jqx.browser.msie?(t._hScrollTimer&&clearTimeout(t._hScrollTimer),t._hScrollTimer=setTimeout(function(){r()},.01)):r()}i&&(t._lastScroll=new Date)}},t._mousewheelfunc=t._mousewheelfunc||function(e){if(!t.editcell&&t.enablemousewheel)return t.wheel(e,t),!1},t.removeHandler(t.host,"mousewheel",t._mousewheelfunc),t.addHandler(t.host,"mousewheel",t._mousewheelfunc)
var n="mousedown.jqxgrid"
i&&(n=e.jqx.mobile.getTouchEventName("touchend")),t.addHandler(t.host,n,function(i){if(t.isTouchDevice()){if(t._newScroll=new Date,t._newScroll-t._lastScroll<500)return!1
if(e(i.target).ischildof(t.vScrollBar))return!1
if(e(i.target).ischildof(t.hScrollBar))return!1}t._mousedown=new Date
var n=t._handlemousedown(i,t)
return t.isNestedGrid&&(t.resizablecolumn||t.columnsreorder||i.stopPropagation()),t._lastmousedown=new Date,n}),i||(t.addHandler(t.host,"dblclick.jqxgrid",function(i){if(t.editable&&t.begincelledit&&"dblclick"==t.editmode)t._handledblclick(i,t)
else if(e.jqx.browser.msie&&e.jqx.browser.version<9)t._handlemousedown(i,t)
return t.mousecaptured=!1,t._lastmousedown=new Date,!0}),t._mousemovefunc=function(e){if(t._handlemousemove)return t._handlemousemove(e,t)},t.addHandler(t.content,"mousemove",t._mousemovefunc),t._handlemousemoveselection&&(t._mousemovedocumentfunc=function(e){if(t._handlemousemoveselection)return t._handlemousemoveselection(e,t)},t.addHandler(e(document),"mousemove.selection"+t.element.id,t._mousemovedocumentfunc)),t.addHandler(e(document),"mouseup.selection"+t.element.id,function(e){t._handlemouseupselection&&t._handlemouseupselection(e,t)}))
try{if((""!=document.referrer||window.frameElement)&&null!=window.top&&window.top!=window.self){var r=null
if(window.parent&&document.referrer&&(r=document.referrer),r&&-1!=r.indexOf(document.location.host)){t.addHandler(e(window.top.document),"mouseup.grid"+t.element.id,function(e){if(t._handlemouseupselection)try{t._handlemouseupselection(e,t)}catch(e){}})}}}catch(e){}t.focused=!1,i||(t.addHandler(t.content,"mouseenter",function(e){t.focused=!0,t.wrapper&&(t.wrapper.attr("tabindex",1),t.content.attr("tabindex",2)),t._overlayElement&&(t.vScrollInstance.isScrolling()||t.hScrollInstance.isScrolling()?t._overlayElement[0].style.visibility="visible":t._overlayElement[0].style.visibility="hidden")}),t.addHandler(t.content,"mouseleave",function(e){t._handlemousemove&&t.enablehover&&t._clearhoverstyle(),t._overlayElement&&(t._overlayElement[0].style.visibility="hidden"),t.focused=!1}),(t.groupable||t.columnsreorder)&&t.addHandler(e(document),"selectstart."+t.element.id,function(e){if(!0===t.__drag)return!1}),t.addHandler(t.content,"selectstart."+t.element.id,function(i){if(t.enablebrowserselection)return!0
if(t.showfilterrow&&e(i.target).ischildof(t.filterrow))return!0
if(t.showeverpresentrow){if(e(i.target).ischildof(t.addnewrow))return!0
if(t.addnewrowtop&&e(i.target).ischildof(t.addnewrowtop))return!0}return!!(i.target.className&&i.target.className.indexOf("jqx-grid-widget")>=0)||!!t.editcell&&void(i.stopPropagation&&i.stopPropagation())}),t.addHandler(e(document),"keyup.edit"+t.element.id,function(e){t._keydown=!1}),t.addHandler(e(document),"keydown.edit"+t.element.id,function(i){if((t._keydown=!t.editcell,20===(r=i.charCode?i.charCode:i.keyCode?i.keyCode:0)&&(t._capsLock?t._capsLock=!1:t._capsLock=!0),t.handlekeyboardnavigation)&&((t.focused||i.target===t.element||e(i.target).ischildof(t.host))&&1==t.handlekeyboardnavigation(i)))return!1
if(t.editable&&t.editcell&&(13!=r&&27!=r&&9!=r||t._handleeditkeydown&&(n=t._handleeditkeydown(i,t))),27==r&&(t.mousecaptured=!1,"visible"==t.selectionarea.css("visibility")&&t.selectionarea.css("visibility","hidden")),e.jqx.browser.msie&&e.jqx.browser.version<12&&t.focused&&!t.isNestedGrid){if(13==r&&0==n)return n
var n=!0,r=i.charCode?i.charCode:i.keyCode?i.keyCode:0
if(!t.editcell&&t.editable&&"programmatic"!=t.editmode&&t._handleeditkeydown&&(n=t._handleeditkeydown(i,t)),n&&t.keyboardnavigation&&t._handlekeydown)return(n=t._handlekeydown(i,t))||(i.preventDefault&&i.preventDefault(),null!=i.stopPropagation&&i.stopPropagation()),n}return!0}),t.addHandler(t.host,"keydown.edit"+t.element.id,function(i){var n=!0
if(t.handlekeyboardnavigation&&1==t.handlekeyboardnavigation(i))return!1
return t.editable&&"programmatic"!=t.editmode&&t._handleeditkeydown&&(n=t._handleeditkeydown(i,t),t.isNestedGrid&&i.stopPropagation()),e.jqx.browser.msie&&e.jqx.browser.version<8?t.isNestedGrid&&n&&t.keyboardnavigation&&t._handlekeydown&&(n=t._handlekeydown(i,t),i.stopPropagation()):n&&t.keyboardnavigation&&t._handlekeydown&&(n=t._handlekeydown(i,t),t.isNestedGrid&&i.stopPropagation()),n||(i.preventDefault&&i.preventDefault(),null!=i.stopPropagation&&i.stopPropagation()),n}))},_hittestrow:function(t,i){if(null!=this.vScrollInstance&&null!=this.hScrollInstance){null==t&&(t=0)
var n=this.vScrollInstance,r=this.hScrollInstance,o=n.value
"visible"!=this.vScrollBar.css("visibility")&&(o=0)
var a=r.value
"visible"!=this.hScrollBar.css("visibility")&&(a=0),"deferred"==this.scrollmode&&null!=this._newmax&&o>this._newmax&&(o=this._newmax)
var s=parseInt(o)+i
parseInt(a)
if(null!=this.visiblerows&&0!=this.visiblerows.length){var l=!1,d=this._findvisiblerow(s,this.visiblerows)
if(d>=0){var c=this.visiblerows[d],h=this.rowdetails&&c.rowdetails,u=!c.rowdetailshidden
if(h){var p=this.visiblerows[d-1]
if(p==c&&(c=p,d--),u){var m=e(this.hittestinfo[d].visualrow).position().top+parseInt(this.table.css("top")),f=e(this.hittestinfo[d].visualrow).height()
i>=m&&i<=m+f||(d++,c=this.visiblerows[d],l=!0)}}}return{index:d,row:c,details:l}}}},getcellatposition:function(t,i){var n=this.that,r=this.showheader?this.columnsheader.height()+2:0,o=this._groupsheader()?this.groupsheader.height():0
o+=this.showtoolbar?this.toolbarheight:0
var a=this.host.coord()
this.hasTransform&&(a=e.jqx.utilities.getOffset(this.host))
var s=t-a.left,l=i-r-a.top-o,d=this._hittestrow(s,l),c=d.row,h=d.index,u=this.table[0].rows[h]
if(this.dataview&&0==this.dataview.records.length){for(var p=this.table[0].rows,m=0,f=0;f<p.length;f++){if(l>=m&&l<m+this.rowsheight){u=p[f]
break}m+=this.rowsheight}c={boundindex:f}}if(null==u)return!0
var g=this.hScrollInstance.value,v=0
for(this.groupable&&this.groups.length,f=0;f<u.cells.length;f++){var b=parseInt(e(this.columnsrow[0].cells[f]).css("left"))
t=b-g
if(n.columns.records[f].pinned&&(t=b),!n.columns.records[f].hidden)if(t+e(this.columnsrow[0].cells[f]).width()>=s&&s>=t){v=f
break}}if(null!=c){var y=this._getcolumnat(v)
return{row:this.getboundindex(c),column:y.datafield,value:this.getcellvalue(this.getboundindex(c),y.datafield)}}return null},_handlemousedown:function(t,i){if(null==t.target)return!0
if(i.disabled)return!0
if(e(t.target).ischildof(this.columnsheader)||e(t.target).ischildof(this.hScrollBar)||e(t.target).ischildof(this.vScrollBar))return!0
var n,r
if(t.which?n=3==t.which:t.button&&(n=2==t.button),t.which?r=2==t.which:t.button&&(r=1==t.button),r)return!0
if(this.showstatusbar){if(e(t.target).ischildof(this.statusbar))return!0
if(t.target==this.statusbar[0])return!0}if(this.showtoolbar){if(e(t.target).ischildof(this.toolbar))return!0
if(t.target==this.toolbar[0])return!0}if(this.pageable){if(e(t.target).ischildof(this.pager))return!0
if(t.target==this.pager[0])return!0}if(!this.columnsheader)return!0
if(!this.editcell&&this.pageable&&e(t.target).ischildof(this.pager))return!0
var o=this.showheader?this.columnsheader.height()+2:0,a=this._groupsheader()?this.groupsheader.height():0
a+=this.showtoolbar?this.toolbarheight:0
var s=this.host.coord()
if(this.hasTransform){s=e.jqx.utilities.getOffset(this.host)
var l=this._getBodyOffset()
s.left-=l.left,s.top-=l.top}var d=parseInt(t.pageX),c=parseInt(t.pageY)
if(this.isTouchDevice()){var h=i.getTouches(t)[0]
d=parseInt(h.pageX),c=parseInt(h.pageY),1==i.touchmode&&null!=h._pageX&&(d=parseInt(h._pageX),c=parseInt(h._pageY))}var u=d-s.left,p=c-o-s.top-a
if(this.pageable&&!this.autoheight&&this.gotopage&&p>this.pager.coord().top-s.top-a-o)return
var m=this._hittestrow(u,p)
if(m&&!m.details){var f=m.row,g=m.index,v=t.target.className,b=this.table[0].rows[g]
if(null==b)return i.editable&&i.begincelledit&&i.editcell&&i.endcelledit(i.editcell.row,i.editcell.column,!1,!0),!0
i.mousecaptured=!0,i.mousecaptureposition={left:t.pageX,top:t.pageY-a,clickedrow:b}
var y=this.hScrollInstance,_=y.value
this.rtl&&"hidden"!=this.hScrollBar.css("visibility")&&(_=y.max-y.value)
var w=-1,x=this.groupable?this.groups.length:0
this.rtl&&("hidden"!=this.vScrollBar[0].style.visibility&&(_-=this.scrollbarsize+4),"hidden"==this.hScrollBar[0].style.visibility&&(_=-parseInt(this.content.css("left"))))
for(var C=0;C<b.cells.length;C++){d=(S=parseInt(e(this.columnsrow[0].cells[C]).css("left")))-_
if(i.columns.records[C].pinned&&!i.rtl&&(d=S),null==(T=this._getcolumnat(C))||!T.hidden)if(d+e(this.columnsrow[0].cells[C]).width()>=u&&u>=d){w=C,i.mousecaptureposition.clickedcell=C
break}}if(this.rtl&&this._haspinned)for(C=b.cells.length-1;C>=0&&i.columns.records[C].pinned;C--){var S
d=S=e(this.columnsrow[0].cells[C]).coord().left-this.host.coord().left
if((null==(T=this._getcolumnat(C))||!T.hidden)&&d+e(this.columnsrow[0].cells[C]).width()>=u&&u>=d){w=C,i.mousecaptureposition.clickedcell=C
break}}if(null!=f&&w>=0){this._raiseEvent(1,{rowindex:this.getboundindex(f),visibleindex:f.visibleindex,row:f,group:f.group,rightclick:n,originalEvent:t})
var T=this._getcolumnat(w),I=this.getcellvalue(this.getboundindex(f),T.datafield)
if(this.editable&&this.editcell&&T.datafield==this.editcell.column&&this.getboundindex(f)==this.editcell.row&&(this.mousecaptured=!1),this._raiseEvent(8,{rowindex:this.getboundindex(f),column:T?T.getcolumnproperties():null,row:f,visibleindex:f.visibleindex,datafield:T?T.datafield:null,columnindex:w,value:I,rightclick:n,originalEvent:t}),T.createwidget)return!0
if(this.isTouchDevice())if("checkbox"==T.columntype&&this.editable&&this._overlayElement){if(!this.editcell)return this._overlayElement.css("visibility","hidden"),this.editcell=this.getcell(g,T.datafield),!0}else if("button"==T.columntype&&this._overlayElement)return T.buttonclick&&T.buttonclick(b.cells[w].buttonrow,t),!0
var E=!1
if(null!=this._lastmousedown&&this._mousedown-this._lastmousedown<300&&this._clickedrowindex==this.getboundindex(f)&&(this._raiseEvent(22,{rowindex:this.getboundindex(f),row:f,visibleindex:f.visibleindex,group:f.group,rightclick:n,originalEvent:t}),this._clickedcolumn==T.datafield&&this._raiseEvent(23,{rowindex:this.getboundindex(f),row:f,visibleindex:f.visibleindex,column:T?T.getcolumnproperties():null,datafield:T?T.datafield:null,columnindex:w,value:I,rightclick:n,originalEvent:t}),E=!0,this._clickedrowindex=-1,this._clickedcolumn=null,t.isPropagationStopped&&t.isPropagationStopped()))return!1
if(n)return!0
E||(this._clickedrowindex=this.getboundindex(f),this._clickedcolumn=T.datafield)
var P=e.jqx.utilities.getBrowser()
if("msie"==P.browser&&parseInt(P.version)<=7&&(0==w&&this.rowdetails&&(v="jqx-grid-group-collapse"),x>0&&w<=x&&(v="jqx-grid-group-collapse")),-1!=v.indexOf("jqx-grid-group-expand")||-1!=v.indexOf("jqx-grid-group-collapse"))this.rtl?x>0&&w>b.cells.length-x-1&&this._togglegroupstate?this._togglegroupstate(f.bounddata,!0):w==b.cells.length-1-x&&this.rowdetails&&this.showrowdetailscolumn&&(this._togglerowdetails(f.bounddata,!0),this.gridcontent[0].scrollTop=0,this.gridcontent[0].scrollLeft=0):x>0&&w<x&&this._togglegroupstate?this._togglegroupstate(f.bounddata,!0):w==x&&this.rowdetails&&this.showrowdetailscolumn&&(this._togglerowdetails(f.bounddata,!0),this.gridcontent[0].scrollTop=0,this.gridcontent[0].scrollLeft=0)
else if(-1!=f.boundindex){var D=this.selectedrowindexes.slice(0),k=!1
if("none"!=i.selectionmode&&"checkbox"!=i.selectionmode&&this._selectrowwithmouse){"multiplecellsadvanced"!=i.selectionmode&&"multiplecellsextended"!=i.selectionmode&&"multiplerowsextended"!=i.selectionmode&&"multiplerowsadvanced"!=i.selectionmode||t.ctrlKey||t.shiftKey||t.metaKey||(i.selectedrowindexes=new Array,i.selectedcells=new Array)
var A=!1,j=this.getboundindex(f)
i._oldselectedrow!==j&&"none"!==i.selectionmode||(A=!0),-1==i.selectionmode.indexOf("cell")?("singlerow"!=i.selectionmode||i.selectedrowindex!=j&&"singlerow"==i.selectionmode)&&(this._applyrowselection(j,!0,!1,null,T.datafield),this._selectrowwithmouse(i,m,D,T.datafield,t.ctrlKey||t.metaKey,t.shiftKey)):null!=T.datafield&&(this._selectrowwithmouse(i,m,D,T.datafield,t.ctrlKey||t.metaKey,t.shiftKey),t.shiftKey||this._applycellselection(j,T.datafield,!0,!1)),i._oldselectedcell&&i._oldselectedcell.datafield==i.selectedcell.datafield&&i._oldselectedcell.rowindex==i.selectedcell.rowindex&&(k=!0),i._oldselectedcell=i.selectedcell,i._oldselectedrow=j}if(i.autosavestate&&i.savestate&&i.savestate(),i.editable&&i.begincelledit&&"programmatic"!=i.editmode){if(t.isPropagationStopped&&t.isPropagationStopped())return!1
if("selectedrow"==i.editmode){if(A&&!i.editcell){if("checkbox"!==T.columntype)i.beginrowedit(this.getboundindex(f))}else if(i.editcell&&!A&&"none"!=i.selectionmode)i.endrowedit(i.editcell.row)}else{j=this.getboundindex(f)
var M="click"==i.editmode||k&&"selectedcell"==i.editmode
if(-1==i.selectionmode.indexOf("cell")&&"dblclick"!=i.editmode&&(M=!0),M&&null!=f.boundindex&&T.editable){i.begincelledit(this.getboundindex(f),T.datafield,T.defaulteditorvalue);-1!=i.selectionmode.indexOf("cell")&&i._applycellselection(j,T.datafield,!1,!1)}-1!=i.selectionmode.indexOf("cell")&&"selectedcell"==i.editmode&&!k&&i.editcell&&i.endcelledit(i.editcell.row,i.editcell.column,!1,!0),"dblclick"!=i.editmode||k||!i.editcell||i.editcell.row==j&&T.datafield==i.editcell.column||i.endcelledit(i.editcell.row,i.editcell.column,!1,!0)}return!0}}}return!0}},_columnPropertyChanged:function(e,t,i,n){},_rowPropertyChanged:function(e,t,i,n){},_serializeObject:function(t){if(null==t)return""
var i=""
return e.each(t,function(e){e>0&&(i+=", "),i+="["
var t=0
for(var n in this)t>0&&(i+=", "),i+="{"+n+":"+this[n]+"}",t++
i+="]"}),i},isbindingcompleted:function(){return!this._loading},propertiesChangedHandler:function(e,t,i){i.width&&i.height&&2==Object.keys(i).length&&(e._updatesize(!0,!0),e._resizeWindow(),e.virtualmode&&!e._loading?e.vScrollInstance.setPosition(0):setTimeout(function(){e._renderrows(e.virtualsizeinfo)},100))},propertyChangedHandler:function(t,i,n,r){if(null!=this.isInitialized&&0!=this.isInitialized&&!(t.batchUpdate&&t.batchUpdate.width&&t.batchUpdate.height&&2==Object.keys(t.batchUpdate).length))switch(i=i.toLowerCase()){case"editable":t.refresh()
break
case"everpresentrowactionsmode":n!=r&&(t._removeaddnewrow(),t.render())
break
case"everpresentrowactions":t._updateaddnewrowui()
break
case"showeverpresentrow":case"everpresentrowposition":case"everpresentrowheight":n!=r&&(t._removeaddnewrow(),t.render())
break
case"rtl":t.content.css("left",""),t.columns=t._columns,t._filterrowcache=[],t.vScrollBar.jqxScrollBar({rtl:r}),t.hScrollBar.jqxScrollBar({rtl:r}),t._initpager&&t._initpager(),t._initgroupsheader&&t._initgroupsheader(),t.render()
break
case"enablebrowserselection":t.showfilterrow||(t.showstatusbar||t.showtoolbar||t.host.addClass("jqx-disableselect"),t.content.addClass("jqx-disableselect")),t.enablebrowserselection&&(t.content.removeClass("jqx-disableselect"),t.host.removeClass("jqx-disableselect"))
break
case"columnsheight":(30!=t.columnsheight||t.columngroups)&&t._measureElement("column"),t._render(!0,!0,!0,!1,!1)
break
case"rowsheight":r!=n&&(30!=t.rowsheight&&t._measureElement("cell"),t.virtualsizeinfo=null,t.rendergridcontent(!0,!1),t.refresh())
break
case"scrollMode":t.vScrollInstance.thumbStep=t.rowsheight
break
case"showdefaultloadelement":t._builddataloadelement()
break
case"showfiltermenuitems":case"showsortmenuitems":case"showgroupmenuitems":case"filtermode":t._initmenu()
break
case"touchmode":n!=r&&(t._removeHandlers(),t.touchDevice=null,t.vScrollBar.jqxScrollBar({touchMode:r}),t.hScrollBar.jqxScrollBar({touchMode:r}),t._updateTouchScrolling(),t._arrange(),t._updatecolumnwidths(),t._updatecellwidths(),t._addHandlers())
break
case"autoshowcolumnsmenubutton":n!=r&&t._rendercolumnheaders()
break
case"rendergridrows":n!=r&&t.updatebounddata()
break
case"editmode":n!=r&&(t._removeHandlers(),t._addHandlers())
break
case"source":t.updatebounddata(),t.virtualmode&&!t._loading&&(t.loadondemand=!0,t._renderrows(t.virtualsizeinfo))
break
case"horizontalscrollbarstep":case"verticalscrollbarstep":case"horizontalscrollbarlargestep":case"verticalscrollbarlargestep":this.vScrollBar.jqxScrollBar({step:this.verticalscrollbarstep,largestep:this.verticalscrollbarlargestep}),this.hScrollBar.jqxScrollBar({step:this.horizontalscrollbarstep,largestep:this.horizontalscrollbarlargestep})
break
case"closeablegroups":t._initgroupsheader&&t._initgroupsheader()
break
case"showgroupsheader":n!=r&&(t._arrange(),t._initgroupsheader&&t._initgroupsheader(),t._renderrows(t.virtualsizeinfo))
break
case"theme":r!=n&&(e.jqx.utilities.setTheme(n,r,t.host),t.gridmenu&&t.gridmenu.jqxMenu({theme:r}),t.pageable&&t._updatepagertheme(),t.filterable&&t._updatefilterrowui(!0),t.showeverpresentrow&&t._updateaddnewrowui(!0))
break
case"showtoolbar":case"toolbarheight":n!=r&&(t._arrange(),t.refresh())
break
case"showstatusbar":n!=r&&(t.statusbar&&(r?t.statusbar.show():t.statusbar.hide()),t._arrange(),t.refresh())
break
case"statusbarheight":n!=r&&(t._arrange(),t.refresh())
break
case"filterable":case"showfilterrow":n!=r&&t.render()
break
case"autoshowfiltericon":case"showfiltercolumnbackground":case"showpinnedcolumnbackground":case"showsortcolumnbackground":n!=r&&t.rendergridcontent()
break
case"showrowdetailscolumn":n!=r&&t.render()
break
case"scrollbarsize":n!=r&&t._arrange()
break
case"width":case"height":n!=r&&(t._updatesize(!0,!0),t._resizeWindow(),t.virtualmode&&!t._loading?t.vScrollInstance.setPosition(0):setTimeout(function(){t._renderrows(t.virtualsizeinfo)},100))
break
case"altrows":case"altstart":case"altstep":n!=r&&t._renderrows(t.virtualsizeinfo)
break
case"groupsheaderheight":n!=r&&(t._arrange(),t._initgroupsheader&&t._initgroupsheader())
break
case"pagerheight":n!=r&&t._initpager()
break
case"selectedrowindex":t.selectrow(r)
break
case"selectionmode":n!=r&&("none"==r&&(t.selectedrowindexes=new Array,t.selectedcells=new Array,t.selectedrowindex=-1),t._renderrows(t.virtualsizeinfo),"checkbox"==r&&t._render(!1,!1,!0,!1,!1))
break
case"showheader":r?t.columnsheader.css("display","block"):t.columnsheader.css("display","none")
break
case"virtualmode":n!=r&&(t.dataview.virtualmode=t.virtualmode,t.dataview.refresh(!1),t._render(!1,!1,!1))
break
case"columnsmenu":n!=r&&t.render()
break
case"columngroups":t._render(!0,!0,!0,!1,!1)
break
case"columns":if(t._serializeObject(t._cachedcolumns)!==t._serializeObject(r)){var o=!1
t.filterable&&n&&n.records&&e.each(n.records,function(){this.filter&&(o=!0),t.dataview.removefilter(this.displayfield,this.filter)}),t._columns=null,t._filterrowcache=[],t.render(),o&&t.applyfilters(),t._cachedcolumns=t.columns,t.removesort&&t.removesort()}else t[i]=n
break
case"autoheight":n!=r&&t._render(!1,!1,!0)
break
case"pagermode":case"pagerbuttonscount":n!=r&&t._initpager&&(t.pagershowrowscombo&&(t.pagershowrowscombo.jqxDropDownList("destroy"),t.pagershowrowscombo=null),t.pagerrightbutton&&(t.removeHandler(t.pagerrightbutton,"mousedown"),t.removeHandler(t.pagerrightbutton,"mouseup"),t.removeHandler(t.pagerrightbutton,"click"),t.pagerrightbutton.jqxButton("destroy"),t.pagerrightbutton=null),t.pagerleftbutton&&(t.removeHandler(t.pagerleftbutton,"mousedown"),t.removeHandler(t.pagerleftbutton,"mouseup"),t.removeHandler(t.pagerleftbutton,"click"),t.pagerleftbutton.jqxButton("destroy"),t.removeHandler(e(document),"mouseup.pagerbuttons"+t.element.id),t.pagerleftbutton=null),t.pagerdiv.remove(),t._initpager())
break
case"pagesizeoptions":case"pageable":case"pagesize":if(n!=r){if(t._loading)throw new Error("jqxGrid: "+t.loadingerrormessage)
if(!t.host.jqxDropDownList||!t.host.jqxListBox)return void t._testmodules()
if(t._initpager){if("pageable"!=i&&"pagermode"!=i&&"string"==typeof r){var a="The expected value type is: Int."
if("pagesize"!=i)a="The expected value type is: Array of Int values."
throw new Error("Invalid Value for: "+i+". "+a)}t.dataview.pageable=t.pageable,t.dataview.pagenum=0,t.dataview.pagesize=t._getpagesize(),t.virtualmode&&t.updatebounddata(),t.dataview.refresh(!0),t._initpager(),"pagesizeoptions"==i&&null!=r&&r.length>0&&(t.pagesize=parseInt(r[0]),t.dataview.pagesize=parseInt(r[0]),t.prerenderrequired=!0,t._requiresupdate=!0,t.dataview.pagenum=-1,t.gotopage(0))}t._render(!1,!1,!1)}break
case"groups":t._serializeObject(n)!==t._serializeObject(r)&&(t.dataview.groups=r,t._refreshdataview(),t._render(!0,!0,!0,!1))
break
case"groupable":n!=r&&(t.dataview.groupable=t.groupable,t.dataview.pagenum=0,t.dataview.refresh(!1),t._render(!1,!1,!0))
break
case"renderstatusbar":null!=r&&t.renderstatusbar(t.statusbar)
break
case"rendertoolbar":null!=r&&t.rendertoolbar(t.toolbar)
break
case"disabled":r?t.host.addClass(t.toThemeProperty("jqx-fill-state-disabled")):t.host.removeClass(t.toThemeProperty("jqx-fill-state-disabled")),e.jqx.aria(t,"aria-disabled",t.disabled),t.pageable&&(t.pagerrightbutton&&(t.pagerrightbutton.jqxButton({disabled:r}),t.pagerleftbutton.jqxButton({disabled:r}),t.pagershowrowscombo.jqxDropDownList({disabled:r}),t.pagergotoinput.attr("disabled",r)),t.pagerfirstbutton&&(t.pagerfirstbutton.jqxButton({disabled:r}),t.pagerlastbutton.jqxButton({disabled:r}))),t.vScrollBar.jqxScrollBar({disabled:r}),t.hScrollBar.jqxScrollBar({disabled:r}),t.filterable&&t.showfilterrow&&t._updatefilterrowui(!0),t.showeverpresentrow&&t._updateaddnewrowui(!0)}}}),e.jqx.collection=function(e){return this.records=new Array,this.owner=e,this.updating=!1,this.beginupdate=function(){this.updating=!0},this.resumeupdate=function(){this.updating=!1},this._raiseEvent=function(e){},this.clear=function(){this.records=new Array},this.replace=function(e,t){this.records[e]=t,this.updating||this._raiseEvent({type:"replace",element:t})},this.isempty=function(e){return null==this.records[e]},this.initialize=function(e){e<1&&(e=1),this.records[e-1]=-1},this.length=function(){return this.records.length},this.indexOf=function(e){return this.records.indexOf(e)},this.add=function(e){return null!=e&&(this.records[this.records.length]=e,this.updating||this._raiseEvent({type:"add",element:e}),!0)},this.insertAt=function(e,t){return null!=e&&null!=e&&(null!=t&&(e>=0&&(e<this.records.length?(this.records.splice(e,0,t),this.updating||this._raiseEvent({type:"insert",index:e,element:t}),!0):this.add(t))))},this.remove=function(e){if(null==e||null==e)return!1
var t=this.records.indexOf(e)
return-1!=t&&(this.records.splice(t,1),this.updating||this._raiseEvent({type:"remove",element:e}),!0)},this.removeAt=function(e){if(null==e||null==e)return!1
if(e<0)return!1
if(e<this.records.length){var t=this.records[e]
return this.records.splice(e,1),this.updating||this._raiseEvent({type:"removeAt",index:e,element:t}),!0}return!1},this},e.jqx.dataview=function(){return this.self=this,this.aggregates=!1,this.grid=null,this.uniqueId="id",this.records=[],this.rows=[],this.columns=[],this.groups=[],this.filters=new Array,this.updated=null,this.update=null,this.suspend=!1,this.pagesize=0,this.pagenum=0,this.totalrows=0,this.totalrecords=0,this.groupable=!0,this.loadedrecords=[],this.loadedrootgroups=[],this.loadedgroups=[],this.loadedgroupsByKey=[],this.virtualmode=!0,this._cachegrouppages=new Array,this.source=null,this.changedrecords=new Array,this.rowschangecallback=null,this.that=this,this.destroy=function(){delete this.self,delete this.grid,delete this.uniqueId,delete this.records,delete this.rows,delete this.columns,delete this.groups,delete this.filters,delete this.updated,delete this.update,delete this.suspend,delete this.pagesize,delete this.pagenum,delete this.totalrows,delete this.totalrecords,delete this.groupable,delete this.loadedrecords,delete this.loadedrootgroups,delete this.loadedgroups,delete this.loadedgroupsByKey,delete this.virtualmode,delete this._cachegrouppages,delete this.source,delete this.changedrecords,delete this.rowschangecallback,delete this.that},this.suspendupdate=function(){this.suspend=!0},this.isupdating=function(){return this.suspend},this.resumeupdate=function(e){this.suspend=!1,null==e&&(e=!0),this.refresh(e)},this.getrecords=function(){return this.records},this.clearrecords=function(){this.recordids=new Array},this.databind=function(t,i){var n=!!t._source,r=null
this.grid&&(this.aggregates=this.grid.showgroupaggregates),n?(r=t,t=t._source):r=new e.jqx.dataAdapter(t,{autoBind:!1})
var o=function(i){if(i.totalrecords=r.totalrecords,i.virtualmode){var n={startindex:i.pagenum*i.pagesize,endindex:i.pagenum*i.pagesize+i.pagesize}
if(null!=t.recordstartindex&&(n.startindex=parseInt(t.recordstartindex)),null!=t.recordendindex?n.endindex=parseInt(t.recordendindex):i.grid.pageable||(n.endindex=n.startindex+100,i.grid.autoheight&&(n.endindex=n.startindex+i.totalrecords)),t.recordendindex||(i.grid.pageable?n={startindex:i.pagenum*i.pagesize,endindex:i.pagenum*i.pagesize+i.pagesize}:(n.endindex=n.startindex+100,i.grid.autoheight&&(n.endindex=n.startindex+i.totalrecords))),n.data=r.records,i.grid.rendergridrows&&i.totalrecords>0){var o=0
if(t.records=i.grid.rendergridrows(n),t.records.length&&(o=t.records.length),t.records&&!t.records[n.startindex]){var a=new Array,s=n.startindex
e.each(t.records,function(){a[s]=this,s++,o++}),t.records=a}if(0==o&&t.records&&e.each(t.records,function(){o++}),o>0&&o<n.endindex-n.startindex&&!i.grid.groupable)for(var l=t.records[0],d=0;d<n.endindex-n.startindex-o;d++){var c={}
for(var h in l)c[h]=""
t.records.push&&t.records.push(c)}}t.records&&0!=i.totalrecords||(t.records=new Array),i.originaldata=t.records,i.records=t.records,i.cachedrecords=t.records}else i.originaldata=r.originaldata,i.records=r.records,i.recordids=r.recordids,i.cachedrecords=r.cachedrecords}
!function(e){r.recordids=[],r.records=new Array,r.cachedrecords=new Array,r.originaldata=new Array,r._options.virtualmode=e.virtualmode,r._options.totalrecords=e.totalrecords,r._options.originaldata=e.originaldata,r._options.recordids=e.recordids,r._options.cachedrecords=new Array,r._options.pagenum=e.pagenum,r._options.pageable=e.pageable,null!=t.type&&(r._options.type=t.type),null!=t.formatdata&&(r._options.formatData=t.formatdata),null!=t.contenttype&&(r._options.contentType=t.contenttype),null!=t.async&&(r._options.async=t.async),null!=t.updaterow&&(r._options.updaterow=t.updaterow),null!=t.addrow&&(r._options.addrow=t.addrow),null!=t.deleterow&&(r._options.deleterow=t.deleterow),0==e.pagesize&&(e.pagesize=10),r._options.pagesize=e.pagesize}(this),this.source=t,void 0!==i&&(this.uniqueId=i)
var a=this.that
switch(t.datatype){case"local":case"array":default:if(null==t.localdata&&(t.localdata=[]),null!=t.localdata)r.unbindBindingUpdate(a.grid.element.id),(!a.grid.autobind&&a.grid.isInitialized||a.grid.autobind)&&r.dataBind(),(C=function(i){if(null!=i&&""!=i){if(r._changedrecords[0]){var n=new Array
e.each(r._changedrecords,function(e){var t=this.index,o=this.record
switch(a.grid._updateFromAdapter=!0,i){case"update":var s=a.grid.getrowid(t)
return e==r._changedrecords.length-1?a.grid.updaterow(s,o):a.grid.updaterow(s,o,!1),void(a.grid._updateFromAdapter=!1)
case"add":return a.grid.addrow(null,o),void(a.grid._updateFromAdapter=!1)
case"remove":s=a.grid.getrowid(t)
return void n.push(s)}}),n.length>0&&(a.grid.deleterow(n,!1),a.grid._updateFromAdapter=!1)}if("update"==i)return}var s=a.totalrecords
o(a),null===t.localdata.notifier&&"observableArray"==t.localdata.name&&(t.localdata.notifier=function(i){if(!this._updating){this._updating=!0
var n=a.grid.getrowid(i.index)
switch(i.type){case"add":var o=e.extend({},i.object[i.index]),s=r.getid(t.id,o,i.index)
0===i.index?a.grid.addrow(s,o,"first"):a.grid.addrow(s,o)
break
case"delete":a.grid.deleterow(n)
break
case"update":if(i.path&&i.path.split(".").length>1){var l=i.path.split(".")
a.grid.setcellvalue(i.index,l[l.length-1],i.newValue)}else{o=e.extend({},i.object[i.index])
a.grid.updaterow(n,o)}}this._updating=!1}}),"updateData"==i?(a.refresh(),a.grid._updateGridData()):(t.recordstartindex&&this.virtualmode?a.updateview(t.recordstartindex,t.recordstartindex+a.pagesize):a.refresh(),a.update(s!=a.totalrecords))})(),r.bindBindingUpdate(a.grid.element.id,C)
break
case"json":case"jsonp":case"xml":case"xhtml":case"script":case"text":case"csv":case"tab":if(null!=t.localdata)return r.unbindBindingUpdate(a.grid.element.id),(!a.grid.autobind&&a.grid.isInitialized||a.grid.autobind)&&r.dataBind(),(C=function(e){var i=a.totalrecords
o(a),"updateData"==e?(a.refresh(),a.grid._updateGridData()):(t.recordstartindex&&a.virtualmode?a.updateview(t.recordstartindex,t.recordstartindex+a.pagesize):a.refresh(),a.update(i!=a.totalrecords))})(),void r.bindBindingUpdate(a.grid.element.id,C)
for(var s=[],l=0,d={},c=0;c<this.filters.length;c++){var h=this.filters[c].datafield,u=this.filters[c].filter
if(u.getfilters){var p=u.getfilters()
d[h+"operator"]=u.operator
for(var m=0;m<p.length;m++){p[m].datafield=h
var f=p[m].value
if("datefilter"==p[m].type)if(p[m].value&&p[m].value.toLocaleString){var g=this.grid.getcolumn(p[m].datafield)
if(g&&g.cellsformat){var v=this.grid.source.formatDate(p[m].value,g.cellsformat,this.grid.gridlocalization)
d["filtervalue"+l]=v||p[m].value.toLocaleString()}else d["filtervalue"+l]=f.toString()}else d["filtervalue"+l]=f.toString()
else d["filtervalue"+l]=f.toString(),p[m].data&&(d["filterid"+l]=p[m].data.toString()),p[m].id&&(d["filterid"+l]=p[m].id.toString())
d["filtercondition"+l]=p[m].condition,d["filteroperator"+l]=p[m].operator,d["filterdatafield"+l]=h
var b={label:f.toString()}
p[m].data&&(b.value=p[m].data.toString()),p[m].id?b.value=p[m].id.toString():b.value=f.toString(),b.condition=p[m].condition,b.operator=0==p[m].operator?"and":"or",b.field=h,b.type=p[m].type
var y=!1
if(s.length>0)for(var _=0;_<s.length;_++){var w=s[_]
if(w.field==h){w.filters.push(b),y=!0
break}}y||(s.push({field:h,filters:[]}),s[s.length-1].filters.push(b)),l++}}}d.filterGroups=s,d.filterscount=l,d.groupscount=a.groups.length
for(c=0;c<a.groups.length;c++)d["group"+c]=a.groups[c]
null==t.recordstartindex&&(t.recordstartindex=0),null!=t.recordendindex&&0!=t.recordendindex||(a.grid.height&&-1==a.grid.height.toString().indexOf("%")?(t.recordendindex=parseInt(a.grid.height)/a.grid.rowsheight,t.recordendindex+=2,t.recordendindex=parseInt(t.recordendindex)):(t.recordendindex=e(window).height()/a.grid.rowsheight,t.recordendindex=parseInt(t.recordendindex)),this.pageable&&(t.recordendindex=this.pagesize)),this.pageable&&(t.recordstartindex=this.pagenum*this.pagesize,t.recordendindex=(this.pagenum+1)*this.pagesize),e.extend(d,{sortdatafield:a.sortfield,sortorder:a.sortfielddirection,pagenum:a.pagenum,pagesize:a.grid.pagesize,recordstartindex:t.recordstartindex,recordendindex:t.recordendindex})
var x=r._options.data
r._options.data?e.extend(r._options.data,d):(t.data&&e.extend(d,t.data),r._options.data=d)
var C=function(){var i=function(){var e=a.totalrecords
o(a),t.recordstartindex&&a.virtualmode?a.updateview(t.recordstartindex,t.recordstartindex+a.pagesize):a.refresh(),a.update(e!=a.totalrecords)}
if(e.jqx.browser.msie&&e.jqx.browser.version<9)try{i()}catch(e){}else i()}
r.unbindDownloadComplete(a.grid.element.id),r.bindDownloadComplete(a.grid.element.id,C),!a.grid.autobind&&a.grid.isInitialized||a.grid.autobind?r.dataBind():a.grid.isInitialized||a.grid.autobind||C(),r._options.data=x}},this.getid=function(t,i,n){if(e(t,i).length>0)return e(t,i).text()
if(t&&t.toString().length>0){var r=e(i).attr(t)
if(null!=r&&r.toString().length>0)return r}return n},this.getvaluebytype=function(t,i){var n=t
if("date"==i.type){var r=new Date(t)
null==(t=("NaN"==r.toString()||"Invalid Date"==r.toString())&&e.jqx.dataFormat?e.jqx.dataFormat.tryparsedate(t):r)&&(t=n)}else if("float"==i.type){t=parseFloat(t)
isNaN(t)&&(t=n)}else if("int"==i.type){t=parseInt(t)
isNaN(t)&&(t=n)}else"bool"==i.type&&(null!=t&&("false"==t.toLowerCase()?t=!1:"true"==t.toLowerCase()&&(t=!0)),t=1==t||0!=t&&"")
return t},this.setpaging=function(e){null!=e.pageSize&&(this.pagesize=e.pageSize),null!=e.pageNum&&(this.pagenum=Math.min(e.pageNum,Math.ceil(this.totalrows/this.pagesize))),this.refresh()},this.getpagingdetails=function(){return{pageSize:this.pagesize,pageNum:this.pagenum,totalrows:this.totalrows}},this._clearcaches=function(){this.sortcache={},this.sortdata=null,this.changedrecords=new Array,this.records=new Array,this.rows=new Array,this.cacheddata=new Array,this.originaldata=new Array,this.bounditems=new Array,this.loadedrecords=new Array,this.loadedrootgroups=new Array,this.loadedgroups=new Array,this.loadedgroupsByKey=new Array,this._cachegrouppages=new Array,this.recordsbyid=new Array,this.cachedrecords=new Array,this.recordids=new Array},this.addfilter=function(e,t){for(var i=-1,n=0;n<this.filters.length;n++)if(this.filters[n].datafield==e){i=n
break}-1==i?this.filters[this.filters.length]={filter:t,datafield:e}:this.filters[i]={filter:t,datafield:e}},this.removefilter=function(e){for(var t=0;t<this.filters.length;t++)if(this.filters[t].datafield==e){this.filters.splice(t,1)
break}},this.getItemFromIndex=function(e){return this.records[e]},this.updaterow=function(e,t,i){if(!(this.filters&&this.filters.length>0&&!this.virtualmode)&&null!=t&&null!=e){t.uid=e,t[this.source.id]||(t[this.source.id]=t.uid)
var n=this.recordsbyid["id"+e]
return-1!=(o=this.records.indexOf(n))&&(this.records[o]=t,this.cachedrecords&&(this.cachedrecords[o]=t),1!=i&&null!=i||this.refresh(),this.changedrecords[t.uid]={Type:"Update",OldData:n,Data:t},!0)}if(this.filters&&this.filters.length>0){for(var r=this.cachedrecords,o=(n=null,-1),a=0;a<r.length;a++)if(r[a].uid==e){n=r[a],o=a
break}if(n){var s=this.that
for(var l in t)s.cachedrecords[o][l]=t[l]
return 1!=i&&null!=i||this.refresh(),!0}}return!1},this.addrow=function(t,i,n,r){if(null!=i){if(e.isEmptyObject(i)&&this.source&&this.source.datafields&&e.each(this.source.datafields,function(){var e=""
"number"==this.type&&(e=null),"date"==this.type&&(e=null),"bool"!=this.type&&"boolean"!=this.type||(e=!1),i[this.name]=e}),!t||this.recordsbyid["id"+t]){i.uid=this.getid(this.source.id,i,this.totalrecords)
for(var o=this.recordsbyid["id"+i.uid];null!=o;){var a=Math.floor(1e4*Math.random()).toString()
i.uid=a,o=this.recordsbyid["id"+a]}}else i.uid=t
return i[this.source.id]||null!=this.source.id&&(i[this.source.id]=i.uid),"last"==n?this.records.push(i):"number"==typeof n&&isFinite(n)?this.records.splice(n,0,i):this.records.splice(0,0,i),this.filters&&this.filters.length>0&&("last"==n?this.cachedrecords.push(i):"number"==typeof n&&isFinite(n)?this.cachedrecords.splice(n,0,i):this.cachedrecords.splice(0,0,i)),this.totalrecords++,this.virtualmode&&(this.source.totalrecords=this.totalrecords),1!=r&&null!=r||this.refresh(),this.changedrecords[i.uid]={Type:"New",Data:i},!0}return!1},this.deleterow=function(e,t){if(null!=e){var i=this.filters&&this.filters.length>0
if(this.recordsbyid["id"+e]&&!i){var n=this.recordsbyid["id"+e],r=this.records.indexOf(n)
return this.changedrecords[e]={Type:"Delete",Data:this.records[r]},this.records.splice(r,1),this.totalrecords--,this.virtualmode&&(this.source.totalrecords=this.totalrecords),1!=t&&null!=t||this.refresh(),!0}if(this.filters&&this.filters.length>0){for(var o=this.cachedrecords,a=(n=null,r=-1,0);a<o.length;a++)if(o[a].uid==e){n=o[a],r=a
break}if(n)return this.cachedrecords.splice(r,1),1!=t&&null!=t||(this.totalrecords=0,this.records=this.cachedrecords,this.refresh()),!0}return!1}return!1},this.reload=function(t,i,n,r,o,a,s){var l=this.that,d=new Array,c=t,h=i,u=n,p=r,m=h.length,f=0
if(this.columns=[],this.bounditems=new Array,this.loadedrecords=new Array,this.loadedrootgroups=new Array,this.loadedgroups=new Array,this.loadedgroupsByKey=new Array,this._cachegrouppages=new Array,this.recordsbyid={},0==this.totalrecords){Object.size=function(e){var t,i=0
for(t in e)e.hasOwnProperty(t)&&i++
return i}
var g=Object.size(c)
this.totalrecords=g,e.each(this.records,function(t){var i=0
return e.each(this,function(e,t){l.columns[i++]=e}),!1})}if(this.virtualmode){if(this.pageable)return void this.updateview()
a=0
if(!this.groupable)return void this.updateview()
s=this.totalrecords}else a=0,s=this.totalrecords
if(this.groupable&&this.groups.length>0&&this.loadgrouprecords){var v=a
v=this.loadgrouprecords(0,a,s,u,0,p,h,m,d)}else f=this.loadflatrecords(a,s,u,0,p,h,m,d)
return m>0&&h.splice(0,m-0),this.groups.length>0&&this.groupable?this.totalrows=v:this.totalrows=f,d},this.loadflatrecords=function(t,i,n,r,o,a,s,l){var d=this.that,c=t,h=t
i=Math.min(i,this.totalrecords)
for(var u=null!=this.sortdata,p=(this.source.id&&("local"==this.source.datatype||"array"==this.source.datatype||this.source.datatype),u?this.sortdata:this.records),m=t;m<i;m++){var f,g={}
u?(f=(g=e.extend({},p[m].value))[d.uniqueId],g.boundindex=p[m].index,null==g.uid&&(g.uid=d.getid(d.source.id,g,g.boundindex)),d.recordsbyid["id"+g.uid]=p[m].value,d.loadedrecords[c]=g,g.uniqueid=d.generatekey(),d.bounditems[g.boundindex]=g):(f=(g=new Object(p[m]))[d.uniqueId],g.boundindex=c,d.loadedrecords[c]=g,null==g.uid&&(g.uid=d.getid(d.source.id,g,c)),d.recordsbyid["id"+g.uid]=p[m],g.uniqueid=d.generatekey(),d.bounditems[this.bounditems.length]=g),(r>=s||f!=a[r][d.uniqueId]||o&&o[f])&&(l[l.length]=r),a[r]=g,r++,g.visibleindex=h,h++,c++}if(d.grid.summaryrows){var v=c
e.each(d.grid.summaryrows,function(){var t=e.extend({},this)
t.boundindex=i++,d.loadedrecords[v]=t,t.uniqueid=d.generatekey(),d.bounditems[d.bounditems.length]=t,a[r]=t,r++,t.visibleindex=h,h++,v++})}return h},this.updateview=function(e,t){var i=this.that,n=this.pagesize*this.pagenum,r=0,o=new Array,a=this.filters,s=this.updated,l=o.length
if(this.pageable){if(this.virtualmode)if(this.groupable&&0!=this.groups.length){if(this.groupable&&this.groups.length>0&&this.loadgrouprecords){if(null!=this._cachegrouppages[this.pagenum+"_"+this.pagesize])return this.rows=this._cachegrouppages[this.pagenum+"_"+this.pagesize],void(this.totalrows=this.rows.length)
var d=this.pagesize*(1+this.pagenum)
return d>this.totalrecords&&(d=this.totalrecords),this.loadgrouprecords(0,this.pagesize*this.pagenum,d,a,r,s,o,l,[]),this._cachegrouppages[this.pagenum+"_"+this.pagesize]=this.rows,void(this.totalrows=this.rows.length)}}else this.loadflatrecords(this.pagesize*this.pagenum,this.pagesize*(1+this.pagenum),a,r,s,o,l,[]),this.totalrows=o.length}else if(this.virtualmode&&(!this.groupable||0==this.groups.length)){var c=this.pagesize
0==c&&(c=Math.min(100,this.totalrecords))
this.pagenum
if(0==this.loadedrecords.length&&0,null!=e&&null!=t?this.loadflatrecords(e,t,a,r,s,o,l,[]):this.loadflatrecords(this.pagesize*this.pagenum,this.pagesize*(1+this.pagenum),a,r,s,o,l,[]),this.totalrows=this.loadedrecords.length,this.rows=o,o.length>=c)return}if(this.groupable&&this.pageable&&this.groups.length>0&&this._updategroupsinpage)o=this._updategroupsinpage(i,a,n,r,l,this.pagesize*this.pagenum,this.pagesize*(1+this.pagenum))
else for(var h=this.pagesize*this.pagenum;h<this.pagesize*(1+this.pagenum);h++){null!=(p=h<this.loadedrecords.length?this.loadedrecords[h]:null)&&((!this.pagesize||n>=this.pagesize*this.pagenum&&n<=this.pagesize*(this.pagenum+1))&&(o[r]=p,r++),n++)}if((0==o.length||o.length<this.pagesize)&&!this.pageable&&this.virtualmode){r=o.length
var u=o.length
for(h=this.pagesize*this.pagenum;h<this.pagesize*(1+this.pagenum)-u;h++){var p;(p={}).boundindex=h+u,p.visibleindex=h+u,p.uniqueid=i.generatekey(),p.empty=!0,i.bounditems[h+u]=p,o[r]=p,r++}}this.rows=o},this.generatekey=function(){var e=function(){return 16*(1+Math.random())|0}
return""+e()+e()+"-"+e()+"-"+e()+"-"+e()+"-"+e()+e()+e()},this.reloaddata=function(){this.reload(this.records,this.rows,this.filter,this.updated,!0)},this.refresh=function(t){if(!this.suspend){null==t&&(t=!0)
var i=this.rows.length,n=this.totalrows
if(this.filters.length>0&&!this.virtualmode){var r="",o=this.cachedrecords.length,a=new Array
this.totalrecords=0
var s=this.cachedrecords
this._dataIndexToBoundIndex=new Array
var l=this.filters.length
if(null!=this.source&&null!=this.source.filter&&null!=this.source.localdata)null==(a=this.source.filter(this.filters,s,o))&&(a=new Array),this.records=a
else if(null==this.source.filter||null==this.source.filter){for(var d=0;d<o;d++){for(var c=s[d],h=void 0,u=0;u<l;u++){r=this.filters[u].filter
var p=c[this.filters[u].datafield],m=r.evaluate(p)
if(this.grid.filter){var f=this.grid.filter(p,c,this.filters[u].datafield,r,m)
void 0!==f&&(m=f)}h=null==h?m:"or"==r.operator?h||m:h&&m}h?(a[a.length]=e.extend({dataindex:d},c),this._dataIndexToBoundIndex[d]={boundindex:a.length-1}):this._dataIndexToBoundIndex[d]=null}this.records=a}if(this.sortdata){var g=this.sortfield
if(this.sortcache[g]){this.sortdata=null
var v=this.sortcache[g].direction
return this.sortcache[g]=null,void this.sortby(this.sortfield,v)}}}else if(0==this.filters.length&&!this.virtualmode&&this.cachedrecords){this.totalrecords=0
s=this.cachedrecords
if(this.records=s,this.sortdata){g=this.sortfield
if(this.sortcache[g]){this.sortdata=null
v=this.sortcache[g].direction
return this.sortcache[g]=null,void this.sortby(this.sortfield,v)}}}var b=this.reload(this.records,this.rows,this.filter,this.updated,t)
this.updated=null,null!=this.rowschangecallback&&(n!=this.totalrows&&this.rowschangecallback({type:"PagingChanged",data:this.getpagingdetails()}),i!=this.rows.length&&this.rowschangecallback({type:"RowsCountChanged",data:{previous:i,current:this.rows.length}}),(b.length>0||i!=this.rows.length)&&this.rowschangecallback({type:"RowsChanged",data:{previous:i,current:this.rows.length,diff:b}}))}},this}}(jqxBaseFramework)
var Ci=Object.freeze({})
!function(e){e.extend(e.jqx._jqxGrid.prototype,{_calculateaggregate:function(t,i,n,r){var o=t.aggregates
if(o||(o=i),o){for(var a=new Array,s=0;s<o.length;s++)"count"!=o[s]&&(a[a.length]=t.cellsformat)
if(this.source&&this.source.getAggregatedData){if(null==r&&(r=this.getrows()),this.virtualmode){r=new Array
e.each(this.source._source.records,function(){r.push(this)})}return null==n||1==n?this.source.getAggregatedData([{name:t.datafield,aggregates:o,formatStrings:a}],this.gridlocalization,r):this.source.getAggregatedData([{name:t.datafield,aggregates:o}],this.gridlocalization,r)}}return null},getcolumnaggregateddata:function(e,t,i,n){var r=this.getcolumn(e),o=null!=i&&0!=i&&i
if(null==t)return""
var a=r.aggregates
r.aggregates=null
var s=this._calculateaggregate(r,t,o,n),l={}
return s&&(l=s[e]),r.aggregates=a,l},refreshaggregates:function(){this._updatecolumnsaggregates()},renderaggregates:function(){this._updateaggregates()},_updatecolumnaggregates:function(t,i,n){var r=this
if(i)if(n.children().remove(),n.html(""),t.aggregatesrenderer){if(i){a=t.aggregatesrenderer(i[t.datafield],t,n,this.getcolumnaggregateddata(t.datafield,i[t.datafield]))
n.html(a)}}else e.each(i,function(){for(o in this){var t=e('<div style="position: relative; margin: 4px; overflow: hidden;"></div>'),i=o
i=r._getaggregatename(i),t.html(i+":"+this[o]),r.rtl&&t.addClass(r.toThemeProperty("jqx-rtl")),n.append(t)}})
else if(n.children().remove(),n.html(""),t.aggregatesrenderer){var o={}
t.aggregates&&(o=this.getcolumnaggregateddata(t.datafield,t.aggregates))
var a=t.aggregatesrenderer({},t,n,null)
n.html(a)}},_getaggregatetype:function(e){switch(e){case"min":case"max":case"count":case"avg":case"product":case"var":case"varp":case"stdev":case"stdevp":case"sum":return e}var t=e
for(var i in e){t=i
break}return t},_getaggregatename:function(e){var t=e
switch(e){case"min":t="Min"
break
case"max":t="Max"
break
case"count":t="Count"
break
case"avg":t="Avg"
break
case"product":t="Product"
break
case"var":t="Var"
break
case"stdevp":t="StDevP"
break
case"stdev":t="StDev"
break
case"varp":t="VarP"
case"sum":t="Sum"}if(e===t&&"string"!=typeof t)for(var i in e){t=i
break}return t},_updatecolumnsaggregates:function(){var t=this.getrows(),i=this.columns.records.length
if(null!=this.statusbar[0].cells)for(var n=0;n<i;n++){var r=e(this.statusbar[0].cells[n]),o=this.columns.records[n],a=this._calculateaggregate(o,null,!0,t)
this._updatecolumnaggregates(o,a,r)}},_updateaggregates:function(){var t=e('<div style="position: relative;" id="statusrow'+this.element.id+'"></div>'),i=0,n=this.columns.records.length,r=this.toThemeProperty("jqx-grid-cell")
this.rtl&&(r+=" "+this.toThemeProperty("jqx-grid-cell-rtl"),i=-1),r+=" "+this.toThemeProperty("jqx-grid-cell-pinned")
var o=n+10,a=new Array
this.statusbar[0].cells=a
for(var s=this.getrows(),l=0;l<n;l++){var d=this.columns.records[l],c=this._calculateaggregate(d,d.aggregates,!0,s),h=d.width
h<d.minwidth&&(h=d.minwidth),h>d.maxwidth&&(h=d.maxwidth)
var u=r
d.cellsalign&&(u+=" "+this.toThemeProperty("jqx-"+d.cellsalign+"-align"))
var p=e('<div style="overflow: hidden; position: absolute; height: 100%;" class="'+u+'"></div>')
t.append(p),p.css("left",i),this.rtl?p.css("z-index",o++):p.css("z-index",o--),p.width(h),p[0].left=i,d.hidden&&d.hideable?p.css("display","none"):i+=h,a[a.length]=p[0],this._updatecolumnaggregates(d,c,p)}e.jqx.browser.msie&&e.jqx.browser.version<8&&t.css("z-index",o--),t.width(parseFloat(i)+2),t.height(this.statusbarheight),this.statusbar.children().remove(),this.statusbar.append(t),this.statusbar.removeClass(this.toThemeProperty("jqx-widget-header")),this.statusbar.addClass(r),this.statusbar.css("border-bottom-color","transparent"),this.statusbar.css("border-top-width","1px"),this.rtl&&"hidden"!=this.hScrollBar.css("visibility")&&this._renderhorizontalscroll(),this._arrange()}})}(jqxBaseFramework)
var Si=Object.freeze({})
!function(e){e.extend(e.jqx._jqxGrid.prototype,{selectallrows:function(){this._trigger=!1
var e=this.virtualmode?this.dataview.totalrecords:this.dataview.loadedrecords.length
this.selectedrowindexes=new Array
for(var t=this.dataview.loadedrecords,i=0;i<e;i++){var n=t[i]
if(n){var r=this.getboundindex(n)
null!=r&&(this.selectedrowindexes[i]=r)}else this.selectedrowindexes[i]=i}"checkbox"!=this.selectionmode||this._checkboxcolumnupdating||this._checkboxcolumn&&this._checkboxcolumn.checkboxelement.jqxCheckBox({checked:!0}),this._renderrows(this.virtualsizeinfo),this._trigger=!0,"checkbox"==this.selectionmode&&this._raiseEvent(2,{rowindex:this.selectedrowindexes})},unselectallrows:function(){this._trigger=!1
this.virtualmode?this.dataview.totalrecords:this.dataview.loadedrecords.length
this.selectedrowindexes=new Array,"checkbox"!=this.selectionmode||this._checkboxcolumnupdating||this._checkboxcolumn&&this._checkboxcolumn.checkboxelement.jqxCheckBox({checked:!1}),this._renderrows(this.virtualsizeinfo),this._trigger=!0,"checkbox"==this.selectionmode&&this._raiseEvent(2,{rowindex:this.selectedrowindexes})},selectrow:function(e,t){this._applyrowselection(e,!0,t),!1!==t&&this._updatecheckboxselection()},_updatecheckboxselection:function(){if("checkbox"==this.selectionmode){var e=this.getrows()
if(e&&this._checkboxcolumn){if(0===e.length)return void this._checkboxcolumn.checkboxelement.jqxCheckBox({checked:!1})
var t=e.length
this.groupable&&(t=this.dataview.loadedrecords.length),this.virtualmode&&(t=this.source._source.totalrecords)
var i=this.selectedrowindexes.length
i===t?this._checkboxcolumn.checkboxelement.jqxCheckBox({checked:!0}):0===i?this._checkboxcolumn.checkboxelement.jqxCheckBox({checked:!1}):this._checkboxcolumn.checkboxelement.jqxCheckBox({checked:null})}}},unselectrow:function(e,t){this._applyrowselection(e,!1,t),!1!==t&&this._updatecheckboxselection()},selectcell:function(e,t){this._applycellselection(e,t,!0)},unselectcell:function(e,t){this._applycellselection(e,t,!1)},clearselection:function(e,t){if(this._trigger=!1,this.selectedrowindex=-1,this._oldselectedcell=null,!1!==t)for(var i=0;i<this.selectedrowindexes.length;i++)this._raiseEvent(3,{rowindex:this.selectedrowindexes[i]})
this.selectedrowindexes=new Array,this.selectedcells=new Array,this.selectedcell=null,"checkbox"!=this.selectionmode||this._checkboxcolumnupdating||this._checkboxcolumn.checkboxelement.jqxCheckBox({checked:!1}),!1!==e?(this._renderrows(this.virtualsizeinfo),this._trigger=!0,"checkbox"==this.selectionmode&&this._raiseEvent(3,{rowindex:this.selectedrowindexes})):this._trigger=!0},getselectedrowindex:function(){if(-1==this.selectedrowindex||null==this.selectedrowindex)for(var e=0;e<this.selectedrowindexes.length;e++)return this.selectedrowindexes[e]
return this.selectedrowindex},getselectedrowindexes:function(){return this.selectedrowindexes},getselectedcell:function(){if(!this.selectedcell)return null
var e=this.selectedcell
return e.row=this.selectedcell.rowindex,e.column=this.selectedcell.datafield,e.value=this.getcellvalue(e.row,e.column),e},getselectedcells:function(){var e=new Array
for(var t in this.selectedcells)e[e.length]=this.selectedcells[t]
return e},_getcellsforcopypaste:function(){var e=new Array
if(-1==this.selectionmode.indexOf("cell"))for(var t=this.selectedrowindexes,i=0;i<t.length;i++)for(var n=t[i],r=0;r<this.columns.records.length;r++)if("_checkboxcolumn"!==this.columns.records[r].datafield){this.columns.records[r].datafield
var o={rowindex:n,datafield:this.columns.records[r].datafield}
e.push(o)}return e},deleteselection:function(){var e=this.getselectedcells()
if(-1==this.selectionmode.indexOf("cell")&&(e=this._getcellsforcopypaste()),null!=e&&e.length>0){for(var t=0;t<e.length;t++){var i=e[t],n=this.getcolumn(i.datafield),r=this.getcellvalue(i.rowindex,i.datafield)
if(n&&""!==r){var o=null
"checkbox"==n.columntype&&(n.threestatecheckbox||(o=!1)),this._raiseEvent(17,{rowindex:i.rowindex,datafield:i.datafield,value:r}),t==e.length-1?(this.setcellvalue(i.rowindex,i.datafield,o,!0),n.displayfield!=n.datafield&&this.setcellvalue(i.rowindex,n.displayfield,o,!0)):(this.setcellvalue(i.rowindex,i.datafield,o,!1),n.displayfield!=n.datafield&&this.setcellvalue(i.rowindex,n.displayfield,o,!0)),this._raiseEvent(18,{rowindex:i.rowindex,datafield:i.datafield,oldvalue:r,value:o})}}this.dataview.updateview(),this._renderrows(this.virtualsizeinfo)}},copyselection:function(){var t="",i=this
this.clipboardselection={},this.logicalclipboardselection={},this._clipboardselection=[]
var n=i.getselectedcells();-1==this.selectionmode.indexOf("cell")&&(n=this._getcellsforcopypaste())
var r=new Array
if(null!=n&&n.length>0){for(var o=999999999999999,a=-1,s=0;s<n.length;s++){var l=n[s],d=i.getcolumn(l.datafield)
if(null!=d&&d.clipboard&&(!d.hidden||this.copytoclipboardhiddencolumns)){-1==r.indexOf(d.text)&&r.push(d.text)
var c=i.getcelltext(l.rowindex,d.displayfield),h=this.getrowdisplayindex(l.rowindex)
this.clipboardselection[h]||(this.clipboardselection[h]={}),this.clipboardselection[h][d.displayfield]=c,this.logicalclipboardselection[h]||(this.logicalclipboardselection[h]={}),this.logicalclipboardselection[h][d.displayfield]=c,d.displayfield!=d.datafield&&(this.logicalclipboardselection[h][d.datafield]=i.getcellvalue(l.rowindex,d.datafield)),o=Math.min(o,h),a=Math.max(a,h)}}for(var u=new Array,p=o;p<=a;p++)if(this.logicalclipboardselection[p]){var m=e.extend({},this.logicalclipboardselection[p])
u.push(m)}if(this.logicalclipboardselection=u,this.copytoclipboardwithheaders){for(var f=0;f<r.length;f++)f>0&&(t+="\t"),t+=r[f]
t+="\r\n"}for(p=o;p<=a;p++){var g=0
this._clipboardselection[this._clipboardselection.length]=new Array,null!=this.clipboardselection[p]&&(e.each(this.clipboardselection[p],function(e,n){g>0&&(t+="\t")
var r=n
null==n&&(r=""),i._clipboardselection[i._clipboardselection.length-1][g]=r,g++,t+=r}),p<a&&(t+="\r\n"))}}return this.clipboardselectedtext=t,t},pasteselection:function(){var e=this.getselectedcells()
if(this._oldselectedcell=null,-1==this.selectionmode.indexOf("cell")&&(e=this._getcellsforcopypaste()),null!=e&&e.length>0){var t=e[0].rowindex,i=this.getrowdisplayindex(t),n=e[0].datafield,r=this._getcolumnindex(n)
this.selectedrowindexes=new Array,this.selectedcells=new Array
e.length
var o=0,a=new Array
this.copytoclipboardwithheaders&&this._clipboardselection.splice(0,1)
for(var s=0;s<this._clipboardselection.length;s++){o+=this._clipboardselection[s].length,a[s]=new Array
for(var l=0;l<this._clipboardselection[s].length;l++){var d=this._clipboardselection[s][l]
a[s].push(d)}}if(o<e.length){var c=new Array
for(s=0;s<e.length;s++){c[(y=e[s]).rowindex]||(c[y.rowindex]=new Array),c[y.rowindex].push(y)}var h=0,u=0
for(s=0;s<c.length;s++)if(c[s]){for(l=0;l<c[s].length;l++){var p=(y=c[s][l]).rowindex
if("_checkboxcolumn"!==(b=this.getcolumn(y.datafield)).datafield&&!b.hidden){d=""
if(null==a[h][u]&&(u=0),d=a[h][u],u++,b.cellsformat&&(-1!=b.cellsformat.indexOf("p")||-1!=b.cellsformat.indexOf("c")||-1!=b.cellsformat.indexOf("n")||-1!=b.cellsformat.indexOf("f"))){d.indexOf(this.gridlocalization.currencysymbol)>-1&&(d=d.replace(this.gridlocalization.currencysymbol,"")),(d=(d=function(e,t,i){var n=e
if(t==i)return e
for(var r=n.indexOf(t);-1!=r;)r=(n=n.replace(t,i)).indexOf(t)
return n}(d,this.gridlocalization.thousandsseparator,"")).replace(this.gridlocalization.decimalseparator,".")).indexOf(this.gridlocalization.percentsymbol)>-1&&(d=d.replace(this.gridlocalization.percentsymbol,""))
for(var m="",f=0;f<d.length;f++){"-"===(_=d.substring(f,f+1))&&(m+="-"),"."===_&&(m+="."),null!=_.match(/^[0-9]+$/)&&(m+=_)}d=(d=m).replace(/ /g,""),d=new Number(d),isNaN(d)&&(d="")}if(this._raiseEvent(17,{rowindex:p,datafield:y.datafield,value:d}),this.setcellvalue(p,b.displayfield,d,!1),b.displayfield!=b.datafield&&this.logicalclipboardselection)if(this.logicalclipboardselection[p])null!=(w=this.logicalclipboardselection[p][b.datafield])&&this.setcellvalue(p,b.datafield,w,!1)
this._raiseEvent(18,{rowindex:p,datafield:y.datafield,oldvalue:this.getcellvalue(y.rowindex,y.datafield),value:d}),this._applycellselection(p,y.datafield,!0,!1)}}u=0,a[++h]||(h=0)}}else{if(!this._clipboardselection)return
for(var g=0;g<this._clipboardselection.length;g++)for(var v=0;v<this._clipboardselection[g].length;v++){var b
if((b=this.getcolumnat(r+v))&&("_checkboxcolumn"!==b.datafield&&!b.hidden)){p=this.getrowboundindex(i+g)
var y=this.getcell(p,b.datafield)
d=null
if(null!=(d=this._clipboardselection[g][v])){if(b.cellsformat&&(-1!=b.cellsformat.indexOf("p")||-1!=b.cellsformat.indexOf("c")||-1!=b.cellsformat.indexOf("n")||-1!=b.cellsformat.indexOf("f"))){d.indexOf(this.gridlocalization.currencysymbol)>-1&&(d=d.replace(this.gridlocalization.currencysymbol,"")),(d=(d=function(e,t,i){var n=e
if(t==i)return e
for(var r=n.indexOf(t);-1!=r;)r=(n=n.replace(t,i)).indexOf(t)
return n}(d,this.gridlocalization.thousandsseparator,"")).replace(this.gridlocalization.decimalseparator,".")).indexOf(this.gridlocalization.percentsymbol)>-1&&(d=d.replace(this.gridlocalization.percentsymbol,""))
for(m="",f=0;f<d.length;f++){var _
"-"===(_=d.substring(f,f+1))&&(m+="-"),"."===_&&(m+="."),null!=_.match(/^[0-9]+$/)&&(m+=_)}d=(d=m).replace(/ /g,""),d=new Number(d),isNaN(d)&&(d="")}var w
if(this._raiseEvent(17,{rowindex:p,datafield:y.datafield,value:d}),this.setcellvalue(p,b.displayfield,d,!1),b.displayfield!=b.datafield&&this.logicalclipboardselection)null!=(w=this.logicalclipboardselection[g][b.datafield])&&this.setcellvalue(p,b.datafield,w,!1)
this._raiseEvent(18,{rowindex:p,datafield:y.datafield,oldvalue:this.getcellvalue(y.rowindex,y.datafield),value:d}),this._applycellselection(p,y.datafield,!0,!1)}}}}"checkbox"==this.selectionmode&&this._updatecheckboxselection(),this.dataview.updateview(),this._renderrows(this.virtualsizeinfo)}this.clipboardend&&this.clipboardend("paste")},_applyrowselection:function(e,t,i,n,r){if(null==e)return!1
var o=this.selectedrowindex
if("singlerow"==this.selectionmode&&(t?this._raiseEvent(2,{rowindex:e,row:this.getrowdata(e)}):this._raiseEvent(3,{rowindex:e,row:this.getrowdata(e)}),this._raiseEvent(3,{rowindex:o}),this.selectedrowindexes=new Array,this.selectedcells=new Array),1==n&&(this.selectedrowindexes=new Array),this.dataview.filters.length>0){var a=this.getrowdata(e)
a&&void 0!==a.dataindex?e=a.dataindex:a&&void 0===a.dataindex&&null!=a.uid&&(e=this.getrowboundindexbyid(a.uid))}var s=this.selectedrowindexes.indexOf(e)
if(t)this.selectedrowindex=e,-1==s?(this.selectedrowindexes.push(e),"singlerow"!=this.selectionmode&&this._raiseEvent(2,{rowindex:e,row:this.getrowdata(e)})):"multiplerows"==this.selectionmode&&(this.selectedrowindexes.splice(s,1),this._raiseEvent(3,{rowindex:this.selectedrowindex,row:this.getrowdata(e)}),this.selectedrowindex=this.selectedrowindexes.length>0?this.selectedrowindexes[this.selectedrowindexes.length-1]:-1)
else if(s>=0||"singlerow"==this.selectionmode||"multiplerowsextended"==this.selectionmode||"multiplerowsadvanced"==this.selectionmode){var l=this.selectedrowindexes[s]
this.selectedrowindexes.splice(s,1),this._raiseEvent(3,{rowindex:l,row:this.getrowdata(e)}),this.selectedrowindex=-1}return(null==i||i)&&this._rendervisualrows(),!0},_applycellselection:function(e,t,i,n){if(null==e)return!1
if(null==t)return!1
var r
this.selectedrowindex
"singlecell"==this.selectionmode&&(null!=(r=this.selectedcell)&&this._raiseEvent(16,{rowindex:r.rowindex,datafield:r.datafield}),this.selectedcells=new Array)
"multiplecellsextended"!=this.selectionmode&&"multiplecellsadvanced"!=this.selectionmode||null!=(r=this.selectedcell)&&this._raiseEvent(16,{rowindex:r.rowindex,datafield:r.datafield})
var o=e+"_"+t
if(this.dataview.filters.length>0){var a=this.getrowdata(e)
if(a&&void 0!==a.dataindex)o=(e=a.dataindex)+"_"+t
else if(a&&void 0===a.dataindex&&a.uid)o=(e=this.getrowboundindexbyid(a.uid))+"_"+t}var s={rowindex:e,datafield:t}
return i?(this.selectedcell=s,this.selectedcells[o]?"multiplecells"!=this.selectionmode&&"multiplecellsextended"!=this.selectionmode&&"multiplecellsadvanced"!=this.selectionmode||(delete this.selectedcells[o],this.selectedcells.length>0&&this.selectedcells.length--,this._raiseEvent(16,s)):(this.selectedcells[o]=s,this.selectedcells.length++,this._raiseEvent(15,s))):(delete this.selectedcells[o],this.selectedcells.length>0&&this.selectedcells.length--,this._raiseEvent(16,s)),(null==n||n)&&this._rendervisualrows(),!0},_getcellindex:function(t){var i=-1
return e.each(this.selectedcells,function(){if(i++,this[t])return!1}),i},_clearhoverstyle:function(){if(null!=this.hoveredrow&&-1!=this.hoveredrow&&!this.vScrollInstance.isScrolling()&&!this.hScrollInstance.isScrolling()){var e=this.table.find(".jqx-grid-cell-hover")
e.length>0&&(e.removeClass(this.toTP("jqx-grid-cell-hover")),e.removeClass(this.toTP("jqx-fill-state-hover"))),this.hoveredrow=-1}},_clearselectstyle:function(){for(var t=this.table[0].rows.length,i=this.table[0].rows,n=this.toTP("jqx-grid-cell-selected"),r=this.toTP("jqx-fill-state-pressed"),o=this.toTP("jqx-grid-cell-hover"),a=this.toTP("jqx-fill-state-hover"),s=0;s<t;s++)for(var l=i[s],d=l.cells.length,c=l.cells,h=0;h<d;h++){var u=c[h],p=e(u);-1!=u.className.indexOf("jqx-grid-cell-selected")&&(p.removeClass(n),p.removeClass(r)),-1!=u.className.indexOf("jqx-grid-cell-hover")&&(p.removeClass(o),p.removeClass(a))}},_selectpath:function(e,t){var i=this._lastClickedCell?Math.min(this._lastClickedCell.row,e):0,n=this._lastClickedCell?Math.max(this._lastClickedCell.row,e):0
if(i<=n){var r=this._getcolumnindex(this._lastClickedCell.column),o=this._getcolumnindex(t),a=Math.min(r,o),s=Math.max(r,o)
this.selectedcells=new Array
for(var l=this.dataview.loadedrecords,d=i;d<=n;d++)for(var c=a;c<=s;c++){e=l[d]
this._applycellselection(this.getboundindex(e),this._getcolumnat(c).datafield,!0,!1)}this._rendervisualrows()}},_selectrowpath:function(e){if("multiplerowsextended"==this.selectionmode){var t=this._lastClickedCell?Math.min(this._lastClickedCell.row,e):0,i=this._lastClickedCell?Math.max(this._lastClickedCell.row,e):0,n=this.dataview.loadedrecords
if(t<=i){this.selectedrowindexes=new Array
for(var r=t;r<=i;r++){e=n[r]
var o=this.getrowboundindex(r)
this._applyrowselection(o,!0,!1)}this._rendervisualrows()}}},_selectrowwithmouse:function(e,t,i,n,r,o){if(null!=(y=t.row)){var a=t.index
if(null!=this.hittestinfo[a]){var s=this.hittestinfo[a].visualrow
if(!this.hittestinfo[a].details){s.cells[0].className
if(!y.group){if("multiplerows"==this.selectionmode||"multiplecells"==this.selectionmode||"checkbox"==this.selectionmode||-1!=this.selectionmode.indexOf("multiple")&&(1==o||1==r)){var l=this.getboundindex(y)
if(this.dataview.filters.length>0){var d=this.getrowdata(l)
if(d&&null==(l=d.dataindex))l=this.getboundindex(y)}var c=-1!=i.indexOf(l),h=this.getboundindex(y)+"_"+n
if(-1!=this.selectionmode.indexOf("cell")){var u=null!=this.selectedcells[h]
if(null!=this.selectedcells[h]&&u?this._selectcellwithstyle(e,!1,a,n,s):this._selectcellwithstyle(e,!0,a,n,s),o&&null==this._lastClickedCell){var p=this.getselectedcells()
p&&p.length>0&&(this._lastClickedCell={row:p[0].rowindex,column:p[0].datafield})}o&&this._lastClickedCell&&(this._selectpath(y.visibleindex,n),this.mousecaptured=!1,"visible"==this.selectionarea.css("visibility")&&this.selectionarea.css("visibility","hidden"))}else{if(c?r?this._applyrowselection(this.getboundindex(y),!1):this._selectrowwithstyle(e,s,!1,n):this._selectrowwithstyle(e,s,!0,n),o&&null==this._lastClickedCell){var m=this.getselectedrowindexes()
m&&m.length>0&&(this._lastClickedCell={row:m[0],column:n})}if(o&&this._lastClickedCell){this.selectedrowindexes=new Array
for(var f=this._lastClickedCell?Math.min(this._lastClickedCell.row,y.visibleindex):0,g=this._lastClickedCell?Math.max(this._lastClickedCell.row,y.visibleindex):0,v=this.dataview.loadedrecords,b=f;b<=g;b++){var y;(y=v[b])&&this._applyrowselection(this.getboundindex(y),!0,!1,!1)}this._rendervisualrows()}}}else this._clearselectstyle(),this._selectrowwithstyle(e,s,!0,n),-1!=this.selectionmode.indexOf("cell")&&this._selectcellwithstyle(e,!0,a,n,s)
o||(this._lastClickedCell={row:y.visibleindex,column:n})}}}}},_selectcellwithstyle:function(t,i,n,r,o){var a=e(o.cells[t._getcolumnindex(r)])
a.removeClass(this.toTP("jqx-grid-cell-hover")),a.removeClass(this.toTP("jqx-fill-state-hover")),i?(a.addClass(this.toTP("jqx-grid-cell-selected")),a.addClass(this.toTP("jqx-fill-state-pressed"))):(a.removeClass(this.toTP("jqx-grid-cell-selected")),a.removeClass(this.toTP("jqx-fill-state-pressed")))},_selectrowwithstyle:function(t,i,n,r){var o=i.cells.length,a=0
t.rowdetails&&t.showrowdetailscolumn?this.rtl?(o-=1,o-=this.groups.length):a=1+this.groups.length:this.groupable&&(this.rtl?o-=this.groups.length:a=this.groups.length)
for(var s=a;s<o;s++){var l=i.cells[s]
n?(e(l).removeClass(this.toTP("jqx-grid-cell-hover")),e(l).removeClass(this.toTP("jqx-fill-state-hover")),-1==t.selectionmode.indexOf("cell")&&(e(l).addClass(this.toTP("jqx-grid-cell-selected")),e(l).addClass(this.toTP("jqx-fill-state-pressed")))):(e(l).removeClass(this.toTP("jqx-grid-cell-hover")),e(l).removeClass(this.toTP("jqx-grid-cell-selected")),e(l).removeClass(this.toTP("jqx-fill-state-hover")),e(l).removeClass(this.toTP("jqx-fill-state-pressed")))}},_handlemousemoveselection:function(t,i){if(i.hScrollInstance.isScrolling()||i.vScrollInstance.isScrolling())return!1
if(("multiplerowsextended"==i.selectionmode||"multiplecellsextended"==i.selectionmode||"multiplecellsadvanced"==i.selectionmode)&&i.mousecaptured){if(i.multipleselectionbegins)if(!1===i.multipleselectionbegins(t))return!0
var n=this.showheader?this.columnsheader.height()+2:0,r=this._groupsheader()?this.groupsheader.height():0
r+=this.showtoolbar?this.toolbar.height():0
var o=this.host.coord()
if(this.hasTransform){o=e.jqx.utilities.getOffset(this.host)
var a=this._getBodyOffset()
o.left-=a.left,o.top-=a.top}"0px"===this.host.css("border-top-width")&&(r-=2)
var s=t.pageX,l=t.pageY-r
if(Math.abs(this.mousecaptureposition.left-s)>3||Math.abs(this.mousecaptureposition.top-l)>3){parseInt(this.columnsheader.coord().top)
this.hasTransform&&e.jqx.utilities.getOffset(this.columnsheader).top,s<o.left&&(s=o.left),s>o.left+this.host.width()&&(s=o.left+this.host.width())
var d=o.top+n
l<d&&(l=d+5)
var c=parseInt(Math.min(i.mousecaptureposition.left,s)),h=-5+parseInt(Math.min(i.mousecaptureposition.top,l)),u=parseFloat(Math.abs(i.mousecaptureposition.left-s)),p=parseInt(Math.abs(i.mousecaptureposition.top-l))
if(c-=o.left,h-=o.top,this.selectionarea.css("visibility","visible"),"multiplecellsadvanced"==i.selectionmode){var m=(s=c)+u,f=i.hScrollInstance,g=f.value
this.rtl&&("hidden"!=this.hScrollBar.css("visibility")&&(g=f.max-f.value),this.vScrollBar[0].style.visibility)
var v=i.table[0].rows[0],b=0,y=i.mousecaptureposition.clickedcell,_=y,w=!1,x=0,C=v.cells.length
i.mousecaptureposition.left<=t.pageX&&(x=y)
for(var S=!1,T=x;T<C;T++){var I=parseFloat(e(this.columnsrow[0].cells[T]).css("left")),E=I-g
if(!i.columns.records[T].pinned||i.columns.records[T].hidden){if(S){w=!0,_--
break}var P=this._getcolumnat(T)
if(!(null!=P&&P.hidden||i.groupable&&i.groups.length>0&&T<i.groups.length)){D=E+e(this.columnsrow[0].cells[T]).width()
if(i.mousecaptureposition.left>t.pageX){if(D>=s&&s>=E){_=T,w=!0
break}}else if(D>=m&&m>=E){_=T,w=!0
break}}}else{T==y&&(S=!0)
var D=I+e(this.columnsrow[0].cells[T]).width()
if(i.mousecaptureposition.left>t.pageX){if(D>=s&&s>=E){_=T,w=!0
break}}else if(D>=m&&m>=E){_=T,w=!0
break}}}w||(i.mousecaptureposition.left>t.pageX?e.each(this.columns.records,function(e,t){return!!(i.groupable&&i.groups.length>0&&e<i.groups.length)||(this.pinned||this.hidden?void 0:(_=e,!1))}):(!i.groupable||i.groupable&&!i.groups.length>0)&&(_=v.cells.length-1))
var k=y
y=Math.min(y,_),_=Math.max(k,_),h+=5,h+=r
i.table[0].rows.indexOf(i.mousecaptureposition.clickedrow)
var A=0,j=-1,M=-1,N=0
for(T=0;T<i.table[0].rows.length;T++){var q=e(i.table[0].rows[T])
0==T&&(N=q.coord().top)
var O=q.height(),B=N-o.top
if(-1==j&&B+O>=h){for(var L=!1,R=0;R<i.groups.length;R++){if(-1!=(H=q[0].cells[R].className).indexOf("jqx-grid-group-collapse")||-1!=H.indexOf("jqx-grid-group-expand")){L=!0
break}}if(L)continue
j=T}if(N+=O,i.groupable&&i.groups.length>0){for(L=!1,R=0;R<i.groups.length;R++){var H
if(-1!=(H=q[0].cells[R].className).indexOf("jqx-grid-group-collapse")||-1!=H.indexOf("jqx-grid-group-expand")){L=!0
break}}if(L)continue
b=0
for(var V=i.groups.length;V<q[0].cells.length;V++){var F=q[0].cells[V]
""==e(F).html()&&b++}if(b==q[0].cells.length-i.groups.length)continue}if(-1!=j&&(A+=O),B+O>h+p){M=T
break}}if(-1!=j){h=e(i.table[0].rows[j]).coord().top-o.top-r-2
var z=0
this.filterable&&this.showfilterrow&&(z=this.filterrowheight),parseFloat(i.table[0].style.top)<0&&h<this.rowsheight+z&&(h-=parseFloat(i.table[0].style.top),A+=parseFloat(i.table[0].style.top)),p=A
var $=e(this.columnsrow[0].cells[y]),U=e(this.columnsrow[0].cells[_])
if(c=parseFloat($.css("left")),u=parseFloat(U.css("left"))-parseFloat(c)+U.width()-2,c-=g,S&&(c+=g),i.editcell&&i.editable&&i.endcelledit&&(y!=_||j!=M)){if(0==i.editcell.validated)return
i.endcelledit(i.editcell.row,i.editcell.column,!0,!0)}}}this.selectionarea.width(u),this.selectionarea.height(p),this.selectionarea.css("left",c),this.selectionarea.css("top",h)}}},_handlemouseupselection:function(t,i){if(this.selectionarea){if("visible"!=this.selectionarea[0].style.visibility)return i.mousecaptured=!1,!0
if(i.mousecaptured&&("multiplerowsextended"==i.selectionmode||"multiplerowsadvanced"==i.selectionmode||"multiplecellsextended"==i.selectionmode||"multiplecellsadvanced"==i.selectionmode)&&(i.mousecaptured=!1,"visible"==this.selectionarea.css("visibility"))){this.selectionarea.css("visibility","hidden")
var n=this.showheader?this.columnsheader.height()+2:0,r=this._groupsheader()?this.groupsheader.height():0
"0px"===this.host.css("border-top-width")&&(r-=2),r+=this.showtoolbar?this.toolbar.height():0
var o=this.selectionarea.coord(),a=this.host.coord()
this.hasTransform&&(a=e.jqx.utilities.getOffset(this.host),o=e.jqx.utilities.getOffset(this.selectionarea)),"0px"===this.host.css("border-top-width")&&(r-=2)
var s=o.left-a.left,l=o.top-n-a.top-r,d=l,c=s+this.selectionarea.width(),h=s,u=new Array,p=new Array
if("multiplerowsextended"==i.selectionmode){for(;l<d+this.selectionarea.height();){var m=(_=this._hittestrow(s,l)).row;-1!=(w=_.index)&&(p[w]||(p[w]=!0,u[u.length]=_)),l+=20}d=0
e.each(u,function(){var e=this.row
"none"!=i.selectionmode&&i._selectrowwithmouse&&(t.ctrlKey||t.metaKey?i._applyrowselection(i.getboundindex(e),!0,!1,!1):0==d?i._applyrowselection(i.getboundindex(e),!0,!1,!0):i._applyrowselection(i.getboundindex(e),!0,!1,!1),d++)})}else{"multiplecellsadvanced"==i.selectionmode&&(l+=2)
var f=i.hScrollInstance,g=f.value
this.rtl&&("hidden"!=this.hScrollBar.css("visibility")&&(g=f.max-f.value),"hidden"!=this.vScrollBar[0].style.visibility&&(g-=this.scrollbarsize+4))
var v=i.table[0].rows[0],b=i.selectionarea.height()
!t.ctrlKey&&!t.metaKey&&b>0&&(i.selectedcells=new Array)
for(var y=b;l<d+y;){var _
if(_=i._hittestrow(s,l)){var w
m=_.row
if(-1!=(w=_.index)&&!p[w]){p[w]=!0
for(var x=0;x<v.cells.length;x++){var C=parseFloat(e(i.columnsrow[0].cells[x]).css("left"))-g,S=C+e(i.columnsrow[0].cells[x]).width();(h>=C&&h<=S||c>=C&&c<=S||C>=h&&C<=c)&&i._applycellselection(i.getboundindex(m),i._getcolumnat(x).datafield,!0,!1)}}l+=5}else l+=5}}i.autosavestate&&i.savestate&&i.savestate(),i._renderrows(i.virtualsizeinfo)}}},selectprevcell:function(e,t){var i=this._getcolumnindex(t),n=(this.columns.records.length,this._getprevvisiblecolumn(i))
null!=n&&(this.clearselection(),this.selectcell(e,n.datafield))},selectnextcell:function(e,t){var i=this._getcolumnindex(t),n=(this.columns.records.length,this._getnextvisiblecolumn(i))
null!=n&&(this.clearselection(),this.selectcell(e,n.datafield))},_getfirstvisiblecolumn:function(){for(var e=this.columns.records.length,t=0;t<e;t++){var i=this.columns.records[t]
if(!i.hidden&&null!=i.datafield)return i}return null},_getlastvisiblecolumn:function(){for(var e=this.columns.records.length-1;e>=0;e--){var t=this.columns.records[e]
if(!t.hidden&&null!=t.datafield)return t}return null},_handlekeydown:function(t,i){if(i.groupable&&i.groups.length,i.disabled)return!1
var n=t.charCode?t.charCode:t.keyCode?t.keyCode:0
if(i.editcell&&"multiplecellsadvanced"!=i.selectionmode)return!0
if(i.editcell&&"multiplecellsadvanced"==i.selectionmode){if(!(n>=33&&n<=40))return!0
if(t.altKey)return i._cancelkeydown=!1,!0
if(null!=i._cancelkeydown&&0!=i._cancelkeydown)return i._cancelkeydown=!1,!0
if("selectedrow"===i.editmode)return!0
if(i.endcelledit(i.editcell.row,i.editcell.column,!1,!0),i._cancelkeydown=!1,i.editcell&&!i.editcell.validated)return i._rendervisualrows(),i.endcelledit(i.editcell.row,i.editcell.column,!1,!0),!1}if("none"==i.selectionmode)return!0
if(i.showfilterrow&&i.filterable&&this.filterrow&&e(t.target).ischildof(i.filterrow))return!0
if(i.showeverpresentrow){if(i.addnewrowtop&&e(t.target).ischildof(i.addnewrowtop))return!0
if(i.addnewrowbottom&&e(t.target).ischildof(i.addnewrowbottom))return!0}if(t.target.className&&t.target.className.indexOf("jqx-grid-widget")>=0)return!0
if(i.pageable&&e(t.target).ischildof(this.pager))return!0
if(this.showtoolbar&&e(t.target).ischildof(this.toolbar))return!0
if(this.showstatusbar&&e(t.target).ischildof(this.statusbar))return!0
var r=!1
if(t.altKey)return!0
if((t.ctrlKey||t.metaKey)&&this.clipboard){var o=String.fromCharCode(n).toLowerCase()
if(this.clipboardbegin){var a=null
if("c"==o?a=this.clipboardbegin("copy",this.copyselection()):"x"==o?a=this.clipboardbegin("cut",this.copyselection()):"v"==o&&(a=this.clipboardbegin("paste")),!1===a)return!1}if("c"==o||"x"==o){var s=this.copyselection()
if("c"==o&&this.clipboardend&&this.clipboardend("copy"),"x"==o&&this.clipboardend&&this.clipboardend("cut"),window.clipboardData)window.clipboardData.setData("Text",s)
else{var l=e('<textarea style="position: absolute; left: -1000px; top: -1000px;"/>')
l.val(s),e("body").append(l),l.select(),setTimeout(function(){document.designMode="off",l.select(),l.remove(),i.focus()},100)}if("c"==o&&e.jqx.browser.msie)return!1
if("c"==o)return!0}else if("v"==o){var d=e('<textarea style="position: absolute; left: -1000px; top: -1000px;"/>')
e("body").append(d),d.select()
var c=this
return setTimeout(function(){if(c._clipboardselection=new Array,0==(e=d.val()).length&&window.clipboardData){d.val(window.clipboardData.getData("Text"))
var e=d.val()}for(var t=e.split("\n"),i=0;i<t.length;i++)if(t[i].split("\t").length>0){var n=t[i].split("\t")
if(1==n.length&&i==t.length-1&&""==n[0])continue
n.length>0&&c._clipboardselection.push(n)}c.pasteselection(),d.remove(),c.focus()},100),!0}if("x"==o)return this.deleteselection(),this.host.focus(),!1}var h=Math.round(i._gettableheight()),u=Math.round(h/i.rowsheight),p=i.getdatainformation()
switch(i.selectionmode){case"singlecell":case"multiplecells":case"multiplecellsextended":case"multiplecellsadvanced":var m=i.getselectedcell()
if(null!=m){var f=this.getrowvisibleindex(m.rowindex),g=m.datafield,v=i._getcolumnindex(g),b=(i.columns.records.length,function(e,n,o,a){var s=function(e,t){var n,s=i.dataview.loadedrecords[e]
if(i.groupable&&i.groups.length>0){var l=e
"up"==a&&l++,"down"==a&&l--
s=i.getdisplayrows()[l]
for(var d=1,c=!0;c&&d<300&&(c=!1,"down"==a?s=i.getdisplayrows()[l+d]:"up"==a&&(s=i.getdisplayrows()[l-d]),s);){s&&s.group&&(c=!0)
for(var h=s.parentItem;h;)!h||(n=h).group&&(i.expandedgroups[n.uniqueid]?i.expandedgroups[n.uniqueid].expanded:void 0)||(c=!0),h=h.parentItem
if(!c)break
d++}if(300==d&&(s=null),i.pageable){var u=!1
if(s){for(var p=0;p<i.dataview.rows.length;p++)i.dataview.rows[p].boundindex==s.boundindex&&(u=!0)
u||(s=null)}}}if(null!=s&&null!=t){(o||null==o)&&i.clearselection()
var m=i.getboundindex(s)
return i.selectcell(m,t),i._oldselectedcell=i.selectedcell,r=!0,i.ensurecellvisible(e,t),!0}return!1}
if(s(e,n)||(i.ensurecellvisible(e,n),s(e,n),i.virtualmode&&i.host.focus()),!(i.groupable&&i.groups.length>0))if(t.shiftKey&&9!=t.keyCode){if(("multiplecellsextended"==i.selectionmode||"multiplecellsadvanced"==i.selectionmode)&&i._lastClickedCell){i._selectpath(e,n)
var l=i.dataview.loadedrecords[e],d=i.getboundindex(l)
return void(i.selectedcell={rowindex:d,datafield:n})}}else t.shiftKey||(i._lastClickedCell={row:e,column:n})}),y=t.shiftKey&&"singlecell"!=i.selectionmode&&"multiplecells"!=i.selectionmode,_=function(){b(0,g,!y)},w=function(){var e=p.rowscount-1
b(e,g,!y)},x=9==n&&!t.shiftKey,C=9==n&&t.shiftKey
if(i.rtl){var S=x
x=C,C=S}if((x||C)&&(y=!1),(x||C)&&document.activeElement&&document.activeElement.className&&document.activeElement.className.indexOf("jqx-grid-cell-add-new-row")>=0)return!0
if((A=t.ctrlKey||t.metaKey)&&37==n)null!=(P=i._getfirstvisiblecolumn(v))&&b(f,P.datafield)
else if(A&&39==n){var T=i._getlastvisiblecolumn(v)
null!=T&&b(f,T.datafield)}else if(39==n||x){var I=i._getnextvisiblecolumn(v)
if(null!=I)b(f,I.datafield,!y)
else if(x){var E=i._getfirstvisiblecolumn()
n=40,g=E.displayfield}else r=!0}else if(37==n||C){var P
if(null!=(P=i._getprevvisiblecolumn(v)))b(f,P.datafield,!y)
else if(C){var D=i._getlastvisiblecolumn()
n=38,g=D.displayfield}else r=!0}else if(36==n)_()
else if(35==n)w()
else if(33==n){if(f-u>=0)b(f-u,g,!y)
else _()}else if(34==n){if(p.rowscount>f+u)b(f+u,g,!y)
else w()}38==n&&(A?_():f>0?b(f-1,g,!y,"up"):r=!0),40==n&&(A?w():p.rowscount>f+1||i.groupable&&i.groups.length>0?b(f+1,g,!y,"down"):r=!0)}break
case"singlerow":case"multiplerows":case"multiplerowsextended":case"multiplerowsadvanced":if(null==(f=i.getselectedrowindex())||-1==f)return!0
f=this.getrowvisibleindex(f)
var k=function(e,o,a){var s=function(e){var t,n=i.dataview.loadedrecords[e]
if(i.groupable&&i.groups.length>0){"up"==a&&e++,"down"==a&&e--
n=i.getdisplayrows()[e]
for(var s=1,l=!0;l&&s<300&&(l=!1,"down"==a?n=i.getdisplayrows()[e+s]:"up"==a&&(n=i.getdisplayrows()[e-s]),n);){n&&n.group&&(l=!0)
for(var d=n.parentItem;d;)!d||(t=d).group&&(i.expandedgroups[t.uniqueid]?i.expandedgroups[t.uniqueid].expanded:void 0)||(l=!0),d=d.parentItem
if(!l)break
s++}if(300==s&&(n=null),i.pageable){var c=!1
if(n){for(var h=0;h<i.dataview.rows.length;h++)i.dataview.rows[h].boundindex==n.boundindex&&(c=!0)
c||(n=null)}}}if(null!=n){var u=i.getboundindex(n),p=i.selectedrowindex
return(o||null==o)&&i.clearselection(),i.selectedrowindex=p,i.selectrow(u,!1),(!i.ensurerowvisible(e)||i.autoheight||i.groupable)&&i._rendervisualrows(),r=!0,!0}return!1}
if(s(e)||(i.ensurerowvisible(e),s(e),i.virtualmode&&setTimeout(function(){s(e)},25),i.virtualmode&&i.host.focus()),!(i.groupable&&i.groups.length>0))if(t.shiftKey&&9!=n){if("multiplerowsextended"==i.selectionmode&&i._lastClickedCell)return i._selectrowpath(e),void(i.selectedrowindex=i.getrowboundindex(e))}else t.shiftKey||(i._lastClickedCell={row:e},i.selectedrowindex=i.getrowboundindex(e))},A=(y=t.shiftKey&&"singlerow"!=i.selectionmode&&"multiplerows"!=i.selectionmode,_=function(){k(0,!y)},w=function(){var e=p.rowscount-1
k(e,!y)},t.ctrlKey||t.metaKey)
if(36==n||A&&38==n)_()
else if(35==n||A&&40==n)w()
else if(33==n){if(f-u>=0)k(f-u,!y)
else _()}else if(34==n){if(p.rowscount>f+u)k(f+u,!y)
else w()}else 38==n?f>0?k(f-1,!y,"up"):r=!0:40==n&&(p.rowscount>f+1||i.groupable&&i.groups.length>0?k(f+1,!y,"down"):r=!0)}return!r||(i.autosavestate&&i.savestate&&i.savestate(),!1)},_handlemousemove:function(t,i){if(!i.vScrollInstance.isScrolling()&&!i.hScrollInstance.isScrolling()){var n,r,o,a,s
if(i.enablehover||"multiplerows"==i.selectionmode){if(n=this.showheader?this.columnsheader.height()+2:0,r=this._groupsheader()?this.groupsheader.height():0,r+=this.showtoolbar?this.toolbarheight:0,o=this.host.coord(),this.hasTransform){o=e.jqx.utilities.getOffset(this.host)
var l=this._getBodyOffset()
o.left-=l.left,o.top-=l.top}a=t.pageX-o.left,s=t.pageY-n-o.top-r}if("multiplerowsextended"!=i.selectionmode&&"multiplecellsextended"!=i.selectionmode&&"multiplecellsadvanced"!=i.selectionmode||1!=i.mousecaptured){if(!i.enablehover)return!0
if(!i.disabled&&!this.vScrollInstance.isScrolling()&&!this.hScrollInstance.isScrolling()){var d=this._hittestrow(a,s)
if(d){var c=d.row,h=d.index
if((-1==this.hoveredrow||-1==h||this.hoveredrow!=h||-1!=this.selectionmode.indexOf("cell")||"checkbox"==this.selectionmode)&&(this._clearhoverstyle(),-1!=h&&null!=c)){var u=this.hittestinfo[h].visualrow
if(null!=u&&!(this.hittestinfo[h].details||t.clientX>e(u).width()+e(u).coord().left)){var p=0,m=u.cells.length
if(i.rowdetails&&i.showrowdetailscolumn?this.rtl?(m-=1,m-=this.groups.length):p=1+this.groups.length:this.groupable&&(this.rtl?m-=this.groups.length:p=this.groups.length),0!=u.cells.length){var f=u.cells[p].className
if(!(c.group||this.selectionmode.indexOf("row")>=0&&-1!=f.indexOf("jqx-grid-cell-selected")))if(this.hoveredrow=h,-1==this.selectionmode.indexOf("cell")&&"checkbox"!=this.selectionmode)for(y=p;y<m;y++){w=u.cells[y]
e(w).addClass(this.toTP("jqx-grid-cell-hover")),e(w).addClass(this.toTP("jqx-fill-state-hover")),this.cellhover&&this.cellhover(w,t.pageX,t.pageY)}else{var g=-1,v=this.hScrollInstance,b=v.value
this.rtl&&"hidden"!=this.hScrollBar.css("visibility")&&(b=v.max-v.value)
for(var y=p;y<m;y++){var _=parseInt(e(this.columnsrow[0].cells[y]).css("left"))-b
if(this.columns.records[y].pinned&&!this.rtl&&(_=parseInt(e(this.columnsrow[0].cells[y]).css("left"))),_+e(this.columnsrow[0].cells[y]).width()>=a&&a>=_){g=y
break}}if(-1!=g){var w=u.cells[g]
if(this.cellhover&&this.cellhover(w,t.pageX,t.pageY),-1==w.className.indexOf("jqx-grid-cell-selected")){if(this.editcell){var x=this._getcolumnat(g)
if(x&&this.editcell.row==h&&this.editcell.column==x.datafield)return}e(w).addClass(this.toTP("jqx-grid-cell-hover")),e(w).addClass(this.toTP("jqx-fill-state-hover"))}}}}}}}}}}}})}(jqxBaseFramework)
var Ti=Object.freeze({})
!function(e){e.extend(e.jqx._jqxGrid.prototype,{autoresizecolumns:function(t,i){"cells"!=t&&"all"!=t&&"column"!=t&&(t="all")
var n=this.that,r=this.getrows()
this.pageable&&(r=this.dataview.rows,this.groupable&&(r=this.dataview.records)),i=null==i?0:parseInt(i)
var o=r.length
if(null==o&&null!=r){var a=new Array
e.each(r,function(e){a.push(this)}),o=(r=a).length}var s=e("<span></span>")
s.addClass(this.toThemeProperty("jqx-widget")),s.addClass(this.toThemeProperty("jqx-grid-cell")),e(document.body).append(s)
var l=[],d=[],c=[],h=[],u=n.host.width()
"hidden"!=n.vScrollBar[0].style.visibility&&(u-=this.scrollbarsize+5),u<0&&(u=0)
for(var p=0;p<o;p++)for(var m=r[p],f=0;f<this.columns.records.length;f++){if(!(S=this.columns.records[f]).hidden&&!(this.groups.length>0&&f<=this.groups.length-1)){null==d[S.displayfield]&&(d[S.displayfield]=0),null==c[S.displayfield]&&(c[S.displayfield]="")
var g=m[S.displayfield]
if(""!=S.cellsformat)e.jqx.dataFormat&&(e.jqx.dataFormat.isDate(g)?g=e.jqx.dataFormat.formatdate(g,S.cellsformat,this.gridlocalization):e.jqx.dataFormat.isNumber(g)&&(g=e.jqx.dataFormat.formatnumber(g,S.cellsformat,this.gridlocalization)))
else if(S.cellsrenderer){var v=n._defaultcellsrenderer(g,S),b=S.cellsrenderer(p,S.datafield,g,v,S.getcolumnproperties(),m)
null!=b&&(g=e(b).text())}if((null==t||"cells"==t||"all"==t)&&null!=g){l=g.toString().length
var y=g.toString().replace(/[^A-Z]/g,"").length
if(l>d[S.displayfield]&&(d[S.displayfield]=l,c[S.displayfield]=g,h[S.displayfield]=y),l>0&&l>=y)(_=20*y+15*(l-y))>(w=20*h[S.displayfield]+15*(d[S.displayfield]-h[S.displayfield]))&&_>0&&w>0&&(d[S.displayfield]=l,c[S.displayfield]=g,h[S.displayfield]=y)}if("column"==t||"all"==t){if(S.text.toString().length>d[S.displayfield]){c[S.displayfield]=S.text,d[S.displayfield]=S.text.length
y=S.text.toString().replace(/[^A-Z]/g,"").length
h[S.displayfield]=y}var _,w
l=(g=S.text).toString().length,y=g.toString().replace(/[^A-Z]/g,"").length
if(l>0&&l>=y)(_=20*y+15*(l-y))>(w=20*h[S.displayfield]+15*(d[S.displayfield]-h[S.displayfield]))&&_>0&&w>0&&(d[S.displayfield]=l,c[S.displayfield]=g,h[S.displayfield]=y)}}}if(this.columns.records){for(f=0;f<this.columns.records.length;f++){if((S=this.columns.records[f]).displayfield){null==c[S.displayfield]&&(c[S.displayfield]=S.text),s[0].className.indexOf("jqx-grid-column-header")>=0&&s.removeClass(this.toThemeProperty("jqx-grid-column-header")),c[S.displayfield]==S.text&&s.addClass(this.toThemeProperty("jqx-grid-column-header")),s[0].innerHTML=c[S.displayfield].toString()
var x=s.outerWidth()+10
if(s.children().length>0&&(x=s.children().outerWidth()+10),e.jqx.browser.msie&&e.jqx.browser.version<8&&(x+=10),this.filterable&&this.showfilterrow&&(x+=5),(x+=i)>S.maxwidth&&(x=S.maxwidth),null!=S._width&&(S.__width=S._width),S._width=null,"auto"==S.maxwidth||x<=S.maxwidth){var C=S.width
x<S.minwidth&&(x=S.minwidth),S.width=x,null!=S._percentagewidth&&(S._percentagewidth=null),this._raiseEvent(14,{columntext:S.text,column:S.getcolumnproperties(),datafield:S.datafield,displayfield:S.displayfield,oldwidth:C,newwidth:x})}}}s.remove(),this._updatecolumnwidths(),this._updatecellwidths(),this._renderrows(this.virtualsizeinfo)
for(f=0;f<this.columns.records.length;f++){var S
null!=(S=this.columns.records[f]).__width&&(S._width=S.__width)}}},autoresizecolumn:function(t,i,n){if("cells"!=i&&"all"!=i&&"column"!=i&&(i="all"),null==t)return!1
var r=this.getrows()
this.pageable&&(r=this.dataview.rows,this.groupable&&(r=this.dataview.records))
var o=this.getcolumn(t)
if(null==o)return!1
n=null==n?0:parseInt(n)
var a=r.length,s=e("<span></span>")
s.addClass(this.toThemeProperty("jqx-widget")),s.addClass(this.toThemeProperty("jqx-grid-cell")),e(document.body).append(s)
var l=0,d="",c=0,h=this.that,u=h.host.width()
if("hidden"!=h.vScrollBar[0].style.visibility&&(u-=this.scrollbarsize+5),u<0&&(u=0),null==i||"cells"==i||"all"==i)for(var p=0;p<a;p++){var m=r[p][o.displayfield]
if(""!=o.cellsformat)e.jqx.dataFormat&&(e.jqx.dataFormat.isDate(m)?m=e.jqx.dataFormat.formatdate(m,o.cellsformat,this.gridlocalization):e.jqx.dataFormat.isNumber(m)&&(m=e.jqx.dataFormat.formatnumber(m,o.cellsformat,this.gridlocalization)))
else if(o.cellsrenderer){var f=o.cellsrenderer(p,o,m)
null!=f&&(m=e(f).text())}if(null!=m){var g=m.toString().length,v=m.toString().replace(/[^A-Z]/g,"").length
if(g>l&&(l=g,d=m,c=v),g>0&&g>=v)(b=20*v+15*(g-v))>(y=20*c+15*(l-c))&&b>0&&y>0&&(l=g,d=m,c=v)}}if("column"==i||"all"==i){o.text.toString().length>l&&(d=o.text)
var b,y
g=(m=o.text.toString()).toString().length,v=m.toString().replace(/[^A-Z]/g,"").length
if(g>0&&g>=v)(b=20*v+15*(g-v))>(y=20*c+15*(l-c))&&b>0&&y>0&&(l=g,d=m,c=v)}null==d&&(d=o.text),s[0].innerHTML=d,d==o.text&&s.addClass(this.toThemeProperty("jqx-grid-column-header"))
var _=s.outerWidth()+10
if(e.jqx.browser.msie&&e.jqx.browser.version<8&&(_+=5),this.filterable&&this.showfilterrow&&(_+=5),_+=n,s.remove(),_>o.maxwidth&&(_=o.maxwidth),"auto"==o.maxwidth||_<=o.maxwidth){var w=o.width
_<o.minwidth&&(_=o.minwidth),o.width=_,null!=o._width&&(o.__width=o._width),o._width=null,null!=o._percentagewidth&&(o._percentagewidth=null),this._updatecolumnwidths(),this._updatecellwidths(),this._raiseEvent(14,{columntext:o.text,column:o.getcolumnproperties(),datafield:t,displayfield:o.displayfield,oldwidth:w,newwidth:_}),this._renderrows(this.virtualsizeinfo),null!=o._width&&(o._width=o.__width)}},_handlecolumnsresize:function(){var t=this.that
if(this.columnsresize){var i=!1
t.isTouchDevice()&&!0!==t.touchmode&&(i=!0)
var n="mousemove.resize"+this.element.id,r="mousedown.resize"+this.element.id,o="mouseup.resize"+this.element.id
if(i)n=e.jqx.mobile.getTouchEventName("touchmove")+".resize"+this.element.id,r=e.jqx.mobile.getTouchEventName("touchstart")+".resize"+this.element.id,o=e.jqx.mobile.getTouchEventName("touchend")+".resize"+this.element.id
this.removeHandler(e(document),n),this.addHandler(e(document),n,function(n){if(null!=e.data(document.body,"contextmenu"+t.element.id)&&t.autoshowcolumnsmenubutton)return!0
if(null!=t.resizablecolumn&&!t.disabled&&t.resizing&&null!=t.resizeline){t.resizablecolumn.columnelement
var r=t.host.coord(),o=parseInt(t.resizestartline.coord().left),a=o-t._startcolumnwidth,s=t.resizablecolumn.column.minwidth
s="auto"==s?0:parseInt(s)
var l=t.resizablecolumn.column.maxwidth
l="auto"==l?0:parseInt(l)
var d=n.pageX
if(i)d=t.getTouches(n)[0].pageX
a+=s
var c=l>0?o+l:0,h=0==l||t._startcolumnwidth+d-o<l
if(t.rtl)h=!0
if(h)if(t.rtl){if(d>=r.left&&d<=r.left+t.host.width()&&(t.resizeline.css("left",d),i))return!1}else if(d>=r.left&&d>=a&&(0!=c&&n.pageX<c?t.resizeline.css("left",d):0==c&&t.resizeline.css("left",d),i))return!1}return!(!i&&null!=t.resizablecolumn)&&void 0}),this.removeHandler(e(document),r),this.addHandler(e(document),r,function(i){if(null!=e.data(document.body,"contextmenu"+t.element.id)&&t.autoshowcolumnsmenubutton)return!0
if(null!=t.resizablecolumn&&!t.disabled){var n=t.resizablecolumn.columnelement
if(n.coord().top+n.height()+5<i.pageY)return void(t.resizablecolumn=null)
if(n.coord().top-5>i.pageY)return void(t.resizablecolumn=null)
if(t._startcolumnwidth=t.resizablecolumn.column.width,t.resizablecolumn.column._width=null,e(document.body).addClass("jqx-disableselect"),e(document.body).addClass("jqx-position-reset"),t.host.addClass("jqx-disableselect"),t.content.addClass("jqx-disableselect"),t._mouseDownResize=new Date,t.resizing=!0,t._lastmouseDownResize&&t.columnsautoresize&&t._lastmouseDownResize-t._mouseDownResize<300&&t._lastmouseDownResize-t._mouseDownResize>-500){var r=t.resizablecolumn.column
if(r.resizable){t.resizablecolumn.column.width
var o=t.hScrollBar[0].style.visibility
return t._resizecolumn=null,t.resizeline.hide(),t.resizestartline.hide(),t.resizebackground.remove(),t.resizablecolumn=null,t.columndragstarted=!1,t.dragmousedown=null,t.__drag=!1,t.autoresizecolumn(r.displayfield,"all"),o!=t.hScrollBar[0].style.visibility&&t.hScrollInstance.setPosition(0),t.rtl&&t._arrange(),t.autosavestate&&t.savestate&&t.savestate(),i.stopPropagation(),t.suspendClick=!0,setTimeout(function(){t.suspendClick=!1},100),!1}}t._lastmouseDownResize=new Date,t._resizecolumn=t.resizablecolumn.column,t.resizeline=t.resizeline||e('<div style="position: absolute;"></div>'),t.resizestartline=t.resizestartline||e('<div style="position: absolute;"></div>'),t.resizebackground=t.resizebackground||e('<div style="position: absolute; left: 0; top: 0; background: #000;"></div>'),t.resizebackground.css("opacity",.01),t.resizebackground.css("cursor","col-resize"),t.resizeline.css("cursor","col-resize"),t.resizestartline.css("cursor","col-resize"),t.resizeline.addClass(t.toThemeProperty("jqx-grid-column-resizeline")),t.resizestartline.addClass(t.toThemeProperty("jqx-grid-column-resizestartline")),e(document.body).append(t.resizeline),e(document.body).append(t.resizestartline),e(document.body).append(t.resizebackground)
var a=t.resizablecolumn.columnelement.coord()
t.resizebackground.css("left",t.host.coord().left),t.resizebackground.css("top",t.host.coord().top),t.resizebackground.width(t.host.width()),t.resizebackground.height(t.host.height()),t.resizebackground.css("z-index",9999)
var s=function(e){t.rtl?e.css("left",parseInt(a.left)):e.css("left",parseInt(a.left)+t._startcolumnwidth)
var i=t._groupsheader()?t.groupsheader.height():0
i+=t.showtoolbar?t.toolbarheight:0,i+=t.showstatusbar?t.statusbarheight:0
var n=0
t.pageable&&(n=t.pagerheight)
var r="visible"==t.hScrollBar.css("visibility")?17:0
e.css("top",parseInt(a.top)),e.css("z-index",99999),t.columngroups?e.height(t.host.height()+t.resizablecolumn.columnelement.height()-n-i-r-t.columngroupslevel*t.columnsheight):e.height(t.host.height()-n-i-r),t.enableanimations?e.show("fast"):e.show()}
s(t.resizeline),s(t.resizestartline),t.dragmousedown=null}})
var a=function(){if(e(document.body).removeClass("jqx-disableselect"),e(document.body).removeClass("jqx-position-reset"),(t.showfilterrow||t.showstatusbar||t.showtoolbar||t.enablebrowserselection)&&(t.host.removeClass("jqx-disableselect"),t.content.removeClass("jqx-disableselect")),t.resizing){if(t._mouseUpResize=new Date,t._mouseUpResize-t._mouseDownResize<200)return t.resizing=!1,void(null!=t._resizecolumn&&null!=t.resizeline&&"block"==t.resizeline.css("display")&&(t._resizecolumn=null,t.resizeline.hide(),t.resizestartline.hide(),t.resizebackground.remove()))
if(t.resizing=!1,!t.disabled){var i=t.host.width()
if("hidden"!=t.vScrollBar[0].style.visibility&&(i-=20),i<0&&(i=0),null!=t._resizecolumn&&null!=t.resizeline&&"block"==t.resizeline.css("display")){var n=parseInt(t.resizeline.css("left")),r=parseInt(t.resizestartline.css("left")),o=t._startcolumnwidth+n-r
if(t.rtl)o=t._startcolumnwidth-n+r
var a=t._resizecolumn.width
t._closemenu(),o<t._resizecolumn.minwidth&&(o=t._resizecolumn.minwidth),t._resizecolumn.width=o,null!=t._resizecolumn._percentagewidth&&(t._resizecolumn._percentagewidth=o/i*100)
for(var s=0;s<t._columns.length;s++)if(t._columns[s].datafield===t._resizecolumn.datafield){t._columns[s].width=t._resizecolumn.width,t._columns[s].width<t._resizecolumn.minwidth&&(t._columns[s].width=t._resizecolumn.minwidth)
break}var l=t.hScrollBar[0].style.visibility
t._updatecolumnwidths(),t._updatecellwidths(),t._raiseEvent(14,{columntext:t._resizecolumn.text,column:t._resizecolumn.getcolumnproperties(),datafield:t._resizecolumn.datafield,oldwidth:a,newwidth:o}),t._renderrows(t.virtualsizeinfo),t.autosavestate&&t.savestate&&t.savestate(),l!=t.hScrollBar[0].style.visibility&&t.hScrollInstance.setPosition(0),t.rtl&&t._arrange(),t._resizecolumn=null,t.resizeline.hide(),t.resizestartline.hide(),t.resizebackground.remove(),t.resizablecolumn=null}else t.resizablecolumn=null}}}
try{if(""!=document.referrer||window.frameElement){var s=null
if(null!=window.top&&window.top!=window.self&&window.parent&&document.referrer&&(s=document.referrer),s&&-1!=s.indexOf(document.location.host)){var l=function(e){a()}
window.top.document.addEventListener?window.top.document.addEventListener("mouseup",l,!1):window.top.document.attachEvent&&window.top.document.attachEvent("onmouseup",l)}}}catch(e){}this.removeHandler(e(document),o),this.addHandler(e(document),o,function(i){if(null!=e.data(document.body,"contextmenu"+t.element.id)&&t.autoshowcolumnsmenubutton)return!0
a()})}}})}(jqxBaseFramework)
var Ii=Object.freeze({})
!function(e){e.extend(e.jqx._jqxGrid.prototype,{_handledblclick:function(t,i){var n,r
if(null!=t.target&&!(i.disabled||e(t.target).ischildof(this.columnsheader)||(t.which?n=3==t.which:t.button&&(n=2==t.button),n||(t.which?r=2==t.which:t.button&&(r=1==t.button),r)))){var o=this.showheader?this.columnsheader.height()+2:0,a=this._groupsheader()?this.groupsheader.height():0
a+=this.showtoolbar?this.toolbarheight:0
var s=this.host.offset(),l=t.pageX-s.left,d=t.pageY-o-s.top-a,c=this._hittestrow(l,d)
if(c){var h=c.row,u=c.index,p=t.target.className,m=this.table[0].rows[u]
if(null!=m){i.mousecaptured=!0,i.mousecaptureposition={left:t.pageX,top:t.pageY-a}
for(var f=this.hScrollInstance.value,g=0,v=(this.groupable&&this.groups.length,0);v<m.cells.length;v++){var b=parseInt(e(this.columnsrow[0].cells[v]).css("left")),y=b-f
if(i.columns.records[v].pinned&&(y=b),null==(_=this._getcolumnat(v))||!_.hidden)if(y+e(this.columnsrow[0].cells[v]).width()>=l&&l>=y){g=v
break}}if(null!=h){var _=this._getcolumnat(g);-1==p.indexOf("jqx-grid-group-expand")&&-1==p.indexOf("jqx-grid-group-collapse")&&-1!=h.boundindex&&i.begincelledit(i.getboundindex(h),_.datafield,_.defaulteditorvalue)}}}}},_getpreveditablecolumn:function(e){for(;e>0;){e--
var t=this.getcolumnat(e)
if(!t)return null
if(t.editable&&!t.hidden)return t}return null},_getnexteditablecolumn:function(e){for(;e<this.columns.records.length;){e++
var t=this.getcolumnat(e)
if(!t)return null
if(t.editable&&!t.hidden)return t}return null},_handleeditkeydown:function(t,i){if(i.handlekeyboardnavigation&&1==i.handlekeyboardnavigation(t))return!0
var n=t.charCode?t.charCode:t.keyCode?t.keyCode:0
if(i.editEvent=t,i.showfilterrow&&i.filterable&&this.filterrow&&e(t.target).ischildof(this.filterrow))return!0
if(t.target.className&&t.target.className.indexOf("jqx-grid-widget")>=0)return!0
if(i.pageable&&e(t.target).ischildof(this.pager))return!0
if(this.showtoolbar&&e(t.target).ischildof(this.toolbar))return!0
if(this.showeverpresentrow){if(this.addnewrowtop&&e(t.target).ischildof(this.addnewrowtop))return!0
if(this.addnewrowbottom&&e(t.target).ischildof(this.addnewrowbottom))return!0}if(this.showstatusbar&&e(t.target).ischildof(this.statusbar))return!0
if(this.rowdetails&&e(t.target).ischildof(this.content.find("[role='rowgroup']")))return!0
if(this.editcell){if("selectedrow"===this.editmode){if(13===n)return this.endrowedit(this.editcell.row,!1),!1
if(27===n)return this.endrowedit(this.editcell.row,!0),!1
if(32==n)if(this._currentColumn&&"checkbox"==this.getcolumn(this._currentColumn).columntype)if((p=this.getcolumn(this._currentColumn)).editable){var r=!this.getcellvalue(this.editcell.row,p.datafield),o=this.getrowdata(this.editcell.row),a=this.editcell.row
o=i.getrowdata(i.editcell.row)
this.setcellvalue(this.editcell.row,p.datafield,r,!1)
var s=this._focusedColumn,l=this._currentColumn,d=this._currentEditableColumn
if(this.endrowedit(this.editcell.row,!1),this.beginrowedit(a,!1),this._currentColumn=l,this._focusedColumn=s,this._currentEditableColumn=d,this._renderrows(),this.selectcell(a,p.datafield),this._oldselectedcell=this.selectedcell,s){var c=this
setTimeout(function(){c.selectcell(a,p.datafield),c._oldselectedcell=c.selectedcell,e(c._checkboxCells[p.datafield].checkbox).jqxCheckBox("focus")},25)}return!1}if(9===n){var h=this.editcell.datafield,u=this._getcolumnindex(h)
this._currentEditableColumn?u=this._currentEditableColumn:this._currentEditableColumn=u
var p=this._getnexteditablecolumn(u)
if(t.shiftKey&&(p=this._getpreveditablecolumn(u)),p){u=this._getcolumnindex(p.datafield)
if(this.editcell[p.datafield])this._currentEditableColumn=u,(m=this.editcell[p.datafield].editor)&&(m.data().jqxWidget&&m.data().jqxWidget.focus?m.data().jqxWidget.focus():m.focus()),this._focusedColumn=p.datafield,this._currentColumn=p.datafield
else if("checkbox"==p.columntype)return this._currentColumn=p.datafield,this._currentEditableColumn=u,this.selectcell(this.editcell.row,p.datafield),this._oldselectedcell=this.selectedcell,this._checkboxCells[p.datafield]&&e(this._checkboxCells[p.datafield].checkbox).jqxCheckBox("focus"),!1}return!1}return!0}if(null==this.editcell.columntype||"textbox"==this.editcell.columntype||"numberinput"==this.editcell.columntype||"combobox"==this.editcell.columntype||"datetimeinput"==this.editcell.columntype){if(n>=33&&n<=40&&"multiplecellsadvanced"==i.selectionmode){var m="textbox"==this.editcell.columntype||null==this.editcell.columntype?this.editcell.editor:this.editcell.editor.find("input"),f=i._selection(m),g=m.val().length
f.length>0&&"datetimeinput"!=this.editcell.columntype&&(i._cancelkeydown=!0),f.start>0&&37==n&&(i._cancelkeydown=!0),f.start<g&&39==n&&"datetimeinput"!=this.editcell.columntype&&(i._cancelkeydown=!0),"datetimeinput"==this.editcell.columntype&&39==n&&f.start+f.length<g&&(i._cancelkeydown=!0)}}else"dropdownlist"==this.editcell.columntype?(37==n||39==n&&"multiplecellsadvanced"==i.selectionmode)&&(i._cancelkeydown=!1):"multiplecellsadvanced"==this.selectionmode&&"textbox"!=this.editcell.columntype&&"numberinput"!=this.editcell.columntype&&(i._cancelkeydown=!0)
if(32==n)if("checkbox"==i.editcell.columntype)if((p=i.getcolumn(i.editcell.datafield)).editable){r=!i.getcellvalue(i.editcell.row,i.editcell.column)
if(p.cellbeginedit)if(0==p.cellbeginedit(i.editcell.row,p.datafield,p.columntype,!r))return!1
o=i.getrowdata(i.editcell.row)
return i.setcellvalue(i.editcell.row,i.editcell.column,r,!0),i._raiseEvent(18,{rowindex:i.editcell.row,row:o,datafield:i.editcell.column,oldvalue:!r,value:r,columntype:"checkbox"}),!1}if(9==n){var v=this.editcell.row,b=h=this.editcell.column,y=(u=i._getcolumnindex(h),!1),_=i.getrowvisibleindex(v)
this.editchar=""
var w=this.editcell.validated
if(!this.editcell.validated)w=this.endcelledit(this.editcell.row,this.editcell.column,!1,!0,!1)
if(0!=w){if(t.shiftKey)if(p=i._getpreveditablecolumn(u))h=p.datafield,y=!0,-1!=i.selectionmode.indexOf("cell")&&(i.selectprevcell(v,b),i._oldselectedcell=i.selectedcell,setTimeout(function(){i.ensurecellvisible(_,h)},10))
else{var x=i._getlastvisiblecolumn()
y=!0,h=x.displayfield,v--,-1!=i.selectionmode.indexOf("cell")&&(i.clearselection(),i.selectcell(v,h),i._oldselectedcell=i.selectedcell,setTimeout(function(){i.ensurecellvisible(_,h)},10))}else if(p=i._getnexteditablecolumn(u))h=p.datafield,y=!0,-1!=i.selectionmode.indexOf("cell")&&(i.selectnextcell(v,b),i._oldselectedcell=i.selectedcell,setTimeout(function(){i.ensurecellvisible(_,h)},10))
else{var C=i._getfirstvisiblecolumn()
y=!0,h=C.displayfield,v++,-1!=i.selectionmode.indexOf("cell")&&(i.clearselection(),i.selectcell(v,h),i._oldselectedcell=i.selectedcell,setTimeout(function(){i.ensurecellvisible(_,h)},10))}if(!y)return null!=this.editcell&&(i.endcelledit(v,h,!1),this._renderrows(this.virtualsizeinfo)),!0
i.begincelledit(v,h),null!=this.editcell&&"checkbox"==this.editcell.columntype&&this._renderrows(this.virtualsizeinfo)}return!1}if(13==n){var S=this.selectedcell
if(S)var T=this.getrowvisibleindex(S.rowindex)
if(this.endcelledit(this.editcell.row,this.editcell.column,!1,!0),"multiplecellsadvanced"==this.selectionmode)if(null!=(I=i.getselectedcell())&&i.selectcell&&null==this.editcell&&I.rowindex+1<this.dataview.totalrecords)if(this.sortcolumn!=I.datafield){_=this.getrowvisibleindex(I.rowindex)
if((M=this.dataview.loadedrecords[_+1])&&(!this.pageable||this.pageable&&_+1<(this.dataview.pagenum+1)*this.pagesize)){this.clearselection(!1),this.selectcell(this.getboundindex(M),I.datafield)
var I=this.getselectedcell()
this.ensurecellvisible(M.visibleindex,I.datafield)}}else{if(null!=S)if(E=this.dataview.loadedrecords[T+1])if(!this.pageable||this.pageable&&T+1<this.pagesize)this.clearselection(!1),this.selectcell(this.getboundindex(E),I.datafield)
else if(this.pageable&&T+1>=this.pagesize){this.clearselection(!1)
var E=this.dataview.loadedrecords[T]
this.selectcell(this.getboundindex(E),I.datafield)}}return!1}if(27==n)return this.endcelledit(this.editcell.row,this.editcell.column,!0,!0),!1}else{var P=!1
if(113==n&&(P=!0),!t.ctrlKey&&!t.altKey&&!t.metaKey){if(n>=48&&n<=57&&(this.editchar=String.fromCharCode(n),P=!0),189===n&&(P=!0),n>=65&&n<=90){this.editchar=String.fromCharCode(n)
var D=!1
t.shiftKey?D=t.shiftKey:t.modifiers&&(D=!!(4&t.modifiers)),this._capsLock&&(D=!D),D||(this.editchar=this.editchar.toLowerCase()),P=!0}else n>=96&&n<=105&&(this.editchar=n-96,this.editchar=this.editchar.toString(),P=!0)
var k=e(".jqx-grid").length
P=P&&(1==k||k>1&&i.focused)
var A=e.data(document.body,"jqxgrid.edit")
if(void 0!==A&&""!==A&&(13===n||P)&&A!=i.element.id)return!0}if((13==n||P)&&i.getselectedrowindex){v=i.getselectedrowindex()
if("selectedrow"===i.editmode){if(!(v>=0)){if(null!=(I=i.getselectedcell())){var p=i._getcolumnbydatafield(I.datafield)
i.beginrowedit(I.rowindex)}return!1}i.beginrowedit(v)}switch(i.selectionmode){case"singlerow":case"multiplerows":case"multiplerowsextended":if(v>=0){h=""
for(var j=0;j<i.columns.records.length;j++){if((p=i.getcolumnat(j)).editable){h=p.datafield
break}}"selectedrow"===i.editmode?i.beginrowedit(v):i.begincelledit(v,h)}break
case"singlecell":case"multiplecells":case"multiplecellsextended":if(null!=(I=i.getselectedcell())){p=i._getcolumnbydatafield(I.datafield)
"selectedrow"===i.editmode?i.beginrowedit(I.rowindex):"checkbox"!=p.columntype&&i.begincelledit(I.rowindex,I.datafield)}break
case"multiplecellsadvanced":var M
if(null!=(I=i.getselectedcell()))if(13==n){if(i.selectcell)if((_=this.getrowvisibleindex(I.rowindex))+1<i.dataview.totalrecords)if(M=this.dataview.loadedrecords[_+1]){this.clearselection(!1),this.selectcell(this.getboundindex(M),I.datafield)
var I=this.getselectedcell()
this.ensurecellvisible(M.visibleindex,I.datafield)}}else"selectedrow"!==i.editmode&&i.begincelledit(I.rowindex,I.datafield)}return!1}if(46==n){var N=i.getselectedcells()
if(-1==i.selectionmode.indexOf("cell")&&i._getcellsforcopypaste&&(N=i._getcellsforcopypaste()),null!=N&&N.length>0){for(var q=0;q<N.length;q++){if((I=N[q]).datafield){p=i.getcolumn(I.datafield)
var O=i.getcellvalue(I.rowindex,I.datafield)
if(""!==O&&p.editable&&i.enablekeyboarddelete){var B=null
if("checkbox"==p.columntype&&(p.threestatecheckbox||(B=!1)),p.cellbeginedit)if(0==p.cellbeginedit(I.rowindex,p.datafield,p.columntype,B))return!1
o=i.getrowdata(I.rowindex)
if(i._raiseEvent(17,{rowindex:I.rowindex,row:o,datafield:I.datafield,value:O}),q==N.length-1?(i.setcellvalue(I.rowindex,I.datafield,B,!0),p.displayfield!=p.datafield&&i.setcellvalue(I.rowindex,p.displayfield,B,!0)):(i.setcellvalue(I.rowindex,I.datafield,B,!1),p.displayfield!=p.datafield&&i.setcellvalue(I.rowindex,p.displayfield,B,!0)),p.cellendedit)p.cellendedit(I.rowindex,p.datafield,p.columntype,B)
i._raiseEvent(18,{rowindex:I.rowindex,row:o,datafield:I.datafield,oldvalue:O,value:B})}}}return this.dataview.updateview(),this._renderrows(this.virtualsizeinfo),!1}}if(32==n)if(null!=(I=i.getselectedcell()))if("checkbox"==(p=i.getcolumn(I.datafield)).columntype&&p.editable){r=!i.getcellvalue(I.rowindex,I.datafield)
if(p.cellbeginedit)if(0==p.cellbeginedit(I.rowindex,p.datafield,p.columntype,!r))return!1
o=i.getrowdata(I.rowindex)
return i._raiseEvent(17,{rowindex:I.rowindex,row:o,datafield:I.datafield,value:!r,columntype:"checkbox"}),i.setcellvalue(I.rowindex,I.datafield,r,!0),i._raiseEvent(18,{rowindex:I.rowindex,row:o,datafield:I.datafield,oldvalue:!r,value:r,columntype:"checkbox"}),!1}}return!0},begincelledit:function(t,i,n,r,o){var a=this.getcolumn(i)
if(this._cellscache=new Array,null!=i&&"number"!=a.columntype&&"button"!=a.columntype&&!a.createwidget){if(this.groupable){if(this.groups.indexOf(i)>=0)return
if(this.groups.indexOf(a.displayfield)>=0)return}if(null==this.editrow){if(this.editcell){if(this.editcell.row==t&&this.editcell.column==i)return!0
if("selectedrow"===this.editmode&&this.editcell.row==t)return
if(0==this.endcelledit(this.editcell.row,this.editcell.column,!1,!0,!1))return}var s="checkbox"==a.columntype||"button"==a.columntype||a.createwidget
if(this.host.removeClass("jqx-disableselect"),this.content.removeClass("jqx-disableselect"),a.editable){if(a.cellbeginedit){var l=this.getcell(t,i)
if(0==a.cellbeginedit(t,i,a.columntype,null!=l?l.value:null))return}var d=this.getrowvisibleindex(t)
if(this.editcell=this.getcell(t,i),this.editcell&&(this.editcell.visiblerowindex=d,!this.editcell.editing)){if(s||(this.editcell.editing=!0),this.editcell.columntype=a.columntype,this.editcell.defaultvalue=n,null!=a.defaultvalue&&(this.editcell.defaultvalue=a.defaultvalue),this.editcell.init=!0,"checkbox"!=a.columntype&&"selectedrow"!=this.editmode){var c=this.getrowdata(t)
this._raiseEvent(17,{rowindex:t,row:c,datafield:a.datafield,value:this.editcell.value,columntype:a.columntype})}if(e.data(document.body,"jqxgrid.edit",this.element.id),!s){var h=this.getrowvisibleindex(t)
!1!==r&&(this.autorowheight||this.ensurecellvisible(h,a.datafield)),!1!==o&&this._renderrows(this.virtualsizeinfo)}if(this.editcell)return this.editcell.init=!1,!0}}else{if(!this.editcell)return
this.editcell.editor=null,this.editcell.editing=!1,!1!==o&&this._renderrows(this.virtualsizeinfo),this.editcell=null}}}},getScrollTop:function(){if(this._py)return pageYOffset
if(this._py="undefined"!=typeof pageYOffset,this._py)return pageYOffset
var e=document.body,t=document.documentElement
return(t=t.clientHeight?t:e).scrollTop},getScrollLeft:function(){if("undefined"!=typeof pageXOffset)return pageXOffset
var e=document.body,t=document.documentElement
return(t=t.clientHeight?t:e).scrollLeft},endcelledit:function(t,i,n,r,o){if(null!=t&&null!=i||(this.editcell&&(t=this.editcell.row,i=this.editcell.column),null==n&&(n=!0)),this.editcell){var a=this.getcolumn(i),s=this
if("selectedrow"!==s.editmode){var l=function(){if(0!=o){if(s.isTouchDevice())return
if(!s.isNestedGrid){var e=s.getScrollTop(),t=s.getScrollLeft()
try{s.element.focus(),s.content.focus(),e!=s.getScrollTop()&&window.scrollTo(t,e),setTimeout(function(){s.element.focus(),s.content.focus(),e!=s.getScrollTop()&&window.scrollTo(t,e)},10)}catch(e){}}}}
if("checkbox"==a.columntype||"button"==a.columntype||a.createwidget)return this.editcell&&(this.editcell.editor=null,this.editcell.editing=!1,this.editcell=null),!0
var d,c=this._geteditorvalue(a),h=function(e){if(e._hidecelleditor(),a.cellendedit&&a.cellendedit(t,i,a.columntype,e.editcell.value,c),e.editchar=null,a.displayfield!=a.datafield){var n=e.getcellvalue(e.editcell.row,a.displayfield);({value:e.editcell.value,label:n})}else e.editcell.value
var o=e.getrowdata(t)
e._raiseEvent(18,{rowindex:t,row:o,datafield:i,displayfield:a.displayfield,oldvalue:c,value:c,columntype:a.columntype}),e.editcell.editor=null,e.editcell.editing=!1,e.editcell=null,(r||null==r)&&e._renderrows(e.virtualsizeinfo),l(),e.enablebrowserselection||(e.host.addClass("jqx-disableselect"),e.content.addClass("jqx-disableselect"))}
if(n)return h(this),!1
if(this.validationpopup&&(this.validationpopup.hide(),this.validationpopuparrow.hide()),a.cellvaluechanging){var u=a.cellvaluechanging(t,i,a.columntype,this.editcell.value,c)
null!=u&&(c=u)}if(a.validation){var p=this.getcell(t,i)
try{var m=a.validation(p,c),f=this.gridlocalization.validationstring
if(null!=m.message&&(f=m.message),!("boolean"==typeof m?m:m.result))return null!=m.showmessage&&1!=m.showmessage||this._showvalidationpopup(t,i,f),this.editcell.validated=!1,!1}catch(e){return this._showvalidationpopup(t,i,this.gridlocalization.validationstring),this.editcell.validated=!1,!1}}if(a.displayfield!=a.datafield){var g=this.getcellvalue(this.editcell.row,a.displayfield)
d={value:this.editcell.value,label:g}}else d=this.editcell.value
var v=this.getrowdata(t)
if(a.cellendedit)if(0==a.cellendedit(t,i,a.columntype,this.editcell.value,c))return this._raiseEvent(18,{rowindex:t,row:v,datafield:i,displayfield:a.displayfield,oldvalue:d,value:d,columntype:a.columntype}),h(this),!1
return this._raiseEvent(18,{rowindex:t,row:v,datafield:i,displayfield:a.displayfield,oldvalue:d,value:c,columntype:a.columntype}),this._hidecelleditor(!1),null!=this.editcell&&(this.editcell.editor=null,this.editcell.editing=!1),this.editcell=null,this.editchar=null,this.setcellvalue(t,i,c,r),this.enablebrowserselection||(this.host.addClass("jqx-disableselect"),this.content.addClass("jqx-disableselect")),e.jqx.browser.msie||l(),e.data(document.body,"jqxgrid.edit",""),!0}this.endrowedit(t,n)}},beginrowedit:function(t){var i=this
i._oldselectedrow=t,this._cellscache=new Array
var n=!1
if("selectedrow"!=this.editmode&&(n=!0),n){var r=this.editmode
this.editmode="selectedrow"}var o=null
e.each(this.columns.records,function(e,n){if(i.editable&&this.editable){if("checkbox"===this.columntype||"custom"===this.columntype||"widget"===this.columntype||"template"===this.columntype||"button"===this.columntype)return!0
o||(o=this.datafield)
var r=i.getcell(t,this.datafield)
i.begincelledit(t,this.datafield,null,!1,!1)
var a=i.getrowdata(t)
i._raiseEvent(17,{rowindex:t,row:a,datafield:this.datafield,value:r.value,columntype:this.columntype})}}),i.editcell&&(i.editcell.init=!0),this._renderrows(this.virtualsizeinfo),n&&(this.editmode=r),o&&i.editcell&&setTimeout(function(){if(i.editcell&&i.editcell[o]){var e=i.editcell[o].editor
e&&(e.data().jqxWidget&&e.data().jqxWidget.focus?e.data().jqxWidget.focus():e.focus())}},25)},endrowedit:function(t,i){var n=this
if(this._currentEditableColumn=0,this._focusedColumn=null,this._currentColumn=null,this._checkboxCells=[],!this.editcell)return!1
if(null==this.editcell.editor&&"checkbox"!==this.editcell.columntype)return!1
var r=!1
if("selectedrow"!=this.editmode&&(r=!0),r){var o=this.editmode
this.editmode="selectedrow"}var a=!1,s={}
this.validationpopup&&(this.validationpopup.hide(),this.validationpopuparrow.hide())
for(var l=0;l<this.columns.records.length;l++){if((w=this.columns.records[l]).editable&&(!w.hidden&&"checkbox"!=w.columntype&&!w.createwidget)){var d=this._geteditorvalue(w),c=function(e){e._hidecelleditor()
var i=e.getcellvalue(e.editcell.row,w.displayfield)
if(w.cellendedit&&w.cellendedit(t,p,w.columntype,i,d),e.editchar=null,w.displayfield!=w.datafield){var n=e.getcellvalue(e.editcell.row,w.displayfield)
h={value:i,label:n}}else h=i
var r=e.getrowdata(t)
e._raiseEvent(18,{rowindex:t,row:r,datafield:p,displayfield:w.displayfield,oldvalue:i,value:i,columntype:w.columntype}),e.editcell.editing=!1}
if(i)c(this)
else{if(w.cellvaluechanging){var h=this.getcellvalue(this.editcell.row,w.displayfield),u=w.cellvaluechanging(t,p,w.columntype,h,d)
null!=u&&(d=u)}var p=w.datafield
if(w.validation){var m=this.getcell(t,w.datafield)
try{var f=w.validation(m,d),g=this.gridlocalization.validationstring
if(null!=f.message&&(g=f.message),!(S="boolean"==typeof f?f:f.result)){null!=f.showmessage&&1!=f.showmessage||this._showvalidationpopup(t,p,g),a=!0,this.editcell[w.datafield].validated=!1
continue}}catch(e){this._showvalidationpopup(t,p,this.gridlocalization.validationstring),this.editcell[w.datafield].validated=!1,a=!0
continue}}if(w.displayfield!=w.datafield){var v=this.getcellvalue(this.editcell.row,w.displayfield),b=this.editcell.value
h={value:b,label:v}}else h=this.getcellvalue(this.editcell.row,w.displayfield)
s[w.datafield]={newvalue:d,oldvalue:h}}}}var y={},_={}
if(!a){this._hidecelleditor(!1)
for(l=0;l<this.columns.records.length;l++){var w
p=(w=this.columns.records[l]).datafield
if(!w.hidden&&w.editable){var x=this.getrowdata(t)
if(!w.createwidget)if("checkbox"!=w.columntype){if(s[w.datafield]){d=s[w.datafield].newvalue,h=s[w.datafield].oldvalue
if(w.cellendedit)if(0==w.cellendedit(t,p,w.columntype,h,d)){this._raiseEvent(18,{rowindex:t,row:x,datafield:p,displayfield:w.displayfield,oldvalue:h,value:h,columntype:w.columntype}),c(this)
continue}this.source.updaterow||this._raiseEvent(18,{rowindex:t,row:x,datafield:w.datafield,displayfield:w.displayfield,oldvalue:h,value:d,columntype:w.columntype}),y[w.datafield]=d,_[w.datafield]=h}}else{var d=this.getcellvalue(t,w.displayfield)
this._raiseEvent(18,{rowindex:t,row:x,datafield:w.datafield,displayfield:w.displayfield,oldvalue:d,value:d,columntype:w.columntype})}}}var C=this.getrowid(t)
x=this.getrowdata(t)
if(e.each(y,function(e,t){if(t&&null!=t.label){var i=n.getcolumn(e)
x[i.displayfield]=t.label,x[i.datafield]=t.value}else x[e]=t}),this.enablebrowserselection||(this.host.addClass("jqx-disableselect"),this.content.addClass("jqx-disableselect")),e.data(document.body,"jqxgrid.edit",""),this.editcell=null,this.editchar=null,this.source.updaterow&&!i){n=this
var S=function(i){var r=n.source.updaterow
n.source.updaterow=null,0==i?(e.each(_,function(e,t){if(t&&null!=t.label){var i=n.getcolumn(e)
x[i.displayfield]=t.label,x[i.datafield]=t.value}else x[e]=t}),n.updaterow(C,x)):n.updaterow(C,x)
for(var o=0;o<n.columns.records.length;o++){var a=n.columns.records[o]
a.datafield
n._raiseEvent(18,{rowindex:t,datafield:a.datafield,row:x,displayfield:a.displayfield,oldvalue:_[a.datafield],value:x[a.displayfield],columntype:a.columntype})}n.source.updaterow=r}
try{null==this.source.updaterow(C,x,S)&&!0}catch(e){return void!1}}else i||this.updaterow(C,x),this._renderrows(this.virtualsizeinfo)}return r&&(this.editmode=o),a},_selection:function(e){if("selectionStart"in e[0]){var t=e[0],i=t.selectionEnd-t.selectionStart
return{start:t.selectionStart,end:t.selectionEnd,length:i,text:t.value}}var n=document.selection.createRange()
if(null==n)return{start:0,end:t.value.length,length:0}
var r=e[0].createTextRange(),o=r.duplicate()
r.moveToBookmark(n.getBookmark()),o.setEndPoint("EndToStart",r)
i=n.text.length
return{start:o.text.length,end:o.text.length+n.text.length,length:i,text:n.text}},_setSelection:function(e,t,i){if("selectionStart"in i[0])i[0].focus(),i[0].setSelectionRange(e,t)
else{var n=i[0].createTextRange()
n.collapse(!0),n.moveEnd("character",t),n.moveStart("character",e),n.select()}},findRecordIndex:function(e,t,i){i=i
if(t)for(var n=i.length,r=0;r<n;r++){if(e==i[r].label)return r}return-1},_destroyeditors:function(){var t=this
this.columns.records&&(e.each(this.columns.records,function(i,n){var r=e.trim(this.datafield).split(" ").join("")
switch(this.columntype){case"dropdownlist":var o=t.editors["dropdownlist_"+r]
o&&(o.jqxDropDownList("destroy"),t.editors["dropdownlist_"+r]=null)
break
case"combobox":var a=t.editors["combobox_"+r]
a&&(a.jqxComboBox("destroy"),t.editors["combobox_"+r]=null)
break
case"datetimeinput":var s=t.editors["datetimeinput_"+this.datafield]
s&&(s.jqxDateTimeInput("destroy"),t.editors["datetimeinput_"+r]=null)
break
case"numberinput":var l=t.editors["numberinput_"+r]
l&&(l.jqxNumberInput("destroy"),t.editors["numberinput_"+r]=null)
break
case"custom":case"template":if(t.destroyeditor&&t.editors["templateeditor_"+r]&&(t.destroyeditor(t.editors["templateeditor_"+r]),t.editors["templateeditor_"+r]=null),t.destroyeditor)for(var d=t.getrows.length(),c=0;c<d;c++)t.editors["customeditor_"+r+"_"+c]&&(t.destroyeditor(t.editors["customeditor_"+r+"_"+c],c),t.editors["customeditor_"+r+"_"+c]=null)
break
case"textbox":default:var h=t.editors["textboxeditor_"+r]
h&&(t.removeHandler(h,"keydown"),t.editors["textbox_"+r]=null)}}),t.editors=new Array)},_showcelleditor:function(t,i,n,r,o){if(null!=n&&null!=this.editcell)if("checkbox"==i.columntype&&i.editable)"selectedrow"==this.editmode&&(this._checkboxCells||(this._checkboxCells=[]),this._checkboxCells[i.datafield]=n)
else{null==o&&(o=!0),"selectedrow"==this.editmode&&(this.editchar="",o=!1)
var a=i.datafield,s=e(n),l=this,d=this.editcell.editor,c=this.getcellvalue(t,a),h=this.getcelltext(t,a),u=this.hScrollInstance.value,p=parseInt(u)
this.columns.records.indexOf(i)
if(this.editcell.element=n,0==this.editcell.validated){var m=""
this.validationpopup&&(m=this.validationpopup.text()),this._showvalidationpopup(t,a,m)}var f=function(e){l.hScrollInstance.isScrolling()||l.vScrollInstance.isScrolling()||o&&(l.isTouchDevice()||(e&&e.focus(),0!=l.gridcontent[0].scrollTop&&(l.scrolltop(Math.abs(l.gridcontent[0].scrollTop)),l.gridcontent[0].scrollTop=0),0!=l.gridcontent[0].scrollLeft&&(l.gridcontent[0].scrollLeft=0)))}
switch(i.columntype){case"dropdownlist":if(this.host.jqxDropDownList){n.innerHTML=""
var g=e.trim(i.datafield).split(" ").join(""),v=e.trim(i.displayfield).split(" ").join("");-1!=g.indexOf(".")&&(g=g.replace(".","")),-1!=v.indexOf(".")&&(v=v.replace(".",""))
var b=this.editors["dropdownlist_"+g]
if((d=null==b?e("<div style='border-radius: 0px; -moz-border-radius: 0px; -webkit-border-radius: 0px; z-index: 799; top: 0px; left: 0px; position: absolute;' id='dropdownlisteditor'></div>"):b).css("top",e(n).parent().position().top),this.oldhscroll?d.css("left",-p+parseInt(e(n).position().left)):d.css("left",parseInt(e(n).position().left)),i.pinned&&d.css("left",p+parseInt(e(n).position().left)),null==b){d.prependTo(this.table),d[0].id="dropdownlisteditor"+this.element.id+g
var y=null
if(!!this.source._source){var _={localdata:this.source.records,datatype:this.source.datatype,async:!1}
y=new e.jqx.dataAdapter(_,{autoBind:!1,async:!1,uniqueDataFields:[v],autoSort:!0,autoSortField:v})}else y=new e.jqx.dataAdapter(this.source,{autoBind:!1,uniqueDataFields:[v],async:!1,autoSort:!0,autoSortField:v})
var w=!i.createeditor
d.jqxDropDownList({enableBrowserBoundsDetection:!0,keyboardSelection:!1,source:y,rtl:this.rtl,autoDropDownHeight:w,theme:this.theme,width:s.width()-2,height:s.height()-2,displayMember:v,valueMember:a}),this.editors["dropdownlist_"+g]=d,i.createeditor&&i.createeditor(t,c,d)}i._requirewidthupdate&&d.jqxDropDownList({width:s.width()-2})
var x=d.jqxDropDownList("listBox").visibleItems
i.createeditor||(x.length<8?d.jqxDropDownList("autoDropDownHeight",!0):d.jqxDropDownList("autoDropDownHeight",!1))
c=this.getcellvalue(t,v)
var C=this.findRecordIndex(c,v,x)
if(r&&(""!=c?d.jqxDropDownList("selectIndex",C,!0):d.jqxDropDownList("selectIndex",-1)),!this.editcell)return
null!=this.editcell.defaultvalue&&d.jqxDropDownList("selectIndex",this.editcell.defaultvalue,!0),o&&d.jqxDropDownList("focus")}break
case"combobox":if(this.host.jqxComboBox){n.innerHTML=""
g=e.trim(i.datafield).split(" ").join(""),v=e.trim(i.displayfield).split(" ").join("");-1!=g.indexOf(".")&&(g=g.replace(".","")),-1!=v.indexOf(".")&&(v=v.replace(".",""))
var S=this.editors["combobox_"+g]
if((d=null==S?e("<div style='border-radius: 0px; -moz-border-radius: 0px; -webkit-border-radius: 0px; z-index: 799; top: 0px; left: 0px; position: absolute;' id='comboboxeditor'></div>"):S).css("top",e(n).parent().position().top),this.oldhscroll?d.css("left",-p+parseInt(e(n).position().left)):d.css("left",parseInt(e(n).position().left)),i.pinned&&d.css("left",p+parseInt(e(n).position().left)),null==S){d.prependTo(this.table),d[0].id="comboboxeditor"+this.element.id+g
y=null
if(!!this.source._source){_={localdata:this.source.records,datatype:this.source.datatype,async:!1}
y=new e.jqx.dataAdapter(_,{autoBind:!1,async:!1,uniqueDataFields:[v],autoSort:!0,autoSortField:v})}else y=new e.jqx.dataAdapter(this.source,{autoBind:!1,uniqueDataFields:[v],async:!1,autoSort:!0,autoSortField:v})
w=!i.createeditor
d.jqxComboBox({enableBrowserBoundsDetection:!0,keyboardSelection:!1,source:y,rtl:this.rtl,autoDropDownHeight:w,theme:this.theme,width:s.width()-2,height:s.height()-2,displayMember:v,valueMember:a}),d.removeAttr("tabindex"),d.find("div").removeAttr("tabindex"),this.editors["combobox_"+g]=d,i.createeditor&&i.createeditor(t,c,d)}i._requirewidthupdate&&d.jqxComboBox({width:s.width()-2})
x=d.jqxComboBox("listBox").visibleItems
i.createeditor||(x.length<8?d.jqxComboBox("autoDropDownHeight",!0):d.jqxComboBox("autoDropDownHeight",!1))
c=this.getcellvalue(t,v),C=this.findRecordIndex(c,v,x)
if(r&&(""!=c?(d.jqxComboBox("selectIndex",C,!0),d.jqxComboBox("val",c)):(d.jqxComboBox("selectIndex",-1),d.jqxComboBox("val",c))),!this.editcell)return
null!=this.editcell.defaultvalue&&d.jqxComboBox("selectIndex",this.editcell.defaultvalue,!0),this.editchar&&this.editchar.length>0&&d.jqxComboBox("input").val(this.editchar),o&&setTimeout(function(){if(f(d.jqxComboBox("input")),d)if(d.jqxComboBox("_setSelection",0,0),l.editchar)d.jqxComboBox("_setSelection",1,1),l.editchar=null
else if(d.jqxComboBox("input")){var e=d.jqxComboBox("input").val()
d.jqxComboBox("_setSelection",0,e.length)}},10)}break
case"datetimeinput":if(this.host.jqxDateTimeInput){n.innerHTML="",-1!=(g=e.trim(i.datafield).split(" ").join("")).indexOf(".")&&(g=g.replace(".",""))
var T=this.editors["datetimeinput_"+g]
if((d=null==T?e("<div style='border-radius: 0px; -moz-border-radius: 0px; -webkit-border-radius: 0px; z-index: 799; top: 0px; left: 0px; position: absolute;' id='datetimeeditor'></div>"):T).show(),d.css("top",e(n).parent().position().top),this.oldhscroll?d.css("left",-p+parseInt(e(n).position().left)):d.css("left",parseInt(e(n).position().left)),i.pinned&&d.css("left",p+parseInt(e(n).position().left)),null==T){d.prependTo(this.table),d[0].id="datetimeeditor"+this.element.id+g
var I={calendar:this.gridlocalization}
d.jqxDateTimeInput({firstDayOfWeek:this.gridlocalization.firstDay,enableBrowserBoundsDetection:!0,localization:I,_editor:!0,theme:this.theme,rtl:this.rtl,width:s.width(),height:s.height(),formatString:i.cellsformat}),this.editors["datetimeinput_"+g]=d,i.createeditor&&i.createeditor(t,c,d)}if(i._requirewidthupdate&&d.jqxDateTimeInput({width:s.width()-2}),r){if(""!=c&&null!=c){var E=new Date(c)
"Invalid Date"==E&&this.source.getvaluebytype&&(E=this.source.getvaluebytype(c,{name:i.datafield,type:"date"})),d.jqxDateTimeInput("setDate",E)}else d.jqxDateTimeInput("setDate",null)
null!=this.editcell.defaultvalue&&d.jqxDateTimeInput("setDate",this.editcell.defaultvalue)}if(o){var P=this.editEvent
setTimeout(function(){f(d.jqxDateTimeInput("dateTimeInput")),setTimeout(function(){if(d.jqxDateTimeInput("_selectGroup",0),l.editchar&&l.editchar.length>0){var e=parseInt(l.editchar)
if(!isNaN(e)&&P){var t=P.charCode?P.charCode:P.keyCode?P.keyCode:0
d.jqxDateTimeInput("_handleKeyPress",P,t)}}},25)},10)}}break
case"numberinput":if(this.host.jqxNumberInput){n.innerHTML="",-1!=(g=e.trim(i.datafield).split(" ").join("")).indexOf(".")&&(g=g.replace(".",""))
var D=this.editors["numberinput_"+g]
if((d=null==D?e("<div style='border-radius: 0px; -moz-border-radius: 0px; -webkit-border-radius: 0px; z-index: 799; top: 0px; left: 0px; position: absolute;' id='numbereditor'></div>"):D).show(),d.css("top",e(n).parent().position().top),this.oldhscroll?d.css("left",-p+parseInt(e(n).position().left)):d.css("left",parseInt(e(n).position().left)),i.pinned&&d.css("left",p+parseInt(e(n).position().left)),null==D){d.prependTo(this.table),d[0].id="numbereditor"+this.element.id+g
var k="",A="left",j=2
i.cellsformat?-1!=i.cellsformat.indexOf("c")?(k=this.gridlocalization.currencysymbol,A="before"==(A=this.gridlocalization.currencysymbolposition)?"left":"right",i.cellsformat.length>1&&(j=parseInt(i.cellsformat.substring(1),10))):-1!=i.cellsformat.indexOf("p")&&(k=this.gridlocalization.percentsymbol,A="right",i.cellsformat.length>1&&(j=parseInt(i.cellsformat.substring(1),10))):j=0,d.jqxNumberInput({decimalSeparator:this.gridlocalization.decimalseparator,decimalDigits:j,inputMode:"simple",theme:this.theme,rtl:this.rtl,width:s.width()-1,height:s.height()-1,spinButtons:!0,symbol:k,symbolPosition:A}),this.editors["numberinput_"+g]=d,i.createeditor&&i.createeditor(t,c,d)}if(i._requirewidthupdate&&d.jqxNumberInput({width:s.width()-2}),r){if(""!=c&&null!=c){var M=c
d.jqxNumberInput("setDecimal",M)}else d.jqxNumberInput("setDecimal",0)
if(null!=this.editcell.defaultvalue&&d.jqxNumberInput("setDecimal",this.editcell.defaultvalue),this.editchar&&this.editchar.length>0){var N=parseInt(this.editchar)
isNaN(N)||d.jqxNumberInput("setDecimal",N)}o&&setTimeout(function(){if(f(d.jqxNumberInput("numberInput")),d.jqxNumberInput("_setSelectionStart",0),l.editchar)i.cellsformat.length>0?d.jqxNumberInput("_setSelectionStart",2):d.jqxNumberInput("_setSelectionStart",1),l.editchar=null
else{if(d.jqxNumberInput("spinButtons")){var e=d.jqxNumberInput("numberInput").val()
l._setSelection(d.jqxNumberInput("numberInput")[0],e.length,e.length)}else{e=d.jqxNumberInput("numberInput").val()
l._setSelection(d.jqxNumberInput("numberInput")[0],0,e.length)}d.jqxNumberInput("selectAll")}},10)}}break
case"custom":n.innerHTML="",-1!=(g=e.trim(i.datafield).split(" ").join("")).indexOf(".")&&(g=g.replace(".",""))
var q=this.editors["customeditor_"+g+"_"+t]
if((d=null==q?e("<div style='overflow: hidden; border-radius: 0px; -moz-border-radius: 0px; -webkit-border-radius: 0px; z-index: 799; top: 0px; left: 0px; position: absolute;' id='customeditor'></div>"):q).show(),d.css("top",e(n).parent().position().top),this.oldhscroll?d.css("left",-p+parseInt(e(n).position().left)):d.css("left",parseInt(e(n).position().left)),i.pinned&&d.css("left",p+parseInt(e(n).position().left)),null==q){d.prependTo(this.table),d[0].id="customeditor"+this.element.id+g+"_"+t,this.editors["customeditor_"+g+"_"+t]=d
var O=s.width()-1,B=s.height()-1
d.width(O),d.height(B),i.createeditor&&i.createeditor(t,c,d,h,O,B,this.editchar)}i._requirewidthupdate&&d.width(s.width()-2)
break
case"template":n.innerHTML="",-1!=(g=e.trim(i.datafield).split(" ").join("")).indexOf(".")&&(g=g.replace(".",""))
var L=this.editors["templateeditor_"+g]
if((d=null==L?e("<div style='overflow: hidden; border-radius: 0px; -moz-border-radius: 0px; -webkit-border-radius: 0px; z-index: 799; top: 0px; left: 0px; position: absolute;' id='templateeditor'></div>"):L).show(),d.css("top",e(n).parent().position().top),this.oldhscroll?d.css("left",-p+parseInt(e(n).position().left)):d.css("left",parseInt(e(n).position().left)),i.pinned&&d.css("left",p+parseInt(e(n).position().left)),null==L){d.prependTo(this.table),d[0].id="templateeditor"+this.element.id+g,this.editors["templateeditor_"+g]=d
O=s.width()-1,B=s.height()-1
d.width(O),d.height(B),i.createeditor&&i.createeditor(t,c,d,h,O,B,this.editchar)}i._requirewidthupdate&&d.width(s.width()-2)
break
case"textbox":default:n.innerHTML="",(d=this.editors["textboxeditor_"+i.datafield]||e("<input autocomplete='off' autocorrect='off' autocapitalize='off' spellcheck='false' type='textbox' id='textboxeditor'/>"))[0].id="textboxeditor"+this.element.id+i.datafield,d.appendTo(s),this.rtl&&d.css("direction","rtl"),(r||""==d[0].className)&&(d.addClass(this.toThemeProperty("jqx-input")),d.addClass(this.toThemeProperty("jqx-widget-content")),this.editchar&&this.editchar.length>0?d.val(this.editchar):(""!=i.cellsformat&&(c=this.getcelltext(t,a)),null==c&&(c=""),d.val(c)),null!=this.editcell.defaultvalue&&d.val(this.editcell.defaultvalue),d.width(s.width()+1),d.height(s.height()+1),i.createeditor&&i.createeditor(t,c,d),""!=i.cellsformat&&(-1==i.cellsformat.indexOf("p")&&-1==i.cellsformat.indexOf("c")&&-1==i.cellsformat.indexOf("n")&&-1==i.cellsformat.indexOf("f")||this.editors["textboxeditor_"+i.datafield]||d.keydown(function(e){var t=e.charCode?e.charCode:e.keyCode?e.keyCode:0,n=String.fromCharCode(t),r=parseInt(n)
if(isNaN(r))return!0
if(l._selection(d).length>0)return!0
var o="",a=d.val()
if(i.cellsformat.length>1){var s=parseInt(i.cellsformat.substring(1))
isNaN(s)&&(s=0)}else s=0
if(s>0&&-1!=a.indexOf(l.gridlocalization.decimalseparator)&&l._selection(d).start>a.indexOf(l.gridlocalization.decimalseparator))return!0
for(var c=0;c<a.length-s;c++){var h=a.substring(c,c+1)
null!=h.match(/^[0-9]+$/)&&(o+=h)}return!(o.length>=11)&&void 0}))),this.editors["textboxeditor_"+i.datafield]=d,r&&o&&setTimeout(function(){f(d),l.editchar?(l._setSelection(d[0],1,1),l.editchar=null):l._setSelection(d[0],0,d.val().length)},25)}d&&(d[0].style.zIndex=1+parseInt(n.style.zIndex),e.jqx.browser.msie&&e.jqx.browser.version<8&&(d[0].style.zIndex=1+this.columns.records.length+n.style.zIndex),d.css("display","block"),this.editcell.editor=d,this.editcell[a]?this.editcell[a].editor=d:(this.editcell[a]={},this.editcell[a].editor=d)),r&&i.initeditor&&i.initeditor(t,c,d,h,this.editchar),l.isTouchDevice()||setTimeout(function(){l.content&&(l.content[0].scrollTop=0,l.content[0].scrollLeft=0),l.gridcontent&&(l.gridcontent[0].scrollLeft=0,l.gridcontent[0].scrollTop=0)},10)}},_setSelection:function(e,t,i){try{if("selectionStart"in e)e.setSelectionRange(t,i)
else{var n=e.createTextRange()
n.collapse(!0),n.moveEnd("character",i),n.moveStart("character",t),n.select()}}catch(e){}},_hideeditors:function(){if(null!=this.editcells){for(var e in this.editcells)this.editcell=this.editcells[e],this._hidecelleditor()}},_hidecelleditor:function(e){if(this.editcell)if("selectedrow"!==this.editmode){if("checkbox"!=this.editcell.columntype){if(this.editcell.editor)switch(this.editcell.editor.hide(),this.editcell.columntype){case"dropdownlist":this.editcell.editor.jqxDropDownList({closeDelay:0}),this.editcell.editor.jqxDropDownList("hideListBox"),this.editcell.editor.jqxDropDownList({closeDelay:300})
break
case"combobox":this.editcell.editor.jqxComboBox({closeDelay:0}),this.editcell.editor.jqxComboBox("hideListBox"),this.editcell.editor.jqxComboBox({closeDelay:300})
break
case"datetimeinput":var t=this.editcell.editor
t.jqxDateTimeInput("isOpened")&&(t.jqxDateTimeInput({closeDelay:0}),t.jqxDateTimeInput("hideCalendar"),t.jqxDateTimeInput({closeDelay:300}))}this.validationpopup&&(this.validationpopup.hide(),this.validationpopuparrow.hide()),this.isNestedGrid||0!=e&&this.element.focus()}}else{for(var i=0;i<this.columns.records.length;i++){var n=this.columns.records[i]
if(this.editcell[n.datafield]&&this.editcell[n.datafield].editor){this.editcell[n.datafield].editor.hide()
var r=this.editcell[n.datafield].editor
switch(n.columntype){case"dropdownlist":r.jqxDropDownList({closeDelay:0}),r.jqxDropDownList("hideListBox"),r.jqxDropDownList({closeDelay:300})
break
case"combobox":r.jqxComboBox({closeDelay:0}),r.jqxComboBox("hideListBox"),r.jqxComboBox({closeDelay:300})
break
case"datetimeinput":r.jqxDateTimeInput("isOpened")&&(r.jqxDateTimeInput({closeDelay:0}),r.jqxDateTimeInput("hideCalendar"),r.jqxDateTimeInput({closeDelay:300}))}}}this.validationpopup&&(this.validationpopup.hide(),this.validationpopuparrow.hide())}},_geteditorvalue:function(t){var i=new String
if(!this.editcell)return null
var n=this.editcell.editor
if("selectedrow"==this.editmode&&this.editcell[t.datafield])n=this.editcell[t.datafield].editor
if(n){switch(t.columntype){case"textbox":default:if(i=n.val(),""!=t.cellsformat){var r="string",o=this.source.datafields||(this.source._source?this.source._source.datafields:null)
if(o){var a=""
e.each(o,function(){if(this.name==t.displayfield)return this.type&&(a=this.type),!1}),a&&(r=a)}var s="date"===r||"time"===r
if("number"===r||"float"===r||"int"===r||"integer"===r||"string"===r&&(-1!=t.cellsformat.indexOf("p")||-1!=t.cellsformat.indexOf("c")||-1!=t.cellsformat.indexOf("n")||-1!=t.cellsformat.indexOf("f"))){if(""===i&&t.nullable)return""
i.indexOf(this.gridlocalization.currencysymbol)>-1&&(i=i.replace(this.gridlocalization.currencysymbol,""))
var l=i
if(l=new Number(l),!isNaN(l))return l;(i=(i=function(e,t,i){var n=e
if(t==i)return e
for(var r=n.indexOf(t);-1!=r;)r=(n=n.replace(t,i)).indexOf(t)
return n}(i,this.gridlocalization.thousandsseparator,"")).replace(this.gridlocalization.decimalseparator,".")).indexOf(this.gridlocalization.percentsymbol)>-1&&(i=i.replace(this.gridlocalization.percentsymbol,""))
for(var d="",c=0;c<i.length;c++){var h=i.substring(c,c+1)
"-"===h&&(d+="-"),"."===h&&(d+="."),null!=h.match(/^[0-9]+$/)&&(d+=h)}i=(i=d).replace(/ /g,""),i=new Number(i),isNaN(i)&&(i="")}if(s||"string"===r&&(-1!=t.cellsformat.indexOf("H")||-1!=t.cellsformat.indexOf("m")||-1!=t.cellsformat.indexOf("M")||-1!=t.cellsformat.indexOf("y")||-1!=t.cellsformat.indexOf("h")||-1!=t.cellsformat.indexOf("d"))){if(""===i&&t.nullable)return""
var u=i
e.jqx.dataFormat&&(i=e.jqx.dataFormat.tryparsedate(u,this.gridlocalization)),"Invalid Date"!=i&&null!=i||(i="")}}t.displayfield!=t.datafield&&(i={label:i,value:i})
break
case"checkbox":n.jqxCheckBox&&(i=n.jqxCheckBox("checked"))
break
case"datetimeinput":if(n.jqxDateTimeInput){if(n.jqxDateTimeInput({isEditing:!1}),"none"!==n.jqxDateTimeInput("container").css("display")&&n.jqxDateTimeInput("close"),n.jqxDateTimeInput("_validateValue"),null==(i=n.jqxDateTimeInput("getDate")))return null
i=new Date(i.toString()),t.displayfield!=t.datafield&&(i={label:i,value:i})}break
case"dropdownlist":if(n.jqxDropDownList){var p=n.jqxDropDownList("selectedIndex"),m=n.jqxDropDownList("listBox").getVisibleItem(p)
null==(i=t.displayfield!=t.datafield?m?{label:m.label,value:m.value}:"":m?m.label:"")&&(i="")}break
case"combobox":if(n.jqxComboBox){if(i=n.jqxComboBox("val"),t.displayfield!=t.datafield)null!=(m=n.jqxComboBox("getSelectedItem"))&&(i={label:m.label,value:m.value})
null==i&&(i="")}break
case"numberinput":if(n.jqxNumberInput){this.touchdevice&&n.jqxNumberInput("_doTouchHandling")
var f=n.jqxNumberInput("getDecimal")
i=new Number(f),i=parseFloat(i),isNaN(i)&&(i=0),null===f&&(i=null),t.displayfield!=t.datafield&&(i={label:i,value:i})}}t.geteditorvalue&&(i="selectedrow"==this.editmode?t.geteditorvalue(this.editcell.row,this.getcellvalue(this.editcell.row,t.datafield),n):t.geteditorvalue(this.editcell.row,this.editcell.value,n))}return i},hidevalidationpopups:function(){this.popups&&(e.each(this.popups,function(){this.validation.remove(),this.validationrow.remove()}),this.popups=new Array),this.validationpopup&&(this.validationpopuparrow.hide(),this.validationpopup.hide())},showvalidationpopup:function(t,i,n){if(null==n)n=this.gridlocalization.validationstring
var r=e("<div style='z-index: 99999; top: 0px; left: 0px; position: absolute;'></div>"),o=e("<div style='width: 20px; height: 20px; z-index: 999999; top: 0px; left: 0px; position: absolute;'></div>")
r.html(n),o.addClass(this.toThemeProperty("jqx-grid-validation-arrow-up")),r.addClass(this.toThemeProperty("jqx-grid-validation")),r.addClass(this.toThemeProperty("jqx-rc-all")),r.prependTo(this.table),o.prependTo(this.table)
for(var a=this.hScrollInstance.value,s=parseInt(a),l=this.getcolumn(i).uielement,d=null,c=0;c<this.hittestinfo.length;c++)t===this.hittestinfo[c].row.visibleindex&&(d=this.hittestinfo[c])
if(!d){this.ensurerowvisible(t)
var h=this
return r.remove(),o.remove(),void setTimeout(function(){for(var e=null,r=0;r<h.hittestinfo.length;r++)t===h.hittestinfo[r].row.visibleindex&&(e=h.hittestinfo[r])
e&&h.showvalidationpopup(t,i,n)},25)}var u=e(d.visualrow)
r.css("top",parseInt(u.position().top)+30+"px")
var p=parseInt(r.css("top"))
o.css("top",p-12),o.removeClass(),o.addClass(this.toThemeProperty("jqx-grid-validation-arrow-up"))
var m=!1
p>=this._gettableheight()&&(o.removeClass(this.toThemeProperty("jqx-grid-validation-arrow-up")),o.addClass(this.toThemeProperty("jqx-grid-validation-arrow-down")),(p=parseInt(u.position().top)-this.rowsheight-5)<0&&(p=0,this.validationpopuparrow.removeClass(this.toThemeProperty("jqx-grid-validation-arrow-down")),m=!0),r.css("top",p+"px"),o.css("top",p+r.outerHeight()-9))
var f=-s+parseInt(e(l).position().left)
o.css("left",s+f+30)
var g=r.width()
g+f>this.host.width()-20&&(f-=g+f-this.host.width()+40)
m?r.css("left",s+parseInt(e(l).position().left)-r.outerWidth()):r.css("left",s+f),r.show(),o.show(),this.popups||(this.popups=new Array),this.popups[this.popups.length]={validation:r,validationrow:o}},_showvalidationpopup:function(t,i,n){var r=this.editcell,o=this.editcell.editor
"selectedrow"==this.editmode&&((r=this.editcell[i])&&r.editor&&(o=r.editor,r.element=o))
if(o&&!(this.validationpopup&&e.jqx.isHidden(this.validationpopup)&&(this.validationpopup.remove&&(this.validationpopup.remove(),this.validationpopuparrow.remove()),this.validationpopup=null,this.validationpopuparrow=null,void 0===i&&void 0===n&&this.editors&&0===this.editors.length))){if(this.validationpopup)this.validationpopup.html(n)
else{var a=e("<div style='z-index: 99999; top: 0px; left: 0px; position: absolute;'></div>"),s=e("<div style='width: 20px; height: 20px; z-index: 999999; top: 0px; left: 0px; position: absolute;'></div>")
a.html(n),s.addClass(this.toThemeProperty("jqx-grid-validation-arrow-up")),a.addClass(this.toThemeProperty("jqx-grid-validation")),a.addClass(this.toThemeProperty("jqx-rc-all")),a.prependTo(this.table),s.prependTo(this.table),this.validationpopup=a,this.validationpopuparrow=s}var l=this.hScrollInstance.value,d=parseInt(l)
"selectedrow"==this.editmode?this.visiblerows&&this.visiblerows[this.editcell.visiblerowindex]?this.validationpopup.css("top",this.visiblerows[this.editcell.visiblerowindex].top+(this.rowsheight+5)+"px"):this.validationpopup.css("top",parseInt(e(r.editor).position().top)+(this.rowsheight+5)+"px"):this.validationpopup.css("top",parseInt(e(r.element).parent().position().top)+(this.rowsheight+5)+"px")
var c=parseInt(this.validationpopup.css("top"))
this.validationpopuparrow.css("top",c-11),this.validationpopuparrow.removeClass(),this.validationpopuparrow.addClass(this.toThemeProperty("jqx-grid-validation-arrow-up"))
var h=!1
c>=this._gettableheight()&&(this.validationpopuparrow.removeClass(this.toThemeProperty("jqx-grid-validation-arrow-up")),this.validationpopuparrow.addClass(this.toThemeProperty("jqx-grid-validation-arrow-down")),c=parseInt(e(r.element).parent().position().top)-this.rowsheight-5,"selectedrow"==this.editmode&&(c=this.visiblerows&&this.visiblerows[this.editcell.visiblerowindex]?this.visiblerows[this.editcell.visiblerowindex].top-this.rowsheight-5:parseInt(e(r.editor).position().top)-this.rowsheight-5),c<0&&(c=0,this.validationpopuparrow.removeClass(this.toThemeProperty("jqx-grid-validation-arrow-down")),h=!0),this.validationpopup.css("top",c+"px"),this.validationpopuparrow.css("top",c+this.validationpopup.outerHeight()-9))
var u=-d+parseInt(e(r.element).position().left)
this.validationpopuparrow.css("left",d+u+30)
var p=this.validationpopup.width()
if(p+u>this.host.width()-20)u-=p+u-this.host.width()+40
h?this.validationpopup.css("left",d+parseInt(e(r.element).position().left)-this.validationpopup.outerWidth()):this.validationpopup.css("left",d+u),"none"==this.editcell.editor.css("display")?(this.validationpopup.hide(),this.validationpopuparrow.hide()):(this.validationpopup.show(),this.validationpopuparrow.show())}}})}(jqxBaseFramework)
var Ei=Object.freeze({})
!function(e){e.extend(e.jqx._jqxGrid.prototype,{_updatefilterrowui:function(t){var i=this.columns.records.length,n=0,r=this
if(this.filterrow){for(var o=0;o<i;o++){var a=this.columns.records[o],s=a.width
s<a.minwidth&&(s=a.minwidth),s>a.maxwidth&&(s=a.maxwidth)
var l=e(this.filterrow[0].cells[o])
l.css("left",n)
var d=!0
if(l.width()==s&&(d=!1),t&&(d=!0),l.width(s),l[0].left=n,a.hidden&&a.hideable?l.css("display","none"):n+=s,d)if(a.createfilterwidget&&"custom"==a.filtertype)a.createfilterwidget(a,l)
else if(a.filterable){var c=function(t,i){var n=e(i.children()[0])
n.width(s-10),n.attr("disabled",t.disabled)}
switch(a.filtertype){case"number":case"input":e(l.children()[0]).width(s),l.find("input").width(s-30),l.find("input").attr("disabled",r.disabled),e(l.find(".jqx-dropdownlist-state-normal")).jqxDropDownList({theme:r.theme,disabled:r.disabled})
break
case"date":case"range":this.host.jqxDateTimeInput?e(l.children()[0]).jqxDateTimeInput({theme:r.theme,disabled:r.disabled,width:s-10}):c(this,l)
break
case"textbox":case"default":c(this,l)
break
case"list":case"checkedlist":this.host.jqxDropDownList?e(l.children()[0]).jqxDropDownList({theme:r.theme,disabled:r.disabled,width:s-10}):c(this,l)
break
case"bool":case"boolean":this.host.jqxCheckBox?e(l.children()[0]).jqxCheckBox({theme:r.theme,disabled:r.disabled}):c(this,l)}}}var h=e(this.filterrow.children()[0])
h.width(parseInt(n)+2),h.height(this.filterrowheight)}},clearfilterrow:function(t){if(this._disablefilterrow=!0,this.columns.records){for(var i=this.columns.records.length,n=0;n<i;n++){var r=this.columns.records[n],o=e(this.filterrow[0].cells[n])
if(("string"!=typeof t||r.displayfield==t)&&r.filterable){var a=function(t,i){var n=e(i.children()[0])
n.val(""),n[0]&&(t["_oldWriteText"+n[0].id]="")}
switch(r.filtertype){case"number":case"input":if(o.find("input").val(""),this.host.jqxDropDownList){var s=e(e(e(o).children()[0]).children()[1])
s.jqxDropDownList("clearSelection")
var l=0
if(0==l){this._getfiltersbytype("number"==r.filtertype?"number":"string")
var d=(new e.jqx.filter).getoperatorsbyfiltertype("number"==r.filtertype?"numberfilter":"stringfilter")
null!=r.filtercondition?-1==(l=d.indexOf(r.filtercondition.toUpperCase()))&&(l="number"==r.filtertype?0:2):l="number"==r.filtertype?0:2}s.jqxDropDownList({selectedIndex:l}),s.jqxDropDownList("ensureVisible",l)}break
case"date":case"range":this.host.jqxDateTimeInput?e(o.children()[0]).jqxDateTimeInput("setDate",null):a(this,o)
break
case"textbox":case"default":a(this,o)
break
case"list":this.host.jqxDropDownList?e(o.children()[0]).jqxDropDownList("clearSelection"):a(this,o)
break
case"checkedlist":this.host.jqxDropDownList?e(o.children()[0]).jqxDropDownList("checkAll",!1):a(this,o)
break
case"bool":case"boolean":this.host.jqxCheckBox?e(o.children()[0]).jqxCheckBox({checked:null}):a(this,o)}}}this._disablefilterrow=!1}},_applyfilterfromfilterrow:function(){if(1!=this._disablefilterrow&&!this.disabled){for(var t=this.columns.records.length,i=this.that,n=0;n<t;n++){var r=new e.jqx.filter,o=this.columns.records[n]
if(o.filterable&&null!==o.datafield){var a=i._getcolumntypebydatafield(o),s=i._getfiltertype(a),l=!0,d=(o.filtertype,function(e,t,n){var r=!0
if(e._filterwidget){var o=e._filterwidget.val()
if(""!=o){var a="equal"
if("stringfilter"==t)a="contains"
if("numericfilter"==t&&","==i.gridlocalization.decimalseparator&&o.indexOf(i.gridlocalization.decimalseparator)>=0&&(o=o.replace(i.gridlocalization.decimalseparator,".")),"stringfilter"!=t){var s=0
if(-1!=o.indexOf(">")&&(a="greater_than",s=1),-1!=o.indexOf("<")&&(a="less_than",s=1),-1!=o.indexOf("=")&&("greater_than"==a?(a="greater_than_or_equal",s=2):"less_than"==a?(a="less_than_or_equal",s=2):(a="equal",s=1)),0!=s&&(o=o.substring(s)).length<1)return!1}if(null!=e.filtercondition&&(a=e.filtercondition),"datefilter"==t)var l=n.createfilter(t,o,a,null,e.cellsformat,i.gridlocalization)
else l=n.createfilter(t,o,a)
n.addfilter(1,l)}else r=!1}return r})
switch(o.filtertype){case"range":case"date":if(o._filterwidget.jqxDateTimeInput)if("range"==o.filtertype)if(null!=(f=o._filterwidget.jqxDateTimeInput("getRange"))&&null!=f.from&&null!=f.to){var c="GREATER_THAN_OR_EQUAL";(m=new Date(0)).setHours(0),m.setMinutes(0),m.setFullYear(f.from.getFullYear(),f.from.getMonth(),f.from.getDate())
var h=new Date(0)
h.setHours(0),h.setMinutes(0),h.setFullYear(f.to.getFullYear(),f.to.getMonth(),f.to.getDate()),h.setHours(f.to.getHours()),h.setMinutes(f.to.getMinutes()),h.setSeconds(f.to.getSeconds())
var u=r.createfilter(s,m,c)
r.addfilter(0,u)
var p=r.createfilter(s,h,"LESS_THAN_OR_EQUAL")
r.addfilter(0,p)}else l=!1
else if(null!=(f=o._filterwidget.jqxDateTimeInput("getDate"))){var m;(m=new Date(0)).setHours(0),m.setMinutes(0),m.setFullYear(f.getFullYear(),f.getMonth(),f.getDate())
c="EQUAL"
null!=o.filtercondition&&(c=o.filtercondition)
u=r.createfilter(s,m,c)
r.addfilter(0,u)}else l=!1
else l=d(o,s,r)
break
case"input":if(o._filterwidget){var f=o._filterwidget.find("input").val(),g=o._filterwidget.find(".filter").jqxDropDownList("selectedIndex"),v=r.getoperatorsbyfiltertype(s)[g]
if(i.updatefilterconditions){null!=(_=i.updatefilterconditions(s,r.getoperatorsbyfiltertype(s)))&&r.setoperatorsbyfiltertype(s,_)
v=r.getoperatorsbyfiltertype(s)[g]}var b="NULL"==v||"NOT_NULL"==v,y="EMPTY"==v||"NOT_EMPTY"==v
null!=f&&f.length>0||b||y?(u=r.createfilter(s,f,v,null,o.cellsformat,i.gridlocalization),r.addfilter(0,u)):l=!1}else l=!1
break
case"number":if(o._filterwidget){f=o._filterwidget.find("input").val()
","==i.gridlocalization.decimalseparator&&f.indexOf(i.gridlocalization.decimalseparator)>=0&&(f=f.replace(i.gridlocalization.decimalseparator,"."))
g=o._filterwidget.find(".filter").jqxDropDownList("selectedIndex"),v=r.getoperatorsbyfiltertype(s)[g]
if(i.updatefilterconditions){var _
null!=(_=i.updatefilterconditions(s,r.getoperatorsbyfiltertype(s)))&&r.setoperatorsbyfiltertype(s,_)
v=r.getoperatorsbyfiltertype(s)[g]}b="NULL"==v||"NOT_NULL"==v,y="EMPTY"==v||"NOT_EMPTY"==v
null!=f&&f.length>0||b||y?(u=r.createfilter(s,new Number(f),v,null,o.cellsformat,i.gridlocalization),r.addfilter(0,u)):l=!1}else l=!1
break
case"textbox":case"default":l=d(o,s,r)
break
case"bool":case"boolean":if(o._filterwidget.jqxCheckBox)if(null!=(f=o._filterwidget.jqxCheckBox("checked"))){c="equal"
var w=r.createfilter(s,f,c)
r.addfilter(1,w)}else l=!1
else l=d(o,s,r)
break
case"list":if((S=o._filterwidget.jqxDropDownList("listBox")).selectedIndex>0){var x=S.getItem(S.selectedIndex),C=(f=x.label,x.value)
c="equal"
""===f&&(c="NULL")
w=r.createfilter(s,f,c)
r.addfilter(1,w),C!==f&&(w.data=C)}else l=!1
break
case"checkedlist":if(o._filterwidget.jqxDropDownList){var S,T=(S=o._filterwidget.jqxDropDownList("listBox")).getCheckedItems()
if(0==T.length){for(var I=1;I<S.items.length;I++){f=S.items[I].label,C=S.items[I].value,c="not_equal"
""===f&&(c="NULL")
w=r.createfilter(s,f,c)
C!==f&&(w.data=C),r.addfilter(0,w)}l=!0}else if(T.length!=S.items.length)for(I=0;I<T.length;I++){f=T[I].label,C=T[I].value,c="equal"
""===f&&(c="NULL")
w=r.createfilter(s,f,c)
C!==f&&(w.data=C),r.addfilter(1,w)}else l=!1}else l=d(o,s,r)}this._loading||(l?this.addfilter(o.displayfield,r,!1):this.removefilter(o.displayfield,!1))}}this._loading||this.applyfilters("filterrow")}},_updatefilterrow:function(){var t=e('<div style="position: relative;" id="row00'+this.element.id+'"></div>'),i=0,n=this.columns.records.length,r=this.toThemeProperty("jqx-grid-cell")
r+=" "+this.toThemeProperty("jqx-grid-cell-pinned"),r+=" "+this.toThemeProperty("jqx-grid-cell-filter-row")
var o=n+10,a=new Array,s=this.that
this.filterrow[0].cells=a,t.height(this.filterrowheight),this.filterrow.children().detach(),this.filterrow.append(t),this._filterrowcache||(this._filterrowcache=new Array),this._initcolumntypes()
for(var l=!1,d=new Array,c=document.createDocumentFragment(),h=0;h<n;h++){var u=this.columns.records[h],p=u.width
p<u.minwidth&&(p=u.minwidth),p>u.maxwidth&&(p=u.maxwidth)
var m=document.createElement("div")
m.style.overflow="hidden",m.style.position="absolute",m.style.height="100%",m.className=r,m=e(m),c.appendChild(m[0]),m[0].style.left=i+"px",this.rtl?(m.css("z-index",o++),m.css("border-left-width","1px")):m.css("z-index",o--),"auto"==p&&(p=0),m[0].style.width=parseFloat(p)+"px",m[0].left=i,u.hidden&&u.hideable?m.css("display","none"):i+=p,a[a.length]=m[0]
var f=!0
if(this.rtl){if(this.groupable){g=this.showrowdetailscolumn&&this.rowdetails?1:0
this.groups.length+g+h>n-1&&(f=!1)}this.showrowdetailscolumn&&this.rowdetails&&h==n-1&&(f=!1)}else{if(this.groupable){var g=this.showrowdetailscolumn&&this.rowdetails?1:0
this.groups.length+g>h&&(f=!1)}this.showrowdetailscolumn&&this.rowdetails&&0==h&&(f=!1)}if(f)if("custom"==u.filtertype&&u.createfilterwidget){u.createfilterwidget(u,m,function(){s._applyfilterfromfilterrow()})}else u.filterable&&(this._filterrowcache[u.datafield]?(l=!0,m.append(this._filterrowcache[u.datafield]),u._filterwidget=this._filterrowcache[u.datafield]):(this._addfilterwidget(u,m,p),d[u.datafield]=u._filterwidget))}t[0].appendChild(c),this._filterrowcache=d,e.jqx.browser.msie&&e.jqx.browser.version<8&&t.css("z-index",o--),t.width(parseFloat(i)+2),this.filterrow.addClass(r),this.filterrow.css("border-top-width","1px"),this.filterrow.css("border-right-width","0px"),l&&this._updatefilterrowui(!0)},_addfilterwidget:function(t,i,n){for(var r=this.that,o="",a="",s=0;s<r.dataview.filters.length;s++){var l=r.dataview.filters[s]
if(l.datafield&&l.datafield==t.datafield){s=l.filter.getfilters()[0]
o=s.value,"range"===t.filtertype&&(o={from:o,to:l.filter.getfilters()[1].value}),a=s.condition,t.filtercondition=a
break}}var d=function(i,r){var a=e('<input autocomplete="off" type="textarea"/>')
a[0].id=e.jqx.utilities.createId(),a.addClass(i.toThemeProperty("jqx-widget")),a.addClass(i.toThemeProperty("jqx-input")),a.addClass(i.toThemeProperty("jqx-rc-all")),a.addClass(i.toThemeProperty("jqx-widget-content")),i.rtl&&a.css("direction","rtl"),i.disabled&&a.attr("disabled",!0),a.attr("disabled",!1),a.appendTo(r),a.width(n-10),a.height(i.filterrowheight-10),a.css("margin","4px"),a.css("box-sizing","border-box"),t.createfilterwidget&&t.createfilterwidget(t,r,a),t._filterwidget=a,a.focus(function(){return i.content[0].scrollLeft=0,setTimeout(function(){i.content[0].scrollLeft=0},10),i.focusedfilter=a,a.addClass(i.toThemeProperty("jqx-fill-state-focus")),!1}),a.blur(function(){a.removeClass(i.toThemeProperty("jqx-fill-state-focus"))}),a.keydown(function(e){"13"==e.keyCode&&i._applyfilterfromfilterrow(),a[0]._writeTimer&&clearTimeout(a[0]._writeTimer),a[0]._writeTimer=setTimeout(function(){i._loading||(i["_oldWriteText"+a[0].id]||(i["_oldWriteText"+a[0].id]=""),i["_oldWriteText"+a[0].id].length>0&&i["_oldWriteText"+a[0].id]!=a.val()?(i._applyfilterfromfilterrow(),i["_oldWriteText"+a[0].id]=a.val()):0==i["_oldWriteText"+a[0].id].length&&(i._applyfilterfromfilterrow(),i["_oldWriteText"+a[0].id]=a.val()))},t.filterdelay),i.focusedfilter=a}),i.host.removeClass("jqx-disableselect"),i.content.removeClass("jqx-disableselect"),a.val(o)}
switch(null!=t.datatype&&("number"==t.filtertype&&("string"!=t.datatype&&"date"!=t.datatype&&"bool"!=t.datatype||(t.filtertype="textbox")),"date"==t.filtertype&&("string"!=t.datatype&&"number"!=t.datatype&&"bool"!=t.datatype||(t.filtertype="textbox")),"bool"==t.filtertype&&("string"!=t.datatype&&"number"!=t.datatype&&"date"!=t.datatype||(t.filtertype="textbox"))),t.filtertype){case"number":case"input":var c=e("<div></div>")
c.width(i.width()),c.height(this.filterrowheight),i.append(c)
!function(i,n,a){var s=e('<input style="float: left;" autocomplete="off" type="textarea"/>')
r.rtl&&(s.css("float","right"),s.css("direction","rtl")),s[0].id=e.jqx.utilities.createId(),s.addClass(r.toThemeProperty("jqx-widget jqx-input jqx-rc-all jqx-widget-content")),s.appendTo(i),s.width(n-16),r.disabled&&s.attr("disabled",!0),s.attr("disabled",!1),s.height(r.filterrowheight-10),s.css("margin","4px"),s.css("margin-right","2px"),s.focus(function(){r.focusedfilter=s,s.addClass(r.toThemeProperty("jqx-fill-state-focus"))}),s.blur(function(){s.removeClass(r.toThemeProperty("jqx-fill-state-focus"))}),s.keydown(function(e){"13"==e.keyCode&&r._applyfilterfromfilterrow(),s[0]._writeTimer&&clearTimeout(s[0]._writeTimer),s[0]._writeTimer=setTimeout(function(){r._loading||r["_oldWriteText"+s[0].id]!=s.val()&&(r._applyfilterfromfilterrow(),r["_oldWriteText"+s[0].id]=s.val())},t.filterdelay),r.focusedfilter=s}),s.val(o)}(c,n=i.width()-21)
var h=r._getfiltersbytype("number"==t.filtertype?"number":"string");(y=e("<div class='filter' style='float: left;'></div>")).css("margin-top","4px"),y.appendTo(c),r.rtl&&y.css("float","right")
var u=0
if(null!=t.filtercondition)-1!=(p=(s=new e.jqx.filter).getoperatorsbyfiltertype("number"==t.filtertype?"numericfilter":"stringfilter").indexOf(t.filtercondition.toUpperCase()))&&(u=p)
var p,m=180
if("input"==t.filtertype)if(m=240,0==u)-1!=(p=h.indexOf("contains")||2)&&null==t.filtercondition&&(u=p)
y.jqxDropDownList({disabled:r.disabled,touchMode:r.touchmode,rtl:r.rtl,dropDownHorizontalAlignment:"right",enableBrowserBoundsDetection:!0,selectedIndex:u,width:18,height:21,dropDownHeight:150,dropDownWidth:m,source:h,theme:r.theme}),y.jqxDropDownList({selectionRenderer:function(e){return""}}),y.jqxDropDownList("setContent",""),y.find(".jqx-dropdownlist-content").hide(),t.createfilterwidget&&t.createfilterwidget(t,i,c),t._filterwidget=c
var f=null
this.addHandler(y,"select",function(){var e=y.jqxDropDownList("getSelectedItem").label
t._filterwidget.find("input").val().length>0&&!r.refreshingfilter&&r._applyfilterfromfilterrow(),("input"!=t.filtertype||r.refreshingfilter)&&(0!=t._filterwidget.find("input").val().length||r.refreshingfilter||"null"!=f&&"not null"!=f&&"null"!=e&&"not null"!=e)||r._applyfilterfromfilterrow(),f=e})
break
case"textbox":case"default":default:d(this,i)
break
case"none":break
case"date":case"range":if(this.host.jqxDateTimeInput){var g=e("<div></div>")
g.css("margin","4px"),g.appendTo(i)
var v={calendar:this.gridlocalization,todayString:this.gridlocalization.todaystring,clearString:this.gridlocalization.clearstring}
g.jqxDateTimeInput({firstDayOfWeek:this.gridlocalization.firstDay,readonly:!0,disabled:r.disabled,localization:v,rtl:r.rtl,showFooter:!0,formatString:t.cellsformat,selectionMode:t.filtertype,value:null,theme:this.theme,width:n-10,height:this.filterrowheight-10}),t.createfilterwidget&&t.createfilterwidget(t,i,g),o&&o.from?g.jqxDateTimeInput("setRange",o.from,o.to):o&&o.toString().length>1&&g.val(o),t._filterwidget=g,this.addHandler(g,"valueChanged",function(e){r.refreshingfilter||(r._applyfilterfromfilterrow(),r.focusedfilter=null)})}else d(this,i)
break
case"list":case"checkedlist":if(this.host.jqxDropDownList){var b,y,_=this._getfilterdataadapter(t);(y=e("<div></div>")).css("margin","4px")
var w=t.datafield,x="checkedlist"==t.filtertype
m=n<150?220:"auto"
_.dataBind()
var C=_.records.length<8
b=C,y.appendTo(i),y.jqxDropDownList({placeHolder:r.gridlocalization.filterchoosestring,disabled:r.disabled,touchMode:r.touchmode,rtl:r.rtl,checkboxes:x,dropDownWidth:m,source:_.records,autoDropDownHeight:C,theme:this.theme,width:n-10,height:this.filterrowheight-10,displayMember:t.displayfield,valueMember:w}),t.createfilterwidget&&t.createfilterwidget(t,i,y)
var S=y.jqxDropDownList("listBox")
if(x){y.jqxDropDownList({selectionRenderer:function(){return'<span class="'+r.toThemeProperty("jqx-item")+'" style="top: 2px; position: relative; color: inherit; border: none; background-color: transparent;">'+r.gridlocalization.filterselectstring+"</span>"}})
var T=e('<span style="top: 2px; position: relative; color: inherit; border: none; background-color: transparent;">'+r.gridlocalization.filterselectstring+"</span>")
if(T.addClass(this.toThemeProperty("jqx-item")),null!=S){b||S.host.height(200),S.insertAt(r.gridlocalization.filterselectallstring,0),y.jqxDropDownList("setContent",T)
var I=!0
new Array
S.checkAll(!1),r.addHandler(S.host,"checkChange",function(e){if(y[0]._selectionChanged=!0,I)if(e.args.label!=r.gridlocalization.filterselectallstring){I=!1,S.host.jqxListBox("checkIndex",0,!0,!1)
var t=S.host.jqxListBox("getCheckedItems"),i=S.host.jqxListBox("getItems")
1==t.length?S.host.jqxListBox("uncheckIndex",0,!0,!1):i.length!=t.length&&S.host.jqxListBox("indeterminateIndex",0,!0,!1),I=!0}else I=!1,e.args.checked?S.host.jqxListBox("checkAll",!1):S.host.jqxListBox("uncheckAll",!1),I=!0})}}else S.insertAt({label:this.gridlocalization.filterchoosestring,value:""},0),y.jqxDropDownList({selectedIndex:0})
t._filterwidget=y
y.jqxDropDownList("dropdownlistWrapper")
"list"==t.filtertype?this.addHandler(y,"select",function(e){r.refreshingfilter||e.args&&"none"!=e.args.type&&(r._applyfilterfromfilterrow(),r.focusedfilter=null)}):this.addHandler(y,"close",function(e){y[0]._selectionChanged&&(r._applyfilterfromfilterrow(),r.focusedfilter=null,y[0]._selectionChanged=!1)})}else d(this,i)
break
case"bool":case"boolean":if(this.host.jqxCheckBox){var E=e('<div tabIndex=0 style="opacity: 0.99; position: absolute; top: 50%; left: 50%; margin-top: -7px; margin-left: -10px;"></div>')
E.appendTo(i),E.jqxCheckBox({disabled:r.disabled,enableContainerClick:!1,animationShowDelay:0,animationHideDelay:0,hasThreeStates:!0,theme:this.theme,checked:null}),t.createfilterwidget&&t.createfilterwidget(t,i,E),!0===o||"true"==o?E.jqxCheckBox({checked:!0}):!1!==o&&"false"!=o||E.jqxCheckBox({checked:!1}),t._filterwidget=E,this.addHandler(E,"change",function(e){r.refreshingfilter||e.args&&(r.focusedfilter=null,r._applyfilterfromfilterrow())})}else d(this,i)}},_getfilterdataadapter:function(t){var i
if(!!this.source._source){var n={localdata:e.extend(!0,{},this.source.records),datatype:this.source.datatype,async:!1},r=this
i=new e.jqx.dataAdapter(n,{autoBind:!1,autoSort:!0,autoSortField:t.displayfield,async:!1,uniqueDataFields:[t.displayfield],beforeLoadComplete:function(e){var n=new Array
if(t.cellsformat){for(var o=r._getcolumntypebydatafield(t),a=0;a<e.length;a++){n.push(e[a])
var s=e[a][t.displayfield]
e[a][t.displayfield+"JQValue"]=s,"date"===o?e[a][t.displayfield]=null!=s?i.formatDate(s,t.cellsformat,r.gridlocalization):"":"number"!==o&&"float"!==o&&"int"!==o||(e[a][t.displayfield]=null!=s?i.formatNumber(s,t.cellsformat,r.gridlocalization):"")}return n}return e}})}else i=new e.jqx.dataAdapter(this.source,{autoBind:!1,uniqueDataFields:[t.displayfield],autoSort:!0,autoSortField:t.displayfield,async:!1})
if(t.filteritems&&t.filteritems.length>0){n={localdata:t.filteritems,datatype:this.source.datatype,async:!1}
i=new e.jqx.dataAdapter(n,{autoBind:!1,async:!1})}else if(t.filteritems){if(t.filteritems._source)return t.filteritems._options.autoBind=!1,t.filteritems._options.async=!1,t.filteritems
if(e.isFunction(t.filteritems))return t.filteritems()}return i},refreshfilterrow:function(){if(this.showfilterrow){this.refreshingfilter=!0,this._updatefilterrowui(),this._updatelistfilters(!0,!0)
for(var t=this.that,i=this.columns.records.length,n=0;n<i;n++){var r=this.columns.records[n]
if(r.filterable&&r.filter){var o=r.filter.getfilters()
if(o.length>0){var a=o[0].value,s=r._filterwidget,l=r._filterwidget.parent()
if(null!=s)switch(r.filtertype){case"number":if(l.find("input").val(a),this.host.jqxDropDownList){var d=r.filter.getoperatorsbyfiltertype("numericfilter")
s.find(".filter").jqxDropDownList("selectIndex",d.indexOf(o[0].condition))}break
case"input":if(l.find("input").val(a),this.host.jqxDropDownList){d=r.filter.getoperatorsbyfiltertype("stringfilter")
s.find(".filter").jqxDropDownList("selectIndex",d.indexOf(o[0].condition))}break
case"date":case"range":if(this.host.jqxDateTimeInput){if(null!=(a=r.filter.getfilterat(0).filtervalue)){if(r.filter.getfilterat(1))var c=r.filter.getfilterat(1).filtervalue
else c=a
"range"==r.filtertype?e(l.children()[0]).jqxDateTimeInput("setRange",new Date(a),new Date(c)):e(l.children()[0]).jqxDateTimeInput("setDate",new Date(a))}}else s.val(a)
break
case"textbox":case"default":s.val(a),t["_oldWriteText"+s[0].id]=a
break
case"bool":case"boolean":this.host.jqxCheckBox?e(l.children()[0]).jqxCheckBox({checked:a}):s.val(a)}}}}this.refreshingfilter=!1}},_destroyedfilters:function(){this.that
for(var t=this.columns.records.length,i=0;i<t;i++){var n=this.columns.records[i]
if(n.filterable){var r=n._filterwidget
if("list"==n.filtertype||"checkedlist"==n.filtertype)this.removeHandler(r,"select"),this.removeHandler(r,"close"),r.jqxDropDownList("destroy")
else if("date"==n.filtertype||"range"==n.filtertype)this.removeHandler(r,"valueChanged"),r.jqxDateTimeInput("destroy")
else if("bool"==n.filtertype)this.removeHandler(r,"change"),r.jqxCheckBox("destroy")
else if("number"==n.filtertype||"input"===n.filtertype){var o=r.find(".jqx-input")
this.removeHandler(o,"keydown"),e(r.children()[1]).jqxDropDownList("destroy")}else this.removeHandler(r,"keydown")
r.remove()}}},_updatelistfilters:function(t,i){for(var n=this.that,r=this.columns.records.length,o=0;o<r;o++){var a=this.columns.records[o]
if(a.filterable&&("list"==a.filtertype||"checkedlist"==a.filtertype)){var s=a._filterwidget
if(t){var l=this._getfilterdataadapter(a)
s.jqxDropDownList({source:l})
var d=!0
if((u=s.jqxDropDownList("getItems")).length!=l.records.length+1&&(d=!1),d)for(var c=1;c<u.length;c++)if(u[c].label!=l.records[c-1][a.displayfield]){d=!1
break}if(d&&!i)continue}else if(null==a.filter){s.jqxDropDownList("renderSelection")
continue}var h="checkedlist"==a.filtertype,u=s.jqxDropDownList("getItems"),p=s.jqxDropDownList("listBox")
if(s.jqxDropDownList("dataBind"),h){s.jqxDropDownList({selectionRenderer:function(){return n.gridlocalization.filterselectstring}}),null==p.getItem(this.gridlocalization.filterselectallstring)&&p.insertAt(this.gridlocalization.filterselectallstring,0)
var m=e('<span style="top: 2px; position: relative; color: inherit; border: none; background-color: transparent;">'+this.gridlocalization.filterselectstring+"</span>")
if(m.addClass(this.toThemeProperty("jqx-item")),s.jqxDropDownList("setContent",m),p.checkAll(!1),a.filter){var f=a.filter.getfilters()
for(c=0;c<p.items.length;c++){var g=p.items[c].label,v=void 0
e.each(f,function(){var e
"NOT_EQUAL"==this.condition?e=g!=this.value:"EQUAL"==this.condition&&(e=g==this.value),v=null==v&&void 0!==e?e:"EQUAL"==this.condition?v||e:v&&e}),v?p.checkIndex(c,!1,!1):p.uncheckIndex(c,!1,!1)}p._updateCheckedItems()
var b=p.getCheckedItems().length
p.items.length!=b&&b>0&&p.host.jqxListBox("indeterminateIndex",0,!0,!1)}}else if(null==p.getItem(this.gridlocalization.filterselectallstring)&&p.insertAt({label:this.gridlocalization.filterchoosestring,value:""},0),s.jqxDropDownList({selectedIndex:0}),a.filter){f=a.filter.getfilters()
var y=-1
for(c=0;c<p.items.length;c++){g=p.items[c].label
e.each(f,function(){return"NOT_EQUAL"==this.condition||(g==this.value?(y=c,!1):void 0)})}-1!=y&&p.selectIndex(y)}u.length<8?s.jqxDropDownList("autoDropDownHeight",!0):s.jqxDropDownList("autoDropDownHeight",!1)}}},_renderfiltercolumn:function(){var t=this.that
if(this.filterable){if(!this.columns.records)return
e.each(this.columns.records,function(i,n){var r=!1
t.autoshowfiltericon?this.filter?(e(this.filtericon).show(),r=!0):e(this.filtericon).hide():this.filterable&&(e(this.filtericon).show(),r=!0),"right"!=this.align||this.renderer||this.element&&(this.element.firstChild.firstChild.style.marginRight=r?"18px":"2px")})}},_initcolumntypes:function(){if(this.columns&&this.columns.records){var t=this.source._source.datafields
if(t)for(var i=0;i<this.columns.records.length;i++){var n=this.columns.records[i]
if(!n.datatype){var r=""
e.each(t,function(){if(this.name==n.displayfield)return this.type&&(r=this.type),!1}),n.datatype=""!=r?r:""}}}},_getcolumntypebydatafield:function(t){var i=this.that,n="string",r=i.source.datafields||(i.source._source?i.source._source.datafields:null)
if(r){var o=""
if(e.each(r,function(){if(this.name==t.displayfield)return this.type&&(o=this.type),!1}),o)return o}if(null!=t){if(null==this.dataview.cachedrecords)return n
var a=null
if(this.virtualmode)e.each(this.dataview.cachedrecords,function(){return a=this[t.displayfield],!1})
else{if(0==this.dataview.cachedrecords.length)return n
if(null!=(a=this.dataview.cachedrecords[0][t.displayfield])&&""==a.toString())return"string"}if(null!=a)if("boolean"==typeof a)n="boolean"
else if(e.jqx.dataFormat.isNumber(a))n="number"
else{var s=new Date(a)
if("NaN"==s.toString()||"Invalid Date"==s.toString())if(e.jqx.dataFormat){if(null!=(s=e.jqx.dataFormat.tryparsedate(a))){if(s&&s.getFullYear()&&1970==s.getFullYear()&&0==s.getMonth()&&1==s.getDate()){var l=new Number(a)
return isNaN(l)?"string":"number"}return"date"}n="string"}else n="string"
else n="date"}}return n},_getfiltersbytype:function(e){var t=this.that,i=""
switch(e){case"number":case"float":case"int":i=t.gridlocalization.filternumericcomparisonoperators
break
case"date":i=t.gridlocalization.filterdatecomparisonoperators
break
case"boolean":case"bool":i=t.gridlocalization.filterbooleancomparisonoperators
break
case"string":default:i=t.gridlocalization.filterstringcomparisonoperators}return i},_getfiltertype:function(e){var t="stringfilter"
switch(e){case"number":case"int":case"float":case"decimal":t="numericfilter"
break
case"boolean":case"bool":t="booleanfilter"
break
case"date":case"time":case"range":t="datefilter"
break
case"string":case"input":t="stringfilter"}return t},_buildfilter:function(t,i,n){var r=e(i).find(".filter1"),o=e(i).find(".filter2"),a=e(i).find(".filter3"),s=e(i).find(".filtertext1"+t.element.id),l=e(i).find(".filtertext2"+t.element.id),d=s.val(),c=l.val(),h=t._getcolumntypebydatafield(n),u=(t._getfiltersbytype(h),new e.jqx.filter),p=t._getfiltertype(h)
if("default"===t.filtermode&&"list"!==n.filtertype&&"checkedlist"!==n.filtertype){var m=r.jqxDropDownList("selectedIndex"),f=o.jqxDropDownList("selectedIndex"),g=a.jqxDropDownList("selectedIndex"),v=null,b=null
if(t.updatefilterconditions){var y=t.updatefilterconditions(p,u.getoperatorsbyfiltertype(p))
null!=y&&u.setoperatorsbyfiltertype(p,y)}var _=!1,w=u.getoperatorsbyfiltertype(p)[m],x=(a=u.getoperatorsbyfiltertype(p)[g],"NULL"==w||"NOT_NULL"==w),C="EMPTY"==w||"NOT_EMPTY"==w
null==w&&(w=u.getoperatorsbyfiltertype(p)[0]),null==a&&(a=u.getoperatorsbyfiltertype(p)[0]),(d.length>0||x||C)&&(v=u.createfilter(p,d,w,null,n.cellsformat,t.gridlocalization),u.addfilter(f,v),_=!0)
var S="NULL"==a||"NOT_NULL"==a,T="EMPTY"==a||"NOT_EMPTY"==a
if((c.length>0||S||T)&&(b=u.createfilter(p,c,a,null,n.cellsformat,t.gridlocalization),u.addfilter(f,b),_=!0),_){var I=n.displayfield
this.addfilter(I,u,!0)}else this._clearfilter(t,i,n)}else if("excel"===t.filtermode||"list"===n.filtertype||"checkedlist"===n.filtertype){var E=!1,P=r.data().jqxListBox.instance,D="excel"===this.filtermode||"checkedlist"===n.filtertype,k=P.getCheckedItems()
if(!D)k=P.getSelectedItems()
if(0==k.length){for(var A=1;A<P.items.length;A++){void 0===(N=P.items[A].value)&&(N="")
var j="not_equal"
if(N&&N.indexOf&&(N.indexOf("|")>=0||N.indexOf(" AND ")>=0||N.indexOf(" OR ")>=0||N.indexOf(" and ")>=0||N.indexOf(" or ")>=0)){N=(N=(N=(N=(N=N.replace("|","")).replace("AND","")).replace("OR","")).replace("and","")).replace("or","")
j="equal"}if("datefilter"==p)var M=u.createfilter(p,N,j,null,n.cellsformat,t.gridlocalization)
else M=u.createfilter(p,N,j,null)
u.addfilter(0,M)}E=!0}else if(k.length!=P.items.length){E=!0
for(A=0;A<k.length;A++)if(t.gridlocalization.filterselectallstring!==k[A].value){var N
void 0===(N=k[A].value)&&(N="")
j="equal"
if("datefilter"==p)M=u.createfilter(p,N,j,null,n.cellsformat,t.gridlocalization)
else M=u.createfilter(p,N,j,null)
u.addfilter(1,M)}}else E=!1
if(E){I=n.displayfield
this.addfilter(I,u,!0)}else{I=n.displayfield
this.removefilter(I,!0)}}},_clearfilter:function(e,t,i){var n=i.displayfield
this.removefilter(n,!0)},addfilter:function(e,t,i){if(this._loading)throw new Error("jqxGrid: "+this.loadingerrormessage)
var n=this.getcolumn(e),r=this._getcolumn(e)
null!=n&&null!=n&&(n.filter=t,r.filter=t,this.dataview.addfilter(e,t),1==i&&null!=i&&this.applyfilters("add"))},removefilter:function(e,t){if(this._loading)throw new Error("jqxGrid: "+this.loadingerrormessage)
var i=this.getcolumn(e),n=this._getcolumn(e)
null!=i&&null!=i&&null!=i.filter&&(this.dataview.removefilter(e,i.filter),i.filter=null,n.filter=null,this.showfilterrow&&this.clearfilterrow(e),1!=t&&!1===t||this.applyfilters("remove"))},applyfilters:function(t){if(this.dataview.filters.length>=0&&(this.virtualmode||!this.source.localdata)&&null!=this.source&&this.source.filter){var i=-1
this.pageable?(i=this.dataview.pagenum,this.dataview.pagenum=0):(this.vScrollInstance.setPosition(0),this.loadondemand=!0,this._renderrows(this.virtualsizeinfo)),this.pageable&&this.virtualmode&&(this.dataview.pagenum=0),this.source.filter(this.dataview.filters,this.dataview.records,this.dataview.records.length),this.pageable&&!this.virtualmode&&(this.dataview.pagenum=i)}if(this._cellscache=new Array,this.dataview.clearsortdata&&this.dataview.clearsortdata(),this.virtualmode)return this.pageable&&(this.dataview.updateview(),this.gotopage&&this.gotopage(0)),this.rendergridcontent(!1,!1),this.showfilterrow&&"string"!=typeof t&&e.isEmptyObject(t)&&this.refreshfilterrow(),this._postrender("filter"),void this._raiseEvent(13,{filters:this.dataview.filters})
this.selectedrowindexes,this.that
if(this.dataview.refresh(),this.dataview.clearsortdata&&this.sortcolumn&&this.sortdirection){var n=this.sortdirection.ascending?"asc":"desc"
this._loading?this.sortby(this.sortcolumn,n,null,!1,!1):this.sortby(this.sortcolumn,n,null,!1)}this.pageable&&(this.dataview.updateview(),this.gotopage&&(this.gotopage(0),this.updatepagerdetails())),this._updaterowsproperties(),!this.groupable||this.groupable&&0==this.groups.length?(this._rowdetailscache=new Array,this.virtualsizeinfo=null,this._pagescache=new Array,this.columns&&this.columns.records&&this.columns.records.length>0&&!this.columns.records[0].filtericon&&(this.prerenderrequired=!0),this.rendergridcontent(!0,!1),this._updatecolumnwidths(),this._updatecellwidths(),this._renderrows(this.virtualsizeinfo),this.showaggregates&&this._updatecolumnsaggregates&&this._updatecolumnsaggregates(),this._postrender("filter")):(this._rowdetailscache=new Array,this._render(!0,!0,!1,!1,!1),this.showfilterrow&&this._updatefocusedfilter(),this._updatecolumnwidths(),this._updatecellwidths(),this._renderrows(this.virtualsizeinfo),this._postrender("filter")),this.showfilterrow&&"string"!=typeof t&&e.isEmptyObject(t)&&this.refreshfilterrow(),this._raiseEvent(13,{filters:this.dataview.filters})},getfilterinformation:function(){for(var e=new Array,t=0;t<this.dataview.filters.length;t++){var i=this.getcolumn(this.dataview.filters[t].datafield)
e[t]={filter:this.dataview.filters[t].filter,datafield:i.datafield,displayfield:i.displayfield,filtercolumn:i.datafield,filtercolumntext:i.text}}return e},clearfilters:function(t){var i=this.that
if(this.showfilterrow&&this.clearfilterrow(),this.columns.records){var n=1==t||!1!==t
e.each(this.columns.records,function(){i.removefilter(this.displayfield,!n)})}!1!==t&&(1!=t&&!1===t||this.applyfilters("clear"))},_destroyfilterpanel:function(){var t=e(e.find("#filterclearbutton"+this.element.id)),i=e(e.find("#filterbutton"+this.element.id)),n=e(e.find("#filter1"+this.element.id)),r=e(e.find("#filter2"+this.element.id)),o=e(e.find("#filter3"+this.element.id)),a=e(e.find(".filtertext1"+this.element.id)),s=e(e.find(".filtertext2"+this.element.id))
a.length>0&&s.length>0&&(a.removeClass(),s.removeClass(),a.remove(),s.remove()),t.length>0&&(t.jqxButton("destroy"),i.jqxButton("destroy"),this.removeHandler(t,"click"),this.removeHandler(i,"click")),n.length>0&&n.jqxDropDownList("destroy"),r.length>0&&r.jqxDropDownList("destroy"),o.length>0&&o.jqxDropDownList("destroy")
n=e(e.find("#filter1"+this.element.id+"ex")),r=e(e.find("#filter2"+this.element.id+"ex")),o=e(e.find("#filter3"+this.element.id+"ex"))
n.length>0&&n.jqxDropDownList("destroy"),r.length>0&&r.jqxDropDownList("destroy"),o.length>0&&o.jqxDropDownList("destroy")},_updatefilterpanel:function(t,i,n){null!=t&&null!=t||(t=this)
var r=t._getcolumntypebydatafield(n),o=t._getfiltersbytype(r)
if(!t.host.jqxDropDownList)throw new Error("jqxGrid: Missing reference to jqxdropdownlist.js.")
t.filterpanel.detach(),t.excelfilterpanel.detach(),n.filterpanel&&n.filterpanel.detach(),e(i).children().detach()
var a=e(t.menuitemsarray[6])
if(e(a).css("height","190px"),n.createfilterpanel&&!n.filterpanel){var s=e("<div class='filter' style='margin-left: 7px;'></div>")
e(i).append(s),n.createfilterpanel(n.displayfield,s),n.filterpanel=s}"list"===n.filtertype||"checkedlist"===n.filtertype?e(i).append(t.excelfilterpanel):"custom"!==n.filtertype?e(i).append(t.filterpanel):n.filterpanel&&e(i).append(n.filterpanel)
var l=e(i),d=l.find("#filterclearbutton"+t.element.id),c=l.find("#filterbutton"+t.element.id),h=l.find(".filter1"),u=l.find(".filter2"),p=l.find(".filter3"),m=l.find(".filtertext1"+t.element.id),f=l.find(".filtertext2"+t.element.id)
if(this._hasdatefilter&&"list"!==n.filtertype&&"checkedlist"!==n.filtertype&&"custom"!==n.filtertype){var g=m.parent(),v=f.parent()
if(g.children().remove(),v.children().remove(),"date"==n.filtertype){t._showwhere.text(t.gridlocalization.filtershowrowdatestring)
var b=e("<div class='filtertext1"+t.element.id+"' style='margin-top: 3px; margin-bottom: 3px;'></div>")
g.append(b),(y=function(e){var i={calendar:t.gridlocalization,todayString:t.gridlocalization.todaystring,clearString:t.gridlocalization.clearstring}
e.jqxDateTimeInput({disabled:t.disabled,firstDayOfWeek:t.gridlocalization.firstDay,localization:i,rtl:t.rtl,width:t._filterpanelwidth-15,height:23,value:null,formatString:n.cellsformat,theme:t.theme})})(b)
b=e("<div class='filtertext2"+t.element.id+"' style='margin-top: 3px; margin-bottom: 3px;'></div>")
v.append(b),y(b)}else{t._showwhere.text(t.gridlocalization.filtershowrowstring)
var y
b=e("<input class='filtertext1"+t.element.id+"' style='height: 23px; margin-top: 3px; margin-bottom: 3px;' type='text'></input>")
g.append(b),(y=function(e){e.addClass(t.toThemeProperty("jqx-input")),e.addClass(t.toThemeProperty("jqx-widget-content")),e.addClass(t.toThemeProperty("jqx-rc-all")),e.width(t._filterpanelwidth-21)})(b)
b=e("<input class='filtertext2"+t.element.id+"' style='height: 23px; margin-top: 3px; margin-bottom: 3px;' type='text'></input>")
v.append(b),y(b)}m=l.find(".filtertext1"+t.element.id),f=l.find(".filtertext2"+t.element.id)}if("date"!=n.filtertype?(m.val(""),f.val("")):(m.val(null),f.val(null)),this.removeHandler(c,"click"),this.addHandler(c,"click",function(){t._buildfilter(t,i,n),t._closemenu()}),this.removeHandler(d,"click"),this.addHandler(d,"click",function(){t._clearfilter(t,i,n),t._closemenu()}),this.removeHandler(c,"keydown"),this.addHandler(c,"keydown",function(e){13===e.keyCode&&(t._buildfilter(t,i,n),t._closemenu())}),this.removeHandler(d,"keydown"),this.addHandler(d,"keydown",function(e){13===e.keyCode&&(t._clearfilter(t,i,n),t._closemenu())}),this.removeHandler(m,"keydown"),this.addHandler(m,"keydown",function(e){13===e.keyCode&&c.trigger("click"),27===e.keyCode&&t._closemenu()}),this.removeHandler(f,"keydown"),this.addHandler(f,"keydown",function(e){13===e.keyCode&&c.trigger("click"),27===e.keyCode&&t._closemenu()}),"default"===this.filtermode&&"list"!==n.filtertype&&"checkedlist"!==n.filtertype&&"custom"!==n.filtertype){if(h.jqxDropDownList("source")!=o&&(h.jqxDropDownList({enableBrowserBoundsDetection:!1,source:o}),p.jqxDropDownList({enableBrowserBoundsDetection:!1,source:o})),"boolean"==r||"bool"==r)h.jqxDropDownList({autoDropDownHeight:!0,selectedIndex:0}),p.jqxDropDownList({autoDropDownHeight:!0,selectedIndex:0})
else{var _=!1
o&&o.length&&o.length<5&&(_=!0),h.jqxDropDownList({autoDropDownHeight:_,selectedIndex:2}),p.jqxDropDownList({autoDropDownHeight:_,selectedIndex:2})}u.jqxDropDownList({selectedIndex:0})
var w=n.filter,x=new e.jqx.filter,C=""
switch(r){case"number":case"int":case"float":case"decimal":C="numericfilter",S=x.getoperatorsbyfiltertype("numericfilter")
break
case"boolean":case"bool":C="booleanfilter",S=x.getoperatorsbyfiltertype("booleanfilter")
break
case"date":case"time":C="datefilter",S=x.getoperatorsbyfiltertype("datefilter")
break
case"string":C="stringfilter",S=x.getoperatorsbyfiltertype("stringfilter")}if(null!=w){g=w.getfilterat(0),v=w.getfilterat(1),w.getoperatorat(0)
if(t.updatefilterconditions){var S=[],T=t.updatefilterconditions(C,S)
if(null!=T){for(var I=0;I<T.length;I++)T[I]=T[I].toUpperCase()
w.setoperatorsbyfiltertype(C,T),S=T}}if(null!=g){var E=S.indexOf(g.comparisonoperator),P=g.filtervalue
m.val(P),h.jqxDropDownList({selectedIndex:E,animationType:"default"})}if(null!=v){var D=S.indexOf(v.comparisonoperator),k=v.filtervalue
f.val(k),p.jqxDropDownList({selectedIndex:D,animationType:"default"})}null==w.getoperatorat(0)?u.jqxDropDownList({selectedIndex:0,animationType:"default"}):"and"==w.getoperatorat(0)||0==w.getoperatorat(0)?u.jqxDropDownList({selectedIndex:0}):u.jqxDropDownList({selectedIndex:1})}t.updatefilterpanel&&t.updatefilterpanel(h,p,u,m,f,c,d,w,C,S),(!this._hasdatefilter||this._hasdatefilter&&"date"!=n.filtertype)&&(this.touchdevice||(m.focus(),setTimeout(function(){m.focus()},10)))}else if("excel"===this.filtermode||"list"===n.filtertype||"checkedlist"===n.filtertype){var A=t._getfilterdataadapter(n),j=(C=t._getfiltertype(r),"excel"===this.filtermode||"checkedlist"===n.filtertype)
if(h.jqxListBox("focus"),this.removeHandler(h,"keyup"),this.addHandler(h,"keyup",function(e){13===e.keyCode&&c.trigger("click"),27===e.keyCode&&t._closemenu()}),n.cellsformat?h.jqxListBox({checkboxes:j,displayMember:n.displayfield,valueMember:n.displayfield+"JQValue",source:A}):h.jqxListBox({checkboxes:j,displayMember:n.displayfield,valueMember:n.displayfield,source:A}),j){h.jqxListBox("insertAt",t.gridlocalization.filterselectallstring,0),(B=h.data().jqxListBox.instance).checkAll(!1)
if(n.filter){B.uncheckAll(!1)
for(var M=n.filter.getfilters(),N=0;N<B.items.length;N++){var q=B.items[N].value
e.each(M,function(){if("NOT_EQUAL"==this.condition){if(q!=this.value)return B.uncheckIndex(N,!1,!1),!1
if(null!=q&&null!=this.value&&q.toString()!=this.value.toString())return B.uncheckIndex(N,!1,!1),!1}else if("EQUAL"==this.condition){if(q==this.value)return B.checkIndex(N,!1,!1),!1
if(null!=q&&null!=this.value&&q.toString()==this.value.toString())return B.checkIndex(N,!1,!1),!1}})}B._updateCheckedItems()
var O=B.getCheckedItems().length
B.items.length!=O&&O>0&&B.host.jqxListBox("indeterminateIndex",0,!0,!1),O===B.items.length-1&&B.host.jqxListBox("checkIndex",0,!0,!1)}}else if(n.filter){var B;(B=h.data().jqxListBox.instance).clearSelection()
for(M=n.filter.getfilters(),N=0;N<B.items.length;N++){q=B.items[N].value
e.each(M,function(){if("NOT_EQUAL"==this.condition){if(q!=this.value)return B.unselectIndex(N,!1,!1),!1}else if("EQUAL"==this.condition&&q==this.value)return B.selectIndex(N,!0,!1),!1})}B._renderItems()}}},_initfilterpanel:function(t,i,n,r,o){null!=t&&null!=t||(t=this),i[0].innerHTML=""
var a=e("<div class='filter' style='margin-left: 7px;'></div>")
i.append(a)
var s=e("<div class='filter' style='margin-top: 3px; margin-bottom: 3px;'></div>")
s.text(t.gridlocalization.filtershowrowstring),this._showwhere=s
var l=o?"ex":"",d=e("<div class='filter filter1' id='filter1"+t.element.id+l+"'></div>"),c=e("<div class='filter filter2' id='filter2"+t.element.id+l+"' style='margin-bottom: 3px;'></div>"),h=e("<div class='filter filter3' id='filter3"+t.element.id+l+"'></div>"),u=t._getcolumntypebydatafield(n)
if(!d.jqxDropDownList)throw new Error("jqxGrid: jqxdropdownlist.js is not loaded.")
var p=t._getfiltersbytype(u)
if(this._hasdatefilter=!1,this._filterpanelwidth=r,this.columns&&this.columns.records){for(var m=0;m<this.columns.records.length;m++)if("date"==this.columns.records[m].filtertype){this._hasdatefilter=!0
break}}else if(this.columns&&!this.columns.records)for(m=0;m<this.columns.length;m++)if("date"==this.columns[m].filtertype){this._hasdatefilter=!0
break}var f=e("<div class='filter'><input class='filtertext1"+t.element.id+"' style='height: 23px; margin-top: 3px; margin-bottom: 3px;' type='text'></input></div>"),g=f.find("input")
g.addClass(this.toThemeProperty("jqx-input")),g.addClass(this.toThemeProperty("jqx-widget-content")),g.addClass(this.toThemeProperty("jqx-rc-all")),g.width(r-21)
var v=e("<div class='filter'><input class='filtertext2"+t.element.id+"' style='height: 23px; margin-top: 3px;' type='text'></input></div>"),b=v.find("input")
b.addClass(this.toThemeProperty("jqx-input")),b.addClass(this.toThemeProperty("jqx-widget-content")),b.addClass(this.toThemeProperty("jqx-rc-all")),b.width(r-21),t.rtl&&(g.css("direction","rtl"),b.css("direction","rtl"))
var y=e("<div class='filter' style='height: 25px; margin-left: 20px; margin-top: 7px;'></div>"),_=e('<span tabIndex=0 id="filterbutton'+t.element.id+'" class="filterbutton" style="padding: 4px 12px; margin-left: 2px;">'+t.gridlocalization.filterstring+"</span>")
y.append(_)
var w=e('<span tabIndex=0 id="filterclearbutton'+t.element.id+'" class="filterclearbutton" style="padding: 4px 12px; margin-left: 5px;">'+t.gridlocalization.filterclearstring+"</span>")
y.append(w),_.jqxButton({height:20,theme:t.theme}),w.jqxButton({height:20,theme:t.theme})
var x=function(e){if(e){if(-1!=e.text().indexOf("case sensitive")){var i=e.text()
i=i.replace("case sensitive","match case"),e.text(i)}return e.css("font-family",t.host.css("font-family")),e.css("font-size",t.host.css("font-size")),e.css("top","2px"),e.css("position","relative"),e}return""}
if("default"!==this.filtermode||o){if("excel"===this.filtermode||o){a.append(s),a.append(d),d.attr("tabindex",0),d.jqxListBox({rtl:t.rtl,_checkForHiddenParent:!1,checkboxes:!0,selectedIndex:2,width:r-15,height:130,theme:t.theme})
var C=!0
t.addHandler(d,"checkChange",function(e){if(C)if(e.args.label!=t.gridlocalization.filterselectallstring){C=!1,d.jqxListBox("checkIndex",0,!0,!1)
var i=d.jqxListBox("getCheckedItems"),n=d.jqxListBox("getItems")
1==i.length?d.jqxListBox("uncheckIndex",0,!0,!1):n.length!=i.length&&d.jqxListBox("indeterminateIndex",0,!0,!1),C=!0}else C=!1,e.args.checked?d.jqxListBox("checkAll",!1):d.jqxListBox("uncheckAll",!1),C=!0})}}else{a.append(s),a.append(d),d.jqxDropDownList({_checkForHiddenParent:!1,autoItemsHeight:!0,rtl:t.rtl,enableBrowserBoundsDetection:!1,selectedIndex:2,width:r-15,height:23,dropDownHeight:150,dropDownWidth:r-15,selectionRenderer:x,source:p,theme:t.theme}),a.append(f)
var S=new Array
S[0]=t.gridlocalization.filterandconditionstring,S[1]=t.gridlocalization.filterorconditionstring,c.jqxDropDownList({_checkForHiddenParent:!1,rtl:t.rtl,enableBrowserBoundsDetection:!1,autoDropDownHeight:!0,selectedIndex:0,width:60,height:23,source:S,selectionRenderer:x,theme:t.theme}),a.append(c),h.jqxDropDownList({_checkForHiddenParent:!1,autoItemsHeight:!0,rtl:t.rtl,enableBrowserBoundsDetection:!1,selectedIndex:2,width:r-15,height:23,dropDownHeight:150,dropDownWidth:r-15,selectionRenderer:x,source:p,theme:t.theme}),a.append(h),a.append(v)}a.append(y),t.updatefilterpanel&&t.updatefilterpanel(d,h,c,f,v,_,w,null,null,p)}})}(jqxBaseFramework)
var Pi=Object.freeze({})
!function(e){e.jqx.dataview.sort=function(){this.sortby=function(t,i,n){var r=Object.prototype.toString
if(null==i)return this.sortdata=null,this.sortcache={},this.grid._pagescache=new Array,this.grid._cellscache=new Array,void this.refresh()
null==i&&(i=!0),i="a"==i||"asc"==i||"ascending"==i||1==i
var o=t
this.sortfield=t,this.sortfielddirection=i?"asc":"desc",null==this.sortcache&&(this.sortcache={}),this.sortdata=[]
var a=[],s=!1
if("constructor"==o&&(o=""),!this.virtualmode&&null!=this.sortcache[o]){var l=this.sortcache[o]
a=l._sortdata,l.direction==i?a.reverse():(!l.direction&&i&&a.reverse(),s=!0),a.length<this.totalrecords&&(this.sortcache={},s=!1,a=[])}Object.prototype.toString="function"==typeof t?t:function(){return this[t]}
var d=this.records,c=(this.that,"")
if(this.source.datafields&&e.each(this.source.datafields,function(){if(this.name==t)return this.type&&(c=this.type),!1}),0==a.length)if(d.length)for(var h=d.length,u=0;u<h;u++){if(null!=(g=d[u])){var p=(v=g).toString()
a.push({sortkey:p,value:v,index:u})}}else{var m=!1
for(var f in d){var g
if(null==(g=d[f])){m=!0
break}var v=g
a.push({sortkey:v.toString(),value:v,index:f})}m&&e.each(d,function(e,t){a.push({sortkey:t.toString(),value:t,index:e})})}if(!s)if(null==n){this._sortcolumntype=c
var b=this
a.sort(function(e,t){return b._compare(e,t,c)})}else a.sort(n)
i||a.reverse(),Object.prototype.toString=r,this.sortdata=a,this.sortcache[o]={_sortdata:a,direction:i},this.reload(this.records,this.rows,this.filters,this.updated,!0)},this.clearsortdata=function(){this.sortcache={},this.sortdata=null},this._compare=function(t,i,n){if(void 0===(t=t.sortkey)&&(t=null),void 0===(i=i.sortkey)&&(i=null),null===t&&null===i)return 0
if(null===t&&null!==i)return-1
if(null!==t&&null===i)return 1
if(e.jqx.dataFormat)if(n&&""!=n)switch(n){case"number":case"int":case"float":return t<i?-1:t>i?1:0
case"date":case"time":return t<i?-1:t>i?1:0
case"string":case"text":t=String(t).toLowerCase(),i=String(i).toLowerCase()}else{if(e.jqx.dataFormat.isNumber(t)&&e.jqx.dataFormat.isNumber(i))return t<i?-1:t>i?1:0
if(e.jqx.dataFormat.isDate(t)&&e.jqx.dataFormat.isDate(i))return t<i?-1:t>i?1:0
e.jqx.dataFormat.isNumber(t)||e.jqx.dataFormat.isNumber(i)||(t=String(t).toLowerCase(),i=String(i).toLowerCase())}try{if(t<i)return-1
if(t>i)return 1}catch(e){}return 0},this._equals=function(e,t){return 0===this._compare(e,t)}},e.extend(e.jqx._jqxGrid.prototype,{_rendersortcolumn:function(){var t=this.that,i=this.getsortcolumn()
if(this.sortdirection){var n=function(i,n){var r=t.getcolumn(i)
r&&(n.ascending?e.jqx.aria(r.element,"aria-sort","ascending"):n.descending?e.jqx.aria(r.element,"aria-sort","descending"):e.jqx.aria(r.element,"aria-sort","none"))}
this._oldsortinfo&&this._oldsortinfo.column&&n(this._oldsortinfo.column,{ascending:!1,descending:!1}),n(i,this.sortdirection)}this._oldsortinfo={column:i,direction:this.sortdirection},this.sortdirection&&e.each(this.columns.records,function(n,r){var o=e.data(document.body,"groupsortelements"+this.displayfield)
null==i||this.displayfield!=i?(e(this.sortasc).hide(),e(this.sortdesc).hide(),null!=o&&(o.sortasc.hide(),o.sortdesc.hide())):t.sortdirection.ascending?(e(this.sortasc).show(),e(this.sortdesc).hide(),null!=o&&(o.sortasc.show(),o.sortdesc.hide())):(e(this.sortasc).hide(),e(this.sortdesc).show(),null!=o&&(o.sortasc.hide(),o.sortdesc.show()))})},getsortcolumn:function(){return null!=this.sortcolumn?this.sortcolumn:null},removesort:function(){this.sortby(null)},sortby:function(e,t,i,n,r){if(this._loading&&!1!==r)throw new Error("jqxGrid: "+this.loadingerrormessage)
if(null==e&&(t=null,e=this.sortcolumn),null!=e){var o,a=this.that
if(null==i&&null!=a.source.sortcomparer&&(i=a.source.sortcomparer),o="a"==t||"asc"==t||"ascending"==t||1==t,a.sortdirection=null!=t?{ascending:o,descending:!o}:{ascending:!1,descending:!1},a.sortcolumn=null!=t?e:null,a.source.sort||a.virtualmode){if(a.dataview.sortfield=e,a.dataview.sortfielddirection=null==t?"":o?"asc":"desc",a.source.sort&&!this._loading)return a.source.sort(e,t),void a._raiseEvent(6,{sortinformation:a.getsortinformation()})}else a.dataview.sortby(e,t,i)
if(!1===n)return
a.groupable&&a.groups.length>0?(a._render(!0,!1,!1),a._updategroupheadersbounds&&a.showgroupsheader&&a._updategroupheadersbounds(),a._postrender("sort")):(a.pageable&&a.dataview.updateview(),a._updaterowsproperties(),a.rendergridcontent(!0),a._postrender("sort")),a._raiseEvent(6,{sortinformation:a.getsortinformation()})}},_togglesort:function(e){var t=this.that
if(!this.disabled&&e.sortable&&t.sortable){var i=t.getsortinformation(),n=null
null!=i.sortcolumn&&i.sortcolumn==e.displayfield?(n=i.sortdirection.ascending,n=t.sorttogglestates>1?1!=n&&null:!n):n=!0,t.sortby(e.displayfield,n,null)}}})}(jqxBaseFramework)
var Di=Object.freeze({})
!function(e){e.extend(e.jqx._jqxGrid.prototype,{_initpager:function(){var t=this.that,i=this.gridlocalization.pagergotopagestring,n=(this.gridlocalization.pagerrangestring,this.gridlocalization.pagershowrowsstring),r=(this.pagerheight-20)/2
if(this.pagerdiv=this.pagerdiv||e('<div style="line-height: 20px; width: 100%; height: 100%; position: relative;"></div>'),!this.pageable)return this.pagerdiv.remove(),void this.vScrollBar.jqxScrollBar({thumbSize:0})
if(this.pagerrenderer){this.pagerdiv.children().remove()
var o=this.pagerrenderer()
null!=o&&this.pagerdiv.append(e(o)),this.pager.append(this.pagerdiv)}else{if(this.pagerdiv.css("top",r),this.pager.append(this.pagerdiv),this.pagergotoinput=this.pagergotoinput||e('<div style="margin-right: 12px; width: 27px; height: 20px; float: right;"><input style="margin-top: 0px; text-align: right; height:20px; width: 27px;" type="text"/></div>'),this.pagergoto=this.pagergoto||e('<div style="float: right; margin-right: 7px;"></div>'),this.pagerrightbutton=this.pagerrightbutton||e('<div type="button" style="padding: 0px; margin-top: 0px; margin-right: 3px; height:20px; width: 27px; float: right;"></div>'),this.pagerleftbutton=this.pagerleftbutton||e('<div type="button" style="padding: 0px; margin-top: 0px; margin-right: 3px; height:20px; width: 27px; float: right;"></div>'),this.pagerdetails=this.pagerdetails||e('<div style="margin-right: 7px; float: right;"></div>'),this.pagershowrows=this.pagershowrows||e('<div style="margin-right: 7px; float: right;"></div>'),this.pagerbuttons=e('<div style="margin-right: 3px; float: right;"></div>'),this.pagershowrowscombo&&this.pagershowrowscombo.jqxDropDownList&&(this.pagershowrowscombo.remove(),this.pagershowrowscombo=null),this.pagergotoinput.attr("disabled",this.disabled),this.pagerfirstbutton=e('<div type="button" style="padding: 0px; margin-top: 0px; margin-left: 3px; margin-right: 3px; width: 27px; float: right;"></div>'),this.pagerlastbutton=e('<div type="button" style="padding: 0px; margin-top: 0px; margin-right: 3px; width: 27px; float: right;"></div>'),this.pagershowrowscombo=this.pagershowrowscombo||e('<div id="gridpagerlist" style="margin-top: 0px; margin-right: 7px; float: right;"></div>'),this.pagerdiv.children().remove(),this.pagershowrowscombo[0].id="gridpagerlist"+this.element.id,this.removeHandler(this.pagerrightbutton,"mousedown"),this.removeHandler(this.pagerrightbutton,"mouseup"),this.removeHandler(this.pagerrightbutton,"click"),this.removeHandler(this.pagerleftbutton,"mousedown"),this.removeHandler(this.pagerleftbutton,"mouseup"),this.removeHandler(this.pagerleftbutton,"click"),this.removeHandler(this.pagerfirstbutton,"mousedown"),this.removeHandler(this.pagerfirstbutton,"mouseup"),this.removeHandler(this.pagerfirstbutton,"click"),this.removeHandler(this.pagerlastbutton,"mousedown"),this.removeHandler(this.pagerlastbutton,"mouseup"),this.removeHandler(this.pagerlastbutton,"click"),this.pagerleftbutton.attr("title",this.gridlocalization.pagerpreviousbuttonstring),this.pagerrightbutton.attr("title",this.gridlocalization.pagernextbuttonstring),"simple"==this.pagermode){e.jqx.browser.msie&&e.jqx.browser.version<8&&(this.pagerbuttons.css("overflow","visible"),this.pagerbuttons.css("padding","3px")),this.pagerfirstbutton.attr("title",this.gridlocalization.pagerfirstbuttonstring),this.pagerlastbutton.attr("title",this.gridlocalization.pagerlastbuttonstring)
var a=e("<div style='margin-left: 6px; width: 15px; height: 20px;'></div>")
a.addClass(this.toThemeProperty("jqx-icon-arrow-first")),this.pagerfirstbutton.wrapInner(a)
var s=e("<div style='margin-left: 6px; width: 15px; height: 20px;'></div>")
s.addClass(this.toThemeProperty("jqx-icon-arrow-last")),this.pagerlastbutton.wrapInner(s),this.rtl?(this.pagerdiv.append(this.pagerlastbutton),this.pagerdiv.append(this.pagerrightbutton),this.pagerdiv.append(this.pagerbuttons),this.pagerdiv.append(this.pagerleftbutton),this.pagerdiv.append(this.pagerfirstbutton)):(this.pagerdiv.append(this.pagerfirstbutton),this.pagerdiv.append(this.pagerleftbutton),this.pagerdiv.append(this.pagerbuttons),this.pagerdiv.append(this.pagerrightbutton),this.pagerdiv.append(this.pagerlastbutton)),this.pagerlastbutton.jqxButton({cursor:"pointer",disabled:this.disabled,theme:this.theme}),this.pagerfirstbutton.jqxButton({cursor:"pointer",disabled:this.disabled,theme:this.theme})
var l=this.rtl?"right":"left"
this.pagerbuttons.css("float",l),this.pagerlastbutton.css("float",l),this.pagerfirstbutton.css("float",l),this.pagerrightbutton.css("float",l),this.pagerleftbutton.css("float",l),this.pagerdetails.css("float",this.rtl?"left":"right"),this.rtl?(this.pagerdetails.css("margin-left","7px"),this.pagerdetails.css("margin-right","0px")):(this.pagerdetails.css("margin-left","0px"),this.pagerdetails.css("margin-right","7px")),this.pagergotoinput.hide(),this.pagershowrowscombo.hide(),this.pagergoto.hide(),this.pagershowrows.hide()}else this.pagergotoinput.show(),this.pagershowrowscombo.show(),this.pagergoto.show(),this.pagershowrows.show(),this.rtl||(this.pagerdiv.append(this.pagerrightbutton),this.pagerdiv.append(this.pagerleftbutton))
this.pagerrightbutton.jqxButton({cursor:"pointer",disabled:this.disabled,theme:this.theme}),this.pagerleftbutton.jqxButton({cursor:"pointer",disabled:this.disabled,theme:this.theme}),this.pagerleftbutton.find(".jqx-icon-arrow-left").remove(),this.pagerrightbutton.find(".jqx-icon-arrow-right").remove()
var d=e("<div style='margin-left: 6px; width: 15px; height: 20px;'></div>")
d.addClass(this.toThemeProperty("jqx-icon-arrow-left")),this.pagerleftbutton.wrapInner(d)
var c=e("<div style='margin-left: 6px; width: 15px; height: 20px;'></div>")
c.addClass(this.toThemeProperty("jqx-icon-arrow-right")),this.pagerrightbutton.wrapInner(c),this.pagerdiv.append(this.pagerdetails),"simple"!=this.pagermode&&(this.rtl?(this.pagerdiv.append(this.pagergoto),this.pagerdiv.append(this.pagergotoinput),this.pagerdiv.append(this.pagershowrows),this.pagerdiv.append(this.pagershowrowscombo),this.pagerdiv.append(this.pagerdetails),this.pagerdiv.append(this.pagerrightbutton),this.pagerdiv.append(this.pagerleftbutton)):(this.pagerdiv.append(this.pagershowrowscombo),this.pagerdiv.append(this.pagershowrows),this.pagerdiv.append(this.pagergotoinput),this.pagerdiv.append(this.pagergoto)))
var h=this.pagesizeoptions
if(!this.pagershowrowscombo.jqxDropDownList)throw new Error("jqxGrid: jqxdropdownlist.js is not loaded.")
this.pagershowrowscombo.jqxDropDownList({rtl:this.rtl,disabled:this.disabled,source:h,enableBrowserBoundsDetection:!0,keyboardSelection:!1,autoDropDownHeight:!0,width:"auto",height:20,theme:this.theme})
for(var u=0,p=0;p<h.length;p++)this.pagesize>=h[p]&&(u=p)
this.pagershowrows[0].innerHTML=n,this.pagergoto[0].innerHTML=i,this.updatepagerdetails(),this.pagershowrowscombo.jqxDropDownList({selectedIndex:u}),this.pagerpageinput=this.pagergotoinput.find("input"),this.pagerpageinput.addClass(this.toThemeProperty("jqx-input")),this.pagerpageinput.addClass(this.toThemeProperty("jqx-widget-content")),this.rtl&&this.pagerpageinput.css("direction","rtl")
t=this.that
this.removeHandler(this.pagershowrowscombo,"select"),this.addHandler(this.pagershowrowscombo,"select",function(e){if(e.args){t.vScrollInstance&&t.vScrollInstance.setPosition(0),null!=t.editcell&&t.endcelledit&&t.endcelledit(t.editcell.row,t.editcell.column,!0,!1)
var i=e.args.index,n=t.dataview.pagenum*t.dataview.pagesize,r=h[i],o=t.pagesize
t.pagesize=parseInt(r),isNaN(t.pagesize)&&(t.pagesize=10),r>=100?t.pagershowrowscombo.jqxDropDownList({width:"auto"}):t.pagershowrowscombo.jqxDropDownList({width:44}),t.dataview.pagesize=t.pagesize
var a=Math.floor(n/t.dataview.pagesize)
t.prerenderrequired=!0,t._requiresupdate=!0,t._raiseEvent(10,{pagenum:a,oldpagesize:o,pagesize:t.dataview.pagesize}),t.gotopage(a),t.autoheight&&t._updatesizeonwindowresize&&(t._updatesize(!0),setTimeout(function(){t._updatesize(!0)},500))}})
var m=this.pagergotoinput.find("input")
m.addClass(this.toThemeProperty("jqx-grid-pager-input")),m.addClass(this.toThemeProperty("jqx-rc-all")),this.removeHandler(m,"keydown"),this.removeHandler(m,"change"),this.addHandler(m,"keydown",function(e){if(e.keyCode>=65&&e.keyCode<=90)return!1
if("13"==e.keyCode){var i=m.val()
return i=parseInt(i),isNaN(i)||t.gotopage(i-1),!1}}),this.addHandler(m,"change",function(){var e=m.val()
e=parseInt(e),isNaN(e)||t.gotopage(e-1)}),this.addHandler(this.pagerrightbutton,"mouseenter",function(){c.addClass(t.toThemeProperty("jqx-icon-arrow-right-hover"))}),this.addHandler(this.pagerleftbutton,"mouseenter",function(){d.addClass(t.toThemeProperty("jqx-icon-arrow-left-hover"))}),this.addHandler(this.pagerrightbutton,"mouseleave",function(){c.removeClass(t.toThemeProperty("jqx-icon-arrow-right-hover"))}),this.addHandler(this.pagerleftbutton,"mouseleave",function(){d.removeClass(t.toThemeProperty("jqx-icon-arrow-left-hover"))}),this.addHandler(this.pagerrightbutton,"mousedown",function(){c.addClass(t.toThemeProperty("jqx-icon-arrow-right-selected"))}),this.addHandler(this.pagerrightbutton,"mouseup",function(){c.removeClass(t.toThemeProperty("jqx-icon-arrow-right-selected"))}),this.addHandler(this.pagerleftbutton,"mousedown",function(){d.addClass(t.toThemeProperty("jqx-icon-arrow-left-selected"))}),this.addHandler(this.pagerleftbutton,"mouseup",function(){d.removeClass(t.toThemeProperty("jqx-icon-arrow-left-selected"))}),this.addHandler(e(document),"mouseup.pagerbuttons"+this.element.id,function(){c.removeClass(t.toThemeProperty("jqx-icon-arrow-right-selected")),d.removeClass(t.toThemeProperty("jqx-icon-arrow-left-selected"))}),this.addHandler(this.pagerrightbutton,"click",function(){t.pagerrightbutton.jqxButton("disabled")||(t.rtl?t.gotoprevpage():t.gotonextpage())}),this.addHandler(this.pagerleftbutton,"click",function(){t.pagerleftbutton.jqxButton("disabled")||(t.rtl?t.gotonextpage():t.gotoprevpage())})
var f=this
if("simple"===this.pagermode){var g=this.pagerfirstbutton,v=this.pagerlastbutton
this.addHandler(v,"mouseenter",function(){s.addClass(f.toThemeProperty("jqx-icon-arrow-last-hover"))}),this.addHandler(g,"mouseenter",function(){a.addClass(f.toThemeProperty("jqx-icon-arrow-first-hover"))}),this.addHandler(v,"mouseleave",function(){s.removeClass(f.toThemeProperty("jqx-icon-arrow-last-hover"))}),this.addHandler(g,"mouseleave",function(){a.removeClass(f.toThemeProperty("jqx-icon-arrow-first-hover"))}),this.addHandler(v,"mousedown",function(){s.addClass(f.toThemeProperty("jqx-icon-arrow-last-selected"))}),this.addHandler(g,"mousedown",function(){a.addClass(f.toThemeProperty("jqx-icon-arrow-first-selected"))}),this.addHandler(v,"mouseup",function(){s.removeClass(f.toThemeProperty("jqx-icon-arrow-last-selected"))}),this.addHandler(g,"mouseup",function(){a.removeClass(f.toThemeProperty("jqx-icon-arrow-first-selected"))}),this.addHandler(e(document),"mouseup.pagerbuttons"+name+this.element.id,function(){c.removeClass(f.toThemeProperty("jqx-icon-arrow-right-selected")),d.removeClass(f.toThemeProperty("jqx-icon-arrow-left-selected")),s&&(s.removeClass(f.toThemeProperty("jqx-icon-arrow-last-selected")),a.removeClass(f.toThemeProperty("jqx-icon-arrow-first-selected")))}),this.addHandler(g,"click",function(){if(!g.jqxButton("disabled"))if(f.rtl){var e=f.dataview.totalrecords,t=Math.ceil(e/f.pagesize)
f.gotopage(t-1)}else f.gotopage(0)}),this.addHandler(v,"click",function(){if(!v.jqxButton("disabled"))if(f.rtl)f.gotopage(0)
else{var e=f.dataview.totalrecords,t=Math.ceil(e/f.pagesize)
f.gotopage(t-1)}})}}this.vScrollBar.jqxScrollBar("refresh"),this._arrange()},_updatepagertheme:function(){if(null!=this.pagershowrowscombo){this.pagershowrowscombo.jqxDropDownList({theme:this.theme}),this.pagerrightbutton.jqxButton({theme:this.theme}),this.pagerleftbutton.jqxButton({theme:this.theme}),this.pagerpageinput.removeClass()
var t=this.pagergotoinput.find("input")
t.removeClass(),t.addClass(this.toThemeProperty("jqx-grid-pager-input")),t.addClass(this.toThemeProperty("jqx-rc-all")),this.pagerpageinput.addClass(this.toThemeProperty("jqx-input")),this.pagerpageinput.addClass(this.toThemeProperty("jqx-widget-content")),this.pagerleftbutton.find(".jqx-icon-arrow-left").remove(),this.pagerrightbutton.find(".jqx-icon-arrow-right").remove()
var i=e("<div style='margin-left: 6px; width: 15px; height: 15px;'></div>")
i.addClass(this.toThemeProperty("jqx-icon-arrow-left")),this.pagerleftbutton.wrapInner(i)
var n=e("<div style='margin-left: 6px; width: 15px; height: 15px;'></div>")
if(n.addClass(this.toThemeProperty("jqx-icon-arrow-right")),this.pagerrightbutton.wrapInner(n),"simple"==this.pagermode){e.jqx.browser.msie&&e.jqx.browser.version<8&&(this.pagerbuttons.css("overflow","visible"),this.pagerbuttons.css("padding","3px")),this.pagerfirstbutton.attr("title",this.gridlocalization.pagerfirstbuttonstring),this.pagerlastbutton.attr("title",this.gridlocalization.pagerlastbuttonstring)
var r=e("<div style='margin-left: 6px; width: 15px; height: 15px;'></div>")
r.addClass(this.toThemeProperty("jqx-icon-arrow-first")),this.pagerfirstbutton.wrapInner(r)
var o=e("<div style='margin-left: 6px; width: 15px; height: 15px;'></div>")
o.addClass(this.toThemeProperty("jqx-icon-arrow-last")),this.pagerlastbutton.wrapInner(o),this.pagerdiv.append(this.pagerfirstbutton),this.pagerdiv.append(this.pagerleftbutton),this.pagerdiv.append(this.pagerbuttons),this.pagerdiv.append(this.pagerrightbutton),this.pagerdiv.append(this.pagerlastbutton),this.pagerlastbutton.jqxButton({cursor:"pointer",disabled:this.disabled,theme:this.theme}),this.pagerfirstbutton.jqxButton({cursor:"pointer",disabled:this.disabled,theme:this.theme}),this.pagerbuttons.css("float","left"),this.pagerlastbutton.css("float","left"),this.pagerfirstbutton.css("float","left"),this.pagerrightbutton.css("float","left"),this.pagerleftbutton.css("float","left"),this.pagergotoinput.hide(),this.pagershowrowscombo.hide(),this.pagergoto.hide(),this.pagershowrows.hide()}else this.pagergotoinput.show(),this.pagershowrowscombo.show(),this.pagergoto.show(),this.pagershowrows.show()
var a=function(e,t){e.removeHandler(t,"mouseenter"),e.removeHandler(t,"mouseleave"),e.removeHandler(t,"mousedown"),e.removeHandler(t,"mouseup")}
a(this,this.pagerrightbutton),a(this,this.pagerleftbutton)
var s=this.that
this.addHandler(this.pagerrightbutton,"mouseenter",function(){n.addClass(s.toThemeProperty("jqx-icon-arrow-right-hover"))}),this.addHandler(this.pagerleftbutton,"mouseenter",function(){i.addClass(s.toThemeProperty("jqx-icon-arrow-left-hover"))}),this.addHandler(this.pagerrightbutton,"mouseleave",function(){n.removeClass(s.toThemeProperty("jqx-icon-arrow-right-hover"))}),this.addHandler(this.pagerleftbutton,"mouseleave",function(){i.removeClass(s.toThemeProperty("jqx-icon-arrow-left-hover"))}),this.addHandler(this.pagerrightbutton,"mousedown",function(){n.addClass(s.toThemeProperty("jqx-icon-arrow-right-selected"))}),this.addHandler(this.pagerrightbutton,"mouseup",function(){n.removeClass(s.toThemeProperty("jqx-icon-arrow-right-selected"))}),this.addHandler(this.pagerleftbutton,"mousedown",function(){i.addClass(s.toThemeProperty("jqx-icon-arrow-left-selected"))}),this.addHandler(this.pagerleftbutton,"mouseup",function(){i.removeClass(s.toThemeProperty("jqx-icon-arrow-left-selected"))})}},gotopage:function(e){if(null!=e&&null!=e||(e=0),-1==e&&(e=0),!(e<0)){var t=this.dataview.totalrecords
this.summaryrows&&(t+=this.summaryrows.length)
var i=this.pagenum
this._raiseEvent(25,{oldpagenum:this.dataview.pagenum,pagenum:e,pagesize:this.dataview.pagesize})
var n=Math.ceil(t/this.pagesize)
if(e>=n&&(0==this.dataview.totalrecords&&(this.dataview.pagenum=0,this.updatepagerdetails()),e>0&&(e=n-1),e<0&&(e=0)),(this.dataview.pagenum!=e||this._requiresupdate)&&this.pageable){if(this.source.pager&&this.source.pager(e,this.dataview.pagesize,this.dataview.pagenum),this.dataview.pagenum=e,this.virtualmode){if(this.hiddens=new Array,this.expandedgroups=new Array,this.rendergridrows){var r=e*this.dataview.pagesize,o=r+this.dataview.pagesize
if(null!=r&&null!=o)return this.pagerrightbutton&&(this.pagerrightbutton.jqxButton({disabled:!0}),this.pagerleftbutton.jqxButton({disabled:!0}),this.pagershowrowscombo.jqxDropDownList({disabled:!0})),this.pagerfirstbutton&&(this.pagerfirstbutton.jqxButton({disabled:!0}),this.pagerlastbutton.jqxButton({disabled:!0})),this.updatebounddata("pagechanged"),this._raiseEvent(9,{pagenum:e,oldpagenum:i,pagesize:this.dataview.pagesize}),this.updatepagerdetails(),void(this.autosavestate&&this.savestate&&this.savestate())}}else this.dataview.updateview()
if(this._loadrows(),this._updatepageviews(),this.tableheight=null,this._updatecolumnwidths(),this._updatecellwidths(),this._renderrows(this.virtualsizeinfo),this.updatepagerdetails(),this.autoheight||this.autorowheight)this.host.height()-this._gettableheight()+this._pageviews[0].height!=this.host.height()&&(this._arrange(),this._updatepageviews(),this.autorowheight&&this._renderrows(this.virtualsizeinfo))
null!=this.editcell&&this.endcelledit&&this.endcelledit(this.editcell.row,this.editcell.column,!1,!1),this.focus(),this._raiseEvent(9,{pagenum:e,oldpagenum:i,pagesize:this.dataview.pagesize}),this.autosavestate&&this.savestate&&this.savestate()}}},gotoprevpage:function(){if(this.dataview.pagenum>0)this.gotopage(this.dataview.pagenum-1)
else if("simple"!=this.pagermode){var e=this.dataview.totalrecords
this.summaryrows&&(e+=this.summaryrows.length)
var t=Math.ceil(e/this.pagesize)
this.gotopage(t-1)}},gotonextpage:function(){var e=this.dataview.totalrecords
this.summaryrows&&(e+=this.summaryrows.length)
var t=Math.ceil(e/this.pagesize)
this.dataview.pagenum<t-1?this.gotopage(this.dataview.pagenum+1):"simple"!=this.pagermode&&this.gotopage(0)},updatepagerdetails:function(){if(null!=this.pagerdetails&&this.pagerdetails.length>0){var t=this.dataview.pagenum*this.pagesize,i=(this.dataview.pagenum+1)*this.pagesize
i>=this.dataview.totalrecords&&(i=this.dataview.totalrecords)
var n=this.dataview.totalrecords
this.summaryrows&&(n+=this.summaryrows.length,(this.dataview.pagenum+1)*this.pagesize>this.dataview.totalrecords&&(i=n)),t++
var r=Math.ceil(n/this.dataview.pagesize)
if(r>=1&&r--,r++,"simple"!==this.pagermode){this.pagergotoinput.find("input").val(this.dataview.pagenum+1)}else{var o="",a=this.pagerbuttonscount
0!=a&&a||(a=5)
var s=0
for(this.rtl&&(s=a-1);this.rtl&&s>=0||!this.rtl&&s<a;){var l=1+s,d=this.dataview.pagenum/a
l+=Math.floor(d)*a
var c=this.toTP("jqx-grid-pager-number")
if(c+=" "+this.toTP("jqx-rc-all"),l>r)break
if(this.rtl||0==s&&l>a&&(o+="<a class='"+c+"' tabindex=-1 href='javascript:;' data-page='"+(-1+l)+"'>...</a>"),this.dataview.pagenum===l-1&&(c+=" "+this.toTP("jqx-fill-state-pressed")),this.rtl){if(s===a-1){c=this.toTP("jqx-grid-pager-number")
c+=" "+this.toTP("jqx-rc-all"),r>=1+l&&(o+="<a class='"+c+"' tabindex=-1 href='javascript:;' data-page='"+(1+l)+"'>...</a>")}this.dataview.pagenum===l-1&&(c+=" "+this.toTP("jqx-fill-state-pressed")),o+="<a class='"+c+"' tabindex=-1 href='javascript:;' data-page='"+l+"'>"+l+"</a>"}else if(o+="<a class='"+c+"' tabindex=-1 href='javascript:;' data-page='"+l+"'>"+l+"</a>",s===a-1){var c=this.toTP("jqx-grid-pager-number")
c+=" "+this.toTP("jqx-rc-all"),r>=1+l&&(o+="<a class='"+c+"' tabindex=-1 href='javascript:;' data-page='"+(1+l)+"'>...</a>")}if(this.rtl){c=this.toTP("jqx-grid-pager-number")
c+=" "+this.toTP("jqx-rc-all"),0==s&&l>a&&(o+="<a class='"+c+"' tabindex=-1 href='javascript:;' data-page='"+(-1+l)+"'>...</a>")}this.rtl?s--:s++}var h=this.pagerbuttons.find("a")
this.removeHandler(h,"click"),this.removeHandler(h,"mouseenter"),this.removeHandler(h,"mouseleave"),this.pagerbuttons[0].innerHTML=o
var u=this
h=this.pagerbuttons.find("a")
u.addHandler(h,"click",function(t){var i=e(t.target).attr("data-page")
return u.gotopage(parseInt(i)-1),!1}),u.addHandler(h,"mouseenter",function(t){e(t.target).addClass(u.toTP("jqx-fill-state-hover"))}),u.addHandler(h,"mouseleave",function(t){e(t.target).removeClass(u.toTP("jqx-fill-state-hover"))})}this.pagergotoinput.attr("title","1 - "+r),0==i&&i<t&&(t=0),this.rtl?this.pagerdetails[0].innerHTML=n+this.gridlocalization.pagerrangestring+i+"-"+t:this.pagerdetails[0].innerHTML=t+"-"+i+this.gridlocalization.pagerrangestring+n,t>i&&this.gotoprevpage()}},_updatepagedview:function(e,t,i){var n=this.that
this.dataview.rows.length!=this.dataview.pagesize&&this.dataview.updateview()
for(var r=this.dataview.rows.length,o=0;o<r;o++){var a=this.dataview.rows[o].visibleindex,s={index:a,height:this.heights[a],hidden:this.hiddens[a],details:this.details[a]}
if(null==this.heights[a]&&(this.heights[a]=this.rowsheight,s.height=this.rowsheight),null==this.hiddens[a]&&(this.hiddens[a]=!1,s.hidden=!1),null==this.details[a]&&(this.details[a]=null),s.height!=n.rowsheight&&(t-=n.rowsheight,t+=s.height),s.hidden)t-=s.height
else{i+=s.height
var l=0
this.rowdetails&&s.details&&s.details.rowdetails&&!s.details.rowdetailshidden&&(i+=l=s.details.rowdetailsheight,t+=l)}}return this._pageviews[0]={top:0,height:i},t}})}(jqxBaseFramework)
var ki=Object.freeze({})
!function(e){e.jqx.dataview.grouping=function(){this.loadgrouprecords=function(t,i,n,r,o,a,s,l,d){for(var c=t,h=new Array,u=0;u<this.groups.length;u++)h[u]=this.generatekey()
var p=new Array,m=0,f=(h=h,new Array),g=i,v=this.groups.length
this.loadedrecords=new Array,this.bounditems=new Array,this.loadedrecords=new Array,this.loadedrootgroups=new Array,this.loadedgroups=new Array,this.loadedgroupsByKey=new Array,this.sortedgroups=new Array
var b=null!=this.sortdata,y=b?this.sortdata:this.records
if(this.pageable){var _=new Array,w=0
y[i]||(e.each(y,function(e,t){_[i+e++]=this}),y=_)}if(this.virtualmode){for(_=new Array,w=0,g=0;g<n-i;g++)y[g]?_[i+w++]=y[g]:y[i+w]&&(_[i+w]=y[i+w],w++)
g=0,y=_}for(var x=i;x<n;x++){var C={},S=(C=b?e.extend({},y[x].value):e.extend({},y[x]))[this.uniqueId];(o>=l||S!=s[o][this.uniqueId]||a&&a[S])&&(d[d.length]=o)
var T=new Array,I=0
for(u=0;u<v;u++){var E=C[O=this.groups[u]]
null==E&&(E=""),T[I++]={value:E,hash:h[u]}}if(T.length!=v)break
for(var P=null,D="",k=0;k<T.length;k++){0
var A=T[k].value
if(null==f[D=D+"_"+T[k].hash+"_"+A]||null==f[D]){if(null==P)P={group:A,subItems:new Array,subGroups:new Array,level:0},p[m++]=P,P.uniqueid=this.generatekey(),this.loadedgroupsByKey[A]=P
else{var j={group:A,subItems:new Array,subGroups:new Array,parentItem:P,level:P.level+1}
this.loadedgroupsByKey[P.uniqueid+"_"+A]=j,j.uniqueid=this.generatekey(),P.subGroups[P.subGroups.length++]=j,P=j}f[D]=P}else P=f[D]}null!=P?(null==C.uid&&(C.uid=this.getid(this.source.id,C,g)),b?(C.boundindex=y[x].index,this.recordsbyid["id"+C.uid]=y[x].value):(C.boundindex=g,this.recordsbyid["id"+C.uid]=y[x]),this.bounditems[C.boundindex]=C,this.sortedgroups[g]=C,C.uniqueid=this.generatekey(),C.parentItem=P,C.level=P.level+1,P.subItems[P.subItems.length++]=C):(null==C.uid&&(C.uid=this.getid(this.source.id,C,g)),b?(C.boundindex=y[x].index,this.recordsbyid["id"+C.uid]=y[x].value):(C.boundindex=g,this.recordsbyid["id"+C.uid]=y[x]),this.sortedgroups[g]=C,this.bounditems[C.boundindex]=C,C.uniqueid=this.generatekey()),o++,g++,0}var M=function(e,i,n){for(var r=0;r<i.subItems.length;r++)i.subItems[r].visibleindex=t+n,e.rows[n]=i.subItems[r],e.loadedrecords[n]=i.subItems[r],n++
return n},N=function(e,i,n){var r=1,o=e.grid.columns.records?e.grid.columns.records:e.grid.columns
if(1==e.aggregates)for(var a=0;a<o.length;a++)o[a].aggregates&&(r=Math.max(r,o[a].aggregates.length))
for(var s in i.subGroups){var l=i.subGroups[s]
l.subGroups&&(e.loadedgroups[e.loadedgroups.length]=l,l.visibleindex=t+n,e.rows[n]=l,e.loadedrecords[n]=l,n++,l.subGroups.length>0?n=N(e,l,n):l.subItems.length>0&&(n=M(e,l,n)))}return i.subItems.length>0&&(n=M(e,i,n)),function(i){if(1==e.aggregates)for(var a=function(r){var a=i,s={},l=function(t){for(var i=0;i<o.length;i++)if(o[i].aggregates)for(var n=e.grid.getcolumnaggregateddata(o[i].datafield,o[i].aggregates,!0,t),a=0;a<o[i].aggregates.length;a++)if(o[i].aggregates[r]){var l=o[i],d=o[i].aggregates[r],c=d,h=(c=e.grid._getaggregatename(c))+":"+n[d]
s[l.datafield]=h}}
if(null!=a)if(s.level=a.level,s.visibleindex=t+n,s.uniqueid=e.generatekey(),e.rows[n]=s,e.loadedrecords[n++]=s,s.totalsrow=!0,i.subItems.length>0){a=i.subItems[i.subItems.length-1],s.parentItem=a.parentItem,s.parentItem.subItems&&(s.parentItem.subItems[s.parentItem.subItems.length]=s)
var d=[];(c=function(){for(var e=0;e<i.subItems.length;e++)i.subItems[e].totalsrow||(d[d.length]=i.subItems[e])})(i),l(d)}else if(i.subGroups.length>0){var c
a=i.subGroups[i.subGroups.length-1],s.level=a.level,s.parentItem=i,i.subGroups[i.subGroups.length]=s,d=[],(c=function(e){if(!e.totalsrow){for(var t=0;t<e.subItems.length;t++)e.subItems[t].totalsrow||(d[d.length]=e.subItems[t])
for(t=0;t<e.subGroups.length;t++)c(e.subGroups[t])}})(i),l(d)}},s=0;s<r;s++)a(s)}(i),n},q=p.length
this.loadedgroups=new Array,this.rows=new Array
for(c=0,g=0;g<q;g++){var O=p[g]
this.loadedrootgroups[g]=O,this.loadedgroups[this.loadedgroups.length]=O,O.visibleindex=t+c,this.rows[c]=O,this.loadedrecords[c]=O,c=N(this,O,++c)}return c},this._updategroupsinpage=function(t,i,n,r,o,a,s){var l=new Array,d=[]
if(this.groupable&&this.groups.length>0){for(var c=0,h=new Array,u=new Array,p=0;p<t.groups.length;p++)u[p]=t.generatekey()
var m=0,f=new Array,g=0
s>this.totalrecords&&(s=this.totalrecords)
for(var v=a;v<s;v++){var b=e.extend({},t.sortedgroups[v]),y=b[t.uniqueId]
if(!t.pagesize||n>=t.pagesize*t.pagenum&&n<t.pagesize*(t.pagenum+1)){(r>=o||y!=l[r][t.uniqueId])&&(d[d.length]=r)
var _=new Array,w=0
for(p=0;p<t.groups.length;p++){var x=b[j=t.groups[p]]
null==x&&(x=""),_[w++]={value:x,hash:u[p]}}if(_.length!=t.groups.length)break
for(var C=null,S="",T=0;T<_.length;T++){0
var I=_[T].value
if(null==h[S=S+"_"+_[T].hash+"_"+I]||null==h[S]){if(null==C){C={group:I,subItems:new Array,subGroups:new Array,level:0},f[g++]=C,null!=(P=t.loadedgroupsByKey[I])&&(C.visibleindex=P.visibleindex,C.uniqueid=P.uniqueid)}else{var E={group:I,subItems:new Array,subGroups:new Array,parentItem:C,level:C.level+1},P=t.loadedgroupsByKey[C.uniqueid+"_"+I]
E.visibleindex=P.visibleindex,E.uniqueid=P.uniqueid,C.subGroups[C.subGroups.length++]=E,C=E}h[S]=C}else C=h[S]}null!=C&&(b.parentItem=C,b.level=C.level+1,C.subItems[C.subItems.length++]=b),r++}m++,n++}var D=function(t,i,n){for(var r=0;r<i.subItems.length;r++)l[n]=e.extend({},i.subItems[r]),n++
return n},k=function(e){var t=!1
for(var i in e.subGroups){var n=e.subGroups[i]
if(n.subGroups){if(n.subGroups.length>0)if(k(n))return t=!0,!0
if(n.subItems.length>0)return t=!0,!0}}return e.subItems.length>0?(t=!0,!0):t},A=function(e,t,i){var n=1,r=e.grid.columns.records?e.grid.columns.records:e.grid.columns
if(1==e.aggregates)for(var o=0;o<r.length;o++)r[o].aggregates&&(n=Math.max(n,r[o].aggregates.length))
var a=function(t){if(1==e.aggregates)for(var o=function(n){var o=t,a={},s=function(t){for(var i=0;i<r.length;i++)if(r[i].aggregates)for(var o=e.grid.getcolumnaggregateddata(r[i].datafield,r[i].aggregates,!0,t),s=0;s<r[i].aggregates.length;s++)if(r[i].aggregates[n]){var l=r[i],d=r[i].aggregates[n],c=d,h=(c=e.grid._getaggregatename(c))+":"+o[d]
a[l.datafield]=h}}
if(null!=o)if(a.level=o.level,a.visibleindex=i,a.uniqueid=e.generatekey(),l[i]=a,e.loadedrecords[i++]=a,a.totalsrow=!0,t.subItems.length>0){o=t.subItems[t.subItems.length-1],a.parentItem=o.parentItem,a.parentItem.subItems&&(a.parentItem.subItems[a.parentItem.subItems.length]=a)
var d=[];(c=function(){for(var e=0;e<t.subItems.length;e++)t.subItems[e].totalsrow||(d[d.length]=t.subItems[e])})(t),s(d)}else if(t.subGroups.length>0){o=t.subGroups[t.subGroups.length-1],a.level=o.level,a.parentItem=t,t.subGroups[t.subGroups.length]=a
var c
d=[];(c=function(e){if(!e.totalsrow){for(var t=0;t<e.subItems.length;t++)e.subItems[t].totalsrow||(d[d.length]=e.subItems[t])
for(t=0;t<e.subGroups.length;t++)c(e.subGroups[t])}})(t),s(d)}},a=0;a<n;a++)o(a)}
for(var s in t.subGroups){var d=t.subGroups[s]
d.subGroups&&k(d)&&(l[i]=d,i++,d.subGroups.length>0?i=A(e,d,i):d.subItems.length>0&&(i=D(0,d,i)),a(d))}return t.subItems.length>0&&(i=D(0,t,i)),a(t),i}
for(m=0;m<f.length;m++){var j=f[m]
k(j)&&(l[c]=j,c=A(this,j,++c))}}return l}},e.extend(e.jqx._jqxGrid.prototype,{_initgroupsheader:function(){if(this.groupsheader.css("visibility","hidden"),this._groupsheader()){this.groupsheader.css("visibility","inherit")
var t=this,i=this.gridlocalization.groupsheaderstring
this.groupsheaderdiv=this.groupsheaderdiv||e('<div style="width: 100%; position: relative;"></div>'),this.groupsheaderdiv.height(this.groupsheaderheight),this.groupsheaderdiv.css("top",0),this.groupsheader.append(this.groupsheaderdiv),this.groupheadersbounds=new Array
var n=this.groups.length
this.groupsheaderdiv.children().remove(),this.groupsheaderdiv[0].innerHTML=""
var r=new Array
if(n>0)e.each(this.groups,function(i){var o=this,a=t._getColumnText(this).label,s=t._rendergroupcolumn(a,o)
if(s.addClass(t.toThemeProperty("jqx-grid-group-column")),t.groupsheaderdiv.append(s),t.closeablegroups){var l=e(s.find(".jqx-icon-close"))
t.isTouchDevice()&&!0!==t.touchmode?t.addHandler(l,"touchstart",function(){return t.removegroupat(i),!1}):t.addHandler(l,"click",function(){return t.removegroupat(i),!1})}if(t.sortable&&t.addHandler(s,"click",function(){var e=t.getcolumn(o)
return null!=e&&t._togglesort(e),!1}),r[r.length]=s,t._handlegroupstocolumnsdragdrop(this,s),i<n-1){var d=s.height(),c=e('<div style="float: left; position: relative;"></div>')
t.rtl&&c.css("float","right"),c.width(t.groupindentwidth/3),c.height(1),c.css("top",d/2),c.addClass(t.toThemeProperty("jqx-grid-group-column-line")),t.groupsheaderdiv.append(c)}})
else{var o=e('<div style="position: relative;">'+i+"</div>")
this.groupsheaderdiv.append(o),this.rtl&&o.addClass(this.toThemeProperty("jqx-rtl"))}this._groupheaders=r,this._updategroupheadersbounds()}},_updategroupheadersbounds:function(){var t=this,i=this.groupsheaderdiv.children().outerHeight(),n=(this.groupsheader.height()-i)/2
this.groupsheaderdiv.css("top",n),this.rtl?(this.groupsheaderdiv.css("left",""),this.groupsheaderdiv.css("right",n)):(this.groupsheaderdiv.css("left",n),this.groupsheaderdiv.css("right","")),this.rtl&&this._groupheaders.reverse(),e.each(this._groupheaders,function(e){var i=this.coord()
t.groupheadersbounds[e]={left:i.left,top:i.top,width:this.outerWidth(),height:this.outerHeight(),index:e}})},addgroup:function(e){if(e){this.groups!==this.dataview.groups&&(this.dataview.groups=this.groups),this.groups[this.groups.length]=e,this.refreshgroups(),this._raiseEvent(12,{type:"Add",index:this.groups[this.groups.length],groups:this.groups})}},insertgroup:function(e,t){if(null!=e&&null!=e&&e>=0&&e<=this.groups.length&&t){this.groups!==this.dataview.groups&&(this.dataview.groups=this.groups),this.groups.splice(e,0,t.toString()),this.refreshgroups(),this._raiseEvent(12,{type:"Insert",index:e,groups:this.groups})}},refreshgroups:function(){this._refreshdataview(),this._render(!0,!0,!0,!1),this._postrender("group")},_insertaftergroup:function(e,t){var i=this._getGroupIndexByDataField(e)
this.insertgroup(i+1,t)},_insertbeforegroup:function(e,t){var i=this._getGroupIndexByDataField(e)
this.insertgroup(i,t)},removegroupat:function(e){if(e>=0&&null!=e&&null!=e){return this.groups!==this.dataview.groups&&(this.dataview.groups=this.groups),this.groups.splice(e,1),this.refreshgroups(),this.virtualmode&&this.updatebounddata(),this._raiseEvent(12,{type:"Remove",index:e,groups:this.groups}),!0}return!1},cleargroups:function(){return this.groups=[],this.dataview.groups=this.groups,this.refreshgroups(),this._raiseEvent(12,{type:"Clear",index:-1,groups:this.groups}),!0},removegroup:function(e){if(null==e)return!1
var t=this.groups.indexOf(e.toString())
return this.removegroupat(t)},getrootgroupscount:function(){return this.dataview.loadedrootgroups.length},collapsegroup:function(e){if(e>=0&&-1===e.toString().indexOf("."))return this._setrootgroupstate(e,!1)
var t=e.toString().split("."),i=null
this.groupsVisibility||(this.groupsVisibility=new Array)
for(var n=0;n<t.length;n++){e=parseInt(t[n])
if(0==n){i=this.dataview.loadedrootgroups[e]
this.groupsVisibility[i.group]=null}else{var r=i.subGroups[e]
r&&(i=r,n==t.length-1&&(this._setgroupstate(i,!1,!0),this.groupsVisibility[i.group]=null))}}},expandgroup:function(e){if(e>=0&&-1===e.toString().indexOf("."))return this._setrootgroupstate(e,!0)
for(var t=e.toString().split("."),i=null,n=0;n<t.length;n++){e=parseInt(t[n])
if(0==n){i=this.dataview.loadedrootgroups[e]
this._setrootgroupstate(e,!0),this.groupsVisibility||(this.groupsVisibility=new Array),this.groupsVisibility[i.group]=i}else{var r=i.subGroups[e]
r&&(i=r,this._setgroupstate(i,!0,!0),this.groupsVisibility||(this.groupsVisibility=new Array),this.groupsVisibility[i.group]=i)}}},collapseallgroups:function(e){this._setbatchgroupstate(!1,e)},expandallgroups:function(e){this._setbatchgroupstate(!0,e)},isgroupexpanded:function(e){var t=this.dataview.loadedrootgroups[e]
return null==t?null:this.expandedgroups[t.uniqueid].expanded},getgroup:function(t){var i=this.dataview.loadedrootgroups[t]
if(null==i)return null
var n=this.expandedgroups[i.uniqueid].expanded,r=i.group,o=i.level,a=new Array
this._getsubgroups(a,i)
var s=this,l={group:r,level:o,expanded:n,subgroups:a}
if(i.subItems){var d=new Array
e.each(i.subItems,function(){var e=this.boundindex
d[d.length]=s.getrowdata(e)}),d.length>0&&(l.subrows=d)}return l},getrootgroups:function(){for(var e=this.dataview.loadedrootgroups.length,t=new Array,i=0;i<e;i++)t[i]=this.getgroup(i)
return t},_getsubgroups:function(t,i){var n=this
for(var r in i.subGroups){var o=i.subGroups[r],a=n.expandedgroups[o.uniqueid].expanded,s=o.group,l=o.level
if(t[t.length]={group:s,level:l,expanded:a},o.subItems){var d=new Array
e.each(o.subItems,function(){var e=this.boundindex
d[d.length]=n.getrowdata(e)}),t[t.length-1].subrows=d}if(o.subGroups){var c=new Array
n._getsubgroups(c,o)}}return t},_setbatchgroupstate:function(e,t){for(var i in this.dataview.loadedrootgroups)this._setrootgroupstate(i,e,!1,!0)
if(0==t)return this._requiresupdate=!0,this._renderrows(this.virtualsizeinfo),!0
var n=this.vScrollBar[0].style.visibility
return this.rendergridcontent(!0,!1),(n!=this.vScrollBar[0].style.visibility||this._hiddencolumns)&&(this._updatecolumnwidths(),this._updatecellwidths(),this._renderrows(this.virtualsizeinfo)),!0},_setrootgroupstate:function(e,t,i,n){if(null==e||null==e||e<0)return!1
if(!this.groupable||0==this.groups.length)return!1
var r=null==i||i
if(e>=0&&e<this.dataview.loadedrootgroups.length){var o=this.dataview.loadedrootgroups[e]
if(this.pageable){for(var a=new Array,s=0;s<this.dataview.rows.length;s++)null!=this.dataview.rows[s].group&&0===this.dataview.rows[s].level&&a.push(this.dataview.rows[s])
if(!(o=a[e]))return}return this._setgroupstate(o,t,r,n)}return!1},_togglegroupstate:function(e,t){if(null==e||null==e)return!1
var i=this.vScrollInstance.value,n=this.expandedgroups[e.uniqueid]
n=!(n=null!=n&&n.expanded),this.groupsVisibility||(this.groupsVisibility=new Array),this.groupsVisibility[e.group]=n?e:null
var r=this._setgroupstate(e,n,t)
return this._newmax=null,0!==i&&"hidden"!==this.vScrollBar.css("visibility")&&(i<=this.vScrollInstance.max?this.vScrollInstance.setPosition(i):this.vScrollInstance.setPosition(this.vScrollInstance.max)),r},_setgroupstate:function(e,t,i,n){if(null==e||null==e)return!1
var r=!1
this.editable&&this.editcell&&this.endcelledit(this.editcell.row,this.editcell.column,!1,!1)
var o=this.expandedgroups[e.uniqueid]
if(null==o&&(o={expanded:!1},r=!0),o.expanded!=t&&(r=!0),r){if(this.expandedgroups[e.uniqueid]={expanded:t,group:e},this._setsubgroupsvisibility(this,e,!t,n),i){var a=this.vScrollBar[0].style.visibility
this.rendergridcontent(!0,!1),(a!=this.vScrollBar[0].style.visibility||this._hiddencolumns)&&(this._updatecolumnwidths(),this._updatecellwidths(),this._renderrows(this.virtualsizeinfo))}return null!=this.suspendgroupevents&&0!=this.suspendgroupevents||(t?this._raiseEvent(4,{group:e.group,parentgroup:e.parentItem?e.parentItem.group:null,level:e.level,visibleindex:e.visibleindex}):this._raiseEvent(5,{group:e.group,parentgroup:e.parentItem?e.parentItem.group:null,level:e.level,visibleindex:e.visibleindex})),!0}return!1},_setgroupitemsvisibility:function(e,t,i){for(var n=0;n<t.subItems.length;n++)e._setrowvisibility(t.subItems[n].visibleindex,i,!1)},_setsubgroupsvisibility:function(e,t,i,n){if(null!=t.parentItem){if(this.hiddens[t.parentItem.visibleindex])return}else if(null==t.parentItem&&this.hiddens[t.visibleindex])return
for(var r in t.subGroups){var o=t.subGroups[r]
i||e._setrowvisibility(o.visibleindex,i,!1)
var a=!i
n?this.expandedgroups[o.uniqueid]={expanded:a,group:o}:a=null!=e.expandedgroups[o.uniqueid]&&e.expandedgroups[o.uniqueid].expanded,o.subGroups&&(o.subGroups.length>0?e._setsubgroupsvisibility(e,o,!a||i,n):o.subItems.length>0&&e._setgroupitemsvisibility(e,o,!a||i)),i&&e._setrowvisibility(o.visibleindex,i,!1)}t.subItems&&t.subItems.length>0&&e._setgroupitemsvisibility(e,t,i)},_handlecolumnsdragdrop:function(){var t=this,i=-1,n=!1
if(t.groupable){var r="mousemove.grouping"+this.element.id,o=(this.element.id,"mouseup.grouping"+this.element.id),a=!1
this.isTouchDevice()&&!0!==this.touchmode&&(a=!0,r=e.jqx.mobile.getTouchEventName("touchmove")+".grouping"+this.element.id,e.jqx.mobile.getTouchEventName("touchstart")+".grouping"+this.element.id,o=e.jqx.mobile.getTouchEventName("touchend")+".grouping"+this.element.id),this.removeHandler(e(document),r),this.addHandler(e(document),r,function(r){if(!t.showgroupsheader)return!0
if(null!=t.dragcolumn){var o=parseInt(r.pageX),s=parseInt(r.pageY)
if(a){var l=t.getTouches(r)[0]
o=parseInt(l.pageX),s=parseInt(l.pageY)}var d=t.host.coord(),c=parseInt(d.left),h=parseInt(d.top)
null!=t.dragmousedownoffset&&null!=t.dragmousedownoffset||(t.dragmousedownoffset={left:0,top:0})
var u=parseInt(o)-parseInt(t.dragmousedownoffset.left),p=parseInt(s)-parseInt(t.dragmousedownoffset.top)
if(t.dragcolumn.css({left:u+"px",top:p+"px"}),n=!1,o>=c&&o<=c+t.host.width()&&s>=h&&s<=h+t.host.height()&&(n=!0),i=-1,n){t.dragcolumnicon.removeClass(t.toThemeProperty("jqx-grid-dragcancel-icon")),t.dragcolumnicon.addClass(t.toThemeProperty("jqx-grid-drag-icon"))
var m=t.groupsheader.coord(),f=m.top+t.groupsheader.height(),g=e.data(t.dragcolumn[0],"datarecord")
if(g)var v=t.groups.indexOf(g.toString())
else v=-1
var b=-1==v||t.groups.length>1&&v>-1
null!=t.dropline&&(s>=m.top&&s<=f?b&&(i=t._handlegroupdroplines(o)):t.dropline.fadeOut("slow"))}else null!=t.dropline&&t.dropline.fadeOut("slow"),t.dragcolumnicon.removeClass(t.toThemeProperty("jqx-grid-drag-icon")),t.dragcolumnicon.addClass(t.toThemeProperty("jqx-grid-dragcancel-icon"))
if(a)return r.preventDefault(),r.stopPropagation(),!1}}),this.removeHandler(e(document),o),this.addHandler(e(document),o,function(r){if(!t.showgroupsheader)return!0
t.__drag=!1,e(document.body).removeClass("jqx-disableselect")
parseInt(r.pageX)
var o=parseInt(r.pageY)
if(a){var s=t.getTouches(r)[0]
parseInt(s.pageX),o=parseInt(s.pageY)}var l=t.host.coord(),d=(parseInt(l.left),parseInt(l.top)),c=t.groupsheader.height()
if(t.showtoolbar&&(d+=t.toolbarheight),t.dragstarted=!1,t.dragmousedown=null,null!=t.dragcolumn){var h=e.data(t.dragcolumn[0],"datarecord")
if(t.dragcolumn.remove(),t.dragcolumn=null,null!=h){if(!t.getcolumn(h).groupable)return void(null!=t.dropline&&(t.dropline.remove(),t.dropline=null))
if(n)if(-1!=i){var u=i.index,p=t.groups[u];(m=t._getGroupIndexByDataField(h))!=u&&(null!=m&&m>=0&&t.groups.splice(m,1),"before"==i.position?t.rtl?t._insertaftergroup(p,h):t._insertbeforegroup(p,h):t.rtl?t._insertbeforegroup(p,h):t._insertaftergroup(p,h))}else if(0==t.groups.length)o>d&&o<=d+c&&t.addgroup(h)
else if(o>d+c){var m=t._getGroupIndexByDataField(h)
t.removegroupat(m)}null!=t.dropline&&(t.dropline.remove(),t.dropline=null)}}})}},_getGroupIndexByDataField:function(e){for(var t=0;t<this.groups.length;t++)if(this.groups[t]==e)return t
return-1},_isColumnInGroups:function(e){for(var t=0;t<this.groups.length;t++)if(this.groups[t]==e)return!0
return!1},_handlegroupdroplines:function(t){var i=this,n=-1
return e.each(i.groupheadersbounds,function(e){if(t<=this.left+this.width/2){var r=this.left-3
return e>0&&(r=this.left-1-i.groupindentwidth/6),i.dropline.css("left",r),i.dropline.css("top",this.top),i.dropline.height(this.height),i.dropline.fadeIn("slow"),n={index:e,position:"before"},i.rtl&&(n={index:i.groupheadersbounds.length-1-e,position:"before"}),!1}t>=this.left+this.width/2&&(i.dropline.css("left",1+this.left+this.width),i.dropline.css("top",this.top),i.dropline.height(this.height),i.dropline.fadeIn("slow"),n={index:e,position:"after"},i.rtl&&(n={index:i.groupheadersbounds.length-1-e,position:"after"}))}),n},_handlegroupstocolumnsdragdrop:function(t,i){this.dragmousedown=null,this.dragmousedownoffset=null,this.dragstarted=!1,this.dragcolumn=null
var n,r=this,o="mousedown",a="mousemove",s=!1
this.isTouchDevice()&&!0!==this.touchmode&&(s=!0,o=e.jqx.mobile.getTouchEventName("touchstart"),a=e.jqx.mobile.getTouchEventName("touchmove")),this.addHandler(i,"dragstart",function(e){return!1}),this.addHandler(i,o,function(t){if(!r.showgroupsheader)return!0
var i=t.pageX,n=t.pageY
if(r.__drag=!0,r.dragmousedown={left:i,top:n},s){var o=r.getTouches(t)[0]
i=o.pageX,n=o.pageY,r.dragmousedown={left:i,top:n},t.preventDefault&&t.preventDefault()}var a=e(t.target).coord()
r.dragmousedownoffset={left:parseInt(i)-parseInt(a.left),top:parseInt(n-a.top)}}),this.addHandler(i,a,function(o){if(!r.showgroupsheader)return!0
if(r.dragmousedown){if(n={left:o.pageX,top:o.pageY},s){var a=r.getTouches(o)[0]
n={left:a.pageX,top:a.pageY}}if(!r.dragstarted&&null==r.dragcolumn){var l=Math.abs(n.left-r.dragmousedown.left),d=Math.abs(n.top-r.dragmousedown.top);(l>3||d>3)&&(r._createdragcolumn(i,n,!0),e(document.body).addClass("jqx-disableselect"),e.data(r.dragcolumn[0],"datarecord",t),o.preventDefault&&o.preventDefault())}}})},_createdragcolumn:function(t,i,n){var r=this,o=i
r.dragcolumn=e("<div></div>")
var a=t.clone()
r.dragcolumn.css("z-index",999999),a.css("border-width","1px"),a.css("opacity","0.4")
var s=e(a.find("."+r.toThemeProperty("jqx-grid-column-menubutton")))
s.length>0&&s.css("display","none")
var l=e(a.find(".jqx-icon-close"))
l.length>0&&l.css("display","none"),r.dragcolumnicon=e('<div style="z-index: 9999; position: absolute; left: 100%; top: 50%; margin-left: -18px; margin-top: -7px;"></div>'),r.dragcolumnicon.addClass(r.toThemeProperty("jqx-grid-drag-icon")),r.dragcolumn.css("float","left"),r.dragcolumn.css("position","absolute")
r.host.coord()
a.width(t.width()+16),r.dragcolumn.append(a),r.dragcolumn.height(t.height()),r.dragcolumn.width(a.width()),r.dragcolumn.append(r.dragcolumnicon),e(document.body).append(r.dragcolumn),a.css("margin-left",0),a.css("left",0),a.css("top",0),r.dragcolumn.css("left",o.left+r.dragmousedown.left),r.dragcolumn.css("top",o.top+r.dragmousedown.top),null!=n&&n&&(r.dropline=e('<div style="display: none; position: absolute;"></div>'),r.dropline.width(2),r.dropline.addClass(r.toThemeProperty("jqx-grid-group-drag-line")),e(document.body).append(r.dropline))},iscolumngroupable:function(e){return this._getcolumnproperty(e,"groupable")},_handlecolumnstogroupsdragdrop:function(t,i){this.dragmousedown=null,this.dragmousedownoffset=null,this.dragstarted=!1,this.dragcolumn=null
var n=this,r=!1
this.isTouchDevice()&&!0!==this.touchmode&&(r=!0)
var o="mousedown.drag",a="mousemove.drag"
r?(o=e.jqx.mobile.getTouchEventName("touchstart")+".drag",a=e.jqx.mobile.getTouchEventName("touchmove")+".drag"):this.addHandler(i,"dragstart",function(e){return!1}),this.addHandler(i,o,function(o){if(!n.showgroupsheader)return!0
if(n.__drag=!0,n._isColumnInGroups(t.displayfield))return i.css("cursor"),!0
if(0==t.groupable)return!0
var a=o.pageX,s=o.pageY
if(r){var l=n.getTouches(o)[0]
a=l.pageX,s=l.pageY}n.dragmousedown={left:a,top:s},r&&o.preventDefault&&o.preventDefault()
var d=e(o.target).coord()
n.dragmousedownoffset={left:parseInt(a)-parseInt(d.left),top:parseInt(s-d.top)}}),this.addHandler(i,a,function(o){if(!n.showgroupsheader)return!0
if(n._isColumnInGroups(t.displayfield))return i.css("cursor"),!0
if(n.dragmousedown){var s=o.pageX,l=o.pageY
if(r){var d=n.getTouches(o)[0]
s=d.pageX,l=d.pageY}if(a={left:s,top:l},!n.dragstarted&&null==n.dragcolumn){var c=Math.abs(a.left-n.dragmousedown.left),h=Math.abs(a.top-n.dragmousedown.top);(c>3||h>3)&&(n._createdragcolumn(i,a,!0),e.data(n.dragcolumn[0],"datarecord",t.displayfield),o.preventDefault&&o.preventDefault())}}})},_rendergroupcolumn:function(t,i){var n=e('<div style="float: left; position: relative;"></div>')
if(this.rtl&&n.css("float","right"),null!=this.groupcolumnrenderer&&(n[0].innerHTML=this.groupcolumnrenderer(t),n.addClass(this.toThemeProperty("jqx-grid-group-column")),n.addClass(this.toThemeProperty("jqx-fill-state-normal"))),this.closeablegroups){""==n[0].innerHTML&&(n[0].innerHTML='<a style="float: left;" href="#">'+t+"</a>"),this.rtl&&(n[0].innerHTML='<a style="float: right;" href="#">'+t+"</a>")
var r=this.rtl?"left":"right",o='<div style="float: '+r+'; min-height: 16px; min-width: 18px;"><div style="position: absolute; left: 100%; top: 50%; margin-left: -18px; margin-top: -8px; float: none; width: 16px; height: 16px;" class="'+this.toThemeProperty("jqx-icon-close")+'"></div></div>'
if(e.jqx.browser.msie&&e.jqx.browser.version<8&&(o='<div style="float: left; min-height: 16px; min-width: 18px;"><div style="position: absolute; left: 100%; top: 50%; margin-left: -18px; margin-top: -8px; float: none; width: 16px; height: 16px;" class="'+this.toThemeProperty("jqx-icon-close")+'"></div></div>'),this.rtl){o='<div style="float: '+r+'; min-height: 16px; min-width: 18px;"><div style="position: absolute; left: 0px; top: 50%; margin-top: -8px; float: none; width: 16px; height: 16px;" class="'+this.toThemeProperty("jqx-icon-close")+'"></div></div>'
e.jqx.browser.msie&&e.jqx.browser.version<8&&(o='<div style="float: left; min-height: 16px; min-width: 18px;"><div style="position: absolute; left: 0px; top: 50%; margin-top: -8px; float: none; width: 16px; height: 16px;" class="'+this.toThemeProperty("jqx-icon-close")+'"></div></div>')}n[0].innerHTML+=o}else""==n[0].innerHTML&&(n[0].innerHTML='<a href="#">'+t+"</a>")
if(this.sortable){var a=e('<div style="float: right; min-height: 16px; min-width: 18px;"><div style="position: absolute; left: 100%; top: 50%; margin-left: -16px; margin-top: -8px; float: none; width: 16px; height: 16px;" class="'+this.toThemeProperty("jqx-grid-column-sortascbutton")+'"></div></div>'),s=e('<div style="float: right; min-height: 16px; min-width: 18px;"><div style="position: absolute; left: 100%; top: 50%; margin-left: -16px; margin-top: -8px; float: none; width: 16px; height: 16px;" class="'+this.toThemeProperty("jqx-grid-column-sortdescbutton")+'"></div></div>')
if(this.closeablegroups)a=e('<div style="float: right; min-height: 16px; min-width: 18px;"><div style="position: absolute; left: 100%; top: 50%; margin-left: -32px; margin-top: -8px; float: none; width: 16px; height: 16px;" class="'+this.toThemeProperty("jqx-grid-column-sortascbutton")+'"></div></div>'),s=e('<div style="float: right; min-height: 16px; min-width: 18px;"><div style="position: absolute; left: 100%; top: 50%; margin-left: -32px; margin-top: -8px; float: none; width: 16px; height: 16px;" class="'+this.toThemeProperty("jqx-grid-column-sortdescbutton")+'"></div></div>')
if(this.rtl){a=e('<div style="float: right; min-height: 16px; min-width: 18px;"><div style="position: absolute; left: 0px; top: 50%; margin-left: 0px; margin-top: -8px; float: none; width: 16px; height: 16px;" class="'+this.toThemeProperty("jqx-grid-column-sortascbutton")+'"></div></div>'),s=e('<div style="float: right; min-height: 16px; min-width: 18px;"><div style="position: absolute; left: 0px; top: 50%; margin-left: 0px; margin-top: -8px; float: none; width: 16px; height: 16px;" class="'+this.toThemeProperty("jqx-grid-column-sortdescbutton")+'"></div></div>')
if(this.closeablegroups)a=e('<div style="float: right; min-height: 16px; min-width: 18px;"><div style="position: absolute; left: 0px; top: 50%; margin-left: 16px; margin-top: -8px; float: none; width: 16px; height: 16px;" class="'+this.toThemeProperty("jqx-grid-column-sortascbutton")+'"></div></div>'),s=e('<div style="float: right; min-height: 16px; min-width: 18px;"><div style="position: absolute; left: 0px; top: 50%; margin-left: 16px; margin-top: -8px; float: none; width: 16px; height: 16px;" class="'+this.toThemeProperty("jqx-grid-column-sortdescbutton")+'"></div></div>')}a.css("display","none"),s.css("display","none"),e.jqx.browser.msie&&e.jqx.browser.version<8&&(a.css("float","left"),s.css("float","left")),n.append(a),n.append(s),e.data(document.body,"groupsortelements"+i,{sortasc:a,sortdesc:s})}return n.addClass(this.toThemeProperty("jqx-fill-state-normal")),n.addClass(this.toThemeProperty("jqx-grid-group-column")),n},_rendergroup:function(t,i,n,r,o,a,s){var l=i,d=i.cells[n.level]
this.rtl&&(d=i.cells[i.cells.length-1-n.level])
var c=this._findgroupstate(n.uniqueid)
if(n.bounddata.subGroups.length>0||n.bounddata.subItems.length>0){var h=this.rtl?"-rtl":"",u=this.toThemeProperty("jqx-icon-arrow-right")
h&&(u=this.toThemeProperty("jqx-icon-arrow-left")),d.className+=c?" "+this.toThemeProperty("jqx-grid-group-expand"+h)+" "+this.toThemeProperty("jqx-icon-arrow-down"):" "+this.toThemeProperty("jqx-grid-group-collapse"+h)+" "+u}var p=this._getColumnText(this.groups[n.level]).label,m=this.groupindentwidth,f=s-(D=this.rowdetails&&this.showrowdetailscolumn?(1+t)*m:t*m),g=n.level+1
this.rtl&&(g=0)
for(var v=l.cells[g],b=2;null!=v&&"none"==v.style.display&&b<l.cells.length-1;)v=l.cells[g+b-1],b++
var y=e(v)
if(v){if(v.style.width=parseInt(f)+"px",-1!=v.className.indexOf("jqx-grid-cell-filter")&&y.removeClass(this.toThemeProperty("jqx-grid-cell-filter")),-1!=v.className.indexOf("jqx-grid-cell-sort")&&y.removeClass(this.toThemeProperty("jqx-grid-cell-sort")),-1!=v.className.indexOf("jqx-grid-cell-pinned")&&y.removeClass(this.toThemeProperty("jqx-grid-cell-pinned")),null!=this.groupsrenderer){var _={group:n.group,level:n.level,parent:n.bounddata.parentItem,subGroups:n.bounddata.subGroups,subItems:n.bounddata.subItems,groupcolumn:this._getColumnText(this.groups[n.level]).column},w=this.groupsrenderer(p+": "+n.group,n.group,c,_)
if(w)v.innerHTML=w
else{var x=n.bounddata.subItems.length>0?n.bounddata.subItems.length:n.bounddata.subGroups.length
if(this.showgroupaggregates){var C=n.bounddata.subItems.length>0?n.bounddata.subItems:n.bounddata.subGroups
x=0
for(var S=0;S<C.length;S++)C[S].totalsrow||x++}v.innerHTML='<div class="'+this.toThemeProperty("jqx-grid-groups-row")+'" style="position: absolute;"><span>'+p+': </span><span class="'+this.toThemeProperty("jqx-grid-groups-row-details")+'">'+n.group+" ("+x+")</span></div>"}}else{var T=this._getcolumnbydatafield(this.groups[n.level]),I=n.group
if(null==T)throw new Error("jqxGrid: Unable to find '"+this.groups[n.level]+"' group in the Grid's columns collection.")
T.cellsformat&&e.jqx.dataFormat&&(e.jqx.dataFormat.isDate(I)?I=e.jqx.dataFormat.formatdate(I,T.cellsformat,this.gridlocalization):e.jqx.dataFormat.isNumber(I)&&(I=e.jqx.dataFormat.formatnumber(I,T.cellsformat,this.gridlocalization)))
x=n.bounddata.subItems.length>0?n.bounddata.subItems.length:n.bounddata.subGroups.length
if(this.showgroupaggregates){C=n.bounddata.subItems.length>0?n.bounddata.subItems:n.bounddata.subGroups
x=0
for(S=0;S<C.length;S++)C[S].totalsrow||x++}v.innerHTML='<div class="'+this.toThemeProperty("jqx-grid-groups-row")+'" style="position: absolute;"><span>'+p+': </span><span class="'+this.toThemeProperty("jqx-grid-groups-row-details")+'">'+I+" ("+x+")</span></div>"}if(this.rtl){T||(T=this._getcolumnbydatafield(this.groups[n.level]))
var E="hidden"==this.hScrollBar.css("visibility")?0:this.hScrollInstance.max-this.hScrollInstance.value,P="hidden"==this.vScrollBar.css("visibility")?0:this.scrollbarsize+6,D=this.rowdetails&&this.showrowdetailscolumn?(2+n.level)*m:(1+n.level)*m
v.style.width=s+parseInt(E)-D-P+"px",y.addClass(this.toThemeProperty("jqx-rtl"))
var k=e(i.cells[i.cells.length-1]).css("z-index")
y.css("z-index",k)
var A=y.find("div")
f=A.width()
A.css("left","100%")
var j=null!=this.columns.records[i.cells.length-2-n.level]&&this.columns.records[i.cells.length-2-n.level].pinned
if(this.table.width()<s&&(s=this.table.width(),"hidden"!=this.vScrollBar.css("visibility")&&(s+=this.vScrollBar.outerWidth())),T.pinned||j)this.rowdetails&&this.showrowdetailscolumn&&(s+=30),A.css("margin-left",-f),v.style.width=s+E-D-P+"px"
else{E="hidden"==this.hScrollBar.css("visibility")?0:this.hScrollInstance.max
v.style.width=s+E-D-P+"px"
f=A.width()
A.css("margin-left",-f)}}}}})}(jqxBaseFramework)
var Ai=Object.freeze({})
!function(e){function t(t,i){return this.owner=t,this.datafield=null,this.displayfield=null,this.text="",this.sortable=!0,this.editable=!0,this.hidden=!1,this.hideable=!0,this.groupable=!0,this.renderer=null,this.cellsRenderer=null,this.columntype=null,this.cellsFormat="",this.align="left",this.cellsalign="left",this.width="auto",this.minwidth=25,this.maxwidth="auto",this.pinned=!1,this.visibleindex=-1,this.filterable=!0,this.filter=null,this.resizable=!0,this.draggable=!0,this.initeditor=null,this.createeditor=null,this.destroyeditor=null,this.geteditorvalue=null,this.autoCellHeight=!0,this.validation=null,this.classname="",this.cellclassname="",this.aggregates=null,this.aggregatesRenderer=null,this.rendered=null,this.exportable=!0,this.nullable=!0,this.columngroup=null,this.columntype="textbox",this.getcolumnproperties=function(){return{nullable:this.nullable,sortable:this.sortable,hidden:this.hidden,groupable:this.groupable,width:this.width,align:this.align,editable:this.editable,minwidth:this.minwidth,maxwidth:this.maxwidth,resizable:this.resizable,datafield:this.datafield,text:this.text,exportable:this.exportable,cellsalign:this.cellsalign,pinned:this.pinned,cellsFormat:this.cellsFormat,columntype:this.columntype,classname:this.classname,cellclassname:this.cellclassname,menu:this.menu}},this.setproperty=function(e,t){if(this[e]){var i=this[e]
this[e]=t,this.owner._columnPropertyChanged(this,e,t,i)}else if(this[e.toLowerCase()]){i=this[e.toLowerCase()]
this[e.toLowerCase()]=t,this.owner._columnPropertyChanged(this,e.toLowerCase(),t,i)}},this._initfields=function(i){if(null!=i){if(e.jqx.hasProperty(i,"dataField")&&(this.datafield=e.jqx.get(i,"dataField")),e.jqx.hasProperty(i,"displayField")?this.displayfield=e.jqx.get(i,"displayField"):this.displayfield=this.datafield,e.jqx.hasProperty(i,"columnType")&&(this.columntype=e.jqx.get(i,"columnType")),e.jqx.hasProperty(i,"validation")&&(this.validation=e.jqx.get(i,"validation")),e.jqx.hasProperty(i,"autoCellHeight")&&(this.autoCellHeight=e.jqx.get(i,"autoCellHeight")),e.jqx.hasProperty(i,"text")?this.text=e.jqx.get(i,"text"):this.text=this.displayfield,e.jqx.hasProperty(i,"sortable")&&(this.sortable=e.jqx.get(i,"sortable")),e.jqx.hasProperty(i,"hidden")&&(this.hidden=e.jqx.get(i,"hidden")),e.jqx.hasProperty(i,"groupable")&&(this.groupable=e.jqx.get(i,"groupable")),e.jqx.hasProperty(i,"renderer")&&(this.renderer=e.jqx.get(i,"renderer")),e.jqx.hasProperty(i,"align")&&(this.align=e.jqx.get(i,"align")),e.jqx.hasProperty(i,"cellsAlign")&&(this.cellsalign=e.jqx.get(i,"cellsAlign")),e.jqx.hasProperty(i,"cellsFormat")&&(this.cellsFormat=e.jqx.get(i,"cellsFormat")),e.jqx.hasProperty(i,"width")&&(this.width=e.jqx.get(i,"width")),e.jqx.hasProperty(i,"minWidth")&&(this.minwidth=e.jqx.get(i,"minWidth")),e.jqx.hasProperty(i,"maxWidth")&&(this.maxwidth=e.jqx.get(i,"maxWidth")),e.jqx.hasProperty(i,"cellsRenderer")&&(this.cellsRenderer=e.jqx.get(i,"cellsRenderer")),e.jqx.hasProperty(i,"columnType")&&(this.columntype=e.jqx.get(i,"columnType")),e.jqx.hasProperty(i,"pinned")&&(this.pinned=e.jqx.get(i,"pinned")),e.jqx.hasProperty(i,"filterable")&&(this.filterable=e.jqx.get(i,"filterable")),e.jqx.hasProperty(i,"filter")&&(this.filter=e.jqx.get(i,"filter")),e.jqx.hasProperty(i,"resizable")&&(this.resizable=e.jqx.get(i,"resizable")),e.jqx.hasProperty(i,"draggable")&&(this.draggable=e.jqx.get(i,"draggable")),e.jqx.hasProperty(i,"editable")&&(this.editable=e.jqx.get(i,"editable")),e.jqx.hasProperty(i,"initEditor")&&(this.initeditor=e.jqx.get(i,"initEditor")),e.jqx.hasProperty(i,"createEditor")&&(this.createeditor=e.jqx.get(i,"createEditor")),e.jqx.hasProperty(i,"destroyEditor")&&(this.destroyeditor=e.jqx.get(i,"destroyEditor")),e.jqx.hasProperty(i,"getEditorValue")&&(this.geteditorvalue=e.jqx.get(i,"getEditorValue")),e.jqx.hasProperty(i,"className")&&(this.classname=e.jqx.get(i,"className")),e.jqx.hasProperty(i,"cellClassName")&&(this.cellclassname=e.jqx.get(i,"cellClassName")),e.jqx.hasProperty(i,"aggregates")&&(this.aggregates=e.jqx.get(i,"aggregates")),e.jqx.hasProperty(i,"aggregatesRenderer")&&(this.aggregatesRenderer=e.jqx.get(i,"aggregatesRenderer")),e.jqx.hasProperty(i,"rendered")&&(this.rendered=e.jqx.get(i,"rendered")),e.jqx.hasProperty(i,"exportable")&&(this.exportable=e.jqx.get(i,"exportable")),e.jqx.hasProperty(i,"nullable")&&(this.nullable=e.jqx.get(i,"nullable")),e.jqx.hasProperty(i,"columnGroup")&&(this.columngroup=e.jqx.get(i,"columnGroup")),!i instanceof String&&"string"!=typeof i)for(var n in i)if(!this.hasOwnProperty(n)&&!this.hasOwnProperty(n.toLowerCase()))throw t.host.remove(),new Error("jqxDataTable: Invalid property name - "+n+".")}},this._initfields(i),this}e.jqx.jqxWidget("jqxDataTable","",{}),e.extend(e.jqx._jqxDataTable.prototype,{defineInstance:function(){var t={altRows:!1,aggregatesHeight:34,autoShowLoadElement:!0,autoRowHeight:!0,columnsHeight:30,columns:[],columnGroups:null,columnsResize:!1,columnsReorder:!1,dataview:null,disabled:!1,editable:!1,editSettings:{saveOnPageChange:!0,saveOnBlur:!0,saveOnSelectionChange:!0,cancelOnEsc:!0,saveOnEnter:!0,editSingleCell:!1,editOnDoubleClick:!0,editOnF2:!0},enableHover:!0,enableBrowserSelection:!1,filterHeight:30,filterable:!1,filterMode:"default",groupsRenderer:null,groups:new Array,headerZIndex:359,height:null,handleKeyboardNavigation:null,indentWidth:25,initRowDetails:!1,loadingErrorMessage:"The data is still loading and you cannot set a property or call a method. You can do that once the data binding is completed. jqxDataTable raises the 'bindingComplete' event when the binding is completed.",localization:null,pagerHeight:28,pageSize:10,pageSizeOptions:["5","10","20"],pageable:!1,pagerPosition:"bottom",pagerMode:"default",pageSizeMode:"default",pagerButtonsCount:5,pagerRenderer:null,ready:null,rendertoolbar:null,rowDetails:!1,renderStatusBar:null,rendered:null,rendering:null,rtl:!1,sortable:!1,showtoolbar:!1,showstatusbar:!1,statusBarHeight:34,serverProcessing:!1,selectionMode:"multiplerows",scrollBarSize:e.jqx.utilities.scrollBarSize,touchScrollBarSize:e.jqx.utilities.touchScrollBarSize,showAggregates:!1,showHeader:!0,maxHeight:999999,maxWidth:999999,autoBind:!0,beginEdit:null,endEdit:null,autokoupdates:!0,columnsVirtualization:!1,exportSettings:{columnsHeader:!0,hiddenColumns:!1,serverURL:null,characterSet:null,collapsedRecords:!1,recordsInView:!0,fileName:"jqxDataTable"},source:{beforeprocessing:null,beforesend:null,loaderror:null,localdata:null,data:null,datatype:"array",datafields:[],url:"",root:"",record:"",id:"",totalrecords:0,recordstartindex:0,recordendindex:0,loadallrecords:!0,sortcolumn:null,sortdirection:null,sort:null,filter:null,sortcomparer:null},toolbarHeight:34,tableZIndex:369,_updating:!1,touchmode:"auto",width:null,that:this,incrementalSearch:!0,events:["bindingComplete","sort","filter","pageChanged","pageSizeChanged","rowClick","rowDoubleClick","cellValueChanged","rowBeginEdit","rowEndEdit","rowSelect","rowUnselect","rowCheck","rowUncheck","columnResized","columnReordered","rowExpand","rowCollapse","cellBeginEdit","cellEndEdit"]}
return this===e.jqx._jqxDataTable.prototype?t:(e.extend(!0,this,t),this.that=this,t)},createInstance:function(t){var i=this
if(15!=e.jqx.utilities.scrollBarSize&&(i.scrollBarSize=e.jqx.utilities.scrollBarSize),"table"==i.element.nodeName.toLowerCase()||e(i.element).children("table").length>0){var n=i.host.find("tbody tr"),r=i.host.find("th"),o=new Array
0===r.length&&(r=n[0],n.splice(0,1)),i.localizestrings&&(i.localizestrings(),null!=i.localization&&i.localizestrings(i.localization,!1))
for(var a=[],s=0;s<n.length;s++){for(var l=n[s],d={},c=0;c<r.length;c++){var h=e.trim(e(r[c]).text())
if(0===s){var u={name:h}
if(i.columns[c]&&i.columns[c].cellsFormat){var p=i.columns[c].cellsFormat.toLowerCase();-1==p.indexOf("p")&&-1==p.indexOf("c")&&-1==p.indexOf("n")&&-1==p.indexOf("f")||(u.type="number"),-1==p.indexOf("d")&&-1==p.indexOf("m")&&-1==p.indexOf("y")&&-1==p.indexOf("h")&&-1==p.indexOf("m")&&-1==p.indexOf("s")&&-1==p.indexOf("t")||(u.type="date")}o.push(u)}var m=e(l).find("td:eq("+c+")")
if(o[c].type){var f=i.getvaluebytype(e.trim(m.text()),o[c])
d[h]=f}else d[h]=e.trim(m.text())}a[a.length]=d}i.host.wrap("<div></div>")
var g=i.host.parent(),v=i.host.data()
v.jqxDataTable.host=g,v.jqxDataTable.element=g[0],i.host.parent()[0].id=i.element.id
try{i.host.parent()[0].style=i.element.style}catch(e){}i.element=g[0],i.host=g,i.host.data(v)
var b={dataFields:o,localdata:a,datatype:"array"},y=new e.jqx.dataAdapter(b)
i.source=y}i.source&&!i.source.dataBind&&(i.source=new e.jqx.dataAdapter(i.source))
var _=i.source._source.datafields
_&&_.length>0&&(i._camelCase=void 0!==i.source._source.dataFields),i.selectionMode=i.selectionMode.toLowerCase(),null==i.host.attr("tabindex")&&i.host.attr("tabindex","0"),i.host.attr("role","grid"),i.host.attr("align","left"),i.host.addClass(i.toTP("jqx-grid")),i.host.addClass(i.toTP("jqx-reset")),i.host.addClass(i.toTP("jqx-rc-all")),i.host.addClass(i.toTP("jqx-widget")),i.host.addClass(i.toTP("jqx-widget-content")),i._testmodules()||(i.render(!0),e.jqx.utilities.resize(i.host,function(){var t=e(window).width(),n=e(window).height(),r=i.host.width(),o=i.host.height()
i._lastHostWidth==r&&i._lastHostHeight==o||i._updatesize(i._lastHostWidth!=r,i._lastHostHeight!=o),i._lastWidth=t,i._lastHeight=n,i._lastHostWidth=r,i._lastHostHeight=o}))},getvaluebytype:function(t,i){var n=t
if(null==t)return t
if(","==this.gridlocalization.decimalseparator&&t.indexOf(this.gridlocalization.decimalseparator)>=0&&(t=t.replace(this.gridlocalization.decimalseparator,".")),t.indexOf(this.gridlocalization.currencysymbol)>=0&&(t=t.replace(this.gridlocalization.currencysymbol,"")),t.indexOf(this.gridlocalization.percentagesymbol)>=0&&(t=t.replace(this.gridlocalization.percentagesymbol,"")),e.isArray(t)&&"array"!=i.type){for(var r=0;r<t.length;r++)t[r]=this.getvaluebytype(t[r],i)
return t}if("date"==i.type)if("NaN"==t)t=""
else{var o=new Date(t)
if("string"==typeof t&&i.format){var a=e.jqx.dataFormat.parsedate(t,i.format)
null!=a&&(o=a)}null==(t=("NaN"==o.toString()||"Invalid Date"==o.toString())&&e.jqx.dataFormat?e.jqx.dataFormat.tryparsedate(t):o)&&(t=n)}else if("float"==i.type||"number"==i.type||"decimal"==i.type)if("NaN"==t)t=""
else{t=parseFloat(t)
isNaN(t)&&(t=n)}else if("int"==i.type||"integer"==i.type){t=parseInt(t)
isNaN(t)&&(t=n)}else"bool"!=i.type&&"boolean"!=i.type||(null!=t&&null!=t.toLowerCase&&("false"==t.toLowerCase()?t=!1:"true"==t.toLowerCase()&&(t=!0)),t=1==t||(0!=t||""===t)&&"")
return t},_builddataloadelement:function(){this.dataloadelement&&this.dataloadelement.remove(),this.dataloadelement=e('<div class="jqx-datatable-load" style="z-index: 99998; background-color:rgba(50,50,50,0.1); overflow: hidden; position: absolute;"></div>')
var t=e('<div style="z-index: 99999; margin-left: -66px; left: 50%; top: 50%; margin-top: -24px; position: relative; width: 100px; height: 33px; padding: 5px; font-family: verdana; font-size: 12px; color: #767676; border-color: #898989; border-width: 1px; border-style: solid; background: #f6f6f6; border-collapse: collapse;"><div style="float: left;"><div style="float: left; overflow: hidden; width: 32px; height: 32px;" class="jqx-grid-load"/><span style="margin-top: 10px; float: left; display: block; margin-left: 5px;" >'+this.gridlocalization.loadtext+"</span></div></div>")
if(t.addClass(this.toTP("jqx-rc-all")),this.dataloadelement.addClass(this.toTP("jqx-rc-all")),t.addClass(this.toTP("jqx-fill-state-normal")),this.dataloadelement.append(t),this.dataloadelement.width(this.width),this.dataloadelement.height(this.height),this.host.prepend(this.dataloadelement),""!=this.source._source.url){var i=!1;("auto"===this.height||null===this.height||this.autoheight)&&999999==this.maxHeight&&(i=!0),i?(this.host.height(100),this.dataloadelement.height(100)):(this.host.height(this.height),this.dataloadelement.height(this.height))
var n=!1;("auto"===this.width||null===this.width||this.autoWidth)&&(n=!0),n?(this.host.width(300),this.dataloadelement.width(300)):(this.host.width(this.width),this.dataloadelement.width(this.width))}},_measureElement:function(t){var i=e("<span style='visibility: hidden; white-space: nowrap;'>measure Text</span>")
i.addClass(this.toTP("jqx-widget")),e(document.body).append(i),"cell"==t?this._cellheight=i.height():this._columnheight=i.height(),i.remove()},_testmodules:function(){var t="",i=this,n=function(){""!=t.length&&(t+=",")}
if(this.host.jqxScrollBar||(n(),t+=" jqxscrollbar.js"),this.host.jqxButton||(n(),t+=" jqxbuttons.js"),e.jqx.dataAdapter||(n(),t+=" jqxdata.js"),""!=t||this.editable||this.filterable||this.pageable){var r=[]
if((this.filterable&&"simple"!=this.filterMode||"advanced"==this.pagerMode&&this.pageable)&&function(e){switch(e){case"checkbox":i.host.jqxCheckBox||r.checkbox||(r.checkbox=!0,n(),t+=" jqxcheckbox.js")
break
case"dropdownlist":i.host.jqxDropDownList||r.dropdownlist?i.host.jqxListBox||r.listbox||(n(),r.listbox=!0,t+=" jqxlistbox.js"):(n(),r.dropdownlist=!0,t+=" jqxdropdownlist.js(requires: jqxlistbox.js)")}}("dropdownlist"),""!=t)throw new Error("jqxDataTable: Missing references to the following module(s): "+t)}return!1},focus:function(){try{this.wrapper.focus(),this.host.focus()
var e=this
setTimeout(function(){e.wrapper.focus(),e.host.focus()},25),this.focused=!0}catch(e){}},hiddenParent:function(){return e.jqx.isHidden(this.host)},isBindingCompleted:function(){return!this._loading},_updatesize:function(t,i){if(!this._loading){var n=this,r=n.host.width(),o=n.host.height()
n._oldWidth||(n._oldWidth=r),n._oldHeight||(n._oldHeight=o),null!=n._resizeTimer&&(clearTimeout(n._resizeTimer),n._resizeTimer=null)
var a=function(){n._resizeTimer&&clearTimeout(n._resizeTimer),n.resizingGrid=!0,e.jqx.isHidden(n.host)||(n._updatecolumnwidths(),n.refresh(),n._oldWidth=r,n._oldHeight=o,n.resizingGrid=!1)}
a(),n._resizeTimer=setTimeout(function(){var e=n.host.width(),t=n.host.height()
n._oldWidth==e&&n._oldHeight==t||a()},300)}},resize:function(e,t){null!=e&&(this.width=e),null!=t&&(this.height=t),this._updatecolumnwidths(),this.refresh()},isTouchDevice:function(){if(null!=this.touchDevice)return this.touchDevice
var t=e.jqx.mobile.isTouchDevice()
return this.touchDevice=t,1==this.touchmode?(t=!0,e.jqx.mobile.setMobileSimulator(this.table[0]),this.touchDevice=t):0==this.touchmode&&(t=!1),t&&(this.touchDevice=!0,this.host.addClass(this.toThemeProperty("jqx-touch")),this.host.find("jqx-widget-content").addClass(this.toThemeProperty("jqx-touch")),this.host.find("jqx-widget-header").addClass(this.toThemeProperty("jqx-touch")),this.scrollBarSize=this.touchScrollBarSize),t},toTP:function(e){return this.toThemeProperty(e)},localizestrings:function(t,i){if(this._cellscache=new Array,e.jqx.dataFormat&&e.jqx.dataFormat.cleardatescache(),this._loading)throw new Error("jqxDataTable: "+this.loadingErrorMessage)
if(null!=t){for(var n in t)n.toLowerCase()!==n&&(t[n.toLowerCase()]=t[n])
for(var r=["pagergotopagestring","pagershowrowsstring","pagerrangestring","pagernextbuttonstring","pagerpreviousbuttonstring","pagerfirstbuttonstring","pagerlastbuttonstring","toppagerstring","firstDay","days","months","AM","PM","patterns","percentsymbol","currencysymbol","currencysymbolposition","decimalseparator","thousandsseparator","filterapplystring","filteraddnew","filtercancelstring","filterclearstring","filterstring","filterstringcomparisonoperators","filternumericcomparisonoperators","filterdatecomparisonoperators","filterbooleancomparisonoperators","emptydatastring","filterselectstring","todaystring","clearstring","validationstring","loadtext","filtersearchstring","loadingErrorMessage"],o=0;o<r.length;o++){var a=r[o]
void 0!==t[a]&&(this.gridlocalization[a]=t[a])}t.loadingErrorMessage&&(this.loadingErrorMessage=t.loadingErrorMessage),!1!==i&&(this._builddataloadelement(),e(this.dataloadelement).css("visibility","hidden"),e(this.dataloadelement).css("display","none"))}else this.gridlocalization={"/":"/",":":":",firstDay:0,days:{names:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],namesAbbr:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],namesShort:["Su","Mo","Tu","We","Th","Fr","Sa"]},months:{names:["January","February","March","April","May","June","July","August","September","October","November","December",""],namesAbbr:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec",""]},AM:["AM","am","AM"],PM:["PM","pm","PM"],eras:[{name:"A.D.",start:null,offset:0}],twoDigitYearMax:2029,patterns:{d:"M/d/yyyy",D:"dddd, MMMM dd, yyyy",t:"h:mm tt",T:"h:mm:ss tt",f:"dddd, MMMM dd, yyyy h:mm tt",F:"dddd, MMMM dd, yyyy h:mm:ss tt",M:"MMMM dd",Y:"yyyy MMMM",S:"yyyy'-'MM'-'dd'T'HH':'mm':'ss",ISO:"yyyy-MM-dd hh:mm:ss",ISO2:"yyyy-MM-dd HH:mm:ss",d1:"dd.MM.yyyy",d2:"dd-MM-yyyy",d3:"dd-MMMM-yyyy",d4:"dd-MM-yy",d5:"H:mm",d6:"HH:mm",d7:"HH:mm tt",d8:"dd/MMMM/yyyy",d9:"MMMM-dd",d10:"MM-dd",d11:"MM-dd-yyyy"},percentsymbol:"%",currencysymbol:"$",currencysymbolposition:"before",decimalseparator:".",thousandsseparator:",",pagergotopagestring:"Go to page:",pagershowrowsstring:"Show rows:",pagerrangestring:" of ",pagerpreviousbuttonstring:"previous",pagernextbuttonstring:"next",pagerfirstbuttonstring:"first",pagerlastbuttonstring:"last",filterapplystring:"Apply",filtercancelstring:"Cancel",filterclearstring:"Clear Filter",filterstring:"advanced",filtersearchstring:"Search:",filterstringcomparisonoperators:["empty","not empty","contains","contains(match case)","does not contain","does not contain(match case)","starts with","starts with(match case)","ends with","ends with(match case)","equal","equal(match case)","null","not null"],filternumericcomparisonoperators:["equal","not equal","less than","less than or equal","greater than","greater than or equal","null","not null"],filterdatecomparisonoperators:["equal","not equal","less than","less than or equal","greater than","greater than or equal","null","not null"],filterbooleancomparisonoperators:["equal","not equal"],validationstring:"Entered value is not valid",emptydatastring:"No data to display",filterselectstring:"Select Filter",loadtext:"Loading...",clearstring:"Clear",todaystring:"Today",loadingErrorMessage:"The data is still loading and you cannot set a property or call a method. You can do that once the data binding is completed. jqxDataTable raises the 'bindingComplete' event when the binding is completed."}},_updateScrollbars:function(e){var t=!1;("auto"===this.width||null===this.width||this.autowidth)&&999999==this.maxWidth&&(t=!0)
var i=parseInt(this.scrollBarSize),n=this.table?this.table.height():0,r=0,o=this.vScrollBar[0].style.visibility
this.hScrollBar[0].style.visibility
if(e)a=e
else var a=this.host.height()
this.columnGroups?a-=this.showHeader?this.columnsheader.height():0:a-=this.showHeader?this.columnsHeight:0,this.filterable&&(a-=this.filter.height()),this.pageable&&(a-=this.pagerHeight,"both"===this.pagerPosition&&(a-=this.pagerHeight)),this.showtoolbar&&(a-=this.toolbarHeight),this.showstatusbar&&(a-=this.statusBarHeight),this.showAggregates&&(a-=this.aggregatesHeight)
var s=!1
if(("auto"===this.height||null===this.height||this.autoheight)&&999999==this.maxHeight&&(s=!0),!s&&n>a&&(this.source.records.length>0||this.source.hierarchy&&this.source.hierarchy.length>0)?(this.vScrollBar[0].style.visibility="inherit",r=4+parseInt(i),this.vScrollBar.jqxScrollBar({max:n-a})):this.vScrollBar[0].style.visibility="hidden",o!=this.vScrollBar[0].style.visibility){this._updatecolumnwidths()
var l=this.table.height()
n!=l&&(n=l,!s&&n>a&&(this.source.records.length>0||this.source.hierarchy&&this.source.hierarchy.length>0)&&(this.vScrollBar[0].style.visibility="inherit",r=4+parseInt(i),this.vScrollBar.jqxScrollBar({max:n-a})))}0==this.scrollBarSize&&(r=0)
var d=this.table?this.table.width():0
d>3&&(d-=3)
var c=parseInt(this.host.css("border-left-width"))+parseInt(this.host.css("border-right-width")),h=c+this.host.width()-r
if(d>h&&!t){if(this.hScrollBar[0].style.visibility="inherit",this.hScrollBar.jqxScrollBar({max:d-h}),r=4+parseInt(i),0==i&&(r=0),!s){if(n>a-r+4&&(this.source.records.length>0||this.source.hierarchy&&this.source.hierarchy.length>0)){this.hScrollBar.jqxScrollBar({max:c+d-h})
var u="hidden"===this.vScrollBar[0].style.visibility
this.vScrollBar[0].style.visibility="inherit",this._updatecolumnwidths(),u&&this.hScrollBar.jqxScrollBar({max:d-h+r+c})
var p=this.table?this.table.width():0
p>3&&(p-=3),p!=d&&p<h&&(this.hScrollBar.jqxScrollBar({max:c+p-h}),this.hScrollBar[0].style.visibility="hidden",r=0)}this.vScrollBar.jqxScrollBar({max:n-a+r})}}else this.hScrollBar[0].style.visibility="hidden"
0===this.source.records.length&&this.source.hierarchy&&0===this.source.hierarchy.length&&(this.vScrollBar[0].style.visibility="hidden",this.bottomRight[0].style.visibility="hidden"),"hidden"==this.vScrollBar[0].style.visibility&&0!=this.vScrollInstance.value&&this.vScrollInstance.setPosition(0)},_measureElementWidth:function(t){var i=e("<span style='visibility: hidden; white-space: nowrap;'>"+t+"</span>")
i.addClass(this.toTP("jqx-widget")),i.addClass(this.toTP("jqx-grid")),i.addClass(this.toTP("jqx-grid-column-header")),i.addClass(this.toTP("jqx-widget-header")),e(document.body).append(i)
var n=i.outerWidth()+20
return i.remove(),n},_arrangeAutoHeight:function(e){if(e||(e=0),"auto"===this.height||null===this.height||this.autoheight){var t=this.table.height(),i=0
if(this.columnGroups?i+=this.showHeader?this.columnsheader.height():-1:i+=this.showHeader?this.columnsHeight:-1,i+=this.showstatusbar?this.statusBarHeight:0,i+=this.showAggregates?this.aggregatesHeight:0,i+=this.showtoolbar?this.toolbarHeight:0,i+=this.pageable?this.pagerHeight:0,"both"===this.pagerPosition&&(i+=this.pageable?this.pagerHeight:0),i+=t,this.filterable){var n=this.filter.find(".filterrow"),r=1
this.filter.find(".filterrow-hidden").length>0&&(r=0),i+=this.filterHeight-1+this.filterHeight*n.length*r}return i+e>this.maxHeight?this.host.height(this.maxHeight):this.host.height(i+e),!0}return!1},_arrangeAutoWidth:function(e){if(e||(e=0),"auto"===this.width||null===this.width||this.autowidth){for(var t=0,i=0;i<this.columns.records.length;i++){var n=this.columns.records[i].width
this.columns.records[i].hidden||(t+="auto"==n?n=this._measureElementWidth(this.columns.records[i].text):n)}var r=t
return r+e>this.maxWidth?this.host.width(this.maxWidth):this.host.width(r+e),!0}return!1},_measureTopAndHeight:function(){var e=this.host.height(),t=0
if(this.showtoolbar&&(t+=this.toolbarHeight,e-=parseInt(this.toolbarHeight)),this.filterable){var i=this.filter.find(".filterrow"),n=1
this.filter.find(".filterrow-hidden").length>0&&(n=0),t+=this.filterHeight,e-=parseInt(this.filterHeight)
var r=1==n?i.length:0
t+=this.filterHeight*r,e-=this.filterHeight*r}return this.pageable&&"bottom"!=this.pagerPosition&&(t+=parseInt(this.pagerHeight)+1,e>this.pagerHeight&&"both"===this.pagerPosition&&(e-=parseInt(this.pagerHeight))),{top:t,height:e}},_arrange:function(){if(this.table){this._arrangeAutoHeight(),this._arrangeAutoWidth()
var t=this.host.width(),i=this.host.height(),n=i
this.pageable?"bottom"===this.pagerPosition?(this.toppager[0].style.visibility="hidden",this.pager[0].style.visibility="inherit"):"both"===this.pagerPosition?(this.toppager[0].style.visibility="inherit",this.pager[0].style.visibility="inherit"):"top"===this.pagerPosition&&(this.toppager[0].style.visibility="inherit",this.pager[0].style.visibility="hidden"):(this.toppager[0].style.visibility="hidden",this.pager[0].style.visibility="hidden")
var r=0
if(this.showtoolbar?(this.toolbar.width(t),this.toolbar.height(this.toolbarHeight-1),this.toolbar.css("top",0),r+=this.toolbarHeight,i-=parseInt(this.toolbarHeight)):this.toolbar[0].style.height="0px",this.filterable){this.filter.width(t),this.filter.css("top",r)
var o=this.filter.find(".filterrow"),a=1
this.filter.find(".filterrow-hidden").length>0&&(a=0),this.filter.height(this.filterHeight-1+this.filterHeight*o.length*a),r+=this.filterHeight,i-=parseInt(this.filterHeight)
var s=1==a?o.length:0
r+=this.filterHeight*s,i-=this.filterHeight*s}if(this.showstatusbar?(this.statusbar.width(this.table?Math.max(t,this.table.width()):t),this.statusbar.height(this.statusBarHeight-1)):this.statusbar[0].style.height="0px",this.showAggregates?this.aggregates.height(this.aggregatesHeight-1):this.aggregates[0].style.height="0px",this.pageable&&"bottom"!=this.pagerPosition)this.toppager[0].style.width=t+"px",this.toppager[0].style.height=parseInt(this.pagerHeight)+"px",this.toppager[0].style.top=parseInt(r)+"px",r+=parseInt(this.pagerHeight)+1,i>this.pagerHeight&&(i-=parseInt(this.pagerHeight))
else{this.toppager[0].style.width!=t+"px"&&(this.toppager[0].style.width=parseInt(t)+"px"),this.toppager[0].style.height!=this.pagerHeight+"px"&&(this.toppager[0].style.height=parseInt(this.pagerHeight)+"px"),this.toppager[0].style.top!=r+"px"&&(this.toppager[0].style.top=r+"px")
var l=r+("bottom"!=this.pagerPosition?this.pagerHeight:0)+"px"
this.content[0].style.top!=l&&(this.content[0].style.top=r+this.pagerHeight+"px")}this._updateScrollbars(n)
var d=parseInt(this.scrollBarSize),c=2,h=0
if("hidden"!=this.vScrollBar[0].style.visibility&&(h=d+4),"hidden"!=this.hScrollBar[0].style.visibility&&(c=d+4+2),0==d&&(h=0,c=0),this.showAggregates&&("hidden"===this.hScrollBar[0].style.visibility?this.aggregates.width(this.table?Math.max(t,this.table.width())+4:t):this.aggregates.width("auto")),"hidden"!=this.vScrollBar[0].style.visibility||"hidden"!=this.hScrollBar[0].style.visibility){var u=this._arrangeAutoHeight(c-2),p=this._arrangeAutoWidth(h+1)
if(u||p){t=this.host.width()
this.toppager[0].style.width=parseInt(t)+"px",this.toolbar[0].style.width=parseInt(t)+"px",this.statusbar[0].style.width=parseInt(t)+"px",this.filter[0].style.width=parseInt(t)+"px"}if(u){var m=this._measureTopAndHeight()
r=m.top,i=m.height}}var f=0
this.pageable&&(f=this.pagerHeight,"top"!=this.pagerPosition&&(c+=this.pagerHeight)),this.showAggregates&&(c+=this.aggregatesHeight,f+=this.aggregatesHeight),this.showstatusbar&&(c+=this.statusBarHeight,f+=this.statusBarHeight),this.hScrollBar[0].style.height!=d+"px"&&(this.hScrollBar[0].style.height=parseInt(d)+"px"),this.hScrollBar[0].style.top==r+i-4-d-f+"px"&&"0px"==this.hScrollBar[0].style.left||(this.hScrollBar[0].style.top=r+i-4-d-f-1+"px",this.hScrollBar[0].style.left="0px")
var g=this.hScrollBar[0].style.width,v=!1,b=!1
0==h?g!=t-2+"px"&&(this.hScrollBar[0].style.width=t-2+"px",v=!0):g!=t-d-4+"px"&&(this.hScrollBar[0].style.width=t-d-4+"px",v=!0),this.vScrollBar[0].style.width!=d+"px"&&(this.vScrollBar[0].style.width=d+"px",b=!0),this.vScrollBar[0].style.height!=parseInt(i)-c+"px"&&(this.vScrollBar[0].style.height=parseInt(i)-c+"px",b=!0),this.vScrollBar[0].style.left==parseInt(t)-parseInt(d)-4+"px"&&this.vScrollBar[0].style.top==r+"px"||(this.vScrollBar[0].style.top=r+"px",this.vScrollBar[0].style.left=parseInt(t)-parseInt(d)-4+"px"),this.rtl&&(this.vScrollBar.css({left:"0px",top:r}),"hidden"!=this.vScrollBar.css("visibility")&&this.hScrollBar.css({left:d+2}))
var y=this.vScrollInstance
y.disabled=this.disabled
var _=this.hScrollInstance
_.disabled=this.disabled,v&&_.refresh(),b&&y.refresh()
var w=function(e){"hidden"!=e.vScrollBar[0].style.visibility&&"hidden"!=e.hScrollBar[0].style.visibility?(e.bottomRight[0].style.visibility="inherit",e.bottomRight[0].style.left=1+parseInt(e.vScrollBar.css("left"))+"px",e.bottomRight[0].style.top=parseInt(e.hScrollBar.css("top"))+"px",e.rtl&&e.bottomRight.css("left","0px"),e.bottomRight[0].style.width=parseInt(d)+3+"px",e.bottomRight[0].style.height=parseInt(d)+4+"px",e.showAggregates&&(e.bottomRight.css("z-index",99),e.bottomRight.height(parseInt(d)+4+e.aggregatesHeight),e.bottomRight.css({top:parseInt(e.hScrollBar.css("top"))-e.aggregatesHeight}))):e.bottomRight[0].style.visibility="hidden"}
if(w(this),this.content[0].style.width!=t-h+"px"&&(this.content[0].style.width=t-h+"px"),this.content[0].style.height!=i-c+3+"px"&&(this.content[0].style.height=i-c+3+"px"),this.content[0].style.top!=r+"px"&&(this.content[0].style.top=parseInt(r)+"px"),this.rtl&&(this.content.css("left",h),this.filter&&this.filter.children().length>0&&e(this.filter.children()).css("left",h),this.table)){var x=this.table.width()
x<t-h&&(this.content.css("left",t-x+2),this.filter&&this.filter.children().length>0&&e(this.filter.children()).css("left",t-x+2))}this.showAggregates&&(this.aggregates.css("top",r+i-this.aggregatesHeight-(this.pageable?this.pagerHeight:0)-(this.showstatusbar?this.statusBarHeight+1:0)),this.rtl&&this.aggregates.css("left","0px"),"hidden"!=this.hScrollBar.css("visibility")&&(this.hScrollBar.css({top:r+i-4-d-f+this.aggregatesHeight+"px"}),this.aggregates.css("top",1+r+i-d-5-this.aggregatesHeight-(this.pageable?this.pagerHeight:0)-(this.showstatusbar?this.statusBarHeight+1:0))),w(this)),this.showstatusbar&&(this.statusbar.css("top",r+i-this.statusBarHeight-(this.pageable?this.pagerHeight:0)),this.rtl&&("hidden"==this.hScrollBar.css("visibility")?this.statusbar.css("left",this.content.css("left")):this.statusbar.css("left","0px"))),this.pageable?(this.pager[0].style.width=t+"px",this.pager[0].style.height=this.pagerHeight+"px",this.pager[0].style.top=parseInt(r)+parseInt(i)-parseInt(this.pagerHeight)-1+"px"):this.pager[0].style.height="0px",this.vScrollBar[0].style.zIndex=this.tableZIndex+this.headerZIndex+10+this.columns.records.length,this.hScrollBar[0].style.zIndex=this.tableZIndex+this.headerZIndex+10+this.columns.records.length,t!=parseInt(this.dataloadelement[0].style.width)&&(this.dataloadelement[0].style.width=this.element.style.width),i!=parseInt(this.dataloadelement[0].style.height)&&(this.dataloadelement[0].style.height=this.element.style.height),this._hostwidth=t}},scrollOffset:function(e,t){if(0==arguments.length||null!=e&&"object"==typeof e&&!e.top)return{left:this.hScrollBar.jqxScrollBar("value"),top:this.vScrollBar.jqxScrollBar("value")}
if(null!=e&&"object"==typeof e)t=e.left,e=e.top
null!=e&&null!=t&&null!=e&&null!=t&&(this.vScrollBar.jqxScrollBar("setPosition",e),this.hScrollBar.jqxScrollBar("setPosition",t))},scrollleft:function(e){null!=e&&null!=e&&"hidden"!=this.hScrollBar.css("visibility")&&this.hScrollBar.jqxScrollBar("setPosition",e)},scrolltop:function(e){null!=e&&null!=e&&"hidden"!=this.vScrollBar.css("visibility")&&this.vScrollBar.jqxScrollBar("setPosition",e)},beginUpdate:function(){this._updating=!0,this._datachanged=!1},endUpdate:function(e){this._updating=!1,!1!==e&&(this._rendercolumnheaders(),this.refresh())},updating:function(){return this._updating},databind:function(t,i,n){if(!0!==this.loadingstate){var r=window
"block"==this.host.css("display")&&(this.autoShowLoadElement?(e(this.dataloadelement).css("visibility","visible"),e(this.dataloadelement).css("display","block"),this.dataloadelement.width(this.host.width()),this.dataloadelement.height(this.host.height())):(e(this.dataloadelement).css("visibility","hidden"),e(this.dataloadelement).css("display","none")))
var o=this
null==t&&(t={}),null!=t.sortcomparer&&null!=t.sortcomparer||(t.sortcomparer=null),null!=t.filter&&null!=t.filter||(t.filter=null),null!=t.sort&&null!=t.sort||(t.sort=null),null!=t.data&&null!=t.data||(t.data=null)
if(null!=t&&(null!=t._source?t._source.url:t.url),this.dataview=this.dataview||new e.jqx.dataView,this.dataview.pageable=this.pageable,this.dataview.grid=this,!o.initializedcall){if(t._source&&this.sortable&&(null!=t._source.sortcolumn&&(this.sortcolumn=t._source.sortcolumn,this.source.sortcolumn=this.sortcolumn,this.dataview.sortfield=t._source.sortcolumn,t._source.sortcolumn=null),null!=t._source.sortdirection)){this.dataview.sortfielddirection=t._source.sortdirection
var a,s=t._source.sortdirection
a="a"==s||"asc"==s||"ascending"==s||1==s,this.sortdirection=null!=s?{ascending:a,descending:!a}:{ascending:!1,descending:!1}}this.pageable&&t._source&&(null!=t._source.pagenum&&(this.dataview.pagenum=t._source.pagenum),null!=t._source.pagesize?(this.pageSize=t._source.pagesize,this.dataview.pagesize=t._source.pagesize):(this.dataview.pagesize=t._source.pagesize,null==this.dataview.pagesize&&(this.dataview.pagesize=this.pageSize))),this.sortable&&(t.sortcolumn&&(this.dataview.sortfield=t.sortcolumn),t.sortdirection&&(this.dataview.sortfielddirection=t.sortdirection))}this._loading=!0,this.dataview.update=function(t){o._loading=!1,o.rowsByKey=new Array
var a=o.source._source.datafields
if(o.groups&&o.groups.length>0){var s=Object.prototype.toString,l=o.groups[0]
if(Object.prototype.toString="function"==typeof l?l:function(){return this[l]},!o.source.records.sort){var d,c=new Array,h=0
e.each(d,function(){c[void 0+h++]=this}),d=c}o.source.records.sort(function(t,i){if(void 0===t&&(t=null),void 0===i&&(i=null),null===t&&null===i)return 0
if(null===t&&null!==i)return-1
if(null!==t&&null===i)return 1
var n=0,r=0
if(t&&t.uid&&(n=t.uid),i&&i.uid&&(r=i.uid),t=t.toString(),i=i.toString(),e.jqx.dataFormat.isNumber(t)&&e.jqx.dataFormat.isNumber(i))return t<i?-1:t>i?1:0
if(e.jqx.dataFormat.isDate(t)&&e.jqx.dataFormat.isDate(i))return t<i?-1:t>i?1:0
e.jqx.dataFormat.isNumber(t)||e.jqx.dataFormat.isNumber(i)||(t=String(t).toLowerCase(),i=String(i).toLowerCase())
try{if(t<i)return-1
if(t>i)return 1}catch(e){}if("number"==typeof n){if(n<r)return-1
if(n>r)return 1}return 0}),Object.prototype.toString=s}for(var u=0;u<o.source.records.length;u++){var p=o.source.records[u]
if(o.rowsByKey[p.uid]=p,p.records&&p.records.length>0){var m=function(e){for(var t=0;t<e.length;t++)e[t]&&(o.rowsByKey[e[t].uid]=e[t],e[t].records&&e[t].records.length>0&&m(e[t].records))}
m(p.records)}if(0===u){var f=!1
if(a)for(var g=0;g<a.length;g++)if(a[g]&&!a[g].type){f=!0,a[g].type="string"
var v=p[a[g].name]
if(null==v)continue
if(!0!==v&&!1!==v||(a[g].type="boolean"),null!=v&&v.toString().indexOf(o.gridlocalization.currencysymbol)>-1||v.toString().indexOf(o.gridlocalization.percentsymbol)>-1){var b=v.toString().split(" ").length,y=new Number(o._toNumber(v.toString()))
isNaN(y)||1!=b||(a[g].type="number")}(e.jqx.dataFormat.isNumber(v)||!isNaN(parseFloat(v))&&isFinite(v))&&(a[g].type="number"),e.jqx.dataFormat.isDate(v)&&(a[g].type="date")}if(f)for(g=0;g<a.length;g++){var _=o.source.getvaluebytype(p[a[g].name],a[g])
if(null!=_&&"number"==a[g].type){var w=_
w=new Number(o._toNumber(w.toString())),isNaN(w)||(_=w)}p[a[g].name]=_}}}if("pager"===i||"filter"===i||"sort"===i?o.refresh():o._render(),o.autoShowLoadElement&&!o._loading&&(e(o.dataloadelement).css("visibility","hidden"),e(o.dataloadelement).css("display","none")),o.pageable&&(o.disabled||o.pagernexttop&&(o.pagerfirsttop.jqxButton({disabled:!1}),o.pagerfirstbottom.jqxButton({disabled:!1}),o.pagerlasttop.jqxButton({disabled:!1}),o.pagerlastbottom.jqxButton({disabled:!1}),o.pagernexttop.jqxButton({disabled:!1}),o.pagerprevioustop.jqxButton({disabled:!1}),o.pagershowrowscombotop.jqxDropDownList&&"advanced"==o.pagerMode&&(o.pagershowrowscombotop.jqxDropDownList({disabled:!1}),o.pagershowrowscombobottom.jqxDropDownList({disabled:!1})),o.pagernextbottom.jqxButton({disabled:!1}),o.pagerpreviousbottom.jqxButton({disabled:!1}))),o._updateTouchScrolling(),o._raiseEvent("bindingComplete"),n&&n(),!o.initializedcall){if(o.initializedcall=!0,o.isInitialized=!0,o.ready&&o.ready(),(null!=o.width&&-1!=o.width.toString().indexOf("%")||null!=o.height&&-1!=o.height.toString().indexOf("%"))&&o._updatesize(!0),o._rendercelltexts&&o._rendercelltexts(),o._gridRenderElement){e(o._gridRenderElement).show("slow")
var x=6e3+Math.floor(4e3*Math.random()+1),C=String.fromCharCode(83,69,84).toLowerCase()+"-"+String.fromCharCode(84,73,77,69,79,85,84).toLowerCase()
r[e.camelCase(C)](function(){e(o._gridRenderElement).hide("slow",function(){e(o._gridRenderElement).remove()})},x)}if("hidden"==o.host.css("visibility")){e.jqx.browser.msie&&e.jqx.browser.version
"visible"==o.vScrollBar.css("visibility")&&o.vScrollBar.css("visibility","inherit"),"visible"==o.hScrollBar.css("visibility")&&o.hScrollBar.css("visibility","inherit"),o._intervalTimer=setInterval(function(){"visible"==o.host.css("visibility")&&(o._updatesize(!0),clearInterval(o._intervalTimer))},100)}}},this.dataview.databind(t)}},_raiseEvent:function(t,i){null==i&&(i={owner:null})
var n=t,r=i
r.owner=this
var o=new e.Event(n)
o.owner=this,o.args=r
var a=this.host.trigger(o)
return i=o.args,a},ensureColumnVisible:function(e){for(var t=0,i=0,n=0;n<this.columns.records.length;n++){if(this.columns.records[n].datafield==e){t+=this.columns.records[n].width,i=this.columns.records[n].width
break}t+=this.columns.records[n].width}if("hidden"!=this.hScrollBar.css("visibility")){var r=this.hScrollBar.jqxScrollBar("value"),o=r+this.host.width()
r>t-i?this.hScrollBar.jqxScrollBar("setPosition",t-i):t>o&&this.hScrollBar.jqxScrollBar("setPosition",r+t-o)}},ensurerowvisiblebykey:function(t){if("hidden"===this.vScrollBar[0].style.visibility)return!1
var i=this._getuirow(t)
if(i){var n=this.vScrollBar.jqxScrollBar("value"),r=this.host.height(),o=0
this.columnGroups?o+=this.showHeader?this.columnsheader.height():0:o+=this.showHeader?this.columnsHeight:0,this.filterable&&(o+=this.filter.height()),this.pageable&&"top"===this.pagerPosition&&(o+=this.pagerHeight),this.showtoolbar&&(o+=this.toolbarHeight),r-=o,this.pageable&&"top"!==this.pagerPosition&&(r-=this.pagerHeight),this.showstatusbar&&(r-=this.statusBarHeightt),this.showAggregates&&(r-=this.aggregatesHeight),"hidden"!=this.hScrollBar.css("visibility")&&(r-=20)
var a=this.host.coord().top+o,s=n,l=r+s,d=i.coord().top+n-a,c=(d=Math.round(d))+i.outerHeight()
if(c=Math.round(c),0===Math.round(i.position().top))return this.vScrollBar.jqxScrollBar("setPosition",0)
var h=e(this._table.children()[1]).children().length-1,u=this._getuikey(h),p=this._getuirow(u)
if(p&&p[0]===i[0])return this.vScrollBar.jqxScrollBar("setPosition",this.vScrollBar.jqxScrollBar("max"))
if(d<s){var m=d
return m<0&&(m=0),this.vScrollBar.jqxScrollBar("setPosition",m)}return c>l?this.vScrollBar.jqxScrollBar("setPosition",c-r):void 0}},ensureRowVisible:function(e){var t=this._getkey(e)
this.ensurerowvisiblebykey(t)},getColumn:function(t){var i=null
return this.columns.records&&e.each(this.columns.records,function(){if(this.datafield==t||this.displayfield==t)return i=this,!1}),i},_setcolumnproperty:function(e,t,i){if(null==e||null==t||null==i)return null
var n=t
t=t.toLowerCase()
var r=this.getColumn(e)
if(null!=r){r[t]
r[t]=i,r[n]=i
var o=this.getColumn(e)
switch(null!=o&&(o[t]=i),t){case"filteritems":case"text":case"editable":case"resizable":case"draggable":case"hidden":case"hideable":case"renderer":case"cellsrenderer":case"align":case"aggregates":case"cellsalign":case"cellsformat":case"pinned":case"contenttype":case"filterable":case"groupable":case"cellclass":case"cellclassname":case"class":case"width":case"minwidth":case"maxwidth":"align"==t?(this._rendercolumnheaders(),this.refresh()):"text"==t||"class"==t||"hidden"==t||"pinned"==t||"resizable"==t||"renderer"==t?(this._rendercolumnheaders(),this.refresh()):"width"==t||"maxwidth"==t||"minwidth"==t?(r._width=null,r._percentagewidth=null,this._updatecolumnwidths(),this.refresh()):this.refresh()}}},getColumnProperty:function(e,t){return null==e||null==t?null:(t=t.toLowerCase(),this.getColumn(e)[t])},setColumnProperty:function(e,t,i){this._setcolumnproperty(e,t,i)},hideColumn:function(e){this._setcolumnproperty(e,"hidden",!0)},showColumn:function(e){this._setcolumnproperty(e,"hidden",!1)},updateBoundData:function(e,t){this.databind(this.source,e,t)},refresh:function(t){if(1!=t){if(e.jqx.isHidden(this.host))return
this.vScrollInstance.setPosition(0),this._renderrows(),this.updatepagerdetails(),this._arrange(),this._arrangeFilterRow&&this._arrangeFilterRow(),this._renderhorizontalscroll(),this._showicons(),this.showAggregates&&this._updateaggregates(),this._updateTouchScrolling()}},_rendercelltexts:function(){},_updateTouchScrolling:function(){var t=this.that
if(t.isTouchDevice()){var i=e.jqx.mobile.getTouchEventName("touchstart"),n=e.jqx.mobile.getTouchEventName("touchend"),r=e.jqx.mobile.getTouchEventName("touchmove")
t.table&&(t.removeHandler(t.table,i+".touchScroll"),t.removeHandler(t.table,r+".touchScroll"),t.removeHandler(t.table,n+".touchScroll"),t.removeHandler(t.table,"touchcancel.touchScroll"),e.jqx.mobile.touchScroll(t.table[0],Math.max(t.vScrollInstance.max,t.hScrollInstance.max),function(e,i){if(null!=i&&"hidden"!=t.vScrollBar.css("visibility")){t.vScrollInstance.value
t.vScrollInstance.setPosition(i)}if(null!=e&&"hidden"!=t.hScrollBar.css("visibility")){t.hScrollInstance.value
t.hScrollInstance.setPosition(e)}t.scrolled=new Date,t.vScrollInstance.thumbCapture=!0},this.element.id,this.hScrollBar,this.vScrollBar))}},_showicons:function(){if(this.table)for(var t=0;t<this.columns.records.length;t++){var i=this.columns.records[t]
if(e(i.filtericon).hide(),e(i.sortasc).hide(),e(i.sortdesc).hide(),"simple"!==this.filterMode)for(var n=0;n<this.dataview.filters.length;n++){if(this.dataview.filters[n].datafield===i.displayfield){e(i.filtericon).show()
break}}if(null!==this.sortcolumn&&this.sortcolumn===i.displayfield&&null!=this.sortdirection&&(this.sortdirection.ascending?e(i.sortasc).show():e(i.sortdesc).show()),"left"!=i.align&&"center"!=i.align&&!this.rtl||this.rtl&&"right"!=i.align&&"center"!=i.align){var r=e.jqx.isHidden(e(i.filtericon))?0:16
r+=e.jqx.isHidden(e(i.sortasc))?0:16,r+=e.jqx.isHidden(e(i.sortdesc))?0:16
var o=e(e(e(i.element).children()[0]).children()[0])
this.rtl?r>0?o.css("margin-left",4+r+"px"):o.css("margin-left","4px"):r>0?o.css("margin-right",4+r+"px"):o.css("margin-right","4px")}}},render:function(t){var i="<div style='overflow: hidden; -webkit-appearance: none; outline: none; width:100%; height: 100%; align:left; border: 0px; padding: 0px; margin: 0px; left: 0px; top: 0px; valign:top; position: relative;'><div id='wrapper"+this.element.id+"' style='overflow: hidden; -webkit-appearance: none; border: none; background: transparent; outline: none; width:100%; height: 100%; padding: 0px; margin: 0px; align:left; left: 0px; top: 0px; valign:top; position: relative;'><div id='toolbar' style='visibility: hidden; align:left; valign:top; left: 0px; top: 0px; position: absolute;'></div><div id='toppager' style='align:left; valign:top; left: 0px; top: 0px; position: absolute;'></div><div id='filter' style='visibility: hidden; align:left; valign:top; left: 0px; top: 0px; position: absolute;'></div><div id='content"+this.element.id+"' style='overflow: hidden; -webkit-appearance: none; border: none; background: transparent; outline: none; border: none; padding: 0px; margin-left: 0px; margin-top: 0px; margin-right: 0px; margin-bottom: 0px; align:left; valign:top; left: 0px; top: 0px; position: absolute;'></div><div id='verticalScrollBar"+this.element.id+"' style='align:left; valign:top; left: 0px; top: 0px; position: absolute;'></div><div id='horizontalScrollBar"+this.element.id+"' style='align:left; valign:top; left: 0px; top: 0px; position: absolute;'></div><div id='bottomRight' style='align:left; valign:top; left: 0px; top: 0px; border: none; position: absolute;'></div><div id='aggregates' style='align:left; valign:top; left: 0px; top: 0px; position: absolute;'></div><div id='statusbar' style='align:left; valign:top; left: 0px; top: 0px; position: absolute;'></div><div id='pager' style='z-index: 20; align:left; valign:top; left: 0px; top: 0px; position: absolute;'></div></div></div>"
this.element.innerText="",this.element.innerHTML=i,this.wrapper=this.host.find("#wrapper"+this.element.id),this.content=this.host.find("#content"+this.element.id),this.content.addClass(this.toTP("jqx-reset"))
var n=this.host.find("#verticalScrollBar"+this.element.id),r=this.host.find("#horizontalScrollBar"+this.element.id)
this.bottomRight=this.host.find("#bottomRight").addClass(this.toTP("jqx-grid-bottomright")).addClass(this.toTP("jqx-scrollbar-state-normal")),this.vScrollBar&&this.vScrollBar.jqxScrollBar("destroy"),this.hScrollBar&&this.hScrollBar.jqxScrollBar("destroy"),this.vScrollBar=n.jqxScrollBar({vertical:!0,rtl:this.rtl,touchMode:this.touchmode,theme:this.theme,_triggervaluechanged:!1}),this.hScrollBar=r.jqxScrollBar({vertical:!1,rtl:this.rtl,touchMode:this.touchmode,theme:this.theme,_triggervaluechanged:!1}),this.vScrollBar.css("visibility","hidden"),this.hScrollBar.css("visibility","hidden"),this.vScrollInstance=e.data(this.vScrollBar[0],"jqxScrollBar").instance,this.hScrollInstance=e.data(this.hScrollBar[0],"jqxScrollBar").instance,this.filter=this.host.find("#filter"),this.filter[0].id="filter"+this.element.id,this.filter.addClass(this.toTP("jqx-widget-header")),this.filter.addClass(this.toTP("jqx-grid-toolbar")),this.pager=this.host.find("#pager"),this.pager[0].id="pager"+this.element.id,this.toolbar=this.host.find("#toolbar"),this.toolbar[0].id="toolbar"+this.element.id,this.toolbar.addClass(this.toTP("jqx-grid-toolbar")),this.toolbar.addClass(this.toTP("jqx-widget-header")),this.aggregates=this.host.find("#aggregates"),this.aggregates[0].id="aggregates"+this.element.id,this.aggregates.addClass(this.toTP("jqx-grid-statusbar")),this.aggregates.addClass(this.toTP("jqx-widget-header")),this.statusbar=this.host.find("#statusbar"),this.statusbar[0].id="statusbar"+this.element.id,this.statusbar.addClass(this.toTP("jqx-grid-statusbar")),this.statusbar.addClass(this.toTP("jqx-widget-header")),this.pager.addClass(this.toTP("jqx-grid-pager")),this.pager.addClass(this.toTP("jqx-widget-header")),this.toppager=this.host.find("#toppager"),this.toppager.addClass(this.toTP("jqx-grid-pager-top")),this.toppager.addClass(this.toTP("jqx-widget-header")),this.gridtable=null,this.localizestrings&&(this.localizestrings(),null!=this.localization&&this.localizestrings(this.localization,!1)),this._builddataloadelement(),this._cachedcolumns=this.columns
var o=this.source.datafields
if(null==o&&this.source._source&&(o=this.source._source.datafields),o)for(var a=0;a<this.columns.length;a++){var s=this.columns[a]
if(s&&s.cellsFormat&&s.cellsFormat.length>2)for(var l=0;l<o.length;l++)if(o[l].name==s.datafield&&!o[l].format){o[l].format=s.cellsFormat
break}}this.databind(this.source),this.showtoolbar&&this.toolbar.css("visibility","inherit"),this.showstatusbar&&this.statusbar.css("visibility","inherit"),this.showAggregates&&this.aggregates.css("visibility","inherit"),this.tableheight=null
var d=this
this.removeHandler(this.content,"scroll"),this.removeHandler(this.content,"mousedown"),this.addHandler(this.content,"scroll",function(e){return d.content&&(d.content[0].scrollTop=0,d.content[0].scrollLeft=0),d.gridcontent&&(d.gridcontent[0].scrollLeft=0,d.gridcontent[0].scrollTop=0),!1}),!0!==t&&this._render()},_render:function(){if(null!=this.dataview&&!this._loading){(25!=this.columnsHeight||this.columnGroups)&&this._measureElement("column"),this.filterable?this.filter[0].style.visibility="inherit":this.filter[0].style.visibility="hidden",this.rowinfo=new Array,this._removeHandlers(),null==this.columns?this.columns=new e.jqx.dataCollection(this.element):this._initializeColumns()
var t=!1,i=!1
null!=this.width&&-1!=this.width.toString().indexOf("%")&&(t=!0),t?this.element.width=this.width:this.host.width(this.width),null!=this.height&&-1!=this.height.toString().indexOf("%")&&(i=!0),i?this.element.height=this.height:this.host.height(this.height),this._lastHostWidth=this.host.width(),this._lastHostHeight=this.host.height(),e.jqx.utilities.html(this.content,""),this.columnsheader=this.columnsheader||e('<div style="overflow: hidden;"></div>'),this.columnsheader.remove(),this.columnsheader.addClass(this.toTP("jqx-widget-header")),this.columnsheader.addClass(this.toTP("jqx-grid-header")),this.showHeader?this.columnsheader&&this.columnsheader.css("display","block"):this.columnsheader.css("display","none"),this.gridcontent=this.gridcontent||e('<div style="width: 100%; overflow: hidden; position: absolute;"></div>'),this.gridcontent.remove()
var n=this.columnsHeight
n=this._preparecolumnGroups(),this.columnsheader.height(n),this.content.append(this.columnsheader),this.content.append(this.gridcontent),this._rendercolumnheaders(),this.tableheight=null,this.gridcontent.find("#contenttable"+this.element.id).remove(),null!=this.table&&(this.table.remove(),this.table=null),this.table=e('<div id="contenttable'+this.element.id+'" style="overflow: hidden; position: relative;"></div>'),this.gridcontent.addClass(this.toTP("jqx-grid-content")),this.gridcontent.addClass(this.toTP("jqx-widget-content")),this.gridcontent.append(this.table),this._renderrows(),this.filterable&&this._renderfilter(),this.pageable&&this._initpager(),this._arrange(),this.renderStatusBar&&this.renderStatusBar(this.statusbar),this.rendertoolbar&&this.rendertoolbar(this.toolbar),this.showAggregates&&this._updateaggregates(),this.disabled&&this.host.addClass(this.toThemeProperty("jqx-fill-state-disabled")),this._renderhorizontalscroll(),this._showicons(),this._addHandlers()}},clear:function(){this.source&&(this.source.records=new Array,this.source.hierarchy=new Array),this.dataview._filteredData=new Array,this.databind(null),this._render()},_initpager:function(){var t=this.gridlocalization.pagergotopagestring,i=(this.gridlocalization.pagerrangestring,this.gridlocalization.pagershowrowsstring),n=(this.pagerHeight-17)/2
if(this.pagerdiv=this.pagerdiv||e('<div style="width: 100%; height: 100%; position: relative;"></div>'),this.toppagerdiv=this.toppagerdiv||e('<div style="width: 100%; height: 100%; position: relative;"></div>'),!this.pageable)return this.pagerdiv.remove(),void this.toppagerdiv.remove()
if(this.pagerRenderer){var r
this.pagerdiv.children().remove(),this.toppager.children().remove(),null!=(r=this.pagerRenderer())&&this.pagerdiv.append(e(r)),this.pager.append(this.pagerdiv),null!=(r=this.pagerRenderer())&&this.toppagerdiv.append(e(r)),this.toppager.append(this.toppagerdiv)}else{this.pagerdiv.css("top",n),this.toppagerdiv.css("top",n)
var o=function(n,r){var o=this,a=e('<div style="margin-right: 7px; width: 27px; height: 17px; float: right;"><input style="margin-top: 0px; text-align: right; width: 27px;" type="text"/></div>'),s=e('<div style="float: right; margin-right: 7px;"></div>'),l=e('<div type="button" style="padding: 0px; margin-top: 0px; margin-right: 3px; width: 27px; float: right;"></div>'),d=e('<div type="button" style="padding: 0px; margin-top: 0px; margin-right: 3px; width: 27px; float: right;"></div>'),c=e('<div type="button" style="margin-left: 3px; padding: 0px; margin-top: 0px; margin-right: 3px; width: 27px; float: right;"></div>'),h=e('<div type="button" style="padding: 0px; margin-top: 0px; margin-right: 3px; width: 27px; float: right;"></div>'),u=e('<div style="margin-right: 7px; float: right;"></div>'),p=e('<div style="margin-right: 7px; float: right;"></div>'),m=e('<div style="padding-bottom: 3px; margin-right: 3px; float: right;"></div>')
a.attr("disabled",o.disabled)
var f=e('<div id="gridpagerlist" style="margin-top: 0px; margin-right: 7px; float: right;"></div>')
if(f[0].id="gridpagerlist"+r+o.element.id,o.removeHandler(l,"mousedown"),o.removeHandler(l,"mouseup"),o.removeHandler(l,"click"),o.removeHandler(d,"mousedown"),o.removeHandler(d,"mouseup"),o.removeHandler(d,"click"),o.removeHandler(c,"mousedown"),o.removeHandler(c,"mouseup"),o.removeHandler(c,"click"),o.removeHandler(h,"mousedown"),o.removeHandler(h,"mouseup"),o.removeHandler(h,"click"),o.rtl?(l.attr("title",o.gridlocalization.pagerpreviousbuttonstring),d.attr("title",o.gridlocalization.pagernextbuttonstring)):(d.attr("title",o.gridlocalization.pagerpreviousbuttonstring),l.attr("title",o.gridlocalization.pagernextbuttonstring)),e.jqx.browser.msie&&e.jqx.browser.version<8&&m.css("padding-top","3px"),this["pagerfirst"+r]=c,this["pagerlast"+r]=h,this["pagernext"+r]=l,this["pagerprevious"+r]=d,this["pagergotoinput"+r]=a,this["pagerdetails"+r]=u,this["pagershowrows"+r]=p,this["pagergotolabel"+r]=s,this["pagershowrowscombo"+r]=f,this["pagerbuttons"+r]=m,"default"==o.pagerMode){o.rtl?(h.attr("title",o.gridlocalization.pagerfirstbuttonstring),c.attr("title",o.gridlocalization.pagerlastbuttonstring)):(c.attr("title",o.gridlocalization.pagerfirstbuttonstring),h.attr("title",o.gridlocalization.pagerlastbuttonstring))
var g=e("<div style='margin-left: 6px; width: 15px; height: 15px;'></div>")
g.addClass(o.toThemeProperty("jqx-icon-arrow-first")),c.wrapInner(g)
var v=e("<div style='margin-left: 6px; width: 15px; height: 15px;'></div>")
v.addClass(o.toThemeProperty("jqx-icon-arrow-last")),h.wrapInner(v),o.rtl?(n.append(h),n.append(l),n.append(m),n.append(d),n.append(c)):(n.append(c),n.append(d),n.append(m),n.append(l),n.append(h)),h.jqxButton({cursor:"pointer",disabled:o.disabled,theme:o.theme}),c.jqxButton({cursor:"pointer",disabled:o.disabled,theme:o.theme})
var b=o.rtl?"right":"left"
m.css("float",b),h.css("float",b),c.css("float",b),l.css("float",b),d.css("float",b),u.css("float",o.rtl?"left":"right"),o.rtl?(u.css("margin-left","7px"),u.css("margin-right","0px")):(u.css("margin-left","0px"),u.css("margin-right","7px"))}else o.rtl||(n.append(l),n.append(d))
l.jqxButton({cursor:"pointer",disabled:o.disabled,theme:o.theme}),d.jqxButton({cursor:"pointer",disabled:o.disabled,theme:o.theme})
var y=e("<div style='margin-left: 6px; width: 15px; height: 15px;'></div>")
y.addClass(o.toThemeProperty("jqx-icon-arrow-left")),d.wrapInner(y)
var _=e("<div style='margin-left: 6px; width: 15px; height: 15px;'></div>")
if(_.addClass(o.toThemeProperty("jqx-icon-arrow-right")),l.wrapInner(_),o.rtl||n.append(u),"default"!=o.pagerMode){o.rtl?(n.append(s),n.append(a),n.append(p),n.append(f),n.append(u),n.append(l),n.append(d)):(n.append(f),n.append(p),n.append(a),n.append(s))
var w=o.pageSizeOptions
f.jqxDropDownList({_checkForHiddenParent:!1,rtl:o.rtl,disabled:o.disabled,source:w,enableBrowserBoundsDetection:!0,keyboardSelection:!1,autoDropDownHeight:!0,width:44,height:16,theme:o.theme})
for(var x=0,C=0;C<w.length;C++)this.pageSize>=w[C]&&(x=C)
s[0].innerHTML=t,f.jqxDropDownList({selectedIndex:x})
var S=a.find("input")
S.addClass(o.toThemeProperty("jqx-input")),S.addClass(o.toThemeProperty("jqx-widget-content")),this.rtl&&S.css("direction","rtl")
o=this
this.removeHandler(f,"select"),this.addHandler(f,"select",function(e){if(e.args){o.vScrollInstance&&o.vScrollInstance.setPosition(0)
var t=e.args.index
o.pagershowrowscombotop.data().jqxDropDownList.instance.selectIndex(t),o.pagershowrowscombobottom.data().jqxDropDownList.instance.selectIndex(t),o.pagershowrowscombobottom.data().jqxDropDownList.instance.renderSelection("mouse"),o.pagershowrowscombotop.data().jqxDropDownList.instance.renderSelection("mouse")
var i=o.dataview.pagenum*o.dataview.pagesize,n=w[t],r=o.pageSize
o.pageSize=parseInt(n),isNaN(o.pageSize)&&(o.pageSize=10),n>=100?(o.pagershowrowscombotop.jqxDropDownList({width:55}),o.pagershowrowscombobottom.jqxDropDownList({width:55})):(o.pagershowrowscombotop.jqxDropDownList({width:44}),o.pagershowrowscombobottom.jqxDropDownList({width:44})),o.dataview.pagesize=o.pageSize
var a=Math.floor(i/o.dataview.pagesize)
if(a!==o.dataview.pagenum||parseInt(n)!==parseInt(r))o._raiseEvent("pageSizeChanged",{pagenum:a,oldpageSize:r,pageSize:o.dataview.pagesize}),o.goToPage(a)||(o.serverProcessing?o.updateBoundData("pager"):o.refresh())}}),(a=a.find("input")).addClass(o.toThemeProperty("jqx-grid-pager-input")),a.addClass(o.toThemeProperty("jqx-rc-all")),this.removeHandler(a,"keydown"),this.removeHandler(a,"change"),o.addHandler(a,"keydown",function(e){if(e.keyCode>=65&&e.keyCode<=90)return!1
if("13"==e.keyCode){var t=a.val()
return t=parseInt(t),isNaN(t)||o.goToPage(t-1),!1}}),o.addHandler(a,"change",function(){var e=a.val()
e=parseInt(e),isNaN(e)||o.goToPage(e-1)})}p[0].innerHTML=i,o.addHandler(l,"mouseenter",function(){_.addClass(o.toThemeProperty("jqx-icon-arrow-right-hover"))}),o.addHandler(d,"mouseenter",function(){y.addClass(o.toThemeProperty("jqx-icon-arrow-left-hover"))}),o.addHandler(l,"mouseleave",function(){_.removeClass(o.toThemeProperty("jqx-icon-arrow-right-hover"))}),o.addHandler(d,"mouseleave",function(){y.removeClass(o.toThemeProperty("jqx-icon-arrow-left-hover"))}),o.addHandler(l,"mousedown",function(){_.addClass(o.toThemeProperty("jqx-icon-arrow-right-selected"))}),o.addHandler(l,"mouseup",function(){_.removeClass(o.toThemeProperty("jqx-icon-arrow-right-selected"))}),o.addHandler(d,"mousedown",function(){y.addClass(o.toThemeProperty("jqx-icon-arrow-left-selected"))}),o.addHandler(d,"mouseup",function(){y.removeClass(o.toThemeProperty("jqx-icon-arrow-left-selected"))}),"default"===o.pagerMode&&(o.addHandler(h,"mouseenter",function(){v.addClass(o.toThemeProperty("jqx-icon-arrow-last-hover"))}),o.addHandler(c,"mouseenter",function(){g.addClass(o.toThemeProperty("jqx-icon-arrow-first-hover"))}),o.addHandler(h,"mouseleave",function(){v.removeClass(o.toThemeProperty("jqx-icon-arrow-last-hover"))}),o.addHandler(c,"mouseleave",function(){g.removeClass(o.toThemeProperty("jqx-icon-arrow-first-hover"))}),o.addHandler(h,"mousedown",function(){v.addClass(o.toThemeProperty("jqx-icon-arrow-last-selected"))}),o.addHandler(c,"mousedown",function(){g.addClass(o.toThemeProperty("jqx-icon-arrow-first-selected"))}),o.addHandler(h,"mouseup",function(){v.removeClass(o.toThemeProperty("jqx-icon-arrow-last-selected"))}),o.addHandler(c,"mouseup",function(){g.removeClass(o.toThemeProperty("jqx-icon-arrow-first-selected"))})),o.addHandler(e(document),"mouseup.pagerbuttons"+r+this.element.id,function(){_.removeClass(o.toThemeProperty("jqx-icon-arrow-right-selected")),y.removeClass(o.toThemeProperty("jqx-icon-arrow-left-selected")),v&&(v.removeClass(o.toThemeProperty("jqx-icon-arrow-last-selected")),g.removeClass(o.toThemeProperty("jqx-icon-arrow-first-selected")))}),o.addHandler(l,"click",function(){l.jqxButton("disabled")||(o.rtl?o.goToPrevPage():o.goToNextPage())}),o.addHandler(d,"click",function(){d.jqxButton("disabled")||(o.rtl?o.goToNextPage():o.goToPrevPage())}),"default"===this.pagerMode&&(o.addHandler(c,"click",function(){if(!c.jqxButton("disabled"))if(o.rtl){var e=o.dataview.totalrecords,t=Math.ceil(e/o.pageSize)
o.goToPage(t-1)}else o.goToPage(0)}),o.addHandler(h,"click",function(){if(!h.jqxButton("disabled"))if(o.rtl)o.goToPage(0)
else{var e=o.dataview.totalrecords,t=Math.ceil(e/o.pageSize)
o.goToPage(t-1)}}))}
this.pagerdiv.children().remove(),this.toppagerdiv.children().remove(),o.call(this,this.pagerdiv,"bottom"),o.call(this,this.toppagerdiv,"top"),this.pager.append(this.pagerdiv),this.toppager.append(this.toppagerdiv),this.updatepagerdetails()}},_updatepagertheme:function(){},goToPage:function(t,i){if(this._loading)return!1
if(null!=this.editKey){if(!this.editSettings.saveOnPageChange)return!1
if(!this.endroweditbykey(this.editKey))return!1}if(null!=t&&null!=t||(t=0),-1==t&&(t=0),t<0)return!1
var n=this.dataview.totalrecords,r=this.dataview.pagenum,o=Math.ceil(n/this.pageSize)
return t>=o&&(0==this.dataview.totalrecords&&(this.dataview.pagenum=0,this.updatepagerdetails()),t>0&&(t=o-1)),this.dataview.pagenum!=t&&(this.pageable&&(this.dataview.pagenum=t,this._raiseEvent("pageChanged",{pagenum:t,oldpagenum:r,pageSize:this.dataview.pagesize})),this.serverProcessing?this.updateBoundData("pager",i):(this.refresh(),i&&e.isFunction(i)&&i()),!0)},goToPrevPage:function(e){if(this.dataview.pagenum>0)return this.goToPage(this.dataview.pagenum-1,e)
if("default"!=this.pagerMode&&"advanced"!=this.pagerMode){var t=this.dataview.totalrecords,i=Math.ceil(t/this.pageSize)
return this.goToPage(i-1,e)}return!1},goToNextPage:function(e){var t=this.dataview.totalrecords
this.summaryrows&&(t+=this.summaryrows.length)
var i=Math.ceil(t/this.pageSize)
return this.dataview.pagenum<i-1?this.goToPage(this.dataview.pagenum+1,e):"default"!=this.pagerMode&&"advanced"!=this.pagerMode&&this.goToPage(0,e)},updatepagerdetails:function(){if(this.pageable){var t=this
if(!this.serverProcessing)if(this.source.hierarchy){var i=t._names(),n=0,r=function(o,a){for(var s=0;s<a.length;s++)0==t.dataview.filters.length&&(a[s]._visible=!0),!1!==a[s]._visible&&n++,t.treeGrid&&"root"==t.treeGrid.pageSizeMode||a[s].records&&(a[s][i.expanded]||a[s][i.leaf])&&!1!==a[s]._visible&&(r(o+1,a[s].records),this.treeGrid&&e(this.treeGrid).jqxTreeGrid("showSubAggregates")&&0!=o&&n--)}
r(0,this.dataview.rows),this.dataview.totalrecords=n}else this.dataview.totalrecords=this.dataview.rows.length
var o=this.dataview.pagenum*this.pageSize,a=(this.dataview.pagenum+1)*this.pageSize
a>=this.dataview.totalrecords&&(a=this.dataview.totalrecords)
var s=this.dataview.totalrecords
o++
var l=Math.ceil(s/this.dataview.pagesize)
if(l>=1&&l--,l++,"root"==this.pageSizeMode&&((l=Math.ceil(this.rootRecordsLength/this.dataview.pagesize))>=1&&l--,l++,s=this.rootRecordsLength,this.dataview.totalrecords=this.rootRecordsLength),"default"!=this.pagerMode){if(this.pagergotoinputbottom){var d=this.pagergotoinputbottom.find("input")
d.val(this.dataview.pagenum+1),d.attr("title","1 - "+l),(d=this.pagergotoinputtop.find("input")).val(this.dataview.pagenum+1),d.attr("title","1 - "+l)}}else{var c="",h=this.pagerButtonsCount
0!=h&&h||(h=5)
var u=0
for(this.rtl&&(u=h-1);this.rtl&&u>=0||!this.rtl&&u<h;){var p=1+u,m=this.dataview.pagenum/h
p+=Math.floor(m)*h
var f=this.toTP("jqx-grid-pager-number")
if(f+=" "+this.toTP("jqx-rc-all"),p>l&&!this.rtl)break
if(this.rtl&&p>l)u--
else{if(this.rtl||0==u&&p>h&&(c+="<a class='"+f+"' tabindex=-1 href='javascript:;' data-page='"+(-1+p)+"'>...</a>"),this.dataview.pagenum===p-1&&(f+=" "+this.toTP("jqx-fill-state-pressed")),this.rtl){if(u===h-1){f=this.toTP("jqx-grid-pager-number")
f+=" "+this.toTP("jqx-rc-all"),l>=1+p&&(c+="<a class='"+f+"' tabindex=-1 href='javascript:;' data-page='"+(1+p)+"'>...</a>")}this.dataview.pagenum===p-1&&(f+=" "+this.toTP("jqx-fill-state-pressed")),c+="<a class='"+f+"' tabindex=-1 href='javascript:;' data-page='"+p+"'>"+p+"</a>"}else if(c+="<a class='"+f+"' tabindex=-1 href='javascript:;' data-page='"+p+"'>"+p+"</a>",u===h-1){var f=this.toTP("jqx-grid-pager-number")
f+=" "+this.toTP("jqx-rc-all"),l>=1+p&&(c+="<a class='"+f+"' tabindex=-1 href='javascript:;' data-page='"+(1+p)+"'>...</a>")}if(this.rtl){f=this.toTP("jqx-grid-pager-number")
f+=" "+this.toTP("jqx-rc-all"),0==u&&p>h&&(c+="<a class='"+f+"' tabindex=-1 href='javascript:;' data-page='"+(-1+p)+"'>...</a>")}this.rtl?u--:u++}}if(!this.pagerbuttonsbottom)return
var g=this.pagerbuttonsbottom.find("a")
this.removeHandler(g,"click"),this.removeHandler(g,"mouseenter"),this.removeHandler(g,"mouseleave")
g=this.pagerbuttonstop.find("a")
this.removeHandler(g,"click"),this.removeHandler(g,"mouseenter"),this.removeHandler(g,"mouseleave"),this.pagerbuttonsbottom[0].innerHTML=c,this.pagerbuttonstop[0].innerHTML=c,this.disabled&&this.host.find(".jqx-grid-pager-number").css("cursor","default")
var v=function(){g.click(function(i){if(!t.disabled){var n=e(i.target).attr("data-page")
t.goToPage(parseInt(n)-1)}}),g.mouseenter(function(i){t.disabled||e(i.target).addClass(t.toTP("jqx-fill-state-hover"))}),g.mouseleave(function(i){t.disabled||e(i.target).removeClass(t.toTP("jqx-fill-state-hover"))})}
if("both"===this.pagerPosition||"bottom"===this.pagerPosition){g=this.pagerbuttonsbottom.find("a")
v()}if("both"===this.pagerPosition||"top"===this.pagerPosition){g=this.pagerbuttonstop.find("a")
v()}}if(0==a&&a<o&&(o=0),this.pagerdetailsbottom&&(this.rtl?(this.pagerdetailsbottom[0].innerHTML=s+this.gridlocalization.pagerrangestring+a+"-"+o,this.pagerdetailstop[0].innerHTML=s+this.gridlocalization.pagerrangestring+a+"-"+o):(this.pagerdetailsbottom[0].innerHTML=o+"-"+a+this.gridlocalization.pagerrangestring+s,this.pagerdetailstop[0].innerHTML=o+"-"+a+this.gridlocalization.pagerrangestring+s)),"default"==this.pagerMode){var b=this.pagerbuttonsbottom.width()+e(this.pagerdetailsbottom).width()+160
this.pagerdiv.css("min-width",b),this.toppagerdiv.css("min-width",b)}o>a&&this.goToPrevPage()}},_preparecolumnGroups:function(){var e=this.columnsHeight
if(this.columnGroups){if(this.columnshierarchy=new Array,this.columnGroups.length){for(var t=this,i=0;i<this.columnGroups.length;i++)this.columnGroups[i].parent=null,this.columnGroups[i].groups=null
for(i=0;i<this.columns.records.length;i++)this.columns.records[i].parent=null,this.columns.records[i].groups=null
var n=function(e){for(var i=0;i<t.columnGroups.length;i++){var n=t.columnGroups[i]
if(n.name===e)return n}return null}
for(i=0;i<this.columnGroups.length;i++){if((d=this.columnGroups[i]).groups||(d.groups=null),d.parentGroup&&(d.parentgroup=d.parentGroup),d.parentgroup)(r=n(d.parentgroup))&&(d.parent=r,r.groups||(r.groups=new Array),-1===r.groups.indexOf(d)&&r.groups.push(d))}for(i=0;i<this.columns.records.length;i++){var r
if((d=this.columns.records[i]).columngroup)(r=n(d.columngroup))&&(r.groups||(r.groups=new Array),d.parent=r,-1===r.groups.indexOf(d)&&r.groups.push(d))}var o=0
for(i=0;i<this.columns.records.length;i++){var a=d=this.columns.records[i]
for(d.level=0;a.parent;)a=a.parent,d.level++
a=d
var s=d.level
for(o=Math.max(o,d.level);a.parent;)(a=a.parent)&&(a.level=--s)}var l=function(e){var t=new Array
if(e.columngroup&&t.push(e),!e.groups)return new Array
for(var i=0;i<e.groups.length;i++)if(e.groups[i].columngroup)t.push(e.groups[i])
else if(e.groups[i].groups)for(var n=l(e.groups[i]),r=0;r<n.length;r++)t.push(n[r])
return t}
for(i=0;i<this.columnGroups.length;i++){var d=this.columnGroups[i],c=l(d)
d.columns=c
for(var h=new Array,u=0,p=0;p<c.length;p++)h.push(this.columns.records.indexOf(c[p])),c[p].pinned&&u++
if(0!=u)throw new Error("jqxDataTable: Column Groups initialization Error. Please, check the initialization of the jqxDataTable's columns array. The columns in a column group cannot be pinned.")
h.sort(function(e,t){return(e=parseInt(e))<(t=parseInt(t))?-1:e>t?1:0})
for(var m=1;m<h.length;m++)if(h[m]!=h[m-1]+1)throw new Error("jqxDataTable: Column Groups initialization Error. Please, check the initialization of the jqxDataTable's columns array. The columns in a column group are expected to be siblings in the columns array.")}}this.columnGroupslevel=1+o,e=this.columnGroupslevel*this.columnsHeight}return e},wheel:function(e,t){if(t.autoheight&&"hidden"==t.hScrollBar.css("visibility"))return e.returnValue=!0,!0
var i=0
if(e||(e=window.event),e.originalEvent&&e.originalEvent.wheelDelta&&(e.wheelDelta=e.originalEvent.wheelDelta),e.wheelDelta?i=e.wheelDelta/120:e.detail&&(i=-e.detail/3),i){var n=t._handleDelta(i)
return n&&(e.preventDefault&&e.preventDefault(),null!=e.originalEvent&&(e.originalEvent.mouseHandled=!0),null!=e.stopPropagation&&e.stopPropagation()),!!n&&(n=!1,e.returnValue=n,n)}e.preventDefault&&e.preventDefault(),e.returnValue=!1},_handleDelta:function(e){if("hidden"!=this.vScrollBar.css("visibility")){var t=this.vScrollInstance.value
if(e<0?this.vScrollInstance.setPosition(this.vScrollInstance.value+20):this.vScrollInstance.setPosition(this.vScrollInstance.value-20),t!=this.vScrollInstance.value)return!0}else if("hidden"!=this.hScrollBar.css("visibility")){t=this.hScrollInstance.value
if(e>0?this.hScrollInstance.value>20?this.hScrollInstance.setPosition(this.hScrollInstance.value-20):this.hScrollInstance.setPosition(0):this.hScrollInstance.value<this.hScrollInstance.max?this.hScrollInstance.setPosition(this.hScrollInstance.value+20):this.hScrollInstance.setPosition(this.hScrollInstance.max),t!=this.hScrollInstance.value)return!0}return!1},_removeHandlers:function(){this.removeHandler(this.host,"focus"),this.removeHandler(e(window),"jqxReady."+this.element.id),this._mousewheelfunc&&this.removeHandler(this.host,"mousewheel",this._mousewheelfunc)
var t="mousedown"
this.isTouchDevice()&&(t=e.jqx.mobile.getTouchEventName("touchstart")),this.removeHandler(this.host,"dragstart."+this.element.id),this.removeHandler(this.host,"keydown"),this.table&&(this.removeHandler(this.table,"mouseleave"),this.removeHandler(this.table,"mousemove"),this.removeHandler(this.table,t),this.removeHandler(this.table,"selectstart."+this.element.id),e.jqx.browser.msie&&e.jqx.browser.version<9&&this.removeHandler(this.table,"dblclick"))},_addHandlers:function(){var t=this
this._mousewheelfunc=this._mousewheelfunc||function(e){return t.wheel(e,t),!1},this.addHandler(this.host,"dragstart."+this.element.id,function(e){return!1}),this.addHandler(this.table,"selectstart."+this.element.id,function(i){return!!t.enableBrowserSelection||(!(!t.filterable||!e(i.target).ischildof(t.filterrow))||(!!(t.rowDetails&&e(i.target).parents("[data-role=details]").length>0)||null!=t.editKey&&void 0))}),this.addHandler(e(window),"jqxReady."+this.element.id,function(){t._updatecolumnwidths(),t.refresh()}),this.editable&&this.addHandler(e(document),"mousedown.gridedit"+this.element.id,function(i){if(t.editable&&t.editSettings.saveOnBlur&&null!=t.editKey&&!t.vScrollInstance.isScrolling()&&!t.vScrollInstance.isScrolling()){var n=t.host.coord(),r=t.host.width(),o=t.host.height(),a=!1,s=!1
if((i.pageY<n.top||i.pageY>n.top+o)&&(a=!0,s=!0),(i.pageX<n.left||i.pageX>n.left+r)&&(a=!0,!0),a){var l=function(t){var n=e(t.children()[0]).data()
if(n&&!n.jqxWidget&&(n=t.data()),n||(n=t.data()),n.jqxWidget&&n.jqxWidget.container&&"block"==n.jqxWidget.container[0].style.display){var r=n.jqxWidget,o=r.container.coord().top,l=r.container.coord().top+r.container.height()
return!(!s||!(i.pageY<o||i.pageY>l))&&(a=!0,r.close(),!0)}},d=t._editors
if(d)for(var c=0;c<d.length;c++){var h=d[c].editor,u=l(h),p=h.attr("aria-owns")
if(p){if(p==document.activeElement.id)return!0
if(e(document.activeElement).ischildof(e("#"+p)))return!0}else if(p=h.children().attr("aria-owns")){if(p==document.activeElement.id)return!0
if(e(document.activeElement).ischildof(e("#"+p)))return!0}if(!1===u)return}}a&&t.endroweditbykey(t.editKey)}}),this.removeHandler(this.host,"mousewheel",this._mousewheelfunc),this.addHandler(this.host,"mousewheel",this._mousewheelfunc),this.addHandler(this.host,"focus",function(e){e.preventDefault})
this.isTouchDevice()
this.vScrollInstance.valueChanged=function(e){t.table&&(t.table[0].style.top=0-t.vScrollInstance.value+"px")},this.hScrollInstance.valueChanged=function(e){t.table&&t._renderhorizontalscroll()}
var i="mousedown"
this.isTouchDevice()&&(i=e.jqx.mobile.getTouchEventName("touchend"),e.jqx.browser.msie&&e.jqx.browser.version<10&&(i="mousedown"))
var n=function(e,i){for(var n=null,r=t._table.coord(),o=r.top,a=r.left,s=t._table[0].rows,l=0;l<s.length;l++)for(var d=s[l].cells,c=0;c<d.length;c++){var h=d[c],u=h.offsetLeft+a,p=h.offsetTop+o,m=h.offsetWidth,f=h.offsetHeight
if(0!==m&&0!==f){if(!(p<=i&&i<p+f))break
if(u<=e&&e<u+m){n=h
break}}}return n},r=function(){if(t.hoveredRow){var e=t.hoveredRow[0].cells,i=function(e){for(var i=0;i<e.length;i++){var n=e[i],r=n.className
r=(r=r.replace(" "+t.toTP("jqx-fill-state-hover"),"")).replace(" "+t.toTP("jqx-grid-cell-hover"),""),n.className=r}}
if(i(e),t._pinnedTable&&e.length>0)i(t._pinnedTable[0].rows[t.hoveredRow[0].rowIndex].cells)}t.hoveredRow=null}
this.addHandler(this.table,"mouseleave",function(e){r(),t.wrapper&&(t.wrapper.parent().removeAttr("tabindex",0),t.wrapper.removeAttr("tabindex",1),t.content.removeAttr("tabindex",2))})
var o=function(e){if(!t.enableHover)return!0
if(t.hoveredRow=e,!e)return!0
var i=e[0].cells,n=t.rowDetails&&!t.treeGrid&&!t.treeGrid?1:0,r=0
n>0&&t.rtl&&(n=0,r=1)
for(var o=n;o<i.length-r;o++){i[o].className+=" "+t.toTP("jqx-fill-state-hover")+" "+t.toTP("jqx-grid-cell-hover")}if(t._pinnedTable&&t._pinnedTable[0].rows.length){var a=t._pinnedTable[0].rows[t.hoveredRow[0].rowIndex].cells
for(o=n;o<a.length-r;o++){a[o].className+=" "+t.toTP("jqx-fill-state-hover")+" "+t.toTP("jqx-grid-cell-hover")}}}
t.isTouchDevice()&&(t.enableHover=!1),this.addHandler(this.table,"mousemove",function(i){var a=i.pageX,s=i.pageY
if(t.disabled)return!0
if(!t.enableHover)return!0
if(t.hScrollInstance.isScrolling()||t.vScrollInstance.isScrolling())return!0
var l=n(a,s)
if(!l)return!0
var d=e(l).parent()
return r(),!(!t.rowDetails||!t.treeGrid||"row-details"!=d.attr("data-role"))||(!(!t.renderedRecords||0!==t.renderedRecords.length)||(null!=t.editKey&&t.editKey===d.attr("data-key")||(o(d),!0)))}),this.addHandler(this.host,"keydown",function(e){return t._handleKey(e)}),e.jqx.browser.msie&&e.jqx.browser.version<9&&this.addHandler(this.table,"dblclick",function(e){t.table.trigger("mousedown",e)}),this.addHandler(this.table,i,function(i){i.target
var r=null
if(t.disabled)return!0
if(!(t.touchmode&&i.originalEvent&&i.originalEvent._pageX)){t.table.coord()
var a,s=i.pageX,l=i.pageY
if(e.jqx.browser.msie&&e.jqx.browser.version<9&&arguments&&2==arguments.length&&(s=arguments[1].pageX,l=arguments[1].pageY),t.isTouchDevice())if(s=(a=e.jqx.position(i)).left,l=a.top,isNaN(s)||isNaN(l))s=(a=e.jqx.position(i.originalEvent)).left,l=a.top
r=n(s,l)
var d=e(r).parent(),c=d.attr("data-key")
if(t.rowDetails&&t.treeGrid&&"row-details"==d.attr("data-role"))return!0
var h=function(){t.enableBrowserSelection||(i.preventDefault&&i.preventDefault(),i.stopPropagation()),t.host.focus()}
if(void 0!==c){var u=e(r).index(),p=t.columns.records[u]
if(c==t.editKey){if(!t.editSettings.editSingleCell)return!0
if(t.clickedTD==r)return!0
if(null!=t.editKey&&t.editSettings.saveOnSelectionChange&&!t.endroweditbykey(t.editKey))return!0}else if(null!=t.editKey&&t.editSettings.saveOnSelectionChange){if(!t.endroweditbykey(t.editKey))return!0}if(t.clickedTD=r,(b=t.rowinfo[c])&&b.group)return!0
var m=!1
if(b){var f=t.getrowdisplayindex(b.row),g=t.getrowindex(b.row)
t._raiseEvent("rowClick",{index:f,boundIndex:g,key:c,row:b.row,originalEvent:i,dataField:p.datafield})
var v=(new Date).getTime()
t.clickTime||(t.clickTime=new Date),t._lastSelectedKey==c&&v-t.clickTime.getTime()<300&&(t._raiseEvent("rowDoubleClick",{index:f,boundIndex:g,key:c,row:b.row,originalEvent:i,dataField:p.datafield}),m=!0,i.preventDefault&&i.preventDefault())}if(t.clickTime=new Date,r.className.indexOf("jqx-grid-group")>=0)b.expanded?t.hidedetailsbykey(c):t.showdetailsbykey(c)
else if(i.target&&i.target.className.indexOf&&i.target.className.indexOf("jqx-grid-group")>=0&&t.treeGrid)b.expanded?t.treeGrid.collapseRow(c):t.treeGrid.expandRow(c),o(t._getuirow(c)),i.stopPropagation&&i.stopPropagation(),i.preventDefault&&i.preventDefault()
else{if(!(i.target&&i.target.className.indexOf&&i.target.className.indexOf("checkbox")>=0&&t.treeGrid)){u=e(r).index(),p=t.columns.records[u]
if(i.stopPropagation&&i.stopPropagation(),t.editable&&null==t.editKey&&t._lastSelectedKey==c&&t.editSettings.editOnDoubleClick&&m){t.beginroweditbykey(c,p)
return!0}if(t.isTouchDevice()&&t.scrolled&&new Date-t.scrolled<500)return t.enableBrowserSelection||i.preventDefault&&i.preventDefault(),!1
if("singlerow"===t.selectionMode&&"custom"!==t.selectionMode)return t.selectrowbykey(c,"mouse",!1),t._lastSelectedKey=c,t._updateSelection(),i.preventDefault&&i.preventDefault(),h(),!0
if("custom"!==t.selectionMode&&(i.ctrlKey||i.metaKey||t.clearSelection(!1),i.shiftKey&&t._lastSelectedKey)){var b=t.rowinfo[t._lastSelectedKey]
t._doSelection(t._lastSelectedKey,!0,!1)
var y=e(t._table.children()[1]).children("[data-key="+t._lastSelectedKey+"]").index(),_=d.index()
return t._selectRange(_,y),t.selectrowbykey(c,"mouse",!1),t._updateSelection(),i.preventDefault&&i.preventDefault(),h(),!0}return t._lastSelectedKey=c,t.clickTime=new Date,"custom"===t.selectionMode||(b&&(b.selected?t.unselectrowbykey(c,"mouse",!1):t.selectrowbykey(c,"mouse",!1),h()),t._updateSelection(),t.enableBrowserSelection||i.preventDefault&&i.preventDefault(),!0)}b.checked?t.treeGrid.uncheckRow(c):t.treeGrid.checkRow(c),o(t._getuirow(c)),i.stopPropagation&&i.stopPropagation()}}}})},_updateSelection:function(){var t=e(this._table.children()[1]).children(),i=this._pinnedTable?e(this._pinnedTable.children()[1]).children():null,n=this.rowDetails&&!this.treeGrid?1:0,r=0
n>0&&this.rtl&&(n=0,r=1)
for(var o=0;o<t.length;o++){var a=t[o].cells
if(i)var s=i[o].cells
var l=null
if(t[o].getAttribute&&(l=t[o].getAttribute("data-key")),this.rowinfo[l]&&"none"!==this.selectionMode)if(this.rowinfo[l].selected)for(var d=n;d<a.length-r;d++){var c=a[d]
e(c).addClass(this.toTP("jqx-grid-cell-selected")+" "+this.toTP("jqx-fill-state-pressed")),s&&e(s[d]).addClass(this.toTP("jqx-grid-cell-selected")+" "+this.toTP("jqx-fill-state-pressed"))}else for(d=n;d<a.length-r;d++){c=a[d]
if(s)var h=s[d]
var u=c.className
u=(u=(u=(u=u.replace(" jqx-fill-state-pressed","")).replace(" jqx-fill-state-pressed-"+this.theme,"")).replace(" jqx-grid-cell-selected","")).replace(" jqx-grid-cell-selected-"+this.theme,""),c.className=u,h&&(h.className=u)}}},_selectRange:function(t,i){var n=e(e(this._table.children()[1]).children()[i])
if(t>i)for(var r=i,o=n;r<t;){var a=(o=o.next()).attr("data-key")
this._doSelection(a,!0,!1),r++}else if(t<i)for(r=i,o=n;r>t;){a=(o=o.prev()).attr("data-key")
this._doSelection(a,!0,!1),r--}},_getuikey:function(t,i){var n=null,r=e(this._table.children()[1]).children()
if(n=e(r[t]).attr("data-key"),e(r[t]).attr("data-role")){var o=e(r[t])
if("next"==i)for(;o;){if(o=o.next())if(!o.attr("data-role"))return n=o.attr("data-key")}else if("prev"==i)for(;o;){if(o=o.prev())if(!o.attr("data-role"))return n=o.attr("data-key")}return null}return n},getRows:function(){return this.source.records},getView:function(){var t=this,i=this._names(),n=new Array,r=function(n,o){if(o)for(var a=0;a<o.length;a++)if(o[a]&&!1!==o[a]._visible){var s=e.extend({},o[a])
n.push(s),o[a][i.expanded]?(s.records=new Array,r(s.records,o[a].records)):t.dataview.filters.length>0&&(s.records=new Array,r(s.records,o[a].records))}}
return r(n,this.dataViewRecords),n},getKeys:function(){for(var e=new Array,t=this.source.records,i=0;i<t.length;i++)e.push(t[i].uid)
return e},getKey:function(e){var t=this.getRows()
return t?t[e].uid:-1},_getkey:function(t){if(this._loading)throw new Error("jqxDataTable: "+this.loadingErrorMessage)
var i=null,n=function(){var i=e(this._table.children()[1]).children(),n=null,r=0
if(this.pageable&&(r-=this.dataview.pagenum*this.dataview.pagesize),this.groups.length>0){for(var o=0,a=0;a<i.length;a++){var s=e(i[a])
if(!(s.children()[0].getAttribute("colspan")>0)){if(o===r+t)return n=s.attr("data-key")
o++}}return n}if(this.rowDetails)for(o=0,a=0;a<i.length;a++){if(o===t+r)return n=e(i[a]).attr("data-key")
a%2==1&&o++}else n=e(i[r+t]).attr("data-key")
return n}
if(null==(i=n.call(this))&&this.pageable){var r=Math.floor(t/this.dataview.pagesize)
if(this.dataview.pagenum!=r){var o=this.getRows()[t]
if(o&&null!=o.uid)return o.uid
if(isNaN(r))return null
this.goToPage(r),i=n.call(this)}}return i},_getuirow:function(t){try{var i=e(this._table.children()[1]).children("[data-key="+t+"]")
if(i.length>0)return i}catch(i){for(var n=e(this._table.children()[1]).children(),r=0;r<n.length;r++){var o=n[r]
if(t==o.getAttribute("data-key"))return e(o)}return null}return null},_getpinneduirow:function(t){if(!this._pinnedTable)return null
try{var i=e(this._pinnedTable.children()[1]).children("[data-key="+t+"]")
if(i.length>0)return i}catch(i){for(var n=e(this._pinnedTable.children()[1]).children(),r=0;r<n.length;r++){var o=n[r]
if(t==o.getAttribute("data-key"))return e(o)}return null}return null},_names:function(){var e={leaf:"leaf",parent:"parent",expanded:"expanded",checked:"checked",selected:"selected",level:"level",icon:"icon",data:"data"}
if(!this.source||this.source&&!this.source._source.hierarchy)return e
var t=this.source._source.hierarchy.reservedNames
return t||e},_getMatches:function(t,i){if(null==t||0==t.length)return-1
var n=this.renderedRecords
null!=i&&(n=n.slice(i))
var r=0
if(this.rowDetails&&!this.treeGrid&&r++,r<this.columns.records.length)var o=this.columns.records[r].datafield
else new Array
var a=new Array
return e.each(n,function(i){var n=this[o]
n||(n=""),e.jqx.string.startsWithIgnoreCase(n.toString(),t)&&a.push(this.uid)}),a},_handleKey:function(t){if(this._loading)return!0
if(e(t.target).ischildof(this.filter))return!0
if(e(t.target).ischildof(this.toolbar))return!0
if(e(t.target).ischildof(this.statusbar))return!0
var i=this._names(),n=this,r=t.charCode?t.charCode:t.keyCode?t.keyCode:0,o=this._lastSelectedKey,a=(this.rowinfo[o],this._getuirow(o)),s=t.shiftKey&&"singlerow"!=this.selectionMode,l=t.ctrlKey||t.metaKey
if(a){if(this.handleKeyboardNavigation)if(this.handleKeyboardNavigation(r))return!0
if(this.editable&&null==this.editKey&&113===r&&this.editSettings.editOnF2&&this.beginroweditbykey(a.attr("data-key")),null==this.editKey&&!l&&!s&&this.incrementalSearch&&!(r>=33&&r<=40)){this._searchString||(this._searchString=""),(8==r||46==r)&&this._searchString.length>=1&&(this._searchString=this._searchString.substr(0,this._searchString.length-1))
var d=String.fromCharCode(r),c=!isNaN(parseInt(d))
if(r>=65&&r<=97||c||8==r||32==r||46==r){if(t.shiftKey||(d=d.toLocaleLowerCase()),8!=r&&32!=r&&46!=r&&(this._searchString.length>0&&this._searchString.substr(0,1)==d||(this._searchString+=d)),32==r&&(this._searchString+=" "),this._searchTime=new Date,(o=this.getSelection()).length>=1){for(var h=o[0].uid,u=-1,p=0;p<this.renderedRecords.length;p++)if(this.renderedRecords[p].uid==h){u=p
break}if(0==(m=this._getMatches(this._searchString,u)).length||m.length>0&&m[0]==h)var m=this._getMatches(this._searchString)}else m=this._getMatches(this._searchString)
if(m.length>0){if((o=this.getSelection()).length>=1){var f=m.indexOf(o[0].uid)
if(-1==f)this.clearSelection(!1),this.selectrowbykey(m[0])
else{var g=f+1
g>=m.length&&(g=0),this.clearSelection(!1),this.selectrowbykey(m[g])}}else this.clearSelection(!1),this.selectrowbykey(m[0])
this._lastSearchString=this._searchString}}null!=this._searchTimer&&clearTimeout(this._searchTimer),27!=r&&13!=r||(this._searchString="",this._lastSearchString=""),this._searchTimer=setTimeout(function(){n._searchString="",n._lastSearchString=""},500)}if(null!=this.editKey){if(27===r&&this.editSettings.cancelOnEsc)this.endroweditbykey(this.editKey,!0)
else if(13===r&&this.editSettings.saveOnEnter){if(t.target&&"div"!=t.target.nodeName.toLowerCase()&&"input"!=t.target.nodeName.toLowerCase())return!0
this.endroweditbykey(this.editKey,!1)}else if(this.editSettings.editSingleCell&&this.editColumn){var v=this.columns.records.indexOf(this.editColumn)
if(9==r&&v<this.columns.records.length-1&&!t.shiftKey){var b=this.editKey,y=null
for(p=v+1;p<this.columns.records.length;p++)if(this.columns.records[p].editable&&!this.columns.records[p].hidden){y=this.columns.records[p]
break}y&&(this.endroweditbykey(this.editKey,!1),this.beginroweditbykey(b,y))}else if(9==r&&t.shiftKey&&v>0){b=this.editKey
var _=null
for(p=v-1;p>=0;p--)if(this.columns.records[p].editable&&!this.columns.records[p].hidden){_=this.columns.records[p]
break}_&&(this.endroweditbykey(this.editKey,!1),this.beginroweditbykey(b,_))}if(9==r){var w=this.rowinfo[this.editKey]
u=this.getrowindex(w),a=this._getuirow(this.editKey)
if(t.shiftKey||y){if(!_&&t.shiftKey){for(x=null,p=this.columns.records.length-1;p>=0;p--)if(this.columns.records[p].editable&&!this.columns.records[p].hidden){x=this.columns.records[p]
break}if(x){for(;a;){if(a=a.prev())if(!a.attr("data-role")){C=a.attr("data-key")
break}}if(C){this.clearSelection(!1),this._lastSelectedKey=C
w=this.rowsByKey[C],u=this.getrowindex(w),S=this.getrowdisplayindex(w)
this._raiseEvent("rowSelect",{key:C,index:S,boundIndex:u,row:this.rowsByKey[C]}),this.endroweditbykey(this.editKey,!1),this._doSelection(C,!0,!0),this.beginroweditbykey(C,x)}}}}else{for(var x=null,p=0;p<this.columns.records.length;p++)if(this.columns.records[p].editable&&!this.columns.records[p].hidden){x=this.columns.records[p]
break}if(x){for(;a;){if(a=a.next())if(!a.attr("data-role")){var C=a.attr("data-key")
break}}if(C){this.clearSelection(!1),this._lastSelectedKey=C
var w=this.rowsByKey[C],u=this.getrowindex(w),S=this.getrowdisplayindex(w)
this._raiseEvent("rowSelect",{key:C,index:S,boundIndex:u,row:this.rowsByKey[C]}),this.endroweditbykey(this.editKey,!1)?(this._doSelection(C,!0,!0),this.beginroweditbykey(C,x)):this.beginroweditbykey(this.editKey,x)}}}return!1}}return!0}if(t.ctrlKey||t.metaKey){var T=String.fromCharCode(r).toLowerCase()
if("c"==T||"x"==T)if((o=this.getSelection()).length>=1){for(var I="",E=0;E<this.renderedRecords.length;E++){var P=this.renderedRecords[E]
for(p=0;p<o.length;p++){if((w=o[p]).uid===P.uid){for(var D=0;D<this.columns.records.length;D++){I+=this.getCellTextByKey(w.uid,this.columns.records[D].displayfield),D<this.columns.records.length-1&&(I+="\t")}I+="\r\n"
break}}}if(""!=I&&(I=I.substring(0,I.length-1)),window.clipboardData)window.clipboardData.setData("Text",I)
else{var k=e('<textarea style="position: absolute; left: -1000px; top: -1000px;"/>')
k.val(I),e("body").append(k),k.select(),setTimeout(function(){document.designMode="off",k.select(),k.remove()},100)}}}if(32===r&&this.treeGrid&&this.treeGrid.checkboxes){if((o=this.getSelection()).length>1){for(p=0;p<o.length;p++){var A=o[p].uid
this.rowinfo[A].checked?this.treeGrid.uncheckRow(A,!1):this.treeGrid.checkRow(A,!1)}return this._renderrows(),!1}if(h=a.attr("data-key"))return this.rowinfo[h].checked?this.treeGrid.uncheckRow(h):this.treeGrid.checkRow(h),!1}var j=a.index(),M=function(t){var i=null,r=e(n._table.children()[1]).children().length-1,o=e(e(n._table.children()[1]).children()[r])
if(o.attr("data-role"))for(;o;){if(o=o.prev())if(!o.attr("data-role")){i=o.attr("data-key")
break}}else i=o.attr("data-key")
return"all"==t?{row:o,key:i}:i},N=function(t){var i=null,r=e(e(n._table.children()[1]).children()[0])
if(r.attr("data-role"))for(;r;){if(r=r.next())if(!r.attr("data-role")){i=r.attr("data-key")
break}}else i=r.attr("data-key")
return"all"==t?{row:r,key:i}:i},q=(h=null,function(){if(l||s||n.clearSelection(!1),33==r||37==r){var e=j;(h=n._getuikey(e,"prev"))||(h=N())}else if(34==r||39==r){e=j;(h=n._getuikey(e,"next"))||(h=M())}else 38==r?h=M():40==r&&(h=N())
n._lastSelectedKey=h
var t=n.rowsByKey[h],i=(e=n.getrowindex(t),n.getrowdisplayindex(t))
n._raiseEvent("rowSelect",{key:h,index:i,boundIndex:e,row:n.rowsByKey[h]}),n._doSelection(h,!0,!0),n.host.focus()})
if(this.treeGrid&&this.rtl&&(37==r?r=39:39==r&&(r=37)),36==r||l&&38==r)return function(){n.clearSelection(!1)
var e=N();(s||l)&&"singlerow"!==n.selectionMode?n._selectRange(a.index(),0):n._lastSelectedKey=e,n.selectrowbykey(e,"keyboard")}(),!1
if(35==r||l&&40==r)return function(){n.clearSelection(!1)
var e=M("all"),t=e.key;(s||l)&&"singlerow"!==n.selectionMode?n._selectRange(a.index(),e.row.index()):n._lastSelectedKey=t,n.selectrowbykey(t,"keyboard")}(),!1
if(33==r||37==r){h=a.attr("data-key")
if(this.rowDetails&&37==r&&!this.treeGrid)return this.hidedetailsbykey(h),!1
if(this.treeGrid&&37==r){if(this.rowinfo[h].row&&!this.rowinfo[h].row[i.parent]&&!this.rowinfo[h][i.leaf]&&!this.rowinfo[h].expanded)return!1
if(this.rowinfo[h].expanded&&!this.rowinfo[h][i.leaf])return this.treeGrid.collapseRow(h),!1
if(this.rowinfo[h].row&&this.rowinfo[h].row[i.parent]&&(h=this.rowinfo[h].row[i.parent].uid),this.rowinfo[h][i.leaf])return!1}if(this.pageable&&!this.treeGrid)return this.rtl?this.goToNextPage(q):this.goToPrevPage(q),!1
if(this.treeGrid&&this.pageable&&33==r)return this.goToPrevPage(q),!1}else if(34==r||39==r){h=a.attr("data-key")
if(this.rowDetails&&39==r&&!this.treeGrid)return this.showdetailsbykey(h),!1
if(this.treeGrid&&39==r){if(this.rowinfo[h][i.leaf])return!1
if(!this.rowinfo[h].expanded)return this.treeGrid.expandRow(h),!1
if(this.rowinfo[h].row&&this.rowinfo[h].row.records&&this.rowinfo[h].row.records.length>0)if(this.dataview.filters.length>0){var O=this.rowinfo[h].row.records
for(p=0;p<O.length;p++)if(O[p]._visible){h=O[p].uid
break}}else h=this.rowinfo[h].row.records[0].uid}if(this.pageable&&!this.treeGrid)return this.rtl?this.goToPrevPage(q):this.goToNextPage(q),!1
if(this.treeGrid&&this.pageable&&34==r)return this.goToNextPage(q),!1}else if(38==r){for(;a;){if(a=a.prev())if(!a.attr("data-role")){h=a.attr("data-key")
break}}if(this.pageable&&null==h)return this.goToPrevPage(q),!1}else if(40==r){for(;a;){if(a=a.next())if(!a.attr("data-role")){h=a.attr("data-key")
break}}if(this.pageable&&null==h)return this.goToNextPage(q),!1}if(null!=h){if(l||s||this.clearSelection(!1),this.rowinfo[h]&&this.rowinfo[h].selected&&(l||s)){this._doSelection(this._lastSelectedKey,!1,!1),this._lastSelectedKey=h
w=this.rowsByKey[h],u=this.getrowindex(w)
n._updateSelection()
S=this.getrowdisplayindex(w)
return this._raiseEvent("rowUnselect",{key:h,index:S,boundIndex:u,row:w,reason:"userSelection"}),!1}this._lastSelectedKey=h
w=this.rowsByKey[h],u=this.getrowindex(w)
this._doSelection(h,!0,!1),n._updateSelection()
S=this.getrowdisplayindex(w)
if(this._raiseEvent("rowSelect",{key:h,index:S,boundIndex:u,row:w}),this.treeGrid)if(37==r){var B=null
if(a=this._getuirow(h))a.attr("data-role")||(B=a.attr("data-key"))
if(this.pageable&&null==B&&this.dataview.pagenum>0)for(;null==this._getuirow(h)&&this.dataview.pagenum>0;)this.goToPrevPage()}else if(39==r){B=null
if(a=this._getuirow(h))a.attr("data-role")||(B=a.attr("data-key"))
this.pageable&&null==B&&this.goToNextPage()}return!1}}},_selection:function(e){if("selectionStart"in e[0]){var t=e[0],i=t.selectionEnd-t.selectionStart
return{start:t.selectionStart,end:t.selectionEnd,length:i,text:t.value}}var n=document.selection.createRange()
if(null==n)return{start:0,end:t.value.length,length:0}
var r=e[0].createTextRange(),o=r.duplicate()
r.moveToBookmark(n.getBookmark()),o.setEndPoint("EndToStart",r)
i=n.text.length
return{start:o.text.length,end:o.text.length+n.text.length,length:i,text:n.text}},_doSelection:function(e,t,i){if(null!=e){var n
if("singlerow"===this.selectionMode&&this.clearSelection(!1),n=this.rowinfo[e])n.selected=t,this.ensurerowvisiblebykey(e)
else this.ensurerowvisiblebykey(e),(n=this.rowinfo[e])?n.selected=t:this.rowinfo[e]={selected:t}
"none"!=this.selectionMode&&!1!==i&&this._renderrows()}else this.clearSelection()},clearSelection:function(e){if(this.rowinfo){var t=this.getRows()
for(var i in this.rowinfo){var n=this.rowinfo[i]
if(n.selected){n.selected=!1
var r=t.indexOf(n.row),o=this.getrowdisplayindex(n.row)
this._raiseEvent("rowUnselect",{key:i,index:o,boundIndex:r,row:n.row,reason:"clearingSelection"})}}}!1!==e&&this._renderrows()},exportData:function(i){if(!e.jqx.dataAdapter.ArrayExporter){if(!this.treeGrid)throw"jqxDataTable: Missing reference to jqxdata.export.js!"
throw"jqxTreeGrid: Missing reference to jqxdata.export.js!"}var n=this.exportSettings.columnsHeader
null==n&&(n=!0)
var r=this.exportSettings.hiddenColumns
null==r&&(r=!1)
var o=this.exportSettings.serverURL,a=this.exportSettings.characterSet,s=this.exportSettings.collapsedRecords
null==s&&(s=!1)
var l=this.exportSettings.fileName
void 0===l&&(l=this.treeGrid?"jqxTreeGrid_Data":"jqxDataTable_Data")
var d=this,c=this.getRows()
if(1==this.exportSettings.recordsInView&&(c=this.getView()),this.treeGrid&&this.treeGrid.virtualModeCreateRecords)c=this.treeGrid.getRows()
if(this.groups&&this.groups.length>0){var h=this.source.getGroupedRecords(this.groups,"records","label",null,"data",null,"parent",c),u=function(t,i){for(var n=0;n<t.length;n++){var r=e.extend({},t[n])
if(i.push(r),r.records&&r.records.length>0)for(var o=u(r.records,new Array),a=0;a<o.length;a++)o[a].leaf,i.push(o[a])}return i},p=u.call(this,h,new Array)
c=p}if(0==c.length)throw"No data to export."
this.exporting=!0,this.altRows&&this._renderrows()
for(var m=new Array,f=0;f<this.columns.records.length;f++)!r&&this.columns.records[f].hidden||m.push(e.extend({},this.columns.records[f]))
if(this.groups&&this.groups.length>0&&m.length>0){var g=this._names()
for(f=0;f<c.length;f++)c[f][g.leaf]||(d.rtl?c[f][m[m.length-1].displayfield]=c[f].label:c[f][m[0].displayfield]=c[f].label)}var v=0
if(this.treeGrid){var b=this.treeGrid.getRows()
1==this.exportSettings.recordsInView&&(b=this.getView())
g=this._names()
var y=function(e){for(var t=0;t<e.length;t++){var i=e[t],n=i[g.expanded]||!i[g.expanded]&&s
v=Math.max(v,1+i[g.level]),i.records&&i.records.length>0&&n&&y(e[t].records)}}
if(y(b),"xml"!=i&&"json"!=i){var _=m.length
for(f=0;f<v;f++){(H=new t(this,this)).width=this.indentWidth,H.datafield="Level"+f,H.displayfield="Level"+f,H.align="center",H.cellsalign="center",H.text="",this.rtl?m.splice(_,0,H):m.splice(f,0,H)}var w=new Array,x=!(!this.source._source.hierarchy||!this.source._source.hierarchy.groupingDataFields),C=function(t){for(var n=0;n<t.length;n++){for(var r=e.extend({},t[n]),o=0;o<r[g.level];o++)r["Level"+o]=""
var a=r[g.expanded]||!r[g.expanded]&&s;("xls"==i||"html"==i||"pdf"==i)&&r.records&&r.records.length>0?r["Level"+r[g.level]]=a?"-":"+":r["Level"+r[g.level]]="",r[g.leaf]&&(r["Level"+r[g.level]]="")
for(o=r[g.level]+1;o<v;o++)r["Level"+o]=""
if(x&&!r[g.leaf]&&(d.rtl?r[m[m.length-v-1].displayfield]=r.label:r[m[v].displayfield]=r.label),r.aggregate){var l="xls"==i?"_AG":""
for(o=v;o<m.length;o++){var c=o
d.rtl&&(c=m.length-o-1),null!=r[m[c].displayfield]&&(r[m[c].displayfield]=l+r[m[c].displayfield])}}w.push(r),a&&!r[g.leaf]&&C(r.records)}}
C(b),c=w}else c=b}var S=null!=r&&r,T={},I={},E=this.host.find(".jqx-grid-cell:first"),P=this.host.find(".jqx-grid-cell-alt:first"),D=this.toThemeProperty
E.removeClass(D("jqx-grid-cell-selected")),E.removeClass(D("jqx-fill-state-pressed")),P.removeClass(D("jqx-grid-cell-selected")),P.removeClass(D("jqx-fill-state-pressed")),E.removeClass(D("jqx-grid-cell-hover")),E.removeClass(D("jqx-fill-state-hover")),P.removeClass(D("jqx-grid-cell-hover")),P.removeClass(D("jqx-fill-state-hover"))
for(var k="cell",A=1,j=1,M=[],N=0;N<m.length;N++){if(""!=(H=m[N]).cellclassname)if(H.customCellStyles=new Array,"string"==typeof H.cellclassname)H.customCellStyles.push(H.cellclassname)
else for(f=0;f<c.length;f++){var q=f,O=H.cellclassname(q,H.displayfield,c[f][H.displayfield],c[f])
O&&(H.customCellStyles[f]=O)}}if(e.each(m,function(t){var r=t
d.treeGrid&&(t>=v?r=m.length-v-1:v>0&&t<v&&(r=0))
var o=e(d._table[0].rows[0].cells[r])
if(d._table[0].rows.length>1&&0==(a=e(d._table[0].rows[1].cells[r])).length)var a=e(d._table[0].rows[1].cells[0])
if(0==o.length)o=e(d._table[0].rows[0].cells[0])
var s=this,l=function(e){var t=d.toThemeProperty
if(e.removeClass(t("jqx-cell")),e.removeClass(t("jqx-grid-cell-selected")),e.removeClass(t("jqx-fill-state-pressed")),e.removeClass(t("jqx-grid-cell-hover")),e.removeClass(t("jqx-fill-state-hover")),s.customCellStyles)for(var i in s.customCellStyles)e.removeClass(s.customCellStyles[i])}
if(l(o),a&&l(a),null==this.displayfield)return!0
d.showAggregates&&d.getcolumnaggregateddata&&M.push(d.getcolumnaggregateddata(this.displayfield,this.aggregates,!0,c))
var h=d._getexportcolumntype(this)
!this.exportable||this.hidden&&!S||(T[this.displayfield]={},T[this.displayfield].text=this.text,T[this.displayfield].width=parseInt(this.width),isNaN(T[this.displayfield].width)&&(T[this.displayfield].width=60),T[this.displayfield].width>500&&(T[this.displayfield].width=500),T[this.displayfield].formatString=this.cellsFormat,T[this.displayfield].localization=d.gridlocalization,T[this.displayfield].type=h,T[this.displayfield].cellsAlign=this.cellsalign,T[this.displayfield].hidden=!n,T[this.displayfield].index=r,T[this.displayfield].maxIndex=m.length),k="cell"+A
var u=this.element
if("json"!=i&&"xml"!=i){var p=function(e,t,n,r,o,a,s,l,d){I[e]={index:1+s,maxIndex:m.length},a.rtl&&(I[e].index=m.length-s),"html"!=i&&"xls"!=i&&"pdf"!=i||(t&&(I[e]["font-size"]=t.css("font-size"),I[e]["font-weight"]=t.css("font-weight"),I[e]["font-style"]=t.css("font-style"),I[e]["background-color"]=a._getexportcolor(t.css("background-color")),I[e].color=a._getexportcolor(t.css("color")),I[e]["border-color"]=a._getexportcolor(t.css("border-top-color"))),n?I[e]["text-align"]=o.align:(I[e]["text-align"]=o.cellsalign,I[e].formatString=o.cellsFormat,I[e].dataType=h),"html"!=i&&"pdf"!=i||(I[e]["border-top-width"]="0px",a.rtl?(I[e]["border-left-width"]="1px",I[e]["border-right-width"]="0px",s==m.length-v-1&&n&&(I[e]["border-right-width"]="1px")):(I[e]["border-left-width"]="0px",I[e]["border-right-width"]="1px"),I[e]["border-bottom-width"]="1px",t&&(I[e]["border-top-style"]=t.css("border-top-style"),I[e]["border-left-style"]=t.css("border-left-style"),I[e]["border-right-style"]=t.css("border-right-style"),I[e]["border-bottom-style"]=t.css("border-bottom-style")),n?(0!=s||a.rtl?s==m.length-1&&a.rtl&&(I[e]["border-right-width"]="1px"):I[e]["border-left-width"]="1px",t&&(I[e]["border-top-width"]="1px",I[e]["border-bottom-width"]=t.css("border-bottom-width"))):0!=s||a.rtl?s==m.length-1&&a.rtl&&(I[e]["border-right-width"]="1px"):I[e]["border-left-width"]="1px",t&&(I[e].height=t.css("height")),a.treeGrid&&!n&&(I[e].index-1<v?a.rtl?I[e]["border-left-width"]="0px":I[e]["border-right-width"]="0px":I[e].index-1==v&&(a.rtl?I[e]["border-right-width"]="0px":I[e]["border-left-width"]="0px")))),!o.exportable||o.hidden&&!S||(1==l?(T[o.displayfield].customCellStyles||(T[o.displayfield].customCellStyles=new Array),T[o.displayfield].customCellStyles[d]=e):n?T[o.displayfield].style=e:r?T[o.displayfield].cellAltStyle=e:T[o.displayfield].cellStyle=e)}
if(p("column"+j,u,!0,!1,this,d,t),j++,p(k,o,!1,!1,this,d,t),d.altRows&&p(k="cellalt"+A,a,!1,!0,this,d,t),this.customCellStyles){for(var f in s.customCellStyles)o.removeClass(s.customCellStyles[f])
for(var f in s.customCellStyles)o.addClass(s.customCellStyles[f]),p(k+s.customCellStyles[f],o,!1,!1,this,d,t,!0,f),o.removeClass(s.customCellStyles[f])}A++}}),"json"!=i&&"xml"!=i&&v>0&&this.treeGrid){var B=v+1
if(this.rtl&&(B=m.length-v),I["column"+B]){var L=I["column"+B]
L.merge=v,L["border-left-width"]="1px"
for(I["cell"+B],f=0;f<m.length;f++){B=f+1
if(this.rtl&&(B=m.length-f),I["column"+B].level=f,I["column"+B].maxLevel=v,I["cell"+B].maxLevel=v,(H=m[f]).customCellStyles)for(var R in H.customCellStyles)I["cell"+B+H.customCellStyles[R]]&&(I["cell"+B+H.customCellStyles[R]].maxLevel=v)
I["cellalt"+B]&&(I["cellalt"+B].maxLevel=v)}for(f=0;f<v;f++){B=f+1
var H,V=f
if(this.rtl&&(B=m.length-f),(F=I["column"+B]).disabled=!0,I["cell"+B].level=V,I["cell"+B].maxLevel=v,I["column"+B].level=V,I["cellalt"+B]&&(I["cellalt"+B].level=V,I["cellalt"+B].maxLevel=v),(H=m[f]).customCellStyles)for(var R in H.customCellStyles)I["cell"+B+H.customCellStyles[R]]&&(I["cell"+B+H.customCellStyles[R]].maxLevel=v,I["cell"+B+H.customCellStyles[R]].level=V)
if(("html"==i||"pdf"==i||"xls"==i)&&(F["font-size"]=L["font-size"],F["font-weight"]=L["font-weight"],F["font-style"]=L["font-style"],F["background-color"]=L["background-color"],F.color=L.color,F["border-color"]=L["border-color"],"html"==i||"pdf"==i)){F["border-top-width"]=L["border-top-width"],F["border-left-width"]=L["border-left-width"],this.rtl&&(F["border-right-width"]=L["border-right-width"],0==f&&(F["border-right-width"]="1px")),0!=f||this.rtl?0==f&&this.rtl&&(F["border-left-width"]="0px"):F["border-left-width"]="0px",this.rtl?this.rtl&&(F["border-left-width"]="0px"):F["border-right-width"]="0px",F["border-bottom-width"]="0px"
var F=I["cell"+B]
this.rtl?this.rtl&&(F["border-left-width"]="0px"):F["border-right-width"]="0px"}}}}if(this.showAggregates){var z=[],$="xls"==i?"_AG":"",U=0
this.rowDetails&&!this.treeGrid&&U++,M.length>0&&(e.each(m,function(e){if(this.aggregates)for(var t=0;t<this.aggregates.length;t++)if(z[t]||(z[t]={}),z[t]){var i=d._getaggregatename(this.aggregates[t]),n=d._getaggregatetype(this.aggregates[t]),r=M[e-U]
r&&(z[t][this.displayfield]=$+i+": "+r[n])}}),e.each(m,function(e){for(var t=0;t<z.length;t++)null==z[t][this.displayfield]&&(z[t][this.displayfield]=$)})),e.each(z,function(){c.push(this)})}var G=this,W=e.jqx.dataAdapter.ArrayExporter(c,T,I,o,this.treeGrid&&("xml"==i||"json"==i))
if(null==l){this._renderrows()
var X=this.treeGrid&&("xml"==i||"json"==i),J=W.exportTo(i,this.treeGrid&&("xml"==i||"json"==i))
return this.showAggregates&&e.each(z,function(){c.pop(this)}),setTimeout(function(){G.exporting=!1},50),J}X=this.treeGrid&&("xml"==i||"json"==i)
W.exportToFile(i,l,o,a,X),this.showAggregates&&e.each(z,function(){c.pop(this)}),this._renderrows(),setTimeout(function(){G.exporting=!1},50)},_getexportcolor:function(e){var t=e
if("transparent"==e&&(t="#FFFFFF"),t&&t.toString()||(t="#FFFFFF"),-1!=t.toString().indexOf("rgb")){var i=t.split(",")
if(-1!=t.toString().indexOf("rgba")){var n=parseInt(i[0].substring(5)),r=parseInt(i[1]),o=parseInt(i[2]),a=parseInt(i[3].substring(1,4)),s={r:n,g:r,b:o},l=this._rgbToHex(s)
return 0==n&&0==r&&0==o&&0==a?"#ffffff":"#"+l}s={r:n=parseInt(i[0].substring(4)),g:r=parseInt(i[1]),b:o=parseInt(i[2].substring(1,4))}
return"#"+(l=this._rgbToHex(s))}if(-1!=t.toString().indexOf("#")&&4==t.toString().length){var d=t.toString().substring(1,4)
t+=d}return t},_rgbToHex:function(e){return this._intToHex(e.r)+this._intToHex(e.g)+this._intToHex(e.b)},_intToHex:function(e){var t=parseInt(e).toString(16)
return 1==t.length&&(t="0"+t),t.toUpperCase()},_getexportcolumntype:function(t){var i="string",n=this.source.datafields||(this.source._source?this.source._source.datafields:null)
if(n){var r=""
if(e.each(n,function(){if(this.name==t.displayfield)return this.type&&(r=this.type),!1}),r)return r}if(null!=t){if(null==this.dataview.cachedrecords)return i
var o=null
if(this.virtualmode)e.each(this.dataview.cachedrecords,function(){return o=this[t.displayfield],!1})
else{if(0==this.dataview.cachedrecords.length)return i
if(null!=(o=this.dataview.cachedrecords[0][t.displayfield])&&""==o.toString())return"string"}if(null!=o){if(-1!=t.cellsFormat.indexOf("c"))return"number"
if(-1!=t.cellsFormat.indexOf("n"))return"number"
if(-1!=t.cellsFormat.indexOf("p"))return"number"
if(-1!=t.cellsFormat.indexOf("d"))return"date"
if(-1!=t.cellsFormat.indexOf("y"))return"date"
if(-1!=t.cellsFormat.indexOf("M"))return"date"
if(-1!=t.cellsFormat.indexOf("m"))return"date"
if(-1!=t.cellsFormat.indexOf("t"))return"date"
if("boolean"==typeof o)i="boolean"
else if(e.jqx.dataFormat.isNumber(o))i="number"
else{var a=new Date(o)
if("NaN"==a.toString()||"Invalid Date"==a.toString())if(e.jqx.dataFormat){if(null!=(a=e.jqx.dataFormat.tryparsedate(o))){if(a&&a.getFullYear()&&1970==a.getFullYear()&&0==a.getMonth()&&1==a.getDate()){var s=new Number(o)
return isNaN(s)?"string":"number"}return"date"}i="string"}else i="string"
else i="date"}}}return i},showDetails:function(e){var t=this._getkey(e)
this.showdetailsbykey(t)},hideDetails:function(e){var t=this._getkey(e)
this.hidedetailsbykey(t)},setCellValueByKey:function(t,i,n){var r=this.rowsByKey[t],o=this.getrowindex(r),a=r
if(null!=a&&a[i]==n)return!1
if(null==a||null!==a[i]||""!==n){var s=""
if(null!=a&&a[i]!==n){var l,d=this.getColumn(i),c="string"
if(g=this.source.datafields||(this.source._source?this.source._source.datafields:null)){var h=""
e.each(g,function(){if(this.name==d.displayfield)return this.type&&(h=this.type),!1}),h&&(c=h)}if(s=a[i],!d.nullable||null!=n&&""!==n&&d.nullable&&void 0===n.label){if(e.jqx.dataFormat.isNumber(s)||"number"==c||"float"==c||"int"==c||"decimal"==c&&"date"!=c)n=new Number(n),n=parseFloat(n),isNaN(n)&&(n=0)
else if((e.jqx.dataFormat.isDate(s)||"date"==c)&&""!=n){var u=n
"Invalid Date"!=(u=new Date(u))&&null!=u?n=u:"Invalid Date"==u&&(n=u=new Date)}if(a[i]===n)return}if(this.dataview._filteredData=null,this.dataview._sortData=null,this.dataview._sortHierarchyData=null,a[i]=n,this.treeGrid)(l=this.treeGrid.getRow(t))&&(l[i]=n)
if(null!=n&&null!=n.label)if(a[(d=this.getColumn(i)).displayfield]=n.label,a[i]=n.value,this.treeGrid)(l=this.treeGrid.getRow(t))&&(l[d.displayfield]=n.label,l[i]=n.value)}if(this.source&&this.source._knockoutdatasource&&!this._updateFromAdapter&&this.autokoupdates&&this.source._source._localdata){var p=o,m=this.source._source._localdata()[p]
this.source.suspendKO=!0
var f=m
if(f[i]&&f[i].subscribe)null!=n&&null!=n.label?(f[d.displayfield](n.label),f[i](n.value)):f[i](n)
else{var g=this.source._source.datafields,v=null
if(g&&e.each(g,function(){if(this.name==i)return v=this.map,!1}),null==v)null!=n&&null!=n.label?(f[i]=n.value,f[d.displayfield]=n.label):f[i]=n
else{var b=v.split(this.source.mapChar)
if(b.length>0){for(var y=f,_=0;_<b.length-1;_++)y=y[b[_]]
y[b[b.length-1]]=n}}this.source._source._localdata.replace(m,e.extend({},f))}this.source.suspendKO=!1}if(this.source.updaterow){try{var w=t
null==this.source.updaterow(w,a,function(e){0==e&&this.setCellValue(r,i,s,!0,!1)})&&!0}catch(e){return!1,void this.setCellValue(r,i,s)}}var x=this.getrowdisplayindex(r)
d=this.getColumn(i)
this._raiseEvent("cellValueChanged",{value:n,oldValue:s,dataField:i,displayField:d.displayfield,key:t,boundIndex:o,index:x,row:this.rowsByKey[t]}),this.editable&&null!=this.editKey||this._renderrows()}},setCellValue:function(e,t,i){if(null==e||null==t)return!1
var n=parseInt(e),r=this._getkey(n)
this.setCellValueByKey(r,t,i)},getCellText:function(e,t){if(null==e||null==t)return!1
var i=parseInt(e),n=this._getkey(i)
return this.getCellTextByKey(n,t)},getCellTextByKey:function(t,i){if(null==t||null==i)return null
var n=this.getCellValueByKey(t,i),r=this.getColumn(i)
return r&&""!=r.cellsFormat&&e.jqx.dataFormat&&(e.jqx.dataFormat.isDate(n)?n=e.jqx.dataFormat.formatdate(n,r.cellsFormat,this.gridlocalization):(e.jqx.dataFormat.isNumber(n)||!isNaN(parseFloat(n))&&isFinite(n))&&(n=e.jqx.dataFormat.formatnumber(n,r.cellsFormat,this.gridlocalization))),n},getCellValue:function(e,t){if(null==e||null==t)return!1
var i=parseInt(e),n=this._getkey(i)
return this.getCellValueByKey(n,t)},getCellValueByKey:function(e,t){var i=this.rowsByKey[e]
!i&&this.treeGrid&&(i=this.treeGrid.getRow(e))
this.getrowindex(i)
return null!=i?i[t]:null},beginRowEdit:function(e){var t=this._getkey(e)
this.beginroweditbykey(t)},beginCellEdit:function(e,t){var i=this._getkey(e),n=this.getColumn(t)
this.beginroweditbykey(i,n)},endCellEdit:function(e,t,i){this.endRowEdit(e,i)},endRowEdit:function(e,t){var i=this._getkey(e)
this.endroweditbykey(i,t)},getrowindex:function(e){var t=this.getRows().indexOf(e)
if(-1!=t)return t
if(this.groups&&this.groups.length>0)for(var i=this.getRows(),n=0;n<i.length;n++)if(e.originalRecord){if(i[n].uid==e.originalRecord.uid){t=n
break}}else if(i[n].uid==e.uid){t=n
break}return t},getrowdisplayindex:function(e){if(this.treeGrid)return-1
var t=this.getView(),i=t.indexOf(e)
if(-1!=i)return i
if(null==e)return i
for(var n=t,r=0;r<n.length;r++)if(n[r].uid==e.uid||e.originalRecord&&n[r].uid==e.originalRecord.uid){i=r
break}return i},beginroweditbykey:function(t,i){if(this.beginEdit&&!1===this.beginEdit(t,i))return!1
var n=this.treeGrid?this.source._source.hierarchy&&this.source._source.hierarchy.groupingDataFields?this.source._source.hierarchy.groupingDataFields.length:0:this.groups.length
if(n>0){var r=this.rowsByKey[t]
if(this.treeGrid)r=this.treeGrid.getRow(t)
if(r.level<n)return!1}if(null==this._lastSelectedKey&&this.selectrowbykey(t),this.editKey===t&&null!=this.editKey)return!1
if(this.rowinfo[t]&&this.rowinfo[t].locked)return!1
if(null!=this.editKey)return this.endroweditbykey(t,!0),!1
var o=this.editSettings.editSingleCell
if(!i&&o&&this.columns.records&&this.columns.records.length>0){for(var a=0;a<this.columns.records.length&&(!(i=this.columns.records[a]).editable||i.hidden);a++);if(!i)return!1}if(o&&i&&!i.editable)return this.editKey=null,!1
o&&(this.editColumn=i)
var s=this
r=this.rowsByKey[t]
if(this.treeGrid)r=this.treeGrid.getRow(t)
var l=this.getrowindex(r),d=this._getuirow(t),c=this._getpinneduirow(t)
this._editors=new Array
var h=!1
if(d){var u=d[0].cells,p=0
for(a=0;a<u.length;a++){var m=this.columns.records[a],f=u[a]
if(!m.rowDetailscolumn&&!(m.checkboxcolumn||(m.pinned&&(f=c[0].cells[a]),o&&i&&m.datafield!=i.datafield||(e(f).removeClass(this.toTP("jqx-grid-cell-selected")),e(f).removeClass(this.toTP("jqx-fill-state-pressed")),e(f).removeClass(this.toTP("jqx-grid-cell-hover")),e(f).removeClass(this.toTP("jqx-fill-state-hover")),"none"==m.columntype)))){var g=e(f).outerWidth(),v=e(f).width()
0===p&&(p=e(f).outerHeight()-1),e(f).css("padding","0px")
var b="<div style='height:"+p+"px; width: 100%; overflow: hidden; border-radius: 0px; -moz-border-radius: 0px; -webkit-border-radius: 0px; z-index: 9999;'></div>",y=this.getCellTextByKey(t,m.displayfield)
f.innerHTML=b
var _=e(f.firstChild)
switch(m.columntype){case"textbox":case"default":var w=e("<input style='border: none;' autocomplete='off' autocorrect='off' autocapitalize='off' spellcheck='false' type='textbox'/>").appendTo(_)
if(this.rtl&&w.css("direction","rtl"),w.addClass(this.toThemeProperty("jqx-input")),w.addClass(this.toThemeProperty("jqx-widget-content")),w.addClass(this.toThemeProperty("jqx-cell-editor")),w[0].onfocus=function(t){setTimeout(function(){var i
t?(i=e(t.target).parent().parent().index())>=0&&s.ensureColumnVisible(s.columns.records[i].datafield):(i=e(document.activeElement).parent().parent().index())>=0&&s.ensureColumnVisible(s.columns.records[i].datafield)
s.content&&(s.content[0].scrollTop=0,s.content[0].scrollLeft=0),s.gridcontent&&(s.gridcontent[0].scrollLeft=0,s.gridcontent[0].scrollTop=0)},10)},m.editable){if(!h){h=!0
var x=e.jqx.browser.msie&&e.jqx.browser.version>10
x||w.focus()
var C=w
setTimeout(function(){var e=C.val().length
x||C.focus()
try{if("selectionStart"in C[0])C[0].setSelectionRange(0,e)
else{var t=C[0].createTextRange()
t.collapse(!0),t.moveEnd("character",e),t.moveStart("character",0),t.select()}}catch(e){}},10)}}else w.attr("disabled",!0),w.attr("readOnly",!0),w.addClass(this.toThemeProperty("jqx-fill-state-disabled"))
if(w.width(v),w.height(p),e.jqx.browser.msie&&e.jqx.browser.version<9&&w.css("line-height",parseInt(p)+"px"),w.css("text-align",m.cellsalign),null===y&&(y=""),null==y&&(y=""),w.val(y),m.createeditor){var S=y
y=this.getCellValueByKey(t,m.displayfield)
m.createeditor(this.treeGrid?t:l,y,w,S,v,p)}if(this._editors.push({column:m,editor:w}),""!=m.cellsFormat&&(-1==m.cellsFormat.indexOf("p")&&-1==m.cellsFormat.indexOf("c")&&-1==m.cellsFormat.indexOf("n")&&-1==m.cellsFormat.indexOf("f")||w.keydown(function(e){var t=e.charCode?e.charCode:e.keyCode?e.keyCode:0,i=String.fromCharCode(t),n=parseInt(i)
if(isNaN(n))return!0
if(s._selection(w).length>0)return!0
var r="",o=w.val()
if(m.cellsFormat.length>1){var a=parseInt(m.cellsFormat.substring(1))
isNaN(a)&&(a=0)}else a=0
if(a>0&&-1!=o.indexOf(s.gridlocalization.decimalseparator)&&s._selection(w).start>o.indexOf(s.gridlocalization.decimalseparator))return!0
for(var l=0;l<o.length-a;l++){var d=o.substring(l,l+1)
null!=d.match(/^[0-9]+$/)&&(r+=d)}return!(r.length>=11)&&void 0})),m.initeditor){S=y,y=this.getCellValueByKey(t,m.displayfield)
m.initeditor(this.treeGrid?t:l,y,w,S,v,p)}break
case"custom":case"template":this.editorsCache||(this.editorsCache=new Array)
var T=e("<div style='width: 100%; height: 100%; border: none;'></div>").appendTo(_),I=e.trim(m.datafield).split(" ").join("");-1!=I.indexOf(".")&&(I=I.replace(".",""))
var E=this.editorsCache["templateeditor_"+I]
if("custom"==m.columntype)E=this.editorsCache["customeditor_"+I+"_"+t]
S=y,y=this.getCellValueByKey(t,m.displayfield)
if(E)(w=E).width(g),w.height(p),w.appendTo(T)
else(w=e("<div style='border: none;'></div>")).width(g),w.height(p),E=w,null===y&&(y=""),"custom"!=m.columntype?this.editorsCache["templateeditor_"+I]=w:this.editorsCache["customeditor_"+I+"_"+t]=w,w.appendTo(T),m.createeditor&&m.createeditor(this.treeGrid?t:l,y,w,S,g,p)
m.initeditor&&m.initeditor(this.treeGrid?t:l,y,w,S,g,p),this._editors.push({column:m,editor:w})}}}}this.editKey=t,this.beginUpdate()
var P=this.getrowdisplayindex(r)
if(this._raiseEvent("rowBeginEdit",{key:t,index:P,boundIndex:l,row:this.rowsByKey[t]}),o){var D=null,k=null;(r=this.rowsByKey[t])&&(D=r[i.datafield],k=r[i.displayfield]),this._raiseEvent("cellBeginEdit",{value:D,displayValue:k,key:t,index:P,dataField:i.datafield,displayField:i.displayfield,boundIndex:l,row:this.rowsByKey[t]})}this.endUpdate(!1)},_toNumber:function(e){e.indexOf||null==e||(e=e.toString()),e.indexOf(this.gridlocalization.currencysymbol)>-1&&(e=e.replace(this.gridlocalization.currencysymbol,""));(e=(e=function(e,t,i){var n=e
if(t==i)return e
for(var r=n.indexOf(t);-1!=r;)r=(n=n.replace(t,i)).indexOf(t)
return n}(e,this.gridlocalization.thousandsseparator,"")).replace(this.gridlocalization.decimalseparator,".")).indexOf(this.gridlocalization.percentsymbol)>-1&&(e=e.replace(this.gridlocalization.percentsymbol,""))
for(var t="",i=0;i<e.length;i++){var n=e.substring(i,i+1)
"-"===n&&(t+="-"),"."===n&&(t+="."),null!=n.match(/^[0-9]+$/)&&(t+=n)}return e=(e=t).replace(/ /g,"")},_geteditorvalue:function(t,i,n,r){var o=new String
if(i){if(!t.geteditorvalue)switch(t.columntype){case"textbox":default:if(o=i.val(),""!=t.cellsFormat){var a="string",s=this.source.datafields||(this.source._source?this.source._source.datafields:null)
if(s){var l=""
e.each(s,function(){if(this.name==t.displayfield)return this.type&&(l=this.type),!1}),l&&(a=l)}var d="date"===a||"time"===a
if("number"===a||"float"===a||"int"===a||"integer"===a||"string"===a&&(-1!=t.cellsFormat.indexOf("p")||-1!=t.cellsFormat.indexOf("c")||-1!=t.cellsFormat.indexOf("n")||-1!=t.cellsFormat.indexOf("f"))){if(""===o&&t.nullable)return""
o=this._toNumber(o),o=new Number(o),isNaN(o)&&(o="")}if(d||"string"===a&&(-1!=t.cellsFormat.indexOf("H")||-1!=t.cellsFormat.indexOf("m")||-1!=t.cellsFormat.indexOf("M")||-1!=t.cellsFormat.indexOf("y")||-1!=t.cellsFormat.indexOf("h")||-1!=t.cellsFormat.indexOf("d"))){if(""===o&&t.nullable)return""
var c=o;("Invalid Date"==(o=new Date(o))||null==o||t.cellsFormat.length>1)&&(e.jqx.dataFormat&&(o=e.jqx.dataFormat.parsedate(c,t.cellsFormat,this.gridlocalization)),"Invalid Date"!=o&&null!=o||(o=""))}}t.displayfield!=t.datafield&&(o={label:o,value:o})}if(t.geteditorvalue){var h=this.getCellValueByKey(r,t.displayfield)
o=t.geteditorvalue(this.treeGrid?r:n,h,i)}}return o},_validateEditors:function(e){for(var t=!0,i=this.rowsByKey[e],n=this.getrowindex(i),r=this._editors,o=(e=this.editKey,this._getuirow(e)),a=0;a<r.length;a++){var s=r[a].editor,l=r[a].column,d=this._geteditorvalue(l,s,n,e)
if(l.validation){s.removeClass(this.toThemeProperty("jqx-grid-validation-label"))
var c=l.datafield
try{var h=l.validation({value:d,row:e,datafield:l.datafield,displayfield:l.displayfield,column:l},d),u=this.gridlocalization.validationstring
null!=h.message&&(u=h.message),("boolean"==typeof h?h:h.result)||(null!=h.showmessage&&1!=h.showmessage||this._showvalidationpopup(o,c,u,s),t=!1)}catch(e){this._showvalidationpopup(o,c,this.gridlocalization.validationstring,s),t=!1}}}return t},endroweditbykey:function(t,i){var n=this
if(null!==n.editKey){if(this.endEdit)if(!1===this.endEdit(t))return
var r=n.rowsByKey[t],o=n.getrowindex(r),a=n._editors,s=n.editKey
n._getuirow(s)
if(!0!==i){var l=!0
if(a&&(l=n._validateEditors(s))){for(var d=e.extend({},r),c=e.extend({},r),h=0;h<a.length;h++){var u=a[h].editor,p=a[h].column,m=n._geteditorvalue(p,u,o,s)
m&&null!=m.label?(d[p.displayfield]=m.label,d[p.datafield]=m.value):d[p.displayfield]=m}n.updaterowbykey(n.editKey,d,!1,function(){n.dataview._sortHierarchyData=null,n.dataview._sortData=null
for(var i=0;i<a.length;i++){var l=a[i].editor,d=a[i].column,h=n._geteditorvalue(d,l,o,s),u=c[d.displayfield]
if(h&&null!=h.label?(r[d.displayfield]=h.label,r[d.datafield]=h.value):r[d.displayfield]=h,n.treeGrid){var p=n.treeGrid.getRow(s)
p&&(p[d.displayfield]=h)}if(n.editorsCache){var m=function(e){if(e&&e.jqxWidget){var t=e.jqxWidget.element.className;(t.indexOf("dropdownlist")>=0||t.indexOf("datetimeinput")>=0||t.indexOf("combobox")>=0||t.indexOf("menu")>=0)&&e.jqxWidget.isOpened&&e.jqxWidget.isOpened()&&e.jqxWidget.close()}},f="customeditor_"+d.displayfield+"_"+t,g="templateeditor_"+d.displayfield
if(n.editorsCache[f]){var v=e(n.editorsCache[f]).data(),b=n.editorsCache[f]
!v.jqxWidget&&e(b).children()[0]&&e(e(b).children()[0]).data().jqxWidget&&(v=e(e(b).children()[0]).data()),m(v),n.editorsCache[f].detach()}n.editorsCache[g]&&(n.editorsCache[g].detach(),v=e(n.editorsCache[g]).data(),b=n.editorsCache[g],!v.jqxWidget&&e(b).children()[0]&&e(e(b).children()[0]).data().jqxWidget&&(v=e(e(b).children()[0]).data()),m(v))}h!=u&&(n.beginUpdate(),n._raiseEvent("cellValueChanged",{value:h,oldValue:u,dataField:d.datafield,displayField:d.displayfield,key:t,index:o,row:r}),n.endUpdate(!1))}})}if(!l)return!1}return n._detachEditors(s),!0}},_detachEditors:function(t){var i=this,n=i.rowsByKey[t],r=i.getrowindex(n)
if(i.editorsCache)for(var o in i.editorsCache){var a=e(i.editorsCache[o]).data()
if(a&&a.jqxWidget){var s=a.jqxWidget.element.className
if(s.indexOf("dropdownlist")>=0||s.indexOf("datetimeinput")>=0||s.indexOf("combobox")>=0||s.indexOf("menu")>=0)if(a.jqxWidget.isOpened)a.jqxWidget.isOpened()&&a.jqxWidget.close()}e(i.editorsCache[o]).detach()}i.beginUpdate()
var l=i.getrowdisplayindex(n)
if(i.editSettings.editSingleCell){var d=null,c=null;(n=i.rowsByKey[t])&&(d=n[i.editColumn.datafield],c=n[i.editColumn.displayfield]),i._raiseEvent("cellEndEdit",{value:d,displayValue:c,key:t,index:l,dataField:i.editColumn.datafield,displayField:i.editColumn.displayfield,boundIndex:r,row:i.rowsByKey[t]})}i._raiseEvent("rowEndEdit",{key:t,index:l,boundIndex:r,row:i.rowsByKey[t]}),i.endUpdate(!1),i.editColumn=null,i.editKey=null,i._renderrows(),i._renderhorizontalscroll(),i.host.focus(),setTimeout(function(){i.host.focus()},10)},_showvalidationpopup:function(t,i,n,r){if(null==n)n=this.gridlocalization.validationstring
r.addClass(this.toThemeProperty("jqx-grid-validation-label"))
var o=e("<div style='z-index: 99999; top: 0px; left: 0px; position: absolute;'></div>"),a=e("<div style='width: 20px; height: 20px; z-index: 999999; top: 0px; left: 0px; position: absolute;'></div>")
o.html(n),a.addClass(this.toThemeProperty("jqx-grid-validation-arrow-up")),o.addClass(this.toThemeProperty("jqx-grid-validation")),o.addClass(this.toThemeProperty("jqx-rc-all")),o.hide(),a.hide(),o.prependTo(this.table),a.prependTo(this.table)
var s=this.hScrollInstance.value,l=parseInt(s),d=this.getColumn(i).uielement
if(t){var c=t
o.css("top",parseInt(c.position().top)+30+"px")
var h=parseInt(o.css("top"))
a.css("top",h-11),a.removeClass(),a.addClass(this.toThemeProperty("jqx-grid-validation-arrow-up"))
var u=!1
h>=this._table.height()&&(a.removeClass(this.toThemeProperty("jqx-grid-validation-arrow-up")),a.addClass(this.toThemeProperty("jqx-grid-validation-arrow-down")),(h=parseInt(c.position().top)-c.outerHeight()-5)<0&&(h=0,a.removeClass(this.toThemeProperty("jqx-grid-validation-arrow-down")),u=!0),o.css("top",h+"px"),a.css("top",h+o.outerHeight()-9))
var p=-l+parseInt(e(d).position().left),m=parseInt(this._table.css("left"))
isNaN(m)&&(m=0),0!=m&&(l=0),a.css("left",l+p+30)
var f=o.width()
if(f+p>this.host.width()-20)p-=f+p-this.host.width()+40
u?o.css("left",l+parseInt(e(d).position().left)-o.outerWidth()):o.css("left",l+p),r.mouseenter(function(){r.hasClass("jqx-grid-validation-label")&&(o.show(),a.show())}),r.mouseleave(function(){o.hide(),a.hide()}),this.popups||(this.popups=new Array),this.popups[this.popups.length]={validation:o,validationrow:a}}},addRow:function(t,i,n,r){if(null!=i){this._datachanged=!0,null==n&&(n="last")
var o=!1,a=this.that
if(null==t){var s=this.dataview.filters&&this.dataview.filters.length>0,l=s?this.source.records.length:this.dataview.totalrecords
if(!this.pageable){this.source._source.totalrecords?this.dataview.totalrecords=this.source._source.totalrecords:this.source._source.totalRecords?this.dataview.totalrecords=this.source._source.totalRecords:0!==this.source.hierarchy.length?this.dataview.totalrecords=this.source.hierarchy.length:this.dataview.totalrecords=this.source.records.length
l=s?this.source.records.length:this.dataview.totalrecords}if(e.isArray(i)){var d=new Array
e.each(i,function(e,t){var n=a.dataview.getid(a.dataview.source.id,i[e],l+e)
d.push(n),a.getColumn(a.dataview.source.id)&&(i[e][a.dataview.source.id]=n)}),t=d}else t=this.dataview.getid(this.dataview.source.id,i,l),this.getColumn(this.dataview.source.id)&&(i[this.dataview.source.id]=t)}else e.isArray(i)?e.each(i,function(e,n){var r=t[e]
a.getColumn(a.dataview.source.id)&&(i[e][a.dataview.source.id]=r)}):this.getColumn(this.dataview.source.id)&&(i[this.dataview.source.id]=t)
var c=!!this.treeGrid&&!!this.treeGrid.virtualModeCreateRecords,h=function(t,i,n,o){if(t._loading)throw new Error("jqxDataTable: "+t.loadingErrorMessage)
var a=t.vScrollInstance.value,s=!1
if(e.isArray(n)?e.each(n,function(e,n){var a=null
null!=i&&null!=i[e]&&(a=i[e]),this.uid=a,t.rowsByKey[a]=this,i==r&&(r=null),s=t.source.addRecord(this,o,r,c)}):(n.uid=i,t.rowsByKey[i]=n,i==r&&(r=null),s=t.source.addRecord(n,o,r,c)),t.groups&&t.groups.length>0){var l=Object.prototype.toString,d=t.groups[0]
if(Object.prototype.toString="function"==typeof d?d:function(){return this[d]},!t.source.records.sort){var h,u=new Array,p=0
e.each(h,function(){u[void 0+p++]=this}),h=u}t.source.records.sort(function(t,i){if(void 0===t&&(t=null),void 0===i&&(i=null),null===t&&null===i)return 0
if(null===t&&null!==i)return-1
if(null!==t&&null===i)return 1
var n=0,r=0
if(t&&t.uid&&(n=t.uid),i&&i.uid&&(r=i.uid),t=t.toString(),i=i.toString(),e.jqx.dataFormat.isNumber(t)&&e.jqx.dataFormat.isNumber(i))return t<i?-1:t>i?1:0
if(e.jqx.dataFormat.isDate(t)&&e.jqx.dataFormat.isDate(i))return t<i?-1:t>i?1:0
e.jqx.dataFormat.isNumber(t)||e.jqx.dataFormat.isNumber(i)||(t=String(t).toLowerCase(),i=String(i).toLowerCase())
try{if(t<i)return-1
if(t>i)return 1}catch(e){}if("number"==typeof n){if(n<r)return-1
if(n>r)return 1}return 0}),Object.prototype.toString=l}return t.dataview._filteredData=null,t.dataview._sortData=null,t.dataview._sortHierarchyData=null,null!=t._updating&&0!=t._updating||t.refresh(),t.source&&t.source._knockoutdatasource&&!t._updateFromAdapter&&t.autokoupdates&&t.source._source._localdata&&(t.source.suspendKO=!0,t.source._source._localdata.push(n),t.source.suspendKO=!1),t.vScrollInstance.setPosition(a),s}
if(this.source.addrow){var u=function(e,r){1!=e&&null!=e||(null!=r&&(t=r),h(a,t,i,n))}
try{null==(o=a.treeGrid?this.source.addrow(t,i,n,r,u):this.source.addrow(t,i,n,u))&&(o=!0)}catch(e){o=!1}if(0==o)return!1}else h(this,t,i,n)
return o}return!1},deleteRow:function(e){var t=this._getkey(e)
this.deleterowbykey(t)},deleterowbykey:function(t){if(null!=t){this._datachanged=!0
var i=!1,n=this.that,r=function(t,i){if(t._loading)throw new Error("jqxDataTable: "+t.loadingErrorMessage)
t.dataview._filteredData=null,t.dataview._sortData=null,t.dataview._sortHierarchyData=null
var n=!1,r=t.vScrollInstance.value
if(e.isArray(i))e.each(i,function(){if(t.rowsByKey[this]){if(n=!0,t.rowinfo[this].selected&&t.unselectrowbykey(this,!1),t.treeGrid)var e=t._names(),i=t.rowsByKey[this][e.parent]
if(delete t.rowsByKey[this],t.treeGrid&&t.rowinfo[this]){var r=t.rowinfo[this].row.records,o=function(e){for(var i=0;i<e.length;i++){var n=e[i].uid
delete t.rowsByKey[n],delete t.rowinfo[n],e[i].records&&o(e[i].records)}}
r&&(o(r),delete t.rowinfo[this])}t.source.deleteRecord(this),i&&e&&i.records&&0==i.records.length&&(i[e.leaf]=!0,t.rowinfo[i.uid][e.leaf]=!0)}})
else{n=!1
if(t.rowsByKey[i]){if(n=!0,t.rowinfo[i]&&t.rowinfo[i].selected&&t.unselectrowbykey(i,!1),t.treeGrid)var o=t._names(),a=t.rowsByKey[i][o.parent]
if(delete t.rowsByKey[i],t.treeGrid&&t.rowinfo[i]){var s=t.rowinfo[i].row.records,l=function(e){for(var i=0;i<e.length;i++){var n=e[i].uid
delete t.rowsByKey[n],delete t.rowinfo[n],e[i].records&&l(e[i].records)}}
s&&l(s)}delete t.rowinfo[i],t.source.deleteRecord(i),a&&o&&a.records&&0==a.records.length&&(a[o.leaf]=!0,t.rowinfo[a.uid][o.leaf]=!0)}}return t.refresh(),t.source&&t.source._knockoutdatasource&&!t._updateFromAdapter&&t.autokoupdates&&t.source._source._localdata&&(t.source.suspendKO=!0,t.source._source._localdata.pop(),t.source.suspendKO=!1),t.vScrollInstance.setPosition(r),n}
if(this.source.deleterow){try{this.source.deleterow(t,function(e){1!=e&&null!=e||r(n,t)}),null==i&&(i=!0)}catch(e){i=!1}}else i=r(n,t)
return i}return!1},updateRow:function(e,t){var i=this._getkey(e)
this.updaterowbykey(i,t)},updaterowbykey:function(t,i,n,r){if(null!=t&&null!=i){var o=this.that,a=!1,s=function(t,i,r){if(t._loading)throw new Error("jqxDataTable: "+t.loadingErrorMessage)
t.dataview._filteredData=null,t.dataview._sortData=null,t.dataview._sortHierarchyData=null
var o=!1
if(e.isArray(i))e.each(i,function(e,i){var n=t.rowsByKey[this],a=function(t,i){n?n[this]=r[e]:o=!1,o=!0}
a(),t.treeGrid&&(n=t.treeGrid.getRow(this),a())})
else{var a=function(e){if(e){for(var i=0;i<t.columns.records.length;i++)e[t.columns.records[i].datafield]=r[t.columns.records[i].datafield],t.groups.length>0&&e.originalRecord&&(e.originalRecord[t.columns.records[i].datafield]=r[t.columns.records[i].datafield])
o=!0}else o=!1}
a(l=t.rowsByKey[i]),t.treeGrid&&a(l=t.treeGrid.getRow(i))}var s=t.vScrollInstance.value
if(null!=n&&1!=n||null!=t._updating&&0!=t._updating||t._renderrows(),t.showAggregates&&t._updatecolumnsaggregates&&t._updatecolumnsaggregates(),t.source&&t.source._knockoutdatasource&&!t._updateFromAdapter&&t.autokoupdates&&t.source._source._localdata){var l=t.rowsByKey[i],d=t.getrowindex(l),c=t.source._source._localdata()[d]
t.source.suspendKO=!0,t.source._source._localdata.replace(c,e.extend({},l)),t.source.suspendKO=!1}return t.vScrollInstance.setPosition(s),o}
if(this.source.updaterow){try{null==(a=this.source.updaterow(t,i,function(e){1!=e&&null!=e||(s(o,t,i),r&&r(),o._renderrows(!1),o.autoRowHeight&&(o._updateScrollbars(),o._arrange()))}))&&(a=!0)}catch(e){a=!1}}else(a=s(o,t,i))&&r&&r(),o._renderrows(!1),o.autoRowHeight&&(o._updateScrollbars(),o._arrange())
return a}return!1},lockRow:function(e){var t=this._getkey(e)
this.lockrowbykey(t)},unlockRow:function(e){var t=this._getkey(e)
this.unlockrowbykey(t)},lockrowbykey:function(e){this.rowinfo[e]?this.rowinfo[e].locked=!0:this.rowinfo[e]={locked:!0},this._renderrows()},unlockrowbykey:function(e){this.rowinfo[e]?this.rowinfo[e].locked=!1:this.rowinfo[e]={locked:!1},this._renderrows()},selectRow:function(e){var t=this._getkey(e)
this.selectrowbykey(t)},unselectRow:function(e){var t=this._getkey(e)
this.unselectrowbykey(t)},selectrowbykey:function(e,t,i){"keyboard"!=t&&"mouse"!=t&&(this._lastSelectedKey=e)
var n=!1!==i
this._doSelection(e,!0,n)
var r=this.rowsByKey[e],o=this.getrowindex(r),a=this.getrowdisplayindex(r)
this._raiseEvent("rowSelect",{key:e,index:a,boundIndex:o,row:this.rowsByKey[e]})},unselectrowbykey:function(e,t){var i=!1!==t
this._doSelection(e,!1,i)
var n=this.rowsByKey[e],r=this.getrowindex(n),o=this.getrowdisplayindex(n)
this._raiseEvent("rowUnselect",{key:e,index:o,boundIndex:r,row:this.rowsByKey[e],reason:"userSelection"})},getSelection:function(){var e=new Array
if(this.rowinfo)for(var t in this.rowinfo){var i=this.rowinfo[t]
i.selected&&e.push(i.row)}return e},showdetailsbykey:function(t){if(this.rowDetails){var i=this.rowinfo[t]
if(i){i.expanded=!0
var n=e(this._table.children()[1]).children("[data-key="+t+"]"),r=e(this._pinnedTable.children()[1]).children("[data-key="+t+"]")
if(n){var o=r.children(),a=e(o[0])
if(this.rtl)a=e(o[o.length-1])
this.rtl?(a.removeClass(this.toThemeProperty("jqx-grid-group-collapse-rtl")),a.addClass(this.toThemeProperty("jqx-grid-group-expand-rtl")),a.removeClass(this.toThemeProperty("jqx-icon-arrow-left")),a.addClass(this.toThemeProperty("jqx-icon-arrow-down"))):(a.removeClass(this.toThemeProperty("jqx-grid-group-collapse")),a.addClass(this.toThemeProperty("jqx-grid-group-expand")),a.removeClass(this.toThemeProperty("jqx-icon-arrow-right")),a.addClass(this.toThemeProperty("jqx-icon-arrow-down"))),n.next().show()
var s=r.next()
if(s.show(),e.jqx.browser.msie&&e.jqx.browser.version<8&&(n.next().children().show(),r.next().children().show()),!i.initialized){var l=i.detailsHeight,d=this.initRowDetails(t,i.row,e(e(s).children().children().children()[0]),i)
i.details=e(s).children().children().children()[0],i.initialized=!0,!1!==d&&i.detailsHeight==l||(!1===d&&(i.expanded=!1,i.nodetails=!0,s.hide()),this._renderrows())}this._updateScrollbars(),("auto"===this.height||null===this.height||this.autoheight)&&this._arrange()
var c=this.getrowindex(i.row),h=this.getrowdisplayindex(i.row)
this._raiseEvent("rowExpand",{row:i.row,index:h,boundIndex:c,rowKey:t})}}}},hidedetailsbykey:function(t){if(this.rowDetails){var i=this.rowinfo[t]
if(i){i.expanded=!1
var n=e(this._table.children()[1]).children("[data-key="+t+"]"),r=e(this._pinnedTable.children()[1]).children("[data-key="+t+"]")
if(n){var o=r.children(),a=e(o[0])
if(this.rtl)a=e(o[o.length-1])
this.rtl?(a.addClass(this.toThemeProperty("jqx-grid-group-collapse-rtl")),a.removeClass(this.toThemeProperty("jqx-grid-group-expand-rtl")),a.addClass(this.toThemeProperty("jqx-icon-arrow-left")),a.removeClass(this.toThemeProperty("jqx-icon-arrow-down"))):(a.addClass(this.toThemeProperty("jqx-grid-group-collapse")),a.removeClass(this.toThemeProperty("jqx-grid-group-expand")),a.addClass(this.toThemeProperty("jqx-icon-arrow-right")),a.removeClass(this.toThemeProperty("jqx-icon-arrow-down"))),n.next().hide(),r.next().hide(),e.jqx.browser.msie&&e.jqx.browser.version<8&&(n.next().children().hide(),r.next().children().hide()),this._updateScrollbars(),("auto"===this.height||null===this.height||this.autoheight)&&this._arrange()
var s=this.getrowindex(i.row),l=this.getrowdisplayindex(i.row)
this._raiseEvent("rowCollapse",{row:i.row,index:l,boundIndex:s,rowKey:t})}}}},_getvirtualcolumnsindexes:function(e,t,i,n,r){if(this.rowDetails||this.rtl||this.editcell||this.width&&this.width.toString().indexOf("%")>=0||this.exporting)return{start:0,end:i+n}
var o=0,a=-1,s=i+n
if(this.autorowheight)return{start:0,end:i+n}
if(!r)for(var l=0;l<i+n;l++){if(this.columns.records[l].hidden||(o+=this.columns.records[l].width),o>=e&&-1==a&&(a=l),o>t+e){s=l
break}}return++s>i+n&&(s=i+n),-1==a&&(a=0),{start:a,end:s}},_renderhorizontalscroll:function(){var e=this.hScrollInstance,t=e.value
"hidden"===this.hScrollBar.css("visibility")&&(e.value=0,t=0)
var i=parseInt(t)
if(null!=this.table){var n=this.columnsrow,r=this.columns.records.length-0,o=this.columns.records,a=0==this.source.records.length
if(this.rtl&&"hidden"!=this.hScrollBar.css("visibility")&&(i=e.max-i),a&&!this._haspinned)this.table[0].style.left=-i+"px",n[0].style.marginLeft=-i+"px"
else{if(this._haspinned||null==this._haspinned){for(var s=0;s<0+r;s++){if(o[s].pinned){var l,d=null
if(this.showAggregates&&this.statusbar[0].cells&&(d=this.statusbar[0].cells[s]),this.filterrow&&this.filterrow[0].cells&&(l=this.filterrow[0].cells[s]),this.rtl)n[0].cells[s].style.marginLeft=-parseInt(t)+"px",d&&(d.style.marginLeft=-parseInt(t)+"px"),this.filterrow&&l&&(l.style.marginLeft=-parseInt(t)+"px")
else n[0].cells[s].style.marginLeft=i+"px",d&&(d.style.marginLeft=i+"px"),this.filterrow&&l&&(l.style.marginLeft=i+"px")}}if(this.columnsVirtualization){for(var c=(f=this._getvirtualcolumnsindexes(i,this.host.width(),0,this.columns.records.length,!1)).start,h=f.end,u=0;u<c;u++){var p=u,m=this.columns.records[p].element[0]
if(!this.columns.records[p].pinned)if(m.parentNode&&m.parentNode.removeChild(m),this.filterrow&&this.filterrow[0])(g=this.filterrow[0].cells[p]).parentNode&&g.parentNode.removeChild(g)}for(u=h;u<this.columns.records.length;u++){p=u,m=this.columns.records[p].element[0]
if(!this.columns.records[p].pinned)if(m.parentNode&&m.parentNode.removeChild(m),this.filterrow&&this.filterrow[0])(g=this.filterrow[0].cells[p]).parentNode&&g.parentNode.removeChild(g)}for(u=c;u<h;u++){p=u
if(m=this.columns.records[p].element[0],!this.columns.records[p].pinned)if(m.parentNode||this.columnsrow[0].appendChild(m),this.filterrow&&this.filterrow[0])(g=this.filterrow[0].cells[p]).parentNode||this.filterrow[0].appendChild(g)}}this._table[0].style.left=-i+"px",n[0].style.marginLeft=-i+"px"}else if(0==this._haspinned){if(this.columnsVirtualization){var f
for(c=(f=this._getvirtualcolumnsindexes(i,this.host.width(),0,this.columns.records.length,!1)).start,h=f.end,u=0;u<c;u++){p=u
if((m=this.columns.records[p].element[0]).parentNode&&m.parentNode.removeChild(m),this.filterrow&&this.filterrow[0])(g=this.filterrow[0].cells[p]).parentNode&&g.parentNode.removeChild(g)}for(u=h;u<this.columns.records.length;u++){p=u
if((m=this.columns.records[p].element[0]).parentNode&&m.parentNode.removeChild(m),this.filterrow&&this.filterrow[0])(g=this.filterrow[0].cells[p]).parentNode&&g.parentNode.removeChild(g)}for(u=c;u<h;u++){var g
p=u
if((m=this.columns.records[p].element[0]).parentNode||this.columnsrow[0].appendChild(m),this.filterrow&&this.filterrow[0])(g=this.filterrow[0].cells[p]).parentNode||this.filterrow[0].appendChild(g)}}this.table[0].style.left=-i+"px",n[0].style.marginLeft=-i+"px"}this.filterrow&&(this.filterrow[0].style.left=-i+"px",this.rtl&&(this.filterrow[0].style.left=-i+parseInt(this.content.css("left"))+"px"))}if(this.showAggregates&&this.aggregates[0].cells){var v=0
this.rtl&&"hidden"!=this.vScrollBar.css("visibility")&&(v="hidden"!=this.hScrollBar.css("visibility")?2+parseInt(this.hScrollBar.css("left")):3+parseInt(this.vScrollBar.width())),this.aggregates[0].style.marginLeft=-i+v+"px"}}},_initializeColumns:function(){var i=this.source.datafields
null==i&&this.source._source&&(i=this.source._source.datafields)
var n=!!i&&i.length>0
if(this.columns&&this.columns.records)for(var r=0;r<this.columns.records.length;r++)this._removecolumnhandlers(this.columns.records[r])
var o,a=this,s=new e.jqx.dataCollection(this.element),l=0;(this._haspinned=!1,this._columns?this.columns=this._columns:this._columns=this.columns,"checkbox"==this.selectionMode)&&((o=new t(a,this)).visibleindex=l++,o.width=a.indentWidth,o.checkboxcolumn=!0,o.editable=!1,o.columntype="checkbox",o.groupable=!1,o.draggable=!1,o.filterable=!1,o.resizable=!1,o.datafield="_checkboxcolumn",s.add(o))
this.rowDetails&&!this.treeGrid&&((o=new t(a,this)).visibleindex=l++,o.width=a.indentWidth,o.editable=!1,o.rowDetailscolumn=!0,o.groupable=!1,o.draggable=!1,o.pinned=!0,o.filterable=!1,o.resizable=!1,o.text="",s.add(o))
var d=new Array
e.each(this.columns,function(e){if(null!=a.columns[e]){var i=new t(a,this)
if(i.visibleindex=l++,null!=this.dataField&&(this.datafield=this.dataField),this.pinned&&(a._haspinned=!0),null==this.datafield)a.source&&a.source._source&&"array"==a.source._source.datatype&&(n||(a.source._source.datafields?a.source._source.datafields.push({name:e.toString()}):(a.source._source.datafields=new Array,a.source._source.datafields.push({name:e.toString()}))),this.datafield=e.toString(),this.displayfield=e.toString(),i.datafield=this.datafield,i.displayfield=this.displayfield)
else{if(d[this.datafield])throw new Error("jqxDataTable: Invalid column 'dataField' setting. jqxDataTable's columns should be initialized with unique data fields.")
d[this.datafield]=!0}s.add(i)}}),this.rtl&&s.records.reverse(),this.columns=s},addFilter:function(e,t){this.getColumn(e)&&this.dataview.addFilter(e,t)},removeFilter:function(e){this.getColumn(e)&&this.dataview.removeFilter(e)},clearFilters:function(e,t){this.dataview.filters=new Array,this.dataview._filteredData=null,this.dataview._sortData=null,this.dataview._sortHierarchyData=null,!1!==t&&this.resetfilter(),!1!==e&&this.applyFilters()},resetfilter:function(){if(this.filterinput&&this.filterinput.val(""),this.filterrow)for(var t=0;t<this.filterrow[0].cells.length;t++){var i=this.filterrow[0].cells[t],n=e(i).find("input:first"),r=e(i).find(".filterconditions"),o=this.columns.records[t]
if(o.filterable){n.val("")
var a,s=this.getcolumntypebydatafield(o),l=new e.jqx.filter
switch(s){case"number":case"int":case"float":case"decimal":a="numericfilter",l.getoperatorsbyfiltertype("numericfilter")
break
case"boolean":case"bool":a="booleanfilter",l.getoperatorsbyfiltertype("booleanfilter")
break
case"date":case"time":a="datefilter",l.getoperatorsbyfiltertype("datefilter")
break
case"string":a="stringfilter",l.getoperatorsbyfiltertype("stringfilter")}r.length>0&&("stringfilter"===a?r.jqxDropDownList({selectedIndex:2}):r.jqxDropDownList({selectedIndex:0}))}}},applyFilters:function(){if(this.editable&&null!=this.editKey)this.endroweditbykey(this.editKey)
if(this.dataview._filteredData=null,this.dataview._sortData=null,this.dataview._sortHierarchyData=null,this.serverProcessing?(this.dataview.pagenum=0,this.updateBoundData("filter")):(this.goToPage(0),this.refresh()),arguments&&arguments.length>0){if(this._updateSimpleFilter&&this.filtercolumnsList){var e=this.filtercolumnsList.jqxDropDownList("getSelectedItem").value
this._updateSimpleFilter(e)}this._updateFilterRow&&this._updateFilterRow()}this._raiseEvent("filter",{filters:this.dataview.filters})},sortBy:function(e,t){if(this.dataview._filteredData=null,this.dataview._sortData=null,this.dataview._sortHierarchyData=null,this._loading)throw new Error("jqxDataTable: "+this.loadingErrorMessage)
if(this.editable&&null!=this.editKey)this.endroweditbykey(this.editKey)
if(null==e&&(t=null,e=this.sortcolumn),e){var i
i="a"==t||"asc"==t||"ascending"==t||1==t,this.sortdirection=null!=t?{ascending:i,descending:!i}:{ascending:!1,descending:!1},this.sortcolumn=null!=t?e:null,this.source.sort&&(this.dataview.sortfield=e,this.dataview.sortfielddirection=null==t?"":i?"asc":"desc",this.source.sort&&!this._loading&&this.source.sort(e,t)),this.dataview.sortBy(e,t),this._raiseEvent("sort",{sortcolumn:this.sortcolumn,sortdirection:this.sortdirection})}this.serverProcessing?this.updateBoundData("sort"):this.refresh()},_togglesort:function(e){if(!this.disabled&&e.sortable&&this.sortable){var t={sortcolumn:this.sortcolumn,sortdirection:this.sortdirection},i=null
i=null==t.sortcolumn||t.sortcolumn!=e.displayfield||1!=(i=t.sortdirection.ascending)&&null,this.sortBy(e.displayfield,i)}},_renderfilter:function(){var t=this,i=e("<div style='position: relative; margin: 4px;'><input style='height: 22px; direction: ltr;' role='textbox' type='text'/><div style='cursor: pointer; height: 100%;'><div></div></div></div>")
i.height(22)
var n=i.find("input"),r=i.find("div:first")
i.addClass(this.toThemeProperty("jqx-rc-all")),i.addClass(this.toThemeProperty("jqx-widget")),i.addClass(this.toThemeProperty("jqx-input-group")),n.addClass(this.toThemeProperty("jqx-input")),n.addClass(this.toThemeProperty("jqx-rc-l")),n.addClass(this.toThemeProperty("jqx-input-group-addon")),n.addClass(this.toThemeProperty("jqx-widget")),n.addClass(this.toThemeProperty("jqx-widget-content")),r.addClass(this.toThemeProperty("jqx-fill-state-normal")),r.addClass(this.toThemeProperty("jqx-rc-r")),r.addClass(this.toThemeProperty("jqx-input-group-addon")),r.find("div").addClass(this.toThemeProperty("jqx-icon-search")),this.rtl&&(n.addClass(this.toThemeProperty("jqx-rtl")),n.css("direction","rtl")),this.filter.children().remove(),this.filterbutton=r
for(var o=new Array,a=0;a<t.columns.records.length;a++)t.columns.records[a].datafield&&t.columns.records[a].filterable&&o.push({label:t.columns.records[a].text,value:t.columns.records[a].displayfield})
var s=o.length<10,l=e("<div style='position: relative; top: 50%; display: none; margin-right: 4px; margin-left: 4px; float: left;'>"+this.gridlocalization.filtersearchstring+"</div>")
this.filter.append(l)
var d=e("<div class='filtercolumns' style='position: relative; margin: 4px; float: left;'></div>")
this.filter.append(d),d.jqxDropDownList&&d.jqxDropDownList({theme:this.theme,enableBrowserBoundsDetection:!0,autoDropDownHeight:s,rtl:t.rtl,dropDownWidth:220,selectedIndex:0,width:"auto",height:20,source:o,displayMember:"label",valueMember:"value"}),this.filtercolumnsList=d
var c=function(e){t.filterinput.val("")
for(var i=0;i<t.dataview.filters.length;i++){var n=t.dataview.filters[i]
n.datafield===e&&t.filterinput.val(n.filter.getfilterat(0).filtervalue)}}
30!==t.filterHeight&&(t.filtercolumnsList.css("margin-top",t.filterHeight/2-10),i.css("margin-top",t.filterHeight/2-10)),t._updateSimpleFilter=c,this.addHandler(d,"select",function(e){var t=e.args.item.value
c(t)}),"simple"===this.filterMode?(this.filtercolumnsList.hide(),l.show(),l.css("margin-top",-this.filter.height()/2),i.css("float","left")):(this.filtercolumnsList.show(),l.hide())
var h=function(){if(!r.hasClass("jqx-fill-state-disabled")){var i=n.val()
if(d.jqxDropDownList)var o=d.jqxDropDownList("getSelectedItem")
var a=function(i,n,r){var o=new e.jqx.filter,a=t.getcolumntypebydatafield(i),s=t._getfiltertype(a)
if("datefilter"==s)var l=o.createfilter(s,n,"EQUAL",null,i.cellsFormat,t.gridlocalization)
else if("numericfilter"==s||"booleanfilter"==s){"numericfilter"==s&&(","==t.gridlocalization.decimalseparator&&n.indexOf(t.gridlocalization.decimalseparator)>=0&&(n=n.replace(t.gridlocalization.decimalseparator,".")),n.indexOf(t.gridlocalization.currencysymbol)>=0&&(n=n.replace(t.gridlocalization.currencysymbol,"")),n.indexOf(t.gridlocalization.percentagesymbol)>=0&&(n=n.replace(t.gridlocalization.percentagesymbol,"")))
l=o.createfilter(s,n,"EQUAL",null,i.cellsFormat,t.gridlocalization)}else l=o.createfilter(s,n,"CONTAINS")
return o.operator=r,o.addfilter(0,l),o}
if("simple"!==t.filterMode){if(o){var s=o.value,l=a(h=t.getColumn(s),i,"and")
i.length>0?(t.removeFilter(s),t.addFilter(s,l),t.applyFilters()):(t.removeFilter(s),t.applyFilters()),"advanced"===t.filterMode&&t._updateFilterRow&&t._updateFilterRow(!0)}}else{if(t.clearFilters(!1,!1),i.length>0)for(var c=0;c<t.columns.records.length;c++){var h
l=a(h=t.columns.records[c],i,"or")
t.addFilter(h.datafield,l)}t.applyFilters()}0==t.dataview.filters.length?t.filtericon.fadeOut(200):t.filtericon.fadeIn(200)}}
if(n.keydown(function(e){if(13===e.keyCode)return h(),e.preventDefault&&e.preventDefault(),!1}),r.click(function(){h()}),this.filterinput=n,this.filter.append(i),"advanced"==this.filterMode){var u=e("<a style='float: left; position: relative; margin: 2px; margin-left: 10px;' href='#'>"+this.gridlocalization.filterstring+"</a>")
i.append(u),this.addHandler(u,"click",function(i){var n=function(i){if(t.filterrow)for(var n=0;n<t.filterrow[0].cells.length;n++){var r=t.filterrow[0].cells[n],o=e(r).find("input:first"),a=t.columns.records[n]
if(a.filterable){!0===i&&o.val("")
for(var s=0;s<t.dataview.filters.length;s++){var l=t.dataview.filters[s]
if(l.datafield===a.displayfield){o.val(l.filter.getfilterat(0).filtervalue)
break}}}}},r=function(i){if(t.filterrow)for(var n=0;n<t.filterrow[0].cells.length;n++){var r=t.filterrow[0].cells[n],o=e(r).find("input:first"),a=t.columns.records[n]
a.hidden?r.style.visibility="hidden":r.style.visibility="inherit",a.filterable&&(r.style.left=parseInt(0)+parseInt(a.uielement[0].style.left)+"px",r.style.width=6+a.width+"px",o[0]&&(o[0].style.width=a.width-6-22+"px"))}}
t._updateFilterRow=n,t._arrangeFilterRow=r
var o=function(){t.filtercolumnsList.jqxDropDownList({disabled:!0}),t.filterinput.addClass(t.toThemeProperty("jqx-fill-state-disabled")),t.filterinput.attr("disabled",!0),t.filterbutton.addClass(t.toThemeProperty("jqx-fill-state-disabled"))}
return 0===t.filter.find(".filterrow").length?(t._renderadvancedfilter(),o(),n(),t._arrange(),r()):("none"===t.filter.find(".filterrow").css("display")?(o(),t.filter.find(".filterrow").removeClass("filterrow-hidden"),n(),t.filter.find(".filterrow").show(),r()):(t.filtercolumnsList.jqxDropDownList({disabled:!1}),t.filterinput.removeClass(t.toThemeProperty("jqx-fill-state-disabled")),t.filterinput.attr("disabled",!1),t.filterbutton.removeClass(t.toThemeProperty("jqx-fill-state-disabled")),c(t.filtercolumnsList.jqxDropDownList("getSelectedItem").value),t.filter.find(".filterrow").addClass("filterrow-hidden"),t.filter.find(".filterrow").hide()),t._arrange()),!1})}var p=e("<div style='float: left; width: 16px; height: 16px; position: relative; margin: 3px;'></div>")
p.attr("title",t.gridlocalization.filterclearstring),p.addClass(t.toThemeProperty("jqx-icon-close")),i.append(p),p.hide(),t.filtericon=p,p.click(function(){t.clearFilters(),t.filtericon.fadeOut(200)}),t.dataview.filters.length>0&&("advanced"!=t.filterMode?c(t.dataview.filters[0].datafield):t._updateFilterRow&&t._updateFilterRow())},_renderadvancedfilter:function(){var t=this,i=function(){t.clearFilters(!1,!1)
for(var i=t.filtercolumnsList.jqxDropDownList("getSelectedItem").value,n=(t.filterinput.val(),0);n<t.filterrow[0].cells.length;n++){var r=t.filterrow[0].cells[n],o=e(r).find("input:first"),a=e(r).find(".filterconditions"),s=t.columns.records[n],l=""
if(s.filterable){s.displayfield===i&&t.filterinput.val(o.val())
var d,c,h=t.getcolumntypebydatafield(s),u=new e.jqx.filter
switch(h){case"number":case"int":case"float":case"decimal":d="numericfilter",c=u.getoperatorsbyfiltertype("numericfilter")
break
case"boolean":case"bool":d="booleanfilter",c=u.getoperatorsbyfiltertype("booleanfilter")
break
case"date":case"time":d="datefilter",c=u.getoperatorsbyfiltertype("datefilter")
break
case"string":d="stringfilter",c=u.getoperatorsbyfiltertype("stringfilter")}if(0==a.length)l="stringfilter"===d?c[2]:c[0]
else{var p=a.jqxDropDownList("getSelectedItem")
l=p?c[p.index]:"stringfilter"===d?c[2]:c[0]}var m=o.val()
if(m.length>0||0==m.length&&"NOT_NULL"==l||0==m.length&&"NOT_EMPTY"==l||0==m.length&&"EMPTY"==l||0==m.length&&"NULL"==l){var f=s.displayfield,g=new e.jqx.filter
"numericfilter"==d&&(","==t.gridlocalization.decimalseparator&&m.indexOf(t.gridlocalization.decimalseparator)>=0&&(m=m.replace(t.gridlocalization.decimalseparator,".")),m.indexOf(t.gridlocalization.currencysymbol)>=0&&(m=m.replace(t.gridlocalization.currencysymbol,"")),m.indexOf(t.gridlocalization.percentagesymbol)>=0&&(m=m.replace(t.gridlocalization.percentagesymbol,"")))
u=g.createfilter(d,m,l,null,s.cellsFormat,t.gridlocalization)
g.addfilter(0,u),t.addFilter(f,g)}}}t.dataview.filters.length>0?t.applyFilters():t.clearFilters(),0==t.dataview.filters.length?t.filtericon.fadeOut(200):t.filtericon.fadeIn(200)}
!function(){var n=e("<div style='position: relative;' class='filterrow'></div>").appendTo(t.filter)
t.filterrow=n,n[0].cells=new Array,n.height(24),n.width(t.table.width())
var r=t.filtercolumnsList.jqxDropDownList("getSelectedItem").value,o=t.filterinput.val()
e.each(t.columns.records,function(){var a=this,s=e("<div></div>").appendTo(n)
if(s.css("position","absolute"),s.css("left",0+parseInt(a.uielement[0].style.left)),a.pinned&&(s.css("z-index",t.tableZIndex+t.columns.records.length),s.addClass(t.toThemeProperty("jqx-widget-header"))),n[0].cells.push(s[0]),!this.filterable)return!0
var l=e("<input style='margin-left: 4px; height: 20px; float: left;' role='textbox' type='text'/>").appendTo(s)
l.keydown(function(e){13===e.keyCode&&i()}),a.displayfield===r&&l.val(o),l.addClass(t.toThemeProperty("jqx-input")),l.addClass(t.toThemeProperty("jqx-rc-all")),l.addClass(t.toThemeProperty("jqx-widget")),l.addClass(t.toThemeProperty("jqx-widget-content"))
var d=e("<div style='cursor: pointer; margin-left: 4px; margin-bottom: 4px; margin-top: 6px; width: 18px; position: relative; margin-top: 4px; float: left;'></div>").appendTo(s)
d.append(e("<div style='width: 16px; height: 16px;' class='"+t.toThemeProperty("jqx-grid-column-filterbutton")+"'></div>")),l.focus(function(){t.ensureColumnVisible(a.displayfield),t.filter[0].scrollLeft=0,t.ensureColumnVisible(a.displayfield),setTimeout(function(){t.filter[0].scrollLeft=0,t.ensureColumnVisible(a.displayfield)},10)}),d.click(function(){var i=e("<div class='filterconditions' style='position: relative; margin-top: 1px; float: left;'></div>")
i.insertAfter(d),d.remove()
var n,r=t.getcolumntypebydatafield(a),o=t._getfiltersbytype(r)
n="string"===r?2:0,i.jqxDropDownList({theme:t.theme,enableBrowserBoundsDetection:!0,renderMode:"simple",arrowSize:0,selectedIndex:n,rtl:t.rtl,dropDownWidth:230,dropDownHeight:180,width:20,height:20,source:o,selectionRenderer:function(){return"<div style='width: 16px; height: 16px;' class='"+t.toThemeProperty("jqx-grid-column-filterbutton")+"'></div>"}}),t.addHandler(i,"close",function(e){l.focus(),setTimeout(function(){l.focus()},10)}),i.removeAttr("tabindex"),i.find("div").removeAttr("tabindex"),i.jqxDropDownList("open")}),l[0].style.width=a.width-6-22+"px"}),e("<div style='clear: both;'></div>").appendTo(n)}()
var n=e("<div style='position:relative;' class='filterrow'></div>").appendTo(t.filter),r=e("<input type='button' style='position: relative; float: left; margin-top: 4px; margin-left: 4px;' value='"+t.gridlocalization.filterapplystring+"'/>").appendTo(n),o=e("<input type='button' style='position: relative; float: left; margin-top: 4px;  margin-left: 4px;' value='"+t.gridlocalization.filtercancelstring+"'/>").appendTo(n)
r.css("left",0),o.css("left",0),r.jqxButton({theme:t.theme}),o.jqxButton({theme:t.theme}),o.click(function(){t.filtercolumnsList.jqxDropDownList({disabled:!1}),t.filterinput.removeClass(t.toThemeProperty("jqx-fill-state-disabled")),t.filterinput.attr("disabled",!1),t.filterbutton.removeClass(t.toThemeProperty("jqx-fill-state-disabled")),t.filter.find(".filterrow").addClass("filterrow-hidden"),t.filter.find(".filterrow").hide(),t._arrange()}),r.click(function(){i()}),t._renderhorizontalscroll()},_getfiltertype:function(e){var t="stringfilter"
switch(e){case"number":case"int":case"float":case"decimal":t="numericfilter"
break
case"boolean":case"bool":t="booleanfilter"
break
case"date":case"time":t="datefilter"
break
case"string":t="stringfilter"}return t},getcolumntypebydatafield:function(t){var i=this.source.datafields||(this.source._source?this.source._source.datafields:null)
if(i){var n=""
if(e.each(i,function(){if(this.name==t.displayfield)return this.type&&(n=this.type),!1}),n)return n}return"string"},_getfiltersbytype:function(e){var t=""
switch(e){case"number":case"float":case"int":t=this.gridlocalization.filternumericcomparisonoperators
break
case"date":t=this.gridlocalization.filterdatecomparisonoperators
break
case"boolean":case"bool":t=this.gridlocalization.filterbooleancomparisonoperators
break
case"string":default:t=this.gridlocalization.filterstringcomparisonoperators}return t},_getcellvalue:function(e,t){var i=null
return i=t[e.datafield],null!=e.displayfield&&(i=t[e.displayfield]),null==i&&(i=""),i},_renderrows:function(t){if(this.editable&&null!=this.editKey&&!1!==t)this.endroweditbykey(this.editKey)
if(this.treeGrid)this.treeGrid._renderrows()
else if(!this._loading&&!this._updating){this.rendering&&this.rendering()
var i=this,n=0
this.table[0].rows=new Array
var r=this.toTP("jqx-cell")+" "+this.toTP("jqx-widget-content")
this.rtl&&(r+=" "+this.toTP("jqx-cell-rtl"))
var o=this.columns.records.length,a=e.jqx.browser.msie&&e.jqx.browser.version<8
a&&this.host.attr("hideFocus","true")
var s=i.groups.length,l=new Array,d=this.source.records
if(d=this.dataview.evaluate(d),this.dataViewRecords=d,"all"==this.dataview.pagesize||!this.pageable||this.serverProcessing){var c=d
if(this.pageable&&this.serverProcessing&&d.length>this.dataview.pagesize)c=d.slice(this.dataview.pagesize*this.dataview.pagenum,this.dataview.pagesize*this.dataview.pagenum+this.dataview.pagesize)}else c=d.slice(this.dataview.pagesize*this.dataview.pagenum,this.dataview.pagesize*this.dataview.pagenum+this.dataview.pagesize)
if(i.groups&&i.groups.length>0){var h=this.pageable?this.dataview.pagesize*this.dataview.pagenum:0
if("root"===this.pageSizeMode){var u=i.source.getGroupedRecords(i.groups,"records","label",null,"data",null,"parent",d,0)
i.rootRecordsLength=u.length,u=function(e){for(var t=0,n=new Array,r=0;r<e.length;r++){var o=e[r]
if(0==o.level&&t++,t>i.dataview.pagesize*i.dataview.pagenum&&t<=i.dataview.pagesize*i.dataview.pagenum+i.dataview.pagesize&&n.push(o),t>i.dataview.pagesize*i.dataview.pagenum+i.dataview.pagesize)break}return n}(u)}else u=i.source.getGroupedRecords(i.groups,"records","label",null,"data",null,"parent",c,h)
var p=function(e,t){for(var i=0;i<e.length;i++){var n=e[i]
if(t.push(n),n.records&&n.records.length>0)for(var r=p(n.records,new Array),o=0;o<r.length;o++)r[o].leaf,t.push(r[o])}return t}
c=l=p.call(i,u,new Array),this.rowsByKey=new Array
for(var m=0;m<c.length;m++){var f=c[m]
this.rowsByKey[f.uid]=f}}l=c
this.renderedRecords=l
var g=l.length,v=this.tableZIndex,b=0,y=0
if(a)for(var _=0;_<o;_++){(H=(E=this.columns.records[_]).width)<E.minwidth&&(H=E.minwidth),H>E.maxwidth&&(H=E.maxwidth)
var w=e('<table><tr><td role="gridcell" style="max-width: '+H+"px; width:"+H+'px;" class="'+r+'"></td></tr></table>')
e(document.body).append(w)
var x=w.find("td")
b=1+parseInt(x.css("padding-left"))+parseInt(x.css("padding-right")),w.remove()
break}var C=this.rtl?" "+this.toTP("jqx-grid-table-rtl"):"",S="<table cellspacing='0' cellpadding='0' class='"+this.toTP("jqx-grid-table")+C+"' id='table"+this.element.id+"'><colgroup>",T="<table cellspacing='0' cellpadding='0' class='"+this.toTP("jqx-grid-table")+C+"' id='pinnedtable"+this.element.id+"'><colgroup>",I=0
for(_=0;_<o;_++){var E
if((E=this.columns.records[_]).hidden)I++,0
else{if((H=E.width)<E.minwidth&&(H=E.minwidth),H>E.maxwidth&&(H=E.maxwidth),(H-=b)<0&&(H=0),a){var P=H
if(_==I&&P++,E.rowDetailscolumn)T+="<col style='max-width: "+(P=P+4)+"px; width: "+P+"px;'>",S+="<col style='max-width: "+P+"px; width: "+P+"px;'>"
else T+="<col style='max-width: "+P+"px; width: "+P+"px;'>",S+="<col style='max-width: "+P+"px; width: "+P+"px;'>"}else T+="<col style='max-width: "+H+"px; width: "+H+"px;'>",S+="<col style='max-width: "+H+"px; width: "+H+"px;'>"
y+=H}}S+="</colgroup>",T+="</colgroup>",this._hiddencolumns=!1
var D=!1
if(this.rowDetails&&this._pinnedTable&&(this._pinnedTable.find("[data-role=details]").detach(),this._table.find("[data-role=details]").detach()),0===g){var k='<tr role="row">',A=this.host.height()
if(this.pageable&&(A-=this.pagerHeight,"both"===this.pagerPosition&&(A-=this.pagerHeight)),A-=this.columnsHeight,this.filterable){var j=this.filter.find(".filterrow"),M=1
this.filter.find(".filterrow-hidden").length>0&&(M=0),A-=this.filterHeight+this.filterHeight*j.length*M}this.showstatusbar&&(A-=this.statusBarHeight),this.showAggregates&&(A-=this.aggregatesHeight),A<25&&(A=25),"hidden"!=this.hScrollBar[0].style.visibility&&(A-=this.hScrollBar.outerHeight()),("auto"===this.height||null===this.height||this.autoheight)&&(A=300)
w='<td colspan="'+this.columns.records.length+'" role="gridcell" style="border: none; min-height: '+A+"px; height: "+A+"px; max-width:"+y+"px; width:"+y+"px;",r=this.toTP("jqx-cell")+" "+this.toTP("jqx-grid-cell")+" "+this.toTP("jqx-item")
w+='" class="'+(r+=" "+this.toTP("jqx-center-align"))+'">',w+=this.gridlocalization.emptydatastring,S+=k+=w+="</td>",T+=k,this.table[0].style.width=y+2+"px",n=y}var N=this.getRows(),q=new Array
for(m=0;m<l.length;m++){var O=(f=l[m]).uid
void 0===f.uid&&(f.uid=this.dataview.generatekey())
k='<tr data-key="'+O+'" role="row" id="row'+m+this.element.id+'">'
var B='<tr data-key="'+O+'" role="row" id="row'+m+this.element.id+'">'
if(s>0&&f.level<s)k='<tr data-role="row-group" data-key="'+O+'" role="row" id="row'+m+this.element.id+'">',B='<tr data-role="row-group" data-key="'+O+'" role="row" id="row'+m+this.element.id+'">'
var L=0,R=0
for(_=0;_<o;_++){var H,V=this.columns.records[_];(V.pinned||this.rtl&&this.columns.records[o-1].pinned)&&(D=!0),(H=V.width)<V.minwidth&&(H=V.minwidth),H>V.maxwidth&&(H=V.maxwidth),(H-=b)<0&&(H=0)
r=this.toTP("jqx-cell")+" "+this.toTP("jqx-grid-cell")+" "+this.toTP("jqx-item")
V.pinned&&(r+=" "+this.toTP("jqx-grid-cell-pinned")),this.sortcolumn===V.displayfield&&(r+=" "+this.toTP("jqx-grid-cell-sort")),this.altRows&&m%2!=0&&(r+=" "+this.toTP("jqx-grid-cell-alt")),this.rtl&&(r+=" "+this.toTP("jqx-cell-rtl"))
var F=""
if(s>0&&f.level<s)if(a)r+=" "+this.toTP("jqx-grid-cell-pinned")
else{r+=" "+this.toTP("jqx-grid-cell-pinned"),F+=' colspan="'+o+'"'
P=0
for(var z=0;z<o;z++){var $=i.columns.records[z],U=$.width
U<$.minwidth&&(H=$.minwidth),U>$.maxwidth&&(H=$.maxwidth),(U-=b)<0&&(U=0),$.hidden||(P+=U)}H=P}w='<td role="gridcell" '+F+' style="max-width:'+H+"px; width:"+H+"px;"
var G='<td role="gridcell" '+F+' style="pointer-events: none; visibility: hidden; border-color: transparent; max-width:'+H+"px; width:"+H+"px;"
_==o-1&&1==o&&(w+="border-right-color: transparent;",G+="border-right-color: transparent;")
var W=!1
s>0&&f.level<s&&(W=!0),W?this.rtl&&(r+=" "+this.toTP("jqx-right-align")):"left"!=V.cellsalign&&("right"===V.cellsalign?r+=" "+this.toTP("jqx-right-align"):r+=" "+this.toTP("jqx-center-align")),this.rowinfo[f.uid]&&(this.rowinfo[f.uid].selected&&!V.rowDetailscolumn&&this.editKey!==f.uid&&"none"!==this.selectionMode&&(r+=" "+this.toTP("jqx-grid-cell-selected"),r+=" "+this.toTP("jqx-fill-state-pressed")),this.rowinfo[f.uid].locked&&(r+=" "+this.toTP("jqx-grid-cell-locked"))),V.hidden?W||(w+="display: none;",G+="display: none;",this._hiddencolumns=!0):(L+=b+H,0==R&&(w+="border-left-width: 0px;",G+="border-left-width: 0px;"),R++),s>0&&a&&W&&_>=s&&(w+="font-size: 1px; border-color: transparent;  color: transparent;",G+="font-size: 1px; border-color: transparent; color: transparent;"),V.pinned&&(w+="pointer-events: auto;",G+="pointer-events: auto;"),!W&&V.rowDetailscolumn&&(this.rowinfo[f.uid]?this.rowinfo[f.uid].nodetails||(this.rowinfo[f.uid].expanded?(this.rtl?r+=" "+this.toTP("jqx-grid-group-expand-rtl"):r+=" "+this.toTP("jqx-grid-group-expand"),r+=" "+this.toTP("jqx-icon-arrow-down")):this.rtl?(r+=" "+this.toTP("jqx-grid-group-collapse-rtl"),r+=" "+this.toTP("jqx-icon-arrow-left")):(r+=" "+this.toTP("jqx-grid-group-collapse"),r+=" "+this.toTP("jqx-icon-arrow-right"))):this.rtl?(r+=" "+this.toTP("jqx-grid-group-collapse-rtl"),r+=" "+this.toTP("jqx-icon-arrow-left")):(r+=" "+this.toTP("jqx-grid-group-collapse"),r+=" "+this.toTP("jqx-icon-arrow-right"))),(!this.autoRowHeight||this.autoRowHeight&&!V.autoCellHeight)&&(r+=" "+this.toTP("jqx-grid-cell-nowrap "))
var X=i._getcellvalue(V,f),J=V.cellsFormat
if(s>0&&f.level<s&&(X=f.label,J=i.getColumn(i.groups[f.level]).cellsFormat),""!=J&&e.jqx.dataFormat&&(e.jqx.dataFormat.isDate(X)?X=e.jqx.dataFormat.formatdate(X,J,i.gridlocalization):(e.jqx.dataFormat.isNumber(X)||!isNaN(parseFloat(X))&&isFinite(X))&&(X=e.jqx.dataFormat.formatnumber(X,J,i.gridlocalization))),W)this.groupsRenderer&&(X=this.groupsRenderer(X,f,f.level))
else{if(""!=V.cellclassname&&V.cellclassname)if("string"==typeof V.cellclassname)r+=" "+V.cellclassname
else{var Y=V.cellclassname(m,V.datafield,X,f)
Y&&(r+=" "+Y)}if(""!=V.cellsRenderer&&V.cellsRenderer){if(-1===(Q=N.indexOf(f))&&f.originalRecord)var Q=N.indexOf(f.originalRecord);(X=V.cellsRenderer(Q,V.datafield,X,f))&&(X.indexOf("<jqx-")>=0||X.indexOf(" ng-")>=0)&&q.push({rowKey:f.uid,row:Q,column:V.datafield,value:X,columnIndex:_})}}if(w+='" class="'+r+'">',w+=X,w+="</td>",G+='" class="'+r+'">',G+=X,G+="</td>",V.pinned?(B+=w,k+=w):(k+=w,D&&(B+=G)),s>0&&!a&&f.level<s)break}if(0==n&&(this.table[0].style.width=L+2+"px",n=L),S+=k+="</tr>",T+=B+="</tr>",this.rowinfo[f.uid]?("group"in this.rowinfo[f.uid]||(this.rowinfo[f.uid].group=W),"row"in this.rowinfo[f.uid]||(this.rowinfo[f.uid].row=f),"details"in this.rowinfo[f.uid]||(this.rowinfo[f.uid].details=null),"detailsHeight"in this.rowinfo[f.uid]||(this.rowinfo[f.uid].detailsHeight=200),"initialized"in this.rowinfo[f.uid]||(this.rowinfo[f.uid].initialized=!1),"expanded"in this.rowinfo[f.uid]||(this.rowinfo[f.uid].expanded=!1)):this.rowinfo[f.uid]={group:W,row:f,details:null,detailsHeight:200,initialized:!1,expanded:!1},this.serverProcessing&&(this.rowinfo[f.uid].row=f),this.rowDetails){var K=this.rowinfo[f.uid].detailsHeight
if(this.rowinfo[f.uid])if(this.rowinfo[f.uid].expanded)var Z='<tr data-role="row-details"><td valign="top" style="pointer-events: auto; overflow: hidden; min-height: '+K+"px; max-height: "+K+"px; height: "+K+'px; overflow: hidden; border-left: none; border-right: none;" colspan="'+this.columns.records.length+'" role="gridcell"'
else Z='<tr data-role="row-details" style="display: none;"><td valign="top" style="pointer-events: auto; overflow: hidden; min-height: '+K+"px; max-height: "+K+"px; height: "+K+'px; overflow: hidden; border-left: none; border-right: none;" colspan="'+this.columns.records.length+'" role="gridcell"'
else Z='<tr data-role="row-details" style="display: none;"><td valign="top" style="pointer-events: auto; overflow: hidden; min-height: '+K+"px; max-height: "+K+"px; height: "+K+'px; overflow: hidden; border-left: none; border-right: none;" colspan="'+this.columns.records.length+'" role="gridcell"'
r=this.toTP("jqx-cell")+" "+this.toTP("jqx-grid-cell")+" "+this.toTP("jqx-item")
r+=" "+this.toTP("jqx-details"),r+=" "+this.toTP("jqx-reset"),S+=Z+='" class="'+r+'"><div style="pointer-events: auto; overflow: hidden; min-height: '+K+"px; max-height: "+K+"px; height: "+K+'px;"><div data-role="details"></div></div></td></tr>',T+=Z}}if(S+="</table>",T+="</table>",D){i.WinJS?MSApp.execUnsafeLocalFunction(function(){i.table.html(T+S)}):i.table[0].innerHTML=T+S
var ee=this.table.find("#table"+this.element.id),te=this.table.find("#pinnedtable"+this.element.id)
if(te.css("float","left"),te.css("pointer-events","none"),ee.css("float","left"),te[0].style.position="absolute",ee[0].style.position="relative",ee[0].style.zIndex=v-10,te[0].style.zIndex=v+10,this._table=ee,this._table[0].style.left="0px",this._pinnedTable=te,this._pinnedTable[0].style.left="0px",this._pinnedTable[0].style.width=n+"px",this._table[0].style.width=n+"px",this.rtl&&n>parseInt(this.element.style.width)&&this._haspinned&&(this._pinnedTable[0].style.left=3-n+parseInt(this.element.style.width)+"px"),this.rowDetails)for(m=0;m<g;m++){O=(f=l[m]).uid
if(this.rowinfo[O].details){var ie=e(this._table.children()[1]).children("[data-key="+O+"]"),ne=e(this._pinnedTable.children()[1]).children("[data-key="+O+"]")
if(ie){var re=ne.next(),oe=e(e(re).children().children())
oe.children().detach(),oe.append(this.rowinfo[f.uid].details)}}}}else{i.WinJS?MSApp.execUnsafeLocalFunction(function(){i.table.html(S)}):i.table[0].innerHTML=S
z=this.table.find("#table"+this.element.id)
this._table=z,e.jqx.browser.msie&&e.jqx.browser.version<10&&(this._table[0].style.width=n+"px"),0===g&&(this._table[0].style.width=2+n+"px")}if(0===g&&(this._table[0].style.tableLayout="auto",this._pinnedTable&&(this._pinnedTable[0].style.tableLayout="auto")),q&&q.length>0){this._table[0].rows
e.each(q,function(){this.row
var t=this.rowKey,n=(this.column,this.columnIndex),r=i._getuirow(t)
if(r){var o=r[0].cells[n]
e.jqx.angularCompile&&e.jqx.angularCompile(o,"<div>"+o.innerHTML+"</div>")}})}this.rendered&&this.rendered()}},getcolumnindex:function(e){var t=this.getColumn(e)
return this.columns.records.indexOf(t)},setcolumnindex:function(t,i,n){if(!((d=this.getColumn(t)).pinned||d.hidden||d.checkboxcolumn||d.grouped)){var r=this.columns.records.indexOf(d)
this.columns.records.splice(r,1),this.columns.records.splice(i,0,d)
var o=0,a=this.headerZIndex
this.columnsrow.children().detach()
this.toThemeProperty("jqx-grid-cell")
" "+this.toThemeProperty("jqx-grid-cell-pinned")," "+this.toThemeProperty("jqx-item")
var s=this
if(null!=s.filterrow)e(s.filterrow.children()[0])
this.columnsrow[0].cells=[]
if(e.each(this.columns.records,function(e,t){var i=this.uielement
s.columnsrow.append(i),s.rtl?i.css("z-index",a++):i.css("z-index",a--)
var n=s.rtl?250+a+1:250+a-1
this.pinned&&i.css("z-index",n)
var r=this.width
i.css("left",o),s.columnsrow[0].cells[s.columnsrow[0].cells.length]=i[0],this.hidden&&!0,this.hidden&&this.hideable||(o+=r)}),this.groupable){var l=this.groups.length
l>0&&r-l>=0&&(r-=l,i-=l)}this.rowDetails&&r-1>=0&&(r--,i--),"checkbox"==this.selectionMode&&r-1>=0&&(r--,i--)
var d=this._columns[r]
this._columns.splice(r,1),this._columns.splice(i,0,d),this.resize(),this._rendercolumnGroups(),this._raiseEvent("columnReordered",{dataField:d.datafield,oldIndex:r,newIndex:i})}},_pinnedColumnsLength:function(){var t=0
return e.each(this.columns.records,function(){this.pinned&&t++,this.grouped&&t++}),this.rowDetails&&t++,"checkbox"==this.selectionMode&&t++,t},_handlecolumnsReorder:function(){var t=this,i=-1,n=!1
if(t.columnsReorder){var r="mousemove.reorder"+this.element.id,o="mousedown.reorder"+this.element.id,a="mouseup.reorder"+this.element.id,s=!1
this.isTouchDevice()&&!0!==this.touchmode&&(s=!0,r=e.jqx.mobile.getTouchEventName("touchmove")+".reorder"+this.element.id,o=e.jqx.mobile.getTouchEventName("touchstart")+".reorder"+this.element.id,a=e.jqx.mobile.getTouchEventName("touchend")+".reorder"+this.element.id),this.removeHandler(e(document),r),this.addHandler(e(document),r,function(r){if(t.resizing)return!0
if(null!=t.reordercolumn){var o=parseInt(r.pageX),a=parseInt(r.pageY)
if(s){var l=t.getTouches(r)[0]
null!=l&&(o=parseInt(l.pageX),a=parseInt(l.pageY))}var d=t.host.coord(),c=parseInt(d.left),h=parseInt(d.top)
null!=t.dragmousedownoffset&&null!=t.dragmousedownoffset||(t.dragmousedownoffset={left:0,top:0})
var u=parseInt(o)-parseInt(t.dragmousedownoffset.left),p=parseInt(a)-parseInt(t.dragmousedownoffset.top)
if(t.reordercolumn.css({left:u+"px",top:p+"px"}),n=!1,o>=c&&o<=c+t.host.width()&&a>=h&&a<=h+t.host.height()&&(n=!0),i=-1,n){t.reordercolumnicon.removeClass(t.toThemeProperty("jqx-grid-dragcancel-icon")),t.reordercolumnicon.addClass(t.toThemeProperty("jqx-grid-drag-icon"))
var m=t.columnsheader.coord(),f=m.top+t.columnsheader.height()
if(null!=t.columnsdropline)if(a>=m.top&&a<=f){if(i=t._handlereordercolumnsdroplines(o),t.columnGroups&&-1!=i){var g=0
g+=t._pinnedColumnsLength()
var v=i.index
if(v>=g){var b=t.columns.records[v]
if(null!=b){var y=t.columns.records.indexOf(t.getColumn(b.datafield))
if(null==b.datafield)y=t.columns.records.indexOf(t.getcolumnbytext(b.text))
var _=e.data(t.reordercolumn[0],"reorderrecord"),w=b
if(t.columns.records.indexOf(t.getColumn(_))<y&&"before"==i.position&&(w=t.columns.records[y-1]),w.columngroup!=t.getColumn(_).columngroup)return void t.columnsdropline.hide()}}}}else t.columnsdropline.fadeOut("slow")}else null!=t.columnsdropline&&t.columnsdropline.fadeOut("slow"),t.reordercolumnicon.removeClass(t.toThemeProperty("jqx-grid-drag-icon")),t.reordercolumnicon.addClass(t.toThemeProperty("jqx-grid-dragcancel-icon"))
if(r.preventDefault&&(r.preventDefault(),r.stopPropagation()),s)return r.preventDefault(),r.stopPropagation(),!1}}),this.columnsbounds=new Array,this.removeHandler(e(document),o),this.addHandler(e(document),o,function(i){if(t.resizing)return!0
t.columnsbounds=new Array
var n=t.host.coord().left,r=t.host.coord().top
t.showtoolbar&&(r+=t.toolbarHeight),t.filter&&(r+=t.filter.height())
var o=0
e.each(t.columns.records,function(i){if(this.hidden)return t.columnsbounds[t.columnsbounds.length]={top:r,column:this,left:n,width:0,height:2},!0
0==o&&(n=t.rtl?parseInt(t.host.coord().left)-t.hScrollInstance.max+t.hScrollInstance.value:parseInt(t.host.coord().left)-t.hScrollInstance.value),o++
var a=2+t.columnsHeight
t.columnshierarchy&&(r=e(this.uielement).coord().top,a=e(this.uielement).height()),t.columnsbounds[t.columnsbounds.length]={top:r,column:this,left:n,width:this.width,height:a},n+=this.width})}),this.removeHandler(e(document),a),this.addHandler(e(document),a,function(r){if(t.resizing)return!0
t.__drag=!1,e(document.body).removeClass("jqx-disableselect")
parseInt(r.pageX),parseInt(r.pageY)
if(s){var o=t.getTouches(r)[0]
parseInt(o.pageX),parseInt(o.pageY)}var a=t.host.coord()
parseInt(a.left),parseInt(a.top)
if(t.showtoolbar&&t.toolbarHeight,t.columndragstarted=!1,t.dragmousedown=null,null!=t.reordercolumn){var l=e.data(t.reordercolumn[0],"reorderrecord"),d=t.columns.records.indexOf(t.getColumn(l))
t.reordercolumn.remove(),t.reordercolumn=null
var c=0
if(c+=t._pinnedColumnsLength(),null!=l){if(n&&-1!=i){var h=i.index
if(h>=c){var u=t.columns.records[h]
if(null!=u){var p=t.columns.records.indexOf(t.getColumn(u.datafield))
if(null==u.datafield)p=t.columns.records.indexOf(t.getcolumnbytext(u.text))
if(t.columnGroups){var m=u
if(d<p&&"before"==i.position&&(m=t.columns.records[p-1]),m.columngroup!=t.getColumn(l).columngroup)return void(null!=t.columnsdropline&&(t.columnsdropline.remove(),t.columnsdropline=null))}d<p?"before"==i.position?t.setcolumnindex(l,p-1):t.setcolumnindex(l,p):d>p&&t.setcolumnindex(l,p)}}}null!=t.columnsdropline&&(t.columnsdropline.remove(),t.columnsdropline=null)}}})}},getcolumnbytext:function(t){var i=null
return this.columns.records&&e.each(this.columns.records,function(){if(this.text==t)return i=this,!1}),i},_handlereordercolumnsdroplines:function(t){var i=this,n=-1,r=i._pinnedColumnsLength(),o=parseInt(i.host.coord().left)+i.host.width(),a="hidden"!=i.vScrollBar.css("visibility")?19:0
return i.rtl||(a=0),e.each(i.columnsbounds,function(e){if(e>=r){if(0==this.width)return!0
if(t<=this.left+this.width/2)return t>o?(i.columnsdropline.fadeOut(),!1):(i.columnsdropline.css("left",a+parseInt(this.left)+"px"),i.columnsdropline.css("top",parseInt(this.top)+"px"),i.columnsdropline.height(this.height),i.columnsdropline.fadeIn("slow"),n={index:e,position:"before"},!1)
if(t>=this.left+this.width/2){if(this.left+this.width>o)return i.columnsdropline.fadeOut(),!1
i.columnsdropline.css("left",a+1+this.left+this.width),i.columnsdropline.css("top",this.top),i.columnsdropline.height(this.height),i.columnsdropline.fadeIn("slow"),n={index:e,position:"after"}}}}),n},_createreordercolumn:function(t,i,n){var r=i
this.reordercolumn&&this.reordercolumn.remove(),this.columnsdropline&&this.columnsdropline.remove(),this.reordercolumn=e("<div></div>")
var o=t.clone()
this.reordercolumn.css("z-index",999999),o.css("border-width","1px"),o.css("opacity","0.4")
var a=e(o.find("."+this.toThemeProperty("jqx-grid-column-menubutton")))
a.length>0&&a.css("display","none")
var s=e(o.find(".jqx-icon-close"))
s.length>0&&s.css("display","none"),this.reordercolumnicon=e('<div style="z-index: 9999; position: absolute; left: 100%; top: 50%; margin-left: -18px; margin-top: -7px;"></div>'),this.reordercolumnicon.addClass(this.toThemeProperty("jqx-grid-drag-icon")),this.reordercolumn.css("float","left"),this.reordercolumn.css("position","absolute")
this.host.coord()
o.width(t.width()+16),this.reordercolumn.append(o),this.reordercolumn.height(t.height()),this.reordercolumn.width(o.width()),this.reordercolumn.append(this.reordercolumnicon),e(document.body).append(this.reordercolumn),o.css("margin-left",0),o.css("left",0),o.css("top",0),this.reordercolumn.css("left",r.left+this.dragmousedown.left),this.reordercolumn.css("top",r.top+this.dragmousedown.top),null!=n&&n&&(this.columnsdropline=e('<div style="z-index: 9999; display: none; position: absolute;"></div>'),this.columnsdropline.width(2),this.columnsdropline.addClass(this.toThemeProperty("jqx-grid-group-drag-line")),e(document.body).append(this.columnsdropline))},_handlecolumnsdragreorder:function(t,i){this.reordercolumn&&this.reordercolumn.remove(),this.columnsdropline&&this.columnsdropline.remove(),this.dragmousedown=null,this.dragmousedownoffset=null,this.columndragstarted=!1,this.reordercolumn=null
var n=this,r=!1
this.isTouchDevice()&&!0!==this.touchmode&&(r=!0)
var o="mousedown.drag",a="mousemove.drag"
r?(o=e.jqx.mobile.getTouchEventName("touchstart")+".drag",a=e.jqx.mobile.getTouchEventName("touchmove")+".drag"):this.addHandler(i,"dragstart",function(e){return!1}),this.addHandler(i,o,function(i){if(0==t.draggable)return!0
if(n.resizing)return!0
n.__drag=!0
var o=i.pageX,a=i.pageY
if(r){var s=n.getTouches(i)[0]
o=s.pageX,a=s.pageY}n.dragmousedown={left:o,top:a}
var l=e(i.target).coord()
return n.dragmousedownoffset={left:parseInt(o)-parseInt(l.left),top:parseInt(a-l.top)},i.preventDefault&&i.preventDefault(),!0}),this.addHandler(i,a,function(o){if(!t.draggable)return!0
if(null==t.datafield)return!0
if(t.pinned)return!0
if(n.resizing)return!0
if(n.dragmousedown){var s=o.pageX,l=o.pageY
if(r){var d=n.getTouches(o)[0]
null!=d&&(s=d.pageX,l=d.pageY)}if(a={left:s,top:l},!n.columndragstarted&&null==n.reordercolumn){var c=Math.abs(a.left-n.dragmousedown.left),h=Math.abs(a.top-n.dragmousedown.top);(c>3||h>3)&&(n._createreordercolumn(i,a,!0),e(document.body).addClass("jqx-disableselect"),e.data(n.reordercolumn[0],"reorderrecord",t.datafield))}}})},getTouches:function(t){return e.jqx.mobile.getTouches(t)},_handlecolumnsResize:function(){var t=this
if(this.columnsResize){var i=!1
t.isTouchDevice()&&(i=!0)
var n="mousemove.resize"+this.element.id,r="mousedown.resize"+this.element.id,o="mouseup.resize"+this.element.id
if(i)n=e.jqx.mobile.getTouchEventName("touchmove")+".resize"+this.element.id,r=e.jqx.mobile.getTouchEventName("touchstart")+".resize"+this.element.id,o=e.jqx.mobile.getTouchEventName("touchend")+".resize"+this.element.id
this.removeHandler(e(document),n),this.addHandler(e(document),n,function(n){if(null!=t.resizablecolumn&&!t.disabled&&t.resizing&&null!=t.resizeline){t.resizablecolumn.columnelement
var r=t.host.coord(),o=parseInt(t.resizestartline.coord().left),a=o-t._startcolumnwidth,s=t.resizablecolumn.column.minwidth
s="auto"==s?0:parseInt(s)
var l=t.resizablecolumn.column.maxwidth
l="auto"==l?0:parseInt(l)
var d=n.pageX
if(i)d=e.jqx.mobile.getTouches(n)[0].pageX
a+=s
var c=l>0?o+l:0,h=0==l||t._startcolumnwidth+d-o<l
if(t.rtl)h=!0
if(h)if(t.rtl){if(d>=r.left&&d<=r.left+t.host.width()&&(t.resizeline.css("left",d),i))return!1}else if(d>=r.left&&d>=a&&(0!=c&&n.pageX<c?t.resizeline.css("left",d):0==c&&t.resizeline.css("left",d),i))return!1}if(!i&&null!=t.resizablecolumn)return!1}),this.removeHandler(e(document),r),this.addHandler(e(document),r,function(i){if(null!=t.resizablecolumn&&!t.disabled){var n=t.resizablecolumn.columnelement
if(n.coord().top+n.height()+5<i.pageY)return void(t.resizablecolumn=null)
if(n.coord().top-5>i.pageY)return void(t.resizablecolumn=null)
t._startcolumnwidth=t.resizablecolumn.column.width,t.resizablecolumn.column._width=null,e(document.body).addClass("jqx-disableselect"),e(document.body).addClass("jqx-position-reset"),t._mouseDownResize=new Date,t.resizing=!0,t._resizecolumn=t.resizablecolumn.column,t.resizeline=t.resizeline||e('<div style="position: absolute;"></div>'),t.resizestartline=t.resizestartline||e('<div style="position: absolute;"></div>'),t.resizebackground=t.resizebackground||e('<div style="position: absolute; left: 0; top: 0; background: #000;"></div>'),t.resizebackground.css("opacity",.01),t.resizebackground.css("cursor","col-resize"),t.resizeline.css("cursor","col-resize"),t.resizestartline.css("cursor","col-resize"),t.resizeline.addClass(t.toThemeProperty("jqx-grid-column-resizeline")),t.resizestartline.addClass(t.toThemeProperty("jqx-grid-column-resizestartline")),e(document.body).append(t.resizeline),e(document.body).append(t.resizestartline),e(document.body).append(t.resizebackground)
var r=t.resizablecolumn.columnelement.coord()
t.resizebackground.css("left",t.host.coord().left),t.resizebackground.css("top",t.host.coord().top),t.resizebackground.width(t.host.width()),t.resizebackground.height(t.host.height()),t.resizebackground.css("z-index",999999999)
var o=function(e){t.rtl?e.css("left",parseInt(r.left)):e.css("left",parseInt(r.left)+t._startcolumnwidth)
var i=0
i+=t.showtoolbar?t.toolbarHeight:0,i+=t.showstatusbar?t.statusBarHeight:0,i+=t.showAggregates?t.aggregatesHeight:0,t.pageable&&"bottom"!=t.pagerPosition&&(i+=t.pagerHeight),t.filterable&&(i+=t.filter.height())
var n=0
t.pageable&&"top"!=t.pagerPosition&&(n=t.pagerHeight)
var o="hidden"!=t.hScrollBar.css("visibility")?t.scrollBarSize:0
e.css("top",parseInt(r.top)),e.css("z-index",9999999999),t.columnGroups?e.height(t.host.height()+t.resizablecolumn.columnelement.height()-n-i-o-t.columnGroupslevel*t.columnsHeight):e.height(t.host.height()-n-i-o),e.show("fast")}
o(t.resizeline),o(t.resizestartline),t.dragmousedown=null}})
var a=function(){if(e(document.body).removeClass("jqx-disableselect"),e(document.body).removeClass("jqx-position-reset"),t.resizing){if(t._mouseUpResize=new Date,t._mouseUpResize-t._mouseDownResize<200)return t.resizing=!1,void(null!=t._resizecolumn&&null!=t.resizeline&&"block"==t.resizeline.css("display")&&(t._resizecolumn=null,t.resizeline.hide(),t.resizestartline.hide(),t.resizebackground.remove()))
if(t.resizing=!1,!t.disabled){var i=t.host.width()
if("hidden"!=t.vScrollBar[0].style.visibility&&(i-=20),i<0&&(i=0),null!=t._resizecolumn&&null!=t.resizeline&&"block"==t.resizeline.css("display")){var n=parseInt(t.resizeline.css("left")),r=parseInt(t.resizestartline.css("left")),o=t._startcolumnwidth+n-r
if(t.rtl)o=t._startcolumnwidth-n+r
var a=t._resizecolumn.width
t._resizecolumn.width=o,null!=t._resizecolumn._percentagewidth&&(t._resizecolumn._percentagewidth=o/i*100)
for(var s=0;s<t._columns.length;s++)if(t._columns[s].datafield===t._resizecolumn.datafield){t._columns[s].width=t._resizecolumn.width
break}t.hScrollBar[0].style.visibility
var l=t._resizecolumn.displayfield
t._updatecolumnwidths(),t.refresh(),t._resizecolumn=null,t.resizeline.hide(),t.resizestartline.hide(),t.resizebackground.remove(),t.resizablecolumn=null,t._raiseEvent("columnResized",{dataField:l,oldWidth:a,newWidth:o})}else t.resizablecolumn=null}}}
try{if(""!=document.referrer||window.frameElement){var s=null
if(null!=window.top&&window.top!=window.self&&window.parent&&document.referrer&&(s=document.referrer),s&&-1!=s.indexOf(document.location.host)){var l=function(e){a()}
window.top.document.addEventListener?window.top.document.addEventListener("mouseup",l,!1):window.top.document.attachEvent&&window.top.document.attachEvent("onmouseup",l)}}}catch(e){}this.removeHandler(e(document),o),this.addHandler(e(document),o,function(i){if(null!=e.data(document.body,"contextmenu"+t.element.id)&&t.autoshowcolumnsmenubutton)return!0
a()})}},_updatecolumnwidths:function(){var t=this.host.width(),i=t
"hidden"!==this.vScrollBar.css("visibility")&&this.scrollBarSize>0&&(t-=parseInt(this.scrollBarSize)+6,i=t)
var n=""
if(null!=this.columns&&null!=this.columns.records){var r=this,o=!1
e.each(this.columns.records,function(e,o){if(!this.hidden)if(-1!=this.width.toString().indexOf("%")||null!=this._percentagewidth){o=0,"hidden"==r.vScrollBar[0].style.visibility||r.scrollBarSize
0==r.scrollBarSize&&0,o=parseFloat(this.width)*i/100,null!=this._percentagewidth&&(o=parseFloat(this._percentagewidth)*i/100),o<this.minwidth&&"auto"!=this.minwidth&&(o=this.minwidth),o>this.maxwidth&&"auto"!=this.maxwidth&&(o=this.maxwidth),t-=Math.round(o)}else"auto"==this.width||this._width?n+=this.text:t-=this.width})
var a=this.columnsheader.find("#columntable"+this.element.id)
if(0!=a.length){var s=0,l=a.find(".jqx-grid-column-header"),d=0
e.each(this.columns.records,function(a,c){var h,u=e(l[a]),p=!1,m=this.width,f=this.width
if(-1==this.width.toString().indexOf("%")&&null==this._percentagewidth||(m=null!=this._percentagewidth?parseFloat(this._percentagewidth)*i/100:parseFloat(this.width)*i/100,m=Math.round(m),p=!0),"auto"==this.width||this._width||p)if(p)m<this.minwidth&&"auto"!=this.minwidth&&(m=this.minwidth,this.width=m),m>this.maxwidth&&"auto"!=this.maxwidth&&(m=this.maxwidth,this.width=m),parseInt(u[0].style.width)!=m&&(u.width(m),this.width=m)
else{var g=Math.floor(t*(this.text.length/n.length))
isNaN(g)&&(g=this.minwidth)
var v=t*(this.text.length/n.length)-g;(s+=v)>=1&&(s-=1,g++),s>=.5&&a==r.columns.records.length-1&&g++,g<0&&(h=e("<span>"+this.text+"</span>"),e(document.body).append(h),g=10+h.width(),h.remove()),g<this.minwidth&&(g=this.minwidth),g>this.maxwidth&&(g=this.maxwidth),this._width="auto",this.width=g,u.width(this.width)}else parseInt(u[0].style.width)!=this.width&&u.width(this.width)
parseInt(u[0].style.left)!=d&&u.css("left",d),this.hidden||(d+=this.width),this._requirewidthupdate=!0,f!==this.width&&(o=!0)}),this.columnsheader.width(2+d),a.width(this.columnsheader.width()),this._resizecolumnGroups(),o&&this._renderrows(),this.showAggregates&&this._refreshcolumnsaggregates()}}},_rendercolumnheaders:function(){var t=this
if(!this._updating){this._columnsbydatafield=new Array,this.columnsheader.find("#columntable"+this.element.id).remove()
var i=e('<div id="columntable'+this.element.id+'" style="height: 100%; position: relative;"></div>')
i[0].cells=new Array
var n=0,r="",o=this.host.width(),a=o,s=new Array,l=new Array
if(e.each(this.columns.records,function(e,i){if(!this.hidden)if("auto"==this.width||this._width)r+=this.text
else if(this.width<this.minwidth&&"auto"!=this.minwidth)o-=this.minwidth
else if(this.width>this.maxwidth&&"auto"!=this.maxwidth)o-=this.maxwidth
else if(-1!=this.width.toString().indexOf("%")){i=0;(i=parseFloat(this.width)*a/100)<this.minwidth&&"auto"!=this.minwidth&&(i=this.minwidth),i>this.maxwidth&&"auto"!=this.maxwidth&&(i=this.maxwidth),o-=i}else"string"==typeof this.width&&(this.width=parseInt(this.width)),o-=this.width
this.pinned||this.grouped||this.checkboxcolumn?(t._haspinned&&(this.pinned=!0),s[s.length]=this):l[l.length]=this}),this.rtl){var d=0
s.reverse()
for(c=this.columns.records.length-1;c>=this.columns.records.length-s.length;c--)this.columns.replace(c,s[d++])
for(h=0;h<l.length;h++)this.columns.replace(h,l[h])}else{for(var c=0;c<s.length;c++)this.columns.replace(c,s[c])
for(var h=0;h<l.length;h++)this.columns.replace(s.length+h,l[h])}var u=this.headerZIndex,p=t.columnsHeight,m=0
e.each(this.columns.records,function(s,l){var d
this.height=t.columnsHeight,t.columnGroups&&t.columnGroups.length&&(this.height=function(e,i){var n=t.columnGroupslevel*t.columnsHeight
return n-=i.level*t.columnsHeight}(this.datafield,this),p=this.height)
var c=t.toTP("jqx-grid-column-header")+" "+t.toTP("jqx-widget-header")
t.rtl&&(c+=" "+t.toTP("jqx-grid-column-header-rtl")),t.enableBrowserSelection||(c+=" "+t.toTP("jqx-disableselect"))
var h=self.rtl?250+u+1:250+u-1,f=t.rtl?u++:u--,g=e('<div role="columnheader" style="z-index: '+f+';position: absolute; height: 100%;" class="'+c+'"><div style="height: 100%; width: 100%;"></div></div>')
t.rtl&&0===s&&(g[0].style.borderLeftColor="transparent"),t.columnGroups&&(g[0].style.height=p+"px",g[0].style.bottom="0px",this.pinned&&(g[0].style.zIndex=h)),this.uielement=g,this.element=g,""!=this.classname&&this.classname&&g.addClass(this.classname)
var v=this.width,b=!1
if(null===this.width&&(this.width="auto"),-1==this.width.toString().indexOf("%")&&null==this._percentagewidth||(v=null!=this._percentagewidth?parseFloat(this._percentagewidth)*a/100:parseFloat(this.width)*a/100,v=Math.round(v),b=!0),"auto"==this.width||this._width||b)if(b)v<this.minwidth&&"auto"!=this.minwidth&&(v=this.minwidth),v>this.maxwidth&&"auto"!=this.maxwidth&&(v=this.maxwidth),null!=this._percentagewidth&&-1==this.width.toString().indexOf("%")||(this._percentagewidth=this.width),g.width(v),this.width=v
else{var y=Math.floor(o*(this.text.length/r.length)),_=o*(this.text.length/r.length)-y;(m+=_)>=1&&(m-=1,y++),m>=.5&&s==t.columns.records.length-1&&y++,isNaN(y)&&(y=this.minwidth),y<0&&(d=e("<span>"+this.text+"</span>"),e(document.body).append(d),y=10+d.width(),d.remove()),y<this.minwidth&&(y=this.minwidth),y>this.maxwidth&&(y=this.maxwidth),this._width="auto",this.width=parseInt(y),v=this.width,g.width(this.width)}else v<this.minwidth&&"auto"!=this.minwidth&&(v=this.minwidth),v>this.maxwidth&&"auto"!=this.maxwidth&&(v=this.maxwidth),g[0].style.width=parseInt(v)+"px"
this.hidden&&g.css("display","none")
var w=e(g.children()[0])
i[0].cells[s]=g[0]
var x=null!=this.renderer?this.renderer(this.text,this.align,p):t._rendercolumnheader(this.text,this.align,p,t)
if(null==x&&(x=t._rendercolumnheader(this.text,this.align,p,t)),null!=this.renderer&&(x=e(x)),!0,t.WinJS?MSApp.execUnsafeLocalFunction(function(){w.append(e(x))}):this.renderer?w.append(e(x)):x&&(w[0].innerHTML=x),null!=x){var C=e('<div class="iconscontainer" style="height: '+p+'px; margin-left: -32px; display: block; position: absolute; left: 100%; top: 0%; width: 32px;"><div class="filtericon '+t.toTP("jqx-widget-header")+'" style="height: '+p+'px; float: right; display: none; width: 16px;"><div class="'+t.toTP("jqx-grid-column-filterbutton")+'" style="width: 100%; height:100%;"></div></div><div class="sortasc '+t.toTP("jqx-widget-header")+'" style="height: '+p+'px; float: right; display: none; width: 16px;"><div class="'+t.toTP("jqx-grid-column-sortascbutton")+'" style="width: 100%; height:100%;"></div></div><div class="sortdesc '+t.toTP("jqx-widget-header")+'" style="height: '+p+'px; float: right; display: none; width: 16px;"><div class="'+t.toTP("jqx-grid-column-sortdescbutton")+'" style="width: 100%; height:100%;"></div></div></div>')
w.append(C)
var S=C.children()
this.sortasc=S[1],this.sortdesc=S[2],this.filtericon=S[0],this.iconscontainer=C,t.rtl&&(C.css("margin-left","0px"),C.css("left","0px"),e(this.sortasc).css("float","left"),e(this.filtericon).css("float","left"),e(this.sortdesc).css("float","left"))}i.append(g),t.columnsReorder&&this.draggable&&t._handlecolumnsdragreorder&&t._handlecolumnsdragreorder(this,g)
var T=this
if(t.addHandler(g,"click",function(e){if(T.checkboxcolumn)return!0
t._togglesort&&(t._loading||t._togglesort(T)),e.preventDefault()}),t.columnsResize){var I=!1,E="mousemove"
t.isTouchDevice()&&(I=!0,E=e.jqx.mobile.getTouchEventName("touchstart")),t.addHandler(g,E,function(i){if(!T.resizable)return t.resizablecolumn=null,!0
var n=parseInt(i.pageX),r=5,o=parseInt(g.coord().left)
if(t.hasTransform&&(o=e.jqx.utilities.getOffset(g).left),t._handlecolumnsResize){if(I)return r=40,(n=e.jqx.mobile.getTouches(i)[0].pageX)>=o+T.width-r?(t.resizablecolumn={columnelement:g,column:T},g.css("cursor","col-resize")):(g.css("cursor",""),t.resizablecolumn=null),!0
var a=T.width
if(t.rtl&&(a=0),n>=o+a-r){if(n<=o+a+r)return t.resizablecolumn={columnelement:g,column:T},g.css("cursor","col-resize"),!1
g.css("cursor",""),t.resizablecolumn=null}else g.css("cursor",""),n<o+a-r&&(T._animating||T._menuvisible||g.mouseenter()),t.resizablecolumn=null}})}(g.css("left",n),this.hidden||(n+=v),T.rendered)&&(T.rendered(e(w[0].firstChild),T.align,p)&&null!=C&&C.hide())}),n>0?this.columnsheader.width(2+n):this.columnsheader.width(n),this.columnsrow=i,t.columnsheader.append(i),i.width(n),this._handlecolumnsdragdrop&&this._handlecolumnsdragdrop(),this._handlecolumnsReorder&&this._handlecolumnsReorder(),this._handlecolumnsResize&&this._handlecolumnsResize(),this.columnGroups&&this._rendercolumnGroups()}},_rendercolumnGroups:function(){if(this.columnGroups){for(var t=0,i=0;i<this.columns.records.length;i++)this.columns.records[i].pinned&&t++
var n=this.headerZIndex-t+this.columns.records.length,r=this.toTP("jqx-grid-column-header")+" "+this.toTP("jqx-grid-columngroup-header")+" "+this.toTP("jqx-widget-header")
this.rtl&&(r+=" "+this.toTP("jqx-grid-columngroup-header-rtl"))
var o=this.columnsheader.find("#columntable"+this.element.id)
o.find("jqx-grid-columngroup-header").remove()
for(var a=0;a<this.columnGroupslevel-1;a++)for(i=0;i<this.columnGroups.length;i++){var s=this.columnGroups[i],l=s.level
if(l===a){var d=l*this.columnsHeight,c=99999
if(s.groups){var h=function(e){for(var t=0,i=0;i<e.groups.length;i++){var n=e.groups[i]
n.groups?t+=h(n):n.hidden||(t+=n.width,c=Math.min(parseInt(n.element[0].style.left),c))}return t}
s.width=h(s),s.left=c
var u=this.columnsHeight,p=n--,m=e('<div role="columnheader" style="z-index: '+p+';position: absolute;" class="'+r+'"></div>'),f=e(this._rendercolumnheader(s.text,s.align,this.columnsHeight,this))
m.append(f),m[0].style.left=c+"px",0===c&&(m[0].style.borderLeftColor="transparent"),m[0].style.top=d+"px",m[0].style.height=u+"px",m[0].style.width=-1+s.width+"px",o.append(m),s.element=m}}}}},_resizecolumnGroups:function(){if(this.columnGroups)for(var e=0;e<this.columnGroups.length;e++){var t=this.columnGroups[e],i=t.level*this.columnsHeight,n=99999
if(t.groups){var r=function(e){for(var t=0,i=0;i<e.groups.length;i++){var o=e.groups[i]
o.groups?t+=r(o):o.hidden||(t+=o.width,n=Math.min(parseInt(o.element[0].style.left),n))}return t}
t.width=r(t),t.left=n
var o=this.columnsHeight,a=t.element
a[0].style.left=n+"px",a[0].style.top=i+"px",a[0].style.height=o+"px",a[0].style.width=-1+t.width+"px"}}},_removecolumnhandlers:function(t){var i=e(t.element)
if(i.length>0){this.removeHandler(i,"mouseenter"),this.removeHandler(i,"mouseleave")
var n=e(t.filtericon)
this.removeHandler(n,"mousedown"),this.removeHandler(n,"click"),this.removeHandler(i,"click")}},_calculateaggregate:function(e,t,i,n){if(!e.datafield)return null
var r=e.aggregates
if(r||(r=t),r){for(var o=new Array,a=0;a<r.length;a++)"count"!=r[a]&&(o[o.length]=e.cellsFormat)
if(this.source&&this.source.getAggregatedData){null==n&&(n=this.getRows(),this.dataViewRecords&&(n=this.dataViewRecords))
var s=n,l=-1
if(this.treeGrid){var d=new Array,c=function(e){for(var t=0;t<e.length;t++)null!=e[t]&&(-1==l&&(l=e[t].level),e[t].aggregate||d.push(e[t]),!e[t].leaf&&e[t].records&&e[t].records.length>0&&c(e[t].records))}
c(n),n=d}if(this.treeGrid&&this.filterable&&this.dataview.filters.length>0){var h=new Array
for(a=0;a<n.length;a++)n[a]&&!1!==n[a]._visible&&h.push(n[a])
n=h
var u=new Array
for(a=0;a<s.length;a++)s[a]&&!1!==s[a]._visible&&u.push(s[a])
s=u}if(null==i||1==i){var p=this.source.getAggregatedData([{name:e.datafield,aggregates:r,formatStrings:o}],this.gridlocalization,n,l)
if(this.treeGrid)if((0==(f=this.source._source.hierarchy&&this.source._source.hierarchy.groupingDataFields?this.source._source.hierarchy.groupingDataFields.length:0)||l>=f)&&p&&(null!=p[e.datafield].sum||null!=p[e.datafield].avg)){var m=this.source.getAggregatedData([{name:e.datafield,aggregates:r,formatStrings:o}],this.gridlocalization,s,l)
null!=p[e.datafield].sum&&(p[e.datafield].sum=m[e.datafield].sum),null!=p[e.datafield].avg&&(p[e.datafield].avg=m[e.datafield].avg)}return p}var f
p=this.source.getAggregatedData([{name:e.datafield,aggregates:r}],this.gridlocalization,n,l)
if(this.treeGrid&&p&&(null!=p[e.datafield].sum||null!=p[e.datafield].avg)&&(0==(f=this.source._source.hierarchy&&this.source._source.hierarchy.groupingDataFields?this.source._source.hierarchy.groupingDataFields.length:0)||l>=f)){m=this.source.getAggregatedData([{name:e.datafield,aggregates:r}],this.gridlocalization,s,l)
null!=p[e.datafield].sum&&(p[e.datafield].sum=m[e.datafield].sum),null!=p[e.datafield].avg&&(p[e.datafield].avg=m[e.datafield].avg)}return p}}return null},getcolumnaggregateddata:function(e,t,i,n){var r=this.getColumn(e)
if(!r)return""
var o=null!=i&&0!=i&&i
if(null==t)return""
var a=r.aggregates
r.aggregates=null
var s=this._calculateaggregate(r,t,o,n),l={}
return s&&(l=s[e],r.aggregates=a),l},_updatecolumnaggregates:function(t,i,n){var r=this
if(i)if(n.children().remove(),n.html(""),t.aggregatesRenderer){if(i){a=t.aggregatesRenderer(i[t.datafield],t,n,this.getcolumnaggregateddata(t.datafield,t.aggregates),"aggregates")
n.html(a)}}else e.each(i,function(){for(o in this){var t=e('<div style="position: relative; margin: 4px; overflow: hidden;"></div>'),i=o
i=r._getaggregatename(i),t.html(i+":"+this[o]),r.rtl&&t.addClass(r.toThemeProperty("jqx-rtl")),n.append(t)}})
else if(n.children().remove(),n.html(""),t.aggregatesRenderer){var o={}
t.aggregates&&(o=this.getcolumnaggregateddata(t.datafield,t.aggregates))
var a=t.aggregatesRenderer({},t,n,null)
n.html(a)}},_getaggregatetype:function(e){switch(e){case"min":case"max":case"count":case"avg":case"product":case"var":case"varp":case"stdev":case"stdevp":case"sum":return e}var t=e
for(var i in e){t=i
break}return t},_getaggregatename:function(e){var t=e
switch(e){case"min":t="Min"
break
case"max":t="Max"
break
case"count":t="Count"
break
case"avg":t="Avg"
break
case"product":t="Product"
break
case"var":t="Var"
break
case"stdevp":t="StDevP"
break
case"stdev":t="StDev"
break
case"varp":t="VarP"
case"sum":t="Sum"}if(e===t&&"string"!=typeof t)for(var i in e){t=i
break}return t},_updatecolumnsaggregates:function(){var t=this.getRows()
this.dataViewRecords&&(t=this.dataViewRecords)
var i=this.columns.records.length
if(null!=this.aggregates[0].cells)for(var n=0;n<i;n++){var r=e(this.aggregates[0].cells[n]),o=this.columns.records[n],a=this._calculateaggregate(o,null,!0,t)
this._updatecolumnaggregates(o,a,r)}},_refreshcolumnsaggregates:function(){var t=this.columns.records.length
if(null!=this.aggregates[0].cells)for(var i=0,n=0;n<t;n++){var r=e(this.aggregates[0].cells[n]),o=this.columns.records[n]
r&&(r.width(o.width),r[0].style.left=i+"px",o.hidden&&o.hideable?r.css("display","none"):i+=o.width)}},_updateaggregates:function(){var t=e('<div style="position: relative;" id="statusrow'+this.element.id+'"></div>'),i=0,n=this.columns.records.length,r=this.toThemeProperty("jqx-grid-cell")
this.rtl&&(r+=" "+this.toThemeProperty("jqx-grid-cell-rtl"),i=0,t.css("border-left-width","0px"),this.aggregates.css("border-left-color","transparent")),r+=" "+this.toThemeProperty("jqx-grid-cell-pinned")
var o=n+10,a=new Array
this.aggregates[0].cells=a
for(var s=0;s<n;s++){var l=this.columns.records[s],d=this._calculateaggregate(l),c=l.width
c<l.minwidth&&(c=l.minwidth),c>l.maxwidth&&(c=l.maxwidth)
var h=r
l.cellsalign&&(h+=" "+this.toThemeProperty("jqx-"+l.cellsalign+"-align"))
var u=e('<div style="overflow: hidden; position: absolute; height: 100%;" class="'+h+'"></div>')
t.append(u),u.css("left",i),this.rtl?(u.css("z-index",o++),0==s&&u.css("border-left-width","0px")):u.css("z-index",o--),u.width(c),u[0].style.left=i+"px",l.hidden&&l.hideable?u.css("display","none"):i+=c,a[a.length]=u[0],this._updatecolumnaggregates(l,d,u)}e.jqx.browser.msie&&e.jqx.browser.version<8&&t.css("z-index",o--),t.width(parseInt(i)+2),t.height(this.aggregatesHeight),this.aggregates.children().remove(),this.aggregates.append(t),this.aggregates.removeClass(this.toThemeProperty("jqx-widget-header")),this.aggregates.addClass(r),this.aggregates.css("border-bottom-color","transparent"),this.aggregates.css("border-top-width","1px"),this.rtl&&"hidden"!=this.hScrollBar.css("visibility")&&this._renderhorizontalscroll()},destroy:function(){if(this.columns&&this.columns.records)for(var t=0;t<this.columns.records.length;t++)this._removecolumnhandlers(this.columns.records[t])
this.removeHandler(e(document),"mouseup.pagerbuttonstop"),this.removeHandler(e(document),"mouseup.pagerbuttonsbottom"),this.removeHandler(this.content,"scroll"),this.removeHandler(this.content,"mousedown"),this.removeHandler(e(document),"mousedown.gridedit"+this.element.id)
var i="mousemove.resize"+this.element.id,n="mousedown.resize"+this.element.id,r="mouseup.resize"+this.element.id
this.removeHandler(e(document),i),this.removeHandler(e(document),n),this.removeHandler(e(document),r)
i="mousemove.reorder"+this.element.id,n="mousedown.reorder"+this.element.id,r="mouseup.reorder"+this.element.id
if(this.removeHandler(e(document),i),this.removeHandler(e(document),n),this.removeHandler(e(document),r),this.filterable){if(this.filterrow)for(t=0;t<this.filterrow[0].cells.length;t++){var o=this.filterrow[0].cells[t],a=e(o).find(".filterconditions")
this.columns.records[t]
a.length>0&&a.jqxDropDownList("destroy")}this.filtercolumnsList&&this.filtercolumnsList.jqxDropDownList("destroy")}if(this.pageable){this.pagershowrowscombotop&&this.pagershowrowscombotop.jqxDropDownList&&this.pagershowrowscombotop.jqxDropDownList("destroy"),this.pagershowrowscombobottom&&this.pagershowrowscombobottom.jqxDropDownList&&this.pagershowrowscombobottom.jqxDropDownList("destroy")
var s=this.pagerbuttonsbottom.find("a")
this.removeHandler(s,"click"),this.removeHandler(s,"mouseenter"),this.removeHandler(s,"mouseleave"),s.remove()
s=this.pagerbuttonstop.find("a")
this.removeHandler(s,"click"),this.removeHandler(s,"mouseenter"),this.removeHandler(s,"mouseleave"),s.remove(),this.pagernexttop&&(this.pagernexttop.jqxButton("destroy"),this.pagerprevioustop.jqxButton("destroy"),this.pagernextbottom.jqxButton("destroy"),this.pagerpreviousbottom.jqxButton("destroy"),this.pagerfirsttop.jqxButton("destroy"),this.pagerfirstbottom.jqxButton("destroy"),this.pagerlasttop.jqxButton("destroy"),this.pagerlastbottom.jqxButton("destroy"))}this._removeHandlers(),this.vScrollBar.jqxScrollBar("destroy"),this.hScrollBar.jqxScrollBar("destroy"),delete this.vScrollBar,delete this.hScrollBar,delete this._mousewheelfunc,e.jqx.utilities.resize(this.host,null,!0),this.host.remove()},propertiesChangedHandler:function(e,t,i){i.width&&i.height&&2==Object.keys(i).length&&e.refresh()},propertyChangedHandler:function(t,i,n,r){if(null!=this.isInitialized&&0!=this.isInitialized&&!(t.batchUpdate&&t.batchUpdate.width&&t.batchUpdate.height&&2==Object.keys(t.batchUpdate).length)&&r!==n)if("filterable"==i)t._render()
else if("height"===i)t.host.height(t.height),t.host.width(t.width),t._updatesize(!1,!0)
else if("width"===i)t.host.height(t.height),t.host.width(t.width),t._updatesize(!0,!1)
else if("source"===i)t.updateBoundData()
else if("columns"===i||"columnGroups"===i)t._columns=null,t._render()
else if("rtl"===i)t.content.css("left",""),t.columns=t._columns,t.vScrollBar.jqxScrollBar({rtl:r}),t.hScrollBar.jqxScrollBar({rtl:r}),t._render()
else if("pagerMode"===i)t.pagerMode=r,t._initpager()
else if("pageSizeOptions"==i){t._initpager()
for(var o=!1,a=0;a<r.length;a++)if(parseInt(r[a])==t.pageSize){o=!0
break}o||e.jqx.set(t,[{pageSize:r[0]}])}else if("pageSize"==i){var s=t.dataview.pagenum*t.dataview.pagesize
t.dataview.pagesize=t.pageSize
var l=Math.floor(s/t.dataview.pagesize)
if(l!==t.dataview.pagenum||parseInt(r)!==parseInt(n))t._raiseEvent("pageSizeChanged",{pagenum:r,oldpageSize:n,pageSize:t.dataview.pagesize}),t.goToPage(l)||(t.serverProcessing?t.updateBoundData("pager"):t.refresh())}else if("pagerPosition"===i)t.refresh()
else if("selectionMode"===i)t.selectionMode=r.toLowerCase()
else if("touchmode"==i)t.touchDevice=null,t._removeHandlers(),t.touchDevice=null,t.vScrollBar.jqxScrollBar({touchMode:r}),t.hScrollBar.jqxScrollBar({touchMode:r}),t._updateTouchScrolling(),t._arrange(),t._updatecolumnwidths(),t._renderrows(),t._addHandlers()
else{if("enableHover"==i)return
if("disabled"==i)r?t.host.addClass(this.toThemeProperty("jqx-fill-state-disabled")):t.host.removeClass(this.toThemeProperty("jqx-fill-state-disabled")),t.pageable&&(t.pagernexttop&&(t.pagernexttop.jqxButton({disabled:r}),t.pagerprevioustop.jqxButton({disabled:r}),t.pagernextbottom.jqxButton({disabled:r}),t.pagerpreviousbottom.jqxButton({disabled:r}),t.pagerfirsttop.jqxButton({disabled:r}),t.pagerfirstbottom.jqxButton({disabled:r}),t.pagerlasttop.jqxButton({disabled:r}),t.pagerlastbottom.jqxButton({disabled:r}),t.pagershowrowscombotop.jqxDropDownList&&"advanced"==t.pagerMode&&(t.pagershowrowscombotop.jqxDropDownList({disabled:!1}),t.pagershowrowscombobottom.jqxDropDownList({disabled:!1}))),t.host.find(".jqx-grid-pager-number").css("cursor",r?"default":"pointer")),t.host.find(".jqx-grid-group-collapse").css("cursor",r?"default":"pointer"),t.host.find(".jqx-grid-group-expand").css("cursor",r?"default":"pointer")
else if("columnsHeight"==i)t._render()
else if("theme"==i){if(e.jqx.utilities.setTheme(n,r,t.host),t.vScrollBar.jqxScrollBar({theme:t.theme}),t.hScrollBar.jqxScrollBar({theme:t.theme}),t.pageable&&t.pagernexttop&&(t.pagernexttop.jqxButton({theme:t.theme}),t.pagerprevioustop.jqxButton({theme:t.theme}),t.pagernextbottom.jqxButton({theme:t.theme}),t.pagerpreviousbottom.jqxButton({theme:t.theme}),t.pagerfirsttop.jqxButton({theme:t.theme}),t.pagerfirstbottom.jqxButton({theme:t.theme}),t.pagerlasttop.jqxButton({theme:t.theme}),t.pagerlastbottom.jqxButton({theme:t.theme}),t.pagershowrowscombotop.jqxDropDownList&&"advanced"==t.pagerMode&&(t.pagershowrowscombotop.jqxDropDownList({theme:t.theme}),t.pagershowrowscombobottom.jqxDropDownList({theme:t.theme}))),t.filterable){var d=e(".filterconditions")
d.length>0&&d.jqxDropDownList({theme:t.theme}),t.filtercolumnsList&&t.filtercolumnsList.jqxDropDownList({theme:t.theme})}t.refresh()}else t.refresh()}},_rendercolumnheader:function(e,t,i,n){var r="4px"
return n.columnGroups?((r=i/2-this._columnheight/2)<0&&(r=4),r+="px"):25!=this.columnsHeight&&((r=this.columnsHeight/2-this._columnheight/2)<0&&(r=4),r+="px"),'<div style="overflow: hidden; text-overflow: ellipsis; text-align: '+t+"; margin-left: 4px; margin-right: 4px; margin-bottom: "+r+"; margin-top: "+r+';"><span style="text-overflow: ellipsis; cursor: default;">'+e+"</span></div>"}}),e.jqx.dataCollection=function(e){return this.records=new Array,this.owner=e,this.updating=!1,this.beginUpdate=function(){this.updating=!0},this.resumeupdate=function(){this.updating=!1},this.clear=function(){this.records=new Array},this.replace=function(e,t){this.records[e]=t},this.isempty=function(e){return null==this.records[e]},this.initialize=function(e){e<1&&(e=1),this.records[e-1]=-1},this.length=function(){return this.records.length},this.indexOf=function(e){return this.records.indexOf(e)},this.add=function(e){return null!=e&&(this.records[this.records.length]=e,!0)},this.insertAt=function(e,t){return null!=e&&null!=e&&(null!=t&&(e>=0&&(e<this.records.length?(this.records.splice(e,0,t),!0):this.add(t))))},this.remove=function(e){if(null==e||null==e)return!1
var t=this.records.indexOf(e)
return-1!=t&&(this.records.splice(t,1),!0)},this.removeAt=function(e){if(null==e||null==e)return!1
if(e<0)return!1
if(e<this.records.length){this.records[e]
return this.records.splice(e,1),!0}return!1},this},e.jqx.dataView=function(){return this.that=this,this.grid=null,this.records=[],this.rows=[],this.columns=[],this.filters=new Array,this.pagesize=0,this.pagenum=0,this.source=null,this.databind=function(t,i){var n=!!t._source,r=null
this._sortData=null,this._sortHierarchyData=null,n?(r=t,t=t._source):r=new e.jqx.dataAdapter(t,{autoBind:!1})
var o=function(e){e.originaldata=r.originaldata,e.records=r.records,e.hierarchy=r.hierarchy,e.grid.serverProcessing||(e._sortData=null,e._sortfield=null,e._filteredData=null,e._sortHierarchyData=null),e.hierarchy||(e.hierarchy=new Array,r.hierarchy=new Array),r._source.totalrecords?e.totalrecords=r._source.totalrecords:r._source.totalRecords?e.totalrecords=r._source.totalRecords:0!==e.hierarchy.length?e.totalrecords=e.hierarchy.length:e.totalrecords=e.records.length,e.cachedrecords=r.cachedrecords}
!function(e){r.recordids=[],r.records=new Array,r.cachedrecords=new Array,r.originaldata=new Array,r._options.totalrecords=e.totalrecords,r._options.originaldata=e.originaldata,r._options.recordids=e.recordids,r._options.cachedrecords=new Array,r._options.pagenum=e.pagenum,r._options.pageable=e.pageable,null!=t.type&&(r._options.type=t.type),null!=t.formatdata&&(r._options.formatData=t.formatdata),null!=t.contenttype&&(r._options.contentType=t.contenttype),null!=t.async&&(r._options.async=t.async),null!=t.updaterow&&(r._options.updaterow=t.updaterow),null!=t.addrow&&(r._options.addrow=t.addrow),null!=t.deleterow&&(r._options.deleterow=t.deleterow),0==e.pagesize&&(e.pagesize=10),r._options.pagesize=e.pagesize}(this),this.source=t,void 0!==i&&(this.uniqueId=i)
var a=this
switch(t.datatype){case"local":case"array":default:if(null==t.localdata&&(t.localdata=[]),null!=t.localdata)r.unbindBindingUpdate(a.grid.element.id),(!a.grid.autoBind&&a.grid.isInitialized||a.grid.autoBind)&&r.dataBind(),(C=function(){o(a),a.update()})(),r.bindBindingUpdate(a.grid.element.id,C)
break
case"json":case"jsonp":case"xml":case"xhtml":case"script":case"text":case"csv":case"tab":if(null!=t.localdata)return r.unbindBindingUpdate(a.grid.element.id),(!a.grid.autoBind&&a.grid.isInitialized||a.grid.autoBind)&&r.dataBind(),(C=function(e){o(a),a.update()})(),void r.bindBindingUpdate(a.grid.element.id,C)
for(var s=[],l=0,d={},c=0;c<this.filters.length;c++){var h=this.filters[c].datafield,u=this.filters[c].filter
if(u.getfilters){var p=u.getfilters()
d[h+"operator"]=u.operator
for(var m=0;m<p.length;m++){p[m].datafield=h
var f=p[m].value
if("datefilter"==p[m].type)if(p[m].value&&p[m].value.toLocaleString){var g=this.grid.getColumn(p[m].datafield)
if(g&&g.cellsformat){var v=this.grid.source.formatDate(p[m].value,g.cellsformat,this.grid.gridlocalization)
d["filtervalue"+l]=v||p[m].value.toLocaleString()}else d["filtervalue"+l]=f.toString()}else d["filtervalue"+l]=f.toString()
else d["filtervalue"+l]=f.toString(),p[m].data&&(d["filterid"+l]=p[m].data.toString()),p[m].id&&(d["filterid"+l]=p[m].id.toString())
d["filtercondition"+l]=p[m].condition,d["filteroperator"+l]=p[m].operator,d["filterdatafield"+l]=h
var b={label:f.toString()}
p[m].data&&(b.value=p[m].data.toString()),p[m].id?b.value=p[m].id.toString():b.value=f.toString(),b.condition=p[m].condition,b.operator=0==p[m].operator?"and":"or",b.field=h,b.type=p[m].type
var y=!1
if(s.length>0)for(var _=0;_<s.length;_++){var w=s[_]
if(w.field==h){w.filters.push(b),y=!0
break}}y||(s.push({field:h,filters:[]}),s[s.length-1].filters.push(b)),l++}}}d.filterGroups=s,d.filterslength=l,e.extend(d,{sortdatafield:a.sortfield,sortorder:a.sortfielddirection,pagenum:a.pagenum,pagesize:a.grid.pageSize})
var x=r._options.data
r._options.data?e.extend(r._options.data,d):(t.data&&e.extend(d,t.data),r._options.data=d)
var C=function(){var t=function(){o(a),a.update()}
if(e.jqx.browser.msie&&e.jqx.browser.version<9)try{t()}catch(e){}else t()}
r.unbindDownloadComplete(a.grid.element.id),r.bindDownloadComplete(a.grid.element.id,C),r._source.loaderror=function(e,t,i){C()},(!a.grid.autoBind&&a.grid.isInitialized||a.grid.autoBind)&&r.dataBind(),r._options.data=x}},this.addFilter=function(e,t){this._sortData=null,this._sortHierarchyData=null
for(var i=-1,n=0;n<this.filters.length;n++)if(this.filters[n].datafield==e){i=n
break}-1==i?this.filters[this.filters.length]={filter:t,datafield:e}:this.filters[i]={filter:t,datafield:e}},this.removeFilter=function(e){this._sortData=null,this._sortHierarchyData=null
for(var t=0;t<this.filters.length;t++)if(this.filters[t].datafield==e){this.filters.splice(t,1)
break}},this.sortBy=function(e,t){if(null==t)return this.sortfield="",void(this.sortfielddirection="")
null==t&&(t=!0),t="a"==t||"asc"==t||"ascending"==t||1==t,"constructor"==e&&(e=""),this.sortfield=e,this.sortfielddirection=t?"asc":"desc"},this._sort=function(t){if(!this.sortfield||!this.sortfielddirection)return t
if(this._sortfield==this.sortfield&&this._sortfielddirection==this.sortfielddirection&&this._sortData)return this._sortData
var i=this,n=Object.prototype.toString
Object.prototype.toString="function"==typeof i.sortfield?i.sortfield:function(){return this[i.sortfield]}
var r=""
this.source.datafields&&e.each(this.source.datafields,function(){if(this.name==i.sortfield)return this.type&&(r=this.type),!1})
for(var o=new Array,a=0;a<t.length;a++)o.push(e.extend({originalRecord:t[a]},t[a]))
if(this._sortfield=this.sortfield,this._sortfielddirection=this.sortfielddirection,"desc"===this.sortfielddirection)var s=o.sort(function(e,t){return i._compare(e,t,r)}).reverse()
else s=o.sort(function(e,t){return i._compare(e,t,r)})
return this._sortData=s,Object.prototype.toString=n,s},this._compare=function(t,i,n){if(void 0===(t=t)&&(t=null),void 0===(i=i)&&(i=null),null===t&&null===i)return 0
if(null===t&&null!==i)return 1
if(null!==t&&null===i)return 1
if(t=t.toString(),i=i.toString(),e.jqx.dataFormat)if(n&&""!=n)switch(n){case"number":case"int":case"float":return t<i?-1:t>i?1:0
case"date":case"time":return t<i?-1:t>i?1:0
case"string":case"text":t=String(t).toLowerCase(),i=String(i).toLowerCase()}else{if(e.jqx.dataFormat.isNumber(t)&&e.jqx.dataFormat.isNumber(i))return t<i?-1:t>i?1:0
if(e.jqx.dataFormat.isDate(t)&&e.jqx.dataFormat.isDate(i))return t<i?-1:t>i?1:0
e.jqx.dataFormat.isNumber(t)||e.jqx.dataFormat.isNumber(i)||(t=String(t).toLowerCase(),i=String(i).toLowerCase())}try{if(t<i)return-1
if(t>i)return 1}catch(e){}return 0},this._equals=function(e,t){return 0===this._compare(e,t)},this.evaluate=function(t){if(this.grid.serverProcessing){if(t&&(""==this.grid.source._source.id||null==this.grid.source._source.id)&&this.grid.pageable){var i=this.grid.pageSize*this.pagenum
this.grid.rowsByKey=new Array
var n=this
e.each(t,function(e){this.uid=i,n.grid.rowsByKey[this.uid]=this,i++})}return t}var r=new Array
if(this.filters.length){var o=new Array,a=function(e,t){for(var i=0;i<e.length;i++){var n=e[i]
n._visible=!0
for(var r=void 0,a=0;a<this.filters.length;a++){var s=this.filters[a].filter,l=n[this.filters[a].datafield],d=s.evaluate(l)
r=null==r?d:"or"==s.operator?r||d:r&&d}n._visible=!1,(r||n.aggregate)&&(n._visible=!0,t.push(n),o[n.uid]=n)}}
if(this._filteredData)this.rows=this._filteredData
else{if(this.source.hierarchy||this.grid.source.hierarchy&&this.grid.source.hierarchy.length>0){var s=new Array,l=function(e,t){for(var i=0;i<t.length;i++){var n=t[i]
s.push(n),n.records&&n.records.length>0&&l(n,n.records)}}
l(null,t),a.call(this,s,r)
for(var d=0;d<r.length;d++)for(var c=r[d];c.parent;){var h=c.parent
o[h.uid]||(h._visible=!0,o[h.uid]=h),c=h}r=t}else a.call(this,t,r)
this._filteredData=r,this.rows=r}}else this.rows=t
if(this.source.hierarchy||this.grid.source.hierarchy&&this.grid.source.hierarchy.length>0){n=this
var u=new Array
this._sortData=null
var p=function(t,i){n._sortData=null
var r=null
if(n.source.hierarchy.groupingDataFields)if(i&&i.length>0&&i[0].level<n.source.hierarchy.groupingDataFields.length){r=new Array
for(var o=0;o<i.length;o++)r.push(e.extend({originalRecord:i[o]},i[o]))}else r=n._sort(i)
else r=n._sort(i)
t.records?t.records=r:t=t.concat(r)
for(o=0;o<r.length;o++)r[o].records&&r[o].records.length&&p(r[o],r[o].records)
return t};(this.sortfield||this.sortfielddirection)&&(u=this._sortHierarchyData?this._sortHierarchyData:p(u,t),this.rows=u,this._sortHierarchyData=u)}else this.rows=this._sort(this.rows)
return this.rows},this.getid=function(t,i,n){if(e(t,i).length>0)return e(t,i).text()
if(this.rows&&""!=t&&null!=t&&this.rows.length>0){null==(a=this.rows[this.rows.length-1][t])&&(a=null)
for(var r=1;r<=100;r++){if(!this.grid.rowsByKey[r+a]){if(this.grid&&this.grid.treeGrid&&this.grid.treeGrid.virtualModeCreateRecords){if(this.grid.rowsByKey["jqx"+a+r])continue
return"jqx"+a+r}return a+r}}}if(null!=t&&t.toString().length>0){var o=e(i).attr(t)
if(null!=o&&o.toString().length>0)return this.grid&&this.grid.treeGrid&&this.grid.treeGrid.virtualModeCreateRecords?"jqx"+o:o}if(this.rows&&this.rows.length>0&&this.grid.rowsByKey[n]){var a
null==(a=this.rows[this.rows.length-1][t])&&(a="")
for(r=1;r<=1e3;r++){if(!this.grid.rowsByKey[r+a]){if(this.grid&&this.grid.treeGrid&&this.grid.treeGrid.virtualModeCreateRecords){if(this.grid.rowsByKey["jqx"+a+r])continue
return"jqx"+a+r}return a+r}}}if(this.grid&&this.grid.treeGrid&&this.grid.treeGrid.virtualModeCreateRecords){if(!this.grid.rowsByKey["jqx"+n])return"jqx"+n
for(r=n+1;r<=100;r++){if(!this.grid.rowsByKey["jqx"+r]){if(this.grid.rowsByKey["jqx"+r])continue
return"jqx"+r}}}return n},this.generatekey=function(){var e=function(){return 16*(1+Math.random())|0}
return""+e()+e()+"-"+e()+"-"+e()},this}}(jqxBaseFramework)
var ji=Object.freeze({})
!function(e){e.jqx.jqxWidget("jqxTreeGrid","jqxDataTable",{}),e.extend(e.jqx._jqxTreeGrid.prototype,{defineInstance:function(){this.base&&(this.base.treeGrid=this,this.base.exportSettings={recordsInView:!1,columnsHeader:!0,hiddenColumns:!1,serverURL:null,characterSet:null,collapsedRecords:!1,fileName:"jqxTreeGrid"})
var t={pageSizeMode:"default",checkboxes:!1,hierarchicalCheckboxes:!1,icons:!1,showSubAggregates:!1,rowDetailsRenderer:null,virtualModeCreateRecords:null,virtualModeRecordCreating:null,loadingFailed:!1}
return this===e.jqx._jqxTreeGrid.prototype?t:(e.extend(!0,this,t),t)},createInstance:function(e){this.theme=this.base.theme},deleteRow:function(e){this.base.deleterowbykey(e)},updateRow:function(e,t){this.base.updaterowbykey(e,t)},setCellValue:function(e,t,i){this.base.setCellValueByKey(e,t,i)},getCellValue:function(e,t){return this.base.getCellValueByKey(e,t)},lockRow:function(e){this.base.lockrowbykey(e)},unlockRow:function(e){this.base.unlockrowbykey(e)},selectRow:function(e){this.base.selectrowbykey(e)},unselectRow:function(e){this.base.unselectrowbykey(e)},ensureRowVisible:function(e){this.base.ensurerowvisiblebykey(e)},beginCellEdit:function(e,t){var i=this.base,n=i.getColumn(t)
i.beginroweditbykey(e,n)},beginRowEdit:function(e){this.base.beginroweditbykey(e)},endCellEdit:function(e,t,i){this.base.endroweditbykey(e,i)},endRowEdit:function(e,t){this.base.endroweditbykey(e,t)},_showLoadElement:function(){var t=this.base
"block"==t.host.css("display")&&t.autoShowLoadElement&&(e(t.dataloadelement).css("visibility","visible"),e(t.dataloadelement).css("display","block"),t.dataloadelement.width(t.host.width()),t.dataloadelement.height(t.host.height()))},_hideLoadElement:function(){var t=this.base
"block"==t.host.css("display")&&t.autoShowLoadElement&&(e(t.dataloadelement).css("visibility","hidden"),e(t.dataloadelement).css("display","none"),t.dataloadelement.width(t.host.width()),t.dataloadelement.height(t.host.height()))},getKey:function(e){if(e)return e.uid},getRows:function(){var e=this.base
return e.source.hierarchy&&0!=e.source.hierarchy.length?e.source.hierarchy:e.source.records},getCheckedRows:function(){var t=this.base,i=t._names(),n=new Array,r=function(o,a){if(a)for(var s=0;s<a.length;s++)if(a[s]){var l=e.extend({},a[s]),d=t.rowinfo[a[s].uid]
d&&d[i.checked]?o.push(l):l[i.checked]&&o.push(l),r(n,a[s].records)}}
return r(n,t.dataViewRecords),n},getRow:function(e){var t=this.base,i=t.source.records
if(t.source.hierarchy){var n=function(t){for(var i=0;i<t.length;i++)if(t[i]){if(t[i].uid==e)return t[i]
if(t[i].records){var r=n(t[i].records)
if(r)return r}}}
return n(t.source.hierarchy)}for(var r=0;r<i.length;r++)if(i[r]&&i[r].uid==e)return i[r]},_renderrows:function(){var t=this.base,i=this
if(!t._loading&&!t._updating){var n=t._names()
if(0===t.source.hierarchy.length&&!t.loadingFailed&&this.virtualModeCreateRecords){t._loading=!0,this.virtualModeCreateRecords(null,function(e){if(!1===e||e&&0==e.length)return t._loading=!1,t.loadingFailed=!0,t.source.hierarchy=new Array,i._hideLoadElement(),t._renderrows(),t._updateScrollbars(),void t._arrange()
for(var n=0;n<e.length;n++)e[n].level=0,i.virtualModeRecordCreating(e[n]),t.rowsByKey[e[n].uid]=e[n]
t.source.hierarchy=e,t.source._source.hierarchy||(t.source._source.hierarchy={}),t._loading=!1,i._hideLoadElement(),t._renderrows(),t._updateScrollbars(),t._arrange()}),this._showLoadElement()}t.rendering&&t.rendering()
var r=0
t.table[0].rows=new Array
var o=t.toTP("jqx-cell")+" "+t.toTP("jqx-widget-content")+" "+t.toTP("jqx-item")
t.rtl&&(o+=" "+t.toTP("jqx-cell-rtl"))
var a=t.columns.records.length,s=e.jqx.browser.msie&&e.jqx.browser.version<8
s&&t.host.attr("hideFocus","true")
var l=new Array,d=function(e,i){for(var r=0;r<e.length;r++){var o=e[r]
if(o){var a=t.rowinfo[o.uid]?t.rowinfo[o.uid].expanded:o.expanded
if(0==t.dataview.filters.length&&(o._visible=!0),!1!==o._visible)if(a||o[n.leaf]){if(i.push(o),o.records&&o.records.length>0)for(var s=d(o.records,new Array),l=0;l<s.length;l++)i.push(s[l])}else i.push(o)}}return i},c=0===t.source.hierarchy.length?t.source.records:t.source.hierarchy
if(c=t.dataview.evaluate(c),t.dataViewRecords=c,this.showSubAggregates){var h=function(t,i){0!=t&&i.length>0&&(i[i.length-1]?i[i.length-1].aggregate||i.push({_visible:!0,level:t,siblings:i,aggregate:!0,leaf:!0}):e.jqx.browser.msie&&e.jqx.browser.version<9&&i[i.length-2]&&(i[i.length-2].aggregate||i.push({_visible:!0,level:t,siblings:i,aggregate:!0,leaf:!0})))
for(var n=0;n<i.length;n++)i[n]&&i[n].records&&h(t+1,i[n].records)}
h(0,c)}var u=function(e){for(var i=0,r=new Array,o=0;o<e.length;o++){var a=e[o]
if(0==a[n.level]&&i++,i>t.dataview.pagesize*t.dataview.pagenum&&i<=t.dataview.pagesize*t.dataview.pagenum+t.dataview.pagesize&&r.push(a),i>t.dataview.pagesize*t.dataview.pagenum+t.dataview.pagesize)break}return r}
if(0===t.source.hierarchy.length){if("all"==t.dataview.pagesize||!t.pageable||t.serverProcessing){var p=c
if(t.pageable&&t.serverProcessing&&c.length>t.dataview.pagesize)p=c.slice(t.dataview.pagesize*t.dataview.pagenum,t.dataview.pagesize*t.dataview.pagenum+t.dataview.pagesize)}else p=c.slice(t.dataview.pagesize*t.dataview.pagenum,t.dataview.pagesize*t.dataview.pagenum+t.dataview.pagesize)
l=p}else{c=d.call(t,c,new Array)
if("all"!=t.dataview.pagesize&&t.pageable){p=c.slice(t.dataview.pagesize*t.dataview.pagenum,t.dataview.pagesize*t.dataview.pagenum+t.dataview.pagesize)
"root"==this.pageSizeMode&&(p=u(c))}else var p=c
l=p
var m=t.dataview.pagenum
if(t.updatepagerdetails(),t.dataview.pagenum!=m){if("all"!=t.dataview.pagesize&&t.pageable){p=c.slice(t.dataview.pagesize*t.dataview.pagenum,t.dataview.pagesize*t.dataview.pagenum+t.dataview.pagesize)
"root"==this.pageSizeMode&&(p=u(c))}else p=c
l=p}}t.renderedRecords=l
var f=l.length,g=t.tableZIndex,v=0,b=0
if(s)for(var y=0;y<a;y++){(M=(I=t.columns.records[y]).width)<I.minwidth&&(M=I.minwidth),M>I.maxwidth&&(M=I.maxwidth)
var _=e('<table><tr><td role="gridcell" style="max-width: '+M+"px; width:"+M+'px;" class="'+o+'"></td></tr></table>')
e(document.body).append(_)
var w=_.find("td")
v=1+parseInt(w.css("padding-left"))+parseInt(w.css("padding-right")),_.remove()
break}var x=t.rtl?" "+t.toTP("jqx-grid-table-rtl"):"",C="<table cellspacing='0' class='"+t.toTP("jqx-grid-table")+x+"' id='table"+t.element.id+"'><colgroup>",S="<table cellspacing='0' class='"+t.toTP("jqx-grid-table")+x+"' id='pinnedtable"+t.element.id+"'><colgroup>",T=null
for(y=0;y<a;y++){var I
if(!(I=t.columns.records[y]).hidden){if(T=I,(M=I.width)<I.minwidth&&(M=I.minwidth),M>I.maxwidth&&(M=I.maxwidth),(M-=v)<0&&(M=0),s){var E=M
0==y&&E++,S+="<col style='max-width: "+M+"px; width: "+E+"px;'>",C+="<col style='max-width: "+M+"px; width: "+E+"px;'>"}else S+="<col style='max-width: "+M+"px; width: "+M+"px;'>",C+="<col style='max-width: "+M+"px; width: "+M+"px;'>"
b+=M}}C+="</colgroup>",S+="</colgroup>",t._hiddencolumns=!1
var P=!1
if(0===f){var D='<tr role="row">',k=t.host.height()
if(t.pageable&&(k-=t.pagerHeight,"both"===t.pagerPosition&&(k-=t.pagerHeight)),k-=t.columnsHeight,t.filterable){var A=t.filter.find(".filterrow"),j=1
t.filter.find(".filterrow-hidden").length>0&&(j=0),k-=t.filterHeight+t.filterHeight*A.length*j}t.showstatusbar&&(k-=t.statusBarHeight),t.showAggregates&&(k-=t.aggregatesHeight),k<25&&(k=25),"hidden"!=t.hScrollBar[0].style.visibility&&(k-=t.hScrollBar.outerHeight()),("auto"===t.height||null===t.height||t.autoheight)&&(k=100)
var M=t.host.width()+2
_='<td colspan="'+t.columns.records.length+'" role="gridcell" style="border-right-color: transparent; min-height: '+k+"px; height: "+k+"px;  min-width:"+b+"px; max-width:"+b+"px; width:"+b+"px;",o=t.toTP("jqx-cell")+" "+t.toTP("jqx-grid-cell")+" "+t.toTP("jqx-item")
_+='" class="'+(o+=" "+t.toTP("jqx-center-align"))+'">',t._loading||(_+=t.gridlocalization.emptydatastring),C+=D+=_+="</td>",S+=D,t.table[0].style.width=b+2+"px",r=b}for(var N=t.source._source.hierarchy&&t.source._source.hierarchy.groupingDataFields?t.source._source.hierarchy.groupingDataFields.length:0,q=0;q<l.length;q++){var O=l[q],B=O.uid
N>0&&O[n.level]<N&&(B=O.uid),void 0===O.uid&&(O.uid=t.dataview.generatekey())
D='<tr data-key="'+B+'" role="row" id="row'+q+t.element.id+'">'
var L='<tr data-key="'+B+'" role="row" id="row'+q+t.element.id+'">'
if(O.aggregate)D='<tr data-role="summaryrow" role="row" id="row'+q+t.element.id+'">',L='<tr data-role="summaryrow" role="row" id="row'+q+t.element.id+'">'
var R=0
if(t.rowinfo[B])void 0===t.rowinfo[B].checked&&(t.rowinfo[B].checked=O[n.checked]),void 0===t.rowinfo[B].icon&&(t.rowinfo[B].icon=O[n.icon]),void 0===t.rowinfo[B].aggregate&&(t.rowinfo[B].aggregate=O[n.aggregate]),void 0===t.rowinfo[B].row&&(t.rowinfo[B].row=O),void 0===t.rowinfo[B].leaf&&(t.rowinfo[B].leaf=O[n.leaf]),void 0===t.rowinfo[B].expanded&&(t.rowinfo[B].expanded=O[n.expanded])
else{var H=O[n.checked]
void 0===H&&(H=!1),t.rowinfo[B]={selected:O[n.selected],checked:H,icon:O[n.icon],aggregate:O.aggregate,row:O,leaf:O[n.leaf],expanded:O[n.expanded]}}var V=t.rowinfo[B]
V.row=O,O.originalRecord&&(V.originalRecord=O.originalRecord)
var F=0
for(y=0;y<a;y++){var z=t.columns.records[y];(z.pinned||t.rtl&&t.columns.records[a-1].pinned)&&(P=!0),(M=z.width)<z.minwidth&&(M=z.minwidth),M>z.maxwidth&&(M=z.maxwidth),(M-=v)<0&&(M=0)
o=t.toTP("jqx-cell")+" "+t.toTP("jqx-grid-cell")+" "+t.toTP("jqx-item")
z.pinned&&(o+=" "+t.toTP("jqx-grid-cell-pinned")),t.sortcolumn===z.displayfield&&(o+=" "+t.toTP("jqx-grid-cell-sort")),t.altRows&&q%2!=0&&(o+=" "+t.toTP("jqx-grid-cell-alt")),t.rtl&&(o+=" "+t.toTP("jqx-cell-rtl"))
var $=""
if(N>0&&!s&&!O.aggregate&&O[n.level]<N){$+=' colspan="'+a+'"'
E=0
for(var U=0;U<a;U++){var G=t.columns.records[U]
if(!G.hidden){var W=G.width
W<G.minwidth&&(M=G.minwidth),W>G.maxwidth&&(M=G.maxwidth),(W-=v)<0&&(W=0),E+=W}}M=E}_='<td role="gridcell"'+$+' style="max-width:'+M+"px; width:"+M+"px;"
var X='<td role="gridcell"'+$+' style="pointer-events: none; visibility: hidden; border-color: transparent; max-width:'+M+"px; width:"+M+"px;"
y==a-1&&1==a&&(_+="border-right-color: transparent;",X+="border-right-color: transparent;"),N>0&&O[n.level]<N&&!O.aggregate?t.rtl&&(o+=" "+t.toTP("jqx-right-align")):"left"!=z.cellsalign&&("right"===z.cellsalign?o+=" "+t.toTP("jqx-right-align"):o+=" "+t.toTP("jqx-center-align")),V&&(V.selected&&t.editKey!==B&&"none"!==t.selectionMode&&(o+=" "+t.toTP("jqx-grid-cell-selected"),o+=" "+t.toTP("jqx-fill-state-pressed")),V.locked&&(o+=" "+t.toTP("jqx-grid-cell-locked")),V.aggregate&&(o+=" "+t.toTP("jqx-grid-cell-pinned"))),z.hidden?(_+="display: none;",X+="display: none;",t._hiddencolumns=!0):(0!=F||t.rtl?(_+="border-right-width: 0px;",X+="border-right-width: 0px;"):(_+="border-left-width: 0px;",X+="border-left-width: 0px;"),F++,R+=v+M),z.pinned&&(_+="pointer-events: auto;",X+="pointer-events: auto;")
var J=""
if(0!=t.source.hierarchy.length&&O.records&&(!O.records||0!==O.records.length)||this.virtualModeCreateRecords||(V.leaf=!0),O.records&&O.records.length>0&&(V.leaf=!1),t.dataview.filters.length>0&&O.records&&O.records.length>0){for(var Y=!1,Q=0;Q<O.records.length;Q++)if(!1!==O.records[Q]._visible&&null==O.records[Q].aggregate){Y=!0
break}V.leaf=!Y}V&&!V.leaf&&(V.expanded?(J+=t.toTP("jqx-tree-grid-expand-button")+" ",t.rtl?J+=t.toTP("jqx-grid-group-expand-rtl"):J+=t.toTP("jqx-grid-group-expand"),J+=" "+t.toTP("jqx-icon-arrow-down")):(J+=t.toTP("jqx-tree-grid-collapse-button")+" ",t.rtl?(J+=t.toTP("jqx-grid-group-collapse-rtl"),J+=" "+t.toTP("jqx-icon-arrow-left")):(J+=t.toTP("jqx-grid-group-collapse"),J+=" "+t.toTP("jqx-icon-arrow-right")))),(!t.autoRowHeight||1===F||t.autoRowHeight&&!z.autoCellHeight)&&(o+=" "+t.toTP("jqx-grid-cell-nowrap"))
var K=t._getcellvalue(z,V.row)
if(N>0&&!O.aggregate&&O[n.level]<N&&(K=O.label),""!=z.cellsFormat&&e.jqx.dataFormat&&(e.jqx.dataFormat.isDate(K)?K=e.jqx.dataFormat.formatdate(K,z.cellsFormat,t.gridlocalization):(e.jqx.dataFormat.isNumber(K)||!isNaN(parseFloat(K))&&isFinite(K))&&(K=e.jqx.dataFormat.formatnumber(K,z.cellsFormat,t.gridlocalization))),""!=z.cellclassname&&z.cellclassname)if("string"==typeof z.cellclassname)o+=" "+z.cellclassname
else{var Z=z.cellclassname(q,z.datafield,t._getcellvalue(z,V.row),V.row,K)
Z&&(o+=" "+Z)}if(""!=z.cellsRenderer&&z.cellsRenderer){var ee=z.cellsRenderer(B,z.datafield,t._getcellvalue(z,V.row),V.row,K)
void 0!==ee&&(K=ee)}if(V.aggregate&&z.aggregates){var te=O.siblings.slice(0,O.siblings.length-1),ie=t._calculateaggregate(z,null,!0,te)
if(O[z.displayfield]="",ie)if(z.aggregatesRenderer){if(ie){var ne=z.aggregatesRenderer(ie[z.datafield],z,null,t.getcolumnaggregateddata(z.datafield,z.aggregates,!1,te),"subAggregates")
K=ne,O[z.displayfield]+=name+":"+ie[z.datafield]+"\n"}}else K="",O[z.displayfield]="",e.each(ie,function(){for(var e in this){var i=e,n='<div style="position: relative; margin: 0px; overflow: hidden;">'+(i=t._getaggregatename(i))+":"+this[e]+"</div>"
K+=n,O[z.displayfield]+=i+":"+this[e]+"\n"}})
else K=""}if(1===F&&!t.rtl||z==T&&t.rtl||N>0&&O[n.level]<N){for(var re="",oe=t.toThemeProperty("jqx-tree-grid-indent"),ae=V.leaf?1:0,se=0;se<O[n.level]+ae;se++)re+="<span class='"+oe+"'></span>"
var le="<span class='"+J+"'></span>",de="",ce=""
if(this.checkboxes&&!O.aggregate){var he=t.toThemeProperty("jqx-tree-grid-checkbox")+" "+oe+" "+t.toThemeProperty("jqx-checkbox-default")+" "+t.toThemeProperty("jqx-fill-state-normal")+" "+t.toThemeProperty("jqx-rc-all"),ue=!0
if(e.isFunction(this.checkboxes)&&null==(ue=this.checkboxes(B,O))&&(ue=!1),ue)if(V){var pe=V.checked
0==this.hierarchicalCheckboxes&&null===pe&&(pe=!1),de+=pe?"<span class='"+he+"'><div class='"+t.toThemeProperty("jqx-tree-grid-checkbox-tick")+" "+t.toThemeProperty("jqx-checkbox-check-checked")+"'></div></span>":!1===pe?"<span class='"+he+"'></span>":"<span class='"+he+"'><div class='"+t.toThemeProperty("jqx-tree-grid-checkbox-tick")+" "+t.toThemeProperty("jqx-checkbox-check-indeterminate")+"'></div></span>"}else de+="<span class='"+he+"'></span>"}if(this.icons&&!O.aggregate){var me=t.toThemeProperty("jqx-tree-grid-icon")+" "+oe
if(t.rtl)me=t.toThemeProperty("jqx-tree-grid-icon")+" "+t.toThemeProperty("jqx-tree-grid-icon-rtl")+" "+oe
var fe=t.toThemeProperty("jqx-tree-grid-icon-size")+" "+oe,ge=V.icon
e.isFunction(this.icons)&&(V.icon=this.icons(B,O),V.icon&&(ge=!0)),ge&&(V.icon?ce+="<span class='"+me+"'><img class='"+fe+"' src='"+V.icon+"'/></span>":ce+="<span class='"+me+"'></span>")}var ve=t.autoRowHeight&&1===F&&z.autoCellHeight?" "+t.toTP("jqx-grid-cell-wrap"):"",be=re+le+de+ce+"<span class='"+t.toThemeProperty("jqx-tree-grid-title")+ve+"'>"+K+"</span>"
K=t.rtl?"<span class='"+t.toThemeProperty("jqx-tree-grid-title")+ve+"'>"+K+"</span>"+ce+de+le+re:be}if(N>0&&s&&y>=N&&O[n.level]<N&&(_+="padding-left: 5px; border-left-width: 0px;",X+="padding-left: 5px; border-left-width: 0px;",K="<span style='visibility: hidden;'>-</span>"),_+='" class="'+o+'">',_+=K,_+="</td>",X+='" class="'+o+'">',X+=K,X+="</td>",z.pinned?(L+=_,D+=_):(D+=_,P&&(L+=X)),N>0&&!s&&O[n.level]<N&&!O.aggregate)break}if(0==r&&(t.table[0].style.width=R+2+"px",r=R),C+=D+="</tr>",S+=L+="</tr>",t.rowDetails&&!O.aggregate&&this.rowDetailsRenderer){var ye='<tr data-role="row-details"><td valign="top" align="left" style="pointer-events: auto; max-width:'+M+"px; width:"+M+'px; overflow: hidden; border-left: none; border-right: none;" colspan="'+t.columns.records.length+'" role="gridcell"'
o=t.toTP("jqx-cell")+" "+t.toTP("jqx-grid-cell")+" "+t.toTP("jqx-item")
o+=" "+t.toTP("jqx-details"),o+=" "+t.toTP("jqx-reset")
var _e=this.rowDetailsRenderer(B,O)
_e&&(C+=ye+='" class="'+o+'"><div style="pointer-events: auto; overflow: hidden;"><div data-role="details">'+_e+"</div></div></td></tr>",S+=ye)}}if(C+="</table>",S+="</table>",P){t.WinJS?MSApp.execUnsafeLocalFunction(function(){t.table.html(S+C)}):t.table[0].innerHTML=S+C
var we=t.table.find("#table"+t.element.id),xe=t.table.find("#pinnedtable"+t.element.id)
xe.css("float","left"),xe.css("pointer-events","none"),we.css("float","left"),xe[0].style.position="absolute",we[0].style.position="relative",we[0].style.zIndex=g-10,xe[0].style.zIndex=g+10,t._table=we,t._table[0].style.left="0px",t._pinnedTable=xe,s&&(xe[0].style.left="0px"),t._table[0].style.width=r+"px",t._pinnedTable[0].style.width=r+"px",t.rtl&&t._haspinned&&(t._pinnedTable[0].style.left=3-r+parseInt(t.element.style.width)+"px")}else{t.WinJS?MSApp.execUnsafeLocalFunction(function(){t.table.html(C)}):t.table[0].innerHTML=C
U=t.table.find("#table"+t.element.id)
t._table=U,e.jqx.browser.msie&&e.jqx.browser.version<10&&(t._table[0].style.width=r+"px"),0===f&&(t._table[0].style.width=2+r+"px")}0===f&&(t._table[0].style.tableLayout="auto",t._pinnedTable&&(t._pinnedTable[0].style.tableLayout="auto")),t.showAggregates&&t._updatecolumnsaggregates(),t._loading&&0==f&&(t._arrange(),this._showLoadElement()),t.rendered&&t.rendered()}},propertyChangedHandler:function(t,i,n,r){if(null!=t.isInitialized&&0!=t.isInitialized){var o=t.base
if("pageSizeMode"==i||"hierarchicalCheckboxes"==i)t._renderrows()
else if("filterable"==i)o._render()
else if("height"===i)o.host.height(t.height),o.host.width(t.width),o._updatesize(!1,!0)
else if("width"===i)o.host.height(t.height),o.host.width(t.width),o._updatesize(!0,!1)
else if("source"===i)o.updateBoundData()
else if("columns"===i||"columnGroups"===i)o._columns=null,o._render()
else if("rtl"===i)o.content.css("left",""),t.columns=t._columns,o.vScrollBar.jqxScrollBar({rtl:r}),o.hScrollBar.jqxScrollBar({rtl:r}),o._render()
else if("pagerMode"===i)t.pagerMode=r,o._initpager()
else if("pageSizeOptions"==i){o._initpager()
for(var a=!1,s=0;s<r.length;s++)if(parseInt(r[s])==t.pageSize){a=!0
break}a||e.jqx.set(t,[{pageSize:r[0]}])}else if("pageSize"==i){var l=o.dataview.pagenum*o.dataview.pagesize
o.dataview.pagesize=o.pageSize
var d=Math.floor(l/o.dataview.pagesize)
if(d!==o.dataview.pagenum||parseInt(r)!==parseInt(n))t._raiseEvent("pageSizeChanged",{pagenum:r,oldpageSize:n,pageSize:o.dataview.pagesize}),t.goToPage(d)||o.refresh()}else if("pagerPosition"===i)o.refresh()
else if("selectionMode"===i)o.selectionMode=r.toLowerCase()
else if("touchmode"==i)o.touchDevice=null,o._removeHandlers(),o.touchDevice=null,o.vScrollBar.jqxScrollBar({touchMode:r}),o.hScrollBar.jqxScrollBar({touchMode:r}),o._updateTouchScrolling(),o._arrange(),o._updatecolumnwidths(),o._renderrows(),o._addHandlers()
else{if("enableHover"==i)return
if("disabled"==i)r?o.base.host.addClass(this.toThemeProperty("jqx-fill-state-disabled")):o.base.host.removeClass(this.toThemeProperty("jqx-fill-state-disabled")),o.pageable&&(o.pagernexttop&&(o.pagernexttop.jqxButton({disabled:r}),o.pagerprevioustop.jqxButton({disabled:r}),o.pagernextbottom.jqxButton({disabled:r}),o.pagerpreviousbottom.jqxButton({disabled:r}),o.pagerfirsttop.jqxButton({disabled:r}),o.pagerfirstbottom.jqxButton({disabled:r}),o.pagerlasttop.jqxButton({disabled:r}),o.pagerlastbottom.jqxButton({disabled:r}),o.pagershowrowscombotop.jqxDropDownList&&"advanced"==o.pagerMode&&(o.pagershowrowscombotop.jqxDropDownList({disabled:!1}),o.pagershowrowscombobottom.jqxDropDownList({disabled:!1}))),o.base.host.find(".jqx-grid-pager-number").css("cursor",r?"default":"pointer")),o.base.host.find(".jqx-grid-group-collapse").css("cursor",r?"default":"pointer"),o.base.host.find(".jqx-grid-group-expand").css("cursor",r?"default":"pointer")
else if("columnsHeight"==i)o._render()
else if("theme"==i){if(e.jqx.utilities.setTheme(n,r,o.base.host),o.vScrollBar.jqxScrollBar({theme:o.theme}),o.hScrollBar.jqxScrollBar({theme:o.theme}),o.pageable&&o.pagernexttop&&(o.pagernexttop.jqxButton({theme:o.theme}),o.pagerprevioustop.jqxButton({theme:o.theme}),o.pagernextbottom.jqxButton({theme:o.theme}),o.pagerpreviousbottom.jqxButton({theme:o.theme}),o.pagerfirsttop.jqxButton({theme:o.theme}),o.pagerfirstbottom.jqxButton({theme:o.theme}),o.pagerlasttop.jqxButton({theme:o.theme}),o.pagerlastbottom.jqxButton({theme:o.theme}),o.pagershowrowscombotop.jqxDropDownList&&"advanced"==o.pagerMode&&(o.pagershowrowscombotop.jqxDropDownList({theme:o.theme}),o.pagershowrowscombobottom.jqxDropDownList({theme:o.theme}))),o.filterable){var c=e(".filterconditions")
c.length>0&&c.jqxDropDownList({theme:o.theme}),o.filtercolumnsList&&o.filtercolumnsList.jqxDropDownList({theme:o.theme})}o.refresh()}else o.refresh()}}},checkRow:function(e,t,i){var n=this.base,r=n._names()
if(!n._loading){var o=n.rowinfo[e]
if(o)o.checked=!0,o.row[r.checked]=!0,o.originalRecord&&(o.originalRecord[r.checked]=!0),null==i&&this.hierarchicalCheckboxes&&this.checkRows(o.row,o.row),!1!==t&&n._renderrows(),n._raiseEvent("rowCheck",{key:e,row:o.row})
else{var a=this.getRow(e)
a&&(n.rowinfo[e]={row:a,checked:!0},n.rowinfo[e].row[r.checked]=!0,a.originalRecord&&(n.rowinfo[e].originalRecord=a.originalRecord),n._raiseEvent("rowCheck",{key:e,row:a}),null==i&&this.hierarchicalCheckboxes&&this.checkRows(a,a),!1!==t&&n._renderrows())}}},checkRows:function(t,i){var n=this.base,r=this,o=n._names(),a=function(e){var t=new Array,i=function(e){for(var n=0;n<e.length;n++)t.push(e[n]),e[n]&&e[n].records&&i(e[n].records)}
return e.records&&i(e.records),t}
if(null!=t){var s=0,l=0,d=function(e){for(var t=0;t<e.length;t++)if(e[t]){var i=e[t][o.checked]
void 0===i&&(i=!1),0!=i&&(null==e[t][o.checked]&&!0,e[t].records&&d(e[t].records),s++),l++}}
if(t.records&&d(t.records),t!=i)s==l?this.checkRow(t.uid,!1,"tree"):s>0?this.indeterminateRow(t.uid,!1,"tree"):this.uncheckRow(t.uid,!1,"tree")
else{var c=i[o.checked],h=a(i)
e.each(h,function(){!0===c?r.checkRow(this.uid,!1,"tree"):!1===c?r.uncheckRow(this.uid,!1,"tree"):r.indeterminateRow(this.uid,!1,"tree")})}var u=t[o.parent]?t[o.parent]:null
this.checkRows(u,i)}else{c=i[o.checked],h=a(i)
e.each(h,function(){!0===c?r.checkRow(this.uid,!1,"tree"):!1===c?r.uncheckRow(this.uid,!1,"tree"):r.indeterminateRow(this.uid,!1,"tree")})}},indeterminateRow:function(e,t,i){var n=this.base,r=n._names()
if(!n._loading){var o=n.rowinfo[e]
if(o)o.checked=null,o.row[r.checked]=null,o.originalRecord&&(o.originalRecord[r.checked]=null),null==i&&this.hierarchicalCheckboxes&&this.checkRows(o.row,o.row),!1!==t&&n._renderrows()
else{var a=this.getRow(e)
a&&(n.rowinfo[e]={row:a,checked:null},n.rowinfo[e].row[r.checked]=null,a.originalRecord&&(n.rowinfo[e].originalRecord=a.originalRecord),null==i&&this.hierarchicalCheckboxes&&this.checkRows(a,a),!1!==t&&n._renderrows())}}},uncheckRow:function(e,t,i){var n=this.base,r=n._names()
if(!n._loading){var o=n.rowinfo[e]
if(o)o.checked=!1,o.row[r.checked]=!1,o.originalRecord&&(o.originalRecord[r.checked]=!1),null==i&&this.hierarchicalCheckboxes&&this.checkRows(o.row,o.row),!1!==t&&n._renderrows(),n._raiseEvent("rowUncheck",{key:e,row:o.row})
else{var a=this.getRow(e)
a&&(n.rowinfo[e]={row:a,checked:!1},n.rowinfo[e].row[r.checked]=!1,a.originalRecord&&(n.rowinfo[e].originalRecord=a.originalRecord),n._raiseEvent("rowUncheck",{key:e,row:a}),null==i&&this.hierarchicalCheckboxes&&this.checkRows(a,a),!1!==t&&n._renderrows())}}},expandRows:function(t){var i=this
if(t)if(i.virtualModeCreateRecords)e.each(t,function(){var e=this
i.base._loading=!1,i.expandRow(e.uid,function(){i.base._loading=!1,i.expandRows(e.records)})})
else for(var n=0;n<t.length;n++){var r=t[n]
i.expandRow(r.uid),i.expandRows(r.records)}},collapseRows:function(e){if(e)for(var t=0;t<e.length;t++)this.collapseRow(e[t].uid),this.collapseRows(e[t].records)},expandAll:function(){var e=this.base
e.beginUpdate(),this.expandRows(this.getRows()),e.endUpdate()},collapseAll:function(){var e=this.base
e.beginUpdate(),this.collapseRows(this.getRows()),e.endUpdate()},expandRow:function(e,t){var i=this.base
if(!i._loading){var n=i._names(),r=this,o=i.rowinfo[e]
if(!o){var a=this.getRow(e)
a&&(i.rowinfo[e]={row:a},a.originalRecord&&(i.rowinfo[e].originalRecord=a.originalRecord),o=i.rowinfo[e])}if(o){if(o.expanded)return void(o.row[n.expanded]=!0)
if(o.expanded=!0,o.row[n.expanded]=!0,o.originalRecord&&(o.originalRecord[n.expanded]=!0),this.virtualModeCreateRecords&&!o.row._loadedOnDemand){if(!o.row[n.leaf])return i._loading=!0,this._showLoadElement(),void this.virtualModeCreateRecords(o.row,function(e){if(o.row._loadedOnDemand=!0,!1===e)return i._loading=!1,r._hideLoadElement(),o.leaf=!0,o.row[n.leaf]=!0,i._renderrows(),void(t&&t())
for(var a=0;a<e.length;a++){if(e[a][n.level]=o.row[n.level]+1,e[a][n.parent]=o.row,i.rowsByKey[e[a].uid])throw i._loading=!1,r._hideLoadElement(),o.leaf=!0,o.row[n.leaf]=!0,i._renderrows(),t&&t(),new Error("Please, check whether you Add Records with unique ID/Key. ")
i.rowsByKey[e[a].uid]=e[a],r.virtualModeRecordCreating(e[a])}o.row.records?o.row.records=o.row.records.concat(e):o.row.records=e,(!e||e&&0==e.length)&&(o.leaf=!0,o.row[n.leaf]=!0),o.originalRecord&&(o.originalRecord.records=e,o.originalRecord[n.expanded]=!0,0==e.length&&(o.originalRecord[n.leaf]=!0)),i._loading=!1,r._hideLoadElement()
var s=i.vScrollBar.css("visibility")
i._renderrows(),i._updateScrollbars()
var l=s!=i.vScrollBar.css("visibility");("auto"===i.height||null===i.height||i.autoheight||l)&&i._arrange(),i._renderhorizontalscroll(),t&&t()})}if(!i.updating()){var s=i.vScrollBar.css("visibility")
i._renderrows(),i._updateScrollbars()
var l=s!=i.vScrollBar.css("visibility");("auto"===i.height||null===i.height||i.autoheight||l)&&i._arrange(),i._renderhorizontalscroll(),i._raiseEvent("rowExpand",{row:o.row,key:e})}}}},collapseRow:function(e){var t=this.base,i=t._names()
if(!t._loading){var n=t.rowinfo[e]
if(!n){var r=this.getRow(e)
r&&(t.rowinfo[e]={row:r},r.originalRecord&&(t.rowinfo[e].originalRecord=r.originalRecord),n=t.rowinfo[e])}if(n){if(!n.expanded)return void(n.row[i.expanded]=!1)
if(n.expanded=!1,n.row[i.expanded]=!1,n.originalRecord&&(n.originalRecord[i.expanded]=!1),!t.updating()){var o=t.vScrollBar.css("visibility")
t._renderrows(),t._updateScrollbars()
var a=o!=t.vScrollBar.css("visibility");("auto"===t.height||null===t.height||t.autoheight||a)&&t._arrange(),t._renderhorizontalscroll(),t._raiseEvent("rowCollapse",{row:n.row,key:e})}}}}})}(jqxBaseFramework)
var Mi=Object.freeze({})
const Ni=function(e,...t){return{stringParts:e,substitutionIndexes:t}},qi={msg_linewidth:Ni`Line Width`,msg_noline:Ni`No Line`,msg_1pixel:Ni`1 pixel`,msg_2pixels:Ni`2 pixels`,msg_3pixels:Ni`3 pixels`,msg_4pixels:Ni`4 pixels`,msg_5pixels:Ni`5 pixels`,msg_plotstyle:Ni`Plot Style`,msg_line:Ni`Line`,msg_point:Ni`Point`,msg_lineandpoint:Ni`Line & Point`,msg_bar:Ni`Bar`,msg_fill:Ni`Fill`,msg_pointstyle:Ni`Point Style`,msg_ellipse:Ni`Ellipse`,msg_rectangle:Ni`Rectangle`,msg_diamond:Ni`Diamond`,msg_plus:Ni`Plus`,msg_cross:Ni`Cross`,msg_linestyle:Ni`Line Style`,msg_nostyle:Ni`No style`,msg_solid:Ni`Solid`,msg_dot:Ni`Dot`,msg_dashdot:Ni`Dash-dot`,msg_mediumdash:Ni`Medium dash`,msg_largedash:Ni`Large dash`,msg_fillbaseline:Ni`Fill Baseline`,msg_nobaseline:Ni`No baseline`,msg_zero:Ni`Zero`,msg_inf:Ni`Inf`,msg_neginf:Ni`-Inf`,msg_color:Ni`Color`,msg_crosshairstyle:Ni`Crosshair Style`,msg_both:Ni`Both`,msg_hover:Ni`Show value on hover`,msg_vertical:Ni`Vertical`,msg_horizontal:Ni`Horizontal`,msg_defaultcursorname:Ni`Cursor`,msg_defaultplotname:Ni`Plot`,msg_datagrid_addrowsbuttonlabel:Ni`Add`,msg_datagrid_addrowslabel:Ni`new rows`,msg_INDEX_OUT_OF_RANGE:Ni`Index(${0}) out of range(0..${1}).`,msg_FRONT_PANEL_CONTROL_MISTMATCH:Ni`Front panel control(${0}) with type(${1}) in HTML VI does not match the required type(%${3}).`,msg_FRONT_PANEL_CONTROL_NOT_FOUND:Ni`Unable to find front panel control(${0}) in HTML VI.`,msg_UNABLE_TO_ADD_FRONT_PANEL_CONTROL_AS_ID_ALREADY_EXISTS:Ni`Unable to add front panel control with id ${0} as a control with this id already exists.`,msg_UNABLE_TO_ADD_FRONT_PANEL_CONTROL_TO_VI_MODEL_UNKNOWN_TYPE:Ni`Unable to add front panel control(${0}) to HTML VI. The type(${1}) was not recognized by the framework.`,msg_UNABLE_TO_PROCESS_UPDATE_MESSAGE_UNKNOWN_TYPE:Ni`Unable to process update message for HTML VI. Message type(${0}), is not recognized by the framework.`,msg_UNKNOWN_NAME:Ni`Unknown`,msg_INVALID_VI_MODEL:Ni`The object is not a valid NI Model.`,msg_INVALID_ELEMENT:Ni`The object is not a valid Html Custom Element.`,msg_INVALID_UPDATE_MESSAGE:Ni`The object is not a valid update message.`,msg_INVALID_UPDATE_MESSAGE_STREAM:Ni`The object is not a valid update message stream.`,msg_INVALID_VI_MODEL_SERVICE:Ni`The object is not a valid HTML VI service.`,msg_UNABLE_TO_DISPATCH_MESSAGES_INVALID_MESSAGE_STREAM:Ni`Unable to dispatch messages to HTML VIs. ${0}.`,msg_UNABLE_TO_DISPATCH_MESSAGES_INVALID_UPDATE_MESSAGE:Ni`Unable to dispatch update message to HTML VI(${0}). ${1}.`,msg_UNABLE_TO_SEND_MESSAGES_TO_LISTENERS_INVALID_MESSAGE_STREAM:Ni`Unable to send messages to listeners from HTML VI. ${0}.`,msg_UNABLE_TO_SEND_MESSAGES_TO_LISTENERS_INVALID_UPDATE_MESSAGE:Ni`Unable to send message to listeners from HTML VI(${0}). ${1}.`,msg_UNABLE_TO_CREATE_CONTROL:Ni`Unable to create front panel control(${0}) with type (${1}). Verify that is supported by the framework.`,msg_UNKNOWN_TYPE:Ni`Unknown type(${0}) was found.`,msg_NO_PARAMETERS_SPECIFIED:Ni`No parameters were specified for the call to function ${0}. The function requires inputs to run.`,msg_PARAMETER_NOT_DOM_ELEMENT:Ni`The provided DOM element is either undefined or not a DOM Node. The following value was provided: ${0}.`,msg_PARAMETER_NOT_STRING:Ni`The provided string was either undefined or not a string. The following string was provided: ${0}.`,msg_REQUIRES_AT_LEAST_ONE_PARAMETER:Ni`At least one of the following parameters must be defined: ${0}. The following values were provided: ${1}.`,msg_UNEXPECTED_BEHAVIOR:Ni`The following unexpected or unintended behavior occurred: ${0}.`,msg_UNKNOWN_ID:Ni`The id: ${0}  was provided but could not be found. Please perform the following to prevent this behavior: ${1}.`,msg_PROTOCOL_VERSION_ERROR:Ni`Client and server have different protocol versions.`,msg_CONNECTION_LOST:Ni`Connection lost.`,msg_CONNECTING:Ni`Connecting...`,msg_VI_STOPPED:Ni`VI is stopped.`,msg_VI_PAUSED:Ni`VI is paused.`,msg_VI_ERROR:Ni`VI reported an error.`,msg_RENDERBUFFER_EXPECTS_STRING:Ni`The control RenderBuffer update for ${0} was provided a ${1} instead of a string.`,msg_ALREADY_DEFINED:Ni`${0} has already been defined for ${1}.`,msg_INVALID_FORMAT:Ni`The format of ${0} is invalid. A valid format is as follows: ${1}.`,msg_UNEXPECTED_TYPE:Ni`The type of ${0} is unexpected. A valid type is as follows: ${1}.`,msg_UNEXPECTED_VALUE:Ni`The value (${0}) is unexpected. A valid value is as follows: ${1}.`,msg_SET_TO_NOT_A_PATH:Ni`Set to Not A Path.`,msg_PATH_CONTROL_PLACEHOLDER:Ni`Enter a Path.`,msg_INVALID_OBJECT_REFERENCE:Ni`Object reference is invalid.`,msg_PROPERTY_DOES_NOT_EXIST:Ni`The property ${0} does not exist for control ${1}.`,msg_PROPERTY_CANNOT_BE_SET:Ni`Property ${0} cannot be set on this control.`,msg_PROPERTY_CANNOT_BE_GET:Ni`Cannot get property ${0} for this control.`,msg_PROPERTY_NOT_SUPPORTED:Ni`Property ${0} not supported for this control.`,msg_EMPTY_DISPLAY_VALUE:Ni`Display values must not be empty.`,msg_EMPTY_DISPLAY_VALUE_AND_VALUE:Ni`Both display names and values must not be empty.`,msg_DUPLICATE_DISPLAY_NAME:Ni`Duplicate display names are not allowed.`,msg_DUPLICATE_DISPLAY_VALUE:Ni`Duplicate values are not allowed.`,msg_INVALID_SELECTOR_INDEX:Ni`Invalid item index wired to a selector property or method`,msg_REFERENCE_PROPERTY_NOT_AVAILABLE:Ni`${0} not available for this control.`,msg_PROPERTY_NOT_SUPPORTED_IN_FLEX:Ni`${0} cannot be used for controls contained in a flex container.`,msg_PROPERTY_OUT_OF_RANGE:Ni`Property ${0} should be in the range [0..${1}].`,msg_PROPERTY_CURSOR_SET_INDEX_OUT_OF_BOUNDS:Ni`Active cursor index set to (${0}) is out of bounds (0..${1}).`,msg_PROPERTY_CURSOR_GET_INDEX_OUT_OF_BOUNDS:Ni`Active cursor index get (${0}) is out of bounds (0..${1}).`,msg_PROPERTY_PLOT_SET_INDEX_OUT_OF_BOUNDS:Ni`Active plot index set to (${0}) is out of bounds (0..${1}).`,msg_PROPERTY_PLOT_GET_INDEX_OUT_OF_BOUNDS:Ni`Active plot index (${0}) is out of bounds (0..${1}).`,msg_TREE_RECORD_DNE:Ni`A record matching the criteria specified does not exist within the tree.`,msg_MIN_MUST_BE_LESS_THAN_MAX:Ni`Minimum value (${0}) must be less than the maximum value (${1}).`,msg_CONSOLE_LOG_ERROR:Ni`An unhandled error occurred on the LabVIEW diagram with code ${0} at ${1}`,msg_REACHED_MAX_CONSOLE_LOG_ERRORS:Ni`There have been at least ${0} LabVIEW unhandled errors. Further errors will not be logged.`,msg_PROPERTY_WITH_GRADIENT_COLOR_NOT_SUPPORTED:Ni`Cannot get the property ${0} value when the control is configured with a gradient color.`,msg_UNPLACED_DATA_ITEM_ON_BLOCK_DIAGRAM:Ni`Cannot reinitialize the control value to its default value. Please drop the corresponding control terminal from unplaced items onto block diagram.`,msg_COLOR_PICKER_MORE_COLORS:Ni`More colors`,msg_COLOR_PICKER_MORE_COLORS_CANCEL:Ni`Cancel`,msg_NUMERIC_RADIX_BINARY:Ni`Binary`,msg_NUMERIC_RADIX_OCTAL:Ni`Octal`,msg_NUMERIC_RADIX_DECIMAL:Ni`Decimal`,msg_NUMERIC_RADIX_HEXADECIMAL:Ni`Hexadecimal`},Oi=Symbol("NIElementSymbol")
class Bi{static get NIElementSymbol(){return Oi}static isNIElement(e){return"object"==typeof e&&null!==e&&!0===e[Oi]}}const Li="ni-template-id"
class Ri{static isJQXElement(e){return void 0!==e.niControlId&&!Bi.isNIElement(e)}static isElement(e){return void 0!==e.niControlId||Bi.isNIElement(e)}static defineConstReference(e,t,i){Object.defineProperty(e,t,{configurable:!1,enumerable:!1,writable:!1,value:i})}static setValuePropertyDescriptor(e,t,i,n,r){if(e.hasOwnProperty("valuePropertyDescriptor"))throw new Error("valuePropertyDescriptor has already been set")
Ri.defineConstReference(e,"valuePropertyDescriptor",Object.freeze({attributeName:t,propertyName:i,propertyNameNonSignaling:n,eventName:r}))}static uniqueId(){return"_"+Math.random().toString(36).substr(2,9)}static jqxDateTimeToAttributeString(e){return"DateTime('"+e.toTimeZone("UTC").toString("yyyy-MM-dd HH:mm:ss.fff")+"', 'UTC')"}static cloneControlElement(e){const t=e.cloneNode(!1)
switch(e.tagName){case"JQX-CHECK-BOX":t.content=zi(e.content)
break
case"JQX-SWITCH-BUTTON":case"JQX-LED":t.trueContent=zi(e.trueContent),t.falseContent=zi(e.falseContent)
break
case"JQX-TOGGLE-BUTTON":{const i=e.content instanceof HTMLElement?e.content.innerHTML:e.content
t.content=zi(i)
break}case"JQX-LIST-BOX":Array.isArray(e.dataSource)&&(t.dataSource=JSON.parse(JSON.stringify(e.dataSource)),Array.isArray(e.selectedIndexes)&&(t.selectedIndexes=JSON.parse(JSON.stringify(e.selectedIndexes))))
break
case"JQX-DATE-TIME-PICKER":t.setAttribute("min",Ri.jqxDateTimeToAttributeString(e.min)),t.setAttribute("max",Ri.jqxDateTimeToAttributeString(e.max)),t.setAttribute("value",Ri.jqxDateTimeToAttributeString(e.value))}return t}static setTemplateId(e,t){e.setAttribute(Li,t)}static getTemplateId(e){if(e.hasAttribute(Li))return e.getAttribute(Li)}static queryAllControlsByNIControlId(e,t){const i='[vi-ref][ni-control-id="'+t+'"]',n=document.querySelectorAll(i)
return Array.prototype.slice.call(n).filter(function(t){return t.getAttribute("vi-ref")===e})}static queryControlByNIControlId(e,t){const i=Ri.queryAllControlsByNIControlId(e,t)
return 0===i.length?null:i[0]}static queryVirtualInstrumentsByVIRef(e){const t=document.querySelectorAll("ni-virtual-instrument[vi-ref]")
return Array.prototype.slice.call(t).filter(function(t){return t.viRef===e})}static inheritFromParent(e,t){if(Object.keys(e.prototype).length>0)throw new Error("Properties added to the constructor function prototype object are lost during function invocation. Add after function invocation")
try{e.prototype=Object.create(t.prototype),e.prototype.constructor=e}catch(e){Ri.info(e.message)}return e.prototype}}Ri.defineConstReference(Ri,"SYNCHRONIZE_RENDER_BUFFER",!1)
const Hi=function(){},Vi=window.console
Ri.log=Vi&&Vi.log?Vi.log.bind(Vi):Hi,Ri.error=Vi&&Vi.error?Vi.error.bind(Vi):Ri.log,Ri.warn=Vi&&Vi.warn?Vi.warn.bind(Vi):Ri.log,Ri.debug=Vi&&Vi.debug?Vi.debug.bind(Vi):Ri.log,Ri.info=Vi&&Vi.info?Vi.info.bind(Vi):Ri.log,Ri.group=Vi&&Vi.group?Vi.group.bind(Vi):Hi,Ri.groupEnd=Vi&&Vi.groupEnd?Vi.groupEnd.bind(Vi):Hi,Ri.defineConstReference(Ri,"VERBOSE",window.location.hash.indexOf("webviverboselogging")>=0),Ri.defineConstReference(Ri,"VERBOSE_INFO",window.location.hash.indexOf("webviverboselogginginfo")>=0)
const Fi=function(e){return function(...t){t[0]="NISUPPORT_VERBOSE_LOG: "+t[0],e.apply(null,t)}}
Ri.logVerbose=Ri.VERBOSE?Fi(Ri.log):Hi,Ri.errorVerbose=Ri.VERBOSE?Fi(Ri.error):Hi,Ri.debugVerbose=Ri.VERBOSE?Fi(Ri.debug):Hi,Ri.infoVerbose=Ri.VERBOSE&&Ri.VERBOSE_INFO?Fi(Ri.info):Hi,Ri.groupVerbose=Ri.VERBOSE?Ri.group:Hi,Ri.groupEndVerbose=Ri.VERBOSE?Ri.groupEnd:Hi
const zi=function(e){if(e instanceof window.HTMLElement)return e.cloneNode(!0)
if("string"==typeof e)return e
throw new Error("Unexpected boolean content type")}
!function(){const e=document.createElement("div")
Ri.escapeHtml=function(t){return e.textContent=t,e.innerHTML}}(),function(){const e=document.createElement("textarea")
Ri.unescapeHtml=function(t){return e.innerHTML=t,e.value}}()
Object.freeze({NONE:0,CLICK:1,VALUE_CHANGE:2,RIGHT_CLICK:3,BUTTON_CLICK:4})
const $i=function(){let e=[],t=!1
const i=function(){let n
if(!1===t){for(Ri.debugVerbose("Running callbacks for event NI Element Event"),n=0;n<e.length;n+=1)e[n].call(void 0)
e=[],t=!0}document.removeEventListener("DOMContentLoaded",i)}
return{notifyElementsRegistered:function(){"loading"!==document.readyState?setTimeout(function(){i()},0):document.addEventListener("DOMContentLoaded",i)},addCallback:function(i){!0===t?setTimeout(function(){i()},0):e.push(i)}}}(),Ui=function(e,t){let i
if("object"==typeof e){if("object"!=typeof t||null===t)return!1
for(i in e)if(e.hasOwnProperty(i)&&!1===Object.is(e[i],t[i])&&void 0!==t[i])return!1
return!0}return Object.is(e,t)},Gi=function(e,t,i){let n,r,o,a,s,l
if(1===t.length){if("boolean"===t[0].type)return""===i||i===e||"true"===i
if("number"===t[0].type)return null==i?void 0:parseFloat(i)
if("string"===t[0].type)return null==i?void 0:i}else if(t.length>1){try{n=JSON.parse(i)}catch(e){return}if("object"!=typeof n||null===n)return
for(r={},o=0;o<t.length;o+=1)if(s=t[o].propertyName,(a=t[o].type)===(l=typeof n[s]))r[s]=n[s]
else if("number"!==a||"string"!==l&&null!==n[s]){if(void 0!==n[s]&&null!==n[s])return
r[s]=void 0}else r[s]=parseFloat(n[s])
return r}},Wi=function(e,t,i){let n,r,o,a,s
if(1===e.length){if(typeof i===e[0].type)return i
throw new Error(Ri.i18n("msg_UNEXPECTED_VALUE",e[0].propertyName,e[0].type))}if("object"!=typeof i||null===i)throw new Error(Ri.i18n("msg_UNEXPECTED_VALUE",i,"object"))
for(n={},r=0;r<e.length;r+=1){if(o=e[r].propertyName,a=e[r].type,void 0===(s=i[o]))s=t[o]
else if(typeof s!==a)throw new Error(Ri.i18n("msg_UNEXPECTED_VALUE",o,a))
n[o]=s}return n},Xi=function(e,t,i){return 1===t.length&&"boolean"===t[0].type&&""!==i&&null!==i},Ji=function(e,t,i){const n=e.getAttribute(t)
return Gi(t,i,n)},Yi=function(e,t,i,n){const r=function(e){const t=typeof e
if("boolean"===t)return e?"":void 0
if("number"===t)return Object.is(e,-0)?"-0":e.toString()
if("string"===t)return e
if("object"===t)return JSON.stringify(e,function(e,t){if("number"==typeof t){if(!1===isFinite(t))return t.toString()
if(Object.is(t,-0))return"-0"}return t})
throw new Error(Ri.i18n("msg_UNKNOWN_TYPE",t))}(n)
void 0===r?e.removeAttribute(t):e.setAttribute(t,r)},Qi=function(){const e={}
return{addAttributeConfig:function(t,i,n){void 0===e[t]&&(e[t]={}),e[t][i]=n},getAttributeConfig:function(t,i){return void 0===e[t]||void 0===e[t][i]?void 0:e[t][i]},getAttributeList:function(t){return e[t]}}}()
class Ki extends HTMLElement{static _finalizeObservedAttributes(e){let t,i,n
void 0!==e.prototype.elementInfo&&(n=void 0===(i=Qi.getAttributeList(e.prototype.elementInfo.tagName))?{}:i,t=Object.freeze(Object.keys(n)),Ri.defineConstReference(e,"observedAttributes",t))}static notifyElementsRegistered(){$i.notifyElementsRegistered()}static addNIEventListener(e,t){if("attached"!==e)throw new Error("The following event is not an event supported by ni-element: "+e)
if("function"!=typeof t)throw new Error("A valid callback was not provided for ni-element to trigger for the NI Event Listener")
$i.addCallback(t)}addAllProperties(e){}constructor(){super(),this.createdCallback()}get[Bi.NIElementSymbol](){return!0}createdCallback(){let e,t,i
if(Ri.defineConstReference(this,"niElementInstanceId",Ri.uniqueId()),void 0!==this._attachedCallbackFirstCall)throw new Error("Created Callback has been invoked multiple times for this element")
this._attachedCallbackFirstCall=!0
const n=Qi.getAttributeList(this.elementInfo.tagName)
for(e in n)n.hasOwnProperty(e)&&(i=(t=n[e]).defaultValue,Object.defineProperty(this,t.privatePropertyName,{configurable:!1,enumerable:!1,writable:!0,value:i}))}connectedCallback(){if(!0===this._attachedCallbackFirstCall){let e,t,i,n
const r=Qi.getAttributeList(this.elementInfo.tagName)
for(e in r)r.hasOwnProperty(e)&&(t=r[e],n=Ji(this,e,t.typeArray),i=this[t.privatePropertyName],void 0===n?Yi(this,e,t.typeArray,i):!1===Ui(i,n)&&Yi(this,e,t.typeArray,n))}this.attachedCallback()}attachedCallback(){return!0===this._attachedCallbackFirstCall&&(this._attachedCallbackFirstCall=!1,!0)}propertyUpdated(e){}attributeChangedCallback(e,t,i){let n
const r=Qi.getAttributeConfig(this.elementInfo.tagName,e)
if(void 0===r)return
if(t===i)return void Ri.infoVerbose("ATTRIBUTE CHANGED CALLBACK FOR ATTRIBUTE "+e+" NEW VALUE ("+i+") EQUAL TO OLD VALUE ("+t+") SO RETURNING")
const o=this.getAttribute(e)
o!==i&&(Ri.info("ATTRIBUTE CHANGED CALLBACK FOR ATTRIBUTE "+e+" NEW VALUE ("+i+") NOT EQUAL TO CURRENT VALUE ("+o+") SO IGNORING NEW VALUE"),i=o)
const a=Gi(e,r.typeArray,i)
void 0!==a?Xi(e,r.typeArray,i)?Yi(this,e,r.typeArray,a):this[r.propertyName]=a:void 0===(n=Gi(e,r.typeArray,t))?Yi(this,e,r.typeArray,r.defaultValue):this.setAttribute(e,t)}disconnectedCallback(){this.detachedCallback()}detachedCallback(){}static defineElementInfo(e,t,i){if("string"!=typeof t)throw new Error("A valid string must be provided for the tag name")
if("string"!=typeof i)throw new Error("A valid string must be provided for the tag prototype name")
if(void 0!==e.elementInfo)throw new Error(Ri.i18n("msg_ALREADY_DEFINED","elementInfo",t))
const n={}
Ri.defineConstReference(e,"elementInfo",n),Ri.defineConstReference(n,"tagName",t),Ri.defineConstReference(n,"prototypeName",i),e.addAllProperties(e),Object.seal(n)}addProperty(e,t){const i=(t="object"!=typeof t||null===t?{}:t).propertyName
let n=t.defaultValue
const r=typeof n,o=t.fireEvent||!1,a=t.addNonSignalingProperty||!1,s=t.preventAttributeSync||!1
let l
if("string"!=typeof i||!1===/^[a-z][a-zA-Z]*$/.test(i))throw new Error(Ri.i18n("msg_INVALID_FORMAT",i,"ascii alpha camelCase string"))
if("string"!==r&&"number"!==r&&"boolean"!==r&&"object"!==r)throw new Error(Ri.i18n("msg_UNKNOWN_TYPE",r))
if("boolean"!=typeof o)throw new Error(Ri.i18n("msg_UNKNOWN_TYPE",typeof o))
if("boolean"!=typeof a)throw new Error(Ri.i18n("msg_UNKNOWN_TYPE",typeof a))
if("boolean"!=typeof s)throw new Error(Ri.i18n("msg_UNKNOWN_TYPE",typeof s))
if("boolean"===r&&!1!==n)throw new Error(Ri.i18n("msg_UNEXPECTED_VALUE",n,"false"))
const d=[]
if("object"===r){if(null===n||Array.isArray(n))throw new Error(Ri.i18n("msg_UNEXPECTED_VALUE",n,"non-null and non-array"))
!function(){const e={}
let t,i
for(t in n)if(n.hasOwnProperty(t)){if(e[t]=n[t],"boolean"!==(i=typeof e[t])&&"string"!==i&&"number"!==i)throw new Error(Ri.i18n("msg_UNEXPECTED_VALUE",i,"string, boolean, number"))
d.push(Object.freeze({propertyName:t,type:i}))}if(d.length<2)throw new Error(Ri.i18n("msg_UNEXPECTED_VALUE",d.length,"> 2 properties required"))
n=Object.freeze(e)}()}else d.push(Object.freeze({propertyName:i,type:r}))
Object.freeze(d)
const c=i.split(/(?=[A-Z])/).join("-").toLowerCase(),h=c+"-changed",u="_"+i,p=i+"NonSignaling"
if(void 0!==e[i])throw new Error(Ri.i18n("msg_ALREADY_DEFINED",e[i],i))
if(void 0!==e[u])throw new Error(Ri.i18n("msg_ALREADY_DEFINED",e[u],i))
if(void 0!==e[p])throw new Error(Ri.i18n("msg_ALREADY_DEFINED",e[p],i))
Qi.addAttributeConfig(e.elementInfo.tagName,c,Object.freeze({defaultValue:n,typeArray:d,privatePropertyName:u,propertyName:i}))
const m=function(e){const t=function(t){let n
Ui(this[u],t)||(t=Wi(d,this[u],t),this[u]=t,!1===s&&Yi(this,c,d,this[u]),!1===this._attachedCallbackFirstCall&&this.propertyUpdated(i),!1===e&&!0===o&&((n={})[i]=t,this.dispatchEvent(new CustomEvent(h,{bubbles:!0,cancelable:!1,detail:n}))))}
try{Object.defineProperty(t,"name",{value:"updatePropertyAction_"+i})}catch(e){}return t}
l="object"===r?function(){return Object.freeze(Wi(d,this[u],{}))}:function(){return this[u]},Object.defineProperty(e,i,{configurable:!1,enumerable:!0,get:l,set:m(!1)}),!0===o&&!0===a&&Object.defineProperty(e,p,{configurable:!1,enumerable:!1,get:l,set:m(!0)})}}const Zi=Object.freeze({WEBAPP:0,VI:1,CONTAINER:2,LEAF:3}),en=[[]]
class tn{static registerElement(e,t){void 0===t&&(t=Zi.LEAF),void 0===en[t]&&(en[t]=[]),en[t].push(e)}static completeRegistration(){en.forEach(e=>{e.forEach(e=>{Ki._finalizeObservedAttributes(e),window.customElements.define(e.prototype.elementInfo.tagName,e)})}),Ki.notifyElementsRegistered()}}class nn{constructor(e,t){this.remainingTasks=function(e,t){const i=Object.keys(e)
let n
if("function"!=typeof t)throw new Error("Completion callback function must be provided")
if(i.length<1)throw new Error("Must provide an object with at least one property to use as task names")
for(n=0;n<i.length;n+=1)if(e[i[n]]!==i[n])throw new Error("Task name properties and values must be identical; the task names object must be an enum style object")
return i}(e,t),this.taskNames=e,this.completionCallback=t}complete(e){let t
if(void 0===this.taskNames[e])throw new Error("Attempted to complete the following invalid task: "+e)
if(0!==this.remainingTasks.length){for(t=0;t<this.remainingTasks.length;t+=1)if(this.remainingTasks[t]===e){this.remainingTasks.splice(t,1)
break}0===this.remainingTasks.length&&this.completionCallback.call(void 0)}}}!function(){Ri.i18n=void 0,Ri.InternationalizationInitializer={},Ri.InternationalizationInitializer.TaskTrackerEnum=Object.freeze({LANGUAGES_LOADED:"LANGUAGES_LOADED",ELEMENT_PROTOTYPES_READY:"ELEMENT_PROTOTYPES_READY",WINDOW_LOADED:"WINDOW_LOADED"}),Ri.InternationalizationInitializer.TaskTracker=new nn(Ri.InternationalizationInitializer.TaskTrackerEnum,function(){tn.completeRegistration(),NationalInstruments.JQXElement._registerElements()})
const e=Ri.InternationalizationInitializer.TaskTrackerEnum,t=Ri.InternationalizationInitializer.TaskTracker
setTimeout(function(){Ri.i18n=function(e,...t){return function(e,t){const i=qi[e]
if(void 0===i)return e
const n=i.substitutionIndexes.length
let r=i.stringParts[0]
for(let e=0;e<n;e++)r+=t[i.substitutionIndexes[e]]+i.stringParts[e+1]
return r}(e,t)},t.complete(e.LANGUAGES_LOADED)},0)
const i=function(){Ri.logVerbose("niSupport.i18n windowLoadedCallback()"),t.complete(e.WINDOW_LOADED)}
Ri.logVerbose("niSupport.i18n readyState="+document.readyState),"complete"===document.readyState?i():window.addEventListener("load",i)}()
var rn=Object.freeze({})
window.NationalInstruments=window.NationalInstruments||{},window.NationalInstruments.HtmlVI={},window.NationalInstruments.HtmlVI.Elements={},window.NationalInstruments.JQXElement={},window.NationalInstruments.HtmlVI.NISupport=Ri
var on=Object.freeze({})
NationalInstruments.Globals={},NationalInstruments.Globals.jQuery=$.noConflict(!0)
var an=Object.freeze({})
!function(){NationalInstruments.HtmlVI.DataPipeline={},NationalInstruments.HtmlVI.DataPipeline.decimateAW=function(e,t,i,n){var r=(t-e.start)/e.step,o=(i-e.start)/e.step
return NationalInstruments.HtmlVI.DataPipeline.decimate1D(e,r,o,n)}
var e=function(e,t,i,n){for(var r=-1/0,o=-1,a=1/0,s=-1,l=2*t;l<2*i;l+=2)e[l+1]<a&&(s=e[l],a=e[l+1]),e[l+1]>r&&(o=e[l],r=e[l+1]);-1!==o&&(o===s?(n.push(s),n.push(a)):o<s?(n.push(o),n.push(r),n.push(s),n.push(a)):(n.push(s),n.push(a),n.push(o),n.push(r)))}
function t(e,t,i,n,r,o,a){var s=i+n*r
o[s]||(a.push(e[t]),a.push(e[t+1]),o[s]=!0)}NationalInstruments.HtmlVI.DataPipeline.decimate1DLog=function(t,i,n,r){var o=[],a=[],s=t.datapoints.points
!function(e,t,i,n,r){var o,a,s,l,d,c=e.datapoints.points.length/2,h=e.xaxis.options.transform,u=e.xaxis.options.inverseTransform
if(a=h(t),0==(o=((s=h(i))-a)/n)||0===c)return
const p=o>0?function(e,t){return e<t}:function(e,t){return e>t}
for(var m=a;p(m,s+o);m+=o)l=u(m),(d=u(m+o))<=0||l>=c||(l<0&&(l=0),d>c&&(d=c),(l=Math.ceil(l))>(d=Math.floor(d))||(r.push(l),r.push(d)))
!function(e,t,i,n){var r,o,a=n.length
0===a?(n.push(Math.floor(e)),n.push(Math.floor(e)+1)):2===a?(n[0]>0&&n[0]--,n[1]<i&&n[1]++):(r=n[0],o=n[a-1],r>0&&(n.unshift(r-1),n.unshift(r-1)),o<i&&(n.push(o+1),n.push(o+1)))}(t,0,c,r)}(t,i,n,r,o)
for(var l=0;l<o.length;l+=2)e(s,o[l],o[l+1]+1,a)
return a},NationalInstruments.HtmlVI.DataPipeline.decimate1D=function(e,t,i,n){var r,o=0,a=0,s=n/(i-t),l=e.datapoints.points,d=[],c=!0,h=-1/0,u=-1,p=1/0,m=-1
if(e.xaxis&&"log"===e.xaxis.options.mode)return NationalInstruments.HtmlVI.DataPipeline.decimate1DLog(e,t,i,n)
var f,g,v,b=Math.min(Math.max(0,Math.floor(t)),l.length/2),y=i>0?Math.min(l.length/2,Math.floor(i+2)):0,_=function(){m===u?(d[a]=m,d[a+1]=p,a+=2):(m<u?(d[a]=m,d[a+1]=p,d[a+2]=u,d[a+3]=h):(d[a]=u,d[a+1]=h,d[a+2]=m,d[a+3]=p),a+=4)}
for(n>y-b&&(s=1),r=2*b;r<2*y;r+=2){if(c&&(h=-1/0,u=-1,p=1/0,m=-1,c=!1),isNaN(l[r+1])){if(r>1&&isNaN(l[r-1])&&a>1)continue
m=u=l[r],p=h=l[r+1]}l[r+1]<p&&(m=l[r],p=l[r+1]),l[r+1]>h&&(u=l[r],h=l[r+1]),(Math.floor(o)!==Math.floor(o+s)||(void 0,void 0,g=(f=r+1)>2&&isNaN(l[f-2]),v=f<l.length-3&&isNaN(l[f+2]),g||v))&&(_(),c=!0),o+=s}return c||_(),d},NationalInstruments.HtmlVI.DataPipeline.decimatePoints=function(e,i,n,r,o,a,s){if(null==s||null==a||null==o||null==r||null==n||null==i)return e.datapoints.points
if(i>n||o>a)return[]
if(e.xaxis&&"log"===e.xaxis.options.mode||e.yaxis&&"log"===e.yaxis.options.mode)return NationalInstruments.HtmlVI.DataPipeline.decimatePointsLog(e,i,n,r,o,a,s)
var l,d,c=(n-i)/r,h=(a-o)/s,u=e.datapoints.points,p=[]
for(l=new Array(Math.ceil(r)*Math.ceil(s)),d=0;d<u.length;d+=2)u[d]<i||u[d+1]<o||u[d]>n||u[d+1]>a||t(u,d,u[d]===i?0:Math.ceil((u[d]-i)/c-1),u[d+1]===o?0:Math.ceil((u[d+1]-o)/h-1),r,l,p)
return p},NationalInstruments.HtmlVI.DataPipeline.decimatePointsLog=function(e,i,n,r,o,a,s){var l,d,c,h,u=e.datapoints.points,p=[],m=e.xaxis.options.transform||function(e){return e},f=e.yaxis.options.transform||function(e){return e},g=m(i),v=f(o),b=(m(n)-g)/r,y=(f(a)-v)/s
for(l=new Array(Math.ceil(r)*Math.ceil(s)),d=0;d<u.length;d+=2)u[d]<i||u[d+1]<o||u[d]>n||u[d+1]>a||(c=m(u[d]),h=f(u[d+1]),t(u,d,c===g?0:Math.ceil((c-g)/b-1),h===v?0:Math.ceil((h-v)/y-1),r,l,p))
return p},NationalInstruments.HtmlVI.DataPipeline.decimateLinesXY=function(e,t,n,r,o,a,s){if(null==s||null==a||null==o||null==r||null==n||null==t)return e.datapoints.points
if(t>n||o>a)return[]
if(e.xaxis&&"log"===e.xaxis.options.mode||e.yaxis&&"log"===e.yaxis.options.mode)return e.datapoints.points
if(e.datapoints.points<=4)return e.datapoints.points
var l,d,c,h,u,p,m,f,g,v,b,y=(n-t)/r,_=(a-o)/s,w=e.datapoints.points,x=[]
for((w[0]<t||w[0]<o||w[1]>n||w[1]>a)&&!i(w[0],w[1],w[2],w[3],t,n,o,a)&&(w[2]<t||w[3]<o||w[2]>n||w[3]>a)||(x.push(w[0]),x.push(w[1])),c=w[0]===t?0:Math.ceil((w[0]-t)/y-1),h=w[1]===o?0:Math.ceil((w[1]-o)/_-1),u=w[0],p=w[1],b=2;b<w.length-2;b+=2)m=w[b],f=w[b+1],g=w[b+2],v=w[b+3],m<t||f<o||m>n||f>a?((u<t||p<o||u>n||p>a)&&(g<t||v<o||g>n||v>a)&&!i(u,p,m,f,t,n,o,a)&&!i(m,f,g,v,t,n,o,a)||(x.push(m),x.push(f)),u=m,p=f,c=m===t?0:Math.ceil((m-t)/y-1),h=f===o?0:Math.ceil((f-o)/_-1)):(l=m===t?0:Math.ceil((m-t)/y-1),h===(d=f===o?0:Math.ceil((f-o)/_-1))&&c===l||(x.push(m),x.push(f),c=l,h=d,u=m,p=f))
return x.push(w[w.length-2]),x.push(w[w.length-1]),x}
var i=function(e,t,i,n,r,o,a,s){return e<r&&i>r||e>r&&i<r||e<o&&i>o||e>o&&i<o||t<a&&n>a||t>a&&n<a||t<s&&n>s||t>s&&n<s}
"function"!=typeof ArrayBuffer.isView&&(ArrayBuffer.isView=function(e){var t=Object.prototype.toString.call(e)
return-1!==["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]","[object DataView]"].indexOf(t)})
var n=Object.freeze({niAnalogWaveform:"niAnalogWaveform",niAnalogWaveformArray:"niAnalogWaveformArray",XYClusterOfArrays:"XYClusterOfArrays",XYArrayOfClusters:"XYArrayOfClusters",XYArrayOfClusterOfArrays:"XYArrayOfClusterOfArrays",XYArrayOfArrayOfClusters:"XYArrayOfArrayOfClusters",XYArrayOfClusterOfArrayOfPoint:"XYArrayOfClusterOfArrayOfPoint",oneDimensionNumericArray:"1DNumericArray",twoDimensionsNumericArray:"2DNumericArray",oneDimensionComplexArray:"1DComplexArray",twoDimensionsComplexArray:"2DComplexArray",numeric:"numeric",clusterOfNumerics:"clusterOfNumerics",arrayOfClusterOfNumerics:"arrayOfClusterOfNumerics",historyBuffer:"HistoryBuffer",categoryData:"categoryData",categoryArray:"categoryArray",empty:"empty",unknown:"unknown"})
function r(e){return e.getName()===NITypeNames.CLUSTER&&2===e.getFields().length&&2===e.getSubtype().length&&e.getSubtype()[0].getName()===NITypeNames.ARRAY&&e.getSubtype()[1].getName()===NITypeNames.ARRAY}function o(e){return e.getName()===NITypeNames.CLUSTER&&2===e.getFields().length&&2===e.getSubtype().length&&e.getSubtype().every(function(e){return e.isInteger()||e.isFloat()||e.isTimeStamp()})}function a(e){return e.getName()===NITypeNames.CLUSTER&&e.getSubtype().every(function(e){return e.isInteger()||e.isFloat()})}NationalInstruments.HtmlVI.DataPipeline.DataTypesEnum=n,NationalInstruments.HtmlVI.DataPipeline.inferDataTypeFromNIType=function(e){return e instanceof NIType?e.getName()===NITypeNames.ANALOGWAVEFORM?n.niAnalogWaveform:e.getName()===NITypeNames.ARRAY&&e.getSubtype().getName()===NITypeNames.ANALOGWAVEFORM?n.niAnalogWaveformArray:r(e)?n.XYClusterOfArrays:e.getName()===NITypeNames.ARRAY&&1===e.getRank()&&o(e.getSubtype())?n.XYArrayOfClusters:e.getName()===NITypeNames.ARRAY&&r(e.getSubtype())?n.XYArrayOfClusterOfArrays:e.getName()===NITypeNames.ARRAY&&function(e){return e.getName()===NITypeNames.CLUSTER&&1===e.getFields().length&&e.getSubtype()[0].getName()===NITypeNames.ARRAY&&o(e.getSubtype()[0].getSubtype())}(e.getSubtype())?n.XYArrayOfClusterOfArrayOfPoint:e.getName()===NITypeNames.ARRAY&&2===e.getRank()&&o(e.getSubtype())?n.XYArrayOfArrayOfClusters:e.getName()===NITypeNames.ARRAY&&1===e.getRank()&&(e.getSubtype().isInteger()||e.getSubtype().isFloat())?n.oneDimensionNumericArray:e.getName()===NITypeNames.ARRAY&&2===e.getRank()&&(e.getSubtype().isInteger()||e.getSubtype().isFloat())?n.twoDimensionsNumericArray:e.getName()===NITypeNames.ARRAY&&1===e.getRank()&&e.getSubtype().isComplex()?n.oneDimensionComplexArray:e.getName()===NITypeNames.ARRAY&&2===e.getRank()&&e.getSubtype().isComplex()?n.twoDimensionsComplexArray:e.isInteger()||e.isFloat()?n.numeric:a(e)?n.clusterOfNumerics:e.getName()===NITypeNames.ARRAY&&a(e.getSubtype())?n.arrayOfClusterOfNumerics:n.unknown:n.unknown}}(),function(){var e=NationalInstruments.HtmlVI.DataPipeline,t=NationalInstruments.HtmlVI.DataPipeline.DataTypesEnum
NationalInstruments.HtmlVI.DataPipeline.TypedHistoryBuffer=function(){HistoryBuffer.apply(this,arguments),this.niType=null,this.valueType=t.unknown}
var i=NationalInstruments.HtmlVI.DataPipeline.TypedHistoryBuffer
i.prototype=new HistoryBuffer(arguments),i.prototype.setNIType=function(i){var n
switch(this.niType=i,this.valueType=e.inferDataTypeFromNIType(this.niType),this.clear(),this.valueType){case t.numeric:case t.oneDimensionNumericArray:this.setType("numeric"),this.setWidth(1)
break
case t.clusterOfNumerics:if(this.setType("numeric"),0===(n=this.niType.getFields().length))return
this.setWidth(n)
break
case t.arrayOfClusterOfNumerics:case t.XYArrayOfClusters:if(0===(n=this.niType.getSubtype().getFields().length))return
this.setWidth(n)
break
case t.niAnalogWaveform:case t.niAnalogWaveformArray:this.setType("analogWaveform"),this.setWidth(1)}},i.prototype.pushTypedData=function(e){var i,n,r,o,a
switch(this.valueType){case t.numeric:this.push(e)
break
case t.oneDimensionNumericArray:this.appendArray(e)
break
case t.niAnalogWaveform:this.push(e)
break
case t.niAnalogWaveformArray:if(0===(a=e.length))return
this.setWidth(e.length),this.push(e)
break
case t.twoDimensionsNumericArray:if(0===(a=e[0].length))return
for(this.setWidth(a),i=0;i<e.length;i++)this.push(e[i])
break
case t.clusterOfNumerics:for(r=[],o=Object.keys(e),i=0;i<o.length;i++)r[i]=e[o[i]]
this.push(r)
break
case t.arrayOfClusterOfNumerics:case t.XYArrayOfClusters:for(n=0;n<e.length;n++){for(r=[],o=Object.keys(e[n]),i=0;i<o.length;i++)r[i]=e[n][o[i]]
this.push(r)}}}}(),function(){NationalInstruments.HtmlVI.DataPipeline.GraphDataPipeline=function(){}
var e=NationalInstruments.HtmlVI.DataPipeline.DataTypesEnum,t=NationalInstruments.HtmlVI.DataPipeline.GraphDataPipeline,i=window.NIComplex||NationalInstruments.HtmlVI.NIComplex,n=window.NIAnalogWaveform||NationalInstruments.HtmlVI.NIAnalogWaveform,r=window.NITimestamp||NationalInstruments.HtmlVI.NITimestamp,o=t.prototype
o.toFlot=function(e,t,i){return b(e,t,i)}
var a=function(e){if("string"!=typeof e)return!1
var t=new r(e)
return!isNaN(t.seconds)&&!isNaN(t.fractions)},s=function(e){return new r(e).valueOf()},l=function(e){return e},d=function(e){return!Array.isArray(e)&&"object"==typeof e&&Array.isArray(e.Y)},c=function(e){return!Array.isArray(e)&&"object"==typeof e&&2===Object.keys(e).length&&Object.keys(e).every(function(t){return Array.isArray(e[t])})},h=function(e){return Array.isArray(e)&&!Array.isArray(e[0])&&"object"==typeof e[0]&&2===Object.keys(e[0]).length&&("number"==typeof e[0][Object.keys(e[0])[0]]||a(e[0][Object.keys(e[0])[0]]))},u=function(e){return Array.isArray(e)&&Array.isArray(e[0])&&2===e[0].length&&"string"==typeof e[0][0]&&"number"==typeof e[0][1]},p=function(t){return d(t)?e.niAnalogWaveform:function(e){return Array.isArray(e)&&d(function(e){var t
for(t=0;t<e.length;t++)if(!Array.isArray(e[t])&&"object"==typeof e[t]&&Array.isArray(e[t].Y))return e[t]}(e))}(t)?e.niAnalogWaveformArray:u(t)?e.categoryData:(n=t,Array.isArray(n)&&u(n[0])?e.categoryArray:c(t)?e.XYClusterOfArrays:h(t)?e.XYArrayOfClusters:"HistoryBuffer"===t.valueType?e.historyBuffer:Array.isArray(t)||ArrayBuffer.isView(t)?0===t.length?e.empty:"number"==typeof t[0]?e.oneDimensionNumericArray:function(e){return Array.isArray(e)&&c(e[0])}(t)?e.XYArrayOfClusterOfArrays:function(e){return Array.isArray(e)&&h(function(e){var t
for(t=0;t<e.length;t++)if(Array.isArray(e[t])&&e[t].length>0)return e[t]}(e))}(t)?e.XYArrayOfArrayOfClusters:function(e){return Array.isArray(e)&&function(e){return!Array.isArray(e)&&"object"==typeof e&&1===Object.keys(e).length&&h(e[Object.keys(e)[0]])}(e[0])}(t)?e.XYArrayOfClusterOfArrayOfPoint:function(e){return Array.isArray(e)&&("string"==typeof e[0]||e[0]instanceof i)}(t)?e.oneDimensionComplexArray:function(e){return Array.isArray(e)&&Array.isArray(e[0])&&("string"==typeof e[0][0]||e[0][0]instanceof i)}(t)?e.twoDimensionsComplexArray:Array.isArray(t[0])||ArrayBuffer.isView(t[0])?e.twoDimensionsNumericArray:e.unknown:e.unknown)
var n}
o.inferDataType=p
var m=function(e){return{flatdata:!0,data:e.Y,start:e.t0.valueOf(),step:e.dt,decimate:NationalInstruments.HtmlVI.DataPipeline.decimateAW,decimatePoints:NationalInstruments.HtmlVI.DataPipeline.decimatePoints}},f=function(e){for(var t=[],i=Object.keys(e),n=e[i[0]],r=e[i[1]],o=n.length>0&&a(n[0])?s:l,d=r.length>0&&a(r[0])?s:l,c=Math.min(n.length,r.length),h=0;h<c;h++)t.push([o(n[h]),d(r[h])])
return{data:t,decimate:NationalInstruments.HtmlVI.DataPipeline.decimateLinesXY,decimatePoints:NationalInstruments.HtmlVI.DataPipeline.decimatePoints}},g=function(e){for(var t=[],i=Object.keys(e[0]||{}),n=e.length>0&&a(e[0][i[0]])?s:l,r=e.length>0&&a(e[0][i[1]])?s:l,o=0;o<e.length;o++)t.push([n(e[o][i[0]]),r(e[o][i[1]])])
return{data:t,decimate:NationalInstruments.HtmlVI.DataPipeline.decimateLinesXY,decimatePoints:NationalInstruments.HtmlVI.DataPipeline.decimatePoints}},v=function(e){return e.map(e=>(function(e){const t=[],i=e[Object.keys(e)[0]],n=i.length
for(var r=i[0],o=Object.keys(r),d=n>0&&a(r[o[0]])?s:l,c=n>0&&a(r[o[1]])?s:l,h=0;h<n;h++){const e=i[h]
var u=Object.keys(e)
t.push([d(e[u[0]]),c(e[u[1]])])}return{data:t,decimate:NationalInstruments.HtmlVI.DataPipeline.decimateLinesXY,decimatePoints:NationalInstruments.HtmlVI.DataPipeline.decimatePoints}})(e))},b=function(t,r,o){var a,s,l,d,c=[]
switch(o&&o!==e.unknown?o:p(r)){case e.oneDimensionNumericArray:return[{flatdata:!0,data:r,start:0,step:1,decimate:NationalInstruments.HtmlVI.DataPipeline.decimate1D,decimatePoints:NationalInstruments.HtmlVI.DataPipeline.decimatePoints}]
case e.twoDimensionsNumericArray:for(a=[],d=0;d<r.length;d++)c=[],a.push({flatdata:!0,start:0,step:1,data:r[d],decimate:NationalInstruments.HtmlVI.DataPipeline.decimate1D,decimatePoints:NationalInstruments.HtmlVI.DataPipeline.decimatePoints})
return a
case e.niAnalogWaveform:return"string"==typeof(s=r instanceof n?r:new n(r)).channelName&&s.channelName.length>0&&t.updatePlotName(0,s.channelName,!0),[m(s)]
case e.niAnalogWaveformArray:for(a=[],d=0;d<r.length;d++)"string"==typeof(s=r[d]instanceof n?r[d]:new n(r[d])).channelName&&s.channelName.length>0&&t.updatePlotName(d,s.channelName,!0),a.push(m(s))
return a
case e.XYClusterOfArrays:return[f(r)]
case e.XYArrayOfClusterOfArrays:return r.map(e=>f(e))
case e.XYArrayOfClusters:return[g(r)]
case e.XYArrayOfArrayOfClusters:return r.map(e=>g(e))
case e.XYArrayOfClusterOfArrayOfPoint:return v(r)
case e.oneDimensionComplexArray:for(l=0;l<r.length;l++)c.push(i.prototype.parseFromString(r[l]))
return[c]
case e.twoDimensionsComplexArray:for(a=[],d=0;d<r.length;d++){for(c=[],l=0;l<r[d].length;l++)c.push(i.prototype.parseFromString(r[d][l]))
a.push(c)}return a
case e.categoryData:return[r]
case e.categoryArray:return r}return a||[c]}}(),function(){NationalInstruments.HtmlVI.DataPipeline.ChartDataPipeline=function(){}
var e=NationalInstruments.HtmlVI.DataPipeline.GraphDataPipeline,t=NationalInstruments.HtmlVI.DataPipeline.ChartDataPipeline.prototype
function i(e,t){var i=t.length
if(0!==i){e.setWidth(i)
for(var n=0;n<t[0].length;n++){for(var r=[],o=0;o<i;o++)r[o]=t[o][n]
e.push(r)}}}t.loadValueIntoHistoryBuffer=function(t,n){switch(e.prototype.inferDataType(t)){case"1DNumericArray":n.appendArray(t)
break
case"2DNumericArray":i(n,t)
break
case"HistoryBuffer":i(n,t.data)}},t.toFlot=function(e,t,i){for(var n=[],r=e.historyBuffer.width,o=0;o<r;o++)n[o]=[]
return n}}(),function(){var e=NationalInstruments.Globals.jQuery,t=window.NINumericFormatters,i=function(e){return function(i){return t.prototype.toSiNotation(i,e.decimals)}},n=function(e,i,n,o){var l,d,c,h=i.tickDecimals
if(i.tickDecimals!==i.options.tickDecimals&&(d=s(i.min),l=0!==i.min?Math.floor(Math.log(Math.abs(i.min))*Math.LOG10E):0,c=s(i.max,l),h=0!==e?Math.abs(o.computeValuePrecision(d,c,i.direction,i.options.ticks)):0),n){var u=Math.abs(n)<=3?Math.abs(n)+1:a(e,n,i.max,i.min)
if(u>h)return t.prototype.toSiNotation(e,r(e,u))}return t.prototype.toSiNotation(e,r(e,h))},r=function(e,t){var i=Math.floor(Math.log(Math.abs(e))*Math.LOG10E)
return i<-25&&(t+=Math.abs(-25-i)),t},o=function(e,i){return function(n){var r=i?n:l(Math.floor,n,e)
return t.prototype.toDecFixedNotation(r,e)}},a=function(e,t,i,n){var r=Math.log(Math.abs(i))*Math.LOG10E,o=0!==n?Math.log(Math.abs(n))*Math.LOG10E:0,a=Math.floor(Math.abs(r-o)),s=0!==e?Math.log(Math.abs(e))*Math.LOG10E:0,l=Math.abs(s+t)
return a>3?Math.ceil(3*l/a):Math.ceil(l)},s=function(e,t){var i=0!==e?Math.floor(Math.log(Math.abs(e))*Math.LOG10E):0,n=Math.pow(10,i),r=e
return t>0?r/=Math.pow(10,3*Math.floor(t/3)):r*=Math.pow(10,i%3)/n,r},l=function(e,t,i){var n=Math.pow(10,i),r=t*n
return(r=e(r))/n},d=function(e,t){return t=t?""+t:"0",1===(e=""+e).length?t+e:e},c=function(e,t,i,n){for(e=""+e,t=t?""+t:"0";e.length<i;)!0===n?e+=t:e=t+e
return e}
function h(){return window.NIEmbeddedBrowser&&window.NIEmbeddedBrowser.formatLanguage?window.NIEmbeddedBrowser.formatLanguage:navigator.locale||"en-US"}function u(e,t,i){var n=t?"."+c(i,"0",3):"",r=Globalize.format(e,"T",h())
return function(e,t){var i=e.split(" ")
if(i.length>1){var n=i[i.length-1]
return i.splice(i.length-1,1),i.join(" ")+t+" "+n}return e+t}(r,n)+"<br>"+Globalize.format(e,"d",h())}var p=function(e,t,i){var n=t.indexOf(".S"),r=new RegExp(".S+","g"),o=i?3:0,a=n>0?r.exec(t)[0].length-1:o,s=c(e,"0",3)
return s=c(s,"0",a,!0),a>0?s.substring(0,a):""},m=function(t){return function(i,n,r,o){var a=e.plot.dateGenerator(i,n.options)
return function(e,t,i){var n="",r=e.valueOf()-(void 0===t.valueOfFirstData?0:t.valueOfFirstData)
r<0&&(r=-r,n+="-")
var o=Math.floor(r/1e3),a=Math.floor(r%1e3),s=o%60,l=Math.floor(o/60),c=l%60,h=Math.floor(l/60),u=h%24,m=Math.floor(h/24),f=""===i||i.indexOf("ss")>=0
if(m&&""===i&&(n+=m+"."),n+=d(u)+":",n+=d(c),f){n+=":"+d(s)
var g="millisecond"===t.tickSize[1]||"microsecond"===t.tickSize[1],v=p(a,i,g)
n+=g||v.length>0?"."+v:""}return n}(a.date||a.getDate(),n,t)}},f=function(t){return function(i,n,r,o){var a=e.plot.dateGenerator(i,n.options)
return function(t,i,n,r){var o=t.valueOf(),a=Math.floor(o%1e3)
a<0&&(a=1e3+a),t<-85778644032e5&&(t=-85778644032e5)
var s,l=e.plot.makeUtcWrapper(new Date(t.valueOf()+r)).date,h="millisecond"===i.tickSize[1]||"microsecond"===i.tickSize[1]
if(""!==n)try{s=function(e,t){var i=navigator.language||navigator.browserLanguage||navigator.languages[0],n=function(e){var t={}
return null==e?t:(e.indexOf("#d")>=0?(t.year="numeric",t.month="numeric",t.day="numeric"):(e.indexOf("yyyy")>=0?t.year="numeric":e.indexOf("yy")>=0&&(t.year="2-digit"),t.month="numeric",t.day="numeric"),e.indexOf("#T")>=0?(t.hour="numeric",t.minute="numeric",t.second="numeric"):(t.hour="2-digit",t.minute="2-digit",e.indexOf("ss")>=0&&(t.second="2-digit"),e.indexOf("hh")>=0?t.hourCycle="h12":t.hourCycle="h23"),t)}(t),r=function(e,t,i,n){var r=t.indexOf("yy")>=0||t.indexOf("#d")>=0
if(!(r||t.indexOf("MM")>=0))return""
if(t.indexOf("#d")>=0)return Intl.DateTimeFormat(n,{year:"numeric",month:"numeric",day:"numeric"}).format(e)
var o=Intl.DateTimeFormat(n,i).formatToParts(e),a=o.map(({type:e,value:t})=>e),s=a.indexOf("day"),l=a.indexOf("month"),h=o[(l+s)/2].value,u=d(o[s].value),p=d(o[l].value),m=r?o[a.indexOf("year")].value:""
if(r){var f=t.indexOf("yyyy")>=0?4:2
m=c(m,"0",f)}return t.indexOf("dd")<t.indexOf("MM")?u+h+p+(r?h+m:""):p+h+u+(r?h+m:"")}(e,t,n,i),o=function(e,t,i,n){if(!(t.indexOf("hh")>=0||t.indexOf("HH")>=0||t.indexOf("#T")>=0))return""
var r=p(e.getMilliseconds(),t)
if(t.indexOf("#T")>=0){var o=Intl.DateTimeFormat(n,{hour:"numeric",minute:"numeric",second:"numeric"}).format(e)
if(""!==r){var a=new RegExp("[0-9](?!.*[0-9])","g")
a.test(o),o=[o.slice(0,a.lastIndex),"."+r,o.slice(a.lastIndex)].join("")}return o}var s=Intl.DateTimeFormat(n,i).formatToParts(e),l=s.map(({type:e,value:t})=>e.toLowerCase()),c=l.indexOf("hour"),h=l.indexOf("minute"),u=s[(c+h)/2].value,m=d(s[c].value),f=d(s[h].value),g=t.indexOf("ss")>=0,v=g?d(s[l.indexOf("second")].value):"",b="h12"===i.hourCycle?s[l.indexOf("dayperiod")].value:""
return m+u+f+(g?u+v:"")+(g&&r.length>0?"."+r:"")+(""!==b?" "+b:"")}(e,t,n,i)
return o+(""!==r&&""!==o?"<br>":"")+r}(l,n)}catch(e){s=u(l,h,a)}else s=u(l,h,a)
return s}(a.date||a.getDate(),n,t,n.options.timeEpoch)}}
t.parseTickFormatterType=function(e){var t,i,n,r={type:"default"},o=r
if(0===e.indexOf("LVSI")){t=5
var a=e.slice(t);-1===a.indexOf("G")&&-1===a.indexOf("N")?o=-1!==a.indexOf("#")&&a.lastIndexOf("#")===a.length-1?{type:"si",N:!1,G:!1,decimals:i=a.lastIndexOf("#")-a.indexOf("#")+1}:"0"===a?{type:"si",N:!1,G:!1,decimals:0}:{type:"si",N:!1,G:!1,decimals:null}:(i=parseInt(a.slice(1)),o={type:"si",N:0===a.indexOf("N"),G:n=0===a.indexOf("G"),decimals:i})}else if(0===e.indexOf("LVRelativeSeconds")){t=18
var s=e.slice(t);-1===s.indexOf("G")&&-1===s.indexOf("N")?o=-1!==s.lastIndexOf("#")&&s.lastIndexOf("#")===s.length-1?{type:"dec",N:!1,G:!1,decimals:i=s.lastIndexOf("#")-s.indexOf("#")+1}:"0"===s?{type:"dec",N:!1,G:!1,decimals:0}:r:(i=parseInt(s.slice(1)),o={type:"dec",N:0===s.indexOf("N"),G:n=0===s.indexOf("G"),decimals:n?Math.min(i,21):i})}else 0===e.indexOf("LVTime")?o={type:"absTime",timeFormat:e.substring(7)}:0===e.indexOf("LVRelativeTime")&&(o={type:"relTime",timeFormat:e.substring(15)})
return o},t.getTickFormatter=function(e){return"si"===e.type&&e.G?function(e){return function(i){var n,r,o=t.prototype.toSiNotation(i,e.decimals)
return isNaN(Number(o))?(n=Number(o.slice(0,o.length-1)),r=o.slice(o.length-1)):(n=Number(o),r=""),t.prototype.toDecPrecisionNotation(n,Math.min(e.decimals,21))+r}}(e):"si"===e.type&&e.N?i(e):"si"===e.type&&"number"==typeof e.decimals?i(e):"si"===e.type&&null===e.decimals?n:"dec"===e.type&&e.G?function(e){return function(i){return t.prototype.toDecPrecisionNotation(i,Math.min(e,21))}}(e.decimals):"dec"===e.type&&e.N?o(e.decimals):"dec"===e.type&&0===e.decimals?o(0,!0):"dec"===e.type&&e.decimals>=1?o(e.decimals):"absTime"===e.type?f(e.timeFormat):"relTime"===e.type?m(e.timeFormat):null},t.getTickGenerator=function(t){return 0===t.indexOf("LVRelativeTime")?function(t,i){return void 0===t.valueOfFirstData&&function(e,t){var i=e.getData(),n=i.findIndex(e=>e.length>0||e.datapoints.points.length>0)
if(i.length>0&&n>=0){var r,o,a,s=i[n].datapoints
for(a=0!==s.points.length?i[n].xaxis===t||i[n].yaxis===t?"x"===t.direction?s.points[0]:s.points[1]:t.max:t.min,r=1;r<i.length;r++)s=i[r].datapoints,i[r].xaxis!==t&&i[r].yaxis!==t||a>(o="x"===t.direction?s.points[0]:s.points[1])&&(a=o)
t.valueOfFirstData=1e3*a}}(i,t),e.plot.dateTickGenerator(t)}:0===t.indexOf("LVTime")?function(t){return e.plot.dateTickGenerator(t)}:null}}(),JQX("ni-annotation",class extends window.JQX.BaseElement{static get properties(){return Object.assign({},super.properties,{show:{value:!1,type:"boolean"},location:{value:"relative",type:"string"},x:{value:0,type:"number"},y:{value:0,type:"number"},label:{value:"",type:"string"},showArrow:{value:!1,type:"boolean"},arrowDirection:{value:"",type:"string"},arrowLength:{value:20,type:"number"},arrowWidth:{value:5,type:"number"},borderThickness:{value:1,type:"number"},padding:{value:5,type:"number"},xaxis:{value:1,type:"number"},yaxis:{value:1,type:"number"}})}created(){super.created(),this._parentGraph=void 0}attached(){super.attached(),this.parentElement.isReady?this.attachToGraph(this.parentElement):this._parentGraph=void 0}attachToGraph(e){this._parentGraph||(this._parentGraph=e,this._parentGraph.requestUpdate())}propertyChangedHandler(e,t,i){super.propertyChangedHandler(e,t,i),this._parentGraph&&this._parentGraph.requestUpdate()}detached(){super.detached(),this._parentGraph.requestUpdate(),this._parentGraph=void 0}template(){return""}addDefaultClass(){}getViewConfig(){var e=window.getComputedStyle(this)
return{show:this.show,location:this.location,x:this.x,y:this.y,label:this.label,arrowDirection:this.arrowDirection,showArrow:this.showArrow,borderColor:e.borderColor,borderThickness:this.borderThickness,backgroundColor:e.backgroundColor,font:e.font,color:e.color,textAlign:e.textAlign,arrowLength:this.arrowLength,xaxis:this.xaxis,yaxis:this.yaxis}}getEntryInfo(){return{name:"annotations",valueType:"array"}}getBounds(){const e=Array.from(this._parentGraph.children).filter(e=>e instanceof JQX.Annotation).indexOf(this)
return this._parentGraph.graph.getAnnotationBounds(e)}}),function(){var e=NationalInstruments.Globals.jQuery,t=NationalInstruments.HtmlVI.NISupport,i=NationalInstruments.HtmlVI.DataPipeline.GraphDataPipeline,n=!0,r=!1,o=0
const a=["rgba(123, 22, 26, 1)","rgba(0, 142, 228, 1)","rgba(226, 182, 131, 1)","rgba(183, 172, 31, 1)","rgba(174, 220, 239, 1)","rgba(160, 139, 176, 1)","rgba(127, 127, 127, 1)","rgba(60, 7, 38, 1)"],s=Promise.resolve(!0)
Object.assign(window.NationalInstruments.HtmlVI.Elements,{CartesianGraphBase:class extends window.JQX.BaseElement{getSettings(){return this.getSettingsWorkaround()}getSettingsWorkaround(){var e=!this.disabled&&!this.disableZoom,t=!this.disabled&&!this.disablePan,i=!this.disabled&&!this.disableRecenter
return{series:{lines:{show:!0,lineWidth:1},shadowSize:0,points:{lineWidth:1},stack:this.stacked,highlights:{show:!0,highlightColor:this.highlightColor,highlightLines:this.highlightLines,highlightPoints:this.highlightPoints,highlightBars:this.highlightBars,highlightLineWidth:this.highlightLineWidth,selectedIndexes:[],selectedRange:[]}},axisLabels:{show:!0},xaxes:[{}],yaxes:[{}],zoom:{interactive:e,active:e,enableTouch:e,trigger:null},pan:{interactive:t,active:t,enableTouch:t,mode:this.panMode,touchMode:this.touchPanMode},recenter:{interactive:i,enableTouch:i},propagateSupportedGesture:this.propagateSupportedGesture,selection:{mode:null},grid:{},colors:a}}static get defaultPlotColors(){return a}configureGraph(){var e,t=this.getSettings()
for(""!==this.plotAreaMargin&&(t.grid.margin=JSON.parse(this.plotAreaMargin)),""!==this.highlightedIndexes&&t.series.highlights&&(t.series.highlights.selectedIndexes=JSON.parse(this.highlightedIndexes)),""!==this.highlightedRange&&t.series.highlights&&(t.series.highlights.selectedRange=JSON.parse(this.highlightedRange)),t.xaxes=[],t.yaxes=[],e=0;e<this.axes.length;e++){var i=this.axes[e].getViewConfig()
i&&(!i.position||"left"!==i.position&&"right"!==i.position||t.yaxes.push(i),!i.position||"top"!==i.position&&"bottom"!==i.position||t.xaxes.push(i))}return this.graphTools&&(t.zoom.interactive=t.zoom.interactive&&this.graphTools.allowsScrollWheelZoom(),t.pan.interactive=t.pan.interactive&&this.graphTools.allowsPan(),t.selection.mode=this.disabled||"zoom"!==this.graphTools.mode?null:"smart"),Array.from(this.children).filter(e=>"function"==typeof e.getEntryInfo).forEach(e=>{const i=e.getEntryInfo()
"array"===i.valueType?(t[i.name]||(t[i.name]=[]),t[i.name].push(e.getViewConfig())):t[i.name]=e.getViewConfig()}),t}get updateCompleted(){return this._updatePromise}requestUpdate(){this._hasRequestedUpdate||this._detaching||this._enqueueUpdateAsync()}async _enqueueUpdateAsync(){this._hasRequestedUpdate=!0
const e=this._updatePromise
let t=()=>{},i=()=>{}
this._updatePromise=new Promise((e,n)=>{t=e,i=n})
try{await e}catch(e){}if(!this._isAttached&&!this._detaching){const e=new Promise(e=>{this._attachedResolve=e})
await e}try{this._performUpdate()}catch(e){i(e)}t()}_performUpdate(){try{const i=this.graphdiv
if(void 0===i)return
const n=this.createData(this.plots,this.convertToFlotFormat(this.parsedValue)),r=this.configureGraph()
this.setClick(n,r),this.setHover(n,r),this.setGridStyle(this.gridEl,r),this.graph=e.plot(i,n,r),this._isInitialized||(this.attachLegends(),this.graph.getPlaceholder().bind("re-center",this.onRecenterPlot),this.dispatchEvent(new CustomEvent("ni-graph-created")),this._isInitialized=!0),this.dispatchEvent(new CustomEvent("ni-graph-updated"))}catch(e){throw t.log(e.message),new Error("Failed to create a flot chart")}finally{this._hasRequestedUpdate=!1}}updateGraphConfig(){console.warn("A synchronous update was requested. Consider using requestUpdate instead"),this._performUpdate()}onRecenterPlot(e){this.parentElement.axes.forEach(function(t){e.detail.axisTouched&&t.getFlotAxis()!==e.detail.axisTouched||t.resetOffset&&t.resetOffset()}),this.parentElement.updateCartesianAxesFromFlot()}updateCartesianAxesFromFlot(){this._isInitialized?this._syncAxesWithFlot():this.addEventListener("ni-graph-created",()=>{this._syncAxesWithFlot()},{once:!0})}_syncAxesWithFlot(){void 0!==this.graphdiv&&this.axes.forEach(function(e){e instanceof JQX.CartesianAxis&&e.syncWithFlot()})}throttlePlotUpdates(e){(n=!e)&&r&&(this.requestUpdate(),r=!1)}updateGraphConfigWhenPlotsUpdatesAreEnabled(){n?(this.requestUpdate(),r=!1):r=!0}convertToFlotFormat(e){return i.prototype.toFlot(this,e,this.valueType)}updatePlotName(e,t,i){i&&!this.metadataOverridesPlotNames||!t||this.plots[e]&&(this.plots[e].label=t)}createData(e,t){var i=[]
return t.forEach(function(t,n){var r=e[n]
Array.isArray(t)&&(t={data:t}),r?(i[n]=r.getViewConfig(),i[n].data=r.show?t.data:[],i[n].flatdata=t.flatdata,i[n].start=t.start,i[n].step=t.step,i[n].decimate=!this.stacked&&t.decimate,i[n].decimatePoints=t.decimatePoints):i[n]=t},this),i}plotTypes(){return["ni-cartesian-plot"]}nextPlotName(){var e,i,n=t.i18n("msg_defaultplotname"),r=-1
for(var o in this.childNodes)this.plotTypes().includes(this.childNodes[o].localName)&&(i=this.childNodes[o],(e=parseInt(i.label.substring(n.length)))>r?r=e:r<0&&(r=0))
return-1===r?n:n+" "+(r+1)}setData(e){var t=this.graph
if(void 0!==t){var i=this.convertToFlotFormat(e)
this.parsedValue=e,(t=this.graph).setData(this.createData(this.plots,i)),t.setupGrid(!0),t.draw(),i.length!==o&&(o=i.length,this.notifyPlotLegend("ni-plot-count-changed",{element:this,plotCount:i.length}))}else this.cachedData=e}static get properties(){return Object.assign({},super.properties,{value:{value:[],type:"object"},graphRef:{value:"",type:"string"},plotAreaMargin:{value:"",type:"string"},stacked:{value:!1,type:"boolean"},disablePan:{value:!1,type:"boolean"},disableZoom:{value:!1,type:"boolean"},disableRecenter:{value:!1,type:"boolean"},panMode:{value:"smart",type:"string"},touchPanMode:{value:"manual",type:"string"},propagateSupportedGesture:{value:!1,type:"boolean"},metadataOverridesPlotNames:{value:!1,type:"boolean"},highlightPoints:{value:!1,type:"boolean"},highlightLines:{value:!1,type:"boolean"},highlightBars:{value:!1,type:"boolean"},highlightColor:{value:"#000000",type:"string"},highlightLineWidth:{value:2,type:"number"},highlightedIndexes:{value:"[[],[],[]]",type:"string"},highlightedRange:{value:"[[],[],[]]",type:"string"}})}get cursors(){return Array.from(this.children).filter(e=>e instanceof NationalInstruments.HtmlVI.Elements.CursorBase)}get annotations(){return Array.from(this.children).filter(e=>e instanceof window.JQX.Annotation)}created(){super.created(),this.plots=[],this.axes=[],this.cachedData=null,this.plotLegend=null,this.cursorLegend=null,this.scaleLegend=null,this.graphTools=null,this.graphdiv=void 0,this.tooltip=void 0,this.tooltipHolder=void 0,this.parsedValue=null,this.addGraphItemListeners(),this._initializeForAsynchronousUpdate()}_initializeForAsynchronousUpdate(){this._updatePromise=s,this._hasRequestedUpdate=!1,this._isInitialized=!1,this._isAttached=!1,this._detaching=!1,this._attachedResolve=void 0,this.requestUpdate()}async onResize(e){if(this.isVisibleElement(this)){void 0===this.graph&&(this._prepareForGraph(),this.requestUpdate(),await this.updateCompleted)
var t=this.graph
t&&(t.clearTextCache(),t.resize(),this.cachedData?(this.setData(this.cachedData),this.cachedData=null):(t.setupGrid(!0),t.draw()))}else this.detachChildElement()}static get listeners(){return{resize:"onResize",resizeEventHack:"onResize"}}isVisibleElement(e){for(;null!==e;){if("none"===getComputedStyle(e).display)return!1
e=e.parentElement}return!0}_prepareForGraph(){if(this._isAttached=!0,this._attachedResolve&&(this._attachedResolve(),this._attachedResolve=void 0),!this.isVisibleElement(this))return
const i=document.createElement("div")
i.style.width="100%",i.style.height="100%",i.className="webchart-drawing-layer",this.children.length>0?this.insertBefore(i,this.children[0]):this.appendChild(i)
const n=document.createElement("div")
n.style.width="0px",n.style.height="0px",n.style.position="relative",n.className="ni-graph-tooltip-base"
const r=document.createElement("div")
r.id="tooltip"+t.uniqueId(),r.className="ni-graph-tooltip",n.appendChild(r),this.appendChild(n),this.tooltip=r,this.tooltipHolder=n
const o=document.createElement("ni-grid-div")
o.style.visibility="hidden",this.appendChild(o),this.gridEl=o,this.graphdiv=i,e(i).bind("plothover",this.hoverEventHandler.bind(this)),e(i).bind("plothovercleanup",function(){e(r).hide()})}attached(){super.attached(),this.parsedValue=this.value,this._detaching=!1,this.attachChildren(),this._prepareForGraph()}detached(){super.detached(),this._detaching=!0,this.detachChildElement()}detachChildElement(){void 0!==this.graph&&(this.graph.destroy(),this.graph.getPlaceholder().off()),this.graph=void 0,e(this._graphdiv).off(),void 0!==this.graphdiv&&this.removeChild(this.graphdiv),this.graphdiv=void 0,void 0!==this.tooltipHolder&&this.removeChild(this.tooltipHolder),this.tooltip=void 0,this.tooltipHolder=void 0,void 0!==this.gridEl&&this.removeChild(this.gridEl),this.gridEl=void 0,this._isInitialized=!1,this._isAttached=!1}pushNewPlot(e,t,i,n){for(var r=e.childNodes,o=[],a=0;a<r.length;a++)if(n.includes(r[a].localName)){var s=r[a];(t.find(function(e){return e===s})||s===i)&&o.push(s)}return o}addGraphItemListeners(e){var t=this
t.addEventListener("ni-cartesian-plot-attached",function(e){e.target===t&&(t.plots=t.pushNewPlot(t,t.plots,e.detail.element,this.plotTypes()),t.updateGraphConfigWhenPlotsUpdatesAreEnabled(),t.notifyPlotLegend("ni-cartesian-plot-attached",e.detail.element))}),t.addEventListener("ni-cartesian-plot-detached",function(e){var i
if(t.notifyPlotLegend("ni-cartesian-plot-detached",e.detail.element),e.target===t){for(i=0;i<t.plots.length;i++)if(t.plots[i]===e.detail.element){t.plots.splice(i,1)
break}t.updateGraphConfigWhenPlotsUpdatesAreEnabled()}}),t.addEventListener("ni-cartesian-axis-attached",function(e){e.target===t&&(t.axes.push(e.detail.element),t.requestUpdate(),t.notifyScaleLegend("ni-cartesian-axis-attached",e.detail.element),t.notifyGraphTools("ni-cartesian-axis-attached",e.detail.element))}),t.addEventListener("ni-cartesian-axis-detached",function(e){var i
if(e.target===t){for(i=0;i<t.axes.length;i++)if(t.axes[i]===e.detail.element){t.axes.splice(i,1)
break}t.requestUpdate(),t.notifyScaleLegend("ni-cartesian-axis-detached",e.detail.element)}}),t.addEventListener("ni-cursor-attached",function(e){e.target===t&&e.detail.element instanceof window.JQX.Cursor&&t.notifyCursorLegend("ni-cursor-attached",e.detail.element)}),t.addEventListener("ni-cursor-detached",function(e){e.target===t&&e.detail.element instanceof window.JQX.Cursor&&t.notifyCursorLegend("ni-cursor-detached",e.detail.element)}),t.addEventListener("ni-axis-changed",function(e){t.requestUpdate(),t.notifyScaleLegend("ni-axis-changed",e.detail.element),t.notifyGraphTools("ni-axis-changed",e.detail.element)}),t.addEventListener("ni-axis-reset",function(e){t.requestUpdate(),t.notifyScaleLegend("ni-axis-changed",e.detail.element),t.notifyGraphTools("ni-axis-reset")}),t.addEventListener("ni-cursor-changed",function(e){e.detail.element instanceof window.JQX.Cursor&&t.notifyCursorLegend("ni-cursor-changed",e.detail.element)}),t.addEventListener("ni-cartesian-plot-changed",function(e){t.updateGraphConfigWhenPlotsUpdatesAreEnabled(),t.notifyPlotLegend("ni-cartesian-plot-changed",e.detail.element)}),t.addEventListener("ni-cartesian-plot-renderer-changed",function(e){t.updateGraphConfigWhenPlotsUpdatesAreEnabled(),t.notifyPlotLegend("ni-cartesian-plot-renderer-changed",e.detail.originalSource)}),t.addEventListener("ni-cartesian-plot-renderer-attached",function(e){t.updateGraphConfigWhenPlotsUpdatesAreEnabled(),t.notifyPlotLegend("ni-cartesian-plot-renderer-attached",e.detail.originalSource)}),t.addEventListener("ni-cartesian-plot-renderer-detached",function(e){t.updateGraphConfigWhenPlotsUpdatesAreEnabled(),t.notifyPlotLegend("ni-cartesian-plot-renderer-detached",e.detail.originalSource)}),t.addEventListener("ni-graph-tools-changed",function(){t.requestUpdate()})}registerPlotLegend(e){this.plotLegend=e,this.plotLegend.disabled=this.disabled}notifyPlotLegend(e,t){var i
null!==this.plotLegend&&(i={bubbles:!1,cancelable:!0,detail:{element:this,originalSource:t}},this.plotLegend.dispatchEvent(new CustomEvent(e,i)))}registerCursorLegend(e){this.cursorLegend=e,Array.from(this.children).filter(e=>e instanceof JQX.Cursor).forEach(e=>{this.notifyCursorLegend("ni-cursor-attached",e)}),this.cursorLegend.disabled=this.disabled}notifyCursorLegend(e,t){if(null!==this.cursorLegend){const i={bubbles:!1,cancelable:!0,detail:{element:this,originalSource:t}}
this.cursorLegend.dispatchEvent(new CustomEvent(e,i))}}registerScaleLegend(e){var t
if(this.scaleLegend=e,this.axes.length>0)for(t=0;t<this.axes.length;t++)this.notifyScaleLegend("ni-cartesian-axis-attached",this.axes[t])
this.scaleLegend.disabled=this.disabled}notifyScaleLegend(e,t){var i
null!==this.scaleLegend&&(i={bubbles:!1,cancelable:!0,detail:{element:this,originalSource:t}},this.scaleLegend.dispatchEvent(new CustomEvent(e,i)))}registerGraphTools(t){var i,n=this
if(this.graphTools=t,this.requestUpdate(),e(this.graphdiv).on("plotselected",function(e,t){n.notifyGraphTools("ni-cartesian-graph-box-selected",{ranges:t})}),e(this.graphdiv).on("plotpan",function(e,t){n.notifyGraphTools("ni-cartesian-graph-interaction",{ranges:t})}),e(this.graphdiv).on("plotzoom",function(e,t){n.notifyGraphTools("ni-cartesian-graph-interaction",{ranges:t})}),this.graphTools.disabled=this.disabled,this.axes.length>0)for(i=0;i<this.axes.length;i++)this.notifyGraphTools("ni-cartesian-axis-attached",this.axes[i])}notifyGraphTools(e,t){var i
this.graphTools&&(i={bubbles:!1,cancelable:!0,detail:{element:this,originalSource:t}},this.graphTools.dispatchEvent(new CustomEvent(e,i)))}attachChildren(){for(var e=this.children,t={"NI-COLOR-SCALE":window.JQX.ColorScale,"NI-CARTESIAN-PLOT":window.JQX.CartesianPlot,"NI-CARTESIAN-AXIS":window.JQX.CartesianAxis},i=0;i<e.length;i++){var n=e[i]
t[n.tagName]&&n instanceof t[n.tagName]&&n.isReady&&n.attachToGraph(this)}}attachLegends(){for(var e=this,t=["ni-plot-legend".toUpperCase(),"ni-scale-legend".toUpperCase(),"ni-cursor-legend".toUpperCase(),"ni-graph-tools".toUpperCase()],i=this.parentElement.children,n=[],r=0;r<i.length;r++){var o=i[r];-1===t.indexOf(o.tagName)||o.graphRef!==this.graphRef&&o.graphRef!==this.niControlId||n.push(o)}n.forEach(function(t){t.isReady&&t.attachToGraph&&t.attachToGraph(e)})}propertyChangedHandler(e,t,i){switch(super.propertyChangedHandler(e,t,i),e){case"value":this.setData(this.value)
break
case"disabled":this.requestUpdate(),null!==this.cursorLegend&&(this.cursorLegend.disabled=this.disabled),null!==this.graphTools&&(this.graphTools.disabled=this.disabled),null!==this.plotLegend&&(this.plotLegend.disabled=this.disabled),null!==this.scaleLegend&&(this.scaleLegend.disabled=this.disabled)
break
default:this.requestUpdate()}}format(){var e=arguments
return e[0].replace(/{(\d+)}/g,function(t,i){var n=parseInt(i)+1,r=e[n]
return void 0!==r?r.toFixed(2).length<r.toExponential(2).length?r.toFixed(2):r.toExponential(2):t})}setClick(e,t){for(var i=0;i<e.length;i++)if(e[i].clickable){t.grid=t.grid||{},t.grid.clickable=!0
break}}setHover(t,i){var n,r=!1
for(n=0;n<t.length;n++)if(t[n].hoverable){r=!0
break}!0===r?(void 0===i.grid&&(i.grid={}),i.grid.hoverable=r):null!==this.tooltip&&e(this.tooltip).hide()}hoverEventHandler(e,t,i){if(this.dispatchPlotHoverEvent(e,t,i)&&i&&this.plots[i.seriesIndex]){var n=i.datapoint[0],r=i.datapoint[1],o=this.plots[i.seriesIndex].hoverFormat||"{0}, {1}"
this.updateHoverTooltip(o,i,[n,r])}else this.hideHoverTooltip()}dispatchPlotHoverEvent(e,t,i){let n={bubbles:!1,cancelable:!0,detail:{orignalEvent:e,pos:t,hoverData:i,plot:i?this.plots[i.seriesIndex]:null}}
return this.dispatchEvent(new CustomEvent("plot-hover",n))}hideHoverTooltip(){e(this.tooltip).hide()}updateHoverTooltip(i,n,r){let o
if("string"==typeof i)o=this.format(i,...r)
else if("function"==typeof i)try{o=i(...r,n)}catch(e){return void t.error(e)}var a=n.pageX>=this.clientWidth/2+e(this).offset().left,s=n.pageY>=this.clientHeight/2+e(this).offset().top
e(this.tooltip).html(o).css({top:n.pageY-e(this.tooltipHolder).offset().top+5,left:n.pageX-e(this.tooltipHolder).offset().left+5}).toggleClass("on-left",a).toggleClass("on-top",s).show()}setGridStyle(e,t){var i=t.grid,n=window.getComputedStyle(e),r=n.borderStyle,o=n.borderBottomWidth.replace("px",""),a=n.borderTopWidth.replace("px",""),s=n.borderLeftWidth.replace("px",""),l=n.borderRightWidth.replace("px",""),d={top:Number(a),bottom:Number(o),left:Number(s),right:Number(l)},c=n.borderColor,h=n.backgroundColor
i.borderWidth="solid"===r?d:0,i.borderColor=c,i.color=n.color,i.backgroundColor=h}getYAxisIndexByNIControlID(e){for(var t=0,i=0;i<this.axes.length;i++){var n=this.axes[i]
if(("left"===n.axisPosition||"right"===n.axisPosition)&&(t++,n.axisRef===e||n.niControlId===e))return t}return 1}getXAxisIndexByNIControlID(e){for(var t=0,i=0;i<this.axes.length;i++){var n=this.axes[i]
if(("top"===n.axisPosition||"bottom"===n.axisPosition)&&(t++,n.axisRef===e||n.niControlId===e))return t}return 1}getDataRanges(e,t){var i=this.graph,n=e.getFlotAxis(),r=i.getData().filter(function(e){return e.xaxis===n||e.yaxis===n}).map(function(e){return i.computeRangeForDataSeries(e,!0)}),o={xmin:Number.POSITIVE_INFINITY,ymin:Number.POSITIVE_INFINITY,xmax:Number.NEGATIVE_INFINITY,ymax:Number.NEGATIVE_INFINITY}
return r.reduce(function(e,t){return{xmin:Math.min(e.xmin,t.xmin),ymin:Math.min(e.ymin,t.ymin),xmax:Math.max(e.xmax,t.xmax),ymax:Math.max(e.ymax,t.ymax)}},o)}takeGraphSnapshot(e,t){return this.graph.composeImages(e,t)}template(){return""}addDefaultClass(){}}})}(),JQX("ni-cartesian-graph",class extends NationalInstruments.HtmlVI.Elements.CartesianGraphBase{}),function(){var e=NationalInstruments.HtmlVI.DataPipeline.ChartDataPipeline,t=function(e){var t=e.historyBuffer
if(0!==t.toArray().length)for(var i=e.plots.length;i<t.width;i++){var r=n(e,i)
e.addPlot(r)}},i=function(e){var t=e.historyBuffer
if(t.hb instanceof HistoryBufferWaveform)for(var i=0;i<t.width;i++){var r=n(e,i)
e.updatePlotName(i,r,!0)}},n=function(e,t){if(e.historyBuffer.hb instanceof HistoryBufferWaveform){var i=e.historyBuffer.hb.buffers[t]
if(0!==i.size){var n=i.data[i.end]
if("string"==typeof n.channelName&&0!==n.channelName.length)return n.channelName}}}
JQX("ni-chart",class extends NationalInstruments.HtmlVI.Elements.CartesianGraphBase{constructor(){super(),this._historyBuffer=void 0}set historyBuffer(e){const n="generate-plots-for-data"
this._historyBuffer=e
var r=this
e.deregisterOnChange(n),e.registerOnChange(n,function(){t(r),i(r)})}get historyBuffer(){return this._historyBuffer}static get properties(){return Object.assign({},super.properties,{bufferSize:{value:1024,type:"number"}})}ready(){this.historyBuffer||(this.historyBuffer=new HistoryBuffer(this.bufferSize,1)),this.value&&e.prototype.loadValueIntoHistoryBuffer(this.value,this.historyBuffer),super.ready()}createData(e,t){for(var i=[],n=Math.max(t.length,e.length),r=0;r<n;r++){var o=t[r]||[],a=e[r]
Array.isArray(o)&&(o={data:o}),a?(i[r]=a.getViewConfig(),i[r].data=a.show?o.data:[]):i[r]=o}return i}convertToFlotFormat(t){return e.prototype.toFlot(this,t)}getSettings(){return this.getSettingsWorkaround()}getSettingsWorkaround(){var e=super.getSettingsWorkaround()
return e.series.historyBuffer=this.historyBuffer,e}getDataRanges(e,t){for(var i=this.graph,n=e.getFlotAxis(),r=i.getData(),o=this.getHistoryBuffer(),a=r.map((e,t)=>({series:e,index:t})).filter(e=>(e.series.xaxis===n||e.series.yaxis===n)&&e.index<o.hb.buffers.length),s=[],l=0;l<a.length;l++){var d=t?a[l].series.xaxis.min:void 0,c=t?a[l].series.xaxis.max:void 0,h=this.historyBuffer.rangeX(a[l].index),u=this.historyBuffer.rangeY(d,c,a[l].index)
s.push({xmin:h.xmin,xmax:h.xmax,ymin:u.ymin,ymax:u.ymax})}var p={xmin:Number.POSITIVE_INFINITY,ymin:Number.POSITIVE_INFINITY,xmax:Number.NEGATIVE_INFINITY,ymax:Number.NEGATIVE_INFINITY}
return s.reduce(function(e,t){return{xmin:Math.min(e.xmin,t.xmin),ymin:Math.min(e.ymin,t.ymin),xmax:Math.max(e.xmax,t.xmax),ymax:Math.max(e.ymax,t.ymax)}},p)}})}(),function(){var e=NationalInstruments.Globals.jQuery
class t extends NationalInstruments.HtmlVI.Elements.CartesianGraphBase{static get properties(){return Object.assign({},super.properties,{enableHover:{value:!1,type:"boolean"},enableClick:{value:!1,type:"boolean"},hoverFormat:{value:"",type:"any",reflectToAttribute:!1}})}static get ColorScaleType(){return e.plot.IntensityGraph.ColorScaleType}dataRange(){var e=this.parsedData
if(null===t||0===e.length)return{dataMin:0,dataMax:100}
for(var i=Math.min(),n=Math.max(),r=0;r<e.length;r++)for(var o=e[r],a=0;a<o.length;a++)o[a]===-1/0||o[a]===1/0||isNaN(o[a])||(o[a]>n&&(n=o[a]),o[a]<i&&(i=o[a]))
return i===Math.min()&&(i=0),n===Math.max()&&(n=100),{dataMin:i,dataMax:n}}created(){super.created(),this.autoScaleColor=!1,this.parsedData=null}getSettings(){return{series:{intensitygraph:{show:!0}},axisLabels:{show:!0},xaxes:[{}],yaxes:[{}],zoom:{interactive:!this.disabled,trigger:null},pan:{interactive:!this.disabled,enableTouch:!this.disabled},selection:{mode:null},grid:{clickable:this.enableClick,hoverable:this.enableHover,autoHighlight:!1}}}configureGraph(){var e,t,i,n,r=[],o=super.configureGraph()
""!==this.plotAreaMargin&&(o.grid.margin=this.plotAreaMargin)
var a=this.value
for(o.series.intensitygraph.data=a.length>0?a:this.defaultData(),e=0;e<this.axes.length;e++){var s=this.axes[e].getViewConfig()
if(s&&s.type===JQX.IntensityGraph.ColorScaleType){var l=JSON.parse(s.markers)
for(t=0;t<l.length;t++)r[t]={value:l[t].value,color:l[t].color}
if("none"===s.autoScale)i=l[0].value,n=l[l.length-1].value
else{this.autoScaleColor=!0
var d=this.dataRange()
n=d.dataMax,i=d.dataMin}for(o.series.intensitygraph.min=i,o.series.intensitygraph.max=n,o.series.intensitygraph.gradient=r,o.series.intensitygraph.lowColor=s.lowColor,o.series.intensitygraph.highColor=s.highColor,t=0;t<o.yaxes.length;t++)o.yaxes[t].type===JQX.IntensityGraph.ColorScaleType&&(o.yaxes[t].min=i,o.yaxes[t].max=n)}}return o}attached(){super.attached(),this.updateCartesianAxesFromFlot()}updateColorScaleLimits(){var e=this.graph
if(e){var t=e.getYAxes().filter(function(e){return e.options.type===JQX.IntensityGraph.ColorScaleType})[0]
if(t&&"none"!==t.options.autoScale){var i=this.dataRange()
!0===t.options.growOnly?(t.options.min=Math.min(t.min,i.dataMin),t.options.max=Math.max(t.max,i.dataMax)):(t.options.min=i.dataMin,t.options.max=i.dataMax)}}}defaultData(){return[[]]}createData(e,t){var i=t.length>0?t:this.defaultData(),n=this.axes.filter(e=>"left"===e.axisPosition||"right"===e.axisPosition).findIndex(e=>"NI-CARTESIAN-AXIS"===e.tagName),r={data:i,yaxis:-1===n?void 0:n+1}
return this.parsedData=i,this.updateColorScaleLimits(),[r]}convertToFlotFormat(e){return e}hoverEventHandler(e,t,i){if(!this.dispatchPlotHoverEvent(e,t,i)||!i)return void this.hideHoverTooltip()
const n=this.hoverFormat||"{0}, {1}, {2}"
this.updateHoverTooltip(n,i,i.datapoint)}}JQX("ni-intensity-graph",t)}(),JQX("ni-digital-graph",class extends NationalInstruments.HtmlVI.Elements.CartesianGraphBase{static get properties(){return Object.assign({},super.properties,{lineWidth:{value:1,type:"number"},scrollbars:{value:"none",type:"string",allowedValues:["none","horizontal","vertical","all"]}})}getSettings(){let e=!this.disabled&&!this.disableZoom,t=!this.disabled&&!this.disablePan,i=!this.disabled&&!this.disableRecenter,n={buses:this._buses.map(e=>e.getViewConfig()),series:{digitalWaveform:{show:!0,lineWidth:this.lineWidth,signal:{show:!1}}},xaxis:{showTicks:!1,showMinorTicks:!1,showTickLabels:!1},yaxis:{show:!1},zoom:{interactive:e,active:e,enableTouch:e,trigger:null},pan:{interactive:t,active:t,enableTouch:t,mode:this.panMode,touchMode:this.touchPanMode},recenter:{interactive:i,enableTouch:i},selection:{mode:null},grid:{}}
if("none"!==this.scrollbars)switch(n.scrollbars=[],this.scrollbars){case"horizontal":n.scrollbars.push({direction:"horizontal"})
break
case"vertical":n.scrollbars.push({direction:"vertical"})
break
case"all":n.scrollbars.push({direction:"horizontal"}),n.scrollbars.push({direction:"vertical"})}return n}created(){super.created(),this._signals=[],this._buses=[]}attached(){super.attached(),this.addDigitalGraphEventListeners(),this.attachDigitalChildren()}attachDigitalChildren(){for(let e=0;e<this.children.length;e++){let t=this.children[e];(t instanceof JQX.DigitalSignal||t instanceof JQX.DigitalBus||t instanceof JQX.DigitalAxis)&&t.isReady&&t.attachToGraph(this)}}addDigitalGraphEventListeners(){let e=this
e.addEventListener("ni-digital-signal-attached",function(t){t.target===e&&(e.addSignal(t.detail.element),e.updateGraphConfigWhenPlotsUpdatesAreEnabled())}),e.addEventListener("ni-digital-signal-detached",function(t){t.target===e&&(e.removeSignal(t.detail.element),e.updateGraphConfigWhenPlotsUpdatesAreEnabled())}),e.addEventListener("ni-digital-signal-changed",function(t){t.target===e&&e.updateGraphConfigWhenPlotsUpdatesAreEnabled()}),e.addEventListener("ni-digital-bus-attached",function(t){t.target===e&&(e.addBus(t.detail.element),e.updateGraphConfigWhenPlotsUpdatesAreEnabled())}),e.addEventListener("ni-digital-bus-detached",function(t){t.target===e&&(e.removeBus(t.detail.element),e.updateGraphConfigWhenPlotsUpdatesAreEnabled())}),e.addEventListener("ni-digital-bus-changed",function(t){t.target===e&&e.updateGraphConfigWhenPlotsUpdatesAreEnabled()})}addSignal(e){let t=this.getElementsByTagName("ni-digital-signal"),i=[]
for(let n=0;n<t.length;n++){let r=t[n];(this._signals.find(function(e){return e===r})||r===e)&&i.push(r)}this._signals=i}removeSignal(e){for(let t=0;t<this._signals.length;t++)if(this._signals[t]===e){this._signals.splice(t,1)
break}}addBus(e){let t=this.getElementsByTagName("ni-digital-bus"),i=[]
for(let n=0;n<t.length;n++){let r=t[n];(this._buses.find(function(e){return e===r})||r===e)&&i.push(r)}this._buses=i}removeBus(e){for(let t=0;t<this._buses.length;t++)if(this._buses[t]===e){this._buses.splice(t,1)
break}}getBusIndex(e){return this._buses.indexOf(e)}createData(e,t){let i=[]
return this._signals.forEach((e,n)=>{let r=t[n]
r&&(Array.isArray(r)&&(r={data:r}),i[n]=e.getViewConfig(),i[n].data=r.data,i[n].flatdata=r.flatdata,i[n].start=r.start,i[n].step=r.step,i[n].decimate=!1)},this),i}}),JQX("ni-digital-axis",class extends window.JQX.BaseElement{static get properties(){return Object.assign({},super.properties,{show:{value:!1,type:"boolean"},axisPosition:{value:"left",type:"string",allowedValues:["left","right"]},width:{value:"automatic",type:"any",validator:"validateWidth"},signalSymbol:{value:null,type:"string?"},busSymbolExpanded:{value:null,type:"string?"},busSymbolCollapsed:{value:null,type:"string?"}})}validateWidth(e,t){return"automatic"===t||"number"==typeof t&&t>=0?t:e}created(){super.created(),this._parentGraph=void 0}attached(){super.attached(),this.parentElement instanceof JQX.DigitalGraph&&this.parentElement.isReady&&this.attachToGraph(this.parentElement)}attachToGraph(e){this._parentGraph||(this._parentGraph=e,this.sendEventToParentGraph("ni-cartesian-axis-attached"))}detached(){super.detached(),this.sendEventToParentGraph("ni-cartesian-axis-detached"),this._parentGraph=void 0}propertyChangedHandler(e,t,i){super.propertyChangedHandler(e,t,i),this.sendEventToParentGraph("ni-axis-changed")}sendEventToParentGraph(e,t){if(this._parentGraph){let i={bubbles:!1,cancelable:!0,detail:{element:t||this}}
this._parentGraph.dispatchEvent(new CustomEvent(e,i))}}getViewConfig(){return{type:"digital",show:this.show,position:this.axisPosition,width:this.width,signalSymbol:this.signalSymbol,busSymbolExpanded:this.busSymbolExpanded,busSymbolCollapsed:this.busSymbolCollapsed}}template(){return""}addDefaultClass(){}}),JQX("ni-digital-signal",class extends window.JQX.BaseElement{static get properties(){return Object.assign({},super.properties,{show:{value:!1,type:"boolean"},label:{value:"",type:"string"}})}created(){super.created(),this._parentGraph=void 0,this._parentBus=void 0}attached(){super.attached(),this.parentElement instanceof JQX.DigitalGraph&&this.parentElement.isReady?this.attachToGraph(this.parentElement):this.parentElement instanceof JQX.DigitalBus&&this.parentElement.isReady&&this.attachToBus(this.parentElement)}attachToGraph(e){this._parentGraph||(this._parentGraph=e),this.sendEventToParent("ni-digital-signal-attached")}attachToBus(e){this._parentBus||(this._parentBus=e),this.sendEventToParent("ni-digital-signal-attached")}detached(){super.detached(),this.sendEventToParent("ni-digital-signal-detached"),this._parentGraph=void 0,this._parentBus=void 0}propertyChangedHandler(e,t,i){super.propertyChangedHandler(e,t,i),this.sendEventToParent("ni-digital-signal-changed")}sendEventToParent(e){let t=this._parentGraph||this._parentBus
if(t){let i={bubbles:!1,cancelable:!0,detail:{element:this}}
t.dispatchEvent(new CustomEvent(e,i))}}getAssignedBusIndex(){return this._parentBus?this._parentBus.getIndex():null}getViewConfig(){return{digitalWaveform:{signal:{show:this.show,bus:this.getAssignedBusIndex()}},label:this.label}}template(){return""}addDefaultClass(){}}),JQX("ni-digital-bus",class extends window.JQX.BaseElement{static get properties(){return Object.assign({},super.properties,{label:{value:"",type:"string"},collapse:{value:!1,type:"boolean"},bitNumbering:{value:"lsb",type:"string",allowedValues:["lsb","msb"]},showLabels:{value:!1,type:"boolean"},labelPosition:{value:"center",type:"string",allowedValues:["center","left","right"]},labelFormat:{value:"binary",type:"string",allowedValues:["binary","decimal","hex"]}})}created(){super.created(),this._parentGraph=void 0}attached(){super.attached(),this.parentElement instanceof JQX.DigitalGraph&&this.parentElement.isReady&&this.attachToGraph(this.parentElement)}attachToGraph(e){this._parentGraph||(this._parentGraph=e,this.addDigitalBusEventListeners()),this.attachSignals(),this.sendEventToParentGraph("ni-digital-bus-attached")}attachSignals(){for(let e=0;e<this.children.length;e++){let t=this.children[e]
t instanceof JQX.DigitalSignal&&t.isReady&&t.attachToBus(this)}}addDigitalBusEventListeners(){let e=this
e.addEventListener("ni-digital-signal-attached",function(t){t.target===e&&this.sendEventToParentGraph("ni-digital-signal-attached",t.detail.element)}),e.addEventListener("ni-digital-signal-detached",function(t){t.target===e&&this.sendEventToParentGraph("ni-digital-signal-detached",t.detail.element)}),e.addEventListener("ni-digital-signal-changed",function(t){t.target===e&&this.sendEventToParentGraph("ni-digital-signal-changed",t.detail.element)})}detached(){super.detached(),this.sendEventToParentGraph("ni-digital-bus-detached"),this._parentGraph=void 0}propertyChangedHandler(e,t,i){super.propertyChangedHandler(e,t,i),this.sendEventToParentGraph("ni-digital-bus-changed")}sendEventToParentGraph(e,t){if(this._parentGraph){let i={bubbles:!1,cancelable:!0,detail:{element:t||this}}
this._parentGraph.dispatchEvent(new CustomEvent(e,i))}}getIndex(){return this._parentGraph?this._parentGraph.getBusIndex(this):null}getViewConfig(){return{label:this.label,collapsed:this.collapse,bitNumbering:this.bitNumbering,showLabels:this.showLabels,labelPosition:this.labelPosition,labelFormatter:this.labelFormat}}template(){return""}addDefaultClass(){}}),JQX("ni-scatter-graph",class extends NationalInstruments.HtmlVI.Elements.CartesianGraphBase{static get properties(){return Object.assign({},super.properties,{lineWidth:{value:2,type:"number"},filled:{value:!1,type:"boolean"},drawLines:{value:!1,type:"boolean"},defaultColor:{value:"black",type:"string"},defaultShape:{value:"circle",type:"string"},defaultSize:{value:5,type:"number"},colors:{value:"",type:"string"},shapes:{value:"",type:"string"},sizes:{value:"",type:"string"}})}created(){super.created()}getSettings(){var e=!this.disabled&&!this.disableZoom,t=!this.disabled&&!this.disablePan,i=!this.disabled&&!this.disableRecenter
return{series:{scattergraph:{show:!0,lineWidth:this.lineWidth,filled:this.filled,drawLines:this.drawLines,defaultColor:this.defaultColor,defaultShape:this.defaultShape,defaultSize:this.defaultSize,colors:this.colors,shapes:this.shapes,sizes:this.sizes},highlights:{show:!0,highlightColor:this.highlightColor,highlightLines:this.highlightLines,highlightPoints:this.highlightPoints,highlightBars:this.highlightBars,lineWidth:this.highlightLineWidth,selectedIndexes:[[],[],[]],selectedRange:[[],[],[]]}},axisLabels:{show:!0},xaxes:[{}],yaxes:[{}],zoom:{interactive:e,active:e,enableTouch:e,trigger:null},pan:{interactive:t,active:t,enableTouch:t,mode:this.panMode,touchMode:this.touchPanMode},recenter:{interactive:i,enableTouch:i},selection:{mode:null},grid:{}}}configureGraph(){var e=super.configureGraph(),t=this.value
return e.series.scattergraph.data=t.length>0?t:this.defaultData(),e}attached(){super.attached(),this.updateCartesianAxesFromFlot()}propertyChangedHandler(e,t,i){super.propertyChangedHandler(e,t,i),this.requestUpdate()}defaultData(){return[[]]}createData(e,t){for(var i=super.createData(e,t),n=0;n<i.length;n++)i[n].lines&&(i[n].scattergraph||(i[n].scattergraph={}),i[n].scattergraph.show=!1)
return i}convertToFlotFormat(e){return e}plotTypes(){var e=super.plotTypes()
return e.push("ni-scatter-plot"),e}addGraphItemListeners(e){var t=this
super.addGraphItemListeners(e),t.addEventListener("ni-scatter-plot-attached",function(e){e.target===t&&(t.plots=t.pushNewPlot(t,t.plots,e.detail.element,this.plotTypes()),t.updateGraphConfigWhenPlotsUpdatesAreEnabled(),t.notifyPlotLegend("ni-scatter-plot-attached",e.detail.element))}),t.addEventListener("ni-scatter-plot-detached",function(e){var i
if(t.notifyPlotLegend("ni-scatter-plot-detached",e.detail.element),e.target===t){for(i=0;i<t.plots.length;i++)if(t.plots[i]===e.detail.element){t.plots.splice(i,1)
break}t.updateGraphConfigWhenPlotsUpdatesAreEnabled()}}),t.addEventListener("ni-scatter-plot-changed",function(e){t.updateGraphConfigWhenPlotsUpdatesAreEnabled(),t.notifyPlotLegend("ni-scatter-plot-changed",e.detail.element)})}attachChildren(){var e=this.children,t={"NI-SCATTER-PLOT":window.JQX.ScatterPlot}
super.attachChildren()
for(var i=0;i<e.length;i++){var n=e[i]
t[n.tagName]&&n instanceof t[n.tagName]&&n.isReady&&n.attachToGraph(this)}}}),JQX("ni-scatter-plot",class extends window.JQX.BaseElement{static get properties(){return Object.assign({},super.properties,{show:{value:!1,type:"boolean"},label:{value:"",type:"string"},xaxis:{value:"",type:"string"},yaxis:{value:"",type:"string"},enableHover:{value:!1,type:"boolean"},enableClick:{value:!1,type:"boolean"},hoverFormat:{value:"",type:"any",reflectToAttribute:!1}})}created(){super.created(),this._parentGraph=void 0}sendEventToParentGraph(e,t){var i
void 0!==this._parentGraph&&(i={bubbles:!1,cancelable:!0,detail:{element:this,originalSource:t}},this._parentGraph.dispatchEvent(new CustomEvent(e,i)))}attached(){super.attached(),this.parentElement instanceof JQX.ScatterGraph&&this.parentElement.isReady?this.attachToGraph(this.parentElement):this._parentGraph=void 0}attachToGraph(e){this._parentGraph||(this._parentGraph=e,this.addPlotItemListeners(),this.sendEventToParentGraph("ni-scatter-plot-attached"))}addPlotItemListeners(){}detached(){super.detached(),this.sendEventToParentGraph("ni-scatter-plot-detached"),this._parentGraph=void 0}propertyChangedHandler(e,t,i){super.propertyChangedHandler(e,t,i),this.sendEventToParentGraph("ni-scatter-plot-changed")}getViewConfig(){var e={scattergraph:{}}
return e.label=this.label,e.xaxis=this._parentGraph.getXAxisIndexByNIControlID(this.xaxis),e.yaxis=this._parentGraph.getYAxisIndexByNIControlID(this.yaxis),e.hoverable=this.enableHover,e.clickable=this.enableClick,e.scattergraph.show=this.show,e}template(){return""}addDefaultClass(){}}),function(){var e=window.NINumericFormatters,t=function(e,t){return"auto"===t?"NI-INTENSITY-GRAPH"===e._parentGraph.nodeName?"exact":"NI-CHART"===e._parentGraph.nodeName?"bottom"===e.axisPosition||"top"===e.axisPosition?"sliding-window":"loose":"bottom"===e.axisPosition||"top"===e.axisPosition?"exact":"loose":t},i=function(e){if("NI-CHART"===e._parentGraph.nodeName&&("bottom"===e.axisPosition||"top"===e.axisPosition)){var t=e.maximum-e.minimum
return t>0&&t<Number.POSITIVE_INFINITY?t:1024}}
JQX("ni-cartesian-axis",class extends window.JQX.BaseElement{static get properties(){return Object.assign({},super.properties,{axisRef:{value:"",type:"string"},show:{value:!1,type:"boolean"},label:{value:"",type:"string"},axisPosition:{value:"left",type:"string"},showLabel:{value:!1,type:"boolean"},minimum:{value:0,type:"number"},maximum:{value:1,type:"number"},autoScale:{value:"auto",type:"string"},logScale:{value:!1,type:"boolean"},mode:{value:"",type:"string"},timeBase:{value:"seconds",type:"string"},format:{value:"",type:"string"},timeFormatEpoch:{value:-621355968e5,type:"number"},showTickLabels:{value:"all",type:"string"},ticks:{value:void 0,type:"string"},gridLines:{value:!1,type:"boolean"},showTicks:{value:!1,type:"boolean"},showMinorTicks:{value:!1,type:"boolean"},tickSize:{value:void 0,type:"string"},minTickSize:{value:void 0,type:"string"},inverted:{value:!1,type:"boolean"},labelWidth:{value:void 0,type:"number"},pan:{value:"all",type:"string"},reserveSpace:{value:!1,type:"boolean"},zoom:{value:"all",type:"string"}})}created(){super.created(),this._defaultMin=this.minimum,this._defaultMax=this.maximum,this._parentGraph=void 0}sendEventToParentGraph(e,t,i){var n
void 0!==this._parentGraph&&(n={bubbles:!1,cancelable:!0,detail:{element:this}},t&&i&&(n.detail[t]=i),this._parentGraph.dispatchEvent(new CustomEvent(e,n)))}attached(){super.attached(),this.parentElement instanceof NationalInstruments.HtmlVI.Elements.CartesianGraphBase&&this.parentElement.isReady?this.attachToGraph(this.parentElement):this._parentGraph=void 0,this._defaultMin=this.minimum,this._defaultMax=this.maximum}attachToGraph(e){this._parentGraph||(this._parentGraph=e,this.sendEventToParentGraph("ni-cartesian-axis-attached"))}propertyChangedHandler(e,t,i){super.propertyChangedHandler(e,t,i)
var n=this._navigationOffset||{below:0,above:0}
if("maximum"===e){var r=this.dispatchEvent(new CustomEvent("axisoffsetresetting",{cancelable:!0}))
this._navigationOffset={above:r?0:n.above,below:n.below}}if("minimum"===e){var o=this.dispatchEvent(new CustomEvent("axisoffsetresetting",{cancelable:!0}))
this._navigationOffset={above:n.above,below:o?0:n.below}}this.sendEventToParentGraph("ni-axis-changed")}detached(){super.detached(),this.sendEventToParentGraph("ni-cartesian-axis-detached"),this._parentGraph=void 0}setFont(e,t,i,n,r){this.style.fontSize=e,this.style.fontFamily=t,this.style.fontWeight=i,this.style.fontStyle=n,this.style.textDecoration=r,this.sendEventToParentGraph("ni-axis-changed")}getViewConfig(){var n=window.getComputedStyle(this),r=/grow/.test(this.autoScale),o=r?this.autoScale.replace(/grow/,""):this.autoScale
return{axisLabel:this.showLabel?this.getLabel():void 0,show:this.show,position:this.axisPosition,min:this.minimum,max:this.maximum,autoScale:t(this,o),windowSize:i(this),growOnly:r,mode:this.mode||(this.logScale?"log":"linear"),timeBase:this.timeBase||"seconds",element:this,timeEpoch:this.timeFormatEpoch,tickFormatter:e.getTickFormatter(e.parseTickFormatterType(this.format)),tickGenerator:e.getTickGenerator(this.format),tickSize:this.tickSize&&JSON.parse(this.tickSize),minTickSize:this.minTickSize&&JSON.parse(this.minTickSize),showTickLabels:this.showTickLabels,ticks:this.ticks?JSON.parse(this.ticks):void 0,gridLines:this.gridLines,showTicks:this.showTicks,showMinorTicks:this.showMinorTicks,color:n.color,offset:this._navigationOffset||{below:0,above:0},font:{size:parseFloat(n.fontSize),style:n.fontStyle,weight:n.fontWeight,family:n.fontFamily,color:"inherit"},axisZoom:"axis"===this.zoom||"all"===this.zoom,plotZoom:"plot"===this.zoom||"all"===this.zoom,axisPan:"axis"===this.pan||"all"===this.pan,plotPan:"plot"===this.pan||"all"===this.pan,inverted:this.inverted,labelWidth:this.labelWidth,reserveSpace:this.reserveSpace||void 0}}getFlotAxis(){var e=this._parentGraph.graph
if(void 0!==e){var t=e.getAxes(),i=this,n=Object.keys(t).filter(function(e){return t[e].options.element===i})[0]
return t[n]}}getMinimum(){var e=this.minimum
if(this.isAttached){var t=this.getFlotAxis()
e=void 0!==t&&void 0!==t.min?t.min:e}return e}getMaximum(){var e=this.maximum
if(this.isAttached){var t=this.getFlotAxis()
e=void 0!==t&&void 0!==t.max?t.max:e}return e}getLabel(){var e=this.label
return"string"==typeof e&&(e=e.replace(/\n/g,"<br>")),e}resetOffset(e,t){var i=this._parentGraph.graph,n=this.getFlotAxis(),r=i.getData(),o=r.filter(function(e){return e.xaxis===n||e.yaxis===n})
if(0!==r.length&&0!==o.length&&o.some(e=>0!==e.datapoints.points.length)){var a=e?"x"===n.direction?{xmin:n.min,xmax:n.max}:{ymin:n.min,ymax:n.max}:this._parentGraph.getDataRanges(this,t)
this._navigationOffset=n.options.offset={below:0,above:0}
var s="x"===n.direction?a.xmin:a.ymin,l="x"===n.direction?a.xmax:a.ymax
this.minimum=s!==Number.POSITIVE_INFINITY?s:this._defaultMin,this.maximum=l!==Number.NEGATIVE_INFINITY?l:this._defaultMax,this.sendEventToParentGraph("ni-axis-reset","keepExistingRange",e)}}syncWithFlot(){var e=this.getFlotAxis()
"number"==typeof e.options.min&&(this.minimum=e.options.min,this.maximum=e.options.max),"object"==typeof e.options.offset&&(this._navigationOffset={below:e.options.offset.below,above:e.options.offset.above}),void 0!==this._parentGraph&&this._parentGraph.notifyScaleLegend("ni-axis-changed",this)}template(){return""}addDefaultClass(){}})}(),JQX("ni-color-scale",class extends window.JQX.BaseElement{static get properties(){return Object.assign({},super.properties,{label:{value:"",type:"string"},show:{value:!1,type:"boolean"},showLabel:{value:!1,type:"boolean"},axisPosition:{value:"right",type:"string"},showTickLabels:{value:"all",type:"string"},highColor:{value:"#ffffff",type:"string"},lowColor:{value:"#000000",type:"string"},markers:{value:'[{\n                        "value": 0,\n                        "color": "#3182bd"\n                    }, {\n                        "value": 50,\n                        "color": "#9ecae1"\n                    }, {\n                        "value": 100,\n                        "color": "#deebf7"\n                    }]',type:"string",observer:"onMarkersChanged"},autoScale:{value:"auto",type:"string"},minimum:{value:0,type:"number",observer:"onMinimiumChanged"},maximum:{value:1,type:"number",observer:"onMaximumChanged"}})}created(){super.created(),this._parentGraph=void 0}onMinimiumChanged(e,t){if(null!=t&&!isNaN(t)){var i=JSON.parse(this.markers)
i[0].value=t
var n=i[i.length-1]
this.markers=this.updateMarkersOnRangeChanged(i,e,n.value,t,n.value)}}onMaximumChanged(e,t){if(null!=t&&!isNaN(t)){var i=JSON.parse(this.markers)
i[i.length-1].value=t
var n=i[0]
this.markers=this.updateMarkersOnRangeChanged(i,n.value,e,n.value,t)}}updateMarkersOnRangeChanged(e,t,i,n,r){const o=(r-n)/(i-t)
for(var a=1;a<e.length-1;a++){var s=e[a]
s.value=(s.value-t)*o+n}return JSON.stringify(e)}onMarkersChanged(e,t){var i=this.markers?JSON.parse(this.markers):null
if(null!==i&&0!==i.length)if(1===i.length){var n=i[0]
this.minimum<n.value?this.maximum=n.value:(this.maximum=this.minimum,this.minimum=n.value)}else{var r=i[i.length-1],o=i[0]
this.minimum=o.value,this.maximum=r.value}}sendEventToParentGraph(e){var t
void 0!==this._parentGraph&&(t={bubbles:!0,cancelable:!0,detail:{element:this}},this._parentGraph.dispatchEvent(new CustomEvent(e,t)))}attached(){super.attached(),this.parentElement instanceof JQX.IntensityGraph&&this.parentElement.isReady?this.attachToGraph(this.parentElement):this._parentGraph=void 0}attachToGraph(e){this._parentGraph||(this._parentGraph=this.parentElement,this.sendEventToParentGraph("ni-cartesian-axis-attached"))}propertyChangedHandler(e,t,i){super.propertyChangedHandler(e,t,i),this.sendEventToParentGraph("ni-axis-changed")}detached(){super.detached(),this.sendEventToParentGraph("ni-cartesian-axis-detached"),this._parentGraph=void 0}setFont(e,t,i,n,r){this.style.fontSize=e,this.style.fontFamily=t,this.style.fontWeight=i,this.style.fontStyle=n,this.style.textDecoration=r,this.sendEventToParentGraph("ni-axis-changed")}getViewConfig(){var e=window.getComputedStyle(this),t=/grow/.test(this.autoScale),i=t?this.autoScale.replace(/grow/,""):this.autoScale
return{type:JQX.IntensityGraph.ColorScaleType,axisLabel:this.showLabel?this.label:void 0,show:this.show,autoScale:"auto"===i?"none":i,growOnly:t,min:this.minimum,max:this.maximum,position:this.axisPosition,lowColor:this.lowColor,highColor:this.highColor,markers:this.markers,showTickLabels:this.showTickLabels,font:{size:parseFloat(e.fontSize),style:e.fontStyle,weight:e.fontWeight,family:e.fontFamily,color:"inherit"},axisZoom:!1,plotZoom:!1,axisPan:!1,plotPan:!1,gridLines:!1}}template(){return""}addDefaultClass(){}getFlotAxis(){if(this._parentGraph)return this._parentGraph.graph.getYAxes().filter(function(e){return e.options.type===JQX.IntensityGraph.ColorScaleType})[0]}getMinimum(){var e=this.minimum
if(this.isAttached){var t=this.getFlotAxis()
e=void 0!==t&&void 0!==t.min?t.min:e}return e}getMaximum(){var e=this.maximum
if(this.isAttached){var t=this.getFlotAxis()
e=void 0!==t&&void 0!==t.max?t.max:e}return e}}),function(){var e={lines:{show:!1}}
JQX("ni-cartesian-plot",class extends window.JQX.BaseElement{static get properties(){return Object.assign({},super.properties,{show:{value:!1,type:"boolean"},label:{value:"",type:"string"},xaxis:{value:"",type:"string"},yaxis:{value:"",type:"string"},enableHover:{value:!1,type:"boolean"},enableClick:{value:!1,type:"boolean"},hoverFormat:{value:"",type:"any",reflectToAttribute:!1}})}reset(e){var t,i=this._parentGraph.axes
e.axisRef&&(t=i.filter(function(t){return t.axisRef===e.axisRef})),t||(t=i),"none"!==e.autoScale?t.forEach(function(t){t.autoScale=e.autoScale,t.resetOffset()}):e.minimum&&e.maximum?t.forEach(function(t){t.minimum=e.minimum,t.maximum=e.maximum,t.sendEventToParentGraph("ni-axis-changed")}):t.forEach(function(t){t.autoScale=e.autoScale,t.resetOffset()
var i=t.getFlotAxis()
i.min=t.minimum,i.max=t.maximum})}created(){super.created(),this._parentGraph=void 0}sendEventToParentGraph(e,t){var i
void 0!==this._parentGraph&&(i={bubbles:!1,cancelable:!0,detail:{element:this,originalSource:t}},this._parentGraph.dispatchEvent(new CustomEvent(e,i)))}attached(){super.attached(),(this.parentElement instanceof JQX.CartesianGraph||this.parentElement instanceof JQX.ScatterGraph||this.parentElement instanceof JQX.Chart)&&this.parentElement.isReady?this.attachToGraph(this.parentElement):this._parentGraph=void 0}attachToGraph(e){this._parentGraph||(this._parentGraph=e,this.addPlotItemListeners(),this.attachChildren(),this.sendEventToParentGraph("ni-cartesian-plot-attached"))}attachChildren(){for(var e=this.children,t=0;t<e.length;t++){var i=e[t]
"NI-CARTESIAN-PLOT-RENDERER"===i.tagName&&i instanceof window.JQX.CartesianPlotRenderer&&i.isReady&&i.attachToPlot(this)}}addPlotItemListeners(){var e=this
e.addEventListener("ni-cartesian-plot-renderer-attached",function(t){t.target===e&&(this.plotRenderer=t.detail.element,this.sendEventToParentGraph("ni-cartesian-plot-renderer-attached",t.detail.element))}),e.addEventListener("ni-cartesian-plot-renderer-detached",function(t){t.target===e&&(this.plotRenderer=void 0,this.sendEventToParentGraph("ni-cartesian-plot-renderer-detached",t.detail.element))}),e.addEventListener("ni-cartesian-plot-renderer-changed",function(t){t.target===e&&this.sendEventToParentGraph("ni-cartesian-plot-renderer-changed",t.detail.element)})}detached(){super.detached(),this.sendEventToParentGraph("ni-cartesian-plot-detached"),this._parentGraph=void 0}propertyChangedHandler(e,t,i){super.propertyChangedHandler(e,t,i),this.sendEventToParentGraph("ni-cartesian-plot-changed")}getViewConfig(){var t=e
return void 0!==this.plotRenderer&&!0===this.show&&(t=this.plotRenderer.getViewConfig()),t.label=this.label,t.hoverable=this.enableHover,t.clickable=this.enableClick,t.xaxis=this._parentGraph.getXAxisIndexByNIControlID(this.xaxis),t.yaxis=this._parentGraph.getYAxisIndexByNIControlID(this.yaxis),t}template(){return""}addDefaultClass(){}})}(),function(){var e=function(e){switch(e){case"zero":return 0
case"infinity":case"positiveinfinity":return 1/0
case"-infinity":case"negativeinfinity":return-1/0
default:return}}
JQX("ni-cartesian-plot-renderer",class extends window.JQX.BaseElement{static get properties(){return Object.assign({},super.properties,{lineStroke:{value:"auto",type:"string"},lineWidth:{value:1,type:"number"},lineStyle:{value:"solid",type:"string"},areaFill:{value:"",type:"string"},areaBaseLine:{value:"zero",type:"string"},barFill:{value:"",type:"string"},barWidth:{value:.75,type:"number"},absoluteBarWidth:{value:!1,type:"boolean"},orientation:{value:"vertical",type:"string"},barBaseLine:{value:"zero",type:"string"},pointColor:{value:"",type:"string"},pointSize:{value:5,type:"number"},pointShape:{value:"ellipse",type:"string"},fillPoints:{value:!1,type:"boolean"},fillOpacity:{value:.6,type:"number"},barLineWidth:{value:2,type:"number"}})}created(){super.created(),this._parentPlot=void 0}sendEventToParentPlot(e){var t
void 0!==this._parentPlot&&(t={bubbles:!1,cancelable:!0,detail:{element:this}},this._parentPlot.dispatchEvent(new CustomEvent(e,t)))}attached(){super.attached(),this.parentElement instanceof JQX.CartesianPlot&&this.parentElement.isReady?this.attachToPlot(this.parentElement):this._parentPlot=void 0}attachToPlot(e){this._parentPlot=e,this.sendEventToParentPlot("ni-cartesian-plot-renderer-attached")}propertyChangedHandler(e,t,i){super.propertyChangedHandler(e,t,i),this.sendEventToParentPlot("ni-cartesian-plot-renderer-changed")}detached(){super.detached(),this.sendEventToParentPlot("ni-cartesian-plot-renderer-detached")}toFlotLineStyle(e){switch(e){case"solid":return
case"dot":return[this.lineWidth,2*this.lineWidth]
case"mediumdash":return[3*this.lineWidth,2*this.lineWidth]
case"dashdot":return[3*this.lineWidth,2*this.lineWidth,this.lineWidth,2*this.lineWidth]
case"largedash":return[5*this.lineWidth,3*this.lineWidth]
default:return}}getColor(){var e=this.lineStroke||this.pointColor||this.areaFill||this.barFill
return"auto"===e?null:e}getViewConfig(){return{color:this.getColor(),lines:{show:""!==this.lineStroke||""!==this.areaFill,lineWidth:this.lineWidth,fill:""!==this.areaFill&&this.fillOpacity,zero:!1,fillTowards:e(this.areaBaseLine),dashes:this.toFlotLineStyle(this.lineStyle)},points:{show:""!==this.pointColor,radius:this.pointSize?this.pointSize/2:2,symbol:this.pointShape,fillColor:this.fillPoints?this.pointColor:"#ffffff"},bars:{show:""!==this.barFill,barWidth:[this.barWidth,this.absoluteBarWidth],horizontal:"horizontal"===this.orientation,align:"center",zero:!1,fill:this.fillOpacity,fillTowards:e(this.barBaseLine),lineWidth:this.barLineWidth}}}template(){return""}addDefaultClass(){}})}(),Object.assign(window.NationalInstruments.HtmlVI.Elements,{CursorBase:class extends window.JQX.BaseElement{created(){super.created(),this.cursor=null,this._parentGraph=void 0,this.onCursorUpdates=this.onCursorUpdates.bind(this),this.onCursorDragUpdates=this.onCursorDragUpdates.bind(this),this.handleGraphUpdated=this.handleGraphUpdated.bind(this)}setCursor(e){this.cursor=e}sendEventToParentGraph(e){if(void 0!==this._parentGraph){const t={bubbles:!0,cancelable:!0,detail:{element:this}}
this._parentGraph.dispatchEvent(new CustomEvent(e,t))}}attached(){super.attached(),(this.parentElement instanceof JQX.CartesianGraph||this.parentElement instanceof JQX.Chart||this.parentElement instanceof JQX.DigitalGraph||this.parentElement instanceof JQX.ScatterGraph)&&this.parentElement.isReady?this.attachToGraph(this.parentElement):this._parentGraph=void 0}attachToGraph(e){this._parentGraph||(this._parentGraph=e,this._parentGraph.requestUpdate(),this.sendEventToParentGraph("ni-cursor-attached"),this.graphCreatedHandler=(()=>{this._parentGraph.graph.getPlaceholder().bind("cursorupdates",this.onCursorUpdates),this._parentGraph.graph.getPlaceholder().bind("cursordragstart",this.onCursorDragUpdates),this._parentGraph.graph.getPlaceholder().bind("cursordrag",this.onCursorDragUpdates),this._parentGraph.graph.getPlaceholder().bind("cursordragend",this.onCursorDragUpdates)}),e.addEventListener("ni-graph-created",this.graphCreatedHandler),e.addEventListener("ni-graph-updated",this.handleGraphUpdated),this._parentGraph._isInitialized&&this.graphCreatedHandler())}handleGraphUpdated(){}onCursorUpdates(e,t){}onCursorDragUpdates(e,t){t.cookie===this&&this.updateCursorElement(e,t)}propertyChangedHandler(e,t,i){super.propertyChangedHandler(e,t,i),void 0!==this._parentGraph&&this._parentGraph.requestUpdate(),this.sendEventToParentGraph("ni-cursor-changed")}detached(){super.detached(),this._parentGraph&&(this._parentGraph.removeEventListener("ni-graph-created",this.graphCreatedHandler),this._parentGraph.removeEventListener("ni-graph-updated",this.handleGraphUpdated),this._parentGraph.requestUpdate(),this._parentGraph.graph&&(this._parentGraph.graph.getPlaceholder().unbind("cursorupdates",this.onCursorUpdates),this._parentGraph.graph.getPlaceholder().unbind("cursordragstart",this.onCursorDragUpdates),this._parentGraph.graph.getPlaceholder().unbind("cursordrag",this.onCursorDragUpdates),this._parentGraph.graph.getPlaceholder().unbind("cursordragend",this.onCursorDragUpdates))),this.sendEventToParentGraph("ni-cursor-detached"),this._parentGraph=void 0}setFont(e,t,i,n,r){this.style.fontSize=e,this.style.fontFamily=t,this.style.fontWeight=i,this.style.textDecoration=r,this._parentGraph&&this._parentGraph.requestUpdate(),this.sendEventToParentGraph("ni-cursor-changed")}setColor(e){const t=this.style.color
this.style.color=e,this.style.color!==t&&(this._parentGraph&&this._parentGraph.requestUpdate(),this.sendEventToParentGraph("ni-cursor-changed"))}template(){return""}addDefaultClass(){}}}),function(){const e=NationalInstruments.Globals.jQuery
JQX("ni-cursor",class extends NationalInstruments.HtmlVI.Elements.CursorBase{static get properties(){return{show:{value:!1,type:"boolean"},label:{value:"",type:"string"},showLabel:{value:!1,type:"boolean"},targetShape:{value:"ellipse",type:"string"},targetSize:{value:8,type:"number"},crosshairStyle:{value:"both",type:"string"},showValue:{value:!1,type:"boolean"},snapToPlot:{value:void 0,type:"number?"},interpolate:{value:!1,type:"boolean"},xaxis:{value:"",type:"string"},yaxis:{value:"",type:"string"},x:{value:.5,type:"number"},y:{value:.5,type:"number"},xPosition:{value:void 0,type:"number"},yPosition:{value:void 0,type:"number"},fontFamily:{value:"sans-serif",type:"string"},fontSize:{value:"10px",type:"string"},fontStyle:{value:"",type:"string"},showThumbs:{value:"none",type:"string"},dashes:{value:[],type:"object"},thumbLabel:{value:"",type:"string"},thumbOffset:{value:"0",type:"string"},thumbColor:{value:void 0,type:"string"}}}onCursorUpdates(e,t){const i=t[this._parentGraph.graph.getCursors().indexOf(this.cursor)]
this.updateCursorElement(e,i)}handleGraphUpdated(){const e=Array.from(this._parentGraph.children).filter(e=>e instanceof JQX.Cursor).indexOf(this),t=this._parentGraph.graph.getCursors()[e]
t.cookie=this,this.setCursor(t)}updateCursorElement(t,i){if(i&&(this.x=this.cursor.position.relativeX,this.y=this.cursor.position.relativeY,this.xPosition=this.cursor.position.x,this.yPosition=this.cursor.position.y),this._parentGraph)switch(t.type){case"cursorupdates":e(this).trigger("cursorUpdated",i)
break
case"cursordragstart":e(this).trigger("cursorDragStart")
break
case"cursordrag":e(this).trigger("cursorDrag")
break
case"cursordragend":e(this).trigger("cursorDragEnd")}}getViewConfig(){var e,t=window.getComputedStyle(this),i=this.crosshairStyle
e="both"===i?"xy":"horizontal"===i?"y":"vertical"===i?"x":"none"===i?"":null
var n=!(this.disabled||this._parentGraph.disabled)
return{show:this.show,showLabel:this.showLabel,showValues:this.showValue,name:this.label,snapToPlot:this.snapToPlot,interpolate:this.interpolate,defaultxaxis:this._parentGraph.getXAxisIndexByNIControlID(this.xaxis),defaultyaxis:this._parentGraph.getYAxisIndexByNIControlID(this.yaxis),mode:e,symbol:this.targetShape,symbolSize:this.targetSize,color:t.color,fontSize:t.fontSize,fontFamily:t.fontFamily,fontStyle:t.fontStyle,fontWeight:t.fontWeight,position:{relativeX:this.x,relativeY:this.y,x:this.xPosition,y:this.yPosition},showThumbs:this.showThumbs,dashes:this.dashes,thumbAbbreviation:this.thumbLabel,thumbOffset:this.thumbOffset,thumbColor:this.thumbColor,thumbClassList:n?["draggable"]:[],movable:n}}getEntryInfo(){return{name:"cursors",valueType:"array"}}})}(),function(){const e=NationalInstruments.Globals.jQuery
JQX("ni-range-cursor",class extends NationalInstruments.HtmlVI.Elements.CursorBase{static get properties(){return{show:{value:!1,type:"boolean"},label:{value:"",type:"string"},showLabel:{value:!1,type:"boolean"},showValue:{value:!1,type:"boolean"},showBorders:{value:!0,type:"boolean"},orientation:{value:"vertical",type:"string"},halign:{value:"top",type:"string"},transparentRange:{value:"inside",type:"string"},lineWidth:{value:1,type:"number"},fillColor:{value:"#4F4F4F4F",type:"string"},constrainToEdge:{value:!1,type:"boolean"},xaxis:{value:"",type:"string"},yaxis:{value:"",type:"string"},xstart:{value:void 0,type:"number"},xend:{value:void 0,type:"number"},relativeXStart:{value:.45,type:"number"},relativeXEnd:{value:.55,type:"number"},ystart:{value:void 0,type:"number"},yend:{value:void 0,type:"number"},relativeYStart:{value:.45,type:"number"},relativeYEnd:{value:.55,type:"number"},dashes:{value:[],type:"object"}}}onCursorUpdates(e,t){const i=t[this._parentGraph.graph.getRangeCursors().indexOf(this.cursor)]
this.updateCursorElement(e,i)}handleGraphUpdated(){const e=Array.from(this._parentGraph.children).filter(e=>e instanceof JQX.RangeCursor).indexOf(this),t=this._parentGraph.graph.getRangeCursors()[e]
t.cookie=this,this.setCursor(t)}updateCursorElement(t,i){if("cursorupdates"===t.type){if(void 0===i.rangecursor)return
i.positionMode?(this.xstart=i.position.xstart,this.xend=i.position.xend,this.relativeXEnd=void 0,this.relativeXStart=void 0,this.ystart=i.position.ystart,this.yend=i.position.yend,this.relativeYEnd=void 0,this.relativeYStart=void 0):(this.relativeXStart=i.position.relativeXStart,this.relativeXEnd=i.position.relativeXEnd,this.xstart=void 0,this.xend=void 0,this.relativeYStart=i.position.relativeYStart,this.relativeYEnd=i.position.relativeYEnd,this.ystart=void 0,this.yend=void 0)}else this.xstart=i.position.xstart,this.xend=i.position.xend,this.relativeXStart=i.position.relativeXStart,this.relativeXEnd=i.position.relativeXEnd,this.ystart=i.position.ystart,this.yend=i.position.yend,this.relativeYStart=i.position.relativeYStart,this.relativeYEnd=i.position.relativeYEnd
if(this._parentGraph)switch(t.type){case"cursorupdates":e(this).trigger("cursorUpdated",i)
break
case"cursordragstart":e(this).trigger("cursorDragStart")
break
case"cursordrag":e(this).trigger("cursorDrag")
break
case"cursordragend":e(this).trigger("cursorDragEnd")}}getViewConfig(){var e=window.getComputedStyle(this),t=!(this.disabled||this._parentGraph.disabled)
return{show:this.show,name:this.label,xstart:void 0,xend:void 0,ystart:void 0,yend:void 0,showLabel:this.showLabel,showValue:this.showValue,showBorders:this.showBorders,orientation:this.orientation,halign:this.halign,defaultxaxis:this._parentGraph.getXAxisIndexByNIControlID(this.xaxis),defaultyaxis:this._parentGraph.getYAxisIndexByNIControlID(this.yaxis),transparentRange:this.transparentRange,constrainToEdge:this.constrainToEdge,color:e.color,fillColor:this.fillColor,fontSize:e.fontSize,fontFamily:e.fontFamily,fontStyle:e.fontStyle,fontWeight:e.fontWeight,lineWidth:this.lineWidth,position:{relativeXStart:this.relativeXStart,relativeXEnd:this.relativeXEnd,xstart:this.xstart,xend:this.xend,relativeYStart:this.relativeYStart,relativeYEnd:this.relativeYEnd,ystart:this.ystart,yend:this.yend},dashes:this.dashes,movable:t}}getEntryInfo(){return{name:"rangecursors",valueType:"array"}}})}(),function(){var e=NationalInstruments.HtmlVI.DataPipeline,t=NationalInstruments.HtmlVI.DataPipeline.GraphDataPipeline,i=NationalInstruments.HtmlVI.DataPipeline.DataTypesEnum,n=NationalInstruments.HtmlVI.DataPipeline.TypedHistoryBuffer,r=function(e,t){var i=document.createElement("ni-cartesian-plot"),n=document.createElement("ni-cartesian-plot-renderer"),r=e.getSettings().colors
n.lineStroke=r[e.plots.length%r.length],i.show=!0,i.label=void 0===t?e.nextPlotName():t,e.appendChild(i),i.appendChild(n)},o=function(e,n){var o,a=0
o=n,Array.isArray(o)&&Array.isArray(o[0])||t.prototype.inferDataType(n)===i.niAnalogWaveformArray||t.prototype.inferDataType(n)===i.XYArrayOfClusterOfArrays||t.prototype.inferDataType(n)===i.XYArrayOfClusterOfArrayOfPoint?a=n.length:function(e){return!(!Array.isArray(e)||Array.isArray(e[0]))}(n)&&n.length>0&&(a=1)
for(var s=e.plots.length;s<a;s++){var l,d=n[s]
"string"==typeof d.channelName&&d.channelName.length>0&&(l=d.channelName),r(e,l)}}
class a{static get properties(){return{niType:{value:void 0,type:"string?",observer:"setNIType"}}}static get moduleName(){return"NITypedCartesianGraphModule"}addPlot(e){r(this.ownerElement,e)}setNIType(e,t){this.ownerElement.valueTypeNeedsUpdate=!0}created(){this.ownerElement.valueType=e.DataTypesEnum.unknown,this.ownerElement.valueTypeNeedsUpdate=!1}attached(){this.ownerElement.valueType=e.inferDataTypeFromNIType(d(this.ownerElement.niType)),this.ownerElement.valueTypeNeedsUpdate=!1}setData(t){this.ownerElement.valueTypeNeedsUpdate&&(this.ownerElement.valueType=e.inferDataTypeFromNIType(d(this.ownerElement.niType)),this.ownerElement.valueTypeNeedsUpdate=!1),o(this.ownerElement,t),window.NationalInstruments.HtmlVI.Elements.CartesianGraphBase.prototype.setData.call(this.ownerElement,t)}}class s{static get properties(){return{niType:{value:void 0,type:"string?",observer:"setNIType"}}}static get moduleName(){return"NITypedChartModule"}addPlot(e){r(this.ownerElement,e)}setNIType(e,t){c(this.ownerElement.historyBuffer,this.ownerElement.niType)}ready(){this.ownerElement.historyBuffer=new n(this.ownerElement.bufferSize,1),c(this.ownerElement.historyBuffer,this.ownerElement.niType)}setHistoryBuffer(e){this.ownerElement.historyBuffer=e,c(this.ownerElement.historyBuffer,this.ownerElement.niType)}getHistoryBuffer(){return this.ownerElement.historyBuffer}}class l{static get properties(){return{niType:{value:NITypes.DOUBLE.makeArray(2).toJSON(),type:"string?"}}}static get moduleName(){return"NITypedIntensityGraphModule"}}function d(e){var t=null
try{e&&(t=new NIType(e))}catch(e){}return t}function c(e,t){"function"==typeof e.setNIType&&e.setNIType(d(t))}JQX.Elements.whenRegistered("ni-cartesian-graph",function(e){e.addModule(a)}),JQX.Elements.whenRegistered("ni-chart",function(e){e.addModule(s)}),JQX.Elements.whenRegistered("ni-intensity-graph",function(e){e.addModule(l)})}(),JQX("ni-axis-handle",class extends window.JQX.BaseElement{static get properties(){return{position:{value:.5,type:"number"},absolutePosition:{value:void 0,type:"number"},show:{value:!1,type:"boolean"},orientation:{value:"vertical",type:"string",allowedValues:["vertical","horizontal"]},location:{value:"far",type:"string",allowedValues:["far","near"]},axisIndex:{value:0,type:"number"},label:{value:"",type:"string"},fill:{value:void 0,type:"string"},axis:{value:"",type:"string"}}}onAxisHandleUpdates(e,t){this.syncPropertiesWithFlotAxisHandle()}onAxisHandlePanStart(e,t){t.cookie===this&&(this.dispatchEvent(new CustomEvent("ni-axis-handle-pan-start",{bubbles:!0,cancelable:!0})),e.preventDefault(),e.stopImmediatePropagation())}onAxisHandlePan(e,t,i,n,r){r.cookie===this&&(this.dispatchEvent(new CustomEvent("ni-axis-handle-pan",{bubbles:!0,cancelable:!0,detail:t})),e.preventDefault(),e.stopImmediatePropagation())}onAxisHandlePanEnd(e,t){t.cookie===this&&(this.dispatchEvent(new CustomEvent("ni-axis-handle-pan-end",{bubbles:!0,cancelable:!0})),e.preventDefault(),e.stopImmediatePropagation())}created(){super.created(),this.axisHandle=null,this._parentGraph=void 0}sendEventToParentGraph(e){if(void 0!==this._parentGraph){const t={bubbles:!0,cancelable:!0,detail:{element:this}}
this._parentGraph.dispatchEvent(new CustomEvent(e,t))}}attached(){super.attached(),(this.parentElement instanceof JQX.CartesianGraph||this.parentElement instanceof JQX.Chart)&&this.parentElement.isReady?this.attachToGraph(this.parentElement):this._parentGraph=void 0}attachToGraph(e){this._parentGraph||(this._parentGraph=e,this._parentGraph.requestUpdate(),this.graphCreatedHandler=(()=>{this._parentGraph.graph.getPlaceholder().bind("axisHandleUpdates",this.onAxisHandleUpdates.bind(this)),this._parentGraph.graph.getPlaceholder().bind("axisHandlePanStart",this.onAxisHandlePanStart.bind(this)),this._parentGraph.graph.getPlaceholder().bind("axisHandlePan",this.onAxisHandlePan.bind(this)),this._parentGraph.graph.getPlaceholder().bind("axisHandlePanEnd",this.onAxisHandlePanEnd.bind(this))}),this.graphUpdatedHandler=(()=>{const e=Array.from(this._parentGraph.children).filter(e=>e instanceof JQX.AxisHandle).indexOf(this),t=this._parentGraph.graph.getAxisHandles()[e]
t.cookie=this,this.setFlotAxisHandle(t)}),e.addEventListener("ni-graph-created",this.graphCreatedHandler),this._parentGraph._isInitialized&&this.graphCreatedHandler(),e.addEventListener("ni-graph-updated",this.graphUpdatedHandler))}propertyChangedHandler(e,t,i){super.propertyChangedHandler(e,t,i),this._parentGraph.requestUpdate(),this.sendEventToParentGraph("ni-axis-handle-changed")}detached(){super.detached(),this._parentGraph.removeEventListener("ni-graph-created",this.graphCreatedHandler),this._parentGraph.removeEventListener("ni-graph-updated",this.graphUpdatedHandler),this._parentGraph.requestUpdate(),this._parentGraph=void 0}getViewConfig(){const e=this.disabled||this._parentGraph.disabled,t=("horizontal"===this.orientation?this._parentGraph.getXAxisIndexByNIControlID:this._parentGraph.getYAxisIndexByNIControlID).call(this._parentGraph,this.axis)-1
return{position:this.position,absolutePosition:this.absolutePosition,show:this.show,orientation:this.orientation,location:this.location,axisIndex:t,handleLabel:this.label,fill:this.fill,handleClassList:e?[]:["draggable"]}}template(){return""}addDefaultClass(){}setFlotAxisHandle(e){this.axisHandle=e}syncPropertiesWithFlotAxisHandle(){this.position=this.axisHandle.position}getEntryInfo(){return{name:"axisHandles",valueType:"array"}}}),JQX("ni-parking-lot",class extends window.JQX.BaseElement{static get properties(){return Object.assign({},super.properties,{offset:{value:35,type:"number"},show:{value:!0,type:"boolean"}})}created(){super.created(),this._parentGraph=void 0}attached(){super.attached(),(this.parentElement instanceof JQX.CartesianGraph||this.parentElement instanceof JQX.Chart)&&this.parentElement.isReady?this.attachToGraph(this.parentElement):this._parentGraph=void 0}attachToGraph(e){this._parentGraph||(e.getElementsByTagName("ni-parking-lot").length>1&&console.warn("A single parking lot can be added to the graph"),this._parentGraph=e,this._parentGraph.requestUpdate())}propertyChangedHandler(e,t,i){super.propertyChangedHandler(e,t,i),this._parentGraph&&this._parentGraph.requestUpdate()}detached(){super.detached(),this._parentGraph.requestUpdate(),this._parentGraph=void 0}getViewConfig(){return{offset:this.offset,show:this.show}}getEntryInfo(){return{name:"parkingLot",valueType:"object"}}template(){return""}addDefaultClass(){}}),JQX("ni-smith-chart",class extends NationalInstruments.HtmlVI.Elements.CartesianGraphBase{static get properties(){return super.properties}getSettings(){return this.getSettingsWorkaround()}getSettingsWorkaround(){var e=super.getSettingsWorkaround()
return $.extend(!0,e,{series:{smithchart:{show:!0,plot:{show:!0,frequencyUnit:"GHz",dataParameter:"S",dataFormat:"MA",referenceResistance:50,normalized:!1}}},xaxis:{show:!1},yaxis:{show:!1},grid:{show:!1},lines:{show:!1}}),e.zoom.active=!1,e.zoom.enableTouch=!1,e.zoom.interactive=!1,e.pan.active=!1,e.pan.enableTouch=!1,e.pan.interactive=!1,e.recenter.enableTouch=!1,e.recenter.interactive=!1,e}created(){super.created()}attached(){super.attached(),this.addSmithChartEventListeners(),this.attachSmithChildren()}attachSmithChildren(){for(let e=0;e<this.children.length;e++){let t=this.children[e]
t instanceof JQX.SmithPlot&&t.isReady&&t.attachToGraph(this)}}plotTypes(){var e=super.plotTypes()
return e.push("ni-smith-plot"),e}addSmithChartEventListeners(){let e=this
e.addEventListener("ni-smith-plot-attached",function(t){t.target===e&&(e.addPlot(t.detail.element),e.updateGraphConfigWhenPlotsUpdatesAreEnabled())}),e.addEventListener("ni-smith-plot-detached",function(t){t.target===e&&(e.removePlot(t.detail.element),e.updateGraphConfigWhenPlotsUpdatesAreEnabled())}),e.addEventListener("ni-smith-plot-changed",function(t){t.target===e&&e.updateGraphConfigWhenPlotsUpdatesAreEnabled()})}addPlot(e){let t=this.getElementsByTagName("ni-smith-plot"),i=[]
for(let n=0;n<t.length;n++){let r=t[n];(this.plots.find(function(e){return e===r})||r===e)&&i.push(r)}this.plots=i}removePlot(e){for(let t=0;t<this.plots.length;t++)if(this.plots[t]===e){this.plots.splice(t,1)
break}}configureGraph(){return super.configureGraph()}propertyChangedHandler(e,t,i){super.propertyChangedHandler(e,t,i),this.requestUpdate()}createData(e,t){let i=[]
return this.plots.forEach((e,t)=>{let n=e.getViewConfig()
i.push(n)},this),i}convertToFlotFormat(e){return e}}),JQX("ni-smith-plot",class extends window.JQX.BaseElement{static get properties(){return Object.assign({},super.properties,{show:{value:!1,type:"boolean"},label:{value:"",type:"string"},color:{value:"auto",type:"string"},data:{value:[],type:"array"},frequencyUnit:{value:"GHz",type:"string",allowedValues:["GHz","MHz","KHz","Hz"]},dataParameter:{value:"S",type:"string",allowedValues:["S","Z"]},dataFormat:{value:"MA",type:"string",allowedValues:["MA","RI"]},referenceResistance:{value:50,type:"number"},normalized:{value:!1,type:"boolean"},enableHover:{value:!1,type:"boolean"},enableClick:{value:!1,type:"boolean"},hoverFormat:{value:"",type:"any",reflectToAttribute:!1}})}created(){super.created(),this._parentGraph=void 0}attached(){super.attached(),this.parentElement instanceof JQX.SmithChart&&this.parentElement.isReady&&this.attachToGraph(this.parentElement)}attachToGraph(e){this._parentGraph||(this._parentGraph=e),this.sendEventToParent("ni-smith-plot-attached")}detached(){super.detached(),this.sendEventToParent("ni-smith-plot-detached"),this._parentGraph=void 0}propertyChangedHandler(e,t,i){super.propertyChangedHandler(e,t,i),this.sendEventToParent("ni-smith-plot-changed")}sendEventToParent(e){let t=this._parentGraph
if(t){let i={bubbles:!1,cancelable:!0,detail:{element:this}}
t.dispatchEvent(new CustomEvent(e,i))}}defaultReferenceResistance(){return 50}getColor(){var e=this.color
return"auto"!==e&&""!==e||(e=null),e}getViewConfig(){var e=this.data,t=isNaN(this.referenceResistance)?this.defaultReferenceResistance():this.referenceResistance
return{label:this.label,hoverable:this.enableHover,clickable:this.enableClick,color:this.getColor(),data:e,smithchart:{show:!0,plot:{show:this.show,frequencyUnit:this.frequencyUnit,dataParameter:this.dataParameter,dataFormat:this.dataFormat,referenceResistance:t,normalized:this.normalized}}}}template(){return""}addDefaultClass(){}})
var sn=Object.freeze({})
NationalInstruments.HtmlVI.Elements.GraphLegend=class extends window.JQX.BaseElement{static get properties(){return Object.assign({},super.properties,{graphRef:{value:"",type:"string"},isInEditMode:{value:!1,type:"boolean"}})}findGraph(){return document.querySelector("ni-cartesian-graph[graph-ref='"+this.graphRef+"']")||document.querySelector("ni-chart[graph-ref='"+this.graphRef+"']")||document.querySelector("ni-intensity-graph[graph-ref='"+this.graphRef+"']")||document.querySelector("ni-cartesian-graph[ni-control-id='"+this.graphRef+"']")||document.querySelector("ni-chart[ni-control-id='"+this.graphRef+"']")||document.querySelector("ni-intensity-graph[ni-control-id='"+this.graphRef+"']")}isDisabledOrInEditMode(){return this.disabled||this.isInEditMode}template(){return""}addDefaultClass(){}},function(){var e=NationalInstruments.HtmlVI.NISupport
NationalInstruments.HtmlVI.Elements.LegendHelpers=function(e,t){this.helpers=e,this.legendItemDisplay=t}
var t=NationalInstruments.HtmlVI.Elements.LegendHelpers.prototype
t.createJQXButton=function(e,t=!1){var i=document.createElement(t?"jqx-toggle-button":"jqx-button")
return i.className=e,i.animation="none",i.unfocusable=!0,i},t.addButtons=function(e,t,i){var n,r,o=this
e.children.forEach(function(e){(n=o.createJQXButton("ni-button",!0)).checked=!1,""!==e.cssClass&&n.classList.add(e.cssClass),n.addEventListener("change",function(){if(r!==this){if(this.checked){var t=r
r=this,t.checked=!1,o.helpers.handleClick(e.name,null,i),o.legendItemDisplay.updateShape(i)}}else this.checked=!0})
var a=o.helpers.getState(e.name,i)
void 0!==a&&(n.checked=a,!0===a&&(r=n)),t.appendChild(n)})},t.addComboBox=function(t,i,n,r,o){var a,s=this,l=0,d=!0,c=document.createElement("jqx-drop-down-list")
for(i.appendChild(c),i.appendChild(c),c.itemHeight=32,c.dropDownHeight="auto",c.classList.add(...o.split(" ")),a=0;a<t.children.length;a++){var h=e.i18n(t.children[a].tag)
"[msg_"===h.substring(0,5)&&(h=t.name)
var u=`<label class="ni-selector-title">${h}</label><icon class="ni-selector-icon ${t.children[a].cssClass}" style="background-size: ${r}px 16px; width: ${r+4}px; "></icon>`
c.insert(a,u),!0===this.helpers.getState(t.children[a].name,n)&&(l=a)}c.addEventListener("change",function(e){!0!==d&&(s.helpers.handleClick(t.children[e.detail.index].name,null,n),s.legendItemDisplay.updateShape(n))}),c.selectedIndexes=[l],d=!1},t.addColorBox=function(e,t,i,n){var r=this,o=document.createElement("jqx-color-picker")
o.style.width="inherit",o.animation="none",o.displayMode="palette",o.valueFormat="hex",o.hideContentToFit=[],o.classList.add("legend-colorbox-colorbox"),o.classList.add(...n.split(" ")),t.appendChild(o)
var a=r.helpers.getState(e.name,i)
o.value=a||"",o.addEventListener("change",function(){r.helpers.handleClick(e.name,o.value,i),r.legendItemDisplay.updateShape(i)})},t.addCheckBox=function(e,t,i,n){var r=this,o=document.createElement("jqx-check-box")
o.animation="none",o.unfocusable=!0,o.className=n,o.classList.add("legend-checkbox"),o.addEventListener("change",function(t){r.helpers.handleClick(e.name,t.detail.value,i)}),t.appendChild(o)
var a=r.helpers.getState(e.name,i)
void 0!==a&&(o.checked=a)}}(),JQX("ni-light-plot-legend",class extends window.JQX.BaseElement{static get properties(){return Object.assign({},super.properties,{show:{value:!1,type:"boolean"},graphRef:{value:"",type:"string"},position:{value:"container",type:"string"}})}findGraph(){return document.querySelector("ni-cartesian-graph[graph-ref='"+this.graphRef+"']")||document.querySelector("ni-chart[graph-ref='"+this.graphRef+"']")}propertyChangedHandler(e,t,i){super.propertyChangedHandler(e,t,i)
var n=this.findGraph()
switch(e){case"position":case"show":for(;this.hasChildNodes();)this.removeChild(this.firstChild)}n&&n.updateGraphConfig()}addDefaultClass(){}})
class ln{static get moduleName(){return"NILightLegendModule"}getSettings(){var e=this.ownerElement.getSettingsWorkaround(),t=this.findLegend(this.ownerElement.graphRef)
if(!t)return e
var i={show:t.show,container:function(e){var t=null
return"nw"!==e.position&&"ne"!==e.position&&"sw"!==e.position&&"se"!==e.position&&(e.hasChildNodes()?t=e.lastChild:(t=document.createElement("div"),e.appendChild(t))),t}(t),position:t.position,margin:5}
return e.legend=i,e}findLegend(e){return document.querySelector("ni-light-plot-legend[graph-ref='"+e+"']")}}JQX.Elements.whenRegistered("ni-cartesian-graph",function(e){e.addModule(ln)}),JQX.Elements.whenRegistered("ni-chart",function(e){e.addModule(ln)}),function(){var e=NationalInstruments.HtmlVI.NISupport,t=NationalInstruments.Globals.jQuery,i=function(e){e.createRow(e.expanderWrapper,e.nPlots),e.helpers.addRenderer(e.nPlots),e.nPlots++},n=function(e,t){e.nPlots>0&&(e.removeRow(e.expanderWrapper,t),e.helpers.clearRenderer(t),e.nPlots--)}
JQX("ni-plot-legend",class extends NationalInstruments.HtmlVI.Elements.GraphLegend{static get properties(){return Object.assign({},super.properties,{mode:{value:"full",type:"string"},tooltips:{value:!1,type:"boolean"}})}created(){super.created(),this.expanderWrapper=void 0,this.nPlots=0,this.helpers=new NationalInstruments.HtmlVI.Elements.PlotLegendHelpers,this.plotLegendItemDisplay=new NationalInstruments.HtmlVI.Elements.PlotLegendItemDisplay(this.helpers),this.uihelpers=new NationalInstruments.HtmlVI.Elements.LegendHelpers(this.helpers,this.plotLegendItemDisplay),this.deferLegendUpdates=!1}plotAdded(){this.deferLegendUpdates||i(this)}plotRemoved(e){this.deferLegendUpdates||n(this,e)}syncPlotLegendWithGraph(){if(this.deferLegendUpdates){var e=this.findGraph()
if(!e)return
for(var t=e.plots.length;t<this.nPlots;){var r=this.nPlots-1
n(this,r)}for(;t>this.nPlots;)i(this)}}createRows(){var e
for(e=0;e<this.nPlots;e++)this.createRow(this.expanderWrapper,e)}removeRows(){var e
for(e=this.nPlots-1;e>=0;e--)this.removeRow(this.expanderWrapper,e)}throttlePlotUpdates(e){var t=this.findGraph()
null!==t&&(t.throttlePlotUpdates(e),this.deferLegendUpdates=e)}attachToGraph(e){this.helpers.graph!==e?this.detachFromGraph():e&&e.plots.length<this.nPlots&&this.removeRows(),e&&e.isReady&&this.helpers.graph!==e&&(this.helpers.graph=e,this.nPlots=e.plots.length,this.createRows(),e.registerPlotLegend(this))}detachFromGraph(){this.helpers.clearCache(),this.helpers.graph=null,this.removeRows(),this.nPlots=0}attached(){var e,t,r=this
super.attached(),this.helpers.isInEditMode=this.isInEditMode,(e=document.createElement("div")).style.width="100%",e.style.height="100%",this.appendChild(e),(t=document.createElement("jqx-accordion")).style.width="100%",t.style.height="100%",t.animation="none","full"===this.mode?t.expandMode="toggle":t.expandMode="none",t.disabled=this.isDisabledOrInEditMode(),e.appendChild(t),this.expanderWrapper=t,"full"===this.mode&&t.addEventListener("expanding",function(e){var t=r.expanderWrapper.querySelectorAll("jqx-accordion-item")[e.detail.index].querySelector(".ni-details-box")
r.loadContentIfNeeded(t,e.detail.index)}),this.addEventListener("ni-cartesian-plot-attached",function(){r.plotAdded(),r.helpers.clearCache()}),this.addEventListener("ni-cartesian-plot-detached",function(e){var t,i=e.detail.originalSource
t=r.helpers.getIndex(i),r.plotRemoved(t),r.helpers.clearCache()}),this.addEventListener("ni-cartesian-plot-changed",function(e){var t,i=e.detail.originalSource
t=r.helpers.getIndex(i),r.updatePlotName(t,r.helpers.getPlotName(t))}),this.addEventListener("ni-cartesian-plot-renderer-changed",function(e){var t,i=e.detail.originalSource
t=r.helpers.rendererToIndex(i),r.plotLegendItemDisplay.updateShape(t)}),this.addEventListener("ni-cartesian-plot-renderer-attached",function(e){var t,i=e.detail.originalSource
r.helpers.clearCache(),t=r.helpers.rendererToIndex(i),r.plotLegendItemDisplay.updateShape(t)}),this.addEventListener("ni-cartesian-plot-renderer-detached",function(e){var t,i=e.detail.originalSource
r.helpers.clearCache(),t=r.helpers.rendererToIndex(i),r.plotLegendItemDisplay.updateShape(t)}),this.addEventListener("ni-plot-count-changed",function(e){var t=e.detail.originalSource
if("compact"===r.mode){for(;t.plotCount<r.nPlots;){var o=r.nPlots-1
n(r,o)}for(;t.plotCount>r.nPlots;)i(r)}})
var o=this.findGraph()
null!==o&&this.attachToGraph(o)}createRow(e,t){var i,n,r,o,a,s,l;(i=document.createElement("jqx-accordion-item")).animation="none",i.id="expander"+t,i.className="ni-plot-legend-box",e.appendChild(i),(n=document.createElement("div")).id="header"+t,n.className="ni-master-row",i.querySelector(".jqx-label").appendChild(n),(o=document.createElement("div")).className="ni-plot-display",n.appendChild(o),this.plotLegendItemDisplay.createHeaderDisplay(o,t),this.plotLegendItemDisplay.updateShape(t),(l=document.createElement("span")).className="ni-plot-title",a=this.helpers.getPlotName(t),"compact"===this.mode&&(this.helpers.getPlot(t)||(a="Plot "+(t+1))),this.tooltips&&(l.title=a),s=document.createTextNode(a),l.appendChild(s),n.appendChild(l),(r=document.createElement("div")).id="content"+t,r.className="ni-details-box",i.querySelector(".jqx-content-container").appendChild(r),"full"===this.mode&&(i.expanded=!1),this.applyFont()}updatePlotName(e,i){var n=t(this.expanderWrapper).find(".ni-plot-title")
t(n[e]).text(i)}loadContentIfNeeded(t,i){var n,r,o,a,s,l,d
if(null===t.querySelector(".ni-details"))for((n=document.createElement("table")).className="ni-details",t.appendChild(n),o=0;o<this.helpers.menu.length;o++){var c=this.helpers.menu[o];(r=document.createElement("tr")).className="ni-details-row "+(c.cssClass||""),n.appendChild(r),(l=document.createElement("td")).className="ni-detail-row-title-box",r.appendChild(l),(a=document.createElement("span")).className="ni-detail-row-title",l.appendChild(a)
var h=e.i18n(c.tag)
switch("[msg_"===h.substring(0,5)&&(h=c.name+"!"),s=document.createTextNode(h),a.appendChild(s),(d=document.createElement("td")).className="ni-details-row-operations-box",r.appendChild(d),c.type){case"buttons":this.uihelpers.addButtons(c,d,i)
break
case"combobox":this.uihelpers.addComboBox(c,d,i,24,"ni-selector")
break
case"colorbox":this.uihelpers.addColorBox(c,d,i,"ni-colorbox-selector ni-selector")
break
case"checkbox":this.uihelpers.addCheckBox(c,d,i,"ni-hover-box")}}}removeRow(e,t){this.plotLegendItemDisplay.removeHeaderDisplay(null,t),e.removeAt(t)}setFont(e,i,n,r,o){var a=this.firstElementChild,s=t(this),l=t(a).find(" .jqx-widget-content"),d=t(a).find(" .ni-plot-title"),c=t(a).find(" .ni-detail-row-title")
s.css({"font-size":e,"font-family":i,"font-weight":n,"font-style":r}),l.css({"font-size":e,"font-family":i,"font-weight":n,"font-style":r}),d.css({"font-size":e,"font-family":i,"font-weight":n,"font-style":r}),c.css({"font-size":e,"font-family":i,"font-weight":n,"font-style":r})}applyFont(){var e=this.firstElementChild,i=t(e).find(" .jqx-widget-content"),n=t(e).find(" .ni-plot-title"),r=t(e).find(" .ni-detail-row-title"),o=t(this).css("font-size"),a=t(this).css("font-family"),s=t(this).css("font-weight"),l=t(this).css("font-style")
i.css({"font-size":o,"font-family":a,"font-weight":s,"font-style":l}),n.css({"font-size":o,"font-family":a,"font-weight":s,"font-style":l}),r.css({"font-size":o,"font-family":a,"font-weight":s,"font-style":l})}propertyChangedHandler(e,i,n){super.propertyChangedHandler(e,i,n)
let r=this
switch(e){case"graphRef":this.helpers.graph.plotLegend=null
var o=this.findGraph()
this.attachToGraph(o)
break
case"disabled":case"isInEditMode":this.helpers.isInEditMode=this.isInEditMode,t(this.expanderWrapper)[0].disabled=this.isDisabledOrInEditMode(),t(this.expanderWrapper).find(".ni-details-box").each(function(){t(this).find(".ni-button").each(function(){this.disabled=r.isDisabledOrInEditMode()}),t(this).find(".ni-selector").each(function(){this.disabled=r.isDisabledOrInEditMode()}),t(this).find(".ni-colorbox-selector").each(function(){this.disabled=r.isDisabledOrInEditMode()}),t(this).find(".ni-hover-box").each(function(){this.disabled=r.isDisabledOrInEditMode()})})
break
case"tooltips":t(this).find(".ni-plot-title").each(function(e,t){t.title=this.tooltips?this.helpers.getPlotName(e):""}.bind(this))}}})}(),function(){var e=NationalInstruments.HtmlVI.NISupport
NationalInstruments.HtmlVI.Elements.PlotLegendHelpers=function(){this.graph=null,this.isInEditMode=!1,this.defaultPlotColors=window.JQX.CartesianGraph.defaultPlotColors,this.lineStyleValues={dot:"1, 2",dashdot:"3, 3, 1, 3",mediumdash:"3, 3",largedash:"5, 4",solid:"0"},this.renderers=[]}
var t=NationalInstruments.HtmlVI.Elements.PlotLegendHelpers,i=t.prototype
i.menu=[{name:"Plot Style",tag:"msg_plotstyle",type:"buttons",children:[{name:"Line",tag:"msg_line",cssClass:"ni-line-style-icon"},{name:"Point",tag:"msg_point",cssClass:"ni-point-style-icon"},{name:"Line & Point",tag:"msg_lineandpoint",cssClass:"ni-line-and-point-style-icon"},{name:"Bar",tag:"msg_bar",cssClass:"ni-bar-style-icon"},{name:"Fill",tag:"msg_fill",cssClass:"ni-fill-style-icon"}]},{name:"Point Style",tag:"msg_pointstyle",type:"buttons",children:[{name:"Ellipse",tag:"msg_ellipse",cssClass:"ni-ellipse-point-style-icon"},{name:"Rectangle",tag:"msg_rectangle",cssClass:"ni-rect-point-style-icon"},{name:"Diamond",tag:"msg_diamond",cssClass:"ni-diamond-point-style-icon"},{name:"Cross",tag:"msg_cross",cssClass:"ni-cross-point-style-icon"},{name:"Plus",tag:"msg_plus",cssClass:"ni-plus-point-style-icon"}]},{name:"Line Width",tag:"msg_linewidth",cssClass:"line_width",type:"combobox",children:[{name:"No line",tag:"msg_noline",cssClass:""},{name:"1-pixel",tag:"msg_1pixel",cssClass:"ni-1-pixel-line-width-icon"},{name:"2-pixels",tag:"msg_2pixels",cssClass:"ni-2-pixels-line-width-icon"},{name:"3-pixels",tag:"msg_3pixels",cssClass:"ni-3-pixels-line-width-icon"},{name:"4-pixels",tag:"msg_4pixels",cssClass:"ni-4-pixels-line-width-icon"},{name:"5-pixels",tag:"msg_5pixels",cssClass:"ni-5-pixels-line-width-icon"}]},{name:"Line Style",tag:"msg_linestyle",cssClass:"line_style",type:"combobox",children:[{name:"No style",tag:"msg_nostyle",cssClass:""},{name:"Solid",tag:"msg_solid",cssClass:"ni-solid-line-style-icon"},{name:"Dot",tag:"msg_dot",cssClass:"ni-dot-line-style-icon"},{name:"Dot-dash",tag:"msg_dashdot",cssClass:"ni-dot-dash-line-style-icon"},{name:"Medium dash",tag:"msg_mediumdash",cssClass:"ni-medium-dash-line-style-icon"},{name:"Large dash",tag:"msg_largedash",cssClass:"ni-large-dash-line-style-icon"}]},{name:"Fill Baseline",tag:"msg_fillbaseline",type:"buttons",children:[{name:"Zero",tag:"msg_zero",cssClass:"ni-fill-to-zero-style-icon"},{name:"-Inf",tag:"msg_neginf",cssClass:"ni-fill-base-line-negative-infinity-icon"},{name:"Inf",tag:"msg_inf",cssClass:"ni-fill-base-line-positive-infinity-icon"}]},{name:"Color",tag:"msg_color",type:"colorbox",children:[]},{name:"Hover",tag:"msg_hover",cssClass:"hover",type:"checkbox",children:[]}],i.addRenderer=function(){},i.clearRenderer=function(e){this.renderers[e]=null},i.clearCache=function(){for(var e=0;e<this.renderers.length;e++)this.renderers[e]=null},i.getPlot=function(e){var i=0,n=null,r=this.graph
if(null!==r)for(t in r.childNodes)if("ni-cartesian-plot"===r.childNodes[t].localName){if(i===e){n=r.childNodes[t]
break}i++}return n},i.getIndex=function(e){var t,i
return null!==(i=e._parentGraph)&&(t=i.plots.indexOf(e)),t},i.getPlotName=function(t){var i=this.getPlot(t)
return i&&"string"==typeof i.label?i.label:e.i18n("msg_defaultplotname")},i.getRenderer=function(e){var t=null,i=null
if(null===this.renderers[e]||void 0===this.renderers[e]){if(null!==(t=this.getPlot(e))&&(i=t.lastElementChild),null===i)return null
this.renderers[e]=i}return this.renderers[e]},i.rendererToIndex=function(e){var t,i,n,r=0
if(null!==(i=this.graph))for(n in i.childNodes)if("ni-cartesian-plot"===i.childNodes[n].localName){if(i.childNodes[n].lastElementChild===e){t=r
break}r++}return t},i.handleClick=function(e,t,i){if(!0!==this.isInEditMode){var n="",r=this.getRenderer(i)
if(null===r)return
switch(""!==r.lineStroke&&(n=r.lineStroke),""!==r.pointColor&&(n=r.pointColor),""!==r.barFill&&(n=r.barFill),""!==r.areaFill&&(n=r.areaFill),e){case"No line":r.lineWidth=0
break
case"1-pixel":r.lineWidth=1
break
case"2-pixels":r.lineWidth=2
break
case"3-pixels":r.lineWidth=3
break
case"4-pixels":r.lineWidth=4
break
case"5-pixels":r.lineWidth=5
break
case"Line":r.lineStroke=n,r.pointColor="",r.barFill="",r.areaFill=""
break
case"Point":r.lineStroke="",r.pointColor=n,r.barFill="",r.areaFill=""
break
case"Line & Point":r.lineStroke=n,r.pointColor=n,r.barFill="",r.areaFill=""
break
case"Bar":r.lineStroke="",r.pointColor="",r.barFill=n,r.areaFill=""
break
case"Fill":r.lineStroke="",r.pointColor="",r.barFill="",r.areaFill=n
break
case"Ellipse":r.pointShape="ellipse"
break
case"Rectangle":r.pointShape="rectangle"
break
case"Diamond":r.pointShape="diamond"
break
case"Cross":r.pointShape="cross"
break
case"Plus":r.pointShape="plus"
break
case"No style":r.lineStyle=""
break
case"Solid":r.lineStyle="solid"
break
case"Dot":r.lineStyle="dot"
break
case"Dot-dash":r.lineStyle="dashdot"
break
case"Medium dash":r.lineStyle="mediumdash"
break
case"Large dash":r.lineStyle="largedash"
break
case"Zero":r.areaBaseLine="zero",r.barBaseLine="zero"
break
case"-Inf":r.areaBaseLine="negativeinfinity",r.barBaseLine="negativeinfinity"
break
case"Inf":r.areaBaseLine="positiveinfinity",r.barBaseLine="positiveinfinity"
break
case"Color":""!==r.lineStroke&&(r.lineStroke=t),""!==r.pointColor?r.pointColor=t:""!==r.barFill?r.barFill=t:""!==r.areaFill&&(r.areaFill=t)
break
case"Hover":this.getPlot(i).enableHover=t}}},i.getState=function(e,t){var i=this.getRenderer(t)
if(null!==i){var n
switch(e){case"No line":n=0===i.lineWidth
break
case"1-pixel":n=1===i.lineWidth
break
case"2-pixels":n=2===i.lineWidth
break
case"3-pixels":n=3===i.lineWidth
break
case"4-pixels":n=4===i.lineWidth
break
case"5-pixels":n=5===i.lineWidth
break
case"Line":n=""!==i.lineStroke&&""===i.pointColor
break
case"Point":n=""===i.lineStroke&&""!==i.pointColor
break
case"Line & Point":n=""!==i.lineStroke&&""!==i.pointColor
break
case"Bar":n=""!==i.barFill
break
case"Fill":n=""!==i.areaFill
break
case"Ellipse":n="ellipse"===i.pointShape
break
case"Rectangle":n="rectangle"===i.pointShape
break
case"Diamond":n="diamond"===i.pointShape
break
case"Cross":n="cross"===i.pointShape
break
case"Plus":n="plus"===i.pointShape
break
case"No style":n=""===i.lineStyle
break
case"Solid":n="solid"===i.lineStyle
break
case"Dot":n="dot"===i.lineStyle
break
case"Dot-dash":n="dashdot"===i.lineStyle
break
case"Medium dash":n="mediumdash"===i.lineStyle
break
case"Large dash":n="largedash"===i.lineStyle
break
case"Zero":n=""!==i.barFill?"zero"===i.barBaseLine||""===i.barBaseLine:"zero"===i.areaBaseLine||""===i.areaBaseLine
break
case"-Inf":n=""!==i.barFill?"negativeinfinity"===i.barBaseLine:"negativeinfinity"===i.areaBaseLine
break
case"Inf":n=""!==i.barFill?"positiveinfinity"===i.barBaseLine:"positiveinfinity"===i.areaBaseLine
break
case"Color":n=this.getPlotColorFromRenderer(i)
break
case"Hover":n=this.getPlot(t).enableHover}return n}},i.getPlotColor=function(e){var t=this.getRenderer(e)
return null!==t?this.getPlotColorFromRenderer(t):this.defaultPlotColors[e%this.defaultPlotColors.length]},i.getPlotColorFromRenderer=function(e){var t="rgba(0, 0, 0, 1)"
return""!==e.lineStroke?t=e.lineStroke:""!==e.pointColor?t=e.pointColor:""!==e.barFill?t=e.barFill:""!==e.areaFill&&(t=e.areaFill),t},i.getLineWidth=function(e){var t=this.getRenderer(e)
return null!==t?t.lineWidth:1},i.getLineShape=function(e){var t="line",i=this.getRenderer(e)
return null!==i&&(""!==i.lineStroke&&""===i.pointColor?t="line":""===i.lineStroke&&""!==i.pointColor?t="points":""!==i.lineStroke&&""!==i.pointColor?t="line & point":""!==i.barFill?t="bar":""!==i.areaFill&&(t="fill")),t},i.getLineStyle=function(e){var t=this.getRenderer(e)
if(null!==t)switch(t.lineStyle){case"dot":return this.lineStyleValues.dot
case"dashdot":return this.lineStyleValues.dashdot
case"mediumdash":return this.lineStyleValues.mediumdash
case"largedash":return this.lineStyleValues.largedash
default:return this.lineStyleValues.solid}return"0"},i.getPointShape=function(e){var t=this.getRenderer(e)
return null!==t?t.pointShape:"ellipse"}}(),function(){NationalInstruments.HtmlVI.Elements.PlotLegendItemDisplay=function(e){this.pointTypes=[{name:"ellipse",creator:a},{name:"rectangle",creator:s},{name:"diamond",creator:l},{name:"cross",creator:d},{name:"plus",creator:c}],this.lineTypes=[{name:"line",creator:i},{name:"fill",creator:n},{name:"bar",creator:r},{name:"points",creator:o}],this.shapes=[],this.helpers=e}
var e=NationalInstruments.HtmlVI.Elements.PlotLegendItemDisplay.prototype
e.createHeaderDisplay=function(e,i){var n,r
n="http://www.w3.org/2000/svg",(r=document.createElementNS(n,"svg")).setAttribute("width","16"),r.setAttribute("height","16"),r.setAttribute("viewBox","0,0,16,16"),r.setAttributeNS("http://www.w3.org/2000/xmlns/","xmlns:xlink","http://www.w3.org/1999/xlink"),e.appendChild(r)
var o=document.createElementNS(n,"g")
r.appendChild(o),this.shapes[i]={},this.shapes[i].shapesGroup=o,t(i,o,n,this),o.setAttribute("stroke","rgba(255, 0, 0, 1)")},e.removeHeaderDisplay=function(e,t){this.shapes.splice(t,1)}
var t=function(e,t,i,n){var r
for(r=0;r<n.lineTypes.length;r++)n.lineTypes[r].creator(e,t,i,n)},i=function(e,t,i,n){var r=document.createElementNS(i,"polyline")
r.setAttribute("points","0,15 5,5 10,10 15,0"),r.setAttribute("fill","none"),r.setAttribute("stroke-width",n.helpers.getLineWidth(e)),r.setAttribute("stroke-dasharray",n.helpers.getLineStyle(e)),t.appendChild(r),n.shapes[e].shapesGroup.line=r},n=function(e,t,i,n){var r=document.createElementNS(i,"polyline")
r.setAttribute("points","0,15 5,5 10,10 15,0, 15,15, 0,15"),r.setAttribute("fill",n.helpers.getPlotColor(e)),r.setAttribute("stroke-width",n.helpers.getLineWidth(e)),r.setAttribute("visibility","hidden"),t.appendChild(r),n.shapes[e].shapesGroup.fill=r},r=function(e,t,i,n){var r=document.createElementNS(i,"polyline")
r.setAttribute("points","1.5,15.5 1.5,12.5, 4.5,12.5 4.5,15.5 6.5,15.5 6.5,3.5, 9.5,3.5 9.5,15.5 11.5,15.5 11.5,7.5 14.5,7.5 14.5,15.5 1.5,15.5"),r.setAttribute("fill",n.helpers.getPlotColor(e)),r.setAttribute("stroke-width",1),r.setAttribute("visibility","hidden"),t.appendChild(r),n.shapes[e].shapesGroup.bar=r},o=function(e,t,i,n){var r,o,a,s,l=[{x:.5,y:15.5},{x:10.5,y:10.5},{x:5.5,y:5.5},{x:15.5,y:.5}],d=document.createElementNS(i,"g")
for(n.shapes[e].shapesGroup.points=d,o=0;o<n.pointTypes.length;o++){for(a=document.createElementNS(i,"g"),r=0;r<4;r++)s=n.pointTypes[o].creator(i,l[r],4),a.appendChild(s)
a.setAttribute("fill",n.helpers.getPlotColor(e)),a.setAttribute("stroke-width",1),a.setAttribute("visibility","hidden"),d.appendChild(a),n.shapes[e].shapesGroup.points[n.pointTypes[o].name]=a}t.appendChild(d)},a=function(e,t,i){var n=document.createElementNS(e,"circle")
return n.setAttribute("cx",t.x),n.setAttribute("cy",t.y),n.setAttribute("r",i/2),n},s=function(e,t,i){var n=document.createElementNS(e,"rect")
return n.setAttribute("x",t.x-i/2),n.setAttribute("y",t.y-i/2),n.setAttribute("width",i),n.setAttribute("height",i),n},l=function(e,t,i){var n=document.createElementNS(e,"path"),r="M"+(t.x-i/2)+","+t.y
return r+=" L"+t.x+","+(t.y-i/2),r+=" L"+(t.x+i/2)+","+t.y,r+=" L"+t.x+","+(t.y+i/2),r+=" Z",n.setAttribute("d",r),n},d=function(e,t,i){var n=document.createElementNS(e,"path"),r="M"+(t.x-i/2)+","+(t.y-i/2)
return r+=" L"+(t.x+i/2)+","+(t.y+i/2),r+="M"+(t.x+i/2)+","+(t.y-i/2),r+=" L"+(t.x-i/2)+","+(t.y+i/2),n.setAttribute("d",r),n},c=function(e,t,i){var n=document.createElementNS(e,"path"),r="M"+t.x+","+(t.y-i/2)
return r+=" L"+t.x+","+(t.y+i/2),r+="M"+(t.x-i/2)+","+t.y,r+=" L"+(t.x+i/2)+","+t.y,n.setAttribute("d",r),n}
e.updateLinesAttributes=function(e,t,i){var n=this.helpers.getLineShape(e)
"line"!==n&&"line & point"!==n||(t.line.setAttribute("stroke-width",this.helpers.getLineWidth(e)),t.line.setAttribute("stroke-dasharray",this.helpers.getLineStyle(e))),t.fill.setAttribute("fill",i),t.bar.setAttribute("fill",i)
for(var r=0;r<this.pointTypes.length;r++)t.points[this.pointTypes[r].name].setAttribute("fill",i)},e.updatePointVisibility=function(e,t,i){for(var n=this.helpers.getPointShape(e),r=0;r<this.pointTypes.length;r++)n!==this.pointTypes[r].name||"line & point"!==i&&"points"!==i?t.points[this.pointTypes[r].name].setAttribute("visibility","hidden"):t.points[this.pointTypes[r].name].setAttribute("visibility","visible")},e.updateVisibility=function(e,t){for(var i=this.helpers.getLineShape(e),n=0;n<this.lineTypes.length;n++)i===this.lineTypes[n].name?t[this.lineTypes[n].name].setAttribute("visibility","visible"):t[this.lineTypes[n].name].setAttribute("visibility","hidden")
"line & point"===i&&(t.line.setAttribute("visibility","visible"),t.points.setAttribute("visibility","visible")),this.updatePointVisibility(e,t,i)},e.updateShape=function(e){var t=this.shapes[e]
if(null!=t){var i=this.helpers.getPlotColor(e)
this.updateLinesAttributes(e,t.shapesGroup,i),this.updateVisibility(e,t.shapesGroup),t.shapesGroup.setAttribute("stroke",i)}}}(),function(){var e=NationalInstruments.Globals.jQuery,t=NationalInstruments.HtmlVI.NISupport,i=window.NIColorValueConverters
JQX("ni-cursor-legend",class extends NationalInstruments.HtmlVI.Elements.GraphLegend{created(){super.created(),this.table=void 0,this.selectedRow=null,this.addButton=null,this.deleteButton=null,this.centerButton=null,this.currentRow=null,this.currentBtn=null,this.observer=null,this.helpers=new NationalInstruments.HtmlVI.Elements.CursorLegendHelpers,this.cursorLegendItemDisplay=new NationalInstruments.HtmlVI.Elements.CursorLegendItemDisplay(this.helpers),this.uihelpers=new NationalInstruments.HtmlVI.Elements.LegendHelpers(this.helpers,this.cursorLegendItemDisplay)}cursorAdded(e){var t=this
t.helpers.cursorAdded(e),t.createRow(t.table,e),t.helpers.cursorPositionChanged(e,function(i){t.updatePosition(e,i)})}updatePosition(t,i){if(t._parentGraph){var n=this.helpers.getIndex(t),r=e(this).find(".ni-x-title")[n],o=e(this).find(".ni-y-title")[n],a=t._parentGraph.graph,s=a.formatCursorPosition(a,t.cursor)
void 0!==r&&(r.innerText=s.xTextValue),void 0!==o&&(o.innerText=s.yTextValue)}}cursorRemoved(t){var i=this.helpers.getIndex(t)
i>=0&&(e(this).find(".ni-master-row").eq(i).remove(),e(this).find(".ni-details-box").eq(i).remove(),this.cursorLegendItemDisplay.clearShape(i),this.helpers.cursorRemoved(t))}cursorChanged(e){this.cursorLegendItemDisplay.updateShape(e),this.updateName(e),this.updateVisible(e),this.updateColor(e),this.updateTargetShape(e),this.updateCrosshairStyle(e)}updateName(t){var i=this.helpers.getIndex(t)
e(this).find(".ni-cursor-title").eq(i).text(this.helpers.getState("name",t))}updateVisible(t){var i=this.helpers.getState("visible",t),n=this.helpers.getIndex(t),r=e(this).find(".ni-visibility-button").eq(n)
i?r.removeClass("ni-visibility-off-icon").addClass("ni-visibility-on-icon"):r.removeClass("ni-visibility-on-icon").addClass("ni-visibility-off-icon")}updateColor(t){var n=this.helpers.getIndex(t),r=this.helpers.getState("Color",t),o=i.cssRGBAToCssHex(r)
e(this).find(".ni-colorbox-selector").eq(n)[0].value=o}updateTargetShape(t){var i=this.helpers.getIndex(t),n=this.helpers.targetShapeOptions,r=0
for(let o in n){if(!0===this.helpers.getState(o,t)){e(this).find(".ni-shape-selector").eq(i)[0].selectedIndexes=[r]
break}r++}}updateCrosshairStyle(t){var i=this.helpers.getIndex(t),n=this.helpers.crosshairStyleOptions,r=0
for(let o in n){if(!0===this.helpers.getState(o,t)){e(this).find(".ni-crosshair-selector").eq(i)[0].selectedIndexes=[r]
break}r++}}attachToGraph(e){this.detachFromGraph(),e&&e.isReady&&(this.helpers.graph=e,e.registerCursorLegend(this))}detachFromGraph(){this.removeRows(),this.helpers.clearCache(),this.helpers.graph=null}attached(){super.attached()
var i=this
i.helpers.graph=i.findGraph(),i.helpers.isInEditMode=i.isInEditMode
var n=document.createElement("div")
n.style.width="100%",n.style.height="100%",n.id="div"+t.uniqueId(),i.appendChild(n),i.table=document.createElement("table"),i.table.className="ni-cursors-box",n.appendChild(i.table)
var r=document.createElement("div")
n.appendChild(r)
var o=this.uihelpers.createJQXButton("ni-add-icon ni-command-button",!1)
o.disabled=i.isDisabledOrInEditMode(),r.appendChild(o),i.addButton=o,e(o).on("click",function(){i.helpers.addCursor()}),i.addEventListener("ni-cursor-attached",function(e){i.cursorAdded(e.detail.originalSource)}),i.addEventListener("ni-cursor-detached",function(e){i.cursorRemoved(e.detail.originalSource)}),i.addEventListener("ni-cursor-changed",function(e){i.cursorChanged(e.detail.originalSource)})
var a=this.findGraph()
null!==a&&this.attachToGraph(a)}removeRows(){var e
for(e=this.helpers.cursors.length-1;e>=0;e--){var t=this.helpers.getCursor(e)
this.cursorRemoved(t)}}createRow(t,i){var n=this,r=n.createMainRow(t,i),o=n.createDetailsRow(t,i)
e(r).on("click",function(){if(n.currentRow!==o){var e=n.currentRow,t=n.currentBtn
o.style.display="table-row",n.currentRow=o,r.classList.remove("ni-closed-icon"),r.classList.add("ni-open-icon"),n.currentBtn=r,null!==e&&(e.style.display="none"),null!==t&&(t.classList.remove("ni-open-icon"),t.classList.add("ni-closed-icon"))}else o.style.display="none",r.classList.remove("ni-open-icon"),r.classList.add("ni-closed-icon"),n.currentRow=null,n.currentBtn=null}),n.applyFont()}createMainRow(t,i){var n,r,o,a,s,l,d,c,h,u,p,m=this
return(n=document.createElement("tr")).className="ni-master-row",t.appendChild(n),(r=document.createElement("td")).className="ni-expand-box",n.appendChild(r),p=this.uihelpers.createJQXButton("ni-expand-button ni-closed-icon",!1),r.appendChild(p),p.width=20,p.height=20,p.disabled=m.isDisabledOrInEditMode(),(o=document.createElement("td")).className="ni-cursor-box",n.appendChild(o),null!==(h=m.cursorLegendItemDisplay.createHeaderDisplay(i))&&o.appendChild(h),(d=document.createElement("span")).className="ni-cursor-title",c=document.createTextNode(m.helpers.getState("name",i)),d.appendChild(c),o.appendChild(d),(a=document.createElement("td")).className="ni-x-box",n.appendChild(a),(d=document.createElement("span")).className="ni-x-title",c=document.createTextNode(parseFloat(m.helpers.getState("x",i))),d.appendChild(c),a.appendChild(d),(s=document.createElement("td")).className="ni-y-box",n.appendChild(s),(d=document.createElement("span")).className="ni-y-title",c=document.createTextNode(parseFloat(m.helpers.getState("y",i))),d.appendChild(c),s.appendChild(d),(l=document.createElement("td")).className="ni-actions-box",n.appendChild(l),u=this.uihelpers.createJQXButton("ni-delete-icon ni-action-button",!1),l.appendChild(u),e(u).on("click",function(){m.helpers.handleClick("delete","",i)}),u.disabled=m.isDisabledOrInEditMode(),u=this.uihelpers.createJQXButton("ni-center-icon ni-action-button",!1),l.appendChild(u),e(u).on("click",function(){m.helpers.handleClick("center","",i)}),u.disabled=m.isDisabledOrInEditMode(),u=this.uihelpers.createJQXButton("ni-snap-icon ni-action-button",!0),l.appendChild(u),e(u).on("click",function(){m.helpers.handleClick("snap","",i)}),u.disabled=m.isDisabledOrInEditMode(),u=this.uihelpers.createJQXButton("ni-visibility-button ni-action-button",!0),m.helpers.getState("visible",i)?u.classList.add("ni-visibility-on-icon"):u.classList.add("ni-visibility-off-icon"),e(u).on("click",function(){m.helpers.handleClick("visible","",i)}),l.appendChild(u),u.disabled=m.isDisabledOrInEditMode(),p}createDetailsItem(e,t){var i,n,r,o,a
return(i=document.createElement("tr")).className="ni-details-row",e.appendChild(i),(n=document.createElement("td")).className="ni-details-row-title-box",i.appendChild(n),(o=document.createElement("span")).class="ni-details-row-title",n.appendChild(o),a=document.createTextNode(t),o.appendChild(a),(r=document.createElement("td")).className="ni-details-row-control-box",i.appendChild(r),r}createDetailsRow(e,t){var i,n,r,o
return(n=document.createElement("tr")).className="ni-details-box",n.style.display="none",e.appendChild(n),(r=document.createElement("td")).colSpan=5,n.appendChild(r),(i=document.createElement("table")).className="ni-details",r.appendChild(i),o=this.createDetailsItem(i,"Color"),this.uihelpers.addColorBox({name:"Color"},o,t,"ni-colorbox-selector ni-selector"),o=this.createDetailsItem(i,"Shape"),this.uihelpers.addComboBox(this.helpers.getMenuItem("shape"),o,t,16,"ni-shape-selector ni-selector"),o=this.createDetailsItem(i,"Crosshair"),this.uihelpers.addComboBox(this.helpers.getMenuItem("crosshair"),o,t,16,"ni-crosshair-selector ni-selector"),n}setFont(t,i,n,r,o){var a=this.firstElementChild,s=e(this),l=e("#"+a.id+" .jqx-widget-content"),d=e("#"+a.id+" .ni-cursor-title"),c=e("#"+a.id+" .ni-x-title"),h=e("#"+a.id+" .ni-y-title"),u=e("#"+a.id+" .ni-details-title")
s.css({"font-size":t,"font-family":i,"font-weight":n,"font-style":r}),l.css({"font-size":t,"font-family":i,"font-weight":n,"font-style":r}),d.css({"font-size":t,"font-family":i,"font-weight":n,"font-style":r}),c.css({"font-size":t,"font-family":i,"font-weight":n,"font-style":r}),h.css({"font-size":t,"font-family":i,"font-weight":n,"font-style":r}),u.css({"font-size":t,"font-family":i,"font-weight":n,"font-style":r})}applyFont(){var t=this.firstElementChild,i=e("#"+t.id+" .jqx-widget-content"),n=e("#"+t.id+" .ni-cursor-title"),r=e("#"+t.id+" .ni-x-title"),o=e("#"+t.id+" .ni-y-title"),a=e("#"+t.id+" .ni-details-title"),s=e(this).css("font-size"),l=e(this).css("font-family"),d=e(this).css("font-weight"),c=e(this).css("font-style")
i.css({"font-size":s,"font-family":l,"font-weight":d,"font-style":c}),n.css({"font-size":s,"font-family":l,"font-weight":d,"font-style":c}),r.css({"font-size":s,"font-family":l,"font-weight":d,"font-style":c}),o.css({"font-size":s,"font-family":l,"font-weight":d,"font-style":c}),a.css({"font-size":s,"font-family":l,"font-weight":d,"font-style":c})}propertyChangedHandler(t,i,n){var r=this
switch(super.propertyChangedHandler(t,i,n),t){case"graphRef":this.helpers.graph.cursorLegend=null
var o=this.findGraph()
this.attachToGraph(o)
break
case"disabled":case"isInEditMode":this.helpers.isInEditMode=this.isInEditMode,null!==this.addButton&&(this.addButton.disabled=this.isDisabledOrInEditMode()),e(this.table).find(".ni-center-icon").each(function(){this.disabled=r.isDisabledOrInEditMode()}),e(this.table).find(".ni-expand-button").each(function(){this.disabled=r.isDisabledOrInEditMode()}),e(this.table).find(".ni-snap-icon").each(function(){this.disabled=r.isDisabledOrInEditMode()}),e(this.table).find(".ni-delete-icon").each(function(){this.disabled=r.isDisabledOrInEditMode()}),e(this.table).find(".ni-visibility-button").each(function(){this.disabled=r.isDisabledOrInEditMode()}),e(this.table).find(".ni-colorbox-selector").each(function(){this.disabled=r.isDisabledOrInEditMode()}),e(this.table).find(".ni-shape-selector").each(function(){this.disabled=r.isDisabledOrInEditMode()}),e(this.table).find(".ni-crosshair-selector").each(function(){this.disabled=r.isDisabledOrInEditMode()})}}})}(),function(){NationalInstruments.HtmlVI.Elements.CursorLegendItemDisplay=function(e){this.helpers=e,this.items=[]}
var e=NationalInstruments.HtmlVI.Elements.CursorLegendItemDisplay.prototype,t="http://www.w3.org/2000/svg"
e.clearShape=function(e){this.items.splice(e,1)},e.createHeaderDisplay=function(e){var i
return void 0===e?null:((i=document.createElementNS(t,"svg")).setAttribute("class","ni-cursor-display"),i.setAttribute("width","16"),i.setAttribute("height","16"),i.setAttribute("viewBox","0,0,16,16"),i.setAttributeNS("http://www.w3.org/2000/xmlns/","xmlns:xlink","http://www.w3.org/1999/xlink"),this.addShapes(e,i,t),this.items.push(i),i)},e.addShapes=function(e,t,i){this.makeShape(e,t,i),this.makeCursorCross(e,t,i)},e.makeCursorCross=function(e,t,i){switch(e.crosshairStyle){case"none":break
case"vertical":this.makeLine(e,t,i,"8","1","8","4"),this.makeLine(e,t,i,"8","12","8","15")
break
case"horizontal":this.makeLine(e,t,i,"12","8","15","8"),this.makeLine(e,t,i,"1","8","4","8")
break
default:this.makeLine(e,t,i,"8","1","8","4"),this.makeLine(e,t,i,"12","8","15","8"),this.makeLine(e,t,i,"8","12","8","15"),this.makeLine(e,t,i,"1","8","4","8")}},e.makeShape=function(e,t,i){var n,r,o=e.targetShape,a=window.getComputedStyle(e).color
switch(o){case"ellipse":(r=document.createElementNS(i,"circle")).setAttribute("cx","8"),r.setAttribute("cy","8"),r.setAttribute("r","4"),r.setAttribute("stroke",a),r.setAttribute("stroke-width","1"),r.setAttribute("fill","rgba(0, 0, 0, 0)"),t.appendChild(r)
break
case"rectangle":(n=document.createElementNS(i,"rect")).setAttribute("x","4"),n.setAttribute("y","4"),n.setAttribute("width","8"),n.setAttribute("height","8"),n.setAttribute("stroke",a),n.setAttribute("stroke-width","1"),n.setAttribute("fill","rgba(0, 0, 0, 0)"),t.appendChild(n)
break
case"diamond":this.makeLine(e,t,i,"8","4","12","8"),this.makeLine(e,t,i,"12","8","8","12"),this.makeLine(e,t,i,"8","12","4","8"),this.makeLine(e,t,i,"4","8","8","4")
break
case"cross":this.makeLine(e,t,i,"4","4","12","12"),this.makeLine(e,t,i,"4","12","12","4")
break
case"plus":this.makeLine(e,t,i,"8","4","8","12"),this.makeLine(e,t,i,"4","8","12","8")}},e.makeLine=function(e,t,i,n,r,o,a){var s=document.createElementNS(i,"line"),l=window.getComputedStyle(e).color
s.setAttribute("x1",n),s.setAttribute("y1",r),s.setAttribute("x2",o),s.setAttribute("y2",a),s.setAttribute("stroke",l),s.setAttribute("stroke-width",1),t.appendChild(s)},e.updateShape=function(e){var i=this.helpers.getIndex(e),n=this.items[i]
if(void 0===e)return null
if(void 0===n)return null
for(;n.firstChild;)n.removeChild(n.firstChild)
this.addShapes(e,n,t)}}(),function(){var e=NationalInstruments.HtmlVI.NISupport,t=NationalInstruments.Globals.jQuery,i=Object.freeze({Ellipse:"Ellipse",Rectangle:"Rectangle",Diamond:"Diamond",Cross:"Cross",Plus:"Plus"}),n=Object.freeze({None:"No style",Vertical:"Vertical",Horizontal:"Horizontal",Both:"Both"})
NationalInstruments.HtmlVI.Elements.CursorLegendHelpers=function(){this.graph=null,this.isInEditMode=!1,this.cursors=[],this.defaultCursorName=e.i18n("msg_defaultcursorname"),this.targetShapeOptions=i,this.crosshairStyleOptions=n}
var r=NationalInstruments.HtmlVI.Elements.CursorLegendHelpers,o=r.prototype
o.getMenuItem=function(e){return"shape"===e?{name:"Target Shape",tag:"msg_targetshape",children:[{name:i.Ellipse,tag:"msg_ellipse",cssClass:"ni-ellipse-point-style-icon"},{name:i.Rectangle,tag:"msg_rectangle",cssClass:"ni-rect-point-style-icon"},{name:i.Diamond,tag:"msg_diamond",cssClass:"ni-diamond-point-style-icon"},{name:i.Cross,tag:"msg_cross",cssClass:"ni-cross-point-style-icon"},{name:i.Plus,tag:"msg_plus",cssClass:"ni-plus-point-style-icon"}]}:"crosshair"===e?{name:"Crosshair Style",tag:"msg_crosshairstyle",children:[{name:n.None,tag:"msg_nostyle",cssClass:"ni-no-crosshair-icon"},{name:n.Vertical,tag:"msg_vertical",cssClass:"ni-vertical-crosshair-icon"},{name:n.Horizontal,tag:"msg_horizontal",cssClass:"ni-horizontal-crosshair-icon"},{name:n.Both,tag:"msg_both",cssClass:"ni-both-crosshair-icon"}]}:void 0},o.cursorAdded=function(e){-1===this.getIndex(e)&&this.cursors.push(e)},o.cursorRemoved=function(e){this.cursors.splice(this.getIndex(e),1)},o.addCursor=function(){var e=this.graph,t=document.createElement("ni-cursor")
t.show=!0,t.showValue=!0,this.cursors.push(t),t.label=this.nextCursorName(),e.appendChild(t)},o.cursorPositionChanged=function(e,i){if(void 0===e)throw new Error("cursor is undefined")
t(e).on("cursorUpdated",function(e,t){i(t)})},o.clearCache=function(){this.cursors.length=0},o.getCursor=function(e){var t,i,n=0,r=null
if(null===this.cursors[e]||void 0===this.cursors[e]){if(null!==(t=this.graph))for(i in t.childNodes)if("ni-cursor"===t.childNodes[i].localName){if(n===e){r=t.childNodes[i]
break}n++}null!==r&&(this.cursors[e]=r)}return this.cursors[e]},o.nextCursorName=function(){var e,t,i=0,n=this.graph
if(null!==n)for(r in n.childNodes)"ni-cursor"===n.childNodes[r].localName&&(t=n.childNodes[r],(e=parseInt(t.label.substring(this.defaultCursorName.length)))>i&&(i=e))
return this.defaultCursorName+" "+(i+1)},o.deleteCursor=function(e){var t=this.graph
null!=e&&t.removeChild(e)},o.getIndex=function(e){return this.cursors.indexOf(e)},o.handleClick=function(e,t,r){if(null!==r||void 0!==r)switch(e){case"name":case"x":case"y":break
case"visible":r.show=!r.show
break
case"snap":r.snapToPlot=-1!==r.snapToPlot?-1:void 0
break
case"center":r.snapToPlot=void 0,r.x=.5,r.y=.5
break
case"delete":this.deleteCursor(r)
break
case i.Ellipse:r.targetShape="ellipse"
break
case i.Rectangle:r.targetShape="rectangle"
break
case i.Diamond:r.targetShape="diamond"
break
case i.Cross:r.targetShape="cross"
break
case i.Plus:r.targetShape="plus"
break
case n.None:r.crosshairStyle="none"
break
case n.Vertical:r.crosshairStyle="vertical"
break
case n.Horizontal:r.crosshairStyle="horizontal"
break
case n.Both:r.crosshairStyle="both"
break
case"Color":r.setColor(t)}},o.getState=function(e,t){if(null!=t){var r
switch(e){case"name":r=t.label
break
case"x":r=t.x
break
case"y":r=t.y
break
case"visible":r=t.show
break
case"snap":r=-1===t.snapToPlot
break
case"center":case"delete":break
case i.Ellipse:r="ellipse"===t.targetShape
break
case i.Rectangle:r="rectangle"===t.targetShape
break
case i.Diamond:r="diamond"===t.targetShape
break
case i.Cross:r="cross"===t.targetShape
break
case i.Plus:r="plus"===t.targetShape
break
case n.None:r="none"===t.crosshairStyle
break
case n.Vertical:r="vertical"===t.crosshairStyle
break
case n.Horizontal:r="horizontal"===t.crosshairStyle
break
case n.Both:r="both"===t.crosshairStyle
break
case"Color":r=window.getComputedStyle(t).color}return r}},o.getTargetShape=function(e){var t=this.getCursor(e)
return null!=t?t.targetShape:"ellipse"},o.getCrosshair=function(e){var t=this.getCursor(e)
if(null!=t)return t.crosshairStyle}}(),function(){var e=NationalInstruments.Globals.jQuery
JQX("ni-scale-legend",class extends NationalInstruments.HtmlVI.Elements.GraphLegend{created(){super.created(),this.tbl=void 0,this.nScales=0,this.currentExpander=null,this.helpers=new NationalInstruments.HtmlVI.Elements.ScaleLegendHelpers,this.uihelpers=new NationalInstruments.HtmlVI.Elements.LegendHelpers(this.helpers,null)}scaleAdded(e){this.helpers.scaleToIndex(e)<this.nScales||(this.createRow(this.tbl,this.nScales),this.helpers.addScale(this.nScales),this.nScales++)}scaleRemoved(e){var t,i,n,r,o=null
for(n=0,i=0;i<this.tbl.childNodes.length;i++){if("tr"===this.tbl.childNodes[i].localName&&(t=this.tbl.childNodes[i]).childNodes[0].innerText===e.label){o=t,r=n
break}n++}null!==o&&(this.tbl.removeChild(o),this.helpers.clearScale(r)),this.nScales--}createRows(){var e
for(e=0;e<this.nScales;e++)this.createRow(this.tbl,e)}removeRows(){var e
for(e=this.nScales-1;e>=0;e--){var t=this.helpers.getScale(e)
null!==t&&this.scaleRemoved(t)}}attachToGraph(e){this.detachFromGraph(),e&&e.isReady&&(this.helpers.graph=e,e.registerScaleLegend(this))}detachFromGraph(){this.helpers.graph=null,this.helpers.clearScale(),this.removeRows()}attached(){super.attached()
var t=document.createElement("div"),i=this
this.helpers.graph=this.findGraph(),this.helpers.isInEditMode=this.isInEditMode,t.style.width="100%",t.style.height="100%",this.appendChild(t),this.tbl=document.createElement("table"),this.tbl.className="ni-scale-legend-box",t.appendChild(this.tbl),this.addEventListener("ni-cartesian-axis-attached",function(e){var t=e.detail.originalSource
t.initialAutoscale=t.autoScale,i.scaleAdded(t)}),this.addEventListener("ni-cartesian-axis-detached",function(e){i.scaleRemoved(e.detail.originalSource)}),this.addEventListener("ni-axis-changed",function(t){var n=t.detail.originalSource,r=i.helpers.scaleToIndex(n),o=e(this.tbl).find(".ni-row-title"),a=e(this.tbl).find(".ni-lock-button")
e(o[r]).first().text(n.label),this.setLockBackground(a[r],!1,r)})
var n=this.findGraph()
null!==n&&this.attachToGraph(n)}createRow(t,i){var n,r,o,a,s,l,d,c,h=this
n=document.createElement("tr"),t.appendChild(n),(r=document.createElement("td")).className="ni-row-title-box",n.appendChild(r),(s=document.createElement("span")).className="ni-row-title",r.appendChild(s)
var u=h.helpers.getState("name",i)
l=document.createTextNode(u),s.appendChild(l),(o=document.createElement("td")).className="ni-lock-box",n.appendChild(o),(d=this.uihelpers.createJQXButton("ni-lock-button ni-button",!0)).disabled=!this.helpers.getState("canLock",i)||h.isDisabledOrInEditMode(),e(d).on("click",function(){h.helpers.handleClick("lock",i),h.setLockBackground(d,!1,i)}),h.setLockBackground(d,!0,i),o.appendChild(d),(a=document.createElement("td")).className="ni-reset-offset-box",n.appendChild(a),(c=this.uihelpers.createJQXButton("ni-reset-offset-icon ni-button",!1)).disabled=h.isDisabledOrInEditMode(),e(c).on("click",function(){h.helpers.handleClick("resetOffset",i),h.setLockBackground(d,!1,i)}),a.appendChild(c),this.applyFont()}setLockBackground(e,t,i){var n=this.helpers.getState("lock",i)
void 0!==n&&(!0===t&&(e.checked=n),!0===n?(e.classList.remove("ni-locked-icon"),e.classList.add("ni-unlocked-icon")):(e.classList.remove("ni-unlocked-icon"),e.classList.add("ni-locked-icon")))}setFont(t,i,n,r,o){var a=this.firstElementChild,s=e(this),l=e(a).find(" .ni-row-title")
s.css({"font-size":t,"font-family":i,"font-weight":n,"font-style":r}),l.css({"font-size":t,"font-family":i,"font-weight":n,"font-style":r})}applyFont(){var t=this.firstElementChild,i=e(t).find(" .ni-row-title"),n=e(this).css("font-size"),r=e(this).css("font-family"),o=e(this).css("font-weight"),a=e(this).css("font-style")
i.css({"font-size":n,"font-family":r,"font-weight":o,"font-style":a})}updateDisabledState(){let t=this
e(this.tbl).find(".ni-lock-button").each(function(){this.disabled=t.isDisabledOrInEditMode()}),e(this.tbl).find(".ni-reset-offset-icon").each(function(){this.disabled=t.isDisabledOrInEditMode()})}propertyChangedHandler(e,t,i){switch(super.propertyChangedHandler(e,t,i),e){case"graphRef":this.helpers.graph.scaleLegend=null
var n=this.findGraph()
this.attachToGraph(n)
break
case"disabled":case"isInEditMode":this.helpers.isInEditMode=this.isInEditMode,this.updateDisabledState()}}})}(),function(){NationalInstruments.HtmlVI.Elements.ScaleLegendHelpers=function(){this.graph=null,this.isInEditMode=!1,this.scales=[]}
var e=NationalInstruments.HtmlVI.Elements.ScaleLegendHelpers.prototype
e.addScale=function(){},e.clearScale=function(e){this.scales[e]=null},e.getScale=function(e){var t,i,n=0,r=null
if(null===this.scales[e]||void 0===this.scales[e]){if(null!==(t=this.graph))for(i in t.childNodes)if("ni-cartesian-axis"===t.childNodes[i].localName||"ni-color-scale"===t.childNodes[i].localName){if(n===e){r=t.childNodes[i]
break}n++}if(null===r)return null
this.scales[e]=r}return this.scales[e]},e.scaleToIndex=function(e){var t,i,n=0,r=-1
if(null!==(t=this.graph))for(i in t.childNodes)if("ni-cartesian-axis"===t.childNodes[i].localName||"ni-color-scale"===t.childNodes[i].localName){if(t.childNodes[i]===e){r=n
break}n++}return r},e.handleClick=function(e,t){if(!0!==this.isInEditMode){var i=this.getScale(t)
if(null===i)return
switch(e){case"lock":"none"!==i.autoScale?(i.initialAutoscale=i.autoScale,i.autoScale="none"):i.autoScale=i.savedAutoScale&&"none"!==i.savedAutoScale?i.savedAutoScale:i.initialAutoscale&&"none"!==i.initialAutoscale?i.initialAutoscale:"loose",i.resetOffset&&i.resetOffset(!0,!0)
break
case"resetOffset":i.resetOffset&&i.resetOffset(!1,!0)}}},e.getState=function(e,t){var i=this.getScale(t)
if(null!==i){var n
switch(e){case"canLock":n="ni-color-scale"!==i.localName
break
case"lock":n="none"!==i.autoScale
break
case"resetOffset":break
case"name":n=i.label}return n}}}(),function(){var e=Object.freeze({LOCKED:"locked",PAN:"pan",ZOOM:"zoom"}),t=NationalInstruments.Globals.jQuery,i=NationalInstruments.HtmlVI.NISupport,n={}
n[e.LOCKED]=[!0,!1,!1],n[e.PAN]=[!1,!0,!1],n[e.ZOOM]=[!1,!1,!0],JQX("ni-graph-tools",class extends NationalInstruments.HtmlVI.Elements.GraphLegend{static get properties(){return Object.assign({},super.properties,{mode:{value:e.LOCKED,type:"string"}})}created(){super.created(),this._parentGraph=void 0,this.lockButton=null,this.panButton=null,this.zoomButton=null,this.zoomOutButton=null,this.toggleAutoScaleButton=null,this.snapshotButton=null,this.rangeMismatch=!0,this.uihelpers=new NationalInstruments.HtmlVI.Elements.LegendHelpers(this.helpers,null),this.autoScaleStates={},this._eventHandlers=[]}addTrackedEventHandler(e,t,i){e.addEventListener(t,i),this._eventHandlers.push({element:e,event:t,handler:i})}removeTrackedEventHandler(e,t,i){e.removeEventListener(t,i)
var n=this._eventHandlers.findIndex(n=>e===n.element&&t===n.event&&i===n.handler)
n>-1&&this._eventHandlers.splice(n,1)}removeTrackedEventHandlers(){this._eventHandlers.forEach(e=>{e.element.removeEventListener(e.event,e.handler)}),this._eventHandlers=[]}ready(){super.ready(),this.addListeners()}attachToGraph(e){e&&e.isReady&&(this._parentGraph=e,e.registerGraphTools(this))}updateCartesianAxesFromFlot(){this._parentGraph.axes.forEach(function(e){e instanceof JQX.CartesianAxis&&e.syncWithFlot()}),this.rangeMismatch=!1}addListeners(){var e=this
this.addTrackedEventHandler(this,"ni-cartesian-graph-box-selected",function(i){var n=i.detail.originalSource.ranges,r=e._parentGraph.graph
t.each(r.getAxes(),function(e,t){!0!==t.options.disableZoom&&n[e]&&function(e,t){var i=e.options,n=t.from-e.min,r=t.to-e.max
i.offset?(i.offset.below=(i.offset.below||0)+n,i.offset.above=(i.offset.above||0)+r):i.offset={above:r,below:n}}(t,n[e])}),r.setupGrid(),r.draw(),r.clearSelection(),this.updateCartesianAxesFromFlot()}),this.addTrackedEventHandler(this,"ni-cartesian-graph-interaction",function(){this.updateCartesianAxesFromFlot()}),this.addTrackedEventHandler(this,"ni-axis-reset",function(){this.rangeMismatch=!0})}allAutoScaleOn(){return this._parentGraph.axes.every(e=>"none"!==e.autoScale)}setAutoScaleButtonActiveState(){this.allAutoScaleOn()?this.toggleAutoScaleButton.classList.add("ni-active-button"):this.toggleAutoScaleButton.classList.remove("ni-active-button")}attached(){var e
super.attached(),(e=document.createElement("div")).id="div"+i.uniqueId(),e.style.width="100%",e.style.height="100%",this.appendChild(e),this.table=document.createElement("table"),this.table.className="ni-graph-tools-box",e.appendChild(this.table),this.createRow(this.table),this.updateDisabledState(),this.addTrackedEventHandler(this,"ni-cartesian-axis-attached",function(e){null!==this.toggleAutoScaleButton&&this.setAutoScaleButtonActiveState()})
var t=this.findGraph()
null!==t&&t instanceof NationalInstruments.HtmlVI.Elements.CartesianGraphBase&&this.attachToGraph(t)}detached(){super.detached(),this.removeTrackedEventHandlers(),void 0!==this._parentGraph&&(this._parentGraph.graphTools=void 0),this._parentGraph=void 0,this.table=void 0,t(this).empty()}asyncProcessAllImagesForComposition(e){function i(){}var n,r=this._parentGraph.graph.getCanvas(),o=document.createElementNS("http://www.w3.org/2000/svg","svg"),a=this._parentGraph.graph.getSurface().SVGContainer.childNodes[0],s=this._parentGraph.graph.getEventHolder(),l=function(e){const t=e.graph.getPlaceholder()
return t&&t.find(".flot-thumbs")[0]?t.find(".flot-thumbs")[0].firstChild:null}(this._parentGraph),d=function(e){const t=["ni-light-plot-legend","ni-chart","ni-cartesian-graph","ni-intensity-graph"]
for(var i=null,n="",r=0;r<t.length&&(n=t[r]+'[graph-ref="'+e+'"] svg.legendLayer',null==(i=document.querySelector(n)));r++);return i}(this._parentGraph.graphRef)
!function(e,i){var n=t.plot.browser.getPixelRatio(i.getContext("2d")),r=20*n
document.body.insertBefore(e,document.body.childNodes[0]),n<1?(e.setAttributeNS(null,"width",i.width/n+r),e.setAttributeNS(null,"height",i.height/n+r)):(e.setAttributeNS(null,"width",i.width+r),e.setAttributeNS(null,"height",i.height+r)),e.style.width=i.style.width+r,e.style.height=i.style.height+r,e.style.position="absolute"
var o=i.getBoundingClientRect().left+window.scrollX-10,a=i.getBoundingClientRect().top+window.scrollY-10
e.style.left=o+"px",e.style.top=a+"px"}(o,r),function(e,t){var i=document.createElementNS(e,"rect")
i.setAttributeNS(null,"x",0),i.setAttributeNS(null,"y",0),i.setAttributeNS(null,"style","fill:"+t),i.setAttributeNS(null,"width",e.width.baseVal.value+"px"),i.setAttributeNS(null,"height",e.height.baseVal.value+"px"),e.appendChild(i)}(o,void 0!==e?e:window.getComputedStyle(this._parentGraph).backgroundColor),n=[o,r,a,s,l,d]
var c=document.createElement("canvas")
return this._parentGraph.takeGraphSnapshot(n,c).then(function(e){return function(t){e.parentNode.removeChild(e)}}(o),i).then(function(){return c},i)}downloadSnapshot(){var e=this
function i(){}var n=function(){e.asyncProcessAllImagesForComposition().then(function(e){var i=document.createElement("img")
i.width=e.width,i.height=e.height,i.src=e.toDataURL("image/png")
var n=function(e){var t=URL.createObjectURL(e)
i.src=t
var n,r,o,a,s,l,d,c=document.createElement("A")
c.download="Snapshot_"+(r=(n=new Date).getFullYear(),(o=n.getMonth()+1)<10&&(o="0"+o),(a=n.getDate())<10&&(a="0"+a),(s=n.getHours())<10&&(s="0"+s),(l=n.getMinutes())<10&&(l="0"+l),(d=n.getSeconds())<10&&(d="0"+d),r+"."+o+"."+a+"_"+s+"."+l+"."+d)+".png",c.href=i.src
var h=new MouseEvent("click")
c.dispatchEvent(h)}
return t.plot.browser.isEdge()?n(e.msToBlob()):e.toBlob(n),e},i),e._parentGraph.graph.getEventHolder().removeEventListener("onDrawingDone",n)}
e._parentGraph.graph.getEventHolder().addEventListener("onDrawingDone",n),e._parentGraph.updateGraphConfig()}createRow(t){var i,r,o,a,s,l,d,c,h,u,p,m,f,g=this
function v(e){var t=n[e]
t&&(function(e,t,i){c.classList.remove("ni-active-button"),h.classList.remove("ni-active-button"),u.classList.remove("ni-active-button"),c.disabled=e,e&&c.classList.add("ni-active-button"),h.disabled=t,t&&h.classList.add("ni-active-button"),u.disabled=i,i&&u.classList.add("ni-active-button")}.apply(null,t),g.mode=e)}function b(e){return void 0!==e.jqxId?e.jqxId:e.label}function y(){var e=g._parentGraph
for(var t in e.childNodes){var i=e.childNodes[t]
if("ni-cartesian-axis"===i.localName||"ni-color-scale"===i.localName){var n=b(i)
void 0!==n&&(g.autoScaleStates[n]=i.autoScale,i.savedAutoScale=i.autoScale,i.autoScale="none")}}}function _(e){var t=b(e)
return g.autoScaleStates[t]}function w(){var e=g._parentGraph
for(var t in e.childNodes){var i=e.childNodes[t]
if("ni-cartesian-axis"===i.localName||"ni-color-scale"===i.localName){var n=_(i)
void 0!==n?i.autoScale="none"!==n?n:"loose":void 0!==i.initialAutoScale&&"none"!==i.initialAutoScale?i.autoScale=i.initialAutoScale:i.autoScale="loose"}}g.autoScaleStates={}}function x(e){g._parentGraph.axes.forEach(function(t){t.resetOffset&&t.resetOffset(e)})}g.addTrackedEventHandler(g,"ni-axis-changed",function(t){var i,n=t.detail.originalSource
"none"!==n.autoScale&&void 0!==_(n)&&(v(e.LOCKED),i=b(n),delete g.autoScaleStates[i]),g.setAutoScaleButtonActiveState()}),i=document.createElement("tr"),t.appendChild(i),(r=document.createElement("td")).className="ni-button-box",i.appendChild(r),c=this.uihelpers.createJQXButton("ni-locked-icon ni-button",!1),this.addTrackedEventHandler(c,"click",function(){v(e.LOCKED)}),r.appendChild(c),g.lockButton=c,(o=document.createElement("td")).className="ni-button-box",i.appendChild(o),h=this.uihelpers.createJQXButton("ni-pan-icon ni-button",!1),this.addTrackedEventHandler(h,"click",function(){w(),y(),x(!0),v(e.PAN)}),o.appendChild(h),g.panButton=h,(a=document.createElement("td")).className="ni-button-box",i.appendChild(a),u=this.uihelpers.createJQXButton("ni-zoom-region-icon ni-button",!1),this.addTrackedEventHandler(u,"click",function(){w(),y(),x(!0),v(e.ZOOM)}),a.appendChild(u),g.zoomButton=u,v(this.mode),(s=document.createElement("td")).className="ni-button-box",i.appendChild(s),(p=this.uihelpers.createJQXButton("ni-zoom-out-icon ni-button",!1)).disabled=!1,this.addTrackedEventHandler(p,"click",function(){x(!1)}),s.appendChild(p),g.zoomOutButton=p,(l=document.createElement("td")).className="ni-button-box",i.appendChild(l),(m=this.uihelpers.createJQXButton("ni-toggle-autoscale-icon ni-button",!1)).disabled=!1,this.addTrackedEventHandler(m,"click",function(){g.allAutoScaleOn()?y():(v(e.LOCKED),w()),g.setAutoScaleButtonActiveState(),x(!0)}),l.appendChild(m),g.toggleAutoScaleButton=m,(d=document.createElement("td")).className="ni-button-box",i.appendChild(d),(f=this.uihelpers.createJQXButton("ni-snapshot-icon ni-button",!1)).disabled=!1,this.addTrackedEventHandler(f,"click",function(){g.downloadSnapshot()}),d.appendChild(f),g.snapshotButton=f}allowsScrollWheelZoom(){return this.mode===e.PAN||this.mode===e.ZOOM}allowsPan(){return this.mode===e.PAN}sendEventToParentGraph(e){var t
void 0!==this._parentGraph&&(t={bubbles:!0,cancelable:!0,detail:{element:this}},this._parentGraph.dispatchEvent(new CustomEvent(e,t)))}updateDisabledState(){null!==this.lockButton&&(this.lockButton.disabled=this.disabled),null!==this.panButton&&(this.panButton.disabled=this.disabled),null!==this.zoomButton&&(this.zoomButton.disabled=this.disabled),null!==this.zoomOutButton&&(this.zoomOutButton.disabled=this.disabled),null!==this.toggleAutoScaleButton&&(this.toggleAutoScaleButton.disabled=this.disabled),null!==this.snapshotButton&&(this.snapshotButton.disabled=this.disabled)}propertyChangedHandler(e,t,i){switch(super.propertyChangedHandler(e,t,i),e){case"graphRef":var n=this.findGraph()
null!=n&&this.attachToGraph(n)
break
case"mode":this.sendEventToParentGraph("ni-graph-tools-changed")
break
case"disabled":this.updateDisabledState()}}})}()
var dn=Object.freeze({})
let cn,hn={}
class un{static get currentActivityId(){return cn}static set currentActivityId(e){cn=e}static get registeredActivities(){return hn}static set registeredActivities(e){hn=e}static createUIActivityObject(e){let t=!1
if("object"!=typeof e||null===e)throw new Error(Ri.i18n("msg_NO_PARAMETERS_SPECIFIED","UIActivityService.register"))
if("string"!=typeof e.id)throw new Error(Ri.i18n("msg_PARAMETER_NOT_STRING",e.id))
if(e.element instanceof window.HTMLElement==!1)throw new Error(Ri.i18n("msg_PARAMETER_NOT_DOM_ELEMENT",e.element))
if(void 0!==e.down&&"function"!=typeof e.down)throw new Error("If a down parameter is provided it must be a function")
if(void 0!==e.up&&"function"!=typeof e.up)throw new Error("If an up parameter is provided it must be a function")
if(void 0===e.up&&void 0===e.down)throw new Error(Ri.i18n("msg_REQUIRES_AT_LEAST_ONE_PARAMETER","up, down",e))
return"function"==typeof e.up&&"function"!=typeof e.down&&(t=!0),{id:e.id,element:e.element,ignoreTouchListeners:t,down:e.down,downEventListener:void 0,up:e.up,upEventListener:void 0}}static addListenerToElement(e,t,i,n){!0!==n&&t.addEventListener(e,i,!0)}static removeListenerFromElement(e,t,i,n){!0!==n&&t.removeEventListener(e,i,!0)}static stopCurrentActivityListeners(){let e
void 0!==un.currentActivityId&&(e=un.registeredActivities[un.currentActivityId],un.removeListenerFromElement("mouseup",window,e.upEventListener),un.removeListenerFromElement("touchend",e.element,e.upEventListener,e.ignoreTouchListeners),un.removeListenerFromElement("touchcancel",e.element,e.upEventListener,e.ignoreTouchListeners),e.upEventListener=e.moveEventListener=void 0,un.currentActivityId=void 0)}static verifyCurrentActivityActivated(e){if(e.id!==un.currentActivityId)throw new Error(Ri.i18n("msg_UNEXPECTED_BEHAVIOR","Attempted to complete activity that was NOT the current activity. Only the current activity should be able to fire the up action."))}static upAction(e,t){un.verifyCurrentActivityActivated(e),un.stopCurrentActivityListeners(),Ri.infoVerbose("Activity Service (UP) Action",t),"function"==typeof e.up&&e.up.call(void 0,t)}static startCurrentActivityListeners(e){"function"==typeof e.up&&(un.currentActivityId=e.id,e.upEventListener=un.upAction.bind(void 0,e),un.addListenerToElement("mouseup",window,e.upEventListener),un.addListenerToElement("touchend",e.element,e.upEventListener,e.ignoreTouchListeners),un.addListenerToElement("touchcancel",e.element,e.upEventListener,e.ignoreTouchListeners))}static downAction(e,t){let i
e.id!==un.currentActivityId&&(void 0!==un.currentActivityId&&(i=un.registeredActivities[un.currentActivityId],un.stopCurrentActivityListeners(),Ri.infoVerbose("Activity Service (UP) Action","no event args: new down started so ending previous"),"function"==typeof i.up&&i.up.call(void 0,void 0)),un.startCurrentActivityListeners(e),void 0!==window.TouchEvent&&t instanceof window.TouchEvent&&t.preventDefault(),Ri.infoVerbose("Activity Service (DOWN) Action",t),"function"==typeof e.down&&e.down.call(void 0,t))}static isRegistered(e){return void 0!==un.registeredActivities[e]}static unregister(e){const t=un.registeredActivities[e]
if(void 0===t)throw new Error(Ri.i18n("msg_UNKNOWN_ID",e,"Make sure to register an activity with the UIActivityService before attempting to remove the activity."))
t.id===un.currentActivityId&&(un.stopCurrentActivityListeners(),Ri.infoVerbose("Activity Service (UP) Action","no event args: unregister called while event action active so ending previous"),"function"==typeof t.up&&t.up.call(void 0,void 0)),un.removeListenerFromElement("mousedown",t.element,t.downEventListener),un.removeListenerFromElement("touchstart",t.element,t.downEventListener,t.ignoreTouchListeners),un.registeredActivities[e]=void 0}static register(e){const t=un.createUIActivityObject(e)
void 0!==un.registeredActivities[t.id]&&un.unregister(t.id),un.registeredActivities[t.id]=t,t.downEventListener=un.downAction.bind(void 0,t),un.addListenerToElement("mousedown",t.element,t.downEventListener),un.addListenerToElement("touchstart",t.element,t.downEventListener,t.ignoreTouchListeners)}}window.addEventListener("blur",function(){let e
void 0!==un.currentActivityId&&(e=un.registeredActivities[un.currentActivityId],un.stopCurrentActivityListeners(),Ri.infoVerbose("Activity Service (UP) Action","no event args: window lost focus so ending previous"),"function"==typeof e.up&&e.up.call(void 0,void 0))},!1)
var pn=Object.freeze({UIActivityService:un})
const mn=Object.freeze({UNINITIALIZED:"UNINITIALIZED",READY:"READY",STOPPED:"STOPPED",ERROR:"ERROR"}),fn=Object.freeze({NATIVE:"NATIVE",VIREO:"VIREO"}),gn=Object.freeze({IDE_EDIT:"IDE_EDIT",IDE_RUN:"IDE_RUN",BROWSER:"BROWSER"})
class vn{static get ServiceStateEnum(){return mn}static get PanelEngineEnum(){return fn}static get PanelLocationEnum(){return gn}}class bn{constructor(e){this._dataItemToControlMap=void 0,this.viModels=e}static createDataItemMaps(e){const t={}
let i
for(i in e)if(e.hasOwnProperty(i)){const n=e[i].getAllControlModels()
let r
for(r in void 0===t[i]&&(t[i]={}),n)if(n.hasOwnProperty(r)){const e=n[r].getEditorRuntimeBindingInfo()
void 0!==e&&void 0!==e.dataItem&&""!==e.dataItem&&(t[i][e.dataItem]=e)}}return t}getEditorRuntimeBindingInfo(e,t){void 0!==this._dataItemToControlMap&&void 0!==this._dataItemToControlMap[e]||(this._dataItemToControlMap=bn.createDataItemMaps(this.viModels))
const i=this._dataItemToControlMap[e][t]
if(void 0===i)throw new Error("Missing editorRuntimeBindingInfo - are you sure the model was created?. viModelName: "+e+" | dataItem:  "+t+" | registered dataItems: "+Object.keys(this._dataItemToControlMap[e]).join(", "))
return i}}var yn=yn||{}
yn.PackedData=yn.PackedData||{},yn.PackedData.AnyValue={NONE:0,PackedBooleanValue:1,PackedInt8Value:2,PackedUInt8Value:3,PackedInt16Value:4,PackedUInt16Value:5,PackedInt32Value:6,PackedUInt32Value:7,PackedInt64Value:8,PackedUInt64Value:9,PackedFloat32Value:10,PackedFloat64Value:11,PackedStringValue:12,PackedComplexFloat32Value:13,PackedComplexFloat64Value:14,PackedPathValue:15,PackedTimestampValue:16,PackedBlittableArrayValue:17,PackedArrayValue:18,PackedClusterValue:19,PackedVariantValue:20,PackedWaveformValue:21},yn.PackedData.AnyValueName={0:"NONE",1:"PackedBooleanValue",2:"PackedInt8Value",3:"PackedUInt8Value",4:"PackedInt16Value",5:"PackedUInt16Value",6:"PackedInt32Value",7:"PackedUInt32Value",8:"PackedInt64Value",9:"PackedUInt64Value",10:"PackedFloat32Value",11:"PackedFloat64Value",12:"PackedStringValue",13:"PackedComplexFloat32Value",14:"PackedComplexFloat64Value",15:"PackedPathValue",16:"PackedTimestampValue",17:"PackedBlittableArrayValue",18:"PackedArrayValue",19:"PackedClusterValue",20:"PackedVariantValue",21:"PackedWaveformValue"},yn.PackedData.AnyPackedType={NONE:0,PackedScalarType:1,PackedArrayType:2,PackedClusterType:3},yn.PackedData.AnyPackedTypeName={0:"NONE",1:"PackedScalarType",2:"PackedArrayType",3:"PackedClusterType"},yn.PackedData.PackedScalarType=function(){this.bb=null,this.bb_pos=0},yn.PackedData.PackedScalarType.prototype.__init=function(e,t){return this.bb_pos=e,this.bb=t,this},yn.PackedData.PackedScalarType.getRootAsPackedScalarType=function(e,t){return(t||new yn.PackedData.PackedScalarType).__init(e.readInt32(e.position())+e.position(),e)},yn.PackedData.PackedScalarType.getSizePrefixedRootAsPackedScalarType=function(e,t){return(t||new yn.PackedData.PackedScalarType).__init(e.readInt32(e.position())+e.position(),e)},yn.PackedData.PackedScalarType.prototype.typeType=function(){var e=this.bb.__offset(this.bb_pos,4)
return e?this.bb.readUint8(this.bb_pos+e):yn.PackedData.AnyValue.NONE},yn.PackedData.PackedScalarType.prototype.type=function(e){var t=this.bb.__offset(this.bb_pos,6)
return t?this.bb.__union(e,this.bb_pos+t):null},yn.PackedData.PackedScalarType.startPackedScalarType=function(e){e.startObject(2)},yn.PackedData.PackedScalarType.addTypeType=function(e,t){e.addFieldInt8(0,t,yn.PackedData.AnyValue.NONE)},yn.PackedData.PackedScalarType.addType=function(e,t){e.addFieldOffset(1,t,0)},yn.PackedData.PackedScalarType.endPackedScalarType=function(e){return e.endObject()},yn.PackedData.PackedScalarType.createPackedScalarType=function(e,t,i){return yn.PackedData.PackedScalarType.startPackedScalarType(e),yn.PackedData.PackedScalarType.addTypeType(e,t),yn.PackedData.PackedScalarType.addType(e,i),yn.PackedData.PackedScalarType.endPackedScalarType(e)},yn.PackedData.PackedArrayType=function(){this.bb=null,this.bb_pos=0},yn.PackedData.PackedArrayType.prototype.__init=function(e,t){return this.bb_pos=e,this.bb=t,this},yn.PackedData.PackedArrayType.getRootAsPackedArrayType=function(e,t){return(t||new yn.PackedData.PackedArrayType).__init(e.readInt32(e.position())+e.position(),e)},yn.PackedData.PackedArrayType.getSizePrefixedRootAsPackedArrayType=function(e,t){return(t||new yn.PackedData.PackedArrayType).__init(e.readInt32(e.position())+e.position(),e)},yn.PackedData.PackedArrayType.prototype.dimensions=function(){var e=this.bb.__offset(this.bb_pos,4)
return e?this.bb.readInt32(this.bb_pos+e):0},yn.PackedData.PackedArrayType.prototype.isBlittable=function(){var e=this.bb.__offset(this.bb_pos,6)
return!!e&&!!this.bb.readInt8(this.bb_pos+e)},yn.PackedData.PackedArrayType.prototype.elementType=function(e){var t=this.bb.__offset(this.bb_pos,8)
return t?(e||new yn.PackedData.PackedDataType).__init(this.bb.__indirect(this.bb_pos+t),this.bb):null},yn.PackedData.PackedArrayType.startPackedArrayType=function(e){e.startObject(3)},yn.PackedData.PackedArrayType.addDimensions=function(e,t){e.addFieldInt32(0,t,0)},yn.PackedData.PackedArrayType.addIsBlittable=function(e,t){e.addFieldInt8(1,+t,0)},yn.PackedData.PackedArrayType.addElementType=function(e,t){e.addFieldOffset(2,t,0)},yn.PackedData.PackedArrayType.endPackedArrayType=function(e){return e.endObject()},yn.PackedData.PackedArrayType.createPackedArrayType=function(e,t,i,n){return yn.PackedData.PackedArrayType.startPackedArrayType(e),yn.PackedData.PackedArrayType.addDimensions(e,t),yn.PackedData.PackedArrayType.addIsBlittable(e,i),yn.PackedData.PackedArrayType.addElementType(e,n),yn.PackedData.PackedArrayType.endPackedArrayType(e)},yn.PackedData.PackedClusterType=function(){this.bb=null,this.bb_pos=0},yn.PackedData.PackedClusterType.prototype.__init=function(e,t){return this.bb_pos=e,this.bb=t,this},yn.PackedData.PackedClusterType.getRootAsPackedClusterType=function(e,t){return(t||new yn.PackedData.PackedClusterType).__init(e.readInt32(e.position())+e.position(),e)},yn.PackedData.PackedClusterType.getSizePrefixedRootAsPackedClusterType=function(e,t){return(t||new yn.PackedData.PackedClusterType).__init(e.readInt32(e.position())+e.position(),e)},yn.PackedData.PackedClusterType.prototype.fieldNames=function(e,t){var i=this.bb.__offset(this.bb_pos,4)
return i?this.bb.__string(this.bb.__vector(this.bb_pos+i)+4*e,t):null},yn.PackedData.PackedClusterType.prototype.fieldNamesLength=function(){var e=this.bb.__offset(this.bb_pos,4)
return e?this.bb.__vector_len(this.bb_pos+e):0},yn.PackedData.PackedClusterType.prototype.fieldTypes=function(e,t){var i=this.bb.__offset(this.bb_pos,6)
return i?(t||new yn.PackedData.PackedDataType).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+i)+4*e),this.bb):null},yn.PackedData.PackedClusterType.prototype.fieldTypesLength=function(){var e=this.bb.__offset(this.bb_pos,6)
return e?this.bb.__vector_len(this.bb_pos+e):0},yn.PackedData.PackedClusterType.startPackedClusterType=function(e){e.startObject(2)},yn.PackedData.PackedClusterType.addFieldNames=function(e,t){e.addFieldOffset(0,t,0)},yn.PackedData.PackedClusterType.createFieldNamesVector=function(e,t){e.startVector(4,t.length,4)
for(var i=t.length-1;i>=0;i--)e.addOffset(t[i])
return e.endVector()},yn.PackedData.PackedClusterType.startFieldNamesVector=function(e,t){e.startVector(4,t,4)},yn.PackedData.PackedClusterType.addFieldTypes=function(e,t){e.addFieldOffset(1,t,0)},yn.PackedData.PackedClusterType.createFieldTypesVector=function(e,t){e.startVector(4,t.length,4)
for(var i=t.length-1;i>=0;i--)e.addOffset(t[i])
return e.endVector()},yn.PackedData.PackedClusterType.startFieldTypesVector=function(e,t){e.startVector(4,t,4)},yn.PackedData.PackedClusterType.endPackedClusterType=function(e){return e.endObject()},yn.PackedData.PackedClusterType.createPackedClusterType=function(e,t,i){return yn.PackedData.PackedClusterType.startPackedClusterType(e),yn.PackedData.PackedClusterType.addFieldNames(e,t),yn.PackedData.PackedClusterType.addFieldTypes(e,i),yn.PackedData.PackedClusterType.endPackedClusterType(e)},yn.PackedData.PackedDataType=function(){this.bb=null,this.bb_pos=0},yn.PackedData.PackedDataType.prototype.__init=function(e,t){return this.bb_pos=e,this.bb=t,this},yn.PackedData.PackedDataType.getRootAsPackedDataType=function(e,t){return(t||new yn.PackedData.PackedDataType).__init(e.readInt32(e.position())+e.position(),e)},yn.PackedData.PackedDataType.getSizePrefixedRootAsPackedDataType=function(e,t){return(t||new yn.PackedData.PackedDataType).__init(e.readInt32(e.position())+e.position(),e)},yn.PackedData.PackedDataType.prototype.dataTypeType=function(){var e=this.bb.__offset(this.bb_pos,4)
return e?this.bb.readUint8(this.bb_pos+e):yn.PackedData.AnyPackedType.NONE},yn.PackedData.PackedDataType.prototype.dataType=function(e){var t=this.bb.__offset(this.bb_pos,6)
return t?this.bb.__union(e,this.bb_pos+t):null},yn.PackedData.PackedDataType.startPackedDataType=function(e){e.startObject(2)},yn.PackedData.PackedDataType.addDataTypeType=function(e,t){e.addFieldInt8(0,t,yn.PackedData.AnyPackedType.NONE)},yn.PackedData.PackedDataType.addDataType=function(e,t){e.addFieldOffset(1,t,0)},yn.PackedData.PackedDataType.endPackedDataType=function(e){return e.endObject()},yn.PackedData.PackedDataType.createPackedDataType=function(e,t,i){return yn.PackedData.PackedDataType.startPackedDataType(e),yn.PackedData.PackedDataType.addDataTypeType(e,t),yn.PackedData.PackedDataType.addDataType(e,i),yn.PackedData.PackedDataType.endPackedDataType(e)},yn.PackedData.PackedBooleanValue=function(){this.bb=null,this.bb_pos=0},yn.PackedData.PackedBooleanValue.prototype.__init=function(e,t){return this.bb_pos=e,this.bb=t,this},yn.PackedData.PackedBooleanValue.getRootAsPackedBooleanValue=function(e,t){return(t||new yn.PackedData.PackedBooleanValue).__init(e.readInt32(e.position())+e.position(),e)},yn.PackedData.PackedBooleanValue.getSizePrefixedRootAsPackedBooleanValue=function(e,t){return(t||new yn.PackedData.PackedBooleanValue).__init(e.readInt32(e.position())+e.position(),e)},yn.PackedData.PackedBooleanValue.prototype.value=function(){var e=this.bb.__offset(this.bb_pos,4)
return!!e&&!!this.bb.readInt8(this.bb_pos+e)},yn.PackedData.PackedBooleanValue.startPackedBooleanValue=function(e){e.startObject(1)},yn.PackedData.PackedBooleanValue.addValue=function(e,t){e.addFieldInt8(0,+t,0)},yn.PackedData.PackedBooleanValue.endPackedBooleanValue=function(e){return e.endObject()},yn.PackedData.PackedBooleanValue.createPackedBooleanValue=function(e,t){return yn.PackedData.PackedBooleanValue.startPackedBooleanValue(e),yn.PackedData.PackedBooleanValue.addValue(e,t),yn.PackedData.PackedBooleanValue.endPackedBooleanValue(e)},yn.PackedData.PackedInt8Value=function(){this.bb=null,this.bb_pos=0},yn.PackedData.PackedInt8Value.prototype.__init=function(e,t){return this.bb_pos=e,this.bb=t,this},yn.PackedData.PackedInt8Value.getRootAsPackedInt8Value=function(e,t){return(t||new yn.PackedData.PackedInt8Value).__init(e.readInt32(e.position())+e.position(),e)},yn.PackedData.PackedInt8Value.getSizePrefixedRootAsPackedInt8Value=function(e,t){return(t||new yn.PackedData.PackedInt8Value).__init(e.readInt32(e.position())+e.position(),e)},yn.PackedData.PackedInt8Value.prototype.value=function(){var e=this.bb.__offset(this.bb_pos,4)
return e?this.bb.readInt8(this.bb_pos+e):0},yn.PackedData.PackedInt8Value.startPackedInt8Value=function(e){e.startObject(1)},yn.PackedData.PackedInt8Value.addValue=function(e,t){e.addFieldInt8(0,t,0)},yn.PackedData.PackedInt8Value.endPackedInt8Value=function(e){return e.endObject()},yn.PackedData.PackedInt8Value.createPackedInt8Value=function(e,t){return yn.PackedData.PackedInt8Value.startPackedInt8Value(e),yn.PackedData.PackedInt8Value.addValue(e,t),yn.PackedData.PackedInt8Value.endPackedInt8Value(e)},yn.PackedData.PackedUInt8Value=function(){this.bb=null,this.bb_pos=0},yn.PackedData.PackedUInt8Value.prototype.__init=function(e,t){return this.bb_pos=e,this.bb=t,this},yn.PackedData.PackedUInt8Value.getRootAsPackedUInt8Value=function(e,t){return(t||new yn.PackedData.PackedUInt8Value).__init(e.readInt32(e.position())+e.position(),e)},yn.PackedData.PackedUInt8Value.getSizePrefixedRootAsPackedUInt8Value=function(e,t){return(t||new yn.PackedData.PackedUInt8Value).__init(e.readInt32(e.position())+e.position(),e)},yn.PackedData.PackedUInt8Value.prototype.value=function(){var e=this.bb.__offset(this.bb_pos,4)
return e?this.bb.readUint8(this.bb_pos+e):0},yn.PackedData.PackedUInt8Value.startPackedUInt8Value=function(e){e.startObject(1)},yn.PackedData.PackedUInt8Value.addValue=function(e,t){e.addFieldInt8(0,t,0)},yn.PackedData.PackedUInt8Value.endPackedUInt8Value=function(e){return e.endObject()},yn.PackedData.PackedUInt8Value.createPackedUInt8Value=function(e,t){return yn.PackedData.PackedUInt8Value.startPackedUInt8Value(e),yn.PackedData.PackedUInt8Value.addValue(e,t),yn.PackedData.PackedUInt8Value.endPackedUInt8Value(e)},yn.PackedData.PackedInt16Value=function(){this.bb=null,this.bb_pos=0},yn.PackedData.PackedInt16Value.prototype.__init=function(e,t){return this.bb_pos=e,this.bb=t,this},yn.PackedData.PackedInt16Value.getRootAsPackedInt16Value=function(e,t){return(t||new yn.PackedData.PackedInt16Value).__init(e.readInt32(e.position())+e.position(),e)},yn.PackedData.PackedInt16Value.getSizePrefixedRootAsPackedInt16Value=function(e,t){return(t||new yn.PackedData.PackedInt16Value).__init(e.readInt32(e.position())+e.position(),e)},yn.PackedData.PackedInt16Value.prototype.value=function(){var e=this.bb.__offset(this.bb_pos,4)
return e?this.bb.readInt16(this.bb_pos+e):0},yn.PackedData.PackedInt16Value.startPackedInt16Value=function(e){e.startObject(1)},yn.PackedData.PackedInt16Value.addValue=function(e,t){e.addFieldInt16(0,t,0)},yn.PackedData.PackedInt16Value.endPackedInt16Value=function(e){return e.endObject()},yn.PackedData.PackedInt16Value.createPackedInt16Value=function(e,t){return yn.PackedData.PackedInt16Value.startPackedInt16Value(e),yn.PackedData.PackedInt16Value.addValue(e,t),yn.PackedData.PackedInt16Value.endPackedInt16Value(e)},yn.PackedData.PackedUInt16Value=function(){this.bb=null,this.bb_pos=0},yn.PackedData.PackedUInt16Value.prototype.__init=function(e,t){return this.bb_pos=e,this.bb=t,this},yn.PackedData.PackedUInt16Value.getRootAsPackedUInt16Value=function(e,t){return(t||new yn.PackedData.PackedUInt16Value).__init(e.readInt32(e.position())+e.position(),e)},yn.PackedData.PackedUInt16Value.getSizePrefixedRootAsPackedUInt16Value=function(e,t){return(t||new yn.PackedData.PackedUInt16Value).__init(e.readInt32(e.position())+e.position(),e)},yn.PackedData.PackedUInt16Value.prototype.value=function(){var e=this.bb.__offset(this.bb_pos,4)
return e?this.bb.readUint16(this.bb_pos+e):0},yn.PackedData.PackedUInt16Value.startPackedUInt16Value=function(e){e.startObject(1)},yn.PackedData.PackedUInt16Value.addValue=function(e,t){e.addFieldInt16(0,t,0)},yn.PackedData.PackedUInt16Value.endPackedUInt16Value=function(e){return e.endObject()},yn.PackedData.PackedUInt16Value.createPackedUInt16Value=function(e,t){return yn.PackedData.PackedUInt16Value.startPackedUInt16Value(e),yn.PackedData.PackedUInt16Value.addValue(e,t),yn.PackedData.PackedUInt16Value.endPackedUInt16Value(e)},yn.PackedData.PackedInt32Value=function(){this.bb=null,this.bb_pos=0},yn.PackedData.PackedInt32Value.prototype.__init=function(e,t){return this.bb_pos=e,this.bb=t,this},yn.PackedData.PackedInt32Value.getRootAsPackedInt32Value=function(e,t){return(t||new yn.PackedData.PackedInt32Value).__init(e.readInt32(e.position())+e.position(),e)},yn.PackedData.PackedInt32Value.getSizePrefixedRootAsPackedInt32Value=function(e,t){return(t||new yn.PackedData.PackedInt32Value).__init(e.readInt32(e.position())+e.position(),e)},yn.PackedData.PackedInt32Value.prototype.value=function(){var e=this.bb.__offset(this.bb_pos,4)
return e?this.bb.readInt32(this.bb_pos+e):0},yn.PackedData.PackedInt32Value.startPackedInt32Value=function(e){e.startObject(1)},yn.PackedData.PackedInt32Value.addValue=function(e,t){e.addFieldInt32(0,t,0)},yn.PackedData.PackedInt32Value.endPackedInt32Value=function(e){return e.endObject()},yn.PackedData.PackedInt32Value.createPackedInt32Value=function(e,t){return yn.PackedData.PackedInt32Value.startPackedInt32Value(e),yn.PackedData.PackedInt32Value.addValue(e,t),yn.PackedData.PackedInt32Value.endPackedInt32Value(e)},yn.PackedData.PackedUInt32Value=function(){this.bb=null,this.bb_pos=0},yn.PackedData.PackedUInt32Value.prototype.__init=function(e,t){return this.bb_pos=e,this.bb=t,this},yn.PackedData.PackedUInt32Value.getRootAsPackedUInt32Value=function(e,t){return(t||new yn.PackedData.PackedUInt32Value).__init(e.readInt32(e.position())+e.position(),e)},yn.PackedData.PackedUInt32Value.getSizePrefixedRootAsPackedUInt32Value=function(e,t){return(t||new yn.PackedData.PackedUInt32Value).__init(e.readInt32(e.position())+e.position(),e)},yn.PackedData.PackedUInt32Value.prototype.value=function(){var e=this.bb.__offset(this.bb_pos,4)
return e?this.bb.readUint32(this.bb_pos+e):0},yn.PackedData.PackedUInt32Value.startPackedUInt32Value=function(e){e.startObject(1)},yn.PackedData.PackedUInt32Value.addValue=function(e,t){e.addFieldInt32(0,t,0)},yn.PackedData.PackedUInt32Value.endPackedUInt32Value=function(e){return e.endObject()},yn.PackedData.PackedUInt32Value.createPackedUInt32Value=function(e,t){return yn.PackedData.PackedUInt32Value.startPackedUInt32Value(e),yn.PackedData.PackedUInt32Value.addValue(e,t),yn.PackedData.PackedUInt32Value.endPackedUInt32Value(e)},yn.PackedData.PackedInt64Value=function(){this.bb=null,this.bb_pos=0},yn.PackedData.PackedInt64Value.prototype.__init=function(e,t){return this.bb_pos=e,this.bb=t,this},yn.PackedData.PackedInt64Value.getRootAsPackedInt64Value=function(e,t){return(t||new yn.PackedData.PackedInt64Value).__init(e.readInt32(e.position())+e.position(),e)},yn.PackedData.PackedInt64Value.getSizePrefixedRootAsPackedInt64Value=function(e,t){return(t||new yn.PackedData.PackedInt64Value).__init(e.readInt32(e.position())+e.position(),e)},yn.PackedData.PackedInt64Value.prototype.value=function(){var e=this.bb.__offset(this.bb_pos,4)
return e?this.bb.readInt64(this.bb_pos+e):this.bb.createLong(0,0)},yn.PackedData.PackedInt64Value.startPackedInt64Value=function(e){e.startObject(1)},yn.PackedData.PackedInt64Value.addValue=function(e,t){e.addFieldInt64(0,t,e.createLong(0,0))},yn.PackedData.PackedInt64Value.endPackedInt64Value=function(e){return e.endObject()},yn.PackedData.PackedInt64Value.createPackedInt64Value=function(e,t){return yn.PackedData.PackedInt64Value.startPackedInt64Value(e),yn.PackedData.PackedInt64Value.addValue(e,t),yn.PackedData.PackedInt64Value.endPackedInt64Value(e)},yn.PackedData.PackedUInt64Value=function(){this.bb=null,this.bb_pos=0},yn.PackedData.PackedUInt64Value.prototype.__init=function(e,t){return this.bb_pos=e,this.bb=t,this},yn.PackedData.PackedUInt64Value.getRootAsPackedUInt64Value=function(e,t){return(t||new yn.PackedData.PackedUInt64Value).__init(e.readInt32(e.position())+e.position(),e)},yn.PackedData.PackedUInt64Value.getSizePrefixedRootAsPackedUInt64Value=function(e,t){return(t||new yn.PackedData.PackedUInt64Value).__init(e.readInt32(e.position())+e.position(),e)},yn.PackedData.PackedUInt64Value.prototype.value=function(){var e=this.bb.__offset(this.bb_pos,4)
return e?this.bb.readUint64(this.bb_pos+e):this.bb.createLong(0,0)},yn.PackedData.PackedUInt64Value.startPackedUInt64Value=function(e){e.startObject(1)},yn.PackedData.PackedUInt64Value.addValue=function(e,t){e.addFieldInt64(0,t,e.createLong(0,0))},yn.PackedData.PackedUInt64Value.endPackedUInt64Value=function(e){return e.endObject()},yn.PackedData.PackedUInt64Value.createPackedUInt64Value=function(e,t){return yn.PackedData.PackedUInt64Value.startPackedUInt64Value(e),yn.PackedData.PackedUInt64Value.addValue(e,t),yn.PackedData.PackedUInt64Value.endPackedUInt64Value(e)},yn.PackedData.PackedFloat32Value=function(){this.bb=null,this.bb_pos=0},yn.PackedData.PackedFloat32Value.prototype.__init=function(e,t){return this.bb_pos=e,this.bb=t,this},yn.PackedData.PackedFloat32Value.getRootAsPackedFloat32Value=function(e,t){return(t||new yn.PackedData.PackedFloat32Value).__init(e.readInt32(e.position())+e.position(),e)},yn.PackedData.PackedFloat32Value.getSizePrefixedRootAsPackedFloat32Value=function(e,t){return(t||new yn.PackedData.PackedFloat32Value).__init(e.readInt32(e.position())+e.position(),e)},yn.PackedData.PackedFloat32Value.prototype.value=function(){var e=this.bb.__offset(this.bb_pos,4)
return e?this.bb.readFloat32(this.bb_pos+e):0},yn.PackedData.PackedFloat32Value.startPackedFloat32Value=function(e){e.startObject(1)},yn.PackedData.PackedFloat32Value.addValue=function(e,t){e.addFieldFloat32(0,t,0)},yn.PackedData.PackedFloat32Value.endPackedFloat32Value=function(e){return e.endObject()},yn.PackedData.PackedFloat32Value.createPackedFloat32Value=function(e,t){return yn.PackedData.PackedFloat32Value.startPackedFloat32Value(e),yn.PackedData.PackedFloat32Value.addValue(e,t),yn.PackedData.PackedFloat32Value.endPackedFloat32Value(e)},yn.PackedData.PackedFloat64Value=function(){this.bb=null,this.bb_pos=0},yn.PackedData.PackedFloat64Value.prototype.__init=function(e,t){return this.bb_pos=e,this.bb=t,this},yn.PackedData.PackedFloat64Value.getRootAsPackedFloat64Value=function(e,t){return(t||new yn.PackedData.PackedFloat64Value).__init(e.readInt32(e.position())+e.position(),e)},yn.PackedData.PackedFloat64Value.getSizePrefixedRootAsPackedFloat64Value=function(e,t){return(t||new yn.PackedData.PackedFloat64Value).__init(e.readInt32(e.position())+e.position(),e)},yn.PackedData.PackedFloat64Value.prototype.value=function(){var e=this.bb.__offset(this.bb_pos,4)
return e?this.bb.readFloat64(this.bb_pos+e):0},yn.PackedData.PackedFloat64Value.startPackedFloat64Value=function(e){e.startObject(1)},yn.PackedData.PackedFloat64Value.addValue=function(e,t){e.addFieldFloat64(0,t,0)},yn.PackedData.PackedFloat64Value.endPackedFloat64Value=function(e){return e.endObject()},yn.PackedData.PackedFloat64Value.createPackedFloat64Value=function(e,t){return yn.PackedData.PackedFloat64Value.startPackedFloat64Value(e),yn.PackedData.PackedFloat64Value.addValue(e,t),yn.PackedData.PackedFloat64Value.endPackedFloat64Value(e)},yn.PackedData.PackedStringValue=function(){this.bb=null,this.bb_pos=0},yn.PackedData.PackedStringValue.prototype.__init=function(e,t){return this.bb_pos=e,this.bb=t,this},yn.PackedData.PackedStringValue.getRootAsPackedStringValue=function(e,t){return(t||new yn.PackedData.PackedStringValue).__init(e.readInt32(e.position())+e.position(),e)},yn.PackedData.PackedStringValue.getSizePrefixedRootAsPackedStringValue=function(e,t){return(t||new yn.PackedData.PackedStringValue).__init(e.readInt32(e.position())+e.position(),e)},yn.PackedData.PackedStringValue.prototype.value=function(e){var t=this.bb.__offset(this.bb_pos,4)
return t?this.bb.__string(this.bb_pos+t,e):null},yn.PackedData.PackedStringValue.startPackedStringValue=function(e){e.startObject(1)},yn.PackedData.PackedStringValue.addValue=function(e,t){e.addFieldOffset(0,t,0)},yn.PackedData.PackedStringValue.endPackedStringValue=function(e){return e.endObject()},yn.PackedData.PackedStringValue.createPackedStringValue=function(e,t){return yn.PackedData.PackedStringValue.startPackedStringValue(e),yn.PackedData.PackedStringValue.addValue(e,t),yn.PackedData.PackedStringValue.endPackedStringValue(e)},yn.PackedData.PackedBlittableArrayValue=function(){this.bb=null,this.bb_pos=0},yn.PackedData.PackedBlittableArrayValue.prototype.__init=function(e,t){return this.bb_pos=e,this.bb=t,this},yn.PackedData.PackedBlittableArrayValue.getRootAsPackedBlittableArrayValue=function(e,t){return(t||new yn.PackedData.PackedBlittableArrayValue).__init(e.readInt32(e.position())+e.position(),e)},yn.PackedData.PackedBlittableArrayValue.getSizePrefixedRootAsPackedBlittableArrayValue=function(e,t){return(t||new yn.PackedData.PackedBlittableArrayValue).__init(e.readInt32(e.position())+e.position(),e)},yn.PackedData.PackedBlittableArrayValue.prototype.dimensions=function(e){var t=this.bb.__offset(this.bb_pos,4)
return t?this.bb.readInt32(this.bb.__vector(this.bb_pos+t)+4*e):0},yn.PackedData.PackedBlittableArrayValue.prototype.dimensionsLength=function(){var e=this.bb.__offset(this.bb_pos,4)
return e?this.bb.__vector_len(this.bb_pos+e):0},yn.PackedData.PackedBlittableArrayValue.prototype.dimensionsArray=function(){var e=this.bb.__offset(this.bb_pos,4)
return e?new Int32Array(this.bb.bytes().buffer,this.bb.bytes().byteOffset+this.bb.__vector(this.bb_pos+e),this.bb.__vector_len(this.bb_pos+e)):null},yn.PackedData.PackedBlittableArrayValue.prototype.value=function(e){var t=this.bb.__offset(this.bb_pos,6)
return t?this.bb.readInt8(this.bb.__vector(this.bb_pos+t)+e):0},yn.PackedData.PackedBlittableArrayValue.prototype.valueLength=function(){var e=this.bb.__offset(this.bb_pos,6)
return e?this.bb.__vector_len(this.bb_pos+e):0},yn.PackedData.PackedBlittableArrayValue.prototype.valueArray=function(){var e=this.bb.__offset(this.bb_pos,6)
return e?new Int8Array(this.bb.bytes().buffer,this.bb.bytes().byteOffset+this.bb.__vector(this.bb_pos+e),this.bb.__vector_len(this.bb_pos+e)):null},yn.PackedData.PackedBlittableArrayValue.startPackedBlittableArrayValue=function(e){e.startObject(2)},yn.PackedData.PackedBlittableArrayValue.addDimensions=function(e,t){e.addFieldOffset(0,t,0)},yn.PackedData.PackedBlittableArrayValue.createDimensionsVector=function(e,t){e.startVector(4,t.length,4)
for(var i=t.length-1;i>=0;i--)e.addInt32(t[i])
return e.endVector()},yn.PackedData.PackedBlittableArrayValue.startDimensionsVector=function(e,t){e.startVector(4,t,4)},yn.PackedData.PackedBlittableArrayValue.addValue=function(e,t){e.addFieldOffset(1,t,0)},yn.PackedData.PackedBlittableArrayValue.createValueVector=function(e,t){e.startVector(1,t.length,1)
for(var i=t.length-1;i>=0;i--)e.addInt8(t[i])
return e.endVector()},yn.PackedData.PackedBlittableArrayValue.startValueVector=function(e,t){e.startVector(1,t,1)},yn.PackedData.PackedBlittableArrayValue.endPackedBlittableArrayValue=function(e){return e.endObject()},yn.PackedData.PackedBlittableArrayValue.createPackedBlittableArrayValue=function(e,t,i){return yn.PackedData.PackedBlittableArrayValue.startPackedBlittableArrayValue(e),yn.PackedData.PackedBlittableArrayValue.addDimensions(e,t),yn.PackedData.PackedBlittableArrayValue.addValue(e,i),yn.PackedData.PackedBlittableArrayValue.endPackedBlittableArrayValue(e)},yn.PackedData.PackedBlittable1DArrayValue=function(){this.bb=null,this.bb_pos=0},yn.PackedData.PackedBlittable1DArrayValue.prototype.__init=function(e,t){return this.bb_pos=e,this.bb=t,this},yn.PackedData.PackedBlittable1DArrayValue.getRootAsPackedBlittable1DArrayValue=function(e,t){return(t||new yn.PackedData.PackedBlittable1DArrayValue).__init(e.readInt32(e.position())+e.position(),e)},yn.PackedData.PackedBlittable1DArrayValue.getSizePrefixedRootAsPackedBlittable1DArrayValue=function(e,t){return(t||new yn.PackedData.PackedBlittable1DArrayValue).__init(e.readInt32(e.position())+e.position(),e)},yn.PackedData.PackedBlittable1DArrayValue.prototype.length=function(){var e=this.bb.__offset(this.bb_pos,4)
return e?this.bb.readInt32(this.bb_pos+e):0},yn.PackedData.PackedBlittable1DArrayValue.prototype.value=function(e){var t=this.bb.__offset(this.bb_pos,6)
return t?this.bb.readInt8(this.bb.__vector(this.bb_pos+t)+e):0},yn.PackedData.PackedBlittable1DArrayValue.prototype.valueLength=function(){var e=this.bb.__offset(this.bb_pos,6)
return e?this.bb.__vector_len(this.bb_pos+e):0},yn.PackedData.PackedBlittable1DArrayValue.prototype.valueArray=function(){var e=this.bb.__offset(this.bb_pos,6)
return e?new Int8Array(this.bb.bytes().buffer,this.bb.bytes().byteOffset+this.bb.__vector(this.bb_pos+e),this.bb.__vector_len(this.bb_pos+e)):null},yn.PackedData.PackedBlittable1DArrayValue.startPackedBlittable1DArrayValue=function(e){e.startObject(2)},yn.PackedData.PackedBlittable1DArrayValue.addLength=function(e,t){e.addFieldInt32(0,t,0)},yn.PackedData.PackedBlittable1DArrayValue.addValue=function(e,t){e.addFieldOffset(1,t,0)},yn.PackedData.PackedBlittable1DArrayValue.createValueVector=function(e,t){e.startVector(1,t.length,1)
for(var i=t.length-1;i>=0;i--)e.addInt8(t[i])
return e.endVector()},yn.PackedData.PackedBlittable1DArrayValue.startValueVector=function(e,t){e.startVector(1,t,1)},yn.PackedData.PackedBlittable1DArrayValue.endPackedBlittable1DArrayValue=function(e){return e.endObject()},yn.PackedData.PackedBlittable1DArrayValue.createPackedBlittable1DArrayValue=function(e,t,i){return yn.PackedData.PackedBlittable1DArrayValue.startPackedBlittable1DArrayValue(e),yn.PackedData.PackedBlittable1DArrayValue.addLength(e,t),yn.PackedData.PackedBlittable1DArrayValue.addValue(e,i),yn.PackedData.PackedBlittable1DArrayValue.endPackedBlittable1DArrayValue(e)},yn.PackedData.PackedArrayValue=function(){this.bb=null,this.bb_pos=0},yn.PackedData.PackedArrayValue.prototype.__init=function(e,t){return this.bb_pos=e,this.bb=t,this},yn.PackedData.PackedArrayValue.getRootAsPackedArrayValue=function(e,t){return(t||new yn.PackedData.PackedArrayValue).__init(e.readInt32(e.position())+e.position(),e)},yn.PackedData.PackedArrayValue.getSizePrefixedRootAsPackedArrayValue=function(e,t){return(t||new yn.PackedData.PackedArrayValue).__init(e.readInt32(e.position())+e.position(),e)},yn.PackedData.PackedArrayValue.prototype.value=function(e,t){var i=this.bb.__offset(this.bb_pos,4)
return i?(t||new yn.PackedData.PackedDataValue).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+i)+4*e),this.bb):null},yn.PackedData.PackedArrayValue.prototype.valueLength=function(){var e=this.bb.__offset(this.bb_pos,4)
return e?this.bb.__vector_len(this.bb_pos+e):0},yn.PackedData.PackedArrayValue.prototype.dimensions=function(e){var t=this.bb.__offset(this.bb_pos,6)
return t?this.bb.readInt32(this.bb.__vector(this.bb_pos+t)+4*e):0},yn.PackedData.PackedArrayValue.prototype.dimensionsLength=function(){var e=this.bb.__offset(this.bb_pos,6)
return e?this.bb.__vector_len(this.bb_pos+e):0},yn.PackedData.PackedArrayValue.prototype.dimensionsArray=function(){var e=this.bb.__offset(this.bb_pos,6)
return e?new Int32Array(this.bb.bytes().buffer,this.bb.bytes().byteOffset+this.bb.__vector(this.bb_pos+e),this.bb.__vector_len(this.bb_pos+e)):null},yn.PackedData.PackedArrayValue.startPackedArrayValue=function(e){e.startObject(2)},yn.PackedData.PackedArrayValue.addValue=function(e,t){e.addFieldOffset(0,t,0)},yn.PackedData.PackedArrayValue.createValueVector=function(e,t){e.startVector(4,t.length,4)
for(var i=t.length-1;i>=0;i--)e.addOffset(t[i])
return e.endVector()},yn.PackedData.PackedArrayValue.startValueVector=function(e,t){e.startVector(4,t,4)},yn.PackedData.PackedArrayValue.addDimensions=function(e,t){e.addFieldOffset(1,t,0)},yn.PackedData.PackedArrayValue.createDimensionsVector=function(e,t){e.startVector(4,t.length,4)
for(var i=t.length-1;i>=0;i--)e.addInt32(t[i])
return e.endVector()},yn.PackedData.PackedArrayValue.startDimensionsVector=function(e,t){e.startVector(4,t,4)},yn.PackedData.PackedArrayValue.endPackedArrayValue=function(e){return e.endObject()},yn.PackedData.PackedArrayValue.createPackedArrayValue=function(e,t,i){return yn.PackedData.PackedArrayValue.startPackedArrayValue(e),yn.PackedData.PackedArrayValue.addValue(e,t),yn.PackedData.PackedArrayValue.addDimensions(e,i),yn.PackedData.PackedArrayValue.endPackedArrayValue(e)},yn.PackedData.PackedVariantValue=function(){this.bb=null,this.bb_pos=0},yn.PackedData.PackedVariantValue.prototype.__init=function(e,t){return this.bb_pos=e,this.bb=t,this},yn.PackedData.PackedVariantValue.getRootAsPackedVariantValue=function(e,t){return(t||new yn.PackedData.PackedVariantValue).__init(e.readInt32(e.position())+e.position(),e)},yn.PackedData.PackedVariantValue.getSizePrefixedRootAsPackedVariantValue=function(e,t){return(t||new yn.PackedData.PackedVariantValue).__init(e.readInt32(e.position())+e.position(),e)},yn.PackedData.PackedVariantValue.prototype.data=function(e){var t=this.bb.__offset(this.bb_pos,4)
return t?(e||new yn.PackedData.PackedDataValue).__init(this.bb.__indirect(this.bb_pos+t),this.bb):null},yn.PackedData.PackedVariantValue.prototype.dataType=function(e){var t=this.bb.__offset(this.bb_pos,6)
return t?(e||new yn.PackedData.PackedDataType).__init(this.bb.__indirect(this.bb_pos+t),this.bb):null},yn.PackedData.PackedVariantValue.prototype.dataSize=function(){var e=this.bb.__offset(this.bb_pos,8)
return e?this.bb.readInt32(this.bb_pos+e):0},yn.PackedData.PackedVariantValue.prototype.attributeNames=function(e,t){var i=this.bb.__offset(this.bb_pos,10)
return i?this.bb.__string(this.bb.__vector(this.bb_pos+i)+4*e,t):null},yn.PackedData.PackedVariantValue.prototype.attributeNamesLength=function(){var e=this.bb.__offset(this.bb_pos,10)
return e?this.bb.__vector_len(this.bb_pos+e):0},yn.PackedData.PackedVariantValue.prototype.attributeValues=function(e,t){var i=this.bb.__offset(this.bb_pos,12)
return i?(t||new yn.PackedData.PackedVariantValue).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+i)+4*e),this.bb):null},yn.PackedData.PackedVariantValue.prototype.attributeValuesLength=function(){var e=this.bb.__offset(this.bb_pos,12)
return e?this.bb.__vector_len(this.bb_pos+e):0},yn.PackedData.PackedVariantValue.startPackedVariantValue=function(e){e.startObject(5)},yn.PackedData.PackedVariantValue.addData=function(e,t){e.addFieldOffset(0,t,0)},yn.PackedData.PackedVariantValue.addDataType=function(e,t){e.addFieldOffset(1,t,0)},yn.PackedData.PackedVariantValue.addDataSize=function(e,t){e.addFieldInt32(2,t,0)},yn.PackedData.PackedVariantValue.addAttributeNames=function(e,t){e.addFieldOffset(3,t,0)},yn.PackedData.PackedVariantValue.createAttributeNamesVector=function(e,t){e.startVector(4,t.length,4)
for(var i=t.length-1;i>=0;i--)e.addOffset(t[i])
return e.endVector()},yn.PackedData.PackedVariantValue.startAttributeNamesVector=function(e,t){e.startVector(4,t,4)},yn.PackedData.PackedVariantValue.addAttributeValues=function(e,t){e.addFieldOffset(4,t,0)},yn.PackedData.PackedVariantValue.createAttributeValuesVector=function(e,t){e.startVector(4,t.length,4)
for(var i=t.length-1;i>=0;i--)e.addOffset(t[i])
return e.endVector()},yn.PackedData.PackedVariantValue.startAttributeValuesVector=function(e,t){e.startVector(4,t,4)},yn.PackedData.PackedVariantValue.endPackedVariantValue=function(e){return e.endObject()},yn.PackedData.PackedVariantValue.createPackedVariantValue=function(e,t,i,n,r,o){return yn.PackedData.PackedVariantValue.startPackedVariantValue(e),yn.PackedData.PackedVariantValue.addData(e,t),yn.PackedData.PackedVariantValue.addDataType(e,i),yn.PackedData.PackedVariantValue.addDataSize(e,n),yn.PackedData.PackedVariantValue.addAttributeNames(e,r),yn.PackedData.PackedVariantValue.addAttributeValues(e,o),yn.PackedData.PackedVariantValue.endPackedVariantValue(e)},yn.PackedData.PackedWaveformValue=function(){this.bb=null,this.bb_pos=0},yn.PackedData.PackedWaveformValue.prototype.__init=function(e,t){return this.bb_pos=e,this.bb=t,this},yn.PackedData.PackedWaveformValue.getRootAsPackedWaveformValue=function(e,t){return(t||new yn.PackedData.PackedWaveformValue).__init(e.readInt32(e.position())+e.position(),e)},yn.PackedData.PackedWaveformValue.getSizePrefixedRootAsPackedWaveformValue=function(e,t){return(t||new yn.PackedData.PackedWaveformValue).__init(e.readInt32(e.position())+e.position(),e)},yn.PackedData.PackedWaveformValue.prototype.t0=function(e){var t=this.bb.__offset(this.bb_pos,4)
return t?(e||new yn.PackedData.PackedTimestampValue).__init(this.bb.__indirect(this.bb_pos+t),this.bb):null},yn.PackedData.PackedWaveformValue.prototype.dt=function(){var e=this.bb.__offset(this.bb_pos,6)
return e?this.bb.readFloat64(this.bb_pos+e):0},yn.PackedData.PackedWaveformValue.prototype.y=function(e){var t=this.bb.__offset(this.bb_pos,8)
return t?(e||new yn.PackedData.PackedBlittable1DArrayValue).__init(this.bb.__indirect(this.bb_pos+t),this.bb):null},yn.PackedData.PackedWaveformValue.prototype.attributes=function(e){var t=this.bb.__offset(this.bb_pos,10)
return t?(e||new yn.PackedData.PackedVariantValue).__init(this.bb.__indirect(this.bb_pos+t),this.bb):null},yn.PackedData.PackedWaveformValue.startPackedWaveformValue=function(e){e.startObject(4)},yn.PackedData.PackedWaveformValue.addT0=function(e,t){e.addFieldOffset(0,t,0)},yn.PackedData.PackedWaveformValue.addDt=function(e,t){e.addFieldFloat64(1,t,0)},yn.PackedData.PackedWaveformValue.addY=function(e,t){e.addFieldOffset(2,t,0)},yn.PackedData.PackedWaveformValue.addAttributes=function(e,t){e.addFieldOffset(3,t,0)},yn.PackedData.PackedWaveformValue.endPackedWaveformValue=function(e){return e.endObject()},yn.PackedData.PackedWaveformValue.createPackedWaveformValue=function(e,t,i,n,r){return yn.PackedData.PackedWaveformValue.startPackedWaveformValue(e),yn.PackedData.PackedWaveformValue.addT0(e,t),yn.PackedData.PackedWaveformValue.addDt(e,i),yn.PackedData.PackedWaveformValue.addY(e,n),yn.PackedData.PackedWaveformValue.addAttributes(e,r),yn.PackedData.PackedWaveformValue.endPackedWaveformValue(e)},yn.PackedData.PackedComplexFloat32Value=function(){this.bb=null,this.bb_pos=0},yn.PackedData.PackedComplexFloat32Value.prototype.__init=function(e,t){return this.bb_pos=e,this.bb=t,this},yn.PackedData.PackedComplexFloat32Value.getRootAsPackedComplexFloat32Value=function(e,t){return(t||new yn.PackedData.PackedComplexFloat32Value).__init(e.readInt32(e.position())+e.position(),e)},yn.PackedData.PackedComplexFloat32Value.getSizePrefixedRootAsPackedComplexFloat32Value=function(e,t){return(t||new yn.PackedData.PackedComplexFloat32Value).__init(e.readInt32(e.position())+e.position(),e)},yn.PackedData.PackedComplexFloat32Value.prototype.real=function(){var e=this.bb.__offset(this.bb_pos,4)
return e?this.bb.readFloat32(this.bb_pos+e):0},yn.PackedData.PackedComplexFloat32Value.prototype.imaginary=function(){var e=this.bb.__offset(this.bb_pos,6)
return e?this.bb.readFloat32(this.bb_pos+e):0},yn.PackedData.PackedComplexFloat32Value.startPackedComplexFloat32Value=function(e){e.startObject(2)},yn.PackedData.PackedComplexFloat32Value.addReal=function(e,t){e.addFieldFloat32(0,t,0)},yn.PackedData.PackedComplexFloat32Value.addImaginary=function(e,t){e.addFieldFloat32(1,t,0)},yn.PackedData.PackedComplexFloat32Value.endPackedComplexFloat32Value=function(e){return e.endObject()},yn.PackedData.PackedComplexFloat32Value.createPackedComplexFloat32Value=function(e,t,i){return yn.PackedData.PackedComplexFloat32Value.startPackedComplexFloat32Value(e),yn.PackedData.PackedComplexFloat32Value.addReal(e,t),yn.PackedData.PackedComplexFloat32Value.addImaginary(e,i),yn.PackedData.PackedComplexFloat32Value.endPackedComplexFloat32Value(e)},yn.PackedData.PackedComplexFloat64Value=function(){this.bb=null,this.bb_pos=0},yn.PackedData.PackedComplexFloat64Value.prototype.__init=function(e,t){return this.bb_pos=e,this.bb=t,this},yn.PackedData.PackedComplexFloat64Value.getRootAsPackedComplexFloat64Value=function(e,t){return(t||new yn.PackedData.PackedComplexFloat64Value).__init(e.readInt32(e.position())+e.position(),e)},yn.PackedData.PackedComplexFloat64Value.getSizePrefixedRootAsPackedComplexFloat64Value=function(e,t){return(t||new yn.PackedData.PackedComplexFloat64Value).__init(e.readInt32(e.position())+e.position(),e)},yn.PackedData.PackedComplexFloat64Value.prototype.real=function(){var e=this.bb.__offset(this.bb_pos,4)
return e?this.bb.readFloat64(this.bb_pos+e):0},yn.PackedData.PackedComplexFloat64Value.prototype.imaginary=function(){var e=this.bb.__offset(this.bb_pos,6)
return e?this.bb.readFloat64(this.bb_pos+e):0},yn.PackedData.PackedComplexFloat64Value.startPackedComplexFloat64Value=function(e){e.startObject(2)},yn.PackedData.PackedComplexFloat64Value.addReal=function(e,t){e.addFieldFloat64(0,t,0)},yn.PackedData.PackedComplexFloat64Value.addImaginary=function(e,t){e.addFieldFloat64(1,t,0)},yn.PackedData.PackedComplexFloat64Value.endPackedComplexFloat64Value=function(e){return e.endObject()},yn.PackedData.PackedComplexFloat64Value.createPackedComplexFloat64Value=function(e,t,i){return yn.PackedData.PackedComplexFloat64Value.startPackedComplexFloat64Value(e),yn.PackedData.PackedComplexFloat64Value.addReal(e,t),yn.PackedData.PackedComplexFloat64Value.addImaginary(e,i),yn.PackedData.PackedComplexFloat64Value.endPackedComplexFloat64Value(e)},yn.PackedData.PackedPathValue=function(){this.bb=null,this.bb_pos=0},yn.PackedData.PackedPathValue.prototype.__init=function(e,t){return this.bb_pos=e,this.bb=t,this},yn.PackedData.PackedPathValue.getRootAsPackedPathValue=function(e,t){return(t||new yn.PackedData.PackedPathValue).__init(e.readInt32(e.position())+e.position(),e)},yn.PackedData.PackedPathValue.getSizePrefixedRootAsPackedPathValue=function(e,t){return(t||new yn.PackedData.PackedPathValue).__init(e.readInt32(e.position())+e.position(),e)},yn.PackedData.PackedPathValue.prototype.pathType=function(){var e=this.bb.__offset(this.bb_pos,4)
return e?this.bb.readInt64(this.bb_pos+e):this.bb.createLong(0,0)},yn.PackedData.PackedPathValue.prototype.components=function(e,t){var i=this.bb.__offset(this.bb_pos,6)
return i?this.bb.__string(this.bb.__vector(this.bb_pos+i)+4*e,t):null},yn.PackedData.PackedPathValue.prototype.componentsLength=function(){var e=this.bb.__offset(this.bb_pos,6)
return e?this.bb.__vector_len(this.bb_pos+e):0},yn.PackedData.PackedPathValue.startPackedPathValue=function(e){e.startObject(2)},yn.PackedData.PackedPathValue.addPathType=function(e,t){e.addFieldInt64(0,t,e.createLong(0,0))},yn.PackedData.PackedPathValue.addComponents=function(e,t){e.addFieldOffset(1,t,0)},yn.PackedData.PackedPathValue.createComponentsVector=function(e,t){e.startVector(4,t.length,4)
for(var i=t.length-1;i>=0;i--)e.addOffset(t[i])
return e.endVector()},yn.PackedData.PackedPathValue.startComponentsVector=function(e,t){e.startVector(4,t,4)},yn.PackedData.PackedPathValue.endPackedPathValue=function(e){return e.endObject()},yn.PackedData.PackedPathValue.createPackedPathValue=function(e,t,i){return yn.PackedData.PackedPathValue.startPackedPathValue(e),yn.PackedData.PackedPathValue.addPathType(e,t),yn.PackedData.PackedPathValue.addComponents(e,i),yn.PackedData.PackedPathValue.endPackedPathValue(e)},yn.PackedData.PackedTimestampValue=function(){this.bb=null,this.bb_pos=0},yn.PackedData.PackedTimestampValue.prototype.__init=function(e,t){return this.bb_pos=e,this.bb=t,this},yn.PackedData.PackedTimestampValue.getRootAsPackedTimestampValue=function(e,t){return(t||new yn.PackedData.PackedTimestampValue).__init(e.readInt32(e.position())+e.position(),e)},yn.PackedData.PackedTimestampValue.getSizePrefixedRootAsPackedTimestampValue=function(e,t){return(t||new yn.PackedData.PackedTimestampValue).__init(e.readInt32(e.position())+e.position(),e)},yn.PackedData.PackedTimestampValue.prototype.seconds=function(){var e=this.bb.__offset(this.bb_pos,4)
return e?this.bb.readInt64(this.bb_pos+e):this.bb.createLong(0,0)},yn.PackedData.PackedTimestampValue.prototype.fractions=function(){var e=this.bb.__offset(this.bb_pos,6)
return e?this.bb.readUint64(this.bb_pos+e):this.bb.createLong(0,0)},yn.PackedData.PackedTimestampValue.startPackedTimestampValue=function(e){e.startObject(2)},yn.PackedData.PackedTimestampValue.addSeconds=function(e,t){e.addFieldInt64(0,t,e.createLong(0,0))},yn.PackedData.PackedTimestampValue.addFractions=function(e,t){e.addFieldInt64(1,t,e.createLong(0,0))},yn.PackedData.PackedTimestampValue.endPackedTimestampValue=function(e){return e.endObject()},yn.PackedData.PackedTimestampValue.createPackedTimestampValue=function(e,t,i){return yn.PackedData.PackedTimestampValue.startPackedTimestampValue(e),yn.PackedData.PackedTimestampValue.addSeconds(e,t),yn.PackedData.PackedTimestampValue.addFractions(e,i),yn.PackedData.PackedTimestampValue.endPackedTimestampValue(e)},yn.PackedData.PackedClusterValue=function(){this.bb=null,this.bb_pos=0},yn.PackedData.PackedClusterValue.prototype.__init=function(e,t){return this.bb_pos=e,this.bb=t,this},yn.PackedData.PackedClusterValue.getRootAsPackedClusterValue=function(e,t){return(t||new yn.PackedData.PackedClusterValue).__init(e.readInt32(e.position())+e.position(),e)},yn.PackedData.PackedClusterValue.getSizePrefixedRootAsPackedClusterValue=function(e,t){return(t||new yn.PackedData.PackedClusterValue).__init(e.readInt32(e.position())+e.position(),e)},yn.PackedData.PackedClusterValue.startPackedClusterValue=function(e){e.startObject(0)},yn.PackedData.PackedClusterValue.endPackedClusterValue=function(e){return e.endObject()},yn.PackedData.PackedClusterValue.createPackedClusterValue=function(e){return yn.PackedData.PackedClusterValue.startPackedClusterValue(e),yn.PackedData.PackedClusterValue.endPackedClusterValue(e)},yn.PackedData.PackedDataValue=function(){this.bb=null,this.bb_pos=0},yn.PackedData.PackedDataValue.prototype.__init=function(e,t){return this.bb_pos=e,this.bb=t,this},yn.PackedData.PackedDataValue.getRootAsPackedDataValue=function(e,t){return(t||new yn.PackedData.PackedDataValue).__init(e.readInt32(e.position())+e.position(),e)},yn.PackedData.PackedDataValue.getSizePrefixedRootAsPackedDataValue=function(e,t){return(t||new yn.PackedData.PackedDataValue).__init(e.readInt32(e.position())+e.position(),e)},yn.PackedData.PackedDataValue.prototype.valueType=function(){var e=this.bb.__offset(this.bb_pos,4)
return e?this.bb.readUint8(this.bb_pos+e):yn.PackedData.AnyValue.NONE},yn.PackedData.PackedDataValue.prototype.value=function(e){var t=this.bb.__offset(this.bb_pos,6)
return t?this.bb.__union(e,this.bb_pos+t):null},yn.PackedData.PackedDataValue.startPackedDataValue=function(e){e.startObject(2)},yn.PackedData.PackedDataValue.addValueType=function(e,t){e.addFieldInt8(0,t,yn.PackedData.AnyValue.NONE)},yn.PackedData.PackedDataValue.addValue=function(e,t){e.addFieldOffset(1,t,0)},yn.PackedData.PackedDataValue.endPackedDataValue=function(e){return e.endObject()},yn.PackedData.PackedDataValue.finishPackedDataValueBuffer=function(e,t){e.finish(t)},yn.PackedData.PackedDataValue.finishSizePrefixedPackedDataValueBuffer=function(e,t){e.finish(t,void 0,!0)},yn.PackedData.PackedDataValue.createPackedDataValue=function(e,t,i){return yn.PackedData.PackedDataValue.startPackedDataValue(e),yn.PackedData.PackedDataValue.addValueType(e,t),yn.PackedData.PackedDataValue.addValue(e,i),yn.PackedData.PackedDataValue.endPackedDataValue(e)}
const _n=window.NITypeNames,wn=window.NITypes
class xn{static getArrayDimensions(e){const t=[e.length]
for(;Array.isArray(e[0]);)e=e[0],t.push(e.length)
return t}static createArrayFromByteArray(e,t,i,n,r){const o=xn.createTypedArrayForValue(e,t,i,n)
return r?xn.convertTypedArrayIntoArray(o,e):o}static convertArrayToFlattenedInt8Array(e,t){const i=Cn.getArrayElementType(t),n=xn.getArrayDimensions(e)
let r=1
for(const e of n)r*=e
const o=xn.getPreAllocatedTypedArray(i,r)
return xn.createTypedArrayRecursive(e,n,i,o,0),new Int8Array(o.buffer)}static getPreAllocatedTypedArray(e,t){return xn.getTypedArrayFromSize(e,t)}static createTypedArrayRecursive(e,t,i,n,r){if(1===t.length){const t=xn.getTypedArray(i,e)
return n.set(t,r),r+t.length}for(let o=0;o<t[0];++o)r=xn.createTypedArrayRecursive(e[o],t.slice(1),i,n,r)
return r}static getTypedArray(e,t){return xn.getTypedArrayFromArray(e,t)}static getTypedArrayFromSize(e,t){switch(e.getName()){case _n.UINT8:return new Uint8Array(t)
case _n.BOOLEAN:case _n.INT8:return new Int8Array(t)
case _n.UINT16:return new Uint16Array(t)
case _n.INT16:return new Int16Array(t)
case _n.UINT32:return new Uint32Array(t)
case _n.INT32:return new Int32Array(t)
case _n.SINGLE:return new Float32Array(t)
case _n.ENUM:case _n.INT64:case _n.UINT64:case _n.DOUBLE:return new Float64Array(t)
case _n.COMPLEXSINGLE:return new Float32Array(2*t)
case _n.COMPLEXDOUBLE:return new Float64Array(2*t)}}static getTypedArrayFromArray(e,t){switch(e.getName()){case _n.UINT8:return new Uint8Array(t)
case _n.BOOLEAN:case _n.INT8:return new Int8Array(t)
case _n.UINT16:return new Uint16Array(t)
case _n.INT16:return new Int16Array(t)
case _n.UINT32:return new Uint32Array(t)
case _n.INT32:return new Int32Array(t)
case _n.SINGLE:return new Float32Array(t)
case _n.ENUM:case _n.INT64:case _n.UINT64:case _n.DOUBLE:return new Float64Array(t)
case _n.COMPLEXSINGLE:{const e=[]
for(let i=0,n=t.length;i<n;i++)e.push(t[i].realPart),e.push(t[i].imaginaryPart)
return new Float32Array(e)}case _n.COMPLEXDOUBLE:{const e=[]
for(let i=0,n=t.length;i<n;i++)e.push(t[i].realPart),e.push(t[i].imaginaryPart)
return new Float64Array(e)}}}static createTypedArrayForValue(e,t,i,n){switch(e.getName()){case _n.BOOLEAN:case _n.INT8:return new Int8Array(t.buffer,i,n)
case _n.UINT8:return new Uint8Array(t.buffer,i,n)
case _n.UINT16:return new Uint16Array(t.buffer,i,n)
case _n.UINT32:return new Uint32Array(t.buffer,i,n)
case _n.INT16:return new Int16Array(t.buffer,i,n)
case _n.INT32:return new Int32Array(t.buffer,i,n)
case _n.SINGLE:return new Float32Array(t.buffer,i,n)
case _n.DOUBLE:return new Float64Array(t.buffer,i,n)
case _n.COMPLEXSINGLE:return new Float32Array(t.buffer,i,2*n)
case _n.COMPLEXDOUBLE:return new Float64Array(t.buffer,i,2*n)}}static convertTypedArrayIntoArray(e,t){const i=e.length
if(t.isComplex()){const t=new Array(i/2)
for(let n=0,r=0;n<i;n+=2,r++)t[r]=new window.NIComplex(e[n],e[n+1])
return t}{const n=t.isBoolean(),r=new Array(i)
for(let t=0;t<i;t++)r[t]=n?0!==e[t]:e[t]
return r}}}class Cn{static isBlittableArrayType(e){switch(e.getName()){case _n.BOOLEAN:case _n.UINT8:case _n.UINT16:case _n.UINT32:case _n.INT8:case _n.INT16:case _n.INT32:case _n.SINGLE:case _n.DOUBLE:case _n.ENUM:case _n.INT64:case _n.UINT64:case _n.COMPLEXSINGLE:case _n.COMPLEXDOUBLE:return!0
case _n.ARRAY:{const t=Cn.getArrayElementType(e)
return Cn.isBlittableArrayType(t)}}return!1}static getBlittableArrayElementSize(e){switch(e.getName()){case _n.BOOLEAN:case _n.UINT8:case _n.INT8:return 1
case _n.UINT16:case _n.INT16:return 2
case _n.UINT32:case _n.INT32:case _n.SINGLE:case _n.ENUM:return 4
case _n.DOUBLE:case _n.COMPLEXSINGLE:case _n.INT64:case _n.UINT64:return 8
case _n.COMPLEXDOUBLE:case _n.TIMESTAMP:return 16
case _n.ARRAY:{const t=Cn.getArrayElementType(e)
return Cn.getBlittableArrayElementSize(t)}}return 0}static getArrayElementType(e){let t=e.getSubtype()
for(;t.getName()===_n.ARRAY;)t=t.getSubtype()
return t}static ToNIType(e){switch(e.dataTypeType()){case yn.PackedData.AnyPackedType.PackedScalarType:return Cn.ScalarTypeToNIType(e)
case yn.PackedData.AnyPackedType.PackedArrayType:return Cn.ArrayTypeToNIType(e)
case yn.PackedData.AnyPackedType.PackedClusterType:return Cn.ClusterTypeToNIType(e)}}static ArrayTypeToNIType(e){const t=e.dataType(new yn.PackedData.PackedArrayType)
return Cn.ToNIType(t.elementType).makeArray(t.dimensions)}static ClusterTypeToNIType(e){throw new Error("ClusterTypeToNIType Method not implemented.")}static ScalarTypeToNIType(e){switch(e.dataType(new yn.PackedData.PackedScalarType).typeType()){case yn.PackedData.AnyValue.PackedBooleanValue:return wn.BOOLEAN
case yn.PackedData.AnyValue.PackedInt8Value:return wn.INT8
case yn.PackedData.AnyValue.PackedUInt8Value:return wn.UINT8
case yn.PackedData.AnyValue.PackedInt16Value:return wn.INT16
case yn.PackedData.AnyValue.PackedUInt16Value:return wn.UINT16
case yn.PackedData.AnyValue.PackedInt32Value:return wn.INT32
case yn.PackedData.AnyValue.PackedUInt32Value:return wn.UINT32
case yn.PackedData.AnyValue.PackedInt64Value:return wn.INT64
case yn.PackedData.AnyValue.PackedUInt64Value:return wn.UINT64
case yn.PackedData.AnyValue.PackedFloat32Value:return wn.SINGLE
case yn.PackedData.AnyValue.PackedFloat64Value:return wn.DOUBLE
case yn.PackedData.AnyValue.PackedStringValue:return wn.STRING
case yn.PackedData.AnyValue.PackedComplexFloat32Value:return wn.COMPLEXSINGLE
case yn.PackedData.AnyValue.PackedComplexFloat64Value:return wn.COMPLEXDOUBLE
case yn.PackedData.AnyValue.PackedPathValue:return wn.PATH
case yn.PackedData.AnyValue.PackedTimestampValue:return wn.TIMESTAMP}return wn.VOID}}class Sn{static PackDataValue(e,t,i){return new In(e,t,i).pack()}constructor(e,t,i){this.niType=t,this.unpacker=new Tn(e,t,i)}getType(){return this.niType}unpack(){return this.unpacker.unpack()}}class Tn{constructor(e,t,i){this.packedData=e,this.niType=t,this.unpackingOptions=i}getType(){return this.niType}unpack(){return Cn.isBlittableArrayType(this.niType)?this.unpackBlittableType():this.unpackObjectArray()}unpackObjectArray(){const e=[],t=this.niType.getSubtype()
for(let i=0;i<this.packedData.valueLength();++i){const n=this.packedData.value(i),r=Rn.GetDataAdaptorFromIndex(n,t,this.unpackingOptions)
e[i]=r.unpack()}return e}unpackBlittableType(){return 1===this.niType.getRank()?this.unpackBlittable1DArray():this.unpackBlittableArray()}unpackBlittable1DArray(){const e=this.niType.getSubtype(),t=new yn.PackedData.PackedBlittable1DArrayValue
t.__init(this.packedData.bb_pos,this.packedData.bb)
const i=t.valueArray()||new Int8Array(0)
return xn.createArrayFromByteArray(e,i,i.byteOffset,t.length(),this.unpackIntoJSArray())}unpackBlittableArray(){const e=new yn.PackedData.PackedBlittableArrayValue
e.__init(this.packedData.bb_pos,this.packedData.bb)
const t=Cn.getArrayElementType(this.niType),i=Cn.getBlittableArrayElementSize(this.niType),n=e.dimensionsArray(),r=e.valueArray()||new Int8Array(0)
if(null==n||0===n.length)return xn.getPreAllocatedTypedArray(t,0)
const o=new En(i,t,n,r)
return this.unpackBlittableSubArray(o,0)}unpackBlittableSubArray(e,t){if(t===e.dimensions.length-1){const t=e.valueArray.byteOffset+e.consumedBytes,i=xn.createArrayFromByteArray(e.elementType,e.valueArray,t,e.dimensions[e.dimensions.length-1],this.unpackIntoJSArray())
return e.consumedBytes+=e.dimensionByteCount,i}const i=e.dimensions[t],n=new Array(i)
for(let r=0;r<i;r++)n[r]=this.unpackBlittableSubArray(e,t+1)
return n}unpackIntoJSArray(){return void 0===this.unpackingOptions||void 0===this.unpackingOptions.supportsArrayLikeTypes||!0!==this.unpackingOptions.supportsArrayLikeTypes}}class In{constructor(e,t,i){this.builder=e,this.dataToPack=t,this.niType=i,Cn.isBlittableArrayType(this.niType)?this.dimensions=xn.getArrayDimensions(t):this.dimensions=[this.dataToPack.length]}pack(){if(Cn.isBlittableArrayType(this.niType)){const e=xn.convertArrayToFlattenedInt8Array(this.dataToPack,this.niType)
return this.packBlittableArray(e)}return this.packObjectArray()}packObjectArray(){const e=[],t=this.niType.getSubtype()
for(let i=0;i<this.dataToPack.length;++i){const n=this.dataToPack[i],r=Rn.PackDataValue(this.builder,n,t,!1)
e[i]=r}const i=yn.PackedData.PackedArrayValue.createValueVector(this.builder,e),n=yn.PackedData.PackedArrayValue.createDimensionsVector(this.builder,this.dimensions)
return yn.PackedData.PackedArrayValue.startPackedArrayValue(this.builder),yn.PackedData.PackedArrayValue.addDimensions(this.builder,n),yn.PackedData.PackedArrayValue.addValue(this.builder,i),yn.PackedData.PackedArrayValue.endPackedArrayValue(this.builder)}packBlittableArray(e){const t=e,i=yn.PackedData.PackedBlittable1DArrayValue.createValueVector(this.builder,t)
if(1===this.dimensions.length)return this.packBlittable1DArray(i)
const n=yn.PackedData.PackedBlittableArrayValue.createDimensionsVector(this.builder,this.dimensions)
return this.packBlittableMultiDimensionalArray(i,n)}packBlittable1DArray(e){return yn.PackedData.PackedBlittable1DArrayValue.startPackedBlittable1DArrayValue(this.builder),yn.PackedData.PackedBlittable1DArrayValue.addValue(this.builder,e),yn.PackedData.PackedBlittable1DArrayValue.addLength(this.builder,this.dataToPack.length),yn.PackedData.PackedBlittable1DArrayValue.endPackedBlittable1DArrayValue(this.builder)}packBlittableMultiDimensionalArray(e,t){return yn.PackedData.PackedBlittableArrayValue.startPackedBlittableArrayValue(this.builder),yn.PackedData.PackedBlittableArrayValue.addValue(this.builder,e),yn.PackedData.PackedBlittableArrayValue.addDimensions(this.builder,t),yn.PackedData.PackedBlittableArrayValue.endPackedBlittableArrayValue(this.builder)}}class En{constructor(e,t,i,n){this.elementSize=e,this.elementType=t,this.dimensions=i,this.valueArray=n,this.dimensionByteCount=i[i.length-1]*e,this.consumedBytes=0}}class Pn{static getRootAsPackedCluster(e){return new Pn(e.readInt32(e.position())+e.position(),e)}static startPackedClusterValue(e,t){e.startObject(t)}static endPackedClusterValue(e){return e.endObject()}constructor(e,t){this.index=e,this.bb=t}getUint8Field(e){const t=this.bb.__offset(this.index,4+2*e)
return t?this.bb.readUint8(this.index+t):0}getInt8Field(e){const t=this.bb.__offset(this.index,4+2*e)
return t?this.bb.readInt8(this.index+t):0}getUint16Field(e){const t=this.bb.__offset(this.index,4+2*e)
return t?this.bb.readUint16(this.index+t):0}getInt16Field(e){const t=this.bb.__offset(this.index,4+2*e)
return t?this.bb.readInt16(this.index+t):0}getUint32Field(e){const t=this.bb.__offset(this.index,4+2*e)
return t?this.bb.readUint32(this.index+t):0}getInt32Field(e){const t=this.bb.__offset(this.index,4+2*e)
return t?this.bb.readInt32(this.index+t):0}getFloat32Field(e){const t=this.bb.__offset(this.index,4+2*e)
return t?this.bb.readFloat32(this.index+t):0}getFloat64Field(e){const t=this.bb.__offset(this.index,4+2*e)
return t?this.bb.readFloat64(this.index+t):0}getBooleanField(e){const t=this.bb.__offset(this.index,4+2*e)
return!!t&&Boolean(this.bb.readInt8(this.index+t))}getStringField(e){const t=this.bb.__offset(this.index,4+2*e)
return t?this.bb.__string(this.index+t):""}getClusterElement(e){const t=this.bb.__offset(this.index,4+2*e)
if(0!==t){const e=new yn.PackedData.PackedDataValue
return e.__init(this.bb.__indirect(this.index+t),this.bb),e}}}const Dn=window.NITypeNames
class kn{static PackDataValue(e,t,i){const n=i.getFields(),r=i.getSubtype(),o=[]
for(let i=0;i<n.length;++i)if(!this.packInline(r[i])){const a=Rn.PackDataValue(e,t[n[i]],r[i],!0,i)
o[i]=a}Pn.startPackedClusterValue(e,n.length)
for(let i=0;i<n.length;++i)this.packInline(r[i])?Rn.PackDataValue(e,t[n[i]],r[i],!0,i):e.addFieldOffset(i,o[i],0)
return Pn.endPackedClusterValue(e)}static packInline(e){switch(e.getName()){case Dn.BOOLEAN:case Dn.UINT8:case Dn.UINT16:case Dn.UINT32:case Dn.UINT64:case Dn.INT8:case Dn.INT16:case Dn.INT32:case Dn.INT64:case Dn.SINGLE:case Dn.DOUBLE:case Dn.ENUM:return!0}return!1}constructor(e,t,i){this.packedData=e,this.niType=t,this.unpackingOptions=i}getType(){return this.niType}unpack(){const e={},t=this.niType.getFields(),i=this.niType.getSubtype()
for(let n=0;n<t.length;++n){const r={value:this.getUnpackedValue(n,i[n])}
e[t[n]]=r.value}return e}getUnpackedValue(e,t){switch(t.getName()){case Dn.BOOLEAN:return this.packedData.getBooleanField(e)
case Dn.UINT8:return this.packedData.getUint8Field(e)
case Dn.UINT16:return this.packedData.getUint16Field(e)
case Dn.UINT32:return this.packedData.getUint32Field(e)
case Dn.INT8:return this.packedData.getInt8Field(e)
case Dn.INT16:return this.packedData.getInt16Field(e)
case Dn.INT32:return this.packedData.getInt32Field(e)
case Dn.SINGLE:return this.packedData.getFloat32Field(e)
case Dn.DOUBLE:return this.packedData.getFloat64Field(e)
case Dn.STRING:return this.packedData.getStringField(e)
case Dn.CLUSTER:case Dn.ARRAY:case Dn.COMPLEXSINGLE:case Dn.COMPLEXDOUBLE:case Dn.TIMESTAMP:case Dn.ANALOGWAVEFORM:return Rn.GetDataAdaptorFromIndex(this.packedData.getClusterElement(e),t,this.unpackingOptions).unpack()}}}class An{static PackDataValue(e,t){const i=new window.NIComplex(t)
return yn.PackedData.PackedComplexFloat64Value.startPackedComplexFloat64Value(e),yn.PackedData.PackedComplexFloat64Value.addImaginary(e,i.imaginaryPart),yn.PackedData.PackedComplexFloat64Value.addReal(e,i.realPart),yn.PackedData.PackedComplexFloat64Value.endPackedComplexFloat64Value(e)}constructor(e,t,i){this.niType=t,this.packedData=e}getType(){return this.niType}unpack(){const e=new yn.PackedData.PackedComplexFloat64Value
return e.__init(this.packedData.bb_pos,this.packedData.bb),new window.NIComplex(e.real(),e.imaginary()).toString()}}class jn{static PackDataValue(e,t){const i=new window.NIComplex(t)
return yn.PackedData.PackedComplexFloat32Value.startPackedComplexFloat32Value(e),yn.PackedData.PackedComplexFloat32Value.addImaginary(e,i.imaginaryPart),yn.PackedData.PackedComplexFloat32Value.addReal(e,i.realPart),yn.PackedData.PackedComplexFloat32Value.endPackedComplexFloat32Value(e)}constructor(e,t,i){this.niType=t,this.packedData=e}getType(){return this.niType}unpack(){const e=new yn.PackedData.PackedComplexFloat32Value
return e.__init(this.packedData.bb_pos,this.packedData.bb),new window.NIComplex(e.real(),e.imaginary()).toString()}}class Mn{static CreateFlatbuffersLong(e){let t="0"
e.startsWith("-")&&(t="1")
let i=new window.JQX.Utilities.BigNumber(e).toString(2)
i=new Array(65-i.length).join(t)+i
const n=parseInt(i.substring(0,32),2),r=parseInt(i.substring(32),2)
return flatbuffers.Long.create(r,n)}static ulongToFloat64(e){return 4294967296*(e.high>>>0)+(e.low>>>0)}}class Nn{static PackDataValue(e,t,i,n){if(t=Mn.CreateFlatbuffersLong(t),!i)return yn.PackedData.PackedInt64Value.startPackedInt64Value(e),yn.PackedData.PackedInt64Value.addValue(e,t),yn.PackedData.PackedInt64Value.endPackedInt64Value(e)
e.addFieldInt64(n,t,0)}constructor(e,t,i){this.niType=t,this.packedData=e}getType(){return this.niType}unpack(){const e=this.packedData.value()
return new window.JQX.Utilities.BigNumber(e.low,e.high).toString()}}class qn{static UnpackFromData(e){const t=e.seconds().toFloat64(),i=Mn.ulongToFloat64(e.fractions())
return new window.NITimestamp(t.toString()+":"+i.toString())}static PackDataValue(e,t){yn.PackedData.PackedTimestampValue.startPackedTimestampValue(e),yn.PackedData.PackedTimestampValue.addSeconds(e,qn.CreateFlatbuffersLong(t.seconds))
const i=qn.CreateFlatbuffersLong(0x10000000000000000*t.fractions)
return yn.PackedData.PackedTimestampValue.addFractions(e,i),yn.PackedData.PackedTimestampValue.endPackedTimestampValue(e)}static CreateFlatbuffersLong(e){const t=e.toString(16),i=t.length
let n=0,r=0
if(i<=8)r=i>0?e:0
else{const e=t.substring(i-8,i)
r=parseInt(e,16)
const o=t.substring(0,i-8)
n=parseInt(o,16)}return flatbuffers.Long.create(r,n)}constructor(e,t,i){this.niType=t,this.packedData=e}getType(){return this.niType}unpack(){const e=new yn.PackedData.PackedTimestampValue
return e.__init(this.packedData.bb_pos,this.packedData.bb),qn.UnpackFromData(e)}}class On{constructor(e,t,i){this.packedData=e,this.niType=t,this.unpackingOptions=i}getType(){return this.niType}unpack(){return this.packedData.value()}}class Bn{constructor(e,t,i){this.niType=t,this.packedData=e,this.options=i}static PackDataValue(e,t,i){const n=qn.PackDataValue(e,t.t0),r=Sn.PackDataValue(e,t.Y,i.getSubtype().makeArray(1)),o=Bn.PackChannelNameAttribute(e,t.channelName)
return yn.PackedData.PackedWaveformValue.createPackedWaveformValue(e,n,t.dt,r,o)}static PackChannelNameAttribute(e,t){if("string"==typeof t)return Bn.PackVariant(e,null,window.NITypes.VOID,[Bn.channelNameAttributeName],[t])}static PackVariant(e,t,i,n,r){const o=Rn.PackDataValue(e,t,i,!1,0)
let a=0
0!==o&&(yn.PackedData.PackedDataValue.startPackedDataValue(e),yn.PackedData.PackedDataValue.addValue(e,o),a=yn.PackedData.PackedDataValue.endPackedDataValue(e))
const s=Rn.PackDataType(e,i),l=n.map(t=>e.createString(t)),d=yn.PackedData.PackedVariantValue.createAttributeNamesVector(e,l),c=r.map(t=>Bn.PackVariant(e,t,window.NITypes.STRING,[],[])),h=yn.PackedData.PackedVariantValue.createAttributeValuesVector(e,c)
return yn.PackedData.PackedVariantValue.startPackedVariantValue(e),yn.PackedData.PackedVariantValue.addData(e,a),yn.PackedData.PackedVariantValue.addDataType(e,s),yn.PackedData.PackedVariantValue.addAttributeNames(e,d),yn.PackedData.PackedVariantValue.addAttributeValues(e,h),yn.PackedData.PackedVariantValue.endPackedVariantValue(e)}getType(){return this.niType}unpack(){const e=new yn.PackedData.PackedWaveformValue
e.__init(this.packedData.bb_pos,this.packedData.bb)
const t=new window.NIAnalogWaveform
t.dt=e.dt(),t.t0=qn.UnpackFromData(e.t0())
const i=new Tn(e.y(),this.niType.getSubtype().makeArray(1),this.options)
t.Y=i.unpack()
const n=e.attributes()
if(null!==n)for(let e=0;e<n.attributeNamesLength();e++)if(n.attributeNames(e)===Bn.channelNameAttributeName){const i=n.attributeValues(e)
Cn.ToNIType(i.dataType()).isString()&&(t.channelName=i.data(new yn.PackedData.PackedStringValue).value())}return t}}Bn.channelNameAttributeName="NI_ChannelName"
const Ln=window.NITypeNames
class Rn{static PackDataIntoSharedMemory(e,t){const i=Rn.PackData(e,t),n=browserMessaging.getSharedData("",i.length)
return new Uint8Array(n).set(i),browserMessaging.getSharedDataId(n)}static PackData(e,t){const i=new flatbuffers.Builder(1024),n=Rn.PackDataValue(i,e,t,!1,0)
if(0!==n){yn.PackedData.PackedDataValue.startPackedDataValue(i),yn.PackedData.PackedDataValue.addValue(i,n)
const e=yn.PackedData.PackedDataValue.endPackedDataValue(i)
return i.finish(e),i.asUint8Array()}}static PackDataValue(e,t,i,n,r){let o=0
switch(i.getName()){case Ln.BOOLEAN:n?e.addFieldInt8(r,Number(t),Number(!1)):(yn.PackedData.PackedBooleanValue.startPackedBooleanValue(e),yn.PackedData.PackedBooleanValue.addValue(e,t),o=yn.PackedData.PackedBooleanValue.endPackedBooleanValue(e))
break
case Ln.UINT8:n?e.addFieldInt8(r,t,0):(yn.PackedData.PackedUInt8Value.startPackedUInt8Value(e),yn.PackedData.PackedUInt8Value.addValue(e,t),o=yn.PackedData.PackedUInt8Value.endPackedUInt8Value(e))
break
case Ln.UINT16:n?e.addFieldInt16(r,t,0):(yn.PackedData.PackedUInt16Value.startPackedUInt16Value(e),yn.PackedData.PackedUInt16Value.addValue(e,t),o=yn.PackedData.PackedUInt16Value.endPackedUInt16Value(e))
break
case Ln.UINT32:n?e.addFieldInt32(r,t,0):(yn.PackedData.PackedUInt32Value.startPackedUInt32Value(e),yn.PackedData.PackedUInt32Value.addValue(e,t),o=yn.PackedData.PackedUInt32Value.endPackedUInt32Value(e))
break
case Ln.UINT64:o=Nn.PackDataValue(e,t,n,r)
break
case Ln.INT8:n?e.addFieldInt8(r,t,0):(yn.PackedData.PackedInt8Value.startPackedInt8Value(e),yn.PackedData.PackedInt8Value.addValue(e,t),o=yn.PackedData.PackedInt8Value.endPackedInt8Value(e))
break
case Ln.INT16:n?e.addFieldInt16(r,t,0):(yn.PackedData.PackedInt16Value.startPackedInt16Value(e),yn.PackedData.PackedInt16Value.addValue(e,t),o=yn.PackedData.PackedInt16Value.endPackedInt16Value(e))
break
case Ln.INT32:n?e.addFieldInt32(r,t,0):(yn.PackedData.PackedInt32Value.startPackedInt32Value(e),yn.PackedData.PackedInt32Value.addValue(e,t),o=yn.PackedData.PackedInt32Value.endPackedInt32Value(e))
break
case Ln.INT64:o=Nn.PackDataValue(e,t,n,r)
break
case Ln.SINGLE:n?e.addFieldFloat32(r,t,0):(yn.PackedData.PackedFloat32Value.startPackedFloat32Value(e),yn.PackedData.PackedFloat32Value.addValue(e,t),o=yn.PackedData.PackedFloat32Value.endPackedFloat32Value(e))
break
case Ln.DOUBLE:n?e.addFieldFloat64(r,t,0):(yn.PackedData.PackedFloat64Value.startPackedFloat64Value(e),yn.PackedData.PackedFloat64Value.addValue(e,t),o=yn.PackedData.PackedFloat64Value.endPackedFloat64Value(e))
break
case Ln.STRING:{const i=e.createString(t)
n?o=i:(yn.PackedData.PackedStringValue.startPackedStringValue(e),yn.PackedData.PackedStringValue.addValue(e,i),o=yn.PackedData.PackedStringValue.endPackedStringValue(e))
break}case Ln.ARRAY:o=Sn.PackDataValue(e,t,i)
break
case Ln.CLUSTER:o=kn.PackDataValue(e,t,i)
break
case Ln.COMPLEXSINGLE:o=jn.PackDataValue(e,t)
break
case Ln.COMPLEXDOUBLE:o=An.PackDataValue(e,t)
break
case Ln.TIMESTAMP:o=qn.PackDataValue(e,t)
break
case Ln.ANALOGWAVEFORM:o=Bn.PackDataValue(e,t,i)}return o}static GetDataAdaptorFromRoot(e,t,i){const n=new flatbuffers.ByteBuffer(e)
switch(t.getName()){case Ln.BOOLEAN:return new On(yn.PackedData.PackedBooleanValue.getRootAsPackedBooleanValue(n),t,i)
case Ln.UINT8:return new On(yn.PackedData.PackedUInt8Value.getRootAsPackedUInt8Value(n),t,i)
case Ln.UINT16:return new On(yn.PackedData.PackedUInt16Value.getRootAsPackedUInt16Value(n),t,i)
case Ln.UINT32:return new On(yn.PackedData.PackedUInt32Value.getRootAsPackedUInt32Value(n),t,i)
case Ln.UINT64:return new Nn(yn.PackedData.PackedUInt64Value.getRootAsPackedUInt64Value(n),t,i)
case Ln.INT8:return new On(yn.PackedData.PackedInt8Value.getRootAsPackedInt8Value(n),t,i)
case Ln.INT16:return new On(yn.PackedData.PackedInt16Value.getRootAsPackedInt16Value(n),t,i)
case Ln.INT32:return new On(yn.PackedData.PackedInt32Value.getRootAsPackedInt32Value(n),t,i)
case Ln.INT64:return new Nn(yn.PackedData.PackedInt64Value.getRootAsPackedInt64Value(n),t,i)
case Ln.SINGLE:return new On(yn.PackedData.PackedFloat32Value.getRootAsPackedFloat32Value(n),t,i)
case Ln.DOUBLE:return new On(yn.PackedData.PackedFloat64Value.getRootAsPackedFloat64Value(n),t,i)
case Ln.STRING:return new On(yn.PackedData.PackedStringValue.getRootAsPackedStringValue(n),t,i)
case Ln.CLUSTER:return new kn(Pn.getRootAsPackedCluster(n),t,i)
case Ln.ARRAY:return new Sn(yn.PackedData.PackedArrayValue.getRootAsPackedArrayValue(n),t,i)
case Ln.COMPLEXSINGLE:return new jn(yn.PackedData.PackedComplexFloat32Value.getRootAsPackedComplexFloat32Value(n),t,i)
case Ln.COMPLEXDOUBLE:return new An(yn.PackedData.PackedComplexFloat64Value.getRootAsPackedComplexFloat64Value(n),t,i)
case Ln.TIMESTAMP:return new qn(yn.PackedData.PackedTimestampValue.getRootAsPackedTimestampValue(n),t,i)
case Ln.ANALOGWAVEFORM:return new Bn(yn.PackedData.PackedWaveformValue.getRootAsPackedWaveformValue(n),t,i)}}static GetDataAdaptorFromPackedValue(e,t,i){const n=new flatbuffers.ByteBuffer(e),r=yn.PackedData.PackedDataValue.getRootAsPackedDataValue(n)
return this.GetDataAdaptorFromIndex(r.value({}),t,i)}static GetDataAdaptorFromIndex(e,t,i){switch(t.getName()){case Ln.BOOLEAN:return new On((new yn.PackedData.PackedBooleanValue).__init(e.bb_pos,e.bb),t,i)
case Ln.UINT8:return new On((new yn.PackedData.PackedUInt8Value).__init(e.bb_pos,e.bb),t,i)
case Ln.UINT16:return new On((new yn.PackedData.PackedUInt16Value).__init(e.bb_pos,e.bb),t,i)
case Ln.UINT32:return new On((new yn.PackedData.PackedUInt32Value).__init(e.bb_pos,e.bb),t,i)
case Ln.UINT64:return new Nn((new yn.PackedData.PackedUInt64Value).__init(e.bb_pos,e.bb),t,i)
case Ln.INT8:return new On((new yn.PackedData.PackedInt8Value).__init(e.bb_pos,e.bb),t,i)
case Ln.INT16:return new On((new yn.PackedData.PackedInt16Value).__init(e.bb_pos,e.bb),t,i)
case Ln.INT32:return new On((new yn.PackedData.PackedInt32Value).__init(e.bb_pos,e.bb),t,i)
case Ln.INT64:return new Nn((new yn.PackedData.PackedInt64Value).__init(e.bb_pos,e.bb),t,i)
case Ln.SINGLE:return new On((new yn.PackedData.PackedFloat32Value).__init(e.bb_pos,e.bb),t,i)
case Ln.DOUBLE:return new On((new yn.PackedData.PackedFloat64Value).__init(e.bb_pos,e.bb),t,i)
case Ln.STRING:return new On((new yn.PackedData.PackedStringValue).__init(e.bb_pos,e.bb),t,i)
case Ln.CLUSTER:return new kn(new Pn(e.bb_pos,e.bb),t,i)
case Ln.ARRAY:return new Sn((new yn.PackedData.PackedArrayValue).__init(e.bb_pos,e.bb),t,i)
case Ln.COMPLEXSINGLE:return new jn((new yn.PackedData.PackedComplexFloat32Value).__init(e.bb_pos,e.bb),t,i)
case Ln.COMPLEXDOUBLE:return new An((new yn.PackedData.PackedComplexFloat64Value).__init(e.bb_pos,e.bb),t,i)
case Ln.TIMESTAMP:return new qn((new yn.PackedData.PackedTimestampValue).__init(e.bb_pos,e.bb),t,i)
case Ln.ANALOGWAVEFORM:return new Bn((new yn.PackedData.PackedWaveformValue).__init(e.bb_pos,e.bb),t,i)}}static PackDataType(e,t){let i=0
switch(t.getName()){case Ln.ARRAY:throw new Error("Pack array type not implemented.")
case Ln.CLUSTER:throw new Error("Pack cluster type not implemented.")
case Ln.ANALOGWAVEFORM:case Ln.DIGITALWAVEFORM:throw new Error("Pack waveform type not implemented.")
default:{const n=this.ToFlatBufferScalarType(t),r=yn.PackedData.PackedScalarType.createPackedScalarType(e,n,0)
i=yn.PackedData.PackedDataType.createPackedDataType(e,yn.PackedData.AnyPackedType.PackedScalarType,r)}}return i}static ToFlatBufferScalarType(e){switch(e.getName()){case Ln.BOOLEAN:return yn.PackedData.AnyValue.PackedBooleanValue
case Ln.UINT8:return yn.PackedData.AnyValue.PackedUInt8Value
case Ln.UINT16:return yn.PackedData.AnyValue.PackedUInt16Value
case Ln.UINT32:return yn.PackedData.AnyValue.PackedUInt32Value
case Ln.UINT64:return yn.PackedData.AnyValue.PackedUInt64Value
case Ln.INT8:return yn.PackedData.AnyValue.PackedInt8Value
case Ln.INT16:return yn.PackedData.AnyValue.PackedInt16Value
case Ln.INT32:return yn.PackedData.AnyValue.PackedInt32Value
case Ln.INT64:return yn.PackedData.AnyValue.PackedInt64Value
case Ln.SINGLE:return yn.PackedData.AnyValue.PackedFloat32Value
case Ln.DOUBLE:return yn.PackedData.AnyValue.PackedFloat64Value
case Ln.STRING:return yn.PackedData.AnyValue.PackedStringValue}return yn.PackedData.AnyValue.NONE}}class Hn{static convertJsNaNInf(e){if("number"!=typeof e)throw new Error("Expected value to be number type")
return Object.is(window.NaN,e)?"NaN":e===Number.POSITIVE_INFINITY?"Infinity":e===Number.NEGATIVE_INFINITY?"-Infinity":e}static convertNaNInfString(e){if("number"==typeof e)return e
switch(e){case"NaN":return window.NaN
case"Infinity":return Number.POSITIVE_INFINITY
case"-Infinity":return Number.NEGATIVE_INFINITY
default:throw new Error("Unexpected value. Expected a JS number; or 'NaN', 'Infinity', or '-Infinity'. Value: "+e+", type "+typeof e)}}static convertJsFloatArray(e,t,i,n){let r
const o=n?[]:e
if(void 0!==e)if(1===t)for(r=0;r<e.length;r++)o[r]=i(e[r])
else for(r=0;r<e.length;r++)o[r]=Hn.convertJsFloatArray(e[r],t-1,i,n)
return o}static convertJsArray(e,t,i,n,r){let o
const a=r?[]:e
if(1===i)for(o=0;o<e.length;o++)a[o]=Hn.convert(e[o],t,n,r)
else for(o=0;o<e.length;o++)a[o]=Hn.convertJsArray(e[o],t,i-1,n,r)
return a}static needsConversion(e){let t,i,n=!1
if(void 0!==e)if(e.isFloat())n=!0
else if(e.isArray())n=Hn.needsConversion(e.getSubtype())
else if(e.isCluster()){if(void 0!==(t=e.getSubtype()))for(i=0;i<t.length;i++)n=n||Hn.needsConversion(t[i])}else e.isAnalogWaveform()&&(n=!0)
return n}static convert(e,t,i,n){let r,o,a,s,l=e
if(void 0!==t)if(t.isFloat())l=i(e)
else if(t.isArray())r=t.getSubtype(),Array.isArray(e)&&(r.isFloat()?l=Hn.convertJsFloatArray(e,t.getRank(),i,n):(r.isCluster()||r.isAnalogWaveform())&&(l=Hn.convertJsArray(e,r,t.getRank(),i,n)))
else if(t.isCluster())if(void 0!==(r=t.getSubtype()))for(l=n?{}:e,o=t.getFields(),s=0;s<o.length;s++)a=o[s],e.hasOwnProperty(a)&&(l[a]=Hn.convert(e[a],r[s],i,n))
else l=e
else t.isAnalogWaveform()&&(l={t0:"0:0",dt:1,channelName:"",Y:[]},null!==e&&(l.dt=e.dt,l.t0=e.t0,l.channelName=e.channelName,l.Y=Hn.convertJsFloatArray(e.Y,1,i,n)))
return l}static jsModelToEditor(e,t){return Hn.needsConversion(t)?Hn.convert(e,t,Hn.convertJsNaNInf,!0):e}static editorToJsModel(e,t){return Hn.needsConversion(t)?Hn.convert(e,t,Hn.convertNaNInfString,!1):e}static packedDataToJsModel(e,t,i){let n
return n=e instanceof Uint8Array?Rn.GetDataAdaptorFromPackedValue(e,t,i):Rn.GetDataAdaptorFromIndex(e,t,i),void 0===i||void 0===i.supportsVirtualization||!0!==i.supportsVirtualization?n.unpack():n}}class Vn extends Error{constructor(e,t){super(e),this.name="LVPropertyError",this.code=t}}var Fn=Fn||{}
Fn.Web=Fn.Web||{},Fn.Web.Interop=Fn.Web.Interop||{},Fn.Web.Interop.AnyType={NONE:0,UnknownTable:1},Fn.Web.Interop.AnyTypeName={0:"NONE",1:"UnknownTable"},Fn.Web.Interop.UpdateData={NONE:0,BatchUpdateFromJson:1,BatchUpdateFromBuffer:2,BatchUpdateFromOffset:3},Fn.Web.Interop.UpdateDataName={0:"NONE",1:"BatchUpdateFromJson",2:"BatchUpdateFromBuffer",3:"BatchUpdateFromOffset"},Fn.Web.Interop.BatchUpdateFromJson=function(){this.bb=null,this.bb_pos=0},Fn.Web.Interop.BatchUpdateFromJson.prototype.__init=function(e,t){return this.bb_pos=e,this.bb=t,this},Fn.Web.Interop.BatchUpdateFromJson.getRootAsBatchUpdateFromJson=function(e,t){return(t||new Fn.Web.Interop.BatchUpdateFromJson).__init(e.readInt32(e.position())+e.position(),e)},Fn.Web.Interop.BatchUpdateFromJson.getSizePrefixedRootAsBatchUpdateFromJson=function(e,t){return(t||new Fn.Web.Interop.BatchUpdateFromJson).__init(e.readInt32(e.position())+e.position(),e)},Fn.Web.Interop.BatchUpdateFromJson.prototype.propertyJson=function(e){var t=this.bb.__offset(this.bb_pos,4)
return t?this.bb.__string(this.bb_pos+t,e):null},Fn.Web.Interop.BatchUpdateFromJson.startBatchUpdateFromJson=function(e){e.startObject(1)},Fn.Web.Interop.BatchUpdateFromJson.addPropertyJson=function(e,t){e.addFieldOffset(0,t,0)},Fn.Web.Interop.BatchUpdateFromJson.endBatchUpdateFromJson=function(e){return e.endObject()},Fn.Web.Interop.BatchUpdateFromJson.createBatchUpdateFromJson=function(e,t){return Fn.Web.Interop.BatchUpdateFromJson.startBatchUpdateFromJson(e),Fn.Web.Interop.BatchUpdateFromJson.addPropertyJson(e,t),Fn.Web.Interop.BatchUpdateFromJson.endBatchUpdateFromJson(e)},Fn.Web.Interop.BatchUpdateFromBuffer=function(){this.bb=null,this.bb_pos=0},Fn.Web.Interop.BatchUpdateFromBuffer.prototype.__init=function(e,t){return this.bb_pos=e,this.bb=t,this},Fn.Web.Interop.BatchUpdateFromBuffer.getRootAsBatchUpdateFromBuffer=function(e,t){return(t||new Fn.Web.Interop.BatchUpdateFromBuffer).__init(e.readInt32(e.position())+e.position(),e)},Fn.Web.Interop.BatchUpdateFromBuffer.getSizePrefixedRootAsBatchUpdateFromBuffer=function(e,t){return(t||new Fn.Web.Interop.BatchUpdateFromBuffer).__init(e.readInt32(e.position())+e.position(),e)},Fn.Web.Interop.BatchUpdateFromBuffer.prototype.position=function(){var e=this.bb.__offset(this.bb_pos,4)
return e?this.bb.readInt32(this.bb_pos+e):0},Fn.Web.Interop.BatchUpdateFromBuffer.prototype.length=function(){var e=this.bb.__offset(this.bb_pos,6)
return e?this.bb.readInt32(this.bb_pos+e):0},Fn.Web.Interop.BatchUpdateFromBuffer.prototype.memoryId=function(e){var t=this.bb.__offset(this.bb_pos,8)
return t?this.bb.__string(this.bb_pos+t,e):null},Fn.Web.Interop.BatchUpdateFromBuffer.startBatchUpdateFromBuffer=function(e){e.startObject(3)},Fn.Web.Interop.BatchUpdateFromBuffer.addPosition=function(e,t){e.addFieldInt32(0,t,0)},Fn.Web.Interop.BatchUpdateFromBuffer.addLength=function(e,t){e.addFieldInt32(1,t,0)},Fn.Web.Interop.BatchUpdateFromBuffer.addMemoryId=function(e,t){e.addFieldOffset(2,t,0)},Fn.Web.Interop.BatchUpdateFromBuffer.endBatchUpdateFromBuffer=function(e){return e.endObject()},Fn.Web.Interop.BatchUpdateFromBuffer.createBatchUpdateFromBuffer=function(e,t,i,n){return Fn.Web.Interop.BatchUpdateFromBuffer.startBatchUpdateFromBuffer(e),Fn.Web.Interop.BatchUpdateFromBuffer.addPosition(e,t),Fn.Web.Interop.BatchUpdateFromBuffer.addLength(e,i),Fn.Web.Interop.BatchUpdateFromBuffer.addMemoryId(e,n),Fn.Web.Interop.BatchUpdateFromBuffer.endBatchUpdateFromBuffer(e)},Fn.Web.Interop.UnknownTable=function(){this.bb=null,this.bb_pos=0},Fn.Web.Interop.UnknownTable.prototype.__init=function(e,t){return this.bb_pos=e,this.bb=t,this},Fn.Web.Interop.UnknownTable.getRootAsUnknownTable=function(e,t){return(t||new Fn.Web.Interop.UnknownTable).__init(e.readInt32(e.position())+e.position(),e)},Fn.Web.Interop.UnknownTable.getSizePrefixedRootAsUnknownTable=function(e,t){return(t||new Fn.Web.Interop.UnknownTable).__init(e.readInt32(e.position())+e.position(),e)},Fn.Web.Interop.UnknownTable.startUnknownTable=function(e){e.startObject(0)},Fn.Web.Interop.UnknownTable.endUnknownTable=function(e){return e.endObject()},Fn.Web.Interop.UnknownTable.createUnknownTable=function(e){return Fn.Web.Interop.UnknownTable.startUnknownTable(e),Fn.Web.Interop.UnknownTable.endUnknownTable(e)},Fn.Web.Interop.BatchUpdateFromOffset=function(){this.bb=null,this.bb_pos=0},Fn.Web.Interop.BatchUpdateFromOffset.prototype.__init=function(e,t){return this.bb_pos=e,this.bb=t,this},Fn.Web.Interop.BatchUpdateFromOffset.getRootAsBatchUpdateFromOffset=function(e,t){return(t||new Fn.Web.Interop.BatchUpdateFromOffset).__init(e.readInt32(e.position())+e.position(),e)},Fn.Web.Interop.BatchUpdateFromOffset.getSizePrefixedRootAsBatchUpdateFromOffset=function(e,t){return(t||new Fn.Web.Interop.BatchUpdateFromOffset).__init(e.readInt32(e.position())+e.position(),e)},Fn.Web.Interop.BatchUpdateFromOffset.prototype.dataType=function(){var e=this.bb.__offset(this.bb_pos,4)
return e?this.bb.readUint8(this.bb_pos+e):Fn.Web.Interop.AnyType.NONE},Fn.Web.Interop.BatchUpdateFromOffset.prototype.data=function(e){var t=this.bb.__offset(this.bb_pos,6)
return t?this.bb.__union(e,this.bb_pos+t):null},Fn.Web.Interop.BatchUpdateFromOffset.startBatchUpdateFromOffset=function(e){e.startObject(2)},Fn.Web.Interop.BatchUpdateFromOffset.addDataType=function(e,t){e.addFieldInt8(0,t,Fn.Web.Interop.AnyType.NONE)},Fn.Web.Interop.BatchUpdateFromOffset.addData=function(e,t){e.addFieldOffset(1,t,0)},Fn.Web.Interop.BatchUpdateFromOffset.endBatchUpdateFromOffset=function(e){return e.endObject()},Fn.Web.Interop.BatchUpdateFromOffset.createBatchUpdateFromOffset=function(e,t,i){return Fn.Web.Interop.BatchUpdateFromOffset.startBatchUpdateFromOffset(e),Fn.Web.Interop.BatchUpdateFromOffset.addDataType(e,t),Fn.Web.Interop.BatchUpdateFromOffset.addData(e,i),Fn.Web.Interop.BatchUpdateFromOffset.endBatchUpdateFromOffset(e)},Fn.Web.Interop.UpdateItem=function(){this.bb=null,this.bb_pos=0},Fn.Web.Interop.UpdateItem.prototype.__init=function(e,t){return this.bb_pos=e,this.bb=t,this},Fn.Web.Interop.UpdateItem.getRootAsUpdateItem=function(e,t){return(t||new Fn.Web.Interop.UpdateItem).__init(e.readInt32(e.position())+e.position(),e)},Fn.Web.Interop.UpdateItem.getSizePrefixedRootAsUpdateItem=function(e,t){return(t||new Fn.Web.Interop.UpdateItem).__init(e.readInt32(e.position())+e.position(),e)},Fn.Web.Interop.UpdateItem.prototype.runtimeId=function(){var e=this.bb.__offset(this.bb_pos,4)
return e?this.bb.readInt32(this.bb_pos+e):0},Fn.Web.Interop.UpdateItem.prototype.propertyName=function(e){var t=this.bb.__offset(this.bb_pos,6)
return t?this.bb.__string(this.bb_pos+t,e):null},Fn.Web.Interop.UpdateItem.prototype.dataType=function(){var e=this.bb.__offset(this.bb_pos,8)
return e?this.bb.readUint8(this.bb_pos+e):Fn.Web.Interop.UpdateData.NONE},Fn.Web.Interop.UpdateItem.prototype.data=function(e){var t=this.bb.__offset(this.bb_pos,10)
return t?this.bb.__union(e,this.bb_pos+t):null},Fn.Web.Interop.UpdateItem.startUpdateItem=function(e){e.startObject(4)},Fn.Web.Interop.UpdateItem.addRuntimeId=function(e,t){e.addFieldInt32(0,t,0)},Fn.Web.Interop.UpdateItem.addPropertyName=function(e,t){e.addFieldOffset(1,t,0)},Fn.Web.Interop.UpdateItem.addDataType=function(e,t){e.addFieldInt8(2,t,Fn.Web.Interop.UpdateData.NONE)},Fn.Web.Interop.UpdateItem.addData=function(e,t){e.addFieldOffset(3,t,0)},Fn.Web.Interop.UpdateItem.endUpdateItem=function(e){return e.endObject()},Fn.Web.Interop.UpdateItem.createUpdateItem=function(e,t,i,n,r){return Fn.Web.Interop.UpdateItem.startUpdateItem(e),Fn.Web.Interop.UpdateItem.addRuntimeId(e,t),Fn.Web.Interop.UpdateItem.addPropertyName(e,i),Fn.Web.Interop.UpdateItem.addDataType(e,n),Fn.Web.Interop.UpdateItem.addData(e,r),Fn.Web.Interop.UpdateItem.endUpdateItem(e)},Fn.Web.Interop.Batch=function(){this.bb=null,this.bb_pos=0},Fn.Web.Interop.Batch.prototype.__init=function(e,t){return this.bb_pos=e,this.bb=t,this},Fn.Web.Interop.Batch.getRootAsBatch=function(e,t){return(t||new Fn.Web.Interop.Batch).__init(e.readInt32(e.position())+e.position(),e)},Fn.Web.Interop.Batch.getSizePrefixedRootAsBatch=function(e,t){return(t||new Fn.Web.Interop.Batch).__init(e.readInt32(e.position())+e.position(),e)},Fn.Web.Interop.Batch.prototype.docName=function(e){var t=this.bb.__offset(this.bb_pos,4)
return t?this.bb.__string(this.bb_pos+t,e):null},Fn.Web.Interop.Batch.prototype.waitForFrameUpdate=function(){var e=this.bb.__offset(this.bb_pos,6)
return!!e&&!!this.bb.readInt8(this.bb_pos+e)},Fn.Web.Interop.Batch.prototype.items=function(e,t){var i=this.bb.__offset(this.bb_pos,8)
return i?(t||new Fn.Web.Interop.UpdateItem).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+i)+4*e),this.bb):null},Fn.Web.Interop.Batch.prototype.itemsLength=function(){var e=this.bb.__offset(this.bb_pos,8)
return e?this.bb.__vector_len(this.bb_pos+e):0},Fn.Web.Interop.Batch.startBatch=function(e){e.startObject(3)},Fn.Web.Interop.Batch.addDocName=function(e,t){e.addFieldOffset(0,t,0)},Fn.Web.Interop.Batch.addWaitForFrameUpdate=function(e,t){e.addFieldInt8(1,+t,0)},Fn.Web.Interop.Batch.addItems=function(e,t){e.addFieldOffset(2,t,0)},Fn.Web.Interop.Batch.createItemsVector=function(e,t){e.startVector(4,t.length,4)
for(var i=t.length-1;i>=0;i--)e.addOffset(t[i])
return e.endVector()},Fn.Web.Interop.Batch.startItemsVector=function(e,t){e.startVector(4,t,4)},Fn.Web.Interop.Batch.endBatch=function(e){return e.endObject()},Fn.Web.Interop.Batch.finishBatchBuffer=function(e,t){e.finish(t)},Fn.Web.Interop.Batch.finishSizePrefixedBatchBuffer=function(e,t){e.finish(t,void 0,!0)},Fn.Web.Interop.Batch.createBatch=function(e,t,i,n){return Fn.Web.Interop.Batch.startBatch(e),Fn.Web.Interop.Batch.addDocName(e,t),Fn.Web.Interop.Batch.addWaitForFrameUpdate(e,i),Fn.Web.Interop.Batch.addItems(e,n),Fn.Web.Interop.Batch.endBatch(e)}
class zn{constructor(){this.properties={},this.cssClasses=Object.freeze({toAdd:[],toRemove:[]}),this.cssStyles={},this.attributes={},this.postRender={}}static get REMOVE_CUSTOM_PROPERTY_TOKEN(){return""}reset(){this.properties={},this.cssClasses=Object.freeze({toAdd:[],toRemove:[]}),this.cssStyles={},this.attributes={},this.postRender={}}isEmpty(){return!(Object.keys(this.properties).length>0)&&(!(this.cssClasses.toAdd.length>0)&&(!(this.cssClasses.toRemove.length>0)&&(!(Object.keys(this.cssStyles).length>0)&&(!(Object.keys(this.attributes).length>0)&&!(Object.keys(this.postRender).length>0)))))}}let $n=[]
const Un={},Gn={}
let Wn=!1,Xn=Promise.resolve()
class Jn{static addCSSClasses(e,t){let i
for(i=0;i<t.length;i++){if("string"!=typeof t[i])throw new Error(Ri.i18n("msg_RENDERBUFFER_EXPECTS_STRING","css classes to add",typeof t[i]))
e.classList.add(t[i])}}static removeCSSClasses(e,t){let i
for(i=0;i<t.length;i++){if("string"!=typeof t[i])throw new Error(Ri.i18n("msg_RENDERBUFFER_EXPECTS_STRING","css classes to remove",typeof t[i]))
e.classList.remove(t[i])}}static setInlineStyle(e,t){let i
for(i in t)if(t.hasOwnProperty(i)){if("string"!=typeof t[i])throw new Error(Ri.i18n("msg_RENDERBUFFER_EXPECTS_STRING","element style",typeof t[i]))
t[i]===zn.REMOVE_CUSTOM_PROPERTY_TOKEN?e.style.removeProperty(i):e.style.setProperty(i,t[i])}}static setAttributes(e,t){let i
for(i in t)if(t.hasOwnProperty(i)){if("string"!=typeof t[i])throw new Error(Ri.i18n("msg_RENDERBUFFER_EXPECTS_STRING","element attributes",typeof t[i]))
e.setAttribute(i,t[i])}}static setProperties(e,t){let i
for(i in t)if(t.hasOwnProperty(i)){if(void 0===t[i])throw new Error("Property cannot be undefined "+i)
e[i]=t[i]}}static dispatchResizeEventWhenSizeChanges(e,t){if(Object.keys(t).length>0){const i={width:t.width,height:t.height}
void 0===i.width&&void 0===i.height||e.dispatchEvent(new CustomEvent("resizeEventHack",{detail:i}))}}static applyDomUpdates(e,t){Jn.addCSSClasses(e,t.cssClasses.toAdd),Jn.removeCSSClasses(e,t.cssClasses.toRemove),Jn.setInlineStyle(e,t.cssStyles),Jn.setAttributes(e,t.attributes),Jn.setProperties(e,t.properties),Jn.dispatchResizeEventWhenSizeChanges(e,t.cssStyles)}static callPostRenderFunctions(e){if("object"!=typeof e)throw new Error("postRender should be assigned functions via named properties")
for(const t in e)if(e.hasOwnProperty(t)){if("function"!=typeof e[t])throw new Error("postRender["+t+"] is not a function")
e[t]()}}static runFrameUpdate(){let e,t,i
try{for(;$n.length>0;)i=(e=$n.shift()).niElementInstanceId,t=Un[i],Gn[i]=!1,Jn.applyDomUpdates(e,t),Jn.callPostRenderFunctions(t.postRender),t.reset()}finally{Wn=!1}}static getOrAddRenderBuffer(e){if(!Ri.isElement(e))throw new Error("Element should be an instance of Html Custom Element.")
const t=e.niElementInstanceId
let i=Un[t]
return void 0===i&&(i=new zn,Un[t]=i),i}static removeRenderBuffer(e){if(!Ri.isElement(e))throw new Error("Element should be an instance of Html Custom Element.")
const t=e.niElementInstanceId,i=Un[t]
return void 0!==i&&(Un[t]=void 0,Gn[t]=void 0,$n=$n.filter(function(e){return e.niElementInstanceId!==t})),i}static enqueueDomUpdate(e){if(!Ri.isElement(e))throw new Error("Element should be an instance of HtmlElement.")
const t=e.niElementInstanceId,i=Un[t]
if(void 0===i)throw Error("Did you forget to getOrAddRenderBuffer?")
if(!1!==i.isEmpty()||!1!==Gn[t]&&void 0!==Gn[t]||(Gn[t]=!0,$n.push(e)),!0===Ri.SYNCHRONIZE_RENDER_BUFFER&&$n.length>0)return Wn=!0,void Jn.runFrameUpdate()
!1===Wn&&$n.length>0&&(Wn=!0,Xn=new Promise(e=>{window.requestAnimationFrame(()=>{Jn.runFrameUpdate(),e()})}))}static isFrameRequested(){return Wn}static waitForFrameUpdate(){return Xn}}const Yn=new JQX.Utilities.DateTime(new Date(-20828448e5))
class Qn{static convert(e){const t=new window.NITimestamp(e).toDate()
return isNaN(t.getTime())?new JQX.Utilities.DateTime(t):new JQX.Utilities.DateTime(t.toISOString(),"UTC")}static convertBack(e,t){return"string"==typeof e&&(e=JQX.Utilities.DateTime.validateDate(e,Yn)),new window.NITimestamp(new Date(e.toTimeZone("UTC").toString("yyyy-MM-ddTHH:mm:ss.fff")+"Z")).toString()}}const Kn=Symbol("NIArrayViewerSymbol")
class Zn{static get NIArrayViewerSymbol(){return Kn}static isNIArrayViewer(e){return"object"==typeof e&&null!==e&&!0===e[Kn]}}class er{static get BORDER_WIDTH(){return"--ni-border-width"}static get PADDING(){return"--ni-padding"}static get MARGIN(){return"--ni-margin"}static get MAX_WIDTH(){return"--ni-max-width"}static get MIN_HEIGHT(){return"--ni-min-height"}static get TEXT_ALIGN(){return"--ni-text-align"}static get TEXT_ALIGN_AS_FLEX(){return"--ni-text-align-as-flex"}static get OVERFLOW_X(){return"--ni-overflow-x"}static get OVERFLOW_Y(){return"--ni-overflow-y"}static get FOREGROUND_COLOR(){return"--ni-foreground-color"}static get BORDER_COLOR(){return"--ni-border-color"}static get BORDER_GRADIENT(){return"--ni-border-gradient"}static get BACKGROUND(){return"--ni-background"}static get TRUE_FOREGROUND_COLOR(){return"--ni-true-foreground-color"}static get TRUE_BACKGROUND(){return"--ni-true-background"}static get CHECK_MARK_COLOR(){return"--ni-check-mark-color"}static get CONTENT_DISPLAY(){return"--ni-content-display"}static get FALSE_FOREGROUND_COLOR(){return"--ni-false-foreground-color"}static get FALSE_BACKGROUND(){return"--ni-false-background"}static get FALSE_CONTENT_DISPLAY(){return"--ni-false-content-display"}static get FILL(){return"--ni-fill-background"}static get SELECTED_BACKGROUND(){return"--ni-selected-background"}static get UNSELECTED_BACKGROUND(){return"--ni-unselected-background"}static get INACTIVE_BACKGROUND(){return"--ni-inactive-background"}static get INACTIVE_FOREGROUND_COLOR(){return"--ni-inactive-foreground-color"}static get FLEX_GROW(){return"--ni-flex-grow"}static get PLACEHOLDER_BACKGROUND(){return"--ni-placeholder-background"}}class tr extends Ki{addAllProperties(e){super.addAllProperties(e)
const t=tr.prototype
t.addProperty(e,{propertyName:"viName",defaultValue:""}),t.addProperty(e,{propertyName:"viRef",defaultValue:""})}attachedCallback(){const e=super.attachedCallback()
return Br.registerVIElement(this),e}detachedCallback(){Br.unregisterVIElement(this)}}tn.registerElement(tr,Zi.VI),Ki.defineElementInfo(tr.prototype,"ni-virtual-instrument","HTMLNIVirtualInstrument")
const ir=Symbol("NIRootModelSymbol")
class nr{static get NIRootModelSymbol(){return ir}static isRootModel(e){return"object"==typeof e&&null!==e&&!0===e[ir]}}class rr{constructor(){this._listeners=[]}notifyModelPropertyChanged(e){for(let t=0;t<this._listeners.length;t++){const i=this._listeners[t],n=i.modelPropertyChanged(e)
i.applyElementChanges(n)}}registerListener(e){this._listeners.push(e)}unregisterListener(e){let t,i=-1
for(t=0;t<this._listeners.length;t++)if(this._listeners[t]===e){i=t
break}i>=0&&this._listeners.slice(i,1)}setMultipleProperties(e){let t
for(t in e){if(!(t in this))throw new Error("Unknown property assigned ("+t+") for model kind ("+this.constructor.MODEL_KIND+")")
this[t]=e[t]}}}let or=[],ar=[],sr=[],lr=[]
class dr{static get TagMap(){return or}static set TagMap(e){or=e}static get ModelKindMap(){return ar}static set ModelKindMap(e){ar=e}static get ModelFactory(){return sr}static set ModelFactory(e){sr=e}static get ViewModelFactory(){return lr}static set ViewModelFactory(e){lr=e}registerModel(e){dr.ModelFactory[e.MODEL_KIND]=e}makeModel(e,t){const i=dr.ModelFactory[e]
if(void 0!==i)return new i(t)
throw new Error("Cannot find model constructor with kind: "+e)}registerViewModel(e,t,i,n){let r
r=void 0!==n?n:t.prototype.elementInfo.tagName,dr.TagMap[r]=i.MODEL_KIND,dr.ModelKindMap[i.MODEL_KIND]=r,dr.ViewModelFactory[i.MODEL_KIND]=e}makeViewModel(e,t){const i=dr.TagMap[e.elementInfo.tagName]
if(void 0===i)throw new Error("Cannot find model kind associated with tag: "+e.elementInfo.tagName)
if("function"!=typeof dr.ViewModelFactory[i])throw new Error("Cannot find viewmodel constructor function for model kind: "+i)
return new dr.ViewModelFactory[i](e,t)}tagNameToModelKind(e){if("string"!=typeof dr.TagMap[e])throw new Error("Cannot find model kind for tag: "+e)
return dr.TagMap[e]}modelKindToTagName(e){if("string"!=typeof dr.ModelKindMap[e])throw new Error("Cannot find tag for model kind: "+e)
return dr.ModelKindMap[e]}}const cr=new dr,hr=function(){return!0},ur=function(){return!1}
const pr=new class{constructor(){this.visitBoolean=ur,this.visitInt8=hr,this.visitInt16=hr,this.visitInt32=hr,this.visitInt64=ur,this.visitUInt8=hr,this.visitUInt16=hr,this.visitUInt32=hr,this.visitUInt64=ur,this.visitSingle=hr,this.visitDouble=hr,this.visitEnum8=hr,this.visitEnum16=hr,this.visitEnum32=hr,this.visitString=ur,this.visitPath=ur,this.visitComplexSingle=ur,this.visitComplexDouble=ur,this.visitArray=ur,this.visitCluster=ur,this.visitTimestamp=ur,this.visitAnalogWaveform=ur}},mr=function(e){if("complete"===document.readyState)e()
else{const t=function(){document.removeEventListener("DOMContentLoaded",t),window.removeEventListener("load",t),e()}
document.addEventListener("DOMContentLoaded",t),window.addEventListener("load",t)}}
let fr
mr(function(){fr=window.vireoHelpers})
class gr{static whenVireoLoaded(e,t){if("function"!=typeof e)throw new Error("Registering a vireoLoaded callback requires a valid function to invoke")
mr(function(){gr.vireoHelpers.createInstance({wasmUrl:t}).then(function(t){e(t)})})}static buildArrayIndex(e,t){const i=[]
let n
for(n=e.length-1;n>=0;n--){const r=t%e[n]
t=Math.floor(t/e[n]),i.unshift(r)}return i.join(",")}static totalCells(e){let t,i=0===e.length?0:1
for(t=0;t<e.length;t++)i*=e[t]
return i}static get isOptimizedArrayTypeVisitor(){return pr}static get vireoHelpers(){if(void 0===fr)throw new Error(`Could not access vireoHelpers. Potential reason is accessing before DOMContentLoaded. Current document readyState: ${document.readyState}.`)
return fr}}class vr extends rr{constructor(e){super(),this._niControlId=void 0,this.niControlId=e,this.owner=void 0,this.rootOwner=void 0,this.childModels=[],this._viRef=void 0,this._followerIds=[],this._customClasses=[]}get customClasses(){return this._customClasses}set customClasses(e){this._customClasses=e,this.notifyModelPropertyChanged("customClasses")}get niControlId(){return this._niControlId}set niControlId(e){if(void 0!==this._niControlId&&this._niControlId!==e||void 0===e)throw new Error("Cannot change niControlId after it has been assigned a valid value")
this._niControlId=e,this.notifyModelPropertyChanged("niControlId")}get viRef(){return this._viRef}set viRef(e){if(void 0!==this._viRef&&this._viRef!==e||void 0===e)throw new Error("Cannot change viRef after it has been assigned a valid value")
this._viRef=e,this.notifyModelPropertyChanged("viRef")}get followerIds(){return this._followerIds}set followerIds(e){this._followerIds=e}getBindingInfo(){}getRemoteBindingInfo(){}getLocalBindingInfo(){}getEditorRuntimeBindingInfo(){}setOwner(e){this.owner=e,this.rootOwner=this.findRoot()}getOwner(){return this.owner}addChildModel(e){for(let t=0;t<this.childModels.length;t++)if(this.childModels[t].niControlId===e.niControlId)return!1
this.childModels.push(e)}removeChildModel(e){for(let t=0;t<this.childModels.length;t++)if(this.childModels[t].niControlId===e.niControlId){this.childModels.splice(t,1)
break}}isDataItemBoundControl(){const e=this.getBindingInfo()
return void 0!==e&&void 0!==e.dataItem&&""!==e.dataItem}findTopLevelControl(){if(this.isDataItemBoundControl())return this
const e=this.getOwner()
return void 0!==e?e.findTopLevelControl():void 0}getRoot(){return void 0===this.rootOwner&&(this.rootOwner=this.findRoot()),this.rootOwner}findRoot(){let e=this.getOwner()
for(;!nr.isRootModel(e);)e=e.getOwner()
return e}internalControlEventOccurred(e,t){this.getRoot().internalControlEventOccurred(this,e,t)}requestSendControlBounds(){this.getRoot().requestSendControlBounds()}isTopLevelAndPlacedAndEnabled(){return void 0!==this.getLocalBindingInfo()&&this.isDataItemBoundControl()&&!1===this.getBindingInfo().unplacedOrDisabled}enableEvents(){return this.getRoot().enableEvents()}isInIdeMode(){return this.getRoot().isInIdeMode()}ensureFocus(){this.getRoot().ensureFocus()}shouldUpdateTerminal(e){return!1}}const br=Object.freeze({START:"start",END:"end",ATOMICACTIONCOMPLETE:"atomicactioncomplete"}),yr=Object.freeze({CREATE:"create",MOVE:"move",RESIZE:"resize"})
class _r{static get UserInteractionState(){return br}static get InteractiveOperationKind(){return yr}}class wr{constructor(e,t){if(!Ri.isElement(e))throw new Error(Ri.i18n("msg_INVALID_ELEMENT"))
if(t instanceof rr==!1)throw new Error(Ri.i18n("msg_INVALID_VI_MODEL"))
this._autoSyncPropertyMap=new Map,Ri.defineConstReference(this,"element",e),Ri.defineConstReference(this,"model",t)}static get OPERATION_UNSUPPORTED_ON_CONTROL_ERROR_CODE(){return 1086}bindToView(){}getOrAddRenderBuffer(){return Jn.getOrAddRenderBuffer(this.element)}modelPropertyChanged(e){const t=this.getOrAddRenderBuffer()
return this._autoSyncPropertyMap.has(e)&&!0===this._autoSyncPropertyMap.get(e)&&(t.properties[e]=this.model[e]),t}registerAutoSyncProperty(e){if("string"!=typeof e||e.length<1)throw new Error("A property name must be a string greater than or equal to one character long")
this._autoSyncPropertyMap.set(e,!0)}applyElementChanges(){Jn.enqueueDomUpdate(this.element)}updateModelFromElement(){this._autoSyncPropertyMap.forEach((e,t,i)=>{this.model[t]=this.element[t]})}applyModelToElement(){this._autoSyncPropertyMap.forEach((e,t,i)=>{this.element[t]=this.model[t]})}async invokeInternalControlFunction(e,t){throw new Error(`Internal control function ${e} not implemented. Called with args: ${t.join(",")}`)}enableEvents(){return this.model.enableEvents()}setGPropertyValue(e,t){throw new Vn(Ri.i18n("msg_PROPERTY_NOT_SUPPORTED",e),wr.OPERATION_UNSUPPORTED_ON_CONTROL_ERROR_CODE)}shouldUseAsyncSetGPropertyValue(e){return!1}async setGPropertyValueAsync(e,t){throw new Vn(Ri.i18n("msg_PROPERTY_NOT_SUPPORTED",e),wr.OPERATION_UNSUPPORTED_ON_CONTROL_ERROR_CODE)}getGPropertyValue(e){throw new Vn(Ri.i18n("msg_PROPERTY_NOT_SUPPORTED",e),wr.OPERATION_UNSUPPORTED_ON_CONTROL_ERROR_CODE)}}const xr=_r.UserInteractionState,Cr=_r.InteractiveOperationKind,Sr="ni-is-being-dragged",Tr="ni-will-change-position"
class Ir extends wr{constructor(e,t){if(super(e,t),this.model instanceof vr==!1)throw new Error(Ri.i18n("msg_INVALID_VI_MODEL"))
if(!Ri.isElement(this.element))throw new Error(Ri.i18n("msg_INVALID_ELEMENT"))
this._needsResizeHack=!1}updateModelCustomClasses(){this.model.customClasses=[],this.element.classList.forEach(e=>{e.startsWith("ni-")||e.startsWith("jqx-")||this.model.customClasses.push(e)})}enableResizeHack(){this._needsResizeHack=!0}shouldApplyDraggingStyleWithChild(){return!1}userInteractionChanged(e,t){const i=Jn.getOrAddRenderBuffer(this.element),n=t===Cr.MOVE||t===Cr.CREATE
let r
const o=this.getOwnerViewModel()
o instanceof Ir&&o.shouldApplyDraggingStyleWithChild()&&(r=Jn.getOrAddRenderBuffer(o.element)),e===xr.END?(n&&(i.cssClasses.toRemove.push(Sr),r&&r.cssClasses.toRemove.push(Sr)),i.cssClasses.toRemove.push(Tr)):e===xr.START&&(n&&(i.cssClasses.toAdd.push(Sr),r&&r.cssClasses.toAdd.push(Sr)),i.cssClasses.toAdd.push(Tr)),this.applyElementChanges(),r&&o.applyElementChanges()}updateUserInteractionStateAfterCreation(){if(Br.getVIViewModelByVIRef(this.element.viRef).isUserInteracting(this.element.niControlId))this.userInteractionChanged(xr.START,Cr.MOVE)
else{const e=this.getOwnerViewModel()
if(e instanceof Ir&&e.shouldApplyDraggingStyleWithChild()){Jn.getOrAddRenderBuffer(e.element).cssClasses.toRemove.push(Sr),e.applyElementChanges()}}}static initializeUserInteractionStateForElement(e){Br.getVIViewModelByVIRef(e.viRef).isUserInteracting(e.niControlId)&&e.classList.add(Sr)}updateModelFromElement(){if(super.updateModelFromElement(),this.model.followerIds=JSON.parse(this.element.followerIds),this.updateModelCustomClasses(),this.model.niControlId!==this.element.niControlId)throw new Error("The element and model association is incorrect; element and model ids do not match")}applyModelToElement(){super.applyModelToElement()
const e=this.element,t=this.model
if(t.customClasses.length>0&&t.customClasses.forEach(function(t){e.classList.add(t)}),e.followerIds=JSON.stringify(t.followerIds),t.niControlId!==e.niControlId)throw new Error("The element and model association is incorrect; element and model ids do not match")}modelPropertyChanged(e){const t=super.modelPropertyChanged(e)
switch(e){case"customClasses":{const e=this.model.customClasses
this.element.classList.forEach(i=>{e.includes(i)||i.startsWith("ni-")||i.startsWith("jqx-")||t.cssClasses.toRemove.push(i)}),e.forEach(e=>{""!==e&&t.cssClasses.toAdd.push(e)})
break}}return t}onChildViewModelAdded(e){}onChildViewModelRemoved(e){}getOwnerViewModel(){return this.model.getRoot().getControlViewModel(this.model.getOwner().niControlId)}}const Er=window.NIType,Pr=window.NITypes,Dr=window.NITypeNames,kr=Object.freeze({FIXED:"fixed",MAINTAIN_ASPECT_RATIO:"maintain-aspect-ratio",BOTH_DIRECTIONS:"both-directions",RESIZE_HORIZONTALY:"resize-horizontally"})
class Ar extends vr{constructor(e){super(e),this.localBindingInfo=null,this.defaultValue=void 0,this.suppressControlChanged=!1,this._top="0px",this._left="0px",this._width="100px",this._height="100px",this._background="white",this._foreground="rgb(0, 0, 0)",this._fontSize="12px",this._fontFamily="sans-serif",this._fontWeight="normal",this._fontStyle="normal",this._textDecoration="none",this._visible=!0,this._readOnly=!1,this._labelId="",this._enabled=!0,this._bindingInfo={},this._niType=void 0,this._controlResizeMode=Ar.ControlResizeModeEnum.FIXED,this._borderColor="",this._borderWidth="0",this._margin="0",this._padding="0",this._labelAlignment=""}static get ControlResizeModeEnum(){return kr}static get DISABLED_G_PROPERTY_NAME(){return"Disabled"}static get POSITION_G_PROPERTY_NAME(){return"Position"}static get LABEL_G_PROPERTY_NAME(){return"Label"}static get SIZE_G_PROPERTY_NAME(){return"Size"}static get VALUE_G_PROPERTY_NAME(){return"Value"}static get VALUE_SIGNALING_G_PROPERTY_NAME(){return"ValueSignaling"}static get VISIBLE_G_PROPERTY_NAME(){return"Visible"}static get TOTAL_BOUNDS_G_PROPERTY_NAME(){return"TotalBounds"}static get LABEL_RUNTIME_ID(){return"Label_RuntimeId"}static get KEY_FOCUS_G_PROPERTY_NAME(){return"KeyFocus"}get top(){return this._top}set top(e){this._top=e,this.notifyModelPropertyChanged("top")}get left(){return this._left}set left(e){this._left=e,this.notifyModelPropertyChanged("left")}get width(){return this._width}set width(e){this._width=e,this.notifyModelPropertyChanged("width")}get height(){return this._height}set height(e){this._height=e,this.notifyModelPropertyChanged("height")}get background(){return this._background}set background(e){this._background=e,this.notifyModelPropertyChanged("background")}get foreground(){return this._foreground}set foreground(e){this._foreground=e,this.notifyModelPropertyChanged("foreground")}get fontSize(){return this._fontSize}set fontSize(e){this._fontSize=e,this.notifyModelPropertyChanged("fontSize")}get fontFamily(){return this._fontFamily}set fontFamily(e){this._fontFamily=e,this.notifyModelPropertyChanged("fontFamily")}get fontWeight(){return this._fontWeight}set fontWeight(e){this._fontWeight=e,this.notifyModelPropertyChanged("fontWeight")}get fontStyle(){return this._fontStyle}set fontStyle(e){this._fontStyle=e,this.notifyModelPropertyChanged("fontStyle")}get textDecoration(){return this._textDecoration}set textDecoration(e){this._textDecoration=e,this.notifyModelPropertyChanged("textDecoration")}get visible(){return this._visible}set visible(e){this._visible=e,this.notifyModelPropertyChanged("visible")}get readOnly(){return this._readOnly}set readOnly(e){this._readOnly=e,this.notifyModelPropertyChanged("readOnly")}get labelId(){return this._labelId}set labelId(e){this._labelId=e,this.notifyModelPropertyChanged("labelId")}get enabled(){return this._enabled}set enabled(e){this._enabled=e,this.notifyModelPropertyChanged("enabled")}get bindingInfo(){return this._bindingInfo}set bindingInfo(e){this._bindingInfo=e,this.notifyModelPropertyChanged("bindingInfo")}get niType(){return this._niType}set niType(e){this._niType=e instanceof Er?e:new Er(e),this.notifyModelPropertyChanged("niType")}get controlResizeMode(){return this._controlResizeMode}set controlResizeMode(e){this._controlResizeMode=e,this.notifyModelPropertyChanged("controlResizeMode")}get borderColor(){return this._borderColor}set borderColor(e){this._borderColor=e,this.notifyModelPropertyChanged("borderColor")}get borderWidth(){return this._borderWidth}set borderWidth(e){this._borderWidth=e,this.notifyModelPropertyChanged("borderWidth")}get margin(){return this._margin}set margin(e){this._margin=e,this.notifyModelPropertyChanged("margin")}get padding(){return this._padding}set padding(e){this._padding=e,this.notifyModelPropertyChanged("padding")}get labelAlignment(){return this._labelAlignment}set labelAlignment(e){this._labelAlignment=e,this.notifyModelPropertyChanged("labelAlignment")}modelPropertyUsesNIType(e){if(void 0!==this.niType)throw new Error("Any control model that sets niType must override propertyUsesNITypeProperty()")}gPropertyNIType(e){switch(e){case this.bindingInfo.prop:case Ar.VALUE_G_PROPERTY_NAME:case Ar.VALUE_SIGNALING_G_PROPERTY_NAME:return this.niType.getName()===Dr.ENUM?this.niType.getSubtype():this.niType
case Ar.POSITION_G_PROPERTY_NAME:return new Er({name:Dr.CLUSTER,fields:["Left","Top"],subtype:[Dr.SINGLE,Dr.SINGLE]})
case Ar.SIZE_G_PROPERTY_NAME:return new Er({name:Dr.CLUSTER,fields:["Width","Height"],subtype:[Dr.SINGLE,Dr.SINGLE]})
case Ar.TOTAL_BOUNDS_G_PROPERTY_NAME:return new Er({name:Dr.CLUSTER,fields:["Left","Top","Width","Height"],subtype:[Dr.SINGLE,Dr.SINGLE,Dr.SINGLE,Dr.SINGLE]})
case Ar.DISABLED_G_PROPERTY_NAME:case Ar.VISIBLE_G_PROPERTY_NAME:return Pr.BOOLEAN
case Ar.LABEL_RUNTIME_ID:return Pr.INT32
case Ar.KEY_FOCUS_G_PROPERTY_NAME:return Pr.BOOLEAN}}propertySupportsVirtualization(e){return!1}propertySupportsArrayLikeTypes(e){return!1}setMultipleProperties(e,t){if(e.hasOwnProperty("niType")&&(this.niType=e.niType,delete e.niType),void 0!==t)for(const i in e)if(e.hasOwnProperty(i)&&this.modelPropertyUsesNIType(i)){const n={supportsVirtualization:this.propertySupportsVirtualization(i),supportsArrayLikeTypes:this.propertySupportsArrayLikeTypes(i)}
e[i]=t(e[i],this.niType,n)}super.setMultipleProperties(e)}setBindingInfo(e){this.bindingInfo=e}updateLabelDisabledState(e){const t=this.getRoot()
void 0!==t&&""!==this.labelId&&(t.controlModels[this.labelId].enabled=!e)}getBindingInfo(){return this.bindingInfo}getRemoteBindingInfo(){return{prop:this.bindingInfo.prop,dco:this.bindingInfo.dco,controlId:this.niControlId}}getEditorRuntimeBindingInfo(){return{prop:this.bindingInfo.prop,dataItem:this.bindingInfo.dataItem,controlId:this.niControlId}}getLocalBindingInfo(){return null===this.localBindingInfo&&(this.localBindingInfo=this.generateLocalBindingInfo()),this.localBindingInfo}getDefaultValue(){return this.defaultValue}setDefaultValue(e){this.defaultValue=e}generateVireoPath(){return this.isDataItemBoundControl()?this.getBindingInfo().dataItem:void 0}getLocalEventInfo(e){}generateLocalBindingInfo(){const e=this.getBindingInfo(),t={runtimePath:"",encodedVIName:"",prop:"",sync:!1,dataItem:"",accessMode:"",isLatched:!1}
if(t.runtimePath=this.generateVireoPath(),t.encodedVIName=this.getRoot().getNameVireoEncoded(),t.prop="string"==typeof e.prop?e.prop:"",t.sync="boolean"==typeof e.sync&&e.sync,t.dataItem="string"==typeof e.dataItem?e.dataItem:"",t.accessMode="string"==typeof e.accessMode?e.accessMode:"",t.isLatched="boolean"==typeof e.isLatched&&e.isLatched,""!==t.runtimePath)return Object.freeze(t)}getNITypeString(){return this.niType.isAggregateType()?this.niType.toShortJSON():this.niType.getName()}controlChanged(e,t,i){const n=this.getRoot()
!1===this.suppressControlChanged&&n.controlChanged(this,e,t,i)}controlEventOccurred(e,t){this.getRoot().controlEventOccurred(this,e,t)}reinitializeToDefault(){this.getRoot().reinitializeToDefault(this)}isFlexibleLayout(){return!1}isInFlexibleLayout(){const e=this.owner
if(nr.isRootModel(e))return!1
if(e instanceof Ar)return e.isFlexibleLayout()
if(e instanceof vr)return!1
throw new Error("Unexpected owner model type")}shouldUpdateTerminal(e){return(e===Ar.VALUE_G_PROPERTY_NAME||e===Ar.VALUE_SIGNALING_G_PROPERTY_NAME)&&!this.bindingInfo.unplacedOrDisabled}throwIfPropertyTypeIsUndefined(e){if(void 0===this.gPropertyNIType(e))throw new Error("Property type not found for property: "+e+" controlID: "+this.niControlId)}}class jr extends rr{constructor(e,t){super(e),this.controlModels={},this.controlViewModels={},this._viName=void 0,this.__viRef=void 0,this._frontPanelControlId=void 0,this._webAppModel=t}get[nr.NIRootModelSymbol](){return!0}get viName(){return this._viName}set viName(e){if(this._viName===e&&void 0===e)throw new Error("Cannot change viName after it has been assigned a valid value")
this._viName=e,this.notifyModelPropertyChanged("viName")}get viRef(){return this._viRef}set viRef(e){if(this._viRef===e&&void 0===e)throw new Error("Cannot change viRef after it has been assigned a valid value")
this._viRef=e,this.notifyModelPropertyChanged("viRef")}detachFromWebApp(){this._webAppModel=void 0}getOwner(){}getOwningWebApplication(){return this._webAppModel}addFrontPanelControlModel(e){if(!Ri.isElement(e))throw new Error("Only Html Custom Elements can be registered to a Virtual Instrument")
if(this.viRef!==e.viRef)throw new Error('The element with ni-control-id "'+e.niControlId+'" and with vi-ref "'+e.viRef+'" is trying to incorrectly register with a VI with vi-ref "'+this.viRef+'"')
const t=Ri.queryAllControlsByNIControlId(e.viRef,e.niControlId),i=e.niControlId
if(""===i||1!==t.length)throw new Error("Element with niControlId="+i+" must have a unique niControlId to be registered to this VI")
if(void 0!==this.controlModels[i]||void 0!==this.controlViewModels[i])throw new Error("The model or viewmodel for this control already exists ("+i+")")
if("ni-front-panel"===e.elementInfo.tagName){if(void 0!==this._frontPanelControlId)throw new Error("The front panel Control ID for this panel is already set to "+this._frontPanelControlId)
this._frontPanelControlId=i}let n,r=this
for(n=e.parentElement;null!==n;n=n.parentElement)if(Ri.isElement(n)){r=this.controlViewModels[n.niControlId].model
break}const o=cr.tagNameToModelKind(e.elementInfo.tagName),a=cr.makeModel(o,i)
a.setOwner(r),r instanceof Ar&&r.addChildModel(a),void 0!==e._temporaryModelSettingsHolder&&a.setMultipleProperties(e._temporaryModelSettingsHolder,Hn.editorToJsModel)
const s=cr.makeViewModel(e,a)
return void 0!==e._temporaryModelSettingsHolder?(s.applyModelToElement(),e._temporaryModelSettingsHolder=void 0):s.updateModelFromElement(),a.registerListener(s),this.updateModelAndViewModelMapping(i,a,s),Ri.infoVerbose("add Model "+i),{controlModel:a,controlViewModel:s}}updateModelAndViewModelMapping(e,t,i){this.controlModels[e]=t,this.controlViewModels[e]=i}removeFrontPanelControl(e){if(!Ri.isElement(e))throw new Error("Only Visual Component Elements can be unregistered from a Virtual Instrument")
const t=e.niControlId,i=this.controlModels[t],n=this.controlViewModels[t]
if(i instanceof vr==!1||n instanceof Ir==!1)throw new Error("This VIModel does not contain a control with niControlId: "+t)
return Ri.infoVerbose("remove Model "+t),i.getOwner()instanceof Ar&&i.getOwner().removeChildModel(i),i.unregisterListener(n),delete this.controlModels[t],delete this.controlViewModels[t],this._frontPanelControlId===t&&(this._frontPanelControlId=void 0),{controlModel:i,controlViewModel:n}}getControlViewModel(e){return this.controlViewModels[e]}getControlModel(e){return this.controlModels[e]}getAllControlModels(){return this.controlModels}getFrontPanelControlModel(){return this.controlModels[this._frontPanelControlId]}getFrontPanelControlViewModel(){return this.controlViewModels[this._frontPanelControlId]}processControlUpdate(e,t,i){const n=this.controlModels[e]
void 0!==n?n.setMultipleProperties(t,i):Ri.infoVerbose("Cannot find the control model with id ("+e+") to update the properties("+Object.keys(t).join(",")+")")}async processControlUpdateToSetGPropertyValueAsync(e,t,i){const n=this.controlViewModels[e]
if(void 0===n)throw new Error("Cannot find the control view model with id ("+e+") to update the value of ("+t+")")
n.shouldUseAsyncSetGPropertyValue(t)?await n.setGPropertyValueAsync(t,i):n.setGPropertyValue(t,i)}processControlUpdateToGetGPropertyValue(e,t){const i=this.controlViewModels[e]
if(void 0!==i)return i.getGPropertyValue(t)
throw new Error("Cannot find the control view model with id ("+e+") to get value of ("+t+")")}invokeControlFunction(e,t,i){const n=this.controlViewModels[e]
if(void 0!==n)return n.invokeInternalControlFunction(t,i)
throw new Error("Cannot find the control view model with id ("+e+") to call method ("+t+")")}controlChanged(e,t,i,n){this.getOwningWebApplication().controlChanged(this,e,t,i,n)}internalControlEventOccurred(e,t,i){this.getOwningWebApplication().internalControlEventOccurred(this,e,t,i)}controlEventOccurred(e,t,i){this.getOwningWebApplication().controlEventOccurred(this,e,t,i)}requestSendControlBounds(){this.getOwningWebApplication().requestSendControlBounds()}reinitializeToDefault(e){this.getOwningWebApplication().reinitializeToDefault(this,e)}getNameVireoEncoded(){return gr.vireoHelpers.staticHelpers.encodeIdentifier(this.viName)}enableEvents(){return this.getOwningWebApplication().enableEvents()}isInIdeMode(){return this.getOwningWebApplication().isInIdeMode()}ensureFocus(){this.getOwningWebApplication().ensureFocus()}}class Mr extends wr{constructor(e,t){if(super(e,t),this.model instanceof jr==!1)throw new Error(Ri.i18n("msg_INVALID_VI_MODEL"))
if(this.element instanceof tr==!1)throw new Error(Ri.i18n("msg_INVALID_ELEMENT"))
this._userInteracting={}}addFrontPanelControlViewModel(e){if(e instanceof Ir==!1)throw new Error("Only Visual Component ViewModels can be registered to a Virtual Instrument View Model")
const t=e.model.getOwner()
t instanceof vr&&this.model.getControlViewModel(t.niControlId).onChildViewModelAdded(e),e instanceof Ir&&e.updateUserInteractionStateAfterCreation()}removeFrontPanelControlViewModel(e){let t
if(e instanceof Ir==!1)throw new Error("Only Visual Component ViewModels can be registered to a Virtual Instrument View Model")
const i=e.model.getOwner()
i instanceof vr&&(t=this.model.getControlViewModel(i.niControlId))instanceof Ir&&this.model.getControlViewModel(i.niControlId).onChildViewModelRemoved(e)}attachElementToModelAndViewModel(e){const t=this.model.addFrontPanelControlModel(e)
return this.addFrontPanelControlViewModel(t.controlViewModel),t}detachElementFromModelAndViewModel(e){const t=this.model.getControlViewModel(e.niControlId)
this.removeFrontPanelControlViewModel(t),this.model.removeFrontPanelControl(e)}updateModelFromElement(){super.updateModelFromElement(),this.model.viName=this.element.viName,this.model.viRef=this.element.viRef}setUserInteracting(e){this._userInteracting[e]=!0}clearUserInteracting(e){this._userInteracting[e]=void 0}isUserInteracting(e){return!0===this._userInteracting[e]}}const Nr={},qr={},Or={}
class Br{static registerVIElement(e){if(e instanceof tr==!1)throw new Error("The viReferenceService only registers ni-virtual-instrument elements")
if(void 0!==Nr[e.viRef])throw new Error("A virtual instrument with the following vi-ref has already been defined: "+e.viRef)
if(void 0!==Or[e.viRef])throw new Error("A web application containing the following vi-ref has already been defined: "+e.viRef)
const t=e.parentElement
if(t instanceof ha==!1)throw new Error("Virtual Instrument Elements must be direct children of Web Application Elements for registration to complete")
const i=sa.getModel(t)
if(void 0===i)throw new Error("Web Application View Model has not been created yet")
const n=new jr(void 0,i),r=new Mr(e,n)
if(r.updateModelFromElement(),n.registerListener(r),void 0!==i.getVirtualInstrumentModelsProvider().getVIModels()[n.viName])throw new Error("Web applications cannot have multiple VIs with the same name")
i.attachVIModel(n),Nr[n.viRef]=n,qr[n.viRef]=r,Or[n.viRef]=i}static unregisterVIElement(e){const t=Nr[e.viRef],i=qr[e.viRef],n=Or[e.viRef]
if(t instanceof jr==!1||i instanceof Mr==!1||n instanceof ia==!1)throw new Error("ni-virtual-instrument with vi-ref ("+e.viRef+") and vi-name ("+e.viName+") was not properly registered and cannot be unregistered")
const r=n.getVirtualInstrumentModelsProvider().getVIModels()
if(void 0===r||r[t.viName]instanceof jr==!1)throw new Error("ni-virtual-instrument with vi-ref ("+e.viRef+") and vi-name ("+e.viName+") was not properly registered and cannot be unregistered")
t.unregisterListener(i),t.detachFromWebApp(),n.detachVIModel(t),Nr[e.viRef]=void 0,qr[e.viRef]=void 0,Or[e.viRef]=void 0}static getVIModelByVIRef(e){if(void 0===Nr[e])throw new Error("Cannot find the VI")
return Nr[e]}static getVIViewModelByVIRef(e){if(void 0===qr[e])throw new Error("Cannot find the VI")
return qr[e]}static getWebAppModelByVIRef(e){if(void 0===Or[e])throw new Error("Cannot find the web app")
return Or[e]}}const Lr=new class{get serviceId(){return"{AFAFB1FC-6197-47F3-9CCC-A18FE00E1AFA}"}constructor(){this._activeControlElements=new Map,window.addEventListener("resize",()=>this.closeAllPopups())}start(){this._isActive||(this._isActive=!0,this._activePopups=new WeakMap,this._intersectionObserver=new IntersectionObserver(e=>this.intersectionObserverCallback(e),{threshold:[0,.99]}),this._resizeObserver=new ResizeObserver(e=>this.resizeObserverCallback(e)),Yr.getFrontPanelElement().classList.add("ni-native-popups"))}stop(){this._isActive&&(this._isActive=!1,this._activePopups=void 0,this._intersectionObserver.disconnect(),this._intersectionObserver=void 0,this._resizeObserver.disconnect(),this._resizeObserver=void 0,Yr.getFrontPanelElement().classList.remove("ni-native-popups"))}open(e,t,i){if("function"!=typeof i)throw new Error("closePopupsAction must be a function")
if(this._activeControlElements.set(e,i),this._isActive){let i=this._activePopups.get(t)
void 0===i&&(i={viRef:e.viRef,isVisible:!1},this._activePopups.set(t,i),this._intersectionObserver.observe(t),this._resizeObserver.observe(t))}}close(e,t){if(this._isActive){const e=this._activePopups.get(t)
void 0!==e&&(this.updatePopupVisibility(t,e,!1),this.removePopup(t,e))}}closeAllPopups(){for(const[e,t]of this._activeControlElements)t(e)
this._activeControlElements.clear()}unregisterElement(e){this._activeControlElements.delete(e)}intersectionObserverCallback(e){const t=this
e.forEach(e=>{const i=e.target,n=t._activePopups.get(e.target)
void 0!==n&&(e.intersectionRatio>=.99?t.updatePopupVisibility(i,n,!0):(t.updatePopupVisibility(i,n,!1),document.body.contains(i)||t.removePopup(i,n)))})}resizeObserverCallback(e){const t=this
e.forEach(e=>{const i=e.target,n=t._activePopups.get(e.target)
void 0!==n&&n.isVisible&&(e.contentRect.width>0&&e.contentRect.height>0?(t.updatePopupVisibility(i,n,!1),t.updatePopupVisibility(i,n,!0)):t.updatePopupVisibility(i,n,!1))})}updatePopupVisibility(e,t,i){if(t.isVisible!==i)if(t.isVisible=i,i){const i=e.getBoundingClientRect(),n={x:Math.round(i.x),y:Math.round(i.y),width:Math.round(i.width),height:Math.round(i.height)}
this.invokeServiceFunction(t.viRef,"open",n)}else this.invokeServiceFunction(t.viRef,"close",{})}removePopup(e,t){this._intersectionObserver.unobserve(e),this._resizeObserver.unobserve(e),this._activePopups.delete(e)}invokeServiceFunction(e,t,i){const n=Br.getVIModelByVIRef(e)
return n.getOwningWebApplication().updateService.invokeServiceFunction(n,this.serviceId,t,i)}},Rr=["font-family","font-size","font-weight","font-style"]
let Hr=!0
const Vr=function(e){return e.$.dropDownContainer},Fr=function(e){e.opened=!1},zr=function(e,t,i,n,r){if(Hr){if(Lr.closeAllPopups(),i.dropDownAppendTo="body",void 0!==n){const e=window.getComputedStyle(t)
for(let t=0;t<n.length;t++){const i=n[t]
r.style.setProperty(i,e.getPropertyValue(i))}}}else e.preventDefault()},$r=function(e,t,i){Lr.open(e,t,i)},Ur=function(e,t,i){Lr.close(e,i),t.dropDownAppendTo=null}
class Gr{static get fontCssProperties(){return Rr}static get fontAndTextAlignmentCssProperties(){return Rr.concat(er.TEXT_ALIGN,er.TEXT_ALIGN_AS_FLEX)}static closeChildJqxElements(e,t){e.querySelectorAll(t).forEach(e=>{e.opened=!1})}static closeChildJqxDropDownLists(e){Gr.closeChildJqxElements(e,"jqx-drop-down-list")}static get popupsEnabled(){return!1!==Hr}static set popupsEnabled(e){Hr=e}static enableNativePopups(e,t,i,n=Fr,r=Vr){t.addEventListener("opening",function(n){zr(n,e,t,i,r(t))}),t.addEventListener("open",function(){$r(e,r(t),n)}),t.addEventListener("close",function(){Ur(e,t,r(t))})}static enableNativePopupsForDescendants(e,t,i,n,r=Vr){e.addEventListener("opening",function(n){n.target&&n.target.tagName===t&&zr(n,e,n.target,i,r(n.target))}),e.addEventListener("open",function(i){i.target&&i.target.tagName===t&&$r(e,r(i.target),n)}),e.addEventListener("close",function(i){i.target&&i.target.tagName===t&&Ur(e,i.target,r(i.target))})}}class Wr{static get moduleName(){return"jqxPopupModule"}ready(){NationalInstruments.JQXElement.isJQXElementSubPart(this.ownerElement)||Gr.enableNativePopups(this.ownerElement,this.ownerElement)}detached(){Lr.unregisterElement(this.ownerElement)}}window.JQX.Elements.whenRegistered("jqx-date-time-picker",function(e){e.addModule(Wr)}),window.JQX.Elements.whenRegistered("jqx-color-picker",function(e){e.addModule(Wr)})
class Xr{static get moduleName(){return"niGraphLegendPopupModule"}static closePopups(e){Gr.closeChildJqxElements(e,"jqx-color-picker"),Gr.closeChildJqxDropDownLists(e)}ready(){Gr.enableNativePopupsForDescendants(this.ownerElement,"JQX-COLOR-PICKER",void 0,Xr.closePopups),Gr.enableNativePopupsForDescendants(this.ownerElement,"JQX-DROP-DOWN-LIST",Rr,Xr.closePopups)}detached(){Lr.unregisterElement(this.ownerElement)}}window.JQX.Elements.whenRegistered("ni-plot-legend",function(e){e.addModule(Xr)}),window.JQX.Elements.whenRegistered("ni-cursor-legend",function(e){e.addModule(Xr)})
var Jr=Object.freeze({JQXPopupHelpers:Gr})
class Yr{constructor(){this.setServiceState=void 0,this.verifyServiceStateIs=void 0,this.checkServiceStateIs=void 0,this.getVIModels=void 0,this.enableEvents=!1,this.setVireoInstance=void 0,this.setVireoHelpers=void 0,this.windowEngineCallbacks={getPropertyValue:void 0,controlExists:void 0,indexOfControl:void 0}}static get InitTasksEnum(){return{ELEMENTSREADY:"ELEMENTSREADY"}}static get BrowserMessagesEnum(){return{GET_PROPERTY_VALUE:"GetPropertyValue",CONTROL_EXISTS:"ControlExists",INDEX_OF_CONTROL:"IndexOfControl",NAVIGATION_ATTEMPTED:"NavigationAttempted",UNREGISTER_PAGE_NAVIGATION_LISTENER:"UnregisterPageNavigationListener",ENSURE_FOCUS:"EnsureFocus",INVOKE_SERVICE_FUNCTION:"InvokeServiceFunction",PANEL_POPUP_SERVICE_ENABLED:"PanelPopupServiceEnabled",CLOSE_PANEL_POPUPS:"ClosePanelPopups"}}static getFrontPanelElement(){let e=document.querySelector("ni-front-panel")
return null===e&&(e=document.body),e}static createNIControlToAddToDOM(e,t,i,n,r){if("object"!=typeof e||null===e)throw new Error("Model settings that are provided should be a JS object with properties")
if("string"!=typeof t||""===t)throw new Error("An element needs a valid controlTagName string to be created")
if("string"!=typeof i||""===i)throw new Error("An element needs a valid niControlId string to be created")
if("string"!=typeof n)throw new Error("An element needs a valid target viRef string to be created")
if("string"!=typeof r)throw new Error("An element needs to have a valid parentControlId string to be created")
if(1!==Ri.queryVirtualInstrumentsByVIRef(n).length)throw new Error("The DOM should only contain one ni-virtual-instrument with vi-ref: "+n)
const o=Ri.queryAllControlsByNIControlId(n,i)
if(0!==o.length)throw new Error("The DOM already contains an element with vi-ref ("+n+") and ni-control-id ("+i+"), but currently has ("+o.length+") elements")
const a=document.createElement(t)
if(!Ri.isElement(a))throw new Error("Only Html Custom Elements can be created with createNIControlToAddToDOM")
let s,l
if(a.niControlId=i,a.viRef=n,a._temporaryModelSettingsHolder=e,""===r)l=Yr.getFrontPanelElement()
else{if((s=Ri.queryAllControlsByNIControlId(n,r)).length>1)throw new Error("The DOM has too many elements with vi-ref ("+n+") and ni-control-id ("+r+")")
l=1===s.length?s[0]:void 0}return{controlElement:a,parentElement:l}}static findNIControlToRemoveFromDOM(e,t){if("string"!=typeof e||""===e)throw new Error("An element needs a valid niControlId string to be created")
if("string"!=typeof t)throw new Error("An element needs a valid target viRef string to be created")
const i=Ri.queryAllControlsByNIControlId(t,e)
if(1!==i.length)throw new Error("The DOM should contain exactly one element with vi-ref ("+t+") and ni-control-id ("+e+"), but currently has ("+i.length+") elements")
const n=i[0]
if(!Ri.isElement(n))throw new Error("Only Html Custom elements can be removed with findNIControlToRemoveFromDOM")
let r,o=Yr.getFrontPanelElement()
for(r=n.parentElement;null!==r;r=r.parentElement)if(Ri.isElement(n)){o=r
break}return{controlElement:n,parentElement:o}}applyWebAppServiceStateProvider(e){this.setServiceState=e.setServiceState,this.verifyServiceStateIs=e.verifyServiceStateIs,this.checkServiceStateIs=e.checkServiceStateIs}applyVirtualInstrumentModelsProvider(e){this.getVIModels=e.getVIModels}applyVireoInstanceProvider(e){this.setVireoInstance=e.setVireoInstance,this.setVireoHelpers=e.setVireoHelpers}getVIModelByName(e){const t=this.getVIModels(),i=t[e]
if(void 0!==i)return i
throw new Error(`No VI found with name: ${e}. Existing names: ${Object.keys(t).join()}`)}dispatchMessageToHTMLPanel(e,t,i,n){this.getVIModelByName(e).processControlUpdate(t,i,n)}isInIdeMode(){return!1}ensureFocus(){this.isInIdeMode()&&window.engine.trigger(Zr.ENSURE_FOCUS)}internalControlEventOccurred(e,t,i,n){}controlChanged(e,t,i,n,r){}controlEventOccurred(e,t,i,n){}requestSendControlBounds(){}reinitializeToDefault(e,t){}isValidServiceState(e){return void 0!==Qr[e]}initialize(e,t){const i=this
if(e!==Qr.UNINITIALIZED)throw new Error("Service must be UNINITIALIZED to run initialize")
i.verifyServiceStateIs(Qr.UNINITIALIZED),void 0===t&&(t=Kr)
const n=new nn(t,function(){setTimeout(function(){i.finishInitializing()},0)})
return Ki.addNIEventListener("attached",function(){n.complete(Kr.ELEMENTSREADY)}),n}finishInitializing(e){this.verifyServiceStateIs(e)}start(e){const t=this
if(e!==Qr.READY)throw new Error("Service must be READY to run start")
t.verifyServiceStateIs(Qr.READY),Ri.logVerbose("niUpdateService start()"),t.windowEngineCallbacks.getPropertyValue=function(e){const t=e[0],i=e[1],n=e[2],r=e[3]
let o=`[ni-control-id='${i}']`
null!==n&&(o+=n)
const a=document.querySelectorAll(o)
let s=""
if(null!==a&&0!==a.length){if(a.length>1)throw new Error("Query selector found more than one control.  Query selector is "+o)
let e=a[0]
if(Zn.isNIArrayViewer(e.parentElement)&&(o=e.parentElement.getFullCssSelectorForNIVisual(e),null!==n&&(o+=n),e=document.querySelector(o)),null!==e)if("style"===r){const t=window.getComputedStyle(e)
s=JSON.stringify(t)}else if("content"===r){const t=e.firstChild.innerHTML
s=JSON.stringify(t)}else if("boundingClientRect"===r){const t=e.getBoundingClientRect()
s=JSON.stringify(t)}else if(r.startsWith("--")){const t=window.getComputedStyle(e)
s=JSON.stringify(t.getPropertyValue(r).trim(" "))}else if(void 0!==e[r]){let t=e[r]
t instanceof JQX.Utilities.DateTime&&(t=Qn.convertBack(t)),(t===Number.POSITIVE_INFINITY||t===Number.NEGATIVE_INFINITY||Number.isNaN(t))&&(t=t.toString()),s=JSON.stringify(t)}}window.engine.trigger("GetPropertyValueComplete",t,s)},t.windowEngineCallbacks.controlExists=function(e){const t=e[0],i=e[1],n=`ni-front-panel [ni-control-id='${i}']`,r=document.querySelectorAll(n)
if(r.length>1)throw new Error("There should only be one instance of a control.  Found multiple controls with id "+i)
window.engine.trigger("ControlExistsComplete",t,1===r.length)},t.windowEngineCallbacks.indexOfControl=function(e){const t=e[0],i=`ni-front-panel [ni-control-id='${e[1]}']`,n=document.querySelectorAll(i)
let r,o=-1
if(0!==n.length)for(r=0;r<n[0].parentElement.childNodes.length;r++)if(n[0].parentElement.childNodes[r]===n[0]){o=r
break}window.engine.trigger("IndexOfControlComplete",t,o)},t.windowEngineCallbacks.unregisterPageNavigationListener=function(){t.unregisterPageNavigationListener(),window.engine.trigger("UnregisterPageNavigationListenerComplete")},t.windowEngineCallbacks.panelPopupServiceEnabled=function(e){e[0]&&Lr.start(),Gr.popupsEnabled=!0},t.windowEngineCallbacks.closePanelPopups=function(){Lr.closeAllPopups()},void 0!==window.engine&&(window.engine.on(Zr.GET_PROPERTY_VALUE,t.windowEngineCallbacks.getPropertyValue),window.engine.on(Zr.CONTROL_EXISTS,t.windowEngineCallbacks.controlExists),window.engine.on(Zr.INDEX_OF_CONTROL,t.windowEngineCallbacks.indexOfControl),window.engine.on(Zr.UNREGISTER_PAGE_NAVIGATION_LISTENER,t.windowEngineCallbacks.unregisterPageNavigationListener),window.engine.on(Zr.PANEL_POPUP_SERVICE_ENABLED,t.windowEngineCallbacks.panelPopupServiceEnabled),window.engine.on(Zr.CLOSE_PANEL_POPUPS,t.windowEngineCallbacks.closePanelPopups))}stop(e){this.verifyServiceStateIs(e),void 0!==window.engine&&(window.engine.off(Zr.GET_PROPERTY_VALUE,this.windowEngineCallbacks.getPropertyValue),window.engine.off(Zr.CONTROL_EXISTS,this.windowEngineCallbacks.controlExists),window.engine.off(Zr.INDEX_OF_CONTROL,this.windowEngineCallbacks.indexOfControl),window.engine.off(Zr.UNREGISTER_PAGE_NAVIGATION_LISTENER,this.windowEngineCallbacks.unregisterPageNavigationListener),window.engine.off(Zr.PANEL_POPUP_SERVICE_ENABLED,this.windowEngineCallbacks.panelPopupServiceEnabled),window.engine.off(Zr.CLOSE_PANEL_POPUPS,this.windowEngineCallbacks.closePanelPopups)),this.windowEngineCallbacks.getPropertyValue=void 0,this.windowEngineCallbacks.controlExists=void 0,this.windowEngineCallbacks.indexOfControl=void 0,this.windowEngineCallbacks.unregisterPageNavigationListener=void 0,this.windowEngineCallbacks.panelPopupServiceEnabled=void 0,this.windowEngineCallbacks.closePanelPopups=void 0}async invokeServiceFunction(e,t,i,n){if(void 0!==window.engine){const r=await window.engine.call(Zr.INVOKE_SERVICE_FUNCTION,e.viName,t,i,JSON.stringify(n))
return JSON.parse(r)}}registerPageNavigationListener(){const e=this
e.isInIdeMode()&&(e.pageNavigationListener=function(e){let t,i
return document.activeElement instanceof HTMLAnchorElement&&(t=document.activeElement.href,i=document.activeElement.target),window.engine.trigger(Zr.NAVIGATION_ATTEMPTED,t,i),e.returnValue="",e.returnValue},window.addEventListener("beforeunload",e.pageNavigationListener))}unregisterPageNavigationListener(){void 0!==this.pageNavigationListener&&(window.removeEventListener("beforeunload",this.pageNavigationListener),this.pageNavigationListener=void 0)}}const Qr=vn.ServiceStateEnum,Kr=Yr.InitTasksEnum,Zr=Yr.BrowserMessagesEnum,eo=Object.freeze(Object.assign({},vn.ServiceStateEnum,{INITIALIZING:"INITIALIZING",LISTENING:"LISTENING"})),to=Object.freeze({READY_FOR_UPDATES:"ReadyForUpdates",PANEL_CONTROL_CHANGED:"PanelControlChanged",DIAGRAM_VALUE_CHANGED:"DiagramValueChanged",DOCUMENT_READY:"DocumentReady",UPDATE_SERVICE_STARTED:"UpdateServiceStarted",PANEL_CONTROL_EVENT_OCCURRED:"PanelControlEventOccurred",PROCESS_INTERNAL_EVENT:"ProcessInternalEvent",SET_CALL_RESPONSE:"setCallResponse",BATCH_UPDATE:"batchUpdate",SET_GPROPERTY_PROPERTY_VALUE:"setGPropertyValue",GET_GPROPERTY_PROPERTY_VALUE:"getGPropertyValue",GET_PACKED_GPROPERTY_PROPERTY_VALUE:"getPackedGPropertyValue",GET_JSON_GPROPERTY_PROPERTY_VALUE:"getJsonGPropertyValue",INVOKE_CONTROL_FUNCTION:"invokeControlFunction"})
class io extends Yr{constructor(){super(),this.dataItemCache=void 0,this.enableEvents=!0,this.windowEngineCallbacks={diagramValueChanged:void 0,batchUpdate:void 0,setGPropertyValue:void 0,getGPropertyValue:void 0,getPackedGPropertyValue:void 0,getJsonGPropertyValue:void 0,invokeControlFunction:void 0},this.responseArrays={},this.responseBuffers={}}isValidServiceState(e){return void 0!==no[e]}isInIdeMode(){return!0}initialize(){super.initialize(no.UNINITIALIZED,ro),this.setServiceState(no.INITIALIZING)}finishInitializing(){super.finishInitializing(no.INITIALIZING),this.dataItemCache=new bn(this.getVIModels()),this.setServiceState(no.READY)}start(){super.start(no.READY)
const e=this
let t
e.windowEngineCallbacks.diagramValueChanged=function(t){const i=t[0],n=t[1],r=e.dataItemCache.getEditorRuntimeBindingInfo(i,n),o=r.controlId,a=t[2],s=JSON.parse(a),l={}
l[r.prop]=s,e.dispatchMessageToHTMLPanel(i,o,l,Hn.editorToJsModel)},e.windowEngineCallbacks.batchUpdate=function(t){!async function(){const i=t[0]
try{const i=t[1],n=t[2],r=t[3],o=t[4],a=browserMessaging.getSharedData(r,o),s=new Uint8Array(a,i,n-i),l=new flatbuffers.ByteBuffer(s),d=Fn.Web.Interop.Batch.getRootAsBatch(l),c=d.itemsLength(),h=d.docName()
for(let t=0;t<c;++t){const i=d.items(t),n=i.dataType()
n===Fn.Web.Interop.UpdateData.BatchUpdateFromBuffer?await e.batchUpdateFromBufferAsync(i,h):n===Fn.Web.Interop.UpdateData.BatchUpdateFromOffset?await e.batchUpdateFromOffsetAsync(i,h):n===Fn.Web.Interop.UpdateData.BatchUpdateFromJson&&await e.batchUpdateFromJsonAsync(i,h)}!0===d.waitForFrameUpdate&&await Jn.waitForFrameUpdate()}catch(e){Ri.error(e.toString()+"\n"+e.stack)}window.engine.trigger(to.SET_CALL_RESPONSE,i,1)}()},e.windowEngineCallbacks.setGPropertyValue=function(t){!async function(){const i=t[0],n=t[1],r=t[2],o=t[3],a=t[4]
try{const t=e.getVIModelByName(n)
await t.processControlUpdateToSetGPropertyValueAsync(r,o,a)}catch(e){if(!(e instanceof Vn))throw e}finally{0!==i&&window.engine.trigger(oo.SET_CALL_RESPONSE,i,1)}}()},e.windowEngineCallbacks.invokeControlFunction=function(t){!async function(){const[i,n,r,o,a]=t
let s
try{const t=e.getVIModelByName(n)
if(void 0===t.getControlViewModel(r))throw new Error(`No control found with id ${r} in ${o}`)
const l=await t.invokeControlFunction(r,o,a)
void 0!==l&&(s=Rn.PackDataIntoSharedMemory(l,window.NITypes.STRING))}finally{window.engine.trigger(oo.SET_CALL_RESPONSE,i,s)}}()},e.windowEngineCallbacks.getPackedGPropertyValue=function(t){!async function(){let i=""
const n=t[0],r=t[1],o=t[2],a=t[3]
try{await Jn.waitForFrameUpdate()
const t=e.getVIModelByName(r),s=await t.processControlUpdateToGetGPropertyValue(o,a),l=t.controlModels[o]
l.throwIfPropertyTypeIsUndefined(a)
const d=l.gPropertyNIType(a)
i=Rn.PackDataIntoSharedMemory(s,d)}catch(e){if(!(e instanceof Vn))throw e}finally{window.engine.trigger(oo.SET_CALL_RESPONSE,n,i)}}()},e.windowEngineCallbacks.getJsonGPropertyValue=function(t){!async function(){const i=t[0],n=t[1],r=t[2],o=t[3]
await Jn.waitForFrameUpdate()
const a=e.getVIModelByName(n).processControlUpdateToGetGPropertyValue(r,o),s=JSON.stringify(a)
window.engine.trigger(oo.SET_CALL_RESPONSE,i,s)}()},e.windowEngineCallbacks.getGPropertyValue=function(t){!async function(){const i=t[0],n=t[1],r=t[2],o=t[3]
await Jn.waitForFrameUpdate()
const a=e.getVIModelByName(n).processControlUpdateToGetGPropertyValue(r,o)
window.engine.trigger(oo.SET_CALL_RESPONSE,i,a)}()},window.engine.on(to.DIAGRAM_VALUE_CHANGED,e.windowEngineCallbacks.diagramValueChanged),window.engine.on(to.BATCH_UPDATE,e.windowEngineCallbacks.batchUpdate),window.engine.on(to.SET_GPROPERTY_PROPERTY_VALUE,e.windowEngineCallbacks.setGPropertyValue),window.engine.on(to.GET_GPROPERTY_PROPERTY_VALUE,e.windowEngineCallbacks.getGPropertyValue),window.engine.on(to.GET_PACKED_GPROPERTY_PROPERTY_VALUE,e.windowEngineCallbacks.getPackedGPropertyValue),window.engine.on(to.GET_JSON_GPROPERTY_PROPERTY_VALUE,e.windowEngineCallbacks.getJsonGPropertyValue),window.engine.on(to.INVOKE_CONTROL_FUNCTION,e.windowEngineCallbacks.invokeControlFunction),this.registerPageNavigationListener(),window.engine.call(oo.DOCUMENT_READY)
const i=Object.keys(e.getVIModels())
for(t=0;t<i.length;t+=1)window.engine.trigger(oo.READY_FOR_UPDATES,i[t])
window.engine.call(oo.UPDATE_SERVICE_STARTED),e.setServiceState(no.LISTENING)}stop(){parent.prototype.stop.call(this,no.LISTENING),window.engine.off(to.DIAGRAM_VALUE_CHANGED,this.windowEngineCallbacks.diagramValueChanged),window.engine.off(to.BATCH_UPDATE,this.windowEngineCallbacks.batchUpdate),window.engine.off(to.SET_GPROPERTY_PROPERTY_VALUE,this.windowEngineCallbacks.setGPropertyValue),window.engine.off(to.GET_GPROPERTY_PROPERTY_VALUE,this.windowEngineCallbacks.getGPropertyValue),window.engine.off(to.GET_PACKED_GPROPERTY_PROPERTY_VALUE,this.windowEngineCallbacks.getPackedGPropertyValue),window.engine.off(to.GET_JSON_GPROPERTY_PROPERTY_VALUE,this.windowEngineCallbacks.getJsonGPropertyValue),window.engine.off(to.INVOKE_CONTROL_FUNCTION,this.windowEngineCallbacks.invokeControlFunction),this.unregisterPageNavigationListener(),this.setServiceState(no.STOPPED)}async batchUpdateFromBufferAsync(e,t){const i=e.propertyName(),n=e.runtimeId(),r=e.data(new Fn.Web.Interop.BatchUpdateFromBuffer),o=r.memoryId(),a=r.position(),s=r.length(),l=browserMessaging.getSharedData(o),d=new Uint8Array(l,a,s-a),c=this.getVIModels()[t],h=c.controlModels[n]
h.throwIfPropertyTypeIsUndefined(i)
const u=h.gPropertyNIType(i),p=Rn.GetDataAdaptorFromPackedValue(d,u).unpack()
await c.processControlUpdateToSetGPropertyValueAsync(n,i,p)}async batchUpdateFromOffsetAsync(e,t){const i=e.propertyName(),n=e.runtimeId(),r=e.data(new Fn.Web.Interop.BatchUpdateFromOffset).data(new Fn.Web.Interop.UnknownTable),o=this.getVIModels()[t],a=o.controlModels[n]
a.throwIfPropertyTypeIsUndefined(i)
const s=a.gPropertyNIType(i),l=Rn.GetDataAdaptorFromIndex(r,s).unpack()
await o.processControlUpdateToSetGPropertyValueAsync(n,i,l)}async batchUpdateFromJsonAsync(e,t){const i=e.propertyName(),n=e.runtimeId(),r=e.data(new Fn.Web.Interop.BatchUpdateFromJson).propertyJson(),o=JSON.parse(r),a=this.getVIModels()[t]
await a.processControlUpdateToSetGPropertyValueAsync(n,i,o)}controlChanged(e,t,i,n,r){(t=t.findTopLevelControl()).bindingInfo.prop===i&&""!==t.bindingInfo.dataItem&&(n=t[i])
const o=t.gPropertyNIType(i)
if(void 0!==o){const r=t.niControlId,a=Rn.PackDataIntoSharedMemory(n,o)
window.engine.trigger(oo.PANEL_CONTROL_CHANGED,e.viName,r,i,a)}}internalControlEventOccurred(e,t,i,n){const r={}
r[i]=n,window.engine.trigger(oo.PROCESS_INTERNAL_EVENT,e.viName,t.niControlId,JSON.stringify(r))}controlEventOccurred(e,t,i,n){const r=(t=t.findTopLevelControl()).niControlId
window.engine.trigger(oo.PANEL_CONTROL_EVENT_OCCURRED,e.viName,r,i,JSON.stringify(n))}static get StateEnum(){return eo}static get BrowserMessagesEnum(){return to}}const no=io.StateEnum,ro=io.InitTasksEnum,oo=io.BrowserMessagesEnum
class ao{constructor(e){if(this.rafRequestId=0,this.timeoutRequestId=0,"function"!=typeof e)throw new Error("Callback is not valid")
this.timerCallback=e}start(){0!==this.rafRequestId&&cancelAnimationFrame(this.rafRequestId),0!==this.timeoutRequestId&&(clearTimeout(this.timeoutRequestId),this.timeoutRequestId=0),this.rafRequestId=requestAnimationFrame(()=>this.rafCallback())}rafCallback(){this.rafRequestId=0,this.timeoutRequestId=setTimeout(()=>this.timeoutCallback(),0)}timeoutCallback(){this.timeoutRequestId=0,this.timerCallback()}}class so{constructor(e,t){if(this.boundsUpdateElements=new Map,this.layoutTimer=new ao(()=>this.sendElementBoundsCore()),"function"!=typeof t)throw new Error("Callback is not valid")
this.frontPanelViewModel=e,this.triggerEventCallback=t,this.boundsUpdateElements.set(e.model.niControlId,e.element)}onElementAdded(e,t){if(this.validateElement(e),"string"!=typeof t&&""!==t)throw new Error("Control ID is not valid")
this.boundsUpdateElements.set(t,e),this.requestSendElementBounds()}onElementRemoved(e){if("string"!=typeof e&&""!==e)throw new Error("Control ID is not valid")
this.boundsUpdateElements.delete(e),this.requestSendElementBounds()}requestSendElementBounds(){this.frontPanelViewModel.model.isFlexibleLayoutRoot()&&this.layoutTimer.start()}sendElementBoundsCore(){const e={}
for(const[t,i]of this.boundsUpdateElements.entries()){if(!document.body.contains(i)||null==i.parentElement){this.boundsUpdateElements.delete(t)
continue}const n=i.getBoundingClientRect(),r=i.parentElement.getBoundingClientRect()
if(0===n.top&&0===n.left&&0===n.width&&0===n.height)continue
const o={bottom:n.bottom-r.top,height:n.height,left:n.left-r.left,right:n.right-r.left,top:n.top-r.top,width:n.width}
e[t]=o}0!==Object.keys(e).length&&this.triggerEventCallback(JSON.stringify(e))}validateElement(e){if(!(e instanceof Element))throw new Error("Element is not valid")}}const lo=_r.UserInteractionState,co=Object.freeze(Object.assign({},vn.ServiceStateEnum,{INITIALIZING:"INITIALIZING",LISTENING:"LISTENING"})),ho=Object.freeze({PROPERTY_CHANGE:"PropertyChange",PROPERTY_CHANGE_MULTIPLE:"PropertyChangeMultiple",ADD_ELEMENT:"AddElement",ADD_OR_UPDATE_HTML_ELEMENT:"AddOrUpdateHtmlElement",REMOVE_ELEMENT:"RemoveElement",PROCESS_MODEL_UPDATE:"ProcessModelUpdate",PROCESS_INTERNAL_EVENT:"ProcessInternalEvent",BOUNDS_UPDATE:"BoundsUpdate",DOCUMENT_READY:"DocumentReady",UPDATE_SERVICE_STARTED:"UpdateServiceStarted",USERINTERACTION_CHANGED:"UserInteractionChanged",SET_PANEL_POSITION:"SetPanelPosition",INVOKE_CONTROL_FUNCTION:"InvokeControlFunction"})
class uo extends Yr{constructor(){super(),this.windowEngineCallbacks={propertyChange:void 0,propertyChangeMultiple:void 0,addElement:void 0,addOrUpdateHtmlElement:void 0,removeElement:void 0,userInteractionChanged:void 0,setPanelPosition:void 0,invokeControlFunction:void 0},this.keyEventHandler={undoRedo:void 0}}static get StateEnum(){return co}static get BrowserMessagesEnum(){return ho}isValidServiceState(e){return void 0!==uo.StateEnum[e]}isInIdeMode(){return!0}initialize(){super.initialize(po.UNINITIALIZED,void 0),this.setServiceState(po.INITIALIZING)}finishInitializing(){super.finishInitializing(po.INITIALIZING),this.setServiceState(po.READY)}start(){super.start(po.READY)
const e=this
Ri.logVerbose("niEditorUpdateService start()"),e.windowEngineCallbacks.propertyChange=function(t){const i=t[0],n=t[1],r=t[2],o=JSON.parse(r)
e.dispatchMessageToHTMLPanel(i,n,o,Hn.editorToJsModel)},e.windowEngineCallbacks.propertyChangeMultiple=function(t){const i=t[0],n=t[1],r=t[2],o=JSON.parse(n),a=JSON.parse(r)
let s
for(s=0;s<o.length;s++)e.dispatchMessageToHTMLPanel(i,o[s],a[s],Hn.editorToJsModel)},e.windowEngineCallbacks.addElement=function(t){const i=t[0],n=JSON.parse(i)
let r={}
n.viRef="",(r={parentId:t[1],nextModelId:t[2],initialLoad:t[3],modelAttached:!0,extras:void 0,kind:void 0}).extras=n.extras,r.kind=n.kind,delete n.extras,delete n.kind,Ri.infoVerbose("add Element (editor) "+r.kind+"("+n.niControlId+") "+n+" "+r)
const o=cr.modelKindToTagName(r.kind),a=Yr.createNIControlToAddToDOM(n,o,n.niControlId,n.viRef,r.parentId)
let s,l
for(s in Ir.initializeUserInteractionStateForElement(a.controlElement),a.controlElement._modelMetadata=r,r.extras)r.extras.hasOwnProperty(s)&&a.controlElement.setAttribute(s,r.extras[s])
if(""!==r.nextModelId&&null===(l=Ri.queryControlByNIControlId(n.viRef,r.nextModelId))&&(Ri.errorVerbose("Attempting to insert new element id ("+n.niControlId+") next to existing element id ("+r.nextModelId+") but the existing element cannot be found. Ignoring nextModelId and adding as child of parent."),l=void 0),void 0===a.parentElement)throw new Error("A child element was added to the DOM before its parent. ParentId: "+r.parentId+". child to add: "+n)
void 0!==l?a.parentElement.insertBefore(a.controlElement,l):a.parentElement.appendChild(a.controlElement),e.boundsUpdateEventService.onElementAdded(a.controlElement,n.niControlId)},e.windowEngineCallbacks.addOrUpdateHtmlElement=function(t){const i=t[0],n=JSON.parse(t[1]),r=t[2],o=t[3]
if(null===Ri.queryControlByNIControlId("",n.niControlId)){const i=[t[1],r,"",o]
e.windowEngineCallbacks.addElement(i)}else delete n.kind,e.dispatchMessageToHTMLPanel(i,n.niControlId,n,Hn.editorToJsModel)},e.windowEngineCallbacks.removeElement=function(t){const i=t[0],n=t[1]
if(Ri.infoVerbose("remove Element (editor)"+i+" "+t),null===Ri.queryControlByNIControlId("",i))return void Ri.errorVerbose("Attempted to remove an element with niControlId("+i+") but it could not be found. It is known that numerics are incorrectly removed multiple times, but if it was a different control this needs to be debugged further.")
const r=Yr.findNIControlToRemoveFromDOM(i,"")
r.controlElement._modelMetadata.modelAttached=n,r.controlElement.parentNode.removeChild(r.controlElement),e.boundsUpdateEventService.onElementRemoved(i)},e.windowEngineCallbacks.userInteractionChanged=function(t){const i=t[0],n=t[1],r=t[2],o=t[3],a=e.getVIModels()[i],s=a.getControlViewModel(n),l=Br.getVIViewModelByVIRef(a.viRef)
o===lo.START?l.setUserInteracting(n):o===lo.END&&l.clearUserInteracting(n),o!==lo.ATOMICACTIONCOMPLETE&&e.boundsUpdateEventService.requestSendElementBounds(),a.getFrontPanelControlViewModel().userInteractionChanged(o,r),s instanceof Ir&&s.userInteractionChanged(o,r)},e.windowEngineCallbacks.setPanelPosition=function(e){const i=JSON.parse(e[0]),n=i[0],r=i[1],o=e[1],a=Yr.getFrontPanelElement(),s=`${n}px`,l=`${r}px`
if(a===document.body)return
const d=t.getFrontPanelControlModel()
void 0!==d&&(d.top=l,d.left=s),window.requestAnimationFrame(function(){a.style.left=s,a.style.top=l,o&&window.requestAnimationFrame(function(){window.engine.trigger("SetPanelPositionComplete")})})},e.windowEngineCallbacks.invokeControlFunction=async function(t){const[i,n,r,o,a]=t
let s
try{const t=e.getVIModelByName(n).getControlViewModel(r)
if(void 0===t)throw new Error(`No control found with id ${r} in ${o}`)
const l=await t.invokeInternalControlFunction(o,a)
void 0!==l&&(s=JSON.stringify(l))}finally{window.engine.trigger("InvokeControlFunctionComplete",i,s)}},e.keyEventHandler.undoRedo=function(e){(e.ctrlKey&&(90===e.keyCode||"z"===e.key)||e.ctrlKey&&(89===e.keyCode||"y"===e.key)||e.ctrlKey&&e.shiftKey&&(90===e.keyCode||"z"===e.key))&&(e.preventDefault(),e.stopPropagation())},window.engine.on(mo.PROPERTY_CHANGE,e.windowEngineCallbacks.propertyChange),window.engine.on(mo.PROPERTY_CHANGE_MULTIPLE,e.windowEngineCallbacks.propertyChangeMultiple),window.engine.on(mo.ADD_ELEMENT,e.windowEngineCallbacks.addElement),window.engine.on(mo.ADD_OR_UPDATE_HTML_ELEMENT,e.windowEngineCallbacks.addOrUpdateHtmlElement),window.engine.on(mo.REMOVE_ELEMENT,e.windowEngineCallbacks.removeElement),window.engine.on(mo.USERINTERACTION_CHANGED,e.windowEngineCallbacks.userInteractionChanged),window.engine.on(mo.SET_PANEL_POSITION,e.windowEngineCallbacks.setPanelPosition),window.engine.on(mo.INVOKE_CONTROL_FUNCTION,e.windowEngineCallbacks.invokeControlFunction)
const t=Br.getVIViewModelByVIRef("").model,i=t.getFrontPanelControlViewModel()
e.boundsUpdateEventService=new so(i,e=>window.engine.trigger(mo.BOUNDS_UPDATE,e)),e.registerPageNavigationListener(),document.addEventListener("keydown",e.keyEventHandler.undoRedo,!0),Ri.logVerbose("niEditorUpdateService start() document ready in "+t.viName),window.engine.call(mo.DOCUMENT_READY),Ri.logVerbose("niEditorUpdateService start() update service starting in "+t.viName),window.engine.call(mo.UPDATE_SERVICE_STARTED),e.setServiceState(po.LISTENING)}stop(){super.stop(po.LISTENING),window.engine.off(mo.PROPERTY_CHANGE,this.windowEngineCallbacks.propertyChange),window.engine.off(mo.PROPERTY_CHANGE_MULTIPLE,this.windowEngineCallbacks.propertyChangeMultiple),window.engine.off(mo.ADD_ELEMENT,this.windowEngineCallbacks.addElement),window.engine.off(mo.ADD_OR_UPDATE_HTML_ELEMENT,this.windowEngineCallbacks.addOrUpdateHtmlElement),window.engine.off(mo.REMOVE_ELEMENT,this.windowEngineCallbacks.removeElement),window.engine.off(mo.USERINTERACTION_CHANGED,this.windowEngineCallbacks.userInteractionChanged),window.engine.off(mo.SET_PANEL_POSITION,this.windowEngineCallbacks.setPanelPosition),window.engine.off(mo.INVOKE_CONTROL_FUNCTION,this.windowEngineCallbacks.invokeControlFunction),document.removeEventListener("keydown",this.keyEventHandler.undoRedo,!0),this.windowEngineCallbacks.propertyChange=void 0,this.windowEngineCallbacks.propertyChangeMultiple=void 0,this.windowEngineCallbacks.addElement=void 0,this.windowEngineCallbacks.addOrUpdateHtmlElement=void 0,this.windowEngineCallbacks.removeElement=void 0,this.windowEngineCallbacks.userInteractionChanged=void 0,this.windowEngineCallbacks.setPanelPosition=void 0,this.keyEventHandler.undoRedo=void 0,this.boundsUpdateEventService=void 0,this.unregisterPageNavigationListener(),this.setServiceState(po.STOPPED)}internalControlEventOccurred(e,t,i,n){const r={}
r[i]=n,window.engine.trigger(mo.PROCESS_INTERNAL_EVENT,e.viName,t.niControlId,JSON.stringify(r))}controlChanged(e,t,i,n,r){let o,a,s
t.bindingInfo.prop===i&&(a=(o=t.findTopLevelControl())[o.bindingInfo.prop],o.modelPropertyUsesNIType(o.bindingInfo.prop)&&(a=Hn.jsModelToEditor(a,o.niType)),s=JSON.stringify(a),window.engine.trigger(mo.PROCESS_MODEL_UPDATE,e.viName,o.niControlId,s))}requestSendControlBounds(){void 0!==this.boundsUpdateEventService&&this.boundsUpdateEventService.requestSendElementBounds()}}const po=uo.StateEnum,mo=uo.BrowserMessagesEnum
class fo{constructor(){this.eventOracleMaps=new Map,this.registeredEventMaps=new Map}registerForControlEvents(e,t,i,n){this.eventOracleMaps.has(e)||this.eventOracleMaps.set(e,new Map),this.eventOracleMaps.get(e).set(t,n),this.registeredEventMaps.has(e)||this.registeredEventMaps.set(e,new Map)
const r=this.registeredEventMaps.get(e)
r.has(n)||r.set(n,[])
const o=r.get(n)
if(o.includes(i))throw new Error("An event was registered multiple times for the same control.")
o.push(i)}unRegisterForControlEvents(e,t,i,n){if(this.registeredEventMaps.has(e)){const r=this.registeredEventMaps.get(e)
if(r.has(n)){const o=r.get(n),a=o.indexOf(i)
if(!(a>-1))throw new Error("An attempt was made to un-register an event that wasn't currently registered.")
if(o.splice(a,1),0===o.length){this.eventOracleMaps.get(e).delete(t),r.delete(n)}}}}getEventOracleIndex(e){const t=e.getRoot().getNameVireoEncoded()
if(this.eventOracleMaps.has(t)){const i=this.eventOracleMaps.get(t),n=parseInt(e.niControlId,10)
if(i.has(n))return i.get(n)}return-1}isControlRegisteredForEvent(e,t,i){if(this.registeredEventMaps.has(e)){const n=this.registeredEventMaps.get(e)
if(n.has(t)){return n.get(t).indexOf(i)>-1}}return!1}}var go
!function(e){e[e.ValueChanged=2]="ValueChanged"}(go||(go={}))
class vo{static get VALUE_CHANGED(){return"{F3226E31-E688-4C58-AE1E-7ED6718409A1}"}}let bo=Promise.resolve()
const yo=function(e){return bo=bo.then(async function(){const t=function(e){return new Promise(function(t){const i=function(n){e.removeEventListener("ni-dialog-close",i),t(n.detail.userAction)}
e.addEventListener("ni-dialog-close",i)})}(e)
document.body.appendChild(e),e.showModal()
const i=await t
return document.body.removeChild(e),i})}
class _o extends JQX.BaseElement{static async createOneButtonDialog(e,t){const i=document.createElement("ni-dialog")
return i.dialogType="one-button",i.messageText=e,i.textOne=t,await yo(i)}static async createTwoButtonDialog(e,t,i){const n=document.createElement("ni-dialog")
return n.dialogType="two-button",n.messageText=e,n.textOne=t,n.textTwo=i,await yo(n)}static async createThreeButtonDialog(e,t,i,n,r,o,a,s){const l=document.createElement("ni-dialog")
return l.dialogType="three-button",l.messageText=e,l.windowTitle=t,l.textOne=n,l.textTwo=r,l.textThree=o,l.preventClose=!s,await yo(l)}static get BUTTON_ONE_ACTION(){return"BUTTON_ONE_ACTION"}static get BUTTON_TWO_ACTION(){return"BUTTON_TWO_ACTION"}static get BUTTON_THREE_ACTION(){return"BUTTON_THREE_ACTION"}static get CLOSE_ACTION(){return"CLOSE_ACTION"}static get properties(){return{dialogType:{type:"string",allowedValues:["one-button","two-button","three-button"],value:"one-button",defaultReflectToAttribute:!0},textOne:{type:"string",value:"Button 1",defaultReflectToAttribute:!0},textTwo:{type:"string",value:"Button 2",defaultReflectToAttribute:!0},textThree:{type:"string",value:"Button 3",defaultReflectToAttribute:!0},windowTitle:{type:"string",value:"",defaultReflectToAttribute:!0},messageText:{type:"string",value:"",defaultReflectToAttribute:!0},preventClose:{type:"boolean",value:!1,defaultReflectToAttribute:!0}}}template(){return'<div class="ni-unused-jqx-container"></div>\n                <dialog (close)="clickButtonClose">\n                    <div class="ni-container">\n                    <header>\n                        <span class="ni-window-title">[[windowTitle]]</span>\n                        <button class="ni-close" disabled tabindex="-1" (click)="clickButtonClose"></button>\n                    </header>\n                    <main>[[messageText]]</main>\n                    <footer>\n                        <button class="ni-button-one" (click)="clickButtonOne">[[textOne]]</button>\n                        <button class="ni-button-two" (click)="clickButtonTwo">[[textTwo]]</button>\n                        <button class="ni-button-three" (click)="clickButtonThree">[[textThree]]</button>\n                    </footer>\n                    </div>\n                </dialog>'}clickButtonOne(){this.$.fireEvent("ni-dialog-close",{userAction:_o.BUTTON_ONE_ACTION})}clickButtonTwo(){this.$.fireEvent("ni-dialog-close",{userAction:_o.BUTTON_TWO_ACTION})}clickButtonThree(){this.$.fireEvent("ni-dialog-close",{userAction:_o.BUTTON_THREE_ACTION})}clickButtonClose(){!1===this.preventClose&&this.$.fireEvent("ni-dialog-close",{userAction:_o.CLOSE_ACTION})}showModal(){const e=this.querySelector("dialog")
window.dialogPolyfill.registerDialog(e),e.showModal(),this.querySelector(".ni-close").disabled=!1}}window.JQX("ni-dialog",_o)
class wo{static get ChannelName(){return"NI_ChannelName"}}class xo{static groupByDimensionLength(e,t,i){let n,r,o
if(t%i!=0)throw new Error("Cannot evenly split array into groups")
const a=[]
for(r=[],o=0,n=0;n<t;n+=1)r[o]=e[n],(o+=1)===i&&(a.push(r),r=[],o=0)
return a}static convertFlatArraytoNArray(e,t,i){let n
const r=i.length
if(0===t)return[]
let o
if(1===r){for(o=[],n=0;n<t;n+=1)o[n]=e[n]
return o}o=e
let a,s=t
for(n=r-1;n>=1;n-=1)a=i[n],s=(o=xo.groupByDimensionLength(o,s,a)).length
return o}constructor(){this.vireo=void 0}visitBoolean(e){return 0!==this.vireo.eggShell.readDouble(e)}visitNumeric(e){return this.vireo.eggShell.readDouble(e)}visitNumeric64(e){return JSON.parse(this.vireo.eggShell.readJSON(e))}visitInt8(e){return this.visitNumeric(e)}visitInt16(e){return this.visitNumeric(e)}visitInt32(e){return this.visitNumeric(e)}visitInt64(e){return this.visitNumeric64(e)}visitUInt8(e){return this.visitNumeric(e)}visitUInt16(e){return this.visitNumeric(e)}visitUInt32(e){return this.visitNumeric(e)}visitUInt64(e){return this.visitNumeric64(e)}visitSingle(e){return this.visitNumeric(e)}visitDouble(e){return this.visitNumeric(e)}visitEnum8(e){return this.visitNumeric(e)}visitEnum16(e){return this.visitNumeric(e)}visitEnum32(e){return this.visitNumeric(e)}visitString(e){return this.vireo.eggShell.readString(e)}visitPath(e){return JSON.parse(this.vireo.eggShell.readJSON(e))}visitComplex(e){const t=this.vireo.eggShell.findSubValueRef(e,"real"),i=this.vireo.eggShell.findSubValueRef(e,"imaginary"),n=this.vireo.eggShell.readDouble(t),r=this.vireo.eggShell.readDouble(i)
return new window.NIComplex(n,r).toString()}visitComplexSingle(e){return this.visitComplex(e)}visitComplexDouble(e){return this.visitComplex(e)}visitArray(e){let t,i,n,r
const o=this.vireo.eggShell.getArrayDimensions(e).reverse(),a=gr.totalCells(o)
let s,l,d,c=!1
if(a>0&&(l=gr.buildArrayIndex(o,0),d=this.vireo.eggShell.findSubValueRef(e,l),c=this.vireo.eggShell.reflectOnValueRef(gr.isOptimizedArrayTypeVisitor,d)),c)t=this.vireo.eggShell.readTypedArray(e)
else for(t=[],s=0;s<a;s++)i=gr.buildArrayIndex(o,s),n=this.vireo.eggShell.findSubValueRef(e,i),r=this.vireo.eggShell.reflectOnValueRef(this,n),t.push(r)
return xo.convertFlatArraytoNArray(t,a,o)}visitCluster(e){const t=this,i=t.vireo.eggShell.readValueRefObject(e),n={}
return Object.keys(i).forEach(function(e){n[e]=t.vireo.eggShell.reflectOnValueRef(t,i[e])}),n}visitTimestamp(e){const t=this.vireo.eggShell.readDouble(e)
return new window.NITimestamp(t).toString()}visitAnalogWaveform(e){const t=this.vireo.eggShell.readValueRefObject(e),i=this.visitTimestamp(t.t0),n=this.visitDouble(t.dt),r=this.visitArray(t.Y),o=this.vireo.eggShell.getVariantAttribute(t.attributes,wo.ChannelName)
return{t0:i,dt:n,Y:r,channelName:void 0===o?void 0:this.vireo.eggShell.readString(o)}}visitJSObjectRefnum(e){return this.vireo.eggShell.readJavaScriptRefNum(e)}static get peekVisitor(){return So}static peekValueRef(e,t){return xo.peekVisitor.vireo=e,e.eggShell.reflectOnValueRef(xo.peekVisitor,t)}static peek(e,t,i){const n=e.eggShell.findValueRef(t,i)
return xo.peekValueRef(e,n)}}const Co=Object.freeze({peek:xo.peek,peekValueRef:xo.peekValueRef}),So=new xo,To=function(e,t,i){const n=[]
let r
for(r=t.length-1;r>=0;r--){const e=i%t[r]
i=Math.floor(i/t[r]),n.unshift(e)}let o=e
for(r=0;r<n.length;r++)o=o[n[r]]
return o},Io=function(e,t){const i=[]
let n,r=t
for(n=0;n<e;n++)Array.isArray(r)?(i.push(r.length),r=r[0]):i.push(0)
return i}
class Eo{PokeVisitor(){this.vireo=void 0}visitInt8(e,t){this.visitNumeric(e,t)}visitInt16(e,t){this.visitNumeric(e,t)}visitInt32(e,t){this.visitNumeric(e,t)}visitInt64(e,t){this.visitNumeric64(e,t)}visitUInt8(e,t){this.visitNumeric(e,t)}visitUInt16(e,t){this.visitNumeric(e,t)}visitUInt32(e,t){this.visitNumeric(e,t)}visitUInt64(e,t){this.visitNumeric64(e,t)}visitSingle(e,t){this.visitNumeric(e,t)}visitDouble(e,t){this.visitNumeric(e,t)}visitEnum8(e,t){this.visitNumeric(e,t)}visitEnum16(e,t){this.visitNumeric(e,t)}visitEnum32(e,t){this.visitNumeric(e,t)}visitComplexSingle(e,t){this.visitComplex(e,t)}visitComplexDouble(e,t){this.visitComplex(e,t)}visitBoolean(e,t){this.vireo.eggShell.writeDouble(e,t?1:0)}visitNumeric(e,t){const i=parseFloat(t)
this.vireo.eggShell.writeDouble(e,i)}visitNumeric64(e,t){const i=JSON.stringify(t)
this.vireo.eggShell.writeJSON(e,i)}visitString(e,t){this.vireo.eggShell.writeString(e,t)}visitPath(e,t){0===t.components.length&&t.components.push("")
const i=JSON.stringify(t)
this.vireo.eggShell.writeJSON(e,i)}visitComplex(e,t){const i=new window.NIComplex(t),n=this.vireo.eggShell.findSubValueRef(e,"real"),r=this.vireo.eggShell.findSubValueRef(e,"imaginary")
this.vireo.eggShell.writeDouble(n,i.realPart),this.vireo.eggShell.writeDouble(r,i.imaginaryPart)}visitArray(e,t){const i=this.vireo.eggShell.getArrayDimensions(e).length,n=Io(i,t),r=Io(i,t).reverse()
this.vireo.eggShell.resizeArray(e,r)
const o=gr.totalCells(n)
let a
for(a=0;a<o;a+=1){const i=gr.buildArrayIndex(n,a),r=this.vireo.eggShell.findSubValueRef(e,i),o=To(t,n,a)
this.vireo.eggShell.reflectOnValueRef(this,r,o)}}visitCluster(e,t){const i=this,n=i.vireo.eggShell.readValueRefObject(e)
Object.keys(n).forEach(function(e){i.vireo.eggShell.reflectOnValueRef(i,n[e],t[e])})}visitTimestamp(e,t){const i=new window.NITimestamp(t).valueOf()
this.vireo.eggShell.writeDouble(e,i)}visitAnalogWaveform(e,t){const i=this.vireo.eggShell.readValueRefObject(e)
this.visitTimestamp(i.t0,t.t0),this.visitDouble(i.dt,t.dt),this.visitArray(i.Y,t.Y),"string"==typeof t.channelName?this.vireo.eggShell.setVariantAttributeAsString(i.attributes,wo.ChannelName,t.channelName):this.vireo.eggShell.deleteVariantAttribute(i.attributes,wo.ChannelName)}visitJSObjectRefnum(e,t){this.vireo.eggShell.writeJavaScriptRefNum(e,t)}static get singleton(){return Do}}class Po{static pokeValueRef(e,t,i){return Eo.singleton.vireo=e,e.eggShell.reflectOnValueRef(Eo.singleton,t,i)}static poke(e,t,i,n){const r=e.eggShell.findValueRef(t,i)
return Po.pokeValueRef(e,r,n)}}const Do=new Eo,ko=Object.freeze(Object.assign({},vn.ServiceStateEnum,{DOWNLOADING:"DOWNLOADING",SYNCHRONIZING:"SYNCHRONIZING",RUNNING:"RUNNING",STOPPING:"STOPPING"})),Ao=Object.freeze(Object.assign({},Yr.InitTasksEnum,{DOWNLOADING:"DOWNLOADING",VIREOLOADED:"VIREOLOADED"})),jo=Object.freeze({READ_ONLY:"readOnly",WRITE_ONLY:"writeOnly",READ_WRITE:"readWrite"}),Mo=Object.freeze({DIAGRAM_VALUE_CHANGED:"DiagramValueChanged",FINISHED_SENDING_UPDATES:"FinishedSendingUpdates",READY_FOR_UPDATES:"ReadyForUpdates",ABORT_VI:"AbortVI",FINISHED_RUNNING:"FinishedRunning",PANEL_CONTROL_CHANGED:"PanelControlChanged",START:"Start",DOCUMENT_READY:"DocumentReady",UPDATE_SERVICE_STARTED:"UpdateServiceStarted",PROCESS_INTERNAL_EVENT:"ProcessInternalEvent",LOG_ERROR:"LogError"}),No=4,qo=1e4
class Oo extends Yr{constructor(e){super(),this.vireo=void 0,this.vireoTimer=void 0,this.syncControlsCache={},this.propertyTypesCache={},this.vireoSource=e.vireoSource,this.wasmUrl=e.wasmUrl,this.ideMode=!0===e.runningInIDE,this.vireoText=void 0,this.dataItemCache=void 0,this.eventRegistrationService=new fo,this.eventDataWriter=void 0,this.maximumErrorMessageCount=e.maximumErrorMessageCount,this.consoleLogErrorCount=0,this.windowEngineCallbacks={start:void 0,diagramValueChanged:void 0,finishedSendingUpdates:void 0,abortVI:void 0},this._updateHTMLControlsTimer=void 0}static get StateEnum(){return ko}static get InitTasksEnum(){return Ao}static get AccessModesEnum(){return jo}static get BrowserMessagesEnum(){return Mo}static reportFailedToLoadVireoSource(){const e=document.getElementById("ni-failed-to-load-vireo-source")
null!==e&&(e.style.display="block")}static hasReadAccessor(e){return e.accessMode===Ho.READ_ONLY||e.accessMode===Ho.READ_WRITE}static hasWriteAccessor(e){return e.accessMode===Ho.WRITE_ONLY||e.accessMode===Ho.READ_WRITE}static controlCanTriggerValueChange(e){return e.isTopLevelAndPlacedAndEnabled()&&Oo.hasReadAccessor(e.getLocalBindingInfo())}static controlCanTriggerEvent(e){return void 0!==e.getLocalBindingInfo()&&e.isDataItemBoundControl()}static controlAcceptsDiagramUpdates(e){const t=e.getLocalBindingInfo()
return e.isTopLevelAndPlacedAndEnabled()&&(Oo.hasWriteAccessor(t)||!0===t.isLatched)}static controlTestNeedsUpdateAndReset(e,t){const i=t.getLocalBindingInfo()
if(void 0===i)return!1
const n=e.eggShell.findValueRef(i.encodedVIName,i.runtimePath)
return e.eggShell.testNeedsUpdateAndReset(n)}static forEachControlModelInEachVIModel(e,t){let i,n,r,o,a,s
for(i in e)if(e.hasOwnProperty(i))for(o in r=(n=e[i]).getAllControlModels())if(r.hasOwnProperty(o)&&void 0!==(s=t(n,a=r[o])))return s}static getControlDebuggingInfo(e,t){let i
try{i=Oo.forEachControlModelInEachVIModel(t,function(t,i){let n
const r=i.getLocalBindingInfo()
if(void 0!==r&&r.dataItem===e)return n=`id=${i.niControlId}, acceptsDiagramUpdates=${Oo.controlAcceptsDiagramUpdates(i)}, `+`sync=${r.sync}, isDataItemBoundControl=${i.isDataItemBoundControl()}, `,n+=void 0===r?"localBindingInfo=undefined":`localBindingInfo.unplacedOrDisabled=${r.unplacedOrDisabled}, localbindingInfo.isLatched=${r.isLatched}, hasWriteAccessor=${Oo.hasWriteAccessor(r)}`})}catch(e){i="Unable to evaluate control debugging info"}return void 0===i?"Data item does not exist":i}isValidServiceState(e){return void 0!==Bo[e]}isInIdeMode(){return this.ideMode}initialize(){const e=super.initialize(Bo.UNINITIALIZED,Lo),t=this
fetch(t.vireoSource,{method:"GET",mode:"cors",credentials:"same-origin",redirect:"follow"}).then(function(e){if(!e.ok)throw new Error(`Invalid status: ${e.status}`)
return e.text()}).then(function(i){t.vireoText=i,e.complete(Lo.DOWNLOADING)}).catch(function(e){Ri.error(`Error retrieving vireo source from url (${t.vireoSource}), additional information: ${e.message})`),Oo.reportFailedToLoadVireoSource(),t.setServiceState(Bo.ERROR)}),gr.whenVireoLoaded(function(i){t.vireo=i,t.setVireoInstance(i),e.complete(Lo.VIREOLOADED)},t.wasmUrl),t.setVireoHelpers(gr.vireoHelpers),t.setServiceState(Bo.DOWNLOADING)}lookupLocalBindingInfo(e,t){const i=this.getVIModels()[e].getControlModel(t).getLocalBindingInfo()
if(void 0!==i)return void 0!==this.vireo.eggShell.findValueRef(i.encodedVIName,i.runtimePath)?i:void 0}finishInitializing(){super.finishInitializing(Bo.DOWNLOADING)
const e=this
e.vireo.coreHelpers.setFPSyncFunction(function(t){e.updateSyncHTMLControl(t)})
const t=function(e){e.setLabVIEWError(!0,1055,Ri.i18n("msg_INVALID_OBJECT_REFERENCE"))}
e.vireo.javaScriptInvoke.registerInternalFunctions({ControlReference_GetControlObject:function(t,i,n){const r=e.vireo.eggShell.readString(i),o=e.vireo.eggShell.readDouble(n),a=e.getVIModels()[r]
if(!(a instanceof jr))return
const s=a.getControlViewModel(o)
if(void 0===s)throw new Error(`Could not find static control with ID ${o}.`)
e.vireo.eggShell.writeJavaScriptRefNum(t,s)},PropertyNode_PropertyRead:async function(i,n,r,o){if(!e.vireo.eggShell.isJavaScriptRefNumValid(n))return void t(o)
const a=e.vireo.eggShell.readJavaScriptRefNum(n),s=e.vireo.eggShell.readString(r)
try{let t=await a.getGPropertyValue(s)
const n=a.model
if(n.shouldUpdateTerminal(s)){const i=n.getLocalBindingInfo()
t=Co.peek(e.vireo,i.encodedVIName,i.runtimePath)}Po.pokeValueRef(e.vireo,i,t)}catch(e){if(!(e instanceof Vn))throw e
o.setLabVIEWError(!0,e.code,e.message)}},PropertyNode_PropertyWrite:async function(i,n,r,o,a){if(!e.vireo.eggShell.isJavaScriptRefNumValid(n))return void t(a)
const s=e.vireo.eggShell.readJavaScriptRefNum(n),l=e.vireo.eggShell.readString(r),d=Co.peekValueRef(e.vireo,o)
try{s.shouldUseAsyncSetGPropertyValue(l)?await s.setGPropertyValueAsync(l,d):s.setGPropertyValue(l,d)}catch(e){if(!(e instanceof Vn))throw e
return void a.setLabVIEWError(!0,e.code,e.message)}const c=s.model
if(c.shouldUpdateTerminal(l)){const t=c.getLocalBindingInfo()
Po.poke(e.vireo,t.encodedVIName,t.runtimePath,d)}},OneButtonDialog:async function(t,i,n){const r=e.vireo.eggShell.readString(i),o=e.vireo.eggShell.readString(n)
await _o.createOneButtonDialog(r,o),e.vireo.eggShell.writeDouble(t,1)},TwoButtonDialog:async function(t,i,n,r){const o=e.vireo.eggShell.readString(i),a=e.vireo.eggShell.readString(n),s=e.vireo.eggShell.readString(r),l=await _o.createTwoButtonDialog(o,a,s)===_o.BUTTON_ONE_ACTION?1:0
e.vireo.eggShell.writeDouble(t,l)},LogLabVIEWError:function(t,i,n,r){const o=e.vireo.eggShell.readDouble(n),a=e.vireo.eggShell.readString(r)
e.consoleLogErrorCount<e.maximumErrorMessageCount?Ri.error(Ri.i18n("msg_CONSOLE_LOG_ERROR",o,a)):e.consoleLogErrorCount===e.maximumErrorMessageCount&&Ri.error(Ri.i18n("msg_REACHED_MAX_CONSOLE_LOG_ERRORS",e.maximumErrorMessageCount)),e.consoleLogErrorCount++},InvokeControlFunction:async function(){const i=arguments[0],n=arguments[1],r=arguments[2],o=[]
for(let e=3;e<arguments.length-1;e++)o.push(arguments[e])
const a=arguments[arguments.length-1]
if(!e.vireo.eggShell.isJavaScriptRefNumValid(n))return void t(a)
const s=e.vireo.eggShell.readJavaScriptRefNum(n),l=e.vireo.eggShell.readString(r),d=o.map(t=>Co.peekValueRef(e.vireo,t))
try{const t=await s.invokeInternalControlFunction(l,d)
void 0!==t&&Po.pokeValueRef(e.vireo,i,t)}catch(e){a.setLabVIEWError(!0,1055,e.toString())}}}),e.vireo.eggShell.setPrintFunction(function(e){Ri.debug(e+"\n")}),e.vireo.eggShell.setPrintErrorFunction(function(e){Ri.debug(e+"\n")}),e.vireo.eventHelpers.setRegisterForControlEventsFunction(function(t,i,n,r){e.eventRegistrationService.registerForControlEvents(t,i,n,r)}),e.vireo.eventHelpers.setUnRegisterForControlEventsFunction(function(t,i,n,r){e.eventRegistrationService.unRegisterForControlEvents(t,i,n,r)}),e.vireo.eggShell.setExecuteSlicesWakeUpCallback(function(){e.checkServiceStateIs(Bo.RUNNING)&&(window.clearTimeout(e.vireoTimer),e.vireoTimer=void 0,e.executeVireoRuntime())}),e.dataItemCache=new bn(e.getVIModels()),e.eventDataWriter=function(t,i){Po.pokeValueRef(e.vireo,t,i)},!0===e.ideMode&&window.engine.call(Ro.DOCUMENT_READY),e.setServiceState(Bo.READY)}start(){super.start(Bo.READY)
const e=this
e.vireo.eggShell.loadVia(e.vireoText),!0===e.ideMode?(window.engine.off(Ro.START,e.windowEngineCallbacks.start),e.windowEngineCallbacks.start=void 0,setTimeout(function(){e.synchronize()},0),e.setServiceState(Bo.SYNCHRONIZING)):e.startVireoRuntime()}synchronize(){const e=this
let t
if(e.verifyServiceStateIs(Bo.SYNCHRONIZING),!1===e.ideMode)return Ri.error("HTML Panel synchronization steps should only be run when inside the editor"),void e.setServiceState(Bo.ERROR)
const i=Object.keys(e.getVIModels())
for(e.windowEngineCallbacks.diagramValueChanged=function(t){const i=t[0],n=t[1],r=e.dataItemCache.getEditorRuntimeBindingInfo(i,n),o=r.controlId,a=t[2],s=JSON.parse(a),l={}
l[r.prop]=s,e.dispatchMessageToHTMLPanel(i,o,l,Hn.editorToJsModel)},e.windowEngineCallbacks.finishedSendingUpdates=function(t){let n
const r=t[0]
for(n=0;n<i.length;n+=1)if(i[n]===r){i.splice(n,1)
break}0===i.length&&(window.engine.off(Ro.DIAGRAM_VALUE_CHANGED,e.windowEngineCallbacks.diagramValueChanged),window.engine.off(Ro.FINISHED_SENDING_UPDATES,e.windowEngineCallbacks.finishedSendingUpdates),e.windowEngineCallbacks.diagramValueChanged=void 0,e.windowEngineCallbacks.finishedSendingUpdates=void 0,e.startVireoRuntime())},window.engine.on(Ro.DIAGRAM_VALUE_CHANGED,e.windowEngineCallbacks.diagramValueChanged),window.engine.on(Ro.FINISHED_SENDING_UPDATES,e.windowEngineCallbacks.finishedSendingUpdates),this.registerPageNavigationListener(),t=0;t<i.length;t+=1)window.engine.trigger(Ro.READY_FOR_UPDATES,i[t])}startVireoRuntime(){const e=this
e.verifyServiceStateIs([Bo.READY,Bo.SYNCHRONIZING]),!0===e.ideMode&&(e.windowEngineCallbacks.abortVI=function(){e.stop()},window.engine.on(Ro.ABORT_VI,e.windowEngineCallbacks.abortVI)),setTimeout(function(){e.loadCurrentControlValuesIntoRuntime(),e.executeVireoRuntime(),e.scheduleUpdateHTMLControls()},0),e.setServiceState(Bo.RUNNING),!0===e.ideMode&&window.engine.call(Ro.UPDATE_SERVICE_STARTED)}executeVireoRuntime(){const e=this
let t=0
if(e.checkServiceStateIs(Bo.RUNNING)){try{t=e.vireo.eggShell.executeSlicesUntilWait(qo,No)}catch(t){const i=`Vireo Failed to execute. Message: ${t.message}, Stack: ${t.stack}`
!0===e.ideMode&&window.engine.trigger(Ro.LOG_ERROR,i),Ri.error(i)}t>0?e.vireoTimer=setTimeout(e.executeVireoRuntime.bind(e),t):t<0?e.vireoTimer=setTimeout(e.executeVireoRuntime.bind(e),0):(window.clearTimeout(e.vireoTimer),e.vireoTimer=void 0,e.stop(),setTimeout(e.executeVireoRuntime.bind(e),0))}else e.checkServiceStateIs(Bo.STOPPING)?setTimeout(function(){e.finishStopping()},0):(Ri.error("Web Application expected to be RUNNING or STOPPING"),e.setServiceState(Bo.ERROR))}scheduleUpdateHTMLControls(){const e=this
!1!==e.checkServiceStateIs(Bo.RUNNING)&&(requestAnimationFrame(function(){e.scheduleUpdateHTMLControls()}),void 0===e._updateHTMLControlsTimer&&(e._updateHTMLControlsTimer=setTimeout(function(){e._updateHTMLControlsTimer=void 0,!1!==e.checkServiceStateIs(Bo.RUNNING)&&e.updateHTMLControls()},0)))}stop(){super.stop(Bo.RUNNING),!0===this.ideMode&&(window.engine.off(Ro.ABORT_VI,this.windowEngineCallbacks.abortVI),this.windowEngineCallbacks.abortVI=void 0),this.setServiceState(Bo.STOPPING)}finishStopping(){const e=this
this.verifyServiceStateIs(Bo.STOPPING),this.updateHTMLControls(),!0===this.ideMode&&(this.sendControlValuesToEditor(),window.engine.trigger(Ro.FINISHED_RUNNING,"Function"),this.windowEngineCallbacks.start=function(){e.start()},window.engine.on(Ro.START,e.windowEngineCallbacks.start)),this.unregisterPageNavigationListener(),this.setServiceState(Bo.STOPPED)}controlChanged(e,t,i,n,r){if(!1===this.checkServiceStateIs(Bo.RUNNING))return
const o=t.getLocalBindingInfo()
if(Oo.controlCanTriggerValueChange(t)&&Po.poke(this.vireo,o.encodedVIName,o.runtimePath,n),Oo.controlCanTriggerEvent(t)){const e=this.eventRegistrationService.getEventOracleIndex(t)
if(this.eventRegistrationService.isControlRegisteredForEvent(o.encodedVIName,e,go.ValueChanged)){const i=gr.vireoHelpers.staticHelpers.encodeIdentifier(vo.VALUE_CHANGED+"_"+t.niControlId),a=this.vireo.eggShell.findValueRef(o.encodedVIName,i),s={"Old Value":r,"New Value":n}
this.vireo.eventHelpers.occurEvent(e,t.niControlId,go.ValueChanged,this.eventDataWriter,a,s)}}}controlEventOccurred(e,t,i,n){const r=t.getLocalEventInfo(i)
if(void 0!==r){const e=this.eventRegistrationService.getEventOracleIndex(t),i=t.getRoot().getNameVireoEncoded()
if(this.eventRegistrationService.isControlRegisteredForEvent(i,e,r.eventIndex)){const o=gr.vireoHelpers.staticHelpers.encodeIdentifier(r.eventDataId+"_"+t.niControlId),a=this.vireo.eggShell.findValueRef(i,o)
this.vireo.eventHelpers.occurEvent(e,t.niControlId,r.eventIndex,this.eventDataWriter,a,n)}}}internalControlEventOccurred(e,t,i,n){const r={}
r[i]=n,!0===this.ideMode&&window.engine.trigger(Ro.PROCESS_INTERNAL_EVENT,e.viName,t.niControlId,JSON.stringify(r))}reinitializeToDefault(e,t){if(!1===this.checkServiceStateIs(Bo.RUNNING))return
const i=t.getLocalBindingInfo(),n=this.vireo.eggShell.findValueRef(i.encodedVIName,i.runtimePath)
if(void 0===n)throw new Error(Ri.i18n("msg_UNPLACED_DATA_ITEM_ON_BLOCK_DIAGRAM"))
this.vireo.eggShell.reinitializeToDefault(n)
const r={},o=Co.peek(this.vireo,i.encodedVIName,i.runtimePath)
r[i.prop]=o,this.dispatchMessageToHTMLPanel(e.viName,t.niControlId,r)}sendControlValuesToEditor(){Oo.forEachControlModelInEachVIModel(this.getVIModels(),function(e,t){let i,n
const r=t.getEditorRuntimeBindingInfo()
void 0!==r&&void 0!==r.dataItem&&void 0!==r.prop&&""!==r.dataItem&&""!==r.prop&&("historyBuffer"in t?(i=t.historyBuffer.toJSON(),n=t.getHistoryBufferInnerType(t.niType,i.width),i.data=Hn.jsModelToEditor(i.data,n)):(i=t[r.prop],t.modelPropertyUsesNIType(r.prop)&&(i=Hn.jsModelToEditor(i,t.niType))),window.engine.trigger(Ro.PANEL_CONTROL_CHANGED,e.viName,r.dataItem,JSON.stringify(i)))})}loadCurrentControlValuesIntoRuntime(){const e=this
Oo.forEachControlModelInEachVIModel(e.getVIModels(),function(t,i){let n
const r=i.getLocalBindingInfo()
i.isTopLevelAndPlacedAndEnabled()&&void 0!==(n=i[r.prop])&&Po.poke(e.vireo,r.encodedVIName,r.runtimePath,n)})}updateHTMLControls(){const e=this
Oo.forEachControlModelInEachVIModel(e.getVIModels(),function(t,i){const n=i.getLocalBindingInfo()
if(Oo.controlAcceptsDiagramUpdates(i)&&!1===n.sync&&Oo.controlTestNeedsUpdateAndReset(e.vireo,i)){const r=Co.peek(e.vireo,n.encodedVIName,n.runtimePath),o={}
o[n.prop]=r,e.dispatchMessageToHTMLPanel(t.viName,i.niControlId,o)}})}findSyncHTMLControl(e){return Oo.forEachControlModelInEachVIModel(this.getVIModels(),function(t,i){const n=i.getLocalBindingInfo()
if(Oo.controlAcceptsDiagramUpdates(i)&&n.dataItem===e&&!0===n.sync)return{localBindingInfo:n,viName:t.viName,controlId:i.niControlId}})}updateSyncHTMLControl(e){let t,i,n,r,o
if(void 0===this.syncControlsCache[e]&&(this.syncControlsCache[e]=this.findSyncHTMLControl(e)),void 0!==this.syncControlsCache[e])t=this.syncControlsCache[e].localBindingInfo,i=this.syncControlsCache[e].viName,n=this.syncControlsCache[e].controlId,r={},o=Co.peek(this.vireo,t.encodedVIName,t.runtimePath),r[t.prop]=o,this.dispatchMessageToHTMLPanel(i,n,r)
else{const t=Oo.getControlDebuggingInfo(e,this.getVIModels())
Ri.errorVerbose("Trying to update synchronous control with data item id "+e+" but failed to locate control. "+t)}}}const Bo=Oo.StateEnum,Lo=Oo.InitTasksEnum,Ro=Oo.BrowserMessagesEnum,Ho=Oo.AccessModesEnum
class Vo{constructor(e){this._dcoIndexToControlMap=void 0,this.viModels=e}static createDCOIndexMaps(e){const t={}
let i
for(i in e)if(e.hasOwnProperty(i)){const n=e[i].getAllControlModels()
let r
for(r in void 0===t[i]&&(t[i]={}),n)if(n.hasOwnProperty(r)){const e=n[r].getRemoteBindingInfo()
void 0!==e&&(t[i][e.dco]=e)}}return t}getRemoteBindingInfo(e,t){return void 0!==this._dcoIndexToControlMap&&void 0!==this._dcoIndexToControlMap[e]||(this._dcoIndexToControlMap=Vo.createDCOIndexMaps(this.viModels)),this._dcoIndexToControlMap[e][t]}}var Fo=Fo||{}
Fo.Web=Fo.Web||{},Fo.Web.RemotePanel=Fo.Web.RemotePanel||{},Fo.Web.RemotePanel.AnyType={NONE:0,UnknownTable:1},Fo.Web.RemotePanel.AnyTypeName={0:"NONE",1:"UnknownTable"},Fo.Web.RemotePanel.GetPropertyValueType={PropertyValueAsJson:0,PropertyValueAsPackedData:1},Fo.Web.RemotePanel.GetPropertyValueTypeName={0:"PropertyValueAsJson",1:"PropertyValueAsPackedData"},Fo.Web.RemotePanel.RemotePanelUpdateType={NONE:0,SetPropertyValue:1,GetPropertyValue:2,BatchUpdate:3,RootedBatchUpdate:4,DataRequestReady:5},Fo.Web.RemotePanel.RemotePanelUpdateTypeName={0:"NONE",1:"SetPropertyValue",2:"GetPropertyValue",3:"BatchUpdate",4:"RootedBatchUpdate",5:"DataRequestReady"},Fo.Web.RemotePanel.RemotePanelRequestType={NONE:0,RemotePanelUpdateResponse:1,RemotePanelRequestData:2,RemotePanelControlChanged:3,RemotePanelConnect:4},Fo.Web.RemotePanel.RemotePanelRequestTypeName={0:"NONE",1:"RemotePanelUpdateResponse",2:"RemotePanelRequestData",3:"RemotePanelControlChanged",4:"RemotePanelConnect"},Fo.Web.RemotePanel.UnknownTable=function(){this.bb=null,this.bb_pos=0},Fo.Web.RemotePanel.UnknownTable.prototype.__init=function(e,t){return this.bb_pos=e,this.bb=t,this},Fo.Web.RemotePanel.UnknownTable.getRootAsUnknownTable=function(e,t){return(t||new Fo.Web.RemotePanel.UnknownTable).__init(e.readInt32(e.position())+e.position(),e)},Fo.Web.RemotePanel.UnknownTable.getSizePrefixedRootAsUnknownTable=function(e,t){return(t||new Fo.Web.RemotePanel.UnknownTable).__init(e.readInt32(e.position())+e.position(),e)},Fo.Web.RemotePanel.UnknownTable.startUnknownTable=function(e){e.startObject(0)},Fo.Web.RemotePanel.UnknownTable.endUnknownTable=function(e){return e.endObject()},Fo.Web.RemotePanel.UnknownTable.createUnknownTable=function(e){return Fo.Web.RemotePanel.UnknownTable.startUnknownTable(e),Fo.Web.RemotePanel.UnknownTable.endUnknownTable(e)},Fo.Web.RemotePanel.SetPropertyValue=function(){this.bb=null,this.bb_pos=0},Fo.Web.RemotePanel.SetPropertyValue.prototype.__init=function(e,t){return this.bb_pos=e,this.bb=t,this},Fo.Web.RemotePanel.SetPropertyValue.getRootAsSetPropertyValue=function(e,t){return(t||new Fo.Web.RemotePanel.SetPropertyValue).__init(e.readInt32(e.position())+e.position(),e)},Fo.Web.RemotePanel.SetPropertyValue.getSizePrefixedRootAsSetPropertyValue=function(e,t){return(t||new Fo.Web.RemotePanel.SetPropertyValue).__init(e.readInt32(e.position())+e.position(),e)},Fo.Web.RemotePanel.SetPropertyValue.prototype.docName=function(e){var t=this.bb.__offset(this.bb_pos,4)
return t?this.bb.__string(this.bb_pos+t,e):null},Fo.Web.RemotePanel.SetPropertyValue.prototype.runtimeId=function(){var e=this.bb.__offset(this.bb_pos,6)
return e?this.bb.readInt32(this.bb_pos+e):0},Fo.Web.RemotePanel.SetPropertyValue.prototype.propertyName=function(e){var t=this.bb.__offset(this.bb_pos,8)
return t?this.bb.__string(this.bb_pos+t,e):null},Fo.Web.RemotePanel.SetPropertyValue.prototype.propertyJson=function(e){var t=this.bb.__offset(this.bb_pos,10)
return t?this.bb.__string(this.bb_pos+t,e):null},Fo.Web.RemotePanel.SetPropertyValue.startSetPropertyValue=function(e){e.startObject(4)},Fo.Web.RemotePanel.SetPropertyValue.addDocName=function(e,t){e.addFieldOffset(0,t,0)},Fo.Web.RemotePanel.SetPropertyValue.addRuntimeId=function(e,t){e.addFieldInt32(1,t,0)},Fo.Web.RemotePanel.SetPropertyValue.addPropertyName=function(e,t){e.addFieldOffset(2,t,0)},Fo.Web.RemotePanel.SetPropertyValue.addPropertyJson=function(e,t){e.addFieldOffset(3,t,0)},Fo.Web.RemotePanel.SetPropertyValue.endSetPropertyValue=function(e){return e.endObject()},Fo.Web.RemotePanel.SetPropertyValue.createSetPropertyValue=function(e,t,i,n,r){return Fo.Web.RemotePanel.SetPropertyValue.startSetPropertyValue(e),Fo.Web.RemotePanel.SetPropertyValue.addDocName(e,t),Fo.Web.RemotePanel.SetPropertyValue.addRuntimeId(e,i),Fo.Web.RemotePanel.SetPropertyValue.addPropertyName(e,n),Fo.Web.RemotePanel.SetPropertyValue.addPropertyJson(e,r),Fo.Web.RemotePanel.SetPropertyValue.endSetPropertyValue(e)},Fo.Web.RemotePanel.GetPropertyValue=function(){this.bb=null,this.bb_pos=0},Fo.Web.RemotePanel.GetPropertyValue.prototype.__init=function(e,t){return this.bb_pos=e,this.bb=t,this},Fo.Web.RemotePanel.GetPropertyValue.getRootAsGetPropertyValue=function(e,t){return(t||new Fo.Web.RemotePanel.GetPropertyValue).__init(e.readInt32(e.position())+e.position(),e)},Fo.Web.RemotePanel.GetPropertyValue.getSizePrefixedRootAsGetPropertyValue=function(e,t){return(t||new Fo.Web.RemotePanel.GetPropertyValue).__init(e.readInt32(e.position())+e.position(),e)},Fo.Web.RemotePanel.GetPropertyValue.prototype.docName=function(e){var t=this.bb.__offset(this.bb_pos,4)
return t?this.bb.__string(this.bb_pos+t,e):null},Fo.Web.RemotePanel.GetPropertyValue.prototype.runtimeId=function(){var e=this.bb.__offset(this.bb_pos,6)
return e?this.bb.readInt32(this.bb_pos+e):0},Fo.Web.RemotePanel.GetPropertyValue.prototype.propertyName=function(e){var t=this.bb.__offset(this.bb_pos,8)
return t?this.bb.__string(this.bb_pos+t,e):null},Fo.Web.RemotePanel.GetPropertyValue.prototype.valueType=function(){var e=this.bb.__offset(this.bb_pos,10)
return e?this.bb.readInt8(this.bb_pos+e):Fo.Web.RemotePanel.GetPropertyValueType.PropertyValueAsJson},Fo.Web.RemotePanel.GetPropertyValue.startGetPropertyValue=function(e){e.startObject(4)},Fo.Web.RemotePanel.GetPropertyValue.addDocName=function(e,t){e.addFieldOffset(0,t,0)},Fo.Web.RemotePanel.GetPropertyValue.addRuntimeId=function(e,t){e.addFieldInt32(1,t,0)},Fo.Web.RemotePanel.GetPropertyValue.addPropertyName=function(e,t){e.addFieldOffset(2,t,0)},Fo.Web.RemotePanel.GetPropertyValue.addValueType=function(e,t){e.addFieldInt8(3,t,Fo.Web.RemotePanel.GetPropertyValueType.PropertyValueAsJson)},Fo.Web.RemotePanel.GetPropertyValue.endGetPropertyValue=function(e){return e.endObject()},Fo.Web.RemotePanel.GetPropertyValue.createGetPropertyValue=function(e,t,i,n,r){return Fo.Web.RemotePanel.GetPropertyValue.startGetPropertyValue(e),Fo.Web.RemotePanel.GetPropertyValue.addDocName(e,t),Fo.Web.RemotePanel.GetPropertyValue.addRuntimeId(e,i),Fo.Web.RemotePanel.GetPropertyValue.addPropertyName(e,n),Fo.Web.RemotePanel.GetPropertyValue.addValueType(e,r),Fo.Web.RemotePanel.GetPropertyValue.endGetPropertyValue(e)},Fo.Web.RemotePanel.BatchUpdate=function(){this.bb=null,this.bb_pos=0},Fo.Web.RemotePanel.BatchUpdate.prototype.__init=function(e,t){return this.bb_pos=e,this.bb=t,this},Fo.Web.RemotePanel.BatchUpdate.getRootAsBatchUpdate=function(e,t){return(t||new Fo.Web.RemotePanel.BatchUpdate).__init(e.readInt32(e.position())+e.position(),e)},Fo.Web.RemotePanel.BatchUpdate.getSizePrefixedRootAsBatchUpdate=function(e,t){return(t||new Fo.Web.RemotePanel.BatchUpdate).__init(e.readInt32(e.position())+e.position(),e)},Fo.Web.RemotePanel.BatchUpdate.prototype.batchType=function(){var e=this.bb.__offset(this.bb_pos,4)
return e?this.bb.readUint8(this.bb_pos+e):Fo.Web.RemotePanel.AnyType.NONE},Fo.Web.RemotePanel.BatchUpdate.prototype.batch=function(e){var t=this.bb.__offset(this.bb_pos,6)
return t?this.bb.__union(e,this.bb_pos+t):null},Fo.Web.RemotePanel.BatchUpdate.startBatchUpdate=function(e){e.startObject(2)},Fo.Web.RemotePanel.BatchUpdate.addBatchType=function(e,t){e.addFieldInt8(0,t,Fo.Web.RemotePanel.AnyType.NONE)},Fo.Web.RemotePanel.BatchUpdate.addBatch=function(e,t){e.addFieldOffset(1,t,0)},Fo.Web.RemotePanel.BatchUpdate.endBatchUpdate=function(e){return e.endObject()},Fo.Web.RemotePanel.BatchUpdate.createBatchUpdate=function(e,t,i){return Fo.Web.RemotePanel.BatchUpdate.startBatchUpdate(e),Fo.Web.RemotePanel.BatchUpdate.addBatchType(e,t),Fo.Web.RemotePanel.BatchUpdate.addBatch(e,i),Fo.Web.RemotePanel.BatchUpdate.endBatchUpdate(e)},Fo.Web.RemotePanel.RootedBatchUpdate=function(){this.bb=null,this.bb_pos=0},Fo.Web.RemotePanel.RootedBatchUpdate.prototype.__init=function(e,t){return this.bb_pos=e,this.bb=t,this},Fo.Web.RemotePanel.RootedBatchUpdate.getRootAsRootedBatchUpdate=function(e,t){return(t||new Fo.Web.RemotePanel.RootedBatchUpdate).__init(e.readInt32(e.position())+e.position(),e)},Fo.Web.RemotePanel.RootedBatchUpdate.getSizePrefixedRootAsRootedBatchUpdate=function(e,t){return(t||new Fo.Web.RemotePanel.RootedBatchUpdate).__init(e.readInt32(e.position())+e.position(),e)},Fo.Web.RemotePanel.RootedBatchUpdate.prototype.batchBuffer=function(e){var t=this.bb.__offset(this.bb_pos,4)
return t?this.bb.readUint8(this.bb.__vector(this.bb_pos+t)+e):0},Fo.Web.RemotePanel.RootedBatchUpdate.prototype.batchBufferLength=function(){var e=this.bb.__offset(this.bb_pos,4)
return e?this.bb.__vector_len(this.bb_pos+e):0},Fo.Web.RemotePanel.RootedBatchUpdate.prototype.batchBufferArray=function(){var e=this.bb.__offset(this.bb_pos,4)
return e?new Uint8Array(this.bb.bytes().buffer,this.bb.bytes().byteOffset+this.bb.__vector(this.bb_pos+e),this.bb.__vector_len(this.bb_pos+e)):null},Fo.Web.RemotePanel.RootedBatchUpdate.startRootedBatchUpdate=function(e){e.startObject(1)},Fo.Web.RemotePanel.RootedBatchUpdate.addBatchBuffer=function(e,t){e.addFieldOffset(0,t,0)},Fo.Web.RemotePanel.RootedBatchUpdate.createBatchBufferVector=function(e,t){e.startVector(1,t.length,1)
for(var i=t.length-1;i>=0;i--)e.addInt8(t[i])
return e.endVector()},Fo.Web.RemotePanel.RootedBatchUpdate.startBatchBufferVector=function(e,t){e.startVector(1,t,1)},Fo.Web.RemotePanel.RootedBatchUpdate.endRootedBatchUpdate=function(e){return e.endObject()},Fo.Web.RemotePanel.RootedBatchUpdate.createRootedBatchUpdate=function(e,t){return Fo.Web.RemotePanel.RootedBatchUpdate.startRootedBatchUpdate(e),Fo.Web.RemotePanel.RootedBatchUpdate.addBatchBuffer(e,t),Fo.Web.RemotePanel.RootedBatchUpdate.endRootedBatchUpdate(e)},Fo.Web.RemotePanel.DataRequestReady=function(){this.bb=null,this.bb_pos=0},Fo.Web.RemotePanel.DataRequestReady.prototype.__init=function(e,t){return this.bb_pos=e,this.bb=t,this},Fo.Web.RemotePanel.DataRequestReady.getRootAsDataRequestReady=function(e,t){return(t||new Fo.Web.RemotePanel.DataRequestReady).__init(e.readInt32(e.position())+e.position(),e)},Fo.Web.RemotePanel.DataRequestReady.getSizePrefixedRootAsDataRequestReady=function(e,t){return(t||new Fo.Web.RemotePanel.DataRequestReady).__init(e.readInt32(e.position())+e.position(),e)},Fo.Web.RemotePanel.DataRequestReady.prototype.memoryId=function(e){var t=this.bb.__offset(this.bb_pos,4)
return t?this.bb.__string(this.bb_pos+t,e):null},Fo.Web.RemotePanel.DataRequestReady.prototype.buffer=function(e){var t=this.bb.__offset(this.bb_pos,6)
return t?this.bb.readUint8(this.bb.__vector(this.bb_pos+t)+e):0},Fo.Web.RemotePanel.DataRequestReady.prototype.bufferLength=function(){var e=this.bb.__offset(this.bb_pos,6)
return e?this.bb.__vector_len(this.bb_pos+e):0},Fo.Web.RemotePanel.DataRequestReady.prototype.bufferArray=function(){var e=this.bb.__offset(this.bb_pos,6)
return e?new Uint8Array(this.bb.bytes().buffer,this.bb.bytes().byteOffset+this.bb.__vector(this.bb_pos+e),this.bb.__vector_len(this.bb_pos+e)):null},Fo.Web.RemotePanel.DataRequestReady.startDataRequestReady=function(e){e.startObject(2)},Fo.Web.RemotePanel.DataRequestReady.addMemoryId=function(e,t){e.addFieldOffset(0,t,0)},Fo.Web.RemotePanel.DataRequestReady.addBuffer=function(e,t){e.addFieldOffset(1,t,0)},Fo.Web.RemotePanel.DataRequestReady.createBufferVector=function(e,t){e.startVector(1,t.length,1)
for(var i=t.length-1;i>=0;i--)e.addInt8(t[i])
return e.endVector()},Fo.Web.RemotePanel.DataRequestReady.startBufferVector=function(e,t){e.startVector(1,t,1)},Fo.Web.RemotePanel.DataRequestReady.endDataRequestReady=function(e){return e.endObject()},Fo.Web.RemotePanel.DataRequestReady.createDataRequestReady=function(e,t,i){return Fo.Web.RemotePanel.DataRequestReady.startDataRequestReady(e),Fo.Web.RemotePanel.DataRequestReady.addMemoryId(e,t),Fo.Web.RemotePanel.DataRequestReady.addBuffer(e,i),Fo.Web.RemotePanel.DataRequestReady.endDataRequestReady(e)},Fo.Web.RemotePanel.RemotePanelUpdate=function(){this.bb=null,this.bb_pos=0},Fo.Web.RemotePanel.RemotePanelUpdate.prototype.__init=function(e,t){return this.bb_pos=e,this.bb=t,this},Fo.Web.RemotePanel.RemotePanelUpdate.getRootAsRemotePanelUpdate=function(e,t){return(t||new Fo.Web.RemotePanel.RemotePanelUpdate).__init(e.readInt32(e.position())+e.position(),e)},Fo.Web.RemotePanel.RemotePanelUpdate.getSizePrefixedRootAsRemotePanelUpdate=function(e,t){return(t||new Fo.Web.RemotePanel.RemotePanelUpdate).__init(e.readInt32(e.position())+e.position(),e)},Fo.Web.RemotePanel.RemotePanelUpdate.prototype.responseId=function(e){var t=this.bb.__offset(this.bb_pos,4)
return t?this.bb.__string(this.bb_pos+t,e):null},Fo.Web.RemotePanel.RemotePanelUpdate.prototype.requestType=function(){var e=this.bb.__offset(this.bb_pos,6)
return e?this.bb.readUint8(this.bb_pos+e):Fo.Web.RemotePanel.RemotePanelUpdateType.NONE},Fo.Web.RemotePanel.RemotePanelUpdate.prototype.request=function(e){var t=this.bb.__offset(this.bb_pos,8)
return t?this.bb.__union(e,this.bb_pos+t):null},Fo.Web.RemotePanel.RemotePanelUpdate.startRemotePanelUpdate=function(e){e.startObject(3)},Fo.Web.RemotePanel.RemotePanelUpdate.addResponseId=function(e,t){e.addFieldOffset(0,t,0)},Fo.Web.RemotePanel.RemotePanelUpdate.addRequestType=function(e,t){e.addFieldInt8(1,t,Fo.Web.RemotePanel.RemotePanelUpdateType.NONE)},Fo.Web.RemotePanel.RemotePanelUpdate.addRequest=function(e,t){e.addFieldOffset(2,t,0)},Fo.Web.RemotePanel.RemotePanelUpdate.endRemotePanelUpdate=function(e){return e.endObject()},Fo.Web.RemotePanel.RemotePanelUpdate.createRemotePanelUpdate=function(e,t,i,n){return Fo.Web.RemotePanel.RemotePanelUpdate.startRemotePanelUpdate(e),Fo.Web.RemotePanel.RemotePanelUpdate.addResponseId(e,t),Fo.Web.RemotePanel.RemotePanelUpdate.addRequestType(e,i),Fo.Web.RemotePanel.RemotePanelUpdate.addRequest(e,n),Fo.Web.RemotePanel.RemotePanelUpdate.endRemotePanelUpdate(e)},Fo.Web.RemotePanel.RemotePanelUpdateResponse=function(){this.bb=null,this.bb_pos=0},Fo.Web.RemotePanel.RemotePanelUpdateResponse.prototype.__init=function(e,t){return this.bb_pos=e,this.bb=t,this},Fo.Web.RemotePanel.RemotePanelUpdateResponse.getRootAsRemotePanelUpdateResponse=function(e,t){return(t||new Fo.Web.RemotePanel.RemotePanelUpdateResponse).__init(e.readInt32(e.position())+e.position(),e)},Fo.Web.RemotePanel.RemotePanelUpdateResponse.getSizePrefixedRootAsRemotePanelUpdateResponse=function(e,t){return(t||new Fo.Web.RemotePanel.RemotePanelUpdateResponse).__init(e.readInt32(e.position())+e.position(),e)},Fo.Web.RemotePanel.RemotePanelUpdateResponse.prototype.responseId=function(e){var t=this.bb.__offset(this.bb_pos,4)
return t?this.bb.__string(this.bb_pos+t,e):null},Fo.Web.RemotePanel.RemotePanelUpdateResponse.prototype.responseJson=function(e){var t=this.bb.__offset(this.bb_pos,6)
return t?this.bb.__string(this.bb_pos+t,e):null},Fo.Web.RemotePanel.RemotePanelUpdateResponse.prototype.responseData=function(e){var t=this.bb.__offset(this.bb_pos,8)
return t?this.bb.readUint8(this.bb.__vector(this.bb_pos+t)+e):0},Fo.Web.RemotePanel.RemotePanelUpdateResponse.prototype.responseDataLength=function(){var e=this.bb.__offset(this.bb_pos,8)
return e?this.bb.__vector_len(this.bb_pos+e):0},Fo.Web.RemotePanel.RemotePanelUpdateResponse.prototype.responseDataArray=function(){var e=this.bb.__offset(this.bb_pos,8)
return e?new Uint8Array(this.bb.bytes().buffer,this.bb.bytes().byteOffset+this.bb.__vector(this.bb_pos+e),this.bb.__vector_len(this.bb_pos+e)):null},Fo.Web.RemotePanel.RemotePanelUpdateResponse.startRemotePanelUpdateResponse=function(e){e.startObject(3)},Fo.Web.RemotePanel.RemotePanelUpdateResponse.addResponseId=function(e,t){e.addFieldOffset(0,t,0)},Fo.Web.RemotePanel.RemotePanelUpdateResponse.addResponseJson=function(e,t){e.addFieldOffset(1,t,0)},Fo.Web.RemotePanel.RemotePanelUpdateResponse.addResponseData=function(e,t){e.addFieldOffset(2,t,0)},Fo.Web.RemotePanel.RemotePanelUpdateResponse.createResponseDataVector=function(e,t){e.startVector(1,t.length,1)
for(var i=t.length-1;i>=0;i--)e.addInt8(t[i])
return e.endVector()},Fo.Web.RemotePanel.RemotePanelUpdateResponse.startResponseDataVector=function(e,t){e.startVector(1,t,1)},Fo.Web.RemotePanel.RemotePanelUpdateResponse.endRemotePanelUpdateResponse=function(e){return e.endObject()},Fo.Web.RemotePanel.RemotePanelUpdateResponse.createRemotePanelUpdateResponse=function(e,t,i,n){return Fo.Web.RemotePanel.RemotePanelUpdateResponse.startRemotePanelUpdateResponse(e),Fo.Web.RemotePanel.RemotePanelUpdateResponse.addResponseId(e,t),Fo.Web.RemotePanel.RemotePanelUpdateResponse.addResponseJson(e,i),Fo.Web.RemotePanel.RemotePanelUpdateResponse.addResponseData(e,n),Fo.Web.RemotePanel.RemotePanelUpdateResponse.endRemotePanelUpdateResponse(e)},Fo.Web.RemotePanel.RemotePanelRequestData=function(){this.bb=null,this.bb_pos=0},Fo.Web.RemotePanel.RemotePanelRequestData.prototype.__init=function(e,t){return this.bb_pos=e,this.bb=t,this},Fo.Web.RemotePanel.RemotePanelRequestData.getRootAsRemotePanelRequestData=function(e,t){return(t||new Fo.Web.RemotePanel.RemotePanelRequestData).__init(e.readInt32(e.position())+e.position(),e)},Fo.Web.RemotePanel.RemotePanelRequestData.getSizePrefixedRootAsRemotePanelRequestData=function(e,t){return(t||new Fo.Web.RemotePanel.RemotePanelRequestData).__init(e.readInt32(e.position())+e.position(),e)},Fo.Web.RemotePanel.RemotePanelRequestData.prototype.memoryId=function(e){var t=this.bb.__offset(this.bb_pos,4)
return t?this.bb.__string(this.bb_pos+t,e):null},Fo.Web.RemotePanel.RemotePanelRequestData.prototype.startPosition=function(){var e=this.bb.__offset(this.bb_pos,6)
return e?this.bb.readInt32(this.bb_pos+e):0},Fo.Web.RemotePanel.RemotePanelRequestData.prototype.length=function(){var e=this.bb.__offset(this.bb_pos,8)
return e?this.bb.readInt32(this.bb_pos+e):0},Fo.Web.RemotePanel.RemotePanelRequestData.startRemotePanelRequestData=function(e){e.startObject(3)},Fo.Web.RemotePanel.RemotePanelRequestData.addMemoryId=function(e,t){e.addFieldOffset(0,t,0)},Fo.Web.RemotePanel.RemotePanelRequestData.addStartPosition=function(e,t){e.addFieldInt32(1,t,0)},Fo.Web.RemotePanel.RemotePanelRequestData.addLength=function(e,t){e.addFieldInt32(2,t,0)},Fo.Web.RemotePanel.RemotePanelRequestData.endRemotePanelRequestData=function(e){return e.endObject()},Fo.Web.RemotePanel.RemotePanelRequestData.createRemotePanelRequestData=function(e,t,i,n){return Fo.Web.RemotePanel.RemotePanelRequestData.startRemotePanelRequestData(e),Fo.Web.RemotePanel.RemotePanelRequestData.addMemoryId(e,t),Fo.Web.RemotePanel.RemotePanelRequestData.addStartPosition(e,i),Fo.Web.RemotePanel.RemotePanelRequestData.addLength(e,n),Fo.Web.RemotePanel.RemotePanelRequestData.endRemotePanelRequestData(e)},Fo.Web.RemotePanel.RemotePanelControlChanged=function(){this.bb=null,this.bb_pos=0},Fo.Web.RemotePanel.RemotePanelControlChanged.prototype.__init=function(e,t){return this.bb_pos=e,this.bb=t,this},Fo.Web.RemotePanel.RemotePanelControlChanged.getRootAsRemotePanelControlChanged=function(e,t){return(t||new Fo.Web.RemotePanel.RemotePanelControlChanged).__init(e.readInt32(e.position())+e.position(),e)},Fo.Web.RemotePanel.RemotePanelControlChanged.getSizePrefixedRootAsRemotePanelControlChanged=function(e,t){return(t||new Fo.Web.RemotePanel.RemotePanelControlChanged).__init(e.readInt32(e.position())+e.position(),e)},Fo.Web.RemotePanel.RemotePanelControlChanged.prototype.definitionName=function(e){var t=this.bb.__offset(this.bb_pos,4)
return t?this.bb.__string(this.bb_pos+t,e):null},Fo.Web.RemotePanel.RemotePanelControlChanged.prototype.controlId=function(){var e=this.bb.__offset(this.bb_pos,6)
return e?this.bb.readInt32(this.bb_pos+e):0},Fo.Web.RemotePanel.RemotePanelControlChanged.prototype.propertyName=function(e){var t=this.bb.__offset(this.bb_pos,8)
return t?this.bb.__string(this.bb_pos+t,e):null},Fo.Web.RemotePanel.RemotePanelControlChanged.prototype.value=function(e){var t=this.bb.__offset(this.bb_pos,10)
return t?this.bb.readUint8(this.bb.__vector(this.bb_pos+t)+e):0},Fo.Web.RemotePanel.RemotePanelControlChanged.prototype.valueLength=function(){var e=this.bb.__offset(this.bb_pos,10)
return e?this.bb.__vector_len(this.bb_pos+e):0},Fo.Web.RemotePanel.RemotePanelControlChanged.prototype.valueArray=function(){var e=this.bb.__offset(this.bb_pos,10)
return e?new Uint8Array(this.bb.bytes().buffer,this.bb.bytes().byteOffset+this.bb.__vector(this.bb_pos+e),this.bb.__vector_len(this.bb_pos+e)):null},Fo.Web.RemotePanel.RemotePanelControlChanged.startRemotePanelControlChanged=function(e){e.startObject(4)},Fo.Web.RemotePanel.RemotePanelControlChanged.addDefinitionName=function(e,t){e.addFieldOffset(0,t,0)},Fo.Web.RemotePanel.RemotePanelControlChanged.addControlId=function(e,t){e.addFieldInt32(1,t,0)},Fo.Web.RemotePanel.RemotePanelControlChanged.addPropertyName=function(e,t){e.addFieldOffset(2,t,0)},Fo.Web.RemotePanel.RemotePanelControlChanged.addValue=function(e,t){e.addFieldOffset(3,t,0)},Fo.Web.RemotePanel.RemotePanelControlChanged.createValueVector=function(e,t){e.startVector(1,t.length,1)
for(var i=t.length-1;i>=0;i--)e.addInt8(t[i])
return e.endVector()},Fo.Web.RemotePanel.RemotePanelControlChanged.startValueVector=function(e,t){e.startVector(1,t,1)},Fo.Web.RemotePanel.RemotePanelControlChanged.endRemotePanelControlChanged=function(e){return e.endObject()},Fo.Web.RemotePanel.RemotePanelControlChanged.createRemotePanelControlChanged=function(e,t,i,n,r){return Fo.Web.RemotePanel.RemotePanelControlChanged.startRemotePanelControlChanged(e),Fo.Web.RemotePanel.RemotePanelControlChanged.addDefinitionName(e,t),Fo.Web.RemotePanel.RemotePanelControlChanged.addControlId(e,i),Fo.Web.RemotePanel.RemotePanelControlChanged.addPropertyName(e,n),Fo.Web.RemotePanel.RemotePanelControlChanged.addValue(e,r),Fo.Web.RemotePanel.RemotePanelControlChanged.endRemotePanelControlChanged(e)},Fo.Web.RemotePanel.RemotePanelConnect=function(){this.bb=null,this.bb_pos=0},Fo.Web.RemotePanel.RemotePanelConnect.prototype.__init=function(e,t){return this.bb_pos=e,this.bb=t,this},Fo.Web.RemotePanel.RemotePanelConnect.getRootAsRemotePanelConnect=function(e,t){return(t||new Fo.Web.RemotePanel.RemotePanelConnect).__init(e.readInt32(e.position())+e.position(),e)},Fo.Web.RemotePanel.RemotePanelConnect.getSizePrefixedRootAsRemotePanelConnect=function(e,t){return(t||new Fo.Web.RemotePanel.RemotePanelConnect).__init(e.readInt32(e.position())+e.position(),e)},Fo.Web.RemotePanel.RemotePanelConnect.prototype.definitionName=function(e){var t=this.bb.__offset(this.bb_pos,4)
return t?this.bb.__string(this.bb_pos+t,e):null},Fo.Web.RemotePanel.RemotePanelConnect.startRemotePanelConnect=function(e){e.startObject(1)},Fo.Web.RemotePanel.RemotePanelConnect.addDefinitionName=function(e,t){e.addFieldOffset(0,t,0)},Fo.Web.RemotePanel.RemotePanelConnect.endRemotePanelConnect=function(e){return e.endObject()},Fo.Web.RemotePanel.RemotePanelConnect.createRemotePanelConnect=function(e,t){return Fo.Web.RemotePanel.RemotePanelConnect.startRemotePanelConnect(e),Fo.Web.RemotePanel.RemotePanelConnect.addDefinitionName(e,t),Fo.Web.RemotePanel.RemotePanelConnect.endRemotePanelConnect(e)},Fo.Web.RemotePanel.RemotePanelRequest=function(){this.bb=null,this.bb_pos=0},Fo.Web.RemotePanel.RemotePanelRequest.prototype.__init=function(e,t){return this.bb_pos=e,this.bb=t,this},Fo.Web.RemotePanel.RemotePanelRequest.getRootAsRemotePanelRequest=function(e,t){return(t||new Fo.Web.RemotePanel.RemotePanelRequest).__init(e.readInt32(e.position())+e.position(),e)},Fo.Web.RemotePanel.RemotePanelRequest.getSizePrefixedRootAsRemotePanelRequest=function(e,t){return(t||new Fo.Web.RemotePanel.RemotePanelRequest).__init(e.readInt32(e.position())+e.position(),e)},Fo.Web.RemotePanel.RemotePanelRequest.prototype.requestType=function(){var e=this.bb.__offset(this.bb_pos,4)
return e?this.bb.readUint8(this.bb_pos+e):Fo.Web.RemotePanel.RemotePanelRequestType.NONE},Fo.Web.RemotePanel.RemotePanelRequest.prototype.request=function(e){var t=this.bb.__offset(this.bb_pos,6)
return t?this.bb.__union(e,this.bb_pos+t):null},Fo.Web.RemotePanel.RemotePanelRequest.startRemotePanelRequest=function(e){e.startObject(2)},Fo.Web.RemotePanel.RemotePanelRequest.addRequestType=function(e,t){e.addFieldInt8(0,t,Fo.Web.RemotePanel.RemotePanelRequestType.NONE)},Fo.Web.RemotePanel.RemotePanelRequest.addRequest=function(e,t){e.addFieldOffset(1,t,0)},Fo.Web.RemotePanel.RemotePanelRequest.endRemotePanelRequest=function(e){return e.endObject()},Fo.Web.RemotePanel.RemotePanelRequest.finishRemotePanelRequestBuffer=function(e,t){e.finish(t)},Fo.Web.RemotePanel.RemotePanelRequest.finishSizePrefixedRemotePanelRequestBuffer=function(e,t){e.finish(t,void 0,!0)},Fo.Web.RemotePanel.RemotePanelRequest.createRemotePanelRequest=function(e,t,i){return Fo.Web.RemotePanel.RemotePanelRequest.startRemotePanelRequest(e),Fo.Web.RemotePanel.RemotePanelRequest.addRequestType(e,t),Fo.Web.RemotePanel.RemotePanelRequest.addRequest(e,i),Fo.Web.RemotePanel.RemotePanelRequest.endRemotePanelRequest(e)}
const zo=Object.freeze({PROPERTY_UPDATE:"PROPERTY_UPDATE",VERSION_MESSAGE:"VERSION_MESSAGE",VI_STATE_UPDATE:"VI_STATE_UPDATE",BATCH_UPDATE:"BATCH_UPDATE"}),$o=Object.freeze(Object.assign({},vn.ServiceStateEnum,{INITIALIZING:"INITIALIZING",INITIALCONNECTION:"INITIALCONNECTION",CONNECTING:"CONNECTING",CONNECTED:"CONNECTED",RECONNECTING:"RECONNECTING"}))
class Uo extends Yr{constructor(e){super(e),this.remoteAddress=e.remoteAddress,this.dcoIndexCache=void 0,this.enableEvents=!0,this.socket=void 0,this.pendingDataRequests=new Map,this.preferredVersion={majorVersion:0,minorVersion:1,patchVersion:0,preReleaseVersion:"preAlpha",versionMetadata:"testMetadata"},this.serverVersion={majorVersion:void 0,minorVersion:void 0,patchVersion:void 0,preReleaseVersion:void 0,versionMetadata:void 0},this.socketCallbacks={open:void 0,message:void 0,close:void 0,error:void 0}}static get MessageTypeEnum(){return zo}static get StateEnum(){return $o}static createPropertyUpdateMessage(e,t,i,n){const r=t.getRemoteBindingInfo(),o={messageType:Wo.PROPERTY_UPDATE,viName:e.viName,dcoIndex:r.dco,data:{value:i}}
return JSON.stringify(o)}static createVersionMessage(e){const t={messageType:Wo.VERSION_MESSAGE,version:e}
return JSON.stringify(t)}static parseWebSocketMessage(e){let t
try{t=JSON.parse(e)}catch(e){Ri.error("Error parsing message: "+e.message),t={}}return t}isValidServiceState(e){return void 0!==Go[e]}initialize(){const e=this
super.initialize(Go.UNINITIALIZED,void 0),e.socketCallbacks.open=function(t){e.socketOpen(t)},e.socketCallbacks.message=function(t){e.socketMessage(t)},e.socketCallbacks.close=function(t){e.socketClose(t)},e.socketCallbacks.error=function(t){e.socketError(t)},e.setServiceState(Go.INITIALIZING)}finishInitializing(){super.finishInitializing(Go.INITIALIZING),this.dcoIndexCache=new Vo(this.getVIModels()),this.setServiceState(Go.READY)}start(){const e=this
super.start(Go.READY),setTimeout(function(){e.setupConnection()},0),e.setServiceState(Go.INITIALCONNECTION)}setupConnection(){this.verifyServiceStateIs([Go.INITIALCONNECTION,Go.RECONNECTING]),this.createSocket(),this.setServiceState(Go.CONNECTING)}stop(){super.stop([Go.CONNECTING,Go.CONNECTED]),this.removeSocket(),this.setServiceState(Go.STOPPED)}socketOpen(){this.verifyServiceStateIs(Go.CONNECTING)
const e=Uo.createVersionMessage(this.preferredVersion)
this.socket.send(e)}socketMessage(e){if(e.data instanceof ArrayBuffer)this.handleRemotePanelUpdate(e.data)
else{let t,i
const n=Uo.parseWebSocketMessage(e.data)
switch(n.messageType){case Wo.VERSION_MESSAGE:this.verifyServiceStateIs(Go.CONNECTING),this.serverVersion=n.version,this.preferredVersion.majorVersion!==this.serverVersion.majorVersion?(Ri.error("HTML Panel cannot connect to server with incompatible version"),this.stop()):this.setServiceState(Go.CONNECTED),this.sendStartVI()
break
case Wo.PROPERTY_UPDATE:this.verifyServiceStateIs(Go.CONNECTED),t=this.dcoIndexCache.getRemoteBindingInfo(n.viName,n.dcoIndex),(i={})[t.prop]=n.data.value,this.dispatchMessageToHTMLPanel(n.viName,t.controlId,i)
break
case Wo.VI_STATE_UPDATE:this.verifyServiceStateIs(Go.CONNECTED),Ri.error("VI State update is not implemented")
break
default:Ri.error("Unknown message format or type: "+e.data),this.setServiceState(Go.ERROR)}}}async handleRemotePanelUpdate(e){const t=new Uint8Array(e),i=new flatbuffers.ByteBuffer(t),n=Fo.Web.RemotePanel.RemotePanelUpdate.getRootAsRemotePanelUpdate(i),r=n.requestType()
let o
if(r===Fo.Web.RemotePanel.RemotePanelUpdateType.SetPropertyValue){const e=n.request(new Fo.Web.RemotePanel.SetPropertyValue)
await this.setGPropertyValueAsync(e.docName(),e.runtimeId(),e.propertyName(),e.propertyJson())}else if(r===Fo.Web.RemotePanel.RemotePanelUpdateType.RootedBatchUpdate){const e=n.request(new Fo.Web.RemotePanel.RootedBatchUpdate).batchBufferArray()
await this.batchUpdate(e)}else if(r===Fo.Web.RemotePanel.RemotePanelUpdateType.DataRequestReady){const e=n.request(new Fo.Web.RemotePanel.DataRequestReady)
this.onBatchDataReady(e.memoryId(),e.bufferArray())}else if(r===Fo.Web.RemotePanel.RemotePanelUpdateType.GetPropertyValue){const e=n.request(new Fo.Web.RemotePanel.GetPropertyValue)
o=await this.getGPropertyValue(e.docName(),e.runtimeId(),e.propertyName())}const a=n.responseId()
null!=a&&0!==a.length&&this.setUpdateResponse(a,o)}async getGPropertyValue(e,t,i){await Jn.waitForFrameUpdate()
try{const n=this.getVIModelByName(e)
return await n.processControlUpdateToGetGPropertyValue(t,i)}catch(e){if(!(e instanceof Vn))throw e}}async setGPropertyValueAsync(e,t,i,n){try{const r=this.getVIModelByName(e)
await r.processControlUpdateToSetGPropertyValueAsync(t,i,JSON.parse(n))}catch(e){if(!(e instanceof Vn))throw e}}setUpdateResponse(e,t){const i=new flatbuffers.Builder(1024),n=i.createString(e)
let r=0
void 0!==t&&(r=i.createString(t.toString()))
const o=Fo.Web.RemotePanel.RemotePanelUpdateResponse.createRemotePanelUpdateResponse(i,n,r,0),a=Fo.Web.RemotePanel.RemotePanelRequest.createRemotePanelRequest(i,Fo.Web.RemotePanel.RemotePanelRequestType.RemotePanelUpdateResponse,o)
i.finish(a)
const s=i.asUint8Array()
this.socket.send(s)}sendStartVI(){const e=new flatbuffers.Builder(1024),t=this.getVIModels(),i=Object.keys(t)[0],n=e.createString(i),r=Fo.Web.RemotePanel.RemotePanelConnect.createRemotePanelConnect(e,n),o=Fo.Web.RemotePanel.RemotePanelRequest.createRemotePanelRequest(e,Fo.Web.RemotePanel.RemotePanelRequestType.RemotePanelConnect,r)
e.finish(o)
const a=e.asUint8Array()
this.socket.send(a)}onBatchDataReady(e,t){const i=e,n=this.pendingDataRequests.get(i)
this.pendingDataRequests.delete(i),n(t)}async makeDataRequest(e,t,i){return new Promise((n,r)=>{const o=e
this.pendingDataRequests.set(o,n)
const a=new flatbuffers.Builder(1024),s=a.createString(e),l=Fo.Web.RemotePanel.RemotePanelRequestData.createRemotePanelRequestData(a,s,t,i),d=Fo.Web.RemotePanel.RemotePanelRequest.createRemotePanelRequest(a,Fo.Web.RemotePanel.RemotePanelRequestType.RemotePanelRequestData,l)
a.finish(d)
const c=a.asUint8Array()
this.socket.send(c)})}async batchUpdate(e){try{const t=new flatbuffers.ByteBuffer(e),i=Fn.Web.Interop.Batch.getRootAsBatch(t),n=i.itemsLength(),r=i.docName()
for(let e=0;e<n;++e){const t=i.items(e),n=t.dataType()
n===Fn.Web.Interop.UpdateData.BatchUpdateFromBuffer?await this.batchUpdateFromBufferAsync(t,r):n===Fn.Web.Interop.UpdateData.BatchUpdateFromOffset?await this.batchUpdateFromOffsetAsync(t,r):n===Fn.Web.Interop.UpdateData.BatchUpdateFromJson&&await this.batchUpdateFromJsonAsync(t,r)}}catch(e){Ri.error(e.toString())}}async batchUpdateFromBufferAsync(e,t){const i=e.propertyName(),n=e.runtimeId(),r=e.data(new Fn.Web.Interop.BatchUpdateFromBuffer),o=r.memoryId(),a=r.position(),s=r.length(),l=(await this.makeDataRequest(o,a,s)).slice(a,s),d=this.getVIModels()[t],c=d.controlModels[n]
c.throwIfPropertyTypeIsUndefined(i)
const h=c.gPropertyNIType(i),u=Rn.GetDataAdaptorFromPackedValue(l,h).unpack()
await d.processControlUpdateToSetGPropertyValueAsync(n,i,u)}async batchUpdateFromOffsetAsync(e,t){const i=e.propertyName(),n=e.runtimeId(),r=e.data(new Fn.Web.Interop.BatchUpdateFromOffset).data(new Fn.Web.Interop.UnknownTable),o=this.getVIModels()[t],a=o.controlModels[n]
a.throwIfPropertyTypeIsUndefined(i)
const s=a.gPropertyNIType(i),l=Rn.GetDataAdaptorFromIndex(r,s).unpack()
await o.processControlUpdateToSetGPropertyValueAsync(n,i,l)}async batchUpdateFromJsonAsync(e,t){const i=e.propertyName(),n=e.runtimeId(),r=e.data(new Fn.Web.Interop.BatchUpdateFromJson).propertyJson(),o=JSON.parse(r),a=this.getVIModels()[t]
await a.processControlUpdateToSetGPropertyValueAsync(n,i,o)}controlChanged(e,t,i,n,r){(t=t.findTopLevelControl()).bindingInfo.prop===i&&""!==t.bindingInfo.dataItem&&(n=t[i])
const o=t.gPropertyNIType(i)
if(void 0!==o){const r=t.niControlId,a=Rn.PackData(n,o),s=new flatbuffers.Builder(1024),l=s.createString(e.viName),d=s.createString(i),c=Fo.Web.RemotePanel.RemotePanelControlChanged.createValueVector(s,a),h=Fo.Web.RemotePanel.RemotePanelControlChanged.createRemotePanelControlChanged(s,l,r,d,c),u=Fo.Web.RemotePanel.RemotePanelRequest.createRemotePanelRequest(s,Fo.Web.RemotePanel.RemotePanelRequestType.RemotePanelControlChanged,h)
s.finish(u)
const p=s.asUint8Array()
this.socket.send(p)}}controlEventOccurred(e,t,i,n){if(null!==this.socket){const r=(t=t.findTopLevelControl()).niControlId,o={messageType:"controlEventOccurred",viName:e.viName,controlId:r,eventType:i,eventData:n},a=JSON.stringify(o)
this.socket.send(a)}}socketClose(){this.reconnect()}socketError(e){Ri.error("Socket Error",e),this.reconnect()}reconnect(){const e=this
e.verifyServiceStateIs([Go.CONNECTING,Go.CONNECTED]),e.removeSocket(),setTimeout(function(){e.setupConnection()},0),e.setServiceState(Go.RECONNECTING)}createSocket(){this.socket=new WebSocket("ws://"+window.location.hostname+this.remoteAddress),this.socket.binaryType="arraybuffer",this.socket.addEventListener("open",this.socketCallbacks.open),this.socket.addEventListener("message",this.socketCallbacks.message),this.socket.addEventListener("close",this.socketCallbacks.close),this.socket.addEventListener("error",this.socketCallbacks.error)}removeSocket(){void 0!==this.socket&&(this.socket.removeEventListener("open",this.socketCallbacks.open),this.socket.removeEventListener("message",this.socketCallbacks.message),this.socket.removeEventListener("close",this.socketCallbacks.close),this.socket.removeEventListener("error",this.socketCallbacks.error),this.socket.close(),this.socket=void 0)}}const Go=Uo.StateEnum,Wo=Uo.MessageTypeEnum,Xo=Object.freeze(Object.assign({},vn.ServiceStateEnum,{INITIALIZING:"INITIALIZING",RUNNING:"RUNNING"}))
class Jo extends Yr{constructor(){super(),this.windowCallbacks={propertyChange:void 0,addElement:void 0,removeElement:void 0},this._isInIdeMode=!1}static get StateEnum(){return Xo}setIdeMode(e){this._isInIdeMode=e}isInIdeMode(){return this._isInIdeMode}isValidServiceState(e){return void 0!==Yo[e]}initialize(){super.initialize(Yo.UNINITIALIZED,void 0),this.setServiceState(Yo.INITIALIZING)}finishInitializing(){super.finishInitializing(Yo.INITIALIZING),this.setServiceState(Yo.READY)}start(){super.start(Yo.READY)
const e=this
e.windowCallbacks.propertyChange=function(t,i,n){e.dispatchMessageToHTMLPanel(t,i,n)},e.windowCallbacks.addElement=function(e,t,i,n,r){const o={}
let a
for(a in e)e.hasOwnProperty(a)&&"kind"!==a&&(o[a]=e[a])
const s=Yr.createNIControlToAddToDOM(o,t,i,n,r)
if(void 0===s.parentElement)throw new Error("Parent element must be defined for the test update service")
s.parentElement.appendChild(s.controlElement)},e.windowCallbacks.removeElement=function(e,t){const i=Yr.findNIControlToRemoveFromDOM(e,t)
i.controlElement.parentNode.removeChild(i.controlElement)},e.setServiceState(Yo.RUNNING)}stop(){super.stop(Yo.RUNNING),this.windowCallbacks.propertyChange=void 0,this.windowCallbacks.addElement=void 0,this.windowCallbacks.removeElement=void 0,this.setServiceState(Yo.STOPPED)}}const Yo=Jo.StateEnum,Qo=vn.ServiceStateEnum,Ko=vn.PanelEngineEnum,Zo=vn.PanelLocationEnum
let ea=0
const ta=Object.freeze({SERVICE:"SERVICE",ELEMENTS:"ELEMENTS"})
class ia extends rr{constructor(e){super(e),this.updateService=void 0,this.initTasks=void 0,Ri.defineConstReference(this,"webAppInstanceId",ea++),this._engine=Ko.VIREO,this._location=Zo.BROWSER,this._vireoSource="",this._wasmUrl="",this._remoteAddress="",this._testMode=!1,this._disableAutoStart=!1,this._serviceState=Qo.UNINITIALIZED,this._maximumErrorMessageCount=100,this._viModels=[],this._vireoInstance=void 0,this._vireoHelpers=void 0}get engine(){return this._engine}set engine(e){this._engine=e,this.notifyModelPropertyChanged("engine")}get location(){return this._location}set location(e){this._location=e,this.notifyModelPropertyChanged("location")}get vireoSource(){return this._vireoSource}set vireoSource(e){this._vireoSource=e,this.notifyModelPropertyChanged("vireoSource")}get wasmUrl(){return this._wasmUrl}set wasmUrl(e){this._wasmUrl=e,this.notifyModelPropertyChanged("wasmUrl")}get remoteAddress(){return this._remoteAddress}set remoteAddress(e){this._remoteAddress=e,this.notifyModelPropertyChanged("remoteAddress")}get testMode(){return this._testMode}set testMode(e){this._testMode=e,this.notifyModelPropertyChanged("testMode")}get disableAutoStart(){return this._disableAutoStart}set disableAutoStart(e){this._disableAutoStart=e,this.notifyModelPropertyChanged("disableAutoStart")}get serviceState(){return this._serviceState}set serviceState(e){this._serviceState=e,this.notifyModelPropertyChanged("serviceState")}get maximumErrorMessageCount(){return this._maximumErrorMessageCount}set maximumErrorMessageCount(e){this._maximumErrorMessageCount=e,this.notifyModelPropertyChanged("maximumErrorMessageCount")}get vireoInstance(){return this._vireoInstance}set vireoInstance(e){this._vireoInstance=e,this.notifyModelPropertyChanged("vireoInstance")}get vireoHelpers(){return this._vireoHelpers}set vireoHelpers(e){this._vireoHelpers=e,this.notifyModelPropertyChanged("vireoHelpers")}static get TasksEnum(){return ta}setServiceState(e){if(!1===this.updateService.isValidServiceState(e))throw new Error("the provided state ("+e+") is not a valid service state")
this.serviceState=e}verifyServiceStateIs(e){let t,i
for(!1===Array.isArray(e)&&(e=[e]),t=0;t<e.length;t+=1){if(i=e[t],!1===this.updateService.isValidServiceState(i))throw new Error("the provided state ("+i+") is not a valid service state")
if(this.serviceState===i)return}throw new Error("ni-web-application update service in state("+this.serviceState+") must be in one of the possible states ("+e.join()+") to continue")}checkServiceStateIs(e){let t,i
for(!1===Array.isArray(e)&&(e=[e]),t=0;t<e.length;t+=1){if(i=e[t],!1===this.updateService.isValidServiceState(i))throw new Error("the provided state ("+i+") is not a valid service state")
if(this.serviceState===i)return!0}return!1}getWebAppServiceStateProvider(){const e=this
return{setServiceState:function(t){e.setServiceState(t)},verifyServiceStateIs:function(t){e.verifyServiceStateIs(t)},checkServiceStateIs:function(t){return e.checkServiceStateIs(t)}}}getVirtualInstrumentModelsProvider(){const e=this
return{getVIModels:function(){return e._viModels}}}getVireoInstanceProvider(){const e=this
return{setVireoInstance:function(t){e.vireoInstance=t},setVireoHelpers:function(t){e.vireoHelpers=t}}}attachVIModel(e){this._viModels[e.viName]=e}detachVIModel(e){this._viModels.indexOf(e)>=0&&this._viModels.splice(this._viModels.indexOf(e),1)}initializeService(){const e=this,t={remoteAddress:e.remoteAddress,vireoSource:e.vireoSource,runningInIDE:e.location===Zo.IDE_RUN,maximumErrorMessageCount:e.maximumErrorMessageCount,wasmUrl:e.wasmUrl},i={}
if(i[Zo.IDE_EDIT]={},i[Zo.IDE_RUN]={},i[Zo.BROWSER]={},i[Zo.IDE_EDIT][Ko.NATIVE]=uo,i[Zo.IDE_RUN][Ko.NATIVE]=io,i[Zo.BROWSER][Ko.NATIVE]=Uo,i[Zo.IDE_EDIT][Ko.VIREO]=uo,i[Zo.IDE_RUN][Ko.VIREO]=Oo,i[Zo.BROWSER][Ko.VIREO]=Oo,void 0!==i[e.location]&&void 0!==i[e.location][e.engine])e.updateService=new i[e.location][e.engine](t)
else{if(!0!==e.testMode)throw new Error("Invalid web app configuration, cannot start a service!")
e.updateService=new Jo(t)}e.verifyServiceStateIs(Qo.UNINITIALIZED),e.updateService.applyWebAppServiceStateProvider(e.getWebAppServiceStateProvider()),e.updateService.applyVirtualInstrumentModelsProvider(e.getVirtualInstrumentModelsProvider()),e.updateService.applyVireoInstanceProvider(e.getVireoInstanceProvider()),e.updateService.isInIdeMode()&&(Gr.popupsEnabled=!1),setTimeout(function(){e.updateService.initialize(e._vireoWasmPath)},0)}start(){this.updateService.start()}stop(){this.updateService.stop()}controlChanged(e,t,i,n,r){void 0!==this.updateService&&this.updateService.controlChanged(e,t,i,n,r)}internalControlEventOccurred(e,t,i,n){void 0!==this.updateService&&this.updateService.internalControlEventOccurred(e,t,i,n)}controlEventOccurred(e,t,i,n){void 0!==this.updateService&&this.updateService.controlEventOccurred(e,t,i,n)}enableEvents(){return void 0!==this.updateService&&this.updateService.enableEvents}isInIdeMode(){return void 0!==this.updateService&&this.updateService.isInIdeMode()}ensureFocus(){void 0!==this.updateService&&this.updateService.ensureFocus()}requestSendControlBounds(){void 0!==this.updateService&&this.updateService.requestSendControlBounds()}reinitializeToDefault(e,t){void 0!==this.updateService&&this.updateService.reinitializeToDefault(e,t)}}const na=vn.ServiceStateEnum,ra=function(){return-1!==window.location.hash.indexOf("niskipsync")}
class oa extends wr{constructor(e,t){if(super(e,t),this.model instanceof ia==!1)throw new Error(Ri.i18n("msg_INVALID_VI_MODEL"))
if(this.element instanceof ha==!1)throw new Error(Ri.i18n("msg_INVALID_ELEMENT"))
this._autoStartOccurred=!1}bindToView(){super.bindToView()
const e=this
Ri.logVerbose("niWebApplicationViewModel bindToView()"),e.element.addEventListener("requested-start",function(t){Ri.logVerbose("niWebApplicationViewModel requested-start"),e.element===t.detail.element&&e.model.start()}),e.element.addEventListener("requested-stop",function(t){Ri.logVerbose("niWebApplicationViewModel requested-stop"),e.element===t.detail.element&&e.model.stop()}),e.model.initializeService()}modelPropertyChanged(e){const t=super.modelPropertyChanged(e),i=this
switch(e){case"serviceState":i.element.serviceState=i.model.serviceState,Ri.logVerbose("niWebApplicationViewModel modelPropertyChanged serviceState="+i.model.serviceState),i.model.checkServiceStateIs(na.READY)&&!1===i.model.disableAutoStart&&!1===i._autoStartOccurred&&(i._autoStartOccurred=!0,i.model.start())
break
case"vireoInstance":i.element.vireoInstance=i.model.vireoInstance
break
case"vireoHelpers":i.element.vireoHelpers=i.model.vireoHelpers}return t}updateModelFromElement(){super.updateModelFromElement()
const e=this.model,t=this.element
e.engine=t.engine,e.location=t.location,e.vireoSource=t.vireoSource,e.wasmUrl=t.wasmUrl,e.remoteAddress=t.remoteAddress,e.testMode=t.testMode,e.disableAutoStart=t.disableAutoStart,e.serviceState=t.serviceState,e.maximumErrorMessageCount=t.maximumErrorMessageCount,ra()&&(e.location="",e.engine="",e.testMode=!0)}}const aa=[]
class sa{static register(e){let t
for(t=0;t<aa.length;t++)if(aa[t].element===e)throw new Error("ViewModel for web application element has already been created")
const i=new ia,n=new oa(e,i)
return n.updateModelFromElement(),i.registerListener(n),n.bindToView(),aa.push(n),n}static unregister(e){let t
for(t=0;t<aa.length;t++)if(aa[t].element===e){aa[t].model.unregisterListener(aa[t]),aa.splice(t,1)
break}}static getModel(e){let t
for(t=0;t<aa.length;t++)if(aa[t].element===e)return aa[t].model}}const la=function(){const e=document.createElement("div")
e.classList.add("ni-execution-buttons-box")
const t=document.createElement("button")
t.textContent="Start",t.type="button",t.classList.add("ni-execution-button","ni-start-button","disabled")
const i=document.createElement("button")
i.textContent="Abort",i.type="button",i.classList.add("ni-execution-button","ni-abort-button","disabled"),e.appendChild(t),e.appendChild(i)
return{uiControls:e,startButton:t,abortButton:i,enableButtons:function(e,n){e?t.classList.remove("disabled"):t.classList.add("disabled"),n?i.classList.remove("disabled"):i.classList.add("disabled")}}},da=function(e,t){"READY"===t?e.enableButtons(!0,!1):"RUNNING"===t||"CONNECTING"===t||"CONNECTED"===t||"LISTENING"===t?e.enableButtons(!1,!0):e.enableButtons(!1,!1)},ca=function(e){"CONNECTED"===e?Ri.info("CONNECTED"):Ri.info("CONNECTING")}
class ha extends Ki{addAllProperties(e){super.addAllProperties(e)
const t=ha.prototype
t.addProperty(e,{propertyName:"engine",defaultValue:""}),t.addProperty(e,{propertyName:"location",defaultValue:""}),t.addProperty(e,{propertyName:"vireoSource",defaultValue:""}),t.addProperty(e,{propertyName:"wasmUrl",defaultValue:""}),t.addProperty(e,{propertyName:"remoteAddress",defaultValue:""}),t.addProperty(e,{propertyName:"testMode",defaultValue:!1}),t.addProperty(e,{propertyName:"disableAutoStart",defaultValue:!1}),t.addProperty(e,{propertyName:"serviceState",defaultValue:vn.ServiceStateEnum.UNINITIALIZED,fireEvent:!0}),t.addProperty(e,{propertyName:"maximumErrorMessageCount",defaultValue:100}),Object.defineProperty(t,"vireoInstance",{get:function(){return this._vireoInstance},set:function(e){this._vireoInstance=e},configurable:!1,enumerable:!0}),Object.defineProperty(t,"vireoHelpers",{get:function(){return this._vireoHelpers},set:function(e){this._vireoHelpers=e},configurable:!1,enumerable:!0})}createdCallback(){super.createdCallback(),this._enableConnectionDialog=!1,this._frontEndElements=void 0,this._vireoInstance=void 0,this._vireoHelpers=void 0,this.serviceState=vn.ServiceStateEnum.UNINITIALIZED}attachedCallback(){const e=super.attachedCallback(),t=this
let i
return Ri.logVerbose("ni-web-application attachedCallback() firstCall="+e+" disableAutoStart="+t.disableAutoStart+" engine="+t.engine+" location="+t.location),sa.register(t),!0===e&&(!1===t.disableAutoStart&&"NATIVE"===t.engine&&"BROWSER"===t.location&&(t._enableConnectionDialog=!0,ca(t.serviceState)),!0===t.disableAutoStart&&((i=la()).startButton.addEventListener("click",function(){!1===i.startButton.classList.contains("disabled")&&t.start()}),i.abortButton.addEventListener("click",function(){!1===i.abortButton.classList.contains("disabled")&&t.stop()}),t._frontEndElements=i,da(t._frontEndElements,t.serviceState),t.appendChild(i.uiControls))),e}propertyUpdated(e){switch(super.propertyUpdated(e),e){case"serviceState":!0===this._enableConnectionDialog&&ca(this.serviceState),!0===this.disableAutoStart&&da(this._frontEndElements,this.serviceState)}}detachedCallback(){sa.unregister(this)}start(){this.dispatchEvent(new CustomEvent("requested-start",{bubbles:!0,cancelable:!0,detail:{element:this}}))}stop(){this.dispatchEvent(new CustomEvent("requested-stop",{bubbles:!0,cancelable:!0,detail:{element:this}}))}}tn.registerElement(ha,Zi.WEBAPP),Ki.defineElementInfo(ha.prototype,"ni-web-application","HTMLNIWebApplication")
var ua=Object.freeze({WebApplication:ha})
const pa=Object.freeze({DEFAULT:"default",ESCAPED:"escaped"})
class ma{static get TextDisplayMode(){return pa}}class fa extends Ki{addAllProperties(e){super.addAllProperties(e)
const t=fa.prototype
t.addProperty(e,{propertyName:"disabled",defaultValue:!1}),t.addProperty(e,{propertyName:"niControlId",defaultValue:""}),t.addProperty(e,{propertyName:"viRef",defaultValue:""}),t.addProperty(e,{propertyName:"followerIds",defaultValue:"[]"})}createdCallback(){super.createdCallback(),this._latestSize={width:void 0,height:void 0},this._temporaryModelSettingsHolder=void 0}attachedCallback(){const e=this
let t
!0!==e._preventModelCreation&&(t=Br.getVIViewModelByVIRef(e.viRef)).attachElementToModelAndViewModel(e)
const i=super.attachedCallback()
return i&&e.addEventListener("resizeEventHack",function(t){const i=parseInt(t.detail.width),n=parseInt(t.detail.height)
e._latestSize.width===i&&e._latestSize.height===n||(e._latestSize.height=n,e._latestSize.width=i,e.forceResize(e._latestSize))}),i}detachedCallback(){const e=this
if(!0!==e._preventModelCreation){Br.getVIViewModelByVIRef(e.viRef).detachElementFromModelAndViewModel(e)}}forceResize(e){}clearInstanceSpecificProperties(){this.niControlId="",this.viRef="",this.followerIds="[]"}static defineElementInfo(e,t,i){Ki.defineElementInfo(e,t,i),e.attachedCallback=this.generateAttachedCallback(e.attachedCallback)}static generateAttachedCallback(e){return function(){const t=this,i=e.apply(t,arguments),n=Br.getVIModelByVIRef(t.viRef),r=n.getControlModel(this.niControlId),o=n.getControlViewModel(this.niControlId)
return!0!==t._preventModelCreation&&(o.bindToView(),!0===o._needsResizeHack&&t.dispatchEvent(new CustomEvent("resizeEventHack",{detail:{width:r.width,height:r.height}}))),i}}}class ga extends fa{addAllProperties(e){super.addAllProperties(e)
const t=ga.prototype
t.addProperty(e,{propertyName:"readOnly",defaultValue:!1}),t.addProperty(e,{propertyName:"bindingInfo",defaultValue:{prop:"",field:"",sync:!1,dco:-1,dataItem:"",accessMode:"",unplacedOrDisabled:!1,isLatched:!1}}),t.addProperty(e,{propertyName:"labelId",defaultValue:""}),t.addProperty(e,{propertyName:"controlResizeMode",defaultValue:""}),t.addProperty(e,{propertyName:"labelAlignment",defaultValue:""})}clearInstanceSpecificProperties(){super.clearInstanceSpecificProperties(),this.bindingInfo={prop:"",field:"",sync:!1,dco:-1,dataItem:"",accessMode:"",unplacedOrDisabled:!1,isLatched:!1},this.labelId=""}setFont(e,t,i,n,r){this.style.fontSize=e,this.style.fontFamily=t,this.style.fontWeight=i,this.style.fontStyle=n,this.style.textDecoration=r}}const va={"\\":"\\\\","\b":"\\b","\f":"\\f","\n":"\\n","\r":"\\r","\t":"\\t"," ":"\\s"},ba={b:"\b",f:"\f",n:"\n",r:"\r",t:"\t",s:" ","\\":"\\"},ya=["0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F"],_a=function(e){return va.hasOwnProperty(e)},wa=function(e){return ya.includes(e)},xa=function(e){return ba.hasOwnProperty(e)},Ca=function(e){const t=parseInt(e,16)
return t<128?String.fromCharCode(t):"?"},Sa=function(e,t){let i=0
return e+1<t.length&&wa(t[e+1])&&(i++,e+2<t.length&&wa(t[e+2])&&i++),i}
class Ta{static toDefaultDisplayMode(e){let t="",i=0,n=""
for(;i<e.length;){if("\\"===e[i]&&i+1<e.length)if(xa(e[i+1]))n=ba[e[i+1]],i+=2
else{const t=Sa(i,e)
if(0===t)n=e[i],i++
else if(1===t){const t=e[i+1]
n=Ca(t),i+=2}else if(2===t){const t=e[i+1]+e[i+2]
n=Ca(t),i+=3}}else n=e[i],i++
t=t.concat(n)}return t}static toEscapedDisplayMode(e){let t=""
for(const i of e){const e=i.charCodeAt(0)
_a(i)?t+=va[i]:e<16?t=t+"\\0"+e.toString(16):e<32||127===e?t=t+"\\"+e.toString(16):t+=i}return t}}const Ia=ma.TextDisplayMode,Ea=function(e,t){return t===Ia.ESCAPED?Ta.toEscapedDisplayMode(e):e},Pa=function(e,t){return t===Ia.ESCAPED?Ta.toDefaultDisplayMode(e):e}
class Da extends ga{addAllProperties(e){super.addAllProperties(e)
const t=Da.prototype
t.addProperty(e,{propertyName:"text",defaultValue:"",fireEvent:!0,addNonSignalingProperty:!0}),t.addProperty(e,{propertyName:"acceptsReturn",defaultValue:!1}),t.addProperty(e,{propertyName:"typeToReplace",defaultValue:!1}),t.addProperty(e,{propertyName:"wordWrap",defaultValue:!1}),t.addProperty(e,{propertyName:"escapedDisplayMode",defaultValue:Ia.DEFAULT}),Ri.setValuePropertyDescriptor(e,"text","text","textNonSignaling","text-changed")}attachedCallback(){const e=super.attachedCallback()
let t
const i=this
let n=!1
return!0===e&&((t=document.createElement("textarea")).classList.add("ni-text-field"),t.value=Pa(this.text,this.escapedDisplayMode),t.readOnly=this.readOnly,t.disabled=this.disabled,t.wrap=this.wordWrap?"soft":"off",t.addEventListener("change",function(){const e=Pa(t.value,i.escapedDisplayMode)
i.text!==e&&(i.text=e)}),t.addEventListener("click",function(){i.typeToReplace&&!n&&(n=!0,t.focus(),t.select())}),t.addEventListener("blur",function(){const e=Pa(t.value,i.escapedDisplayMode)
n=!1,i.text!==e&&(i.text=e)}),t.addEventListener("keydown",function(e){if((!1===i.acceptsReturn||!0===e.ctrlKey)&&13===e.keyCode)return t.blur(),!1}),t.addEventListener("mousedown",function(e){i._isMouseDown=!0}),t.addEventListener("scroll",function(e){i._isScrollingInteractively=i._isMouseDown}),t.addEventListener("mouseup",function(e){i._isScrollingInteractively=!1,i._isMouseDown=!1}),this.innerHTML="",this.appendChild(t)),e}propertyUpdated(e){super.propertyUpdated(e)
const t=this.firstElementChild
switch(e){case"readOnly":t.readOnly=this.readOnly
break
case"text":t.value=Ea(this.text,this.escapedDisplayMode)
break
case"wordWrap":t.wrap=this.wordWrap?"soft":"off"
break
case"disabled":t.disabled=this.disabled
break
case"escapedDisplayMode":t.value=Ea(this.text,this.escapedDisplayMode)}}tryScrollToEnd(){if(void 0===this._isScrollingInteractively||!1===this._isScrollingInteractively){const e=this.querySelector("textarea")
e.scrollTop=e.scrollHeight}}focus(...e){return this.querySelector("textarea").focus(...e)}}tn.registerElement(Da),fa.defineElementInfo(Da.prototype,"ni-string-control","HTMLNIStringControl")
var ka=Object.freeze({StringControl:Da})
JQX("ni-hyperlink",class extends JQX.BaseElement{static get properties(){return{href:{value:"",type:"string"},target:{value:"",type:"string"},content:{value:"",type:"string"}}}template(){return'<a rel="noopener"></a>'}ready(){const e=this
super.ready()
const t=e.firstElementChild
e.disabled||t.setAttribute("href",e.href),t.target=e.target,t.textContent=e.content}propertyChangedHandler(e,t,i){const n=this
super.propertyChangedHandler(e,t,i)
const r=n.firstElementChild
switch(e){case"href":n.disabled||r.setAttribute("href",n.href)
break
case"target":r.target=n.target
break
case"content":r.textContent=n.content
break
case"disabled":n.disabled?r.removeAttribute("href"):r.setAttribute("href",n.href)}}focus(...e){return this.querySelector("a").focus(...e)}})
var Aa=Object.freeze({})
JQX("ni-flexible-layout-container",class extends JQX.BaseElement{static get properties(){return{direction:{value:"row",type:"string",defaultReflectToAttribute:!0},horizontalContentAlignment:{value:"flex-start",type:"string",defaultReflectToAttribute:!0},verticalContentAlignment:{value:"flex-start",type:"string",defaultReflectToAttribute:!0}}}template(){return""}})
var ja=Object.freeze({})
JQX("ni-flexible-layout-group",class extends JQX.BaseElement{template(){return""}})
var Ma=Object.freeze({})
JQX("ni-flexible-layout-component",class extends JQX.BaseElement{static get properties(){return{layoutPattern:{value:"",type:"string",defaultReflectToAttribute:!0}}}template(){return""}})
var Na=Object.freeze({})
JQX("ni-flexible-layout-wrapper",class extends JQX.BaseElement{template(){return""}})
var qa=Object.freeze({})
const Oa=Object.freeze({ABSOLUTE:"absolute",FLEXIBLE:"flexible"})
class Ba extends ga{static get LayoutsEnum(){return Oa}addAllProperties(e){super.addAllProperties(e),Ba.prototype.addProperty(e,{propertyName:"layout",defaultValue:La.ABSOLUTE})}propertyUpdated(e){switch(super.propertyUpdated(e),e){case"layout":this.updateLayoutForChildren()}}updateLayoutForChildren(){if(this.hasChildNodes())for(let e=0;e<this.childNodes.length;++e)this.childNodes[e]instanceof Ba&&(this.childNodes[e].layout=this.layout)}}const La=Ba.LayoutsEnum
class Ra extends Ba{}tn.registerElement(Ra,Zi.CONTAINER),fa.defineElementInfo(Ra.prototype,"ni-front-panel","HTMLNIFrontPanel")
var Ha=Object.freeze({FrontPanel:Ra})
const Va=function(e){return!1===Array.isArray(e)&&"object"==typeof e&&null!==e}
class Fa{static deepCopy(e){let t
if("number"==typeof e||"string"==typeof e||"boolean"==typeof e)return e
if(null==e)return e
if(Array.isArray(e)){const i=[]
for(t=0;t<e.length;t++)i[t]=Fa.deepCopy(e[t])
return i}if(Va(e)){const t={}
let i
for(i in e)e.hasOwnProperty(i)&&(t[i]=Fa.deepCopy(e[i]))
return t}throw new Error("Unsupported type")}static isDeepEqual(e,t){let i,n,r,o,a,s
if("number"==typeof e||"string"==typeof e||"boolean"==typeof e)return e===t
if(null==e)return e===t
if(Array.isArray(e)){if(!1===Array.isArray(t))return!1
if(e.length!==t.length)return!1
for(i=0;i<e.length;i++)if(!1===(n=Fa.isDeepEqual(e[i],t[i])))return!1
return!0}if(Va(e)){if(!1===Va(t))return!1
for(r in a=0,e)if(e.hasOwnProperty(r)){if(!1===t.hasOwnProperty(r))return!1
if(!1===(n=Fa.isDeepEqual(e[r],t[r])))return!1
a++}for(o in s=0,t)t.hasOwnProperty(o)&&s++
return a===s}throw new Error("Unsupported type")}}const za={},$a=za,Ua=/\\{2,}/
$a.UserColumnDataFieldPrefix="__",$a.TreeHierarchyPathDelimiter="\\",$a.getJqxDataFieldName=function(e){return"__"+e},$a.ensureValidSelection=function(e,t,i){if("string"==typeof i&&(i=[i.trim()]),null==i||i.every(e=>""===e))return[]
const n=t.map(t=>$a.sanitizePath(t[e])),r=i.map(e=>$a.sanitizePath(e)).filter(e=>void 0!==e&&(""===e||n.some(t=>t&&t.startsWith(e))))
return r.length===i.length?r:void 0},$a.isValidArrayForTreeDataSource=function(e){return!!Array.isArray(e)&&(0===e.length||e.every(e=>{if("object"!=typeof e||null===e)return!1
for(const t in e)if(e.hasOwnProperty(t)&&"string"!=typeof e[t])return!1
return!0}))},$a.arrayAsJqxTreeGridSource=function(e,t){if(!$a.isValidArrayForTreeDataSource(e))throw new TypeError("Invalid array")
const i=NationalInstruments.Globals.jQuery,n={datatype:"array",datafields:[{name:"id",type:"string"},{name:"parentid",type:"string"},{name:"caption",type:"string"},{name:"explicit",type:"bool"}],hierarchy:{keyDataField:{name:"id"},parentDataField:{name:"parentid"}},id:"id"}
let r
if(0===e.length)return(r=new i.jqx.dataAdapter(n)).columns=[],{dataAdapter:r,pathsToIdsMap:new Map}
const o=$a.expandDataSource(e,t),a=Object.keys(e[0])
for(let e=0;e<a.length;e++){const t=a[e]
n.datafields.push({name:$a.getJqxDataFieldName(t),type:"string"})}return n.localdata=o.dataSource,{dataAdapter:r=new i.jqx.dataAdapter(n),pathsToIdsMap:o.pathsToIdsMap}},$a.sanitizePath=function(e){if(void 0!==(e=e&&e.trim())&&""!==e&&!0!==Ua.test(e))return e.replace(/^\\|\\$/g,"")},$a.expandDataSource=function(e,t){const i=new Map
i.set("",0)
let n=1
const r=new Map
return e.forEach(e=>{!function(e,r){const o=$a.sanitizePath(e[t])
if(void 0===o)return
const a=o.split("\\")
let s=""
for(let l=0;l<a.length;l++){const d=l===a.length-1,c=a.slice(0,l+1).join("\\")
i.has(c)||i.set(c,n++)
const h={id:i.get(c),parentid:i.get(s),caption:a[l],explicit:d,explicitPath:o}
if(s=c,d){const t=Object.keys(e)
for(let i=0;i<t.length;i++)h[$a.getJqxDataFieldName(t[i])]=e[t[i]]}h[$a.getJqxDataFieldName(t)]=c
const u=r.get(c);(void 0===u||!u.explicit&&h.explicit)&&r.set(c,h)}}(e,r)}),{dataSource:Array.from(r.values()),pathsToIdsMap:i}},$a.getPathSpecifierForType=function(e){if(void 0!==e&&e.isArray()&&e.getSubtype().isCluster())return e.getSubtype().getFields()[0]},$a.getDefaultRecordForType=function(e){const t=e.getSubtype().getFields(),i={}
return t.forEach(e=>{i[e]=""}),i},$a.getRecordsFromPaths=function(e,t,i){const n=$a.getPathSpecifierForType(e)
return i.map(i=>{const r=$a.sanitizePath(i),o=t.find(e=>$a.sanitizePath(e[n])===r)
return Object.assign($a.getDefaultRecordForType(e),o,{[n]:r})})}
const Ga=Object.freeze({ZERO_OR_ONE:"ZeroOrOne",ONE:"One",ZERO_OR_MORE:"ZeroOrMore",ONE_OR_MORE:"OneOrMore"})
class Wa{static get SelectionModeEnum(){return Ga}}const Xa=Wa.SelectionModeEnum
class Ja{static convertNIToJQXSelectionMode(e){switch(e){case Xa.ONE:return"singlerow"
case Xa.ZERO_OR_MORE:return"multiplerows"
default:throw new Error("Selection mode is not supported: "+e)}}static convertJQXToNISelectionMode(e){switch(e){case"singlerow":return Xa.ONE
case"multiplerows":return Xa.ZERO_OR_MORE
default:throw new Error("Selection mode is not supported: "+e)}}}const Ya=NationalInstruments.Globals.jQuery,Qa=Wa.SelectionModeEnum,Ka=function(e){const t=document.createRange()
t.selectNodeContents(e)
const i=window.getSelection()
i.removeAllRanges(),i.addRange(t)},Za=Object.freeze({LEFT:37,UP:38,RIGHT:39,DOWN:40})
JQX("ni-tree",class extends JQX.BaseElement{static get properties(){return{allowSelection:{value:!1,type:"boolean",observer:"_allowSelectionChangeHandler"},selectionMode:{value:Qa.ONE,type:"string",observer:"_selectionModeChangeHandler"},columnHeaders:{value:[],type:"array",validator:"_columnHeadersValidator",observer:"_columnHeadersChangeHandler"},columnHeaderVisible:{value:!1,type:"boolean",observer:"_columnHeaderVisibleChangeHandler"},columnWidths:{value:[],type:"array",observer:"_columnWidthsChangeHandler"},dataSource:{value:[],type:"any",notify:!0,reflectToAttribute:!1,validator:"_dataSourceValidator",observer:"_dataSourceChangeHandler"},niType:{value:"",type:"string",observer:"_niTypeChangeHandler"},selectedData:{value:[],readOnly:!0,type:"array"},selection:{value:[],type:"array"}}}static get listeners(){return{resize:"_resizeHandler"}}template(){return"<div style='width: 100%; height: 100%'></div>"}ready(){const e=this
super.ready(),e.childDiv=e.firstElementChild,e.jqref=Ya(e.childDiv),e.jqref.jqxTreeGrid({width:"100%",height:"100%",pageable:!1,altRows:!0,autoRowHeight:!1,enableBrowserSelection:!0,columnsResize:!0,touchMode:!1,selectionMode:Ja.convertNIToJQXSelectionMode(e.selectionMode),showHeader:e.columnHeaderVisible,localization:{emptydatastring:""},handleKeyboardNavigation:function(t){if(!e.allowSelection&&(t===Za.UP||t===Za.DOWN||t===Za.LEFT||t===Za.RIGHT))return!0}}),e.childDiv.classList.remove("jqx-grid"),e._expandedParents=new Set,e._pathsToIdsMap=new Map,e._columnHeadersChangeHandler(void 0,e.columnHeaders),e._niTypeChangeHandler(void 0,e.niType),e._setDataSource(e.dataSource),e.jqref.on("bindingComplete",t=>{e._refreshFolding()}),e.jqref.on("rowExpand",t=>e._rowExpansionChangeHandler(t)),e.jqref.on("rowCollapse",t=>e._rowExpansionChangeHandler(t)),e.jqref.on("rowSelect",t=>e._interactiveSelectionChangeHandler(t)),e.jqref.on("rowUnselect",t=>e._interactiveSelectionChangeHandler(t)),e.jqref.on("rowDoubleClick",t=>{e.allowSelection||Ka(t.args.originalEvent.target)}),e.addEventListener("keydown",function(t){if(void 0!==e.jqref&&e.allowSelection&&0===e.selection.length&&void 0!==e._dataSourceAdapter&&e._dataSourceAdapter.records.length>0&&t.key&&("ArrowUp"===t.key||"ArrowDown"===t.key||"Up"===t.key||"Down"===t.key)&&(e.selectionIsChanging=!0,e.jqref.jqxTreeGrid("selectRow",e._dataSourceAdapter.records[0].id),delete e.selectionIsChanging),(t.ctrlKey||t.metaKey)&&t.key&&"a"===t.key.toLowerCase()&&e.jqref.jqxTreeGrid("selectionMode")!==Ja.convertNIToJQXSelectionMode(Qa.ZERO_OR_MORE)){const i=e.querySelector("table")
null!==i&&(Ka(i),t.preventDefault())}}),e.addEventListener("focus",function(t){t.target===e&&(e.childDiv.focus(),t.cancelable&&t.preventDefault())})
const t=function(e){2===e.button&&e.stopPropagation()}
e.addEventListener("mousedown",t,!0),e.addEventListener("mouseup",t,!0),e.updateColumnsHeight(),e.jqref.on("columnResized",t=>e._columnResizeHandler(t))}_allowSelectionChangeHandler(e,t){this.jqref.jqxTreeGrid({selectionMode:Ja.convertNIToJQXSelectionMode(this.selectionMode)}),!1===t&&this.clearSelection()}_selectionModeChangeHandler(e,t){this.jqref.jqxTreeGrid({selectionMode:Ja.convertNIToJQXSelectionMode(t)}),0!==this.selection.length&&t===Qa.ONE&&(this.selection=[this.selection[0]])}_columnHeadersChangeHandler(e,t){this._updateColumns()}_columnHeadersValidator(e,t){return t.map(e=>void 0!==e&&e.length>0?e:" ")}_columnHeaderVisibleChangeHandler(e,t){this._updateTreeAndPreserveSelectionAndScrollOffset(()=>{this.jqref.jqxTreeGrid({showHeader:t}),this.jqref.jqxTreeGrid("render")})}_columnWidthsChangeHandler(e,t){this._columnWidths=t,this._updateColumns()}_dataSourceChangeHandler(e,t){Fa.isDeepEqual(e,t)||this._setDataSource(t)}_niTypeChangeHandler(e,t){if(this._niTypeInstance=""!==t?new window.NIType(t):void 0,void 0!==(i=this._niTypeInstance)&&i.isArray()&&i.getSubtype().isCluster()&&i.getSubtype().getSubtype().every(e=>e.getName()===window.NITypeNames.STRING)){this._updateColumns()
const e=za.getPathSpecifierForType(this._niTypeInstance),t=void 0!==this._dataSourceAdapter
this._pathFieldName=e,this._pathDataFieldName=za.getJqxDataFieldName(e),t&&this._setDataSource(this.dataSource)}var i}updateColumnsHeight(){const e=parseInt(window.getComputedStyle(this.querySelector("div.jqx-grid-header")).height,10)
this.jqref.jqxTreeGrid({columnsHeight:e})}collapse(e){this._safeChangeFolding(()=>{e=za.sanitizePath(e)
const t=this._pathsToIdsMap.get(e)
this._safeCallJqxTreeGridMethod("collapseRow",t),this._expandedParents.delete(e)},!1)}collapseAll(){this._safeChangeFolding(()=>{this._safeCallJqxTreeGridMethod("collapseAll"),this._expandedParents.clear()},!1)}expand(e){this._safeChangeFolding(()=>{const t=this._pathsToIdsMap.get(e)
this._expandSubtreeToChild(t,!0)},!1)}expandAll(){this._safeChangeFolding(()=>{this._safeCallJqxTreeGridMethod("expandAll"),this._expandedParents=new Set(Array.from(this._pathsToIdsMap.keys()).filter(e=>""!==e))},!1)}_safeChangeFolding(e,t){const i=this.updating
i||this.jqref.jqxTreeGrid("beginUpdate"),e(),i||this.jqref.jqxTreeGrid("endUpdate"),t&&this._notifyFoldingChanged()}get columnWidths(){return this._columnWidths||["auto"]}set columnWidths(e){const t=this._columnWidths||[],i=e||[]
Fa.isDeepEqual(t!==i)||(this._columnWidths=i,this._updateColumns())}get selectedData(){return void 0!==this._niTypeInstance?za.getRecordsFromPaths(this._niTypeInstance,this.dataSource,this.selection):[]}get selection(){let e
return void 0!==this.jqref&&(e=this.jqref.jqxTreeGrid("getSelection")),this.allowSelection&&void 0!==e?e.some(e=>void 0===e)?this._selection:e.map(e=>e&&e[this._pathDataFieldName]):[]}set selection(e){if(e=za.ensureValidSelection(this._pathFieldName,this.dataSource,e)||[],void 0!==this.jqref){const t=this.jqref.jqxTreeGrid("getSelection").filter(e=>void 0!==e).map(e=>e.id),i=e.map(e=>{const t=this._pathsToIdsMap.get(e)
return void 0!==t?t.toString():void 0}).filter(e=>void 0!==e)
t.sort(),i.sort(),Fa.isDeepEqual(t,i)||(this.selectionIsChanging=!0,this.jqref.jqxTreeGrid("dataview").update(),this.jqref.jqxTreeGrid("clearSelection"),this.allowSelection&&e.forEach(e=>{const t=this._pathsToIdsMap.get(e)
this.jqref.jqxTreeGrid("selectRow",t)}),delete this.selectionIsChanging)}this._selection=e}revealRows(e){e.forEach(e=>{const t=this._pathsToIdsMap.get(e)
void 0!==t&&this._expandSubtreeToChild(t)}),this.jqref.jqxTreeGrid("ensureRowVisible",this._pathsToIdsMap.get(e[0]))}clearSelection(){this.selection=[]}_updateColumns(){if(void 0===this._niTypeInstance)return
this._safeCallJqxTreeGridMethod("beginUpdate")
const e=this._niTypeInstance.getSubtype().getFields().length,t=[...this.columnWidths.slice(0,e),...Array(Math.max(0,e-this.columnWidths.length)).fill(100)],i=[...this.columnHeaders.slice(0,e),...Array(Math.max(0,e-this.columnHeaders.length)).fill(" ")],n=[],r=this._niTypeInstance.getSubtype().getFields()
this._columnDataFields=[]
for(let e=0;e<r.length;e++){const o=0===e?"caption":za.getJqxDataFieldName(r[e]),a={text:i[e],width:t[e],datafield:o,renderer:function(e,t,i){return'<div style="overflow: hidden; text-overflow: ellipsis; text-align: '+t+'; margin: 4px;"><span style="text-overflow: ellipsis; cursor: default;">'+Ri.escapeHtml(e)+"</span></div>"}}
this._columnDataFields.push(o),n.push(a)}this._updateTreeAndPreserveSelectionAndScrollOffset(()=>{this.jqref.jqxTreeGrid({columns:n})}),this._safeCallJqxTreeGridMethod("endUpdate")}_dataSourceValidator(e,t){if("string"==typeof t&&this.properties.dataSource.isUpdatingFromAttribute)try{t=JSON.parse(t)}catch(t){return e}return za.isValidArrayForTreeDataSource(t)?t:e}_setDataSource(e){if(void 0!==e&&void 0!==this._pathFieldName){let t=0
const i=this._dataSourceAdapter
void 0!==i&&(t=i.records.length)
const n=za.arrayAsJqxTreeGridSource(e,this._pathFieldName),r=n.dataAdapter
let o=0
void 0!==r._source.localdata&&(o=r._source.localdata.length)
let a=0===t||t!==o
if(!a){let e
for(e=0;e<o&&i.records[e][this._pathDataFieldName]===r._source.localdata[e][this._pathDataFieldName];e++);if(e===o){for(e=0;e<o;e++){const t=i.records[e],n=r._source.localdata[e]
if(!Fa.isDeepEqual(t,n)){const e=this.jqref.jqxTreeGrid("getRow",n.id)
for(let i=1;i<this._columnDataFields.length;i++){const r=this._columnDataFields[i]
t[r]=n[r],e[r]=n[r]}}}this.jqref.jqxTreeGrid("_renderrows")}else a=!0}a&&this._updateTreeAndPreserveSelectionAndScrollOffset(()=>{this._pathsToIdsMap=n.pathsToIdsMap,this._dataSourceAdapter=r,this.jqref.jqxTreeGrid({source:r})})}}_updateTreeAndPreserveSelectionAndScrollOffset(e){const t=this.selection,i=this.jqref.jqxTreeGrid("scrollOffset")
e(),this.selection=t.filter(e=>this._pathsToIdsMap.has(e)),this._expandedParents=new Set(Array.from(this._expandedParents).filter(e=>this._pathsToIdsMap.has(e)))
const n=this.querySelector("div.jqx-scrollbar")
if(null!=n){"hidden"===window.getComputedStyle(n).visibility&&(i.top=0)}this.jqref.jqxTreeGrid("scrollOffset",i.top,i.left)}_resizeHandler(){void 0!==this.jqref&&this.offsetWidth>0&&this.offsetHeight>0&&this.jqref.jqxTreeGrid({width:this.offsetWidth,height:this.offsetHeight})}_columnResizeHandler(e){const t=this.jqref.jqxTreeGrid("columns"),i=t.records.findIndex(t=>t.datafield===e.args.dataField)
if(i>=0){const n=t.length(),r=[...this.columnWidths,...Array(Math.max(0,n-this.columnWidths.length)).fill(100)]
r[i]=e.args.newWidth,this._columnWidths=r,this.dispatchEvent(new CustomEvent("columnsResized",{detail:{newWidths:this._columnWidths}}))}}_interactiveSelectionChangeHandler(e){const t=this
if(!0!==t.selectionIsChanging){if("clearingSelection"===e.args.reason)return
if(!t.allowSelection)return void t.jqref.jqxTreeGrid("clearSelection")
if(!Fa.isDeepEqual(t.selection,t._selection)){const e=t.selection
t.dispatchEvent(new CustomEvent("selectionChange",{detail:{newSelection:e,oldSelection:t._selection||[],selectedData:t.selectedData}})),t._selection=e}}}_refreshFolding(){this.foldingIsChanging=!0,this.jqref.jqxTreeGrid("collapseAll"),this._expandedParents.forEach(e=>{const t=this._pathsToIdsMap.get(e)
void 0!==t&&this.jqref.jqxTreeGrid("expandRow",t)}),delete this.foldingIsChanging}_rowExpansionChangeHandler(e){const t=e.type,i=e.args.row
"rowExpand"===t?this._expandedParents.add(i[this._pathDataFieldName]):this._expandedParents.delete(i[this._pathDataFieldName]),this.foldingIsChanging||this._notifyFoldingChanged(t,i[this._pathDataFieldName])}_notifyFoldingChanged(e,t){const i={newFolding:Array.from(this._expandedParents),changeType:e||"programmatic"}
"programmatic"!==i.changeType&&(i.path=t,i.data=za.getRecordsFromPaths(this._niTypeInstance,this.dataSource,[t])[0]),this.dispatchEvent(new CustomEvent("foldingChanged",{detail:i}))}_traverseParentsToRoot(e,t){let i=e
for(;void 0!==i&&null!==i.parent;)t(i.parent),i=i.parent}_traverseSubtreenDepthFirst(e,t){const i=e,n=i.records
n&&n.forEach(e=>this._traverseSubtreenDepthFirst(e,t)),t(i)}_expandSubtreeToChild(e,t){if(void 0===this.jqref||void 0===e)return
let i=this.jqref.jqxTreeGrid("getRow",e)
for(void 0!==i&&!0!==t&&(i=i.parent);null!=i;)this.jqref.jqxTreeGrid("expandRow",i.id),this._expandedParents.add(i[this._pathDataFieldName]),i=i.parent}_safeCallJqxTreeGridMethod(e,t){if(void 0!==this.jqref)return this.jqref.jqxTreeGrid(e,t)}propertyChangedHandler(e,t,i){super.propertyChangedHandler(e,t,i)
const n=this
switch(e){case"disabled":n.jqref.jqxTreeGrid("disabled",n.disabled)}}focus(...e){return this.childDiv.focus(...e)}})
var es=Object.freeze({})
const ts=Wa.SelectionModeEnum
class is{static convertNIToJQXSelectionMode(e){switch(e){case ts.ONE:return"one"
case ts.ZERO_OR_MORE:return"extended"
default:throw new Error("Selection mode is not supported: "+e)}}static convertJQXToNISelectionMode(e){switch(e){case"one":return ts.ONE
case"extended":return ts.ZERO_OR_MORE
default:throw new Error("Selection mode is not supported: "+e)}}}const ns=Wa.SelectionModeEnum,rs=function(e){return e instanceof MouseEvent&&e.buttons>0&&1!=(1&e.buttons)}
JQX("ni-tree-grid",class extends JQX.Grid{static get properties(){return{selectionMode:{value:ns.ONE,type:"string",observer:"_selectionModeChangeHandler"},columnHeaders:{value:[],type:"array",validator:"_columnHeadersValidator",observer:"_columnHeadersChangeHandler"},columnWidths:{value:[],type:"array",observer:"_columnWidthsChangeHandler"},niDataSource:{value:[],type:"any",notify:!0,reflectToAttribute:!1,validator:"_niDataSourceValidator",observer:"_niDataSourceChangeHandler"},niType:{value:"",type:"string",observer:"_niTypeChangeHandler"},selectedData:{value:[],readOnly:!0,type:"array"},selectedPaths:{value:[],type:"array"},columnHeaderVisible:{value:!1,type:"boolean"}}}constructor(){super(),this._foldingIsChanging=!1,this._selectedPaths=[],this._selectedPathsSet=new Set,this._disabledPaths=[],this._disabledPathsSet=new Set,this._expandedParents=new Set,this.pathsToIdsMap=new Map,this._selectionIsChanging=!1,this._columnWidthsChanging=!1,this._rowHeightChanging=!1,this._isInFullDataSourceUpdate=!1,this._deferRefreshUntilAttach=!1,this._hasRenderedPromise=new Promise(e=>{this._hasRenderedPromiseResolve=e})}ready(){const e=window.getComputedStyle(this)
this.appearance.placeholder="",this.appearance.allowHover=!0,this.appearance.allowHeaderHover=!1,this.appearance.alternationCount=2,this.behavior.columnResizeMode="growAndShrink",this.layout.columnMinHeight=null
let t=parseInt(e.getPropertyValue("--ni-tree-min-row-height"));(isNaN(t)||t<10)&&(t=10),this.layout.rowMinHeight=t,this.selection.tabKeyBehavior="none",this.selection.mode=is.convertNIToJQXSelectionMode(this.selectionMode),this.columnHeader.visible=this.columnHeaderVisible,this.clipboard.enabled=!1,this.touchVelocityCoefficient=100,this.touchScrollRatio=1,this.onInit=(()=>{if(void 0!==this._hasRenderedPromiseResolve){const e=this._hasRenderedPromiseResolve
this._hasRenderedPromiseResolve=void 0,window.requestAnimationFrame(()=>{e()})}}),super.ready(),this.addEventListener("change",()=>this._interactiveSelectionChangeHandler()),this.addEventListener("rowExpand",e=>this._rowExpansionChangeHandler(e)),this.addEventListener("rowCollapse",e=>this._rowExpansionChangeHandler(e)),this.addEventListener("cellClick",e=>this._cellAndColumnClickHandler(e)),this.addEventListener("columnClick",e=>this._cellAndColumnClickHandler(e)),this.addEventListener("cellDoubleClick",e=>this._cellDoubleClickHandler(e)),this.addEventListener("columnResize",e=>this._columnResizeHandler(e))
const i=function(e){if(rs(e)){e.currentTarget.thumbCapture=!1}}
this.$.verticalScrollBar.addEventListener("mousedown",i,!0),this.$.horizontalScrollBar.addEventListener("mousedown",i,!0),this.onRowInit=((e,t)=>{const i=t.data[this.pathDataFieldName]
t.selected=this._selectedPathsSet.has(i),t.expanded=this._expandedParents.has(i),this.selection.enabled?t.allowSelect=!this._disabledPathsSet.has(i)||null:t.allowSelect=!0}),this._niTypeChangeHandler("",this.niType),this._niDataSourceChangeHandler([],this.niDataSource)}addDefaultClass(){super.addDefaultClass(),this.classList.add("jqx-grid")}async waitForInitialRender(){await this._hasRenderedPromise}_refreshLayout(){this._deferUpdates||super._refreshLayout()}_recycle(e,t){this._deferUpdates||super._recycle(e,t)}refresh(e){this._deferUpdates||(this._isInFullDataSourceUpdate&&(e=!0),super.refresh(e))}attached(){super.attached(),this._deferRefreshUntilAttach&&this.isReady&&(this._deferRefreshUntilAttach=!1,this.refresh(!0))}detached(){const e=this.isInitialized
super.detached(),this.isReady&&e&&(this._deferRefreshUntilAttach=!0)}propertyChangedHandler(e,t,i){switch(e){case"columnHeaderVisible":this.columnHeader.visible=i,super.propertyChangedHandler("columnHeader_visible",t,i)
break
case"columnHeaders":case"columnWidths":case"niDataSource":case"niType":case"selectionMode":case"selectedData":case"selectedPaths":break
case"selection_enabled":super.propertyChangedHandler(e,t,i),!1===i&&(this.selectedPaths=[])
break
default:super.propertyChangedHandler(e,t,i)}}onKey(e){if(this.isInitialized&&e.key&&this.selection.enabled)if("ArrowUp"===e.key||"ArrowDown"===e.key||"Up"===e.key||"Down"===e.key){const t=this.getSelection()
if((!t.rows||0===t.rows.length)&&void 0!==this.dataSourceAdapter&&this.rows.length>0){const t=this.rows.find(e=>e.allowSelect&&e.cells.length>0)
void 0!==t&&(t.selected=!0,t.cells[0].focused=!0,this._interactiveSelectionChangeHandler(),e.preventDefault())}}else if(e.ctrlKey||e.metaKey)if("a"===e.key.toLowerCase()&&this.selectionMode===ns.ZERO_OR_MORE)this._selectAllRows(!0),e.preventDefault()
else if("c"===e.key.toLowerCase()){const e=this.rows.filter(e=>e.selected&&e.element&&e.element.getAttribute("data-id")===e.id.toString())
if(e.length>0){let t=e[0].index,i=0
for(let n=1;n<e.length&&t+1===e[n].index;n++)t++,i=n
!function(e,t){const i=window.getSelection()
i.removeAllRanges()
const n=document.createRange()
n.setStartBefore(e),n.setEndAfter(t),i.addRange(n)}(e[0].element,e[i].element)}}}get _deferUpdates(){return!this.isInitialized||this._deferRefreshUntilAttach||!this.isReady||Boolean(this._isUpdating)}_cellAndColumnClickHandler(){const e=window.getSelection()
null!==e.anchorNode&&this.contains(e.anchorNode)&&e.removeAllRanges()}_cellDoubleClickHandler(e){this.selection.enabled||function(e){const t=window.getSelection()
t.removeAllRanges()
const i=document.createRange()
i.selectNodeContents(e),t.addRange(i)}(e.detail.originalEvent.target)}_columnDownResizeHandler(e){e.originalEvent&&rs(e.originalEvent)||super._columnDownResizeHandler(e)}_columnResizeHandler(e){const t=e.detail.column.index
if(t>=0){const i=this.columns.length,n=[...this.columnWidths,...Array(Math.max(0,i-this.columnWidths.length)).fill(100)]
n[t]=e.detail.width,this._columnWidthsChanging=!0,this.columnWidths=n,this._columnWidthsChanging=!1,this.dispatchEvent(new CustomEvent("columnsResized",{detail:{newWidths:this.columnWidths}}))}}_selectionModeChangeHandler(e,t){this.selection.mode=is.convertNIToJQXSelectionMode(t),0!==this.selectedPaths.length&&t===ns.ONE&&(this.selectedPaths=[this.selectedPaths[0]])}_columnHeadersChangeHandler(e,t){this.updateColumns()}_columnHeadersValidator(e,t){return t.map(e=>void 0!==e&&e.length>0?e:" ")}_columnWidthsChangeHandler(e,t){this._columnWidthsChanging||this.updateColumns()}notifyStyleChanged(){const e={"font-size":{value:window.getComputedStyle(this).fontSize}}
this._rowHeightChanging=!0,this._styleChangedHandler({detail:{styleProperties:e}}),this._rowHeightChanging=!1}_styleChangedHandler(e){const t=Object.keys(e.detail.styleProperties)
1===t.length&&0===t.indexOf("font-size")&&!this._rowHeightChanging||super._styleChangedHandler(e)}_interactiveSelectionChangeHandler(){if(!0!==this._selectionIsChanging){const e=(this.getSelection().rows||[]).map(e=>e.row.data[this.pathDataFieldName])
if(!Fa.isDeepEqual(e,this._selectedPaths)){const t=this._selectedPaths||[]
this._selectedPaths=e,this._selectedPathsSet=new Set(e),this.dispatchEvent(new CustomEvent("selectionChange",{detail:{newSelection:e,oldSelection:t,selectedData:this.selectedData}}))}}}_refreshFolding(){this._foldingIsChanging=!0,this.collapseAllRows(),this._expandedParents.forEach(e=>{const t=this.pathsToIdsMap.get(e)
void 0!==t&&this.expandRow(t)}),this._foldingIsChanging=!1}_niTypeChangeHandler(e,t){if(this._niTypeInstance=""!==t?new window.NIType(t):void 0,void 0!==(i=this._niTypeInstance)&&i.isArray()&&i.getSubtype().isCluster()&&i.getSubtype().getSubtype().every(e=>e.getName()===window.NITypeNames.STRING)){this.updateColumns()
const e=za.getPathSpecifierForType(this._niTypeInstance),t=void 0!==this.dataSourceAdapter
this.pathFieldName=e,this.pathDataFieldName=za.getJqxDataFieldName(e),t&&this.setDataSource(this.niDataSource)}var i}_niDataSourceChangeHandler(e,t){Fa.isDeepEqual(e,t)||this.setDataSource(t)}_niDataSourceValidator(e,t){if("string"==typeof t)try{t=JSON.parse(t)}catch(t){return e}return za.isValidArrayForTreeDataSource(t)?t:e}get selectedData(){return void 0!==this._niTypeInstance?za.getRecordsFromPaths(this._niTypeInstance,this.niDataSource,this.selectedPaths):[]}get selectedPaths(){return this._selectedPaths}set selectedPaths(e){let t=za.ensureValidSelection(this.pathFieldName,this.niDataSource,e)||[]
if(this.selection.enabled||(t=[]),!this._isInFullDataSourceUpdate&&!this._deferUpdates){const e=this.getSelection()
let i=[]
void 0!==e&&null!==e.rows&&(i=e.rows.filter(e=>void 0!==e).map(e=>e.id))
const n=t.map(e=>{const t=this.pathsToIdsMap.get(e)
return void 0!==t?t.toString():void 0}).filter(e=>void 0!==e)
i.sort(),n.sort(),Fa.isDeepEqual(i,n)||(this._selectionIsChanging=!0,this.clearSelection(),t.forEach(e=>{const t=this.pathsToIdsMap.get(e)
this.select(t)}),this._selectionIsChanging=!1)}this._selectedPaths=t,this._selectedPathsSet=new Set(t)}get disabledItems(){return this._disabledPaths}set disabledItems(e){const t=za.ensureValidSelection(this.pathFieldName,this.niDataSource,e)||[],i=new Set(t)
if(!this._isInFullDataSourceUpdate&&!this._deferUpdates){const e=this.rows.filter(e=>null===e.allowSelect).map(e=>e.id)
this.selection.enabled&&(e.sort(),t.sort(),Fa.isDeepEqual(e,t)||this._batchUpdate(()=>{this.rows.forEach(e=>{const t=e.data[this.pathDataFieldName]
e.allowSelect=!i.has(t)||null})}))}this._disabledPaths=t,this._disabledPathsSet=i}revealRows(e){e.forEach(e=>{const t=this.pathsToIdsMap.get(e)
void 0!==t&&this._expandSubtreeToChild(t)}),this.ensureVisible(this.pathsToIdsMap.get(e[0]))}setDataSource(e){if(this.isReady&&void 0!==e&&void 0!==this.pathFieldName){const t=this.dataSourceAdapter,i=void 0===t?0:t.dataSource.length,n=class{static arrayAsJqxGridSource(e,t){if(!za.isValidArrayForTreeDataSource(e))throw new TypeError("Invalid array")
const i={id:"id",keyDataField:"id",parentDataField:"parentid",dataFields:["id:number","parentid:number","caption:string"],observable:!1}
let n
if(0===e.length)return{dataAdapter:n=new JQX.DataAdapter(i),pathsToIdsMap:new Map}
const r=za.expandDataSource(e,t),o=Object.keys(e[0])
for(let e=0;e<o.length;e++){const t=za.getJqxDataFieldName(o[e])
i.dataFields.push(`${t}:string`)}return i.dataSource=r.dataSource,{dataAdapter:n=new JQX.DataAdapter(i),pathsToIdsMap:r.pathsToIdsMap}}}.arrayAsJqxGridSource(e,this.pathFieldName),r=n.dataAdapter,o=void 0===r?0:r.dataSource.length
if(0===i||i!==o||this._deferUpdates)this._renderFullDataUpdate(n)
else{let e
for(e=0;e<o&&t.dataSource[e][this.pathDataFieldName]===r.dataSource[e][this.pathDataFieldName];e++);e===o?this._renderPartialDataUpdate(t,r,o):this._renderFullDataUpdate(n)}}}_renderPartialDataUpdate(e,t,i){for(let n=0;n<i;n++){const i=e.dataSource[n],r=t.dataSource[n]
if(!Fa.isDeepEqual(i,r)){const e=this.rowById[r.id].data
for(let t=1;t<this.columnDataFields.length;t++){const i=this.columnDataFields[t]
e[i]=r[i]}}}this.refreshView()}_renderFullDataUpdate(e){const t=this.selectedPaths,i=this.disabledItems
this._isInFullDataSourceUpdate=!0,this.beginUpdate(),this.isInitialized&&null!==this.getSelection().rows&&(this._selectionIsChanging=!0,this.clearSelection(),this._selectionIsChanging=!1),this.pathsToIdsMap=e.pathsToIdsMap,this.dataSourceAdapter=e.dataAdapter,this.dataSource=e.dataAdapter
const n=t.filter(e=>this.pathsToIdsMap.has(e))
Fa.isDeepEqual(t,n)||(this.selectedPaths=n,this.dispatchEvent(new CustomEvent("selectionCoerced",{detail:{selection:n}})))
const r=i.filter(e=>this.pathsToIdsMap.has(e))
Fa.isDeepEqual(i,r)||(this.disabledItems=r,this.dispatchEvent(new CustomEvent("disabledItemsCoerced",{detail:{disabledItems:r}}))),this._expandedParents=new Set(Array.from(this._expandedParents).filter(e=>this.pathsToIdsMap.has(e))),this.endUpdate(!0),this._isInFullDataSourceUpdate=!1}updateColumns(){if(void 0===this._niTypeInstance)return
const e=this._niTypeInstance.getSubtype().getFields().length,t=[...this.columnWidths.slice(0,e),...Array(Math.max(0,e-this.columnWidths.length)).fill(100)],i=[...this.columnHeaders.slice(0,e),...Array(Math.max(0,e-this.columnHeaders.length)).fill(" ")],n=this._niTypeInstance.getSubtype().getFields()
this.columnDataFields=[]
const r=[]
for(let e=0;e<n.length;e++){const o=0===e?"caption":za.getJqxDataFieldName(n[e]),a={label:i[e],width:isNaN(parseFloat(t[e]))?null:parseFloat(t[e]),dataField:o}
this.columnDataFields.push(o),r.push(a)}this.columns=r,null===this.dataSource||this._deferUpdates||this._renderColumns()}_rowExpansionChangeHandler(e){const t=e.type,i=e.detail.row.data
"rowExpand"===t?this._expandedParents.add(i[this.pathDataFieldName]):this._expandedParents.delete(i[this.pathDataFieldName]),!0!==this._foldingIsChanging&&this._notifyFoldingChanged(t,i[this.pathDataFieldName])}expand(e){this._batchUpdate(()=>{const t=this.pathsToIdsMap.get(e)
this._expandSubtreeToChild(t,!0)})}expandAll(){this._batchUpdate(()=>{this.expandAllRows(),this._expandedParents=new Set(this.rows.map(e=>e.data[this.pathDataFieldName]))})}_expandSubtreeToChild(e,t){if(void 0===e)return
let i=this.rowById[e]
for(void 0!==i&&!0!==t&&(i=i.parent);null!=i;)this.expandRow(i.id),this._expandedParents.add(i.data[this.pathDataFieldName]),i=i.parent}collapse(e){this._batchUpdate(()=>{e=za.sanitizePath(e)
const t=this.pathsToIdsMap.get(e)
this.collapseRow(t),this._expandedParents.delete(e)})}collapseAll(){this._batchUpdate(()=>{this.collapseAllRows(),this._expandedParents.clear()})}_selectAllRows(e){this._batchUpdate(()=>{this.rows.forEach(e=>{const t=e.data[this.pathDataFieldName]
this._disabledPathsSet.has(t)||(e.selected=!0)})}),e&&this._interactiveSelectionChangeHandler()}_batchUpdate(e){this.beginUpdate(),e(),this.endUpdate()}_notifyFoldingChanged(e,t){const i={newFolding:Array.from(this._expandedParents),changeType:e||"programmatic"}
"programmatic"!==i.changeType&&(i.path=t,i.data=za.getRecordsFromPaths(this._niTypeInstance,this.niDataSource,[t])[0]),this.dispatchEvent(new CustomEvent("foldingChanged",{detail:i}))}})
var os=Object.freeze({}),as={}
as.Offset,as.Table,as.SIZEOF_SHORT=2,as.SIZEOF_INT=4,as.FILE_IDENTIFIER_LENGTH=4,as.Encoding={UTF8_BYTES:1,UTF16_STRING:2},as.int32=new Int32Array(2),as.float32=new Float32Array(as.int32.buffer),as.float64=new Float64Array(as.int32.buffer),as.isLittleEndian=1===new Uint16Array(new Uint8Array([1,0]).buffer)[0],as.Long=function(e,t){this.low=0|e,this.high=0|t},as.Long.create=function(e,t){return 0==e&&0==t?as.Long.ZERO:new as.Long(e,t)},as.Long.prototype.toFloat64=function(){return(this.low>>>0)+4294967296*this.high},as.Long.prototype.equals=function(e){return this.low==e.low&&this.high==e.high},as.Long.ZERO=new as.Long(0,0),as.Builder=function(e){if(e)t=e
else var t=1024
this.bb=as.ByteBuffer.allocate(t),this.space=t,this.minalign=1,this.vtable=null,this.vtable_in_use=0,this.isNested=!1,this.object_start=0,this.vtables=[],this.vector_num_elems=0,this.force_defaults=!1},as.Builder.prototype.forceDefaults=function(e){this.force_defaults=e},as.Builder.prototype.dataBuffer=function(){return this.bb},as.Builder.prototype.asUint8Array=function(){return this.bb.bytes().subarray(this.bb.position(),this.bb.position()+this.offset())},as.Builder.prototype.prep=function(e,t){e>this.minalign&&(this.minalign=e)
for(var i=1+~(this.bb.capacity()-this.space+t)&e-1;this.space<i+e+t;){var n=this.bb.capacity()
this.bb=as.Builder.growByteBuffer(this.bb),this.space+=this.bb.capacity()-n}this.pad(i)},as.Builder.prototype.pad=function(e){for(var t=0;t<e;t++)this.bb.writeInt8(--this.space,0)},as.Builder.prototype.writeInt8=function(e){this.bb.writeInt8(this.space-=1,e)},as.Builder.prototype.writeInt16=function(e){this.bb.writeInt16(this.space-=2,e)},as.Builder.prototype.writeInt32=function(e){this.bb.writeInt32(this.space-=4,e)},as.Builder.prototype.writeInt64=function(e){this.bb.writeInt64(this.space-=8,e)},as.Builder.prototype.writeFloat32=function(e){this.bb.writeFloat32(this.space-=4,e)},as.Builder.prototype.writeFloat64=function(e){this.bb.writeFloat64(this.space-=8,e)},as.Builder.prototype.addInt8=function(e){this.prep(1,0),this.writeInt8(e)},as.Builder.prototype.addInt16=function(e){this.prep(2,0),this.writeInt16(e)},as.Builder.prototype.addInt32=function(e){this.prep(4,0),this.writeInt32(e)},as.Builder.prototype.addInt64=function(e){this.prep(8,0),this.writeInt64(e)},as.Builder.prototype.addFloat32=function(e){this.prep(4,0),this.writeFloat32(e)},as.Builder.prototype.addFloat64=function(e){this.prep(8,0),this.writeFloat64(e)},as.Builder.prototype.addFieldInt8=function(e,t,i){(this.force_defaults||t!=i)&&(this.addInt8(t),this.slot(e))},as.Builder.prototype.addFieldInt16=function(e,t,i){(this.force_defaults||t!=i)&&(this.addInt16(t),this.slot(e))},as.Builder.prototype.addFieldInt32=function(e,t,i){(this.force_defaults||t!=i)&&(this.addInt32(t),this.slot(e))},as.Builder.prototype.addFieldInt64=function(e,t,i){!this.force_defaults&&t.equals(i)||(this.addInt64(t),this.slot(e))},as.Builder.prototype.addFieldFloat32=function(e,t,i){(this.force_defaults||t!=i)&&(this.addFloat32(t),this.slot(e))},as.Builder.prototype.addFieldFloat64=function(e,t,i){(this.force_defaults||t!=i)&&(this.addFloat64(t),this.slot(e))},as.Builder.prototype.addFieldOffset=function(e,t,i){(this.force_defaults||t!=i)&&(this.addOffset(t),this.slot(e))},as.Builder.prototype.addFieldStruct=function(e,t,i){t!=i&&(this.nested(t),this.slot(e))},as.Builder.prototype.nested=function(e){if(e!=this.offset())throw new Error("FlatBuffers: struct must be serialized inline.")},as.Builder.prototype.notNested=function(){if(this.isNested)throw new Error("FlatBuffers: object serialization must not be nested.")},as.Builder.prototype.slot=function(e){this.vtable[e]=this.offset()},as.Builder.prototype.offset=function(){return this.bb.capacity()-this.space},as.Builder.growByteBuffer=function(e){var t=e.capacity()
if(3221225472&t)throw new Error("FlatBuffers: cannot grow buffer beyond 2 gigabytes.")
var i=t<<1,n=as.ByteBuffer.allocate(i)
return n.setPosition(i-t),n.bytes().set(e.bytes(),i-t),n},as.Builder.prototype.addOffset=function(e){this.prep(as.SIZEOF_INT,0),this.writeInt32(this.offset()-e+as.SIZEOF_INT)},as.Builder.prototype.startObject=function(e){this.notNested(),null==this.vtable&&(this.vtable=[]),this.vtable_in_use=e
for(var t=0;t<e;t++)this.vtable[t]=0
this.isNested=!0,this.object_start=this.offset()},as.Builder.prototype.endObject=function(){if(null==this.vtable||!this.isNested)throw new Error("FlatBuffers: endObject called without startObject")
this.addInt32(0)
for(var e=this.offset(),t=this.vtable_in_use-1;t>=0&&0==this.vtable[t];t--);for(var i=t+1;t>=0;t--)this.addInt16(0!=this.vtable[t]?e-this.vtable[t]:0)
this.addInt16(e-this.object_start)
var n=(i+2)*as.SIZEOF_SHORT
this.addInt16(n)
var r=0,o=this.space
e:for(t=0;t<this.vtables.length;t++){var a=this.bb.capacity()-this.vtables[t]
if(n==this.bb.readInt16(a)){for(var s=as.SIZEOF_SHORT;s<n;s+=as.SIZEOF_SHORT)if(this.bb.readInt16(o+s)!=this.bb.readInt16(a+s))continue e
r=this.vtables[t]
break}}return r?(this.space=this.bb.capacity()-e,this.bb.writeInt32(this.space,r-e)):(this.vtables.push(this.offset()),this.bb.writeInt32(this.bb.capacity()-e,this.offset()-e)),this.isNested=!1,e},as.Builder.prototype.finish=function(e,t){if(t){var i=t
if(this.prep(this.minalign,as.SIZEOF_INT+as.FILE_IDENTIFIER_LENGTH),i.length!=as.FILE_IDENTIFIER_LENGTH)throw new Error("FlatBuffers: file identifier must be length "+as.FILE_IDENTIFIER_LENGTH)
for(var n=as.FILE_IDENTIFIER_LENGTH-1;n>=0;n--)this.writeInt8(i.charCodeAt(n))}this.prep(this.minalign,as.SIZEOF_INT),this.addOffset(e),this.bb.setPosition(this.space)},as.Builder.prototype.requiredField=function(e,t){var i=this.bb.capacity()-e,n=i-this.bb.readInt32(i)
if(!(0!=this.bb.readInt16(n+t)))throw new Error("FlatBuffers: field "+t+" must be set")},as.Builder.prototype.startVector=function(e,t,i){this.notNested(),this.vector_num_elems=t,this.prep(as.SIZEOF_INT,e*t),this.prep(i,e*t)},as.Builder.prototype.endVector=function(){return this.writeInt32(this.vector_num_elems),this.offset()},as.Builder.prototype.createString=function(e){if(e instanceof Uint8Array)var t=e
else{t=[]
for(var i=0;i<e.length;){var n,r=e.charCodeAt(i++)
if(r<55296||r>=56320)n=r
else n=(r<<10)+e.charCodeAt(i++)+-56613888
n<128?t.push(n):(n<2048?t.push(n>>6&31|192):(n<65536?t.push(n>>12&15|224):t.push(n>>18&7|240,n>>12&63|128),t.push(n>>6&63|128)),t.push(63&n|128))}}this.addInt8(0),this.startVector(1,t.length,1),this.bb.setPosition(this.space-=t.length)
i=0
for(var o=this.space,a=this.bb.bytes();i<t.length;i++)a[o++]=t[i]
return this.endVector()},as.Builder.prototype.createLong=function(e,t){return as.Long.create(e,t)},as.ByteBuffer=function(e){this.bytes_=e,this.position_=0},as.ByteBuffer.allocate=function(e){return new as.ByteBuffer(new Uint8Array(e))},as.ByteBuffer.prototype.bytes=function(){return this.bytes_},as.ByteBuffer.prototype.position=function(){return this.position_},as.ByteBuffer.prototype.setPosition=function(e){this.position_=e},as.ByteBuffer.prototype.capacity=function(){return this.bytes_.length},as.ByteBuffer.prototype.readInt8=function(e){return this.readUint8(e)<<24>>24},as.ByteBuffer.prototype.readUint8=function(e){return this.bytes_[e]},as.ByteBuffer.prototype.readInt16=function(e){return this.readUint16(e)<<16>>16},as.ByteBuffer.prototype.readUint16=function(e){return this.bytes_[e]|this.bytes_[e+1]<<8},as.ByteBuffer.prototype.readInt32=function(e){return this.bytes_[e]|this.bytes_[e+1]<<8|this.bytes_[e+2]<<16|this.bytes_[e+3]<<24},as.ByteBuffer.prototype.readUint32=function(e){return this.readInt32(e)>>>0},as.ByteBuffer.prototype.readInt64=function(e){return new as.Long(this.readInt32(e),this.readInt32(e+4))},as.ByteBuffer.prototype.readUint64=function(e){return new as.Long(this.readUint32(e),this.readUint32(e+4))},as.ByteBuffer.prototype.readFloat32=function(e){return as.int32[0]=this.readInt32(e),as.float32[0]},as.ByteBuffer.prototype.readFloat64=function(e){return as.int32[as.isLittleEndian?0:1]=this.readInt32(e),as.int32[as.isLittleEndian?1:0]=this.readInt32(e+4),as.float64[0]},as.ByteBuffer.prototype.writeInt8=function(e,t){this.bytes_[e]=t},as.ByteBuffer.prototype.writeUint8=function(e,t){this.bytes_[e]=t},as.ByteBuffer.prototype.writeInt16=function(e,t){this.bytes_[e]=t,this.bytes_[e+1]=t>>8},as.ByteBuffer.prototype.writeUint16=function(e,t){this.bytes_[e]=t,this.bytes_[e+1]=t>>8},as.ByteBuffer.prototype.writeInt32=function(e,t){this.bytes_[e]=t,this.bytes_[e+1]=t>>8,this.bytes_[e+2]=t>>16,this.bytes_[e+3]=t>>24},as.ByteBuffer.prototype.writeUint32=function(e,t){this.bytes_[e]=t,this.bytes_[e+1]=t>>8,this.bytes_[e+2]=t>>16,this.bytes_[e+3]=t>>24},as.ByteBuffer.prototype.writeInt64=function(e,t){this.writeInt32(e,t.low),this.writeInt32(e+4,t.high)},as.ByteBuffer.prototype.writeUint64=function(e,t){this.writeUint32(e,t.low),this.writeUint32(e+4,t.high)},as.ByteBuffer.prototype.writeFloat32=function(e,t){as.float32[0]=t,this.writeInt32(e,as.int32[0])},as.ByteBuffer.prototype.writeFloat64=function(e,t){as.float64[0]=t,this.writeInt32(e,as.int32[as.isLittleEndian?0:1]),this.writeInt32(e+4,as.int32[as.isLittleEndian?1:0])},as.ByteBuffer.prototype.getBufferIdentifier=function(){if(this.bytes_.length<this.position_+as.SIZEOF_INT+as.FILE_IDENTIFIER_LENGTH)throw new Error("FlatBuffers: ByteBuffer is too short to contain an identifier.")
for(var e="",t=0;t<as.FILE_IDENTIFIER_LENGTH;t++)e+=String.fromCharCode(this.readInt8(this.position_+as.SIZEOF_INT+t))
return e},as.ByteBuffer.prototype.__offset=function(e,t){var i=e-this.readInt32(e)
return t<this.readInt16(i)?this.readInt16(i+t):0},as.ByteBuffer.prototype.__union=function(e,t){return e.bb_pos=t+this.readInt32(t),e.bb=this,e},as.ByteBuffer.prototype.__string=function(e,t){e+=this.readInt32(e)
var i=this.readInt32(e),n="",r=0
if(e+=as.SIZEOF_INT,t===as.Encoding.UTF8_BYTES)return this.bytes_.subarray(e,e+i)
for(;r<i;){var o,a=this.readUint8(e+r++)
if(a<192)o=a
else{var s=this.readUint8(e+r++)
if(a<224)o=(31&a)<<6|63&s
else{var l=this.readUint8(e+r++)
if(a<240)o=(15&a)<<12|(63&s)<<6|63&l
else o=(7&a)<<18|(63&s)<<12|(63&l)<<6|63&this.readUint8(e+r++)}}o<65536?n+=String.fromCharCode(o):(o-=65536,n+=String.fromCharCode(55296+(o>>10),56320+(1023&o)))}return n},as.ByteBuffer.prototype.__indirect=function(e){return e+this.readInt32(e)},as.ByteBuffer.prototype.__vector=function(e){return e+this.readInt32(e)+as.SIZEOF_INT},as.ByteBuffer.prototype.__vector_len=function(e){return this.readInt32(e+this.readInt32(e))},as.ByteBuffer.prototype.__has_identifier=function(e){if(e.length!=as.FILE_IDENTIFIER_LENGTH)throw new Error("FlatBuffers: file identifier must be length "+as.FILE_IDENTIFIER_LENGTH)
for(var t=0;t<as.FILE_IDENTIFIER_LENGTH;t++)if(e.charCodeAt(t)!=this.readInt8(this.position_+as.SIZEOF_INT+t))return!1
return!0},as.ByteBuffer.prototype.createLong=function(e,t){return as.Long.create(e,t)},window.flatbuffers=as
var ss=Object.freeze({})
const ls=window.NITypes,ds={value:!0,interval:!0,minimum:!0,maximum:!0}
class cs extends Ar{constructor(e){super(e),this.niType=ls.DOUBLE,this._minimum=0,this._maximum=10,this._interval=1,this._value=0,this._significantDigits=2,this._precisionDigits=-1,this._format="floating point"}static get MAXIMUM_G_PROPERTY_NAME(){return"Maximum"}static get MINIMUM_G_PROPERTY_NAME(){return"Minimum"}static get INTERVAL_G_PROPERTY_NAME(){return"Interval"}get minimum(){return this._minimum}set minimum(e){this._minimum=e,this.notifyModelPropertyChanged("minimum")}get maximum(){return this._maximum}set maximum(e){this._maximum=e,this.notifyModelPropertyChanged("maximum")}get interval(){return this._interval}set interval(e){this._interval=e,this.notifyModelPropertyChanged("interval")}get value(){return this._value}set value(e){this._value=e,this.notifyModelPropertyChanged("value")}get significantDigits(){return this._significantDigits}set significantDigits(e){this._significantDigits=e,this.notifyModelPropertyChanged("significantDigits")}get precisionDigits(){return this._precisionDigits}set precisionDigits(e){this._precisionDigits=e,this.notifyModelPropertyChanged("precisionDigits")}get format(){return this._format}set format(e){this._format=e,this.notifyModelPropertyChanged("format")}modelPropertyUsesNIType(e){return!0===ds[e]}controlChanged(e){const t=this.value
this.value=e,super.controlChanged("value",e,t)}gPropertyNIType(e){switch(e){case cs.MINIMUM_G_PROPERTY_NAME:case cs.MAXIMUM_G_PROPERTY_NAME:case cs.INTERVAL_G_PROPERTY_NAME:return this.niType}return super.gPropertyNIType(e)}}class hs extends Ar{gPropertyNIType(e){switch(e){case Ar.VISIBLE_G_PROPERTY_NAME:return window.NITypes.BOOLEAN
default:return super.gPropertyNIType(e)}}}class us extends cs{constructor(e){super(e),this._scaleVisible=!0,this._majorTicksVisible=!0,this._minorTicksVisible=!0,this._labelsVisible=!0,this._coercionMode=!1,this._rangeDivisionsMode="auto",this._mechanicalAction="switchWhileDragging",this._numericScaleModel=void 0}static get SCALE_G_PROPERTY_NAME(){return"Scale"}static get SCALE_RUNTIME_ID(){return"NumericScale_RuntimeId"}get scaleModel(){return this._numericScaleModel}get scaleVisible(){return this._scaleVisible}set scaleVisible(e){this._scaleVisible=e,this.notifyModelPropertyChanged("scaleVisible")}get majorTicksVisible(){return this._majorTicksVisible}set majorTicksVisible(e){this._majorTicksVisible=e,this.notifyModelPropertyChanged("majorTicksVisible")}get minorTicksVisible(){return this._minorTicksVisible}set minorTicksVisible(e){this._minorTicksVisible=e,this.notifyModelPropertyChanged("minorTicksVisible")}get labelsVisible(){return this._labelsVisible}set labelsVisible(e){this._labelsVisible=e,this.notifyModelPropertyChanged("labelsVisible")}get coercionMode(){return this._coercionMode}set coercionMode(e){this._coercionMode=e,this.notifyModelPropertyChanged("coercionMode")}get rangeDivisionsMode(){return this._rangeDivisionsMode}set rangeDivisionsMode(e){this._rangeDivisionsMode=e,this.notifyModelPropertyChanged("rangeDivisionsMode")}get mechanicalAction(){return this._mechanicalAction}set mechanicalAction(e){this._mechanicalAction=e,this.notifyModelPropertyChanged("mechanicalAction")}gPropertyNIType(e){return e===us.SCALE_RUNTIME_ID?window.NITypes.INT32:super.gPropertyNIType(e)}createNumericScaleModel(e){this._numericScaleModel=new hs(e)}getNumericScaleModel(){return this._numericScaleModel}}class ps extends us{constructor(e){super(e),this._scaleArc={startAngle:0,sweepAngle:180}}get scaleArc(){return this._scaleArc}set scaleArc(e){this._scaleArc=e,this.notifyModelPropertyChanged("scaleArc")}}class ms extends ps{constructor(e){super(e),this._analogDisplayType="needle",this._digitalDisplayVisible=!1,this._digitalDisplayPosition="bottom"}static get MODEL_KIND(){return"niGauge"}get analogDisplayType(){return this._analogDisplayType}set analogDisplayType(e){this._analogDisplayType=e,this.notifyModelPropertyChanged("analogDisplayType")}get digitalDisplayVisible(){return this._digitalDisplayVisible}set digitalDisplayVisible(e){this._digitalDisplayVisible=e,this.notifyModelPropertyChanged("digitalDisplayVisible")}get digitalDisplayPosition(){return this._digitalDisplayPosition}set digitalDisplayPosition(e){this._digitalDisplayPosition=e,this.notifyModelPropertyChanged("digitalDisplayPosition")}}cr.registerModel(ms)
const fs=window.NIType,gs=window.NITypes
class vs{static convertNITypeToJQX(e){return e.isComplex()?"complex":e.isFloat()?"floatingPoint":"integer"}static convertJQXTypeToNI(e){let t,i
return"integer"===e.inputFormat||"integer"===e.scaleType?(i=e.wordLength.replace(/(u?i)/,function(e){return e.toUpperCase()}),t=new fs(JSON.stringify(i))):t="floatingPoint"===e.inputFormat||"floatingPoint"===e.scaleType?gs.DOUBLE:gs.COMPLEXDOUBLE,t}static convert(e,t){return e.toString()}static convertBack(e,t){return void 0===t||t.isInteger()&&!1===t.is64BitInteger()?parseInt(e):t.isFloat()?parseFloat(e):(t.is64BitInteger()||t.isComplex(),e.toString())}}const bs=function(e){const t=window.getComputedStyle(e.element)
return{left:parseInt(t.left),top:parseInt(t.top),width:parseInt(t.width),height:parseInt(t.height)}}
class ys extends Ir{constructor(e,t){super(e,t),this.registerAutoSyncProperty("labelId"),this.registerAutoSyncProperty("controlResizeMode"),this.registerAutoSyncProperty("labelAlignment")}static get INVALID_PROPERTY_VALUE_ERROR_CODE(){return 1077}bindFocusEventListener(){const e=this,t=function(t){return function(i){const n=i.target,r=n instanceof HTMLTextAreaElement||n instanceof HTMLInputElement&&"button"!==n.type
e.model.internalControlEventOccurred("Focus",{isFocused:t,isTextEdit:r})}}
e.element.addEventListener("focus",t(!0),!0),e.element.addEventListener("blur",t(!1),!0)}getReadOnlyPropertyName(){return"readOnly"}computeReadOnlyForElement(){return!this.model.isInIdeMode()&&this.model.readOnly}bindToView(){super.bindToView()
const e=this
!0===e.enableEvents()&&e.element.addEventListener("mousedown",function(t){const i={x:t.clientX,y:t.clientY,buttons:t.buttons,count:t.detail,ctrlKey:t.ctrlKey,shiftKey:t.shiftKey,altKey:t.altKey}
e.model.controlEventOccurred("mousedown",i)})}modelPropertyChanged(e){const t=super.modelPropertyChanged(e)
switch(e){case"width":case"height":this.model.requestSendControlBounds(),this.setWidthAndHeightToRenderBuffer(this.getModelBounds(),t)
break
case"top":case"left":this.setPositionToRenderBuffer(this.getModelBounds(),t)
break
case"borderWidth":t.cssStyles[er.BORDER_WIDTH]=this.model.borderWidth
break
case"borderColor":t.cssStyles[er.BORDER_COLOR]=this.model.borderColor
break
case"margin":t.cssStyles[er.MARGIN]=this.model.margin
break
case"padding":t.cssStyles[er.PADDING]=this.model.padding
break
case"visible":this.model.visible?t.cssClasses.toRemove.push("ni-hidden"):t.cssClasses.toAdd.push("ni-hidden"),this.model.requestSendControlBounds()
break
case"foreground":t.cssStyles[er.FOREGROUND_COLOR]=this.model.foreground
break
case"background":t.cssStyles[er.BACKGROUND]=this.model.background
break
case"fontSize":case"fontWeight":case"fontStyle":case"fontFamily":case"textDecoration":this.element.setFont(this.model.fontSize,this.model.fontFamily,this.model.fontWeight,this.model.fontStyle,this.model.textDecoration)
break
case"enabled":t.properties.disabled=!this.model.enabled
break
case"readOnly":{this.model.isInIdeMode()&&(this.model.readOnly?t.cssClasses.toAdd.push("ni-edit-time-indicator"):t.cssClasses.toRemove.push("ni-edit-time-indicator"))
const e=this.computeReadOnlyForElement()
t.properties[this.getReadOnlyPropertyName()]=e
break}case"owningControlVisible":this.isFollower()&&this.owningControlVisibleModelPropertyChanged(t)
break
case"labelAlignment":this.model.requestSendControlBounds()}return t}updateModelFromElement(){super.updateModelFromElement()
const e=this.model,t=this.element,i=window.getComputedStyle(t)
e.top=i.getPropertyValue("top"),e.left=i.getPropertyValue("left"),this.shouldElementUseModelWidth()&&(e.width=i.getPropertyValue("width")),this.shouldElementUseModelHeight()&&(e.height=i.getPropertyValue("height")),e.borderWidth=i.getPropertyValue(er.BORDER_WIDTH),e.borderColor=i.getPropertyValue(er.BORDER_COLOR),e.margin=i.getPropertyValue(er.MARGIN),e.padding=i.getPropertyValue(er.PADDING),e.fontSize=i.getPropertyValue("font-size"),e.fontFamily=i.getPropertyValue("font-family"),e.fontWeight=i.getPropertyValue("font-weight"),e.fontStyle=i.getPropertyValue("font-style"),e.textDecoration=i.getPropertyValue("text-decoration"),e.visible=!t.classList.contains("ni-hidden"),e.foreground=i.getPropertyValue(er.FOREGROUND_COLOR),e.background=i.getPropertyValue(er.BACKGROUND),e.enabled=!t.disabled,e.readOnly=t[this.getReadOnlyPropertyName()],e.setBindingInfo(t.bindingInfo),this.isFollower()&&(this.model.owningControlVisible=!this.element.classList.contains("ni-owning-control-hidden"))}applyModelToElement(){super.applyModelToElement()
const e=this.model,t=this.element
this.shouldElementUseModelPosition()?(t.style.top=e.top,t.style.left=e.left):(t.style.top="auto",t.style.left="auto"),this.shouldElementUseModelWidth()?t.style.width=e.width:t.style.width="auto",this.shouldElementUseModelHeight()?t.style.height=e.height:t.style.height="auto",t.style.setProperty(er.BORDER_WIDTH,e.borderWidth),t.style.setProperty(er.BORDER_COLOR,e.borderColor),t.style.setProperty(er.MARGIN,e.margin),t.style.setProperty(er.PADDING,e.padding),t.style.setProperty(er.FOREGROUND_COLOR,e.foreground),t.style.setProperty(er.BACKGROUND,e.background),t.style.fontSize=e.fontSize,t.style.fontFamily=e.fontFamily,t.style.fontWeight=e.fontWeight,t.style.fontStyle=e.fontStyle,t.style.textDecoration=e.textDecoration,e.visible?t.classList.remove("ni-hidden"):t.classList.add("ni-hidden"),t.bindingInfo=e.getBindingInfo()
const i=this.computeReadOnlyForElement()
t[this.getReadOnlyPropertyName()]=i,t.readOnly=i,this.model.isInIdeMode()&&this.model.readOnly&&t.classList.add("ni-edit-time-indicator"),t.disabled=!e.enabled,this.isFollower()&&this.applyOwningControlModelVisiblePropertyToElement()}setPositionToRenderBuffer(e,t){this.shouldElementUseModelPosition()?(t.cssStyles.top=e.top+"px",t.cssStyles.left=e.left+"px"):(t.cssStyles.top="auto",t.cssStyles.left="auto")}setWidthAndHeightToRenderBuffer(e,t){this.shouldElementUseModelWidth()?t.cssStyles.width=e.width+"px":t.cssStyles.width="auto",this.shouldElementUseModelHeight()?t.cssStyles.height=e.height+"px":t.cssStyles.height="auto"}getModelBounds(){return{left:parseInt(this.model.left),top:parseInt(this.model.top),width:parseInt(this.model.width),height:parseInt(this.model.height)}}shouldApplyDraggingStyleWithChild(){return!1}isFollower(){return!1}owningControlVisibleModelPropertyChanged(e){this.model.owningControlVisible?e.cssClasses.toRemove.push("ni-owning-control-hidden"):e.cssClasses.toAdd.push("ni-owning-control-hidden")}applyOwningControlModelVisiblePropertyToElement(){this.model.owningControlVisible?this.element.classList.remove("ni-owning-control-hidden"):this.element.classList.add("ni-owning-control-hidden")}*followerModels(){const e=this.model,t=e.getRoot(),i=e.followerIds
if(void 0!==i){let e=0
for(e in i)yield t.controlModels[i[e]]}}updateFollowersVisibility(e){for(const t of this.followerModels())t.owningControlVisible=e}isInsideFlexibleContainer(){let e=this.element.parentElement
const t=Ba.LayoutsEnum
for(;!(e instanceof Ba);){if(null===e.parentElement||void 0===e.parentElement)return!1
e=e.parentElement}return e.layout===t.FLEXIBLE}errorIfFlexibleContainer(e,t){if(this.isInsideFlexibleContainer())throw new Vn(Ri.i18n("msg_PROPERTY_NOT_SUPPORTED_IN_FLEX",e),wr.OPERATION_UNSUPPORTED_ON_CONTROL_ERROR_CODE)
return t()}moveFollowers(e,t){for(const i of this.followerModels())i.left=`${parseInt(i.left)+e}px`,i.top=`${parseInt(i.top)+t}px`}setSize(e,t){this.model.width=`${e}px`,this.model.height=`${t}px`}shouldUseAsyncSetGPropertyValue(e){switch(e){case Ar.KEY_FOCUS_G_PROPERTY_NAME:return!0
default:return super.shouldUseAsyncSetGPropertyValue(e)}}async setGPropertyValueAsync(e,t){switch(e){case Ar.KEY_FOCUS_G_PROPERTY_NAME:await Jn.waitForFrameUpdate(),t?(this.model.ensureFocus(),this.element.focus()):this.element.contains(document.activeElement)&&document.activeElement.blur()
break
default:await super.setGPropertyValueAsync(e,t)}}setGPropertyValue(e,t){const i=this.model
switch(e){case Ar.POSITION_G_PROPERTY_NAME:this.errorIfFlexibleContainer(e,()=>{const e=t.Left-parseInt(this.model.left),i=t.Top-parseInt(this.model.top)
this.moveFollowers(e,i),this.model.left=`${t.Left}px`,this.model.top=`${t.Top}px`})
break
case Ar.SIZE_G_PROPERTY_NAME:this.errorIfFlexibleContainer(e,()=>{this.setSize(t.Width,t.Height)})
break
case Ar.DISABLED_G_PROPERTY_NAME:i.enabled=!t,i.updateLabelDisabledState(t)
break
case Ar.VISIBLE_G_PROPERTY_NAME:i.visible=t,this.updateFollowersVisibility(t)
break
case Ar.LABEL_G_PROPERTY_NAME:throw new Vn(Ri.i18n("msg_PROPERTY_CANNOT_BE_SET",e),wr.OPERATION_UNSUPPORTED_ON_CONTROL_ERROR_CODE)
default:super.setGPropertyValue(e,t)}}getGPropertyValue(e){const t=this.model,i=this
switch(e){case Ar.POSITION_G_PROPERTY_NAME:return this.errorIfFlexibleContainer(e,()=>({Left:parseInt(this.model.left),Top:parseInt(this.model.top)}))
case Ar.SIZE_G_PROPERTY_NAME:return this.errorIfFlexibleContainer(e,async function(){await Jn.waitForFrameUpdate()
const e=window.getComputedStyle(i.element)
return{Width:parseInt(e.width),Height:parseInt(e.height)}})
case Ar.DISABLED_G_PROPERTY_NAME:return!t.enabled
case Ar.VISIBLE_G_PROPERTY_NAME:return this.isFollower()?t.visible&&t.owningControlVisible:t.visible
case Ar.LABEL_G_PROPERTY_NAME:{const i=t.getRoot()
if(void 0!==i&&""!==t.labelId)return i.controlViewModels[t.labelId]
throw new Vn(Ri.i18n("msg_REFERENCE_PROPERTY_NOT_AVAILABLE",e),wr.OPERATION_UNSUPPORTED_ON_CONTROL_ERROR_CODE)}case Ar.TOTAL_BOUNDS_G_PROPERTY_NAME:return this.errorIfFlexibleContainer(e,async function(){return await Jn.waitForFrameUpdate(),i.getTotalBounds()})
case Ar.LABEL_RUNTIME_ID:if(void 0===t.labelId)throw new Error(Ri.i18n("msg_PROPERTY_CANNOT_BE_GET",Ar.LABEL_G_PROPERTY_NAME))
return t.labelId
case Ar.KEY_FOCUS_G_PROPERTY_NAME:return this.element.contains(document.activeElement)
default:return super.getGPropertyValue(e)}}invokeInternalControlFunction(e,t){switch(e){case"reinitializeToDefault":return void this.model.reinitializeToDefault()
default:super.invokeInternalControlFunction(e,t)}}getTotalBounds(){const e=this.model,t=e.getRoot(),i=bs(this)
let n=i.left,r=i.top,o=n+i.width,a=r+i.height
return e.followerIds.forEach(e=>{const i=t.controlViewModels[e]
if(i.model.visible){const e=bs(i)
n=Math.min(n,e.left),r=Math.min(r,e.top),o=Math.max(o,e.left+e.width),a=Math.max(a,e.top+e.height)}}),{Left:n,Top:r,Width:o-n,Height:a-r}}shouldElementUseModelHeight(){return!0}shouldElementUseModelWidth(){return!0}shouldElementUseModelPosition(){return!this.model.isInFlexibleLayout()}}const _s=window.NIComplex,ws=Number.MAX_VALUE,xs=function(e,t){let i=e
return t.niType.is64BitInteger()?i=new window.JQX.Utilities.BigNumber(e):t.niType.isComplex()&&(i=new _s(i)),i},Cs=function(e,t){(function(e,t){if(t.niType.isComplex()){if(e.realPart<=0||isNaN(e.realPart)||isNaN(e.imaginaryPart))return!1}else if(isNaN(e)||e<=0)return!1
return!0})(xs(e,t),t)&&(t.interval=function(e,t){const i=xs(e,t)
let n=!1
if(t.niType.isComplex()?isFinite(i.realPart)&&isFinite(i.imaginaryPart)||(n=!0):isFinite(i)||(n=!0),n){const i=t.getNITypeString()
switch(i){case"Double":e=ws
break
case"Single":e=3.40282347e38
break
case"ComplexSingle":e=new _s(3.40282347e38,3.40282347e38).toString()
break
case"ComplexDouble":e=new _s(ws,ws).toString()
break
default:throw new Error("Missing data type {0}",i)}}return e}(e,t))},Ss=function(e,t){const i=xs(e,t)
t.niType.is64BitInteger()?i.compare(t.minimum)>0&&(t.maximum=e):!isNaN(i)&&t.minimum<i&&(t.maximum=e)},Ts=function(e,t){const i=xs(e,t)
t.niType.is64BitInteger()?i.compare(t.maximum)<0&&(t.minimum=e):!isNaN(i)&&t.maximum>i&&(t.minimum=e)}
class Is extends ys{getReadOnlyPropertyName(){return"readonly"}applyModelToElement(){super.applyModelToElement(),this.element.validation="interaction",this.element.niType=this.model.getNITypeString()}updateModelFromElement(){super.updateModelFromElement(),this.model.niType=new window.NIType(this.element.niType)}setGPropertyValue(e,t){const i=this.model
switch(e){case Ar.VALUE_G_PROPERTY_NAME:i.value=t
break
case Ar.VALUE_SIGNALING_G_PROPERTY_NAME:i.controlChanged(t)
break
case cs.INTERVAL_G_PROPERTY_NAME:Cs(t,i)
break
case cs.MAXIMUM_G_PROPERTY_NAME:Ss(t,i)
break
case cs.MINIMUM_G_PROPERTY_NAME:Ts(t,i)
break
default:super.setGPropertyValue(e,t)}}getGPropertyValue(e){const t=this.model
switch(e){case Ar.VALUE_G_PROPERTY_NAME:return t.value
case cs.INTERVAL_G_PROPERTY_NAME:return t.interval
case cs.MAXIMUM_G_PROPERTY_NAME:return t.maximum
case cs.MINIMUM_G_PROPERTY_NAME:return t.minimum
default:return super.getGPropertyValue(e)}}}class Es extends ys{constructor(e,t){super(e,t.scaleModel),this.owningNumericPointerModel=t}setGPropertyValue(e,t){switch(e){case Ar.VISIBLE_G_PROPERTY_NAME:this.owningNumericPointerModel.scaleVisible=t
break
default:super.setGPropertyValue(e,t)}}getGPropertyValue(e){switch(e){case Ar.VISIBLE_G_PROPERTY_NAME:return this.owningNumericPointerModel.scaleVisible
default:return super.getGPropertyValue(e)}}}const Ps=function(e,t){let i=""
return i=e&&t?"minor":e&&!t?"major":"none"},Ds=function(e,t){let i=""
return i=!0===e&&"auto"===t?"all":!0===e&&"count(2)"===t?"endPoints":"none"}
class ks extends Is{constructor(e,t){super(e,t),this._numericScaleViewModel=void 0,this.registerAutoSyncProperty("scaleVisible"),this.registerAutoSyncProperty("majorTicksVisible"),this.registerAutoSyncProperty("minorTicksVisible"),this.registerAutoSyncProperty("labelsVisible"),this.registerAutoSyncProperty("coercionMode"),this.registerAutoSyncProperty("rangeDivisionsMode")}modelPropertyChanged(e){const t=super.modelPropertyChanged(e)
switch(e){case"significantDigits":-1===this.model.significantDigits?t.properties.significantDigits=null:t.properties.significantDigits=this.model.significantDigits
break
case"precisionDigits":-1===this.model.precisionDigits?t.properties.precisionDigits=null:t.properties.precisionDigits=this.model.precisionDigits
break
case"minimum":t.properties.min=vs.convert(this.model.minimum,this.model.niType)
break
case"maximum":t.properties.max=vs.convert(this.model.maximum,this.model.niType)
break
case"interval":t.properties.interval=vs.convert(this.model.interval,this.model.niType)
break
case"value":t.properties.value=vs.convert(this.model.value,this.model.niType)
break
case"niType":t.properties.scaleType=vs.convertNITypeToJQX(this.model.niType),"integer"===t.properties.scaleType&&(t.properties.wordLength=this.model.niType.getName().toLowerCase())
break
case"majorTicksVisible":case"minorTicksVisible":t.properties.ticksVisibility=Ps(this.model.majorTicksVisible,this.model.minorTicksVisible)
break
case"labelsVisible":case"rangeDivisionsMode":t.properties.labelsVisibility=Ds(this.model.labelsVisible,this.model.rangeDivisionsMode)
break
case"format":"scientific"===this.model.format?t.properties.scientificNotation=!0:t.properties.scientificNotation=!1
break
case"coercionMode":t.properties.coerce=this.model.coercionMode
break
case"mechanicalAction":t.properties.mechanicalAction=this.model.mechanicalAction}return t}updateModelFromElement(){super.updateModelFromElement(),this.model.value=vs.convertBack(this.element.value,this.model.niType),this.model.maximum=vs.convertBack(this.element.max,this.model.niType),this.model.minimum=vs.convertBack(this.element.min,this.model.niType),this.model.interval=vs.convertBack(this.element.interval,this.model.niType),null!==this.element.significantDigits?(this.model.significantDigits=this.element.significantDigits,this.model.precisionDigits=-1):null!==this.element.precisionDigits&&(this.model.precisionDigits=this.element.precisionDigits,this.model.significantDigits=-1),this.model.coercionMode=this.element.coerce,"minor"===this.element.ticksVisibility?(this.model.majorTicksVisible=!0,this.model.minorTicksVisible=!0):"major"===this.element.ticksVisibility?(this.model.majorTicksVisible=!0,this.model.minorTicksVisible=!1):(this.model.majorTicksVisible=!1,this.model.minorTicksVisible=!1),"none"===this.element.labelsVisibility?this.model.labelsVisible=!1:(this.model.labelsVisible=!0,"all"===this.element.labelsVisibility?this.model.rangeDivisionsMode="auto":this.model.rangeDivisionsMode="count(2)"),!0===this.element.scientificNotation?this.model.format="scientific":this.model.format="",this.model.mechanicalAction=this.element.mechanicalAction}applyModelToElement(){super.applyModelToElement(),this.element.max=vs.convert(this.model.maximum,this.model.niType),this.element.min=vs.convert(this.model.minimum,this.model.niType),this.element.interval=vs.convert(this.model.interval,this.model.niType),this.element.value=vs.convert(this.model.value,this.model.niType),this.model.significantDigits>=0?(this.element.significantDigits=this.model.significantDigits,this.element.precisionDigits=null):this.model.precisionDigits>=0&&(this.element.precisionDigits=this.model.precisionDigits,this.element.significantDigits=null),this.element.coerce=this.model.coercionMode,this.element.ticksVisibility=Ps(this.model.majorTicksVisible,this.model.minorTicksVisible),this.element.labelsVisibility=Ds(this.model.labelsVisible,this.model.rangeDivisionsMode),"scientific"===this.model.format&&(this.element.scientificNotation=!0),this.element.mechanicalAction=this.model.mechanicalAction}createNumericScaleViewModel(){this._numericScaleViewModel=new Es(this.element,this.model)}getGPropertyValue(e){switch(e){case us.SCALE_G_PROPERTY_NAME:return void 0===this._numericScaleViewModel&&(this.model.createNumericScaleModel(Ri.uniqueId()),this.createNumericScaleViewModel()),this._numericScaleViewModel
case us.SCALE_RUNTIME_ID:return void 0===this._numericScaleViewModel?0:this._numericScaleViewModel.model.niControlId
default:return super.getGPropertyValue(e)}}setGPropertyValue(e,t){switch(e){case us.SCALE_RUNTIME_ID:{const e=t
this.model.createNumericScaleModel(e),this.createNumericScaleViewModel(),this.model.getRoot().updateModelAndViewModelMapping(e,this.model.getNumericScaleModel(),this._numericScaleViewModel)
break}default:super.setGPropertyValue(e,t)}}}const As=function(e){return e.startAngle},js=function(e){return e.startAngle+e.sweepAngle},Ms=function(e,t){return{startAngle:t,sweepAngle:e-t}},Ns=function(e){let t=""
return t=!0===e?"inside":"none"}
class qs extends ks{modelPropertyChanged(e){const t=super.modelPropertyChanged(e)
switch(e){case"scaleArc":t.properties.startAngle=js(this.model.scaleArc),t.properties.endAngle=As(this.model.scaleArc)
break
case"scaleVisible":t.properties.scalePosition=Ns(this.model.scaleVisible)}return t}updateModelFromElement(){super.updateModelFromElement()
const e=Ms(this.element.startAngle,this.element.endAngle)
this.model.scaleArc=e,this.model.scaleVisible="inside"===this.element.scalePosition}applyModelToElement(){super.applyModelToElement(),this.element.startAngle=js(this.model.scaleArc),this.element.endAngle=As(this.model.scaleArc),this.element.scalePosition=Ns(this.model.scaleVisible)}}class Os extends qs{bindToView(){super.bindToView()
const e=this
e.element.addEventListener("change",function(t){const i=vs.convertBack(t.detail.value,e.model.niType)
e.model.controlChanged(i)})}modelPropertyChanged(e){const t=super.modelPropertyChanged(e)
switch(e){case"analogDisplayType":t.properties.analogDisplayType=this.model.analogDisplayType
break
case"digitalDisplayVisible":t.properties.digitalDisplay=this.model.digitalDisplayVisible
break
case"digitalDisplayPosition":t.properties.digitalDisplayPosition=this.model.digitalDisplayPosition}return t}updateModelFromElement(){super.updateModelFromElement(),this.model.analogDisplayType=this.element.analogDisplayType,this.model.digitalDisplayVisible=this.element.digitalDisplay,this.model.digitalDisplayPosition=this.element.digitalPosition}applyModelToElement(){super.applyModelToElement(),this.element.analogDisplayType=this.model.analogDisplayType,this.element.digitalDisplay=this.model.digitalDisplayVisible,this.element.digitalPosition=this.model.digitalDisplayPosition}}cr.registerViewModel(Os,void 0,ms,"jqx-gauge")
var Bs=Object.freeze({GaugeViewModel:Os})
const Ls=function(e,t){let i=""
return i=!0===e?"vertical"===t?"near":"far":"none"},Rs=function(e,t){t.properties.scalePosition=Ls(e.scaleVisible,e.orientation)}
class Hs extends ks{constructor(e,t){super(e,t),this.registerAutoSyncProperty("orientation")}bindToView(){super.bindToView()
const e=this,t=function(t){const i=vs.convertBack(t.detail.value,e.model.niType)
e.model.value!==i&&e.model.controlChanged(i)}
e.element.addEventListener("value-changed",function(e){t(e)}),e.element.addEventListener("change",function(e){t(e)})}modelPropertyChanged(e){const t=this
let i=!1
const n=super.modelPropertyChanged(e)
switch(e){case"fill":n.cssStyles[er.FILL]=this.model.fill
break
case"orientation":i=!0,n.properties.orientation=this.model.orientation,Rs(this.model,n)
break
case"scaleVisible":i=!0,Rs(this.model,n)
break
case"minimum":case"maximum":case"fontSize":case"fontWeight":case"fontStyle":case"fontFamily":case"textDecoration":case"majorTicksVisible":case"minorTicksVisible":case"labelsVisible":case"rangeDivisionsMode":case"format":i=!0}return!0===i&&(n.postRender.updateSize=function(){const e=t.element.getOptimalSize()
"vertical"===t.model.orientation&&e.width>parseInt(t.model.width)?t.model.sizeChanged("width",e):"horizontal"===t.model.orientation&&e.height>parseInt(t.model.height)&&t.model.sizeChanged("height",e)}),n}updateModelFromElement(){super.updateModelFromElement(),this.model.orientation=this.element.orientation
const e=window.getComputedStyle(this.element)
this.model.fill=e.getPropertyValue(er.FILL),"none"===this.element.scalePosition?this.model.scaleVisible=!1:this.model.scaleVisible=!0}applyModelToElement(){super.applyModelToElement(),this.element.orientation=this.model.orientation,this.element.scalePosition=Ls(this.model.scaleVisible,this.model.orientation),this.element.style.setProperty(er.FILL,this.model.fill)}}class Vs extends us{constructor(e){super(e),this._orientation="horizontal",this._fill="#4386B9"}get orientation(){return this._orientation}set orientation(e){this._orientation=e,this.notifyModelPropertyChanged("orientation")}get fill(){return this._fill}set fill(e){this._fill=e,this.notifyModelPropertyChanged("fill")}sizeChanged(e,t){this.internalControlEventOccurred("DesiredSizeChanged",{dimension:e,value:t})}}class Fs extends Vs{constructor(e){super(e),this._showTooltip=!0,this._mechanicalAction="switchWhileDragging"}static get MODEL_KIND(){return"niSlider"}get showTooltip(){return this._showTooltip}set showTooltip(e){this._showTooltip=e,this.notifyModelPropertyChanged("showTooltip")}get mechanicalAction(){return this._mechanicalAction}set mechanicalAction(e){this._mechanicalAction=e,this.notifyModelPropertyChanged("mechanicalAction")}}cr.registerModel(Fs)
class zs extends Hs{modelPropertyChanged(e){const t=super.modelPropertyChanged(e)
switch(e){case"showTooltip":t.properties.showTooltip=this.model.showTooltip}return t}updateModelFromElement(){super.updateModelFromElement(),this.model.showTooltip=this.element.showTooltip,this.model.mechanicalAction=this.element.mechanicalAction}applyModelToElement(){super.applyModelToElement(),this.element.showTooltip=this.model.showTooltip,this.element.mechanicalAction=this.model.mechanicalAction}}cr.registerViewModel(zs,void 0,Fs,"jqx-slider")
var $s=Object.freeze({SliderViewModel:zs})
class Us extends Vs{static get MODEL_KIND(){return"niTank"}}cr.registerModel(Us)
class Gs extends Hs{}cr.registerViewModel(Gs,void 0,Us,"jqx-tank")
var Ws=Object.freeze({TankViewModel:Gs})
const Xs=window.NITypes
class Js extends Ar{constructor(e){super(e),this.niType=Xs.DOUBLE,this._minimum=0,this._maximum=10,this._value=0,this._indeterminate=!1}get minimum(){return this._minimum}set minimum(e){this._minimum=e,this.notifyModelPropertyChanged("minimum")}get maximum(){return this._maximum}set maximum(e){this._maximum=e,this.notifyModelPropertyChanged("maximum")}get value(){return this._value}set value(e){this._value=e,this.notifyModelPropertyChanged("value")}get indeterminate(){return this._indeterminate}set indeterminate(e){this._indeterminate=e,this.notifyModelPropertyChanged("indeterminate")}modelPropertyUsesNIType(e){return"value"===e}controlChanged(e){const t=this.value
this.value=e,super.controlChanged("value",e,t)}}const Ys=Object.freeze({VERTICAL:"vertical",HORIZONTAL:"horizontal"})
class Qs extends Js{constructor(e){super(e),this._orientation=Qs.OrientationEnum.HORIZONTAL}static get MODEL_KIND(){return"niLinearProgressBar"}static get OrientationEnum(){return Ys}get orientation(){return this._orientation}set orientation(e){this._orientation=e,this.notifyModelPropertyChanged("orientation")}}cr.registerModel(Qs)
class Ks{static clamp(e,t,i){return Math.max(t,Math.min(e,i))}static inRangeOrDefault(e,t,i,n){return e>=t&&e<=i?e:n}}class Zs extends ys{constructor(e,t){super(e,t),this.registerAutoSyncProperty("maximum"),this.registerAutoSyncProperty("minimum"),this.registerAutoSyncProperty("value"),this.registerAutoSyncProperty("indeterminate")}getReadOnlyPropertyName(){return"readonly"}modelPropertyChanged(e){const t=super.modelPropertyChanged(e)
switch(e){case"minimum":t.properties.min=this.model.minimum
break
case"maximum":t.properties.max=this.model.maximum
break
case"value":t.properties.value=this.model.value
break
case"indeterminate":t.properties.indeterminate=this.model.indeterminate}return t}updateModelFromElement(){super.updateModelFromElement(),this.model.value=this.element.value,this.model.maximum=this.element.max,this.model.minimum=this.element.min,this.model.indeterminate=this.element.indeterminate}applyModelToElement(){super.applyModelToElement(),this.element.max=this.model.maximum,this.element.min=this.model.minimum,this.element.value=this.model.value,this.element.indeterminate=this.model.indeterminate}setGPropertyValue(e,t){const i=this.model
switch(e){case Ar.VALUE_G_PROPERTY_NAME:i.value=Ks.clamp(t,i.minimum,i.maximum)
break
case Ar.VALUE_SIGNALING_G_PROPERTY_NAME:i.controlChanged(Ks.clamp(t,i.minimum,i.maximum))
break
default:super.setGPropertyValue(e,t)}}getGPropertyValue(e){const t=this.model
switch(e){case Ar.VALUE_G_PROPERTY_NAME:return t.value
default:return super.getGPropertyValue(e)}}}class el extends Zs{constructor(e,t){super(e,t),this.registerAutoSyncProperty("orientation")}modelPropertyChanged(e){const t=super.modelPropertyChanged(e)
switch(e){case"orientation":t.properties.orientation=this.model.orientation,"vertical"===this.model.orientation?t.properties.inverted=!0:t.properties.inverted=!1}return t}updateModelFromElement(){super.updateModelFromElement(),this.model.orientation=this.element.orientation}applyModelToElement(){super.applyModelToElement(),this.element.orientation=this.model.orientation,"vertical"===this.model.orientation?this.element.inverted=!0:this.element.inverted=!1}}cr.registerViewModel(el,void 0,Qs,"jqx-progress-bar")
var tl=Object.freeze({LinearProgressBarViewModel:el})
class il extends Js{static get MODEL_KIND(){return"niRadialProgressBar"}}cr.registerModel(il)
class nl extends Zs{}cr.registerViewModel(nl,void 0,il,"jqx-circular-progress-bar")
var rl=Object.freeze({RadialProgressBarViewModel:nl})
class ol extends cs{constructor(e){super(e),this._radixVisible=!1,this._popupEnabled=!1,this._spinButtons=!1,this._spinButtonsPosition="right",this._textAlignment="right"}static get MODEL_KIND(){return"niNumericTextBox"}get radixVisible(){return this._radixVisible}set radixVisible(e){this._radixVisible=e,this.notifyModelPropertyChanged("radixVisible")}get popupEnabled(){return this._popupEnabled}set popupEnabled(e){this._popupEnabled=e,this.notifyModelPropertyChanged("popupEnabled")}get spinButtons(){return this._spinButtons}set spinButtons(e){this._spinButtons=e,this.notifyModelPropertyChanged("spinButtons")}get spinButtonsPosition(){return this._spinButtonsPosition}set spinButtonsPosition(e){this._spinButtonsPosition=e,this.notifyModelPropertyChanged("spinButtonsPosition")}get textAlignment(){return this._textAlignment}set textAlignment(e){this._textAlignment=e,this.notifyModelPropertyChanged("textAlignment")}}cr.registerModel(ol)
class al extends Is{constructor(e,t){super(e,t),this.registerAutoSyncProperty("spinButtonsPosition")}bindToView(){super.bindToView()
const e=this
this.bindFocusEventListener()
const t=function(t){const i=vs.convertBack(t.detail.value,e.model.niType)
e._valueChanging=!0,e.model.controlChanged(i),e._valueChanging=!1}
this.element.addEventListener("change",function(e){t(e)}),this.element.addEventListener("value-changed",function(e){t(e)})}convertNIFormatToJQX(e,t,i){const n=vs.convertNITypeToJQX(e)
switch(t){case"floating point":i.scientificNotation=!1
break
case"scientific":i.scientificNotation=!0
break
case"decimal":i.scientificNotation=!1,"integer"===n&&(i.inputFormat="integer",i.radix="decimal")
break
case"hexadecimal":i.radix="hexadecimal"
break
case"octal":i.radix="octal"
break
case"binary":i.radix="binary"}}convertJQXFormatToNI(e,t){"integer"===e.inputFormat?t.format=e.radix:t.format=e.scientificNotation?"scientific":"floating point"}modelPropertyChanged(e){const t=super.modelPropertyChanged(e)
switch(e){case"significantDigits":-1===this.model.significantDigits?t.properties.significantDigits=null:t.properties.significantDigits=this.model.significantDigits
break
case"precisionDigits":-1===this.model.precisionDigits?t.properties.precisionDigits=null:t.properties.precisionDigits=this.model.precisionDigits
break
case"format":this.convertNIFormatToJQX(this.model.niType,this.model.format,t.properties)
break
case"minimum":t.properties.min=vs.convert(this.model.minimum,this.model.niType)
break
case"maximum":t.properties.max=vs.convert(this.model.maximum,this.model.niType)
break
case"interval":t.properties.spinButtonsStep=vs.convert(this.model.interval,this.model.niType)
break
case"value":this._valueChanging||(t.properties.value=vs.convert(this.model.value,this.model.niType))
break
case"niType":break
case"spinButtons":t.properties.spinButtons=this.model.spinButtons
break
case"radixVisible":t.properties.radixDisplay=this.model.radixVisible&&this.model.niType.isInteger()
break
case"popupEnabled":t.properties.dropDownEnabled=this.model.popupEnabled&&this.model.niType.isInteger()
break
case"textAlignment":t.cssStyles[er.TEXT_ALIGN]=this.model.textAlignment}return t}updateModelFromElement(){super.updateModelFromElement(),this.model.value=vs.convertBack(this.element.value,this.model.niType),this.model.defaultValue=vs.convertBack(this.element.value,this.model.niType),null!==this.element.min&&(this.model.minimum=vs.convertBack(this.element.min,this.model.niType)),null!==this.element.max&&(this.model.maximum=vs.convertBack(this.element.max,this.model.niType)),this.model.interval=vs.convertBack(this.element.spinButtonsStep,this.model.niType),this.convertJQXFormatToNI(this.element,this.model),null!==this.element.significantDigits?(this.model.significantDigits=this.element.significantDigits,this.model.precisionDigits=-1):null!==this.element.precisionDigits&&(this.model.precisionDigits=this.element.precisionDigits,this.model.significantDigits=-1),this.model.spinButtons=this.element.spinButtons,this.model.radixVisible=this.element.radixDisplay,this.model.popupEnabled=this.element.dropDownEnabled
const e=window.getComputedStyle(this.element)
this.model.textAlignment=e.getPropertyValue(er.TEXT_ALIGN)}applyModelToElement(){super.applyModelToElement(),this.element.value=vs.convert(this.model.value,this.model.niType),this.element.min=vs.convert(this.model.minimum,this.model.niType),this.element.max=vs.convert(this.model.maximum,this.model.niType),this.element.spinButtonsStep=vs.convert(this.model.interval,this.model.niType),this.convertNIFormatToJQX(this.model.niType,this.model.format,this.element),this.model.significantDigits>=0?(this.element.significantDigits=this.model.significantDigits,this.element.precisionDigits=null):this.model.precisionDigits>=0&&(this.element.precisionDigits=this.model.precisionDigits,this.element.significantDigits=null),this.element.spinButtons=this.model.spinButtons,this.element.radixDisplay=this.model.radixVisible,this.element.dropDownEnabled=this.model.popupEnabled,this.element.spinButtonsInitialDelay=500,this.element.enableMouseWheelAction=!0,this.element.style.setProperty(er.TEXT_ALIGN,this.model.textAlignment)}}cr.registerViewModel(al,void 0,ol,"jqx-numeric-text-box")
var sl=Object.freeze({NumericTextBoxViewModel:al})
const ll=function(e){if(0===e.indexOf("rgb"))return-1===e.indexOf("rgba")&&(e+=",1"),e.match(/[.\d]+/g).map(function(e){return+Number(e)})}
class dl{static integerToRgba(e){let t=(e>>>=0)>>>24
return"rgba("+[(16711680&e)>>>16,(65280&e)>>>8,255&e,t=Number((t/255).toFixed(2))].join(",")+")"}static rgbaToInteger(e){const t=ll(e),i=255&t[0],n=255&t[1],r=255&t[2]
return((255&Math.round(255*t[3]))<<24)+(i<<16)+(n<<8)+r>>>0}static hexToInteger(e){let t=e.substring(1).split(""),i=["f","f"]
return 3===t.length?t=[t[0],t[0],t[1],t[1],t[2],t[2]]:8===t.length&&(i=[t[6],t[7]],t=t.slice(0,6)),t=i.join("")+t.join(""),parseInt(t,16)}static getIntegerValueForInputColor(e){return e=e.trim(),this.isColorInRGBAFormat(e)?this.rgbaToInteger(e):this.isColorInHexFormat(e)?this.hexToInteger(e):void 0}static isColorInRGBAFormat(e){return e.startsWith("rgb")}static isColorInHexFormat(e){return e.startsWith("#")}static isRGBAOrHexFormat(e){return e=e.trim(),this.isColorInRGBAFormat(e)||this.isColorInHexFormat(e)}static argbIntegerColorToRgbaHexColor(e){let t=255&(e>>>=0),i=(65280&e)>>>8,n=(16711680&e)>>>16,r=e>>>24
return 1===(n=n.toString(16)).length&&(n="0"+n),1===(i=i.toString(16)).length&&(i="0"+i),1===(t=t.toString(16)).length&&(t="0"+t),1===(r=r.toString(16)).length&&(r="0"+r),("#"+n+i+t+r).toUpperCase()}}const cl=Object.freeze(["ellipse","rectangle","diamond","cross","plus"]),hl=Object.freeze(["none","vertical","horizontal","both"])
class ul extends Ar{constructor(e){super(e),this._show=!0,this._showLabel=!0,this._showValue=!0,this._color="rgba(0,0,0,1)",this._targetShape="ellipse",this._label="",this._snapToPlot="",this._xaxis="",this._yaxis="",this._crosshairStyle="both"}static get NAME_G_PROPERTY_NAME(){return"Name"}static get X_POSITION_G_PROPERTY_NAME(){return"XPosition"}static get Y_POSITION_G_PROPERTY_NAME(){return"YPosition"}static get COLOR_G_PROPERTY_NAME(){return"Color"}static get TARGET_SHAPE_G_PROPERTY_NAME(){return"TargetShape"}static get CROSSHAIR_STYLE_G_PROPERTY_NAME(){return"CrosshairStyle"}static get MODEL_KIND(){return"niCursor"}static get TARGET_SHAPE_OPTIONS(){return cl}static get CROSSHAIR_STYLE_OPTIONS(){return hl}get show(){return this._show}set show(e){this._show=e,this.notifyModelPropertyChanged("show")}get showLabel(){return this._showLabel}set showLabel(e){this._showLabel=e,this.notifyModelPropertyChanged("showLabel")}get showValue(){return this._showValue}set showValue(e){this._showValue=e,this.notifyModelPropertyChanged("showValue")}get color(){return this._color}set color(e){this._color=e,this.notifyModelPropertyChanged("color")}get targetShape(){return this._targetShape}set targetShape(e){this._targetShape=e,this.notifyModelPropertyChanged("targetShape")}get label(){return this._label}set label(e){this._label=e,this.notifyModelPropertyChanged("label")}get snapToPlot(){return this._snapToPlot}set snapToPlot(e){this._snapToPlot=e,this.notifyModelPropertyChanged("snapToPlot")}get xaxis(){return this._xaxis}set xaxis(e){this._xaxis=e,this.notifyModelPropertyChanged("xaxis")}get yaxis(){return this._yaxis}set yaxis(e){this._yaxis=e,this.notifyModelPropertyChanged("yaxis")}get crosshairStyle(){return this._crosshairStyle}set crosshairStyle(e){this._crosshairStyle=e,this.notifyModelPropertyChanged("crosshairStyle")}}cr.registerModel(ul)
class pl extends ys{constructor(e,t){super(e,t),this.registerAutoSyncProperty("label"),this.registerAutoSyncProperty("targetShape"),this.registerAutoSyncProperty("show"),this.registerAutoSyncProperty("color"),this.registerAutoSyncProperty("crosshairStyle"),this.registerAutoSyncProperty("showLabel"),this.registerAutoSyncProperty("showValue"),this.registerAutoSyncProperty("snapToPlot"),this.registerAutoSyncProperty("xaxis"),this.registerAutoSyncProperty("yaxis")}static get GRADIENTS_NOT_SUPPORTED_ERROR_CODE(){return 1702}modelPropertyChanged(e){const t=super.modelPropertyChanged(e)
switch(e){case"color":this.element.setColor(this.model.color)}return t}updateModelFromElement(){super.updateModelFromElement()
const e=window.getComputedStyle(this.element)
this.model.color=e.getPropertyValue("color")}applyModelToElement(){super.applyModelToElement(),this.element.style.color=this.model.color}getGPropertyValue(e){switch(e){case ul.NAME_G_PROPERTY_NAME:return this.model.label
case Ar.VISIBLE_G_PROPERTY_NAME:return this.model.show
case ul.X_POSITION_G_PROPERTY_NAME:return this.element.xPosition
case ul.Y_POSITION_G_PROPERTY_NAME:return this.element.yPosition
case ul.COLOR_G_PROPERTY_NAME:{const t=this.model.color
if(dl.isRGBAOrHexFormat(t))return dl.getIntegerValueForInputColor(t)
throw new Vn(Ri.i18n("msg_PROPERTY_WITH_GRADIENT_COLOR_NOT_SUPPORTED",e),pl.GRADIENTS_NOT_SUPPORTED_ERROR_CODE)}case ul.TARGET_SHAPE_G_PROPERTY_NAME:return ul.TARGET_SHAPE_OPTIONS.indexOf(this.model.targetShape)
case ul.CROSSHAIR_STYLE_G_PROPERTY_NAME:return ul.CROSSHAIR_STYLE_OPTIONS.indexOf(this.model.crosshairStyle)
default:return super.getGPropertyValue(e)}}setGPropertyValue(e,t){switch(e){case ul.NAME_G_PROPERTY_NAME:this.model.label=t
break
case Ar.VISIBLE_G_PROPERTY_NAME:this.model.show=t
break
case ul.X_POSITION_G_PROPERTY_NAME:this.element.xPosition=t
break
case ul.Y_POSITION_G_PROPERTY_NAME:this.element.yPosition=t
break
case ul.COLOR_G_PROPERTY_NAME:this.model.color=dl.integerToRgba(t)
break
case ul.TARGET_SHAPE_G_PROPERTY_NAME:{const e=ul.TARGET_SHAPE_OPTIONS
this.model.targetShape=e[Ks.inRangeOrDefault(t,0,e.length-1,0)]
break}case ul.CROSSHAIR_STYLE_G_PROPERTY_NAME:{const e=ul.CROSSHAIR_STYLE_OPTIONS
this.model.crosshairStyle=e[Ks.inRangeOrDefault(t,0,e.length-1,0)]
break}default:super.setGPropertyValue(e,t)}}}cr.registerViewModel(pl,void 0,ul,"ni-cursor")
var ml=Object.freeze({})
const fl=window.NITypeNames,gl=new(0,window.NIType)({name:fl.CLUSTER,fields:["Minimum","Maximum"],subtype:[fl.DOUBLE,fl.DOUBLE]}),vl=Object.freeze(["exact","loose","growloose","none","growexact","auto"]),bl=Object.freeze({exact:0,loose:1,growloose:2,none:3,growexact:4,auto:5}),yl={[vl[bl.exact]]:bl.exact,[vl[bl.loose]]:bl.loose,[vl[bl.growloose]]:bl.growloose,[vl[bl.none]]:bl.none}
class _l{static get MINIMUM_MUST_BE_LESS_THAN_MAXIMUM_ERROR_CODE(){return 363531}static getRangeOnAxisModel(e){return{Maximum:e.maximum,Minimum:e.minimum}}static setRangeOnAxisModel(e,t){if(!(t.Maximum>t.Minimum))throw new Vn(Ri.i18n("msg_MIN_MUST_BE_LESS_THAN_MAX",t.Minimum,t.Maximum),_l.MINIMUM_MUST_BE_LESS_THAN_MAXIMUM_ERROR_CODE)
{let i=t.Maximum,n=t.Minimum
if(e.logScale){const r=.1
i=t.Maximum>0?i:e.maximum,n=t.Minimum>0?n:r}e.maximum=i,e.minimum=n}}}_l.getAutoScaleFromFitType=function(e){let t=Object.keys(yl)[e]
return void 0===t&&(t=Object.keys(yl)[yl.none]),t},_l.getFitTypeFromAutoScale=function(e){return Object.keys(yl).includes(e)?vl.indexOf(e):vl.indexOf(e)===bl.growexact?yl.growloose:yl.none}
const wl=window.NITypes
class xl extends Ar{constructor(e){super(e),this._autoScale=vl[bl.auto],this._maximum=0,this._minimum=0,this._axisPosition="left",this._showLabel=!0,this._label="",this._logScale=!1,this._show=!0,this._format="",this._showTickLabels="all",this._gridLines=!0,this._showTicks=!0,this._showMinorTicks=!0,this._foreground="unset"}static get FIT_TYPE_G_PROPERTY_NAME(){return"FitType"}static get MAPPING_G_PROPERTY_NAME(){return"Mapping"}static get RANGE_G_PROPERTY_NAME(){return"Range"}static get NAME_G_PROPERTY_NAME(){return"Name"}static get MODEL_KIND(){return"niCartesianAxis"}get autoScale(){return this._autoScale}set autoScale(e){this._autoScale=e,this.notifyModelPropertyChanged("autoScale")}get maximum(){return this._maximum}set maximum(e){this._maximum=e,this.notifyModelPropertyChanged("maximum")}get minimum(){return this._minimum}set minimum(e){this._minimum=e,this.notifyModelPropertyChanged("minimum")}get axisPosition(){return this._axisPosition}set axisPosition(e){this._axisPosition=e,this.notifyModelPropertyChanged("axisPosition")}get showLabel(){return this._showLabel}set showLabel(e){this._showLabel=e,this.notifyModelPropertyChanged("showLabel")}get label(){return this._label}set label(e){this._label=e,this.notifyModelPropertyChanged("label")}get logScale(){return this._logScale}set logScale(e){this._logScale=e,this.notifyModelPropertyChanged("logScale")}get show(){return this._show}set show(e){this._show=e,this.notifyModelPropertyChanged("show")}get format(){return this._format}set format(e){this._format=e,this.notifyModelPropertyChanged("format")}get showTickLabels(){return this._showTickLabels}set showTickLabels(e){this._showTickLabels=e,this.notifyModelPropertyChanged("showTickLabels")}get gridLines(){return this._gridLines}set gridLines(e){this._gridLines=e,this.notifyModelPropertyChanged("gridLines")}get showTicks(){return this._showTicks}set showTicks(e){this._showTicks=e,this.notifyModelPropertyChanged("showTicks")}get showMinorTicks(){return this._showMinorTicks}set showMinorTicks(e){this._showMinorTicks=e,this.notifyModelPropertyChanged("showMinorTicks")}get foreground(){return this._foreground}set foreground(e){this._foreground=e,this.notifyModelPropertyChanged("foreground")}gPropertyNIType(e){switch(e){case xl.RANGE_G_PROPERTY_NAME:return gl
case xl.FIT_TYPE_G_PROPERTY_NAME:case xl.MAPPING_G_PROPERTY_NAME:return wl.UINT32
case xl.NAME_G_PROPERTY_NAME:return wl.STRING}return super.gPropertyNIType(e)}}cr.registerModel(xl)
const Cl=-20828448e5,Sl=Object.freeze({LINEAR_SCALE:0,LOG_SCALE:1})
class Tl extends ys{constructor(e,t){super(e,t),this.registerAutoSyncProperty("label"),this.registerAutoSyncProperty("show"),this.registerAutoSyncProperty("showLabel"),this.registerAutoSyncProperty("axisPosition"),this.registerAutoSyncProperty("autoScale"),this.registerAutoSyncProperty("logScale"),this.registerAutoSyncProperty("minimum"),this.registerAutoSyncProperty("maximum"),this.registerAutoSyncProperty("format"),this.registerAutoSyncProperty("showTickLabels"),this.registerAutoSyncProperty("gridLines"),this.registerAutoSyncProperty("showTicks"),this.registerAutoSyncProperty("showMinorTicks")}setGPropertyValue(e,t){const i=this.model
switch(e){case xl.MAPPING_G_PROPERTY_NAME:{const e=t!==Sl.LINEAR_SCALE
if(e&&!i.logScale){if(i.maximum<=.1){const e=10
i.maximum=e}if(i.minimum<=0){const e=.1
i.minimum=e}}i.logScale=e
break}case xl.RANGE_G_PROPERTY_NAME:_l.setRangeOnAxisModel(i,t)
break
case xl.FIT_TYPE_G_PROPERTY_NAME:i.autoScale=_l.getAutoScaleFromFitType(t)
break
case xl.NAME_G_PROPERTY_NAME:i.label=t
break
default:super.setGPropertyValue(e,t)}}getGPropertyValue(e){const t=this.model
switch(e){case xl.MAPPING_G_PROPERTY_NAME:return t.logScale?Sl.LOG_SCALE:Sl.LINEAR_SCALE
case xl.RANGE_G_PROPERTY_NAME:return _l.getRangeOnAxisModel(t)
case xl.FIT_TYPE_G_PROPERTY_NAME:return _l.getFitTypeFromAutoScale(t.autoScale)
case xl.NAME_G_PROPERTY_NAME:return t.label
default:return super.getGPropertyValue(e)}}applyModelToElement(){super.applyModelToElement(),this.element.timeFormatEpoch=Cl}}cr.registerViewModel(Tl,void 0,xl,"ni-cartesian-axis")
var Il=Object.freeze({SCALE_INDICES:Sl,CartesianAxisViewModel:Tl})
class El extends Ar{constructor(e){super(e),this._label="",this._show=!1,this._xaxis=null,this._yaxis=null,this._enableHover=!1,this._hoverFormat="",this._showLabel=void 0}static get BAR_WIDTH_G_PROPERTY_NAME(){return"BarWidth"}static get COLOR_G_PROPERTY_NAME(){return"Color"}static get FILL_STYLE_G_PROPERTY_NAME(){return"FillStyle"}static get LINE_STYLE_G_PROPERTY_NAME(){return"LineStyle"}static get LINE_WIDTH_G_PROPERTY_NAME(){return"LineWidth"}static get NAME_G_PROPERTY_NAME(){return"Name"}static get POINT_SHAPE_G_PROPERTY_NAME(){return"PointShape"}static get X_AXIS_INDEX_G_PROPERTY_NAME(){return"XAxisIndex"}static get Y_AXIS_INDEX_G_PROPERTY_NAME(){return"YAxisIndex"}static get MODEL_KIND(){return"niCartesianPlot"}get label(){return this._label}set label(e){this._label=e,this.notifyModelPropertyChanged("label")}get show(){return this._show}set show(e){this._show=e,this.notifyModelPropertyChanged("show")}get xaxis(){return this._xaxis}set xaxis(e){this._xaxis=e,this.notifyModelPropertyChanged("xaxis")}get yaxis(){return this._yaxis}set yaxis(e){this._yaxis=e,this.notifyModelPropertyChanged("yaxis")}get enableHover(){return this._enableHover}set enableHover(e){this._enableHover=e,this.notifyModelPropertyChanged("enableHover")}get hoverFormat(){return this._hoverFormat}set hoverFormat(e){this._hoverFormat=e,this.notifyModelPropertyChanged("hoverFormat")}get showLabel(){}set showLabel(e){}}cr.registerModel(El)
const Pl=window.NIType,Dl=window.NITypeNames
class kl extends Ar{constructor(e){super(e),this.niType=new Pl({name:Dl.ARRAY,rank:1,subtype:Dl.DOUBLE}),this._value=[],this._plotAreaMargin="",this._metadataOverridesPlotNames=!0,this._graphRef="",this._activeCursor=0,this._activeXScale=0,this._activeYScale=0,this._activePlot=0}static get ACTIVE_CURSOR_G_PROPERTY_NAME(){return"ActiveCursor"}static get ACTIVE_PLOT_G_PROPERTY_NAME(){return"ActivePlot"}static get ACTIVE_X_SCALE_G_PROPERTY_NAME(){return"ActiveXScale"}static get ACTIVE_Y_SCALE_G_PROPERTY_NAME(){return"ActiveYScale"}static get CURSOR_G_PROPERTY_NAME(){return"Cursor"}static get PLOT_G_PROPERTY_NAME(){return"Plot"}static get X_SCALE_G_PROPERTY_NAME(){return"XScale"}static get Y_SCALE_G_PROPERTY_NAME(){return"YScale"}get activeCursor(){return this._activeCursor}set activeCursor(e){this._activeCursor=e}get activePlot(){return this._activePlot}set activePlot(e){this._activePlot=e}get value(){return this._value}set value(e){this._value="string"==typeof e?JSON.parse(e):e,this.notifyModelPropertyChanged("value")}get plotAreaMargin(){return this._plotAreaMargin}set plotAreaMargin(e){this._plotAreaMargin=e,this.notifyModelPropertyChanged("plotAreaMargin")}get metadataOverridesPlotNames(){return this._metadataOverridesPlotNames}set metadataOverridesPlotNames(e){this._metadataOverridesPlotNames=e,this.notifyModelPropertyChanged("metadataOverridesPlotNames")}get graphRef(){return this._graphRef}set graphRef(e){this._graphRef=e,this.notifyModelPropertyChanged("graphRef")}get activeXScale(){return this._activeXScale}set activeXScale(e){this._activeXScale=e}get activeYScale(){return this._activeYScale}set activeYScale(e){this._activeYScale=e}static get XSCALE_RUNTIME_ID(){return"XScale_RuntimeId"}static get YSCALE_RUNTIME_ID(){return"YScale_RuntimeId"}modelPropertyUsesNIType(e){return"value"===e}controlChanged(e){const t=this.value
this.value=e,super.controlChanged("value",e,t)}gPropertyNIType(e){switch(e){case kl.ACTIVE_CURSOR_G_PROPERTY_NAME:case kl.ACTIVE_PLOT_G_PROPERTY_NAME:case kl.ACTIVE_X_SCALE_G_PROPERTY_NAME:case kl.ACTIVE_Y_SCALE_G_PROPERTY_NAME:case kl.XSCALE_RUNTIME_ID:case kl.YSCALE_RUNTIME_ID:return window.NITypes.INT32
default:return super.gPropertyNIType(e)}}}const Al=Object.freeze({XAxisBottom:"bottom",XAxisTop:"top",YAxisLeft:"left",YAxisRight:"right"}),jl=function(e,t,i){return e.getRoot().controlViewModels[t[i].niControlId]}
class Ml extends ys{constructor(e,t){super(e,t),this.registerAutoSyncProperty("graphRef"),this.registerAutoSyncProperty("metadataOverridesPlotNames")}static get ACTIVE_PLOT_NOT_VALID_ERROR_CODE(){return 363532}static get X_SCALE_NOT_VALID_ERROR_CODE(){return 363534}static get NO_CURSOR_FOR_CURRENT_ACTIVE_CURSOR_VALUE_ERROR_CODE(){return 363539}static get NO_PLOT_FOR_CURRENT_ACTIVE_PLOT_ERROR_CODE(){return 363533}static getAxisPositions(){return Al}static getChildAxisModelsWithGivenAxisPositions(e,...t){return e.childModels.filter(e=>e instanceof xl&&t.find(function(t){return t===e.axisPosition}))}static isActiveScaleIndexInBounds(e,t){return t>=0&&t<e}modelPropertyChanged(e){const t=super.modelPropertyChanged(e)
switch(e){case"plotAreaMargin":t.properties.plotAreaMargin=this.model.plotAreaMargin
break
case"niType":t.properties.niType=this.model.getNITypeString()}return t}updateModelFromElement(){super.updateModelFromElement(),this.element.niType&&(this.model.niType=new window.NIType(this.element.niType))}applyModelToElement(){super.applyModelToElement(this),this.element.niType=this.model.getNITypeString()}bindToView(){const e=this
e.element.addEventListener("mouseenter",function(){e.model.internalControlEventOccurred("InsideGraphBase",!0)}),e.element.addEventListener("mouseleave",function(){e.model.internalControlEventOccurred("InsideGraphBase",!1)})}getPlots(){return this.model.childModels.filter(e=>e instanceof El)}shouldUseAsyncSetGPropertyValue(e){switch(e){case kl.ACTIVE_PLOT_G_PROPERTY_NAME:return!0
default:return super.shouldUseAsyncSetGPropertyValue(e)}}async setGPropertyValueAsync(e,t){const i=this.model,n=this
let r
switch(e){case kl.ACTIVE_PLOT_G_PROPERTY_NAME:if(await Jn.waitForFrameUpdate(),r=n.getPlots().length,!(t>=0&&t<r))throw new Vn(Ri.i18n("msg_PROPERTY_PLOT_SET_INDEX_OUT_OF_BOUNDS",t,r-1),Ml.ACTIVE_PLOT_NOT_VALID_ERROR_CODE)
i.activePlot=t
break
default:await super.setGPropertyValueAsync(e,t)}}setGPropertyValue(e,t){const i=this.model
switch(e){case kl.ACTIVE_CURSOR_G_PROPERTY_NAME:{const e=i.childModels.filter(e=>e instanceof ul).length
if(!(t>=0&&t<e))throw new Vn(Ri.i18n("msg_PROPERTY_CURSOR_SET_INDEX_OUT_OF_BOUNDS",t,e-1),ys.INVALID_PROPERTY_VALUE_ERROR_CODE)
i.activeCursor=t
break}case Ar.VALUE_G_PROPERTY_NAME:i.value=t
break
case Ar.VALUE_SIGNALING_G_PROPERTY_NAME:i.controlChanged(t)
break
case kl.ACTIVE_X_SCALE_G_PROPERTY_NAME:{const n=Ml.getChildAxisModelsWithGivenAxisPositions(i,Al.XAxisBottom,Al.XAxisTop).length
if(!Ml.isActiveScaleIndexInBounds(n,t))throw new Vn(Ri.i18n("msg_PROPERTY_OUT_OF_RANGE",e,n-1),Ml.X_SCALE_NOT_VALID_ERROR_CODE)
i.activeXScale=t
break}case kl.ACTIVE_Y_SCALE_G_PROPERTY_NAME:{const n=Ml.getChildAxisModelsWithGivenAxisPositions(i,Al.YAxisLeft,Al.YAxisRight).length
if(!Ml.isActiveScaleIndexInBounds(n,t))throw new Vn(Ri.i18n("msg_PROPERTY_OUT_OF_RANGE",e,n-1),Ml.X_SCALE_NOT_VALID_ERROR_CODE)
i.activeYScale=t
break}case kl.X_SCALE_G_PROPERTY_NAME:case kl.Y_SCALE_G_PROPERTY_NAME:throw new Vn(Ri.i18n("msg_PROPERTY_CANNOT_BE_SET",e),wr.OPERATION_UNSUPPORTED_ON_CONTROL_ERROR_CODE)
default:super.setGPropertyValue(e,t)}}getGPropertyValue(e){const t=this.model,i=t.getRoot()
switch(e){case kl.CURSOR_G_PROPERTY_NAME:{const e=t.childModels.filter(e=>e instanceof ul)
if(t.activeCursor>=0&&t.activeCursor<e.length)return i.controlViewModels[e[t.activeCursor].niControlId]
throw new Vn(Ri.i18n("msg_PROPERTY_CURSOR_GET_INDEX_OUT_OF_BOUNDS",t.activeCursor,e.length),Ml.NO_CURSOR_FOR_CURRENT_ACTIVE_CURSOR_VALUE_ERROR_CODE)}case kl.PLOT_G_PROPERTY_NAME:{const e=this.getPlots()
if(t.activePlot>=e.length||t.activePlot<0)throw new Vn(Ri.i18n("msg_PROPERTY_PLOT_GET_INDEX_OUT_OF_BOUNDS",t.activePlot,e.length-1),Ml.NO_PLOT_FOR_CURRENT_ACTIVE_PLOT_ERROR_CODE)
return i.controlViewModels[e[t.activePlot].niControlId]}case kl.ACTIVE_CURSOR_G_PROPERTY_NAME:return t.activeCursor
case kl.ACTIVE_PLOT_G_PROPERTY_NAME:return t.activePlot
case Ar.VALUE_G_PROPERTY_NAME:return t.value
case kl.ACTIVE_X_SCALE_G_PROPERTY_NAME:return t.activeXScale
case kl.ACTIVE_Y_SCALE_G_PROPERTY_NAME:return t.activeYScale
case kl.X_SCALE_G_PROPERTY_NAME:{const e=Ml.getChildAxisModelsWithGivenAxisPositions(t,Al.XAxisBottom,Al.XAxisTop)
return jl(t,e,t.activeXScale)}case kl.Y_SCALE_G_PROPERTY_NAME:{const e=Ml.getChildAxisModelsWithGivenAxisPositions(t,Al.YAxisLeft,Al.YAxisRight)
return jl(t,e,t.activeYScale)}case kl.XSCALE_RUNTIME_ID:return Ml.getChildAxisModelsWithGivenAxisPositions(t,Al.XAxisBottom,Al.XAxisTop)[t.activeXScale].niControlId
case kl.YSCALE_RUNTIME_ID:return Ml.getChildAxisModelsWithGivenAxisPositions(t,Al.YAxisLeft,Al.YAxisRight)[t.activeYScale].niControlId
default:return super.getGPropertyValue(e)}}}const Nl=Object.freeze(["solid","dot","dashdot","mediumdash","largedash"]),ql=Object.freeze(["none","ellipse","rectangle","diamond","cross","plus"]),Ol=Object.freeze(["none","zero","positiveinfinity","negativeinfinity"]),Bl=0,Ll=5,Rl=.75
class Hl extends vr{constructor(e){super(e),this._lineWidth=1,this._pointSize=1,this._pointColor="red",this._pointShape="rectangle",this._lineStroke="black",this._lineStyle="solid",this._areaFill="",this._barFill="",this._barWidth=Rl,this._areaBaseLine="zero",this._barBaseLine="zero"}static get MODEL_KIND(){return"niCartesianPlotRenderer"}static get MIN_LINE_WIDTH(){return Bl}static get MAX_LINE_WIDTH(){return Ll}static get LINE_STYLE_OPTIONS(){return Nl}static get POINT_SHAPE_OPTIONS(){return ql}static get FILL_STYLE_OPTIONS(){return Ol}static get DEFAULT_BAR_WIDTH(){return Rl}get lineWidth(){return this._lineWidth}set lineWidth(e){this._lineWidth=e,this.notifyModelPropertyChanged("lineWidth")}get pointSize(){return this._pointSize}set pointSize(e){this._pointSize=e,this.notifyModelPropertyChanged("pointSize")}get pointColor(){return this._pointColor}set pointColor(e){this._pointColor=e,this.notifyModelPropertyChanged("pointColor")}get pointShape(){return this._pointShape}set pointShape(e){this._pointShape=e,this.notifyModelPropertyChanged("pointShape")}get lineStroke(){return this._lineStroke}set lineStroke(e){this._lineStroke=e,this.notifyModelPropertyChanged("lineStroke")}get lineStyle(){return this._lineStyle}set lineStyle(e){this._lineStyle=e,this.notifyModelPropertyChanged("lineStyle")}get areaFill(){return this._areaFill}set areaFill(e){this._areaFill=e,this.notifyModelPropertyChanged("areaFill")}get barFill(){return this._barFill}set barFill(e){this._barFill=e,this.notifyModelPropertyChanged("barFill")}get barWidth(){return this._barWidth}set barWidth(e){this._barWidth=e,this.notifyModelPropertyChanged("barWidth")}get areaBaseLine(){return this._areaBaseLine}set areaBaseLine(e){this._areaBaseLine=e,this.notifyModelPropertyChanged("areaBaseLine")}get barBaseLine(){return this._barBaseLine}set barBaseLine(e){this._barBaseLine=e,this.notifyModelPropertyChanged("barBaseLine")}}cr.registerModel(Hl)
class Vl extends ys{constructor(e,t){super(e,t),this.registerAutoSyncProperty("label"),this.registerAutoSyncProperty("show"),this.registerAutoSyncProperty("xaxis"),this.registerAutoSyncProperty("yaxis"),this.registerAutoSyncProperty("enableHover"),this.registerAutoSyncProperty("hoverFormat")}static get X_AXIS_INDEX_OUT_OF_BOUNDS_ERROR_CODE(){return 363551}static get Y_AXIS_INDEX_OUT_OF_BOUNDS_ERROR_CODE(){return 363552}async getGPropertyValue(e){const t=this.model,i=t.owner,n=Ml.getAxisPositions(),r=t.childModels[0]
switch(e){case El.BAR_WIDTH_G_PROPERTY_NAME:return r.barWidth
case El.COLOR_G_PROPERTY_NAME:{let e=""
return e=""!==r.lineStroke?r.lineStroke:""!==r.pointColor?r.pointColor:""!==r.barFill?r.barFill:r.areaFill,dl.rgbaToInteger(e)}case El.NAME_G_PROPERTY_NAME:return await Jn.waitForFrameUpdate(),t.label
case El.LINE_WIDTH_G_PROPERTY_NAME:return r.lineWidth
case El.LINE_STYLE_G_PROPERTY_NAME:return Hl.LINE_STYLE_OPTIONS.indexOf(r.lineStyle)
case El.FILL_STYLE_G_PROPERTY_NAME:return Hl.FILL_STYLE_OPTIONS.indexOf(r.areaBaseLine)
case El.POINT_SHAPE_G_PROPERTY_NAME:return Hl.POINT_SHAPE_OPTIONS.indexOf(r.pointShape)
case Ar.VISIBLE_G_PROPERTY_NAME:return t.show
case El.X_AXIS_INDEX_G_PROPERTY_NAME:return Ml.getChildAxisModelsWithGivenAxisPositions(i,n.XAxisBottom,n.XAxisTop).findIndex(function(e){return e.niControlId===t.xaxis})
case El.Y_AXIS_INDEX_G_PROPERTY_NAME:return Ml.getChildAxisModelsWithGivenAxisPositions(i,n.YAxisLeft,n.YAxisRight).findIndex(function(e){return e.niControlId===t.yaxis})
default:return super.getGPropertyValue(e)}}setGPropertyValue(e,t){const i=this.model,n=i.owner,r=Ml.getAxisPositions(),o=i.childModels[0]
switch(e){case El.BAR_WIDTH_G_PROPERTY_NAME:o.barWidth=t<0?0:t
break
case El.COLOR_G_PROPERTY_NAME:{const e=dl.integerToRgba(t)
""!==o.lineStroke&&(o.lineStroke=e),""!==o.pointColor&&(o.pointColor=e),""!==o.barFill&&(o.barFill=e),""!==o.areaFill&&(o.areaFill=e)
break}case El.NAME_G_PROPERTY_NAME:i.label=t
break
case El.LINE_WIDTH_G_PROPERTY_NAME:{const e=Hl.MIN_LINE_WIDTH,i=Hl.MAX_LINE_WIDTH
o.lineWidth=Ks.clamp(t,e,i)
break}case El.LINE_STYLE_G_PROPERTY_NAME:{const e=Hl.LINE_STYLE_OPTIONS
o.lineStyle=e[Ks.inRangeOrDefault(t,0,e.length-1,0)]
break}case El.FILL_STYLE_G_PROPERTY_NAME:{const e=Hl.FILL_STYLE_OPTIONS
o.areaBaseLine=e[Ks.inRangeOrDefault(t,1,e.length-1,3)]
break}case El.POINT_SHAPE_G_PROPERTY_NAME:{const e=Hl.POINT_SHAPE_OPTIONS
o.pointShape=e[Ks.inRangeOrDefault(t,0,e.length-1,1)]
break}case Ar.VISIBLE_G_PROPERTY_NAME:i.show=t
break
case El.X_AXIS_INDEX_G_PROPERTY_NAME:{const o=Ml.getChildAxisModelsWithGivenAxisPositions(n,r.XAxisBottom,r.XAxisTop),a=o.length
if(!Ml.isActiveScaleIndexInBounds(a,t))throw new Vn(Ri.i18n("msg_PROPERTY_OUT_OF_RANGE",e,a-1),Vl.X_AXIS_INDEX_OUT_OF_BOUNDS_ERROR_CODE)
i.xaxis=o[t].niControlId
break}case El.Y_AXIS_INDEX_G_PROPERTY_NAME:{const o=Ml.getChildAxisModelsWithGivenAxisPositions(n,r.YAxisLeft,r.YAxisRight),a=o.length
if(!Ml.isActiveScaleIndexInBounds(a,t))throw new Vn(Ri.i18n("msg_PROPERTY_OUT_OF_RANGE",e,a-1),Vl.Y_AXIS_INDEX_OUT_OF_BOUNDS_ERROR_CODE)
i.yaxis=o[t].niControlId
break}default:super.setGPropertyValue(e,t)}}bindToView(){super.bindToView()
const e=this,t=e.element
t.parentElement.addEventListener("ni-cartesian-plot-changed",function(i){i.detail.element===t&&e.model.label!==t.label&&(e.model.label=t.label)})}}cr.registerViewModel(Vl,void 0,El,"ni-cartesian-plot")
var Fl=Object.freeze({CartesianPlotViewModel:Vl})
class zl extends kl{static get MODEL_KIND(){return"niCartesianGraph"}}cr.registerModel(zl)
class $l extends Ml{modelPropertyChanged(e){const t=super.modelPropertyChanged(e),i=this
switch(e){case"value":t.postRender.value=function(){i.element.setData(i.model.value)}}return t}updateModelFromElement(){super.updateModelFromElement(),this.model.value=this.element.value,this.model.defaultValue=this.element.value,this.model.plotAreaMargin=this.element.plotAreaMargin}applyModelToElement(){super.applyModelToElement(),this.element.value=this.model.value,this.element.plotAreaMargin=this.model.plotAreaMargin}}cr.registerViewModel($l,null,zl,"ni-cartesian-graph")
var Ul=Object.freeze({CartesianGraphViewModel:$l})
class Gl extends Ir{constructor(e,t){super(e,t),this.registerAutoSyncProperty("lineWidth"),this.registerAutoSyncProperty("lineStyle"),this.registerAutoSyncProperty("pointShape"),this.registerAutoSyncProperty("pointSize"),this.registerAutoSyncProperty("pointColor"),this.registerAutoSyncProperty("lineStroke"),this.registerAutoSyncProperty("areaFill"),this.registerAutoSyncProperty("barFill"),this.registerAutoSyncProperty("barWidth"),this.registerAutoSyncProperty("areaBaseLine"),this.registerAutoSyncProperty("barBaseLine")}}cr.registerViewModel(Gl,void 0,Hl,"ni-cartesian-plot-renderer")
var Wl=Object.freeze({PlotRendererViewModel:Gl})
const Xl=NationalInstruments.HtmlVI.DataPipeline.TypedHistoryBuffer,Jl=window.NIType,Yl=function(e){return"object"==typeof e&&"HistoryBuffer"===e.valueType},Ql=function(e,t){"analogWaveform"===e.hbType&&function(e,t){const i=function(e,t){const i=new window.NITimestamp(e.t0)
return new window.NITimestamp(t.t0).compare(i.add(e.dt*(e.Y.length-1)))<0}
let n,r
if(1!==e.width||Array.isArray(t)){if(Array.isArray(t)&&t.length===e.width){let o=!1
if(e.hb.buffers.length>0&&e.hb.buffers[0].size>0)for(r=0;r<e.width;r++)if(n=e.hb.buffers[r].size-1,i(e.hb.buffers[r].data[n],t[r])){o=!0
break}for(r=0;r<e.width;r++)o&&e.clear()}}else e.hb.buffer.size>0&&(n=e.hb.buffer.size-1,i(e.hb.buffer.data[n],t)&&e.clear())}(e,t),(!Array.isArray(t)||t.length>0)&&e.pushTypedData(t)},Kl=function(e){return e[0].map(function(t,i){return e.map(function(e){return e[i]})})}
class Zl extends zl{constructor(e){super(e),this._historySize=1024,this._bufferSize=this._historySize,this._value=!0}static get MODEL_KIND(){return"niChart"}getOrCreateAndGetHistoryBuffer(){return void 0===this._historyBuffer?(this._historyBuffer=new Xl(1024,1),this._historyBuffer):this._historyBuffer}get historyBuffer(){return this.getOrCreateAndGetHistoryBuffer()}get historySize(){return this._historySize}set historySize(e){this.historyBuffer.setCapacity(e),this._historySize=e,this.notifyModelPropertyChanged("historySize")}get bufferSize(){return this.historySize}set bufferSize(e){this.historySize=e,this.notifyModelPropertyChanged("bufferSize")}get niType(){return this._niType}set niType(e){let t
t=e instanceof Jl?e:new Jl(e),this.historyBuffer.setNIType(t),this._niType=t,this.notifyModelPropertyChanged("niType")}get value(){}set value(e){if(Yl(e))this.loadHistoryBufferfromJSON(this.historyBuffer,e,this.niType)
else if("string"==typeof e){const t=Hn.editorToJsModel(JSON.parse(e),this.niType)
Ql(this.historyBuffer,t)}else Ql(this.historyBuffer,e)
this.notifyModelPropertyChanged("value")}loadHistoryBufferfromJSON(e,t,i){e.clear()
const n=Array.isArray(t.data[0])?2:1,r=this.getHistoryBufferInnerType(i,n),o=Hn.editorToJsModel(t.data,r)
t.size&&e.setCapacity(t.size),t.timingIndexes?e.indexMap=t.timingIndexes.map(function(e){return new window.NITimestamp(e).toAbsoluteTime()}):e.offset=void 0,void 0!==t.startIndex&&(e.count=t.startIndex),o.length>0&&(Array.isArray(o[0])?(e.setWidth(o.length),e.appendArray(Kl(o))):(e.setWidth(1),e.appendArray(o)))}getHistoryBufferInnerType(e,t){let i=e
return e.isArray()&&(i=e.getSubtype()),i.isCluster()&&(i=window.NITypes.DOUBLE),i.makeArray(t>1?2:1)}modelPropertyUsesNIType(e){return!1}gPropertyNIType(e){switch(e){case Ar.VALUE_G_PROPERTY_NAME:return this.niType.isArray()?this.niType:this.niType.makeArray()}return super.gPropertyNIType(e)}}cr.registerModel(Zl)
class ed extends Ml{static get CHART_PROXY_DOES_NOT_SUPPORT_VALUE_PROPERTY_ERROR_CODE(){return 363540}static get CHART_DOES_NOT_SUPPORT_VALUE_SIGNALING_ERROR_CODE(){return 363541}updateModelFromElement(){super.updateModelFromElement(),this.model.historySize=this.element.bufferSize,this.model.value=this.element.value,this.model.defaultValue=this.element.value,this.element.setHistoryBuffer(this.model.historyBuffer)}applyModelToElement(){super.applyModelToElement(),this.element.setHistoryBuffer(this.model.historyBuffer),this.element.value=this.model.value}setGPropertyValue(e,t){switch(e){case Ar.VALUE_G_PROPERTY_NAME:for(const e of t)this.model.value=e
break
case Ar.VALUE_SIGNALING_G_PROPERTY_NAME:throw new Vn(Ri.i18n("msg_PROPERTY_NOT_SUPPORTED",e),ed.CHART_DOES_NOT_SUPPORT_VALUE_SIGNALING_ERROR_CODE)
default:super.setGPropertyValue(e,t)}}getGPropertyValue(e){switch(e){case Ar.VALUE_G_PROPERTY_NAME:throw new Vn(Ri.i18n("msg_PROPERTY_NOT_SUPPORTED",e),ed.CHART_PROXY_DOES_NOT_SUPPORT_VALUE_PROPERTY_ERROR_CODE)
default:return super.getGPropertyValue(e)}}}cr.registerViewModel(ed,void 0,Zl,"ni-chart")
var td=Object.freeze({ChartViewModel:ed})
const id=window.NITypes,nd=window.NIType,rd=window.NITypeNames,od=Object.freeze({PRESS:"press",RELEASE:"release"}),ad=new nd({name:rd.ARRAY,rank:1,subtype:{name:rd.STRING}})
class sd extends Ar{constructor(e){super(e),this.niType=id.BOOLEAN,this._value=!1,this._contentVisible=!1,this._content="Button",this._clickMode=sd.ClickModeEnum.RELEASE,this._momentary=!1}static get TRUE_COLOR_G_PROPERTY_NAME(){return"TrueColor"}static get FALSE_COLOR_G_PROPERTY_NAME(){return"FalseColor"}static get TEXT_G_PROPERTY_NAME(){return"Text"}get value(){return this._value}set value(e){this._value=e,this.notifyModelPropertyChanged("value")}get contentVisible(){return this._contentVisible}set contentVisible(e){this._contentVisible=e,this.notifyModelPropertyChanged("contentVisible")}get content(){return this._content}set content(e){this._content=e,this.notifyModelPropertyChanged("content")}get clickMode(){return this._clickMode}set clickMode(e){this._clickMode=e,this.notifyModelPropertyChanged("clickMode")}get momentary(){return this._momentary}set momentary(e){this._momentary=e,this.notifyModelPropertyChanged("momentary")}static get ClickModeEnum(){return od}modelPropertyUsesNIType(e){return"value"===e}gPropertyNIType(e){switch(e){case sd.TRUE_COLOR_G_PROPERTY_NAME:case sd.FALSE_COLOR_G_PROPERTY_NAME:return id.UINT32
case sd.TEXT_G_PROPERTY_NAME:return ad}return super.gPropertyNIType(e)}controlChanged(e){const t=this.value
this.value=e,super.controlChanged("value",e,t)}}class ld extends sd{constructor(e){super(e),this._trueBackground="",this._trueForeground="",this._falseBackground="",this._falseForeground="",this._textContent="",this._glyphContent=""}static get MODEL_KIND(){return"niBooleanButton"}get textContent(){return this._textContent}set textContent(e){this._textContent=e,this.notifyModelPropertyChanged("textContent")}get glyphContent(){return this._glyphContent}set glyphContent(e){this._glyphContent=e,this.notifyModelPropertyChanged("glyphContent")}get trueBackground(){return this._trueBackground}set trueBackground(e){this._trueBackground=e,this.notifyModelPropertyChanged("trueBackground")}get trueForeground(){return this._trueForeground}set trueForeground(e){this._trueForeground=e,this.notifyModelPropertyChanged("trueForeground")}get falseBackground(){return this._falseBackground}set falseBackground(e){this._falseBackground=e,this.notifyModelPropertyChanged("falseBackground")}get falseForeground(){return this._falseForeground}set falseForeground(e){this._falseForeground=e,this.notifyModelPropertyChanged("falseForeground")}}cr.registerModel(ld)
class dd extends ys{static get GRADIENTS_NOT_SUPPORTED_ERROR_CODE(){return 1702}convertModelClickModeToJQXClickMode(){return!1===this.model.momentary&&"press"!==this.model.clickMode?"release":!1===this.model.momentary&&"press"===this.model.clickMode?"press":!0===this.model.momentary&&"press"!==this.model.clickMode?"pressAndRelease":""}setModelClickModeFromJQXClickMode(){"release"===this.element.clickMode?(this.model.momentary=!1,this.model.clickMode="release"):"press"===this.element.clickMode?(this.model.momentary=!1,this.model.clickMode="press"):"pressAndRelease"===this.element.clickMode&&(this.model.momentary=!0,this.model.clickMode="release")}getReadOnlyPropertyName(){return"readonly"}modelPropertyChanged(e){let t
const i=super.modelPropertyChanged(e)
switch(e){case"momentary":case"clickMode":""!==(t=this.convertModelClickModeToJQXClickMode())&&(i.properties.clickMode=t)}return i}updateModelFromElement(){super.updateModelFromElement(),this.setModelClickModeFromJQXClickMode()}applyModelToElement(){super.applyModelToElement(),this.element.clickMode=this.convertModelClickModeToJQXClickMode()}setGPropertyValue(e,t){const i=this.model
switch(e){case Ar.VALUE_G_PROPERTY_NAME:i.value=t
break
case Ar.VALUE_SIGNALING_G_PROPERTY_NAME:i.controlChanged(t)
break
case sd.TEXT_G_PROPERTY_NAME:{const e=0
t.length>e&&(i.content=Ri.escapeHtml(t[e]))
break}case sd.TRUE_COLOR_G_PROPERTY_NAME:i.trueBackground=dl.integerToRgba(t)
break
case sd.FALSE_COLOR_G_PROPERTY_NAME:i.falseBackground=dl.integerToRgba(t)
break
default:super.setGPropertyValue(e,t)}}getGPropertyValue(e){const t=this.model
switch(e){case Ar.VALUE_G_PROPERTY_NAME:return t.value
case sd.TEXT_G_PROPERTY_NAME:return[Ri.unescapeHtml(t.content)]
case sd.TRUE_COLOR_G_PROPERTY_NAME:{const i=t.trueBackground
if(dl.isRGBAOrHexFormat(i))return dl.getIntegerValueForInputColor(i)
throw new Vn(Ri.i18n("msg_PROPERTY_WITH_GRADIENT_COLOR_NOT_SUPPORTED",e),dd.GRADIENTS_NOT_SUPPORTED_ERROR_CODE)}case sd.FALSE_COLOR_G_PROPERTY_NAME:{const i=t.falseBackground
if(dl.isRGBAOrHexFormat(i))return dl.getIntegerValueForInputColor(i)
throw new Vn(Ri.i18n("msg_PROPERTY_WITH_GRADIENT_COLOR_NOT_SUPPORTED",e),dd.GRADIENTS_NOT_SUPPORTED_ERROR_CODE)}default:return super.getGPropertyValue(e)}}}const cd=function(e,t){let i,n
e.indexOf("gradient")>=0?(n=e,i="unset"):(i=e,n="unset"),t.cssStyles[er.BORDER_COLOR]=i,t.cssStyles[er.BORDER_GRADIENT]=n}
class hd extends dd{constructor(e,t){super(e,t),this.registerAutoSyncProperty("glyphContent"),this.registerAutoSyncProperty("textContent"),this.registerAutoSyncProperty("contentVisible")}bindToView(){super.bindToView()
const e=this
e.element.addEventListener("change",function(t){if(e.computeReadOnlyForElement()||"api"===t.detail.changeType)return
const i=t.detail.value
e.model.value!==i&&e.model.controlChanged(i)})}modelPropertyChanged(e){const t=this.model,i=super.modelPropertyChanged(e)
switch(e){case"value":i.properties.checked=t.value
break
case"trueBackground":i.cssStyles[er.TRUE_BACKGROUND]=t.trueBackground
break
case"trueForeground":i.cssStyles[er.TRUE_FOREGROUND_COLOR]=t.trueForeground
break
case"falseBackground":i.cssStyles[er.FALSE_BACKGROUND]=t.falseBackground
break
case"falseForeground":i.cssStyles[er.FALSE_FOREGROUND_COLOR]=t.falseForeground
break
case"borderColor":cd(t.borderColor,i)}return i}updateModelFromElement(){const e=this.model,t=this.element
super.updateModelFromElement(),e.value=t.value
const i=window.getComputedStyle(t)
e.trueBackground=i.getPropertyValue(er.TRUE_BACKGROUND),e.trueForeground=i.getPropertyValue(er.TRUE_FOREGROUND_COLOR),e.falseBackground=i.getPropertyValue(er.FALSE_BACKGROUND),e.falseForeground=i.getPropertyValue(er.FALSE_FOREGROUND_COLOR)
let n=i.getPropertyValue(er.BORDER_GRADIENT);-1===n.indexOf("gradient")&&(n=i.getPropertyValue(er.BORDER_COLOR)),e.borderColor=n}applyModelToElement(){const e=this.model,t=this.element
super.applyModelToElement(),t.checked=e.value,t.style.setProperty(er.TRUE_BACKGROUND,e.trueBackground),t.style.setProperty(er.TRUE_FOREGROUND_COLOR,e.trueForeground),t.style.setProperty(er.FALSE_BACKGROUND,e.falseBackground),t.style.setProperty(er.FALSE_FOREGROUND_COLOR,e.falseForeground)
const i=e.borderColor
i.indexOf("gradient")>=0?t.style.setProperty(er.BORDER_GRADIENT,i):t.style.setProperty(er.BORDER_COLOR,i)}setGPropertyValue(e,t){switch(e){case sd.TEXT_G_PROPERTY_NAME:{const e=0
t.length>e&&(this.model.textContent=t[e])
break}default:super.setGPropertyValue(e,t)}}getGPropertyValue(e){switch(e){case sd.TEXT_G_PROPERTY_NAME:return[this.model.textContent]
default:return super.getGPropertyValue(e)}}}cr.registerViewModel(hd,void 0,ld,"jqx-toggle-button")
var ud=Object.freeze({BooleanButtonViewModel:hd})
class pd extends dd{constructor(e,t){super(e,t),this.registerAutoSyncProperty("trueContent"),this.registerAutoSyncProperty("falseContent")}modelPropertyChanged(e){const t=super.modelPropertyChanged(e)
switch(e){case"contentVisible":t.cssStyles[er.CONTENT_DISPLAY]=this.model.contentVisible?zn.REMOVE_CUSTOM_PROPERTY_TOKEN:"none"
break
case"value":t.properties.checked=this.model.value}return t}updateModelFromElement(){super.updateModelFromElement()
const e=window.getComputedStyle(this.element)
this.model.contentVisible="none"!==e.getPropertyValue(er.CONTENT_DISPLAY),this.model.value=this.element.checked}applyModelToElement(){super.applyModelToElement(),this.model.contentVisible||this.element.style.setProperty(er.CONTENT_DISPLAY,"none"),this.element.checked=this.model.value}setGPropertyValue(e,t){const i=this.model
switch(e){case sd.TEXT_G_PROPERTY_NAME:{const e=0
t.length>e&&(i.trueContent=Ri.escapeHtml(t[e]))
const n=1
t.length>n&&(i.falseContent=Ri.escapeHtml(t[n]))
break}default:super.setGPropertyValue(e,t)}}getGPropertyValue(e){const t=this.model
switch(e){case sd.TEXT_G_PROPERTY_NAME:return[Ri.unescapeHtml(t.trueContent),Ri.unescapeHtml(t.falseContent)]
default:return super.getGPropertyValue(e)}}}class md extends sd{constructor(e){super(e),this._trueContent="on",this._falseContent="off",this._falseContentVisibility="false"}get trueContent(){return this._trueContent}set trueContent(e){this._trueContent=e,this.notifyModelPropertyChanged("trueContent")}get falseContent(){return this._falseContent}set falseContent(e){this._falseContent=e,this.notifyModelPropertyChanged("falseContent")}get falseContentVisibility(){return this._falseContentVisibility}set falseContentVisibility(e){this._falseContentVisibility=e,this.notifyModelPropertyChanged("falseContentVisibility")}}const fd=Object.freeze({ROUND:"round",SQUARE:"square"})
class gd extends md{constructor(e){super(e),this._shape=gd.ShapeEnum.ROUND,this._trueBackground="",this._trueForeground="",this._falseBackground="",this._falseForeground=""}static get MODEL_KIND(){return"niBooleanLED"}static get ShapeEnum(){return fd}get shape(){return this._shape}set shape(e){this._shape=e,this.notifyModelPropertyChanged("shape")}get trueBackground(){return this._trueBackground}set trueBackground(e){this._trueBackground=e,this.notifyModelPropertyChanged("trueBackground")}get trueForeground(){return this._trueForeground}set trueForeground(e){this._trueForeground=e,this.notifyModelPropertyChanged("trueForeground")}get falseBackground(){return this._falseBackground}set falseBackground(e){this._falseBackground=e,this.notifyModelPropertyChanged("falseBackground")}get falseForeground(){return this._falseForeground}set falseForeground(e){this._falseForeground=e,this.notifyModelPropertyChanged("falseForeground")}}cr.registerModel(gd)
class vd extends pd{constructor(e,t){super(e,t),this.registerAutoSyncProperty("shape")}bindToView(){super.bindToView()
const e=this
e.element.addEventListener("change",function(t){if(e.computeReadOnlyForElement()||"api"===t.detail.changeType)return
const i=t.detail.value
i!==e.model.value&&e.model.controlChanged(i)})}modelPropertyChanged(e){const t=super.modelPropertyChanged(e)
switch(e){case"trueBackground":t.cssStyles[er.TRUE_BACKGROUND]=this.model.trueBackground
break
case"trueForeground":t.cssStyles[er.TRUE_FOREGROUND_COLOR]=this.model.trueForeground
break
case"falseBackground":t.cssStyles[er.FALSE_BACKGROUND]=this.model.falseBackground
break
case"falseForeground":t.cssStyles[er.FALSE_FOREGROUND_COLOR]=this.model.falseForeground}return t}updateModelFromElement(){super.updateModelFromElement()
const e=window.getComputedStyle(this.element)
this.model.trueBackground=e.getPropertyValue(er.TRUE_BACKGROUND),this.model.trueForeground=e.getPropertyValue(er.TRUE_FOREGROUND_COLOR),this.model.falseBackground=e.getPropertyValue(er.FALSE_BACKGROUND),this.model.falseForeground=e.getPropertyValue(er.FALSE_FOREGROUND_COLOR)}applyModelToElement(){super.applyModelToElement(),this.element.style.setProperty(er.TRUE_BACKGROUND,this.model.trueBackground),this.element.style.setProperty(er.TRUE_FOREGROUND_COLOR,this.model.trueForeground),this.element.style.setProperty(er.FALSE_BACKGROUND,this.model.falseBackground),this.element.style.setProperty(er.FALSE_FOREGROUND_COLOR,this.model.falseForeground)}}cr.registerViewModel(vd,void 0,gd,"jqx-led")
var bd=Object.freeze({BooleanLEDViewModel:vd})
const yd=window.NITypes
class _d extends Ar{constructor(e){super(e),this.niType=yd.UINT32,this._value=4278190080,this._dropDownButtonPosition="right",this._popupEnabled=!1}static get MODEL_KIND(){return"niColorBox"}static get BRUSH_NAME(){return"Brush"}get value(){return this._value}set value(e){this._value=e,this.notifyModelPropertyChanged("value")}get dropDownButtonPosition(){return this._dropDownButtonPosition}set dropDownButtonPosition(e){this._dropDownButtonPosition=e,this.notifyModelPropertyChanged("dropDownButtonPosition")}get popupEnabled(){return this._popupEnabled}set popupEnabled(e){this._popupEnabled=e,this.notifyModelPropertyChanged("popupEnabled")}modelPropertyUsesNIType(e){return"value"===e}controlChanged(e){const t=this.value
this.value=e,super.controlChanged("value",this.value,t)}gPropertyNIType(e){switch(e){case _d.BRUSH_NAME:return yd.UINT32}return super.gPropertyNIType(e)}}cr.registerModel(_d)
class wd{static convert(e){return dl.integerToRgba(e)}static convertBack(e){return"string"==typeof e?dl.getIntegerValueForInputColor(e):0}}class xd extends ys{constructor(e,t){super(e,t),this.registerAutoSyncProperty("dropDownButtonPosition")}bindToView(){super.bindToView()
const e=this
e.element.addEventListener("change",function(t){e.element.close()
const i=wd.convertBack(t.detail.value)
e.model.value!==i&&e.model.controlChanged(i)})}getReadOnlyPropertyName(){return"readonly"}modelPropertyChanged(e){const t=super.modelPropertyChanged(e)
switch(e){case"value":t.properties.value=wd.convert(this.model.value)
break
case"popupEnabled":t.properties.dropDownOpenMode=this.model.popupEnabled?"default":"none"}return t}updateModelFromElement(){super.updateModelFromElement(),this.model.value=wd.convertBack(this.element.value),this.model.defaultValue=this.model.value,this.model.popupEnabled="none"!==this.element.dropDownOpenMode}applyModelToElement(){super.applyModelToElement(),this.element.valueFormat="rgba",this.element.value=wd.convert(this.model.value),this.element.enableCustomColors=!0,this.element.editAlphaChannel=!0,this.element.valueDisplayMode="colorBox",this.element.dropDownOpenMode=this.model.popupEnabled?"default":"none",this.element.displayMode="grid",this.element.palette="custom"}setGPropertyValue(e,t){const i=this.model
switch(e){case Ar.VALUE_G_PROPERTY_NAME:i.value=t
break
case Ar.VALUE_SIGNALING_G_PROPERTY_NAME:i.controlChanged(t)
break
default:super.setGPropertyValue(e,t)}}getGPropertyValue(e){switch(e){case Ar.VALUE_G_PROPERTY_NAME:return this.model.value
default:return super.getGPropertyValue(e)}}}cr.registerViewModel(xd,void 0,_d,"jqx-color-picker")
var Cd=Object.freeze({ColorBoxViewModel:xd})
class Sd extends ga{addAllProperties(e){super.addAllProperties(e),Sd.prototype.addProperty(e,{propertyName:"text",defaultValue:""})}attachedCallback(){const e=super.attachedCallback()
let t
return!0===e&&((t=document.createElement("div")).textContent=this.text,this.appendChild(t)),e}propertyUpdated(e){super.propertyUpdated(e)
const t=this.firstElementChild
switch(e){case"text":t.textContent=this.text}}}tn.registerElement(Sd),fa.defineElementInfo(Sd.prototype,"ni-text","HTMLNIText")
const Td=window.NITypes,Id=Object.freeze({LEFT:"left",CENTER:"center",RIGHT:"right",JUSTIFY:"justify"})
class Ed extends Ar{constructor(e){super(e),this.niType=Td.STRING,this._text="",this._textAlignment=Ed.TextAlignmentEnum.LEFT}static get TextAlignmentEnum(){return Id}static get TEXT_G_PROPERTY_NAME(){return"Text"}static get MODEL_KIND(){return"niText"}get text(){return this._text}set text(e){this._text=e,this.notifyModelPropertyChanged("text")}get textAlignment(){return this._textAlignment}set textAlignment(e){this._textAlignment=e,this.notifyModelPropertyChanged("textAlignment")}modelPropertyUsesNIType(e){return"text"===e}}cr.registerModel(Ed)
class Pd extends ys{constructor(e,t){super(e,t),this.registerAutoSyncProperty("text")}modelPropertyChanged(e){const t=super.modelPropertyChanged(e)
switch(e){case"text":this.model.requestSendControlBounds()
break
case"textAlignment":t.cssStyles[er.TEXT_ALIGN]=this.model.textAlignment}return t}updateModelFromElement(){super.updateModelFromElement()
const e=this.model,t=this.element,i=window.getComputedStyle(t)
e.textAlignment=i.getPropertyValue(er.TEXT_ALIGN),e.defaultValue=t.text}applyModelToElement(){super.applyModelToElement(),this.element.style.setProperty(er.TEXT_ALIGN,this.model.textAlignment)}setGPropertyValue(e,t){const i=this.model
switch(e){case Ed.TEXT_G_PROPERTY_NAME:i.text=t
break
default:super.setGPropertyValue(e,t)}}getGPropertyValue(e){const t=this.model
switch(e){case Ed.TEXT_G_PROPERTY_NAME:return t.text
default:return super.getGPropertyValue(e)}}}cr.registerViewModel(Pd,Sd,Ed)
var Dd=Object.freeze({TextViewModel:Pd})
class kd extends ga{addAllProperties(e){super.addAllProperties(e)
const t=kd.prototype
t.addProperty(e,{propertyName:"text",defaultValue:""}),t.addProperty(e,{propertyName:"controlId",defaultValue:""})}attachedCallback(){const e=super.attachedCallback()
if(!0===e){const e=document.createElement("label")
this.appendChild(e),e.textContent=this.text}return e}propertyUpdated(e){super.propertyUpdated(e)
const t=this.firstElementChild
switch(e){case"text":t.textContent=this.text}}}tn.registerElement(kd),fa.defineElementInfo(kd.prototype,"ni-label","HTMLNILabel")
const Ad=window.NITypes
class jd extends Ar{constructor(e){super(e),this._text="",this._owningControlVisible=!0}static get TEXT_G_PROPERTY_NAME(){return"Text"}static get MODEL_KIND(){return"niLabel"}get text(){return this._text}set text(e){this._text=e,this.notifyModelPropertyChanged("text")}get owningControlVisible(){return this._owningControlVisible}set owningControlVisible(e){this._owningControlVisible=e,this.notifyModelPropertyChanged("owningControlVisible")}gPropertyNIType(e){switch(e){case jd.TEXT_G_PROPERTY_NAME:return Ad.STRING}return super.gPropertyNIType(e)}}cr.registerModel(jd)
class Md extends ys{constructor(e,t){super(e,t),this.registerAutoSyncProperty("text")}static get LOCKED_LABEL_POSITION_ERROR_CODE(){return 363558}static get LOCKED_LABEL_SIZE_ERROR_CODE(){return 363559}modelPropertyChanged(e){const t=super.modelPropertyChanged(e)
switch(e){case"text":case"labelAlignment":this.model.requestSendControlBounds()}return t}setGPropertyValue(e,t){const i=this.model
switch(e){case jd.TEXT_G_PROPERTY_NAME:i.text=t
break
case Ar.POSITION_G_PROPERTY_NAME:throw new Vn(Ri.i18n("msg_PROPERTY_CANNOT_BE_SET",e),Md.LOCKED_LABEL_POSITION_ERROR_CODE)
case Ar.SIZE_G_PROPERTY_NAME:throw new Vn(Ri.i18n("msg_PROPERTY_CANNOT_BE_SET",e),Md.LOCKED_LABEL_SIZE_ERROR_CODE)
default:super.setGPropertyValue(e,t)}}getGPropertyValue(e){const t=this.model
switch(e){case jd.TEXT_G_PROPERTY_NAME:return t.text
case Ar.SIZE_G_PROPERTY_NAME:throw new Vn(Ri.i18n("msg_PROPERTY_CANNOT_BE_GET",e),wr.OPERATION_UNSUPPORTED_ON_CONTROL_ERROR_CODE)
default:return super.getGPropertyValue(e)}}isFollower(){return!0}}cr.registerViewModel(Md,kd,jd)
var Nd=Object.freeze({LabelViewModel:Md})
const qd=window.NITypes
class Od extends Ar{constructor(e){super(e),this.niType=qd.STRING,this._href="",this._target="",this._content="",this._textAlignment="left"}static get MODEL_KIND(){return"niHyperlink"}get href(){return this._href}set href(e){this._href=e,this.notifyModelPropertyChanged("href")}get target(){return this._target}set target(e){this._target=e,this.notifyModelPropertyChanged("target")}get content(){return this._content}set content(e){this._content=e,this.notifyModelPropertyChanged("content")}get textAlignment(){return this._textAlignment}set textAlignment(e){this._textAlignment=e,this.notifyModelPropertyChanged("textAlignment")}modelPropertyUsesNIType(e){return"href"===e}controlChanged(e){const t=this.href
this.href=e,super.controlChanged("href",e,t)}}cr.registerModel(Od)
class Bd extends ys{constructor(e,t){super(e,t),this.registerAutoSyncProperty("content"),this.registerAutoSyncProperty("target")}modelPropertyChanged(e){const t=super.modelPropertyChanged(e)
switch(e){case"href":t.properties.href=this.model.href
break
case"textAlignment":t.cssStyles[er.TEXT_ALIGN]=this.model.textAlignment}return t}updateModelFromElement(){super.updateModelFromElement()
const e=this.model,t=this.element
e.defaultValue=t.href,e.href=t.href
const i=window.getComputedStyle(this.element)
this.model.textAlignment=i.getPropertyValue(er.TEXT_ALIGN)}applyModelToElement(){super.applyModelToElement(),this.element.href=this.model.href,this.element.style.setProperty(er.TEXT_ALIGN,this.model.textAlignment)}setGPropertyValue(e,t){const i=this.model
switch(e){case Ar.VALUE_G_PROPERTY_NAME:i.href=t
break
case Ar.VALUE_SIGNALING_G_PROPERTY_NAME:i.controlChanged(t)
break
default:super.setGPropertyValue(e,t)}}getGPropertyValue(e){const t=this.model
switch(e){case Ar.VALUE_G_PROPERTY_NAME:return t.href
default:return super.getGPropertyValue(e)}}}cr.registerViewModel(Bd,void 0,Od,"ni-hyperlink")
var Ld=Object.freeze({HyperlinkViewModel:Bd})
const Rd=window.NITypes,Hd=ma.TextDisplayMode
class Vd extends Ar{constructor(e){super(e),this.niType=Rd.STRING,this._text="",this._acceptsReturn=!1,this._typeToReplace=!1,this._wordWrap=!1,this._textAlignment="left",this._allowVerticalScrollbar=!0,this._allowHorizontalScrollbar=!1,this._escapedDisplayMode=Hd.DEFAULT}static get ENABLE_WRAP_G_PROPERTY_NAME(){return"EnableWrap"}static get HORIZONTAL_SCROLL_BAR_VISIBILITY_G_PROPERTY_NAME(){return"HorizontalScrollBarVisibility"}static get SELECT_ALL_ON_FOCUS_G_PROPERTY_NAME(){return"SelectAllOnFocus"}static get VERTICAL_SCROLLBAR_VISIBILITY_G_PROPERTY_NAME(){return"VerticalScrollBarVisibility"}static get ESCAPE_SEQUENCE_G_PROPERTY_NAME(){return"ShowEscapeSequences"}static get MODEL_KIND(){return"niStringControl"}get text(){return this._text}set text(e){this._text=e,this.notifyModelPropertyChanged("text")}get escapedDisplayMode(){return this._escapedDisplayMode}set escapedDisplayMode(e){this._escapedDisplayMode=e,this.notifyModelPropertyChanged("escapedDisplayMode")}get acceptsReturn(){return this._acceptsReturn}set acceptsReturn(e){this._acceptsReturn=e,this.notifyModelPropertyChanged("acceptsReturn")}get typeToReplace(){return this._typeToReplace}set typeToReplace(e){this._typeToReplace=e,this.notifyModelPropertyChanged("typeToReplace")}get wordWrap(){return this._wordWrap}set wordWrap(e){this._wordWrap=e,this.notifyModelPropertyChanged("wordWrap")}get textAlignment(){return this._textAlignment}set textAlignment(e){this._textAlignment=e,this.notifyModelPropertyChanged("textAlignment")}get allowVerticalScrollbar(){return this._allowVerticalScrollbar}set allowVerticalScrollbar(e){this._allowVerticalScrollbar=e,this.notifyModelPropertyChanged("allowVerticalScrollbar")}get allowHorizontalScrollbar(){return this._allowHorizontalScrollbar}set allowHorizontalScrollbar(e){this._allowHorizontalScrollbar=e,this.notifyModelPropertyChanged("allowHorizontalScrollbar")}modelPropertyUsesNIType(e){return"text"===e}controlChanged(e){const t=this.text
this.text=e,super.controlChanged("text",e,t)}gPropertyNIType(e){switch(e){case Vd.HORIZONTAL_SCROLL_BAR_VISIBILITY_G_PROPERTY_NAME:case Vd.VERTICAL_SCROLLBAR_VISIBILITY_G_PROPERTY_NAME:return Rd.UINT32
case Vd.ENABLE_WRAP_G_PROPERTY_NAME:case Vd.ESCAPE_SEQUENCE_G_PROPERTY_NAME:case Vd.SELECT_ALL_ON_FOCUS_G_PROPERTY_NAME:return Rd.BOOLEAN}return super.gPropertyNIType(e)}}cr.registerModel(Vd)
const Fd=ma.TextDisplayMode,zd=e=>e?"auto":"hidden",$d=e=>"hidden"!==e,Ud=Object.freeze({None:0,Automatic:1})
class Gd extends ys{constructor(e,t){super(e,t),this.registerAutoSyncProperty("acceptsReturn"),this.registerAutoSyncProperty("typeToReplace"),this.registerAutoSyncProperty("wordWrap")}static get scrollBarVisibilityEnum(){return Ud}bindToView(){super.bindToView()
const e=this
e.bindFocusEventListener(),e.element.addEventListener("text-changed",function(t){e.model.controlChanged(t.detail.text)})}modelPropertyChanged(e){const t=super.modelPropertyChanged(e)
switch(e){case"text":t.properties.textNonSignaling=this.model.text
break
case"escapedDisplayMode":t.properties.escapedDisplayMode=this.model.escapedDisplayMode
break
case"textAlignment":t.cssStyles[er.TEXT_ALIGN]=this.model.textAlignment
break
case"allowHorizontalScrollbar":t.cssStyles[er.OVERFLOW_X]=zd(this.model.allowHorizontalScrollbar)
break
case"allowVerticalScrollbar":t.cssStyles[er.OVERFLOW_Y]=zd(this.model.allowVerticalScrollbar)}return t}updateModelFromElement(){super.updateModelFromElement(),this.model.text=this.element.text,this.model.defaultValue=this.element.text,this.model.escapedDisplayMode=this.element.escapedDisplayMode
const e=window.getComputedStyle(this.element)
this.model.textAlignment=e.getPropertyValue(er.TEXT_ALIGN),this.model.allowHorizontalScrollbar=$d(e.getPropertyValue(er.OVERFLOW_X)),this.model.allowVerticalScrollbar=$d(e.getPropertyValue(er.OVERFLOW_Y))}applyModelToElement(){super.applyModelToElement(),this.element.textNonSignaling=this.model.text,this.element.escapedDisplayMode=this.model.escapedDisplayMode,this.element.style.setProperty(er.TEXT_ALIGN,this.model.textAlignment),this.element.style.setProperty(er.OVERFLOW_X,zd(this.model.allowHorizontalScrollbar)),this.element.style.setProperty(er.OVERFLOW_Y,zd(this.model.allowVerticalScrollbar))}setGPropertyValue(e,t){const i=this.model
switch(e){case Ar.VALUE_G_PROPERTY_NAME:i.text=t
break
case Vd.ENABLE_WRAP_G_PROPERTY_NAME:i.wordWrap=t
break
case Ar.VALUE_SIGNALING_G_PROPERTY_NAME:i.controlChanged(t)
break
case Vd.VERTICAL_SCROLLBAR_VISIBILITY_G_PROPERTY_NAME:i.allowVerticalScrollbar=t===Gd.scrollBarVisibilityEnum.Automatic
break
case Vd.HORIZONTAL_SCROLL_BAR_VISIBILITY_G_PROPERTY_NAME:i.allowHorizontalScrollbar=t===Gd.scrollBarVisibilityEnum.Automatic
break
case Vd.SELECT_ALL_ON_FOCUS_G_PROPERTY_NAME:i.typeToReplace=t
break
case Vd.ESCAPE_SEQUENCE_G_PROPERTY_NAME:i.escapedDisplayMode=t?Fd.ESCAPED:Fd.DEFAULT
break
default:super.setGPropertyValue(e,t)}}getGPropertyValue(e){const t=this.model
switch(e){case Ar.VALUE_G_PROPERTY_NAME:return t.text
case Vd.ENABLE_WRAP_G_PROPERTY_NAME:return t.wordWrap
case Vd.VERTICAL_SCROLLBAR_VISIBILITY_G_PROPERTY_NAME:return t.allowVerticalScrollbar?Gd.scrollBarVisibilityEnum.Automatic:Gd.scrollBarVisibilityEnum.None
case Vd.HORIZONTAL_SCROLL_BAR_VISIBILITY_G_PROPERTY_NAME:return t.allowHorizontalScrollbar?Gd.scrollBarVisibilityEnum.Automatic:Gd.scrollBarVisibilityEnum.None
case Vd.SELECT_ALL_ON_FOCUS_G_PROPERTY_NAME:return t.typeToReplace
case Vd.ESCAPE_SEQUENCE_G_PROPERTY_NAME:return t.escapedDisplayMode===Fd.ESCAPED
default:return super.getGPropertyValue(e)}}async invokeInternalControlFunction(e,t){switch(await Jn.waitForFrameUpdate(),e){case"scrollToEnd":this.element.tryScrollToEnd()
break
default:super.invokeInternalControlFunction(e,t)}}}cr.registerViewModel(Gd,void 0,Vd,"ni-string-control")
var Wd=Object.freeze({StringControlViewModel:Gd})
const Xd=NationalInstruments.Globals.jQuery,Jd=Object.freeze({ABSOLUTE:"absolute",RELATIVE:"relative"}),Yd=function(e){const t=Xd(e.firstElementChild),i=Xd(e._popoverTag)
if(!0===e.popupEnabled){const e=t.find(".jqx-path-control-button")
i.jqxPopover({selector:e,position:"right",animationOpenDelay:0,animationCloseDelay:0})}else i.jqxPopover("destroy")},Qd=function(e){return 0!==e.length},Kd=function(e){let t,i=e.split("/")
return t=0===i[0].length?Jd.ABSOLUTE:Jd.RELATIVE,{components:i=i.filter(Qd),type:t}},Zd=function(e){if(void 0===(e=JSON.parse(e))||void 0===e.components)return""
let t=e.components.join("/")
return e.type===Jd.ABSOLUTE&&(t="/"+t,1===e.components.length&&(t+="/")),t}
class ec extends ga{addAllProperties(e){super.addAllProperties(e)
const t=ec.prototype
t.addProperty(e,{propertyName:"path",defaultValue:JSON.stringify({components:[],type:Jd.ABSOLUTE}),fireEvent:!0,addNonSignalingProperty:!0}),t.addProperty(e,{propertyName:"format",defaultValue:"windows"}),t.addProperty(e,{propertyName:"popupEnabled",defaultValue:!1}),Ri.setValuePropertyDescriptor(e,"path","path","pathNonSignaling","path-changed")}setPath(e){this.isNotAPath()&&""===e||(this.path=JSON.stringify(Kd(e)))}setNotAPath(){this.path=JSON.stringify({components:[],type:Jd.ABSOLUTE})}isNotAPath(){const e=JSON.parse(this.path)
return null==e||void 0===e.components||0===e.components.length&&e.type===Jd.ABSOLUTE}createdCallback(){super.createdCallback(),this._popoverTag=void 0}attachedCallback(){const e=super.attachedCallback(),t=this
let i,n,r,o
return!0===e&&((i={}).readOnly=this.readOnly,i.pathFormat=this.format,i.accept=".*",(n=document.createElement("div")).classList.add("ni-path-box"),this.appendChild(n),(r=Xd(n)).jqxPathControl(i),r.jqxPathControl("val",Zd(this.path)),this._popoverTag=document.createElement("div"),(o=document.createElement("button")).classList.add("ni-path-selector","ni-not-a-path-reset-button"),o.type="button",o.textContent=Ri.i18n("msg_SET_TO_NOT_A_PATH"),o.addEventListener("click",function(){Xd(t._popoverTag).jqxPopover("close"),t.setNotAPath()}),this._popoverTag.appendChild(o),Yd(this),r.on("change",function(){t.setPath(r.val("unix"))})),e}forceResize(e){super.forceResize(e),Xd(this.firstElementChild).jqxPathControl(e)}propertyUpdated(e){super.propertyUpdated(e)
const t=this.firstElementChild,i=Xd(t)
switch(e){case"readOnly":i.jqxPathControl({readOnly:this.readOnly})
break
case"path":this.isNotAPath()?i.jqxPathControl("clear"):i.jqxPathControl("val",Zd(this.path))
break
case"format":i.jqxPathControl({pathFormat:this.format})
break
case"popupEnabled":Yd(this)}}}tn.registerElement(ec),fa.defineElementInfo(ec.prototype,"ni-path-selector","HTMLNIPathSelector")
const tc=window.NITypes
class ic extends Ar{constructor(e){super(e),this.niType=tc.PATH,this._path={components:[],type:Jd.ABSOLUTE},this._format="windows",this._popupEnabled=!1,this._textAlignment="left"}static get MODEL_KIND(){return"niPathSelector"}get path(){return this._path}set path(e){this._path=e,this.notifyModelPropertyChanged("path")}get format(){return this._format}set format(e){this._format=e,this.notifyModelPropertyChanged("format")}get popupEnabled(){return this._popupEnabled}set popupEnabled(e){this._popupEnabled=e,this.notifyModelPropertyChanged("popupEnabled")}get textAlignment(){return this._textAlignment}set textAlignment(e){this._textAlignment=e,this.notifyModelPropertyChanged("textAlignment")}modelPropertyUsesNIType(e){return"path"===e}controlChanged(e){const t=this.path
this.path=e,super.controlChanged("path",e,t)}}cr.registerModel(ic)
class nc extends ys{constructor(e,t){super(e,t),this.registerAutoSyncProperty("format"),this.registerAutoSyncProperty("popupEnabled")}bindToView(){super.bindToView()
const e=this
e.enableResizeHack(),e.bindFocusEventListener(),e.element.addEventListener("path-changed",function(t){const i=t.detail.path,n=JSON.parse(i)
e.model.controlChanged(n)})}modelPropertyChanged(e){const t=super.modelPropertyChanged(e)
let i
switch(e){case"path":i=this.model.path,t.properties.pathNonSignaling=JSON.stringify(i)
break
case"textAlignment":t.cssStyles[er.TEXT_ALIGN]=this.model.textAlignment}return t}updateModelFromElement(){super.updateModelFromElement(),this.model.path=JSON.parse(this.element.path),this.model.defaultValue=JSON.parse(this.element.path),this.model.popupEnabled=this.element.popupEnabled
const e=window.getComputedStyle(this.element)
this.model.textAlignment=e.getPropertyValue(er.TEXT_ALIGN)}applyModelToElement(){super.applyModelToElement()
const e=this.model.path
this.element.pathNonSignaling=JSON.stringify(e),this.element.popupEnabled=this.model.popupEnabled,this.element.style.setProperty(er.TEXT_ALIGN,this.model.textAlignment)}}cr.registerViewModel(nc,ec,ic)
var rc=Object.freeze({PathSelectorViewModel:nc})
const oc=window.NITypes,ac="-9223372036854775808:0",sc="9223372036854775807:0",lc={value:!0,minimum:!0,maximum:!0}
class dc extends Ar{constructor(e){super(e),this.niType=oc.TIMESTAMP,this._minimum=ac,this._maximum=sc,this._value="0:0",this._formatString="MM/dd/yyyy hh:mm:ss.fff tt",this._showCalendarButton=!1,this._spinButtons=!1,this._textAlignment="left"}static get MODEL_KIND(){return"niTimeStampTextBox"}get minimum(){return this._minimum}set minimum(e){this._minimum=e,this.notifyModelPropertyChanged("minimum")}get maximum(){return this._maximum}set maximum(e){this._maximum=e,this.notifyModelPropertyChanged("maximum")}get value(){return this._value}set value(e){this._value=e,this.notifyModelPropertyChanged("value")}get formatString(){return this._formatString}set formatString(e){this._formatString=e,this.notifyModelPropertyChanged("formatString")}get showCalendarButton(){return this._showCalendarButton}set showCalendarButton(e){this._showCalendarButton=e,this.notifyModelPropertyChanged("showCalendarButton")}get spinButtons(){return this._spinButtons}set spinButtons(e){this._spinButtons=e,this.notifyModelPropertyChanged("spinButtons")}get textAlignment(){return this._textAlignment}set textAlignment(e){this._textAlignment=e,this.notifyModelPropertyChanged("textAlignment")}modelPropertyUsesNIType(e){return!0===lc[e]}controlChanged(e){const t=this.value
this.value=e,super.controlChanged("value",e,t)}}cr.registerModel(dc)
const cc=function(e){return e.computeReadOnlyForElement()?"full":"partial"}
class hc extends ys{static viewReady(e){NationalInstruments.JQXElement.addHandlersForMouseWheel(e)
const t=vn.PanelLocationEnum.IDE_EDIT
Br.getWebAppModelByVIRef(e.viRef).location===t&&e.addEventListener("focus",function(e){e.stopPropagation()},!0)}getReadOnlyPropertyName(){return"readonly"}bindToView(){super.bindToView()
const e=this
e.bindFocusEventListener(),e.element.addEventListener("change",function(t){if(t.target===e.element){const i=Qn.convertBack(t.detail.value,e.element)
e.model.controlChanged(i)}})}modelPropertyChanged(e){const t=super.modelPropertyChanged(e)
switch(e){case"value":t.properties.value=Qn.convert(this.model.value)
break
case"minimum":t.properties.min=Qn.convert(this.model.minimum)
break
case"maximum":t.properties.max=Qn.convert(this.model.maximum)
break
case"showCalendarButton":t.properties.calendarButton=this.model.showCalendarButton
break
case"spinButtons":t.properties.spinButtons=this.model.spinButtons
break
case"formatString":t.attributes["format-string"]=this.model.formatString
break
case"textAlignment":t.cssStyles[er.TEXT_ALIGN]=this.model.textAlignment}return t}updateModelFromElement(){super.updateModelFromElement(),this.model.value=Qn.convertBack(this.element.value,this.element),this.model.minimum=Qn.convertBack(this.element.min,this.element),this.model.maximum=Qn.convertBack(this.element.max,this.element),this.model.spinButtons=this.element.spinButtons,this.model.showCalendarButton=this.element.calendarButton,this.model.formatString=this.element.formatString
const e=window.getComputedStyle(this.element)
this.model.textAlignment=e.getPropertyValue(er.TEXT_ALIGN)}applyModelToElement(){super.applyModelToElement(),this.element.validation="interaction",this.element.value=Qn.convert(this.model.value),this.element.min=Qn.convert(this.model.minimum),this.element.max=Qn.convert(this.model.maximum),this.element.spinButtons=this.model.spinButtons,this.element.setAttribute("format-string",this.model.formatString),this.element.showCalendarButton=this.model.showCalendarButton,this.element.spinButtonsPosition="left",this.element.spinButtonsInitialDelay=500,this.element.dropDownDisplayMode="classic",this.element.displayKind="local",this.element.style.setProperty(er.TEXT_ALIGN,this.model.textAlignment),this.element.editMode=cc(this)}setGPropertyValue(e,t){const i=this.model
switch(e){case Ar.VALUE_G_PROPERTY_NAME:i.value=t
break
case Ar.VALUE_SIGNALING_G_PROPERTY_NAME:i.controlChanged(t)
break
default:super.setGPropertyValue(e,t)}}getGPropertyValue(e){const t=this.model
switch(e){case Ar.VALUE_G_PROPERTY_NAME:return t.value
default:return super.getGPropertyValue(e)}}}cr.registerViewModel(hc,void 0,dc,"jqx-date-time-picker")
var uc=Object.freeze({TimeStampTextBoxViewModel:hc})
const pc=Object.freeze({NONE:"none",UNIFORM:"uniform",UNIFORM_TO_FILL:"uniformtofill",FILL:"fill"}),mc=function(e){const t=e
t.innerHTML=""
let i=e
if(""!==t.href){const n=document.createElement("a")
n.classList.add("ni-image-link"),n.rel="noopener",t.disabled||(n.href=t.href),n.target=t.target,e.appendChild(n),i=n}const n=document.createElement("div")
n.classList.add("ni-image-box"),n.style.width="100%",n.style.height="100%",""!==t.source&&(n.style.backgroundImage="url("+t.source+")"),""!==t.stretch&&t.stretch!==pc.NONE&&n.classList.add("ni-stretch-"+t.stretch),n.title=t.alternate,i.appendChild(n)}
class fc extends ga{addAllProperties(e){super.addAllProperties(e)
const t=fc.prototype
t.addProperty(e,{propertyName:"source",defaultValue:"",fireEvent:!0,addNonSignalingProperty:!0}),t.addProperty(e,{propertyName:"alternate",defaultValue:""}),t.addProperty(e,{propertyName:"href",defaultValue:""}),t.addProperty(e,{propertyName:"target",defaultValue:""}),t.addProperty(e,{propertyName:"stretch",defaultValue:pc.UNIFORM}),Ri.setValuePropertyDescriptor(e,"source","source","sourceNonSignaling","source-changed")}attachedCallback(){const e=super.attachedCallback()
return!0===e&&mc(this),e}propertyUpdated(e){switch(super.propertyUpdated(e),e){case"alternate":case"href":case"target":case"source":case"stretch":case"disabled":mc(this)}}focus(...e){const t=this.querySelector("a")
if(null!==t)return t.focus(...e)}}tn.registerElement(fc),fa.defineElementInfo(fc.prototype,"ni-url-image","HTMLNIUrlImage")
const gc=pc,vc=window.NITypes
class bc extends Ar{constructor(e){super(e),this.niType=vc.STRING,this._source="",this._alternate="",this._href="",this._target="",this._stretch=gc.UNIFORM}static get MODEL_KIND(){return"niUrlImage"}static get HYPERLINK_URL_G_PROPERTY_NAME(){return"HyperlinkUrl"}get source(){return this._source}set source(e){this._source=e,this.notifyModelPropertyChanged("source")}get alternate(){return this._alternate}set alternate(e){this._alternate=e,this.notifyModelPropertyChanged("alternate")}get href(){return this._href}set href(e){this._href=e,this.notifyModelPropertyChanged("href")}get target(){return this._target}set target(e){this._target=e,this.notifyModelPropertyChanged("target")}get stretch(){return this._stretch}set stretch(e){this._stretch=e,this.notifyModelPropertyChanged("stretch")}modelPropertyUsesNIType(e){return"source"===e}gPropertyNIType(e){switch(e){case bc.HYPERLINK_URL_G_PROPERTY_NAME:return vc.STRING}}}cr.registerModel(bc)
class yc extends ys{constructor(e,t){super(e,t),this.registerAutoSyncProperty("alternate"),this.registerAutoSyncProperty("href"),this.registerAutoSyncProperty("target"),this.registerAutoSyncProperty("stretch")}modelPropertyChanged(e){const t=super.modelPropertyChanged(e)
switch(e){case"source":t.properties.sourceNonSignaling=this.model.source}return t}updateModelFromElement(){super.updateModelFromElement(),this.model.defaultValue=this.element.source,this.model.source=this.element.source}applyModelToElement(){super.applyModelToElement(),this.element.sourceNonSignaling=this.model.source}setGPropertyValue(e,t){const i=this.model
switch(e){case Ar.VALUE_G_PROPERTY_NAME:i.source=t
break
case bc.HYPERLINK_URL_G_PROPERTY_NAME:i.href=t
break
default:super.setGPropertyValue(e,t)}}getGPropertyValue(e){const t=this.model
switch(e){case Ar.VALUE_G_PROPERTY_NAME:return t.source
case bc.HYPERLINK_URL_G_PROPERTY_NAME:return t.href
default:return super.getGPropertyValue(e)}}}cr.registerViewModel(yc,fc,bc)
var _c=Object.freeze({UrlImageViewModel:yc})
const wc=window.NITypes
class xc extends sd{constructor(e){super(e),this._textAlignment="left",this._trueBackground="",this._falseBackground="",this._textColor="",this._checkMarkColor="",this._textContent=""}static get CHECK_MARK_COLOR_G_PROPERTY_NAME(){return"CheckMarkColor"}static get MODEL_KIND(){return"niCheckBox"}get textAlignment(){return this._textAlignment}set textAlignment(e){this._textAlignment=e,this.notifyModelPropertyChanged("textAlignment")}get trueBackground(){return this._trueBackground}set trueBackground(e){this._trueBackground=e,this.notifyModelPropertyChanged("trueBackground")}get falseBackground(){return this._falseBackground}set falseBackground(e){this._falseBackground=e,this.notifyModelPropertyChanged("falseBackground")}get textColor(){return this._textColor}set textColor(e){this._textColor=e,this.notifyModelPropertyChanged("textColor")}get checkMarkColor(){return this._checkMarkColor}set checkMarkColor(e){this._checkMarkColor=e,this.notifyModelPropertyChanged("checkMarkColor")}get textContent(){return this._textContent}set textContent(e){this._textContent=e,this.notifyModelPropertyChanged("textContent")}gPropertyNIType(e){switch(e){case xc.CHECK_MARK_COLOR_G_PROPERTY_NAME:return wc.UINT32}return super.gPropertyNIType(e)}}cr.registerModel(xc)
cr.registerViewModel(class extends dd{constructor(e,t){super(e,t),this.registerAutoSyncProperty("textContent"),this.registerAutoSyncProperty("contentVisible")}bindToView(){super.bindToView()
const e=this
e.element.addEventListener("change",function(){if(e.computeReadOnlyForElement())return
const t=e.element.checked
e.model.value!==t&&e.model.controlChanged(t)})}modelPropertyChanged(e){const t=this.model,i=super.modelPropertyChanged(e)
switch(e){case"value":i.properties.checked=t.value
break
case"textAlignment":i.cssStyles[er.TEXT_ALIGN]=t.textAlignment
break
case"trueBackground":i.cssStyles[er.TRUE_BACKGROUND]=t.trueBackground
break
case"falseBackground":i.cssStyles[er.FALSE_BACKGROUND]=t.falseBackground
break
case"textColor":i.cssStyles[er.FOREGROUND_COLOR]=t.textColor
break
case"checkMarkColor":i.cssStyles[er.CHECK_MARK_COLOR]=t.checkMarkColor}return i}updateModelFromElement(){super.updateModelFromElement(),this.model.readOnly=this.element.readonly,this.model.value=this.element.checked
const e=window.getComputedStyle(this.element)
this.model.textAlignment=e.getPropertyValue(er.TEXT_ALIGN),this.model.trueBackground=e.getPropertyValue(er.TRUE_BACKGROUND),this.model.falseBackground=e.getPropertyValue(er.FALSE_BACKGROUND),this.model.textColor=e.getPropertyValue(er.FOREGROUND_COLOR),this.model.checkMarkColor=e.getPropertyValue(er.CHECK_MARK_COLOR)}applyModelToElement(){const e=this.element,t=this.model
super.applyModelToElement(),e.checked=t.value,e.checkMode="both",e.style.setProperty(er.TEXT_ALIGN,t.textAlignment),e.style.setProperty(er.TRUE_BACKGROUND,t.trueBackground),e.style.setProperty(er.FALSE_BACKGROUND,t.falseBackground),e.style.setProperty(er.FOREGROUND_COLOR,t.textColor),e.style.setProperty(er.CHECK_MARK_COLOR,t.checkMarkColor)}setGPropertyValue(e,t){const i=this.model
switch(e){case xc.CHECK_MARK_COLOR_G_PROPERTY_NAME:i.checkMarkColor=dl.integerToRgba(t)
break
case sd.TEXT_G_PROPERTY_NAME:{const e=0
t.length>e&&(i.textContent=t[e])
break}default:super.setGPropertyValue(e,t)}}getGPropertyValue(e){const t=this.model
switch(e){case xc.CHECK_MARK_COLOR_G_PROPERTY_NAME:{const i=t.checkMarkColor
if(dl.isRGBAOrHexFormat(i))return dl.getIntegerValueForInputColor(i)
throw new Vn(Ri.i18n("msg_PROPERTY_WITH_GRADIENT_COLOR_NOT_SUPPORTED",e),dd.GRADIENTS_NOT_SUPPORTED_ERROR_CODE)}case sd.TEXT_G_PROPERTY_NAME:return[t.textContent]
default:return super.getGPropertyValue(e)}}},void 0,xc,"jqx-check-box")
var Cc=Object.freeze({})
const Sc=Object.freeze({VERTICAL:"vertical",HORIZONTAL:"horizontal"})
class Tc extends md{constructor(e){super(e),this._orientation=Tc.OrientationEnum.HORIZONTAL,this._textAlignment="left"}static get MODEL_KIND(){return"niBooleanSwitch"}static get OrientationEnum(){return Sc}get orientation(){return this._orientation}set orientation(e){this._orientation=e,this.notifyModelPropertyChanged("orientation")}get textAlignment(){return this._textAlignment}set textAlignment(e){this._textAlignment=e,this.notifyModelPropertyChanged("textAlignment")}}cr.registerModel(Tc)
class Ic extends Tc{static get MODEL_KIND(){return"niBooleanPowerButton"}}cr.registerModel(Ic)
class Ec{static convertTextAlignmentToFlexAlignment(e){let t="flex-start"
switch(e){case"center":t="center"
break
case"right":t="flex-end"
break
case"left":t="flex-start"}return t}static convertFlexAlignmentToTextAlignment(e){let t="left"
switch(e){case"center":t="center"
break
case"flex-end":t="right"
break
case"flex-start":t="left"}return t}}class Pc extends pd{constructor(e,t){super(e,t),this.registerAutoSyncProperty("orientation")}static get PROPERTY_NOT_SUPPORTED_ERROR_CODE(){return 1703}bindToView(){super.bindToView()
const e=this
e.element.addEventListener("change",function(t){if(e.computeReadOnlyForElement()||"api"===t.detail.changeType)return
const i=t.detail.value
e.model.value!==i&&e.model.controlChanged(i)})}modelPropertyChanged(e){const t=super.modelPropertyChanged(e)
switch(e){case"falseContentVisibility":t.cssStyles[er.FALSE_CONTENT_DISPLAY]=this.model.falseContentVisibility?zn.REMOVE_CUSTOM_PROPERTY_TOKEN:"none"
break
case"textAlignment":t.cssStyles[er.TEXT_ALIGN_AS_FLEX]=Ec.convertTextAlignmentToFlexAlignment(this.model.textAlignment)}return t}updateModelFromElement(){super.updateModelFromElement()
const e=window.getComputedStyle(this.element)
this.model.falseContentVisibility="none"!==e.getPropertyValue(er.FALSE_CONTENT_DISPLAY),this.model.textAlignment=Ec.convertFlexAlignmentToTextAlignment(e.getPropertyValue(er.TEXT_ALIGN_AS_FLEX))}applyModelToElement(){super.applyModelToElement(),this.model.falseContentVisibility||this.element.style.setProperty(er.FALSE_CONTENT_DISPLAY,"none"),this.element.switchMode="click",this.element.style.setProperty(er.TEXT_ALIGN_AS_FLEX,Ec.convertTextAlignmentToFlexAlignment(this.model.textAlignment))}setGPropertyValue(e,t){switch(e){case sd.TRUE_COLOR_G_PROPERTY_NAME:case sd.FALSE_COLOR_G_PROPERTY_NAME:break
default:super.setGPropertyValue(e,t)}}getGPropertyValue(e){switch(e){case sd.TRUE_COLOR_G_PROPERTY_NAME:case sd.FALSE_COLOR_G_PROPERTY_NAME:throw new Vn(Ri.i18n("msg_PROPERTY_CANNOT_BE_GET",e),Pc.PROPERTY_NOT_SUPPORTED_ERROR_CODE)
default:return super.getGPropertyValue(e)}}}cr.registerViewModel(Pc,void 0,Tc,"jqx-switch-button")
cr.registerViewModel(class extends Pc{},void 0,Ic,"jqx-power-button")
var Dc=Object.freeze({})
class kc extends ys{constructor(e,t){super(e,t),this.registerAutoSyncProperty("layout")}modelPropertyChanged(e){const t=super.modelPropertyChanged(e)
switch(e){case"minHeight":this.model.requestSendControlBounds(),t.cssStyles[er.MIN_HEIGHT]=this.model.minHeight}return t}updateModelFromElement(){super.updateModelFromElement()
const e=window.getComputedStyle(this.element)
this.model.minHeight=e.getPropertyValue(er.MIN_HEIGHT)}applyModelToElement(){super.applyModelToElement(),this.element.style.setProperty(er.MIN_HEIGHT,this.model.minHeight)}}const Ac=Symbol("NITabItemSymbol")
class jc{static get NITabItemSymbol(){return Ac}static isNITabItem(e){return"object"==typeof e&&null!==e&&!0===e[Ac]}}const Mc=NationalInstruments.Globals.jQuery,Nc=function(e){let t
const i=[]
for(t=0;t<e.children.length;t++)e.children[t].classList.contains("jqx-ribbon")&&i.push(e.children[t])
return i.length>1&&Ri.infoVerbose("TabControl should always either have zero or one headerContainers but currently has ("+i.length+")"),i},qc=function(e){let t,i,n
const r=Nc(e),o=e._validTabHeadersLength>0,a=e.selectedIndex>=0&&e.selectedIndex<e._validTabHeadersLength,s=1===r.length
if(o&&a&&s){for(t=Mc(r[0]),e.selectedIndex!==t.jqxRibbon("selectedIndex")&&t.jqxRibbon({selectedIndex:e.selectedIndex}),i=0;i<e.children.length;i++)jc.isNITabItem(e.children[i])&&(e.children[i].tabPosition===e.selectedIndex?(e.children[i].classList.add("ni-selected"),n=e.children[i]):e.children[i].classList.remove("ni-selected"))
void 0===n?Ri.infoVerbose("Expected a tab item selectedIndex ("+e.selectedIndex+") to exist, but none was found."):n.forceResizeChildren(!0)}else Ri.infoVerbose("TabControl was provided invalid selectedIndex ("+e.selectedIndex+") when the number of valid tab items is ("+e._validTabHeadersLength+")")},Oc=function(e){const t={},i=Nc(e)
let n
for(n=0;n<i.length;n+=1)e.removeChild(i[n])
const r=function(e){const t=document.createElement("div")
let i,n,r,o,a,s=[]
for(r=0;r<e.children.length;r++)if(jc.isNITabItem(e.children[r])){if(void 0!==s[e.children[r].tabPosition]){Ri.infoVerbose("TabControl has multiple TabItems with tabPosition ("+e.children[r].tabPosition+")"),s=[]
break}s[e.children[r].tabPosition]=e.children[r].header}if(i=document.createElement("ul"),n=document.createElement("div"),s.length>0)for(r=0;r<s.length;r++){if("string"!=typeof s[r]){Ri.infoVerbose("TabControl is missing TabItem at tabPosition ("+r+")"),i=document.createElement("ul"),n=document.createElement("div")
break}(o=document.createElement("li")).textContent=s[r],i.appendChild(o),n.appendChild(document.createElement("div"))}if(0===i.children.length?((o=document.createElement("li")).innerHTML="&nbsp;",i.appendChild(o),n.appendChild(document.createElement("div")),Ri.infoVerbose("TabControl has no valid TabItems to render, creating dummy so jqxRibbon does not error"),a=0):a=i.children.length,i.children.length!==n.children.length)throw new Error("The generated number of tab headers and tab frames should be the same")
return t.appendChild(i),t.appendChild(n),{container:t,validTabHeadersLength:a}}(e),o=r.container
e._validTabHeadersLength=r.validTabHeadersLength,e.insertBefore(o,e.firstElementChild),t.animationType="none",t.position=e.tabStripPlacement.toLowerCase(),t.disabled=e.disabled,t.theme="ni-rethemed"
const a=Mc(o)
a.jqxRibbon(t),a.on("select",function(t){e.selectedIndex=t.args.selectedIndex}),qc(e)},Bc=function(e){!1===e._attachHeaderContainerQueued&&(e._attachHeaderContainerQueued=!0,window.requestAnimationFrame(function(){e._attachHeaderContainerQueued=!1,Oc(e)}))},Lc=function(e){return e.classList.contains("ni-hidden")},Rc=function(e,t){const i=e.selectedIndex
"ArrowDown"===t||"ArrowRight"===t?e.switchToNextSelectableTabItem(i):"ArrowUp"!==t&&"ArrowLeft"!==t||e.switchToPreviousSelectableTabItem(i)},Hc=function(e,t){return!1===e.children[t].disabled&&!Lc(e.children[t])&&(e.selectedIndex=t-1,!0)},Vc=function(e,t){const i=e.selectedIndex
if(i===t){e.switchToNextSelectableTabItem(i)||e.switchToPreviousSelectableTabItem(i)}},Fc=function(e,t){const i=Nc(t),n=Mc(i[0])
e.disabled?n.jqxRibbon("disableAt",e.tabPosition):n.jqxRibbon("enableAt",e.tabPosition)},zc=function(e,t){const i=Nc(t),n=Mc(i[0])
Lc(e)?n.jqxRibbon("hideAt",e.tabPosition):n.jqxRibbon("showAt",e.tabPosition)}
class $c extends Ba{addAllProperties(e){super.addAllProperties(e)
const t=$c.prototype
t.addProperty(e,{propertyName:"selectedIndex",defaultValue:0,fireEvent:!0,addNonSignalingProperty:!0}),t.addProperty(e,{propertyName:"tabStripPlacement",defaultValue:"top"}),t.addProperty(e,{propertyName:"tabSelectorHidden",defaultValue:!1}),Ri.setValuePropertyDescriptor(e,"selectedIndex","selectedIndex","selectedIndexNonSignaling","selected-index-changed")}createdCallback(){super.createdCallback(),this._validTabHeadersLength=0,this._attachHeaderContainerQueued=!1}attachedCallback(){const e=super.attachedCallback(),t=this
return!0===e&&(t.addEventListener("ni-tab-item-attached",function(e){e.target===t&&Bc(t)}),t.addEventListener("keydown",function(e){e.target===t&&e.key&&Rc(t,e.key)}),t.addEventListener("ni-tab-item-detached",function(e){e.target===t&&Bc(t)}),t.addEventListener("ni-tab-item-header-updated",function(e){e.target===t&&Bc(t)}),t.addEventListener("ni-tab-item-position-updated",function(e){e.target===t&&Bc(t)}),t.addEventListener("ni-tab-item-visibility-updated",function(e){if(e.target===t){const i=e.detail.element
Lc(i)&&Vc(t,i.tabPosition),zc(i,t)}}),t.addEventListener("ni-tab-item-disabled-updated",function(e){if(e.target===t){const i=e.detail.element
i.disabled&&Vc(t,i.tabPosition),Fc(i,t)}}),Bc(t),this.updateDisableStateForChildren()),e}propertyUpdated(e){switch(super.propertyUpdated(e),e){case"selectedIndex":qc(this)
break
case"tabStripPlacement":case"tabSelectorHidden":Bc(this)
break
case"disabled":this.updateDisableStateForRibbon(),this.updateDisableStateForChildren()}}updateDisableStateForRibbon(){const e=Nc(this)
Mc(e[0]).jqxRibbon({disabled:this.disabled})}updateDisableStateForChildren(){for(let e=0;e<this.children.length;e++){const t=this.children[e]
if(jc.isNITabItem(t)){const e=!!this.disabled||t.disabled
t.updateDisableStateForChild(e)}}}setFont(e,t,i,n,r){super.setFont(e,t,i,n,r),Bc(this)}forceResize(e){super.forceResize(e),Bc(this)}switchToNextSelectableTabItem(e){for(let t=e+2;t<this.childElementCount;t++)if(Hc(this,t))return!0
return!1}switchToPreviousSelectableTabItem(e){for(let t=e;t>0;t--)if(Hc(this,t))return!0
return!1}}tn.registerElement($c,Zi.CONTAINER),fa.defineElementInfo($c.prototype,"ni-tab-control","HTMLNITabControl")
class Uc extends Ar{constructor(e){super(e),this._layout=Gc.ABSOLUTE,this._minHeight="0px"}get layout(){return this._layout}set layout(e){this._layout=e,this.notifyModelPropertyChanged("layout")}get minHeight(){return this._minHeight}set minHeight(e){this._minHeight=e,this.notifyModelPropertyChanged("minHeight")}isAbsoluteLayoutRoot(){return this.layout===Gc.ABSOLUTE}isFlexibleLayoutRoot(){return this.layout===Gc.FLEXIBLE}}const Gc=Ba.LayoutsEnum,Wc=window.NITypes
class Xc extends Uc{constructor(e){super(e),this.niType=Wc.INT32,this._tabSelectorHidden=!1,this._tabStripPlacement="top",this._selectedIndex=0,this._activeTab=0,this._inactiveBackground="#d9dee1",this._inactiveForeground="#000000"}static get ACTIVE_TAB_G_PROPERTY_NAME(){return"ActiveTab"}static get TAB_G_PROPERTY_NAME(){return"Tab"}static get ACTIVE_TAB_RUNTIME_ID(){return"ActiveTab_RuntimeId"}static get MODEL_KIND(){return"niTabControl"}get tabSelectorHidden(){return this._tabSelectorHidden}set tabSelectorHidden(e){this._tabSelectorHidden=e,this.notifyModelPropertyChanged("tabSelectorHidden")}get tabStripPlacement(){return this._tabStripPlacement}set tabStripPlacement(e){this._tabStripPlacement=e,this.notifyModelPropertyChanged("tabStripPlacement")}get selectedIndex(){return this._selectedIndex}set selectedIndex(e){this._selectedIndex=e,this.notifyModelPropertyChanged("selectedIndex")}get activeTab(){return this._activeTab}set activeTab(e){this._activeTab=e}get inactiveBackground(){return this._inactiveBackground}set inactiveBackground(e){this._inactiveBackground=e,this.notifyModelPropertyChanged("inactiveBackground")}get inactiveForeground(){return this._inactiveForeground}set inactiveForeground(e){this._inactiveForeground=e,this.notifyModelPropertyChanged("inactiveForeground")}modelPropertyUsesNIType(e){return"selectedIndex"===e}controlChanged(e){const t=this.selectedIndex
this.selectedIndex=e,super.controlChanged("selectedIndex",e,t)}gPropertyNIType(e){switch(e){case Xc.ACTIVE_TAB_G_PROPERTY_NAME:case Xc.ACTIVE_TAB_RUNTIME_ID:return Wc.INT32}return super.gPropertyNIType(e)}}cr.registerModel(Xc)
class Jc extends kc{constructor(e,t){super(e,t),this.registerAutoSyncProperty("tabStripPlacement"),this.registerAutoSyncProperty("tabSelectorHidden")}static get INVALID_ACTIVE_TAB_ERROR_CODE(){return 363555}bindToView(){super.bindToView()
const e=this
e.element.addEventListener("selected-index-changed",function(t){if(t.target===e.element){const i=t.detail.selectedIndex
e.model.controlChanged(i),e.model.requestSendControlBounds()}})}modelPropertyChanged(e){const t=super.modelPropertyChanged(e)
switch(e){case"selectedIndex":t.properties.selectedIndexNonSignaling=this.model.selectedIndex
break
case"inactiveBackground":t.cssStyles[er.INACTIVE_BACKGROUND]=this.model.inactiveBackground
break
case"inactiveForeground":t.cssStyles[er.INACTIVE_FOREGROUND_COLOR]=this.model.inactiveForeground}return t}updateModelFromElement(){super.updateModelFromElement()
const e=this.model,t=this.element,i=window.getComputedStyle(t)
e.selectedIndex=t.selectedIndex,e.defaultValue=t.selectedIndex,e.inactiveBackground=i.getPropertyValue(er.INACTIVE_BACKGROUND),e.inactiveForeground=i.getPropertyValue(er.INACTIVE_FOREGROUND_COLOR)}applyModelToElement(){super.applyModelToElement()
const e=this.element,t=this.model
e.selectedIndex=t.selectedIndex,e.style.setProperty(er.INACTIVE_BACKGROUND,t.inactiveBackground),e.style.setProperty(er.INACTIVE_FOREGROUND_COLOR,t.inactiveForeground)}setGPropertyValue(e,t){const i=this.model
switch(e){case Ar.VALUE_G_PROPERTY_NAME:i.selectedIndex=Yc(t,i.childModels.length)
break
case Ar.VALUE_SIGNALING_G_PROPERTY_NAME:i.controlChanged(Yc(t,i.childModels.length))
break
case Xc.ACTIVE_TAB_G_PROPERTY_NAME:if(t<0||t>=i.childModels.length)throw new Vn(Ri.i18n("msg_PROPERTY_OUT_OF_RANGE",e,i.childModels.length-1),Jc.INVALID_ACTIVE_TAB_ERROR_CODE)
i.activeTab=t
break
case Xc.TAB_G_PROPERTY_NAME:throw new Vn(Ri.i18n("msg_PROPERTY_CANNOT_BE_SET",e),wr.OPERATION_UNSUPPORTED_ON_CONTROL_ERROR_CODE)
default:super.setGPropertyValue(e,t)}}getGPropertyValue(e){const t=this.model
switch(e){case Ar.VALUE_G_PROPERTY_NAME:return t.selectedIndex
case Xc.ACTIVE_TAB_G_PROPERTY_NAME:return t.activeTab
case Xc.TAB_G_PROPERTY_NAME:{const e=t.childModels[t.activeTab]
return e.rootOwner.getControlViewModel(e.niControlId)}case Xc.ACTIVE_TAB_RUNTIME_ID:return t.childModels[t.activeTab].niControlId
default:return super.getGPropertyValue(e)}}}const Yc=function(e,t){return Ks.clamp(e,0,t-1)}
cr.registerViewModel(Jc,$c,Xc)
var Qc=Object.freeze({TabControlViewModel:Jc})
class Kc extends Ba{get[jc.NITabItemSymbol](){return!0}addAllProperties(e){super.addAllProperties(e)
const t=Kc.prototype
t.addProperty(e,{propertyName:"tabPosition",defaultValue:-1}),t.addProperty(e,{propertyName:"header",defaultValue:"TabItem"})}createdCallback(){super.createdCallback(),this._parentTabControl=void 0}sendEventToParentTabControl(e){let t
void 0!==this._parentTabControl&&(t={bubbles:!0,cancelable:!0,detail:{element:this}},this._parentTabControl.dispatchEvent(new CustomEvent(e,t)))}attachedCallback(){const e=super.attachedCallback()
return this.parentElement instanceof $c?(!0===e&&this.updateDisableStateForChild(),this._parentTabControl=this.parentElement,this.sendEventToParentTabControl("ni-tab-item-attached")):(Ri.error("Tab Item does not have a parent Tab Control "+this),this._parentTabControl=void 0),e}forceResizeChildren(){const e=this.children
if(e)for(let t=0;t<e.length;t++)Ri.isElement(e[t])&&"function"==typeof e[t].forceResizeChildren&&e[t].forceResizeChildren()}propertyUpdated(e){switch(super.propertyUpdated(e),e){case"header":this.sendEventToParentTabControl("ni-tab-item-header-updated")
break
case"tabPosition":this.sendEventToParentTabControl("ni-tab-item-position-updated")
break
case"disabled":{const e=!0===this.disabled||this._parentTabControl.disabled
this.updateDisableStateForChild(e),this.sendEventToParentTabControl("ni-tab-item-disabled-updated")
break}}}updateDisableStateForChild(e){this.hasChildNodes()&&Ri.isElement(this.childNodes[0])&&void 0!==e&&this.childNodes[0].disabled!==e&&(this.childNodes[0].disabled=e)}sendEventToParentTabControlOnVisibilityUpdate(){this.sendEventToParentTabControl("ni-tab-item-visibility-updated")}detachedCallback(){super.detachedCallback(),this.sendEventToParentTabControl("ni-tab-item-detached"),this._parentTabControl=void 0}}tn.registerElement(Kc,Zi.CONTAINER),fa.defineElementInfo(Kc.prototype,"ni-tab-item","HTMLNITabItem")
const Zc=window.NITypes
class eh extends Uc{constructor(e){super(e),this._header=0,this._tabPosition=0,this._background=""}static get ENABLED_G_PROPERTY_NAME(){return"Enabled"}static get NAME_G_PROPERTY_NAME(){return"Name"}static get MODEL_KIND(){return"niTabItem"}get header(){return this._header}set header(e){this._header=e,this.notifyModelPropertyChanged("header")}get tabPosition(){return this._tabPosition}set tabPosition(e){this._tabPosition=e,this.notifyModelPropertyChanged("tabPosition")}gPropertyNIType(e){switch(e){case eh.ENABLED_G_PROPERTY_NAME:return Zc.BOOLEAN
case eh.NAME_G_PROPERTY_NAME:return Zc.STRING}return super.gPropertyNIType(e)}}cr.registerModel(eh)
const th=function(e){let t=0
return e.childModels.forEach(e=>{!0===e.enabled&&!0===e.visible&&t++}),t}
class ih extends kc{constructor(e,t){super(e,t),this.registerAutoSyncProperty("header"),this.registerAutoSyncProperty("tabPosition")}shouldElementUseModelWidth(){return!1}shouldElementUseModelHeight(){return!1}shouldElementUseModelPosition(){return!1}modelPropertyChanged(e){const t=super.modelPropertyChanged(e)
switch(e){case"visible":this.applyElementChanges(),Jn.waitForFrameUpdate().then(()=>{this.element.sendEventToParentTabControlOnVisibilityUpdate()})}return t}setGPropertyValue(e,t){const i=this.model
switch(e){case eh.ENABLED_G_PROPERTY_NAME:!1===t&&1===th(i.owner)||(i.enabled=t)
break
case Ar.VISIBLE_G_PROPERTY_NAME:!1===t&&1===th(i.owner)||(i.visible=t)
break
case eh.NAME_G_PROPERTY_NAME:i.header=t
break
default:super.setGPropertyValue(e,t)}}getGPropertyValue(e){const t=this.model
switch(e){case eh.ENABLED_G_PROPERTY_NAME:return t.enabled
case Ar.VISIBLE_G_PROPERTY_NAME:return t.visible
case eh.NAME_G_PROPERTY_NAME:return t.header
default:return super.getGPropertyValue(e)}}}cr.registerViewModel(ih,Kc,eh)
var nh=Object.freeze({TabItemViewModel:ih})
class rh extends Ba{forceResizeChildren(){const e=this.children
for(let t=0;t<e.length;t++)Ri.isElement(e[t])&&"function"==typeof e[t].forceResize&&e[t]._latestSize&&e[t].forceResize(e[t]._latestSize)}attachedCallback(){const e=super.attachedCallback()
return!0===e&&this.updateDisableStateForChildren(),e}propertyUpdated(e){switch(super.propertyUpdated(e),e){case"disabled":this.updateDisableStateForChildren()}}updateDisableStateForChildren(){if(this.hasChildNodes())for(let e=0;e<this.childNodes.length;++e)Ri.isElement(this.childNodes[e])&&(this.childNodes[e].disabled=this.disabled)}}tn.registerElement(rh,Zi.CONTAINER),fa.defineElementInfo(rh.prototype,"ni-layout-panel","HTMLNILayoutPanel")
class oh extends Uc{static get MODEL_KIND(){return"niLayoutPanel"}}cr.registerModel(oh)
class ah extends kc{}cr.registerViewModel(ah,rh,oh)
var sh=Object.freeze({LayoutPanelViewModel:ah})
class lh{static convert(e){let t=e
return t=Array.isArray(e)?e:e>=0?[e]:[]}static convertBack(e){let t=e
return t=Array.isArray(e)?t.length>0?t[0]:-1:t>=0?[t]:[]}}class dh{static convert(e,t){return JSON.stringify(e)}static convertBack(e,t){return JSON.parse(e)}}class ch{static get SelectionModeEnum(){return{ZERO_OR_ONE:"ZeroOrOne",ONE:"One",ZERO_OR_MORE:"ZeroOrMore",ONE_OR_MORE:"OneOrMore"}}}const hh=ch.SelectionModeEnum
class uh{static convertNIToJQXSelectionMode(e){switch(e){case hh.ZERO_OR_ONE:return"zeroOrOne"
case hh.ONE:return"one"
case hh.ZERO_OR_MORE:return"zeroOrMany"
case hh.ONE_OR_MORE:return"oneOrMany"}}static convertJQXToNISelectionMode(e){switch(e){case"zeroOrOne":return hh.ZERO_OR_ONE
case"one":return hh.ONE
case"oneOrMany":return hh.ONE_OR_MORE
case"zeroOrMany":return hh.ZERO_OR_MORE}}static convert(e,t){let i=e
return i=Array.isArray(e)?e:e>=0?[e]:[]}static convertBack(e,t){let i=e
return t!==hh.ZERO_OR_ONE&&t!==hh.ONE||!Array.isArray(e)?Array.isArray(e)||(i=i>=0?[i]:[]):i=i.length>0?i[0]:-1,i}}class ph{static convert(e,t,i){let n=e
if(t.isComplex()||t.is64BitInteger()){if("string"!=typeof e)throw new Error("value should be a string but is "+typeof e+" instead.")
return{stringValue:e}}if(!0===i&&(n=parseFloat(e)),"number"!=typeof n)throw new Error("value should be a number but is "+typeof n+"with value "+n+" instead.")
return{numberValue:n}}static convertBack(e,t){if("object"!=typeof e)throw new Error("obj must be an object but is "+typeof e+" instead.")
if(void 0===t)return e.numberValue
if(t.isComplex()||t.is64BitInteger()){if("string"!=typeof e.stringValue)throw new Error("obj.stringValue must be a string but is "+typeof e.stringValue+" instead")
return e.stringValue}if("number"!=typeof e.numberValue)throw new Error("obj.numberValue must be a number but is "+e.numberValue+" instead")
return e.numberValue}}class mh{static convert(e,t){return e}static convertBack(e,t){return e}}const fh=function(e){switch(e=e.toLowerCase()){case"jqx-numeric-text-box":case"jqx-gauge":case"jqx-tank":case"jqx-slider":return vs
case"ni-ring-selector":case"ni-enum-selector":case"ni-radio-button-group":return ph
case"jqx-drop-down-list":return lh
case"jqx-list-box":return uh
case"ni-path-selector":case"ni-cartesian-graph":return dh
case"jqx-date-time-picker":return Qn
case"jqx-color-picker":return wd
default:return mh}},gh=function(e){switch(e.tagName.toLowerCase()){case"jqx-numeric-text-box":case"jqx-gauge":case"jqx-tank":case"jqx-slider":return vs.convertJQXTypeToNI(e)
case"ni-ring-selector":case"ni-enum-selector":case"ni-radio-button-group":return new window.NIType(e.niType)
case"jqx-list-box":return uh.convertJQXToNISelectionMode(e.selectionMode)
case"jqx-date-time-picker":return e
default:return}}
class vh{static findValueConverter(e){return fh(e.tagName)}static getConverterParameters(e){return gh(e)}static convert(e,t){const i=e.tagName
return fh(i).convert(t,gh(e))}static convertBack(e,t){const i=e.tagName
return fh(i).convertBack(t,gh(e))}}const bh=window.NIType,yh=function(e,t){const i=e[t]
return vh.convertBack(e,i)},_h=function(e,t,i){const n=vh.convert(e,i)
e[t]=n},wh=function(e){let t,i={}
if(null!==e)try{"object"==typeof(t=JSON.parse(e))&&null!==t&&(i=t)}catch(e){}return i},xh=function(e){let t={},i={},n={}
const r=function(e,t){return{labelElement:e,controlMeta:t}},o=function(){if(void 0===e._niTypeInstance)return!1
const t=e._niTypeInstance.getFields()
let n,r,o,a
for(n=0;n<t.length;n++){if(r=t[n],void 0===(o=i[r])||void 0===o.controlMeta)return Ri.infoVerbose("Cluster ("+e.niControlId+") has invalid cache: either label or control missing for field: "+r),!1
if((a=o.controlMeta.controlElement).parentElement!==e)return Ri.infoVerbose("Cluster ("+e.niControlId+") has invalid cache: child control ("+a.niControlId+") not attached for field: "+r),!1
if(void 0===e._clusterValue[r])return Ri.infoVerbose("Cluster ("+e.niControlId+") has invalid cache: cluster value missing for field: "+r),!1}return!0}
return{updateCacheIfNeededAndValidate:function(){let a=o()
if(a)return!0
!function(){let e,i
for(e in t)t.hasOwnProperty(e)&&void 0!==(i=t[e]).listener&&(i.controlElement.removeEventListener(i.controlElement.valuePropertyDescriptor.eventName,i.listener),i.listener=void 0)}(),t={},i={},n={}
let s,l,d,c=0
for(c=0;c<e.childNodes.length;c++)void 0!==(d=e.childNodes[c]).labelId&&(""===d.labelId?(void 0===(s=n[d.niControlId])?(s=r(d,void 0),n[d.niControlId]=s):s.labelElement=d,i[d.text]=s):(l={controlElement:d,listener:void 0},t[d.niControlId]=l,void 0===(s=n[d.labelId])?(s=r(void 0,l),n[d.labelId]=s):s.controlMeta=l))
return(a=o())?(function(){const t=e._niTypeInstance.getFields()
let n,r
for(n=0;n<t.length;n++)(r=i[t[n]].controlMeta).listener=e.childChanged.bind(e,r.controlElement),r.controlElement.addEventListener(r.controlElement.valuePropertyDescriptor.eventName,r.listener)}(),!0):(t={},i={},n={},!1)},getChildByFieldName:function(e){const t=i[e]
if(void 0!==t&&void 0!==t.controlMeta)return t.controlMeta.controlElement}}}
class Ch extends Ba{addAllProperties(e){super.addAllProperties(e)
const t=Ch.prototype
Object.defineProperty(t,"value",{get:function(){return Fa.deepCopy(this._clusterValue)},set:function(e){const t=this._clusterValue
Fa.isDeepEqual(t,e)||(this._clusterValue=Fa.deepCopy(e),this.dispatchEvent(new CustomEvent("value-changed",{bubbles:!0,cancelable:!1,detail:{newValue:e,oldValue:t}})),!1===this._childValueChanging&&this.updateChildValues())},configurable:!1,enumerable:!0}),Object.defineProperty(t,"valueNonSignaling",{get:function(){return Fa.deepCopy(this._clusterValue)},set:function(e){Fa.isDeepEqual(this._clusterValue,e)||(this._clusterValue=Fa.deepCopy(e),!1===this._childValueChanging&&this.updateChildValues())},configurable:!1,enumerable:!1}),t.addProperty(e,{propertyName:"niType",defaultValue:'{"name":"Cluster","fields":[],"subtype":[]}'}),Ri.setValuePropertyDescriptor(e,"value","value","valueNonSignaling","value-changed")}makeValueObj(){const e=this._niTypeInstance.getFields(),t={}
let i,n,r
for(i=0;i<e.length;i++)r=e[i],n=this._childCache.getChildByFieldName(r),t[r]=yh(n,n.valuePropertyDescriptor.propertyName)
return t}childChanged(e,t){if(e===t.target&&!1===this._childValueChanging){const e=this.makeValueObj()
this._childValueChanging=!0,this.value=e,this._childValueChanging=!1}}disableChildren(){const e=this
this.childNodes.forEach(function(t){Ri.isElement(t)&&(t.disabled=e.disabled)})}createdCallback(){super.createdCallback(),this._childValueChanging=!1,this._clusterValue=void 0,this._niTypeInstance=void 0,this._childCache=xh(this),this._updateChildValuesQueued=!1}connectedCallback(){this._clusterValue=wh(this.getAttribute("value")),this._niTypeInstance=new bh(this.niType),super.connectedCallback()}attachedCallback(){const e=super.attachedCallback()
return e&&(this._niTypeInstance=new bh(this.niType),this.queueUpdateChildValues()),e}propertyUpdated(e){switch(super.propertyUpdated(e),e){case"niType":this._niTypeInstance=new bh(this.niType),this.queueUpdateChildValues()
break
case"disabled":this.disableChildren()}}queueUpdateChildValues(){const e=this
let t
!1===e._updateChildValuesQueued&&((t=e.updateChildValues())?e.disableChildren():(e._updateChildValuesQueued=!0,window.requestAnimationFrame(function(){e._updateChildValuesQueued=!1,e.queueUpdateChildValues()})))}updateChildValues(){if(!1===this._childCache.updateCacheIfNeededAndValidate())return!1
const e=this._niTypeInstance.getFields(),t=Fa.deepCopy(this._clusterValue)
let i,n,r=0
for(r=0;r<e.length;r++)i=e[r],n=this._childCache.getChildByFieldName(i),this._childValueChanging=!0,_h(n,n.valuePropertyDescriptor.propertyNameNonSignaling,t[i]),this._childValueChanging=!1
return!0}}tn.registerElement(Ch,Zi.CONTAINER),fa.defineElementInfo(Ch.prototype,"ni-cluster","HTMLNICluster")
const Sh=window.NIType
class Th extends Uc{constructor(e){super(e),this.niType=new Sh({name:"Cluster",fields:[]}),this._value={}}static get MODEL_KIND(){return"niCluster"}get value(){return this._value}set value(e){this._value=e,this.notifyModelPropertyChanged("value")}addChildModel(e){e.suppressControlChanged=!0,super.addChildModel(e)}modelPropertyUsesNIType(e){return"value"===e}controlChanged(e,t){this.value=e,super.controlChanged("value",e,t)}}cr.registerModel(Th)
Symbol("checkSize"),Symbol("componentDidMount"),Symbol("componentDidUpdate"),Symbol("contentSlot"),Symbol("defaultTabIndex"),Symbol("defaultState"),Symbol("delegatesFocus"),Symbol("effectEndTarget"),Symbol("focusTarget"),Symbol("getItemText"),Symbol("goDown"),Symbol("goEnd"),Symbol("goLeft"),Symbol("goNext"),Symbol("goPrevious"),Symbol("goRight"),Symbol("goStart"),Symbol("goUp"),Symbol("hasDynamicTemplate"),Symbol("ids"),Symbol("itemMatchesState"),Symbol("itemsDelegate"),Symbol("keydown"),Symbol("mouseenter"),Symbol("mouseleave"),Symbol("nativeInternals"),Symbol("populate"),Symbol("raiseChangeEvents"),Symbol("render"),Symbol("renderChanges"),Symbol("rendering"),Symbol("scrollTarget"),Symbol("setState"),Symbol("startEffect"),Symbol("state"),Symbol("swipeDown"),Symbol("swipeDownComplete"),Symbol("swipeLeft"),Symbol("swipeLeftTransitionEnd"),Symbol("swipeRight"),Symbol("swipeRightTransitionEnd"),Symbol("swipeUp"),Symbol("swipeUpComplete"),Symbol("swipeStart"),Symbol("swipeTarget"),Symbol("tap"),Symbol("template"),Symbol("update"),Symbol("generatedId"),Symbol("mousedownListener")
function Ih(e){const t=function*e(t,i){i(t)&&(yield t)
let n
if(t instanceof HTMLElement&&t.shadowRoot)n=t.shadowRoot.children
else{const e=t instanceof HTMLSlotElement?t.assignedNodes({flatten:!0}):[]
n=e.length>0?e:t.childNodes}if(n)for(let t=0;t<n.length;t++)yield*e(n[t],i)}(e,e=>e instanceof HTMLElement&&e.matches('a[href],area[href],button:not([disabled]),details,iframe,input:not([disabled]),select:not([disabled]),textarea:not([disabled]),[contentEditable="true"],[tabindex]')&&e.tabIndex>=0),{value:i}=t.next()
return i instanceof HTMLElement?i:null}class Eh extends kc{bindToView(){super.bindToView()
const e=this
e.element.addEventListener("value-changed",function(t){let i,n
t.target===e.element&&(i=t.detail.newValue,n=t.detail.oldValue,e.model.controlChanged(i,n))})}modelPropertyChanged(e){const t=super.modelPropertyChanged(e)
switch(e){case"value":t.properties.valueNonSignaling=this.model.value
break
case"niType":t.properties.niType=this.model.getNITypeString()}return t}updateModelFromElement(){super.updateModelFromElement(),this.model.niType=new window.NIType(this.element.niType),this.model.value=this.element.value}applyModelToElement(){super.applyModelToElement(),this.element.niType=this.model.getNITypeString(),this.element.valueNonSignaling=this.model.value}async setGPropertyValueAsync(e,t){switch(e){case Ar.KEY_FOCUS_G_PROPERTY_NAME:if(await Jn.waitForFrameUpdate(),t){this.model.ensureFocus()
const e=Ih(this.element)
e&&e.focus()}else await super.setGPropertyValueAsync(e,t)
break
default:await super.setGPropertyValueAsync(e,t)}}setGPropertyValue(e,t){const i=this.model
switch(e){case Ar.VALUE_G_PROPERTY_NAME:i.value=t
break
case Ar.VALUE_SIGNALING_G_PROPERTY_NAME:{const e=i.value
i.controlChanged(t,e)
break}default:super.setGPropertyValue(e,t)}}getGPropertyValue(e){const t=this.model
switch(e){case Ar.VALUE_G_PROPERTY_NAME:return t.value
default:return super.getGPropertyValue(e)}}userInteractionChanged(e,t){if(super.userInteractionChanged(e,t),t===_r.MOVE||t===_r.CREATE){const e=Jn.getOrAddRenderBuffer(this.element),t=this.getModelBounds()
this.setWidthAndHeightToRenderBuffer(t,e),this.setPositionToRenderBuffer(t,e)}}}cr.registerViewModel(Eh,Ch,Th)
var Ph=Object.freeze({ClusterViewModel:Eh})
class Dh extends Ar{constructor(e){super(e),this._direction="row",this._horizontalContentAlignment="flex-start",this._verticalContentAlignment="flex-start"}static get MODEL_KIND(){return"niFlexibleLayoutContainer"}get direction(){return this._direction}set direction(e){this._direction=e,this.notifyModelPropertyChanged("direction")}get horizontalContentAlignment(){return this._horizontalContentAlignment}set horizontalContentAlignment(e){this._horizontalContentAlignment=e,this.notifyModelPropertyChanged("horizontalContentAlignment")}get verticalContentAlignment(){return this._verticalContentAlignment}set verticalContentAlignment(e){this._verticalContentAlignment=e,this.notifyModelPropertyChanged("verticalContentAlignment")}}cr.registerModel(Dh)
class kh extends ys{constructor(e,t){super(e,t),this.registerAutoSyncProperty("direction"),this.registerAutoSyncProperty("horizontalContentAlignment"),this.registerAutoSyncProperty("verticalContentAlignment")}modelPropertyChanged(e){switch(super.modelPropertyChanged(e),e){case"direction":case"horizontalContentAlignment":case"verticalContentAlignment":this.model.requestSendControlBounds()}}shouldElementUseModelHeight(){return!1}shouldElementUseModelWidth(){return!1}}cr.registerViewModel(kh,void 0,Dh,"ni-flexible-layout-container")
var Ah=Object.freeze({FlexibleLayoutContainerViewModel:kh})
class jh extends Ar{static get MODEL_KIND(){return"niFlexibleLayoutGroup"}}cr.registerModel(jh)
class Mh extends ys{shouldElementUseModelHeight(){return!1}shouldElementUseModelWidth(){return!1}}cr.registerViewModel(Mh,void 0,jh,"ni-flexible-layout-group")
var Nh=Object.freeze({FlexibleLayoutGroupViewModel:Mh})
class qh extends Ar{constructor(e){super(e),this._layoutPattern=""}static get MODEL_KIND(){return"niFlexibleLayoutComponent"}get layoutPattern(){return this._layoutPattern}set layoutPattern(e){this._layoutPattern=e,this.notifyModelPropertyChanged("layoutPattern")}isFlexibleLayout(){return!0}}cr.registerModel(qh)
class Oh extends ys{constructor(e,t){super(e,t),this.registerAutoSyncProperty("layoutPattern")}shouldApplyDraggingStyleWithChild(){return!0}shouldElementUseModelHeight(){return!1}shouldElementUseModelWidth(){return!1}}cr.registerViewModel(Oh,void 0,qh,"ni-flexible-layout-component")
var Bh=Object.freeze({FlexibleLayoutComponentViewModel:Oh})
class Lh extends Ar{constructor(e){super(e),this._flexGrow=1}static get MODEL_KIND(){return"niFlexibleLayoutWrapper"}get flexGrow(){return this._flexGrow}set flexGrow(e){this._flexGrow=e,this.notifyModelPropertyChanged("flexGrow")}}cr.registerModel(Lh)
class Rh extends ys{modelPropertyChanged(e){const t=this.model,i=super.modelPropertyChanged(e)
switch(e){case"flexGrow":i.cssStyles[er.FLEX_GROW]=vs.convert(t.flexGrow),this.model.requestSendControlBounds()}}updateModelFromElement(){super.updateModelFromElement()
const e=window.getComputedStyle(this.element)
this.model.flexGrow=e.getPropertyValue(er.FLEX_GROW)}applyModelToElement(){const e=this.element,t=this.model
super.applyModelToElement(),e.style.setProperty(er.FLEX_GROW,t.flexGrow)}shouldElementUseModelHeight(){return!1}shouldElementUseModelWidth(){return!1}shouldElementUseModelPosition(){return!1}}cr.registerViewModel(Rh,void 0,Lh,"ni-flexible-layout-wrapper")
var Hh=Object.freeze({FlexibleLayoutWrapperViewModel:Rh})
class Vh extends Uc{constructor(e){super(e),this._maxWidth="none",this._background=""}static get BACKGROUND_COLOR_G_PROPERTY_NAME(){return"BackgroundColor"}get maxWidth(){return this._maxWidth}set maxWidth(e){this._maxWidth=e,this.notifyModelPropertyChanged("maxWidth")}static get MODEL_KIND(){return"niFrontPanel"}static get ONLINE_STATUS_CHANGED_EVENT_GUID(){return"{32EC6FD2-91DA-47A6-B0AC-F41B53FC3B37}"}static get ONLINE_STATUS_CHANGED_EVENT_INDEX(){return 17}static get ONLINE_STATUS_CHANGED_EVENT_NAME(){return"onlineStatus"}findTopLevelControl(){return this}getLocalEventInfo(e){return e===Vh.ONLINE_STATUS_CHANGED_EVENT_NAME?{eventIndex:Vh.ONLINE_STATUS_CHANGED_EVENT_INDEX,eventDataId:Vh.ONLINE_STATUS_CHANGED_EVENT_GUID}:super.getLocalEventInfo(e)}}cr.registerModel(Vh)
const Fh=_r.UserInteractionState,zh=_r.InteractiveOperationKind
let $h
class Uh extends kc{static get GRADIENTS_NOT_SUPPORTED_ERROR_CODE(){return 1702}userInteractionChanged(e,t){const i=t===zh.MOVE||t===zh.CREATE
e===Fh.START?i&&this.element.classList.add("ni-descendant-drag-active"):e===Fh.END&&i&&this.element.classList.remove("ni-descendant-drag-active")}bindToView(){super.bindToView()
const e=this
window.addEventListener("online",function(t){e.model.controlEventOccurred(Vh.ONLINE_STATUS_CHANGED_EVENT_NAME,{"Connected?":!0})}),window.addEventListener("offline",function(t){e.model.controlEventOccurred(Vh.ONLINE_STATUS_CHANGED_EVENT_NAME,{"Connected?":!1})})}async invokeInternalControlFunction(e,t){switch(e){case"setBusy":return this.setBusy()
case"unsetBusy":return this.unsetBusy()
default:super.invokeInternalControlFunction(e,t)}}setBusy(){document.body.contains($h)||(void 0===$h&&(($h=document.createElement("dialog")).addEventListener("cancel",e=>e.preventDefault()),$h.classList.add("ni-busy-state"),window.dialogPolyfill.registerDialog($h)),document.body.appendChild($h),$h.showModal())}unsetBusy(){void 0!==$h&&document.body.contains($h)&&($h.close(),$h.remove())}modelPropertyChanged(e){const t=super.modelPropertyChanged(e)
switch(e){case"maxWidth":t.cssStyles[er.MAX_WIDTH]=this.model.maxWidth}return t}updateModelFromElement(){super.updateModelFromElement()
const e=this.model,t=this.element,i=window.getComputedStyle(t)
e.maxWidth=i.getPropertyValue(er.MAX_WIDTH)}applyModelToElement(){super.applyModelToElement()
const e=this.model
this.element.style.setProperty(er.MAX_WIDTH,e.maxWidth)}shouldElementUseModelHeight(){return!this.model.isFlexibleLayoutRoot()}setGPropertyValue(e,t){const i=this.model
switch(e){case Vh.BACKGROUND_COLOR_G_PROPERTY_NAME:i.background=dl.integerToRgba(t)
break
default:super.setGPropertyValue(e,t)}}getGPropertyValue(e){const t=this.model
switch(e){case Vh.BACKGROUND_COLOR_G_PROPERTY_NAME:{const i=t.background
if(dl.isRGBAOrHexFormat(i))return dl.getIntegerValueForInputColor(i)
throw new Vn(Ri.i18n("msg_PROPERTY_WITH_GRADIENT_COLOR_NOT_SUPPORTED",e),Uh.GRADIENTS_NOT_SUPPORTED_ERROR_CODE)}default:return super.getGPropertyValue(e)}}}cr.registerViewModel(Uh,void 0,Vh,"ni-front-panel")
var Gh=Object.freeze({FrontPanelViewModel:Uh})
const Wh=NationalInstruments.Globals.jQuery,Xh=window.NIType,Jh="ni-rethemed",Yh=Symbol("niArrayElementChange"),Qh=function(e,t,i){let n=e.tagName
const r=e.parentElement
let o,a,s
if(r instanceof Ch){for(a=1,o=0;o<r.childNodes.length&&(s=r.childNodes[o])!==e;o++)s.tagName===e.tagName&&a++
n=n+":nth-of-type("+a+")"}return t||void 0===e.niControlId||(n=n+"[ni-control-id='"+e.niControlId+"']"),e instanceof cu&&!0!==i&&(t?n+=" > div > div > div > div > table > tbody > tr > td > div.jqx-array-element":n=n+" div.jqx-array-element-"+e.childElement.id),n},Kh=function(e,t){const i=[]
let n,r=t
for(;r!==e&&null!==r;)i.push(r),r=r.parentElement
if(null===r)return null
for(n=Qh(e,!1,0===i.length);i.length>0;)r=i.pop(),n=n.concat(" > ",Qh(r,!0,0===i.length))
return n},Zh=function(e,t,i){if(!0===e._settingArrayValue||!0===e._clearingArrayValue||!0===e._creatingArrayValue)return
let n
if(e._settingArrayValue=!0,e._arrayValue=null!==t?t:[],i){if(void 0===e._oldArrayValue)throw new Error("Expected _oldArrayValue to already be set when responding to user update to array")
n=e._oldArrayValue,e._oldArrayValue=void 0,e.dispatchEvent(new CustomEvent("value-changed",{bubbles:!0,cancelable:!1,detail:{newValue:t,oldValue:n}}))}else e._jqxArrayInitialized&&e.jqref.jqxArray({value:e._arrayValue})
e._settingArrayValue=!1},eu=function(e,t){e._defaultElementValue=t,e._jqxArrayInitialized&&e.jqref.jqxArray("setDefaultValue",t)},tu=function(e){let t,i
if(null!==e)try{t=i=JSON.parse(e)}catch(e){}return t},iu=function(e){let t,i=[]
if(null!==e)try{t=JSON.parse(e),Array.isArray(t)&&(i=t)}catch(e){}return i},nu=function(e,t){const i=e.mutationObserver
null!==i&&void 0!==i.observe&&i.observe(e,{childList:!0,attributes:!1,subtree:t})},ru=function(e){null!==e.mutationObserver&&"function"==typeof e.mutationObserver.disconnect&&e.mutationObserver.disconnect()},ou=function(e){let t=0,i=e.getSubtype(),n=[]
if(!1===i.isVoid())for(n.push(i);n.length>0;)((i=n.shift()).isCluster()||i.isArray())&&(n=n.concat(i.getSubtype())),t+=1
return t},au=function(e){let t=0
for(t=0;t<e.length;t++){const i=e[t]
if(su(i))return i}return null},su=function(e){return Ri.isElement(e)&&null!==e.niControlId&&"NI-LABEL"!==e.tagName},lu=function(e){const t=e
let i=0,n=0,r=0,o=!1,a=null
t.mutationObserver=new window.MutationObserver(function(s){s.forEach(function(n){if("childList"===n.type){if(n.target===t){if(n.addedNodes.length>0){null!==au(n.addedNodes)&&(a=n.addedNodes[0])}else if(n.removedNodes.length>0){null!==au(n.removedNodes)&&(a=null,o=!0)}e._expectedChildrenCount=ou(t._niTypeInstance)}for(r=0;r<n.addedNodes.length;r+=1){const e=n.addedNodes[r]
su(e)&&(i+=1)}for(r=0;r<n.removedNodes.length;r+=1){const e=n.removedNodes[r]
su(e)&&(i-=1)}}}),t.templateControl===a&&0!==i||0!==n||(n=window.requestAnimationFrame(function(){o&&t.clearArrayType(!0),null!==a&&t.createArray(a),n=0,o=!1}))})},du=function(e){return(({left:e,top:t,width:i,height:n})=>({left:e,top:t,width:i,height:n}))(window.getComputedStyle(e))}
class cu extends ga{get[Zn.NIArrayViewerSymbol](){return!0}addAllProperties(e){super.addAllProperties(e)
const t=cu.prototype
Object.defineProperty(t,"value",{get:function(){return Fa.deepCopy(this._arrayValue)},set:function(e){Zh(this,e,!0)},configurable:!1,enumerable:!0}),Object.defineProperty(t,"valueNonSignaling",{get:function(){return Fa.deepCopy(this._arrayValue)},set:function(e){Zh(this,e,!1)},configurable:!1,enumerable:!1}),Object.defineProperty(t,"defaultElementValue",{get:function(){return Fa.deepCopy(this._defaultElementValue)},set:function(e){eu(this,e)},configurable:!1,enumerable:!1}),t.addProperty(e,{propertyName:"niType",defaultValue:'{"name":"Array","rank":1,"subtype":"Void"}'}),t.addProperty(e,{propertyName:"dimensions",defaultValue:1}),t.addProperty(e,{propertyName:"orientation",defaultValue:"horizontal"}),t.addProperty(e,{propertyName:"indexEditorWidth",defaultValue:53}),t.addProperty(e,{propertyName:"indexVisibility",defaultValue:!1}),t.addProperty(e,{propertyName:"verticalScrollbarVisibility",defaultValue:!1}),t.addProperty(e,{propertyName:"horizontalScrollbarVisibility",defaultValue:!1}),t.addProperty(e,{propertyName:"focusedCell",defaultValue:""}),t.addProperty(e,{propertyName:"rowsAndColumns",defaultValue:"1,1"}),t.addProperty(e,{propertyName:"isEmpty",defaultValue:!1}),Ri.setValuePropertyDescriptor(e,"value","value","valueNonSignaling","value-changed")}getFullCssSelectorForNIVisual(e){return Kh(this,e)}arrayElementSizeChanged(e){let t,i
const n=e.width,r=e.height
if(n===this._elementWidth&&r===this._elementHeight)return
this._elementWidth=n,this._elementHeight=r
const o=n+"px",a=r+"px"
null!==this.templateControl&&(this.nodeCss[this.templateControl.niControlId].width=o,this.nodeCss[this.templateControl.niControlId].height=a),this.jqref.jqxArray("resizeElement",n,r)
const s=document.querySelectorAll(Qh(this,!1))
for(t=0;t<s.length;t++)(i=s[t].firstElementChild).style.width=o,i.style.height=a,void 0!==i.forceResize&&i.forceResize({width:n,height:r})}createdCallback(){const e=this
super.createdCallback(),this.childElement=null,this.jqref=null,this.nodeCss={},this.templateControl=null,this.mutationObserver=null,this.attributeMutationObserver=null,Object.defineProperty(this,"elementSize",{configurable:!1,enumerable:!0,get:function(){return{width:this._elementWidth,height:this._elementHeight}},set:function(t){e.arrayElementSizeChanged(t)}}),this.rows=1,this.columns=1,this._userUpdate=!1,this._settingArrayValue=!1,this._useAttributeMutationObserver=!0,this._elementWidth=0,this._elementHeight=0,this._nodeLabelMap=[],this._clearingArrayValue=!1,this._creatingArrayValue=!1,this._settingElementValue=!1,this._arrayValue=[],this._defaultElementValue=void 0,this._niTypeInstance=void 0,this._oldArrayValue=void 0}connectedCallback(){this._arrayValue=iu(this.getAttribute("value")),this._defaultElementValue=tu(this.getAttribute("default-element-value")),super.connectedCallback()}clearArrayType(e){ru(this),this.templateControl=null,this._clearingArrayValue=!0
const t={type:"none",dimensions:this.dimensions,indexerWidth:this.indexEditorWidth,showIndexDisplay:this.indexVisibility,showHorizontalScrollbar:this.horizontalScrollbarVisibility,showVerticalScrollbar:this.verticalScrollbarVisibility,disabled:this.disabled,theme:Jh}
e?this.jqref.jqxArray(t):(t.width=this.style.width,t.height=this.style.height,this.jqref.jqxArray(t),this.updateIndexerTheme()),this._jqxArrayInitialized=!0,this.isEmpty=!0,this._clearingArrayValue=!1,nu(this,!0)}forceResize(e){super.forceResize(e),null===this.templateControl&&this.jqref.jqxArray({width:e.width+"px",height:e.height+"px"}),this.style.height=e.height+"px",this.style.width=e.width+"px",this.jqref.find("div.jqx-array-scrollbar-horizontal, div.jqx-array-scrollbar-vertical").jqxScrollBar("refresh")}attachedCallback(){const e=super.attachedCallback()
if(e){let e,t=null
const i=this
for(this.parseRowsAndColumns(),e=0;e<this.childNodes.length;e++)if(this.childNodes[e]instanceof HTMLElement&&"NI-LABEL"!==this.childNodes[e].tagName){t=this.childNodes[e]
break}this.childElement=document.createElement("div"),this.appendChild(this.childElement),this.jqref=Wh(this.childElement),this._niTypeInstance=new Xh(this.niType),this._expectedChildrenCount=ou(this._niTypeInstance),lu(this),null!==t?Ki.addNIEventListener("attached",function(){i.createArray(t)}):this.clearArrayType(!1),this.jqref.on("change",function(e){e.target!==i.childElement||void 0!==e.detail&&"api"===e.detail.changeType||(i.value=i.jqref.val())}),this.jqref.on("scroll",function(){const e={bubbles:!0,cancelable:!0,detail:{indices:i.jqref.jqxArray("getIndexerValue"),originalSource:this.childElement}}
i.dispatchEvent(new CustomEvent("scroll-changed",e))})}return e}detachedCallback(){super.detachedCallback(),ru(this),this.mutationObserver=null,this.templateControl=null}updateFromTemplate(e,t,i){e.niControlId=Ri.uniqueId(),e._preventModelCreation=!0,e.visible=!0
let n=this.nodeCss[t.niControlId]
void 0===n&&(n=du(t),this.nodeCss[t.niControlId]=n),e.style.width=n.width,e.style.height=n.height,e.style.display="",i?(e.style.left=n.left,e.style.top=n.top):(e.style.left="",e.style.top="")
let r,o=0
for(r=0;r<t.childNodes.length;r++)Ri.isElement(t.childNodes[r])&&void 0!==e.childNodes[o]&&(this.updateFromTemplate(e.childNodes[o],t.childNodes[r],!0),"NI-LABEL"===t.childNodes[r].tagName&&(this._nodeLabelMap[t.childNodes[r].niControlId]=e.childNodes[o].niControlId),o++)}updateLabelIds(e){let t,i
if(!Ri.isElement(e))return null
for(t=0;t<e.childNodes.length;t++){const n=e.childNodes[t]
if("NI-LABEL"!==n.tagName){const e=n.getAttribute("label-id")
void 0===(i=this._nodeLabelMap[e])&&(i=""),n.labelId=i,this.updateLabelIds(n)}}}copyElement(e){if(!Ri.isElement(e)||NationalInstruments.JQXElement.isJQXElementSubPart(e))return null
const t=Ri.cloneControlElement(e),i=Ri.getTemplateId(e)
if(void 0!==i?Ri.setTemplateId(t,i):Ri.setTemplateId(t,e.niControlId),e.childNodes.length>0)for(let i=0;i<e.childNodes.length;i++){const n=this.copyElement(e.childNodes[i])
null!==n&&t.appendChild(n)}return t}updateTemplateCss(e){this.nodeCss[e.niControlId]=du(e)}recreateCells(e){let t,i,n
const r=this
if(null===r.templateControl||void 0===r.templateControl)return
const o=function(e,t){let i,o
if(null!=(n=r.jqref.jqxArray("getElement",e,t))){for(o=Wh(n),i=r.jqref.jqxArray("getElementValue",o,{x:t,y:e});n.hasChildNodes();)n.removeChild(n.lastChild)
r.jqref.jqxArray("elementTemplate",o),r.jqref.jqxArray("setElementValue",i,o,{x:t,y:e})}}
if(e)for(t=0;t<this.rows;t++)for(i=0;i<this.columns;i++)o(t,i)
else void 0!==this._focusedColumn&&void 0!==this._focusedRow&&o(this._focusedRow,this._focusedColumn)
window.requestAnimationFrame(function(){r.updateFocusedCell()})}createArray(e){const t=this
ru(this),this._creatingArrayValue=!0
const i=e.valuePropertyDescriptor.propertyName,n=e.valuePropertyDescriptor.eventName,r=e.valuePropertyDescriptor.propertyNameNonSignaling,o=this.defaultElementValue
e.classList.add("array-template"),e.style.left="0px",e.style.top="0px",e.style.display="none",e.labelId="",this.templateControl=e,this.nodeCss={}
const a=du(e)
this.nodeCss[e.niControlId]=a,this._elementWidth=parseInt(a.width),this._elementHeight=parseInt(a.height),this.jqref.jqxArray({elementWidth:this._elementWidth,elementHeight:this._elementHeight,elementTemplate:function(i){t._nodeLabelMap=[]
const r=t.copyElement(e)
Wh(r).removeClass("array-template")
const o=i[0],a=t.nodeCss[e.niControlId]
t.updateFromTemplate(r,e,!1),t.updateLabelIds(r),r.disabled=t.disabled,o.style.width=a.width,o.style.height=a.height,i.on("change",function(e){void 0!==e.detail&&!0===e.detail[Yh]||e.stopImmediatePropagation()}),o.appendChild(r),void 0!==r.forceResize&&(r.connectedCallback(),r.forceResize({width:t._elementWidth,height:t._elementHeight}))
Wh(r).on(n,function(e){if(!t._settingElementValue&&void 0!==e.detail&&"api"!==e.detail.changeType&&e.originalEvent.target===r&&!i.supressChange){if(void 0!==t._oldArrayValue)throw new Error("Expected _oldArrayValue to be undefined when starting a user change of the array")
!1===t._settingArrayValue&&!1===t._clearingArrayValue&&!1===t._creatingArrayValue&&function(e){const i=Wh(e).data(),n=i.col,r=i.row,o=t.jqref.jqxArray("_getValueInCell",r,n),a=t.jqref.jqxArray("_getElementValue",e,{x:n,y:r},!0)
return t.jqref.jqxArray("_areDifferent",a,o)}(i)&&(t._oldArrayValue=Fa.deepCopy(t._arrayValue)),i.trigger(Wh.Event("change",{detail:{[Yh]:!0}}))}})},changeProperty:function(e,t,i){"width"===e?i.css({width:t}):"height"===e?i.css({height:t}):"disabled"===e&&i.css({disabled:t})},getElementValue:function(e,t){const n=e[0].firstElementChild,r=n[i]
if(void 0!==r)try{return vh.convertBack(n,r)}catch(e){return r}return r},setElementValue:function(e,i,n){if(void 0!==e){const n=i[0].firstElementChild
try{t._settingElementValue=!0,n[r]=vh.convert(n,e),t._settingElementValue=!1}catch(e){}}},type:"custom",dimensions:this.dimensions,indexerWidth:this.indexEditorWidth,showIndexDisplay:this.indexVisibility,customWidgetDefaultValue:o,showHorizontalScrollbar:this.horizontalScrollbarVisibility,showVerticalScrollbar:this.verticalScrollbarVisibility,disabled:this.disabled,theme:Jh,value:t._arrayValue}),this._jqxArrayInitialized=!0,Wh.data(this.childElement).jqxArray.instance._tdBorder-=2,this.jqref.jqxArray({rows:this.rows,columns:this.columns}),this.jqref.jqxArray({showHorizontalScrollbar:this.horizontalScrollbarVisibility,showVerticalScrollbar:this.verticalScrollbarVisibility}),this.isEmpty=!1,this.jqref.addClass("ni-array-viewer-box"),this.jqref.find(" .jqx-array-indexer").addClass("ni-indexer-box"),this.jqref.find(" .jqx-input-content").addClass("ni-text-field"),this.jqref.find(" .jqx-input.jqx-rc-r").addClass("ni-spins-box"),this.jqref.find(" .jqx-action-button").addClass("ni-spin-button"),this.jqref.find(" .jqx-icon-arrow-up").addClass("ni-increment-icon"),this.jqref.find(" .jqx-icon-arrow-down").addClass("ni-decrement-icon"),this.updateIndexerTheme(),this.updateScrollbarTheme(),this.updateFocusedCell(),this._creatingArrayValue=!1,nu(this,!1)}propertyUpdated(e){switch(super.propertyUpdated(e),e){case"dimensions":if(this._jqxArrayInitialized){const e={dimensions:this.dimensions}
null!==this.templateControl&&(e.rows=this.rows,e.columns=this.columns),this.jqref.jqxArray(e),this.updateIndexerFont(),this.updateIndexerTheme()}break
case"indexEditorWidth":this.jqref.jqxArray({indexerWidth:this.indexEditorWidth})
break
case"indexVisibility":this.jqref.jqxArray({showIndexDisplay:this.indexVisibility})
break
case"verticalScrollbarVisibility":this.jqref.jqxArray({showVerticalScrollbar:this.verticalScrollbarVisibility}),this.updateScrollbarTheme()
break
case"horizontalScrollbarVisibility":this.jqref.jqxArray({showHorizontalScrollbar:this.horizontalScrollbarVisibility}),this.updateScrollbarTheme()
break
case"focusedCell":this.updateFocusedCell()
break
case"rowsAndColumns":this.updateRowsAndColumns()
break
case"niType":this._niTypeInstance=new Xh(this.niType),this._expectedChildrenCount=ou(this._niTypeInstance)
break
case"disabled":this.jqref.jqxArray({disabled:this.disabled}),this.setDisabledOnChildElements(this.disabled),this.setDisabledOnScrollBars(this.disabled)}}setDisabledOnChildElements(e){const t=this.getFullCssSelectorForNIVisual(this.templateControl),i=document.querySelectorAll(t)
this.templateControl.disabled=this.disabled,i.forEach(t=>{t.disabled=e})}setDisabledOnScrollBars(e){this.querySelectorAll(" div.jqx-scrollbar").forEach(t=>{Wh(t).jqxScrollBar({disabled:e})})}updateFocusedCell(){let e,t,i,n,r,o,a
if(null!==this.templateControl)if("string"==typeof this.focusedCell&&this.focusedCell.length>0&&2===(e=this.focusedCell.split(",")).length){if(o=parseInt(e[0]),a=parseInt(e[1]),this._focusedRow=o,this._focusedColumn=a,null==(i=this.jqref.jqxArray("getElement",o,a)))return
for(n=i.querySelectorAll("[ni-control-id]"),t=0;t<n.length;t++){const e=Ri.getTemplateId(n[t])
void 0!==e&&null!==(r=document.querySelector("[ni-control-id='"+e+"']"))&&(r._niFocusedCloneId=n[t].niControlId)}}else for(this._focusedRow=void 0,this._focusedColumn=void 0,(n=Array.prototype.slice.call(this.templateControl.querySelectorAll("[ni-control-id]"))).push(this.templateControl),t=0;t<n.length;t++)n[t]._niFocusedCloneId=void 0}parseRowsAndColumns(){let e
"string"==typeof this.rowsAndColumns&&this.rowsAndColumns.length>0&&2===(e=this.rowsAndColumns.split(",")).length&&(this.rows=parseInt(e[0]),this.columns=parseInt(e[1]))}updateRowsAndColumns(){if(this.parseRowsAndColumns(),null===this.templateControl)return
const e=this.jqref.jqxArray("rows"),t=this.jqref.jqxArray("columns")
this.rows===e&&this.columns===t||(null===this.jqref.val()&&this.jqref.jqxArray({value:[]}),this.jqref.jqxArray({rows:this.rows,columns:this.columns}))
const i=this.jqref.find(".jqx-array-big-container"),n=window.getComputedStyle(i[0]),r=parseInt(n.paddingTop),o=parseInt(n.paddingRight),a=parseInt(n.paddingBottom),s=parseInt(n.paddingLeft),l=this.childElement,d={bubbles:!0,cancelable:!0,detail:{height:parseInt(l.style.height)+r+a,width:parseInt(l.style.width)+s+o,originalSource:this.childElement}}
this.dispatchEvent(new CustomEvent("array-size-changed",d)),this.updateFocusedCell()}setFont(e,t,i,n,r){super.setFont(e,t,i,n,r)
const o=this.jqref.find(" .jqx-array-indexer"),a={"font-size":e,"font-family":t,"font-weight":i,"font-style":n}
Wh(o).css(a),this.jqref.trigger("refresh")}updateIndexerFont(){let e=this.jqref.find(" .jqx-array-indexer").last()
const t=Wh(e).css(["font-size","font-family","font-weight","font-style"])
e=this.jqref.find(" .jqx-array-indexer"),Wh(e).css(t)}updateIndexerTheme(){this.jqref.find(".jqx-array-indexer").jqxNumberInput({theme:Jh})}updateScrollbarTheme(){let e
const t=this.jqref.find("div.jqx-array-scrollbar-horizontal, div.jqx-array-scrollbar-vertical")
for(e=0;e<t.length;e++){const i=Wh(t[e]),n=i.jqxScrollBar("touchMode")
void 0!==n&&!1!==n&&i.jqxScrollBar({touchMode:!1})}}}tn.registerElement(cu,Zi.CONTAINER),fa.defineElementInfo(cu.prototype,"ni-array-viewer","HTMLNIArrayViewer")
const hu=window.NIType,uu=window.NITypes,pu=window.NITypeNames,mu="value"
class fu extends Ar{constructor(e){super(e),this.niType=new hu({name:pu.ARRAY,rank:1,subtype:{name:pu.VOID}}),this._rowsAndColumns="1,1",this._dimensions=1,this._indexEditorWidth=53,this._indexVisibility=!1,this._orientation="horizontal",this._horizontalScrollbarVisibility=!1,this._verticalScrollbarVisibility=!1,this._focusedCell="",this._value=[],this._defaultElementValue=void 0}static get VISIBLE_COLUMNS_G_PROPERTY_NAME(){return"VisibleColumns"}static get VISIBLE_ROWS_G_PROPERTY_NAME(){return"VisibleRows"}get rowsAndColumns(){return this._rowsAndColumns}set rowsAndColumns(e){this._rowsAndColumns=e,this.notifyModelPropertyChanged("rowsAndColumns")}get dimensions(){return this._dimensions}set dimensions(e){this._dimensions=e,this.notifyModelPropertyChanged("dimensions")}get indexEditorWidth(){return this._indexEditorWidth}set indexEditorWidth(e){this._indexEditorWidth=e,this.notifyModelPropertyChanged("indexEditorWidth")}get indexVisibility(){return this._indexVisibility}set indexVisibility(e){this._indexVisibility=e,this.notifyModelPropertyChanged("indexVisibility")}get orientation(){return this._orientation}set orientation(e){this._orientation=e,this.notifyModelPropertyChanged("orientation")}get horizontalScrollbarVisibility(){return this._horizontalScrollbarVisibility}set horizontalScrollbarVisibility(e){this._horizontalScrollbarVisibility=e,this.notifyModelPropertyChanged("horizontalScrollbarVisibility")}get verticalScrollbarVisibility(){return this._verticalScrollbarVisibility}set verticalScrollbarVisibility(e){this._verticalScrollbarVisibility=e,this.notifyModelPropertyChanged("verticalScrollbarVisibility")}get focusedCell(){return this._focusedCell}set focusedCell(e){this._focusedCell=e,this.notifyModelPropertyChanged("focusedCell")}get value(){return this._value}set value(e){this._value=e,this.notifyModelPropertyChanged(mu)}get defaultElementValue(){return this._defaultElementValue}set defaultElementValue(e){this._defaultElementValue=e,this.notifyModelPropertyChanged("defaultElementValue")}static get MODEL_KIND(){return"niArrayViewer"}modelPropertyUsesNIType(e){return e===mu}controlChanged(e,t){this.value=e,super.controlChanged(mu,e,t)}scrollChanged(e){this.internalControlEventOccurred("ArrayScrolledEvent",e)}gPropertyNIType(e){switch(e){case fu.VISIBLE_COLUMNS_G_PROPERTY_NAME:case fu.VISIBLE_ROWS_G_PROPERTY_NAME:return uu.UINT32}return super.gPropertyNIType(e)}}cr.registerModel(fu)
const gu=0,vu=1,bu=function(e,t,i){const n=[t]
return i!==e.model&&Array.prototype.push.apply(n,e._viewModelData[t.niControlId].getClones()),n},yu=function(e,t){let i,n
const r=e.model,o=r.getOwner(),a=e.element.parentElement,s=bu(t,a,o)
for(i=0;i<s.length;i++)(n=Jn.getOrAddRenderBuffer(s[i])).properties.elementSize={width:parseInt(r.width),height:parseInt(r.height)},Jn.enqueueDomUpdate(s[i])},_u=function(e,t,i,n){let r,o,a,s
for(r=0;r<t.cssClasses.toAdd.length;r++)i.cssClasses.toAdd[r]=t.cssClasses.toAdd[r]
for(r=0;r<t.cssClasses.toRemove.length;r++)i.cssClasses.toRemove[r]=t.cssClasses.toRemove[r]
for(o in t.cssStyles)t.cssStyles.hasOwnProperty(o)&&(!n||"left"!==o&&"top"!==o)&&(i.cssStyles[o]=t.cssStyles[o])
for(a in t.attributes)t.attributes.hasOwnProperty(a)&&(i.attributes[a]=t.attributes[a])
for(s in t.properties)if(t.properties.hasOwnProperty(s)){if(void 0!==e.valuePropertyDescriptor&&(s===e.valuePropertyDescriptor.propertyName||s===e.valuePropertyDescriptor.propertyNameNonSignaling)&&e.parentElement instanceof cu)continue
i.properties[s]=t.properties[s]}},wu=function(e,t,i,n){let r,o
for(o=0;o<e.length;o++)r=Jn.getOrAddRenderBuffer(e[o]),_u(i,t,r,n),Jn.enqueueDomUpdate(e[o])},xu=function(e,t){let i=e,n=null
for(;!i.isDataItemBoundControl();)i instanceof fu&&(n=i),i=i.getOwner()
return i instanceof fu&&(n=i),Br.getVIModelByVIRef(t).getControlViewModel(n.niControlId)},Cu=function(e,t){const i=t.userInteractionChanged,n=t.modelPropertyChanged,r=t.onChildViewModelAdded,o=t.onChildViewModelRemoved,a=t.model.getOwner()instanceof fu
return{setCallback:function(){t.userInteractionChanged=function(n,r){const o=e._viewModelData[t.element.niControlId]
let s=!1
if("start"===n?o.suppressBoundsChanges=!0:"end"===n&&(o.suppressBoundsChanges=!1,a?(yu(t,e),e.element.updateTemplateCss(t.element)):!0===o.recreateCellsOnUserInteractionEnd?(e.recreateAllCells(),o.recreateCellsOnUserInteractionEnd=!1):s=!0),i.call(t,n,r),s){const i=Jn.getOrAddRenderBuffer(t.element)
0!==Object.keys(i.cssStyles).length&&wu(o.getClones(),i,t.element),e.element.updateTemplateCss(t.element)}},t.modelPropertyChanged=function(i){const r=e._viewModelData[t.element.niControlId]
let o,s=null
r.suppressBoundsChanges&&void 0!==t.element._niFocusedCloneId&&(s=document.querySelector("[ni-control-id='"+t.element._niFocusedCloneId+"']"))
const l=n.call(t,i)
return"left"===i||"top"===i||"width"===i||"height"===i?a?"width"!==i&&"height"!==i||r.suppressBoundsChanges||(yu(t,e),e.element.updateTemplateCss(t.element)):(r.suppressBoundsChanges?(o=[],null!==s&&(o[0]=s)):(o=r.getClones(),e.element.updateTemplateCss(t.element)),wu(o,l,t.element)):"fontSize"===i||"fontFamily"===i||"fontWeight"===i||"fontStyle"===i||"textDecoration"===i?(!function(e,t){let i
const n=t.model.fontSize,r=t.model.fontFamily,o=t.model.fontWeight,a=t.model.fontStyle,s=t.model.textDecoration
for(i=0;i<e.length;i++)e[i].setFont(n,r,o,a,s)}(r.getClones(),t),e.element.updateTemplateCss(t.element)):(void 0===t.element.valuePropertyDescriptor||i!==t.element.valuePropertyDescriptor.propertyName&&i!==t.element.valuePropertyDescriptor.propertyNameNonSignaling)&&(o=r.getClones(),wu(o,l,t.element,a)),l},t.onChildViewModelAdded=function(i){r.call(t,i),e.initializeElementViewModel(i)
const n=e._viewModelData[i.element.niControlId],o=Br.getVIViewModelByVIRef(i.element.viRef)
void 0!==i.element._modelMetadata&&!0===i.element._modelMetadata.initialLoad||(o.isUserInteracting(i.element.niControlId)?(n.recreateCellsOnUserInteractionEnd=!0,window.requestAnimationFrame(function(){e.element.recreateCells(!1)})):window.requestAnimationFrame(function(){e.element.recreateCells(!0)}))},t.onChildViewModelRemoved=function(i){let n
const r=e._viewModelData[i.element.niControlId],a=r.getClones()
for(o.call(t,i),n=0;n<a.length;n++)a[n].parentElement.removeChild(a[n])
t.model instanceof fu||(r.shim.removeShim(),e._viewModelData[i.element.niControlId]=void 0)}},removeShim:function(){t.userInteractionChanged=i,t.modelPropertyChanged=n,t.onChildViewModelAdded=r,t.onChildViewModelRemoved=o}}}
class Su extends ys{constructor(e,t){super(e,t),this._viewModelData={},this._recreateCellsRequested=!1,this._isUserInteracting=!1,this.registerAutoSyncProperty("dimensions"),this.registerAutoSyncProperty("indexEditorWidth"),this.registerAutoSyncProperty("indexVisibility"),this.registerAutoSyncProperty("rowsAndColumns"),this.registerAutoSyncProperty("orientation"),this.registerAutoSyncProperty("verticalScrollbarVisibility"),this.registerAutoSyncProperty("horizontalScrollbarVisibility"),this.registerAutoSyncProperty("focusedCell")}modelPropertyChanged(e){const t=super.modelPropertyChanged(e),i=this
let n
switch(e){case"value":t.postRender.value=function(){i.element.dimensions=i.model.dimensions,i.element.valueNonSignaling=i.model.value}
break
case"niType":t.properties.niType=this.model.getNITypeString()
break
case"defaultElementValue":{const e=xu(this.model,this.element.viRef),t=bu(e,this.element,this.model)
for(n=0;n<t.length;n++)t[n].defaultElementValue=this.model.defaultElementValue
break}}return t}recreateAllCells(){const e=this
this._recreateCellsRequested||(this._recreateCellsRequested=!0,window.requestAnimationFrame(function(){e.element.recreateCells(!0),e._recreateCellsRequested=!1}))}bindToView(){super.bindToView()
const e=this
let t,i
e.bindFocusEventListener(),e.element.addEventListener("value-changed",function(t){let i,n
t.target===e.element&&(i=t.detail.newValue,n=t.detail.oldValue,e.model.controlChanged(i,n))}),e.element.addEventListener("array-size-changed",function(t){const i=vn.PanelLocationEnum.IDE_EDIT
Br.getWebAppModelByVIRef(this.viRef).location!==i&&t.target===e.element&&(e.model.height=t.detail.height+"px",e.model.width=t.detail.width+"px")}),e.element.addEventListener("scroll-changed",function(t){t.target===e.element&&e.model.scrollChanged(t.detail.indices)}),e.model.childModels.length>0&&(i=e.model.childModels[0],t=Br.getVIModelByVIRef(e.element.viRef),e.initializeArrayElementViewModel(t.getControlViewModel(i.niControlId)))}userInteractionChanged(e,t){if(super.userInteractionChanged(e,t),"start"===e)this._isUserInteracting=!0
else if("end"===e&&(this._isUserInteracting=!1,this.model.childModels.length>0)){const e=this.model.childModels[0],t=this.element.viRef,i=Br.getVIModelByVIRef(t).getControlViewModel(e.niControlId),n=xu(e,t)
yu(i,n)}}updateModelFromElement(){super.updateModelFromElement(),this.model.value=this.element.value,this.model.niType=new window.NIType(this.element.niType),this.model.defaultElementValue=this.element.defaultElementValue}applyModelToElement(){super.applyModelToElement(),this.element.niType=this.model.getNITypeString(),this.element.valueNonSignaling=this.model.value,this.element.defaultElementValue=this.model.defaultElementValue}onChildViewModelAdded(e){super.onChildViewModelAdded(e),this.initializeArrayElementViewModel(e)}onChildViewModelRemoved(e){const t=xu(e.model,this.element.viRef)
t._viewModelData[e.element.niControlId].shim.removeShim(),t._viewModelData[e.element.niControlId]=void 0}initializeArrayElementViewModel(e){xu(e.model,this.element.viRef)===this&&this.initializeElementViewModel(e)}initializeElementViewModel(e){let t,i,n,r,o,a,s
if(e instanceof ys)for((r=Cu(this,e)).setCallback(),(s={}).shim=r,s.cssCloneSelector=this.element.getFullCssSelectorForNIVisual(e.element),s.getClones=function(){return document.querySelectorAll(s.cssCloneSelector)},this._viewModelData[e.model.niControlId]=s,a=Array.prototype.slice.call(e.model.childModels),t=0;t<a.length;t++)i=a[t],o=(n=Br.getVIModelByVIRef(this.element.viRef)).getControlViewModel(i.niControlId),this.initializeElementViewModel(o)}setGPropertyValue(e,t){const i=this.model
switch(e){case Ar.SIZE_G_PROPERTY_NAME:throw new Vn(Ri.i18n("msg_PROPERTY_CANNOT_BE_SET",e),wr.OPERATION_UNSUPPORTED_ON_CONTROL_ERROR_CODE)
case Ar.VALUE_G_PROPERTY_NAME:i.value=t
break
case Ar.VALUE_SIGNALING_G_PROPERTY_NAME:{const e=i.value
i.controlChanged(t,e)
break}case fu.VISIBLE_ROWS_G_PROPERTY_NAME:{const e=Tu(i.rowsAndColumns,vu)
e>1&&1===i.dimensions?(i.orientation="vertical",i.rowsAndColumns=t+",1"):i.rowsAndColumns=t+","+e
break}case fu.VISIBLE_COLUMNS_G_PROPERTY_NAME:{const e=Tu(i.rowsAndColumns,gu)
e>1&&1===i.dimensions?(i.orientation="horizontal",i.rowsAndColumns="1,"+t):i.rowsAndColumns=e+","+t
break}default:super.setGPropertyValue(e,t)}}getGPropertyValue(e){const t=this.model
switch(e){case Ar.VALUE_G_PROPERTY_NAME:return t.value
case fu.VISIBLE_ROWS_G_PROPERTY_NAME:return Tu(t.rowsAndColumns,gu)
case fu.VISIBLE_COLUMNS_G_PROPERTY_NAME:return Tu(t.rowsAndColumns,vu)
default:return super.getGPropertyValue(e)}}}function Tu(e,t){let i
if("string"==typeof e&&e.length>0){if(2===(i=e.split(",")).length)return parseInt(i[t])
throw new Error(Ri.i18n("msg_INVALID_FORMAT","rowsAndColumns","'row,column '"))}throw new Error(Ri.i18n("msg_UNEXPECTED_TYPE",typeof e,"string"))}cr.registerViewModel(Su,cu,fu)
var Iu=Object.freeze({ArrayViewerViewModel:Su})
const Eu=Symbol("NIDatGridColumnSymbol")
class Pu{static get NIDatGridColumnSymbol(){return Eu}static isNIDataGridColumn(e){return"object"==typeof e&&null!==e&&!0===e[Eu]}}class Du{static coerceSignificantDigits(e,t){return-1===e?t:Math.max(1,Math.min(21,e))}static coercePrecisionDigits(e,t){return-1===e?t:Math.max(0,Math.min(20,e))}static coerceDisplayDigits(e,t,i){const n={}
return n.significantDigits=Du.coerceSignificantDigits(e,i),n.precisionDigits=Du.coercePrecisionDigits(t,i),n.precisionDigits!==i&&n.significantDigits!==i?n.precisionDigits=i:n.precisionDigits===i&&n.significantDigits===i&&(n.precisionDigits=0),n}}const ku=NationalInstruments.Globals.jQuery,Au=window.NIType,ju=22,Mu="_id",Nu=new ku.jqx.math,qu={},Ou=function(){return!1},Bu=function(e){if(e.length>0){const t=e[0]
if("none"!==t.style.display&&"hidden"!==t.style.visibility)return t.offsetHeight}return 0},Lu=function(e){let t,i=[]
if(null!==e)try{t=JSON.parse(e),Array.isArray(t)&&(i=t)}catch(e){}return i},Ru=function(e,t){return{altstep:t,altstart:-e+Math.floor(2*e/(t+1))*(t+1)}},Hu=function(e,t){t.columntype="custom",t.createwidget=function(t,i,n,r){!e._validState&&e._refreshRequested||function(e,t,i,n,r){if(!r.firstElementChild){const o="number"==typeof t?t:t.visibleindex,a="string"==typeof i?i:i.datafield,s=e.columns[a],l=s.firstElementChild,d=l.nodeName,c=qu[d],h=Ri.cloneControlElement(l)
h.clearInstanceSpecificProperties(),Ri.setTemplateId(h,l.niControlId),h._dataGridRow=o,h._dataGridColumn=a,h._preventModelCreation=!0,h.visible=!0,h.style.width="100%",h.style.height="100%",h.disabled=e.disabled,c.setWidgetValue(h,n,l),r.appendChild(h),"function"==typeof c.configureWidget&&c.configureWidget(e,h,r),"function"==typeof c.resize&&c.resize(h,{width:s.width,height:e.coercedRowHeight})}}(e,t,i,n,r)},t.initwidget=function(t,i,n,r){!e._validState&&e._refreshRequested||function(e,t,i,n,r){const o="number"==typeof t?t:t.visibleindex,a="string"==typeof i?i:i.datafield,s=r.firstElementChild
s._dataGridRow=o,s._dataGridColumn=a,qu[s.nodeName].setWidgetValue(s,n)}(0,t,i,n,r)},t.cellbeginedit=Ou},Vu=function(e,t,i){let n=!0,r=""
void 0!==e.horizontalAlignment&&(r=" style='text-align:"+e.horizontalAlignment+"'")
let o="<div class='ni-aggregate-box'"+r+">"
return i&&ku.each(t,function(t,i){const r=e.items[t]
let a=Ri.escapeHtml(r.label)
void 0===a&&(a=""),n?n=!1:o+="<br />",o+="<strong>"+a+":</strong> "+function(e,t){const i=Du.coerceDisplayDigits(e.significantDigits,e.precisionDigits)
if("exponential"===e.format)return Nu.getDecimalNotation(t,e.format,i.precisionDigits,i.significantDigits)
if(void 0!==i.significantDigits)return Number(t.toPrecision(i.significantDigits)).toString()
if(void 0!==i.precisionDigits)return t.toFixed(i.precisionDigits)
throw new Error("Unexpected significantDigits / precisionDigits for column aggregate")}(r,i)}),o+="</div>"},Fu=function(e,t){e.dispatchEvent(new CustomEvent("value-changed",{bubbles:!0,cancelable:!1,detail:{newValue:e.value,oldValue:t}}))},zu=function(e,t){const i=t.firstElementChild
if(null===i)return
const n=qu[i.nodeName],r=new window.MutationObserver(function(i){let r,o
void 0!==n.templateControlAttributeChanged&&(r=[],o=0,i.forEach(function(e){const t=e.attributeName
null!==t&&(r[o]=t,o++)}),n.templateControlAttributeChanged(e,t,r))}),o={attributes:!0}
t._niColumnTemplateControlObserver=r,"function"==typeof r.observe&&r.observe(i,o)},$u=function(e){const t=e._niColumnTemplateControlObserver
void 0!==t&&"function"==typeof t.disconnect&&(t.disconnect(),e._niColumnTemplateControlObserver=void 0)},Uu=function(e){return e.replace(/-([a-z])/g,function(e){return e[1].toUpperCase()})},Gu=function(e,t,i){const n=t.index.toString(),r=t.firstElementChild
let o
if(null===r)return
const a={},s={}
let l,d,c
for(o=0;o<i.length;o++)l=i[o],r.hasAttribute(l)?a[l]=r.getAttribute(l):Ri.isJQXElement(r)&&void 0!==r[d=Uu(l)]&&(s[d]=r[d])
const h=e.jqref[0].querySelectorAll(r.tagName)
let u
for(u=0;u<h.length;u++)if((c=h[u])._dataGridColumn===n)for(o=0;o<i.length;o++)l=i[o],d=Uu(l),void 0!==a[l]?c.setAttribute(l,a[l]):void 0!==s[d]?c[d]=s[d]:c.removeAttribute(l)},Wu=function(e,t){t.addEventListener(t.valuePropertyDescriptor.eventName,function(i){const n=vs.convertJQXTypeToNI(t),r=vs.convertBack(i.detail.value,n)
e.templateControlValueChanged(t,r)})},Xu=function(e,t){t.addEventListener("change",function(i){if(!0!==t.readonly&&"api"!==i.detail.changeType){const n=t._dataGridRow,r=t._dataGridColumn,o=e.jqxValue[n][r],a=i.detail.value
o!==a&&e.templateControlValueChanged(t,a)}})},Ju=function(e){void 0!==e.stopPropagation&&e.stopPropagation()},Yu=function(e){const t=ku("<div class='ni-add-rows-toolbar-grid'></div>"),i=ku("<div class='ni-row-count-text-field-box' />")
t.append(i),t.append(ku("<span class='ni-text'>"+e.addRowsLabel+": </span>"))
const n=ku("<input type='button' class='ni-add-rows-button' />")
t.append(n)
const r=ku("<div class='ni-add-rows-toolbar'></div>")
r.append(t),!e.readOnly&&e.showAddRowsToolBar||(r[0].style.display="none"),e.jqref.append(r),e.addRowsToolbarRef=r,i.jqxNumberInput({inputMode:"simple",decimalDigits:0,min:1,max:1e3,value:1,width:53,height:22}),i[0].firstElementChild.style.width="50px",i.find(" input").addClass("ni-row-count-text-field"),n[0].value=e.addRowsButtonLabel,n.jqxButton({width:50,height:22}),n.on("click",function(){void 0===e.jqref||e.disabled||(e.addEmptyRows(i.jqxNumberInput("val")),n.blur())})}
qu["NI-STRING-CONTROL"]={initializeColumn:Hu,setWidgetValue:function(e,t){e.textNonSignaling=t},getDefaultValue:function(){return""},validateValue:function(e){return"string"==typeof e},templateControlAttributeChanged:Gu,configureWidget:function(e,t){t.addEventListener("text-changed",function(i){e.templateControlValueChanged(t,i.detail.text)}),t.addEventListener("keydown",Ju,!1)}},qu["JQX-NUMERIC-TEXT-BOX"]={initializeColumn:Hu,setWidgetValue:function(e,t){const i=vs.convertJQXTypeToNI(e)
e.value=vs.convert(t,i)},validateValue:function(e,t){const i=vs.convertJQXTypeToNI(t)
return i.is64BitInteger()||i.isComplex()?"string"==typeof e:"number"==typeof e},getDefaultValue:function(e){const t=vs.convertJQXTypeToNI(e)
return vs.convertBack(0,t)},templateControlAttributeChanged:Gu,configureWidget:function(e,t){Wu(e,t),t.addEventListener("keydown",Ju,!1)}},qu["JQX-CHECK-BOX"]={initializeColumn:Hu,setWidgetValue:function(e,t){e.checked=t},validateValue:function(e){return"boolean"==typeof e},templateControlAttributeChanged:Gu,configureWidget:function(e,t){t.parentElement.classList.add("ni-widget-container-centered"),Xu(e,t)},getDefaultValue:Ou},qu["JQX-LED"]={initializeColumn:Hu,setWidgetValue:function(e,t){e.checked=t},validateValue:function(e){return"boolean"==typeof e},templateControlAttributeChanged:Gu,configureWidget:function(e,t){t.parentElement.classList.add("ni-widget-container-centered"),Xu(e,t),t.style.position="absolute"},getDefaultValue:Ou},qu["JQX-SLIDER"]={initializeColumn:Hu,setWidgetValue:function(e,t){const i=vs.convertJQXTypeToNI(e)
e.value=vs.convert(t,i)},validateValue:function(e,t){const i=vs.convertJQXTypeToNI(t)
return i.is64BitInteger()||i.isComplex()?"string"==typeof e:"number"==typeof e},getDefaultValue:function(e){const t=vs.convertJQXTypeToNI(e)
return vs.convertBack(0,t)},templateControlAttributeChanged:Gu,configureWidget:function(e,t){Wu(e,t)}},qu["JQX-PROGRESS-BAR"]={initializeColumn:Hu,setWidgetValue:function(e,t){e.value=t},validateValue:function(e){return"number"==typeof e},getDefaultValue:function(){return 0},templateControlAttributeChanged:Gu},qu["JQX-DROP-DOWN-LIST"]={initializeColumn:Hu,setWidgetValue:function(e,t,i){if(void 0!==i){const n="string"!=typeof i.dataSource?JSON.stringify(i.dataSource):i.dataSource
e.setAttribute("data-source",n),e.setAttribute("selected-indexes",JSON.stringify(lh.convert(t)))}else e.selectedIndexes=lh.convert(t)},validateValue:function(e){return Array.isArray(e)||"number"==typeof e},getDefaultValue:function(){return 0},templateControlAttributeChanged:Gu,configureWidget:function(e,t){t.$.dropDownContainer.classList.add("ni-grid-dropdown-popup"),Gr.enableNativePopups(e,t,Gr.fontCssProperties,Gr.closeChildJqxDropDownLists),t.addEventListener("change",function(i){e.templateControlValueChanged(t,i.detail.index)})}}
class Qu extends ga{getColumnWidths(){const e=new Array(this.sortedColumnIndices.length),t=this.jqref.jqxGrid("columns").records
return this.sortedColumnIndices.forEach(function(i,n){e[i]=t[n].width}),e.shift(),e}addAllProperties(e){super.addAllProperties(e)
const t=Qu.prototype
Object.defineProperty(t,"value",{get:function(){return this.deepCloneData()},set:function(e){const t=this.deepCloneData()
this.updateData(e),Fu(this,t)},configurable:!1,enumerable:!0}),Object.defineProperty(t,"valueNonSignaling",{get:function(){return this.deepCloneData()},set:function(e){this.updateData(e)},configurable:!1,enumerable:!1}),t.addProperty(e,{propertyName:"niType",defaultValue:'{"name":"Array","rank":1,"subtype":{"name":"Cluster","fields":[]}}'}),t.addProperty(e,{propertyName:"rowHeaderVisible",defaultValue:!1}),t.addProperty(e,{propertyName:"columnHeaderVisible",defaultValue:!1}),t.addProperty(e,{propertyName:"showAddRowsToolBar",defaultValue:!1}),t.addProperty(e,{propertyName:"allowSorting",defaultValue:!1}),t.addProperty(e,{propertyName:"allowPaging",defaultValue:!1}),t.addProperty(e,{propertyName:"allowFiltering",defaultValue:!1}),t.addProperty(e,{propertyName:"allowGrouping",defaultValue:!1}),t.addProperty(e,{propertyName:"rowHeight",defaultValue:ju}),t.addProperty(e,{propertyName:"altRowColors",defaultValue:!1}),t.addProperty(e,{propertyName:"altRowStart",defaultValue:1}),t.addProperty(e,{propertyName:"altRowStep",defaultValue:1}),t.addProperty(e,{propertyName:"isInEditMode",defaultValue:!1,fireEvent:!1,addNonSignalingProperty:!1}),t.addProperty(e,{propertyName:"selectedColumn",defaultValue:-1}),Ri.setValuePropertyDescriptor(e,"value","value","valueNonSignaling","value-changed")}createdCallback(){super.createdCallback(),this.columns=[],this.selectedColumnDataField=void 0,this.sortedColumnIndices=[],this.parsedValue=[],this.niTypeInstance=void 0,this.jqxValue=[],this.columnObservers=[],this.pageSize=0,this.addRowsButtonLabel=Ri.i18n("msg_datagrid_addrowsbuttonlabel"),this.addRowsLabel=Ri.i18n("msg_datagrid_addrowslabel"),this.coercedRowHeight=ju,this.showAggregates=!1,this.maxAggregateCountPerColumn=0,this._validState=!0}connectedCallback(){this.parsedValue=Lu(this.getAttribute("value")),this.niTypeInstance=new Au(this.niType),super.connectedCallback()}getDefaultColumns(){return[{text:"",datafield:Mu,width:50,cellsalign:"center",columntype:"custom",createwidget:function(e,t,i,n){n.firstElementChild||ku(n).append("<div style='width: 100%; height: 100%; display: table; text-align: center;'><span style='display: table-cell; vertical-align: middle;'>"+i.toString()+"</span></div>")},initwidget:function(e,t,i,n){const r=n.firstElementChild
null!==r&&(r.firstElementChild.textContent=i.toString())},cellbeginedit:Ou,hidden:!this.rowHeaderVisible,pinned:this.columns.some(function(e){return e.pinned})}]}setFont(){}templateControlValueChanged(e,t){const i=e._dataGridRow,n=e._dataGridColumn,r=this.jqxValue[i][n],o=this.deepCloneData()
r!==t&&(this.parsedValue[i][this.columns[n].fieldName]=t,Fu(this,o))}updateJqxColumnConfig(){const e=this
let t
const i=this.getDefaultColumns()
let n,r,o,a,s,l=!1,d=0,c=0
const h=[0]
let u=!0
for(t=0;t<this.columns.length;t++)if(t!==this.columns[t].index||null===this.columns[t].firstElementChild){u=!1
break}if(u){for(t=0;t<this.columns.length;t++)this.columns[t].pinned&&h.push(t+1)
this.columns.forEach(function(t,p){t.parsedAggregates=JSON.parse(t.aggregates),s=[],d=0
for(const e in t.parsedAggregates.items)t.parsedAggregates.items.hasOwnProperty(e)&&(s.push(e),d++,l=!0)
if(c=Math.max(c,d),n={align:"center",text:Ri.escapeHtml(t.header),datafield:p.toString(),width:t.width,pinned:t.pinned,aggregates:s},s.length>0&&(n.aggregatesrenderer=function(i){return Vu(t.parsedAggregates,i,e._validState)}),t.pinned||h.push(p+1),o=t.firstElementChild,r=o.nodeName,!qu.hasOwnProperty(r))throw new Error("Unsupported template element type for column "+p+": "+r)
a=qu[r],t._niColumnDefaultValue=a.getDefaultValue(o),a.initializeColumn(e,n),e.jqxValue.length>0&&(a.validateValue(e.jqxValue[0][n.datafield],o)||(u=!1)),Ri.isElement(o)||(u=!1,window.requestAnimationFrame(function(){e.requestRefresh()})),i.push(n)})}u&&(this.showAggregates=l,this.maxAggregateCountPerColumn=c,this.sortedColumnIndices=h,this.jqxColumnConfig=i),this._validState=u}addEmptyRows(e){let t,i,n,r,o,a,s,l,d
if(e>0){for(d=this.deepCloneData(),n=[],a=l=this.parsedValue.length,r=0;r<e;r++){for(t={},(i={})[Mu]=a++,o=0;o<this.columns.length;o++)s=this.columns[o],i[o]=s._niColumnDefaultValue,t[s.fieldName]=s._niColumnDefaultValue
n.push(i),this.parsedValue.push(t)}this.showAggregates&&0===l&&(this.updateStatusBar(),this.updatePageSize()),this.jqref.jqxGrid("addrow",null,n),Fu(this,d)}}getColumnNames(){return void 0===this.niTypeInstance?[]:this.niTypeInstance.getSubtype().getFields()}updateJqxValueFromParsedValue(){let e,t,i
const n=[],r=[],o=this.getColumnNames()
for(e=0;e<this.parsedValue.length;e++){(i={})[Mu]=e
let a=!1
for(t=0;t<o.length;t++){const n=this.parsedValue[e][o[t]]
if(i[t]=n,e<this.jqxValue.length){const i=this.jqxValue[e][""+t]
a=a||i!==n}else a=!0}a&&r.push(e),n.push(i)}return this.jqxValue=n,r}initializeColumnsAndData(){this.updateJqxColumnConfig(),this.updateJqxValueFromParsedValue(),this.dataSource={datatype:"array",localdata:this.jqxValue}
const e=new ku.jqx.dataAdapter(this.dataSource)
e.getvaluebytype=function(t,i){return"NaN"===t&&"number"===i.type?t:ku.jqx.dataAdapter.prototype.getvaluebytype.call(e,t,i)},this.dataAdapter=e,this.updateStatusBar(),this._validState&&this.jqref.jqxGrid({columns:this.jqxColumnConfig,source:this.dataAdapter})}getSettings(){const e=Ru(this.altRowStart,this.altRowStep)
return{editable:!this.disabled&&!this.readOnly,showemptyrow:!1,selectionmode:"none",showheader:this.columnHeaderVisible,columnsresize:!0,enablehover:!1,showsortmenuitems:!1,sortable:this.allowSorting,filterable:this.allowFiltering,showfilterrow:this.allowFiltering,pageable:this.allowPaging,groupable:this.allowGrouping,altrows:this.altRowColors,altstart:e.altstart,altstep:e.altstep,columnsheight:ju,rowsheight:this.coercedRowHeight,groupsexpandedbydefault:!0,disabled:this.disabled,touchMode:!1}}setSelectedColumn(e){let t,i
if(this.jqref&&this.isInEditMode&&(e>=0&&e<this.columns.length?(i=e,t=e.toString()):i=-1,i!==this.selectedColumn&&(this.selectedColumn=i),this.selectedColumnDataField!==t)){if(void 0!==this.selectedColumnDataField){const e=this.jqref.jqxGrid("getcolumn",this.selectedColumnDataField)
null!==e&&null!==e.element&&void 0!==e.element&&ku(e.element).removeClass("ni-selected-header")}this.selectedColumnDataField=t,this.refreshSelectedColumn(),this.dispatchEvent(new CustomEvent("selected-column-changed",{detail:{selectedColumn:this.selectedColumn}}))}}refreshSelectedColumn(){let e,t,i
if(this.isInEditMode){if(-1===this.selectedColumn)for(e=0;e<this.jqxColumnConfig.length;e++)null!=(t=this.jqref.jqxGrid("getcolumn",this.jqxColumnConfig[e].datafield))&&(t.cellclassname="")
else for(i=this.sortedColumnIndices[this.sortedColumnIndices.indexOf(this.selectedColumn+1)-1],e=0;e<this.jqxColumnConfig.length;e++)null!=(t=this.jqref.jqxGrid("getcolumn",this.jqxColumnConfig[e].datafield))&&(e===i?t.cellclassname="ni-selected-cell":e===this.selectedColumn+1?(t.cellclassname="ni-selected-cell",ku(t.element).addClass("ni-selected-header")):t.cellclassname="")
ku(this.jqref).jqxGrid("clearselection")}}updateCoercedRowHeight(){this.coercedRowHeight=this.rowHeight>=1?this.rowHeight:ju}attachedCallback(){const e=super.attachedCallback(),t=this
let i,n,r,o
return!0===e&&(this.niTypeInstance=new Au(this.niType),r=this.findInitialColumns(),this.addColumnListeners(r),this.updateCoercedRowHeight(),(i=this.getSettings()).ready=function(){o[0].classList.remove("jqx-grid"),0===r.length&&t.initializeColumnsAndData(),o.find(" .jqx-grid-statusbar").addClass("ni-status-bar"),o.addClass("ni-grid-widget"),o.addClass("ni-grid-widget-content"),o.find(" .jqx-widget").addClass("ni-grid-widget"),o.find(" .jqx-widget-content").addClass("ni-grid-widget-content"),o.find(" .jqx-grid-groups-header").addClass("ni-groups-header"),o.find(" .jqx-grid-pager").addClass("ni-pager-box"),o.find(" .jqx-grid-pager-input").addClass("ni-pager-text-field"),o.find(" .jqx-dropdownlist-state-normal").addClass("ni-selector"),o.find(" .jqx-max-size").addClass("ni-filter-row-box"),o.find(" .jqx-grid-column-header").addClass("ni-column-header"),o.find(" .jqx-grid-content").addClass("ni-grid-content"),o.find(" .jqx-grid-cell-filter-row").addClass("ni-filter-row"),o.find(" .jqx-grid-cell").addClass("ni-cell"),o.find(" .jqx-grid-group-cell").addClass("ni-group-cell")},(n=document.createElement("div")).style.width="100%",n.style.height="100%",this.appendChild(n),o=ku(n),this.jqref=o,o.jqxGrid(i),Yu(this),this.updateStatusBar(),this.updatePagingSettings(),o.on("cellendedit",function(e){const i=t.deepCloneData(),n=e.args.rowindex,r=e.args.datafield,o=e.args.value
t.jqxValue[n][r]=o,t.parsedValue[n][t.columns[r].fieldName]=o,Fu(t,i)}),o.on("columnclick",function(e){const i=e.args.originalEvent.originalEvent
t.setSelectedColumn(parseInt(e.args.datafield)),void 0!==i&&void 0!==i.x&&void 0!==i.y&&(t.handledClickEvent={x:i.x,y:i.y})}),o.on("cellclick",function(e){const i=e.args.originalEvent
t.setSelectedColumn(parseInt(e.args.datafield)),void 0!==i&&void 0!==i.pageX&&void 0!==i.pageY&&(t.handledClickEvent={x:i.pageX,y:i.pageY})}),o.on("click",function(e){void 0!==e.pageX&&void 0!==t.handledClickEvent&&e.pageX===t.handledClickEvent.x&&e.pageY===t.handledClickEvent.y||void 0!==e.detail&&void 0!==t.handledClickEvent&&e.detail.pageX===t.handledClickEvent.x&&e.detail.pageY===t.handledClickEvent.y||(t.setSelectedColumn(-1),t.handledClickEvent=void 0)}),o.on("columnresized",function(e){const i=e.args,n=i.datafield,r=i.newwidth,a=t.coercedRowHeight,s=t.columns[n]
if(void 0===s){if(n!==Mu)throw new Error("Column not found with dataField: "+n)
return}const l=s.firstElementChild,d=qu[l.nodeName]
let c,h
if("function"!=typeof d.resize)return
const u=o[0].querySelectorAll(l.tagName)
for(c=0;c<u.length;c++)(h=u[c])._dataGridColumn===n&&d.resize(h,{width:r,height:a})}),window.addEventListener("resize",function(){if("fixed"===t.controlResizeMode)return
const e=window.getComputedStyle(t)
t.forceResize({width:e.width,height:e.height})})),e}detachedCallback(){super.detachedCallback(),Lr.unregisterElement(this)}forceResize(e){super.forceResize(e)
let t=this.jqref
void 0===t&&(t=ku(this).children("div")),t.jqxGrid(e),this.updatePageSize()}updateColumns(){void 0!==this.jqref&&null!==this.parentElement&&(this.jqref.jqxGrid("endcelledit"),this.updateJqxColumnConfig(),this._validState&&(this.jqref.jqxGrid({columns:this.jqxColumnConfig}),this.refreshSelectedColumn()))}validateState(){void 0!==this.jqref&&null!==this.parentElement&&(this.jqref.jqxGrid("endcelledit"),this.updateJqxValueFromParsedValue(),this.updateJqxColumnConfig())}refreshIfValid(){void 0!==this.jqref&&null!==this.parentElement&&(this.validateState(),this._validState&&(this.dataSource.localdata=this.jqxValue,this.jqref.jqxGrid("beginupdate",!0),this.jqref.jqxGrid({filterable:!1}),this.jqref.jqxGrid({columns:this.jqxColumnConfig}),this.jqref.jqxGrid({source:this.dataAdapter}),this.propertyUpdated("allowFiltering"),this.jqref.jqxGrid("endupdate"),this.jqref.jqxGrid("refresh"),this.updateStatusBar(),this.refreshSelectedColumn()))}deepCloneData(){return Fa.deepCopy(this.parsedValue)}updateData(e){const t=this.parsedValue.length,i=this
if(this.parsedValue=e,void 0===this.jqref)return
if(this._refreshRequested)return
if(!this._validState)return void this.refreshIfValid()
const n=this.updateJqxValueFromParsedValue()
if(this.showAggregates&&0===t!=(0===this.parsedValue.length)&&this.updateStatusBar(),t===this.parsedValue.length){const e=n.map(function(e){return i.jqxValue[e]})
e.length>0&&this.jqref.jqxGrid("updaterow",n,e)}else this.dataSource.localdata=this.jqxValue,this.jqref.jqxGrid({source:this.dataAdapter})}findInitialColumns(){const e=[]
let t
for(t=0;t<this.children.length;t++)Pu.isNIDataGridColumn(this.children[t])&&e.push(this.children[t])
return e}sortColumns(){this.columns.sort(function(e,t){return e.index-t.index})}requestRefresh(){const e=this
!0!==e._refreshRequested&&(e._refreshRequested=!0,window.requestAnimationFrame(function(){e._refreshRequested=!1,e.refreshIfValid()}))}addColumnListeners(e){const t=this
t.addEventListener("ni-data-grid-column-attached",function(i){let n,r,o,a
if(i.target===t){for(r=i.detail.element,t.columns.push(r),t.sortColumns(),o=new window.MutationObserver(function(e){e.forEach(function(e){e.removedNodes.length>0&&($u(t,r),t._validState=!1,t.requestRefresh()),e.addedNodes.length>0&&(zu(t,r),t.requestRefresh())})}),a={childList:!0},r._niColumnObserver=o,"function"==typeof o.observe&&o.observe(r,a),zu(t,r),n=0;n<e.length;n++)if(e[n]===i.detail.element){e.splice(n,1)
break}0===e.length&&(void 0===this.dataSource?this.initializeColumnsAndData():t.requestRefresh())}}),t.addEventListener("ni-data-grid-column-detached",function(e){let i,n
if(e.target===t){for(n=e.detail.element,i=0;i<t.columns.length;i++)if(t.columns[i]===n){t.columns.splice(i,1),"function"==typeof n._niColumnObserver.disconnect&&n._niColumnObserver.disconnect(),$u(t,n)
break}t.updateColumns()}}),t.addEventListener("ni-data-grid-column-changed",function(e){const i=e.detail.propertyName
"index"===i&&t.sortColumns(),"index"!==i&&"fieldName"!==i&&t._isValidState?(t.updateColumns(),"aggregates"===i&&(t.updateStatusBar(),t.updatePageSize())):t.requestRefresh()})}updateStatusBar(){const e=this,t=!e.readOnly&&e.showAddRowsToolBar
let i
void 0!==e.addRowsToolbarRef&&e.addRowsToolbarRef.toggle(t),void 0!==e.jqref&&(i=t?40:0,this.parsedValue.length>0&&e.maxAggregateCountPerColumn>0&&(i+=e.maxAggregateCountPerColumn*ju+4),e.jqref.jqxGrid({statusbarheight:i}),e.jqref.jqxGrid({showstatusbar:t||e.showAggregates,showaggregates:e.showAggregates}),e.showAggregates&&e.jqref.jqxGrid("renderaggregates"))}updatePageSize(){const e=this
void 0!==this.updatePageSizeTimer&&clearTimeout(this.updatePageSizeTimer),this.updatePageSizeTimer=setTimeout(function(){if(e.updatePageSizeTimer=void 0,e.allowPaging){let t
0===e.jqref.find(".jqx-grid-header").length&&e.jqref.jqxGrid("render")
let i=e.jqref.height()
i-=Bu(e.jqref.find("div.jqx-grid-header")),i-=Bu(e.jqref.find("div.jqx-grid-groups-header")),i-=Bu(e.jqref.find("div.jqx-grid-pager")),i-=Bu(e.jqref.find("div.ni-status-bar"))
const n=e.jqref.find("div.jqx-scrollbar").sort(function(e,t){return e.offsetLeft-t.offsetLeft})
i-=Bu(n),(t=Math.floor(i/e.coercedRowHeight))<=0&&(t=10),e.pageSize===t||ku.jqx.isHidden(e.jqref)||(e.pageSize=t,e.jqref.jqxGrid({pagesize:t,pagesizeoptions:[t]}))}},10)}updatePagingSettings(){this.jqref.jqxGrid({pageable:this.allowPaging})
const e=this.jqref.find("div.jqx-grid-pager")
e.toggle(this.allowPaging),!0===this.allowPaging?this.addRowsToolbarRef[0].style.bottom=e.outerHeight()+"px":this.addRowsToolbarRef[0].style.bottom="0px",this.updatePageSize()}propertyUpdated(e){if(super.propertyUpdated(e),void 0!==this.jqref)switch(e){case"rowHeaderVisible":this.jqref.jqxGrid("setcolumnproperty",Mu,"hidden",!this.rowHeaderVisible)
break
case"columnHeaderVisible":this.jqref.jqxGrid({showheader:this.columnHeaderVisible}),this.updatePageSize()
break
case"isInEditMode":this.jqref.jqxGrid({columnsresize:!this.isInEditMode}),this._validState&&this.jqref.jqxGrid("render")
break
case"showAddRowsToolBar":this.updateStatusBar(),this.updatePageSize()
break
case"allowSorting":this.jqref.jqxGrid({sortable:this.allowSorting}),this.allowSorting||this.jqref.jqxGrid("removesort")
break
case"allowPaging":this.updatePagingSettings()
break
case"allowFiltering":this.jqref.jqxGrid({filterable:this.allowFiltering,showfilterrow:this.allowFiltering}),this.updatePageSize()
break
case"allowGrouping":this.jqref.jqxGrid({groupable:this.allowGrouping}),this.updatePageSize()
break
case"rowHeight":this.updateCoercedRowHeight(),this.jqref.jqxGrid({rowsheight:this.coercedRowHeight}),this._validState&&this.jqref.jqxGrid("render")
break
case"altRowColors":this.jqref.jqxGrid({altrows:this.altRowColors})
break
case"altRowStart":case"altRowStep":this.jqref.jqxGrid(Ru(this.altRowStart,this.altRowStep))
break
case"readOnly":this.jqref.jqxGrid({editable:!this.disabled&&!this.readOnly}),this.updateStatusBar(),this.updatePageSize()
break
case"selectedColumn":this.setSelectedColumn(this.selectedColumn)
break
case"niType":this.niTypeInstance=new Au(this.niType),this.validateState(),this.requestRefresh()
break
case"disabled":this.jqref.jqxGrid({disabled:this.disabled,editable:!this.disabled&&!this.readOnly}),this.setDisabledOnChildElements(),this.setDisabledOnAddRowsPane(),this.setDisabledOnPagingInput()}}setDisabledOnChildElements(){this.querySelectorAll("ni-data-grid-column > *").forEach(e=>{e.disabled=this.disabled})}setDisabledOnAddRowsPane(){this.querySelectorAll(".ni-row-count-text-field,.ni-add-rows-button").forEach(e=>{e.disabled=this.disabled})}setDisabledOnPagingInput(){if(this.allowPaging){this.querySelectorAll(".jqx-grid-pager-input").forEach(e=>{e.disabled=this.disabled})}}}tn.registerElement(Qu,Zi.CONTAINER),fa.defineElementInfo(Qu.prototype,"ni-data-grid","HTMLNIDataGrid")
class Ku extends vr{constructor(e){super(e),this._index=-1,this._header="",this._width=50,this._fieldName="",this._pinned=!1,this._aggregates={}}static get MODEL_KIND(){return"niDataGridColumn"}get index(){return this._index}set index(e){this._index=e,this.notifyModelPropertyChanged("index")}get header(){return this._header}set header(e){this._header=e,this.notifyModelPropertyChanged("header")}get width(){return this._width}set width(e){this._width=e,this.notifyModelPropertyChanged("width")}get fieldName(){return this._fieldName}set fieldName(e){this._fieldName=e,this.notifyModelPropertyChanged("fieldName")}get pinned(){return this._pinned}set pinned(e){this._pinned=e,this.notifyModelPropertyChanged("pinned")}get aggregates(){return this._aggregates}set aggregates(e){this._aggregates=e,this.notifyModelPropertyChanged("aggregates")}}cr.registerModel(Ku)
const Zu=window.NIType,ep=window.NITypeNames,tp=new Zu({name:ep.ARRAY,rank:1,subtype:{name:ep.STRING}})
class ip extends Ar{constructor(e){super(e),this.niType=new Zu({name:"Array",rank:1,subtype:{name:"Cluster",fields:[]}}),this._rowHeaderVisible=!0,this._columnHeaderVisible=!0,this._showAddRowsToolBar=!0,this._allowSorting=!1,this._allowPaging=!1,this._allowFiltering=!1,this._allowGrouping=!1,this._rowHeight=25,this._altRowColors=!1,this._altRowStart=1,this._altRowStep=1,this._value=[],this._isInEditMode=!1,this._selectedColumn=-1}static get MODEL_KIND(){return"niDataGrid"}static get COLUMN_HEADERS_G_PROPERTY_NAME(){return"ColumnHeaders"}get rowHeaderVisible(){return this._rowHeaderVisible}set rowHeaderVisible(e){this._rowHeaderVisible=e,this.notifyModelPropertyChanged("rowHeaderVisible")}get columnHeaderVisible(){return this._columnHeaderVisible}set columnHeaderVisible(e){this._columnHeaderVisible=e,this.notifyModelPropertyChanged("columnHeaderVisible")}get showAddRowsToolBar(){return this._showAddRowsToolBar}set showAddRowsToolBar(e){this._showAddRowsToolBar=e,this.notifyModelPropertyChanged("showAddRowsToolBar")}get allowSorting(){return this._allowSorting}set allowSorting(e){this._allowSorting=e,this.notifyModelPropertyChanged("allowSorting")}get allowPaging(){return this._allowPaging}set allowPaging(e){this._allowPaging=e,this.notifyModelPropertyChanged("allowPaging")}get allowFiltering(){return this._allowFiltering}set allowFiltering(e){this._allowFiltering=e,this.notifyModelPropertyChanged("allowFiltering")}get allowGrouping(){return this._allowGrouping}set allowGrouping(e){this._allowGrouping=e,this.notifyModelPropertyChanged("allowGrouping")}get rowHeight(){return this._rowHeight}set rowHeight(e){this._rowHeight=e,this.notifyModelPropertyChanged("rowHeight")}get altRowColors(){return this._altRowColors}set altRowColors(e){this._altRowColors=e,this.notifyModelPropertyChanged("altRowColors")}get altRowStart(){return this._altRowStart}set altRowStart(e){this._altRowStart=e,this.notifyModelPropertyChanged("altRowStart")}get altRowStep(){return this._altRowStep}set altRowStep(e){this._altRowStep=e,this.notifyModelPropertyChanged("altRowStep")}get value(){return this._value}set value(e){this._value=e,this.notifyModelPropertyChanged("value")}get isInEditMode(){return this._isInEditMode}set isInEditMode(e){this._isInEditMode=e,this.notifyModelPropertyChanged("isInEditMode")}get selectedColumn(){return this._selectedColumn}set selectedColumn(e){this._selectedColumn=e,this.notifyModelPropertyChanged("selectedColumn")}modelPropertyUsesNIType(e){return"value"===e}controlChanged(e,t){this.value=e,super.controlChanged("value",e,t)}gPropertyNIType(e){switch(e){case ip.COLUMN_HEADERS_G_PROPERTY_NAME:return tp}return super.gPropertyNIType(e)}}cr.registerModel(ip)
class np extends ys{constructor(e,t){super(e,t),this.registerAutoSyncProperty("rowHeaderVisible"),this.registerAutoSyncProperty("columnHeaderVisible"),this.registerAutoSyncProperty("showAddRowsToolBar"),this.registerAutoSyncProperty("allowSorting"),this.registerAutoSyncProperty("allowPaging"),this.registerAutoSyncProperty("allowFiltering"),this.registerAutoSyncProperty("allowGrouping"),this.registerAutoSyncProperty("rowHeight"),this.registerAutoSyncProperty("altRowColors"),this.registerAutoSyncProperty("altRowStart"),this.registerAutoSyncProperty("altRowStep"),this.registerAutoSyncProperty("isInEditMode"),this.registerAutoSyncProperty("selectedColumn")}bindToView(){super.bindToView()
const e=this
e.enableResizeHack(),e.bindFocusEventListener(),e.element.addEventListener("value-changed",function(t){let i,n
t.currentTarget===t.target&&(i=t.detail.newValue,n=t.detail.oldValue,e.model.controlChanged(i,n))}),e.element.addEventListener("selected-column-changed",function(t){e.model.internalControlEventOccurred("DataGridSelectedIndexChanged",t.detail.selectedColumn)})}modelPropertyChanged(e){const t=super.modelPropertyChanged(e)
switch(e){case"value":t.properties.valueNonSignaling=this.model.value
break
case"niType":t.properties.niType=this.model.getNITypeString()}return t}updateModelFromElement(){super.updateModelFromElement(),this.model.niType=new window.NIType(this.element.niType),this.model.value=this.element.value}applyModelToElement(){super.applyModelToElement(),this.element.niType=this.model.getNITypeString(),this.element.valueNonSignaling=this.model.value}async invokeInternalControlFunction(e,t){switch(e){case"getColumnWidths":return this.element.getColumnWidths()}super.invokeInternalControlFunction(e,t)}setGPropertyValue(e,t){const i=this.model
switch(e){case Ar.VALUE_G_PROPERTY_NAME:i.value=t
break
case Ar.VALUE_SIGNALING_G_PROPERTY_NAME:{const e=i.value
i.controlChanged(t,e)
break}case ip.COLUMN_HEADERS_G_PROPERTY_NAME:{const e=i.childModels.filter(e=>e instanceof Ku).sort((e,t)=>e.index-t.index),n=e.length,r=Math.min(n,t.length)
for(let i=0;i<r;i++)e[i].header=t[i]
for(let t=r;t<n;t++)e[t].header=""
break}default:super.setGPropertyValue(e,t)}}getGPropertyValue(e){const t=this.model
switch(e){case Ar.VALUE_G_PROPERTY_NAME:return t.value
case ip.COLUMN_HEADERS_G_PROPERTY_NAME:return t.childModels.filter(e=>e instanceof Ku).sort((e,t)=>e.index-t.index).map(e=>e.header)
default:return super.getGPropertyValue(e)}}}cr.registerViewModel(np,Qu,ip)
var rp=Object.freeze({DataGridViewModel:np})
class op extends ga{get[Pu.NIDatGridColumnSymbol](){return!0}addAllProperties(e){super.addAllProperties(e)
const t=op.prototype
t.addProperty(e,{propertyName:"index",defaultValue:-1}),t.addProperty(e,{propertyName:"header",defaultValue:""}),t.addProperty(e,{propertyName:"fieldName",defaultValue:""}),t.addProperty(e,{propertyName:"width",defaultValue:"50px"}),t.addProperty(e,{propertyName:"pinned",defaultValue:!1}),t.addProperty(e,{propertyName:"aggregates",defaultValue:"{}"})}createdCallback(){super.createdCallback(),this._parentDataGrid=void 0}sendEventToParentDataGrid(e,t){let i
void 0!==this._parentDataGrid&&(i={cancelable:!0,detail:{element:this,propertyName:t}},this._parentDataGrid.dispatchEvent(new CustomEvent(e,i)))}attachedCallback(){const e=super.attachedCallback()
return this.parentElement instanceof Qu?(this._parentDataGrid=this.parentElement,this.sendEventToParentDataGrid("ni-data-grid-column-attached")):(Ri.error("Data Grid Column does not have a parent data grid "+this),this._parentDataGrid=void 0),e}propertyUpdated(e){super.propertyUpdated(e),this.sendEventToParentDataGrid("ni-data-grid-column-changed",e)}detachedCallback(){super.detachedCallback(),this.sendEventToParentDataGrid("ni-data-grid-column-detached"),this._parentDataGrid=void 0}}tn.registerElement(op,Zi.CONTAINER),fa.defineElementInfo(op.prototype,"ni-data-grid-column","HTMLNIDataGridColumn")
class ap extends Ir{constructor(e,t){super(e,t),this.registerAutoSyncProperty("index"),this.registerAutoSyncProperty("header"),this.registerAutoSyncProperty("width"),this.registerAutoSyncProperty("fieldName"),this.registerAutoSyncProperty("pinned")}modelPropertyChanged(e){const t=super.modelPropertyChanged(e)
switch(e){case"aggregates":t.properties.aggregates=JSON.stringify(this.model.aggregates)}return t}updateModelFromElement(){super.updateModelFromElement(),this.model.aggregates=JSON.parse(this.element.aggregates)}applyModelToElement(){super.applyModelToElement(),this.element.aggregates=JSON.stringify(this.model.aggregates)}}cr.registerViewModel(ap,op,Ku)
var sp=Object.freeze({DataGridColumnViewModel:ap})
const lp=window.NIType,dp=window.NITypes,cp=window.NITypeNames,hp="dataSource",up=Wa.SelectionModeEnum,pp=new lp({name:cp.ARRAY,rank:1,subtype:{name:cp.STRING}})
class mp extends Ar{constructor(e){super(e),this._allowSelection=!1,this._selectionMode=up.ONE,this._columnHeaderVisible=!1,this._dataSource=[],this._selection=[],this._columnHeaders=[],this._columnWidths=[]}static get COLUMN_HEADERS_G_PROPERTY_NAME(){return"ColumnHeaders"}static get SELECTION_G_PROPERTY_NAME(){return"Selection"}static get SELECTED_DATA_G_PROPERTY_NAME(){return"SelectedData"}static get MODEL_KIND(){return"niTree"}static get TREE_ITEM_CLOSED_EVENT_GUID(){return"{6C4A7AD1-D46D-4633-9209-8B3102ADFAFC}"}static get TREE_ITEM_CLOSED_EVENT_INDEX(){return 102}static get TREE_ITEM_CLOSED_EVENT_NAME(){return"itemClosed"}static get TREE_ITEM_OPENED_EVENT_GUID(){return"{F15EEBAF-E49D-4B9E-87DA-1E4E2EF27C7B}"}static get TREE_ITEM_OPENED_EVENT_INDEX(){return 101}static get TREE_ITEM_OPENED_EVENT_NAME(){return"itemOpened"}static get TREE_SELECTION_CHANGED_EVENT_GUID(){return"{1B69D1DB-B701-4D6D-B5B0-3EA4FF0E9888}"}static get TREE_SELECTION_CHANGED_EVENT_INDEX(){return 100}static get TREE_SELECTION_CHANGED_EVENT_NAME(){return"treeSelectionChanged"}get allowSelection(){return this._allowSelection}set allowSelection(e){this._allowSelection=e,this.notifyModelPropertyChanged("allowSelection")}get selectionMode(){return this._selectionMode}set selectionMode(e){this._selectionMode=e,this.notifyModelPropertyChanged("selectionMode")}get columnHeaders(){return this._columnHeaders}set columnHeaders(e){this._columnHeaders=e,this.notifyModelPropertyChanged("columnHeaders")}get columnHeaderVisible(){return this._columnHeaderVisible}set columnHeaderVisible(e){this._columnHeaderVisible=e,this.notifyModelPropertyChanged("columnHeaderVisible")}get columnWidths(){return this._columnWidths}set columnWidths(e){this._columnWidths=e,this.notifyModelPropertyChanged("columnWidths")}get dataSource(){return this._dataSource}set dataSource(e){this._dataSource=e,this.notifyModelPropertyChanged(hp)}get selection(){return this._selection}set selection(e){this._selection=e,this.notifyModelPropertyChanged("selection")}gPropertyNIType(e){switch(e){case mp.SELECTED_DATA_G_PROPERTY_NAME:return this.selectionMode===up.ZERO_OR_MORE?this.niType:this.niType.getSubtype()
case mp.COLUMN_HEADERS_G_PROPERTY_NAME:return pp
case mp.SELECTION_G_PROPERTY_NAME:return this.selectionMode===up.ZERO_OR_MORE?pp:dp.STRING}return super.gPropertyNIType(e)}modelPropertyUsesNIType(e){return e===hp}controlChanged(e){const t=this.dataSource
this.dataSource=e,super.controlChanged("dataSource",e,t)}getLocalEventInfo(e){return e===mp.TREE_ITEM_CLOSED_EVENT_NAME?{eventIndex:mp.TREE_ITEM_CLOSED_EVENT_INDEX,eventDataId:mp.TREE_ITEM_CLOSED_EVENT_GUID}:e===mp.TREE_ITEM_OPENED_EVENT_NAME?{eventIndex:mp.TREE_ITEM_OPENED_EVENT_INDEX,eventDataId:mp.TREE_ITEM_OPENED_EVENT_GUID}:e===mp.TREE_SELECTION_CHANGED_EVENT_NAME?{eventIndex:mp.TREE_SELECTION_CHANGED_EVENT_INDEX,eventDataId:mp.TREE_SELECTION_CHANGED_EVENT_GUID}:super.getLocalEventInfo(e)}}cr.registerModel(mp)
const fp=Wa.SelectionModeEnum
class gp extends ys{constructor(e,t){super(e,t),this._registerAutoSyncProperties()}static get TREE_RECORD_DNE_ERROR_CODE(){return 1136}_registerAutoSyncProperties(){this.registerAutoSyncProperty("allowSelection"),this.registerAutoSyncProperty("selectionMode"),this.registerAutoSyncProperty("columnHeaders"),this.registerAutoSyncProperty("columnHeaderVisible"),this.registerAutoSyncProperty("columnWidths"),this.registerAutoSyncProperty("dataSource"),this.registerAutoSyncProperty("selection")}bindToView(){super.bindToView()
const e=this,t=e.element
e.bindFocusEventListener(),t.addEventListener("selectionChange",function(t){let i=t.detail.newSelection
if(void 0!==i){e.model.selection=i
let n=t.detail.oldSelection,r=t.detail.selectedData
e.model.selectionMode===fp.ONE&&(n=n[0]||"",i=i[0]||"",r=r[0]||za.getDefaultRecordForType(e.model.niType))
const o={OldSelection:n,NewSelection:i,SelectedData:r}
e.model.controlEventOccurred(mp.TREE_SELECTION_CHANGED_EVENT_NAME,o)}}),t.addEventListener("selectionCoerced",function(t){e.model.selection=t.detail.selection}),t.addEventListener("foldingChanged",function(t){const i={Location:t.detail.path,Data:t.detail.data},n="rowExpand"===t.detail.changeType?mp.TREE_ITEM_OPENED_EVENT_NAME:mp.TREE_ITEM_CLOSED_EVENT_NAME
e.model.controlEventOccurred(n,i)})}setGPropertyValue(e,t){const i=this.model
switch(e){case mp.COLUMN_HEADERS_G_PROPERTY_NAME:i.columnHeaders=t
break
case mp.SELECTION_G_PROPERTY_NAME:this._setSelection(t)
break
case Ar.VALUE_G_PROPERTY_NAME:i.dataSource=t
break
case Ar.VALUE_SIGNALING_G_PROPERTY_NAME:i.controlChanged(t)
break
default:super.setGPropertyValue(e,t)}}getGPropertyValue(e){const t=this.model
switch(e){case mp.COLUMN_HEADERS_G_PROPERTY_NAME:return t.columnHeaders
case mp.SELECTED_DATA_G_PROPERTY_NAME:return this._getSelectedData()
case mp.SELECTION_G_PROPERTY_NAME:return this._getSelection()
case Ar.VALUE_G_PROPERTY_NAME:return t.dataSource
default:return super.getGPropertyValue(e)}}_setSelection(e){const t=this.model
e=Array.isArray(e)?e:[e],this._doIfPathListValid(e,e=>{t.selection=e,e.length>=1&&this.element.revealRows(e)})}_getSelection(){const e=this.model,t=e.selectionMode===fp.ZERO_OR_MORE,i=za.ensureValidSelection(za.getPathSpecifierForType(e.niType),e.dataSource,e.selection)
return t?i:i&&i[0]||""}_getSelectedData(){const e=this.model,t=e.selectionMode===fp.ZERO_OR_MORE,i=za.getRecordsFromPaths(e.niType,e.dataSource,e.selection)
return t?i:i[0]||za.getDefaultRecordForType(e.niType)}async invokeInternalControlFunction(e,t){switch(await Jn.waitForFrameUpdate(),e){case"open":return this.open.apply(this,t)
case"close":return this.close.apply(this,t)
case"revealRows":return this.element.revealRows(t)
default:super.invokeInternalControlFunction(e,t)}}open(e){e?this._doIfPathListValid([e],e=>{this.element.expand(e[0])}):this.element.expandAll()}close(e){e?this._doIfPathListValid([e],e=>{this.element.collapse(e[0])}):this.element.collapseAll()}_doIfPathListValid(e,t){if(void 0===t)return
const i=za.getPathSpecifierForType(this.model.niType),n=za.ensureValidSelection(i,this.model.dataSource,e)
if(void 0===n)throw new Vn(Ri.i18n("msg_TREE_RECORD_DNE"),gp.TREE_RECORD_DNE_ERROR_CODE)
t(n)}modelPropertyChanged(e){const t=super.modelPropertyChanged(e)
switch(e){case"niType":t.properties.niType=this.model.getNITypeString()}this._onModelPropertyChanged(t,e)}_onModelPropertyChanged(e,t){const i=this
switch(t){case"fontSize":e.postRender.fontSize=function(){i.element.updateColumnsHeight()}}}applyModelToElement(){super.applyModelToElement(),void 0!==this.model.niType&&(this.element.niType=this.model.getNITypeString())}updateModelFromElement(){super.updateModelFromElement()
const e=this.element.niType
""!==e&&(this.model.niType=new window.NIType(e))}}cr.registerViewModel(gp,void 0,mp,"ni-tree")
var vp=Object.freeze({TreeControlViewModel:gp})
const bp=window.NIType,yp=window.NITypeNames,_p=new bp({name:yp.ARRAY,rank:1,subtype:{name:yp.STRING}})
class wp extends mp{constructor(e){super(e),this._disabledItems=[]}static get MODEL_KIND(){return"niTreeGrid"}static get DISABLED_ITEMS_G_PROPERTY_NAME(){return"DisabledItems"}get disabledItems(){return this._disabledItems}set disabledItems(e){this._disabledItems=e,this.notifyModelPropertyChanged("disabledItems")}gPropertyNIType(e){switch(e){case wp.DISABLED_ITEMS_G_PROPERTY_NAME:return _p}return super.gPropertyNIType(e)}}cr.registerModel(wp)
class xp extends gp{_registerAutoSyncProperties(){this.registerAutoSyncProperty("disabledItems"),this.registerAutoSyncProperty("selectionMode"),this.registerAutoSyncProperty("columnHeaders"),this.registerAutoSyncProperty("columnWidths"),this.registerAutoSyncProperty("columnHeaderVisible")}bindToView(){super.bindToView()
const e=this
e.element.addEventListener("disabledItemsCoerced",function(t){e.model.disabledItems=t.detail.disabledItems})}_onModelPropertyChanged(e,t){const i=this
switch(t){case"allowSelection":e.properties.selection_enabled=i.model.allowSelection
break
case"selection":e.properties.selectedPaths=i.model.selection
break
case"dataSource":e.properties.niDataSource=i.model.dataSource
break
case"fontSize":e.postRender.fontSize=function(){i.element.notifyStyleChanged()}}}setGPropertyValue(e,t){switch(e){case wp.DISABLED_ITEMS_G_PROPERTY_NAME:this._setDisabledItems(t)
break
default:super.setGPropertyValue(e,t)}}getGPropertyValue(e){switch(e){case wp.DISABLED_ITEMS_G_PROPERTY_NAME:return this._getDisabledItems()
default:return super.getGPropertyValue(e)}}_setDisabledItems(e){this._doIfPathListValid(e,e=>{this.model.disabledItems=e})}_getDisabledItems(){const e=this.model
return za.ensureValidSelection(za.getPathSpecifierForType(e.niType),e.dataSource,e.disabledItems)}applyModelToElement(){super.applyModelToElement(),this.element.selection.enabled=this.model.allowSelection,this.element.selectedPaths=this.model.selection,this.element.niDataSource=this.model.dataSource}updateModelFromElement(){super.updateModelFromElement(),this.model.allowSelection=this.element.selection.enabled,this.model.selection=this.element.selectedPaths,this.model.dataSource=this.element.niDataSource}}cr.registerViewModel(xp,void 0,wp,"ni-tree-grid")
var Cp=Object.freeze({TreeGridViewModel:xp})
const Sp=window.NIType,Tp=window.NITypeNames,Ip=new Sp({name:Tp.ARRAY,rank:1,subtype:{name:Tp.STRING}})
class Ep extends Ar{constructor(e){super(e),this._source=[]}static get ITEMS_G_PROPERTY_NAME(){return"Items"}get source(){return this._source}set source(e){this._source=e,this.notifyModelPropertyChanged("source")}gPropertyNIType(e){switch(e){case Ep.ITEMS_G_PROPERTY_NAME:return Ip}return super.gPropertyNIType(e)}}const Pp=window.NITypes
class Dp extends Ep{constructor(e){super(e),this.niType=Pp.INT32,this._selectedIndex=-1,this._popupEnabled=!1,this._textAlignment="left"}static get MODEL_KIND(){return"niDropDown"}get selectedIndex(){return this._selectedIndex}set selectedIndex(e){this._selectedIndex=e,this.notifyModelPropertyChanged("selectedIndex")}get popupEnabled(){return this._popupEnabled}set popupEnabled(e){this._popupEnabled=e,this.notifyModelPropertyChanged("popupEnabled")}get textAlignment(){return this._textAlignment}set textAlignment(e){this._textAlignment=e,this.notifyModelPropertyChanged("textAlignment")}modelPropertyUsesNIType(e){return"selectedIndex"===e}getSelectedText(){return this.source[this.selectedIndex]}controlChanged(e){const t=this.selectedIndex
this.selectedIndex=e,super.controlChanged("selectedIndex",e,t)}}cr.registerModel(Dp)
class kp extends ys{convertToDropDownOpenMode(e){return!1===e?"none":"default"}getReadOnlyPropertyName(){return"readonly"}bindToView(){super.bindToView()
const e=this
e.enableResizeHack(),e.element.addEventListener("selected-indexes-changed",function(t){if(!0===e.model.readOnly)return
const i=t.detail.value,n=i.length>0?i[0]:e.model.selectedIndex
e.model.selectedIndex!==n&&e.model.controlChanged(n)})}modelPropertyChanged(e){const t=this,i=super.modelPropertyChanged(e)
switch(e){case"popupEnabled":i.properties.dropDownOpenMode=this.convertToDropDownOpenMode(this.model.popupEnabled)
break
case"selectedIndex":i.properties.selectedIndexes=-1===this.model.selectedIndex?[]:[this.model.selectedIndex]
break
case"source":{i.properties.dataSource=this.model.source
const e=-1===this.model.selectedIndex?[0]:[this.model.selectedIndex]
i.postRender.source=function(){t.element.selectedIndexes=e}
break}case"textAlignment":i.cssStyles[er.TEXT_ALIGN]=this.model.textAlignment,i.cssStyles[er.TEXT_ALIGN_AS_FLEX]=Ec.convertTextAlignmentToFlexAlignment(this.model.textAlignment)}return i}updateModelFromElement(){super.updateModelFromElement(),this.model.selectedIndex=this.element.selectedIndexes[0],this.model.defaultValue=this.element.selectedIndexes[0],this.model.popupEnabled="none"!==this.element.dropDownOpenMode,this.model.textAlignment=window.getComputedStyle(this.element).getPropertyValue(er.TEXT_ALIGN)
let e=this.element.dataSource
"string"==typeof e&&(e=JSON.parse(e)),this.model.source=e}applyModelToElement(){super.applyModelToElement(),this.element.dataSource=this.model.source,this.element.selectedIndexes=-1===this.model.selectedIndex?[0]:[this.model.selectedIndex],this.element.dropDownOpenMode=this.convertToDropDownOpenMode(this.model.popupEnabled),this.element.dropDownHeight="auto",this.element.selectionMode="one",this.element.style.setProperty(er.TEXT_ALIGN,this.model.textAlignment),this.element.style.setProperty(er.TEXT_ALIGN_AS_FLEX,Ec.convertTextAlignmentToFlexAlignment(this.model.textAlignment))}}cr.registerViewModel(kp,void 0,Dp,"jqx-drop-down-list")
var Ap=Object.freeze({DropDownViewModel:kp})
const jp=ch.SelectionModeEnum,Mp=window.NITypes,Np=window.NIType,qp=window.NITypeNames,Op=new Np({name:qp.ARRAY,rank:1,subtype:{name:qp.INT32}})
class Bp extends Ep{constructor(e){super(e),this.niType=Mp.INT32,this._disabledIndexes=[],this._selectionMode=jp.ONE,this._selectedIndexes=-1}static get TOP_VISIBLE_ROW_G_PROPERTY_NAME(){return"TopVisibleRow"}static get DISABLED_INDEXES_G_PROPERTY_NAME(){return"DisabledIndexes"}get disabledIndexes(){return this._disabledIndexes}set disabledIndexes(e){this._disabledIndexes=e,this.notifyModelPropertyChanged("disabledIndexes")}static get MODEL_KIND(){return"niListBox"}get selectionMode(){return this._selectionMode}set selectionMode(e){this._selectionMode=e,this.notifyModelPropertyChanged("selectionMode")}get selectedIndexes(){return this._selectedIndexes}set selectedIndexes(e){this._selectedIndexes=e,this.notifyModelPropertyChanged("selectedIndexes")}modelPropertyUsesNIType(e){return"selectedIndexes"===e}controlChanged(e){const t=this.selectedIndexes
this.selectedIndexes=e,super.controlChanged("selectedIndexes",e,t)}gPropertyNIType(e){switch(e){case Bp.TOP_VISIBLE_ROW_G_PROPERTY_NAME:return Mp.UINT32
case Bp.DISABLED_INDEXES_G_PROPERTY_NAME:return Op}return super.gPropertyNIType(e)}}cr.registerModel(Bp)
class Lp{}Lp.indexesValid=function(e,t){const i=Math.min(...e),n=Math.max(...e)
return!(i<0||n>=t)},Lp.filterDisabledIndexes=function(e,t){return e.filter(e=>e>=0&&e<t)}
class Rp extends ys{modelPropertyChanged(e){const t=super.modelPropertyChanged(e)
switch(e){case"source":t.properties.source=JSON.stringify(this.model.source)}return t}updateModelFromElement(){super.updateModelFromElement(),void 0!==this.element.source&&(this.model.source=JSON.parse(this.element.source))}applyModelToElement(){super.applyModelToElement(),this.element.source=JSON.stringify(this.model.source)}setGPropertyValue(e,t){const i=this.model
switch(e){case Ep.ITEMS_G_PROPERTY_NAME:i.source=t
break
default:super.setGPropertyValue(e,t)}}getGPropertyValue(e){const t=this.model
switch(e){case Ep.ITEMS_G_PROPERTY_NAME:return t.source
default:return super.getGPropertyValue(e)}}}const Hp=function(e,t,i){return function(){e._niUpdatingSelection=!0,e.selectionMode=t,e.selectedIndexes=i,e._niUpdatingSelection=!1}},Vp=function(e,t,i){return function(){e._niUpdatingSelection=!0,e.dataSource=t,e.selectedIndexes=i,e._niUpdatingSelection=!1}},Fp=function(e,t){return e.map((e,i)=>({label:e,disabled:zp(i,t)}))},zp=function(e,t){return t.includes(e)}
class $p extends Rp{getReadOnlyPropertyName(){return"readonly"}static get INVALID_SELECTOR_INDEX(){return 1764}bindToView(){super.bindToView()
const e=this
e.enableResizeHack(),e.element.addEventListener("change",function(){if(e.element._niUpdatingSelection||!0===e.model.readOnly)return
const t=uh.convertBack(e.element.selectedIndexes,e.model.selectionMode)
e.model.controlChanged(t)})}modelPropertyChanged(e){const t=super.modelPropertyChanged(e)
switch(e){case"selectionMode":case"selectedIndexes":{const e=uh.convertNIToJQXSelectionMode(this.model.selectionMode),i=uh.convert(this.model.selectedIndexes,this.model.selectionMode)
t.postRender.selection=Hp(this.element,e,i)}break
case"niType":t.properties.niType=this.model.getNITypeString()
break
case"disabledIndexes":case"source":{const e=Fp(this.model.source,this.model.disabledIndexes),i=uh.convert(this.model.selectedIndexes,this.model.selectionMode)
t.postRender.source=Vp(this.element,e,i)}}return t}updateModelFromElement(){super.updateModelFromElement(),this.model.selectionMode=uh.convertJQXToNISelectionMode(this.element.selectionMode)
const e=uh.convertBack(this.element.selectedIndexes,this.model.selectionMode),t=this.element.getAttribute("ni-type")
this.model.niType=new window.NIType(t),this.model.selectedIndexes=e,this.model.defaultValue=e
let i=this.element.dataSource
i="string"==typeof i?JSON.parse(i):Fa.deepCopy(i),this.model.source=i}applyModelToElement(){super.applyModelToElement(),this.element.niType=this.model.getNITypeString(),this.element.selectionMode=uh.convertNIToJQXSelectionMode(this.model.selectionMode),this.element.selectedIndexes=uh.convert(this.model.selectedIndexes,this.model.selectionMode)
const e=Fp(this.model.source,this.model.disabledIndexes)
this.element.dataSource=e}setGPropertyValue(e,t){const i=this.model
switch(e){case Ar.VALUE_G_PROPERTY_NAME:i.selectedIndexes=t
break
case Ar.VALUE_SIGNALING_G_PROPERTY_NAME:i.controlChanged(t)
break
case Bp.TOP_VISIBLE_ROW_G_PROPERTY_NAME:{const i=this.element.items.length
if(!(t>=0&&t<i))throw new Vn(Ri.i18n("msg_PROPERTY_OUT_OF_RANGE",e,i-1),ys.INVALID_PROPERTY_VALUE_ERROR_CODE)
this.element.topVisibleIndex=t}break
case Bp.DISABLED_INDEXES_G_PROPERTY_NAME:if(!1===Lp.indexesValid(t,this.element.items.length))throw new Vn(Ri.i18n("msg_INVALID_SELECTOR_INDEX"),$p.INVALID_SELECTOR_INDEX)
i.disabledIndexes=t
break
case Ep.ITEMS_G_PROPERTY_NAME:super.setGPropertyValue(e,t),i.disabledIndexes=Lp.filterDisabledIndexes(i.disabledIndexes,t.length)
break
default:super.setGPropertyValue(e,t)}}getGPropertyValue(e){const t=this.model
switch(e){case Ar.VALUE_G_PROPERTY_NAME:return t.selectedIndexes
case Bp.TOP_VISIBLE_ROW_G_PROPERTY_NAME:return this.element.topVisibleIndex
case Bp.DISABLED_INDEXES_G_PROPERTY_NAME:return t.disabledIndexes
default:return super.getGPropertyValue(e)}}}cr.registerViewModel($p,void 0,Bp,"jqx-list-box")
var Up=Object.freeze({ListBoxViewModel:$p})
class Gp extends ga{}tn.registerElement(Gp),fa.defineElementInfo(Gp.prototype,"ni-opaque-refnum","HTMLNIOpaqueRefnum")
class Wp extends Ar{static get MODEL_KIND(){return"niOpaqueRefnum"}}cr.registerModel(Wp)
class Xp extends ys{}cr.registerViewModel(Xp,Gp,Wp)
var Jp=Object.freeze({OpaqueRefnumViewModel:Xp})
class Yp extends Ar{constructor(e){super(e),this._graphRef="",this._isInEditMode=!1,this._owningControlVisible=!0}static get MODEL_KIND(){return"niPlotLegend"}get graphRef(){return this._graphRef}set graphRef(e){this._graphRef=e,this.notifyModelPropertyChanged("graphRef")}get isInEditMode(){return this._isInEditMode}set isInEditMode(e){this._isInEditMode=e,this.notifyModelPropertyChanged("isInEditMode")}get owningControlVisible(){return this._owningControlVisible}set owningControlVisible(e){this._owningControlVisible=e,this.notifyModelPropertyChanged("owningControlVisible")}}cr.registerModel(Yp)
class Qp extends ys{constructor(e,t){super(e,t),this.registerAutoSyncProperty("graphRef"),this.registerAutoSyncProperty("isInEditMode")}userInteractionChanged(e,t){"start"===e&&this.element.throttlePlotUpdates(!0),"end"===e&&this.element.throttlePlotUpdates(!1),"atomicactioncomplete"===e&&this.element.syncPlotLegendWithGraph(),super.userInteractionChanged(e,t)}isFollower(){return!0}}cr.registerViewModel(Qp,void 0,Yp,"ni-plot-legend")
var Kp=Object.freeze({PlotLegendViewModel:Qp})
class Zp extends Ar{constructor(e){super(e),this._graphRef="",this._isInEditMode=!1,this._owningControlVisible=!0}static get MODEL_KIND(){return"niCursorLegend"}get graphRef(){return this._graphRef}set graphRef(e){this._graphRef=e,this.notifyModelPropertyChanged("graphRef")}get isInEditMode(){return this._isInEditMode}set isInEditMode(e){this._isInEditMode=e,this.notifyModelPropertyChanged("isInEditMode")}get owningControlVisible(){return this._owningControlVisible}set owningControlVisible(e){this._owningControlVisible=e,this.notifyModelPropertyChanged("owningControlVisible")}}cr.registerModel(Zp)
class em extends ys{constructor(e,t){super(e,t),this.registerAutoSyncProperty("graphRef"),this.registerAutoSyncProperty("isInEditMode")}isFollower(){return!0}}cr.registerViewModel(em,void 0,Zp,"ni-cursor-legend")
var tm=Object.freeze({CursorLegendViewModel:em})
class im extends Ar{constructor(e){super(e),this._graphRef="",this._isInEditMode=!1,this._owningControlVisible=!0}static get MODEL_KIND(){return"niScaleLegend"}get graphRef(){return this._graphRef}set graphRef(e){this._graphRef=e,this.notifyModelPropertyChanged("graphRef")}get isInEditMode(){return this._isInEditMode}set isInEditMode(e){this._isInEditMode=e,this.notifyModelPropertyChanged("isInEditMode")}get owningControlVisible(){return this._owningControlVisible}set owningControlVisible(e){this._owningControlVisible=e,this.notifyModelPropertyChanged("owningControlVisible")}}cr.registerModel(im)
class nm extends ys{constructor(e,t){super(e,t),this.registerAutoSyncProperty("graphRef"),this.registerAutoSyncProperty("isInEditMode")}isFollower(){return!0}}cr.registerViewModel(nm,void 0,im,"ni-scale-legend")
var rm=Object.freeze({ScaleLegendViewModel:nm})
class om extends Ar{constructor(e){super(e),this._graphRef="",this._isInEditMode=!1,this._model="pan",this._owningControlVisible=!0}static get MODEL_KIND(){return"niGraphTools"}get graphRef(){return this._graphRef}set graphRef(e){this._graphRef=e,this.notifyModelPropertyChanged("graphRef")}get isInEditMode(){return this._isInEditMode}set isInEditMode(e){this._isInEditMode=e,this.notifyModelPropertyChanged("isInEditMode")}get mode(){return this._mode}set mode(e){this._mode=e,this.notifyModelPropertyChanged("mode")}get owningControlVisible(){return this._owningControlVisible}set owningControlVisible(e){this._owningControlVisible=e,this.notifyModelPropertyChanged("owningControlVisible")}}cr.registerModel(om)
class am extends ys{constructor(e,t){super(e,t),this.registerAutoSyncProperty("graphRef"),this.registerAutoSyncProperty("isInEditMode"),this.registerAutoSyncProperty("mode")}isFollower(){return!0}}cr.registerViewModel(am,void 0,om,"ni-graph-tools")
var sm=Object.freeze({GraphToolsViewModel:am})
const lm=window.NITypes
class dm extends Ar{constructor(e){super(e),this._axisPosition="right",this._autoScale="auto",this._showAxis=!0,this._highColor="rgba(255, 255, 255, 1)",this._lowColor="rgba(0, 0, 0, 1)",this._markers="",this._label="",this._showLabel=!0,this._show=!0,this._maximum=0,this._minimum=0}static get NAME_G_PROPERTY_NAME(){return"Name"}static get MODEL_KIND(){return"niColorScale"}static get FIT_TYPE_G_PROPERTY_NAME(){return"FitType"}static get HIGH_COLOR_G_PROPERTY_NAME(){return"HighColor"}static get LOW_COLOR_G_PROPERTY_NAME(){return"LowColor"}static get RANGE_G_PROPERTY_NAME(){return"Range"}get axisPosition(){return this._axisPosition}set axisPosition(e){this._axisPosition=e,this.notifyModelPropertyChanged("axisPosition")}get autoScale(){return this._autoScale}set autoScale(e){this._autoScale=e,this.notifyModelPropertyChanged("autoScale")}get showAxis(){return this._showAxis}set showAxis(e){this._showAxis=e,this.notifyModelPropertyChanged("showAxis")}get highColor(){return this._highColor}set highColor(e){this._highColor=e,this.notifyModelPropertyChanged("highColor")}get lowColor(){return this._lowColor}set lowColor(e){this._lowColor=e,this.notifyModelPropertyChanged("lowColor")}get markers(){return this._markers}set markers(e){this._markers=e,this.notifyModelPropertyChanged("markers")}get maximum(){return this._maximum}set maximum(e){this._maximum=e,this.notifyModelPropertyChanged("maximum")}get minimum(){return this._minimum}set minimum(e){this._minimum=e,this.notifyModelPropertyChanged("minimum")}get label(){return this._label}set label(e){this._label=e,this.notifyModelPropertyChanged("label")}get showLabel(){return this._showLabel}set showLabel(e){this._showLabel=e,this.notifyModelPropertyChanged("showLabel")}get show(){return this._show}set show(e){this._show=e,this.notifyModelPropertyChanged("show")}gPropertyNIType(e){switch(e){case dm.NAME_G_PROPERTY_NAME:return lm.STRING
case dm.FIT_TYPE_G_PROPERTY_NAME:return lm.UINT32
case dm.HIGH_COLOR_G_PROPERTY_NAME:case dm.LOW_COLOR_G_PROPERTY_NAME:return lm.STRING
case dm.RANGE_G_PROPERTY_NAME:return gl}return super.gPropertyNIType(e)}}cr.registerModel(dm)
class cm extends ys{constructor(e,t){super(e,t),this.registerAutoSyncProperty("axisPosition"),this.registerAutoSyncProperty("autoScale"),this.registerAutoSyncProperty("label"),this.registerAutoSyncProperty("show"),this.registerAutoSyncProperty("showLabel"),this.registerAutoSyncProperty("highColor"),this.registerAutoSyncProperty("lowColor"),this.registerAutoSyncProperty("markers"),this.registerAutoSyncProperty("minimum"),this.registerAutoSyncProperty("maximum")}setGPropertyValue(e,t){const i=this.model
switch(e){case dm.NAME_G_PROPERTY_NAME:i.label=t
break
case dm.HIGH_COLOR_G_PROPERTY_NAME:i.highColor=dl.integerToRgba(t)
break
case dm.LOW_COLOR_G_PROPERTY_NAME:i.lowColor=dl.integerToRgba(t)
break
case dm.FIT_TYPE_G_PROPERTY_NAME:i.autoScale=_l.getAutoScaleFromFitType(t)
break
case dm.RANGE_G_PROPERTY_NAME:_l.setRangeOnAxisModel(i,t)
break
default:super.setGPropertyValue(e,t)}}getGPropertyValue(e){const t=this.model
switch(e){case dm.NAME_G_PROPERTY_NAME:return t.label
case dm.FIT_TYPE_G_PROPERTY_NAME:return _l.getFitTypeFromAutoScale(t.autoScale)
case dm.HIGH_COLOR_G_PROPERTY_NAME:return dl.rgbaToInteger(t.highColor)
case dm.LOW_COLOR_G_PROPERTY_NAME:return dl.rgbaToInteger(t.lowColor)
case dm.RANGE_G_PROPERTY_NAME:return _l.getRangeOnAxisModel(t)
default:return super.getGPropertyValue(e)}}}cr.registerViewModel(cm,void 0,dm,"ni-color-scale")
var hm=Object.freeze({ColorScaleViewModel:cm})
class um extends kl{static get MODEL_KIND(){return"niIntensityGraph"}static get COLOR_SCALE_RUNTIME_ID(){return"ColorScale_RuntimeId"}static get COLOR_SCALE_G_PROPERTY_NAME(){return"ColorScale"}gPropertyNIType(e){switch(e){case um.COLOR_SCALE_RUNTIME_ID:return window.NITypes.INT32
default:return super.gPropertyNIType(e)}}}cr.registerModel(um)
const pm=function(e){return e.childModels.filter(e=>e instanceof dm)[0]},mm=function(e){const t=pm(e)
return e.getRoot().controlViewModels[t.niControlId]}
class fm extends Ml{modelPropertyChanged(e){const t=super.modelPropertyChanged(e),i=this
switch(e){case"value":t.postRender.value=function(){i.element.setData(i.model.value)}}return t}updateModelFromElement(){super.updateModelFromElement()
const e=this.element,t=this.model
t.value=e.value,t.defaultValue=e.value}applyModelToElement(){super.applyModelToElement()
const e=this.element,t=this.model
e.value=t.value}getGPropertyValue(e){const t=this.model
switch(e){case um.COLOR_SCALE_G_PROPERTY_NAME:return mm(t)
case um.COLOR_SCALE_RUNTIME_ID:return pm(t).niControlId
default:return super.getGPropertyValue(e)}}}cr.registerViewModel(fm,void 0,um,"ni-intensity-graph")
var gm=Object.freeze({IntensityGraphViewModel:fm})
const vm=window.NIType,bm=window.NITypeNames,ym=function(e){let t=new vm(e.niType)
return t.isEnum()&&(t=t.getSubtype()),t},_m=function(e,t){return ph.convert(vs.convertBack(e,t),t,!0)},wm=function(e,t){return vs.convert(ph.convertBack(e,t),t)},xm=function(e,t,i){return i.is64BitInteger()?e===t:parseFloat(e)===parseFloat(t)},Cm=function(e){const t=e.items
if(void 0!==t)for(let e=0;e<t.length;e++)t[e].disabled&&(t[e].disabled=!1)}
class Sm extends ga{createdCallback(){super.createdCallback(),this.itemsArray=[],this.disabledIndexesArray=[],this._itemsUpdating=!1,this._hasUndefinedValue=!1}addAllProperties(e){super.addAllProperties(e)
const t=Sm.prototype
t.addProperty(e,{propertyName:"disabledIndexes",defaultValue:"[]"}),t.addProperty(e,{propertyName:"value",defaultValue:{stringValue:"0",numberValue:0},fireEvent:!0,addNonSignalingProperty:!0}),t.addProperty(e,{propertyName:"niType",defaultValue:bm.INT32}),t.addProperty(e,{propertyName:"items",defaultValue:"[]"}),t.addProperty(e,{propertyName:"popupEnabled",defaultValue:!1}),Ri.setValuePropertyDescriptor(e,"value","value","valueNonSignaling","value-changed")}attachedCallback(){const e=super.attachedCallback()
return!0===e&&(this.refreshItemsArray(),this.refreshDisabledIndexesArray()),e}refreshItemsArray(){this.itemsArray=JSON.parse(this.items)}refreshDisabledIndexesArray(){this.disabledIndexesArray=JSON.parse(this.disabledIndexes)}createSource(){const e=[],t=this.itemsArray
let i
for(i=0;i<t.length;i++)e.push(t[i].displayValue)
return e}setValueAndDisabledIndexesOnDropdownElement(e,t){if(!1===t){const t=this.findValue()
e.selectedIndexes=-1===t?[0]:[t]}else-1===this.findValue()?this.addUndefinedValue(e):this.removeUndefinedValue(e),this.setDisabledIndexes(e)}findValue(){const e=this.itemsArray
let t
const i=ym(this),n=wm(this.value,i)
for(t=0;t<e.length;t++)if(xm(e[t].value,n,i))return t
return-1}getSourceAndSelectedIndexFromSource(){const e={},t=[]
let i=-1
const n=ym(this),r=wm(this.value,n),o=this.itemsArray
for(let e=0;e<o.length;e++){const a=o[e]
t.push(a.displayValue),xm(a.value,r,n)&&(i=e)}return e.source=t,e.selectedIndex=i,e}selectChangedHandler(e){const t=this.itemsArray,i=ym(this)
let n=-1
for(let r=0;r<t.length;r++){const o=t[r]
if(o.displayValue===e){n=o.value,this.value=_m(o.value,i)
break}}return n}addUndefinedValue(e){const t=ym(this),i=wm(this.value,t),n={value:i,displayValue:"<"+i+">"}
this._hasUndefinedValue&&(this.itemsArray.pop(),this._hasUndefinedValue=!1),this.itemsArray.push(n)
const r=this.itemsArray.length-1
return this._itemsUpdating=!0,this.items=JSON.stringify(this.itemsArray),e.dataSource=this.createSource(),e.selectedIndexes=[r],this._hasUndefinedValue=!0,this._itemsUpdating=!1,r}removeUndefinedValue(e){if(0===this.itemsArray.length)return
this._hasUndefinedValue&&(this.itemsArray.pop(),this._hasUndefinedValue=!1),this._itemsUpdating=!0,this.items=JSON.stringify(this.itemsArray)
const t=this.findValue()
e.dataSource=this.createSource(),e.selectedIndexes=[t],this._itemsUpdating=!1}setDisabledIndexes(e){Cm(e)
const t=e.items,i=this.disabledIndexesArray
for(let e=0;e<i.length;e++)i[e]<t.length&&i[e]>=0&&!t[i[e]].disabled&&(t[i[e]].disabled=!0)}propertyUpdatedHelper(e,t,i){switch(e){case"items":this._itemsUpdating||(this._itemsUpdating=!0,this.refreshItemsArray(),t.dataSource=this.createSource(),this.setValueAndDisabledIndexesOnDropdownElement(t,i),this._itemsUpdating=!1)
break
case"disabledIndexes":this.refreshDisabledIndexesArray(),this.setDisabledIndexes(t)
break
case"value":this.setValueAndDisabledIndexesOnDropdownElement(t,i)
break
case"readOnly":t.readonly=this.readOnly
break
case"disabled":t.disabled=this.disabled}}}const Tm=NationalInstruments.Globals.jQuery
class Im extends Sm{createdCallback(){super.createdCallback(),this.addEventListener("change",function(e){e.stopImmediatePropagation()})}attachedCallback(){const e=super.attachedCallback(),t=this
if(!0===e){const e=document.createElement("jqx-drop-down-list")
this.innerHTML=""
const i=this.getSourceAndSelectedIndexFromSource(),n=-1===i.selectedIndex?[0]:[i.selectedIndex]
e.setAttribute("data-source",JSON.stringify(i.source)),e.setAttribute("selected-indexes",JSON.stringify(n)),e.setAttribute("drop-down-height","auto"),e.setAttribute("selection-mode","one"),e.disabled=this.disabled,!0===this.readOnly&&e.setAttribute("readonly","true"),e.setAttribute("drop-down-open-mode",this.popupEnabled?"default":"none"),e.addEventListener("change",function(i){if(i.target===e){const e=i.detail
if(e&&!t._itemsUpdating){const i=e.value
t.selectChangedHandler(i)}}}),Gr.enableNativePopups(this,e,Gr.fontAndTextAlignmentCssProperties,Gr.closeChildJqxDropDownLists),this.appendChild(e),this.setDisabledIndexes(e)}return e}detachedCallback(){super.detachedCallback(),Lr.unregisterElement(this)}forceResize(e){super.forceResize(e),Tm(this.firstElementChild).width(e.width),Tm(this.firstElementChild).height(e.height)}propertyUpdated(e){switch(super.propertyUpdated(e),e){case"items":case"value":case"readOnly":this.propertyUpdatedHelper(e,this.firstElementChild,!1),this.itemsArray.length>0&&-1===this.value&&(this.firstElementChild.selectedIndexes=[0])
break
case"disabled":case"disabledIndexes":this.propertyUpdatedHelper(e,this.firstElementChild,!1)}}focus(...e){return this.querySelector("jqx-drop-down-list").focus(...e)}}tn.registerElement(Im),fa.defineElementInfo(Im.prototype,"ni-enum-selector","HTMLNIEnumSelector")
const Em=window.NITypes,Pm=window.NIType,Dm=window.NITypeNames,km=new Pm({name:Dm.ARRAY,rank:1,subtype:{name:Dm.STRING}}),Am=new Pm({name:Dm.ARRAY,rank:1,subtype:{name:Dm.INT32}})
class jm extends Ar{constructor(e){super(e),this.niType=Em.INT32,this._value=0,this._items=[],this._popupEnabled=!1,this._disabledIndexes=[]}static get DISABLED_INDEXES_G_PROPERTY_NAME(){return"DisabledIndexes"}static get ITEMS_G_PROPERTY_NAME(){return"Items"}get value(){return this._value}set value(e){this._value=e,this.notifyModelPropertyChanged("value")}get items(){return this._items}set items(e){this._items=e,this.notifyModelPropertyChanged("items")}get popupEnabled(){return this._popupEnabled}set popupEnabled(e){this._popupEnabled=e,this.notifyModelPropertyChanged("popupEnabled")}get disabledIndexes(){return this._disabledIndexes}set disabledIndexes(e){this._disabledIndexes=e,this.notifyModelPropertyChanged("disabledIndexes")}modelPropertyUsesNIType(e){return"value"===e}controlChanged(e){const t=this.value
this.value=e,super.controlChanged("value",e,t)}gPropertyNIType(e){switch(e){case jm.DISABLED_INDEXES_G_PROPERTY_NAME:return Am
case jm.ITEMS_G_PROPERTY_NAME:return km}return super.gPropertyNIType(e)}}class Mm extends jm{constructor(e){super(e),this._textAlignment="left"}static get MODEL_KIND(){return"niEnumSelector"}get textAlignment(){return this._textAlignment}set textAlignment(e){this._textAlignment=e,this.notifyModelPropertyChanged("textAlignment")}}cr.registerModel(Mm)
class Nm extends ys{constructor(e,t){super(e,t),this.registerAutoSyncProperty("popupEnabled")}static get INVALID_SELECTOR_INDEX(){return 1764}modelPropertyChanged(e){const t=super.modelPropertyChanged(e)
switch(e){case"niType":t.properties.niType=this.model.getNITypeString()
break
case"value":null!==this.model.value&&(t.properties.valueNonSignaling=ph.convert(this.model.value,this.model.niType))
break
case"items":t.properties.items=JSON.stringify(this.model.items)
break
case"disabledIndexes":t.properties.disabledIndexes=JSON.stringify(this.model.disabledIndexes)}return t}bindToView(){super.bindToView()
const e=this
this.enableResizeHack(),this.element.addEventListener("value-changed",function(t){if(t.target===e.element){const i=ph.convertBack(t.detail.value,e.model.niType)
e.model.controlChanged(i)}})}updateModelFromElement(){super.updateModelFromElement()
const e=this.element,t=this.model,i=new window.NIType(e.niType)
t.niType=i,t.value=ph.convertBack(e.value,i),t.items=JSON.parse(e.items),t.disabledIndexes=JSON.parse(e.disabledIndexes)}applyModelToElement(){super.applyModelToElement()
const e=this.element,t=this.model
e.niType=this.model.getNITypeString(),e.items=JSON.stringify(t.items),e.disabledIndexes=JSON.stringify(t.disabledIndexes),e.value=ph.convert(t.value,t.niType)}setGPropertyValue(e,t){const i=this.model
switch(e){case jm.ITEMS_G_PROPERTY_NAME:i.items=t.map((e,t)=>{const i={}
return i.displayValue=e,i.value=t,t++,i}),i.disabledIndexes=Lp.filterDisabledIndexes(i.disabledIndexes,t.length)
break
case Ar.VALUE_G_PROPERTY_NAME:i.value=Ks.clamp(t,0,i.items.length-1)
break
case Ar.VALUE_SIGNALING_G_PROPERTY_NAME:i.controlChanged(Ks.clamp(t,0,i.items.length-1))
break
case jm.DISABLED_INDEXES_G_PROPERTY_NAME:if(!1===Lp.indexesValid(t,i.items.length))throw new Vn(Ri.i18n("msg_INVALID_SELECTOR_INDEX"),Nm.INVALID_SELECTOR_INDEX)
i.disabledIndexes=t
break
default:super.setGPropertyValue(e,t)}}getGPropertyValue(e){const t=this.model
switch(e){case jm.ITEMS_G_PROPERTY_NAME:return t.items.map(e=>e.displayValue)
case Ar.VALUE_G_PROPERTY_NAME:return t.value
case jm.DISABLED_INDEXES_G_PROPERTY_NAME:return t.disabledIndexes
default:return super.getGPropertyValue(e)}}}class qm extends Nm{modelPropertyChanged(e){const t=this,i=super.modelPropertyChanged(e)
switch(e){case"textAlignment":i.cssStyles[er.TEXT_ALIGN_AS_FLEX]=Ec.convertTextAlignmentToFlexAlignment(t.model.textAlignment),i.cssStyles[er.TEXT_ALIGN]=t.model.textAlignment}return i}updateModelFromElement(){super.updateModelFromElement()
const e=window.getComputedStyle(this.element)
this.model.textAlignment=e.getPropertyValue(er.TEXT_ALIGN)}applyModelToElement(){super.applyModelToElement()
const e=Ec.convertTextAlignmentToFlexAlignment(this.model.textAlignment)
this.element.style.setProperty(er.TEXT_ALIGN_AS_FLEX,e),this.element.style.setProperty(er.TEXT_ALIGN,this.model.textAlignment)}setGPropertyValue(e,t){switch(e){case jm.ITEMS_G_PROPERTY_NAME:throw new Vn(Ri.i18n("msg_PROPERTY_NOT_SUPPORTED",e),wr.OPERATION_UNSUPPORTED_ON_CONTROL_ERROR_CODE)
default:super.setGPropertyValue(e,t)}}getGPropertyValue(e){switch(e){case jm.ITEMS_G_PROPERTY_NAME:throw new Vn(Ri.i18n("msg_PROPERTY_NOT_SUPPORTED",e),wr.OPERATION_UNSUPPORTED_ON_CONTROL_ERROR_CODE)
default:return super.getGPropertyValue(e)}}}cr.registerViewModel(qm,Im,Mm)
var Om=Object.freeze({EnumSelectorViewModel:qm})
const Bm=window.NIType
class Lm extends Sm{addAllProperties(e){super.addAllProperties(e),Lm.prototype.addProperty(e,{propertyName:"allowUndefined",defaultValue:!1})}createdCallback(){super.createdCallback(),this.addEventListener("change",function(e){e.stopImmediatePropagation()})}attachedCallback(){const e=super.attachedCallback(),t=this
if(!0===e){const e=document.createElement("jqx-drop-down-list")
this.appendChild(e)
const i=document.createElement("jqx-numeric-text-box")
this.appendChild(i)
const n=new Bm(this.niType),r=vs.convertNITypeToJQX(n)
i.setAttribute("input-format",r),"integer"===r&&i.setAttribute("word-length",n.getName().toLowerCase()),!0===this.readOnly&&i.setAttribute("readonly",""),i.setAttribute("value",vs.convert(ph.convertBack(this.value,n),n))
let o=this.getSourceAndSelectedIndexFromSource().selectedIndex;-1===o&&(o=this.addUndefinedValue(e))
const a=this.createSource()
e.setAttribute("selection-mode","one"),e.setAttribute("data-source",JSON.stringify(a)),e.setAttribute("selected-indexes",JSON.stringify([o])),e.setAttribute("drop-down-height","auto"),e.disabled=this.disabled,!0===this.readOnly&&e.setAttribute("readonly",""),e.setAttribute("drop-down-open-mode",this.popupEnabled?"default":"none"),e.addEventListener("change",function(n){if(n.target===e){const e=n.detail
if(e&&!t._itemsUpdating){const n=e.label,r=t.selectChangedHandler(n)
i.value=r}}}),i.addEventListener("change",function(e){const n=new Bm(t.niType),r=vs.convertBack(i.value,n)
t.value=ph.convert(r,n,!0)}),i.classList.add("ni-ring-numeric-input"),customElements.whenDefined(i.localName).then(function(){t.numericInputDefined=!0}),this.setDisabledIndexes(e),Gr.enableNativePopups(this,e,Gr.fontAndTextAlignmentCssProperties,Gr.closeChildJqxDropDownLists)}return e}detachedCallback(){super.detachedCallback(),Lr.unregisterElement(this)}propertyUpdated(e){super.propertyUpdated(e)
const t=this.querySelector("jqx-numeric-text-box"),i=this.querySelector("jqx-drop-down-list")
let n
switch(e){case"items":this._hasUndefinedValue&&(this._hasUndefinedValue=!1,this.itemsArray.pop()),this.propertyUpdatedHelper(e,i,!0)
break
case"readOnly":this.propertyUpdatedHelper(e,i,!1)
break
case"value":n=new Bm(this.niType),this.propertyUpdatedHelper(e,i,!0),this.numericInputDefined&&(t.properties.value.notify=!1),t.value=vs.convert(ph.convertBack(this.value,n),n),this.numericInputDefined&&(t.properties.value.notify=!0)
break
case"allowUndefined":this.allowUndefined||this.removeUndefinedValue(i)
break
case"niType":{n=new Bm(this.niType)
const e=vs.convertNITypeToJQX(n)
t.inputFormat=e,"integer"===e&&(t.wordLength=n.getName().toLowerCase())
break}case"disabled":this.propertyUpdatedHelper(e,i,!1),t.disabled=this.disabled
break
case"disabledIndexes":this.propertyUpdatedHelper(e,i,!1)}}focus(...e){return this.querySelector("jqx-drop-down-list").focus(...e)}}tn.registerElement(Lm),fa.defineElementInfo(Lm.prototype,"ni-ring-selector","HTMLNIRingSelector")
const Rm=window.NIType,Hm=window.NITypeNames
class Vm extends jm{constructor(e){super(e),this._allowUndefined=!1,this._textAlignment="left",this._numericValueWidth=40,this._itemsAndValuesRingSelectorType=new Rm({name:Hm.ARRAY,rank:1,subtype:{name:Hm.CLUSTER,fields:["String","Value"],subtype:[Hm.STRING,this.niType.getName()]}})}static get ITEMS_AND_VALUES_G_PROPERTY_NAME(){return"ItemsAndValues"}static get MODEL_KIND(){return"niRingSelector"}get allowUndefined(){return this._allowUndefined}set allowUndefined(e){this._allowUndefined=e,this.notifyModelPropertyChanged("allowUndefined")}get textAlignment(){return this._textAlignment}set textAlignment(e){this._textAlignment=e,this.notifyModelPropertyChanged("textAlignment")}get numericValueWidth(){return this._numericValueWidth}set numericValueWidth(e){this._numericValueWidth=e,this.notifyModelPropertyChanged("numericValueWidth")}get itemsAndValuesRingSelectorType(){return this._itemsAndValuesRingSelectorType}set itemsAndValuesRingSelectorType(e){this._itemsAndValuesRingSelectorType=e}gPropertyNIType(e){switch(e){case Vm.ITEMS_AND_VALUES_G_PROPERTY_NAME:return this.itemsAndValuesRingSelectorType}return super.gPropertyNIType(e)}}cr.registerModel(Vm)
const Fm="--ni-numeric-value-width",zm=function(e){const t=[],i=[]
for(let n=0;n<e.length;n++)if(t[n]=e[n].String,i[n]=e[n].Value,""===t[n])throw new Vn(Ri.i18n("msg_EMPTY_DISPLAY_VALUE"),$m.DISPLAY_VALUES_MUST_NOT_BE_EMPTY_ERROR_CODE)
if(t.length!==new Set(t).size)throw new Vn(Ri.i18n("msg_DUPLICATE_DISPLAY_NAME"),$m.DUPLICATE_DISPLAY_NAMES_NOT_ALLOWED_ERROR_CODE)
if(i.length!==new Set(i).size)throw new Vn(Ri.i18n("msg_DUPLICATE_DISPLAY_VALUE"),$m.DUPLICATE_VALUES_NOT_ALLOWED_ERROR_CODE)}
class $m extends Nm{constructor(e,t){super(e,t),this.registerAutoSyncProperty("allowUndefined")}static get DISPLAY_VALUES_MUST_NOT_BE_EMPTY_ERROR_CODE(){return 363554}static get DUPLICATE_VALUES_NOT_ALLOWED_ERROR_CODE(){return 363543}static get DUPLICATE_DISPLAY_NAMES_NOT_ALLOWED_ERROR_CODE(){return 363544}bindToView(){super.bindToView(),this.bindFocusEventListener()}modelPropertyChanged(e){const t=super.modelPropertyChanged(e)
switch(e){case"textAlignment":t.cssStyles[er.TEXT_ALIGN_AS_FLEX]=Ec.convertTextAlignmentToFlexAlignment(this.model.textAlignment),t.cssStyles[er.TEXT_ALIGN]=this.model.textAlignment
break
case"numericValueWidth":t.cssStyles[Fm]=this.model.numericValueWidth+"px"}return t}updateModelFromElement(){super.updateModelFromElement()
const e=window.getComputedStyle(this.element)
this.model.textAlignment=e.getPropertyValue(er.TEXT_ALIGN),this.model.numericValueWidth=parseFloat(e.getPropertyValue(Fm))}applyModelToElement(){super.applyModelToElement()
const e=Ec.convertTextAlignmentToFlexAlignment(this.model.textAlignment)
this.element.style.setProperty(er.TEXT_ALIGN_AS_FLEX,e),this.element.style.setProperty(er.TEXT_ALIGN,this.model.textAlignment),this.element.style.setProperty(Fm,this.model.numericValueWidth+"px")}getGPropertyValue(e){const t=this.model
switch(e){case Vm.ITEMS_AND_VALUES_G_PROPERTY_NAME:return t.items.map(e=>{const t={}
return t.String=e.displayValue,t.Value=e.value,t})
default:return super.getGPropertyValue(e)}}setGPropertyValue(e,t){const i=this.model
switch(e){case Ar.VALUE_G_PROPERTY_NAME:i.value=t
break
case Ar.VALUE_SIGNALING_G_PROPERTY_NAME:i.controlChanged(t)
break
case Vm.ITEMS_AND_VALUES_G_PROPERTY_NAME:zm(t),i.items=t.map(e=>{const t={}
return t.displayValue=e.String,t.value=e.Value,t}),i.disabledIndexes=Lp.filterDisabledIndexes(i.disabledIndexes,i.items.length)
break
default:super.setGPropertyValue(e,t)}}}cr.registerViewModel($m,Lm,Vm)
var Um=Object.freeze({RingSelectorViewModel:$m})
const Gm=function(e){e._itemsArray=JSON.parse(e.items)},Wm=function(e){return e._itemsArray.map(function(e){return e.value}).indexOf(e.value)},Xm=function(e,t){const i=t._itemsArray.filter(function(t){return t.displayValue===e})
i.length>0?t.value=i[0].value:t.allowUnlabeled&&(t.value=e)},Jm=function(e,t){if(0===e._itemsArray.length)return
e._hasUnlabeledValue&&(e._itemsArray.pop(),e._hasUnlabeledValue=!1,e._itemsUpdating=!0,e.items=JSON.stringify(e._itemsArray),t.dataSource=Ym(e._itemsArray))
const i=Wm(e)
t.selectedIndexes=-1===i?[0]:[i],e._itemsUpdating=!1,-1===i&&(e.value=e._itemsArray[0].value)},Ym=function(e){const t=[]
return e.forEach(function(e){t.push(e.displayValue)}),t},Qm=function(e,t){const i=e.items,n=JSON.parse(t.disabledIndexes)
var r
void 0!==(r=i)&&r.forEach(function(e){e.disabled=!1}),n.forEach(function(e){e<i.length&&e>=0&&(i[e].disabled=!0)})},Km=function(e,t){-1===Wm(t)?function(e,t){const i={value:e.value,displayValue:e.value}
e._hasUnlabeledValue&&(e._itemsArray.pop(),e._hasUnlabeledValue=!1),e._itemsArray.push(i)
const n=e._itemsArray.length-1
e._itemsUpdating=!0,e.items=JSON.stringify(e._itemsArray),t.dataSource=Ym(e._itemsArray),t.selectedIndexes=[n],e._hasUnlabeledValue=!0,e._itemsUpdating=!1}(t,e):Jm(t,e),Qm(e,t)},Zm=function(e,t){e.autoComplete=t.allowUnlabeled?"none":"list"},ef=function(e,t){e.escKeyMode=t.allowUnlabeled?"clearValue":"firstPossibleValue"}
class tf extends ga{createdCallback(){super.createdCallback(),this._itemsArray=[],this._hasUnlabeledValue=!1,this._jqxComboBoxElement=void 0,this._itemsUpdating=!1,this.addEventListener("change",function(e){e.stopImmediatePropagation()})}addAllProperties(e){super.addAllProperties(e)
const t=tf.prototype
t.addProperty(e,{propertyName:"value",defaultValue:"",fireEvent:!0,addNonSignalingProperty:!0}),t.addProperty(e,{propertyName:"items",defaultValue:"[]"}),t.addProperty(e,{propertyName:"popupEnabled",defaultValue:!1}),t.addProperty(e,{propertyName:"allowUnlabeled",defaultValue:!1}),t.addProperty(e,{propertyName:"disabledIndexes",defaultValue:"[]"}),Ri.setValuePropertyDescriptor(e,"value","value","valueNonSignaling","value-changed")}focus(...e){return this._jqxComboBoxElement.focus(...e)}attachedCallback(){const e=super.attachedCallback(),t=this
if(!0===e){Gm(t)
const e=document.createElement("jqx-combo-box")
this._jqxComboBoxElement=e,t.appendChild(e)
const i=Ym(this._itemsArray)
e.setAttribute("data-source",JSON.stringify(i)),e.setAttribute("value",t.value),e.disabled=t.disabled,e.setAttribute("selection-mode","one"),e.setAttribute("drop-down-height","auto"),e.setAttribute("drop-down-open-mode",t.popupEnabled?"default":"none"),Zm(e,this),ef(e,this),t.popupEnabled&&e.setAttribute("auto-open-shortcut-key",'["ArrowDown","ArrowUp"]'),!0===this.readOnly&&e.setAttribute("readonly",""),e.addEventListener("change",function(i){if(i.target===e){const e=i.detail
Xm(e.value,t)}}),Gr.enableNativePopups(this,e,Gr.fontAndTextAlignmentCssProperties,e=>Gr.closeChildJqxElements(e,"jqx-combo-box"))}}detachedCallback(){super.detachedCallback(),Lr.unregisterElement(this)}propertyUpdated(e){super.propertyUpdated(e)
const t=this._jqxComboBoxElement
switch(e){case"items":this._itemsUpdating||(this._hasUnlabeledValue=!1,Gm(this),t.dataSource=Ym(this._itemsArray),Km(t,this))
break
case"readOnly":t.readonly=this.readOnly
break
case"value":Km(t,this)
break
case"disabledIndexes":Qm(t,this)
break
case"allowUnlabeled":this.allowUnlabeled||Jm(this,t),Zm(t,this),ef(t,this)
break
case"disabled":t.disabled=this.disabled}}}tn.registerElement(tf),fa.defineElementInfo(tf.prototype,"ni-combo-box-selector","HTMLNIComboBoxSelector")
const nf=window.NITypes,rf=window.NIType,of=window.NITypeNames,af=new rf({name:of.ARRAY,rank:1,subtype:{name:of.INT32}})
class sf extends Ar{constructor(e){super(e),this._allowUnlabeled=!0,this._textAlignment="left",this.niType=nf.STRING,this._value="",this._items=[],this._popupEnabled=!1,this._disabledIndexes=[]}static get MODEL_KIND(){return"niComboBox"}static get DISABLED_INDEXES_G_PROPERTY_NAME(){return"DisabledIndexes"}static get ITEMS_G_PROPERTY_NAME(){return"Items"}static get ITEMS_AND_VALUES_G_PROPERTY_NAME(){return"ItemsAndValues"}get value(){return this._value}set value(e){this._value=e,this.notifyModelPropertyChanged("value")}get items(){return this._items}set items(e){this._items=e,this.notifyModelPropertyChanged("items")}get popupEnabled(){return this._popupEnabled}set popupEnabled(e){this._popupEnabled=e,this.notifyModelPropertyChanged("popupEnabled")}get allowUnlabeled(){return this._allowUnlabeled}set allowUnlabeled(e){this._allowUnlabeled=e,this.notifyModelPropertyChanged("allowUnlabeled")}get textAlignment(){return this._textAlignment}set textAlignment(e){this._textAlignment=e,this.notifyModelPropertyChanged("textAlignment")}get disabledIndexes(){return this._disabledIndexes}set disabledIndexes(e){this._disabledIndexes=e,this.notifyModelPropertyChanged("disabledIndexes")}modelPropertyUsesNIType(e){return"value"===e}controlChanged(e){const t=this.value
this.value=e,super.controlChanged("value",e,t)}gPropertyNIType(e){switch(e){case sf.DISABLED_INDEXES_G_PROPERTY_NAME:return af}return super.gPropertyNIType(e)}}cr.registerModel(sf)
const lf=function(e){const t=[],i=[]
for(let n=0;n<e.length;n++)if(t[n]=e[n].displayValue,i[n]=e[n].value,""===i[n]&&""===t[n])throw new Vn(Ri.i18n("msg_EMPTY_DISPLAY_VALUE_AND_VALUE"),df.DISPLAY_VALUES_AND_VALUES_MUST_NOT_BE_EMPTY_ERROR_CODE)
if(t.length!==new Set(t).size)throw new Vn(Ri.i18n("msg_DUPLICATE_DISPLAY_VALUE"),df.DUPLICATE_DISPLAY_VALUES_NOT_ALLOWED_ERROR_CODE)
if(i.length!==new Set(i).size)throw new Vn(Ri.i18n("msg_DUPLICATE_VALUE"),df.DUPLICATE_VALUES_NOT_ALLOWED_ERROR_CODE)}
class df extends ys{constructor(e,t){super(e,t),this.registerAutoSyncProperty("popupEnabled"),this.registerAutoSyncProperty("allowUnlabeled")}static get DISPLAY_VALUES_AND_VALUES_MUST_NOT_BE_EMPTY_ERROR_CODE(){return 363542}static get DUPLICATE_VALUES_NOT_ALLOWED_ERROR_CODE(){return 363543}static get DUPLICATE_DISPLAY_VALUES_NOT_ALLOWED_ERROR_CODE(){return 363544}static get INVALID_SELECTOR_INDEX(){return 1764}bindToView(){super.bindToView()
const e=this
this.bindFocusEventListener(),this.element.addEventListener("value-changed",function(t){e.element===t.target&&e.model.controlChanged(t.detail.value)})}modelPropertyChanged(e){const t=super.modelPropertyChanged(e)
switch(e){case"items":t.properties.items=JSON.stringify(this.model.items)
break
case"textAlignment":t.cssStyles[er.TEXT_ALIGN]=this.model.textAlignment,t.cssStyles[er.TEXT_ALIGN_AS_FLEX]=Ec.convertTextAlignmentToFlexAlignment(this.model.textAlignment)
break
case"disabledIndexes":t.properties.disabledIndexes=JSON.stringify(this.model.disabledIndexes)
break
case"value":t.properties.valueNonSignaling=this.model.value}return t}updateModelFromElement(){super.updateModelFromElement()
const e=this.element,t=this.model
t.items=JSON.parse(e.items),t.value=e.value,t.disabledIndexes=JSON.parse(e.disabledIndexes),t.textAlignment=window.getComputedStyle(e).getPropertyValue(er.TEXT_ALIGN)}applyModelToElement(){super.applyModelToElement()
const e=this.element,t=this.model
e.valueNonSignaling=t.value,e.items=JSON.stringify(t.items),e.disabledIndexes=JSON.stringify(t.disabledIndexes)
const i=Ec.convertTextAlignmentToFlexAlignment(this.model.textAlignment)
this.element.style.setProperty(er.TEXT_ALIGN_AS_FLEX,i),this.element.style.setProperty(er.TEXT_ALIGN,this.model.textAlignment)}setGPropertyValue(e,t){const i=this.model
switch(e){case Ar.VALUE_G_PROPERTY_NAME:i.value=t
break
case Ar.VALUE_SIGNALING_G_PROPERTY_NAME:i.controlChanged(t)
break
case sf.ITEMS_G_PROPERTY_NAME:{const e=t.map(e=>({value:e,displayValue:e}))
lf(e),i.items=e,i.disabledIndexes=Lp.filterDisabledIndexes(i.disabledIndexes,t.length)
break}case sf.DISABLED_INDEXES_G_PROPERTY_NAME:if(!1===Lp.indexesValid(t,i.items.length))throw new Vn(Ri.i18n("msg_INVALID_SELECTOR_INDEX"),df.INVALID_SELECTOR_INDEX)
i.disabledIndexes=t
break
case sf.ITEMS_AND_VALUES_G_PROPERTY_NAME:{const e=t.map(e=>{const t={}
return t.value=e.Value,t.displayValue=e.String,t})
lf(e),i.items=e,i.disabledIndexes=Lp.filterDisabledIndexes(i.disabledIndexes,i.items.length)
break}default:super.setGPropertyValue(e,t)}}getGPropertyValue(e){const t=this.model
switch(e){case Ar.VALUE_G_PROPERTY_NAME:return t.value
case sf.ITEMS_AND_VALUES_G_PROPERTY_NAME:return t.items.map(e=>({String:e.displayValue,Value:e.value}))
case sf.ITEMS_G_PROPERTY_NAME:return t.items.map(e=>e.displayValue)
case sf.DISABLED_INDEXES_G_PROPERTY_NAME:return t.disabledIndexes
default:return super.getGPropertyValue(e)}}}cr.registerViewModel(df,tf,sf)
var cf=Object.freeze({ComboBoxSelectorViewModel:df})
const hf=window.NITypes
class uf extends Ar{constructor(e){super(e),this.niType=hf.STRING,this._value=""}static get MODEL_KIND(){return"niMaskedInput"}get value(){return this._value}set value(e){this._value=e,this.notifyModelPropertyChanged("value")}modelPropertyUsesNIType(e){return"value"===e}controlChanged(e){const t=this.value
this.value=e,super.controlChanged("value",this.value,t)}}cr.registerModel(uf)
class pf extends ys{constructor(e,t){super(e,t),this.registerAutoSyncProperty("value")}bindToView(){super.bindToView()
const e=this
e.bindFocusEventListener(),e.element.addEventListener("change",function(t){if(t.target===e.element){const i=t.target.value
e.model.value!==i&&e.model.controlChanged(i)}})}getReadOnlyPropertyName(){return"readonly"}setGPropertyValue(e,t){const i=this.model
switch(e){case Ar.VALUE_G_PROPERTY_NAME:i.value=t
break
case Ar.VALUE_SIGNALING_G_PROPERTY_NAME:i.controlChanged(t)
break
default:super.setGPropertyValue(e,t)}}getGPropertyValue(e){switch(e){case Ar.VALUE_G_PROPERTY_NAME:return this.model.value
default:return super.getGPropertyValue(e)}}}cr.registerViewModel(pf,void 0,uf,"jqx-password-text-box")
var mf=Object.freeze({MaskedInputViewModel:pf})
const ff={HORIZONTAL:"horizontal",VERTICAL:"vertical"},gf=function(e,t,i){const n=document.createElement("jqx-radio-button")
return n.setAttribute("check-mode","both"),e.readOnly&&n.setAttribute("readonly",""),e.disabled&&n.setAttribute("disabled",""),n.innerHTML=Ri.escapeHtml(t),i&&n.setAttribute("checked",""),e.appendChild(n),n},vf=function(e){e.innerHTML="",e._childRadioButtons=[]
const t=e.getSourceAndSelectedIndexFromSource()
let i,n,r
for(i=0;i<t.source.length;i++)r=t.selectedIndex===i,n=gf(e,t.source[i],r),e._childRadioButtons.push(n)}
class bf extends Sm{addAllProperties(e){super.addAllProperties(e),bf.prototype.addProperty(e,{propertyName:"orientation",defaultValue:ff.VERTICAL})}createdCallback(){super.createdCallback()
const e=this
e._childRadioButtons=[],e.addEventListener("change",function(t){const i=e._childRadioButtons.indexOf(t.target)
i>-1&&e.selectChangedHandler(e.itemsArray[i].displayValue),t.stopImmediatePropagation()})}attachedCallback(){const e=super.attachedCallback(),t=this
return!0===e&&(vf(this),t.addEventListener("keydown",function(e){const i=e.key
i&&("ArrowDown"===i||"ArrowRight"===i?t.switchToNextSelectableRadioButton():"ArrowUp"!==i&&"ArrowLeft"!==i||t.switchToPreviousSelectableRadioButton())})),e}propertyUpdated(e){super.propertyUpdated(e)
const t=this
switch(e){case"items":this.refreshItemsArray(),vf(this)
break
case"value":{const e=this.getSourceAndSelectedIndexFromSource()
this._childRadioButtons[e.selectedIndex].checked=!0
break}case"readOnly":this._childRadioButtons.forEach(function(e){e.readonly=t.readOnly})
break
case"disabled":this._childRadioButtons.forEach(function(e){e.disabled=t.disabled})}}switchToNextSelectableRadioButton(){const e=this.getSourceAndSelectedIndexFromSource().selectedIndex
return e+1<this._childRadioButtons.length&&(this.selectChangedHandler(this.itemsArray[e+1].displayValue),!0)}switchToPreviousSelectableRadioButton(){const e=this.getSourceAndSelectedIndexFromSource().selectedIndex
return e-1>=0&&(this.selectChangedHandler(this.itemsArray[e-1].displayValue),!0)}}tn.registerElement(bf),fa.defineElementInfo(bf.prototype,"ni-radio-button-group","HTMLNIRadioButtonGroup")
const yf=window.NITypes
class _f extends jm{constructor(e){super(e),this._orientation=ff.VERTICAL,this._textAlignment="left",this._selectedButtonBackground="",this._unselectedButtonBackground="",this._textColor=""}static get SELECTED_COLOR_G_PROPERTY_NAME(){return"SelectedColor"}static get UNSELECTED_COLOR_G_PROPERTY_NAME(){return"UnselectedColor"}static get MODEL_KIND(){return"niRadioButtonGroup"}get orientation(){return this._orientation}set orientation(e){this._orientation=e,this.notifyModelPropertyChanged("orientation")}get textAlignment(){return this._textAlignment}set textAlignment(e){this._textAlignment=e,this.notifyModelPropertyChanged("textAlignment")}get selectedButtonBackground(){return this._selectedButtonBackground}set selectedButtonBackground(e){this._selectedButtonBackground=e,this.notifyModelPropertyChanged("selectedButtonBackground")}get unselectedButtonBackground(){return this._unselectedButtonBackground}set unselectedButtonBackground(e){this._unselectedButtonBackground=e,this.notifyModelPropertyChanged("unselectedButtonBackground")}get textColor(){return this._textColor}set textColor(e){this._textColor=e,this.notifyModelPropertyChanged("textColor")}gPropertyNIType(e){switch(e){case _f.SELECTED_COLOR_G_PROPERTY_NAME:case _f.UNSELECTED_COLOR_G_PROPERTY_NAME:return yf.UINT32}return super.gPropertyNIType(e)}}cr.registerModel(_f)
class wf extends Nm{constructor(e,t){super(e,t),this.registerAutoSyncProperty("orientation"),this.registerAutoSyncProperty("selectedButtonBackground"),this.registerAutoSyncProperty("unselectedButtonBackground"),this.registerAutoSyncProperty("textColor")}static get GRADIENTS_NOT_SUPPORTED_ERROR_CODE(){return 1702}modelPropertyChanged(e){const t=this.model,i=super.modelPropertyChanged(e)
switch(e){case"textAlignment":i.cssStyles[er.TEXT_ALIGN]=t.textAlignment
break
case"selectedButtonBackground":i.cssStyles[er.SELECTED_BACKGROUND]=t.selectedButtonBackground
break
case"unselectedButtonBackground":i.cssStyles[er.UNSELECTED_BACKGROUND]=t.unselectedButtonBackground
break
case"textColor":i.cssStyles[er.FOREGROUND_COLOR]=t.textColor}return i}updateModelFromElement(){const e=this.model,t=this.element
super.updateModelFromElement()
const i=window.getComputedStyle(t)
e.textAlignment=i.getPropertyValue(er.TEXT_ALIGN),e.selectedButtonBackground=i.getPropertyValue(er.SELECTED_BACKGROUND),e.unselectedButtonBackground=i.getPropertyValue(er.UNSELECTED_BACKGROUND),e.textColor=i.getPropertyValue(er.FOREGROUND_COLOR)}applyModelToElement(){const e=this.model,t=this.element
super.applyModelToElement(),t.style.setProperty(er.TEXT_ALIGN,e.textAlignment),t.style.setProperty(er.SELECTED_BACKGROUND,e.selectedButtonBackground),t.style.setProperty(er.UNSELECTED_BACKGROUND,e.unselectedButtonBackground),t.style.setProperty(er.FOREGROUND_COLOR,e.textColor)}setGPropertyValue(e,t){const i=this.model
switch(e){case jm.ITEMS_G_PROPERTY_NAME:case jm.DISABLED_INDEXES_G_PROPERTY_NAME:throw new Vn(Ri.i18n("msg_PROPERTY_NOT_SUPPORTED",e),wr.OPERATION_UNSUPPORTED_ON_CONTROL_ERROR_CODE)
case _f.SELECTED_COLOR_G_PROPERTY_NAME:i.selectedButtonBackground=dl.integerToRgba(t)
break
case _f.UNSELECTED_COLOR_G_PROPERTY_NAME:i.unselectedButtonBackground=dl.integerToRgba(t)
break
default:super.setGPropertyValue(e,t)}}getGPropertyValue(e){const t=this.model
switch(e){case jm.ITEMS_G_PROPERTY_NAME:case jm.DISABLED_INDEXES_G_PROPERTY_NAME:throw new Vn(Ri.i18n("msg_PROPERTY_NOT_SUPPORTED",e),wr.OPERATION_UNSUPPORTED_ON_CONTROL_ERROR_CODE)
case _f.SELECTED_COLOR_G_PROPERTY_NAME:{const i=t.selectedButtonBackground
if(dl.isRGBAOrHexFormat(i))return dl.getIntegerValueForInputColor(i)
throw new Vn(Ri.i18n("msg_PROPERTY_WITH_GRADIENT_COLOR_NOT_SUPPORTED",e),wf.GRADIENTS_NOT_SUPPORTED_ERROR_CODE)}case _f.UNSELECTED_COLOR_G_PROPERTY_NAME:{const i=t.unselectedButtonBackground
if(dl.isRGBAOrHexFormat(i))return dl.getIntegerValueForInputColor(i)
throw new Vn(Ri.i18n("msg_PROPERTY_WITH_GRADIENT_COLOR_NOT_SUPPORTED",e),wf.GRADIENTS_NOT_SUPPORTED_ERROR_CODE)}default:return super.getGPropertyValue(e)}}}cr.registerViewModel(wf,bf,_f)
var xf=Object.freeze({RadioButtonGroupViewModel:wf})
class Cf extends ga{addAllProperties(e){super.addAllProperties(e)
const t=Cf.prototype
t.addProperty(e,{propertyName:"imageStretch",defaultValue:gc.UNIFORM}),t.addProperty(e,{propertyName:"imageVisible",defaultValue:!1})}}tn.registerElement(Cf),fa.defineElementInfo(Cf.prototype,"ni-html-container","NIHtmlContainer")
class Sf extends Ar{constructor(e){super(e),this._imageVisible=!1,this._imageSource="",this._imageStretch=gc.UNIFORM}static get MODEL_KIND(){return"niHtmlContainer"}get imageSource(){return this._imageSource}set imageSource(e){this._imageSource=e,this.notifyModelPropertyChanged("imageSource")}get imageStretch(){return this._imageStretch}set imageStretch(e){this._imageStretch=e,this.notifyModelPropertyChanged("imageStretch")}get imageVisible(){return this._imageVisible}set imageVisible(e){this._imageVisible=e,this.notifyModelPropertyChanged("imageVisible")}}cr.registerModel(Sf)
const Tf=function(e){return""!==e?`url('${e}')`:zn.REMOVE_CUSTOM_PROPERTY_TOKEN}
class If extends ys{constructor(e,t){super(e,t),this.registerAutoSyncProperty("imageVisible"),this.registerAutoSyncProperty("imageStretch")}modelPropertyChanged(e){const t=this.model,i=super.modelPropertyChanged(e)
switch(e){case"imageSource":i.cssStyles[er.PLACEHOLDER_BACKGROUND]=Tf(t.imageSource)}}async invokeInternalControlFunction(e,t){switch(e){case"obtainJavaScriptReference":return this.element
default:super.invokeInternalControlFunction(e,t)}}applyModelToElement(){const e=this.element,t=this.model
super.applyModelToElement(),""!==t.imageSource&&e.style.setProperty(er.PLACEHOLDER_BACKGROUND,`url('${t.imageSource}')`),t.imageVisible&&(e.style.backgroundImage="var(--ni-placeholder-background)")}}cr.registerViewModel(If,Cf,Sf)
var Ef=Object.freeze({HtmlContainerViewModel:If})
class Pf{static get moduleName(){return"EnsureNIControlIDModule"}ready(){null===this.ownerElement.niControlId&&(this.ownerElement.niControlId=Ri.uniqueId())}}window.JQX.Elements.whenRegistered("ni-cartesian-plot",function(e){e.addModule(Pf)}),window.JQX.Elements.whenRegistered("ni-cartesian-plot-renderer",function(e){e.addModule(Pf)}),window.JQX.Elements.whenRegistered("ni-cursor",function(e){e.addModule(Pf)})
var Df=Object.freeze({EnsureNIControlIDModule:Pf})
class kf{static get moduleName(){return"JqxElementCommonModule"}static get properties(){return{niControlId:{value:null,type:"string"},viRef:{value:"",type:"string",defaultReflectToAttribute:!0},followerIds:{value:"[]",type:"string",defaultReflectToAttribute:!0},bindingInfo:{value:{prop:"",field:"",sync:!1,dco:-1,dataItem:"",accessMode:"",unplacedOrDisabled:!1,isLatched:!1},type:"object"},labelId:{value:"",type:"string"},controlResizeMode:{value:"",type:"string"},labelAlignment:{value:"",type:"string"},animation:Object.assign({},JQX.BaseElement.properties.animation,{value:"none"})}}attached(){this.ownerElement.firstAttach?this.constructor.setup(this.ownerElement):this.ownerElement.firstAttach=!0}detached(){if(!0!==this.ownerElement._preventModelCreation&&!NationalInstruments.JQXElement.isJQXElementSubPart(this.ownerElement)){Br.getVIViewModelByVIRef(this.ownerElement.viRef).detachElementFromModelAndViewModel(this.ownerElement)}}created(){const e=this.ownerElement
Object.defineProperty(e,"niElementInstanceId",{configurable:!1,enumerable:!1,writable:!1,value:Ri.uniqueId()}),this._temporarySettingsHolder={},"setFont"in e||Object.defineProperty(e,"setFont",{configurable:!1,enumerable:!1,writable:!1,value:function(e,t,i,n,r){this.style.fontSize=e,this.style.fontFamily=t,this.style.fontWeight=i,this.style.fontStyle=n,this.style.textDecoration=r}})}ready(){this.ownerElement.firstAttach=!1,this.constructor.setup(this.ownerElement)}static setup(e){if(e.viRef="",!NationalInstruments.JQXElement.isJQXElementSubPart(e)){if(!0!==e._preventModelCreation){Br.getVIViewModelByVIRef(e.viRef).attachElementToModelAndViewModel(e).controlViewModel.bindToView()}"function"==typeof e.elementInfo.viewReady&&e.elementInfo.viewReady(e)}}static generateClearInstanceSpecificProperties(){return function(){void 0!==this.niControlId&&(this.niControlId="",this.viRef="",this.bindingInfo={prop:"",field:"",sync:!1,dco:-1,dataItem:"",accessMode:"",unplacedOrDisabled:!1,isLatched:!1},this.labelId="")}}}!function(){function e(e,t,i,n){return null==n&&(n=t),{tagName:e,propertyName:t,attributeName:n,eventName:i}}const t=e("jqx-numeric-text-box","value","change"),i=e("jqx-progress-bar","value"," "),n=e("jqx-circular-progress-bar","value"," "),r=e("jqx-tank","value","change"),o=e("jqx-slider","value","change"),a=e("jqx-gauge","value","change"),s=e("jqx-color-picker","value","change"),l=e("jqx-date-time-picker","value","change")
l.viewReady=hc.viewReady
const d=[t,i,n,r,o,a,s,l,e("jqx-toggle-button","checked","change"),e("jqx-switch-button","checked","change"),e("jqx-power-button","checked","change"),e("jqx-led","checked","change"),e("jqx-check-box","checked","change"),e("jqx-radio-button"),e("jqx-list-box","selectedIndexes","change"),e("jqx-drop-down-list","selectedIndexes","change"),e("jqx-combo-box","value","change"),e("jqx-password-text-box","value","change"),e("ni-cartesian-axis"),e("ni-color-scale"),e("ni-cartesian-plot"),e("ni-cartesian-plot-renderer"),e("ni-cursor"),e("ni-cartesian-graph"),e("ni-chart"),e("ni-intensity-graph"),e("ni-graph-tools"),e("ni-plot-legend"),e("ni-scale-legend"),e("ni-cursor-legend"),e("ni-flexible-layout-component"),e("ni-flexible-layout-container"),e("ni-flexible-layout-group"),e("ni-flexible-layout-wrapper"),e("ni-front-panel"),e("ni-hyperlink","href","href-changed"),e("ni-tree"),e("ni-tree-grid")]
let c
function h(e,t){!function(e,t){e.clearInstanceSpecificProperties=kf.generateClearInstanceSpecificProperties(),Object.defineProperty(e,"elementInfo",{configurable:!1,enumerable:!0,value:t,writable:!0}),void 0!==t.propertyName&&Ri.setValuePropertyDescriptor(e,t.attributeName,t.propertyName,t.propertyName,t.eventName)}(e,t),e.addModule(kf)}function u(e){window.JQX.Elements.whenRegistered(e.tagName,function(t){h(t,e)})}for(c in NationalInstruments.JQXElement.isJQXElementSubPart=function(e){return"null"===e.niControlId||null===e.niControlId},NationalInstruments.JQXElement.addHandlersForMouseWheel=function(e){e.addEventListener("focus",function(t){e.enableMouseWheelAction=!0},!0),e.addEventListener("blur",function(t){e.enableMouseWheelAction=!1},!0)},NationalInstruments.JQXElement._registerElements=function(){window.JQX.Elements.registerElements()},d)d.hasOwnProperty(c)&&u(d[c])}()
var Af=Object.freeze({})
class jf{static get moduleName(){return"JQXElementNITypeModule"}static get properties(){return{niType:{value:"Double",type:"string",observer:"niTypePropertyUpdated"}}}static getNITypeString(e){return e.isAggregateType()?e.toShortJSON():e.getName()}niTypePropertyUpdated(e,t){NationalInstruments.JQXElement.isJQXElementSubPart(this.ownerElement)||this.updateNIType(new window.NIType(t))}updateNIType(e){}ready(){NationalInstruments.JQXElement.isJQXElementSubPart(this.ownerElement)||this.updateNIType(new window.NIType(this.ownerElement.niType))}}class Mf extends jf{static get moduleName(){return"JQXNumericNITypeModule"}constructor(e){super(),this.typePropertyName=e}updateNIType(e){this.ownerElement[this.typePropertyName]=vs.convertNITypeToJQX(e),e.isInteger()&&(this.ownerElement.wordLength=e.getName().toLowerCase())}}class Nf extends Mf{static get moduleName(){return"JQXNumericPointerNITypeModule"}constructor(){super("scaleType")}niTypePropertyUpdated(e,t){super.niTypePropertyUpdated(e,t)}}class qf extends Mf{static get moduleName(){return"JQXNumericTextBoxNITypeModule"}constructor(){super("inputFormat")}niTypePropertyUpdated(e,t){super.niTypePropertyUpdated(e,t)}}window.JQX.Elements.whenRegistered("jqx-numeric-text-box",function(e){e.addModule(qf)}),window.JQX.Elements.whenRegistered("jqx-slider",function(e){e.addModule(Nf)}),window.JQX.Elements.whenRegistered("jqx-tank",function(e){e.addModule(Nf)}),window.JQX.Elements.whenRegistered("jqx-gauge",function(e){e.addModule(Nf)})
var Of=Object.freeze({JQXElementNITypeModule:jf,JQXNumericNITypeModule:Mf,JQXNumericPointerNITypeModule:Nf,JQXNumericTextBoxNITypeModule:qf})
class Bf{static get moduleName(){return"jqxColorPanelModule"}ready(){this.ownerElement.messages.en.customColor=Ri.i18n("msg_COLOR_PICKER_MORE_COLORS"),this.ownerElement.messages.en.cancel=Ri.i18n("msg_COLOR_PICKER_MORE_COLORS_CANCEL")}}window.JQX.Elements.whenRegistered("jqx-color-panel",function(e){e.addModule(Bf)})
var Lf=Object.freeze({jqxColorPanelModule:Bf})
const Rf=["rgba(255, 255, 255, 0)","rgba(255, 255, 255, 1)","rgba(224, 224, 224, 1)","rgba(193, 193, 193, 1)","rgba(165, 165, 165, 1)","rgba(131, 131, 131, 1)","rgba(100, 100, 100, 1)","rgba(77, 83, 89, 1)","rgba(38, 38, 38, 1)","rgba(0, 0, 0, 1)","rgba(252, 168, 143, 1)","rgba(245, 206, 164, 1)","rgba(255, 248, 154, 1)","rgba(202, 234, 156, 1)","rgba(131, 202, 157, 1)","rgba(140, 223, 255, 1)","rgba(147, 183, 227, 1)","rgba(163, 157, 224, 1)","rgba(181, 153, 217, 1)","rgba(244, 155, 193, 1)","rgba(243, 107, 78, 1)","rgba(251, 175, 92, 1)","rgba(255, 245, 103, 1)","rgba(171, 212, 113, 1)","rgba(58, 184, 120, 1)","rgba(0, 191, 243, 1)","rgba(76, 155, 224, 1)","rgba(112, 109, 192, 1)","rgba(134, 94, 168, 1)","rgba(241, 108, 169, 1)","rgba(238, 28, 37, 1)","rgba(248, 148, 28, 1)","rgba(255, 242, 0, 1)","rgba(141, 199, 61, 1)","rgba(0, 166, 79, 1)","rgba(0, 164, 229, 1)","rgba(0, 112, 188, 1)","rgba(61, 62, 178, 1)","rgba(102, 43, 145, 1)","rgba(237, 12, 140, 1)","rgba(158, 9, 17, 1)","rgba(163, 90, 19, 1)","rgba(175, 162, 10, 1)","rgba(88, 133, 39, 1)","rgba(0, 113, 51, 1)","rgba(0, 118, 163, 1)","rgba(0, 74, 128, 1)","rgba(25, 19, 99, 1)","rgba(68, 15, 98, 1)","rgba(158, 0, 93, 1)"]
class Hf{static get moduleName(){return"jqxColorPickerModule"}ready(){this.ownerElement.paletteColors=Rf,this.ownerElement.columnCount=10}}window.JQX.Elements.whenRegistered("jqx-color-picker",function(e){e.addModule(Hf)})
var Vf=Object.freeze({paletteColors:Rf,jqxColorPickerModule:Hf})
class Ff{static get moduleName(){return"jqxDropDownListModule"}ready(){this.ownerElement.dropDownMinWidth="initial",this.ownerElement.dropDownWidth="auto"}}window.JQX.Elements.whenRegistered("jqx-drop-down-list",function(e){e.addModule(Ff)})
var zf=Object.freeze({})
const $f=function(e){return!NationalInstruments.JQXElement.isJQXElementSubPart(e)&&("JQX-CHECK-BOX"===e.tagName||"JQX-TOGGLE-BUTTON"===e.tagName)}
class Uf{static get moduleName(){return"jqxBooleanButtonModule"}static get properties(){return{textContent:{value:"",type:"string",observer:"niBooleanButtonTextContentUpdated"},glyphContent:{value:"",type:"string",observer:"niBooleanButtonGlyphContentUpdated"},contentVisible:{value:!1,type:"boolean",observer:"niBooleanButtonContentVisibleUpdated"}}}niBooleanButtonTextContentUpdated(e,t){if($f(this.ownerElement)){this.ownerElement.querySelector(".ni-text").textContent=t}}niBooleanButtonGlyphContentUpdated(e,t){if($f(this.ownerElement)){const e=this.ownerElement.querySelector(".ni-glyph")
null!==e&&(e.textContent=t)}}niBooleanButtonContentVisibleUpdated(e,t){if($f(this.ownerElement)){if("JQX-CHECK-BOX"!==this.ownerElement.tagName){const e=this.ownerElement.querySelector(".ni-glyph")
t?e.classList.remove("ni-hidden"):e.classList.add("ni-hidden")}const e=this.ownerElement.querySelector(".ni-text")
t?e.classList.remove("ni-hidden"):e.classList.add("ni-hidden")}}getChildTextContentNode(){return"JQX-CHECK-BOX"===this.ownerElement.tagName?this.ownerElement.querySelector(".jqx-label"):this.ownerElement.querySelector("button")}ready(){if($f(this.ownerElement)){if("JQX-TOGGLE-BUTTON"!==this.ownerElement.tagName&&"JQX-CHECK-BOX"!==this.ownerElement.tagName)return
const e=this.ownerElement,t=this.getChildTextContentNode()
if("JQX-TOGGLE-BUTTON"===this.ownerElement.tagName){const i=document.createElement("div")
i.appendChild(document.createTextNode(e.glyphContent)),i.classList.add("ni-glyph"),this.contentVisible||i.classList.add("ni-hidden"),t.appendChild(i)}const i=document.createElement("span")
i.appendChild(document.createTextNode(e.textContent)),i.classList.add("ni-text"),this.contentVisible||i.classList.add("ni-hidden"),t.appendChild(i)}}}window.JQX.Elements.whenRegistered("jqx-toggle-button",function(e){e.addModule(Uf)})
var Gf=Object.freeze({jqxBooleanButtonModule:Uf})
class Wf{static get moduleName(){return"jqxNumericTextBoxModule"}ready(){this.ownerElement.messages.en.binary=Ri.i18n("msg_NUMERIC_RADIX_BINARY"),this.ownerElement.messages.en.octal=Ri.i18n("msg_NUMERIC_RADIX_OCTAL"),this.ownerElement.messages.en.decimal=Ri.i18n("msg_NUMERIC_RADIX_DECIMAL"),this.ownerElement.messages.en.hexadecimal=Ri.i18n("msg_NUMERIC_RADIX_HEXADECIMAL"),NationalInstruments.JQXElement.isJQXElementSubPart(this.ownerElement)||Gr.enableNativePopups(this.ownerElement,this.ownerElement,Gr.fontCssProperties,void 0,e=>e.$.dropDown)}detached(){Lr.unregisterElement(this.ownerElement)}}window.JQX.Elements.whenRegistered("jqx-numeric-text-box",function(e){e.addModule(Wf)})
var Xf=Object.freeze({jqxNumericTextBoxModule:Wf})
!function(){const e=Ri.InternationalizationInitializer.TaskTrackerEnum
Ri.InternationalizationInitializer.TaskTracker.complete(e.ELEMENT_PROTOTYPES_READY)}()
var Jf=Object.freeze({})
Object.keys(window.NationalInstruments.savedModuleLoaders).forEach(e=>{try{window[e]=window.NationalInstruments.savedModuleLoaders[e]}catch(e){window.console&&window.console.error&&window.console.error(e)}window.NationalInstruments.savedModuleLoaders[e]=void 0})
var Yf=Object.freeze({})
//# sourceMappingURL=DeployedRun.min.js.map
